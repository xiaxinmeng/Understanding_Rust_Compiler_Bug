{"sha": "13884dc2af3d993629eec4a5489dc99bd0a00a71", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEzODg0ZGMyYWYzZDk5MzYyOWVlYzRhNTQ4OWRjOTliZDBhMDBhNzE=", "commit": {"author": {"name": "Camelid", "email": "camelidcamel@gmail.com", "date": "2021-03-14T00:36:38Z"}, "committer": {"name": "Camelid", "email": "camelidcamel@gmail.com", "date": "2021-03-14T00:36:38Z"}, "message": "Update `rustdoc-ui` versions of the `doc-attr` test\n\nIt seems there are two copies of it: one in `src/test/ui/attributes/`\nand one in `src/test/rustdoc-ui/`. I'm guessing this is to test that the\nlint is emitted both when you run the compiler and when you run rustdoc.", "tree": {"sha": "bdbe695a10637f27ea8ddde7a7c7e290de6a3de8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bdbe695a10637f27ea8ddde7a7c7e290de6a3de8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/13884dc2af3d993629eec4a5489dc99bd0a00a71", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/13884dc2af3d993629eec4a5489dc99bd0a00a71", "html_url": "https://github.com/rust-lang/rust/commit/13884dc2af3d993629eec4a5489dc99bd0a00a71", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/13884dc2af3d993629eec4a5489dc99bd0a00a71/comments", "author": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "committer": {"login": "camelid", "id": 37223377, "node_id": "MDQ6VXNlcjM3MjIzMzc3", "avatar_url": "https://avatars.githubusercontent.com/u/37223377?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camelid", "html_url": "https://github.com/camelid", "followers_url": "https://api.github.com/users/camelid/followers", "following_url": "https://api.github.com/users/camelid/following{/other_user}", "gists_url": "https://api.github.com/users/camelid/gists{/gist_id}", "starred_url": "https://api.github.com/users/camelid/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camelid/subscriptions", "organizations_url": "https://api.github.com/users/camelid/orgs", "repos_url": "https://api.github.com/users/camelid/repos", "events_url": "https://api.github.com/users/camelid/events{/privacy}", "received_events_url": "https://api.github.com/users/camelid/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5134047c4073de04749ddee31623318dbcaaffc1", "url": "https://api.github.com/repos/rust-lang/rust/commits/5134047c4073de04749ddee31623318dbcaaffc1", "html_url": "https://github.com/rust-lang/rust/commit/5134047c4073de04749ddee31623318dbcaaffc1"}], "stats": {"total": 62, "additions": 61, "deletions": 1}, "files": [{"sha": "daf73dd023cb76940ad2a2adb8b93e1e07aa287f", "filename": "src/test/rustdoc-ui/doc-attr.rs", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/13884dc2af3d993629eec4a5489dc99bd0a00a71/src%2Ftest%2Frustdoc-ui%2Fdoc-attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/13884dc2af3d993629eec4a5489dc99bd0a00a71/src%2Ftest%2Frustdoc-ui%2Fdoc-attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fdoc-attr.rs?ref=13884dc2af3d993629eec4a5489dc99bd0a00a71", "patch": "@@ -8,3 +8,18 @@\n //~^ ERROR unknown `doc` attribute\n //~^^ WARN\n pub fn foo() {}\n+\n+#[doc(123)]\n+//~^ ERROR unknown `doc` attribute\n+//~| WARN\n+#[doc(\"hello\", \"bar\")]\n+//~^ ERROR unknown `doc` attribute\n+//~| WARN\n+//~| ERROR unknown `doc` attribute\n+//~| WARN\n+#[doc(foo::bar, crate::bar::baz = \"bye\")]\n+//~^ ERROR unknown `doc` attribute\n+//~| WARN\n+//~| ERROR unknown `doc` attribute\n+//~| WARN\n+fn bar() {}"}, {"sha": "a2831770943fda50d837a277807c5c9cff9d1fb4", "filename": "src/test/rustdoc-ui/doc-attr.stderr", "status": "modified", "additions": 46, "deletions": 1, "changes": 47, "blob_url": "https://github.com/rust-lang/rust/blob/13884dc2af3d993629eec4a5489dc99bd0a00a71/src%2Ftest%2Frustdoc-ui%2Fdoc-attr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/13884dc2af3d993629eec4a5489dc99bd0a00a71/src%2Ftest%2Frustdoc-ui%2Fdoc-attr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fdoc-attr.stderr?ref=13884dc2af3d993629eec4a5489dc99bd0a00a71", "patch": "@@ -13,6 +13,51 @@ LL | #![deny(warnings)]\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n    = note: for more information, see issue #82730 <https://github.com/rust-lang/rust/issues/82730>\n \n+error: unknown `doc` attribute\n+  --> $DIR/doc-attr.rs:12:7\n+   |\n+LL | #[doc(123)]\n+   |       ^^^\n+   |\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #82730 <https://github.com/rust-lang/rust/issues/82730>\n+\n+error: unknown `doc` attribute\n+  --> $DIR/doc-attr.rs:15:7\n+   |\n+LL | #[doc(\"hello\", \"bar\")]\n+   |       ^^^^^^^\n+   |\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #82730 <https://github.com/rust-lang/rust/issues/82730>\n+\n+error: unknown `doc` attribute\n+  --> $DIR/doc-attr.rs:15:16\n+   |\n+LL | #[doc(\"hello\", \"bar\")]\n+   |                ^^^^^\n+   |\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #82730 <https://github.com/rust-lang/rust/issues/82730>\n+\n+error: unknown `doc` attribute ``\n+  --> $DIR/doc-attr.rs:20:7\n+   |\n+LL | #[doc(foo::bar, crate::bar::baz = \"bye\")]\n+   |       ^^^^^^^^\n+   |\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #82730 <https://github.com/rust-lang/rust/issues/82730>\n+\n+error: unknown `doc` attribute ``\n+  --> $DIR/doc-attr.rs:20:17\n+   |\n+LL | #[doc(foo::bar, crate::bar::baz = \"bye\")]\n+   |                 ^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n+   = note: for more information, see issue #82730 <https://github.com/rust-lang/rust/issues/82730>\n+\n error: unknown `doc` attribute `as_ptr`\n   --> $DIR/doc-attr.rs:3:8\n    |\n@@ -22,5 +67,5 @@ LL | #![doc(as_ptr)]\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n    = note: for more information, see issue #82730 <https://github.com/rust-lang/rust/issues/82730>\n \n-error: aborting due to 2 previous errors\n+error: aborting due to 7 previous errors\n "}]}