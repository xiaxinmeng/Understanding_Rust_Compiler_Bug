{"sha": "9d5bc7c929c82e34300850537aa2840097f78d47", "node_id": "C_kwDOAAsO6NoAKDlkNWJjN2M5MjljODJlMzQzMDA4NTA1MzdhYTI4NDAwOTdmNzhkNDc", "commit": {"author": {"name": "Antoni Boucher", "email": "bouanto@zoho.com", "date": "2023-03-04T20:25:34Z"}, "committer": {"name": "Antoni Boucher", "email": "bouanto@zoho.com", "date": "2023-03-04T20:25:34Z"}, "message": "Fix tests", "tree": {"sha": "65a35ebbf5cdcb7bf8303751200ae93e7a6d4613", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/65a35ebbf5cdcb7bf8303751200ae93e7a6d4613"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9d5bc7c929c82e34300850537aa2840097f78d47", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9d5bc7c929c82e34300850537aa2840097f78d47", "html_url": "https://github.com/rust-lang/rust/commit/9d5bc7c929c82e34300850537aa2840097f78d47", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9d5bc7c929c82e34300850537aa2840097f78d47/comments", "author": {"login": "antoyo", "id": 584972, "node_id": "MDQ6VXNlcjU4NDk3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/584972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoyo", "html_url": "https://github.com/antoyo", "followers_url": "https://api.github.com/users/antoyo/followers", "following_url": "https://api.github.com/users/antoyo/following{/other_user}", "gists_url": "https://api.github.com/users/antoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoyo/subscriptions", "organizations_url": "https://api.github.com/users/antoyo/orgs", "repos_url": "https://api.github.com/users/antoyo/repos", "events_url": "https://api.github.com/users/antoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/antoyo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "antoyo", "id": 584972, "node_id": "MDQ6VXNlcjU4NDk3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/584972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoyo", "html_url": "https://github.com/antoyo", "followers_url": "https://api.github.com/users/antoyo/followers", "following_url": "https://api.github.com/users/antoyo/following{/other_user}", "gists_url": "https://api.github.com/users/antoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoyo/subscriptions", "organizations_url": "https://api.github.com/users/antoyo/orgs", "repos_url": "https://api.github.com/users/antoyo/repos", "events_url": "https://api.github.com/users/antoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/antoyo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5c35dc067dd09327f129906a41fb524b6e8acead", "url": "https://api.github.com/repos/rust-lang/rust/commits/5c35dc067dd09327f129906a41fb524b6e8acead", "html_url": "https://github.com/rust-lang/rust/commit/5c35dc067dd09327f129906a41fb524b6e8acead"}], "stats": {"total": 216, "additions": 114, "deletions": 102}, "files": [{"sha": "b82e6e157e58995a0471caf83a79e014a1ee2395", "filename": "failing-ui-tests.txt", "status": "modified", "additions": 72, "deletions": 60, "changes": 132, "blob_url": "https://github.com/rust-lang/rust/blob/9d5bc7c929c82e34300850537aa2840097f78d47/failing-ui-tests.txt", "raw_url": "https://github.com/rust-lang/rust/raw/9d5bc7c929c82e34300850537aa2840097f78d47/failing-ui-tests.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/failing-ui-tests.txt?ref=9d5bc7c929c82e34300850537aa2840097f78d47", "patch": "@@ -1,60 +1,72 @@\n-src/test/ui/alloc-error/default-alloc-error-hook.rs\n-src/test/ui/allocator/custom-in-block.rs\n-src/test/ui/allocator/custom-in-submodule.rs\n-src/test/ui/allocator/custom.rs\n-src/test/ui/allocator/hygiene.rs\n-src/test/ui/allocator/no_std-alloc-error-handler-custom.rs\n-src/test/ui/allocator/no_std-alloc-error-handler-default.rs\n-src/test/ui/allocator/xcrate-use.rs\n-src/test/ui/allocator/xcrate-use2.rs\n-src/test/ui/asm/may_unwind.rs\n-src/test/ui/asm/x86_64/multiple-clobber-abi.rs\n-src/test/ui/debuginfo/debuginfo-emit-llvm-ir-and-split-debuginfo.rs\n-src/test/ui/functions-closures/parallel-codegen-closures.rs\n-src/test/ui/linkage-attr/linkage1.rs\n-src/test/ui/lto/dylib-works.rs\n-src/test/ui/numbers-arithmetic/saturating-float-casts.rs\n-src/test/ui/polymorphization/promoted-function.rs\n-src/test/ui/process/nofile-limit.rs\n-src/test/ui/sepcomp/sepcomp-cci.rs\n-src/test/ui/sepcomp/sepcomp-extern.rs\n-src/test/ui/sepcomp/sepcomp-fns-backwards.rs\n-src/test/ui/sepcomp/sepcomp-fns.rs\n-src/test/ui/sepcomp/sepcomp-statics.rs\n-src/test/ui/simd/intrinsic/generic-arithmetic-pass.rs\n-src/test/ui/sse2.rs\n-src/test/ui/target-feature/missing-plusminus.rs\n-src/test/ui/asm/x86_64/may_unwind.rs\n-src/test/ui/backtrace.rs\n-src/test/ui/catch-unwind-bang.rs\n-src/test/ui/cfg/cfg-panic-abort.rs\n-src/test/ui/drop/dynamic-drop-async.rs\n-src/test/ui/drop/repeat-drop.rs\n-src/test/ui/fmt/format-args-capture.rs\n-src/test/ui/generator/panic-drops-resume.rs\n-src/test/ui/generator/panic-drops.rs\n-src/test/ui/generator/panic-safe.rs\n-src/test/ui/intrinsics/panic-uninitialized-zeroed.rs\n-src/test/ui/iterators/iter-sum-overflow-debug.rs\n-src/test/ui/iterators/iter-sum-overflow-overflow-checks.rs\n-src/test/ui/mir/mir_calls_to_shims.rs\n-src/test/ui/mir/mir_drop_order.rs\n-src/test/ui/mir/mir_let_chains_drop_order.rs\n-src/test/ui/oom_unwind.rs\n-src/test/ui/panic-runtime/abort-link-to-unwinding-crates.rs\n-src/test/ui/panic-runtime/abort.rs\n-src/test/ui/panic-runtime/link-to-abort.rs\n-src/test/ui/unwind-no-uwtable.rs\n-src/test/ui/issues/issue-14875.rs\n-src/test/ui/issues/issue-29948.rs\n-src/test/ui/issues/issue-40883.rs\n-src/test/ui/issues/issue-43853.rs\n-src/test/ui/issues/issue-47364.rs\n-src/test/ui/simd/issue-17170.rs\n-src/test/ui/simd/issue-39720.rs\n-src/test/ui/simd/issue-89193.rs\n-src/test/ui/statics/issue-91050-1.rs\n-src/test/ui/statics/issue-91050-2.rs\n-src/test/ui/macros/rfc-2011-nicer-assert-messages/assert-without-captures-does-not-create-unnecessary-code.rs\n-src/test/ui/rfc-2091-track-caller/std-panic-locations.rs\n-src/test/ui/rfcs/rfc1857-drop-order.rs\n+tests/ui/alloc-error/default-alloc-error-hook.rs\n+tests/ui/allocator/custom-in-block.rs\n+tests/ui/allocator/custom-in-submodule.rs\n+tests/ui/allocator/custom.rs\n+tests/ui/allocator/hygiene.rs\n+tests/ui/allocator/no_std-alloc-error-handler-custom.rs\n+tests/ui/allocator/no_std-alloc-error-handler-default.rs\n+tests/ui/allocator/xcrate-use.rs\n+tests/ui/allocator/xcrate-use2.rs\n+tests/ui/asm/may_unwind.rs\n+tests/ui/asm/x86_64/multiple-clobber-abi.rs\n+tests/ui/debuginfo/debuginfo-emit-llvm-ir-and-split-debuginfo.rs\n+tests/ui/functions-closures/parallel-codegen-closures.rs\n+tests/ui/linkage-attr/linkage1.rs\n+tests/ui/lto/dylib-works.rs\n+tests/ui/numbers-arithmetic/saturating-float-casts.rs\n+tests/ui/polymorphization/promoted-function.rs\n+tests/ui/process/nofile-limit.rs\n+tests/ui/sepcomp/sepcomp-cci.rs\n+tests/ui/sepcomp/sepcomp-extern.rs\n+tests/ui/sepcomp/sepcomp-fns-backwards.rs\n+tests/ui/sepcomp/sepcomp-fns.rs\n+tests/ui/sepcomp/sepcomp-statics.rs\n+tests/ui/simd/intrinsic/generic-arithmetic-pass.rs\n+tests/ui/sse2.rs\n+tests/ui/target-feature/missing-plusminus.rs\n+tests/ui/asm/x86_64/may_unwind.rs\n+tests/ui/backtrace.rs\n+tests/ui/catch-unwind-bang.rs\n+tests/ui/cfg/cfg-panic-abort.rs\n+tests/ui/drop/dynamic-drop-async.rs\n+tests/ui/drop/repeat-drop.rs\n+tests/ui/fmt/format-args-capture.rs\n+tests/ui/generator/panic-drops-resume.rs\n+tests/ui/generator/panic-drops.rs\n+tests/ui/generator/panic-safe.rs\n+tests/ui/intrinsics/panic-uninitialized-zeroed.rs\n+tests/ui/iterators/iter-sum-overflow-debug.rs\n+tests/ui/iterators/iter-sum-overflow-overflow-checks.rs\n+tests/ui/mir/mir_calls_to_shims.rs\n+tests/ui/mir/mir_drop_order.rs\n+tests/ui/mir/mir_let_chains_drop_order.rs\n+tests/ui/oom_unwind.rs\n+tests/ui/panic-runtime/abort-link-to-unwinding-crates.rs\n+tests/ui/panic-runtime/abort.rs\n+tests/ui/panic-runtime/link-to-abort.rs\n+tests/ui/unwind-no-uwtable.rs\n+tests/ui/issues/issue-14875.rs\n+tests/ui/issues/issue-29948.rs\n+tests/ui/issues/issue-40883.rs\n+tests/ui/issues/issue-43853.rs\n+tests/ui/issues/issue-47364.rs\n+tests/ui/simd/issue-17170.rs\n+tests/ui/simd/issue-39720.rs\n+tests/ui/simd/issue-89193.rs\n+tests/ui/statics/issue-91050-1.rs\n+tests/ui/statics/issue-91050-2.rs\n+tests/ui/macros/rfc-2011-nicer-assert-messages/assert-without-captures-does-not-create-unnecessary-code.rs\n+tests/ui/rfc-2091-track-caller/std-panic-locations.rs\n+tests/ui/rfcs/rfc1857-drop-order.rs\n+tests/ui/parser/unclosed-delimiter-in-dep.rs\n+tests/ui/runtime/rt-explody-panic-payloads.rs\n+tests/ui/simd/intrinsic/ptr-cast.rs\n+tests/ui/binding/fn-arg-incomplete-pattern-drop-order.rs\n+tests/ui/codegen/issue-55976.rs\n+tests/ui/consts/missing_span_in_backtrace.rs\n+tests/ui/drop/dynamic-drop.rs\n+tests/ui/dyn-star/box.rs\n+tests/ui/dyn-star/const.rs\n+tests/ui/dyn-star/drop.rs\n+tests/ui/dyn-star/make-dyn-star.rs\n+tests/ui/dyn-star/method.rs"}, {"sha": "bda0f633bc72ab6d13f061159024837e75f7dcd2", "filename": "failing-ui-tests12.txt", "status": "modified", "additions": 41, "deletions": 41, "changes": 82, "blob_url": "https://github.com/rust-lang/rust/blob/9d5bc7c929c82e34300850537aa2840097f78d47/failing-ui-tests12.txt", "raw_url": "https://github.com/rust-lang/rust/raw/9d5bc7c929c82e34300850537aa2840097f78d47/failing-ui-tests12.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/failing-ui-tests12.txt?ref=9d5bc7c929c82e34300850537aa2840097f78d47", "patch": "@@ -1,41 +1,41 @@\n-src/test/ui/asm/x86_64/issue-96797.rs\n-src/test/ui/intrinsics/const-eval-select-x86_64.rs\n-src/test/ui/packed/packed-struct-drop-aligned.rs\n-src/test/ui/packed/packed-struct-generic-layout.rs\n-src/test/ui/packed/packed-struct-layout.rs\n-src/test/ui/packed/packed-struct-optimized-enum.rs\n-src/test/ui/packed/packed-struct-size.rs\n-src/test/ui/packed/packed-struct-vec.rs\n-src/test/ui/packed/packed-tuple-struct-layout.rs\n-src/test/ui/simd/array-type.rs\n-src/test/ui/simd/intrinsic/float-minmax-pass.rs\n-src/test/ui/simd/intrinsic/generic-arithmetic-saturating-pass.rs\n-src/test/ui/simd/intrinsic/generic-as.rs\n-src/test/ui/simd/intrinsic/generic-cast-pass.rs\n-src/test/ui/simd/intrinsic/generic-cast-pointer-width.rs\n-src/test/ui/simd/intrinsic/generic-comparison-pass.rs\n-src/test/ui/simd/intrinsic/generic-elements-pass.rs\n-src/test/ui/simd/intrinsic/generic-reduction-pass.rs\n-src/test/ui/simd/intrinsic/generic-select-pass.rs\n-src/test/ui/simd/intrinsic/inlining-issue67557-ice.rs\n-src/test/ui/simd/intrinsic/inlining-issue67557.rs\n-src/test/ui/simd/monomorphize-shuffle-index.rs\n-src/test/ui/simd/shuffle.rs\n-src/test/ui/simd/simd-bitmask.rs\n-src/test/ui/binding/fn-arg-incomplete-pattern-drop-order.rs\n-src/test/ui/drop/dynamic-drop.rs\n-src/test/ui/generator/resume-after-return.rs\n-src/test/ui/iterators/iter-step-overflow-debug.rs\n-src/test/ui/macros/rfc-2011-nicer-assert-messages/all-expr-kinds.rs\n-src/test/ui/numbers-arithmetic/next-power-of-two-overflow-debug.rs\n-src/test/ui/panic-while-printing.rs\n-src/test/ui/privacy/reachable-unnameable-items.rs\n-src/test/ui/rfc-1937-termination-trait/termination-trait-in-test.rs\n-src/test/ui/async-await/async-fn-size-moved-locals.rs\n-src/test/ui/async-await/async-fn-size-uninit-locals.rs\n-src/test/ui/cfg/cfg-panic.rs\n-src/test/ui/generator/size-moved-locals.rs\n-src/test/ui/macros/rfc-2011-nicer-assert-messages/all-not-available-cases.rs\n-src/test/ui/runtime/rt-explody-panic-payloads.rs\n-src/test/ui/simd/intrinsic/generic-gather-pass.rs\n-src/test/ui/simd/issue-85915-simd-ptrs.rs\n+tests/ui/asm/x86_64/issue-96797.rs\n+tests/ui/intrinsics/const-eval-select-x86_64.rs\n+tests/ui/packed/packed-struct-drop-aligned.rs\n+tests/ui/packed/packed-struct-generic-layout.rs\n+tests/ui/packed/packed-struct-layout.rs\n+tests/ui/packed/packed-struct-optimized-enum.rs\n+tests/ui/packed/packed-struct-size.rs\n+tests/ui/packed/packed-struct-vec.rs\n+tests/ui/packed/packed-tuple-struct-layout.rs\n+tests/ui/simd/array-type.rs\n+tests/ui/simd/intrinsic/float-minmax-pass.rs\n+tests/ui/simd/intrinsic/generic-arithmetic-saturating-pass.rs\n+tests/ui/simd/intrinsic/generic-as.rs\n+tests/ui/simd/intrinsic/generic-cast-pass.rs\n+tests/ui/simd/intrinsic/generic-cast-pointer-width.rs\n+tests/ui/simd/intrinsic/generic-comparison-pass.rs\n+tests/ui/simd/intrinsic/generic-elements-pass.rs\n+tests/ui/simd/intrinsic/generic-reduction-pass.rs\n+tests/ui/simd/intrinsic/generic-select-pass.rs\n+tests/ui/simd/intrinsic/inlining-issue67557-ice.rs\n+tests/ui/simd/intrinsic/inlining-issue67557.rs\n+tests/ui/simd/monomorphize-shuffle-index.rs\n+tests/ui/simd/shuffle.rs\n+tests/ui/simd/simd-bitmask.rs\n+tests/ui/binding/fn-arg-incomplete-pattern-drop-order.rs\n+tests/ui/drop/dynamic-drop.rs\n+tests/ui/generator/resume-after-return.rs\n+tests/ui/iterators/iter-step-overflow-debug.rs\n+tests/ui/macros/rfc-2011-nicer-assert-messages/all-expr-kinds.rs\n+tests/ui/numbers-arithmetic/next-power-of-two-overflow-debug.rs\n+tests/ui/panic-while-printing.rs\n+tests/ui/privacy/reachable-unnameable-items.rs\n+tests/ui/rfc-1937-termination-trait/termination-trait-in-test.rs\n+tests/ui/async-await/async-fn-size-moved-locals.rs\n+tests/ui/async-await/async-fn-size-uninit-locals.rs\n+tests/ui/cfg/cfg-panic.rs\n+tests/ui/generator/size-moved-locals.rs\n+tests/ui/macros/rfc-2011-nicer-assert-messages/all-not-available-cases.rs\n+tests/ui/runtime/rt-explody-panic-payloads.rs\n+tests/ui/simd/intrinsic/generic-gather-pass.rs\n+tests/ui/simd/issue-85915-simd-ptrs.rs"}, {"sha": "0edec566be309987bac044515be59f69d4ab8c86", "filename": "src/intrinsic/llvm.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d5bc7c929c82e34300850537aa2840097f78d47/src%2Fintrinsic%2Fllvm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d5bc7c929c82e34300850537aa2840097f78d47/src%2Fintrinsic%2Fllvm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fintrinsic%2Fllvm.rs?ref=9d5bc7c929c82e34300850537aa2840097f78d47", "patch": "@@ -407,7 +407,7 @@ pub fn ignore_arg_cast(func_name: &str, index: usize, args_len: usize) -> bool {\n #[cfg(not(feature=\"master\"))]\n pub fn intrinsic<'gcc, 'tcx>(name: &str, cx: &CodegenCx<'gcc, 'tcx>) -> Function<'gcc> {\n     match name {\n-        \"llvm.x86.xgetbv\" => {\n+        \"llvm.x86.xgetbv\" | \"llvm.x86.sse2.pause\" => {\n             let gcc_name = \"__builtin_trap\";\n             let func = cx.context.get_builtin_function(gcc_name);\n             cx.functions.borrow_mut().insert(gcc_name.to_string(), func);"}]}