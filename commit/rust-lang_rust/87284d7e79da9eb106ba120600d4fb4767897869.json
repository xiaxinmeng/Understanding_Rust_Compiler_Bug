{"sha": "87284d7e79da9eb106ba120600d4fb4767897869", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg3Mjg0ZDdlNzlkYTllYjEwNmJhMTIwNjAwZDRmYjQ3Njc4OTc4Njk=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-03-01T16:23:30Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-03-01T16:23:30Z"}, "message": "Rollup merge of #69569 - matthiaskrgr:nonminimal_bool, r=mark-Simulacrum\n\nsimplify boolean expressions", "tree": {"sha": "e163144ce7521ab42230ab14675c6e5dac29ea76", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e163144ce7521ab42230ab14675c6e5dac29ea76"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/87284d7e79da9eb106ba120600d4fb4767897869", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeW+GDCRBK7hj4Ov3rIwAAdHIIAGH2+kjss1GwouZS30aD9ZSg\nrwFZ7UxcyouKNQwgdXImJnbp6l3N9dEj+Jzf97MaTIPbMqXiQTo2LkM4bp3x+NMC\n3lT56Q1c+xXhh0kTTtqE2lYiv/7QVoMCeSWzMM4G6g4IjLCs3TS/lhnumSa12j4/\n56/XyMi4USuqcopVhIGE35RCchTmXaBsYuOpMc2SY0Na06wsDM5r9gv3GAQVtrIu\nWVX1BojA6P1FGCF4KigWUhRb3MxfEoBTY2wzaoVpxur+79xcaIZaHTF3sJR8thZ/\nhkdW0rQcccdxhqz2sozzIhuo1p5XDxMAciEnH0NGAhjVFP0zU4mCGhrDGjp13Hg=\n=s5eY\n-----END PGP SIGNATURE-----\n", "payload": "tree e163144ce7521ab42230ab14675c6e5dac29ea76\nparent 55d0a8b201c0b266be48723c30e4794a0068e96e\nparent 56a3da3bd0e2f6b5963913e998c74266cf7cff7b\nauthor Dylan DPC <dylan.dpc@gmail.com> 1583079810 +0100\ncommitter GitHub <noreply@github.com> 1583079810 +0100\n\nRollup merge of #69569 - matthiaskrgr:nonminimal_bool, r=mark-Simulacrum\n\nsimplify boolean expressions\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/87284d7e79da9eb106ba120600d4fb4767897869", "html_url": "https://github.com/rust-lang/rust/commit/87284d7e79da9eb106ba120600d4fb4767897869", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/87284d7e79da9eb106ba120600d4fb4767897869/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "55d0a8b201c0b266be48723c30e4794a0068e96e", "url": "https://api.github.com/repos/rust-lang/rust/commits/55d0a8b201c0b266be48723c30e4794a0068e96e", "html_url": "https://github.com/rust-lang/rust/commit/55d0a8b201c0b266be48723c30e4794a0068e96e"}, {"sha": "56a3da3bd0e2f6b5963913e998c74266cf7cff7b", "url": "https://api.github.com/repos/rust-lang/rust/commits/56a3da3bd0e2f6b5963913e998c74266cf7cff7b", "html_url": "https://github.com/rust-lang/rust/commit/56a3da3bd0e2f6b5963913e998c74266cf7cff7b"}], "stats": {"total": 26, "additions": 13, "deletions": 13}, "files": [{"sha": "9908a3049763a1eca04e6b8fbf3b3cf191e6b0e2", "filename": "src/liballoc/collections/binary_heap.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/87284d7e79da9eb106ba120600d4fb4767897869/src%2Fliballoc%2Fcollections%2Fbinary_heap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87284d7e79da9eb106ba120600d4fb4767897869/src%2Fliballoc%2Fcollections%2Fbinary_heap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fcollections%2Fbinary_heap.rs?ref=87284d7e79da9eb106ba120600d4fb4767897869", "patch": "@@ -536,7 +536,7 @@ impl<T: Ord> BinaryHeap<T> {\n             while child < end {\n                 let right = child + 1;\n                 // compare with the greater of the two children\n-                if right < end && !(hole.get(child) > hole.get(right)) {\n+                if right < end && hole.get(child) <= hole.get(right) {\n                     child = right;\n                 }\n                 // if we are already in order, stop.\n@@ -568,7 +568,7 @@ impl<T: Ord> BinaryHeap<T> {\n             while child < end {\n                 let right = child + 1;\n                 // compare with the greater of the two children\n-                if right < end && !(hole.get(child) > hole.get(right)) {\n+                if right < end && hole.get(child) <= hole.get(right) {\n                     child = right;\n                 }\n                 hole.move_to(child);"}, {"sha": "3916653eb1d767cd217036b359e3bca647f91632", "filename": "src/librustc_codegen_llvm/debuginfo/metadata.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_codegen_llvm%2Fdebuginfo%2Fmetadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_codegen_llvm%2Fdebuginfo%2Fmetadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fdebuginfo%2Fmetadata.rs?ref=87284d7e79da9eb106ba120600d4fb4767897869", "patch": "@@ -2135,7 +2135,7 @@ fn set_members_of_composite_type(\n /// Computes the type parameters for a type, if any, for the given metadata.\n fn compute_type_parameters(cx: &CodegenCx<'ll, 'tcx>, ty: Ty<'tcx>) -> Option<&'ll DIArray> {\n     if let ty::Adt(def, substs) = ty.kind {\n-        if !substs.types().next().is_none() {\n+        if substs.types().next().is_some() {\n             let generics = cx.tcx.generics_of(def.did);\n             let names = get_parameter_names(cx, generics);\n             let template_params: Vec<_> = substs"}, {"sha": "2dc1405f4e438358c000b67973b98e8ff243c39b", "filename": "src/librustc_codegen_ssa/mir/debuginfo.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_codegen_ssa%2Fmir%2Fdebuginfo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_codegen_ssa%2Fmir%2Fdebuginfo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_ssa%2Fmir%2Fdebuginfo.rs?ref=87284d7e79da9eb106ba120600d4fb4767897869", "patch": "@@ -48,7 +48,7 @@ pub struct DebugScope<D> {\n \n impl<D> DebugScope<D> {\n     pub fn is_valid(&self) -> bool {\n-        !self.scope_metadata.is_none()\n+        self.scope_metadata.is_some()\n     }\n }\n \n@@ -304,7 +304,7 @@ impl<'a, 'tcx, Bx: BuilderMethods<'a, 'tcx>> FunctionCx<'a, 'tcx, Bx> {\n     ) -> Option<IndexVec<mir::Local, Vec<PerLocalVarDebugInfo<'tcx, Bx::DIVariable>>>> {\n         let full_debug_info = self.cx.sess().opts.debuginfo == DebugInfo::Full;\n \n-        if !(full_debug_info || !self.cx.sess().fewer_names()) {\n+        if !full_debug_info && self.cx.sess().fewer_names() {\n             return None;\n         }\n "}, {"sha": "f7141c56199d79e0401c179334fd4bb4c125256e", "filename": "src/librustc_infer/infer/freshen.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_infer%2Finfer%2Ffreshen.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_infer%2Finfer%2Ffreshen.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_infer%2Finfer%2Ffreshen.rs?ref=87284d7e79da9eb106ba120600d4fb4767897869", "patch": "@@ -143,9 +143,9 @@ impl<'a, 'tcx> TypeFolder<'tcx> for TypeFreshener<'a, 'tcx> {\n     }\n \n     fn fold_ty(&mut self, t: Ty<'tcx>) -> Ty<'tcx> {\n-        if !t.needs_infer()\n-            && !t.has_erasable_regions()\n-            && !(t.has_closure_types() && self.infcx.in_progress_tables.is_some())\n+        if !(t.needs_infer()\n+            || t.has_erasable_regions()\n+            || (t.has_closure_types() && self.infcx.in_progress_tables.is_some()))\n         {\n             return t;\n         }"}, {"sha": "36572826ae4a326107c48404d5d804df44d42655", "filename": "src/librustc_infer/infer/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_infer%2Finfer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_infer%2Finfer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_infer%2Finfer%2Fmod.rs?ref=87284d7e79da9eb106ba120600d4fb4767897869", "patch": "@@ -1484,7 +1484,7 @@ impl<'a, 'tcx> InferCtxt<'a, 'tcx> {\n \n         // Even if the type may have no inference variables, during\n         // type-checking closure types are in local tables only.\n-        if !self.in_progress_tables.is_some() || !ty.has_closure_types() {\n+        if self.in_progress_tables.is_none() || !ty.has_closure_types() {\n             if !(param_env, ty).has_local_value() {\n                 return ty.is_copy_modulo_regions(self.tcx, param_env, span);\n             }"}, {"sha": "f075385ae18b9ac18baf1e8f9cccd58dd3446537", "filename": "src/librustc_passes/stability.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_passes%2Fstability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_passes%2Fstability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_passes%2Fstability.rs?ref=87284d7e79da9eb106ba120600d4fb4767897869", "patch": "@@ -551,7 +551,7 @@ impl Visitor<'tcx> for Checker<'tcx> {\n                     .emit();\n                 } else {\n                     let param_env = self.tcx.param_env(def_id);\n-                    if !can_type_implement_copy(self.tcx, param_env, ty).is_ok() {\n+                    if can_type_implement_copy(self.tcx, param_env, ty).is_err() {\n                         feature_err(\n                             &self.tcx.sess.parse_sess,\n                             sym::untagged_unions,"}, {"sha": "2f84e9813663f82cae5f714e2aa9c10afa4596f5", "filename": "src/librustc_resolve/imports.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_resolve%2Fimports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibrustc_resolve%2Fimports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fimports.rs?ref=87284d7e79da9eb106ba120600d4fb4767897869", "patch": "@@ -313,9 +313,9 @@ impl<'a> Resolver<'a> {\n                             }\n                         }\n \n-                        if !self.is_accessible_from(binding.vis, parent_scope.module) &&\n+                        if !(self.is_accessible_from(binding.vis, parent_scope.module) ||\n                        // Remove this together with `PUB_USE_OF_PRIVATE_EXTERN_CRATE`\n-                       !(self.last_import_segment && binding.is_extern_crate())\n+                       (self.last_import_segment && binding.is_extern_crate()))\n                         {\n                             self.privacy_errors.push(PrivacyError {\n                                 ident,"}, {"sha": "3f38ee5471081afeac9354c8c89dff56abd45876", "filename": "src/libstd/net/parser.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibstd%2Fnet%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87284d7e79da9eb106ba120600d4fb4767897869/src%2Flibstd%2Fnet%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnet%2Fparser.rs?ref=87284d7e79da9eb106ba120600d4fb4767897869", "patch": "@@ -206,7 +206,7 @@ impl<'a> Parser<'a> {\n         }\n \n         // read `::` if previous code parsed less than 8 groups\n-        if !self.read_given_char(':').is_some() || !self.read_given_char(':').is_some() {\n+        if self.read_given_char(':').is_none() || self.read_given_char(':').is_none() {\n             return None;\n         }\n "}]}