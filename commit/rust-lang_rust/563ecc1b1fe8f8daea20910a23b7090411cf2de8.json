{"sha": "563ecc1b1fe8f8daea20910a23b7090411cf2de8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU2M2VjYzFiMWZlOGY4ZGFlYTIwOTEwYTIzYjcwOTA0MTFjZjJkZTg=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2017-01-06T01:40:26Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2017-01-08T07:26:28Z"}, "message": "add test case", "tree": {"sha": "2d175a265860ab33a3d1c497d379661d3196056a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2d175a265860ab33a3d1c497d379661d3196056a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/563ecc1b1fe8f8daea20910a23b7090411cf2de8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/563ecc1b1fe8f8daea20910a23b7090411cf2de8", "html_url": "https://github.com/rust-lang/rust/commit/563ecc1b1fe8f8daea20910a23b7090411cf2de8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/563ecc1b1fe8f8daea20910a23b7090411cf2de8/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f2dd75cb865524ca558630a2e785ca55d6d287ef", "url": "https://api.github.com/repos/rust-lang/rust/commits/f2dd75cb865524ca558630a2e785ca55d6d287ef", "html_url": "https://github.com/rust-lang/rust/commit/f2dd75cb865524ca558630a2e785ca55d6d287ef"}], "stats": {"total": 39, "additions": 31, "deletions": 8}, "files": [{"sha": "36191ebc54037da1334e75ba21989c549e811842", "filename": "src/test/ui/mismatched_types/issue-38371.rs", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/563ecc1b1fe8f8daea20910a23b7090411cf2de8/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-38371.rs", "raw_url": "https://github.com/rust-lang/rust/raw/563ecc1b1fe8f8daea20910a23b7090411cf2de8/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-38371.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-38371.rs?ref=563ecc1b1fe8f8daea20910a23b7090411cf2de8", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -7,20 +7,28 @@\n // <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n+#![feature(slice_patterns)]\n+\n \n struct Foo {\n }\n \n-fn foo(&foo: Foo) {  // illegal syntax\n+fn foo(&foo: Foo) {\n+}\n+\n+fn bar(foo: Foo) {\n+}\n+\n+fn qux(foo: &Foo) {\n }\n \n-fn bar(foo: Foo) {  // legal\n+fn zar(&foo: &Foo) {\n }\n \n-fn qux(foo: &Foo) {  // legal\n+fn agh(&&bar: &u32) {\n }\n \n-fn zar(&foo: &Foo) {  // legal\n+fn ugh(&[bar]: &u32) {\n }\n \n fn main() {}"}, {"sha": "5892b892fa7b1de7a60d0396df715237d63ad9c8", "filename": "src/test/ui/mismatched_types/issue-38371.stderr", "status": "modified", "additions": 18, "deletions": 3, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/563ecc1b1fe8f8daea20910a23b7090411cf2de8/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-38371.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/563ecc1b1fe8f8daea20910a23b7090411cf2de8/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-38371.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-38371.stderr?ref=563ecc1b1fe8f8daea20910a23b7090411cf2de8", "patch": "@@ -1,12 +1,27 @@\n error[E0308]: mismatched types\n-  --> $DIR/issue-38371.rs:14:8\n+  --> $DIR/issue-38371.rs:16:8\n    |\n-14 | fn foo(&foo: Foo) {  // illegal syntax\n+16 | fn foo(&foo: Foo) {\n    |        ^^^^ expected struct `Foo`, found reference\n    |\n    = note: expected type `Foo`\n    = note:    found type `&_`\n    = help: did you mean `foo: &Foo`?\n \n-error: aborting due to previous error\n+error[E0308]: mismatched types\n+  --> $DIR/issue-38371.rs:28:9\n+   |\n+28 | fn agh(&&bar: &u32) {\n+   |         ^^^^ expected u32, found reference\n+   |\n+   = note: expected type `u32`\n+   = note:    found type `&_`\n+\n+error[E0529]: expected an array or slice, found `u32`\n+  --> $DIR/issue-38371.rs:31:9\n+   |\n+31 | fn ugh(&[bar]: &u32) {\n+   |         ^^^^^ pattern cannot match with input type `u32`\n+\n+error: aborting due to 3 previous errors\n "}]}