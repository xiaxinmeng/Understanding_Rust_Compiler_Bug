{"sha": "865e4566e7d0dbf885d77a4a585b0c533be2ec57", "node_id": "C_kwDOAAsO6NoAKDg2NWU0NTY2ZTdkMGRiZjg4NWQ3N2E0YTU4NWIwYzUzM2JlMmVjNTc", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-09-24T05:38:58Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-09-24T05:38:58Z"}, "message": "Rollup merge of #102199 - GuillaumeGomez:improve-rustdoc-gui-tests, r=notriddle\n\nImprove rustdoc GUI tests\n\nI finally finished the update so we can now store values in variables and use them. It improves things nicely.\n\nr? ``@notriddle``", "tree": {"sha": "86327f5562c233c4b3d27482acf656868ec5e60a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/86327f5562c233c4b3d27482acf656868ec5e60a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/865e4566e7d0dbf885d77a4a585b0c533be2ec57", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjLpfyCRBK7hj4Ov3rIwAA1pAIAFSMDD0W1tXr93ldBwQbVfhV\njU4b8IUigFRhy0JvHlyShrbldDmy3D61Cky3Ise+2IlnfPgW4Ldau9pKWFqJSXYK\npOLvwwUtUaphtOhO6sZqNdq99qL2B9naPxk0TBzLbpcybtHxxHS/+PoGLED4F4Eq\nV4yxFxIb96NHAuBxLNl7dUppSlsb5xX/lGebxpo+caG0CmqNmblOczJENpTjjVn/\nMSEyqgLJovOalApY8wEAO45tOKfq4uSo0VXAiEcShwxX/UvE6C83bwLGm6fdYHHW\niXFslsnYoxNUBlsFoDrSwXdGQ+v380vq2jr7Ru2Dm/TkJSInxmbOQyhTsvIk7m4=\n=WOdG\n-----END PGP SIGNATURE-----\n", "payload": "tree 86327f5562c233c4b3d27482acf656868ec5e60a\nparent be902e89053e31a800cbf317c70aa5751b7d1caf\nparent d30cb5b6633bef645e076fedcc77c5e1d55349b6\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1663997938 +0200\ncommitter GitHub <noreply@github.com> 1663997938 +0200\n\nRollup merge of #102199 - GuillaumeGomez:improve-rustdoc-gui-tests, r=notriddle\n\nImprove rustdoc GUI tests\n\nI finally finished the update so we can now store values in variables and use them. It improves things nicely.\n\nr? ``@notriddle``\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/865e4566e7d0dbf885d77a4a585b0c533be2ec57", "html_url": "https://github.com/rust-lang/rust/commit/865e4566e7d0dbf885d77a4a585b0c533be2ec57", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/865e4566e7d0dbf885d77a4a585b0c533be2ec57/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "be902e89053e31a800cbf317c70aa5751b7d1caf", "url": "https://api.github.com/repos/rust-lang/rust/commits/be902e89053e31a800cbf317c70aa5751b7d1caf", "html_url": "https://github.com/rust-lang/rust/commit/be902e89053e31a800cbf317c70aa5751b7d1caf"}, {"sha": "d30cb5b6633bef645e076fedcc77c5e1d55349b6", "url": "https://api.github.com/repos/rust-lang/rust/commits/d30cb5b6633bef645e076fedcc77c5e1d55349b6", "html_url": "https://github.com/rust-lang/rust/commit/d30cb5b6633bef645e076fedcc77c5e1d55349b6"}], "stats": {"total": 18, "additions": 12, "deletions": 6}, "files": [{"sha": "142464bf22b4244f5f1f5fcf1d502a1521ea1615", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-tools/browser-ui-test.version", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/865e4566e7d0dbf885d77a4a585b0c533be2ec57/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2Fbrowser-ui-test.version", "raw_url": "https://github.com/rust-lang/rust/raw/865e4566e7d0dbf885d77a4a585b0c533be2ec57/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2Fbrowser-ui-test.version", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2Fbrowser-ui-test.version?ref=865e4566e7d0dbf885d77a4a585b0c533be2ec57", "patch": "@@ -1 +1 @@\n-0.10.0\n\\ No newline at end of file\n+0.11.0\n\\ No newline at end of file"}, {"sha": "afe25195100c5e63d4baed0f3853149c352ad2ec", "filename": "src/test/rustdoc-gui/check-stab-in-docblock.goml", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/865e4566e7d0dbf885d77a4a585b0c533be2ec57/src%2Ftest%2Frustdoc-gui%2Fcheck-stab-in-docblock.goml", "raw_url": "https://github.com/rust-lang/rust/raw/865e4566e7d0dbf885d77a4a585b0c533be2ec57/src%2Ftest%2Frustdoc-gui%2Fcheck-stab-in-docblock.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fcheck-stab-in-docblock.goml?ref=865e4566e7d0dbf885d77a4a585b0c533be2ec57", "patch": "@@ -7,15 +7,21 @@ size: (786, 600)\n // Confirms that there 3 paragraphs.\n assert-count: (\".top-doc .docblock p\", 3)\n // Checking that there is no scrollable content.\n+store-property: (clientHeight, \".top-doc .docblock p:nth-of-type(1)\", \"clientHeight\")\n+store-property: (clientWidth, \".top-doc .docblock p:nth-of-type(1)\", \"clientWidth\")\n assert-property: (\n     \".top-doc .docblock p:nth-of-type(1)\",\n-    {\"scrollHeight\": \"120\", \"clientHeight\": \"120\", \"scrollWidth\": \"502\", \"clientWidth\": \"502\"},\n+    {\"scrollHeight\": |clientHeight|, \"scrollWidth\": |clientWidth|},\n )\n+store-property: (clientHeight, \".top-doc .docblock p:nth-of-type(2)\", \"clientHeight\")\n+store-property: (clientWidth, \".top-doc .docblock p:nth-of-type(2)\", \"clientWidth\")\n assert-property: (\n     \".top-doc .docblock p:nth-of-type(2)\",\n-    {\"scrollHeight\": \"48\", \"clientHeight\": \"48\", \"scrollWidth\": \"502\", \"clientWidth\": \"502\"},\n+    {\"scrollHeight\": |clientHeight|, \"scrollWidth\": |clientWidth|},\n )\n+store-property: (clientHeight, \".top-doc .docblock p:nth-of-type(3)\", \"clientHeight\")\n+store-property: (clientWidth, \".top-doc .docblock p:nth-of-type(3)\", \"clientWidth\")\n assert-property: (\n     \".top-doc .docblock p:nth-of-type(3)\",\n-    {\"scrollHeight\": \"48\", \"clientHeight\": \"48\", \"scrollWidth\": \"502\", \"clientWidth\": \"502\"},\n+    {\"scrollHeight\": |clientHeight|, \"scrollWidth\": |clientWidth|},\n )"}, {"sha": "505874fa010708ebc43247e2d27d54321f290bb0", "filename": "src/test/rustdoc-gui/type-declation-overflow.goml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/865e4566e7d0dbf885d77a4a585b0c533be2ec57/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "raw_url": "https://github.com/rust-lang/rust/raw/865e4566e7d0dbf885d77a4a585b0c533be2ec57/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml?ref=865e4566e7d0dbf885d77a4a585b0c533be2ec57", "patch": "@@ -32,6 +32,6 @@ assert-property: (\".item-decl pre\", {\"scrollWidth\": \"950\"})\n size: (600, 600)\n goto: file://|DOC_PATH|/lib2/too_long/struct.SuperIncrediblyLongLongLongLongLongLongLongGigaGigaGigaMegaLongLongLongStructName.html\n // It shouldn't have an overflow in the topbar either.\n-assert-property: (\".mobile-topbar .location\", {\"scrollWidth\": \"500\"})\n-assert-property: (\".mobile-topbar .location\", {\"clientWidth\": \"500\"})\n+store-property: (scrollWidth, \".mobile-topbar .location\", \"scrollWidth\")\n+assert-property: (\".mobile-topbar .location\", {\"clientWidth\": |scrollWidth|})\n assert-css: (\".mobile-topbar .location\", {\"overflow-x\": \"hidden\"})"}]}