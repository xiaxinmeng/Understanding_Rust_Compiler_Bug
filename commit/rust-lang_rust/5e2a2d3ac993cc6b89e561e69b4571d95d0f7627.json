{"sha": "5e2a2d3ac993cc6b89e561e69b4571d95d0f7627", "node_id": "C_kwDOAAsO6NoAKDVlMmEyZDNhYzk5M2NjNmI4OWU1NjFlNjliNDU3MWQ5NWQwZjc2Mjc", "commit": {"author": {"name": "Jason Newcomb", "email": "jsnewcomb@pm.me", "date": "2022-06-14T15:44:43Z"}, "committer": {"name": "Jason Newcomb", "email": "jsnewcomb@pm.me", "date": "2022-06-28T17:02:08Z"}, "message": "Fix dogfood", "tree": {"sha": "1854bc4107fc9335d978bcd2438ae8e25ab96723", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1854bc4107fc9335d978bcd2438ae8e25ab96723"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627", "html_url": "https://github.com/rust-lang/rust/commit/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627/comments", "author": {"login": "Jarcho", "id": 7761774, "node_id": "MDQ6VXNlcjc3NjE3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7761774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jarcho", "html_url": "https://github.com/Jarcho", "followers_url": "https://api.github.com/users/Jarcho/followers", "following_url": "https://api.github.com/users/Jarcho/following{/other_user}", "gists_url": "https://api.github.com/users/Jarcho/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jarcho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jarcho/subscriptions", "organizations_url": "https://api.github.com/users/Jarcho/orgs", "repos_url": "https://api.github.com/users/Jarcho/repos", "events_url": "https://api.github.com/users/Jarcho/events{/privacy}", "received_events_url": "https://api.github.com/users/Jarcho/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Jarcho", "id": 7761774, "node_id": "MDQ6VXNlcjc3NjE3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7761774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jarcho", "html_url": "https://github.com/Jarcho", "followers_url": "https://api.github.com/users/Jarcho/followers", "following_url": "https://api.github.com/users/Jarcho/following{/other_user}", "gists_url": "https://api.github.com/users/Jarcho/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jarcho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jarcho/subscriptions", "organizations_url": "https://api.github.com/users/Jarcho/orgs", "repos_url": "https://api.github.com/users/Jarcho/repos", "events_url": "https://api.github.com/users/Jarcho/events{/privacy}", "received_events_url": "https://api.github.com/users/Jarcho/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "85c1f74fef6b49fbaf1b8d03575fd6ee3e352d78", "url": "https://api.github.com/repos/rust-lang/rust/commits/85c1f74fef6b49fbaf1b8d03575fd6ee3e352d78", "html_url": "https://github.com/rust-lang/rust/commit/85c1f74fef6b49fbaf1b8d03575fd6ee3e352d78"}], "stats": {"total": 34, "additions": 17, "deletions": 17}, "files": [{"sha": "2e0659f42d7b6b85ea248f4e45a91513c70ed2ca", "filename": "clippy_dev/src/update_lints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627/clippy_dev%2Fsrc%2Fupdate_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627/clippy_dev%2Fsrc%2Fupdate_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fupdate_lints.rs?ref=5e2a2d3ac993cc6b89e561e69b4571d95d0f7627", "patch": "@@ -413,7 +413,7 @@ fn remove_lint_declaration(name: &str, path: &Path, lints: &mut Vec<Lint>) -> io\n                 .find(\"declare_lint_pass!\")\n                 .unwrap_or_else(|| panic!(\"failed to find `impl_lint_pass`\"))\n         });\n-        let mut impl_lint_pass_end = (&content[impl_lint_pass_start..])\n+        let mut impl_lint_pass_end = content[impl_lint_pass_start..]\n             .find(']')\n             .expect(\"failed to find `impl_lint_pass` terminator\");\n "}, {"sha": "59dcc1ebf191f9a926ea8844f89fb8498300ae0b", "filename": "clippy_lints/src/dereference.rs", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627/clippy_lints%2Fsrc%2Fdereference.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627/clippy_lints%2Fsrc%2Fdereference.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdereference.rs?ref=5e2a2d3ac993cc6b89e561e69b4571d95d0f7627", "patch": "@@ -911,7 +911,18 @@ fn param_auto_deref_stability(ty: Ty<'_>, precedence: i8) -> Position {\n                 ty = ref_ty;\n                 continue;\n             },\n-            ty::Bool\n+            ty::Infer(_)\n+            | ty::Error(_)\n+            | ty::Param(_)\n+            | ty::Bound(..)\n+            | ty::Opaque(..)\n+            | ty::Placeholder(_)\n+            | ty::Dynamic(..) => Position::ReborrowStable(precedence),\n+            ty::Adt(..) if ty.has_placeholders() || ty.has_param_types_or_consts() => {\n+                Position::ReborrowStable(precedence)\n+            },\n+            ty::Adt(..)\n+            | ty::Bool\n             | ty::Char\n             | ty::Int(_)\n             | ty::Uint(_)\n@@ -929,17 +940,6 @@ fn param_auto_deref_stability(ty: Ty<'_>, precedence: i8) -> Position {\n             | ty::Never\n             | ty::Tuple(_)\n             | ty::Projection(_) => Position::DerefStable(precedence),\n-            ty::Infer(_)\n-            | ty::Error(_)\n-            | ty::Param(_)\n-            | ty::Bound(..)\n-            | ty::Opaque(..)\n-            | ty::Placeholder(_)\n-            | ty::Dynamic(..) => Position::ReborrowStable(precedence),\n-            ty::Adt(..) if ty.has_placeholders() || ty.has_param_types_or_consts() => {\n-                Position::ReborrowStable(precedence)\n-            },\n-            ty::Adt(..) => Position::DerefStable(precedence),\n         };\n     }\n }\n@@ -952,7 +952,7 @@ fn ty_contains_field(ty: Ty<'_>, name: Symbol) -> bool {\n     }\n }\n \n-#[expect(clippy::needless_pass_by_value)]\n+#[expect(clippy::needless_pass_by_value, clippy::too_many_lines)]\n fn report<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx Expr<'_>, state: State, data: StateData) {\n     match state {\n         State::DerefMethod {"}, {"sha": "15513de7d860d90dda22a8b7acaf4fcd5c8ec0be", "filename": "clippy_lints/src/matches/match_same_arms.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627/clippy_lints%2Fsrc%2Fmatches%2Fmatch_same_arms.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627/clippy_lints%2Fsrc%2Fmatches%2Fmatch_same_arms.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatches%2Fmatch_same_arms.rs?ref=5e2a2d3ac993cc6b89e561e69b4571d95d0f7627", "patch": "@@ -285,7 +285,7 @@ impl<'a> NormalizedPat<'a> {\n                 // TODO: Handle negative integers. They're currently treated as a wild match.\n                 ExprKind::Lit(lit) => match lit.node {\n                     LitKind::Str(sym, _) => Self::LitStr(sym),\n-                    LitKind::ByteStr(ref bytes) => Self::LitBytes(&**bytes),\n+                    LitKind::ByteStr(ref bytes) => Self::LitBytes(bytes),\n                     LitKind::Byte(val) => Self::LitInt(val.into()),\n                     LitKind::Char(val) => Self::LitInt(val.into()),\n                     LitKind::Int(val, _) => Self::LitInt(val),"}, {"sha": "5ae4a65acaf33f9bb2dc94423b02579aa12ee39e", "filename": "clippy_lints/src/matches/match_single_binding.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627/clippy_lints%2Fsrc%2Fmatches%2Fmatch_single_binding.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e2a2d3ac993cc6b89e561e69b4571d95d0f7627/clippy_lints%2Fsrc%2Fmatches%2Fmatch_single_binding.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatches%2Fmatch_single_binding.rs?ref=5e2a2d3ac993cc6b89e561e69b4571d95d0f7627", "patch": "@@ -55,7 +55,7 @@ pub(crate) fn check<'a>(cx: &LateContext<'a>, ex: &Expr<'a>, arms: &[Arm<'_>], e\n                         cx,\n                         (ex, expr),\n                         (bind_names, matched_vars),\n-                        &*snippet_body,\n+                        &snippet_body,\n                         &mut applicability,\n                         Some(span),\n                     );\n@@ -88,7 +88,7 @@ pub(crate) fn check<'a>(cx: &LateContext<'a>, ex: &Expr<'a>, arms: &[Arm<'_>], e\n                         cx,\n                         (ex, expr),\n                         (bind_names, matched_vars),\n-                        &*snippet_body,\n+                        &snippet_body,\n                         &mut applicability,\n                         None,\n                     );"}]}