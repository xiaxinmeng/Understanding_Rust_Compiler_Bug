{"sha": "61dcaa6addcb3fca522b298bdba12239772eb81e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYxZGNhYTZhZGRjYjNmY2E1MjJiMjk4YmRiYTEyMjM5NzcyZWI4MWU=", "commit": {"author": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2018-12-20T19:12:17Z"}, "committer": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2018-12-20T19:12:17Z"}, "message": "Merge #304\n\n304: Support a blank expression before a semicolon r=DJMcNab a=DJMcNab\n\nPart of fixing #290.\r\n\r\nNote that I have not run `gen-tests` as I don't want to conflict with #299.\n\nCo-authored-by: DJMcNab <36049421+djmcnab@users.noreply.github.com>", "tree": {"sha": "b2c4f6d9993fba31b6dd983dcf8c9430b46cf41b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b2c4f6d9993fba31b6dd983dcf8c9430b46cf41b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/61dcaa6addcb3fca522b298bdba12239772eb81e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/61dcaa6addcb3fca522b298bdba12239772eb81e", "html_url": "https://github.com/rust-lang/rust/commit/61dcaa6addcb3fca522b298bdba12239772eb81e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/61dcaa6addcb3fca522b298bdba12239772eb81e/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "parents": [{"sha": "057c95d3dd72725f13bfef25827b9034f19ba877", "url": "https://api.github.com/repos/rust-lang/rust/commits/057c95d3dd72725f13bfef25827b9034f19ba877", "html_url": "https://github.com/rust-lang/rust/commit/057c95d3dd72725f13bfef25827b9034f19ba877"}, {"sha": "a349db71784413afb25d80de9522c9e3995d3679", "url": "https://api.github.com/repos/rust-lang/rust/commits/a349db71784413afb25d80de9522c9e3995d3679", "html_url": "https://github.com/rust-lang/rust/commit/a349db71784413afb25d80de9522c9e3995d3679"}], "stats": {"total": 65, "additions": 65, "deletions": 0}, "files": [{"sha": "da78d85a2f9f49f94a518a1f2c74287ea8d6d336", "filename": "crates/ra_syntax/src/grammar/expressions.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/61dcaa6addcb3fca522b298bdba12239772eb81e/crates%2Fra_syntax%2Fsrc%2Fgrammar%2Fexpressions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61dcaa6addcb3fca522b298bdba12239772eb81e/crates%2Fra_syntax%2Fsrc%2Fgrammar%2Fexpressions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fgrammar%2Fexpressions.rs?ref=61dcaa6addcb3fca522b298bdba12239772eb81e", "patch": "@@ -42,9 +42,15 @@ pub(crate) fn block(p: &mut Parser) {\n     }\n     let m = p.start();\n     p.bump();\n+\n     while !p.at(EOF) && !p.at(R_CURLY) {\n         match p.current() {\n             LET_KW => let_stmt(p),\n+            // test nocontentexpr\n+            // fn foo(){\n+            //     ;;;some_expr();;;;{;;;};;;;Ok(())\n+            // }\n+            SEMI => p.bump(),\n             _ => {\n                 // test block_items\n                 // fn a() { fn b() {} }"}, {"sha": "bbf09e367cf2a123e9de70222fc93b89f2302f24", "filename": "crates/ra_syntax/tests/data/parser/inline/ok/0113_nocontentexpr.rs", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/61dcaa6addcb3fca522b298bdba12239772eb81e/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0113_nocontentexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/61dcaa6addcb3fca522b298bdba12239772eb81e/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0113_nocontentexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0113_nocontentexpr.rs?ref=61dcaa6addcb3fca522b298bdba12239772eb81e", "patch": "@@ -0,0 +1,3 @@\n+fn foo(){\n+    ;;;some_expr();;;;{;;;};;;;Ok(())\n+}"}, {"sha": "db91e307548fcc04afb865b058f759ded3f7798b", "filename": "crates/ra_syntax/tests/data/parser/inline/ok/0113_nocontentexpr.txt", "status": "added", "additions": 56, "deletions": 0, "changes": 56, "blob_url": "https://github.com/rust-lang/rust/blob/61dcaa6addcb3fca522b298bdba12239772eb81e/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0113_nocontentexpr.txt", "raw_url": "https://github.com/rust-lang/rust/raw/61dcaa6addcb3fca522b298bdba12239772eb81e/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0113_nocontentexpr.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0113_nocontentexpr.txt?ref=61dcaa6addcb3fca522b298bdba12239772eb81e", "patch": "@@ -0,0 +1,56 @@\n+SOURCE_FILE@[0; 50)\n+  FN_DEF@[0; 49)\n+    FN_KW@[0; 2)\n+    WHITESPACE@[2; 3)\n+    NAME@[3; 6)\n+      IDENT@[3; 6) \"foo\"\n+    PARAM_LIST@[6; 8)\n+      L_PAREN@[6; 7)\n+      R_PAREN@[7; 8)\n+    BLOCK@[8; 49)\n+      L_CURLY@[8; 9)\n+      WHITESPACE@[9; 14)\n+      SEMI@[14; 15)\n+      SEMI@[15; 16)\n+      SEMI@[16; 17)\n+      EXPR_STMT@[17; 29)\n+        CALL_EXPR@[17; 28)\n+          PATH_EXPR@[17; 26)\n+            PATH@[17; 26)\n+              PATH_SEGMENT@[17; 26)\n+                NAME_REF@[17; 26)\n+                  IDENT@[17; 26) \"some_expr\"\n+          ARG_LIST@[26; 28)\n+            L_PAREN@[26; 27)\n+            R_PAREN@[27; 28)\n+        SEMI@[28; 29)\n+      SEMI@[29; 30)\n+      SEMI@[30; 31)\n+      SEMI@[31; 32)\n+      EXPR_STMT@[32; 38)\n+        BLOCK_EXPR@[32; 37)\n+          BLOCK@[32; 37)\n+            L_CURLY@[32; 33)\n+            SEMI@[33; 34)\n+            SEMI@[34; 35)\n+            SEMI@[35; 36)\n+            R_CURLY@[36; 37)\n+        SEMI@[37; 38)\n+      SEMI@[38; 39)\n+      SEMI@[39; 40)\n+      SEMI@[40; 41)\n+      CALL_EXPR@[41; 47)\n+        PATH_EXPR@[41; 43)\n+          PATH@[41; 43)\n+            PATH_SEGMENT@[41; 43)\n+              NAME_REF@[41; 43)\n+                IDENT@[41; 43) \"Ok\"\n+        ARG_LIST@[43; 47)\n+          L_PAREN@[43; 44)\n+          TUPLE_EXPR@[44; 46)\n+            L_PAREN@[44; 45)\n+            R_PAREN@[45; 46)\n+          R_PAREN@[46; 47)\n+      WHITESPACE@[47; 48)\n+      R_CURLY@[48; 49)\n+  WHITESPACE@[49; 50)"}]}