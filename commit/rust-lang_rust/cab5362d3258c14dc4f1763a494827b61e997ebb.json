{"sha": "cab5362d3258c14dc4f1763a494827b61e997ebb", "node_id": "C_kwDOAAsO6NoAKGNhYjUzNjJkMzI1OGMxNGRjNGYxNzYzYTQ5NDgyN2I2MWU5OTdlYmI", "commit": {"author": {"name": "Serial", "email": "69764315+Serial-ATA@users.noreply.github.com", "date": "2022-06-07T00:28:16Z"}, "committer": {"name": "Serial", "email": "69764315+Serial-ATA@users.noreply.github.com", "date": "2022-06-07T00:28:16Z"}, "message": "Suppress `unused` in doc examples", "tree": {"sha": "a8b477efa9211e3c23b9bb1f915807f056eaceaa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a8b477efa9211e3c23b9bb1f915807f056eaceaa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cab5362d3258c14dc4f1763a494827b61e997ebb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cab5362d3258c14dc4f1763a494827b61e997ebb", "html_url": "https://github.com/rust-lang/rust/commit/cab5362d3258c14dc4f1763a494827b61e997ebb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cab5362d3258c14dc4f1763a494827b61e997ebb/comments", "author": {"login": "Serial-ATA", "id": 69764315, "node_id": "MDQ6VXNlcjY5NzY0MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/69764315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Serial-ATA", "html_url": "https://github.com/Serial-ATA", "followers_url": "https://api.github.com/users/Serial-ATA/followers", "following_url": "https://api.github.com/users/Serial-ATA/following{/other_user}", "gists_url": "https://api.github.com/users/Serial-ATA/gists{/gist_id}", "starred_url": "https://api.github.com/users/Serial-ATA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Serial-ATA/subscriptions", "organizations_url": "https://api.github.com/users/Serial-ATA/orgs", "repos_url": "https://api.github.com/users/Serial-ATA/repos", "events_url": "https://api.github.com/users/Serial-ATA/events{/privacy}", "received_events_url": "https://api.github.com/users/Serial-ATA/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Serial-ATA", "id": 69764315, "node_id": "MDQ6VXNlcjY5NzY0MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/69764315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Serial-ATA", "html_url": "https://github.com/Serial-ATA", "followers_url": "https://api.github.com/users/Serial-ATA/followers", "following_url": "https://api.github.com/users/Serial-ATA/following{/other_user}", "gists_url": "https://api.github.com/users/Serial-ATA/gists{/gist_id}", "starred_url": "https://api.github.com/users/Serial-ATA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Serial-ATA/subscriptions", "organizations_url": "https://api.github.com/users/Serial-ATA/orgs", "repos_url": "https://api.github.com/users/Serial-ATA/repos", "events_url": "https://api.github.com/users/Serial-ATA/events{/privacy}", "received_events_url": "https://api.github.com/users/Serial-ATA/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0902f3ca8192a352ab4db24bf4e04bc083792a3c", "url": "https://api.github.com/repos/rust-lang/rust/commits/0902f3ca8192a352ab4db24bf4e04bc083792a3c", "html_url": "https://github.com/rust-lang/rust/commit/0902f3ca8192a352ab4db24bf4e04bc083792a3c"}], "stats": {"total": 93, "additions": 31, "deletions": 62}, "files": [{"sha": "74ea70d1af173a9ba4b9871cc3f3f54d62f35ac1", "filename": "clippy_lints/src/casts/mod.rs", "status": "modified", "additions": 6, "deletions": 12, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fcasts%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fcasts%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fmod.rs?ref=cab5362d3258c14dc4f1763a494827b61e997ebb", "patch": "@@ -220,15 +220,13 @@ declare_clippy_lint! {\n     /// ### Example\n     /// ```rust\n     /// fn fun() -> i32 { 1 }\n-    /// # let _ =\n-    /// fun as i64;\n+    /// let _ = fun as i64;\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n     /// # fn fun() -> i32 { 1 }\n-    /// # let _ =\n-    /// fun as usize;\n+    /// let _ = fun as usize;\n     /// ```\n     #[clippy::version = \"pre 1.29.0\"]\n     pub FN_TO_NUMERIC_CAST,\n@@ -251,8 +249,7 @@ declare_clippy_lint! {\n     /// fn fn1() -> i16 {\n     ///     1\n     /// };\n-    /// # let _ =\n-    /// fn1 as i32;\n+    /// let _ = fn1 as i32;\n     /// ```\n     ///\n     /// Use instead:\n@@ -287,8 +284,7 @@ declare_clippy_lint! {\n     /// fn fn1() -> u16 {\n     ///     1\n     /// };\n-    /// # let _ =\n-    /// fn1 as usize;\n+    /// let _ = fn1 as usize;\n     /// ```\n     ///\n     /// Use instead:\n@@ -297,17 +293,15 @@ declare_clippy_lint! {\n     /// fn fn2() -> u16 {\n     ///     1\n     /// };\n-    /// # let _ =\n-    /// fn2() as usize;\n+    /// let _ = fn2() as usize;\n     ///\n     /// // or\n     ///\n     /// // maybe you intended to cast it to a function type?\n     /// fn fn3() -> u16 {\n     ///     1\n     /// }\n-    /// # let _ =\n-    /// fn3 as fn() -> u16;\n+    /// let _ = fn3 as fn() -> u16;\n     /// ```\n     #[clippy::version = \"1.58.0\"]\n     pub FN_TO_NUMERIC_CAST_ANY,"}, {"sha": "4b99d1d614eb81ddcd1759c480d0d0678b3c4cba", "filename": "clippy_lints/src/checked_conversions.rs", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fchecked_conversions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fchecked_conversions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fchecked_conversions.rs?ref=cab5362d3258c14dc4f1763a494827b61e997ebb", "patch": "@@ -22,18 +22,14 @@ declare_clippy_lint! {\n     /// ### Example\n     /// ```rust\n     /// # let foo: u32 = 5;\n-    /// # let _ =\n-    /// foo <= i32::MAX as u32\n-    /// # ;\n+    /// foo <= i32::MAX as u32;\n     /// ```\n     ///\n-    /// Could be written:\n-    ///\n+    /// Use instead:\n     /// ```rust\n     /// # let foo = 1;\n-    /// # let _ =\n-    /// i32::try_from(foo).is_ok()\n-    /// # ;\n+    /// # #[allow(unused)]\n+    /// i32::try_from(foo).is_ok();\n     /// ```\n     #[clippy::version = \"1.37.0\"]\n     pub CHECKED_CONVERSIONS,"}, {"sha": "4a375752e1d3b270e6bb8c80b0e63a39ddaceb5e", "filename": "clippy_lints/src/indexing_slicing.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Findexing_slicing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Findexing_slicing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Findexing_slicing.rs?ref=cab5362d3258c14dc4f1763a494827b61e997ebb", "patch": "@@ -67,16 +67,14 @@ declare_clippy_lint! {\n     ///\n     /// Use instead:\n     /// ```rust\n+    /// # #![allow(unused)]\n+    ///\n     /// # let x = vec![0; 5];\n     /// # let y = [0, 1, 2, 3];\n-    /// # let _ =\n     /// x.get(2);\n-    /// # let _ =\n     /// x.get(2..100);\n     ///\n-    /// # let _ =\n     /// y.get(10);\n-    /// # let _ =\n     /// y.get(10..100);\n     /// ```\n     #[clippy::version = \"pre 1.29.0\"]"}, {"sha": "27fa904226982ba71dad7925b88212e6a9c03c2f", "filename": "clippy_lints/src/infinite_iter.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Finfinite_iter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Finfinite_iter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finfinite_iter.rs?ref=cab5362d3258c14dc4f1763a494827b61e997ebb", "patch": "@@ -41,7 +41,7 @@ declare_clippy_lint! {\n     /// ### Example\n     /// ```rust\n     /// let infinite_iter = 0..;\n-    /// # let _ =\n+    /// # #[allow(unused)]\n     /// [0..].iter().zip(infinite_iter.take_while(|x| *x > 5));\n     /// ```\n     #[clippy::version = \"pre 1.29.0\"]"}, {"sha": "e1ea8426e58746a11dde601280d33cced2788d90", "filename": "clippy_lints/src/methods/mod.rs", "status": "modified", "additions": 14, "deletions": 23, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs?ref=cab5362d3258c14dc4f1763a494827b61e997ebb", "patch": "@@ -131,18 +131,14 @@ declare_clippy_lint! {\n     /// ### Examples\n     /// ```rust\n     /// # let vec = vec![\"string\".to_string()];\n-    /// # let _ =\n     /// vec.iter().cloned().take(10);\n-    /// # let _ =\n     /// vec.iter().cloned().last();\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n     /// # let vec = vec![\"string\".to_string()];\n-    /// # let _ =\n     /// vec.iter().take(10).cloned();\n-    /// # let _ =\n     /// vec.iter().last().cloned();\n     /// ```\n     #[clippy::version = \"1.59.0\"]\n@@ -590,7 +586,6 @@ declare_clippy_lint! {\n     /// let vec = vec![vec![1]];\n     /// let opt = Some(5);\n     ///\n-    /// # let _ =\n     /// vec.iter().map(|x| x.iter()).flatten();\n     /// opt.map(|x| Some(x * 2)).flatten();\n     /// ```\n@@ -599,7 +594,6 @@ declare_clippy_lint! {\n     /// ```rust\n     /// # let vec = vec![vec![1]];\n     /// # let opt = Some(5);\n-    /// # let _ =\n     /// vec.iter().flat_map(|x| x.iter());\n     /// opt.and_then(|x| Some(x * 2));\n     /// ```\n@@ -620,15 +614,15 @@ declare_clippy_lint! {\n     ///\n      /// ### Example\n     /// ```rust\n-    /// # let  _ =\n+    /// # #![allow(unused)]\n     /// (0_i32..10)\n     ///     .filter(|n| n.checked_add(1).is_some())\n     ///     .map(|n| n.checked_add(1).unwrap());\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n-    /// # let _ =\n+    /// # #[allow(unused)]\n     /// (0_i32..10).filter_map(|n| n.checked_add(1));\n     /// ```\n     #[clippy::version = \"1.51.0\"]\n@@ -721,11 +715,10 @@ declare_clippy_lint! {\n     ///\n     /// ### Example\n     /// ```rust\n+    /// # #![allow(unused)]\n     /// let vec = vec![1];\n-    /// # let _ =\n     /// vec.iter().find(|x| **x == 0).is_some();\n     ///\n-    /// # let _ =\n     /// \"hello world\".find(\"world\").is_none();\n     /// ```\n     ///\n@@ -734,7 +727,7 @@ declare_clippy_lint! {\n     /// let vec = vec![1];\n     /// vec.iter().any(|x| *x == 0);\n     ///\n-    /// # let _ =\n+    /// # #[allow(unused)]\n     /// !\"hello world\".contains(\"world\");\n     /// ```\n     #[clippy::version = \"pre 1.29.0\"]\n@@ -1428,13 +1421,12 @@ declare_clippy_lint! {\n     ///\n     /// ### Example\n     /// ```rust\n-    /// # let _ =\n+    /// # #[allow(unused)]\n     /// (0..3).fold(false, |acc, x| acc || x > 2);\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n-    /// # let _ =\n     /// (0..3).any(|x| x > 2);\n     /// ```\n     #[clippy::version = \"pre 1.29.0\"]\n@@ -1515,14 +1507,14 @@ declare_clippy_lint! {\n     ///\n     /// ### Example\n     /// ```rust\n-    /// # let _ =\n-    /// (&vec![3, 4, 5]).into_iter();\n+    /// # let vec = vec![3, 4, 5];\n+    /// (&vec).into_iter();\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n-    /// # let _ =\n-    /// (&vec![3, 4, 5]).iter();\n+    /// # let vec = vec![3, 4, 5];\n+    /// (&vec).iter();\n     /// ```\n     #[clippy::version = \"1.32.0\"]\n     pub INTO_ITER_ON_REF,\n@@ -1931,13 +1923,13 @@ declare_clippy_lint! {\n     ///\n     /// ### Example\n     /// ```rust\n-    /// # let _ =\n+    /// # #[allow(unused)]\n     /// \"Hello\".bytes().nth(3);\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n-    /// # let _ =\n+    /// # #[allow(unused)]\n     /// \"Hello\".as_bytes().get(3);\n     /// ```\n     #[clippy::version = \"1.52.0\"]\n@@ -1982,19 +1974,18 @@ declare_clippy_lint! {\n     ///\n     /// ### Example\n     /// ```rust\n+    /// # #![allow(unused)]\n     /// let some_vec = vec![0, 1, 2, 3];\n-    /// # let _ =\n+    ///\n     /// some_vec.iter().count();\n-    /// # let _ =\n     /// &some_vec[..].iter().count();\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n     /// let some_vec = vec![0, 1, 2, 3];\n-    /// # let _ =\n+    ///\n     /// some_vec.len();\n-    /// # let _ =\n     /// &some_vec[..].len();\n     /// ```\n     #[clippy::version = \"1.52.0\"]"}, {"sha": "05c012b92e878e6327f2ba1839bd3327b455aaae", "filename": "clippy_lints/src/needless_borrowed_ref.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs?ref=cab5362d3258c14dc4f1763a494827b61e997ebb", "patch": "@@ -29,14 +29,14 @@ declare_clippy_lint! {\n     /// ### Example\n     /// ```rust\n     /// let mut v = Vec::<String>::new();\n-    /// # let _ =\n+    /// # #[allow(unused)]\n     /// v.iter_mut().filter(|&ref a| a.is_empty());\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n     /// let mut v = Vec::<String>::new();\n-    /// # let _ =\n+    /// # #[allow(unused)]\n     /// v.iter_mut().filter(|a| a.is_empty());\n     /// ```\n     #[clippy::version = \"pre 1.29.0\"]"}, {"sha": "056637c2048ee0b83fa15a507836e6679c48ebf9", "filename": "clippy_lints/src/ranges.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Franges.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Franges.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Franges.rs?ref=cab5362d3258c14dc4f1763a494827b61e997ebb", "patch": "@@ -27,15 +27,13 @@ declare_clippy_lint! {\n     /// ### Example\n     /// ```rust\n     /// # let x = vec![1];\n-    /// # let _ =\n-    /// x.iter().zip(0..x.len());\n+    /// let _ = x.iter().zip(0..x.len());\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n     /// # let x = vec![1];\n-    /// # let _ =\n-    /// x.iter().enumerate();\n+    /// let _ = x.iter().enumerate();\n     /// ```\n     #[clippy::version = \"pre 1.29.0\"]\n     pub RANGE_ZIP_WITH_LEN,"}, {"sha": "71f3e6b6a6ec67e3d5f81f6788945040b84997b0", "filename": "clippy_lints/src/strings.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fstrings.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fstrings.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fstrings.rs?ref=cab5362d3258c14dc4f1763a494827b61e997ebb", "patch": "@@ -224,13 +224,11 @@ declare_clippy_lint! {\n     ///\n     /// ### Example\n     /// ```rust\n-    /// # let _ =\n     /// std::str::from_utf8(&\"Hello World!\".as_bytes()[6..11]).unwrap();\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n-    /// # let _ =\n     /// &\"Hello World!\"[6..11];\n     /// ```\n     #[clippy::version = \"1.50.0\"]"}, {"sha": "67b2bc8c3f3cd86e823868a0475f083ea535f659", "filename": "clippy_lints/src/write.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cab5362d3258c14dc4f1763a494827b61e997ebb/clippy_lints%2Fsrc%2Fwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fwrite.rs?ref=cab5362d3258c14dc4f1763a494827b61e997ebb", "patch": "@@ -178,15 +178,13 @@ declare_clippy_lint! {\n     /// ```rust\n     /// # use std::fmt::Write;\n     /// # let mut buf = String::new();\n-    /// # let _ =\n     /// writeln!(buf, \"\");\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n     /// # use std::fmt::Write;\n     /// # let mut buf = String::new();\n-    /// # let _ =\n     /// writeln!(buf);\n     /// ```\n     #[clippy::version = \"pre 1.29.0\"]\n@@ -210,7 +208,6 @@ declare_clippy_lint! {\n     /// # use std::fmt::Write;\n     /// # let mut buf = String::new();\n     /// # let name = \"World\";\n-    /// # let _ =\n     /// write!(buf, \"Hello {}!\\n\", name);\n     /// ```\n     ///\n@@ -219,7 +216,6 @@ declare_clippy_lint! {\n     /// # use std::fmt::Write;\n     /// # let mut buf = String::new();\n     /// # let name = \"World\";\n-    /// # let _ =\n     /// writeln!(buf, \"Hello {}!\", name);\n     /// ```\n     #[clippy::version = \"pre 1.29.0\"]\n@@ -245,15 +241,13 @@ declare_clippy_lint! {\n     /// ```rust\n     /// # use std::fmt::Write;\n     /// # let mut buf = String::new();\n-    /// # let _ =\n     /// writeln!(buf, \"{}\", \"foo\");\n     /// ```\n     ///\n     /// Use instead:\n     /// ```rust\n     /// # use std::fmt::Write;\n     /// # let mut buf = String::new();\n-    /// # let _ =\n     /// writeln!(buf, \"foo\");\n     /// ```\n     #[clippy::version = \"pre 1.29.0\"]"}]}