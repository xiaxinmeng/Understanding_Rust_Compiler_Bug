{"sha": "c203ac2cf5aaf7b7ed759e0f84426debc063d3e8", "node_id": "C_kwDOAAsO6NoAKGMyMDNhYzJjZjVhYWY3YjdlZDc1OWUwZjg0NDI2ZGViYzA2M2QzZTg", "commit": {"author": {"name": "oxalica", "email": "oxalicc@pm.me", "date": "2022-08-03T09:35:31Z"}, "committer": {"name": "oxalica", "email": "oxalicc@pm.me", "date": "2022-08-03T09:44:06Z"}, "message": "Add more constructors for la-arena", "tree": {"sha": "b88cf3ad8445301ee270771374589ccb0e217511", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b88cf3ad8445301ee270771374589ccb0e217511"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c203ac2cf5aaf7b7ed759e0f84426debc063d3e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c203ac2cf5aaf7b7ed759e0f84426debc063d3e8", "html_url": "https://github.com/rust-lang/rust/commit/c203ac2cf5aaf7b7ed759e0f84426debc063d3e8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c203ac2cf5aaf7b7ed759e0f84426debc063d3e8/comments", "author": {"login": "oxalica", "id": 14816024, "node_id": "MDQ6VXNlcjE0ODE2MDI0", "avatar_url": "https://avatars.githubusercontent.com/u/14816024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oxalica", "html_url": "https://github.com/oxalica", "followers_url": "https://api.github.com/users/oxalica/followers", "following_url": "https://api.github.com/users/oxalica/following{/other_user}", "gists_url": "https://api.github.com/users/oxalica/gists{/gist_id}", "starred_url": "https://api.github.com/users/oxalica/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oxalica/subscriptions", "organizations_url": "https://api.github.com/users/oxalica/orgs", "repos_url": "https://api.github.com/users/oxalica/repos", "events_url": "https://api.github.com/users/oxalica/events{/privacy}", "received_events_url": "https://api.github.com/users/oxalica/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oxalica", "id": 14816024, "node_id": "MDQ6VXNlcjE0ODE2MDI0", "avatar_url": "https://avatars.githubusercontent.com/u/14816024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oxalica", "html_url": "https://github.com/oxalica", "followers_url": "https://api.github.com/users/oxalica/followers", "following_url": "https://api.github.com/users/oxalica/following{/other_user}", "gists_url": "https://api.github.com/users/oxalica/gists{/gist_id}", "starred_url": "https://api.github.com/users/oxalica/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oxalica/subscriptions", "organizations_url": "https://api.github.com/users/oxalica/orgs", "repos_url": "https://api.github.com/users/oxalica/repos", "events_url": "https://api.github.com/users/oxalica/events{/privacy}", "received_events_url": "https://api.github.com/users/oxalica/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a02b042ae75c368e4eaceb899ac3f4bcc97191ca", "url": "https://api.github.com/repos/rust-lang/rust/commits/a02b042ae75c368e4eaceb899ac3f4bcc97191ca", "html_url": "https://github.com/rust-lang/rust/commit/a02b042ae75c368e4eaceb899ac3f4bcc97191ca"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "a6766edd4190aeacb11cf381d58a9ae0bcf06e32", "filename": "lib/la-arena/src/lib.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c203ac2cf5aaf7b7ed759e0f84426debc063d3e8/lib%2Fla-arena%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c203ac2cf5aaf7b7ed759e0f84426debc063d3e8/lib%2Fla-arena%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/lib%2Fla-arena%2Fsrc%2Flib.rs?ref=c203ac2cf5aaf7b7ed759e0f84426debc063d3e8", "patch": "@@ -208,6 +208,16 @@ impl<T> Arena<T> {\n         Arena { data: Vec::new() }\n     }\n \n+    /// Create a new empty arena with specific capacity.\n+    ///\n+    /// ```\n+    /// let arena: la_arena::Arena<i32> = la_arena::Arena::with_capacity(42);\n+    /// assert!(arena.is_empty());\n+    /// ```\n+    pub fn with_capacity(capacity: usize) -> Arena<T> {\n+        Arena { data: Vec::with_capacity(capacity) }\n+    }\n+\n     /// Empties the arena, removing all contained values.\n     ///\n     /// ```"}, {"sha": "b5c49b3435d00f0b3c559f0b0dbc65afa658f471", "filename": "lib/la-arena/src/map.rs", "status": "modified", "additions": 11, "deletions": 1, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/c203ac2cf5aaf7b7ed759e0f84426debc063d3e8/lib%2Fla-arena%2Fsrc%2Fmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c203ac2cf5aaf7b7ed759e0f84426debc063d3e8/lib%2Fla-arena%2Fsrc%2Fmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/lib%2Fla-arena%2Fsrc%2Fmap.rs?ref=c203ac2cf5aaf7b7ed759e0f84426debc063d3e8", "patch": "@@ -11,6 +11,16 @@ pub struct ArenaMap<IDX, V> {\n }\n \n impl<T, V> ArenaMap<Idx<T>, V> {\n+    /// Creates a new empty map.\n+    pub const fn new() -> Self {\n+        Self { v: Vec::new(), _ty: PhantomData }\n+    }\n+\n+    /// Create a new empty map with specific capacity.\n+    pub fn with_capacity(capacity: usize) -> Self {\n+        Self { v: Vec::with_capacity(capacity), _ty: PhantomData }\n+    }\n+\n     /// Inserts a value associated with a given arena index into the map.\n     pub fn insert(&mut self, idx: Idx<T>, t: V) {\n         let idx = Self::to_idx(idx);\n@@ -70,6 +80,6 @@ impl<T, V> std::ops::IndexMut<Idx<V>> for ArenaMap<Idx<V>, T> {\n \n impl<T, V> Default for ArenaMap<Idx<V>, T> {\n     fn default() -> Self {\n-        ArenaMap { v: Vec::new(), _ty: PhantomData }\n+        Self::new()\n     }\n }"}]}