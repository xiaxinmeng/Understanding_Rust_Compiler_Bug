{"sha": "280069ddc750d8a20d075c76322c45d5db4a48f8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI4MDA2OWRkYzc1MGQ4YTIwZDA3NWM3NjMyMmM0NWQ1ZGI0YTQ4Zjg=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-01-22T16:07:32Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-01-22T16:07:32Z"}, "message": "Auto merge of #3685 - rust-lang:rustup, r=flip1995\n\nRustup", "tree": {"sha": "542493b36dbec54617fbf13e1f5fe35c1e85c3d5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/542493b36dbec54617fbf13e1f5fe35c1e85c3d5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/280069ddc750d8a20d075c76322c45d5db4a48f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/280069ddc750d8a20d075c76322c45d5db4a48f8", "html_url": "https://github.com/rust-lang/rust/commit/280069ddc750d8a20d075c76322c45d5db4a48f8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/280069ddc750d8a20d075c76322c45d5db4a48f8/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9d5b14864827d8b4655842b29a1bd803e15e3f17", "url": "https://api.github.com/repos/rust-lang/rust/commits/9d5b14864827d8b4655842b29a1bd803e15e3f17", "html_url": "https://github.com/rust-lang/rust/commit/9d5b14864827d8b4655842b29a1bd803e15e3f17"}, {"sha": "d6c806378e6901b83d5ab8594dcd2c6347e0196a", "url": "https://api.github.com/repos/rust-lang/rust/commits/d6c806378e6901b83d5ab8594dcd2c6347e0196a", "html_url": "https://github.com/rust-lang/rust/commit/d6c806378e6901b83d5ab8594dcd2c6347e0196a"}], "stats": {"total": 24, "additions": 20, "deletions": 4}, "files": [{"sha": "efa53ff94c395ab510fcaf888bb5e214127c6517", "filename": "clippy_lints/src/arithmetic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/280069ddc750d8a20d075c76322c45d5db4a48f8/clippy_lints%2Fsrc%2Farithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/280069ddc750d8a20d075c76322c45d5db4a48f8/clippy_lints%2Fsrc%2Farithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Farithmetic.rs?ref=280069ddc750d8a20d075c76322c45d5db4a48f8", "patch": "@@ -128,7 +128,7 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for Arithmetic {\n                 }\n                 self.const_span = Some(body_span);\n             },\n-            hir::BodyOwnerKind::Fn => (),\n+            hir::BodyOwnerKind::Fn | hir::BodyOwnerKind::Closure => (),\n         }\n     }\n "}, {"sha": "c83b0f155fcac952d6f703008484864a9c3fefd3", "filename": "clippy_lints/src/utils/mod.rs", "status": "modified", "additions": 19, "deletions": 3, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/280069ddc750d8a20d075c76322c45d5db4a48f8/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/280069ddc750d8a20d075c76322c45d5db4a48f8/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fmod.rs?ref=280069ddc750d8a20d075c76322c45d5db4a48f8", "patch": "@@ -64,9 +64,25 @@ pub fn differing_macro_contexts(lhs: Span, rhs: Span) -> bool {\n /// ```\n pub fn in_constant(cx: &LateContext<'_, '_>, id: NodeId) -> bool {\n     let parent_id = cx.tcx.hir().get_parent(id);\n-    match cx.tcx.hir().body_owner_kind(parent_id) {\n-        hir::BodyOwnerKind::Fn => false,\n-        hir::BodyOwnerKind::Const | hir::BodyOwnerKind::Static(..) => true,\n+    match cx.tcx.hir().get(parent_id) {\n+        Node::Item(&Item {\n+            node: ItemKind::Const(..),\n+            ..\n+        })\n+        | Node::TraitItem(&TraitItem {\n+            node: TraitItemKind::Const(..),\n+            ..\n+        })\n+        | Node::ImplItem(&ImplItem {\n+            node: ImplItemKind::Const(..),\n+            ..\n+        })\n+        | Node::AnonConst(_)\n+        | Node::Item(&Item {\n+            node: ItemKind::Static(..),\n+            ..\n+        }) => true,\n+        _ => false,\n     }\n }\n "}]}