{"sha": "0a144f7fffda62e2d4fe52dca41a8c39a96cce36", "node_id": "C_kwDOAAsO6NoAKDBhMTQ0ZjdmZmZkYTYyZTJkNGZlNTJkY2E0MWE4YzM5YTk2Y2NlMzY", "commit": {"author": {"name": "DropDemBits", "email": "r3usrlnd@gmail.com", "date": "2023-03-31T21:48:59Z"}, "committer": {"name": "DropDemBits", "email": "r3usrlnd@gmail.com", "date": "2023-03-31T21:48:59Z"}, "message": "Use bind by-move to get the parent from the match", "tree": {"sha": "f06869f37dd241c6a7ef5453919bb973fb15e2c2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f06869f37dd241c6a7ef5453919bb973fb15e2c2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0a144f7fffda62e2d4fe52dca41a8c39a96cce36", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQTeuYGhWxN6R+Ctnb9/4CpsHt+gdQUCZCdVTAAKCRB/4CpsHt+g\ndUTXAPwMbpBRC9X1nMNiQ/irwGvk1ru7KaqnF2VaqpB0l6yWuQEAwBYf9dwnaPNu\nUFR9NrHvsCJGEx68j/J0XTCppDHSkAs=\n=PMvm\n-----END PGP SIGNATURE-----", "payload": "tree f06869f37dd241c6a7ef5453919bb973fb15e2c2\nparent afe3dcd3ff6a5d64fc27311c2768070300c055d1\nauthor DropDemBits <r3usrlnd@gmail.com> 1680299339 -0400\ncommitter DropDemBits <r3usrlnd@gmail.com> 1680299339 -0400\n\nUse bind by-move to get the parent from the match\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0a144f7fffda62e2d4fe52dca41a8c39a96cce36", "html_url": "https://github.com/rust-lang/rust/commit/0a144f7fffda62e2d4fe52dca41a8c39a96cce36", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0a144f7fffda62e2d4fe52dca41a8c39a96cce36/comments", "author": {"login": "DropDemBits", "id": 13354275, "node_id": "MDQ6VXNlcjEzMzU0Mjc1", "avatar_url": "https://avatars.githubusercontent.com/u/13354275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DropDemBits", "html_url": "https://github.com/DropDemBits", "followers_url": "https://api.github.com/users/DropDemBits/followers", "following_url": "https://api.github.com/users/DropDemBits/following{/other_user}", "gists_url": "https://api.github.com/users/DropDemBits/gists{/gist_id}", "starred_url": "https://api.github.com/users/DropDemBits/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DropDemBits/subscriptions", "organizations_url": "https://api.github.com/users/DropDemBits/orgs", "repos_url": "https://api.github.com/users/DropDemBits/repos", "events_url": "https://api.github.com/users/DropDemBits/events{/privacy}", "received_events_url": "https://api.github.com/users/DropDemBits/received_events", "type": "User", "site_admin": false}, "committer": {"login": "DropDemBits", "id": 13354275, "node_id": "MDQ6VXNlcjEzMzU0Mjc1", "avatar_url": "https://avatars.githubusercontent.com/u/13354275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DropDemBits", "html_url": "https://github.com/DropDemBits", "followers_url": "https://api.github.com/users/DropDemBits/followers", "following_url": "https://api.github.com/users/DropDemBits/following{/other_user}", "gists_url": "https://api.github.com/users/DropDemBits/gists{/gist_id}", "starred_url": "https://api.github.com/users/DropDemBits/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DropDemBits/subscriptions", "organizations_url": "https://api.github.com/users/DropDemBits/orgs", "repos_url": "https://api.github.com/users/DropDemBits/repos", "events_url": "https://api.github.com/users/DropDemBits/events{/privacy}", "received_events_url": "https://api.github.com/users/DropDemBits/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "afe3dcd3ff6a5d64fc27311c2768070300c055d1", "url": "https://api.github.com/repos/rust-lang/rust/commits/afe3dcd3ff6a5d64fc27311c2768070300c055d1", "html_url": "https://github.com/rust-lang/rust/commit/afe3dcd3ff6a5d64fc27311c2768070300c055d1"}], "stats": {"total": 6, "additions": 2, "deletions": 4}, "files": [{"sha": "936362914aec068aeacff47a85f47f5e5af81084", "filename": "crates/ide/src/syntax_highlighting/highlight.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0a144f7fffda62e2d4fe52dca41a8c39a96cce36/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fhighlight.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a144f7fffda62e2d4fe52dca41a8c39a96cce36/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fhighlight.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fhighlight.rs?ref=0a144f7fffda62e2d4fe52dca41a8c39a96cce36", "patch": "@@ -675,14 +675,12 @@ fn is_consumed_lvalue(node: &SyntaxNode, local: &hir::Local, db: &RootDatabase)\n \n /// Returns true if the parent nodes of `node` all match the `SyntaxKind`s in `kinds` exactly.\n fn parents_match(mut node: NodeOrToken<SyntaxNode, SyntaxToken>, mut kinds: &[SyntaxKind]) -> bool {\n-    while let (Some(parent), [kind, rest @ ..]) = (&node.parent(), kinds) {\n+    while let (Some(parent), [kind, rest @ ..]) = (node.parent(), kinds) {\n         if parent.kind() != *kind {\n             return false;\n         }\n \n-        // FIXME: Would be nice to get parent out of the match, but binding by-move and by-value\n-        // in the same pattern is unstable: rust-lang/rust#68354.\n-        node = node.parent().unwrap().into();\n+        node = parent.into();\n         kinds = rest;\n     }\n "}]}