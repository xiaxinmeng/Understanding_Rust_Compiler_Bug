{"sha": "1f56441a00406ea5bd44ae43cdd639c1ffa2b101", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFmNTY0NDFhMDA0MDZlYTViZDQ0YWU0M2NkZDYzOWMxZmZhMmIxMDE=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-08-22T13:15:40Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-08-22T13:15:40Z"}, "message": "Rollup merge of #63782 - GuillaumeGomez:theme-switch-fix, r=kinnison\n\nFix confusion in theme picker functions\n\nTo reproduce the bug currently: click on the theme picker button twice (to show it then hide it). Then click anywhere else: the dropdown menu appears again.\n\nThe problem was coming from a confusion of what the `hideThemeButtonState` and `showThemeButtonState` were supposed to do. I switched their codes and updated the `switchThemeButtonState` function. It now works as expected.\n\nr? @kinnison", "tree": {"sha": "3da4f11c8378ee413b1d03135508121fff9a8639", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3da4f11c8378ee413b1d03135508121fff9a8639"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1f56441a00406ea5bd44ae43cdd639c1ffa2b101", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdXpV8CRBK7hj4Ov3rIwAAdHIIAEC7sK+isF0sDQPTMmGYuIRe\nJqyhMpJo3f9DRKtMwVSg84Qbur5p1x/sgnO7xhKTOOQv+QNC7LBDLdGf9S2dT99+\nCcUlB+rRwq3sxSKdhEtoVIG4tOSypYIkoIyEkMXvs6FpFw7EJCUSyXtLwn9mGiEG\nXvBsVa98h/UkZpGaM7bbSt/DkQmvNYQ1r6qKgymwku/nXVrG4M3RmvXuRRfU+/Hi\nHW3vAfEJSQnvMbKj1VLubt3Vny0x636AVVtEQARzinn56wyTFamKawPHCgvrpQnA\nSKkPPpIGHurc5ItFVGYHlB4UWzqFbM57zZW0Cd1L3Q8cH9UxSh0v6nc544J6wmA=\n=ZODT\n-----END PGP SIGNATURE-----\n", "payload": "tree 3da4f11c8378ee413b1d03135508121fff9a8639\nparent 30fd79cb6c8d68df10392595231a55e83f217f61\nparent 3375b05cd03a60cd7e2df0e21e232c73ff8a01cb\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1566479740 +0200\ncommitter GitHub <noreply@github.com> 1566479740 +0200\n\nRollup merge of #63782 - GuillaumeGomez:theme-switch-fix, r=kinnison\n\nFix confusion in theme picker functions\n\nTo reproduce the bug currently: click on the theme picker button twice (to show it then hide it). Then click anywhere else: the dropdown menu appears again.\n\nThe problem was coming from a confusion of what the `hideThemeButtonState` and `showThemeButtonState` were supposed to do. I switched their codes and updated the `switchThemeButtonState` function. It now works as expected.\n\nr? @kinnison\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1f56441a00406ea5bd44ae43cdd639c1ffa2b101", "html_url": "https://github.com/rust-lang/rust/commit/1f56441a00406ea5bd44ae43cdd639c1ffa2b101", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1f56441a00406ea5bd44ae43cdd639c1ffa2b101/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "30fd79cb6c8d68df10392595231a55e83f217f61", "url": "https://api.github.com/repos/rust-lang/rust/commits/30fd79cb6c8d68df10392595231a55e83f217f61", "html_url": "https://github.com/rust-lang/rust/commit/30fd79cb6c8d68df10392595231a55e83f217f61"}, {"sha": "3375b05cd03a60cd7e2df0e21e232c73ff8a01cb", "url": "https://api.github.com/repos/rust-lang/rust/commits/3375b05cd03a60cd7e2df0e21e232c73ff8a01cb", "html_url": "https://github.com/rust-lang/rust/commit/3375b05cd03a60cd7e2df0e21e232c73ff8a01cb"}], "stats": {"total": 28, "additions": 14, "deletions": 14}, "files": [{"sha": "b64e74468e6e9e1bac9d0917cec62aa9472d0421", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/1f56441a00406ea5bd44ae43cdd639c1ffa2b101/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f56441a00406ea5bd44ae43cdd639c1ffa2b101/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=1f56441a00406ea5bd44ae43cdd639c1ffa2b101", "patch": "@@ -876,22 +876,22 @@ r#\"var themes = document.getElementById(\"theme-choices\");\n var themePicker = document.getElementById(\"theme-picker\");\n \n function showThemeButtonState() {{\n-    themes.style.display = \"none\";\n-    themePicker.style.borderBottomRightRadius = \"3px\";\n-    themePicker.style.borderBottomLeftRadius = \"3px\";\n-}}\n-\n-function hideThemeButtonState() {{\n     themes.style.display = \"block\";\n     themePicker.style.borderBottomRightRadius = \"0\";\n     themePicker.style.borderBottomLeftRadius = \"0\";\n }}\n \n+function hideThemeButtonState() {{\n+    themes.style.display = \"none\";\n+    themePicker.style.borderBottomRightRadius = \"3px\";\n+    themePicker.style.borderBottomLeftRadius = \"3px\";\n+}}\n+\n function switchThemeButtonState() {{\n     if (themes.style.display === \"block\") {{\n-        showThemeButtonState();\n-    }} else {{\n         hideThemeButtonState();\n+    }} else {{\n+        showThemeButtonState();\n     }}\n }};\n "}, {"sha": "3d0f00095aca3f05a70248c22694954745d16255", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/1f56441a00406ea5bd44ae43cdd639c1ffa2b101/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/1f56441a00406ea5bd44ae43cdd639c1ffa2b101/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=1f56441a00406ea5bd44ae43cdd639c1ffa2b101", "patch": "@@ -105,9 +105,9 @@ if (!DOMTokenList.prototype.remove) {\n                 sidebar.appendChild(div);\n             }\n         }\n-        var themePicker = document.getElementsByClassName(\"theme-picker\");\n-        if (themePicker && themePicker.length > 0) {\n-            themePicker[0].style.display = \"none\";\n+        var themePickers = document.getElementsByClassName(\"theme-picker\");\n+        if (themePickers && themePickers.length > 0) {\n+            themePickers[0].style.display = \"none\";\n         }\n     }\n \n@@ -123,9 +123,9 @@ if (!DOMTokenList.prototype.remove) {\n             filler.remove();\n         }\n         document.getElementsByTagName(\"body\")[0].style.marginTop = \"\";\n-        var themePicker = document.getElementsByClassName(\"theme-picker\");\n-        if (themePicker && themePicker.length > 0) {\n-            themePicker[0].style.display = null;\n+        var themePickers = document.getElementsByClassName(\"theme-picker\");\n+        if (themePickers && themePickers.length > 0) {\n+            themePickers[0].style.display = null;\n         }\n     }\n "}]}