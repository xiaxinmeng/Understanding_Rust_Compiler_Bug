{"sha": "820c8101077c430e6fc10481782f5df0862c279c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyMGM4MTAxMDc3YzQzMGU2ZmMxMDQ4MTc4MmY1ZGYwODYyYzI3OWM=", "commit": {"author": {"name": "Knight", "email": "knight42@mail.ustc.edu.cn", "date": "2016-08-22T05:51:21Z"}, "committer": {"name": "Knight", "email": "knight42@mail.ustc.edu.cn", "date": "2016-08-22T05:51:21Z"}, "message": "Updated E0054 to new format", "tree": {"sha": "bf05ee59aa8169744d2909118196d59aaa101360", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bf05ee59aa8169744d2909118196d59aaa101360"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/820c8101077c430e6fc10481782f5df0862c279c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/820c8101077c430e6fc10481782f5df0862c279c", "html_url": "https://github.com/rust-lang/rust/commit/820c8101077c430e6fc10481782f5df0862c279c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/820c8101077c430e6fc10481782f5df0862c279c/comments", "author": null, "committer": null, "parents": [{"sha": "1576de0ce6b75fd177eca289a2826d0190e407a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/1576de0ce6b75fd177eca289a2826d0190e407a5", "html_url": "https://github.com/rust-lang/rust/commit/1576de0ce6b75fd177eca289a2826d0190e407a5"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "54e63497e6202debd71f51d8392dda6c2e4613d6", "filename": "src/librustc_typeck/check/cast.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/820c8101077c430e6fc10481782f5df0862c279c/src%2Flibrustc_typeck%2Fcheck%2Fcast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/820c8101077c430e6fc10481782f5df0862c279c/src%2Flibrustc_typeck%2Fcheck%2Fcast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fcast.rs?ref=820c8101077c430e6fc10481782f5df0862c279c", "patch": "@@ -161,6 +161,7 @@ impl<'a, 'gcx, 'tcx> CastCheck<'tcx> {\n             }\n             CastError::CastToBool => {\n                 struct_span_err!(fcx.tcx.sess, self.span, E0054, \"cannot cast as `bool`\")\n+                    .span_label(self.span, &format!(\"unsupported cast\"))\n                     .help(\"compare with zero instead\")\n                     .emit();\n             }"}, {"sha": "7839fb45d1c34ebfb7adce6e6f1e71cbc7345808", "filename": "src/test/compile-fail/cast-rfc0401.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/820c8101077c430e6fc10481782f5df0862c279c/src%2Ftest%2Fcompile-fail%2Fcast-rfc0401.rs", "raw_url": "https://github.com/rust-lang/rust/raw/820c8101077c430e6fc10481782f5df0862c279c/src%2Ftest%2Fcompile-fail%2Fcast-rfc0401.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcast-rfc0401.rs?ref=820c8101077c430e6fc10481782f5df0862c279c", "patch": "@@ -59,10 +59,12 @@ fn main()\n     //~^ ERROR casting\n     //~^^ HELP through a usize first\n     let _ = 3_i32 as bool;\n-    //~^ ERROR cannot cast as `bool`\n+    //~^ ERROR cannot cast as `bool` [E0054]\n+    //~| unsupported cast\n     //~| HELP compare with zero\n     let _ = E::A as bool;\n-    //~^ ERROR cannot cast as `bool`\n+    //~^ ERROR cannot cast as `bool` [E0054]\n+    //~| unsupported cast\n     //~| HELP compare with zero\n     let _ = 0x61u32 as char; //~ ERROR only `u8` can be cast\n "}]}