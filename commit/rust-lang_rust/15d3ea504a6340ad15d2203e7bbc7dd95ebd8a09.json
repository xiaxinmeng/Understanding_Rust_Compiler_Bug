{"sha": "15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09", "node_id": "C_kwDOAAsO6NoAKDE1ZDNlYTUwNGE2MzQwYWQxNWQyMjAzZTdiYmM3ZGQ5NWViZDhhMDk", "commit": {"author": {"name": "Yiming Lei", "email": "yiming.lei@futurewei.com", "date": "2022-06-29T16:09:34Z"}, "committer": {"name": "Yiming Lei", "email": "yiming.lei@futurewei.com", "date": "2022-06-30T15:34:10Z"}, "message": "For diagnostic information of Boolean, remind it as use the type: 'bool'\nIt helps programmers coming from other languages\n\tmodified:   compiler/rustc_resolve/src/late/diagnostics.rs\n\n\tmodified:   src/test/ui/lint/recommend-literal.rs\n\tmodified:   src/test/ui/lint/recommend-literal.stderr\n\n\tmodified:   compiler/rustc_resolve/src/late/diagnostics.rs\n\tmodified:   src/test/ui/lint/recommend-literal.rs\n\tmodified:   src/test/ui/lint/recommend-literal.stderr\n\n\tmodified:   compiler/rustc_resolve/src/late/diagnostics.rs\n\tmodified:   src/test/ui/lint/recommend-literal.rs\n\tmodified:   src/test/ui/lint/recommend-literal.stderr", "tree": {"sha": "003a4185a875d4cd5a31d2737173424317e6e94d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/003a4185a875d4cd5a31d2737173424317e6e94d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09", "html_url": "https://github.com/rust-lang/rust/commit/15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09/comments", "author": null, "committer": null, "parents": [{"sha": "66c83ffca1512ed76f9445ec7f7280f768ef71c4", "url": "https://api.github.com/repos/rust-lang/rust/commits/66c83ffca1512ed76f9445ec7f7280f768ef71c4", "html_url": "https://github.com/rust-lang/rust/commit/66c83ffca1512ed76f9445ec7f7280f768ef71c4"}], "stats": {"total": 45, "additions": 39, "deletions": 6}, "files": [{"sha": "598fd71115749ca115a47883b52bcb18f682ba11", "filename": "compiler/rustc_resolve/src/late/diagnostics.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Flate%2Fdiagnostics.rs?ref=15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09", "patch": "@@ -1508,6 +1508,8 @@ impl<'a: 'ast, 'ast> LateResolutionVisitor<'a, '_, 'ast> {\n         Some(match name {\n             \"byte\" => sym::u8, // In Java, bytes are signed, but in practice one almost always wants unsigned bytes.\n             \"short\" => sym::i16,\n+            \"Bool\" => sym::bool,\n+            \"Boolean\" => sym::bool,\n             \"boolean\" => sym::bool,\n             \"int\" => sym::i32,\n             \"long\" => sym::i64,"}, {"sha": "453cbf28569e9d9da10bdddaecb25888cf0b85fd", "filename": "src/test/ui/lint/recommend-literal.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09/src%2Ftest%2Fui%2Flint%2Frecommend-literal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09/src%2Ftest%2Fui%2Flint%2Frecommend-literal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Frecommend-literal.rs?ref=15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09", "patch": "@@ -7,6 +7,13 @@ fn main() {\n     let y: long = 74802374902374923;\n     //~^ ERROR cannot find type `long` in this scope\n     //~| HELP perhaps you intended to use this type\n+    let v1: Boolean = true;\n+    //~^ ERROR: cannot find type `Boolean` in this scope [E0412]\n+    //~| HELP perhaps you intended to use this type\n+    let v2: Bool = true;\n+    //~^ ERROR: cannot find type `Bool` in this scope [E0412]\n+    //~| HELP a builtin type with a similar name exists\n+    //~| HELP perhaps you intended to use this type\n }\n \n fn z(a: boolean) {"}, {"sha": "424ecadd4b8ccc5a0667944c479a243b4c17621d", "filename": "src/test/ui/lint/recommend-literal.stderr", "status": "modified", "additions": 30, "deletions": 6, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09/src%2Ftest%2Fui%2Flint%2Frecommend-literal.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09/src%2Ftest%2Fui%2Flint%2Frecommend-literal.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Frecommend-literal.stderr?ref=15d3ea504a6340ad15d2203e7bbc7dd95ebd8a09", "patch": "@@ -16,8 +16,32 @@ LL |     let y: long = 74802374902374923;\n    |            not found in this scope\n    |            help: perhaps you intended to use this type: `i64`\n \n+error[E0412]: cannot find type `Boolean` in this scope\n+  --> $DIR/recommend-literal.rs:10:13\n+   |\n+LL |     let v1: Boolean = true;\n+   |             ^^^^^^^\n+   |             |\n+   |             not found in this scope\n+   |             help: perhaps you intended to use this type: `bool`\n+\n+error[E0412]: cannot find type `Bool` in this scope\n+  --> $DIR/recommend-literal.rs:13:13\n+   |\n+LL |     let v2: Bool = true;\n+   |             ^^^^\n+   |\n+help: a builtin type with a similar name exists\n+   |\n+LL |     let v2: bool = true;\n+   |             ~~~~\n+help: perhaps you intended to use this type\n+   |\n+LL |     let v2: bool = true;\n+   |             ~~~~\n+\n error[E0412]: cannot find type `boolean` in this scope\n-  --> $DIR/recommend-literal.rs:12:9\n+  --> $DIR/recommend-literal.rs:19:9\n    |\n LL | fn z(a: boolean) {\n    |         ^^^^^^^\n@@ -26,7 +50,7 @@ LL | fn z(a: boolean) {\n    |         help: perhaps you intended to use this type: `bool`\n \n error[E0412]: cannot find type `byte` in this scope\n-  --> $DIR/recommend-literal.rs:17:11\n+  --> $DIR/recommend-literal.rs:24:11\n    |\n LL | fn a() -> byte {\n    |           ^^^^\n@@ -35,7 +59,7 @@ LL | fn a() -> byte {\n    |           help: perhaps you intended to use this type: `u8`\n \n error[E0412]: cannot find type `float` in this scope\n-  --> $DIR/recommend-literal.rs:24:12\n+  --> $DIR/recommend-literal.rs:31:12\n    |\n LL |     width: float,\n    |            ^^^^^\n@@ -44,7 +68,7 @@ LL |     width: float,\n    |            help: perhaps you intended to use this type: `f32`\n \n error[E0412]: cannot find type `int` in this scope\n-  --> $DIR/recommend-literal.rs:27:19\n+  --> $DIR/recommend-literal.rs:34:19\n    |\n LL |     depth: Option<int>,\n    |                   ^^^ not found in this scope\n@@ -59,14 +83,14 @@ LL | struct Data<int> {\n    |            +++++\n \n error[E0412]: cannot find type `short` in this scope\n-  --> $DIR/recommend-literal.rs:33:16\n+  --> $DIR/recommend-literal.rs:40:16\n    |\n LL | impl Stuff for short {}\n    |                ^^^^^\n    |                |\n    |                not found in this scope\n    |                help: perhaps you intended to use this type: `i16`\n \n-error: aborting due to 7 previous errors\n+error: aborting due to 9 previous errors\n \n For more information about this error, try `rustc --explain E0412`."}]}