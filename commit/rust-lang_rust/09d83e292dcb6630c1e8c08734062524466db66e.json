{"sha": "09d83e292dcb6630c1e8c08734062524466db66e", "node_id": "C_kwDOAAsO6NoAKDA5ZDgzZTI5MmRjYjY2MzBjMWU4YzA4NzM0MDYyNTI0NDY2ZGI2NmU", "commit": {"author": {"name": "Thom Chiovoloni", "email": "chiovolonit@gmail.com", "date": "2022-03-24T00:29:19Z"}, "committer": {"name": "Thom Chiovoloni", "email": "chiovolonit@gmail.com", "date": "2022-03-24T00:29:19Z"}, "message": "Add a `compile_fail` doctest to check that `io::Error: !UnwindSafe`", "tree": {"sha": "23c6ecf6026885e4539d8830e778e85fe62d8482", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/23c6ecf6026885e4539d8830e778e85fe62d8482"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/09d83e292dcb6630c1e8c08734062524466db66e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEh0+qV0hta6XFe2D54u/UMJ4RyKgFAmI7u18ACgkQ4u/UMJ4R\nyKiN9g/7BclbCwKrY6E5Dzpd6QkY49kf4FX9TiW1+1QytEi5bCoheQobDRJ7jnpq\nOqAtznrTObauJjDPvCwSRf+b14BN0OZzE2H8I2KwNX/6CxsTj7OdSPQ4jl3Y8R1L\nnTV8D4ONseqI5gz5QCU6kJ+eV5Li+wTPqz2/sLRKZjk4nk3XMfAwjvxwH6Q3rytx\nKuFOxocPrayHVEPIdwrdYYZnExk0GnGgfkVIExno4coeMD+vn8ICfn89CxGL1SGW\n0bl5MCBFDDzAbZD/X2SsbHFHzVWE+Y674AMApZRqg+mCBVihcRO9kKOt681K82HM\nXhDlE2Bp0a6MtTTBArbC5V7dAIzRRGgE1kRzmBr5kdbOpf/1myu586Kzd2gve3O1\nzyZl0DLXAEiKIfdHAjIsy83QBICpP/e6eR3fIxdIcOCC7Vo5hEQhr0a+63KlTzEj\n0cmKoF2+N7n7mDZG39n4+RE1/sfZKn0VUyYuKteNIbsNn7Li8iaWBKn6h7yaV4+B\nREI6BR4OIeDbBSS8N9qlbXHCD+5ynNfezGAJfKNTfZ64EEpSOdQ2yIwoyjc4oetE\nGvicrdZoP9DUjckBX4BvDm3oz/Xdsh6ZG8RfpjGMJw+HtT08U0J/3zHh2L9e4vY0\nsvWloWKj1/KO8RotU1FfdGIPd2S351hLS5MwnZKJxMPIs/5OqaM=\n=dZEz\n-----END PGP SIGNATURE-----", "payload": "tree 23c6ecf6026885e4539d8830e778e85fe62d8482\nparent b898ad499f7a2c806e8df0bfde6fbe3f3c5cb925\nauthor Thom Chiovoloni <chiovolonit@gmail.com> 1648081759 -0700\ncommitter Thom Chiovoloni <chiovolonit@gmail.com> 1648081759 -0700\n\nAdd a `compile_fail` doctest to check that `io::Error: !UnwindSafe`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/09d83e292dcb6630c1e8c08734062524466db66e", "html_url": "https://github.com/rust-lang/rust/commit/09d83e292dcb6630c1e8c08734062524466db66e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/09d83e292dcb6630c1e8c08734062524466db66e/comments", "author": {"login": "thomcc", "id": 860665, "node_id": "MDQ6VXNlcjg2MDY2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/860665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomcc", "html_url": "https://github.com/thomcc", "followers_url": "https://api.github.com/users/thomcc/followers", "following_url": "https://api.github.com/users/thomcc/following{/other_user}", "gists_url": "https://api.github.com/users/thomcc/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomcc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomcc/subscriptions", "organizations_url": "https://api.github.com/users/thomcc/orgs", "repos_url": "https://api.github.com/users/thomcc/repos", "events_url": "https://api.github.com/users/thomcc/events{/privacy}", "received_events_url": "https://api.github.com/users/thomcc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thomcc", "id": 860665, "node_id": "MDQ6VXNlcjg2MDY2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/860665?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thomcc", "html_url": "https://github.com/thomcc", "followers_url": "https://api.github.com/users/thomcc/followers", "following_url": "https://api.github.com/users/thomcc/following{/other_user}", "gists_url": "https://api.github.com/users/thomcc/gists{/gist_id}", "starred_url": "https://api.github.com/users/thomcc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thomcc/subscriptions", "organizations_url": "https://api.github.com/users/thomcc/orgs", "repos_url": "https://api.github.com/users/thomcc/repos", "events_url": "https://api.github.com/users/thomcc/events{/privacy}", "received_events_url": "https://api.github.com/users/thomcc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b898ad499f7a2c806e8df0bfde6fbe3f3c5cb925", "url": "https://api.github.com/repos/rust-lang/rust/commits/b898ad499f7a2c806e8df0bfde6fbe3f3c5cb925", "html_url": "https://github.com/rust-lang/rust/commit/b898ad499f7a2c806e8df0bfde6fbe3f3c5cb925"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "06614d9f4d16effa421783597f10552c3731abcc", "filename": "library/std/src/io/error/repr_bitpacked.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/09d83e292dcb6630c1e8c08734062524466db66e/library%2Fstd%2Fsrc%2Fio%2Ferror%2Frepr_bitpacked.rs", "raw_url": "https://github.com/rust-lang/rust/raw/09d83e292dcb6630c1e8c08734062524466db66e/library%2Fstd%2Fsrc%2Fio%2Ferror%2Frepr_bitpacked.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fio%2Ferror%2Frepr_bitpacked.rs?ref=09d83e292dcb6630c1e8c08734062524466db66e", "patch": "@@ -115,6 +115,15 @@ const TAG_CUSTOM: usize = 0b01;\n const TAG_OS: usize = 0b10;\n const TAG_SIMPLE: usize = 0b11;\n \n+/// The internal representation.\n+///\n+/// See the module docs for more, this is just a way to hack in a check that we\n+/// indeed are not unwind-safe.\n+///\n+/// ```compile_fail\n+/// fn is_unwind_safe<T: core::panic::UnwindSafe>() {}\n+/// is_unwind_safe::<std::io::Error>();\n+/// ```\n #[repr(transparent)]\n pub(super) struct Repr(NonNull<()>, PhantomData<ErrorData<Box<Custom>>>);\n "}]}