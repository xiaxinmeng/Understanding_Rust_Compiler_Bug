{"sha": "d6522ab2d3f7ab03c6d5d93ea196137823d2cfcf", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ2NTIyYWIyZDNmN2FiMDNjNmQ1ZDkzZWExOTYxMzc4MjNkMmNmY2Y=", "commit": {"author": {"name": "Paul Stansifer", "email": "paul.stansifer@gmail.com", "date": "2012-06-12T17:50:17Z"}, "committer": {"name": "Paul Stansifer", "email": "paul.stansifer@gmail.com", "date": "2012-06-15T19:41:41Z"}, "message": "Beginning of support for interpolation into token trees.", "tree": {"sha": "22fbcaa419a7f10e75a728f810a21b13875561e9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/22fbcaa419a7f10e75a728f810a21b13875561e9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d6522ab2d3f7ab03c6d5d93ea196137823d2cfcf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d6522ab2d3f7ab03c6d5d93ea196137823d2cfcf", "html_url": "https://github.com/rust-lang/rust/commit/d6522ab2d3f7ab03c6d5d93ea196137823d2cfcf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d6522ab2d3f7ab03c6d5d93ea196137823d2cfcf/comments", "author": {"login": "paulstansifer", "id": 1431, "node_id": "MDQ6VXNlcjE0MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulstansifer", "html_url": "https://github.com/paulstansifer", "followers_url": "https://api.github.com/users/paulstansifer/followers", "following_url": "https://api.github.com/users/paulstansifer/following{/other_user}", "gists_url": "https://api.github.com/users/paulstansifer/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulstansifer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulstansifer/subscriptions", "organizations_url": "https://api.github.com/users/paulstansifer/orgs", "repos_url": "https://api.github.com/users/paulstansifer/repos", "events_url": "https://api.github.com/users/paulstansifer/events{/privacy}", "received_events_url": "https://api.github.com/users/paulstansifer/received_events", "type": "User", "site_admin": false}, "committer": {"login": "paulstansifer", "id": 1431, "node_id": "MDQ6VXNlcjE0MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulstansifer", "html_url": "https://github.com/paulstansifer", "followers_url": "https://api.github.com/users/paulstansifer/followers", "following_url": "https://api.github.com/users/paulstansifer/following{/other_user}", "gists_url": "https://api.github.com/users/paulstansifer/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulstansifer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulstansifer/subscriptions", "organizations_url": "https://api.github.com/users/paulstansifer/orgs", "repos_url": "https://api.github.com/users/paulstansifer/repos", "events_url": "https://api.github.com/users/paulstansifer/events{/privacy}", "received_events_url": "https://api.github.com/users/paulstansifer/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d906fba63621d049bdbd0fe9478fef383efb2341", "url": "https://api.github.com/repos/rust-lang/rust/commits/d906fba63621d049bdbd0fe9478fef383efb2341", "html_url": "https://github.com/rust-lang/rust/commit/d906fba63621d049bdbd0fe9478fef383efb2341"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "8849da5d270756a0b0d5d1ff62aa628e2dbaae0c", "filename": "src/libsyntax/parse/lexer.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d6522ab2d3f7ab03c6d5d93ea196137823d2cfcf/src%2Flibsyntax%2Fparse%2Flexer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6522ab2d3f7ab03c6d5d93ea196137823d2cfcf/src%2Flibsyntax%2Fparse%2Flexer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Flexer.rs?ref=d6522ab2d3f7ab03c6d5d93ea196137823d2cfcf", "patch": "@@ -45,7 +45,7 @@ fn new_tt_reader(span_diagnostic: diagnostic::span_handler,\n               mut cur_tok: token::EOF, /* dummy value, never read */\n               mut cur_chpos: 0u /* dummy value, never read */\n              };\n-    //tt_next_token(r); /* get cur_tok and cur_chpos set up */\n+    tt_next_token(r); /* get cur_tok and cur_chpos set up */\n     ret r;\n }\n "}, {"sha": "7fb6165f7f12cc847b6bb84c36c5915f88eda8e9", "filename": "src/libsyntax/parse/token.rs", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/d6522ab2d3f7ab03c6d5d93ea196137823d2cfcf/src%2Flibsyntax%2Fparse%2Ftoken.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6522ab2d3f7ab03c6d5d93ea196137823d2cfcf/src%2Flibsyntax%2Fparse%2Ftoken.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Ftoken.rs?ref=d6522ab2d3f7ab03c6d5d93ea196137823d2cfcf", "patch": "@@ -77,9 +77,25 @@ enum token {\n     /* Name components */\n     IDENT(str_num, bool),\n     UNDERSCORE,\n+\n+    //ACTUALLY(whole_nonterminal),\n+\n     EOF,\n }\n \n+#[auto_serialize]\n+#[doc = \"For interpolation during macro expansion.\"]\n+enum whole_nonterminal {\n+    w_item(@ast::item),\n+    w_block(ast::blk),\n+    w_stmt(@ast::stmt),\n+    w_pat( @ast::pat),\n+    w_expr(@ast::expr),\n+    w_ty(  @ast::ty),\n+    w_ident(ast::ident),\n+    w_path(@ast::path),\n+}\n+\n fn binop_to_str(o: binop) -> str {\n     alt o {\n       PLUS { \"+\" }"}]}