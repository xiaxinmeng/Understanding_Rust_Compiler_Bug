{"sha": "5ecd3b40538c3d0a186e849f3a57e3a6443a4290", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVlY2QzYjQwNTM4YzNkMGExODZlODQ5ZjNhNTdlM2E2NDQzYTQyOTA=", "commit": {"author": {"name": "blake2-ppc", "email": "blake2-ppc", "date": "2013-09-09T14:01:42Z"}, "committer": {"name": "blake2-ppc", "email": "blake2-ppc", "date": "2013-09-09T14:01:42Z"}, "message": "Add test for issue #8587, about calling nested functions of the same name", "tree": {"sha": "cad03c61fa4e8bb88d6a5fa24140c00e496a9040", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cad03c61fa4e8bb88d6a5fa24140c00e496a9040"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5ecd3b40538c3d0a186e849f3a57e3a6443a4290", "comment_count": 9, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5ecd3b40538c3d0a186e849f3a57e3a6443a4290", "html_url": "https://github.com/rust-lang/rust/commit/5ecd3b40538c3d0a186e849f3a57e3a6443a4290", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5ecd3b40538c3d0a186e849f3a57e3a6443a4290/comments", "author": null, "committer": null, "parents": [{"sha": "79e78c4b0c49003c8191f7094651753ecfabfd24", "url": "https://api.github.com/repos/rust-lang/rust/commits/79e78c4b0c49003c8191f7094651753ecfabfd24", "html_url": "https://github.com/rust-lang/rust/commit/79e78c4b0c49003c8191f7094651753ecfabfd24"}], "stats": {"total": 50, "additions": 50, "deletions": 0}, "files": [{"sha": "054e0e3ae265c5b45e0de0bc018b076a786c02ee", "filename": "src/test/run-pass/nested-function-names-issue-8587.rs", "status": "added", "additions": 50, "deletions": 0, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/5ecd3b40538c3d0a186e849f3a57e3a6443a4290/src%2Ftest%2Frun-pass%2Fnested-function-names-issue-8587.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5ecd3b40538c3d0a186e849f3a57e3a6443a4290/src%2Ftest%2Frun-pass%2Fnested-function-names-issue-8587.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fnested-function-names-issue-8587.rs?ref=5ecd3b40538c3d0a186e849f3a57e3a6443a4290", "patch": "@@ -0,0 +1,50 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// Make sure nested functions are separate, even if they have\n+// equal name.\n+//\n+// Issue #8587\n+\n+pub struct X;\n+\n+impl X {\n+    fn f(&self) -> int {\n+        #[inline(never)]\n+        fn inner() -> int {\n+            0\n+        }\n+        inner()\n+    }\n+\n+    fn g(&self) -> int {\n+        #[inline(never)]\n+        fn inner_2() -> int {\n+            1\n+        }\n+        inner_2()\n+    }\n+\n+    fn h(&self) -> int {\n+        #[inline(never)]\n+        fn inner() -> int {\n+            2\n+        }\n+        inner()\n+    }\n+}\n+\n+fn main() {\n+    let n = X;\n+    assert_eq!(n.f(), 0);\n+    assert_eq!(n.g(), 1);\n+    // This test `h` used to fail.\n+    assert_eq!(n.h(), 2);\n+}"}]}