{"sha": "5c62a182a131b16802da9575575c218c712d878d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVjNjJhMTgyYTEzMWIxNjgwMmRhOTU3NTU3NWMyMThjNzEyZDg3OGQ=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2021-03-10T16:55:45Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-03-10T16:55:45Z"}, "message": "Rollup merge of #82962 - notriddle:cleanup-index, r=jyn514\n\nTreat header as first paragraph for shortened markdown descriptions\n\n\"The Rust Standard LibraryThe Rust Standard Library is the \u2026\" is an awful description.", "tree": {"sha": "fde74b4dd20cff86c76320c7192d88b8f17bdf5b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fde74b4dd20cff86c76320c7192d88b8f17bdf5b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5c62a182a131b16802da9575575c218c712d878d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgSPoRCRBK7hj4Ov3rIwAAdHIIAAlNcdqbRBkY961iiBsehXMq\n7jSgMErR3HZPDJ99xjL7Dus9nmPTYjd2DlbRZh+cQbTgNLdKtAtgovVEZc76Af+I\n+GsH2p6YI7EPnvyJdi1YzHcCCKgr6lJ/QP7rtPDLixd5UjOI9r2qns1OB/4pCmvo\nps9nyiOPsfYfXq2ollN6mwNQQD48iyDSuw2aWCgKwFB2x0z3R708IDiflW0BurU/\ntJB/gb8U9ajxZydq8x84YRt0fDGRrSTYUH3tu+gtIpgcclyChIbISGr+/eqq3eTE\nKkxzxDwYDItLUT7YJuC7TWUmb46VefqoCJ9au35Kar+ll+vouYVs6ffnWRq0RV8=\n=YdgK\n-----END PGP SIGNATURE-----\n", "payload": "tree fde74b4dd20cff86c76320c7192d88b8f17bdf5b\nparent b9a2570c9bb8eb9ea23d591b3a73fc40bb6aeb40\nparent 66b65043dfd2662c42e9d92d751b55e7b9bbff10\nauthor Dylan DPC <dylan.dpc@gmail.com> 1615395345 +0100\ncommitter GitHub <noreply@github.com> 1615395345 +0100\n\nRollup merge of #82962 - notriddle:cleanup-index, r=jyn514\n\nTreat header as first paragraph for shortened markdown descriptions\n\n\"The Rust Standard LibraryThe Rust Standard Library is the \u2026\" is an awful description.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5c62a182a131b16802da9575575c218c712d878d", "html_url": "https://github.com/rust-lang/rust/commit/5c62a182a131b16802da9575575c218c712d878d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5c62a182a131b16802da9575575c218c712d878d/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b9a2570c9bb8eb9ea23d591b3a73fc40bb6aeb40", "url": "https://api.github.com/repos/rust-lang/rust/commits/b9a2570c9bb8eb9ea23d591b3a73fc40bb6aeb40", "html_url": "https://github.com/rust-lang/rust/commit/b9a2570c9bb8eb9ea23d591b3a73fc40bb6aeb40"}, {"sha": "66b65043dfd2662c42e9d92d751b55e7b9bbff10", "url": "https://api.github.com/repos/rust-lang/rust/commits/66b65043dfd2662c42e9d92d751b55e7b9bbff10", "html_url": "https://github.com/rust-lang/rust/commit/66b65043dfd2662c42e9d92d751b55e7b9bbff10"}], "stats": {"total": 8, "additions": 3, "deletions": 5}, "files": [{"sha": "1505fe0369d8608394a861f25ed776221710d743", "filename": "src/librustdoc/html/markdown.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5c62a182a131b16802da9575575c218c712d878d/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5c62a182a131b16802da9575575c218c712d878d/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs?ref=5c62a182a131b16802da9575575c218c712d878d", "patch": "@@ -1093,6 +1093,7 @@ fn markdown_summary_with_limit(md: &str, length_limit: usize) -> (String, bool)\n                 Tag::Emphasis => s.push_str(\"</em>\"),\n                 Tag::Strong => s.push_str(\"</strong>\"),\n                 Tag::Paragraph => break,\n+                Tag::Heading(..) => break,\n                 _ => {}\n             },\n             Event::HardBreak | Event::SoftBreak => {"}, {"sha": "ac3ea4c8c5f6fd88fd7b6b4d7ae059ba642c75d9", "filename": "src/librustdoc/html/markdown/tests.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5c62a182a131b16802da9575575c218c712d878d/src%2Flibrustdoc%2Fhtml%2Fmarkdown%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5c62a182a131b16802da9575575c218c712d878d/src%2Flibrustdoc%2Fhtml%2Fmarkdown%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmarkdown%2Ftests.rs?ref=5c62a182a131b16802da9575575c218c712d878d", "patch": "@@ -235,6 +235,7 @@ fn test_short_markdown_summary() {\n     t(\"code `let x = i32;` ...\", \"code <code>let x = i32;</code> \u2026\");\n     t(\"type `Type<'static>` ...\", \"type <code>Type<'static></code> \u2026\");\n     t(\"# top header\", \"top header\");\n+    t(\"# top header\\n\\nfollowed by a paragraph\", \"top header\");\n     t(\"## header\", \"header\");\n     t(\"first paragraph\\n\\nsecond paragraph\", \"first paragraph\");\n     t(\"```\\nfn main() {}\\n```\", \"\");"}, {"sha": "a4621fb8ed5555b4dc4adadb8c8dc831b8d17dd2", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5c62a182a131b16802da9575575c218c712d878d/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5c62a182a131b16802da9575575c218c712d878d/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=5c62a182a131b16802da9575575c218c712d878d", "patch": "@@ -286,11 +286,7 @@ impl Serialize for TypeWithKind {\n     where\n         S: Serializer,\n     {\n-        let mut seq = serializer.serialize_seq(None)?;\n-        seq.serialize_element(&self.ty.name)?;\n-        let x: ItemType = self.kind.into();\n-        seq.serialize_element(&x)?;\n-        seq.end()\n+        (&self.ty.name, ItemType::from(self.kind)).serialize(serializer)\n     }\n }\n "}]}