{"sha": "a0cc9bb0f681e6ee9130d6683bf836fee36570f6", "node_id": "C_kwDOAAsO6NoAKGEwY2M5YmIwZjY4MWU2ZWU5MTMwZDY2ODNiZjgzNmZlZTM2NTcwZjY", "commit": {"author": {"name": "Stefan Schindler", "email": "dns2utf8@estada.ch", "date": "2021-09-10T11:40:38Z"}, "committer": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2021-10-03T12:20:08Z"}, "message": "Add a test to detect overlapping entries in overview tables\n\nDetects https://github.com/rust-lang/rust/issues/88545", "tree": {"sha": "b419850255b8c76a09f91460262a203242b195f1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b419850255b8c76a09f91460262a203242b195f1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a0cc9bb0f681e6ee9130d6683bf836fee36570f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a0cc9bb0f681e6ee9130d6683bf836fee36570f6", "html_url": "https://github.com/rust-lang/rust/commit/a0cc9bb0f681e6ee9130d6683bf836fee36570f6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a0cc9bb0f681e6ee9130d6683bf836fee36570f6/comments", "author": {"login": "dns2utf8", "id": 739070, "node_id": "MDQ6VXNlcjczOTA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/739070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dns2utf8", "html_url": "https://github.com/dns2utf8", "followers_url": "https://api.github.com/users/dns2utf8/followers", "following_url": "https://api.github.com/users/dns2utf8/following{/other_user}", "gists_url": "https://api.github.com/users/dns2utf8/gists{/gist_id}", "starred_url": "https://api.github.com/users/dns2utf8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dns2utf8/subscriptions", "organizations_url": "https://api.github.com/users/dns2utf8/orgs", "repos_url": "https://api.github.com/users/dns2utf8/repos", "events_url": "https://api.github.com/users/dns2utf8/events{/privacy}", "received_events_url": "https://api.github.com/users/dns2utf8/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2801a770ce3a21a53769180d9815240ac555cbef", "url": "https://api.github.com/repos/rust-lang/rust/commits/2801a770ce3a21a53769180d9815240ac555cbef", "html_url": "https://github.com/rust-lang/rust/commit/2801a770ce3a21a53769180d9815240ac555cbef"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "924fab1ea91068817d431d481f26c94218867fdb", "filename": "src/test/rustdoc-gui/huge-collection-of-constants.goml", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a0cc9bb0f681e6ee9130d6683bf836fee36570f6/src%2Ftest%2Frustdoc-gui%2Fhuge-collection-of-constants.goml", "raw_url": "https://github.com/rust-lang/rust/raw/a0cc9bb0f681e6ee9130d6683bf836fee36570f6/src%2Ftest%2Frustdoc-gui%2Fhuge-collection-of-constants.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fhuge-collection-of-constants.goml?ref=a0cc9bb0f681e6ee9130d6683bf836fee36570f6", "patch": "@@ -0,0 +1,5 @@\n+goto: file://|DOC_PATH|/test_docs/huge_amount_of_consts/index.html\n+\n+// Make sure that the last two entries are more than 12 pixels apart and not stacked on each other.\n+\n+compare-elements-position-near-false: (\"//*[@class='item-table']//div[last()-1]\", \"//*[@class='item-table']//div[last()-3]\", {\"y\": 12})"}, {"sha": "5f527078e79a84185bed4544a54d238818682b0b", "filename": "src/test/rustdoc-gui/src/test_docs/Cargo.toml", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a0cc9bb0f681e6ee9130d6683bf836fee36570f6/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a0cc9bb0f681e6ee9130d6683bf836fee36570f6/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2FCargo.toml?ref=a0cc9bb0f681e6ee9130d6683bf836fee36570f6", "patch": "@@ -3,5 +3,7 @@ name = \"test_docs\"\n version = \"0.1.0\"\n edition = \"2018\"\n \n+build = \"build.rs\"\n+\n [lib]\n path = \"lib.rs\""}, {"sha": "16c96ded9120ce08c478503a97b2ebe7967d6547", "filename": "src/test/rustdoc-gui/src/test_docs/build.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/a0cc9bb0f681e6ee9130d6683bf836fee36570f6/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Fbuild.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a0cc9bb0f681e6ee9130d6683bf836fee36570f6/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Fbuild.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Fbuild.rs?ref=a0cc9bb0f681e6ee9130d6683bf836fee36570f6", "patch": "@@ -0,0 +1,15 @@\n+//! generate 2000 constants for testing\n+\n+use std::{fs::write, path::PathBuf};\n+\n+fn main() -> std::io::Result<()> {\n+    let out_dir = std::env::var(\"OUT_DIR\").expect(\"OUT_DIR is not defined\");\n+\n+    let mut output = String::new();\n+    for i in 0..2000 {\n+        let line = format!(\"/// Some const A{0}\\npub const A{0}: isize = 0;\\n\", i);\n+        output.push_str(&*line);\n+    };\n+\n+    write(&[&*out_dir, \"huge_amount_of_consts.rs\"].iter().collect::<PathBuf>(), output)\n+}"}, {"sha": "0aa1426a36abf38b349b98044699601e7295b2e3", "filename": "src/test/rustdoc-gui/src/test_docs/lib.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a0cc9bb0f681e6ee9130d6683bf836fee36570f6/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a0cc9bb0f681e6ee9130d6683bf836fee36570f6/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs?ref=a0cc9bb0f681e6ee9130d6683bf836fee36570f6", "patch": "@@ -116,3 +116,7 @@ pub mod keyword {}\n \n /// Just some type alias.\n pub type SomeType = u32;\n+\n+pub mod huge_amount_of_consts {\n+    include!(concat!(env!(\"OUT_DIR\"), \"/huge_amount_of_consts.rs\"));\n+}"}]}