{"sha": "f7d86b2f4ace416a65e84603082c756b8b5dc43e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY3ZDg2YjJmNGFjZTQxNmE2NWU4NDYwMzA4MmM3NTZiOGI1ZGM0M2U=", "commit": {"author": {"name": "Jakub Wieczorek", "email": "jakub@jakub.cc", "date": "2014-06-06T13:51:42Z"}, "committer": {"name": "Jakub Wieczorek", "email": "jakub@jakub.cc", "date": "2014-06-08T11:36:28Z"}, "message": "Remove the dead code identified by the new lint", "tree": {"sha": "9c47bd9132d7f323bde048e1fe1998c2d5a01692", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9c47bd9132d7f323bde048e1fe1998c2d5a01692"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f7d86b2f4ace416a65e84603082c756b8b5dc43e", "comment_count": 4, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f7d86b2f4ace416a65e84603082c756b8b5dc43e", "html_url": "https://github.com/rust-lang/rust/commit/f7d86b2f4ace416a65e84603082c756b8b5dc43e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f7d86b2f4ace416a65e84603082c756b8b5dc43e/comments", "author": null, "committer": null, "parents": [{"sha": "0271224bdae26260ab498f47323997f9edb5879e", "url": "https://api.github.com/repos/rust-lang/rust/commits/0271224bdae26260ab498f47323997f9edb5879e", "html_url": "https://github.com/rust-lang/rust/commit/0271224bdae26260ab498f47323997f9edb5879e"}], "stats": {"total": 207, "additions": 61, "deletions": 146}, "files": [{"sha": "6d39a332ad9bd5a3549c7475a9dafa4d0aeb64b8", "filename": "src/libglob/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibglob%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibglob%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibglob%2Flib.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -44,7 +44,6 @@ use std::string::String;\n  * pattern - see the `glob` function for more details.\n  */\n pub struct Paths {\n-    root: Path,\n     dir_patterns: Vec<Pattern>,\n     require_dir: bool,\n     options: MatchOptions,\n@@ -108,7 +107,6 @@ pub fn glob_with(pattern: &str, options: MatchOptions) -> Paths {\n             // FIXME: How do we want to handle verbatim paths? I'm inclined to return nothing,\n             // since we can't very well find all UNC shares with a 1-letter server name.\n             return Paths {\n-                root: root,\n                 dir_patterns: Vec::new(),\n                 require_dir: false,\n                 options: options,\n@@ -134,7 +132,6 @@ pub fn glob_with(pattern: &str, options: MatchOptions) -> Paths {\n     }\n \n     Paths {\n-        root: root,\n         dir_patterns: dir_patterns,\n         require_dir: require_dir,\n         options: options,"}, {"sha": "1ecf7e57023830f43198c02d42540eea379bb024", "filename": "src/libnative/io/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibnative%2Fio%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibnative%2Fio%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibnative%2Fio%2Fmod.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -152,13 +152,13 @@ fn keep_going(data: &[u8], f: |*u8, uint| -> i64) -> i64 {\n /// Implementation of rt::rtio's IoFactory trait to generate handles to the\n /// native I/O functionality.\n pub struct IoFactory {\n-    cannot_construct_outside_of_this_module: ()\n+    _cannot_construct_outside_of_this_module: ()\n }\n \n impl IoFactory {\n     pub fn new() -> IoFactory {\n         net::init();\n-        IoFactory { cannot_construct_outside_of_this_module: () }\n+        IoFactory { _cannot_construct_outside_of_this_module: () }\n     }\n }\n "}, {"sha": "e7effbd6bdbfb064ba935408f9cd0fc9a932b86d", "filename": "src/libnative/io/net.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibnative%2Fio%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibnative%2Fio%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibnative%2Fio%2Fnet.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -254,7 +254,10 @@ pub struct TcpStream {\n \n struct Inner {\n     fd: sock_t,\n-    lock: mutex::NativeMutex,\n+\n+    // Unused on Linux, where this lock is not necessary.\n+    #[allow(dead_code)]\n+    lock: mutex::NativeMutex\n }\n \n pub struct Guard<'a> {"}, {"sha": "1458b475ae9598729e4cc700ae52f7ea515f8800", "filename": "src/libnative/io/pipe_unix.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibnative%2Fio%2Fpipe_unix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibnative%2Fio%2Fpipe_unix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibnative%2Fio%2Fpipe_unix.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -58,7 +58,10 @@ fn addr_to_sockaddr_un(addr: &CString) -> IoResult<(libc::sockaddr_storage, uint\n \n struct Inner {\n     fd: fd_t,\n-    lock: mutex::NativeMutex,\n+\n+    // Unused on Linux, where this lock is not necessary.\n+    #[allow(dead_code)]\n+    lock: mutex::NativeMutex\n }\n \n impl Inner {"}, {"sha": "b1a951498309fca3c1efed3dc8c1f6aa4c7a2f03", "filename": "src/librand/distributions/gamma.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrand%2Fdistributions%2Fgamma.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrand%2Fdistributions%2Fgamma.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrand%2Fdistributions%2Fgamma.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -81,7 +81,6 @@ struct GammaSmallShape {\n /// See `Gamma` for sampling from a Gamma distribution with general\n /// shape parameters.\n struct GammaLargeShape {\n-    shape: f64,\n     scale: f64,\n     c: f64,\n     d: f64\n@@ -118,7 +117,6 @@ impl GammaLargeShape {\n     fn new_raw(shape: f64, scale: f64) -> GammaLargeShape {\n         let d = shape - 1. / 3.;\n         GammaLargeShape {\n-            shape: shape,\n             scale: scale,\n             c: 1. / (9. * d).sqrt(),\n             d: d"}, {"sha": "cf23a34d08cb6fe2e4d677a6031eaba1e9e84149", "filename": "src/librustc/front/std_inject.rs", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Ffront%2Fstd_inject.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Ffront%2Fstd_inject.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ffront%2Fstd_inject.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -130,9 +130,7 @@ fn inject_crates_ref(sess: &Session, krate: ast::Crate) -> ast::Crate {\n     fold.fold_crate(krate)\n }\n \n-struct PreludeInjector<'a> {\n-    sess: &'a Session,\n-}\n+struct PreludeInjector<'a>;\n \n \n impl<'a> fold::Folder for PreludeInjector<'a> {\n@@ -223,9 +221,7 @@ impl<'a> fold::Folder for PreludeInjector<'a> {\n     }\n }\n \n-fn inject_prelude(sess: &Session, krate: ast::Crate) -> ast::Crate {\n-    let mut fold = PreludeInjector {\n-        sess: sess,\n-    };\n+fn inject_prelude(_: &Session, krate: ast::Crate) -> ast::Crate {\n+    let mut fold = PreludeInjector;\n     fold.fold_crate(krate)\n }"}, {"sha": "cfda97ad26fd77860573621c224ec92743bd548d", "filename": "src/librustc/metadata/loader.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmetadata%2Floader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmetadata%2Floader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Floader.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -86,7 +86,7 @@ pub struct Library {\n }\n \n pub struct ArchiveMetadata {\n-    archive: ArchiveRO,\n+    _archive: ArchiveRO,\n     // See comments in ArchiveMetadata::new for why this is static\n     data: &'static [u8],\n }\n@@ -487,7 +487,7 @@ impl ArchiveMetadata {\n             unsafe { mem::transmute(data) }\n         };\n         Some(ArchiveMetadata {\n-            archive: ar,\n+            _archive: ar,\n             data: data,\n         })\n     }"}, {"sha": "363fcf79eb52129384083a38d87d9310f15f0cff", "filename": "src/librustc/metadata/tyencode.rs", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmetadata%2Ftyencode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmetadata%2Ftyencode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Ftyencode.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -42,8 +42,6 @@ pub struct ctxt<'a> {\n // Extra parameters are for converting to/from def_ids in the string rep.\n // Whatever format you choose should not contain pipe characters.\n pub struct ty_abbrev {\n-    pos: uint,\n-    len: uint,\n     s: String\n }\n \n@@ -68,8 +66,6 @@ pub fn enc_ty(w: &mut MemWriter, cx: &ctxt, t: ty::t) {\n     if abbrev_len < len {\n         // I.e. it's actually an abbreviation.\n         cx.abbrevs.borrow_mut().insert(t, ty_abbrev {\n-            pos: pos as uint,\n-            len: len as uint,\n             s: format!(\"\\\\#{:x}:{:x}\\\\#\", pos, len)\n         });\n     }"}, {"sha": "dc8567af9edad9fb9727a8639815791ca6d86479", "filename": "src/librustc/middle/borrowck/gather_loans/lifetime.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fgather_loans%2Flifetime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fgather_loans%2Flifetime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fgather_loans%2Flifetime.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -29,7 +29,7 @@ pub fn guarantee_lifetime(bccx: &BorrowckCtxt,\n                           cause: euv::LoanCause,\n                           cmt: mc::cmt,\n                           loan_region: ty::Region,\n-                          loan_kind: ty::BorrowKind)\n+                          _: ty::BorrowKind)\n                           -> Result<(),()> {\n     debug!(\"guarantee_lifetime(cmt={}, loan_region={})\",\n            cmt.repr(bccx.tcx), loan_region.repr(bccx.tcx));\n@@ -38,7 +38,6 @@ pub fn guarantee_lifetime(bccx: &BorrowckCtxt,\n                                          span: span,\n                                          cause: cause,\n                                          loan_region: loan_region,\n-                                         loan_kind: loan_kind,\n                                          cmt_original: cmt.clone()};\n     ctxt.check(&cmt, None)\n }\n@@ -55,7 +54,6 @@ struct GuaranteeLifetimeContext<'a> {\n     span: Span,\n     cause: euv::LoanCause,\n     loan_region: ty::Region,\n-    loan_kind: ty::BorrowKind,\n     cmt_original: mc::cmt\n }\n "}, {"sha": "ec362f924418c0ba77b8ea153a0ece57efbafdbb", "filename": "src/librustc/middle/borrowck/gather_loans/mod.rs", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fgather_loans%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fgather_loans%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fgather_loans%2Fmod.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -310,7 +310,6 @@ impl<'a> GatherLoanCtxt<'a> {\n                 Loan {\n                     index: self.all_loans.len(),\n                     loan_path: loan_path,\n-                    cmt: cmt,\n                     kind: req_kind,\n                     gen_scope: gen_scope,\n                     kill_scope: kill_scope,\n@@ -481,8 +480,7 @@ impl<'a> GatherLoanCtxt<'a> {\n /// This visitor walks static initializer's expressions and makes\n /// sure the loans being taken are sound.\n struct StaticInitializerCtxt<'a> {\n-    bccx: &'a BorrowckCtxt<'a>,\n-    item_ub: ast::NodeId,\n+    bccx: &'a BorrowckCtxt<'a>\n }\n \n impl<'a> visit::Visitor<()> for StaticInitializerCtxt<'a> {\n@@ -509,8 +507,7 @@ pub fn gather_loans_in_static_initializer(bccx: &mut BorrowckCtxt, expr: &ast::E\n     debug!(\"gather_loans_in_static_initializer(expr={})\", expr.repr(bccx.tcx));\n \n     let mut sicx = StaticInitializerCtxt {\n-        bccx: bccx,\n-        item_ub: expr.id,\n+        bccx: bccx\n     };\n \n     sicx.visit_expr(expr, ());"}, {"sha": "7c1f5937472970f86af8903950c8a46b1fa13063", "filename": "src/librustc/middle/borrowck/gather_loans/restrictions.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fgather_loans%2Frestrictions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fgather_loans%2Frestrictions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fgather_loans%2Frestrictions.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -36,7 +36,6 @@ pub fn compute_restrictions(bccx: &BorrowckCtxt,\n         bccx: bccx,\n         span: span,\n         cause: cause,\n-        cmt_original: cmt.clone(),\n         loan_region: loan_region,\n     };\n \n@@ -49,7 +48,6 @@ pub fn compute_restrictions(bccx: &BorrowckCtxt,\n struct RestrictionsContext<'a> {\n     bccx: &'a BorrowckCtxt<'a>,\n     span: Span,\n-    cmt_original: mc::cmt,\n     loan_region: ty::Region,\n     cause: euv::LoanCause,\n }"}, {"sha": "7aaba22dd843584150e5e50bbdd2ea8379bb7a1e", "filename": "src/librustc/middle/borrowck/mod.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fborrowck%2Fmod.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -180,7 +180,6 @@ pub enum PartialTotal {\n pub struct Loan {\n     index: uint,\n     loan_path: Rc<LoanPath>,\n-    cmt: mc::cmt,\n     kind: ty::BorrowKind,\n     restrictions: Vec<Restriction>,\n     gen_scope: ast::NodeId,"}, {"sha": "cf3d6983dfbb89b3221204a13f9e477f3d4a8412", "filename": "src/librustc/middle/liveness.rs", "status": "modified", "additions": 4, "deletions": 44, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fliveness.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fliveness.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fliveness.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -225,21 +225,12 @@ fn invalid_node() -> LiveNode { LiveNode(uint::MAX) }\n \n struct CaptureInfo {\n     ln: LiveNode,\n-    is_move: bool,\n     var_nid: NodeId\n }\n \n-enum LocalKind {\n-    FromMatch(BindingMode),\n-    FromLetWithInitializer,\n-    FromLetNoInitializer\n-}\n-\n struct LocalInfo {\n     id: NodeId,\n-    ident: Ident,\n-    is_mutbl: bool,\n-    kind: LocalKind,\n+    ident: Ident\n }\n \n enum VarKind {\n@@ -405,23 +396,13 @@ fn visit_fn(ir: &mut IrMaps,\n }\n \n fn visit_local(ir: &mut IrMaps, local: &Local) {\n-    pat_util::pat_bindings(&ir.tcx.def_map, local.pat, |bm, p_id, sp, path| {\n+    pat_util::pat_bindings(&ir.tcx.def_map, local.pat, |_, p_id, sp, path| {\n         debug!(\"adding local variable {}\", p_id);\n         let name = ast_util::path_to_ident(path);\n         ir.add_live_node_for_node(p_id, VarDefNode(sp));\n-        let kind = match local.init {\n-          Some(_) => FromLetWithInitializer,\n-          None => FromLetNoInitializer\n-        };\n-        let mutbl = match bm {\n-            BindByValue(MutMutable) => true,\n-            _ => false\n-        };\n         ir.add_variable(Local(LocalInfo {\n           id: p_id,\n-          ident: name,\n-          is_mutbl: mutbl,\n-          kind: kind\n+          ident: name\n         }));\n     });\n     visit::walk_local(ir, local, ());\n@@ -433,16 +414,10 @@ fn visit_arm(ir: &mut IrMaps, arm: &Arm) {\n             debug!(\"adding local variable {} from match with bm {:?}\",\n                    p_id, bm);\n             let name = ast_util::path_to_ident(path);\n-            let mutbl = match bm {\n-                BindByValue(MutMutable) => true,\n-                _ => false\n-            };\n             ir.add_live_node_for_node(p_id, VarDefNode(sp));\n             ir.add_variable(Local(LocalInfo {\n                 id: p_id,\n-                ident: name,\n-                is_mutbl: mutbl,\n-                kind: FromMatch(bm)\n+                ident: name\n             }));\n         })\n     }\n@@ -480,27 +455,12 @@ fn visit_expr(ir: &mut IrMaps, expr: &Expr) {\n         // in better error messages than just pointing at the closure\n         // construction site.\n         let mut call_caps = Vec::new();\n-        let fv_mode = freevars::get_capture_mode(ir.tcx, expr.id);\n         freevars::with_freevars(ir.tcx, expr.id, |freevars| {\n             for fv in freevars.iter() {\n                 match moved_variable_node_id_from_def(fv.def) {\n                     Some(rv) => {\n                         let fv_ln = ir.add_live_node(FreeVarNode(fv.span));\n-                        let fv_id = fv.def.def_id().node;\n-                        let fv_ty = ty::node_id_to_type(ir.tcx, fv_id);\n-                        let is_move = match fv_mode {\n-                            // var must be dead afterwards\n-                            freevars::CaptureByValue => {\n-                                ty::type_moves_by_default(ir.tcx, fv_ty)\n-                            }\n-\n-                            // var can still be used\n-                            freevars::CaptureByRef => {\n-                                false\n-                            }\n-                        };\n                         call_caps.push(CaptureInfo {ln: fv_ln,\n-                                                    is_move: is_move,\n                                                     var_nid: rv});\n                     }\n                     None => {}"}, {"sha": "50cbf6bbaf0c58abd0933c6baaabf411f9f51414", "filename": "src/librustc/middle/privacy.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fprivacy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fprivacy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fprivacy.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -353,7 +353,6 @@ impl<'a> Visitor<()> for EmbargoVisitor<'a> {\n struct PrivacyVisitor<'a> {\n     tcx: &'a ty::ctxt,\n     curitem: ast::NodeId,\n-    in_fn: bool,\n     in_foreign: bool,\n     parents: NodeMap<ast::NodeId>,\n     external_exports: resolve::ExternalExports,\n@@ -1445,7 +1444,6 @@ pub fn check_crate(tcx: &ty::ctxt,\n     // Use the parent map to check the privacy of everything\n     let mut visitor = PrivacyVisitor {\n         curitem: ast::DUMMY_NODE_ID,\n-        in_fn: false,\n         in_foreign: false,\n         tcx: tcx,\n         parents: visitor.parents,"}, {"sha": "a700c3a09024b076b882e8908d664d0868df18d9", "filename": "src/librustc/middle/resolve.rs", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fresolve.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Fresolve.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fresolve.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -806,7 +806,6 @@ fn namespace_error_to_str(ns: NamespaceError) -> &'static str {\n /// The main resolver class.\n struct Resolver<'a> {\n     session: &'a Session,\n-    lang_items: &'a LanguageItems,\n \n     graph_root: NameBindings,\n \n@@ -843,9 +842,6 @@ struct Resolver<'a> {\n     // The idents for the primitive types.\n     primitive_type_table: PrimitiveTypeTable,\n \n-    // The four namespaces.\n-    namespaces: Vec<Namespace> ,\n-\n     def_map: DefMap,\n     export_map2: ExportMap2,\n     trait_map: TraitMap,\n@@ -902,7 +898,7 @@ impl<'a, 'b> Visitor<()> for UnusedImportCheckVisitor<'a, 'b> {\n }\n \n impl<'a> Resolver<'a> {\n-    fn new(session: &'a Session, lang_items: &'a LanguageItems, crate_span: Span) -> Resolver<'a> {\n+    fn new(session: &'a Session, crate_span: Span) -> Resolver<'a> {\n         let graph_root = NameBindings::new();\n \n         graph_root.define_module(NoParentLink,\n@@ -916,7 +912,6 @@ impl<'a> Resolver<'a> {\n \n         Resolver {\n             session: session,\n-            lang_items: lang_items,\n \n             // The outermost module has def ID 0; this is not reflected in the\n             // AST.\n@@ -941,8 +936,6 @@ impl<'a> Resolver<'a> {\n \n             primitive_type_table: PrimitiveTypeTable::new(),\n \n-            namespaces: vec!(TypeNS, ValueNS),\n-\n             def_map: RefCell::new(NodeMap::new()),\n             export_map2: RefCell::new(NodeMap::new()),\n             trait_map: NodeMap::new(),\n@@ -5576,10 +5569,10 @@ pub struct CrateMap {\n \n /// Entry point to crate resolution.\n pub fn resolve_crate(session: &Session,\n-                     lang_items: &LanguageItems,\n+                     _: &LanguageItems,\n                      krate: &Crate)\n                   -> CrateMap {\n-    let mut resolver = Resolver::new(session, lang_items, krate.span);\n+    let mut resolver = Resolver::new(session, krate.span);\n     resolver.resolve(krate);\n     let Resolver { def_map, export_map2, trait_map, last_private,\n                    external_exports, .. } = resolver;"}, {"sha": "1cc490bf8f8ac66079d5a969c88e5193b60d8513", "filename": "src/librustc/middle/trans/base.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -106,7 +106,9 @@ pub fn init_insn_ctxt() {\n     task_local_insn_key.replace(Some(RefCell::new(Vec::new())));\n }\n \n-pub struct _InsnCtxt { _x: () }\n+pub struct _InsnCtxt {\n+    _cannot_construct_outside_of_this_module: ()\n+}\n \n #[unsafe_destructor]\n impl Drop for _InsnCtxt {\n@@ -124,7 +126,7 @@ pub fn push_ctxt(s: &'static str) -> _InsnCtxt {\n         Some(ctx) => ctx.borrow_mut().push(s),\n         None => {}\n     }\n-    _InsnCtxt { _x: () }\n+    _InsnCtxt { _cannot_construct_outside_of_this_module: () }\n }\n \n pub struct StatRecorder<'a> {"}, {"sha": "565fa88bf438e77cb0fdd2b0176b04d4a961eb48", "filename": "src/librustc/middle/trans/foreign.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Ftrans%2Fforeign.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Ftrans%2Fforeign.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fforeign.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -64,9 +64,6 @@ struct LlvmSignature {\n     // function, because the foreign function may opt to return via an\n     // out pointer.\n     llret_ty: Type,\n-\n-    // True if *Rust* would use an outpointer for this function.\n-    sret: bool,\n }\n \n \n@@ -847,8 +844,7 @@ fn foreign_signature(ccx: &CrateContext, fn_sig: &ty::FnSig, arg_tys: &[ty::t])\n     let llret_ty = type_of::type_of(ccx, fn_sig.output);\n     LlvmSignature {\n         llarg_tys: llarg_tys,\n-        llret_ty: llret_ty,\n-        sret: type_of::return_uses_outptr(ccx, fn_sig.output),\n+        llret_ty: llret_ty\n     }\n }\n "}, {"sha": "2c0593184786e961ec20fad955d4df55666a92db", "filename": "src/librustc/middle/typeck/coherence.rs", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -52,9 +52,7 @@ use std::cell::RefCell;\n use std::rc::Rc;\n \n struct UniversalQuantificationResult {\n-    monotype: t,\n-    type_variables: Vec<ty::t> ,\n-    type_param_defs: Rc<Vec<ty::TypeParameterDef> >\n+    monotype: t\n }\n \n fn get_base_type(inference_context: &InferCtxt,\n@@ -515,9 +513,7 @@ impl<'a> CoherenceChecker<'a> {\n         let monotype = polytype.ty.subst(self.crate_context.tcx, &substitutions);\n \n         UniversalQuantificationResult {\n-            monotype: monotype,\n-            type_variables: substitutions.tps,\n-            type_param_defs: polytype.generics.type_param_defs.clone()\n+            monotype: monotype\n         }\n     }\n "}, {"sha": "92ebf42c7af98088a4ba5e2164ebcda817e88de9", "filename": "src/librustc/middle/typeck/variance.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fvariance.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fvariance.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fvariance.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -271,7 +271,6 @@ enum ParamKind { TypeParam, RegionParam, SelfParam }\n struct InferredInfo<'a> {\n     item_id: ast::NodeId,\n     kind: ParamKind,\n-    index: uint,\n     param_id: ast::NodeId,\n     term: VarianceTermPtr<'a>,\n }\n@@ -310,7 +309,6 @@ impl<'a> TermsContext<'a> {\n         let term = self.arena.alloc(|| InferredTerm(inf_index));\n         self.inferred_infos.push(InferredInfo { item_id: item_id,\n                                                 kind: kind,\n-                                                index: index,\n                                                 param_id: param_id,\n                                                 term: term });\n         let newly_added = self.inferred_map.insert(param_id, inf_index);"}, {"sha": "08052c03de482e13091348b8e57bd07ebb27fe65", "filename": "src/librustc/util/common.rs", "status": "modified", "additions": 5, "deletions": 11, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Futil%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustc%2Futil%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Futil%2Fcommon.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -42,23 +42,17 @@ pub fn indent<R>(op: || -> R) -> R {\n     r\n }\n \n-pub struct _indenter {\n-    _i: (),\n+pub struct Indenter {\n+    _cannot_construct_outside_of_this_module: ()\n }\n \n-impl Drop for _indenter {\n+impl Drop for Indenter {\n     fn drop(&mut self) { debug!(\"<<\"); }\n }\n \n-pub fn _indenter(_i: ()) -> _indenter {\n-    _indenter {\n-        _i: ()\n-    }\n-}\n-\n-pub fn indenter() -> _indenter {\n+pub fn indenter() -> Indenter {\n     debug!(\">>\");\n-    _indenter(())\n+    Indenter { _cannot_construct_outside_of_this_module: () }\n }\n \n struct LoopQueryVisitor<'a> {"}, {"sha": "061c05058ae367d84871dcd504e06528741cc3ad", "filename": "src/librustdoc/html/markdown.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -24,6 +24,7 @@\n //! // ... something using html\n //! ```\n \n+#![allow(dead_code)]\n #![allow(non_camel_case_types)]\n \n use libc;"}, {"sha": "c2bf04917d2e46cf6b31085f7ad6394ae7a70464", "filename": "src/librustrt/mutex.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustrt%2Fmutex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustrt%2Fmutex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustrt%2Fmutex.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -339,10 +339,12 @@ mod imp {\n         #[cfg(target_arch = \"mips\")]\n         static __SIZEOF_PTHREAD_COND_T: uint = 48 - 8;\n \n+        #[repr(C)]\n         pub struct pthread_mutex_t {\n             __align: libc::c_longlong,\n             size: [u8, ..__SIZEOF_PTHREAD_MUTEX_T],\n         }\n+        #[repr(C)]\n         pub struct pthread_cond_t {\n             __align: libc::c_longlong,\n             size: [u8, ..__SIZEOF_PTHREAD_COND_T],"}, {"sha": "fe8935db2ec128278b9c7367ccce085e9513169c", "filename": "src/librustuv/idle.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustuv%2Fidle.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustuv%2Fidle.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustuv%2Fidle.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -18,7 +18,6 @@ use std::rt::rtio::{Callback, PausableIdleCallback};\n pub struct IdleWatcher {\n     handle: *uvll::uv_idle_t,\n     idle_flag: bool,\n-    closed: bool,\n     callback: Box<Callback:Send>,\n }\n \n@@ -31,7 +30,6 @@ impl IdleWatcher {\n         let me = box IdleWatcher {\n             handle: handle,\n             idle_flag: false,\n-            closed: false,\n             callback: cb,\n         };\n         return me.install();"}, {"sha": "47b321b068b36ae6046cd91107d38e428f3e51d0", "filename": "src/librustuv/net.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustuv%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustuv%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustuv%2Fnet.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -165,7 +165,6 @@ pub struct TcpWatcher {\n pub struct TcpListener {\n     home: HomeHandle,\n     handle: *uvll::uv_pipe_t,\n-    closing_task: Option<BlockedTask>,\n     outgoing: Sender<Result<Box<rtio::RtioTcpStream:Send>, IoError>>,\n     incoming: Receiver<Result<Box<rtio::RtioTcpStream:Send>, IoError>>,\n }\n@@ -358,7 +357,6 @@ impl TcpListener {\n         let l = box TcpListener {\n             home: io.make_handle(),\n             handle: handle,\n-            closing_task: None,\n             outgoing: tx,\n             incoming: rx,\n         };"}, {"sha": "a6193dd9379c1636734f8428338848c8534e0b7a", "filename": "src/librustuv/uvll.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustuv%2Fuvll.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibrustuv%2Fuvll.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustuv%2Fuvll.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -136,6 +136,7 @@ pub struct uv_process_options_t {\n \n // These fields are private because they must be interfaced with through the\n // functions below.\n+#[repr(C)]\n pub struct uv_stdio_container_t {\n     flags: libc::c_int,\n     stream: *uv_stream_t,"}, {"sha": "99544f2ff3b3fd0e1a6b1693c1c5d60dcd9a99ea", "filename": "src/libstd/collections/hashmap.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibstd%2Fcollections%2Fhashmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibstd%2Fcollections%2Fhashmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fcollections%2Fhashmap.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -393,7 +393,7 @@ mod table {\n         }\n \n         pub fn move_iter(self) -> MoveEntries<K, V> {\n-            MoveEntries { table: self, idx: 0, elems_seen: 0 }\n+            MoveEntries { table: self, idx: 0 }\n         }\n     }\n \n@@ -428,8 +428,7 @@ mod table {\n     /// Iterator over the entries in a table, consuming the table.\n     pub struct MoveEntries<K, V> {\n         table: RawTable<K, V>,\n-        idx: uint,\n-        elems_seen: uint,\n+        idx: uint\n     }\n \n     impl<'a, K, V> Iterator<(&'a K, &'a V)> for Entries<'a, K, V> {"}, {"sha": "f1717c3a2ba29350937dd9a12fe3e034ae16de43", "filename": "src/libstd/rt/backtrace.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibstd%2Frt%2Fbacktrace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibstd%2Frt%2Fbacktrace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Frt%2Fbacktrace.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -325,6 +325,7 @@ mod imp {\n     #[cfg(target_os = \"macos\")]\n     fn print(w: &mut Writer, idx: int, addr: *libc::c_void) -> IoResult<()> {\n         use intrinsics;\n+        #[repr(C)]\n         struct Dl_info {\n             dli_fname: *libc::c_char,\n             dli_fbase: *libc::c_void,"}, {"sha": "a4e1ad84252b1295a2154af3f65bac1ad747dd53", "filename": "src/libstd/task.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibstd%2Ftask.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibstd%2Ftask.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Ftask.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -84,7 +84,7 @@ pub struct TaskBuilder {\n     /// Options to spawn the new task with\n     pub opts: TaskOpts,\n     gen_body: Option<proc(v: proc():Send):Send -> proc():Send>,\n-    nocopy: Option<marker::NoCopy>,\n+    nocopy: marker::NoCopy,\n }\n \n impl TaskBuilder {\n@@ -94,7 +94,7 @@ impl TaskBuilder {\n         TaskBuilder {\n             opts: TaskOpts::new(),\n             gen_body: None,\n-            nocopy: None,\n+            nocopy: marker::NoCopy,\n         }\n     }\n "}, {"sha": "821afeaa1f2e4b487b57bf0a04578ed873fe6ec8", "filename": "src/libsync/raw.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibsync%2Fraw.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibsync%2Fraw.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsync%2Fraw.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -355,7 +355,7 @@ pub struct Semaphore {\n /// dropped, this value will release the resource back to the semaphore.\n #[must_use]\n pub struct SemaphoreGuard<'a> {\n-    guard: SemGuard<'a, ()>,\n+    _guard: SemGuard<'a, ()>,\n }\n \n impl Semaphore {\n@@ -375,7 +375,7 @@ impl Semaphore {\n     /// Acquire a resource of this semaphore, returning an RAII guard which will\n     /// release the resource when dropped.\n     pub fn access<'a>(&'a self) -> SemaphoreGuard<'a> {\n-        SemaphoreGuard { guard: self.sem.access() }\n+        SemaphoreGuard { _guard: self.sem.access() }\n     }\n }\n \n@@ -398,7 +398,7 @@ pub struct Mutex {\n /// corresponding mutex is also unlocked.\n #[must_use]\n pub struct MutexGuard<'a> {\n-    guard: SemGuard<'a, Vec<WaitQueue>>,\n+    _guard: SemGuard<'a, Vec<WaitQueue>>,\n     /// Inner condition variable which is connected to the outer mutex, and can\n     /// be used for atomic-unlock-and-deschedule.\n     pub cond: Condvar<'a>,\n@@ -421,7 +421,7 @@ impl Mutex {\n     /// also be accessed through the returned guard.\n     pub fn lock<'a>(&'a self) -> MutexGuard<'a> {\n         let SemCondGuard { guard, cvar } = self.sem.access_cond();\n-        MutexGuard { guard: guard, cond: cvar }\n+        MutexGuard { _guard: guard, cond: cvar }\n     }\n }\n "}, {"sha": "14769e3e510673aceb3ff5bf3a04dd04a0ea3aad", "filename": "src/libsyntax/ext/build.rs", "status": "modified", "additions": 3, "deletions": 12, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibsyntax%2Fext%2Fbuild.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibsyntax%2Fext%2Fbuild.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fbuild.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -21,11 +21,6 @@ use parse::token::special_idents;\n use parse::token::InternedString;\n use parse::token;\n \n-pub struct Field {\n-    ident: ast::Ident,\n-    ex: @ast::Expr\n-}\n-\n // Transitional reexports so qquote can find the paths it is looking for\n mod syntax {\n     pub use ext;\n@@ -1000,9 +995,7 @@ impl<'a> AstBuilder for ExtCtxt<'a> {\n     }\n }\n \n-struct Duplicator<'a> {\n-    cx: &'a ExtCtxt<'a>,\n-}\n+struct Duplicator<'a>;\n \n impl<'a> Folder for Duplicator<'a> {\n     fn new_id(&mut self, _: NodeId) -> NodeId {\n@@ -1021,10 +1014,8 @@ pub trait Duplicate {\n }\n \n impl Duplicate for @ast::Expr {\n-    fn duplicate(&self, cx: &ExtCtxt) -> @ast::Expr {\n-        let mut folder = Duplicator {\n-            cx: cx,\n-        };\n+    fn duplicate(&self, _: &ExtCtxt) -> @ast::Expr {\n+        let mut folder = Duplicator;\n         folder.fold_expr(*self)\n     }\n }"}, {"sha": "a4518617d3d847162318ad7f0912a55c6bf04acf", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -19,7 +19,6 @@ use codemap::{CodeMap, BytePos};\n use codemap;\n use diagnostic;\n use parse::classify::expr_is_simple_block;\n-use parse::token::IdentInterner;\n use parse::token;\n use parse::lexer::comments;\n use parse;\n@@ -30,7 +29,6 @@ use print::pp;\n use std::io::{IoResult, MemWriter};\n use std::io;\n use std::mem;\n-use std::rc::Rc;\n use std::str;\n use std::string::String;\n \n@@ -58,7 +56,6 @@ pub struct CurrentCommentAndLiteral {\n pub struct State<'a> {\n     pub s: pp::Printer,\n     cm: Option<&'a CodeMap>,\n-    intr: Rc<token::IdentInterner>,\n     comments: Option<Vec<comments::Comment> >,\n     literals: Option<Vec<comments::Literal> >,\n     cur_cmnt_and_lit: CurrentCommentAndLiteral,\n@@ -76,7 +73,6 @@ pub fn rust_printer_annotated<'a>(writer: Box<io::Writer>,\n     State {\n         s: pp::mk_printer(writer, default_columns),\n         cm: None,\n-        intr: token::get_ident_interner(),\n         comments: None,\n         literals: None,\n         cur_cmnt_and_lit: CurrentCommentAndLiteral {\n@@ -111,7 +107,6 @@ pub fn print_crate<'a>(cm: &'a CodeMap,\n     let mut s = State {\n         s: pp::mk_printer(out, default_columns),\n         cm: Some(cm),\n-        intr: token::get_ident_interner(),\n         comments: Some(cmnts),\n         // If the code is post expansion, don't use the table of\n         // literals, since it doesn't correspond with the literals"}, {"sha": "bca2a5d7edc864cb871726e4603157fbe8bdc424", "filename": "src/test/compile-fail/lint-dead-code-1.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Ftest%2Fcompile-fail%2Flint-dead-code-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Ftest%2Fcompile-fail%2Flint-dead-code-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flint-dead-code-1.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -39,7 +39,10 @@ static STATIC_USED_IN_ENUM_DISCRIMINANT: uint = 10;\n pub type typ = *UsedStruct4;\n pub struct PubStruct();\n struct PrivStruct; //~ ERROR: code is never used\n-struct UsedStruct1 { x: int }\n+struct UsedStruct1 {\n+    #[allow(dead_code)]\n+    x: int\n+}\n struct UsedStruct2(int);\n struct UsedStruct3;\n struct UsedStruct4;\n@@ -53,6 +56,7 @@ struct StructUsedAsField;\n struct StructUsedInEnum;\n struct StructUsedInGeneric;\n pub struct PubStruct2 {\n+    #[allow(dead_code)]\n     struct_used_as_field: *StructUsedAsField\n }\n "}, {"sha": "ff382cb46c7624ec123d956f592915110341a523", "filename": "src/test/compile-fail/lint-managed-heap-memory.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Ftest%2Fcompile-fail%2Flint-managed-heap-memory.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Ftest%2Fcompile-fail%2Flint-managed-heap-memory.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flint-managed-heap-memory.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -8,6 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![allow(dead_code)]\n #![feature(managed_boxes)]\n #![forbid(managed_heap_memory)]\n "}, {"sha": "8f20999a56c8d7064d6848bf29e8ed1e63da4539", "filename": "src/test/compile-fail/lint-owned-heap-memory.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Ftest%2Fcompile-fail%2Flint-owned-heap-memory.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Ftest%2Fcompile-fail%2Flint-owned-heap-memory.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flint-owned-heap-memory.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -8,6 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![allow(dead_code)]\n #![forbid(owned_heap_memory)]\n \n "}, {"sha": "f1b36d719e9591603450e80b089e4a3d031aa4ea", "filename": "src/test/compile-fail/lint-uppercase-variables.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Ftest%2Fcompile-fail%2Flint-uppercase-variables.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7d86b2f4ace416a65e84603082c756b8b5dc43e/src%2Ftest%2Fcompile-fail%2Flint-uppercase-variables.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flint-uppercase-variables.rs?ref=f7d86b2f4ace416a65e84603082c756b8b5dc43e", "patch": "@@ -8,6 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![allow(dead_code)]\n #![deny(uppercase_variables)]\n \n use std::io::File;"}]}