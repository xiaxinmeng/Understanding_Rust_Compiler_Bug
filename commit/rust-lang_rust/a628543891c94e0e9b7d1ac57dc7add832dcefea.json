{"sha": "a628543891c94e0e9b7d1ac57dc7add832dcefea", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE2Mjg1NDM4OTFjOTRlMGU5YjdkMWFjNTdkYzdhZGQ4MzJkY2VmZWE=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-03-05T19:17:34Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-03-05T22:39:34Z"}, "message": "Don't generate '[+]'/'[-]' on 'empty' traits", "tree": {"sha": "faadbea894b906023d0c3f7ba0f4b1370be59be7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/faadbea894b906023d0c3f7ba0f4b1370be59be7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a628543891c94e0e9b7d1ac57dc7add832dcefea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a628543891c94e0e9b7d1ac57dc7add832dcefea", "html_url": "https://github.com/rust-lang/rust/commit/a628543891c94e0e9b7d1ac57dc7add832dcefea", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a628543891c94e0e9b7d1ac57dc7add832dcefea/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e2746d870017c869b84fc56ecd63f5e4f9646c96", "url": "https://api.github.com/repos/rust-lang/rust/commits/e2746d870017c869b84fc56ecd63f5e4f9646c96", "html_url": "https://github.com/rust-lang/rust/commit/e2746d870017c869b84fc56ecd63f5e4f9646c96"}], "stats": {"total": 25, "additions": 18, "deletions": 7}, "files": [{"sha": "36ca1e06f241c39fb5b297ca180852035e3e2c45", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 18, "deletions": 7, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/a628543891c94e0e9b7d1ac57dc7add832dcefea/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/a628543891c94e0e9b7d1ac57dc7add832dcefea/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=a628543891c94e0e9b7d1ac57dc7add832dcefea", "patch": "@@ -1776,22 +1776,33 @@\n         referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n     }\n \n+    function checkIfThereAreMethods(elems) {\n+        var areThereMethods = false;\n+\n+        onEach(elems, function(e) {\n+            if (hasClass(e, \"method\")) {\n+                areThereMethods = true;\n+                return true;\n+            }\n+        });\n+        return areThereMethods;\n+    }\n+\n     var toggle = document.createElement('a');\n     toggle.href = 'javascript:void(0)';\n     toggle.className = 'collapse-toggle';\n-    toggle.innerHTML = \"[<span class='inner'>\"+labelForToggleButton(false)+\"</span>]\";\n+    toggle.innerHTML = \"[<span class='inner'>\" + labelForToggleButton(false) + \"</span>]\";\n \n     var func = function(e) {\n         var next = e.nextElementSibling;\n         if (!next) {\n             return;\n         }\n-        if (hasClass(next, 'docblock') ||\n-            (hasClass(next, 'stability') &&\n-             hasClass(next.nextElementSibling, 'docblock'))) {\n-            insertAfter(toggle.cloneNode(true), e.childNodes[e.childNodes.length - 1]);\n-        }\n-        if (hasClass(e, 'impl')) {\n+        if (checkIfThereAreMethods(next.childNodes) &&\n+            (hasClass(next, 'docblock') ||\n+             hasClass(e, 'impl') ||\n+             (hasClass(next, 'stability') &&\n+              hasClass(next.nextElementSibling, 'docblock')))) {\n             insertAfter(toggle.cloneNode(true), e.childNodes[e.childNodes.length - 1]);\n         }\n     }"}]}