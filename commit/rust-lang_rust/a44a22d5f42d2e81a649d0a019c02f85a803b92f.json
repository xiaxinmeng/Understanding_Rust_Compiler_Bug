{"sha": "a44a22d5f42d2e81a649d0a019c02f85a803b92f", "node_id": "C_kwDOAAsO6NoAKGE0NGEyMmQ1ZjQyZDJlODFhNjQ5ZDBhMDE5YzAyZjg1YTgwM2I5MmY", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2022-10-19T10:41:56Z"}, "committer": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2022-10-19T10:41:56Z"}, "message": "Add test.", "tree": {"sha": "2656eed17cd15c7d8567cc372d1dd3d7dad98933", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2656eed17cd15c7d8567cc372d1dd3d7dad98933"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a44a22d5f42d2e81a649d0a019c02f85a803b92f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a44a22d5f42d2e81a649d0a019c02f85a803b92f", "html_url": "https://github.com/rust-lang/rust/commit/a44a22d5f42d2e81a649d0a019c02f85a803b92f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a44a22d5f42d2e81a649d0a019c02f85a803b92f/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ead96f7f749846a2310e7aaedef0ea38fc7c3a4a", "url": "https://api.github.com/repos/rust-lang/rust/commits/ead96f7f749846a2310e7aaedef0ea38fc7c3a4a", "html_url": "https://github.com/rust-lang/rust/commit/ead96f7f749846a2310e7aaedef0ea38fc7c3a4a"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "48fb23ead3b4505d0b62f2abbf00ef7891f904be", "filename": "src/test/ui/stability-attribute/stability-attribute-trait-impl.rs", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a44a22d5f42d2e81a649d0a019c02f85a803b92f/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-trait-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a44a22d5f42d2e81a649d0a019c02f85a803b92f/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-trait-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-trait-impl.rs?ref=a44a22d5f42d2e81a649d0a019c02f85a803b92f", "patch": "@@ -1,4 +1,4 @@\n-#![feature(staged_api)]\n+#![feature(staged_api, never_type, c_unwind)]\n //~^ ERROR module has missing stability attribute\n \n #[stable(feature = \"a\", since = \"1\")]\n@@ -23,6 +23,13 @@ impl StableTrait for UnstableType {}\n impl UnstableTrait for StableType {}\n \n #[unstable(feature = \"h\", issue = \"none\")]\n+impl StableTrait for ! {}\n+\n+// Note: If C-unwind is stabilized, switch this to another (unstable) ABI.\n+#[unstable(feature = \"i\", issue = \"none\")]\n+impl StableTrait for extern \"C-unwind\" fn() {}\n+\n+#[unstable(feature = \"j\", issue = \"none\")]\n //~^ ERROR an `#[unstable]` annotation here has no effect [ineffective_unstable_trait_impl]\n impl StableTrait for StableType {}\n "}, {"sha": "037a48f7649a47a820e7a5bbe87a9c492ec63c1c", "filename": "src/test/ui/stability-attribute/stability-attribute-trait-impl.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a44a22d5f42d2e81a649d0a019c02f85a803b92f/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-trait-impl.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a44a22d5f42d2e81a649d0a019c02f85a803b92f/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-trait-impl.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-trait-impl.stderr?ref=a44a22d5f42d2e81a649d0a019c02f85a803b92f", "patch": "@@ -1,7 +1,7 @@\n error: an `#[unstable]` annotation here has no effect\n-  --> $DIR/stability-attribute-trait-impl.rs:25:1\n+  --> $DIR/stability-attribute-trait-impl.rs:32:1\n    |\n-LL | #[unstable(feature = \"h\", issue = \"none\")]\n+LL | #[unstable(feature = \"j\", issue = \"none\")]\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: see issue #55436 <https://github.com/rust-lang/rust/issues/55436> for more information\n@@ -10,7 +10,7 @@ LL | #[unstable(feature = \"h\", issue = \"none\")]\n error: module has missing stability attribute\n   --> $DIR/stability-attribute-trait-impl.rs:1:1\n    |\n-LL | / #![feature(staged_api)]\n+LL | / #![feature(staged_api, never_type, c_unwind)]\n LL | |\n LL | |\n LL | | #[stable(feature = \"a\", since = \"1\")]"}]}