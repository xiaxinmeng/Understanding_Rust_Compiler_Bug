{"sha": "8bde5bbc07e94fd8d39c263f873c53131b617d24", "node_id": "C_kwDOAAsO6NoAKDhiZGU1YmJjMDdlOTRmZDhkMzljMjYzZjg3M2M1MzEzMWI2MTdkMjQ", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2022-12-26T20:29:16Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2022-12-26T20:43:52Z"}, "message": "Fix suggestion when there are arguments in the method", "tree": {"sha": "448d00d85bf0246d9c0ad8e272194008e7924ebc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/448d00d85bf0246d9c0ad8e272194008e7924ebc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8bde5bbc07e94fd8d39c263f873c53131b617d24", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8bde5bbc07e94fd8d39c263f873c53131b617d24", "html_url": "https://github.com/rust-lang/rust/commit/8bde5bbc07e94fd8d39c263f873c53131b617d24", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8bde5bbc07e94fd8d39c263f873c53131b617d24/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "85ff8889e455c1e88723a6d7450042e17f91657a", "url": "https://api.github.com/repos/rust-lang/rust/commits/85ff8889e455c1e88723a6d7450042e17f91657a", "html_url": "https://github.com/rust-lang/rust/commit/85ff8889e455c1e88723a6d7450042e17f91657a"}], "stats": {"total": 50, "additions": 49, "deletions": 1}, "files": [{"sha": "5afd2ad045e89f374e09f97fe15cc2f171cbe7a7", "filename": "compiler/rustc_hir_typeck/src/demand.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8bde5bbc07e94fd8d39c263f873c53131b617d24/compiler%2Frustc_hir_typeck%2Fsrc%2Fdemand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8bde5bbc07e94fd8d39c263f873c53131b617d24/compiler%2Frustc_hir_typeck%2Fsrc%2Fdemand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fdemand.rs?ref=8bde5bbc07e94fd8d39c263f873c53131b617d24", "patch": "@@ -392,7 +392,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                     ),\n                     match &args[..] {\n                         [] => (base.span.shrink_to_hi().with_hi(deref.span.hi()), \")\".to_string()),\n-                        [first, ..] => (base.span.until(first.span), String::new()),\n+                        [first, ..] => (base.span.between(first.span), \", \".to_string()),\n                     },\n                 ]\n             })"}, {"sha": "dab99fbacd9e681b59e7eb97427bd0f4fca3f743", "filename": "src/test/ui/suggestions/shadowed-lplace-method-2.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/8bde5bbc07e94fd8d39c263f873c53131b617d24/src%2Ftest%2Fui%2Fsuggestions%2Fshadowed-lplace-method-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8bde5bbc07e94fd8d39c263f873c53131b617d24/src%2Ftest%2Fui%2Fsuggestions%2Fshadowed-lplace-method-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fshadowed-lplace-method-2.rs?ref=8bde5bbc07e94fd8d39c263f873c53131b617d24", "patch": "@@ -0,0 +1,23 @@\n+#![allow(unused)]\n+\n+struct X {\n+    x: (),\n+}\n+pub trait A {\n+    fn foo(&mut self, _: usize) -> &mut ();\n+}\n+impl A for X {\n+    fn foo(&mut self, _: usize) -> &mut () {\n+        &mut self.x\n+    }\n+}\n+impl X {\n+    fn foo(&mut self, _: usize) -> &mut Self {\n+        self\n+    }\n+}\n+\n+fn main() {\n+    let mut x = X { x: () };\n+    *x.foo(0) = (); //~ ERROR E0308\n+}"}, {"sha": "94eef15f3306e90af451340d92e1dee0b2b0b47e", "filename": "src/test/ui/suggestions/shadowed-lplace-method-2.stderr", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/8bde5bbc07e94fd8d39c263f873c53131b617d24/src%2Ftest%2Fui%2Fsuggestions%2Fshadowed-lplace-method-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8bde5bbc07e94fd8d39c263f873c53131b617d24/src%2Ftest%2Fui%2Fsuggestions%2Fshadowed-lplace-method-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fshadowed-lplace-method-2.stderr?ref=8bde5bbc07e94fd8d39c263f873c53131b617d24", "patch": "@@ -0,0 +1,25 @@\n+error[E0308]: mismatched types\n+  --> $DIR/shadowed-lplace-method-2.rs:22:17\n+   |\n+LL |     *x.foo(0) = ();\n+   |     ---------   ^^ expected struct `X`, found `()`\n+   |     |\n+   |     expected due to the type of this binding\n+   |\n+note: the `foo` call is resolved to the method in `X`, shadowing the method of the same name on trait `A`\n+  --> $DIR/shadowed-lplace-method-2.rs:22:8\n+   |\n+LL |     *x.foo(0) = ();\n+   |        ^^^ refers to `X::foo`\n+help: you might have meant to call the other method; you can use the fully-qualified path to call it explicitly\n+   |\n+LL |     *<_ as A>::foo(&mut x, 0) = ();\n+   |      ++++++++++++++++++  ~\n+help: try wrapping the expression in `X`\n+   |\n+LL |     *x.foo(0) = X { x: () };\n+   |                 ++++++    +\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0308`."}]}