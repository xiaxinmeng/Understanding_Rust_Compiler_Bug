{"sha": "19f8958f827e379be9b0ffc93fca580ec8ffac77", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE5Zjg5NThmODI3ZTM3OWJlOWIwZmZjOTNmY2E1ODBlYzhmZmFjNzc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-01-23T15:53:23Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-01-23T15:53:23Z"}, "message": "Auto merge of #57857 - pietroalbini:fix-android-ci, r=aidanhs\n\nFix Android CI failing to download SDKs\n\nA component of the Android SDK now requires an additional license ([full license text](https://gist.github.com/pietroalbini/28b46a6fed0921d129de58e7aef29f11)) to be accepted before it's possible to use it. The license is dated January 16th 2019, so it's recent.\n\nThe weird thing about the license is that it doesn't prompt you to accept it during `sdkmanager --licenses` like all the other ones, but during `sdkmanager platform-tools emulator ...`, and we didn't pipe `yes` to it before this PR.\n\nThe PR changes the SDK installation script to accept all the licenses even on the `sdkmanager platform-tools emulator` command.", "tree": {"sha": "af2480225b4dc6068847ea23277ffd9fe877ac47", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/af2480225b4dc6068847ea23277ffd9fe877ac47"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/19f8958f827e379be9b0ffc93fca580ec8ffac77", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/19f8958f827e379be9b0ffc93fca580ec8ffac77", "html_url": "https://github.com/rust-lang/rust/commit/19f8958f827e379be9b0ffc93fca580ec8ffac77", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/19f8958f827e379be9b0ffc93fca580ec8ffac77/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6bba352cad2117f56353d400f71e96eafa2e6bd7", "url": "https://api.github.com/repos/rust-lang/rust/commits/6bba352cad2117f56353d400f71e96eafa2e6bd7", "html_url": "https://github.com/rust-lang/rust/commit/6bba352cad2117f56353d400f71e96eafa2e6bd7"}, {"sha": "91f328fb557cb4e4623bf50188168c2c1d9cc390", "url": "https://api.github.com/repos/rust-lang/rust/commits/91f328fb557cb4e4623bf50188168c2c1d9cc390", "html_url": "https://github.com/rust-lang/rust/commit/91f328fb557cb4e4623bf50188168c2c1d9cc390"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "179f63fc830a67bd6afc778010a875bb2dac318a", "filename": "src/ci/docker/scripts/android-sdk.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/19f8958f827e379be9b0ffc93fca580ec8ffac77/src%2Fci%2Fdocker%2Fscripts%2Fandroid-sdk.sh", "raw_url": "https://github.com/rust-lang/rust/raw/19f8958f827e379be9b0ffc93fca580ec8ffac77/src%2Fci%2Fdocker%2Fscripts%2Fandroid-sdk.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fandroid-sdk.sh?ref=19f8958f827e379be9b0ffc93fca580ec8ffac77", "patch": "@@ -20,7 +20,7 @@ download_sysimage() {\n     # The output from sdkmanager is so noisy that it will occupy all of the 4 MB\n     # log extremely quickly. Thus we must silence all output.\n     yes | sdkmanager --licenses > /dev/null\n-    sdkmanager platform-tools emulator \\\n+    yes | sdkmanager platform-tools emulator \\\n         \"platforms;android-$api\" \\\n         \"system-images;android-$api;default;$abi\" > /dev/null\n }"}]}