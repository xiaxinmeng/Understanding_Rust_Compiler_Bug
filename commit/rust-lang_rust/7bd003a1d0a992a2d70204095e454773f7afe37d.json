{"sha": "7bd003a1d0a992a2d70204095e454773f7afe37d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdiZDAwM2ExZDBhOTkyYTJkNzAyMDQwOTVlNDU0NzczZjdhZmUzN2Q=", "commit": {"author": {"name": "Elly Jones", "email": "elly@leptoquark.net", "date": "2011-12-17T03:27:47Z"}, "committer": {"name": "Elly Jones", "email": "elly@leptoquark.net", "date": "2011-12-17T03:27:47Z"}, "message": "cargo: remove obsolete rust-pkg-index lookup code", "tree": {"sha": "ffbe214797df52d7f1526d02e6a230903ed00776", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ffbe214797df52d7f1526d02e6a230903ed00776"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7bd003a1d0a992a2d70204095e454773f7afe37d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7bd003a1d0a992a2d70204095e454773f7afe37d", "html_url": "https://github.com/rust-lang/rust/commit/7bd003a1d0a992a2d70204095e454773f7afe37d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7bd003a1d0a992a2d70204095e454773f7afe37d/comments", "author": null, "committer": null, "parents": [{"sha": "9a0b89b5341c93a071e8a5be78b3fb066b12c5ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/9a0b89b5341c93a071e8a5be78b3fb066b12c5ba", "html_url": "https://github.com/rust-lang/rust/commit/9a0b89b5341c93a071e8a5be78b3fb066b12c5ba"}], "stats": {"total": 22, "additions": 0, "deletions": 22}, "files": [{"sha": "786e595708a0f8bfbad962ea7455485ec3e49055", "filename": "src/cargo/cargo.rs", "status": "modified", "additions": 0, "deletions": 22, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/7bd003a1d0a992a2d70204095e454773f7afe37d/src%2Fcargo%2Fcargo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7bd003a1d0a992a2d70204095e454773f7afe37d/src%2Fcargo%2Fcargo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcargo%2Fcargo.rs?ref=7bd003a1d0a992a2d70204095e454773f7afe37d", "patch": "@@ -373,28 +373,6 @@ fn install_file(c: cargo, wd: str, path: str) {\n     install_source(c, wd);\n }\n \n-fn install_resolved(c: cargo, wd: str, key: str) {\n-    fs::remove_dir(wd);\n-    let u = \"https://rust-package-index.appspot.com/pkg/\" + key;\n-    let p = run::program_output(\"curl\", [u]);\n-    if p.status != 0 {\n-        fail #fmt[\"Fetch of %s failed: %s\", u, p.err];\n-    }\n-    let j = json::from_str(p.out);\n-    alt j {\n-        some (json::dict(_j)) {\n-            alt _j.find(\"install\") {\n-                some (json::string(g)) {\n-                    log #fmt[\"Resolved: %s -> %s\", key, g];\n-                    cmd_install(c, [\"cargo\", \"install\", g]);\n-                }\n-                _ { fail #fmt[\"Bogus install: '%s'\", p.out]; }\n-            }\n-        }\n-        _ { fail #fmt[\"Bad json: '%s'\", p.out]; }\n-    }\n-}\n-\n fn install_package(c: cargo, wd: str, pkg: package) {\n     info(\"Installing with \" + pkg.method + \" from \" + pkg.url + \"...\");\n     if pkg.method == \"git\" {"}]}