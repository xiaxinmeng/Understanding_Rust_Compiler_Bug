{"sha": "bb867d3512b009c660f8a9c3154d19e119f7ff5d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJiODY3ZDM1MTJiMDA5YzY2MGY4YTljMzE1NGQxOWUxMTlmN2ZmNWQ=", "commit": {"author": {"name": "Kyle Stachowicz", "email": "kylestach99@gmail.com", "date": "2018-05-16T00:08:24Z"}, "committer": {"name": "Kyle Stachowicz", "email": "kylestach99@gmail.com", "date": "2018-05-18T23:57:15Z"}, "message": "Add additional test case to unused_label lint", "tree": {"sha": "59c4323c3a69604d784b50785c1d9bc52ccdcec6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/59c4323c3a69604d784b50785c1d9bc52ccdcec6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bb867d3512b009c660f8a9c3154d19e119f7ff5d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bb867d3512b009c660f8a9c3154d19e119f7ff5d", "html_url": "https://github.com/rust-lang/rust/commit/bb867d3512b009c660f8a9c3154d19e119f7ff5d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bb867d3512b009c660f8a9c3154d19e119f7ff5d/comments", "author": {"login": "kylestach", "id": 9097872, "node_id": "MDQ6VXNlcjkwOTc4NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/9097872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylestach", "html_url": "https://github.com/kylestach", "followers_url": "https://api.github.com/users/kylestach/followers", "following_url": "https://api.github.com/users/kylestach/following{/other_user}", "gists_url": "https://api.github.com/users/kylestach/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylestach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylestach/subscriptions", "organizations_url": "https://api.github.com/users/kylestach/orgs", "repos_url": "https://api.github.com/users/kylestach/repos", "events_url": "https://api.github.com/users/kylestach/events{/privacy}", "received_events_url": "https://api.github.com/users/kylestach/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kylestach", "id": 9097872, "node_id": "MDQ6VXNlcjkwOTc4NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/9097872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylestach", "html_url": "https://github.com/kylestach", "followers_url": "https://api.github.com/users/kylestach/followers", "following_url": "https://api.github.com/users/kylestach/following{/other_user}", "gists_url": "https://api.github.com/users/kylestach/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylestach/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylestach/subscriptions", "organizations_url": "https://api.github.com/users/kylestach/orgs", "repos_url": "https://api.github.com/users/kylestach/repos", "events_url": "https://api.github.com/users/kylestach/events{/privacy}", "received_events_url": "https://api.github.com/users/kylestach/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c4aa7362e9bca54e5bb4f96cc67b4aafe35b33a", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c4aa7362e9bca54e5bb4f96cc67b4aafe35b33a", "html_url": "https://github.com/rust-lang/rust/commit/7c4aa7362e9bca54e5bb4f96cc67b4aafe35b33a"}], "stats": {"total": 57, "additions": 35, "deletions": 22}, "files": [{"sha": "43cf8c75ae3f0bca2ef24930372d9c504eba9a35", "filename": "src/test/ui/lint/unused_label.rs", "status": "modified", "additions": 16, "deletions": 9, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/bb867d3512b009c660f8a9c3154d19e119f7ff5d/src%2Ftest%2Fui%2Flint%2Funused_label.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bb867d3512b009c660f8a9c3154d19e119f7ff5d/src%2Ftest%2Fui%2Flint%2Funused_label.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Funused_label.rs?ref=bb867d3512b009c660f8a9c3154d19e119f7ff5d", "patch": "@@ -33,22 +33,29 @@ fn main() {\n         break 'used_loop_label;\n     }\n \n-    'used_loop_label_outer: loop {\n-        'used_loop_label_inner: loop {\n-            break 'used_loop_label_inner;\n+    'used_loop_label_outer_1: loop {\n+        'used_loop_label_inner_1: loop {\n+            break 'used_loop_label_inner_1;\n         }\n-        break 'used_loop_label_outer;\n+        break 'used_loop_label_outer_1;\n     }\n \n-    'unused_loop_label_outer: loop {\n-        'unused_loop_label_inner: loop {\n+    'used_loop_label_outer_2: loop {\n+        'unused_loop_label_inner_2: loop {\n             //~^ WARN unused loop label\n-            break 'unused_loop_label_outer;\n+            break 'used_loop_label_outer_2;\n         }\n     }\n \n-    // This is diverging, so put it at the end so we don't get unreachable_code errors everywhere\n-    // else\n+    'unused_loop_label_outer_3: loop {\n+        'used_loop_label_inner_3: loop {\n+            //~^ WARN unused loop label\n+            break 'used_loop_label_inner_3;\n+        }\n+    }\n+\n+    // This is diverging, so put it at the end so we don't get\n+    // unreachable_code errors everywhere else\n     'unused_loop_label: loop {\n         //~^ WARN unused loop label\n     }"}, {"sha": "3e7be476e6439958b5b0151d1cda51b9c6309f25", "filename": "src/test/ui/lint/unused_label.stderr", "status": "modified", "additions": 19, "deletions": 13, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/bb867d3512b009c660f8a9c3154d19e119f7ff5d/src%2Ftest%2Fui%2Flint%2Funused_label.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/bb867d3512b009c660f8a9c3154d19e119f7ff5d/src%2Ftest%2Fui%2Flint%2Funused_label.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Funused_label.stderr?ref=bb867d3512b009c660f8a9c3154d19e119f7ff5d", "patch": "@@ -1,31 +1,37 @@\n-warning: unused loop label\n-  --> $DIR/unused_loop_label.rs:19:5\n+warning: unused label\n+  --> $DIR/unused_label.rs:19:5\n    |\n LL |     'unused_while_label: while 0 == 0 {\n    |     ^^^^^^^^^^^^^^^^^^^\n    |\n-   = note: requested on the command line with `-W unused-loop-label`\n+   = note: requested on the command line with `-W unused-label`\n \n-warning: unused loop label\n-  --> $DIR/unused_loop_label.rs:24:5\n+warning: unused label\n+  --> $DIR/unused_label.rs:24:5\n    |\n LL |     'unused_while_let_label: while let Some(_) = opt {\n    |     ^^^^^^^^^^^^^^^^^^^^^^^\n \n-warning: unused loop label\n-  --> $DIR/unused_loop_label.rs:28:5\n+warning: unused label\n+  --> $DIR/unused_label.rs:28:5\n    |\n LL |     'unused_for_label: for _ in 0..10 {\n    |     ^^^^^^^^^^^^^^^^^\n \n-warning: unused loop label\n-  --> $DIR/unused_loop_label.rs:44:9\n+warning: unused label\n+  --> $DIR/unused_label.rs:44:9\n    |\n-LL |         'unused_loop_label_inner: loop {\n-   |         ^^^^^^^^^^^^^^^^^^^^^^^^\n+LL |         'unused_loop_label_inner_2: loop {\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-warning: unused loop label\n-  --> $DIR/unused_loop_label.rs:52:5\n+warning: unused label\n+  --> $DIR/unused_label.rs:50:9\n+   |\n+LL |     'unused_loop_label_outer_3: loop {\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+warning: unused label\n+  --> $DIR/unused_label.rs:52:5\n    |\n LL |     'unused_loop_label: loop {\n    |     ^^^^^^^^^^^^^^^^^^"}]}