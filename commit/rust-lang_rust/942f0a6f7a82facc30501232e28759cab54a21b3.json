{"sha": "942f0a6f7a82facc30501232e28759cab54a21b3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk0MmYwYTZmN2E4MmZhY2MzMDUwMTIzMmUyODc1OWNhYjU0YTIxYjM=", "commit": {"author": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2019-11-15T13:27:09Z"}, "committer": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2019-11-15T13:38:31Z"}, "message": "Move SourceMap to syntax_pos\n\nThis does not update the use sites or delete the now unnecessary\nSourceMapper trait, to allow git to interpret the file move as a rename\nrather than a new file.", "tree": {"sha": "30924555b407e4b34e3d6f60382b15024e27dd79", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/30924555b407e4b34e3d6f60382b15024e27dd79"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/942f0a6f7a82facc30501232e28759cab54a21b3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/942f0a6f7a82facc30501232e28759cab54a21b3", "html_url": "https://github.com/rust-lang/rust/commit/942f0a6f7a82facc30501232e28759cab54a21b3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/942f0a6f7a82facc30501232e28759cab54a21b3/comments", "author": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e1a87ca17a60aadae36b6785b7204610e02ee994", "url": "https://api.github.com/repos/rust-lang/rust/commits/e1a87ca17a60aadae36b6785b7204610e02ee994", "html_url": "https://github.com/rust-lang/rust/commit/e1a87ca17a60aadae36b6785b7204610e02ee994"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "51bdc06eee8d1f23a92d75ebfee3ab9195fc9257", "filename": "Cargo.lock", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/942f0a6f7a82facc30501232e28759cab54a21b3/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/942f0a6f7a82facc30501232e28759cab54a21b3/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=942f0a6f7a82facc30501232e28759cab54a21b3", "patch": "@@ -4445,6 +4445,7 @@ version = \"0.0.0\"\n dependencies = [\n  \"arena\",\n  \"cfg-if\",\n+ \"log\",\n  \"rustc_data_structures\",\n  \"rustc_index\",\n  \"rustc_macros\","}, {"sha": "a1de0a2c9e46109ef360daaec088dd3d40f1b81d", "filename": "src/libsyntax/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/942f0a6f7a82facc30501232e28759cab54a21b3/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/942f0a6f7a82facc30501232e28759cab54a21b3/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=942f0a6f7a82facc30501232e28759cab54a21b3", "patch": "@@ -92,7 +92,7 @@ pub mod json;\n pub mod ast;\n pub mod attr;\n pub mod expand;\n-pub mod source_map;\n+pub use syntax_pos::source_map;\n pub mod entry;\n pub mod feature_gate;\n pub mod mut_visit;"}, {"sha": "2cac76085d297c645a864c44f54e4c05358f1a2b", "filename": "src/libsyntax_pos/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/942f0a6f7a82facc30501232e28759cab54a21b3/src%2Flibsyntax_pos%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/942f0a6f7a82facc30501232e28759cab54a21b3/src%2Flibsyntax_pos%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2FCargo.toml?ref=942f0a6f7a82facc30501232e28759cab54a21b3", "patch": "@@ -18,3 +18,4 @@ arena = { path = \"../libarena\" }\n scoped-tls = \"1.0\"\n unicode-width = \"0.1.4\"\n cfg-if = \"0.1.2\"\n+log = \"0.4\""}, {"sha": "b88d6dbc3f3790434d0168bee1c99c2ae2a928f2", "filename": "src/libsyntax_pos/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/942f0a6f7a82facc30501232e28759cab54a21b3/src%2Flibsyntax_pos%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/942f0a6f7a82facc30501232e28759cab54a21b3/src%2Flibsyntax_pos%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2Flib.rs?ref=942f0a6f7a82facc30501232e28759cab54a21b3", "patch": "@@ -16,6 +16,8 @@\n \n use rustc_serialize::{Encodable, Decodable, Encoder, Decoder};\n \n+pub mod source_map;\n+\n pub mod edition;\n use edition::Edition;\n pub mod hygiene;"}, {"sha": "035e61f9dea73956fe6695a28d277ac2f437d638", "filename": "src/libsyntax_pos/source_map.rs", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/942f0a6f7a82facc30501232e28759cab54a21b3/src%2Flibsyntax_pos%2Fsource_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/942f0a6f7a82facc30501232e28759cab54a21b3/src%2Flibsyntax_pos%2Fsource_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2Fsource_map.rs?ref=942f0a6f7a82facc30501232e28759cab54a21b3", "patch": "@@ -7,8 +7,8 @@\n //! within the `SourceMap`, which upon request can be converted to line and column\n //! information, source code snippets, etc.\n \n-pub use syntax_pos::*;\n-pub use syntax_pos::hygiene::{ExpnKind, ExpnData};\n+pub use crate::*;\n+pub use crate::hygiene::{ExpnKind, ExpnData};\n \n use rustc_data_structures::fx::FxHashMap;\n use rustc_data_structures::stable_hasher::StableHasher;\n@@ -216,7 +216,7 @@ impl SourceMap {\n         self.try_new_source_file(filename, src)\n             .unwrap_or_else(|OffsetOverflowError| {\n                 eprintln!(\"fatal error: rustc does not support files larger than 4GB\");\n-                errors::FatalError.raise()\n+                crate::fatal_error::FatalError.raise()\n             })\n     }\n ", "previous_filename": "src/libsyntax/source_map.rs"}, {"sha": "15254336bbfa5dd8049113c24f230d165f16a02e", "filename": "src/libsyntax_pos/source_map/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/942f0a6f7a82facc30501232e28759cab54a21b3/src%2Flibsyntax_pos%2Fsource_map%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/942f0a6f7a82facc30501232e28759cab54a21b3/src%2Flibsyntax_pos%2Fsource_map%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2Fsource_map%2Ftests.rs?ref=942f0a6f7a82facc30501232e28759cab54a21b3", "previous_filename": "src/libsyntax/source_map/tests.rs"}]}