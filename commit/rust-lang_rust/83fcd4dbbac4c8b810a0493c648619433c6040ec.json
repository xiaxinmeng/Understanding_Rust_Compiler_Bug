{"sha": "83fcd4dbbac4c8b810a0493c648619433c6040ec", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgzZmNkNGRiYmFjNGM4YjgxMGEwNDkzYzY0ODYxOTQzM2M2MDQwZWM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-08-25T22:54:00Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-08-25T22:54:00Z"}, "message": "Auto merge of #43994 - tamird:remove-attributes, r=alexcrichton\n\n*: remove crate_{name,type} attributes\n\nFixes #41701.\n\nr? @arielb1", "tree": {"sha": "b4a0f17876f4ecddc7e69751c27cd94674622428", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b4a0f17876f4ecddc7e69751c27cd94674622428"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/83fcd4dbbac4c8b810a0493c648619433c6040ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/83fcd4dbbac4c8b810a0493c648619433c6040ec", "html_url": "https://github.com/rust-lang/rust/commit/83fcd4dbbac4c8b810a0493c648619433c6040ec", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/83fcd4dbbac4c8b810a0493c648619433c6040ec/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2aeb5930f32514b9f2a4b90cd8ce6362af5f3c9f", "url": "https://api.github.com/repos/rust-lang/rust/commits/2aeb5930f32514b9f2a4b90cd8ce6362af5f3c9f", "html_url": "https://github.com/rust-lang/rust/commit/2aeb5930f32514b9f2a4b90cd8ce6362af5f3c9f"}, {"sha": "b3f50caee0e2f2f4d44e1c83bf73a112c2a398b1", "url": "https://api.github.com/repos/rust-lang/rust/commits/b3f50caee0e2f2f4d44e1c83bf73a112c2a398b1", "html_url": "https://github.com/rust-lang/rust/commit/b3f50caee0e2f2f4d44e1c83bf73a112c2a398b1"}], "stats": {"total": 151, "additions": 9, "deletions": 142}, "files": [{"sha": "2d41ed648102b2159f2341bfb2312fdc2a6fb223", "filename": "src/liballoc/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Fliballoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Fliballoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -60,8 +60,6 @@\n //! The [`heap`](heap/index.html) module defines the low-level interface to the\n //! default global allocator. It is not compatible with the libc allocator API.\n \n-#![crate_name = \"alloc\"]\n-#![crate_type = \"rlib\"]\n #![allow(unused_attributes)]\n #![unstable(feature = \"alloc\",\n             reason = \"this library is unlikely to be stabilized in its current \\"}, {"sha": "513b299fcf37a28bde60ef3c7e11f55798faaf0e", "filename": "src/liballoc_jemalloc/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Fliballoc_jemalloc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Fliballoc_jemalloc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc_jemalloc%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_name = \"alloc_jemalloc\"]\n-#![crate_type = \"rlib\"]\n #![no_std]\n #![unstable(feature = \"alloc_jemalloc\",\n             reason = \"this library is unlikely to be stabilized in its current \\"}, {"sha": "1defe308713a7772f64aa159f7c2d12b375155e7", "filename": "src/liballoc_system/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Fliballoc_system%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Fliballoc_system%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc_system%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_name = \"alloc_system\"]\n-#![crate_type = \"rlib\"]\n #![no_std]\n #![deny(warnings)]\n #![unstable(feature = \"alloc_system\","}, {"sha": "96fcc81e8e6edfaabaa78e99e73ec23bbebd00a1", "filename": "src/libarena/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibarena%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibarena%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibarena%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -18,9 +18,6 @@\n //! This crate implements `TypedArena`, a simple arena that can only hold\n //! objects of a single type.\n \n-#![crate_name = \"arena\"]\n-#![crate_type = \"rlib\"]\n-#![crate_type = \"dylib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "55316db3d5a4358f6582328f9951fa489e227113", "filename": "src/libcollections/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibcollections%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibcollections%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_name = \"collections\"]\n-#![crate_type = \"rlib\"]\n #![allow(unused_attributes)]\n #![unstable(feature = \"collections\",\n             reason = \"this library is unlikely to be stabilized in its current \\"}, {"sha": "c270c6ae0dbad23944db36f3d19ff8ecc2b885e2", "filename": "src/libcore/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibcore%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibcore%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -51,9 +51,7 @@\n // Since libcore defines many fundamental lang items, all tests live in a\n // separate crate, libcoretest, to avoid bizarre issues.\n \n-#![crate_name = \"core\"]\n #![stable(feature = \"core\", since = \"1.6.0\")]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "24430b2e377f599529c02afdc1371349a73abf2d", "filename": "src/libfmt_macros/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibfmt_macros%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibfmt_macros%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibfmt_macros%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,9 +14,6 @@\n //! Parsing does not happen at runtime: structures of `std::fmt::rt` are\n //! generated instead.\n \n-#![crate_name = \"fmt_macros\"]\n-#![crate_type = \"rlib\"]\n-#![crate_type = \"dylib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "a0eacc817ca817b516f578dd98bc69d2ce6668ac", "filename": "src/libgetopts/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibgetopts%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibgetopts%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibgetopts%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -77,9 +77,6 @@\n //! }\n //! ```\n \n-#![crate_name = \"getopts\"]\n-#![crate_type = \"rlib\"]\n-#![crate_type = \"dylib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "5b1cf2dee9a83db9abfe1ccabc6679754d9472e6", "filename": "src/libgraphviz/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibgraphviz%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibgraphviz%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibgraphviz%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -283,9 +283,6 @@\n //!\n //! * [DOT language](http://www.graphviz.org/doc/info/lang.html)\n \n-#![crate_name = \"graphviz\"]\n-#![crate_type = \"rlib\"]\n-#![crate_type = \"dylib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "8be6f6470231dcb8e30f0cd68ea7d8923efb7cbb", "filename": "src/libpanic_abort/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibpanic_abort%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibpanic_abort%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_abort%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,8 +14,6 @@\n //! simpler! That being said, it's not quite as versatile, but here goes!\n \n #![no_std]\n-#![crate_name = \"panic_abort\"]\n-#![crate_type = \"rlib\"]\n #![unstable(feature = \"panic_abort\", issue = \"32837\")]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\","}, {"sha": "5a340f1323df5536207320b6ba4ca1cd5fb262b4", "filename": "src/libpanic_unwind/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibpanic_unwind%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibpanic_unwind%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_unwind%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -23,8 +23,6 @@\n //! module.\n \n #![no_std]\n-#![crate_name = \"panic_unwind\"]\n-#![crate_type = \"rlib\"]\n #![unstable(feature = \"panic_unwind\", issue = \"32837\")]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\","}, {"sha": "3f425c24a9143479b72c3ed62ec4adb80f917a75", "filename": "src/libproc_macro/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibproc_macro%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibproc_macro%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibproc_macro%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -23,10 +23,7 @@\n //!\n //! See [the book](../book/first-edition/procedural-macros.html) for more.\n \n-#![crate_name = \"proc_macro\"]\n #![stable(feature = \"proc_macro_lib\", since = \"1.15.0\")]\n-#![crate_type = \"rlib\"]\n-#![crate_type = \"dylib\"]\n #![deny(warnings)]\n #![deny(missing_docs)]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\","}, {"sha": "6d0d6d115b7163528e3e0a54737ce114124ffe32", "filename": "src/libprofiler_builtins/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibprofiler_builtins%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibprofiler_builtins%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibprofiler_builtins%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,7 +14,5 @@\n #![unstable(feature = \"profiler_runtime_lib\",\n             reason = \"internal implementation detail of rustc right now\",\n             issue = \"0\")]\n-#![crate_name = \"profiler_builtins\"]\n-#![crate_type = \"rlib\"]\n #![allow(unused_features)]\n #![feature(staged_api)]"}, {"sha": "90b3020fff9d1ebfa6a9bb2c1baef5220fd2db45", "filename": "src/librand/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrand%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrand%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrand%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -16,8 +16,6 @@\n //! is not recommended to use this library directly, but rather the official\n //! interface through `std::rand`.\n \n-#![crate_name = \"rand\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "03dc2f3c1ac762b313aa15d65cf9e7989a9cff4a", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,9 +14,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"rustc\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "d4a020657616a05c93cd023cc9a2708e3a0811f8", "filename": "src/librustc_apfloat/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_apfloat%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_apfloat%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_apfloat%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -39,7 +39,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"rustc_apfloat\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "6a9833d3784a487c637661e9f98312b179aec187", "filename": "src/librustc_back/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_back%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_back%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -21,9 +21,6 @@\n //! one that doesn't; the one that doesn't might get decent parallel\n //! build speedups.\n \n-#![crate_name = \"rustc_back\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "eb47144d1f995f5431ad9d366776afdcd4767175", "filename": "src/librustc_bitflags/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_bitflags%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_bitflags%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_bitflags%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -9,8 +9,6 @@\n // except according to those terms.\n \n \n-#![crate_name = \"rustc_bitflags\"]\n-#![crate_type = \"rlib\"]\n #![no_std]\n #![deny(warnings)]\n "}, {"sha": "e7f4f9caee3355a694057649bab65a3ca1bd5861", "filename": "src/librustc_borrowck/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_borrowck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_borrowck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -8,9 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_name = \"rustc_borrowck\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "9fedee80d46a8e748804199cc2b621075ed8b787", "filename": "src/librustc_const_eval/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_const_eval%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_const_eval%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_const_eval%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,9 +14,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"rustc_const_eval\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "93b70ef8e4a5856a1e13a3f1529bd003373bae56", "filename": "src/librustc_const_math/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_const_math%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_const_math%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_const_math%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,9 +14,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"rustc_const_math\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "da00ebc4b9ee90a21b4dd3050a2907ceef226cfd", "filename": "src/librustc_data_structures/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_data_structures%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_data_structures%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -16,9 +16,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"rustc_data_structures\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://www.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "e56c989b843d13a61187f320b009d6d3955cfe2b", "filename": "src/librustc_driver/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_driver%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_driver%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,9 +14,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"rustc_driver\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "02cb1ede2b1156a5dcf64b9b7e4cba5f8f4ca385", "filename": "src/librustc_errors/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_errors%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_errors%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -8,9 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_name = \"rustc_errors\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "8870033095c9c2a1106ddd91d3d88ca049367cb3", "filename": "src/librustc_incremental/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_incremental%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_incremental%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_incremental%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -10,9 +10,6 @@\n \n //! Support for serializing the dep-graph and reloading it.\n \n-#![crate_name = \"rustc_incremental\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "5ef277f02ace6b6cb59f4ec0855720c4b0e8aac2", "filename": "src/librustc_lint/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_lint%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_lint%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -19,9 +19,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"rustc_lint\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "3c3e627ee4b36e71e5912ab5d1d1388bc699de6a", "filename": "src/librustc_llvm/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_llvm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_llvm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_llvm%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -13,9 +13,6 @@\n #![allow(non_snake_case)]\n #![allow(dead_code)]\n \n-#![crate_name = \"rustc_llvm\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "7d796dbd00f8f4bd1535cbf6430d89144dc672c9", "filename": "src/librustc_metadata/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_metadata%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_metadata%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -8,9 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_name = \"rustc_metadata\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "dba625e98fd81db81c4512ea54244cce621b3e29", "filename": "src/librustc_mir/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_mir%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_mir%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,9 +14,6 @@ Rust MIR: a lowered representation of Rust. Also: an experiment!\n \n */\n \n-#![crate_name = \"rustc_mir\"]\n-#![crate_type = \"rlib\"]\n-#![crate_type = \"dylib\"]\n #![deny(warnings)]\n \n #![feature(box_patterns)]"}, {"sha": "28b99e1185bd2d3738191b98cd317aa188370d64", "filename": "src/librustc_passes/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_passes%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_passes%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_passes%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,9 +14,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"rustc_passes\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "4cc65ee28e89f703d3ebd261907471b7e0e1fe00", "filename": "src/librustc_platform_intrinsics/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_platform_intrinsics%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_platform_intrinsics%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -8,9 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_name = \"rustc_platform_intrinsics\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![deny(warnings)]\n #![allow(bad_style)]\n "}, {"sha": "a2a6d183e9ccc3d795980792c8bdc872ded6f31c", "filename": "src/librustc_plugin/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_plugin%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_plugin%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_plugin%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -60,9 +60,6 @@\n //! See the [`plugin` feature](../../unstable-book/language-features/plugin.html) of\n //! the Unstable Book for more examples.\n \n-#![crate_name = \"rustc_plugin\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "772b16bbecfbaa72a17f7e40674aa13e9bbf0d84", "filename": "src/librustc_privacy/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_privacy%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_privacy%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_privacy%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -8,9 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_name = \"rustc_privacy\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "ee349e31128897f71f3ca7cca2c40a80906ef336", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -8,9 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_name = \"rustc_resolve\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "9b74df865d74756059db8a89d272f6a17a2675d9", "filename": "src/librustc_save_analysis/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_save_analysis%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_save_analysis%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_save_analysis%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -8,9 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_name = \"rustc_save_analysis\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "1758e331129d52a54d4fc3fb75f9467193e7e6e2", "filename": "src/librustc_trans/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_trans%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_trans%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,9 +14,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"rustc_trans\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "90e17906328fbabaa80b047598e614bfef825cca", "filename": "src/librustc_trans_utils/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_trans_utils%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_trans_utils%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans_utils%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -12,9 +12,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"rustc_trans_utils\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "86feea13b17232cee655239370670b3d93e1dcde", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -63,9 +63,6 @@ This API is completely unstable and subject to change.\n \n */\n \n-#![crate_name = \"rustc_typeck\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "61a8165d26af16283b3cc49f85f538d47b71f791", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -8,9 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_name = \"rustdoc\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "2e354252c1573813770a50ccf0c7af29d85c1362", "filename": "src/libserialize/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibserialize%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibserialize%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibserialize%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,9 +14,6 @@\n Core encoding and decoding interfaces.\n */\n \n-#![crate_name = \"serialize\"]\n-#![crate_type = \"rlib\"]\n-#![crate_type = \"dylib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "cf1eb5cd52ea476a373460ac89b2f9145c168f9b", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -209,10 +209,7 @@\n //! [other]: #what-is-in-the-standard-library-documentation\n //! [primitive types]: ../book/first-edition/primitive-types.html\n \n-#![crate_name = \"std\"]\n #![stable(feature = \"rust1\", since = \"1.0.0\")]\n-#![crate_type = \"rlib\"]\n-#![crate_type = \"dylib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "e5a114caed0f4e90378751d7e736f1667cd62fb9", "filename": "src/libstd_unicode/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibstd_unicode%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibstd_unicode%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd_unicode%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -20,9 +20,7 @@\n //! provide for basic string-related manipulations. This crate does not\n //! (yet) aim to provide a full set of Unicode tables.\n \n-#![crate_name = \"std_unicode\"]\n #![unstable(feature = \"unicode\", issue = \"27783\")]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "e3c9f0a9345eacbe4c122c5e56137a1ab880fa38", "filename": "src/libsyntax/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,9 +14,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"syntax\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "35dc98195290800cb1a9ab6f1fa6b738653b990d", "filename": "src/libsyntax/test.rs", "status": "modified", "additions": 5, "deletions": 12, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibsyntax%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibsyntax%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ftest.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -56,13 +56,12 @@ struct Test {\n }\n \n struct TestCtxt<'a> {\n-    sess: &'a ParseSess,\n     span_diagnostic: &'a errors::Handler,\n     path: Vec<Ident>,\n     ext_cx: ExtCtxt<'a>,\n     testfns: Vec<Test>,\n     reexport_test_harness_main: Option<Symbol>,\n-    is_test_crate: bool,\n+    is_libtest: bool,\n     ctxt: SyntaxContext,\n \n     // top-level re-export submodule, filled out after folding is finished\n@@ -272,14 +271,15 @@ fn generate_test_harness(sess: &ParseSess,\n     let krate = cleaner.fold_crate(krate);\n \n     let mark = Mark::fresh(Mark::root());\n+\n     let mut cx: TestCtxt = TestCtxt {\n-        sess,\n         span_diagnostic: sd,\n         ext_cx: ExtCtxt::new(sess, ExpansionConfig::default(\"test\".to_string()), resolver),\n         path: Vec::new(),\n         testfns: Vec::new(),\n         reexport_test_harness_main,\n-        is_test_crate: is_test_crate(&krate),\n+        // NB: doesn't consider the value of `--crate-name` passed on the command line.\n+        is_libtest: attr::find_crate_name(&krate.attrs).map(|s| s == \"test\").unwrap_or(false),\n         toplevel_reexport: None,\n         ctxt: SyntaxContext::empty().apply_mark(mark),\n     };\n@@ -454,7 +454,7 @@ mod __test {\n fn mk_std(cx: &TestCtxt) -> P<ast::Item> {\n     let id_test = Ident::from_str(\"test\");\n     let sp = ignored_span(cx, DUMMY_SP);\n-    let (vi, vis, ident) = if cx.is_test_crate {\n+    let (vi, vis, ident) = if cx.is_libtest {\n         (ast::ItemKind::Use(\n             P(nospan(ast::ViewPathSimple(id_test,\n                                          path_node(vec![id_test]))))),\n@@ -608,13 +608,6 @@ fn mk_tests(cx: &TestCtxt) -> P<ast::Item> {\n                    test_descs)\n }\n \n-fn is_test_crate(krate: &ast::Crate) -> bool {\n-    match attr::find_crate_name(&krate.attrs) {\n-        Some(s) if \"test\" == s.as_str() => true,\n-        _ => false\n-    }\n-}\n-\n fn mk_test_descs(cx: &TestCtxt) -> P<ast::Expr> {\n     debug!(\"building test vector from {} tests\", cx.testfns.len());\n "}, {"sha": "fa39095d3298b006d9cf4887c7ae3fd04a6f0c92", "filename": "src/libsyntax_ext/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibsyntax_ext%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibsyntax_ext%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_ext%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -10,9 +10,6 @@\n \n //! Syntax extensions in the Rust compiler.\n \n-#![crate_name = \"syntax_ext\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "d34dcfa3ed3246d363d87ee2791648093949c4bc", "filename": "src/libsyntax_pos/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibsyntax_pos%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibsyntax_pos%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -14,9 +14,6 @@\n //!\n //! This API is completely unstable and subject to change.\n \n-#![crate_name = \"syntax_pos\"]\n-#![crate_type = \"dylib\"]\n-#![crate_type = \"rlib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]"}, {"sha": "ad0e582b1c324e4ef38ab460476c2b19e7696037", "filename": "src/libterm/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibterm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibterm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibterm%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -40,9 +40,6 @@\n //! [win]: http://msdn.microsoft.com/en-us/library/windows/desktop/ms682010%28v=vs.85%29.aspx\n //! [ti]: https://en.wikipedia.org/wiki/Terminfo\n \n-#![crate_name = \"term\"]\n-#![crate_type = \"rlib\"]\n-#![crate_type = \"dylib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "652bfa82b5c71aa53a08b7203f1fd2b75b9794e8", "filename": "src/libtest/lib.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibtest%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibtest%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -23,10 +23,11 @@\n // running tests while providing a base that other test frameworks may\n // build off of.\n \n+// NB: this is also specified in this crate's Cargo.toml, but libsyntax contains logic specific to\n+// this crate, which relies on this attribute (rather than the value of `--crate-name` passed by\n+// cargo) to detect this crate.\n #![crate_name = \"test\"]\n #![unstable(feature = \"test\", issue = \"27812\")]\n-#![crate_type = \"rlib\"]\n-#![crate_type = \"dylib\"]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\","}, {"sha": "461b49aa363b4406716d1f2af76bb3e2a98abf4a", "filename": "src/libunwind/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibunwind%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Flibunwind%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibunwind%2Flib.rs?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -9,8 +9,6 @@\n // except according to those terms.\n \n #![no_std]\n-#![crate_name = \"unwind\"]\n-#![crate_type = \"rlib\"]\n #![unstable(feature = \"panic_unwind\", issue = \"32837\")]\n #![deny(warnings)]\n "}, {"sha": "7197f4e17e3cc89750dc5aa9f125150533c48049", "filename": "src/test/run-make/alloc-extern-crates/Makefile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Ftest%2Frun-make%2Falloc-extern-crates%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/83fcd4dbbac4c8b810a0493c648619433c6040ec/src%2Ftest%2Frun-make%2Falloc-extern-crates%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Falloc-extern-crates%2FMakefile?ref=83fcd4dbbac4c8b810a0493c648619433c6040ec", "patch": "@@ -2,4 +2,4 @@\n \n all:\n \t$(RUSTC) fakealloc.rs\n-\t$(RUSTC) ../../../liballoc/lib.rs --cfg feature=\\\"external_crate\\\" --extern external=$(TMPDIR)/$(shell $(RUSTC) --print file-names fakealloc.rs)\n+\t$(RUSTC) --crate-type=rlib ../../../liballoc/lib.rs --cfg feature=\\\"external_crate\\\" --extern external=$(TMPDIR)/$(shell $(RUSTC) --print file-names fakealloc.rs)"}]}