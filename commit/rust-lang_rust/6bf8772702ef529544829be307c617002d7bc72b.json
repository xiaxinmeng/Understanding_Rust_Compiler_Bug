{"sha": "6bf8772702ef529544829be307c617002d7bc72b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZiZjg3NzI3MDJlZjUyOTU0NDgyOWJlMzA3YzYxNzAwMmQ3YmM3MmI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-06-17T17:38:25Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-06-17T17:38:25Z"}, "message": "Auto merge of #7366 - flip1995:changelog, r=Manishearth\n\nUpdate changelog\n\n[Rendered](https://github.com/flip1995/rust-clippy/blob/changelog/CHANGELOG.md)\n\nWay fewer new lints than usual. Also now \"Documentation\" or \"Others\" updates this time.\n\nchangelog: none", "tree": {"sha": "aace2c7568943b2a8e680a021a2d20c277dda7f8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/aace2c7568943b2a8e680a021a2d20c277dda7f8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6bf8772702ef529544829be307c617002d7bc72b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6bf8772702ef529544829be307c617002d7bc72b", "html_url": "https://github.com/rust-lang/rust/commit/6bf8772702ef529544829be307c617002d7bc72b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6bf8772702ef529544829be307c617002d7bc72b/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d4f908ac2e624d00b1c0fb4f2367146621b5a13e", "url": "https://api.github.com/repos/rust-lang/rust/commits/d4f908ac2e624d00b1c0fb4f2367146621b5a13e", "html_url": "https://github.com/rust-lang/rust/commit/d4f908ac2e624d00b1c0fb4f2367146621b5a13e"}, {"sha": "218a609f3c311e661598e27ced63796cea5bddfe", "url": "https://api.github.com/repos/rust-lang/rust/commits/218a609f3c311e661598e27ced63796cea5bddfe", "html_url": "https://github.com/rust-lang/rust/commit/218a609f3c311e661598e27ced63796cea5bddfe"}], "stats": {"total": 134, "additions": 131, "deletions": 3}, "files": [{"sha": "5c9b2e716d12903026fb12c267e33b1174089258", "filename": "CHANGELOG.md", "status": "modified", "additions": 131, "deletions": 3, "changes": 134, "blob_url": "https://github.com/rust-lang/rust/blob/6bf8772702ef529544829be307c617002d7bc72b/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/6bf8772702ef529544829be307c617002d7bc72b/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=6bf8772702ef529544829be307c617002d7bc72b", "patch": "@@ -6,11 +6,139 @@ document.\n \n ## Unreleased / In Rust Nightly\n \n-[7c7683c...master](https://github.com/rust-lang/rust-clippy/compare/7c7683c...master)\n+[3ae8faf...master](https://github.com/rust-lang/rust-clippy/compare/3ae8faf...master)\n+\n+## Rust 1.54\n+\n+Current beta, release 2021-07-29\n+\n+[7c7683c...3ae8faf](https://github.com/rust-lang/rust-clippy/compare/7c7683c...3ae8faf)\n+\n+### New Lints\n+\n+- [`ref_binding_to_reference`]\n+  [#7105](https://github.com/rust-lang/rust-clippy/pull/7105)\n+- [`needless_bitwise_bool`]\n+  [#7133](https://github.com/rust-lang/rust-clippy/pull/7133)\n+- [`unused_async`] [#7225](https://github.com/rust-lang/rust-clippy/pull/7225)\n+- [`manual_str_repeat`]\n+  [#7265](https://github.com/rust-lang/rust-clippy/pull/7265)\n+- [`suspicious_splitn`]\n+  [#7292](https://github.com/rust-lang/rust-clippy/pull/7292)\n+\n+### Moves and Deprecations\n+\n+- Deprecate `pub_enum_variant_names` and `wrong_pub_self_convention` in favor of\n+  the new `avoid_breaking_exported_api` config option (see\n+  ([Enhancements](#enhancements)))\n+  [#7187](https://github.com/rust-lang/rust-clippy/pull/7187)\n+- Move [`inconsistent_struct_constructor`] to `pedantic`\n+  [#7193](https://github.com/rust-lang/rust-clippy/pull/7193)\n+- Move [`needless_borrow`] to `style` (now warn-by-default)\n+  [#7254](https://github.com/rust-lang/rust-clippy/pull/7254)\n+- Move [`suspicious_operation_groupings`] to `nursery`\n+  [#7266](https://github.com/rust-lang/rust-clippy/pull/7266)\n+- Move [`semicolon_if_nothing_returned`] to `pedantic`\n+  [#7268](https://github.com/rust-lang/rust-clippy/pull/7268)\n+\n+### Enhancements\n+\n+- [`while_let_on_iterator`]: Now also lints in nested loops\n+  [#6966](https://github.com/rust-lang/rust-clippy/pull/6966)\n+- [`single_char_pattern`]: Now also lints on `strip_prefix` and `strip_suffix`\n+  [#7156](https://github.com/rust-lang/rust-clippy/pull/7156)\n+- [`needless_collect`]: Now also lints on assignments with type annotations\n+  [#7163](https://github.com/rust-lang/rust-clippy/pull/7163)\n+- [`if_then_some_else_none`]: Now works with the MSRV config\n+  [#7177](https://github.com/rust-lang/rust-clippy/pull/7177)\n+- Add `avoid_breaking_exported_api` config option for the lints\n+  [`enum_variant_names`], [`large_types_passed_by_value`],\n+  [`trivially_copy_pass_by_ref`], [`unnecessary_wraps`],\n+  [`upper_case_acronyms`], and [`wrong_self_convention`]. We recommend to set\n+  this configuration option to `false` before a major release (1.0/2.0/...) to\n+  clean up the API [#7187](https://github.com/rust-lang/rust-clippy/pull/7187)\n+- [`needless_collect`]: Now lints on even more data structures\n+  [#7188](https://github.com/rust-lang/rust-clippy/pull/7188)\n+- [`missing_docs_in_private_items`]: No longer sees `#[<name> = \"<value>\"]` like\n+  attributes as sufficient documentation\n+  [#7281](https://github.com/rust-lang/rust-clippy/pull/7281)\n+- [`needless_collect`], [`short_circuit_statement`], [`unnecessary_operation`]:\n+  Now work as expected when used with `allow`\n+  [#7282](https://github.com/rust-lang/rust-clippy/pull/7282)\n+\n+### False Positive Fixes\n+\n+- [`implicit_return`]: Now takes all diverging functions in account to avoid\n+  false positives [#6951](https://github.com/rust-lang/rust-clippy/pull/6951)\n+- [`while_let_on_iterator`]: No longer lints when the iterator is a struct field\n+  and the struct is used in the loop\n+  [#6966](https://github.com/rust-lang/rust-clippy/pull/6966)\n+- [`multiple_inherent_impl`]: No longer lints with generic arguments\n+  [#7089](https://github.com/rust-lang/rust-clippy/pull/7089)\n+- [`comparison_chain`]: No longer lints in a `const` context\n+  [#7118](https://github.com/rust-lang/rust-clippy/pull/7118)\n+- [`while_immutable_condition`]: Fix false positive where mutation in the loop\n+  variable wasn't picked up\n+  [#7144](https://github.com/rust-lang/rust-clippy/pull/7144)\n+- [`default_trait_access`]: No longer lints in macros\n+  [#7150](https://github.com/rust-lang/rust-clippy/pull/7150)\n+- [`needless_question_mark`]: No longer lints when the inner value is implicitly\n+  dereferenced [#7165](https://github.com/rust-lang/rust-clippy/pull/7165)\n+- [`unused_unit`]: No longer lints when multiple macro contexts are involved\n+  [#7167](https://github.com/rust-lang/rust-clippy/pull/7167)\n+- [`eval_order_dependence`]: Fix false positive in async context\n+  [#7174](https://github.com/rust-lang/rust-clippy/pull/7174)\n+- [`unnecessary_filter_map`]: No longer lints if the `filter_map` changes the\n+  type [#7175](https://github.com/rust-lang/rust-clippy/pull/7175)\n+- [`wrong_self_convention`]: No longer lints in trait implementations of\n+  non-`Copy` types [#7182](https://github.com/rust-lang/rust-clippy/pull/7182)\n+- [`suboptimal_flops`]: No longer lints on `powi(2)`\n+  [#7201](https://github.com/rust-lang/rust-clippy/pull/7201)\n+- [`wrong_self_convention`]: No longer lints if there is no implicit `self`\n+  [#7215](https://github.com/rust-lang/rust-clippy/pull/7215)\n+- [`option_if_let_else`]: No longer lints on `else if let` pattern\n+  [#7216](https://github.com/rust-lang/rust-clippy/pull/7216)\n+- [`use_self`], [`useless_conversion`]: Fix false positives when generic\n+  arguments are involved\n+  [#7223](https://github.com/rust-lang/rust-clippy/pull/7223)\n+- [`manual_unwrap_or`]: Fix false positive with deref coercion\n+  [#7233](https://github.com/rust-lang/rust-clippy/pull/7233)\n+- [`similar_names`]: No longer lints on `wparam`/`lparam`\n+  [#7255](https://github.com/rust-lang/rust-clippy/pull/7255)\n+- [`redundant_closure`]: No longer lints on using the `vec![]` macro in a\n+  closure [#7263](https://github.com/rust-lang/rust-clippy/pull/7263)\n+\n+### Suggestion Fixes/Improvements\n+\n+- [`implicit_return`]\n+  [#6951](https://github.com/rust-lang/rust-clippy/pull/6951)\n+    - Fix suggestion for async functions\n+    - Improve suggestion with macros\n+    - Suggest to change `break` to `return` when appropriate\n+- [`while_let_on_iterator`]: Now suggests `&mut iter` when necessary\n+  [#6966](https://github.com/rust-lang/rust-clippy/pull/6966)\n+- [`match_single_binding`]: Improve suggestion when match scrutinee has side\n+  effects [#7095](https://github.com/rust-lang/rust-clippy/pull/7095)\n+- [`needless_borrow`]: Now suggests to also change usage sites as needed\n+  [#7105](https://github.com/rust-lang/rust-clippy/pull/7105)\n+- [`write_with_newline`]: Improve suggestion when only `\\n` is written to the\n+  buffer [#7183](https://github.com/rust-lang/rust-clippy/pull/7183)\n+- [`from_iter_instead_of_collect`]: The suggestion is now auto applicable also\n+  when a `<_ as Trait>::_` is involved\n+  [#7264](https://github.com/rust-lang/rust-clippy/pull/7264)\n+- [`not_unsafe_ptr_arg_deref`]: Improved error message\n+  [#7294](https://github.com/rust-lang/rust-clippy/pull/7294)\n+\n+### ICE Fixes\n+\n+- Fix ICE when running Clippy on `libstd`\n+  [#7140](https://github.com/rust-lang/rust-clippy/pull/7140)\n+- [`implicit_return`]\n+  [#7242](https://github.com/rust-lang/rust-clippy/pull/7242)\n \n ## Rust 1.53\n \n-Current beta, release 2021-06-17\n+Current stable, released 2021-06-17\n \n [6ed6f1e...7c7683c](https://github.com/rust-lang/rust-clippy/compare/6ed6f1e...7c7683c)\n \n@@ -194,7 +322,7 @@ Current beta, release 2021-06-17\n \n ## Rust 1.52\n \n-Current stable, released 2021-05-06\n+Released 2021-05-06\n \n [3e41797...6ed6f1e](https://github.com/rust-lang/rust-clippy/compare/3e41797...6ed6f1e)\n "}]}