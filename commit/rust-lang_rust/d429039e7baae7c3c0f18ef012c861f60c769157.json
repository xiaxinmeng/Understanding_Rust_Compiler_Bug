{"sha": "d429039e7baae7c3c0f18ef012c861f60c769157", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ0MjkwMzllN2JhYWU3YzNjMGYxOGVmMDEyYzg2MWY2MGM3NjkxNTc=", "commit": {"author": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2014-11-17T19:35:27Z"}, "committer": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2014-11-17T19:35:27Z"}, "message": "DSTify `impl Clone for &T`\n\nCloses #19037", "tree": {"sha": "62fc9c5f3a4ae1a23498e8af4d0485711775a030", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/62fc9c5f3a4ae1a23498e8af4d0485711775a030"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d429039e7baae7c3c0f18ef012c861f60c769157", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d429039e7baae7c3c0f18ef012c861f60c769157", "html_url": "https://github.com/rust-lang/rust/commit/d429039e7baae7c3c0f18ef012c861f60c769157", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d429039e7baae7c3c0f18ef012c861f60c769157/comments", "author": null, "committer": null, "parents": [{"sha": "88c743def3cf42ee943ca09dda1e6dccf4894db9", "url": "https://api.github.com/repos/rust-lang/rust/commits/88c743def3cf42ee943ca09dda1e6dccf4894db9", "html_url": "https://github.com/rust-lang/rust/commit/88c743def3cf42ee943ca09dda1e6dccf4894db9"}], "stats": {"total": 42, "additions": 29, "deletions": 13}, "files": [{"sha": "d13daf0964a1aeb0ce74132ffa308372243485c5", "filename": "src/libcore/clone.rs", "status": "modified", "additions": 3, "deletions": 13, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/d429039e7baae7c3c0f18ef012c861f60c769157/src%2Flibcore%2Fclone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d429039e7baae7c3c0f18ef012c861f60c769157/src%2Flibcore%2Fclone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fclone.rs?ref=d429039e7baae7c3c0f18ef012c861f60c769157", "patch": "@@ -23,6 +23,8 @@ the `clone` method.\n \n #![unstable]\n \n+use kinds::Sized;\n+\n /// A common trait for cloning an object.\n pub trait Clone {\n     /// Returns a copy of the value.\n@@ -40,24 +42,12 @@ pub trait Clone {\n     }\n }\n \n-impl<'a, T> Clone for &'a T {\n+impl<'a, Sized? T> Clone for &'a T {\n     /// Return a shallow copy of the reference.\n     #[inline]\n     fn clone(&self) -> &'a T { *self }\n }\n \n-impl<'a, T> Clone for &'a [T] {\n-    /// Return a shallow copy of the slice.\n-    #[inline]\n-    fn clone(&self) -> &'a [T] { *self }\n-}\n-\n-impl<'a> Clone for &'a str {\n-    /// Return a shallow copy of the slice.\n-    #[inline]\n-    fn clone(&self) -> &'a str { *self }\n-}\n-\n macro_rules! clone_impl(\n     ($t:ty) => {\n         impl Clone for $t {"}, {"sha": "a6b5f4b8744667d1d9bba86a3b40692938c8b590", "filename": "src/test/run-pass/issue-19037.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/d429039e7baae7c3c0f18ef012c861f60c769157/src%2Ftest%2Frun-pass%2Fissue-19037.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d429039e7baae7c3c0f18ef012c861f60c769157/src%2Ftest%2Frun-pass%2Fissue-19037.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-19037.rs?ref=d429039e7baae7c3c0f18ef012c861f60c769157", "patch": "@@ -0,0 +1,26 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+struct Str([u8]);\n+\n+#[deriving(Clone)]\n+struct CharSplits<'a, Sep> {\n+    string: &'a Str,\n+    sep: Sep,\n+    allow_trailing_empty: bool,\n+    only_ascii: bool,\n+    finished: bool,\n+}\n+\n+fn clone(s: &Str) -> &Str {\n+    Clone::clone(&s)\n+}\n+\n+fn main() {}"}]}