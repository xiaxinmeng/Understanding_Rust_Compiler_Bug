{"sha": "e5ed10571690b2ee4fc64319967973b2e50b517f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU1ZWQxMDU3MTY5MGIyZWU0ZmM2NDMxOTk2Nzk3M2IyZTUwYjUxN2Y=", "commit": {"author": {"name": "John Renner", "email": "john@jrenner.net", "date": "2018-08-30T20:40:33Z"}, "committer": {"name": "John Renner", "email": "john@jrenner.net", "date": "2018-09-05T05:33:11Z"}, "message": "Document #[test_case] and #![test_runner]", "tree": {"sha": "dd2f61c45a99bd3a6bcdb161ee3e5a71fb265331", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dd2f61c45a99bd3a6bcdb161ee3e5a71fb265331"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e5ed10571690b2ee4fc64319967973b2e50b517f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e5ed10571690b2ee4fc64319967973b2e50b517f", "html_url": "https://github.com/rust-lang/rust/commit/e5ed10571690b2ee4fc64319967973b2e50b517f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e5ed10571690b2ee4fc64319967973b2e50b517f/comments", "author": {"login": "djrenren", "id": 634666, "node_id": "MDQ6VXNlcjYzNDY2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/634666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djrenren", "html_url": "https://github.com/djrenren", "followers_url": "https://api.github.com/users/djrenren/followers", "following_url": "https://api.github.com/users/djrenren/following{/other_user}", "gists_url": "https://api.github.com/users/djrenren/gists{/gist_id}", "starred_url": "https://api.github.com/users/djrenren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djrenren/subscriptions", "organizations_url": "https://api.github.com/users/djrenren/orgs", "repos_url": "https://api.github.com/users/djrenren/repos", "events_url": "https://api.github.com/users/djrenren/events{/privacy}", "received_events_url": "https://api.github.com/users/djrenren/received_events", "type": "User", "site_admin": false}, "committer": {"login": "djrenren", "id": 634666, "node_id": "MDQ6VXNlcjYzNDY2Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/634666?v=4", "gravatar_id": "", "url": "https://api.github.com/users/djrenren", "html_url": "https://github.com/djrenren", "followers_url": "https://api.github.com/users/djrenren/followers", "following_url": "https://api.github.com/users/djrenren/following{/other_user}", "gists_url": "https://api.github.com/users/djrenren/gists{/gist_id}", "starred_url": "https://api.github.com/users/djrenren/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/djrenren/subscriptions", "organizations_url": "https://api.github.com/users/djrenren/orgs", "repos_url": "https://api.github.com/users/djrenren/repos", "events_url": "https://api.github.com/users/djrenren/events{/privacy}", "received_events_url": "https://api.github.com/users/djrenren/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "08ea5b7c78a864da0b1a348c3c3425e8611cef76", "url": "https://api.github.com/repos/rust-lang/rust/commits/08ea5b7c78a864da0b1a348c3c3425e8611cef76", "html_url": "https://github.com/rust-lang/rust/commit/08ea5b7c78a864da0b1a348c3c3425e8611cef76"}], "stats": {"total": 41, "additions": 37, "deletions": 4}, "files": [{"sha": "3990b6ad2f080f4efca3a2ce37380a75b534d9bb", "filename": "src/doc/unstable-book/src/language-features/custom-test-frameworks.md", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/e5ed10571690b2ee4fc64319967973b2e50b517f/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fcustom-test-frameworks.md", "raw_url": "https://github.com/rust-lang/rust/raw/e5ed10571690b2ee4fc64319967973b2e50b517f/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fcustom-test-frameworks.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fcustom-test-frameworks.md?ref=e5ed10571690b2ee4fc64319967973b2e50b517f", "patch": "@@ -0,0 +1,33 @@\n+# `custom_test_frameworks`\n+\n+The tracking issue for this feature is: [#50297]\n+\n+[#50297]: https://github.com/rust-lang/rust/issues/50297\n+\n+------------------------\n+\n+The `custom_test_frameworks` feature allows the use of `#[test_case]` and `#![test_runner]`.\n+Any function, const, or static can be annotated with `#[test_case]` causing it to be aggregated (like `#[test]`)\n+and be passed to the test runner determined by the `#![test_runner]` crate attribute.\n+\n+```rust\n+#![feature(custom_test_frameworks)]\n+#![test_runner(my_runner)]\n+\n+fn my_runner(tests: &[&i32]) {\n+    for t in tests {\n+        if **t == 0 {\n+            println!(\"PASSED\");\n+        } else {\n+            println!(\"FAILED\");\n+        }\n+    }\n+}\n+\n+#[test_case]\n+const WILL_PASS: i32 = 0;\n+\n+#[test_case]\n+const WILL_FAIL: i32 = 4;\n+```\n+"}, {"sha": "424cbd981c87d9b92c6aeb632377c14cf121a61d", "filename": "src/test/ui/issues/issue-11692-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e5ed10571690b2ee4fc64319967973b2e50b517f/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e5ed10571690b2ee4fc64319967973b2e50b517f/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.rs?ref=e5ed10571690b2ee4fc64319967973b2e50b517f", "patch": "@@ -10,5 +10,5 @@\n \n fn main() {\n     concat!(test!());\n-    //~^ error: `test` can only be used in attributes\n+    //~^ error: cannot find macro `test!` in this scope\n }"}, {"sha": "51d6041e92220e356b6f873a9ec54c9c8e5ca952", "filename": "src/test/ui/issues/issue-11692-2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e5ed10571690b2ee4fc64319967973b2e50b517f/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e5ed10571690b2ee4fc64319967973b2e50b517f/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.stderr?ref=e5ed10571690b2ee4fc64319967973b2e50b517f", "patch": "@@ -1,4 +1,4 @@\n-error: `test` can only be used in attributes\n+error: cannot find macro `test!` in this scope\n   --> $DIR/issue-11692-2.rs:12:13\n    |\n LL |     concat!(test!());"}, {"sha": "2e9d2dcc4100c8b6b8663203dbdf3ebb653369e3", "filename": "src/test/ui/test-shadowing/auxiliary/test_macro.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e5ed10571690b2ee4fc64319967973b2e50b517f/src%2Ftest%2Fui%2Ftest-shadowing%2Fauxiliary%2Ftest_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e5ed10571690b2ee4fc64319967973b2e50b517f/src%2Ftest%2Fui%2Ftest-shadowing%2Fauxiliary%2Ftest_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftest-shadowing%2Fauxiliary%2Ftest_macro.rs?ref=e5ed10571690b2ee4fc64319967973b2e50b517f", "patch": "@@ -11,4 +11,4 @@\n #[macro_export]\n macro_rules! test {\n     () => {};\n-}\n\\ No newline at end of file\n+}"}, {"sha": "4b1a437818f872201dbda368a48a418c0a38b0ef", "filename": "src/test/ui/test-shadowing/test-cant-be-shadowed.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e5ed10571690b2ee4fc64319967973b2e50b517f/src%2Ftest%2Fui%2Ftest-shadowing%2Ftest-cant-be-shadowed.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e5ed10571690b2ee4fc64319967973b2e50b517f/src%2Ftest%2Fui%2Ftest-shadowing%2Ftest-cant-be-shadowed.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftest-shadowing%2Ftest-cant-be-shadowed.rs?ref=e5ed10571690b2ee4fc64319967973b2e50b517f", "patch": "@@ -15,4 +15,4 @@\n #[macro_use] extern crate test_macro;\n \n #[test]\n-fn foo(){}\n\\ No newline at end of file\n+fn foo(){}"}]}