{"sha": "7f6ce7dddd49f453da15bb4d586a5990985814d8", "node_id": "C_kwDOAAsO6NoAKDdmNmNlN2RkZGQ0OWY0NTNkYTE1YmI0ZDU4NmE1OTkwOTg1ODE0ZDg", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-06-24T15:03:04Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-06-28T12:15:45Z"}, "message": "Simplify CSS theming by setting CSS variables", "tree": {"sha": "7c363bdc0a1d3baca9a4fc7cf3b348d87a6b03a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7c363bdc0a1d3baca9a4fc7cf3b348d87a6b03a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7f6ce7dddd49f453da15bb4d586a5990985814d8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7f6ce7dddd49f453da15bb4d586a5990985814d8", "html_url": "https://github.com/rust-lang/rust/commit/7f6ce7dddd49f453da15bb4d586a5990985814d8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7f6ce7dddd49f453da15bb4d586a5990985814d8/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a518b3a62c9bc6fcc8a9e9813aae01c6f61b8925", "url": "https://api.github.com/repos/rust-lang/rust/commits/a518b3a62c9bc6fcc8a9e9813aae01c6f61b8925", "html_url": "https://github.com/rust-lang/rust/commit/a518b3a62c9bc6fcc8a9e9813aae01c6f61b8925"}], "stats": {"total": 272, "additions": 73, "deletions": 199}, "files": [{"sha": "4737a8b4639019fc45719fa92c8535ca395d65c2", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 55, "deletions": 0, "changes": 55, "blob_url": "https://github.com/rust-lang/rust/blob/7f6ce7dddd49f453da15bb4d586a5990985814d8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/7f6ce7dddd49f453da15bb4d586a5990985814d8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=7f6ce7dddd49f453da15bb4d586a5990985814d8", "patch": "@@ -114,6 +114,9 @@ body {\n \t-webkit-font-feature-settings: \"kern\", \"liga\";\n \t-moz-font-feature-settings: \"kern\", \"liga\";\n \tfont-feature-settings: \"kern\", \"liga\";\n+\n+\tbackground-color: var(--main-background-color);\n+\tcolor: var(--main-color);\n }\n \n h1 {\n@@ -214,6 +217,26 @@ a.srclink,\n \tfont-family: \"Fira Sans\", Arial, NanumBarunGothic, sans-serif;\n }\n \n+h1, h2, h3, h4,\n+a#toggle-all-docs,\n+a.anchor,\n+.small-section-header a,\n+#source-sidebar a,\n+pre.rust a,\n+.sidebar h2 a,\n+.sidebar h3 a,\n+.mobile-topbar h2 a,\n+.in-band a,\n+.search-results a,\n+.module-item .stab,\n+.import-item .stab,\n+.result-name .primitive > i, .result-name .keyword > i,\n+.content .method .where,\n+.content .fn .where,\n+.content .where.fmt-newline {\n+\tcolor: var(--main-color);\n+}\n+\n ol, ul {\n \tpadding-left: 24px;\n }\n@@ -391,6 +414,14 @@ nav.sub {\n \tdisplay: none;\n }\n \n+.source .sidebar, #sidebar-toggle, #source-sidebar {\n+\tbackground-color: var(--sidebar-background-color);\n+}\n+\n+#sidebar-toggle:hover {\n+\tbackground-color: var(--sidebar-background-color-hover);\n+}\n+\n .source .sidebar > *:not(#sidebar-toggle) {\n \topacity: 0;\n \tvisibility: hidden;\n@@ -1003,6 +1034,11 @@ table,\n \ttop: -5px;\n }\n \n+.popover, .popover::before {\n+\tbackground-color: var(--main-background-color);\n+\tcolor: var(--main-color);\n+}\n+\n #help-button .popover {\n \tmax-width: 600px;\n }\n@@ -1423,6 +1459,25 @@ pre.rust {\n \tanimation: rotating 2s linear infinite;\n }\n \n+.setting-line .radio-line input:checked {\n+\tbox-shadow: inset 0 0 0 3px var(--main-background-color);\n+\tbackground-color: var(--settings-input-color);\n+}\n+.setting-line .radio-line input:focus {\n+\tbox-shadow: 0 0 1px 1px var(--settings-input-color);\n+}\n+/* In here we combine both `:focus` and `:checked` properties. */\n+.setting-line .radio-line input:checked:focus {\n+\tbox-shadow: inset 0 0 0 3px var(--main-background-color),\n+\t\t0 0 2px 2px var(--settings-input-color);\n+}\n+.setting-line .radio-line input:hover {\n+\tborder-color: var(--settings-input-color) !important;\n+}\n+input:checked + .slider {\n+\tbackground-color: var(--settings-input-color);\n+}\n+\n #help-button > button {\n \tfont-family: \"Fira Sans\", Arial, sans-serif;\n \ttext-align: center;"}, {"sha": "7756e877ef791f2922e7c4ab1ed63a283ba64777", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 6, "deletions": 57, "changes": 63, "blob_url": "https://github.com/rust-lang/rust/blob/7f6ce7dddd49f453da15bb4d586a5990985814d8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/7f6ce7dddd49f453da15bb4d586a5990985814d8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=7f6ce7dddd49f453da15bb4d586a5990985814d8", "patch": "@@ -3,30 +3,12 @@ Based off of the Ayu theme\n Original by Dempfi (https://github.com/dempfi/ayu)\n */\n \n-/* General structure and fonts */\n-\n-body, .popover, .popover::before {\n-\tbackground-color: #0f1419;\n-\tcolor: #c5c5c5;\n-}\n-\n-.setting-line .radio-line input {\n-\tborder-color: #c5c5c5;\n-}\n-.setting-line .radio-line input:checked {\n-\tbox-shadow: inset 0 0 0 3px #0f1419;\n-\tbackground-color: #ffb454;\n-}\n-.setting-line .radio-line input:focus {\n-\tbox-shadow: 0 0 1px 1px #ffb454;\n-}\n-/* In here we combine both `:focus` and `:checked` properties. */\n-.setting-line .radio-line input:checked:focus {\n-\tbox-shadow: inset 0 0 0 3px 0f1419,\n-\t\t0 0 2px 2px #ffb454;\n-}\n-.setting-line .radio-line input:hover {\n-\tborder-color: #ffb454 !important;\n+:root {\n+\t--main-background-color: #0f1419;\n+\t--main-color: #c5c5c5;\n+\t--settings-input-color: #ffb454;\n+\t--sidebar-background-color: #14191f;\n+\t--sidebar-background-color-hover: rgba(70, 70, 70, 0.33);\n }\n \n .slider {\n@@ -35,9 +17,6 @@ body, .popover, .popover::before {\n .slider:before {\n \tbackground-color: white;\n }\n-input:checked + .slider {\n-\tbackground-color: #ffb454;\n-}\n input:focus + .slider {\n \tbox-shadow: 0 0 0 2px #0a84ff, 0 0 0 6px rgba(10, 132, 255, 0.3);\n }\n@@ -125,10 +104,6 @@ pre, .rustdoc.source .example-wrap {\n \tcolor: #ffb44c;\n }\n \n-.source .sidebar {\n-\tbackground-color: #14191f;\n-}\n-\n .sidebar-elems .location {\n \tcolor: #ff7733;\n }\n@@ -149,12 +124,6 @@ pre, .rustdoc.source .example-wrap {\n \tborder-color: #5c6773;\n }\n \n-.content .method .where,\n-.content .fn .where,\n-.content .where.fmt-newline {\n-\tcolor: #c5c5c5;\n-}\n-\n .search-results a:hover {\n \tbackground-color: #777;\n }\n@@ -229,17 +198,6 @@ a {\n \tcolor: #39AFD7;\n }\n \n-a#toggle-all-docs,\n-a.anchor,\n-.small-section-header a,\n-#source-sidebar a,\n-pre.rust a,\n-.sidebar h2 a,\n-.sidebar h3 a,\n-.mobile-topbar h2 a,\n-.in-band a {\n-\tcolor: #c5c5c5;\n-}\n .sidebar h2 a,\n .sidebar h3 a {\n \tcolor: white;\n@@ -613,15 +571,6 @@ kbd {\n \tcolor: #999;\n }\n \n-#sidebar-toggle {\n-\tbackground-color: #14191f;\n-}\n-#sidebar-toggle:hover {\n-\tbackground-color: rgba(70, 70, 70, 0.33);\n-}\n-#source-sidebar {\n-\tbackground-color: #14191f;\n-}\n #source-sidebar > .title {\n \tcolor: #fff;\n \tborder-bottom-color: #5c6773;"}, {"sha": "04d5778f59c6c08b05bf20ee4e214e648ad982e6", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 6, "deletions": 70, "changes": 76, "blob_url": "https://github.com/rust-lang/rust/blob/7f6ce7dddd49f453da15bb4d586a5990985814d8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/7f6ce7dddd49f453da15bb4d586a5990985814d8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=7f6ce7dddd49f453da15bb4d586a5990985814d8", "patch": "@@ -1,25 +1,9 @@\n-body, .popover, .popover::before {\n-\tbackground-color: #353535;\n-\tcolor: #ddd;\n-}\n-\n-.setting-line .radio-line input {\n-\tborder-color: #ddd;\n-}\n-.setting-line .radio-line input:checked {\n-\tbox-shadow: inset 0 0 0 3px #353535;\n-\tbackground-color: #2196f3;\n-}\n-.setting-line .radio-line input:focus {\n-\tbox-shadow: 0 0 1px 1px #2196f3;\n-}\n-/* In here we combine both `:focus` and `:checked` properties. */\n-.setting-line .radio-line input:checked:focus {\n-\tbox-shadow: inset 0 0 0 3px #353535,\n-\t\t0 0 2px 2px #2196f3;\n-}\n-.setting-line .radio-line input:hover {\n-\tborder-color: #2196f3 !important;\n+:root {\n+\t--main-background-color: #353535;\n+\t--main-color: #ddd;\n+\t--settings-input-color: #2196f3;\n+\t--sidebar-background-color: #565656;\n+\t--sidebar-background-color-hover: #676767;\n }\n \n .slider {\n@@ -28,16 +12,10 @@ body, .popover, .popover::before {\n .slider:before {\n \tbackground-color: white;\n }\n-input:checked + .slider {\n-\tbackground-color: #2196F3;\n-}\n input:focus + .slider {\n \tbox-shadow: 0 0 0 2px #0a84ff, 0 0 0 6px rgba(10, 132, 255, 0.3);\n }\n \n-h1, h2, h3, h4 {\n-\tcolor: #ddd;\n-}\n h1.fqn {\n \tborder-bottom-color: #d2d2d2;\n }\n@@ -94,10 +72,6 @@ pre, .rustdoc.source .example-wrap {\n \tbackground: #444;\n }\n \n-.source .sidebar {\n-\tbackground-color: #565656;\n-}\n-\n .line-numbers span { color: #3B91E2; }\n .line-numbers .line-highlighted {\n \tbackground-color: #0a042f !important;\n@@ -111,12 +85,6 @@ pre, .rustdoc.source .example-wrap {\n \tborder-color: #ddd;\n }\n \n-.content .method .where,\n-.content .fn .where,\n-.content .where.fmt-newline {\n-\tcolor: #ddd;\n-}\n-\n .search-results a:hover {\n \tbackground-color: #777;\n }\n@@ -210,20 +178,6 @@ a {\n \tcolor: #D2991D;\n }\n \n-a#toggle-all-docs,\n-a.anchor,\n-.small-section-header a,\n-#source-sidebar a,\n-pre.rust a,\n-.sidebar h2 a,\n-.sidebar h3 a,\n-.mobile-topbar h2 a,\n-.in-band a {\n-\tcolor: #ddd;\n-}\n-.search-results a {\n-\tcolor: #ddd;\n-}\n a.test-arrow {\n \tcolor: #dedede;\n }\n@@ -257,11 +211,6 @@ details.undocumented > summary::before {\n \tborder-color: #008dfd;\n }\n \n-.module-item .stab,\n-.import-item .stab {\n-\tcolor: #ddd;\n-}\n-\n .stab.empty-impl { background: #FFF5D6; border-color: #FFC600; color: #2f2f2f; }\n .stab.unstable { background: #FFF5D6; border-color: #FFC600; color: #2f2f2f; }\n .stab.deprecated { background: #ffc4c4; border-color: #db7b7b; color: #2f2f2f; }\n@@ -287,10 +236,6 @@ details.undocumented > summary::before {\n \tcolor: grey;\n }\n \n-.result-name .primitive > i, .result-name .keyword > i {\n-\tcolor: #ddd;\n-}\n-\n .line-numbers :target { background-color: transparent; }\n \n /* Code highlighting */\n@@ -484,15 +429,6 @@ kbd {\n \tcolor: #ccc;\n }\n \n-#sidebar-toggle {\n-\tbackground-color: #565656;\n-}\n-#sidebar-toggle:hover {\n-\tbackground-color: #676767;\n-}\n-#source-sidebar {\n-\tbackground-color: #565656;\n-}\n #source-sidebar > .title {\n \tborder-bottom-color: #ccc;\n }"}, {"sha": "5310736037a7395e6285f5a23755f1915fcc74cc", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 6, "deletions": 72, "changes": 78, "blob_url": "https://github.com/rust-lang/rust/blob/7f6ce7dddd49f453da15bb4d586a5990985814d8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/7f6ce7dddd49f453da15bb4d586a5990985814d8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=7f6ce7dddd49f453da15bb4d586a5990985814d8", "patch": "@@ -1,27 +1,9 @@\n-/* General structure and fonts */\n-\n-body, .popover, .popover::before {\n-\tbackground-color: white;\n-\tcolor: black;\n-}\n-\n-.setting-line .radio-line input {\n-\tborder-color: black;\n-}\n-.setting-line .radio-line input:checked {\n-\tbox-shadow: inset 0 0 0 3px white;\n-\tbackground-color: #2196f3;\n-}\n-.setting-line .radio-line input:focus {\n-\tbox-shadow: 0 0 1px 1px #2196f3;\n-}\n-/* In here we combine both `:focus` and `:checked` properties. */\n-.setting-line .radio-line input:checked:focus {\n-\tbox-shadow: inset 0 0 0 3px white,\n-\t\t0 0 2px 2px #2196f3;\n-}\n-.setting-line .radio-line input:hover {\n-\tborder-color: #2196f3 !important;\n+:root {\n+\t--main-background-color: white;\n+\t--main-color: black;\n+\t--settings-input-color: #2196f3;\n+\t--sidebar-background-color: #F5F5F5;\n+\t--sidebar-background-color-hover: #E0E0E0;\n }\n \n .slider {\n@@ -30,16 +12,10 @@ body, .popover, .popover::before {\n .slider:before {\n \tbackground-color: white;\n }\n-input:checked + .slider {\n-\tbackground-color: #2196F3;\n-}\n input:focus + .slider {\n \tbox-shadow: 0 0 0 2px #0a84ff, 0 0 0 6px rgba(10, 132, 255, 0.3);\n }\n \n-h1, h2, h3, h4 {\n-\tcolor: black;\n-}\n h1.fqn {\n \tborder-bottom-color: #DDDDDD;\n }\n@@ -96,10 +72,6 @@ pre, .rustdoc.source .example-wrap {\n \tbackground-color: #fff;\n }\n \n-.source .sidebar {\n-\tbackground-color: #f1f1f1;\n-}\n-\n .line-numbers span { color: #c67e2d; }\n .line-numbers .line-highlighted {\n \tbackground-color: #FDFFD3 !important;\n@@ -113,12 +85,6 @@ pre, .rustdoc.source .example-wrap {\n \tborder-color: #ddd;\n }\n \n-.content .method .where,\n-.content .fn .where,\n-.content .where.fmt-newline {\n-\tcolor: #4E4C4C;\n-}\n-\n .search-results a:hover {\n \tbackground-color: #ddd;\n }\n@@ -209,20 +175,6 @@ a {\n \tcolor: #3873AD;\n }\n \n-a#toggle-all-docs,\n-a.anchor,\n-.small-section-header a,\n-#source-sidebar a,\n-pre.rust a,\n-.sidebar h2 a,\n-.sidebar h3 a,\n-.mobile-topbar h2 a,\n-.in-band a {\n-\tcolor: #000;\n-}\n-.search-results a {\n-\tcolor: initial;\n-}\n a.test-arrow {\n \tcolor: #f5f5f5;\n }\n@@ -246,11 +198,6 @@ details.undocumented > summary::before {\n \tborder-color: #66afe9;\n }\n \n-.module-item .stab,\n-.import-item .stab {\n-\tcolor: #000;\n-}\n-\n .stab.empty-impl { background: #FFF5D6; border-color: #FFC600; }\n .stab.unstable { background: #FFF5D6; border-color: #FFC600; }\n .stab.deprecated { background: #ffc4c4; border-color: #db7b7b; }\n@@ -271,10 +218,6 @@ details.undocumented > summary::before {\n \tcolor: grey;\n }\n \n-.result-name .primitive > i, .result-name .keyword > i {\n-\tcolor: black;\n-}\n-\n .line-numbers :target { background-color: transparent; }\n \n /* Code highlighting */\n@@ -468,15 +411,6 @@ kbd {\n \tcolor: #999;\n }\n \n-#sidebar-toggle {\n-\tbackground-color: #F5F5F5;\n-}\n-#sidebar-toggle:hover {\n-\tbackground-color: #E0E0E0;\n-}\n-#source-sidebar {\n-\tbackground-color: #F5F5F5;\n-}\n #source-sidebar > .title {\n \tborder-bottom-color: #ccc;\n }"}]}