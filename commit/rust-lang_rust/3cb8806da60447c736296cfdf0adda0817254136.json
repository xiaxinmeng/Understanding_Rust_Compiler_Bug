{"sha": "3cb8806da60447c736296cfdf0adda0817254136", "node_id": "C_kwDOAAsO6NoAKDNjYjg4MDZkYTYwNDQ3YzczNjI5NmNmZGYwYWRkYTA4MTcyNTQxMzY", "commit": {"author": {"name": "Dylan DPC", "email": "99973273+Dylan-DPC@users.noreply.github.com", "date": "2022-09-14T13:56:22Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-09-14T13:56:22Z"}, "message": "Rollup merge of #101773 - notriddle:notriddle/content-table, r=GuillaumeGomez\n\nrustdoc: remove outdated CSS `.content table` etc\n\n# Screenshot before\n\n![image](https://user-images.githubusercontent.com/1593513/189992665-238aab28-d224-4466-901c-6e35e79182fb.png)\n\n# Screenshot after\n\n![image](https://user-images.githubusercontent.com/1593513/189992762-35c8efe4-e980-40bd-b72c-3ae4cfd6f830.png)\n\n# Description\n\nThe `.content table` / `.content td` / `.content tr` family of selectors date back to 4fd061c426902b0904c65e64a3780b21f9ab3afb, when module indexes and other parts of rustdoc used `<table>` tags for layout and content presentation. The `.content td h1, .content td h2` has only been changed since then to tweak the font size in dd5ff428edbc7cd4fa600b81f27bbec28589704f.\n\nhttps://github.com/rust-lang/rust/blob/4fd061c426902b0904c65e64a3780b21f9ab3afb/src/rustdoc_ng/html/static/main.css#L155-L162\n\nThis CSS would have affected:\n\n  * search result tables, which were removed in b615c0c85469c94041a5e68b9d8b68dcf799f9f1\n  * module item tables, which were removed in 6020c79ddeafe8d9760b27c14c39da81bac9b4a6\n  * docblock tables from markdown, which still exist\n\nIt may also have affected a few other tables over the last decade, but they've been gradually replaced with grid layouts and flexbox to make layouts that work better on narrow viewports. For example, 34bd2b845b3acd84c5a9bddae3ff8081c19ec5e9.\n\nThese rules have no affect on the appearance of docblock tables\n---------------------------------------------------------------\n\n    .content table {\n        border-spacing: 0 5px;\n    }\n\nAccording to MDN, [border-spacing] only has an effect when `border-collapse` is `separate`. However, `border-collapse: collapse` is set globally for all tables, so this rule does nothing.\n\n[border-spacing]: https://developer.mozilla.org/en-US/docs/Web/CSS/border-spacing\n\n    .content td p:first-child { margin-top: 0; }\n\nTables with paragraphs in them are impossible without dropping down to raw HTML. Also, the rustdoc stylesheet sets paragraphs to have no top margin anyway, so this rule is a no-op.\n\n    .content td h1, .content td h2 { margin-left: 0; font-size: 1.125rem; }\n\nTables with headers in them are impossible without dropping down to raw HTML. This is considered unlikely, especially since it looks weird right now (`.docblock h2` has an underline that is redundant with the table cell's own border).\n\n    .content tr:first-child td { border-top: 0; }\n\nThis has no effect because of border collapsing.\n\nThis rule is removed, because tables look fine without it\n---------------------------------------------------------\n\n    .content td:first-child { padding-right: 20px; }\n\nBy removing this rule, the first cell in each row has the same padding as all other cells in the row.\n\nThis rule is kept, and converted to directly target `.docblock`\n---------------------------------------------------------------\n\n    .content td { vertical-align: top; }\n\nRemoving this rule would cause it to be aligned to the middle instead.", "tree": {"sha": "37450abd76c4b51b643d2bdbcc7f689c23250c01", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/37450abd76c4b51b643d2bdbcc7f689c23250c01"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3cb8806da60447c736296cfdf0adda0817254136", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjId2GCRBK7hj4Ov3rIwAAgEEIAHM26hovKuhzWAKfxE/Rhj/p\nAiXnfLdyA1UfF5l/4rgbMcCoY716PPp3V3G0wPWYVPvuPTh4rdPj2EN+nWeMzWQS\nyT3/rXR3w3w2Ammh7QKdAhPp2VSA1t5GJPCV2vASTHsDCDT3Z2lamkdhZAZ6eD2g\n9RnfDYAszqglv/+c8w6eMIoG9iQAuVmsyzkiy+6I3raemopC5aclzPEtm+yINSsE\n8bIu+KLy34eZ+ovkD0MnLF3KzibMzXE6u7CBLzEVj5idWBbiqt9Gk0QfKj2/WQGU\nRGYo+U6+Y+k7I/+mfCw6zxFjoevGJsC2mtf18j2PdeFbA/0LU+uJxPYCSFOO0uI=\n=neic\n-----END PGP SIGNATURE-----\n", "payload": "tree 37450abd76c4b51b643d2bdbcc7f689c23250c01\nparent 94bc08d94f13ea28be22972de014f860b06d799d\nparent c950d82e9029c7e4f80668658149ce3bd65a4502\nauthor Dylan DPC <99973273+Dylan-DPC@users.noreply.github.com> 1663163782 +0530\ncommitter GitHub <noreply@github.com> 1663163782 +0530\n\nRollup merge of #101773 - notriddle:notriddle/content-table, r=GuillaumeGomez\n\nrustdoc: remove outdated CSS `.content table` etc\n\n# Screenshot before\n\n![image](https://user-images.githubusercontent.com/1593513/189992665-238aab28-d224-4466-901c-6e35e79182fb.png)\n\n# Screenshot after\n\n![image](https://user-images.githubusercontent.com/1593513/189992762-35c8efe4-e980-40bd-b72c-3ae4cfd6f830.png)\n\n# Description\n\nThe `.content table` / `.content td` / `.content tr` family of selectors date back to 4fd061c426902b0904c65e64a3780b21f9ab3afb, when module indexes and other parts of rustdoc used `<table>` tags for layout and content presentation. The `.content td h1, .content td h2` has only been changed since then to tweak the font size in dd5ff428edbc7cd4fa600b81f27bbec28589704f.\n\nhttps://github.com/rust-lang/rust/blob/4fd061c426902b0904c65e64a3780b21f9ab3afb/src/rustdoc_ng/html/static/main.css#L155-L162\n\nThis CSS would have affected:\n\n  * search result tables, which were removed in b615c0c85469c94041a5e68b9d8b68dcf799f9f1\n  * module item tables, which were removed in 6020c79ddeafe8d9760b27c14c39da81bac9b4a6\n  * docblock tables from markdown, which still exist\n\nIt may also have affected a few other tables over the last decade, but they've been gradually replaced with grid layouts and flexbox to make layouts that work better on narrow viewports. For example, 34bd2b845b3acd84c5a9bddae3ff8081c19ec5e9.\n\nThese rules have no affect on the appearance of docblock tables\n---------------------------------------------------------------\n\n    .content table {\n        border-spacing: 0 5px;\n    }\n\nAccording to MDN, [border-spacing] only has an effect when `border-collapse` is `separate`. However, `border-collapse: collapse` is set globally for all tables, so this rule does nothing.\n\n[border-spacing]: https://developer.mozilla.org/en-US/docs/Web/CSS/border-spacing\n\n    .content td p:first-child { margin-top: 0; }\n\nTables with paragraphs in them are impossible without dropping down to raw HTML. Also, the rustdoc stylesheet sets paragraphs to have no top margin anyway, so this rule is a no-op.\n\n    .content td h1, .content td h2 { margin-left: 0; font-size: 1.125rem; }\n\nTables with headers in them are impossible without dropping down to raw HTML. This is considered unlikely, especially since it looks weird right now (`.docblock h2` has an underline that is redundant with the table cell's own border).\n\n    .content tr:first-child td { border-top: 0; }\n\nThis has no effect because of border collapsing.\n\nThis rule is removed, because tables look fine without it\n---------------------------------------------------------\n\n    .content td:first-child { padding-right: 20px; }\n\nBy removing this rule, the first cell in each row has the same padding as all other cells in the row.\n\nThis rule is kept, and converted to directly target `.docblock`\n---------------------------------------------------------------\n\n    .content td { vertical-align: top; }\n\nRemoving this rule would cause it to be aligned to the middle instead.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3cb8806da60447c736296cfdf0adda0817254136", "html_url": "https://github.com/rust-lang/rust/commit/3cb8806da60447c736296cfdf0adda0817254136", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3cb8806da60447c736296cfdf0adda0817254136/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "94bc08d94f13ea28be22972de014f860b06d799d", "url": "https://api.github.com/repos/rust-lang/rust/commits/94bc08d94f13ea28be22972de014f860b06d799d", "html_url": "https://github.com/rust-lang/rust/commit/94bc08d94f13ea28be22972de014f860b06d799d"}, {"sha": "c950d82e9029c7e4f80668658149ce3bd65a4502", "url": "https://api.github.com/repos/rust-lang/rust/commits/c950d82e9029c7e4f80668658149ce3bd65a4502", "html_url": "https://github.com/rust-lang/rust/commit/c950d82e9029c7e4f80668658149ce3bd65a4502"}], "stats": {"total": 10, "additions": 1, "deletions": 9}, "files": [{"sha": "9af2b61c0378213051bbf7f17ff042238e96afa4", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3cb8806da60447c736296cfdf0adda0817254136/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/3cb8806da60447c736296cfdf0adda0817254136/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=3cb8806da60447c736296cfdf0adda0817254136", "patch": "@@ -686,15 +686,6 @@ pre, .rustdoc.source .example-wrap {\n \tposition: relative;\n }\n \n-.content table {\n-\tborder-spacing: 0 5px;\n-}\n-.content td { vertical-align: top; }\n-.content td:first-child { padding-right: 20px; }\n-.content td p:first-child { margin-top: 0; }\n-.content td h1, .content td h2 { margin-left: 0; font-size: 1.125rem; }\n-.content tr:first-child td { border-top: 0; }\n-\n .docblock table {\n \tmargin: .5em 0;\n \twidth: calc(100% - 2px);\n@@ -705,6 +696,7 @@ pre, .rustdoc.source .example-wrap {\n .docblock table td {\n \tpadding: .5em;\n \tborder: 1px dashed var(--border-color);\n+\tvertical-align: top;\n }\n \n .docblock table th {"}]}