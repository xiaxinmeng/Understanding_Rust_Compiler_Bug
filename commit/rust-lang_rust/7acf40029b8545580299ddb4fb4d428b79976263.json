{"sha": "7acf40029b8545580299ddb4fb4d428b79976263", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdhY2Y0MDAyOWI4NTQ1NTgwMjk5ZGRiNGZiNGQ0MjhiNzk5NzYyNjM=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-06-26T09:33:44Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-06-26T09:33:44Z"}, "message": "Rollup merge of #62143 - alexcrichton:toolstate, r=pietroalbini\n\nci: Publish toolstate changes from Azure\n\nThis commit moves toolstate publishing from Travis to Azure. We've been\ntesting on azure for some time now and this works by deleting the Travis\nconfig and updating the credentials used on Azure.", "tree": {"sha": "83b2fb498a40b5f9243c832cde7471cd571d29bb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/83b2fb498a40b5f9243c832cde7471cd571d29bb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7acf40029b8545580299ddb4fb4d428b79976263", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdEzv4CRBK7hj4Ov3rIwAAdHIIAGSPzcYXGAtDTERXy0MZozaW\nLVq/2jXXgVz5Nelu+nyEMIZ4qP33vRyKTWXenIUW9tWfidwnKKLZf9CBidGBYLZ8\n/AY0hgvcTv8wBiuBvy99NlIghQ5cbJgZ0P8dO8lGDDZUclW/9wwxxUnP4gTBsvtb\nZkLhFm9gxIiO73KwX0FwcON1YXX427dmSOi01ndJIt67JEdPgMlgfqZpoUk5JBae\nMhaQPgWaTsknWOipchx9Z+KGfe8Ei1MhtfPaX+Y5tYRmrntfsPnS41sVb4NITv4S\n/bYHT2BOO2B9XdPFAimmtJ0XCu73rwWbUV4YLunpq83CEDcOVHsgFGmIfTRI1lM=\n=tr3I\n-----END PGP SIGNATURE-----\n", "payload": "tree 83b2fb498a40b5f9243c832cde7471cd571d29bb\nparent c09cf0f5f0df1acc68c899bb81dac17a2597aebd\nparent f78f37204e8b36e8166756fd89e0fe87e5cfe6d2\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1561541624 +0200\ncommitter GitHub <noreply@github.com> 1561541624 +0200\n\nRollup merge of #62143 - alexcrichton:toolstate, r=pietroalbini\n\nci: Publish toolstate changes from Azure\n\nThis commit moves toolstate publishing from Travis to Azure. We've been\ntesting on azure for some time now and this works by deleting the Travis\nconfig and updating the credentials used on Azure.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7acf40029b8545580299ddb4fb4d428b79976263", "html_url": "https://github.com/rust-lang/rust/commit/7acf40029b8545580299ddb4fb4d428b79976263", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7acf40029b8545580299ddb4fb4d428b79976263/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c09cf0f5f0df1acc68c899bb81dac17a2597aebd", "url": "https://api.github.com/repos/rust-lang/rust/commits/c09cf0f5f0df1acc68c899bb81dac17a2597aebd", "html_url": "https://github.com/rust-lang/rust/commit/c09cf0f5f0df1acc68c899bb81dac17a2597aebd"}, {"sha": "f78f37204e8b36e8166756fd89e0fe87e5cfe6d2", "url": "https://api.github.com/repos/rust-lang/rust/commits/f78f37204e8b36e8166756fd89e0fe87e5cfe6d2", "html_url": "https://github.com/rust-lang/rust/commit/f78f37204e8b36e8166756fd89e0fe87e5cfe6d2"}], "stats": {"total": 12, "additions": 1, "deletions": 11}, "files": [{"sha": "9742c7196585113050aa91f235bfea1ee8263f47", "filename": ".azure-pipelines/master.yml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7acf40029b8545580299ddb4fb4d428b79976263/.azure-pipelines%2Fmaster.yml", "raw_url": "https://github.com/rust-lang/rust/raw/7acf40029b8545580299ddb4fb4d428b79976263/.azure-pipelines%2Fmaster.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.azure-pipelines%2Fmaster.yml?ref=7acf40029b8545580299ddb4fb4d428b79976263", "patch": "@@ -7,7 +7,7 @@ trigger:\n   - master\n \n variables:\n-- group: prod-credentials\n+- group: real-prod-credentials\n \n pool:\n   vmImage: ubuntu-16.04"}, {"sha": "dbfc6c81963b3af5e6a0384e2b0a95af83a27d53", "filename": ".travis.yml", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/7acf40029b8545580299ddb4fb4d428b79976263/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/7acf40029b8545580299ddb4fb4d428b79976263/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=7acf40029b8545580299ddb4fb4d428b79976263", "patch": "@@ -229,16 +229,6 @@ matrix:\n       name: mingw-check\n       if: branch = auto\n \n-    - stage: publish toolstate\n-      if: branch = master AND type = push\n-      before_install: []\n-      install: []\n-      sudo: false\n-      script:\n-        MESSAGE_FILE=$(mktemp -t msg.XXXXXX);\n-        . src/ci/docker/x86_64-gnu-tools/repo.sh;\n-        commit_toolstate_change \"$MESSAGE_FILE\" \"$TRAVIS_BUILD_DIR/src/tools/publish_toolstate.py\" \"$(git rev-parse HEAD)\" \"$(git log --format=%s -n1 HEAD)\" \"$MESSAGE_FILE\" \"$TOOLSTATE_REPO_ACCESS_TOKEN\";\n-\n before_install:\n   # We'll use the AWS cli to download/upload cached docker layers as well as\n   # push our deployments, so download that here."}]}