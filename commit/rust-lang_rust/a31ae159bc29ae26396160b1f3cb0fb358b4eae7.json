{"sha": "a31ae159bc29ae26396160b1f3cb0fb358b4eae7", "node_id": "C_kwDOAAsO6NoAKGEzMWFlMTU5YmMyOWFlMjYzOTYxNjBiMWYzY2IwZmIzNThiNGVhZTc", "commit": {"author": {"name": "Lo\u00efc BRANSTETT", "email": "lolo.branstett@numericable.fr", "date": "2022-02-20T16:13:38Z"}, "committer": {"name": "Lo\u00efc BRANSTETT", "email": "lolo.branstett@numericable.fr", "date": "2022-02-25T01:18:50Z"}, "message": "Add documentation for `--check-cfg` in rustdoc book", "tree": {"sha": "9f7f54144f871c34e090d2136a0995f389c8cf93", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9f7f54144f871c34e090d2136a0995f389c8cf93"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a31ae159bc29ae26396160b1f3cb0fb358b4eae7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a31ae159bc29ae26396160b1f3cb0fb358b4eae7", "html_url": "https://github.com/rust-lang/rust/commit/a31ae159bc29ae26396160b1f3cb0fb358b4eae7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a31ae159bc29ae26396160b1f3cb0fb358b4eae7/comments", "author": {"login": "Urgau", "id": 3616612, "node_id": "MDQ6VXNlcjM2MTY2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3616612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Urgau", "html_url": "https://github.com/Urgau", "followers_url": "https://api.github.com/users/Urgau/followers", "following_url": "https://api.github.com/users/Urgau/following{/other_user}", "gists_url": "https://api.github.com/users/Urgau/gists{/gist_id}", "starred_url": "https://api.github.com/users/Urgau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Urgau/subscriptions", "organizations_url": "https://api.github.com/users/Urgau/orgs", "repos_url": "https://api.github.com/users/Urgau/repos", "events_url": "https://api.github.com/users/Urgau/events{/privacy}", "received_events_url": "https://api.github.com/users/Urgau/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Urgau", "id": 3616612, "node_id": "MDQ6VXNlcjM2MTY2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3616612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Urgau", "html_url": "https://github.com/Urgau", "followers_url": "https://api.github.com/users/Urgau/followers", "following_url": "https://api.github.com/users/Urgau/following{/other_user}", "gists_url": "https://api.github.com/users/Urgau/gists{/gist_id}", "starred_url": "https://api.github.com/users/Urgau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Urgau/subscriptions", "organizations_url": "https://api.github.com/users/Urgau/orgs", "repos_url": "https://api.github.com/users/Urgau/repos", "events_url": "https://api.github.com/users/Urgau/events{/privacy}", "received_events_url": "https://api.github.com/users/Urgau/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "97059397caa797cd9a56585d43c2ee873baf9cde", "url": "https://api.github.com/repos/rust-lang/rust/commits/97059397caa797cd9a56585d43c2ee873baf9cde", "html_url": "https://github.com/rust-lang/rust/commit/97059397caa797cd9a56585d43c2ee873baf9cde"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "141d5d2d2b2d0fec9a8802eedaee1cf7d5cf3919", "filename": "src/doc/rustdoc/src/unstable-features.md", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/a31ae159bc29ae26396160b1f3cb0fb358b4eae7/src%2Fdoc%2Frustdoc%2Fsrc%2Funstable-features.md", "raw_url": "https://github.com/rust-lang/rust/raw/a31ae159bc29ae26396160b1f3cb0fb358b4eae7/src%2Fdoc%2Frustdoc%2Fsrc%2Funstable-features.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2Funstable-features.md?ref=a31ae159bc29ae26396160b1f3cb0fb358b4eae7", "patch": "@@ -512,3 +512,17 @@ crate being documented (`foobar`) and a path to output the calls\n \n To scrape examples from test code, e.g. functions marked `#[test]`, then\n add the `--scrape-tests` flag.\n+\n+### `--check-cfg`: check configuration flags\n+\n+This flag accepts the same values as `rustc --check-cfg`, and uses it to check configuration flags.\n+\n+Using this flag looks like this:\n+\n+```bash\n+$ rustdoc src/lib.rs -Z unstable-options \\\n+    --check-cfg='names()' --check-cfg='values(feature, \"foo\", \"bar\")'\n+```\n+\n+The example above check every well known names (`target_os`, `doc`, `test`, ... via `names()`)\n+and check the values of `feature`: `foo` and `bar`."}]}