{"sha": "33253fa6a42565eeae40e63401a41ac2dcc9e92f", "node_id": "C_kwDOAAsO6NoAKDMzMjUzZmE2YTQyNTY1ZWVhZTQwZTYzNDAxYTQxYWMyZGNjOWU5MmY", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-04-24T22:08:33Z"}, "committer": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-04-24T22:08:33Z"}, "message": "Revert \"Rename -Zoom=panic to -Zoom=unwind\"\n\nThis reverts commit 4b981c26487ebe56de6b3000fcd98713804beefc.", "tree": {"sha": "f0d3a82149da5df750f76000a5acdf0e0c3f665f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f0d3a82149da5df750f76000a5acdf0e0c3f665f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/33253fa6a42565eeae40e63401a41ac2dcc9e92f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/33253fa6a42565eeae40e63401a41ac2dcc9e92f", "html_url": "https://github.com/rust-lang/rust/commit/33253fa6a42565eeae40e63401a41ac2dcc9e92f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/33253fa6a42565eeae40e63401a41ac2dcc9e92f/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "653cfdb436256cbc8415630b2537707ae1663806", "url": "https://api.github.com/repos/rust-lang/rust/commits/653cfdb436256cbc8415630b2537707ae1663806", "html_url": "https://github.com/rust-lang/rust/commit/653cfdb436256cbc8415630b2537707ae1663806"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "7b0b5102c2db655a8c0c7fbdcf6eb222ee1b59c0", "filename": "compiler/rustc_interface/src/tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/33253fa6a42565eeae40e63401a41ac2dcc9e92f/compiler%2Frustc_interface%2Fsrc%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33253fa6a42565eeae40e63401a41ac2dcc9e92f/compiler%2Frustc_interface%2Fsrc%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_interface%2Fsrc%2Ftests.rs?ref=33253fa6a42565eeae40e63401a41ac2dcc9e92f", "patch": "@@ -777,7 +777,7 @@ fn test_unstable_options_tracking_hash() {\n     tracked!(no_link, true);\n     tracked!(no_profiler_runtime, true);\n     tracked!(no_unique_section_names, true);\n-    tracked!(oom, OomStrategy::Unwind);\n+    tracked!(oom, OomStrategy::Panic);\n     tracked!(osx_rpath_install_name, true);\n     tracked!(packed_bundled_libs, true);\n     tracked!(panic_abort_tests, true);"}, {"sha": "79eb31bb1050e18dde6b355bd64cef3751fe1b3a", "filename": "compiler/rustc_session/src/config.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/33253fa6a42565eeae40e63401a41ac2dcc9e92f/compiler%2Frustc_session%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33253fa6a42565eeae40e63401a41ac2dcc9e92f/compiler%2Frustc_session%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_session%2Fsrc%2Fconfig.rs?ref=33253fa6a42565eeae40e63401a41ac2dcc9e92f", "patch": "@@ -3048,9 +3048,9 @@ pub(crate) mod dep_tracking {\n #[derive(Clone, Copy, PartialEq, Hash, Debug, Encodable, Decodable, HashStable_Generic)]\n pub enum OomStrategy {\n     /// Generate a panic that can be caught by `catch_unwind`.\n-    Unwind,\n+    Panic,\n \n-    /// Calls the panic hook as normal but aborts instead of unwinding.\n+    /// Abort the process immediately.\n     Abort,\n }\n \n@@ -3059,7 +3059,7 @@ impl OomStrategy {\n \n     pub fn should_panic(self) -> u8 {\n         match self {\n-            OomStrategy::Unwind => 1,\n+            OomStrategy::Panic => 1,\n             OomStrategy::Abort => 0,\n         }\n     }"}, {"sha": "d9f03fe14072ee9ca13971c44b870ebe7fb196cb", "filename": "compiler/rustc_session/src/options.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/33253fa6a42565eeae40e63401a41ac2dcc9e92f/compiler%2Frustc_session%2Fsrc%2Foptions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33253fa6a42565eeae40e63401a41ac2dcc9e92f/compiler%2Frustc_session%2Fsrc%2Foptions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_session%2Fsrc%2Foptions.rs?ref=33253fa6a42565eeae40e63401a41ac2dcc9e92f", "patch": "@@ -662,7 +662,7 @@ mod parse {\n \n     pub(crate) fn parse_oom_strategy(slot: &mut OomStrategy, v: Option<&str>) -> bool {\n         match v {\n-            Some(\"unwind\") => *slot = OomStrategy::Unwind,\n+            Some(\"panic\") => *slot = OomStrategy::Panic,\n             Some(\"abort\") => *slot = OomStrategy::Abort,\n             _ => return false,\n         }"}, {"sha": "97bedc604da82f9c745d40497a816d32faf18bc0", "filename": "library/alloc/src/alloc.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/33253fa6a42565eeae40e63401a41ac2dcc9e92f/library%2Falloc%2Fsrc%2Falloc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33253fa6a42565eeae40e63401a41ac2dcc9e92f/library%2Falloc%2Fsrc%2Falloc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Falloc.rs?ref=33253fa6a42565eeae40e63401a41ac2dcc9e92f", "patch": "@@ -398,7 +398,7 @@ fn rust_oom(layout: Layout) -> ! {\n         fn panic_impl(pi: &core::panic::PanicInfo<'_>) -> !;\n \n         // This symbol is emitted by rustc .\n-        // Its value depends on the -Zoom={unwind,abort} compiler option.\n+        // Its value depends on the -Zoom={panic,abort} compiler option.\n         static __rust_alloc_error_handler_should_panic: u8;\n     }\n \n@@ -458,7 +458,7 @@ pub mod __alloc_error_handler {\n     pub unsafe fn __rdl_oom(size: usize, _align: usize) -> ! {\n         extern \"Rust\" {\n             // This symbol is emitted by rustc next to __rust_alloc_error_handler.\n-            // Its value depends on the -Zoom={unwind,abort} compiler option.\n+            // Its value depends on the -Zoom={panic,abort} compiler option.\n             static __rust_alloc_error_handler_should_panic: u8;\n         }\n "}, {"sha": "21a8fb2b22bee306e833a193493f66efcb2a2756", "filename": "tests/ui/oom_unwind.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/33253fa6a42565eeae40e63401a41ac2dcc9e92f/tests%2Fui%2Foom_unwind.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33253fa6a42565eeae40e63401a41ac2dcc9e92f/tests%2Fui%2Foom_unwind.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Foom_unwind.rs?ref=33253fa6a42565eeae40e63401a41ac2dcc9e92f", "patch": "@@ -1,4 +1,4 @@\n-// compile-flags: -Z oom=unwind\n+// compile-flags: -Z oom=panic\n // run-pass\n // no-prefer-dynamic\n // needs-unwind"}]}