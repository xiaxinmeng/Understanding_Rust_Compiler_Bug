{"sha": "dfa69be38a3d232ebb0a548afff5e3560dd905ce", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRmYTY5YmUzOGEzZDIzMmViYjBhNTQ4YWZmZjVlMzU2MGRkOTA1Y2U=", "commit": {"author": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-09-24T03:09:14Z"}, "committer": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-09-27T06:43:51Z"}, "message": "Fix fallout in tests.", "tree": {"sha": "b1fbeedb8b480fad83fb41aee7979bf65239e68b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b1fbeedb8b480fad83fb41aee7979bf65239e68b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dfa69be38a3d232ebb0a548afff5e3560dd905ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dfa69be38a3d232ebb0a548afff5e3560dd905ce", "html_url": "https://github.com/rust-lang/rust/commit/dfa69be38a3d232ebb0a548afff5e3560dd905ce", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dfa69be38a3d232ebb0a548afff5e3560dd905ce/comments", "author": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d854c362feb29125deebac562ec49da0eb3866bc", "url": "https://api.github.com/repos/rust-lang/rust/commits/d854c362feb29125deebac562ec49da0eb3866bc", "html_url": "https://github.com/rust-lang/rust/commit/d854c362feb29125deebac562ec49da0eb3866bc"}], "stats": {"total": 41, "additions": 23, "deletions": 18}, "files": [{"sha": "c03375bf8254fe822d095b3ae73e041bcebee967", "filename": "src/librustc_metadata/diagnostics.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/dfa69be38a3d232ebb0a548afff5e3560dd905ce/src%2Flibrustc_metadata%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dfa69be38a3d232ebb0a548afff5e3560dd905ce/src%2Flibrustc_metadata%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Fdiagnostics.rs?ref=dfa69be38a3d232ebb0a548afff5e3560dd905ce", "patch": "@@ -98,10 +98,10 @@ Erroneous code examples:\n \n ```compile_fail,E0466\n #[macro_use(a_macro(another_macro))] // error: invalid import declaration\n-extern crate some_crate;\n+extern crate core as some_crate;\n \n #[macro_use(i_want = \"some_macros\")] // error: invalid import declaration\n-extern crate another_crate;\n+extern crate core as another_crate;\n ```\n \n This is a syntax error at the level of attribute declarations. The proper\n@@ -135,10 +135,10 @@ Erroneous code examples:\n \n ```compile_fail,E0467\n #[macro_reexport]                    // error: no macros listed for export\n-extern crate macros_for_good;\n+extern crate core as macros_for_good;\n \n #[macro_reexport(fun_macro = \"foo\")] // error: not a macro identifier\n-extern crate other_macros_for_good;\n+extern crate core as other_macros_for_good;\n ```\n \n This is a syntax error at the level of attribute declarations.\n@@ -165,8 +165,8 @@ Example of erroneous code:\n ```compile_fail,E0468\n mod foo {\n     #[macro_use(helpful_macro)] // error: must be at crate root to import\n-    extern crate some_crate;    //        macros from another crate\n-    helpful_macro!(...)\n+    extern crate core;          //        macros from another crate\n+    helpful_macro!(...);\n }\n ```\n "}, {"sha": "0295311334b6b04c73c6f3344ec678901fe2fb59", "filename": "src/test/codegen-units/item-collection/overloaded-operators.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/dfa69be38a3d232ebb0a548afff5e3560dd905ce/src%2Ftest%2Fcodegen-units%2Fitem-collection%2Foverloaded-operators.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dfa69be38a3d232ebb0a548afff5e3560dd905ce/src%2Ftest%2Fcodegen-units%2Fitem-collection%2Foverloaded-operators.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen-units%2Fitem-collection%2Foverloaded-operators.rs?ref=dfa69be38a3d232ebb0a548afff5e3560dd905ce", "patch": "@@ -45,16 +45,16 @@ impl IndexMut<usize> for Indexable {\n }\n \n \n-//~ TRANS_ITEM fn overloaded_operators::{{impl}}[2]::eq[0]\n-//~ TRANS_ITEM fn overloaded_operators::{{impl}}[2]::ne[0]\n+//~ TRANS_ITEM fn overloaded_operators::{{impl}}[4]::eq[0]\n+//~ TRANS_ITEM fn overloaded_operators::{{impl}}[4]::ne[0]\n #[derive(PartialEq)]\n pub struct Equatable(u32);\n \n \n impl Add<u32> for Equatable {\n     type Output = u32;\n \n-    //~ TRANS_ITEM fn overloaded_operators::{{impl}}[3]::add[0]\n+    //~ TRANS_ITEM fn overloaded_operators::{{impl}}[2]::add[0]\n     fn add(self, rhs: u32) -> u32 {\n         self.0 + rhs\n     }\n@@ -63,7 +63,7 @@ impl Add<u32> for Equatable {\n impl Deref for Equatable {\n     type Target = u32;\n \n-    //~ TRANS_ITEM fn overloaded_operators::{{impl}}[4]::deref[0]\n+    //~ TRANS_ITEM fn overloaded_operators::{{impl}}[3]::deref[0]\n     fn deref(&self) -> &Self::Target {\n         &self.0\n     }"}, {"sha": "6ae5544d68699651fba5ac593a8e28a3e1be426b", "filename": "src/test/compile-fail-fulldeps/derive-no-std-not-supported.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/dfa69be38a3d232ebb0a548afff5e3560dd905ce/src%2Ftest%2Fcompile-fail-fulldeps%2Fderive-no-std-not-supported.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dfa69be38a3d232ebb0a548afff5e3560dd905ce/src%2Ftest%2Fcompile-fail-fulldeps%2Fderive-no-std-not-supported.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail-fulldeps%2Fderive-no-std-not-supported.rs?ref=dfa69be38a3d232ebb0a548afff5e3560dd905ce", "patch": "@@ -10,7 +10,6 @@\n \n #![no_std]\n \n-extern crate core;\n extern crate rand;\n extern crate serialize as rustc_serialize;\n "}, {"sha": "9e042c3a7d50e2313ad3bfd849133a35dfb552d1", "filename": "src/test/compile-fail/gated-non-ascii-idents.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dfa69be38a3d232ebb0a548afff5e3560dd905ce/src%2Ftest%2Fcompile-fail%2Fgated-non-ascii-idents.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dfa69be38a3d232ebb0a548afff5e3560dd905ce/src%2Ftest%2Fcompile-fail%2Fgated-non-ascii-idents.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fgated-non-ascii-idents.rs?ref=dfa69be38a3d232ebb0a548afff5e3560dd905ce", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-extern crate b\u00e4z; //~ ERROR non-ascii idents\n+extern crate core as b\u00e4z; //~ ERROR non-ascii idents\n \n use f\u00f6\u00f6::bar; //~ ERROR non-ascii idents\n "}, {"sha": "1622378a71c7c23d2bc622792c4afc7fa82bb43d", "filename": "src/test/compile-fail/self_type_keyword.rs", "status": "modified", "additions": 12, "deletions": 6, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/dfa69be38a3d232ebb0a548afff5e3560dd905ce/src%2Ftest%2Fcompile-fail%2Fself_type_keyword.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dfa69be38a3d232ebb0a548afff5e3560dd905ce/src%2Ftest%2Fcompile-fail%2Fself_type_keyword.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fself_type_keyword.rs?ref=dfa69be38a3d232ebb0a548afff5e3560dd905ce", "patch": "@@ -39,11 +39,17 @@ pub fn main() {\n     }\n }\n \n-use std::option::Option as Self;\n-//~^ ERROR expected identifier, found keyword `Self`\n+mod m1 {\n+    extern crate core as Self;\n+    //~^ ERROR expected identifier, found keyword `Self`\n+}\n \n-extern crate Self;\n-//~^ ERROR expected identifier, found keyword `Self`\n+mod m2 {\n+    use std::option::Option as Self;\n+    //~^ ERROR expected identifier, found keyword `Self`\n+}\n \n-trait Self {}\n-//~^ ERROR expected identifier, found keyword `Self`\n+mod m3 {\n+    trait Self {}\n+    //~^ ERROR expected identifier, found keyword `Self`\n+}"}]}