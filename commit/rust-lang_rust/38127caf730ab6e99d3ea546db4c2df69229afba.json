{"sha": "38127caf730ab6e99d3ea546db4c2df69229afba", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4MTI3Y2FmNzMwYWI2ZTk5ZDNlYTU0NmRiNGMyZGY2OTIyOWFmYmE=", "commit": {"author": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2020-11-10T12:49:06Z"}, "committer": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2020-11-12T16:14:29Z"}, "message": "Handle and test wildcard arguments", "tree": {"sha": "302dd644286e9ccd5e4707606ecab366cb15dc04", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/302dd644286e9ccd5e4707606ecab366cb15dc04"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/38127caf730ab6e99d3ea546db4c2df69229afba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/38127caf730ab6e99d3ea546db4c2df69229afba", "html_url": "https://github.com/rust-lang/rust/commit/38127caf730ab6e99d3ea546db4c2df69229afba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/38127caf730ab6e99d3ea546db4c2df69229afba/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2baa0ceff4e6dc75751fdca4be68e87f5cf35a6e", "url": "https://api.github.com/repos/rust-lang/rust/commits/2baa0ceff4e6dc75751fdca4be68e87f5cf35a6e", "html_url": "https://github.com/rust-lang/rust/commit/2baa0ceff4e6dc75751fdca4be68e87f5cf35a6e"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "d353bc19f7aef510d759169cc2446527bafd4ef6", "filename": "compiler/rustc_ast_lowering/src/item.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/38127caf730ab6e99d3ea546db4c2df69229afba/compiler%2Frustc_ast_lowering%2Fsrc%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38127caf730ab6e99d3ea546db4c2df69229afba/compiler%2Frustc_ast_lowering%2Fsrc%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_lowering%2Fsrc%2Fitem.rs?ref=38127caf730ab6e99d3ea546db4c2df69229afba", "patch": "@@ -1102,10 +1102,13 @@ impl<'hir> LoweringContext<'_, 'hir> {\n                         ident,\n                         _,\n                     ) => (ident, true),\n-                    // For `ref mut` arguments, we can't reuse the binding, but\n+                    // For `ref mut` or wildcard arguments, we can't reuse the binding, but\n                     // we can keep the same name for the parameter.\n                     // This lets rustdoc render it correctly in documentation.\n                     hir::PatKind::Binding(_, _, ident, _) => (ident, false),\n+                    hir::PatKind::Wild => {\n+                        (Ident::with_dummy_span(rustc_span::symbol::kw::Underscore), false)\n+                    }\n                     _ => {\n                         // Replace the ident for bindings that aren't simple.\n                         let name = format!(\"__arg{}\", index);"}, {"sha": "e7a7d1831f73efbef707ef40b05e0671b4d0b30f", "filename": "src/test/rustdoc/async-fn.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/38127caf730ab6e99d3ea546db4c2df69229afba/src%2Ftest%2Frustdoc%2Fasync-fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38127caf730ab6e99d3ea546db4c2df69229afba/src%2Ftest%2Frustdoc%2Fasync-fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fasync-fn.rs?ref=38127caf730ab6e99d3ea546db4c2df69229afba", "patch": "@@ -1,4 +1,5 @@\n // edition:2018\n+#![feature(min_const_generics)]\n \n // @has async_fn/fn.foo.html '//pre[@class=\"rust fn\"]' 'pub async fn foo() -> Option<Foo>'\n pub async fn foo() -> Option<Foo> {\n@@ -46,3 +47,8 @@ impl Foo {\n     pub async unsafe fn g() {}\n     pub async fn mut_self(mut self, mut first: usize) {}\n }\n+\n+pub trait Trait<const N: usize> {}\n+// @has async_fn/fn.const_generics.html\n+// @has - '//pre[@class=\"rust fn\"]' 'pub async fn const_generics<const N: usize>(_: impl Trait<N>)'\n+pub async fn const_generics<const N: usize>(_: impl Trait<N>) {}"}, {"sha": "9c68e067c6f8ffda550c9faba2dd8d5b04c398d9", "filename": "src/test/rustdoc/const-generics/const-generics-docs.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/38127caf730ab6e99d3ea546db4c2df69229afba/src%2Ftest%2Frustdoc%2Fconst-generics%2Fconst-generics-docs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38127caf730ab6e99d3ea546db4c2df69229afba/src%2Ftest%2Frustdoc%2Fconst-generics%2Fconst-generics-docs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fconst-generics%2Fconst-generics-docs.rs?ref=38127caf730ab6e99d3ea546db4c2df69229afba", "patch": "@@ -70,8 +70,7 @@ pub async fn a_sink<const N: usize>(v: [u8; N]) -> impl Trait<N> {\n }\n \n // @has foo/fn.b_sink.html '//pre[@class=\"rust fn\"]' \\\n-//      'pub async fn b_sink<const N: usize>(__arg0: impl Trait<N>)'\n-// FIXME(const_generics): This should be `_` not `__arg0`.\n+//      'pub async fn b_sink<const N: usize>(_: impl Trait<N>)'\n pub async fn b_sink<const N: usize>(_: impl Trait<N>) {}\n \n // @has foo/fn.concrete.html '//pre[@class=\"rust fn\"]' \\"}]}