{"sha": "58ad251ea83ccf069a7957b87bd614194bf7f663", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU4YWQyNTFlYTgzY2NmMDY5YTc5NTdiODdiZDYxNDE5NGJmN2Y2NjM=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-04-18T04:01:54Z"}, "committer": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-04-18T04:02:33Z"}, "message": "Move `MapInPlace` to rustc_data_structures", "tree": {"sha": "16f7816317ef0c2e32277444e53c9f92f07d0fb6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/16f7816317ef0c2e32277444e53c9f92f07d0fb6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/58ad251ea83ccf069a7957b87bd614194bf7f663", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEXmatGLoofN5+9u4rsJhshcDi2qEFAl6ae9kACgkQsJhshcDi\n2qHokRAAnRoteB8c7sxP8WOaQKFrPmNLBMX2+gT+S6kUD+FieM22iRkh+mYk8Sa5\nXncb034M6tZCwKTsLEv/ITmb/4sZKqZoPn39RxLf+6IpRVUxVJ/yq+PmECLfN6SM\nEMn3QZRKLKLzlZeWBzetVwf1qiH80EZpu/Ol4vmDrwxOQ3OFfLJcENgS6ODjRUMX\ndY60M4CUvQIXCqA0XnCa+N6t6nylpe6dgeT0g0OVCpbtweASga8BTCkYsJ2tfF62\n2fTWRV11/K8aSXg8C+/X82i+8HY2lPZKNZvZqlXsl6giaGUUU5Z1i5Ui3vOPTlZX\n8t/5awOcL9GmzLw6Y5iagdxlicDZYisnP4/8+QirL8tjWQXR7lFoc4EO1srvOgrw\nedgQcDJE7Lufdpy76JRwoZR/HmBk1GqwShF7RiF/zlCT3ajeBviZlZSHSQiyW9di\nWz1petB/I/uTOwr18unySGQIesAXva/NzRSuq+FsYVfBrON3kYKjmTqUyvqv5Nxe\nJQgcYdmpZDXNJe9YClpUoj25HalrKHpAI1P7iYMjwjDG0Y2ZRbDdLW5jXIjD4hy3\nUGUNQuGyqJxIcCa6Bb5S8DEsppX978hiU3M1I7KJmAbqzq8tB88MfvUluBS3bLSO\nYxLdAIr2wyiHMLrwAsRye0EWlgg57LqKFx+usNs/R6lPPbdk4uE=\n=H6CV\n-----END PGP SIGNATURE-----", "payload": "tree 16f7816317ef0c2e32277444e53c9f92f07d0fb6\nparent cff9a758ae116a0b54a55033f6a5156f8656cc0c\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1587182514 +0900\ncommitter Yuki Okushi <huyuumi.dev@gmail.com> 1587182553 +0900\n\nMove `MapInPlace` to rustc_data_structures\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/58ad251ea83ccf069a7957b87bd614194bf7f663", "html_url": "https://github.com/rust-lang/rust/commit/58ad251ea83ccf069a7957b87bd614194bf7f663", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/58ad251ea83ccf069a7957b87bd614194bf7f663/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cff9a758ae116a0b54a55033f6a5156f8656cc0c", "url": "https://api.github.com/repos/rust-lang/rust/commits/cff9a758ae116a0b54a55033f6a5156f8656cc0c", "html_url": "https://github.com/rust-lang/rust/commit/cff9a758ae116a0b54a55033f6a5156f8656cc0c"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "4ba062625a40dd2891f7c813da8b10fe8fb73142", "filename": "src/librustc_ast/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_ast%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_ast%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_ast%2Flib.rs?ref=58ad251ea83ccf069a7957b87bd614194bf7f663", "patch": "@@ -33,7 +33,6 @@ pub mod util {\n     pub mod comments;\n     pub mod lev_distance;\n     pub mod literal;\n-    pub mod map_in_place;\n     pub mod parser;\n }\n "}, {"sha": "e66b358c4ac7fac877970ec4d7e99fb57957b4c2", "filename": "src/librustc_ast/mut_visit.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_ast%2Fmut_visit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_ast%2Fmut_visit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_ast%2Fmut_visit.rs?ref=58ad251ea83ccf069a7957b87bd614194bf7f663", "patch": "@@ -11,8 +11,8 @@ use crate::ast::*;\n use crate::ptr::P;\n use crate::token::{self, Token};\n use crate::tokenstream::*;\n-use crate::util::map_in_place::MapInPlace;\n \n+use rustc_data_structures::map_in_place::MapInPlace;\n use rustc_data_structures::sync::Lrc;\n use rustc_span::source_map::{respan, Spanned};\n use rustc_span::Span;"}, {"sha": "3a96c5aa8ed4f7775a676010c35f62924cab7e43", "filename": "src/librustc_builtin_macros/deriving/generic/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_builtin_macros%2Fderiving%2Fgeneric%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_builtin_macros%2Fderiving%2Fgeneric%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fgeneric%2Fmod.rs?ref=58ad251ea83ccf069a7957b87bd614194bf7f663", "patch": "@@ -184,8 +184,8 @@ use std::vec;\n use rustc_ast::ast::{self, BinOpKind, EnumDef, Expr, Generics, Ident, PatKind};\n use rustc_ast::ast::{GenericArg, GenericParamKind, VariantData};\n use rustc_ast::ptr::P;\n-use rustc_ast::util::map_in_place::MapInPlace;\n use rustc_attr as attr;\n+use rustc_data_structures::map_in_place::MapInPlace;\n use rustc_expand::base::{Annotatable, ExtCtxt};\n use rustc_session::parse::ParseSess;\n use rustc_span::source_map::respan;"}, {"sha": "d412eaeff742487dd969a95580ea7fd5421d06eb", "filename": "src/librustc_data_structures/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_data_structures%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_data_structures%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2Flib.rs?ref=58ad251ea83ccf069a7957b87bd614194bf7f663", "patch": "@@ -67,6 +67,7 @@ pub mod fx;\n pub mod graph;\n pub mod jobserver;\n pub mod macros;\n+pub mod map_in_place;\n pub mod obligation_forest;\n pub mod owning_ref;\n pub mod ptr_key;"}, {"sha": "5dd9fc6e8bc085be2046c623be1a44ecfa53d3fd", "filename": "src/librustc_data_structures/map_in_place.rs", "status": "renamed", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_data_structures%2Fmap_in_place.rs", "raw_url": "https://github.com/rust-lang/rust/raw/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_data_structures%2Fmap_in_place.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2Fmap_in_place.rs?ref=58ad251ea83ccf069a7957b87bd614194bf7f663", "patch": "@@ -1,5 +1,3 @@\n-// FIXME(Centril): Move to rustc_data_structures.\n-\n use smallvec::{Array, SmallVec};\n use std::ptr;\n ", "previous_filename": "src/librustc_ast/util/map_in_place.rs"}, {"sha": "d79dabb509267aafab3442bc39ea47af63744871", "filename": "src/librustc_expand/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_expand%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_expand%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fconfig.rs?ref=58ad251ea83ccf069a7957b87bd614194bf7f663", "patch": "@@ -4,9 +4,9 @@ use rustc_ast::ast::{self, AttrItem, Attribute, MetaItem};\n use rustc_ast::attr::HasAttrs;\n use rustc_ast::mut_visit::*;\n use rustc_ast::ptr::P;\n-use rustc_ast::util::map_in_place::MapInPlace;\n use rustc_attr as attr;\n use rustc_data_structures::fx::FxHashMap;\n+use rustc_data_structures::map_in_place::MapInPlace;\n use rustc_errors::{error_code, struct_span_err, Applicability, Handler};\n use rustc_feature::{Feature, Features, State as FeatureState};\n use rustc_feature::{"}, {"sha": "2618c758ca5da2723c9c01bd7ec4e7617f88ffec", "filename": "src/librustc_expand/expand.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_expand%2Fexpand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/58ad251ea83ccf069a7957b87bd614194bf7f663/src%2Flibrustc_expand%2Fexpand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fexpand.rs?ref=58ad251ea83ccf069a7957b87bd614194bf7f663", "patch": "@@ -13,10 +13,10 @@ use rustc_ast::mut_visit::*;\n use rustc_ast::ptr::P;\n use rustc_ast::token;\n use rustc_ast::tokenstream::TokenStream;\n-use rustc_ast::util::map_in_place::MapInPlace;\n use rustc_ast::visit::{self, AssocCtxt, Visitor};\n use rustc_ast_pretty::pprust;\n use rustc_attr::{self as attr, is_builtin_attr, HasAttrs};\n+use rustc_data_structures::map_in_place::MapInPlace;\n use rustc_errors::{Applicability, PResult};\n use rustc_feature::Features;\n use rustc_parse::parser::Parser;"}]}