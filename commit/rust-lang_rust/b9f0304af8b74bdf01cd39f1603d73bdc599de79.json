{"sha": "b9f0304af8b74bdf01cd39f1603d73bdc599de79", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI5ZjAzMDRhZjhiNzRiZGYwMWNkMzlmMTYwM2Q3M2JkYzU5OWRlNzk=", "commit": {"author": {"name": "Rich Kadel", "email": "richkadel@google.com", "date": "2020-06-17T18:24:43Z"}, "committer": {"name": "Rich Kadel", "email": "richkadel@google.com", "date": "2020-06-17T18:39:35Z"}, "message": "temporarily enable mac and windows tests on bors try\n\ntesting platform-specific changes", "tree": {"sha": "6b82355fdd6e1cd43b5d00bc2d97b590ae8bcc59", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6b82355fdd6e1cd43b5d00bc2d97b590ae8bcc59"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b9f0304af8b74bdf01cd39f1603d73bdc599de79", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b9f0304af8b74bdf01cd39f1603d73bdc599de79", "html_url": "https://github.com/rust-lang/rust/commit/b9f0304af8b74bdf01cd39f1603d73bdc599de79", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b9f0304af8b74bdf01cd39f1603d73bdc599de79/comments", "author": {"login": "richkadel", "id": 3827298, "node_id": "MDQ6VXNlcjM4MjcyOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/3827298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richkadel", "html_url": "https://github.com/richkadel", "followers_url": "https://api.github.com/users/richkadel/followers", "following_url": "https://api.github.com/users/richkadel/following{/other_user}", "gists_url": "https://api.github.com/users/richkadel/gists{/gist_id}", "starred_url": "https://api.github.com/users/richkadel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richkadel/subscriptions", "organizations_url": "https://api.github.com/users/richkadel/orgs", "repos_url": "https://api.github.com/users/richkadel/repos", "events_url": "https://api.github.com/users/richkadel/events{/privacy}", "received_events_url": "https://api.github.com/users/richkadel/received_events", "type": "User", "site_admin": false}, "committer": {"login": "richkadel", "id": 3827298, "node_id": "MDQ6VXNlcjM4MjcyOTg=", "avatar_url": "https://avatars.githubusercontent.com/u/3827298?v=4", "gravatar_id": "", "url": "https://api.github.com/users/richkadel", "html_url": "https://github.com/richkadel", "followers_url": "https://api.github.com/users/richkadel/followers", "following_url": "https://api.github.com/users/richkadel/following{/other_user}", "gists_url": "https://api.github.com/users/richkadel/gists{/gist_id}", "starred_url": "https://api.github.com/users/richkadel/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/richkadel/subscriptions", "organizations_url": "https://api.github.com/users/richkadel/orgs", "repos_url": "https://api.github.com/users/richkadel/repos", "events_url": "https://api.github.com/users/richkadel/events{/privacy}", "received_events_url": "https://api.github.com/users/richkadel/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c3387293d4ff050cce2c7f3a79c8e7b040515f8c", "url": "https://api.github.com/repos/rust-lang/rust/commits/c3387293d4ff050cce2c7f3a79c8e7b040515f8c", "html_url": "https://github.com/rust-lang/rust/commit/c3387293d4ff050cce2c7f3a79c8e7b040515f8c"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "b57b691641ca5a43a456bcc81bd8805240dd2eca", "filename": "src/ci/azure-pipelines/try.yml", "status": "modified", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/b9f0304af8b74bdf01cd39f1603d73bdc599de79/src%2Fci%2Fazure-pipelines%2Ftry.yml", "raw_url": "https://github.com/rust-lang/rust/raw/b9f0304af8b74bdf01cd39f1603d73bdc599de79/src%2Fci%2Fazure-pipelines%2Ftry.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fazure-pipelines%2Ftry.yml?ref=b9f0304af8b74bdf01cd39f1603d73bdc599de79", "patch": "@@ -82,3 +82,33 @@ jobs:\n #         INITIAL_RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-msvc --enable-extended --enable-profiler\n #         SCRIPT: python x.py dist\n #         DEPLOY_ALT: 1\n+\n+- job: macOS\n+  timeoutInMinutes: 600\n+  pool:\n+    vmImage: macos-10.15\n+  steps:\n+  - template: steps/run.yml\n+  strategy:\n+    matrix:\n+      x86_64-apple:\n+        SCRIPT: ./x.py test\n+        INITIAL_RUST_CONFIGURE_ARGS: --build=x86_64-apple-darwin --enable-sanitizers --enable-profiler --set rust.jemalloc\n+        RUSTC_RETRY_LINKER_ON_SEGFAULT: 1\n+        MACOSX_DEPLOYMENT_TARGET: 10.8\n+        MACOSX_STD_DEPLOYMENT_TARGET: 10.7\n+        NO_LLVM_ASSERTIONS: 1\n+        NO_DEBUG_ASSERTIONS: 1\n+- job: Windows\n+  timeoutInMinutes: 600\n+  pool:\n+    vmImage: 'vs2017-win2016'\n+  steps:\n+  - template: steps/run.yml\n+  strategy:\n+    matrix:\n+      x86_64-msvc:\n+        INITIAL_RUST_CONFIGURE_ARGS: >\n+          --build=x86_64-pc-windows-msvc\n+          --enable-profiler\n+        SCRIPT: python x.py test"}]}