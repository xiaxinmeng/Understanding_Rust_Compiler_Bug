{"sha": "ae23e65eb8f207d0c9be82e7f2043d98a32d4f57", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFlMjNlNjVlYjhmMjA3ZDBjOWJlODJlN2YyMDQzZDk4YTMyZDRmNTc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-04-15T14:42:22Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-04-15T14:42:22Z"}, "message": "Auto merge of #41321 - frewsxcv:rollup, r=frewsxcv\n\nRollup of 2 pull requests\n\n- Successful merges: #41306, #41311\n- Failed merges:", "tree": {"sha": "36cb321cb8eedabd26ae14aa348b2da62a158b92", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/36cb321cb8eedabd26ae14aa348b2da62a158b92"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ae23e65eb8f207d0c9be82e7f2043d98a32d4f57", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ae23e65eb8f207d0c9be82e7f2043d98a32d4f57", "html_url": "https://github.com/rust-lang/rust/commit/ae23e65eb8f207d0c9be82e7f2043d98a32d4f57", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ae23e65eb8f207d0c9be82e7f2043d98a32d4f57/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c67cf5fddc1d2807e9942c1f9793c3230367332b", "url": "https://api.github.com/repos/rust-lang/rust/commits/c67cf5fddc1d2807e9942c1f9793c3230367332b", "html_url": "https://github.com/rust-lang/rust/commit/c67cf5fddc1d2807e9942c1f9793c3230367332b"}, {"sha": "591f62e8ce09ee2c00e3a124e3c021148c528bf0", "url": "https://api.github.com/repos/rust-lang/rust/commits/591f62e8ce09ee2c00e3a124e3c021148c528bf0", "html_url": "https://github.com/rust-lang/rust/commit/591f62e8ce09ee2c00e3a124e3c021148c528bf0"}], "stats": {"total": 81, "additions": 45, "deletions": 36}, "files": [{"sha": "6c80f11fa7205fdd22fd35f579134624ea6da15b", "filename": "man/rustc.1", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ae23e65eb8f207d0c9be82e7f2043d98a32d4f57/man%2Frustc.1", "raw_url": "https://github.com/rust-lang/rust/raw/ae23e65eb8f207d0c9be82e7f2043d98a32d4f57/man%2Frustc.1", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/man%2Frustc.1?ref=ae23e65eb8f207d0c9be82e7f2043d98a32d4f57", "patch": "@@ -50,7 +50,7 @@ Comma separated list of types of crates for the compiler to emit.\n \\fB\\-\\-crate\\-name\\fR \\fINAME\\fR\n Specify the name of the crate being built.\n .TP\n-\\fB\\-\\-emit\\fR [asm|llvm\\-bc|llvm\\-ir|obj|link|dep\\-info][=\\fIPATH\\fR]\n+\\fB\\-\\-emit\\fR [asm|llvm\\-bc|llvm\\-ir|obj|link|dep\\-info|mir][=\\fIPATH\\fR]\n Configure the output that \\fBrustc\\fR will produce. Each emission may also have\n an optional explicit output \\fIPATH\\fR specified for that particular emission\n kind. This path takes precedence over the \\fB-o\\fR option."}, {"sha": "fadb1844008c09ca0b2269f4ff61675563eb2568", "filename": "src/librustc/session/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ae23e65eb8f207d0c9be82e7f2043d98a32d4f57/src%2Flibrustc%2Fsession%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ae23e65eb8f207d0c9be82e7f2043d98a32d4f57/src%2Flibrustc%2Fsession%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fconfig.rs?ref=ae23e65eb8f207d0c9be82e7f2043d98a32d4f57", "patch": "@@ -1246,7 +1246,7 @@ pub fn rustc_short_optgroups() -> Vec<RustcOptGroup> {\n                \"NAME\"),\n         opt::multi_s(\"\", \"emit\", \"Comma separated list of types of output for \\\n                               the compiler to emit\",\n-                 \"[asm|llvm-bc|llvm-ir|obj|metadata|link|dep-info]\"),\n+                 \"[asm|llvm-bc|llvm-ir|obj|metadata|link|dep-info|mir]\"),\n         opt::multi_s(\"\", \"print\", \"Comma separated list of compiler information to \\\n                                print on stdout\", &format!(\"[{}]\",\n                                &print_opts.join(\"|\"))),"}, {"sha": "5b5e29c0374f021defbeac8ad0bc31410506c43d", "filename": "src/libstd/sys/unix/process/magenta.rs", "status": "modified", "additions": 43, "deletions": 34, "changes": 77, "blob_url": "https://github.com/rust-lang/rust/blob/ae23e65eb8f207d0c9be82e7f2043d98a32d4f57/src%2Flibstd%2Fsys%2Funix%2Fprocess%2Fmagenta.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ae23e65eb8f207d0c9be82e7f2043d98a32d4f57/src%2Flibstd%2Fsys%2Funix%2Fprocess%2Fmagenta.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Funix%2Fprocess%2Fmagenta.rs?ref=ae23e65eb8f207d0c9be82e7f2043d98a32d4f57", "patch": "@@ -202,86 +202,91 @@ pub const LP_CLONE_MXIO_CWD: u32 = 0x0002;\n \n // ERR_NO_RESOURCES: The system was not able to allocate some resource\n // needed for the operation.\n-#[allow(unused)] pub const ERR_NO_RESOURCES: mx_status_t = -5;\n+#[allow(unused)] pub const ERR_NO_RESOURCES: mx_status_t = -3;\n \n // ERR_NO_MEMORY: The system was not able to allocate memory needed\n // for the operation.\n #[allow(unused)] pub const ERR_NO_MEMORY: mx_status_t = -4;\n \n // ERR_CALL_FAILED: The second phase of mx_channel_call(; did not complete\n // successfully.\n-#[allow(unused)] pub const ERR_CALL_FAILED: mx_status_t = -53;\n+#[allow(unused)] pub const ERR_CALL_FAILED: mx_status_t = -5;\n+\n+// ERR_INTERRUPTED_RETRY: The system call was interrupted, but should be\n+// retried.  This should not be seen outside of the VDSO.\n+#[allow(unused)] pub const ERR_INTERRUPTED_RETRY: mx_status_t = -6;\n \n // ======= Parameter errors =======\n // ERR_INVALID_ARGS: an argument is invalid, ex. null pointer\n #[allow(unused)] pub const ERR_INVALID_ARGS: mx_status_t = -10;\n \n+// ERR_BAD_HANDLE: A specified handle value does not refer to a handle.\n+#[allow(unused)] pub const ERR_BAD_HANDLE: mx_status_t = -11;\n+\n // ERR_WRONG_TYPE: The subject of the operation is the wrong type to\n // perform the operation.\n // Example: Attempting a message_read on a thread handle.\n-#[allow(unused)] pub const ERR_WRONG_TYPE: mx_status_t = -54;\n+#[allow(unused)] pub const ERR_WRONG_TYPE: mx_status_t = -12;\n \n // ERR_BAD_SYSCALL: The specified syscall number is invalid.\n-#[allow(unused)] pub const ERR_BAD_SYSCALL: mx_status_t = -11;\n-\n-// ERR_BAD_HANDLE: A specified handle value does not refer to a handle.\n-#[allow(unused)] pub const ERR_BAD_HANDLE: mx_status_t = -12;\n+#[allow(unused)] pub const ERR_BAD_SYSCALL: mx_status_t = -13;\n \n // ERR_OUT_OF_RANGE: An argument is outside the valid range for this\n // operation.\n-#[allow(unused)] pub const ERR_OUT_OF_RANGE: mx_status_t = -13;\n+#[allow(unused)] pub const ERR_OUT_OF_RANGE: mx_status_t = -14;\n \n // ERR_BUFFER_TOO_SMALL: A caller provided buffer is too small for\n // this operation.\n-#[allow(unused)] pub const ERR_BUFFER_TOO_SMALL: mx_status_t = -14;\n+#[allow(unused)] pub const ERR_BUFFER_TOO_SMALL: mx_status_t = -15;\n \n // ======= Precondition or state errors =======\n // ERR_BAD_STATE: operation failed because the current state of the\n // object does not allow it, or a precondition of the operation is\n // not satisfied\n #[allow(unused)] pub const ERR_BAD_STATE: mx_status_t = -20;\n \n+// ERR_TIMED_OUT: The time limit for the operation elapsed before\n+// the operation completed.\n+#[allow(unused)] pub const ERR_TIMED_OUT: mx_status_t = -21;\n+\n+// ERR_SHOULD_WAIT: The operation cannot be performed currently but\n+// potentially could succeed if the caller waits for a prerequisite\n+// to be satisfied, for example waiting for a handle to be readable\n+// or writable.\n+// Example: Attempting to read from a message pipe that has no\n+// messages waiting but has an open remote will return ERR_SHOULD_WAIT.\n+// Attempting to read from a message pipe that has no messages waiting\n+// and has a closed remote end will return ERR_REMOTE_CLOSED.\n+#[allow(unused)] pub const ERR_SHOULD_WAIT: mx_status_t = -22;\n+\n+// ERR_CANCELED: The in-progress operation (e.g. a wait) has been\n+// // canceled.\n+#[allow(unused)] pub const ERR_CANCELED: mx_status_t = -23;\n+\n+// ERR_PEER_CLOSED: The operation failed because the remote end\n+// of the subject of the operation was closed.\n+#[allow(unused)] pub const ERR_PEER_CLOSED: mx_status_t = -24;\n+\n // ERR_NOT_FOUND: The requested entity is not found.\n-#[allow(unused)] pub const ERR_NOT_FOUND: mx_status_t = -3;\n+#[allow(unused)] pub const ERR_NOT_FOUND: mx_status_t = -25;\n \n // ERR_ALREADY_EXISTS: An object with the specified identifier\n // already exists.\n // Example: Attempting to create a file when a file already exists\n // with that name.\n-#[allow(unused)] pub const ERR_ALREADY_EXISTS: mx_status_t = -15;\n+#[allow(unused)] pub const ERR_ALREADY_EXISTS: mx_status_t = -26;\n \n // ERR_ALREADY_BOUND: The operation failed because the named entity\n // is already owned or controlled by another entity. The operation\n // could succeed later if the current owner releases the entity.\n-#[allow(unused)] pub const ERR_ALREADY_BOUND: mx_status_t = -16;\n-\n-// ERR_TIMED_OUT: The time limit for the operation elapsed before\n-// the operation completed.\n-#[allow(unused)] pub const ERR_TIMED_OUT: mx_status_t = -23;\n-\n-// ERR_HANDLE_CLOSED: a handle being waited on was closed\n-#[allow(unused)] pub const ERR_HANDLE_CLOSED: mx_status_t = -24;\n-\n-// ERR_REMOTE_CLOSED: The operation failed because the remote end\n-// of the subject of the operation was closed.\n-#[allow(unused)] pub const ERR_REMOTE_CLOSED: mx_status_t = -25;\n+#[allow(unused)] pub const ERR_ALREADY_BOUND: mx_status_t = -27;\n \n // ERR_UNAVAILABLE: The subject of the operation is currently unable\n // to perform the operation.\n // Note: This is used when there's no direct way for the caller to\n // observe when the subject will be able to perform the operation\n // and should thus retry.\n-#[allow(unused)] pub const ERR_UNAVAILABLE: mx_status_t = -26;\n-\n-// ERR_SHOULD_WAIT: The operation cannot be performed currently but\n-// potentially could succeed if the caller waits for a prerequisite\n-// to be satisfied, for example waiting for a handle to be readable\n-// or writable.\n-// Example: Attempting to read from a message pipe that has no\n-// messages waiting but has an open remote will return ERR_SHOULD_WAIT.\n-// Attempting to read from a message pipe that has no messages waiting\n-// and has a closed remote end will return ERR_REMOTE_CLOSED.\n-#[allow(unused)] pub const ERR_SHOULD_WAIT: mx_status_t = -27;\n+#[allow(unused)] pub const ERR_UNAVAILABLE: mx_status_t = -28;\n \n // ======= Permission check errors =======\n // ERR_ACCESS_DENIED: The caller did not have permission to perform\n@@ -312,3 +317,7 @@ pub const LP_CLONE_MXIO_CWD: u32 = 0x0002;\n #[allow(unused)] pub const ERR_BAD_PATH: mx_status_t = -50;\n #[allow(unused)] pub const ERR_NOT_DIR: mx_status_t = -51;\n #[allow(unused)] pub const ERR_NOT_FILE: mx_status_t = -52;\n+// ERR_FILE_BIG: A file exceeds a filesystem-specific size limit.\n+#[allow(unused)] pub const ERR_FILE_BIG: mx_status_t = -53;\n+// ERR_NO_SPACE: Filesystem or device space is exhausted.\n+#[allow(unused)] pub const ERR_NO_SPACE: mx_status_t = -54;"}]}