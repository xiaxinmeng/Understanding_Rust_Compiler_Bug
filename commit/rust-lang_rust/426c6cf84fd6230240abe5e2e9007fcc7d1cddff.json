{"sha": "426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQyNmM2Y2Y4NGZkNjIzMDI0MGFiZTVlMmU5MDA3ZmNjN2QxY2RkZmY=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-10-23T20:19:07Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-10-23T20:19:07Z"}, "message": "Rollup merge of #64178 - mati865:clippy, r=scottmcm\n\nMore Clippy fixes for alloc, core and std\n\nContinuation of https://github.com/rust-lang/rust/pull/63805", "tree": {"sha": "43c4e608acb09219bd63e59d10a00d3661fe2cdb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/43c4e608acb09219bd63e59d10a00d3661fe2cdb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdsLW7CRBK7hj4Ov3rIwAAdHIIACI0zfUkk8Vyy+tTbghWwOzV\nqRoZ8kXt2++3GzU/FkuVy87RZ+nX3kCJdQQkQeNkLAc38n3Jrgfm7RI5pN0FzSnc\nPUtynS930OrrZQ8Ev04flsU6+SLi7SAjhhHxOWPNn98hKF/g7pl79UNwaJrlwUTy\no6o+xW0a79chW4tLyxStPrIT/PM8nnXkTYVP+itHZ3HR3HPweZRiZ3K8/ZbvV/SX\nBjnQkxyZd6dEqwaTYhbqMaW48V1o9rTIdh/2K1DZhbRbf8qT7UizGmnApM9luxIl\nNkIt+lTUMqF9OgnjGQw1Hhsrd9oCRlXFKH8QzcodIYmPN4DoWPzR5N9ZsOkDXBU=\n=OFZu\n-----END PGP SIGNATURE-----\n", "payload": "tree 43c4e608acb09219bd63e59d10a00d3661fe2cdb\nparent 4a8c5b20c7772bc5342b83d4b0696ea216ef75a7\nparent bedbf3bacbff36a477dcf28523cbf6cab67e9e0a\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1571861947 +0200\ncommitter GitHub <noreply@github.com> 1571861947 +0200\n\nRollup merge of #64178 - mati865:clippy, r=scottmcm\n\nMore Clippy fixes for alloc, core and std\n\nContinuation of https://github.com/rust-lang/rust/pull/63805\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "html_url": "https://github.com/rust-lang/rust/commit/426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4a8c5b20c7772bc5342b83d4b0696ea216ef75a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/4a8c5b20c7772bc5342b83d4b0696ea216ef75a7", "html_url": "https://github.com/rust-lang/rust/commit/4a8c5b20c7772bc5342b83d4b0696ea216ef75a7"}, {"sha": "bedbf3bacbff36a477dcf28523cbf6cab67e9e0a", "url": "https://api.github.com/repos/rust-lang/rust/commits/bedbf3bacbff36a477dcf28523cbf6cab67e9e0a", "html_url": "https://github.com/rust-lang/rust/commit/bedbf3bacbff36a477dcf28523cbf6cab67e9e0a"}], "stats": {"total": 70, "additions": 33, "deletions": 37}, "files": [{"sha": "8f3dfabd8886d6286ae8949ddfd8bf1c1e00ffe9", "filename": "src/liballoc/collections/vec_deque.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Fliballoc%2Fcollections%2Fvec_deque.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Fliballoc%2Fcollections%2Fvec_deque.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fcollections%2Fvec_deque.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -1817,7 +1817,7 @@ impl<T> VecDeque<T> {\n             }\n         }\n \n-        return elem;\n+        elem\n     }\n \n     /// Splits the `VecDeque` into two at the given index."}, {"sha": "83816d8b954c4dbbd7e3e0ccf3c76185319a5fc8", "filename": "src/liballoc/str.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Fliballoc%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Fliballoc%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fstr.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -456,7 +456,7 @@ impl str {\n                 }\n             }\n         }\n-        return s;\n+        s\n     }\n \n     /// Converts a [`Box<str>`] into a [`String`] without copying or allocating."}, {"sha": "80d6c6e0d43907bbdf936a9e8f1a34a7b5efaa3f", "filename": "src/liballoc/sync.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Fliballoc%2Fsync.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Fliballoc%2Fsync.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fsync.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -1638,7 +1638,7 @@ impl<T: ?Sized> Clone for Weak<T> {\n             }\n         }\n \n-        return Weak { ptr: self.ptr };\n+        Weak { ptr: self.ptr }\n     }\n }\n "}, {"sha": "0e83a282b18f717d056b70a3efbccc24b2e56da4", "filename": "src/libcore/fmt/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibcore%2Ffmt%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibcore%2Ffmt%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ffmt%2Fmod.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -2025,7 +2025,7 @@ impl<T: ?Sized> Pointer for *const T {\n         if f.alternate() {\n             f.flags |= 1 << (FlagV1::SignAwareZeroPad as u32);\n \n-            if let None = f.width {\n+            if f.width.is_none() {\n                 f.width = Some(((mem::size_of::<usize>() * 8) / 4) + 2);\n             }\n         }"}, {"sha": "ed89852dc48da63010be52885842dbac543a2a82", "filename": "src/libcore/num/dec2flt/algorithm.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibcore%2Fnum%2Fdec2flt%2Falgorithm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibcore%2Fnum%2Fdec2flt%2Falgorithm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fnum%2Fdec2flt%2Falgorithm.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -143,13 +143,12 @@ pub fn fast_path<T: RawFloat>(integral: &[u8], fractional: &[u8], e: i64) -> Opt\n /// > not a bound for the true error, but bounds the difference between the approximation z and\n /// > the best possible approximation that uses p bits of significand.)\n pub fn bellerophon<T: RawFloat>(f: &Big, e: i16) -> T {\n-    let slop;\n-    if f <= &Big::from_u64(T::MAX_SIG) {\n+    let slop = if f <= &Big::from_u64(T::MAX_SIG) {\n         // The cases abs(e) < log5(2^N) are in fast_path()\n-        slop = if e >= 0 { 0 } else { 3 };\n+        if e >= 0 { 0 } else { 3 }\n     } else {\n-        slop = if e >= 0 { 1 } else { 4 };\n-    }\n+        if e >= 0 { 1 } else { 4 }\n+    };\n     let z = rawfp::big_to_fp(f).mul(&power_of_ten(e)).normalize();\n     let exp_p_n = 1 << (P - T::SIG_BITS as u32);\n     let lowbits: i64 = (z.f % exp_p_n) as i64;"}, {"sha": "89f2d7ab29c9374e7751ec4821d44562160a09d9", "filename": "src/libcore/option.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibcore%2Foption.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibcore%2Foption.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Foption.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -837,9 +837,8 @@ impl<T> Option<T> {\n     #[inline]\n     #[stable(feature = \"option_entry\", since = \"1.20.0\")]\n     pub fn get_or_insert_with<F: FnOnce() -> T>(&mut self, f: F) -> &mut T {\n-        match *self {\n-            None => *self = Some(f()),\n-            _ => (),\n+        if let None = *self {\n+            *self = Some(f());\n         }\n \n         match *self {"}, {"sha": "a35847c85fc206476f78174e406781cca340c90b", "filename": "src/libpanic_unwind/gcc.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibpanic_unwind%2Fgcc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibpanic_unwind%2Fgcc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_unwind%2Fgcc.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -156,21 +156,21 @@ unsafe extern \"C\" fn rust_eh_personality(version: c_int,\n     if actions as i32 & uw::_UA_SEARCH_PHASE as i32 != 0 {\n         match eh_action {\n             EHAction::None |\n-            EHAction::Cleanup(_) => return uw::_URC_CONTINUE_UNWIND,\n-            EHAction::Catch(_) => return uw::_URC_HANDLER_FOUND,\n-            EHAction::Terminate => return uw::_URC_FATAL_PHASE1_ERROR,\n+            EHAction::Cleanup(_) => uw::_URC_CONTINUE_UNWIND,\n+            EHAction::Catch(_) => uw::_URC_HANDLER_FOUND,\n+            EHAction::Terminate => uw::_URC_FATAL_PHASE1_ERROR,\n         }\n     } else {\n         match eh_action {\n-            EHAction::None => return uw::_URC_CONTINUE_UNWIND,\n+            EHAction::None => uw::_URC_CONTINUE_UNWIND,\n             EHAction::Cleanup(lpad) |\n             EHAction::Catch(lpad) => {\n                 uw::_Unwind_SetGR(context, UNWIND_DATA_REG.0, exception_object as uintptr_t);\n                 uw::_Unwind_SetGR(context, UNWIND_DATA_REG.1, 0);\n                 uw::_Unwind_SetIP(context, lpad);\n-                return uw::_URC_INSTALL_CONTEXT;\n+                uw::_URC_INSTALL_CONTEXT\n             }\n-            EHAction::Terminate => return uw::_URC_FATAL_PHASE2_ERROR,\n+            EHAction::Terminate => uw::_URC_FATAL_PHASE2_ERROR,\n         }\n     }\n }"}, {"sha": "16b699a44379979f7eda4031937e072e7b8d4d8c", "filename": "src/libpanic_unwind/seh64_gnu.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibpanic_unwind%2Fseh64_gnu.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibpanic_unwind%2Fseh64_gnu.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_unwind%2Fseh64_gnu.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -46,7 +46,7 @@ pub fn payload() -> *mut u8 {\n \n pub unsafe fn cleanup(ptr: *mut u8) -> Box<dyn Any + Send> {\n     let panic_ctx = Box::from_raw(ptr as *mut PanicData);\n-    return panic_ctx.data;\n+    panic_ctx.data\n }\n \n // SEH doesn't support resuming unwinds after calling a landing pad like"}, {"sha": "619b182019081fd8e3094e98d9b390b3d8371934", "filename": "src/libstd/panicking.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fpanicking.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fpanicking.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpanicking.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -217,7 +217,7 @@ pub fn update_panic_count(amt: isize) -> usize {\n     PANIC_COUNT.with(|c| {\n         let next = (c.get() as isize + amt) as usize;\n         c.set(next);\n-        return next\n+        next\n     })\n }\n "}, {"sha": "be112f6fc032923f75b2069e5bcd741d8f109a05", "filename": "src/libstd/sys/unix/rand.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Funix%2Frand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Funix%2Frand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Funix%2Frand.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -8,7 +8,7 @@ pub fn hashmap_random_keys() -> (u64, u64) {\n                                              mem::size_of_val(&v));\n         imp::fill_bytes(view);\n     }\n-    return v\n+    v\n }\n \n #[cfg(all(unix,"}, {"sha": "3986cda1a50477e01839c4601c6877b394679f9a", "filename": "src/libstd/sys/windows/handle.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Fhandle.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Fhandle.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fwindows%2Fhandle.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -46,7 +46,7 @@ impl Handle {\n     pub fn into_raw(self) -> c::HANDLE {\n         let ret = self.raw();\n         mem::forget(self);\n-        return ret;\n+        ret\n     }\n }\n "}, {"sha": "79dec1adf4bc8a9e194bd8acbbb1f85f1341f5db", "filename": "src/libstd/sys/windows/mutex.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Fmutex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Fmutex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fwindows%2Fmutex.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -144,7 +144,7 @@ fn kind() -> Kind {\n         Some(..) => Kind::SRWLock,\n     };\n     KIND.store(ret as usize, Ordering::SeqCst);\n-    return ret;\n+    ret\n }\n \n pub struct ReentrantMutex { inner: UnsafeCell<MaybeUninit<c::CRITICAL_SECTION>> }"}, {"sha": "096b7bea8a5f16bc8fc9f0eb8245f738d16b8127", "filename": "src/libstd/sys/windows/process.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Fprocess.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Fprocess.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fwindows%2Fprocess.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -257,7 +257,7 @@ impl Stdio {\n                         let ret = io.duplicate(0, true,\n                                                c::DUPLICATE_SAME_ACCESS);\n                         io.into_raw();\n-                        return ret\n+                        ret\n                     }\n                     Err(..) => Ok(Handle::new(c::INVALID_HANDLE_VALUE)),\n                 }\n@@ -472,9 +472,8 @@ fn make_command_line(prog: &OsStr, args: &[OsString]) -> io::Result<Vec<u16>> {\n             cmd.push('\"' as u16);\n         }\n \n-        let mut iter = arg.encode_wide();\n         let mut backslashes: usize = 0;\n-        while let Some(x) = iter.next() {\n+        for x in arg.encode_wide() {\n             if x == '\\\\' as u16 {\n                 backslashes += 1;\n             } else {"}, {"sha": "993831bec188698d85939205e5aa74a208323c62", "filename": "src/libstd/sys/windows/rand.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Frand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Frand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fwindows%2Frand.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -13,7 +13,7 @@ pub fn hashmap_random_keys() -> (u64, u64) {\n         panic!(\"couldn't generate random bytes: {}\",\n                io::Error::last_os_error());\n     }\n-    return v\n+    v\n }\n \n #[cfg(target_vendor = \"uwp\")]"}, {"sha": "728257cdd4bb14517efa588da53b2f5b189e8cbc", "filename": "src/libstd/sys/windows/thread_local.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Fthread_local.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Fthread_local.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fwindows%2Fthread_local.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -52,7 +52,7 @@ pub unsafe fn create(dtor: Option<Dtor>) -> Key {\n     if let Some(f) = dtor {\n         register_dtor(key, f);\n     }\n-    return key;\n+    key\n }\n \n #[inline]"}, {"sha": "bd533c93d434c5420cc494aa489413515e56ea53", "filename": "src/libstd/sys/windows/time.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Ftime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fsys%2Fwindows%2Ftime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fwindows%2Ftime.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -80,7 +80,7 @@ impl SystemTime {\n         unsafe {\n             let mut t: SystemTime = mem::zeroed();\n             c::GetSystemTimeAsFileTime(&mut t.t);\n-            return t\n+            t\n         }\n     }\n \n@@ -228,7 +228,7 @@ mod perf_counter {\n                 FREQUENCY = frequency;\n                 STATE.store(2, SeqCst);\n             }\n-            return frequency;\n+            frequency\n         }\n     }\n "}, {"sha": "cfaab4e22e9cf9a2d5d51b44139b3f31639f4ef4", "filename": "src/libstd/thread/local.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fthread%2Flocal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibstd%2Fthread%2Flocal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fthread%2Flocal.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -509,9 +509,8 @@ pub mod os {\n         pub unsafe fn get(&'static self, init: fn() -> T) -> Option<&'static T> {\n             let ptr = self.os.get() as *mut Value<T>;\n             if ptr as usize > 1 {\n-                match (*ptr).inner.get() {\n-                    Some(ref value) => return Some(value),\n-                    None => {},\n+                if let Some(ref value) = (*ptr).inner.get() {\n+                    return Some(value);\n                 }\n             }\n             self.try_initialize(init)"}, {"sha": "c86bfd16c21b185dc4250fe56315fecbdbd844ec", "filename": "src/libtest/bench.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibtest%2Fbench.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibtest%2Fbench.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Fbench.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -48,7 +48,7 @@ impl Bencher {\n         F: FnMut(&mut Bencher),\n     {\n         f(self);\n-        return self.summary;\n+        self.summary\n     }\n }\n \n@@ -116,7 +116,7 @@ where\n     for _ in 0..k {\n         black_box(inner());\n     }\n-    return ns_from_dur(start.elapsed());\n+    ns_from_dur(start.elapsed())\n }\n \n pub fn iter<T, F>(inner: &mut F) -> stats::Summary"}, {"sha": "a34426305be2e82a87ac6d209b973f78a86bff1d", "filename": "src/libtest/cli.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibtest%2Fcli.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibtest%2Fcli.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Fcli.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -149,7 +149,7 @@ fn optgroups() -> getopts::Options {\n             `CRITICAL_TIME` here means the limit that should not be exceeded by test.\n             \"\n         );\n-    return opts;\n+    opts\n }\n \n fn usage(binary: &str, options: &getopts::Options) {"}, {"sha": "244cbd2cf5fe807b702c836d44e022f881800914", "filename": "src/libtest/console.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibtest%2Fconsole.rs", "raw_url": "https://github.com/rust-lang/rust/raw/426c6cf84fd6230240abe5e2e9007fcc7d1cddff/src%2Flibtest%2Fconsole.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Fconsole.rs?ref=426c6cf84fd6230240abe5e2e9007fcc7d1cddff", "patch": "@@ -296,7 +296,7 @@ pub fn run_tests_console(opts: &TestOpts, tests: Vec<TestDescAndFn>) -> io::Resu\n \n     assert!(st.current_test_count() == st.total);\n \n-    return out.write_run_finish(&st);\n+    out.write_run_finish(&st)\n }\n \n // Calculates padding for given test description."}]}