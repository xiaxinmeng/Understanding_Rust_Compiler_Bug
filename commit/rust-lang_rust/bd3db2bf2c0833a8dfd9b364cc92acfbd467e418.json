{"sha": "bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJkM2RiMmJmMmMwODMzYThkZmQ5YjM2NGNjOTJhY2ZiZDQ2N2U0MTg=", "commit": {"author": {"name": "Tim Neumann", "email": "mail@timnn.me", "date": "2018-03-26T13:14:58Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-03-26T13:14:58Z"}, "message": "Rollup merge of #49187 - alexcrichton:no-cross-docs, r=kennytm\n\nrustbuild: Disable docs on cross-compiled builds\n\nThis commit disables building documentation on cross-compiled compilers, for\nexample ARM/MIPS/PowerPC/etc. Currently I believe we're not getting much use out\nof these documentation artifacts and they often take 10-15 minutes total to\nbuild as it requires building rustdoc/rustbook and then also generating all the\ndocumentation, especially for the reference and the book itself.\n\nIn an effort to cut down on the amount of work that we're doing on dist CI\nbuilders in light of recent timeouts this was some relatively low hanging fruit\nto cut which in theory won't have much impact on the ecosystem in the hopes that\nthe documentation isn't used too heavily anyway.\n\nWhile initial analysis in #48827 showed only shaving 5 minutes off local builds\nthe same 5 minute conclusion was drawn from #48826 which ended up having nearly\na half-hour impact on the bots. In that sense I'm hoping that we can land this\nand test out what happens on CI to see how it affects timing.\n\nNote that all tier 1 platforms, Windows, Mac, and Linux, will continue to\ngenerate documentation.", "tree": {"sha": "3a42815355fb170ebd68ef19e91ee58a073f20ea", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3a42815355fb170ebd68ef19e91ee58a073f20ea"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJauPJSCRBK7hj4Ov3rIwAAdHIIAHHUAolatFr/QZw4oL4AThKV\nWZYlzkaacQ5PpyLxenWRUN/eI4KL0TE2hjYMHvk0KXcbAI+W+O2mHdCCunTl1pCg\nKsv1KwLqG2tiGJQ1BqPlwkEFP7Jq0773ywsyVnND23bXRgQolmjhAtukis7VVQSc\nreBozNNCk/LGR68RzQ2XBuHgUIy0RNBL8jverM3bKyBC4CwOWK3aw/R/CwYAO8Ra\nVFoyitz8yc4ADLLpc1uD3r0HHc4ntBJMB5qd0EkGBtLm7xI8tVB+T3jsA5FGKic6\njPui7uTWZ4BrUlC/pyz2hrUYYh6IygqnIvBIVzEbHpWUvO/oSKU2+Hs9Fc0xGIU=\n=X42K\n-----END PGP SIGNATURE-----\n", "payload": "tree 3a42815355fb170ebd68ef19e91ee58a073f20ea\nparent 9e4d5cf0ce673f1e3d2ca5490e0bff3788ce37c9\nparent bd286413443c31c99330358967fb0159de8a3589\nauthor Tim Neumann <mail@timnn.me> 1522070098 +0200\ncommitter GitHub <noreply@github.com> 1522070098 +0200\n\nRollup merge of #49187 - alexcrichton:no-cross-docs, r=kennytm\n\nrustbuild: Disable docs on cross-compiled builds\n\nThis commit disables building documentation on cross-compiled compilers, for\nexample ARM/MIPS/PowerPC/etc. Currently I believe we're not getting much use out\nof these documentation artifacts and they often take 10-15 minutes total to\nbuild as it requires building rustdoc/rustbook and then also generating all the\ndocumentation, especially for the reference and the book itself.\n\nIn an effort to cut down on the amount of work that we're doing on dist CI\nbuilders in light of recent timeouts this was some relatively low hanging fruit\nto cut which in theory won't have much impact on the ecosystem in the hopes that\nthe documentation isn't used too heavily anyway.\n\nWhile initial analysis in #48827 showed only shaving 5 minutes off local builds\nthe same 5 minute conclusion was drawn from #48826 which ended up having nearly\na half-hour impact on the bots. In that sense I'm hoping that we can land this\nand test out what happens on CI to see how it affects timing.\n\nNote that all tier 1 platforms, Windows, Mac, and Linux, will continue to\ngenerate documentation.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "html_url": "https://github.com/rust-lang/rust/commit/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/comments", "author": {"login": "TimNN", "id": 1178249, "node_id": "MDQ6VXNlcjExNzgyNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimNN", "html_url": "https://github.com/TimNN", "followers_url": "https://api.github.com/users/TimNN/followers", "following_url": "https://api.github.com/users/TimNN/following{/other_user}", "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions", "organizations_url": "https://api.github.com/users/TimNN/orgs", "repos_url": "https://api.github.com/users/TimNN/repos", "events_url": "https://api.github.com/users/TimNN/events{/privacy}", "received_events_url": "https://api.github.com/users/TimNN/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9e4d5cf0ce673f1e3d2ca5490e0bff3788ce37c9", "url": "https://api.github.com/repos/rust-lang/rust/commits/9e4d5cf0ce673f1e3d2ca5490e0bff3788ce37c9", "html_url": "https://github.com/rust-lang/rust/commit/9e4d5cf0ce673f1e3d2ca5490e0bff3788ce37c9"}, {"sha": "bd286413443c31c99330358967fb0159de8a3589", "url": "https://api.github.com/repos/rust-lang/rust/commits/bd286413443c31c99330358967fb0159de8a3589", "html_url": "https://github.com/rust-lang/rust/commit/bd286413443c31c99330358967fb0159de8a3589"}], "stats": {"total": 59, "additions": 33, "deletions": 26}, "files": [{"sha": "a1318086af7e93fbbd5237bd012080d619c9f265", "filename": "src/bootstrap/compile.rs", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fbootstrap%2Fcompile.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fbootstrap%2Fcompile.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fcompile.rs?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -98,7 +98,7 @@ impl Step for Std {\n             copy_musl_third_party_objects(build, target, &libdir);\n         }\n \n-        let out_dir = build.stage_out(compiler, Mode::Libstd);\n+        let out_dir = build.cargo_out(compiler, Mode::Libstd, target);\n         build.clear_if_dirty(&out_dir, &builder.rustc(compiler));\n         let mut cargo = builder.cargo(compiler, Mode::Libstd, target, \"build\");\n         std_cargo(builder, &compiler, target, &mut cargo);\n@@ -360,7 +360,7 @@ impl Step for Test {\n             return;\n         }\n \n-        let out_dir = build.stage_out(compiler, Mode::Libtest);\n+        let out_dir = build.cargo_out(compiler, Mode::Libtest, target);\n         build.clear_if_dirty(&out_dir, &libstd_stamp(build, compiler, target));\n         let mut cargo = builder.cargo(compiler, Mode::Libtest, target, \"build\");\n         test_cargo(build, &compiler, target, &mut cargo);\n@@ -482,10 +482,9 @@ impl Step for Rustc {\n             compiler: builder.compiler(self.compiler.stage, build.build),\n             target: build.build,\n         });\n-\n-        let stage_out = builder.stage_out(compiler, Mode::Librustc);\n-        build.clear_if_dirty(&stage_out, &libstd_stamp(build, compiler, target));\n-        build.clear_if_dirty(&stage_out, &libtest_stamp(build, compiler, target));\n+        let cargo_out = builder.cargo_out(compiler, Mode::Librustc, target);\n+        build.clear_if_dirty(&cargo_out, &libstd_stamp(build, compiler, target));\n+        build.clear_if_dirty(&cargo_out, &libtest_stamp(build, compiler, target));\n \n         let mut cargo = builder.cargo(compiler, Mode::Librustc, target, \"build\");\n         rustc_cargo(build, &mut cargo);"}, {"sha": "669308c8dd0efe208b37e5369806a8805a9cd1a3", "filename": "src/bootstrap/tool.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fbootstrap%2Ftool.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fbootstrap%2Ftool.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftool.rs?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -338,6 +338,10 @@ impl Step for Rustdoc {\n         };\n \n         builder.ensure(compile::Rustc { compiler: build_compiler, target });\n+        builder.ensure(compile::Rustc {\n+            compiler: build_compiler,\n+            target: builder.build.build,\n+        });\n \n         let mut cargo = prepare_tool_cargo(builder,\n                                            build_compiler,"}, {"sha": "cddfa557f6aed7e43ac04c326cfe6509417e0c0d", "filename": "src/ci/docker/dist-aarch64-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-aarch64-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-aarch64-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-aarch64-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -32,5 +32,5 @@ ENV CC_aarch64_unknown_linux_gnu=aarch64-unknown-linux-gnueabi-gcc \\\n \n ENV HOSTS=aarch64-unknown-linux-gnu\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "e00c23dac89b087dd66edbec4e1ff6db704cb9fd", "filename": "src/ci/docker/dist-android/Dockerfile", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-android%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-android%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-android%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -26,7 +26,8 @@ ENV RUST_CONFIGURE_ARGS \\\n       --armv7-linux-androideabi-ndk=/android/ndk/arm-14 \\\n       --i686-linux-android-ndk=/android/ndk/x86-14 \\\n       --aarch64-linux-android-ndk=/android/ndk/arm64-21 \\\n-      --x86_64-linux-android-ndk=/android/ndk/x86_64-21\n+      --x86_64-linux-android-ndk=/android/ndk/x86_64-21 \\\n+      --disable-docs\n \n ENV SCRIPT python2.7 ../x.py dist --target $TARGETS\n "}, {"sha": "6ddc5c1e04ae35223c38a6002ac6ef996f23a3e0", "filename": "src/ci/docker/dist-arm-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-arm-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-arm-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-arm-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -32,5 +32,5 @@ ENV CC_arm_unknown_linux_gnueabi=arm-unknown-linux-gnueabi-gcc \\\n \n ENV HOSTS=arm-unknown-linux-gnueabi\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "e4d4b2feeec40270c84f97b3277bfc4dfd6bb911", "filename": "src/ci/docker/dist-armhf-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-armhf-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-armhf-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-armhf-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -32,5 +32,5 @@ ENV CC_arm_unknown_linux_gnueabihf=arm-unknown-linux-gnueabihf-gcc \\\n \n ENV HOSTS=arm-unknown-linux-gnueabihf\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "99fe7bd7b8f7871fc5aa607f00ec2fb2103bfcb5", "filename": "src/ci/docker/dist-armv7-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-armv7-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-armv7-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-armv7-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -32,5 +32,5 @@ ENV CC_armv7_unknown_linux_gnueabihf=armv7-unknown-linux-gnueabihf-gcc \\\n \n ENV HOSTS=armv7-unknown-linux-gnueabihf\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "e12bed3abc5ad05dc401cb4d773cdb922bb32aac", "filename": "src/ci/docker/dist-i586-gnu-i586-i686-musl/Dockerfile", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-i586-gnu-i586-i686-musl%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-i586-gnu-i586-i686-musl%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-i586-gnu-i586-i686-musl%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -32,7 +32,8 @@ RUN sh /scripts/sccache.sh\n ENV RUST_CONFIGURE_ARGS \\\n       --musl-root-i586=/musl-i586 \\\n       --musl-root-i686=/musl-i686 \\\n-      --enable-extended\n+      --enable-extended \\\n+      --disable-docs\n \n # Newer binutils broke things on some vms/distros (i.e., linking against\n # unknown relocs disabled by the following flag), so we need to go out of our"}, {"sha": "6f6a663a3309387abf8ec5785f5f1df2f7687aa3", "filename": "src/ci/docker/dist-i686-freebsd/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-i686-freebsd%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-i686-freebsd%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-i686-freebsd%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -29,5 +29,5 @@ ENV \\\n \n ENV HOSTS=i686-unknown-freebsd\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "466def1f80fbfd9cbdbf6d86d5e4d98630f1bd1e", "filename": "src/ci/docker/dist-mips-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-mips-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-mips-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-mips-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -22,5 +22,5 @@ RUN sh /scripts/sccache.sh\n \n ENV HOSTS=mips-unknown-linux-gnu\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "2205b733e99f1e5826fa92656fa68a94c509e30e", "filename": "src/ci/docker/dist-mips64-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-mips64-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-mips64-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-mips64-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -21,5 +21,5 @@ RUN sh /scripts/sccache.sh\n \n ENV HOSTS=mips64-unknown-linux-gnuabi64\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "f1d9dad46ea3f6dd58be2443f5caef48940cd3f6", "filename": "src/ci/docker/dist-mips64el-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-mips64el-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-mips64el-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-mips64el-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -22,5 +22,5 @@ RUN sh /scripts/sccache.sh\n \n ENV HOSTS=mips64el-unknown-linux-gnuabi64\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "ee73e29c76e35926ee5389ecf998f47a29ce4c1a", "filename": "src/ci/docker/dist-mipsel-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-mipsel-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-mipsel-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-mipsel-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -21,5 +21,5 @@ RUN sh /scripts/sccache.sh\n \n ENV HOSTS=mipsel-unknown-linux-gnu\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "f03aff060c1034065c5361930ac2fdf917129320", "filename": "src/ci/docker/dist-powerpc-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-powerpc-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-powerpc-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-powerpc-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -34,7 +34,7 @@ ENV \\\n \n ENV HOSTS=powerpc-unknown-linux-gnu\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS\n \n # FIXME(#36150) this will fail the bootstrap. Probably means something bad is"}, {"sha": "bb30210c0563aa5433672b744fab108100aa4f1f", "filename": "src/ci/docker/dist-powerpc64-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-powerpc64-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-powerpc64-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-powerpc64-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -35,5 +35,5 @@ ENV \\\n \n ENV HOSTS=powerpc64-unknown-linux-gnu\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "ee9e4550483525ada46d587e492b623b07129d6b", "filename": "src/ci/docker/dist-powerpc64le-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-powerpc64le-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-powerpc64le-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-powerpc64le-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -32,5 +32,5 @@ ENV \\\n \n ENV HOSTS=powerpc64le-unknown-linux-gnu\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "7ba6fe643c2ae80b9f59bdcdf4197db18fa3c736", "filename": "src/ci/docker/dist-s390x-linux/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-s390x-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-s390x-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-s390x-linux%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -34,5 +34,5 @@ ENV \\\n \n ENV HOSTS=s390x-unknown-linux-gnu\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "b398e9a3c92ef8dce5e5fced67cc12114a6f484c", "filename": "src/ci/docker/dist-various-1/Dockerfile", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-various-1%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-various-1%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-various-1%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -95,7 +95,8 @@ ENV RUST_CONFIGURE_ARGS \\\n       --musl-root-aarch64=/musl-aarch64 \\\n       --musl-root-mips=/musl-mips \\\n       --musl-root-mipsel=/musl-mipsel \\\n-      --enable-emscripten\n+      --enable-emscripten \\\n+      --disable-docs\n \n ENV SCRIPT python2.7 ../x.py dist --target $TARGETS\n "}, {"sha": "e8d6c12de4474284c529a8852863c81eb9ff317f", "filename": "src/ci/docker/dist-various-2/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-various-2%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-various-2%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-various-2%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -55,5 +55,5 @@ ENV TARGETS=$TARGETS,x86_64-sun-solaris\n ENV TARGETS=$TARGETS,x86_64-unknown-linux-gnux32\n ENV TARGETS=$TARGETS,x86_64-unknown-cloudabi\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --target $TARGETS"}, {"sha": "698b81a92e935464724259a1e9b659c802351316", "filename": "src/ci/docker/dist-x86_64-freebsd/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-x86_64-freebsd%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-x86_64-freebsd%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-x86_64-freebsd%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -29,5 +29,5 @@ ENV \\\n \n ENV HOSTS=x86_64-unknown-freebsd\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}, {"sha": "06f8a2fbba836de9843927eb40b2392eb704cb0a", "filename": "src/ci/docker/dist-x86_64-musl/Dockerfile", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-x86_64-musl%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-x86_64-musl%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-x86_64-musl%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -31,7 +31,8 @@ RUN sh /scripts/sccache.sh\n \n ENV RUST_CONFIGURE_ARGS \\\n       --musl-root-x86_64=/musl-x86_64 \\\n-      --enable-extended\n+      --enable-extended \\\n+      --disable-docs\n \n # Newer binutils broke things on some vms/distros (i.e., linking against\n # unknown relocs disabled by the following flag), so we need to go out of our"}, {"sha": "a17a7ebc03dd165f92b588d2bf802d3b5d7ec754", "filename": "src/ci/docker/dist-x86_64-netbsd/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-x86_64-netbsd%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/bd3db2bf2c0833a8dfd9b364cc92acfbd467e418/src%2Fci%2Fdocker%2Fdist-x86_64-netbsd%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-x86_64-netbsd%2FDockerfile?ref=bd3db2bf2c0833a8dfd9b364cc92acfbd467e418", "patch": "@@ -33,5 +33,5 @@ ENV \\\n \n ENV HOSTS=x86_64-unknown-netbsd\n \n-ENV RUST_CONFIGURE_ARGS --enable-extended\n+ENV RUST_CONFIGURE_ARGS --enable-extended --disable-docs\n ENV SCRIPT python2.7 ../x.py dist --host $HOSTS --target $HOSTS"}]}