{"sha": "025d01432fbdbefe24f7d3b4b487d040732f67fa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAyNWQwMTQzMmZiZGJlZmUyNGY3ZDNiNGI0ODdkMDQwNzMyZjY3ZmE=", "commit": {"author": {"name": "Ariel Ben-Yehuda", "email": "ariel.byd@gmail.com", "date": "2018-08-26T12:13:47Z"}, "committer": {"name": "Ariel Ben-Yehuda", "email": "ariel.byd@gmail.com", "date": "2018-08-26T15:48:41Z"}, "message": "use an incremental-fulldeps test instead of a run-make test", "tree": {"sha": "c02373939af461bc1b0b5d735f28320d2bb15c29", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c02373939af461bc1b0b5d735f28320d2bb15c29"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/025d01432fbdbefe24f7d3b4b487d040732f67fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/025d01432fbdbefe24f7d3b4b487d040732f67fa", "html_url": "https://github.com/rust-lang/rust/commit/025d01432fbdbefe24f7d3b4b487d040732f67fa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/025d01432fbdbefe24f7d3b4b487d040732f67fa/comments", "author": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "committer": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5415bb6e8f689393b2f87dc0875bb4048f5f3067", "url": "https://api.github.com/repos/rust-lang/rust/commits/5415bb6e8f689393b2f87dc0875bb4048f5f3067", "html_url": "https://github.com/rust-lang/rust/commit/5415bb6e8f689393b2f87dc0875bb4048f5f3067"}], "stats": {"total": 33, "additions": 15, "deletions": 18}, "files": [{"sha": "763c9eb138e74540922f2f7da79e9c0bed49a4f0", "filename": "src/test/incremental-fulldeps/auxiliary/issue_49482_macro_def.rs", "status": "renamed", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/025d01432fbdbefe24f7d3b4b487d040732f67fa/src%2Ftest%2Fincremental-fulldeps%2Fauxiliary%2Fissue_49482_macro_def.rs", "raw_url": "https://github.com/rust-lang/rust/raw/025d01432fbdbefe24f7d3b4b487d040732f67fa/src%2Ftest%2Fincremental-fulldeps%2Fauxiliary%2Fissue_49482_macro_def.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fincremental-fulldeps%2Fauxiliary%2Fissue_49482_macro_def.rs?ref=025d01432fbdbefe24f7d3b4b487d040732f67fa", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// no-prefer-dynamic\n+\n #![crate_type=\"proc-macro\"]\n #![allow(non_snake_case)]\n ", "previous_filename": "src/test/run-make-fulldeps/issue-49482/macro_def.rs"}, {"sha": "aa9aa3b58b90c277c9f211ab9ed7f925ed808727", "filename": "src/test/incremental-fulldeps/auxiliary/issue_49482_reexport.rs", "status": "renamed", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/025d01432fbdbefe24f7d3b4b487d040732f67fa/src%2Ftest%2Fincremental-fulldeps%2Fauxiliary%2Fissue_49482_reexport.rs", "raw_url": "https://github.com/rust-lang/rust/raw/025d01432fbdbefe24f7d3b4b487d040732f67fa/src%2Ftest%2Fincremental-fulldeps%2Fauxiliary%2Fissue_49482_reexport.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fincremental-fulldeps%2Fauxiliary%2Fissue_49482_reexport.rs?ref=025d01432fbdbefe24f7d3b4b487d040732f67fa", "patch": "@@ -8,9 +8,9 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![crate_type=\"rlib\"]\n-\n #[macro_use]\n-extern crate macro_def;\n+extern crate issue_49482_macro_def;\n+\n+pub use issue_49482_macro_def::*;\n \n-pub use macro_def::*;\n+pub fn foo() {}", "previous_filename": "src/test/run-make-fulldeps/issue-49482/reexport.rs"}, {"sha": "3261b5ae09201070babaf9f1b231de1d2c7f669d", "filename": "src/test/incremental-fulldeps/issue-49482.rs", "status": "renamed", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/025d01432fbdbefe24f7d3b4b487d040732f67fa/src%2Ftest%2Fincremental-fulldeps%2Fissue-49482.rs", "raw_url": "https://github.com/rust-lang/rust/raw/025d01432fbdbefe24f7d3b4b487d040732f67fa/src%2Ftest%2Fincremental-fulldeps%2Fissue-49482.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fincremental-fulldeps%2Fissue-49482.rs?ref=025d01432fbdbefe24f7d3b4b487d040732f67fa", "patch": "@@ -8,7 +8,12 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-extern crate reexport;\n+// aux-build:issue_49482_macro_def.rs\n+// aux-build:issue_49482_reexport.rs\n+// ignore-stage1\n+// revisions: rpass1\n+\n+extern crate issue_49482_reexport;\n \n pub trait KvStorage\n {\n@@ -29,5 +34,8 @@ impl KvStorage for u32 {\n }\n \n fn main() {\n+    /* force issue_49482_reexport to be loaded */\n+    issue_49482_reexport::foo();\n+\n     Box::new(2).get();\n }", "previous_filename": "src/test/run-make-fulldeps/issue-49482/main.rs"}, {"sha": "baf66c9f5d6fd9529b7eafc66017b1d6fe458089", "filename": "src/test/run-make-fulldeps/issue-49482/Makefile", "status": "removed", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/5415bb6e8f689393b2f87dc0875bb4048f5f3067/src%2Ftest%2Frun-make-fulldeps%2Fissue-49482%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/5415bb6e8f689393b2f87dc0875bb4048f5f3067/src%2Ftest%2Frun-make-fulldeps%2Fissue-49482%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fissue-49482%2FMakefile?ref=5415bb6e8f689393b2f87dc0875bb4048f5f3067", "patch": "@@ -1,13 +0,0 @@\n--include ../tools.mk\n-\n-ifeq ($(findstring stage1,$(RUST_BUILD_STAGE)),stage1)\n-# ignore stage1\n-all:\n-\n-else\n-all:\n-\tmkdir $(TMPDIR)/incremental-dir\n-\t$(RUSTC) macro_def.rs\n-\t$(RUSTC) reexport.rs\n-\t$(RUSTC) main.rs -C incremental=$(TMPDIR)/incremental-dir\n-endif"}]}