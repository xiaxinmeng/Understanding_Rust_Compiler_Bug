{"sha": "f935f0cf89f53a9df3a443b9cc09bb1bcc33064b", "node_id": "C_kwDOAAsO6NoAKGY5MzVmMGNmODlmNTNhOWRmM2E0NDNiOWNjMDliYjFiY2MzMzA2NGI", "commit": {"author": {"name": "Caleb Cartwright", "email": "caleb.cartwright@outlook.com", "date": "2021-12-29T01:23:51Z"}, "committer": {"name": "Caleb Cartwright", "email": "calebcartwright@users.noreply.github.com", "date": "2021-12-29T02:25:17Z"}, "message": "feat: support parsing asm! args", "tree": {"sha": "512e603b1fe4d22c50ac2d080ab366f56a271c55", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/512e603b1fe4d22c50ac2d080ab366f56a271c55"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f935f0cf89f53a9df3a443b9cc09bb1bcc33064b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f935f0cf89f53a9df3a443b9cc09bb1bcc33064b", "html_url": "https://github.com/rust-lang/rust/commit/f935f0cf89f53a9df3a443b9cc09bb1bcc33064b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f935f0cf89f53a9df3a443b9cc09bb1bcc33064b/comments", "author": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "committer": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "50bbb43dab5af3b42338bd6a9748da9a27136bf2", "url": "https://api.github.com/repos/rust-lang/rust/commits/50bbb43dab5af3b42338bd6a9748da9a27136bf2", "html_url": "https://github.com/rust-lang/rust/commit/50bbb43dab5af3b42338bd6a9748da9a27136bf2"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "ad23b16e02ec19d11c1e7cacd3ac27e81bc5fd71", "filename": "src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f935f0cf89f53a9df3a443b9cc09bb1bcc33064b/src%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f935f0cf89f53a9df3a443b9cc09bb1bcc33064b/src%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib.rs?ref=f935f0cf89f53a9df3a443b9cc09bb1bcc33064b", "patch": "@@ -15,6 +15,7 @@ extern crate log;\n // N.B. these crates are loaded from the sysroot, so they need extern crate.\n extern crate rustc_ast;\n extern crate rustc_ast_pretty;\n+extern crate rustc_builtin_macros;\n extern crate rustc_data_structures;\n extern crate rustc_errors;\n extern crate rustc_expand;"}, {"sha": "cc9fb5072ce1eada112c9c5238072b2e95f6edd2", "filename": "src/parse/macros/asm.rs", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/f935f0cf89f53a9df3a443b9cc09bb1bcc33064b/src%2Fparse%2Fmacros%2Fasm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f935f0cf89f53a9df3a443b9cc09bb1bcc33064b/src%2Fparse%2Fmacros%2Fasm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparse%2Fmacros%2Fasm.rs?ref=f935f0cf89f53a9df3a443b9cc09bb1bcc33064b", "patch": "@@ -0,0 +1,11 @@\n+use rustc_ast::ast;\n+use rustc_builtin_macros::asm::{parse_asm_args, AsmArgs};\n+\n+use crate::rewrite::RewriteContext;\n+\n+#[allow(dead_code)]\n+pub(crate) fn parse_asm(context: &RewriteContext<'_>, mac: &ast::MacCall) -> Option<AsmArgs> {\n+    let ts = mac.args.inner_tokens();\n+    let mut parser = super::build_parser(context, ts);\n+    parse_asm_args(&mut parser, context.parse_sess.inner(), mac.span(), false).ok()\n+}"}, {"sha": "2e9ce1d35f4003bdffadd9f3976c7d2177ebf0b3", "filename": "src/parse/macros/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f935f0cf89f53a9df3a443b9cc09bb1bcc33064b/src%2Fparse%2Fmacros%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f935f0cf89f53a9df3a443b9cc09bb1bcc33064b/src%2Fparse%2Fmacros%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparse%2Fmacros%2Fmod.rs?ref=f935f0cf89f53a9df3a443b9cc09bb1bcc33064b", "patch": "@@ -10,6 +10,7 @@ use rustc_span::Symbol;\n use crate::macros::MacroArg;\n use crate::rewrite::RewriteContext;\n \n+pub(crate) mod asm;\n pub(crate) mod cfg_if;\n pub(crate) mod lazy_static;\n "}]}