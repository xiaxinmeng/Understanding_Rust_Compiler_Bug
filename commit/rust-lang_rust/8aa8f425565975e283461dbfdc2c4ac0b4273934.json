{"sha": "8aa8f425565975e283461dbfdc2c4ac0b4273934", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhhYThmNDI1NTY1OTc1ZTI4MzQ2MWRiZmRjMmM0YWMwYjQyNzM5MzQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-05-31T14:26:03Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-05-31T14:26:03Z"}, "message": "Auto merge of #5667 - djugei:master, r=flip1995\n\nmoved cast_ptr_alignment to pedantic and expanded documentation\n\nfixes: #5618\nchangelog: cast_ptr_alignment moved to pedantic", "tree": {"sha": "f088873f9d78252cc741040f7797e2d834c4d7d0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f088873f9d78252cc741040f7797e2d834c4d7d0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8aa8f425565975e283461dbfdc2c4ac0b4273934", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8aa8f425565975e283461dbfdc2c4ac0b4273934", "html_url": "https://github.com/rust-lang/rust/commit/8aa8f425565975e283461dbfdc2c4ac0b4273934", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8aa8f425565975e283461dbfdc2c4ac0b4273934/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b191b5a6ead811e6d42b55c5695b6dda71aca90", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b191b5a6ead811e6d42b55c5695b6dda71aca90", "html_url": "https://github.com/rust-lang/rust/commit/8b191b5a6ead811e6d42b55c5695b6dda71aca90"}, {"sha": "18b5ceed7991e3d8616b74b42de26330ca4c40db", "url": "https://api.github.com/repos/rust-lang/rust/commits/18b5ceed7991e3d8616b74b42de26330ca4c40db", "html_url": "https://github.com/rust-lang/rust/commit/18b5ceed7991e3d8616b74b42de26330ca4c40db"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "38cfa212d9f483ed2a1898da0dd9e3c5f636c080", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/8aa8f425565975e283461dbfdc2c4ac0b4273934/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8aa8f425565975e283461dbfdc2c4ac0b4273934/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=8aa8f425565975e283461dbfdc2c4ac0b4273934", "patch": "@@ -1167,6 +1167,7 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&types::CAST_POSSIBLE_TRUNCATION),\n         LintId::of(&types::CAST_POSSIBLE_WRAP),\n         LintId::of(&types::CAST_PRECISION_LOSS),\n+        LintId::of(&types::CAST_PTR_ALIGNMENT),\n         LintId::of(&types::CAST_SIGN_LOSS),\n         LintId::of(&types::IMPLICIT_HASHER),\n         LintId::of(&types::INVALID_UPCAST_COMPARISONS),\n@@ -1413,7 +1414,6 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&types::ABSURD_EXTREME_COMPARISONS),\n         LintId::of(&types::BORROWED_BOX),\n         LintId::of(&types::BOX_VEC),\n-        LintId::of(&types::CAST_PTR_ALIGNMENT),\n         LintId::of(&types::CAST_REF_TO_MUT),\n         LintId::of(&types::CHAR_LIT_AS_U8),\n         LintId::of(&types::FN_TO_NUMERIC_CAST),\n@@ -1673,7 +1673,6 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&transmute::WRONG_TRANSMUTE),\n         LintId::of(&transmuting_null::TRANSMUTING_NULL),\n         LintId::of(&types::ABSURD_EXTREME_COMPARISONS),\n-        LintId::of(&types::CAST_PTR_ALIGNMENT),\n         LintId::of(&types::CAST_REF_TO_MUT),\n         LintId::of(&types::UNIT_CMP),\n         LintId::of(&unicode::ZERO_WIDTH_SPACE),"}, {"sha": "3ac99e2468411885b1d783443862490f25c1dfec", "filename": "clippy_lints/src/types.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/8aa8f425565975e283461dbfdc2c4ac0b4273934/clippy_lints%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8aa8f425565975e283461dbfdc2c4ac0b4273934/clippy_lints%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes.rs?ref=8aa8f425565975e283461dbfdc2c4ac0b4273934", "patch": "@@ -974,15 +974,16 @@ declare_clippy_lint! {\n     /// behavior.\n     ///\n     /// **Known problems:** Using `std::ptr::read_unaligned` and `std::ptr::write_unaligned` or similar\n-    /// on the resulting pointer is fine.\n+    /// on the resulting pointer is fine. Is over-zealous: Casts with manual alignment checks or casts like\n+    /// u64-> u8 -> u16 can be fine. Miri is able to do a more in-depth analysis.\n     ///\n     /// **Example:**\n     /// ```rust\n     /// let _ = (&1u8 as *const u8) as *const u16;\n     /// let _ = (&mut 1u8 as *mut u8) as *mut u16;\n     /// ```\n     pub CAST_PTR_ALIGNMENT,\n-    correctness,\n+    pedantic,\n     \"cast from a pointer to a more-strictly-aligned pointer\"\n }\n "}, {"sha": "69578732898fc9da3c62e95281a35b0bc9909c91", "filename": "src/lintlist/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8aa8f425565975e283461dbfdc2c4ac0b4273934/src%2Flintlist%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8aa8f425565975e283461dbfdc2c4ac0b4273934/src%2Flintlist%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flintlist%2Fmod.rs?ref=8aa8f425565975e283461dbfdc2c4ac0b4273934", "patch": "@@ -166,7 +166,7 @@ pub static ref ALL_LINTS: Vec<Lint> = vec![\n     },\n     Lint {\n         name: \"cast_ptr_alignment\",\n-        group: \"correctness\",\n+        group: \"pedantic\",\n         desc: \"cast from a pointer to a more-strictly-aligned pointer\",\n         deprecation: None,\n         module: \"types\","}]}