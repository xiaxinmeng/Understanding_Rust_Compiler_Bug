{"sha": "137eea86db9abc255ceb5de167c5f4d7ee53846e", "node_id": "C_kwDOAAsO6NoAKDEzN2VlYTg2ZGI5YWJjMjU1Y2ViNWRlMTY3YzVmNGQ3ZWU1Mzg0NmU", "commit": {"author": {"name": "Urgau", "email": "urgau@numericable.fr", "date": "2022-09-01T14:22:30Z"}, "committer": {"name": "Urgau", "email": "urgau@numericable.fr", "date": "2022-09-02T10:49:07Z"}, "message": "Make CrateConfig make order depended for linting purpose", "tree": {"sha": "79a9f65b484c36b3b98f4b661635dd5daf874fe8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/79a9f65b484c36b3b98f4b661635dd5daf874fe8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/137eea86db9abc255ceb5de167c5f4d7ee53846e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/137eea86db9abc255ceb5de167c5f4d7ee53846e", "html_url": "https://github.com/rust-lang/rust/commit/137eea86db9abc255ceb5de167c5f4d7ee53846e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/137eea86db9abc255ceb5de167c5f4d7ee53846e/comments", "author": {"login": "Urgau", "id": 3616612, "node_id": "MDQ6VXNlcjM2MTY2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3616612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Urgau", "html_url": "https://github.com/Urgau", "followers_url": "https://api.github.com/users/Urgau/followers", "following_url": "https://api.github.com/users/Urgau/following{/other_user}", "gists_url": "https://api.github.com/users/Urgau/gists{/gist_id}", "starred_url": "https://api.github.com/users/Urgau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Urgau/subscriptions", "organizations_url": "https://api.github.com/users/Urgau/orgs", "repos_url": "https://api.github.com/users/Urgau/repos", "events_url": "https://api.github.com/users/Urgau/events{/privacy}", "received_events_url": "https://api.github.com/users/Urgau/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Urgau", "id": 3616612, "node_id": "MDQ6VXNlcjM2MTY2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3616612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Urgau", "html_url": "https://github.com/Urgau", "followers_url": "https://api.github.com/users/Urgau/followers", "following_url": "https://api.github.com/users/Urgau/following{/other_user}", "gists_url": "https://api.github.com/users/Urgau/gists{/gist_id}", "starred_url": "https://api.github.com/users/Urgau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Urgau/subscriptions", "organizations_url": "https://api.github.com/users/Urgau/orgs", "repos_url": "https://api.github.com/users/Urgau/repos", "events_url": "https://api.github.com/users/Urgau/events{/privacy}", "received_events_url": "https://api.github.com/users/Urgau/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b10aed0084e3fb32b365dba06a1b644c3b0f438b", "url": "https://api.github.com/repos/rust-lang/rust/commits/b10aed0084e3fb32b365dba06a1b644c3b0f438b", "html_url": "https://github.com/rust-lang/rust/commit/b10aed0084e3fb32b365dba06a1b644c3b0f438b"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "7528c27ce482177b8e56fd8c72ee53f9b61e4409", "filename": "compiler/rustc_session/src/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/137eea86db9abc255ceb5de167c5f4d7ee53846e/compiler%2Frustc_session%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/137eea86db9abc255ceb5de167c5f4d7ee53846e/compiler%2Frustc_session%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_session%2Fsrc%2Fconfig.rs?ref=137eea86db9abc255ceb5de167c5f4d7ee53846e", "patch": "@@ -891,7 +891,7 @@ fn default_configuration(sess: &Session) -> CrateConfig {\n         sess.fatal(&err);\n     });\n \n-    let mut ret = FxHashSet::default();\n+    let mut ret = CrateConfig::default();\n     ret.reserve(7); // the minimum number of insertions\n     // Target bindings.\n     ret.insert((sym::target_os, Some(Symbol::intern(os))));"}, {"sha": "5b95d73bd4d3810f1486f949b29a76958d46810c", "filename": "compiler/rustc_session/src/parse.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/137eea86db9abc255ceb5de167c5f4d7ee53846e/compiler%2Frustc_session%2Fsrc%2Fparse.rs", "raw_url": "https://github.com/rust-lang/rust/raw/137eea86db9abc255ceb5de167c5f4d7ee53846e/compiler%2Frustc_session%2Fsrc%2Fparse.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_session%2Fsrc%2Fparse.rs?ref=137eea86db9abc255ceb5de167c5f4d7ee53846e", "patch": "@@ -8,7 +8,7 @@ use crate::lint::{\n };\n use crate::SessionDiagnostic;\n use rustc_ast::node_id::NodeId;\n-use rustc_data_structures::fx::{FxHashMap, FxHashSet};\n+use rustc_data_structures::fx::{FxHashMap, FxHashSet, FxIndexSet};\n use rustc_data_structures::sync::{Lock, Lrc};\n use rustc_errors::{emitter::SilentEmitter, ColorConfig, Handler};\n use rustc_errors::{\n@@ -25,7 +25,7 @@ use std::str;\n \n /// The set of keys (and, optionally, values) that define the compilation\n /// environment of the crate, used to drive conditional compilation.\n-pub type CrateConfig = FxHashSet<(Symbol, Option<Symbol>)>;\n+pub type CrateConfig = FxIndexSet<(Symbol, Option<Symbol>)>;\n pub type CrateCheckConfig = CheckCfg<Symbol>;\n \n /// Collected spans during parsing for places where a certain feature was\n@@ -241,7 +241,7 @@ impl ParseSess {\n         Self {\n             span_diagnostic: handler,\n             unstable_features: UnstableFeatures::from_environment(None),\n-            config: FxHashSet::default(),\n+            config: FxIndexSet::default(),\n             check_config: CrateCheckConfig::default(),\n             edition: ExpnId::root().expn_data().edition,\n             raw_identifier_spans: Lock::new(Vec::new()),"}]}