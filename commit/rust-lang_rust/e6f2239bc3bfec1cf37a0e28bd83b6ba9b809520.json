{"sha": "e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU2ZjIyMzliYzNiZmVjMWNmMzdhMGUyOGJkODNiNmJhOWI4MDk1MjA=", "commit": {"author": {"name": "daxpedda", "email": "daxpedda@users.noreply.github.com", "date": "2019-01-22T14:16:54Z"}, "committer": {"name": "daxpedda", "email": "daxpedda@users.noreply.github.com", "date": "2019-01-22T14:16:54Z"}, "message": "Added rustfix to the test.", "tree": {"sha": "d3e45adc982549451e3e213e6392bcf16282feb9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d3e45adc982549451e3e213e6392bcf16282feb9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJWBAABCABAFiEEtfVYniVMfR+YKQUSxyLctqGR7qsFAlxHJdsiHGRheHBlZGRh\nQHVzZXJzLm5vcmVwbHkuZ2l0aHViLmNvbQAKCRDHIty2oZHuq5T1D/0aPcB30tE/\nVFyNftVq3hAPEHZEmGEnQflVGrw+H/I23uUnP9Az3UXwXrms2QiAhriennByVSsZ\n9IpM6E3EQmWJMrZJ4aWDz+Gj9LJD23fNvNewRWR73B8/tS+KTMixqjQpUEuppNTU\nXNzjaHadA7crteVRQlCfF3t3NVm+uWbgIMkilxF+raJd5D4CB1rxJ7zCOxy8r51e\no2yYzfHkFvG2TpKfyTUVtagLxwGyVdlowFW75fvw6Sk6GpCbdWmjZp2VAUFx7J/O\nfXf1pSel3oiG0UA+XXEWLBInwmr9JXTjcEaqkOrje+/+usy4B59wKmpHGldcGd+s\nfAPbSLPXwzEpcwgzB7mhzJ+3627SCG1k+UFgGIYubly+nGCBemggbdCYqhXNb1W1\nqYjYi7R3GJgDTsQuU7fjHsgE0CmAq+qRZSQIzKUUm/yCUgDTuZhA+euuvUxiwm5y\n5/kq0kqGvoPByX1p3AauDHR1qvc06QVHu3FLUJCKp/+/pqFJwstdSQlLJxbS1DFs\ngB8RHX/A5A2GUTsbP7rssreMrx0Pwb8Re4QS1HXkBhtejjyZZQFXoArS1a7YJjVC\n0wFG92RGRgw+oYIBq2R00EkcyWdOCqb3g+RewzXZqgRtIEIhas663EJ00/Ca9x2h\n1bdt1duXx53HxtR/i3IbXg7I67sI8KlKJg==\n=04ik\n-----END PGP SIGNATURE-----", "payload": "tree d3e45adc982549451e3e213e6392bcf16282feb9\nparent e70f9456fcc2cafae9a94611e0e0dd6bc2fa6cb9\nauthor daxpedda <daxpedda@users.noreply.github.com> 1548166614 +0100\ncommitter daxpedda <daxpedda@users.noreply.github.com> 1548166614 +0100\n\nAdded rustfix to the test.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520", "html_url": "https://github.com/rust-lang/rust/commit/e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520/comments", "author": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "committer": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e70f9456fcc2cafae9a94611e0e0dd6bc2fa6cb9", "url": "https://api.github.com/repos/rust-lang/rust/commits/e70f9456fcc2cafae9a94611e0e0dd6bc2fa6cb9", "html_url": "https://github.com/rust-lang/rust/commit/e70f9456fcc2cafae9a94611e0e0dd6bc2fa6cb9"}], "stats": {"total": 362, "additions": 332, "deletions": 30}, "files": [{"sha": "5eae9a7a8069dba541cfe9b18d19e66706efc703", "filename": "tests/ui/use_self.fixed", "status": "added", "additions": 299, "deletions": 0, "changes": 299, "blob_url": "https://github.com/rust-lang/rust/blob/e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520/tests%2Fui%2Fuse_self.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520/tests%2Fui%2Fuse_self.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fuse_self.fixed?ref=e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520", "patch": "@@ -0,0 +1,299 @@\n+// run-rustfix\n+\n+#![warn(clippy::use_self)]\n+#![allow(dead_code)]\n+#![allow(clippy::should_implement_trait)]\n+\n+fn main() {}\n+\n+mod use_self {\n+    struct Foo {}\n+\n+    impl Foo {\n+        fn new() -> Self {\n+            Self {}\n+        }\n+        fn test() -> Self {\n+            Self::new()\n+        }\n+    }\n+\n+    impl Default for Foo {\n+        fn default() -> Self {\n+            Self::new()\n+        }\n+    }\n+}\n+\n+mod better {\n+    struct Foo {}\n+\n+    impl Foo {\n+        fn new() -> Self {\n+            Self {}\n+        }\n+        fn test() -> Self {\n+            Self::new()\n+        }\n+    }\n+\n+    impl Default for Foo {\n+        fn default() -> Self {\n+            Self::new()\n+        }\n+    }\n+}\n+\n+mod lifetimes {\n+    struct Foo<'a> {\n+        foo_str: &'a str,\n+    }\n+\n+    impl<'a> Foo<'a> {\n+        // Cannot use `Self` as return type, because the function is actually `fn foo<'b>(s: &'b str) ->\n+        // Foo<'b>`\n+        fn foo(s: &str) -> Foo {\n+            Foo { foo_str: s }\n+        }\n+        // cannot replace with `Self`, because that's `Foo<'a>`\n+        fn bar() -> Foo<'static> {\n+            Foo { foo_str: \"foo\" }\n+        }\n+\n+        // FIXME: the lint does not handle lifetimed struct\n+        // `Self` should be applicable here\n+        fn clone(&self) -> Foo<'a> {\n+            Foo { foo_str: self.foo_str }\n+        }\n+    }\n+}\n+\n+#[allow(clippy::boxed_local)]\n+mod traits {\n+\n+    use std::ops::Mul;\n+\n+    trait SelfTrait {\n+        fn refs(p1: &Self) -> &Self;\n+        fn ref_refs<'a>(p1: &'a &'a Self) -> &'a &'a Self;\n+        fn mut_refs(p1: &mut Self) -> &mut Self;\n+        fn nested(p1: Box<Self>, p2: (&u8, &Self));\n+        fn vals(r: Self) -> Self;\n+    }\n+\n+    #[derive(Default)]\n+    struct Bad;\n+\n+    impl SelfTrait for Bad {\n+        fn refs(p1: &Self) -> &Self {\n+            p1\n+        }\n+\n+        fn ref_refs<'a>(p1: &'a &'a Self) -> &'a &'a Self {\n+            p1\n+        }\n+\n+        fn mut_refs(p1: &mut Self) -> &mut Self {\n+            p1\n+        }\n+\n+        fn nested(_p1: Box<Self>, _p2: (&u8, &Self)) {}\n+\n+        fn vals(_: Self) -> Self {\n+            Self::default()\n+        }\n+    }\n+\n+    impl Mul for Bad {\n+        type Output = Self;\n+\n+        fn mul(self, rhs: Self) -> Self {\n+            rhs\n+        }\n+    }\n+\n+    #[derive(Default)]\n+    struct Good;\n+\n+    impl SelfTrait for Good {\n+        fn refs(p1: &Self) -> &Self {\n+            p1\n+        }\n+\n+        fn ref_refs<'a>(p1: &'a &'a Self) -> &'a &'a Self {\n+            p1\n+        }\n+\n+        fn mut_refs(p1: &mut Self) -> &mut Self {\n+            p1\n+        }\n+\n+        fn nested(_p1: Box<Self>, _p2: (&u8, &Self)) {}\n+\n+        fn vals(_: Self) -> Self {\n+            Self::default()\n+        }\n+    }\n+\n+    impl Mul for Good {\n+        type Output = Self;\n+\n+        fn mul(self, rhs: Self) -> Self {\n+            rhs\n+        }\n+    }\n+\n+    trait NameTrait {\n+        fn refs(p1: &u8) -> &u8;\n+        fn ref_refs<'a>(p1: &'a &'a u8) -> &'a &'a u8;\n+        fn mut_refs(p1: &mut u8) -> &mut u8;\n+        fn nested(p1: Box<u8>, p2: (&u8, &u8));\n+        fn vals(p1: u8) -> u8;\n+    }\n+\n+    // Using `Self` instead of the type name is OK\n+    impl NameTrait for u8 {\n+        fn refs(p1: &Self) -> &Self {\n+            p1\n+        }\n+\n+        fn ref_refs<'a>(p1: &'a &'a Self) -> &'a &'a Self {\n+            p1\n+        }\n+\n+        fn mut_refs(p1: &mut Self) -> &mut Self {\n+            p1\n+        }\n+\n+        fn nested(_p1: Box<Self>, _p2: (&Self, &Self)) {}\n+\n+        fn vals(_: Self) -> Self {\n+            Self::default()\n+        }\n+    }\n+\n+    // Check that self arg isn't linted\n+    impl Clone for Good {\n+        fn clone(&self) -> Self {\n+            // Note: Not linted and it wouldn't be valid\n+            // because \"can't use `Self` as a constructor`\"\n+            Good\n+        }\n+    }\n+}\n+\n+mod issue2894 {\n+    trait IntoBytes {\n+        fn into_bytes(&self) -> Vec<u8>;\n+    }\n+\n+    // This should not be linted\n+    impl IntoBytes for u8 {\n+        fn into_bytes(&self) -> Vec<u8> {\n+            vec![*self]\n+        }\n+    }\n+}\n+\n+mod existential {\n+    struct Foo;\n+\n+    impl Foo {\n+        fn bad(foos: &[Self]) -> impl Iterator<Item = &Self> {\n+            foos.iter()\n+        }\n+\n+        fn good(foos: &[Self]) -> impl Iterator<Item = &Self> {\n+            foos.iter()\n+        }\n+    }\n+}\n+\n+mod tuple_structs {\n+    pub struct TS(i32);\n+\n+    impl TS {\n+        pub fn ts() -> Self {\n+            Self(0)\n+        }\n+    }\n+}\n+\n+mod macros {\n+    macro_rules! use_self_expand {\n+        () => {\n+            fn new() -> Self {\n+                Self {}\n+            }\n+        };\n+    }\n+\n+    struct Foo {}\n+\n+    impl Foo {\n+        use_self_expand!(); // Should lint in local macros\n+    }\n+}\n+\n+mod nesting {\n+    struct Foo {}\n+    impl Foo {\n+        fn foo() {\n+            use self::Foo; // Can't use Self here\n+            struct Bar {\n+                foo: Foo, // Foo != Self\n+            }\n+\n+            impl Bar {\n+                fn bar() -> Self {\n+                    Self { foo: Foo {} }\n+                }\n+            }\n+        }\n+    }\n+\n+    enum Enum {\n+        A,\n+    }\n+    impl Enum {\n+        fn method() {\n+            #[allow(unused_imports)]\n+            use self::Enum::*; // Issue 3425\n+            static STATIC: Enum = Enum::A; // Can't use Self as type\n+        }\n+    }\n+}\n+\n+mod issue3410 {\n+\n+    struct A;\n+    struct B;\n+\n+    trait Trait<T> {\n+        fn a(v: T);\n+    }\n+\n+    impl Trait<Vec<A>> for Vec<B> {\n+        fn a(_: Vec<A>) {}\n+    }\n+}\n+\n+#[allow(clippy::no_effect, path_statements)]\n+mod rustfix {\n+    mod nested {\n+        pub struct A {}\n+    }\n+\n+    impl nested::A {\n+        const A: bool = true;\n+\n+        fn fun_1() {}\n+\n+        fn fun_2() {\n+            Self::fun_1();\n+            Self::A;\n+\n+            Self {};\n+        }\n+    }\n+}"}, {"sha": "8e28bbbeb9c6634638175eabe55c70377c50b630", "filename": "tests/ui/use_self.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520/tests%2Fui%2Fuse_self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520/tests%2Fui%2Fuse_self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fuse_self.rs?ref=e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520", "patch": "@@ -1,3 +1,5 @@\n+// run-rustfix\n+\n #![warn(clippy::use_self)]\n #![allow(dead_code)]\n #![allow(clippy::should_implement_trait)]\n@@ -255,6 +257,7 @@ mod nesting {\n     }\n     impl Enum {\n         fn method() {\n+            #[allow(unused_imports)]\n             use self::Enum::*; // Issue 3425\n             static STATIC: Enum = Enum::A; // Can't use Self as type\n         }\n@@ -275,7 +278,7 @@ mod issue3410 {\n     }\n }\n \n-#[allow(clippy::no_effect)]\n+#[allow(clippy::no_effect, path_statements)]\n mod rustfix {\n     mod nested {\n         pub struct A {}"}, {"sha": "af9e15edb6cfcff0cbd565e1de46ee331bf4fe5b", "filename": "tests/ui/use_self.stderr", "status": "modified", "additions": 29, "deletions": 29, "changes": 58, "blob_url": "https://github.com/rust-lang/rust/blob/e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520/tests%2Fui%2Fuse_self.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520/tests%2Fui%2Fuse_self.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fuse_self.stderr?ref=e6f2239bc3bfec1cf37a0e28bd83b6ba9b809520", "patch": "@@ -1,139 +1,139 @@\n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:11:21\n+  --> $DIR/use_self.rs:13:21\n    |\n LL |         fn new() -> Foo {\n    |                     ^^^ help: use the applicable keyword: `Self`\n    |\n    = note: `-D clippy::use-self` implied by `-D warnings`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:12:13\n+  --> $DIR/use_self.rs:14:13\n    |\n LL |             Foo {}\n    |             ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:14:22\n+  --> $DIR/use_self.rs:16:22\n    |\n LL |         fn test() -> Foo {\n    |                      ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:15:13\n+  --> $DIR/use_self.rs:17:13\n    |\n LL |             Foo::new()\n    |             ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:20:25\n+  --> $DIR/use_self.rs:22:25\n    |\n LL |         fn default() -> Foo {\n    |                         ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:21:13\n+  --> $DIR/use_self.rs:23:13\n    |\n LL |             Foo::new()\n    |             ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:86:22\n+  --> $DIR/use_self.rs:88:22\n    |\n LL |         fn refs(p1: &Bad) -> &Bad {\n    |                      ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:86:31\n+  --> $DIR/use_self.rs:88:31\n    |\n LL |         fn refs(p1: &Bad) -> &Bad {\n    |                               ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:90:37\n+  --> $DIR/use_self.rs:92:37\n    |\n LL |         fn ref_refs<'a>(p1: &'a &'a Bad) -> &'a &'a Bad {\n    |                                     ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:90:53\n+  --> $DIR/use_self.rs:92:53\n    |\n LL |         fn ref_refs<'a>(p1: &'a &'a Bad) -> &'a &'a Bad {\n    |                                                     ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:94:30\n+  --> $DIR/use_self.rs:96:30\n    |\n LL |         fn mut_refs(p1: &mut Bad) -> &mut Bad {\n    |                              ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:94:43\n+  --> $DIR/use_self.rs:96:43\n    |\n LL |         fn mut_refs(p1: &mut Bad) -> &mut Bad {\n    |                                           ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:98:28\n+  --> $DIR/use_self.rs:100:28\n    |\n LL |         fn nested(_p1: Box<Bad>, _p2: (&u8, &Bad)) {}\n    |                            ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:98:46\n+  --> $DIR/use_self.rs:100:46\n    |\n LL |         fn nested(_p1: Box<Bad>, _p2: (&u8, &Bad)) {}\n    |                                              ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:100:20\n+  --> $DIR/use_self.rs:102:20\n    |\n LL |         fn vals(_: Bad) -> Bad {\n    |                    ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:100:28\n+  --> $DIR/use_self.rs:102:28\n    |\n LL |         fn vals(_: Bad) -> Bad {\n    |                            ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:101:13\n+  --> $DIR/use_self.rs:103:13\n    |\n LL |             Bad::default()\n    |             ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:106:23\n+  --> $DIR/use_self.rs:108:23\n    |\n LL |         type Output = Bad;\n    |                       ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:108:27\n+  --> $DIR/use_self.rs:110:27\n    |\n LL |         fn mul(self, rhs: Bad) -> Bad {\n    |                           ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:108:35\n+  --> $DIR/use_self.rs:110:35\n    |\n LL |         fn mul(self, rhs: Bad) -> Bad {\n    |                                   ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:200:56\n+  --> $DIR/use_self.rs:202:56\n    |\n LL |         fn bad(foos: &[Self]) -> impl Iterator<Item = &Foo> {\n    |                                                        ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:215:13\n+  --> $DIR/use_self.rs:217:13\n    |\n LL |             TS(0)\n    |             ^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:223:25\n+  --> $DIR/use_self.rs:225:25\n    |\n LL |             fn new() -> Foo {\n    |                         ^^^ help: use the applicable keyword: `Self`\n@@ -142,7 +142,7 @@ LL |         use_self_expand!(); // Should lint in local macros\n    |         ------------------- in this macro invocation\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:224:17\n+  --> $DIR/use_self.rs:226:17\n    |\n LL |                 Foo {}\n    |                 ^^^ help: use the applicable keyword: `Self`\n@@ -151,31 +151,31 @@ LL |         use_self_expand!(); // Should lint in local macros\n    |         ------------------- in this macro invocation\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:246:29\n+  --> $DIR/use_self.rs:248:29\n    |\n LL |                 fn bar() -> Bar {\n    |                             ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:247:21\n+  --> $DIR/use_self.rs:249:21\n    |\n LL |                     Bar { foo: Foo {} }\n    |                     ^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:290:13\n+  --> $DIR/use_self.rs:293:13\n    |\n LL |             nested::A::fun_1();\n    |             ^^^^^^^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:291:13\n+  --> $DIR/use_self.rs:294:13\n    |\n LL |             nested::A::A;\n    |             ^^^^^^^^^ help: use the applicable keyword: `Self`\n \n error: unnecessary structure name repetition\n-  --> $DIR/use_self.rs:293:13\n+  --> $DIR/use_self.rs:296:13\n    |\n LL |             nested::A {};\n    |             ^^^^^^^^^ help: use the applicable keyword: `Self`"}]}