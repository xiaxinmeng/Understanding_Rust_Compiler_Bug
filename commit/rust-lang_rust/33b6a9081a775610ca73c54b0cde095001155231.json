{"sha": "33b6a9081a775610ca73c54b0cde095001155231", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMzYjZhOTA4MWE3NzU2MTBjYTczYzU0YjBjZGUwOTUwMDExNTUyMzE=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2020-08-19T11:51:49Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2020-08-19T11:56:54Z"}, "message": "Add workaround for rust-lang/rust#74946\n\nFixes #1072", "tree": {"sha": "7aae658f64dcec0a864385992186be3d6d7f0a94", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7aae658f64dcec0a864385992186be3d6d7f0a94"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/33b6a9081a775610ca73c54b0cde095001155231", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/33b6a9081a775610ca73c54b0cde095001155231", "html_url": "https://github.com/rust-lang/rust/commit/33b6a9081a775610ca73c54b0cde095001155231", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/33b6a9081a775610ca73c54b0cde095001155231/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7e203efce89cddf1644f5f2a65ab75df60fff00f", "url": "https://api.github.com/repos/rust-lang/rust/commits/7e203efce89cddf1644f5f2a65ab75df60fff00f", "html_url": "https://github.com/rust-lang/rust/commit/7e203efce89cddf1644f5f2a65ab75df60fff00f"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "b4b7c5e5e01e8ec6dd0924519c34d9cfe15705ae", "filename": "build_sysroot/build_sysroot.sh", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/33b6a9081a775610ca73c54b0cde095001155231/build_sysroot%2Fbuild_sysroot.sh", "raw_url": "https://github.com/rust-lang/rust/raw/33b6a9081a775610ca73c54b0cde095001155231/build_sysroot%2Fbuild_sysroot.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/build_sysroot%2Fbuild_sysroot.sh?ref=33b6a9081a775610ca73c54b0cde095001155231", "patch": "@@ -18,7 +18,8 @@ rm -r sysroot/ 2>/dev/null || true\n export RUSTFLAGS=\"$RUSTFLAGS -Z force-unstable-if-unmarked\"\n if [[ \"$1\" == \"--release\" ]]; then\n     sysroot_channel='release'\n-    RUSTFLAGS=\"$RUSTFLAGS -Zmir-opt-level=2\" cargo build --target $TARGET_TRIPLE --release\n+    # FIXME Enable incremental again once rust-lang/rust#74946 is fixed\n+    CARGO_INCREMENTAL=0 RUSTFLAGS=\"$RUSTFLAGS -Zmir-opt-level=2\" cargo build --target $TARGET_TRIPLE --release\n else\n     sysroot_channel='debug'\n     cargo build --target $TARGET_TRIPLE"}]}