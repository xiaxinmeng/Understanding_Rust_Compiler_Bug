{"sha": "e4549d5526b8626f1060c346eaf30ef776ecfcf5", "node_id": "C_kwDOAAsO6NoAKGU0NTQ5ZDU1MjZiODYyNmYxMDYwYzM0NmVhZjMwZWY3NzZlY2ZjZjU", "commit": {"author": {"name": "Anirudh", "email": "anirudh24seven@gmail.com", "date": "2022-10-02T23:17:14Z"}, "committer": {"name": "Anirudh", "email": "anirudh24seven@gmail.com", "date": "2022-10-02T23:19:36Z"}, "message": "Improve readability of bootstrap's README by adding commas and minor changes\n\n(cherry picked from commit e5e4b85feba6463310d0fc0c27e8ff38891efac3)", "tree": {"sha": "7686ee06b9a4a7d740b0b18b5e1250d3d022714a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7686ee06b9a4a7d740b0b18b5e1250d3d022714a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e4549d5526b8626f1060c346eaf30ef776ecfcf5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e4549d5526b8626f1060c346eaf30ef776ecfcf5", "html_url": "https://github.com/rust-lang/rust/commit/e4549d5526b8626f1060c346eaf30ef776ecfcf5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e4549d5526b8626f1060c346eaf30ef776ecfcf5/comments", "author": {"login": "anirudh24seven", "id": 617443, "node_id": "MDQ6VXNlcjYxNzQ0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/617443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anirudh24seven", "html_url": "https://github.com/anirudh24seven", "followers_url": "https://api.github.com/users/anirudh24seven/followers", "following_url": "https://api.github.com/users/anirudh24seven/following{/other_user}", "gists_url": "https://api.github.com/users/anirudh24seven/gists{/gist_id}", "starred_url": "https://api.github.com/users/anirudh24seven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anirudh24seven/subscriptions", "organizations_url": "https://api.github.com/users/anirudh24seven/orgs", "repos_url": "https://api.github.com/users/anirudh24seven/repos", "events_url": "https://api.github.com/users/anirudh24seven/events{/privacy}", "received_events_url": "https://api.github.com/users/anirudh24seven/received_events", "type": "User", "site_admin": false}, "committer": {"login": "anirudh24seven", "id": 617443, "node_id": "MDQ6VXNlcjYxNzQ0Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/617443?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anirudh24seven", "html_url": "https://github.com/anirudh24seven", "followers_url": "https://api.github.com/users/anirudh24seven/followers", "following_url": "https://api.github.com/users/anirudh24seven/following{/other_user}", "gists_url": "https://api.github.com/users/anirudh24seven/gists{/gist_id}", "starred_url": "https://api.github.com/users/anirudh24seven/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anirudh24seven/subscriptions", "organizations_url": "https://api.github.com/users/anirudh24seven/orgs", "repos_url": "https://api.github.com/users/anirudh24seven/repos", "events_url": "https://api.github.com/users/anirudh24seven/events{/privacy}", "received_events_url": "https://api.github.com/users/anirudh24seven/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a8a847e30d206f5ff913c5286f92bce427f0f7f3", "url": "https://api.github.com/repos/rust-lang/rust/commits/a8a847e30d206f5ff913c5286f92bce427f0f7f3", "html_url": "https://github.com/rust-lang/rust/commit/a8a847e30d206f5ff913c5286f92bce427f0f7f3"}], "stats": {"total": 64, "additions": 32, "deletions": 32}, "files": [{"sha": "54b2d1b4bef7644b94f9f26744d8fcea7458c05d", "filename": "src/bootstrap/README.md", "status": "modified", "additions": 32, "deletions": 32, "changes": 64, "blob_url": "https://github.com/rust-lang/rust/blob/e4549d5526b8626f1060c346eaf30ef776ecfcf5/src%2Fbootstrap%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/e4549d5526b8626f1060c346eaf30ef776ecfcf5/src%2Fbootstrap%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2FREADME.md?ref=e4549d5526b8626f1060c346eaf30ef776ecfcf5", "patch": "@@ -1,7 +1,7 @@\n # rustbuild - Bootstrapping Rust\n \n This is an in-progress README which is targeted at helping to explain how Rust\n-is bootstrapped and in general some of the technical details of the build\n+is bootstrapped and in general, some of the technical details of the build\n system.\n \n ## Using rustbuild\n@@ -12,16 +12,16 @@ The rustbuild build system has a primary entry point, a top level `x.py` script:\n $ python ./x.py build\n ```\n \n-Note that if you're on Unix you should be able to execute the script directly:\n+Note that if you're on Unix, you should be able to execute the script directly:\n \n ```sh\n $ ./x.py build\n ```\n \n The script accepts commands, flags, and arguments to determine what to do:\n \n-* `build` - a general purpose command for compiling code. Alone `build` will\n-  bootstrap the entire compiler, and otherwise arguments passed indicate what to\n+* `build` - a general purpose command for compiling code. Alone, `build` will\n+  bootstrap the entire compiler, and otherwise, arguments passed indicate what to\n   build. For example:\n \n   ```\n@@ -38,7 +38,7 @@ The script accepts commands, flags, and arguments to determine what to do:\n   ./x.py build --stage 0 library/test\n   ```\n \n-  If files are dirty that would normally be rebuilt from stage 0, that can be\n+  If files that would normally be rebuilt from stage 0 are dirty, the rebuild can be\n   overridden using `--keep-stage 0`. Using `--keep-stage n` will skip all steps\n   that belong to stage n or earlier:\n \n@@ -47,8 +47,8 @@ The script accepts commands, flags, and arguments to determine what to do:\n   ./x.py build --keep-stage 0\n   ```\n \n-* `test` - a command for executing unit tests. Like the `build` command this\n-  will execute the entire test suite by default, and otherwise it can be used to\n+* `test` - a command for executing unit tests. Like the `build` command, this\n+  will execute the entire test suite by default, and otherwise, it can be used to\n   select which test suite is run:\n \n   ```\n@@ -75,7 +75,7 @@ The script accepts commands, flags, and arguments to determine what to do:\n   ./x.py test src/doc\n   ```\n \n-* `doc` - a command for building documentation. Like above can take arguments\n+* `doc` - a command for building documentation. Like above, can take arguments\n   for what to document.\n \n ## Configuring rustbuild\n@@ -110,12 +110,12 @@ compiler. What actually happens when you invoke rustbuild is:\n    compiles the build system itself (this folder). Finally, it then invokes the\n    actual `bootstrap` binary build system.\n 2. In Rust, `bootstrap` will slurp up all configuration, perform a number of\n-   sanity checks (compilers exist for example), and then start building the\n+   sanity checks (whether compilers exist, for example), and then start building the\n    stage0 artifacts.\n-3. The stage0 `cargo` downloaded earlier is used to build the standard library\n+3. The stage0 `cargo`, downloaded earlier, is used to build the standard library\n    and the compiler, and then these binaries are then copied to the `stage1`\n    directory. That compiler is then used to generate the stage1 artifacts which\n-   are then copied to the stage2 directory, and then finally the stage2\n+   are then copied to the stage2 directory, and then finally, the stage2\n    artifacts are generated using that compiler.\n \n The goal of each stage is to (a) leverage Cargo as much as possible and failing\n@@ -149,7 +149,7 @@ like this:\n build/\n \n   # Location where the stage0 compiler downloads are all cached. This directory\n-  # only contains the tarballs themselves as they're extracted elsewhere.\n+  # only contains the tarballs themselves, as they're extracted elsewhere.\n   cache/\n     2015-12-19/\n     2016-01-15/\n@@ -172,22 +172,22 @@ build/\n   # hand.\n   x86_64-unknown-linux-gnu/\n \n-    # The build artifacts for the `compiler-rt` library for the target this\n-    # folder is under. The exact layout here will likely depend on the platform,\n-    # and this is also built with CMake so the build system is also likely\n-    # different.\n+    # The build artifacts for the `compiler-rt` library for the target that \n+    # this folder is under. The exact layout here will likely depend on the \n+    # platform, and this is also built with CMake, so the build system is \n+    # also likely different.\n     compiler-rt/\n       build/\n \n     # Output folder for LLVM if it is compiled for this target\n     llvm/\n \n       # build folder (e.g. the platform-specific build system). Like with\n-      # compiler-rt this is compiled with CMake\n+      # compiler-rt, this is compiled with CMake\n       build/\n \n       # Installation of LLVM. Note that we run the equivalent of 'make install'\n-      # for LLVM to setup these folders.\n+      # for LLVM, to setup these folders.\n       bin/\n       lib/\n       include/\n@@ -206,18 +206,18 @@ build/\n \n     # Location where the stage0 Cargo and Rust compiler are unpacked. This\n     # directory is purely an extracted and overlaid tarball of these two (done\n-    # by the bootstrapy python script). In theory the build system does not\n+    # by the bootstrap python script). In theory, the build system does not\n     # modify anything under this directory afterwards.\n     stage0/\n \n-    # These to build directories are the cargo output directories for builds of\n-    # the standard library and compiler, respectively. Internally these may also\n+    # These to-build directories are the cargo output directories for builds of\n+    # the standard library and compiler, respectively. Internally, these may also\n     # have other target directories, which represent artifacts being compiled\n     # from the host to the specified target.\n     #\n     # Essentially, each of these directories is filled in by one `cargo`\n     # invocation. The build system instruments calling Cargo in the right order\n-    # with the right variables to ensure these are filled in correctly.\n+    # with the right variables to ensure that these are filled in correctly.\n     stageN-std/\n     stageN-test/\n     stageN-rustc/\n@@ -232,8 +232,8 @@ build/\n     # being compiled (e.g. after libstd has been built), *this* is used as the\n     # sysroot for the stage0 compiler being run.\n     #\n-    # Basically this directory is just a temporary artifact use to configure the\n-    # stage0 compiler to ensure that the libstd we just built is used to\n+    # Basically, this directory is just a temporary artifact used to configure the\n+    # stage0 compiler to ensure that the libstd that we just built is used to\n     # compile the stage1 compiler.\n     stage0-sysroot/lib/\n \n@@ -242,7 +242,7 @@ build/\n     # system will link (using hard links) output from stageN-{std,rustc} into\n     # each of these directories.\n     #\n-    # In theory there is no extra build output in these directories.\n+    # In theory, there is no extra build output in these directories.\n     stage1/\n     stage2/\n     stage3/\n@@ -265,14 +265,14 @@ structure here serves two goals:\n    depend on `std`, so libstd is a separate project compiled ahead of time\n    before the actual compiler builds.\n 2. Splitting \"host artifacts\" from \"target artifacts\". That is, when building\n-   code for an arbitrary target you don't need the entire compiler, but you'll\n+   code for an arbitrary target, you don't need the entire compiler, but you'll\n    end up needing libraries like libtest that depend on std but also want to use\n    crates.io dependencies. Hence, libtest is split out as its own project that\n    is sequenced after `std` but before `rustc`. This project is built for all\n    targets.\n \n There is some loss in build parallelism here because libtest can be compiled in\n-parallel with a number of rustc artifacts, but in theory the loss isn't too bad!\n+parallel with a number of rustc artifacts, but in theory, the loss isn't too bad!\n \n ## Build tools\n \n@@ -285,13 +285,13 @@ appropriate libstd/libtest/librustc compile above.\n \n ## Extending rustbuild\n \n-So you'd like to add a feature to the rustbuild build system or just fix a bug.\n+So, you'd like to add a feature to the rustbuild build system or just fix a bug.\n Great! One of the major motivational factors for moving away from `make` is that\n Rust is in theory much easier to read, modify, and write. If you find anything\n-excessively confusing, please open an issue on this and we'll try to get it\n-documented or simplified pronto.\n+excessively confusing, please open an issue on this, and we'll try to get it\n+documented or simplified, pronto.\n \n-First up, you'll probably want to read over the documentation above as that'll\n+First up, you'll probably want to read over the documentation above, as that'll\n give you a high level overview of what rustbuild is doing. You also probably\n want to play around a bit yourself by just getting it up and running before you\n dive too much into the actual build system itself.\n@@ -326,7 +326,7 @@ A 'major change' includes\n Changes that do not affect contributors to the compiler or users\n building rustc from source don't need an update to `VERSION`.\n \n-If you have any questions feel free to reach out on the `#t-infra` channel in\n+If you have any questions, feel free to reach out on the `#t-infra` channel in\n the [Rust Zulip server][rust-zulip] or ask on internals.rust-lang.org. When\n you encounter bugs, please file issues on the rust-lang/rust issue tracker.\n "}]}