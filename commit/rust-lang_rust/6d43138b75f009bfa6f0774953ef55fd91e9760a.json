{"sha": "6d43138b75f009bfa6f0774953ef55fd91e9760a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZkNDMxMzhiNzVmMDA5YmZhNmYwNzc0OTUzZWY1NWZkOTFlOTc2MGE=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-04-04T20:45:24Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-04-04T22:57:45Z"}, "message": "Test fixes from rollup", "tree": {"sha": "61f1237167d3663ba874e2b802cd9f5dd3c57041", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/61f1237167d3663ba874e2b802cd9f5dd3c57041"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6d43138b75f009bfa6f0774953ef55fd91e9760a", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6d43138b75f009bfa6f0774953ef55fd91e9760a", "html_url": "https://github.com/rust-lang/rust/commit/6d43138b75f009bfa6f0774953ef55fd91e9760a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6d43138b75f009bfa6f0774953ef55fd91e9760a/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bf1ffaf5f48f925bfb62f9dca3bc73cfcc246148", "url": "https://api.github.com/repos/rust-lang/rust/commits/bf1ffaf5f48f925bfb62f9dca3bc73cfcc246148", "html_url": "https://github.com/rust-lang/rust/commit/bf1ffaf5f48f925bfb62f9dca3bc73cfcc246148"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "fe969c6fd51a575ad00791c1f82c59d14140a99f", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/6d43138b75f009bfa6f0774953ef55fd91e9760a/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d43138b75f009bfa6f0774953ef55fd91e9760a/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=6d43138b75f009bfa6f0774953ef55fd91e9760a", "patch": "@@ -915,9 +915,6 @@ impl<'a> State<'a> {\n             match attr.node.style {\n                 ast::AttrInner => {\n                     try!(self.print_attribute(attr));\n-                    if !attr.node.is_sugared_doc {\n-                        try!(word(&mut self.s, \";\"));\n-                    }\n                     count += 1;\n                 }\n                 _ => {/* fallthrough */ }\n@@ -935,7 +932,10 @@ impl<'a> State<'a> {\n         if attr.node.is_sugared_doc {\n             word(&mut self.s, attr.value_str().unwrap().get())\n         } else {\n-            try!(word(&mut self.s, \"#[\"));\n+            match attr.node.style {\n+                ast::AttrInner => try!(word(&mut self.s, \"#![\")),\n+                ast::AttrOuter => try!(word(&mut self.s, \"#[\")),\n+            }\n             try!(self.print_meta_item(attr.meta()));\n             word(&mut self.s, \"]\")\n         }"}, {"sha": "df4e0658cb83ac4786cabf7ae600d87d78b56fd5", "filename": "src/test/auxiliary/impl_privacy_xc_1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6d43138b75f009bfa6f0774953ef55fd91e9760a/src%2Ftest%2Fauxiliary%2Fimpl_privacy_xc_1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d43138b75f009bfa6f0774953ef55fd91e9760a/src%2Ftest%2Fauxiliary%2Fimpl_privacy_xc_1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fimpl_privacy_xc_1.rs?ref=6d43138b75f009bfa6f0774953ef55fd91e9760a", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#[crate_type = \"lib\"];\n+#![crate_type = \"lib\"]\n \n pub struct Fish {\n     pub x: int"}, {"sha": "65dcf90056701835bc7a1daa81fea50350c2d144", "filename": "src/test/pretty/attr-fn-inner.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6d43138b75f009bfa6f0774953ef55fd91e9760a/src%2Ftest%2Fpretty%2Fattr-fn-inner.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d43138b75f009bfa6f0774953ef55fd91e9760a/src%2Ftest%2Fpretty%2Fattr-fn-inner.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Fattr-fn-inner.rs?ref=6d43138b75f009bfa6f0774953ef55fd91e9760a", "patch": "@@ -14,7 +14,7 @@\n // accidentally carried over to each inner function\n \n fn main() {\n-    #[inner_attr];\n+    #![inner_attr]\n     #[outer_attr]\n     fn f() { }\n "}, {"sha": "02d141f5163c9d748fa1fcd7b5000c06670c791d", "filename": "src/test/pretty/doc-comments.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6d43138b75f009bfa6f0774953ef55fd91e9760a/src%2Ftest%2Fpretty%2Fdoc-comments.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d43138b75f009bfa6f0774953ef55fd91e9760a/src%2Ftest%2Fpretty%2Fdoc-comments.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Fdoc-comments.rs?ref=6d43138b75f009bfa6f0774953ef55fd91e9760a", "patch": "@@ -57,5 +57,5 @@ fn f() { }\n fn g() { }\n \n fn h() {\n-    #[doc = \"as do inner ones\"];\n+    #![doc = \"as do inner ones\"]\n }"}, {"sha": "87c43da9ebcf4d8e373f268ff63b9359e1990454", "filename": "src/test/run-pass/method-attributes.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6d43138b75f009bfa6f0774953ef55fd91e9760a/src%2Ftest%2Frun-pass%2Fmethod-attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d43138b75f009bfa6f0774953ef55fd91e9760a/src%2Ftest%2Frun-pass%2Fmethod-attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmethod-attributes.rs?ref=6d43138b75f009bfa6f0774953ef55fd91e9760a", "patch": "@@ -22,12 +22,12 @@ trait frobable {\n impl frobable for int {\n     #[frob_attr1]\n     fn frob(&self) {\n-        #[frob_attr2];\n+        #![frob_attr2]\n     }\n \n     #[defrob_attr1]\n     fn defrob(&self) {\n-        #[defrob_attr2];\n+        #![defrob_attr2]\n     }\n }\n "}]}