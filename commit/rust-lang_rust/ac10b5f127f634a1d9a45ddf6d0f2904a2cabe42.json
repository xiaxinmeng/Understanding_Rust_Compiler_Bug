{"sha": "ac10b5f127f634a1d9a45ddf6d0f2904a2cabe42", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFjMTBiNWYxMjdmNjM0YTFkOWE0NWRkZjZkMGYyOTA0YTJjYWJlNDI=", "commit": {"author": {"name": "Antti Ker\u00e4nen", "email": "detegr@gmail.com", "date": "2016-08-07T07:38:29Z"}, "committer": {"name": "Antti Ker\u00e4nen", "email": "detegr@gmail.com", "date": "2016-08-07T07:38:29Z"}, "message": "Update error E0117 to new format\n\nFixes #35250", "tree": {"sha": "72a22617252687f723fc5b7a96a5352a08b6935b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/72a22617252687f723fc5b7a96a5352a08b6935b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ac10b5f127f634a1d9a45ddf6d0f2904a2cabe42", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2\n\niQEcBAABCAAGBQJXpuWGAAoJEHfoyZdWypfEYVIH+gJtAkepi8vfXaVRgbatHic4\niBFkdtFefjGm04mYjVjy+kGfqlyJeT82JVHGlredJ9hwnj/ATmAP4ZrQgaRk2Jh3\nbSgJMXfK9qyolVBlUvxz4dJ8eUD72XytK6UYoOtX8EaQPzBBMbUNkeC8Pv2WscdS\nAxpdwWyfr+zDyNijsOyFUZWyzwBCPrMi2cD96IzoMxvPzxLmFYZOrj9B1GbAomUI\n8UR1jd2BmQDUSUfihwwhmVOWalXj/NxES7R3MgzCIvh/mfib6IFyt7Bsn1qs1tai\n/lA1DxaY8b6o9EBvwRBeW8ZeWpX46FOu6CcJZGWpP9XmSw5QUoiqfVm9axi0tR4=\n=60sE\n-----END PGP SIGNATURE-----", "payload": "tree 72a22617252687f723fc5b7a96a5352a08b6935b\nparent 802d0811a5a9fc26388dda1d54ea41a5b64a2466\nauthor Antti Ker\u00e4nen <detegr@gmail.com> 1470555509 +0300\ncommitter Antti Ker\u00e4nen <detegr@gmail.com> 1470555509 +0300\n\nUpdate error E0117 to new format\n\nFixes #35250\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ac10b5f127f634a1d9a45ddf6d0f2904a2cabe42", "html_url": "https://github.com/rust-lang/rust/commit/ac10b5f127f634a1d9a45ddf6d0f2904a2cabe42", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ac10b5f127f634a1d9a45ddf6d0f2904a2cabe42/comments", "author": {"login": "Detegr", "id": 724433, "node_id": "MDQ6VXNlcjcyNDQzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/724433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Detegr", "html_url": "https://github.com/Detegr", "followers_url": "https://api.github.com/users/Detegr/followers", "following_url": "https://api.github.com/users/Detegr/following{/other_user}", "gists_url": "https://api.github.com/users/Detegr/gists{/gist_id}", "starred_url": "https://api.github.com/users/Detegr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Detegr/subscriptions", "organizations_url": "https://api.github.com/users/Detegr/orgs", "repos_url": "https://api.github.com/users/Detegr/repos", "events_url": "https://api.github.com/users/Detegr/events{/privacy}", "received_events_url": "https://api.github.com/users/Detegr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Detegr", "id": 724433, "node_id": "MDQ6VXNlcjcyNDQzMw==", "avatar_url": "https://avatars.githubusercontent.com/u/724433?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Detegr", "html_url": "https://github.com/Detegr", "followers_url": "https://api.github.com/users/Detegr/followers", "following_url": "https://api.github.com/users/Detegr/following{/other_user}", "gists_url": "https://api.github.com/users/Detegr/gists{/gist_id}", "starred_url": "https://api.github.com/users/Detegr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Detegr/subscriptions", "organizations_url": "https://api.github.com/users/Detegr/orgs", "repos_url": "https://api.github.com/users/Detegr/repos", "events_url": "https://api.github.com/users/Detegr/events{/privacy}", "received_events_url": "https://api.github.com/users/Detegr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "802d0811a5a9fc26388dda1d54ea41a5b64a2466", "url": "https://api.github.com/repos/rust-lang/rust/commits/802d0811a5a9fc26388dda1d54ea41a5b64a2466", "html_url": "https://github.com/rust-lang/rust/commit/802d0811a5a9fc26388dda1d54ea41a5b64a2466"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "49959a7a3b2cb3e7888c9ec264be03c3d0ab8c43", "filename": "src/librustc_typeck/coherence/orphan.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ac10b5f127f634a1d9a45ddf6d0f2904a2cabe42/src%2Flibrustc_typeck%2Fcoherence%2Forphan.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ac10b5f127f634a1d9a45ddf6d0f2904a2cabe42/src%2Flibrustc_typeck%2Fcoherence%2Forphan.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcoherence%2Forphan.rs?ref=ac10b5f127f634a1d9a45ddf6d0f2904a2cabe42", "patch": "@@ -228,12 +228,14 @@ impl<'cx, 'tcx> OrphanChecker<'cx, 'tcx> {\n                 match traits::orphan_check(self.tcx, def_id) {\n                     Ok(()) => { }\n                     Err(traits::OrphanCheckErr::NoLocalInputType) => {\n-                        span_err!(\n+                        struct_span_err!(\n                             self.tcx.sess, item.span, E0117,\n-                            \"the impl does not reference any \\\n-                             types defined in this crate; \\\n-                             only traits defined in the current crate can be \\\n-                             implemented for arbitrary types\");\n+                             \"only traits defined in the current crate can be \\\n+                             implemented for arbitrary types\")\n+                        .span_label(item.span, &format!(\"impl doesn't use types inside crate\"))\n+                        .note(&format!(\"the impl does not reference any \\\n+                                        types defined in this crate\"))\n+                        .emit();\n                         return;\n                     }\n                     Err(traits::OrphanCheckErr::UncoveredTy(param_ty)) => {"}, {"sha": "e9375e673253fb863edb4135df4256446645d4ec", "filename": "src/test/compile-fail/E0117.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ac10b5f127f634a1d9a45ddf6d0f2904a2cabe42/src%2Ftest%2Fcompile-fail%2FE0117.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ac10b5f127f634a1d9a45ddf6d0f2904a2cabe42/src%2Ftest%2Fcompile-fail%2FE0117.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0117.rs?ref=ac10b5f127f634a1d9a45ddf6d0f2904a2cabe42", "patch": "@@ -9,6 +9,8 @@\n // except according to those terms.\n \n impl Drop for u32 {} //~ ERROR E0117\n+//~^ NOTE impl doesn't use types inside crate\n+//~| NOTE the impl does not reference any types defined in this crate\n \n fn main() {\n }"}]}