{"sha": "35f89879fb3b62416eee78b68959bccc1d90de27", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM1Zjg5ODc5ZmIzYjYyNDE2ZWVlNzhiNjg5NTliY2NjMWQ5MGRlMjc=", "commit": {"author": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2020-08-15T11:06:18Z"}, "committer": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2020-08-15T11:11:29Z"}, "message": "Add rustc-docs as a component\n\nPreviously it was listed as a package but wasn't available in the component\nlists in rustup, so wasn't actually installable.\n\nrustc-docs is also only present for x86_64-unknown-linux-gnu. Eventually it'll\nalso be shipped for aarch64-gnu with current CI configuration, but that builder\nisn't quite up and running yet.\n\nWe probably want to ship compiler docs for other platforms as well, though, but\nthis commit doesn't enable that quite yet. A future PR may do so by adding\n--enable-compiler-docs to the relevant builders (but it would also need to\ndecide the set of builders which we'd ship on).", "tree": {"sha": "3185ab3ead1cc725151275a5b3b0e7fd8236b675", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3185ab3ead1cc725151275a5b3b0e7fd8236b675"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/35f89879fb3b62416eee78b68959bccc1d90de27", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/35f89879fb3b62416eee78b68959bccc1d90de27", "html_url": "https://github.com/rust-lang/rust/commit/35f89879fb3b62416eee78b68959bccc1d90de27", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/35f89879fb3b62416eee78b68959bccc1d90de27/comments", "author": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7996182bc1b48495014fa13799f503be01d3e5bc", "url": "https://api.github.com/repos/rust-lang/rust/commits/7996182bc1b48495014fa13799f503be01d3e5bc", "html_url": "https://github.com/rust-lang/rust/commit/7996182bc1b48495014fa13799f503be01d3e5bc"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "58022484fa6cceee20fd42d053297c97e20f9cc1", "filename": "src/tools/build-manifest/src/main.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/35f89879fb3b62416eee78b68959bccc1d90de27/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35f89879fb3b62416eee78b68959bccc1d90de27/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs?ref=35f89879fb3b62416eee78b68959bccc1d90de27", "patch": "@@ -501,6 +501,7 @@ impl Builder {\n         // for users to install the additional component manually, if needed.\n         if self.rust_release == \"nightly\" {\n             self.extend_profile(\"complete\", &mut manifest.profiles, &[\"rustc-dev\"]);\n+            self.extend_profile(\"complete\", &mut manifest.profiles, &[\"rustc-docs\"]);\n         }\n     }\n \n@@ -576,6 +577,7 @@ impl Builder {\n                 .map(|target| Component::from_str(\"rust-std\", target)),\n         );\n         extensions.extend(HOSTS.iter().map(|target| Component::from_str(\"rustc-dev\", target)));\n+        extensions.extend(HOSTS.iter().map(|target| Component::from_str(\"rustc-docs\", target)));\n         extensions.push(Component::from_str(\"rust-src\", \"*\"));\n \n         // If the components/extensions don't actually exist for this"}]}