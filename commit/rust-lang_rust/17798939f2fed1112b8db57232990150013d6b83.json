{"sha": "17798939f2fed1112b8db57232990150013d6b83", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE3Nzk4OTM5ZjJmZWQxMTEyYjhkYjU3MjMyOTkwMTUwMDEzZDZiODM=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-09-15T00:29:44Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-09-15T00:29:44Z"}, "message": "Rollup merge of #64463 - petrochenkov:expectattr, r=Centril\n\nresolve: Tweak some expected/found wording", "tree": {"sha": "523e504478d5ca971567157db0e376f3530ea142", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/523e504478d5ca971567157db0e376f3530ea142"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/17798939f2fed1112b8db57232990150013d6b83", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdfYX5CRBK7hj4Ov3rIwAAdHIIACLRPOYCVtNDW6yS1Ig8Cauf\nUPTLZecjKsoXtAPZ0CHWFWNTy7FzxKE2O8Vat7/9/Sgdp1mQztSAJ0Gwhw7xFyti\n8Q9jQQ4XOgOfB3AVgzBbZl33Bs9EAym1tkaMgkm9Dek1JTqt7Uhvf3cRQO6h/H2Z\nf8WDVcrF0H1ciaPU/RvxE6bucMGfrnxOFGQqkx53YUVWDqOsRG1pAhg2cmoHx4t8\nmK0ZejrljQ9rkH/rJUUpD02z2RyileMJV7Aja+CQ/OBETpQSlJ4U63a1VM0mnB30\n7IZq8b011rq9ig+bHvJXEb2pdCxoPHhGiMG1OOVekO7nAR9NRJbmR4lCLpcCzYI=\n=tvkU\n-----END PGP SIGNATURE-----\n", "payload": "tree 523e504478d5ca971567157db0e376f3530ea142\nparent 8f55245fdc7d3ad26e2dff1e61d2b6efa293d3d0\nparent f6a5b29d197ba3f64007e51b948b427232173f2f\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1568507384 +0200\ncommitter GitHub <noreply@github.com> 1568507384 +0200\n\nRollup merge of #64463 - petrochenkov:expectattr, r=Centril\n\nresolve: Tweak some expected/found wording\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/17798939f2fed1112b8db57232990150013d6b83", "html_url": "https://github.com/rust-lang/rust/commit/17798939f2fed1112b8db57232990150013d6b83", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/17798939f2fed1112b8db57232990150013d6b83/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8f55245fdc7d3ad26e2dff1e61d2b6efa293d3d0", "url": "https://api.github.com/repos/rust-lang/rust/commits/8f55245fdc7d3ad26e2dff1e61d2b6efa293d3d0", "html_url": "https://github.com/rust-lang/rust/commit/8f55245fdc7d3ad26e2dff1e61d2b6efa293d3d0"}, {"sha": "f6a5b29d197ba3f64007e51b948b427232173f2f", "url": "https://api.github.com/repos/rust-lang/rust/commits/f6a5b29d197ba3f64007e51b948b427232173f2f", "html_url": "https://github.com/rust-lang/rust/commit/f6a5b29d197ba3f64007e51b948b427232173f2f"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "9096d14645100614e82c173f5dc67e6b6e8a192f", "filename": "src/librustc_resolve/macros.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/17798939f2fed1112b8db57232990150013d6b83/src%2Flibrustc_resolve%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17798939f2fed1112b8db57232990150013d6b83/src%2Flibrustc_resolve%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fmacros.rs?ref=17798939f2fed1112b8db57232990150013d6b83", "patch": "@@ -237,7 +237,8 @@ impl<'a> base::Resolver for Resolver<'a> {\n                 if let Res::Def(..) = res {\n                     self.session.span_err(\n                         span,\n-                        \"expected an inert attribute, found an attribute macro\"\n+                        &format!(\"expected an inert attribute, found {} {}\",\n+                                 res.article(), res.descr()),\n                     );\n                     return Ok(InvocationRes::Single(self.dummy_ext(kind)));\n                 }\n@@ -322,7 +323,7 @@ impl<'a> Resolver<'a> {\n         self.check_stability_and_deprecation(&ext, path);\n \n         Ok(if ext.macro_kind() != kind {\n-            let expected = if kind == MacroKind::Attr { \"attribute\" } else  { kind.descr() };\n+            let expected = if kind == MacroKind::Attr { \"attribute\" } else { kind.descr() };\n             let msg = format!(\"expected {}, found {} `{}`\", expected, res.descr(), path);\n             self.session.struct_span_err(path.span, &msg)\n                         .span_label(path.span, format!(\"not {} {}\", kind.article(), expected))"}, {"sha": "6fa5f01ffd926c58a1efb69944c124bd8e3b2957", "filename": "src/test/ui/issues/issue-49934-errors.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/17798939f2fed1112b8db57232990150013d6b83/src%2Ftest%2Fui%2Fissues%2Fissue-49934-errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17798939f2fed1112b8db57232990150013d6b83/src%2Ftest%2Fui%2Fissues%2Fissue-49934-errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-49934-errors.rs?ref=17798939f2fed1112b8db57232990150013d6b83", "patch": "@@ -1,10 +1,10 @@\n fn foo<#[derive(Debug)] T>() {\n //~^ ERROR `derive` may only be applied to structs, enums and unions\n-//~| ERROR expected an inert attribute, found an attribute macro\n+//~| ERROR expected an inert attribute, found a derive macro\n     match 0 {\n         #[derive(Debug)]\n         //~^ ERROR `derive` may only be applied to structs, enums and unions\n-        //~| ERROR expected an inert attribute, found an attribute macro\n+        //~| ERROR expected an inert attribute, found a derive macro\n         _ => (),\n     }\n }"}, {"sha": "8778d88d0ebec5185c8fcaacf806098b3cd6e500", "filename": "src/test/ui/issues/issue-49934-errors.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/17798939f2fed1112b8db57232990150013d6b83/src%2Ftest%2Fui%2Fissues%2Fissue-49934-errors.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/17798939f2fed1112b8db57232990150013d6b83/src%2Ftest%2Fui%2Fissues%2Fissue-49934-errors.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-49934-errors.stderr?ref=17798939f2fed1112b8db57232990150013d6b83", "patch": "@@ -4,7 +4,7 @@ error: `derive` may only be applied to structs, enums and unions\n LL | fn foo<#[derive(Debug)] T>() {\n    |        ^^^^^^^^^^^^^^^^\n \n-error: expected an inert attribute, found an attribute macro\n+error: expected an inert attribute, found a derive macro\n   --> $DIR/issue-49934-errors.rs:1:17\n    |\n LL | fn foo<#[derive(Debug)] T>() {\n@@ -16,7 +16,7 @@ error: `derive` may only be applied to structs, enums and unions\n LL |         #[derive(Debug)]\n    |         ^^^^^^^^^^^^^^^^\n \n-error: expected an inert attribute, found an attribute macro\n+error: expected an inert attribute, found a derive macro\n   --> $DIR/issue-49934-errors.rs:5:18\n    |\n LL |         #[derive(Debug)]"}]}