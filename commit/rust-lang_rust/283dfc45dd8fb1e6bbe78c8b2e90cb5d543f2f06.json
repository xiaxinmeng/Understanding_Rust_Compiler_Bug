{"sha": "283dfc45dd8fb1e6bbe78c8b2e90cb5d543f2f06", "node_id": "C_kwDOAAsO6NoAKDI4M2RmYzQ1ZGQ4ZmIxZTZiYmU3OGM4YjJlOTBjYjVkNTQzZjJmMDY", "commit": {"author": {"name": "Ian Chamberlain", "email": "ichamberlain@juniper.net", "date": "2023-01-09T16:44:38Z"}, "committer": {"name": "Ian Chamberlain", "email": "ichamberlain@juniper.net", "date": "2023-01-09T16:50:37Z"}, "message": "Add docs for `colorDiagnosticOutput` capability", "tree": {"sha": "c55fc1d7b528679b40aa5cd0abd3cd905ee81715", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c55fc1d7b528679b40aa5cd0abd3cd905ee81715"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/283dfc45dd8fb1e6bbe78c8b2e90cb5d543f2f06", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCAAdFiEEUeJtpptES4xNVu97vXsl1YFw4SQFAmO8Rd0ACgkQvXsl1YFw\n4SSfHgwArk057a/3UtjO8mFrLkoIxHsq/FbTEfa1B2/DsWm9FYTJnpFd5Qg5ZC7u\nTQZZyM6ZtKNxA3tQ4SxPlzEmztcdpqw5PH7EPpVtDH6mJMewiiLv4BWTx8l28X04\nwisAYWZVZPwiQGr/mY0OfwCTomsEEhcR0IsxXN+7PMKJ+VCIGcmscEaJOuqm7U1o\nWKswz3P74lzIRbRn3mzkNXpEfK6cfIOghpqNMXRXCvz5SDKjSlHrWEtX3LoPhb4G\nSCNF5CND1pxQzn3wyjMgaDC1yQSS5DFbVkbjcfNXiAFgXwii2wyDuoK/m/mdymJO\nkgnhE4kwUKawtXL1ikbq6d0TgnDmlbG++/qrO7lWAjRVuqx2nbCIWFuxNBEPUYVk\nmk44OjKrhsiEiH6slNtPA7iU4/kkqbCu8E4PW48BZe+U8Av8XnVHWJxIdykvRME3\nhm38CJNFRkSPvzFsEMJIjBHnnetBfaVQNomwkfpAz1pAsTIv3EJu3Gsh7yXpblJA\n/j2pu1dV\n=kwjJ\n-----END PGP SIGNATURE-----", "payload": "tree c55fc1d7b528679b40aa5cd0abd3cd905ee81715\nparent 65cf7abbe2ee75cce74592fa0af75356181566be\nauthor Ian Chamberlain <ichamberlain@juniper.net> 1673282678 -0500\ncommitter Ian Chamberlain <ichamberlain@juniper.net> 1673283037 -0500\n\nAdd docs for `colorDiagnosticOutput` capability\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/283dfc45dd8fb1e6bbe78c8b2e90cb5d543f2f06", "html_url": "https://github.com/rust-lang/rust/commit/283dfc45dd8fb1e6bbe78c8b2e90cb5d543f2f06", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/283dfc45dd8fb1e6bbe78c8b2e90cb5d543f2f06/comments", "author": {"login": "ian-h-chamberlain", "id": 11131775, "node_id": "MDQ6VXNlcjExMTMxNzc1", "avatar_url": "https://avatars.githubusercontent.com/u/11131775?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ian-h-chamberlain", "html_url": "https://github.com/ian-h-chamberlain", "followers_url": "https://api.github.com/users/ian-h-chamberlain/followers", "following_url": "https://api.github.com/users/ian-h-chamberlain/following{/other_user}", "gists_url": "https://api.github.com/users/ian-h-chamberlain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ian-h-chamberlain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ian-h-chamberlain/subscriptions", "organizations_url": "https://api.github.com/users/ian-h-chamberlain/orgs", "repos_url": "https://api.github.com/users/ian-h-chamberlain/repos", "events_url": "https://api.github.com/users/ian-h-chamberlain/events{/privacy}", "received_events_url": "https://api.github.com/users/ian-h-chamberlain/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ian-h-chamberlain", "id": 11131775, "node_id": "MDQ6VXNlcjExMTMxNzc1", "avatar_url": "https://avatars.githubusercontent.com/u/11131775?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ian-h-chamberlain", "html_url": "https://github.com/ian-h-chamberlain", "followers_url": "https://api.github.com/users/ian-h-chamberlain/followers", "following_url": "https://api.github.com/users/ian-h-chamberlain/following{/other_user}", "gists_url": "https://api.github.com/users/ian-h-chamberlain/gists{/gist_id}", "starred_url": "https://api.github.com/users/ian-h-chamberlain/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ian-h-chamberlain/subscriptions", "organizations_url": "https://api.github.com/users/ian-h-chamberlain/orgs", "repos_url": "https://api.github.com/users/ian-h-chamberlain/repos", "events_url": "https://api.github.com/users/ian-h-chamberlain/events{/privacy}", "received_events_url": "https://api.github.com/users/ian-h-chamberlain/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "65cf7abbe2ee75cce74592fa0af75356181566be", "url": "https://api.github.com/repos/rust-lang/rust/commits/65cf7abbe2ee75cce74592fa0af75356181566be", "html_url": "https://github.com/rust-lang/rust/commit/65cf7abbe2ee75cce74592fa0af75356181566be"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "a4780af1a261568ba6d49646b273eb5862d3e929", "filename": "docs/dev/lsp-extensions.md", "status": "modified", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/283dfc45dd8fb1e6bbe78c8b2e90cb5d543f2f06/docs%2Fdev%2Flsp-extensions.md", "raw_url": "https://github.com/rust-lang/rust/raw/283dfc45dd8fb1e6bbe78c8b2e90cb5d543f2f06/docs%2Fdev%2Flsp-extensions.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fdev%2Flsp-extensions.md?ref=283dfc45dd8fb1e6bbe78c8b2e90cb5d543f2f06", "patch": "@@ -792,3 +792,29 @@ export interface ClientCommandOptions {\n     commands: string[];\n }\n ```\n+\n+## Colored Diagnostic Output\n+\n+**Experimental Client Capability:** `{ \"colorDiagnosticOutput\": boolean }`\n+\n+If this capability is set, the \"full compiler diagnostics\" provided by `checkOnSave`\n+will include ANSI color and style codes to render the diagnostic in a similar manner\n+as `cargo`. This is translated into `--message-format=json-diagnostic-rendered-ansi`\n+when flycheck is run, instead of the default `--message-format=json`.\n+\n+The full compiler rendered diagnostics are included in the server response\n+regardless of this capability:\n+\n+```typescript\n+// https://microsoft.github.io/language-server-protocol/specifications/specification-current#diagnostic\n+export interface Diagnostic {\n+    ...\n+    data?: {\n+        /**\n+         * The human-readable compiler output as it would be printed to a terminal.\n+         * Includes ANSI color and style codes if the client has set the experimental\n+         * `colorDiagnosticOutput` capability.\n+         */\n+        rendered?: string;\n+    };\n+}"}]}