{"sha": "0cc4a8d848f46cf71cf067b4004ac6d9714339f3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjYzRhOGQ4NDhmNDZjZjcxY2YwNjdiNDAwNGFjNmQ5NzE0MzM5ZjM=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2018-05-05T21:57:26Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2018-05-05T21:57:26Z"}, "message": "Update rustc_ap_syntax", "tree": {"sha": "3e52c66ae9a2bddc926f8be433bbba6d9c4dd50b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3e52c66ae9a2bddc926f8be433bbba6d9c4dd50b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0cc4a8d848f46cf71cf067b4004ac6d9714339f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0cc4a8d848f46cf71cf067b4004ac6d9714339f3", "html_url": "https://github.com/rust-lang/rust/commit/0cc4a8d848f46cf71cf067b4004ac6d9714339f3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0cc4a8d848f46cf71cf067b4004ac6d9714339f3/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f8029f251b569a010cb5cfc5a8bff8bf3c949ac", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f8029f251b569a010cb5cfc5a8bff8bf3c949ac", "html_url": "https://github.com/rust-lang/rust/commit/0f8029f251b569a010cb5cfc5a8bff8bf3c949ac"}], "stats": {"total": 74, "additions": 37, "deletions": 37}, "files": [{"sha": "98d9d1a5c93361918494677c5820961995f7db90", "filename": "Cargo.lock", "status": "modified", "additions": 30, "deletions": 30, "changes": 60, "blob_url": "https://github.com/rust-lang/rust/blob/0cc4a8d848f46cf71cf067b4004ac6d9714339f3/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/0cc4a8d848f46cf71cf067b4004ac6d9714339f3/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=0cc4a8d848f46cf71cf067b4004ac6d9714339f3", "patch": "@@ -394,7 +394,7 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_cratesio_shim\"\n-version = \"113.0.0\"\n+version = \"121.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"bitflags 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -404,74 +404,74 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_data_structures\"\n-version = \"113.0.0\"\n+version = \"121.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cfg-if 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"ena 0.9.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"parking_lot 0.5.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"parking_lot_core 0.2.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_cratesio_shim 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-serialize 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_cratesio_shim 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-serialize 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"stable_deref_trait 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"term 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_errors\"\n-version = \"113.0.0\"\n+version = \"121.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"atty 0.2.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_data_structures 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-serialize 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-syntax_pos 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_data_structures 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-serialize 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-syntax_pos 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"term 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"termcolor 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-width 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_target\"\n-version = \"113.0.0\"\n+version = \"121.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"bitflags 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_cratesio_shim 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-serialize 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_cratesio_shim 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-serialize 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"term 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rustc-ap-serialize\"\n-version = \"113.0.0\"\n+version = \"121.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"rustc-ap-syntax\"\n-version = \"113.0.0\"\n+version = \"121.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"bitflags 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_data_structures 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_errors 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_target 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-serialize 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-syntax_pos 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_data_structures 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_errors 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_target 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-serialize 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-syntax_pos 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"scoped-tls 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"term 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rustc-ap-syntax_pos\"\n-version = \"113.0.0\"\n+version = \"121.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"rustc-ap-rustc_data_structures 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-serialize 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_data_structures 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-serialize 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"scoped-tls 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"term 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-width 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -498,8 +498,8 @@ dependencies = [\n  \"libc 0.2.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_target 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-syntax 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_target 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-syntax 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.43 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_derive 1.0.43 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_json 1.0.16 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -848,13 +848,13 @@ dependencies = [\n \"checksum regex 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"aec3f58d903a7d2a9dc2bf0e41a746f4530e0cab6b615494e058f67a3ef947fb\"\n \"checksum regex-syntax 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"bd90079345f4a4c3409214734ae220fd773c6f2e8a543d07370c6c1c369cfbfb\"\n \"checksum remove_dir_all 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3488ba1b9a2084d38645c4c08276a1752dcbf2c7130d74f1569681ad5d2799c5\"\n-\"checksum rustc-ap-rustc_cratesio_shim 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a01334797c5c4cf56cc40bb9636d7b4c4a076665b9b9b7f100fd666cf0a02ffc\"\n-\"checksum rustc-ap-rustc_data_structures 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"03d6f8f7da0de905f6ef80dc14dce3bbc372430622b6aeb421cf13190bc70e8a\"\n-\"checksum rustc-ap-rustc_errors 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3dfd6183804a685c48601651d8c8c7b0daa8f83b0b5e24edfbcb6a0337085127\"\n-\"checksum rustc-ap-rustc_target 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5f223157f51bf0e0621bef099de862468892ee4c4b83056f48f63e1bc00ccb72\"\n-\"checksum rustc-ap-serialize 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2104a55a87d65cba8a845656f1f19a35da52af403863cd2a4bd5876ba522d879\"\n-\"checksum rustc-ap-syntax 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b50671adb9b0a7c57a4690ac6a40cb614879f543b64aada42f55b66212492323\"\n-\"checksum rustc-ap-syntax_pos 113.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"55793c2a775230c42661194c48d44b35d4c8439d79ad8528e56651e854c48c63\"\n+\"checksum rustc-ap-rustc_cratesio_shim 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9ef7efbe957ee3b1ebecb6a260f7b0bad2286c9c20da614eab669a74da5b5fa7\"\n+\"checksum rustc-ap-rustc_data_structures 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d2b168f552c0d3ee3cca0e1ec693649d05d6ea4c0203fe292edc40f82db96dac\"\n+\"checksum rustc-ap-rustc_errors 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9c5fc02aa44c4d4d42c9d1e026f526f9d2db01dd1387161c9bcae468a7e147c2\"\n+\"checksum rustc-ap-rustc_target 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e309c073c612668f0a7b87719073b904c22e8e6df99ee40309eef7f5ec2e14f8\"\n+\"checksum rustc-ap-serialize 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ef7721a58ba33a1aa296b527348cefc6170c66ce2bbc248b8ea0b2b49ebbc457\"\n+\"checksum rustc-ap-syntax 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0d22e392afa778785b1ce243b006b7fde6708cd8dbc332a33821169626c4e5a6\"\n+\"checksum rustc-ap-syntax_pos 121.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d897ddf75e2d60a4c78edccf84c072b0905ee0acb6dd566882aaca2103594419\"\n \"checksum rustc-demangle 0.1.7 (registry+https://github.com/rust-lang/crates.io-index)\" = \"11fb43a206a04116ffd7cfcf9bcb941f8eb6cc7ff667272246b0a1c74259a3cb\"\n \"checksum same-file 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d931a44fdaa43b8637009e7632a02adc4f2b2e0733c08caa4cf00e8da4a117a7\"\n \"checksum scoped-tls 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8674d439c964889e2476f474a3bf198cc9e199e77499960893bac5de7e9218a4\""}, {"sha": "0bdbd2b4c95d0309a05e8c385741047cbef3d7c3", "filename": "Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0cc4a8d848f46cf71cf067b4004ac6d9714339f3/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/0cc4a8d848f46cf71cf067b4004ac6d9714339f3/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=0cc4a8d848f46cf71cf067b4004ac6d9714339f3", "patch": "@@ -46,8 +46,8 @@ env_logger = \"0.5\"\n getopts = \"0.2\"\n derive-new = \"0.5\"\n cargo_metadata = \"0.5.1\"\n-rustc-ap-rustc_target = \"113.0.0\"\n-rustc-ap-syntax = \"113.0.0\"\n+rustc-ap-rustc_target = \"121.0.0\"\n+rustc-ap-syntax = \"121.0.0\"\n failure = \"0.1.1\"\n \n [dev-dependencies]"}, {"sha": "894b99815b4444cf57e9799fbcec33a3a117c713", "filename": "src/attr.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0cc4a8d848f46cf71cf067b4004ac6d9714339f3/src%2Fattr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0cc4a8d848f46cf71cf067b4004ac6d9714339f3/src%2Fattr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fattr.rs?ref=0cc4a8d848f46cf71cf067b4004ac6d9714339f3", "patch": "@@ -200,9 +200,9 @@ fn allow_mixed_tactic_for_nested_metaitem_list(list: &[ast::NestedMetaItem]) ->\n impl Rewrite for ast::MetaItem {\n     fn rewrite(&self, context: &RewriteContext, shape: Shape) -> Option<String> {\n         Some(match self.node {\n-            ast::MetaItemKind::Word => String::from(&*self.ident.name.as_str()),\n+            ast::MetaItemKind::Word => String::from(&*self.name().as_str()),\n             ast::MetaItemKind::List(ref list) => {\n-                let name = self.ident.name.as_str();\n+                let name = self.name().as_str();\n                 let item_shape = match context.config.indent_style() {\n                     IndentStyle::Block => shape\n                         .block_indent(context.config.tab_spaces())\n@@ -260,7 +260,7 @@ impl Rewrite for ast::MetaItem {\n                 }\n             }\n             ast::MetaItemKind::NameValue(ref literal) => {\n-                let name = self.ident.name.as_str();\n+                let name = self.name().as_str();\n                 // 3 = ` = `\n                 let lit_shape = shape.shrink_left(name.len() + 3)?;\n                 // `rewrite_literal` returns `None` when `literal` exceeds max"}, {"sha": "f2bdc45b8314eb52764927fb4855f0cbe7e5b148", "filename": "src/utils.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0cc4a8d848f46cf71cf067b4004ac6d9714339f3/src%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0cc4a8d848f46cf71cf067b4004ac6d9714339f3/src%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Futils.rs?ref=0cc4a8d848f46cf71cf067b4004ac6d9714339f3", "patch": "@@ -211,9 +211,9 @@ pub fn last_line_extendable(s: &str) -> bool {\n #[inline]\n fn is_skip(meta_item: &MetaItem) -> bool {\n     match meta_item.node {\n-        MetaItemKind::Word => meta_item.ident.name == SKIP_ANNOTATION,\n+        MetaItemKind::Word => meta_item.name() == SKIP_ANNOTATION,\n         MetaItemKind::List(ref l) => {\n-            meta_item.ident.name == \"cfg_attr\" && l.len() == 2 && is_skip_nested(&l[1])\n+            meta_item.name() == \"cfg_attr\" && l.len() == 2 && is_skip_nested(&l[1])\n         }\n         _ => false,\n     }"}]}