{"sha": "301cfe135485e18666f1859ccf3e39ae4b91f564", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMwMWNmZTEzNTQ4NWUxODY2NmYxODU5Y2NmM2UzOWFlNGI5MWY1NjQ=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-30T01:15:59Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-30T01:16:53Z"}, "message": "rustc: Add all items to the item table during translation. lib-vec now compiles, but asserts and then segfaults.", "tree": {"sha": "66800ce3ff1ab30069f468e4c62db2d5479804e4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/66800ce3ff1ab30069f468e4c62db2d5479804e4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/301cfe135485e18666f1859ccf3e39ae4b91f564", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/301cfe135485e18666f1859ccf3e39ae4b91f564", "html_url": "https://github.com/rust-lang/rust/commit/301cfe135485e18666f1859ccf3e39ae4b91f564", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/301cfe135485e18666f1859ccf3e39ae4b91f564/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b09e09c6736136717436d092c8cfcf82873a46e9", "url": "https://api.github.com/repos/rust-lang/rust/commits/b09e09c6736136717436d092c8cfcf82873a46e9", "html_url": "https://github.com/rust-lang/rust/commit/b09e09c6736136717436d092c8cfcf82873a46e9"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "32c314b75eacd749d3c5fd8165c14b8b03b2e641", "filename": "src/comp/middle/trans.rs", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/301cfe135485e18666f1859ccf3e39ae4b91f564/src%2Fcomp%2Fmiddle%2Ftrans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/301cfe135485e18666f1859ccf3e39ae4b91f564/src%2Fcomp%2Fmiddle%2Ftrans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans.rs?ref=301cfe135485e18666f1859ccf3e39ae4b91f564", "patch": "@@ -6087,14 +6087,29 @@ fn collect_item(&@crate_ctxt cx, @ast.item i) -> @crate_ctxt {\n             cx.consts.insert(cid, g);\n         }\n \n+        case (ast.item_fn(_, _, _, ?did, _)) {\n+            // handled below\n+        }\n+\n         case (ast.item_mod(?name, ?m, ?mid)) {\n             cx.items.insert(mid, i);\n         }\n \n+        case (ast.item_native_mod(_, _, _)) {\n+            // empty\n+        }\n+\n+        case (ast.item_ty(_, _, _, ?did, _)) {\n+            cx.items.insert(did, i);\n+        }\n+\n         case (ast.item_tag(?name, ?variants, ?tps, ?tag_id)) {\n             cx.items.insert(tag_id, i);\n         }\n-        case (_) { /* fall through */ }\n+\n+        case (ast.item_obj(_, _, _, ?did, _)) {\n+            // handled below\n+        }\n     }\n     ret extend_path(cx, item_name(i));\n }"}]}