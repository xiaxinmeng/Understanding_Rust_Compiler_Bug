{"sha": "306397774de67c28a3408b4315552d6fc9bcf4f3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMwNjM5Nzc3NGRlNjdjMjhhMzQwOGI0MzE1NTUyZDZmYzliY2Y0ZjM=", "commit": {"author": {"name": "jsirs", "email": "44773712+jsirs@users.noreply.github.com", "date": "2018-11-05T15:30:01Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-11-05T15:30:01Z"}, "message": "add call to tcx.sess.delay_span_bug\n\nadd call to tcx.sess.delay_span_bug before returning none to make sure error is presented to user", "tree": {"sha": "42c4852a38cd13bc627078ebf42d91a72534587f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/42c4852a38cd13bc627078ebf42d91a72534587f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/306397774de67c28a3408b4315552d6fc9bcf4f3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJb4GH5CRBK7hj4Ov3rIwAAdHIIAKSUgMkYxJkzLxjZWxVt31LP\nD8+C+eW5PgZcajLTVEBqnhYFPFL+H7PFQftb/vcxxAePQfFTh22KhruGFElQlPT+\nsVauciRNkuYDPt9ssPWs37ZnLW8BexnjfNhayNNzluBAlIcnJyv3dFMtiy3W/fbm\nuCWGl/RZPQ97Cwdsc2U5ti2quZqcACu0qEXnQZWviPY3yT34z+7WAdE1CtVj3RCR\n14XTKqvbFhJp7TcdLpOrcuxxstMvFvJHk+i4uKH+1Dp+vCKd3S9M18hDWEwcz0eU\nuSCZRKFqC+jAeOvkMqx6+wylW8d/KSBzZkt+zYJJZQ2U2cKiZRf6G3Hm8Ol6HVQ=\n=YUfh\n-----END PGP SIGNATURE-----\n", "payload": "tree 42c4852a38cd13bc627078ebf42d91a72534587f\nparent 87c22f2b141018d9283d3956468c43106d8765aa\nauthor jsirs <44773712+jsirs@users.noreply.github.com> 1541431801 +0200\ncommitter GitHub <noreply@github.com> 1541431801 +0200\n\nadd call to tcx.sess.delay_span_bug\n\nadd call to tcx.sess.delay_span_bug before returning none to make sure error is presented to user"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/306397774de67c28a3408b4315552d6fc9bcf4f3", "html_url": "https://github.com/rust-lang/rust/commit/306397774de67c28a3408b4315552d6fc9bcf4f3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/306397774de67c28a3408b4315552d6fc9bcf4f3/comments", "author": {"login": "jsirs", "id": 44773712, "node_id": "MDQ6VXNlcjQ0NzczNzEy", "avatar_url": "https://avatars.githubusercontent.com/u/44773712?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsirs", "html_url": "https://github.com/jsirs", "followers_url": "https://api.github.com/users/jsirs/followers", "following_url": "https://api.github.com/users/jsirs/following{/other_user}", "gists_url": "https://api.github.com/users/jsirs/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsirs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsirs/subscriptions", "organizations_url": "https://api.github.com/users/jsirs/orgs", "repos_url": "https://api.github.com/users/jsirs/repos", "events_url": "https://api.github.com/users/jsirs/events{/privacy}", "received_events_url": "https://api.github.com/users/jsirs/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "87c22f2b141018d9283d3956468c43106d8765aa", "url": "https://api.github.com/repos/rust-lang/rust/commits/87c22f2b141018d9283d3956468c43106d8765aa", "html_url": "https://github.com/rust-lang/rust/commit/87c22f2b141018d9283d3956468c43106d8765aa"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "637f3eaae9a6ac91e0f3e5874cd420354699f697", "filename": "src/librustc_typeck/check/method/mod.rs", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/306397774de67c28a3408b4315552d6fc9bcf4f3/src%2Flibrustc_typeck%2Fcheck%2Fmethod%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/306397774de67c28a3408b4315552d6fc9bcf4f3/src%2Flibrustc_typeck%2Fcheck%2Fmethod%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmethod%2Fmod.rs?ref=306397774de67c28a3408b4315552d6fc9bcf4f3", "patch": "@@ -289,8 +289,14 @@ impl<'a, 'gcx, 'tcx> FnCtxt<'a, 'gcx, 'tcx> {\n         // Trait must have a method named `m_name` and it should not have\n         // type parameters or early-bound regions.\n         let tcx = self.tcx;\n-        let method_item =\n-            self.associated_item(trait_def_id, m_name, Namespace::Value)?;\n+        let method_item = match self.associated_item(trait_def_id, m_name, Namespace::Value) {\n+            Some(method_item) => method_item,\n+            None => {\n+                tcx.sess.delay_span_bug(span,\n+                    \"operator trait does not have corresponding operator method\");\n+                return None;\n+            }\n+        };\n         let def_id = method_item.def_id;\n         let generics = tcx.generics_of(def_id);\n         assert_eq!(generics.params.len(), 0);"}]}