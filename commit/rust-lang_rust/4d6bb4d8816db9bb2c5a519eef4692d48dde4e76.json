{"sha": "4d6bb4d8816db9bb2c5a519eef4692d48dde4e76", "node_id": "C_kwDOAAsO6NoAKDRkNmJiNGQ4ODE2ZGI5YmIyYzVhNTE5ZWVmNDY5MmQ0OGRkZTRlNzY", "commit": {"author": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2021-12-27T04:33:10Z"}, "committer": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2021-12-27T04:33:10Z"}, "message": "compiletest: Remove some vestigial code", "tree": {"sha": "bda7a84632ecad3bb8ad1ddb6ad97fe119653e56", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bda7a84632ecad3bb8ad1ddb6ad97fe119653e56"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4d6bb4d8816db9bb2c5a519eef4692d48dde4e76", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4d6bb4d8816db9bb2c5a519eef4692d48dde4e76", "html_url": "https://github.com/rust-lang/rust/commit/4d6bb4d8816db9bb2c5a519eef4692d48dde4e76", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4d6bb4d8816db9bb2c5a519eef4692d48dde4e76/comments", "author": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e98309298d927307c5184f4869604bd068d26183", "url": "https://api.github.com/repos/rust-lang/rust/commits/e98309298d927307c5184f4869604bd068d26183", "html_url": "https://github.com/rust-lang/rust/commit/e98309298d927307c5184f4869604bd068d26183"}], "stats": {"total": 11, "additions": 0, "deletions": 11}, "files": [{"sha": "27d59bc01f22a23f8a876862709df4ae464d8f69", "filename": "src/tools/compiletest/src/header.rs", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/4d6bb4d8816db9bb2c5a519eef4692d48dde4e76/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d6bb4d8816db9bb2c5a519eef4692d48dde4e76/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fheader.rs?ref=4d6bb4d8816db9bb2c5a519eef4692d48dde4e76", "patch": "@@ -78,8 +78,6 @@ pub struct TestProps {\n     pub unset_rustc_env: Vec<String>,\n     // Environment settings to use during execution\n     pub exec_env: Vec<(String, String)>,\n-    // Lines to check if they appear in the expected debugger output\n-    pub check_lines: Vec<String>,\n     // Build documentation for all specified aux-builds as well\n     pub build_aux_docs: bool,\n     // Flag to force a crate to be built with the host architecture\n@@ -165,7 +163,6 @@ impl TestProps {\n             rustc_env: vec![],\n             unset_rustc_env: vec![],\n             exec_env: vec![],\n-            check_lines: vec![],\n             build_aux_docs: false,\n             force_host: false,\n             check_stdout: false,\n@@ -318,10 +315,6 @@ impl TestProps {\n                     self.unset_rustc_env.push(ev);\n                 }\n \n-                if let Some(cl) = config.parse_check_line(ln) {\n-                    self.check_lines.push(cl);\n-                }\n-\n                 if let Some(of) = config.parse_forbid_output(ln) {\n                     self.forbid_output.push(of);\n                 }\n@@ -555,10 +548,6 @@ impl Config {\n         self.parse_name_value_directive(line, \"run-flags\")\n     }\n \n-    fn parse_check_line(&self, line: &str) -> Option<String> {\n-        self.parse_name_value_directive(line, \"check\")\n-    }\n-\n     fn parse_force_host(&self, line: &str) -> bool {\n         self.parse_name_directive(line, \"force-host\")\n     }"}]}