{"sha": "b6d5b728b38669233c684dbca8d09f249b429446", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI2ZDViNzI4YjM4NjY5MjMzYzY4NGRiY2E4ZDA5ZjI0OWI0Mjk0NDY=", "commit": {"author": {"name": "Erik Desjardins", "email": "erikdesjardins@users.noreply.github.com", "date": "2021-03-17T01:32:53Z"}, "committer": {"name": "Erik Desjardins", "email": "erikdesjardins@users.noreply.github.com", "date": "2021-03-17T01:34:31Z"}, "message": "bless tests", "tree": {"sha": "3f8bfff7df0e1d1b8e9943985c6e1376d4b77f0f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3f8bfff7df0e1d1b8e9943985c6e1376d4b77f0f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b6d5b728b38669233c684dbca8d09f249b429446", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b6d5b728b38669233c684dbca8d09f249b429446", "html_url": "https://github.com/rust-lang/rust/commit/b6d5b728b38669233c684dbca8d09f249b429446", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b6d5b728b38669233c684dbca8d09f249b429446/comments", "author": {"login": "erikdesjardins", "id": 7673145, "node_id": "MDQ6VXNlcjc2NzMxNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/7673145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erikdesjardins", "html_url": "https://github.com/erikdesjardins", "followers_url": "https://api.github.com/users/erikdesjardins/followers", "following_url": "https://api.github.com/users/erikdesjardins/following{/other_user}", "gists_url": "https://api.github.com/users/erikdesjardins/gists{/gist_id}", "starred_url": "https://api.github.com/users/erikdesjardins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erikdesjardins/subscriptions", "organizations_url": "https://api.github.com/users/erikdesjardins/orgs", "repos_url": "https://api.github.com/users/erikdesjardins/repos", "events_url": "https://api.github.com/users/erikdesjardins/events{/privacy}", "received_events_url": "https://api.github.com/users/erikdesjardins/received_events", "type": "User", "site_admin": false}, "committer": {"login": "erikdesjardins", "id": 7673145, "node_id": "MDQ6VXNlcjc2NzMxNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/7673145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erikdesjardins", "html_url": "https://github.com/erikdesjardins", "followers_url": "https://api.github.com/users/erikdesjardins/followers", "following_url": "https://api.github.com/users/erikdesjardins/following{/other_user}", "gists_url": "https://api.github.com/users/erikdesjardins/gists{/gist_id}", "starred_url": "https://api.github.com/users/erikdesjardins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erikdesjardins/subscriptions", "organizations_url": "https://api.github.com/users/erikdesjardins/orgs", "repos_url": "https://api.github.com/users/erikdesjardins/repos", "events_url": "https://api.github.com/users/erikdesjardins/events{/privacy}", "received_events_url": "https://api.github.com/users/erikdesjardins/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bca761dc5d6d13fadc7a2f3c222ebdc86b3da4d3", "url": "https://api.github.com/repos/rust-lang/rust/commits/bca761dc5d6d13fadc7a2f3c222ebdc86b3da4d3", "html_url": "https://github.com/rust-lang/rust/commit/bca761dc5d6d13fadc7a2f3c222ebdc86b3da4d3"}], "stats": {"total": 76, "additions": 38, "deletions": 38}, "files": [{"sha": "32d7e301c1a1d74b1fb9acfa5da2371b26a016f4", "filename": "src/test/mir-opt/dest-prop/cycle.main.DestinationPropagation.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fcycle.main.DestinationPropagation.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fcycle.main.DestinationPropagation.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fcycle.main.DestinationPropagation.diff?ref=b6d5b728b38669233c684dbca8d09f249b429446", "patch": "@@ -58,7 +58,6 @@\n +         _6 = _4;                         // scope 3 at $DIR/cycle.rs:14:10: 14:11\n           StorageDead(_6);                 // scope 3 at $DIR/cycle.rs:14:11: 14:12\n           StorageDead(_5);                 // scope 3 at $DIR/cycle.rs:14:12: 14:13\n-          nop;                             // scope 0 at $DIR/cycle.rs:8:11: 15:2\n -         StorageDead(_3);                 // scope 2 at $DIR/cycle.rs:15:1: 15:2\n -         StorageDead(_2);                 // scope 1 at $DIR/cycle.rs:15:1: 15:2\n -         StorageDead(_1);                 // scope 0 at $DIR/cycle.rs:15:1: 15:2"}, {"sha": "9be0738ea96ee0e0f7e1f9725875f75b2020ba3f", "filename": "src/test/mir-opt/dest-prop/union.main.DestinationPropagation.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.main.DestinationPropagation.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.main.DestinationPropagation.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.main.DestinationPropagation.diff?ref=b6d5b728b38669233c684dbca8d09f249b429446", "patch": "@@ -33,7 +33,6 @@\n           _4 = (_1.0: u32);                // scope 2 at $DIR/union.rs:15:19: 15:24\n           StorageDead(_4);                 // scope 1 at $DIR/union.rs:15:26: 15:27\n           StorageDead(_3);                 // scope 1 at $DIR/union.rs:15:27: 15:28\n-          nop;                             // scope 0 at $DIR/union.rs:8:11: 16:2\n           StorageDead(_1);                 // scope 0 at $DIR/union.rs:16:1: 16:2\n           return;                          // scope 0 at $DIR/union.rs:16:2: 16:2\n       }"}, {"sha": "96b03477d01085fba9ef24cb8cb0be116daf6d7e", "filename": "src/test/mir-opt/matches_reduce_branches.foo.MatchBranchSimplification.32bit.diff", "status": "modified", "additions": 16, "deletions": 13, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.MatchBranchSimplification.32bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.MatchBranchSimplification.32bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.MatchBranchSimplification.32bit.diff?ref=b6d5b728b38669233c684dbca8d09f249b429446", "patch": "@@ -5,22 +5,25 @@\n       debug bar => _1;                     // in scope 0 at $DIR/matches_reduce_branches.rs:7:8: 7:11\n       let mut _0: ();                      // return place in scope 0 at $DIR/matches_reduce_branches.rs:7:25: 7:25\n       let mut _2: isize;                   // in scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n++     let mut _3: isize;                   // in scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n   \n       bb0: {\n           _2 = discriminant(_1);           // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n-          switchInt(move _2) -> [0_isize: bb2, otherwise: bb1]; // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n-      }\n-  \n-      bb1: {\n-          _0 = const ();                   // scope 0 at $DIR/matches_reduce_branches.rs:10:6: 10:6\n-          goto -> bb3;                     // scope 0 at $DIR/matches_reduce_branches.rs:8:5: 10:6\n-      }\n-  \n-      bb2: {\n-          goto -> bb3;                     // scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      }\n-  \n-      bb3: {\n+-         switchInt(move _2) -> [0_isize: bb2, otherwise: bb1]; // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n+-     }\n+- \n+-     bb1: {\n+-         goto -> bb3;                     // scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+-     }\n+- \n+-     bb2: {\n+-         goto -> bb3;                     // scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+-     }\n+- \n+-     bb3: {\n++         StorageLive(_3);                 // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n++         _3 = move _2;                    // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n++         StorageDead(_3);                 // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n           return;                          // scope 0 at $DIR/matches_reduce_branches.rs:11:2: 11:2\n       }\n   }"}, {"sha": "96b03477d01085fba9ef24cb8cb0be116daf6d7e", "filename": "src/test/mir-opt/matches_reduce_branches.foo.MatchBranchSimplification.64bit.diff", "status": "modified", "additions": 16, "deletions": 13, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.MatchBranchSimplification.64bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.MatchBranchSimplification.64bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.MatchBranchSimplification.64bit.diff?ref=b6d5b728b38669233c684dbca8d09f249b429446", "patch": "@@ -5,22 +5,25 @@\n       debug bar => _1;                     // in scope 0 at $DIR/matches_reduce_branches.rs:7:8: 7:11\n       let mut _0: ();                      // return place in scope 0 at $DIR/matches_reduce_branches.rs:7:25: 7:25\n       let mut _2: isize;                   // in scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n++     let mut _3: isize;                   // in scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n   \n       bb0: {\n           _2 = discriminant(_1);           // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n-          switchInt(move _2) -> [0_isize: bb2, otherwise: bb1]; // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n-      }\n-  \n-      bb1: {\n-          _0 = const ();                   // scope 0 at $DIR/matches_reduce_branches.rs:10:6: 10:6\n-          goto -> bb3;                     // scope 0 at $DIR/matches_reduce_branches.rs:8:5: 10:6\n-      }\n-  \n-      bb2: {\n-          goto -> bb3;                     // scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      }\n-  \n-      bb3: {\n+-         switchInt(move _2) -> [0_isize: bb2, otherwise: bb1]; // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n+-     }\n+- \n+-     bb1: {\n+-         goto -> bb3;                     // scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+-     }\n+- \n+-     bb2: {\n+-         goto -> bb3;                     // scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+-     }\n+- \n+-     bb3: {\n++         StorageLive(_3);                 // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n++         _3 = move _2;                    // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n++         StorageDead(_3);                 // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n           return;                          // scope 0 at $DIR/matches_reduce_branches.rs:11:2: 11:2\n       }\n   }"}, {"sha": "e3b318c949fc60594c76875f753fbae4d7123eb7", "filename": "src/test/mir-opt/matches_reduce_branches.foo.PreCodegen.before.32bit.mir", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.PreCodegen.before.32bit.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.PreCodegen.before.32bit.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.PreCodegen.before.32bit.mir?ref=b6d5b728b38669233c684dbca8d09f249b429446", "patch": "@@ -3,10 +3,8 @@\n fn foo(_1: Option<()>) -> () {\n     debug bar => _1;                     // in scope 0 at $DIR/matches_reduce_branches.rs:7:8: 7:11\n     let mut _0: ();                      // return place in scope 0 at $DIR/matches_reduce_branches.rs:7:25: 7:25\n-    let mut _2: isize;                   // in scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n \n     bb0: {\n-        _2 = discriminant(_1);           // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n-        return;                          // scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+        return;                          // scope 0 at $DIR/matches_reduce_branches.rs:11:2: 11:2\n     }\n }"}, {"sha": "e3b318c949fc60594c76875f753fbae4d7123eb7", "filename": "src/test/mir-opt/matches_reduce_branches.foo.PreCodegen.before.64bit.mir", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.PreCodegen.before.64bit.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.PreCodegen.before.64bit.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fmatches_reduce_branches.foo.PreCodegen.before.64bit.mir?ref=b6d5b728b38669233c684dbca8d09f249b429446", "patch": "@@ -3,10 +3,8 @@\n fn foo(_1: Option<()>) -> () {\n     debug bar => _1;                     // in scope 0 at $DIR/matches_reduce_branches.rs:7:8: 7:11\n     let mut _0: ();                      // return place in scope 0 at $DIR/matches_reduce_branches.rs:7:25: 7:25\n-    let mut _2: isize;                   // in scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n \n     bb0: {\n-        _2 = discriminant(_1);           // scope 0 at $DIR/matches_reduce_branches.rs:8:22: 8:26\n-        return;                          // scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+        return;                          // scope 0 at $DIR/matches_reduce_branches.rs:11:2: 11:2\n     }\n }"}, {"sha": "546a95a86fa66d5c9179594f327d1819f5bbd0af", "filename": "src/test/mir-opt/remove_unneeded_drops.cannot_opt_generic.RemoveUnneededDrops.diff", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.cannot_opt_generic.RemoveUnneededDrops.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.cannot_opt_generic.RemoveUnneededDrops.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.cannot_opt_generic.RemoveUnneededDrops.diff?ref=b6d5b728b38669233c684dbca8d09f249b429446", "patch": "@@ -24,7 +24,7 @@\n       bb2: {\n           StorageDead(_3);                 // scope 0 at $DIR/remove_unneeded_drops.rs:21:11: 21:12\n           StorageDead(_2);                 // scope 0 at $DIR/remove_unneeded_drops.rs:21:12: 21:13\n-          _0 = const ();                   // scope 0 at $DIR/remove_unneeded_drops.rs:20:32: 22:2\n+          nop;                             // scope 0 at $DIR/remove_unneeded_drops.rs:20:32: 22:2\n           return;                          // scope 0 at $DIR/remove_unneeded_drops.rs:22:2: 22:2\n       }\n   }"}, {"sha": "b42813447b151d088fc0820fcd68eee6b6c18e6b", "filename": "src/test/mir-opt/remove_unneeded_drops.dont_opt.RemoveUnneededDrops.diff", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.dont_opt.RemoveUnneededDrops.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.dont_opt.RemoveUnneededDrops.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.dont_opt.RemoveUnneededDrops.diff?ref=b6d5b728b38669233c684dbca8d09f249b429446", "patch": "@@ -24,7 +24,7 @@\n       bb2: {\n           StorageDead(_3);                 // scope 0 at $DIR/remove_unneeded_drops.rs:9:11: 9:12\n           StorageDead(_2);                 // scope 0 at $DIR/remove_unneeded_drops.rs:9:12: 9:13\n-          _0 = const ();                   // scope 0 at $DIR/remove_unneeded_drops.rs:8:27: 10:2\n+          nop;                             // scope 0 at $DIR/remove_unneeded_drops.rs:8:27: 10:2\n           return;                          // scope 0 at $DIR/remove_unneeded_drops.rs:10:2: 10:2\n       }\n   }"}, {"sha": "ee52254f08b8ec09b98d6e4e7744ba87c3f6d430", "filename": "src/test/mir-opt/remove_unneeded_drops.opt.RemoveUnneededDrops.diff", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt.RemoveUnneededDrops.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt.RemoveUnneededDrops.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt.RemoveUnneededDrops.diff?ref=b6d5b728b38669233c684dbca8d09f249b429446", "patch": "@@ -20,7 +20,7 @@\n -     bb1: {\n           StorageDead(_3);                 // scope 0 at $DIR/remove_unneeded_drops.rs:4:11: 4:12\n           StorageDead(_2);                 // scope 0 at $DIR/remove_unneeded_drops.rs:4:12: 4:13\n-          _0 = const ();                   // scope 0 at $DIR/remove_unneeded_drops.rs:3:17: 5:2\n+-         nop;                             // scope 0 at $DIR/remove_unneeded_drops.rs:3:17: 5:2\n           return;                          // scope 0 at $DIR/remove_unneeded_drops.rs:5:2: 5:2\n       }\n   }"}, {"sha": "21bc90b0eb7035ce863721eeda7d4e0af5a42dcc", "filename": "src/test/mir-opt/remove_unneeded_drops.opt_generic_copy.RemoveUnneededDrops.diff", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt_generic_copy.RemoveUnneededDrops.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b6d5b728b38669233c684dbca8d09f249b429446/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt_generic_copy.RemoveUnneededDrops.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt_generic_copy.RemoveUnneededDrops.diff?ref=b6d5b728b38669233c684dbca8d09f249b429446", "patch": "@@ -20,7 +20,7 @@\n -     bb1: {\n           StorageDead(_3);                 // scope 0 at $DIR/remove_unneeded_drops.rs:14:11: 14:12\n           StorageDead(_2);                 // scope 0 at $DIR/remove_unneeded_drops.rs:14:12: 14:13\n-          _0 = const ();                   // scope 0 at $DIR/remove_unneeded_drops.rs:13:36: 15:2\n+-         nop;                             // scope 0 at $DIR/remove_unneeded_drops.rs:13:36: 15:2\n           return;                          // scope 0 at $DIR/remove_unneeded_drops.rs:15:2: 15:2\n       }\n   }"}]}