{"sha": "2e3da5d8c30238cddbc63131776af485d2d10cda", "node_id": "C_kwDOAAsO6NoAKDJlM2RhNWQ4YzMwMjM4Y2RkYmM2MzEzMTc3NmFmNDg1ZDJkMTBjZGE", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-08-15T23:33:07Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-08-15T23:33:07Z"}, "message": "check no-default-features and all-features build on CI", "tree": {"sha": "535bcc1060b389963fcd32363062734068490e38", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/535bcc1060b389963fcd32363062734068490e38"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2e3da5d8c30238cddbc63131776af485d2d10cda", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2e3da5d8c30238cddbc63131776af485d2d10cda", "html_url": "https://github.com/rust-lang/rust/commit/2e3da5d8c30238cddbc63131776af485d2d10cda", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2e3da5d8c30238cddbc63131776af485d2d10cda/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "79ebfa25dcde23f3eb95238a23707b69cc01a528", "url": "https://api.github.com/repos/rust-lang/rust/commits/79ebfa25dcde23f3eb95238a23707b69cc01a528", "html_url": "https://github.com/rust-lang/rust/commit/79ebfa25dcde23f3eb95238a23707b69cc01a528"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "8189596dba7770562b8603c870117ed35fb46d0d", "filename": "ci.sh", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2e3da5d8c30238cddbc63131776af485d2d10cda/ci.sh", "raw_url": "https://github.com/rust-lang/rust/raw/2e3da5d8c30238cddbc63131776af485d2d10cda/ci.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/ci.sh?ref=2e3da5d8c30238cddbc63131776af485d2d10cda", "patch": "@@ -5,11 +5,12 @@ set -x\n # Determine configuration\n export RUSTFLAGS=\"-D warnings\"\n export CARGO_INCREMENTAL=0\n-export CARGO_EXTRA_FLAGS=\"--all-features\"\n \n # Prepare\n echo \"Build and install miri\"\n ./miri install # implicitly locked\n+./miri check --no-default-features # make sure this can be built\n+./miri check --all-features # and this, too\n ./miri build --all-targets --locked # the build that all the `./miri test` below will use\n echo\n "}]}