{"sha": "03a62c180e6a7300d0d7b8c4d680b749c101bcbb", "node_id": "C_kwDOAAsO6NoAKDAzYTYyYzE4MGU2YTczMDBkMGQ3YjhjNGQ2ODBiNzQ5YzEwMWJjYmI", "commit": {"author": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2022-07-09T20:04:14Z"}, "committer": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2022-07-09T20:04:14Z"}, "message": "Bump vscode-languageclient", "tree": {"sha": "20ff0a4527da7c191c7cd2d50b0f946dd048b696", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/20ff0a4527da7c191c7cd2d50b0f946dd048b696"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/03a62c180e6a7300d0d7b8c4d680b749c101bcbb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/03a62c180e6a7300d0d7b8c4d680b749c101bcbb", "html_url": "https://github.com/rust-lang/rust/commit/03a62c180e6a7300d0d7b8c4d680b749c101bcbb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/03a62c180e6a7300d0d7b8c4d680b749c101bcbb/comments", "author": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "666343b759e4949415ce7ad786b3cede1263b0ae", "url": "https://api.github.com/repos/rust-lang/rust/commits/666343b759e4949415ce7ad786b3cede1263b0ae", "html_url": "https://github.com/rust-lang/rust/commit/666343b759e4949415ce7ad786b3cede1263b0ae"}], "stats": {"total": 73, "additions": 38, "deletions": 35}, "files": [{"sha": "26d8a45eec4e174fc9288d30a892e8e0c008bb47", "filename": "editors/code/package-lock.json", "status": "modified", "additions": 32, "deletions": 32, "changes": 64, "blob_url": "https://github.com/rust-lang/rust/blob/03a62c180e6a7300d0d7b8c4d680b749c101bcbb/editors%2Fcode%2Fpackage-lock.json", "raw_url": "https://github.com/rust-lang/rust/raw/03a62c180e6a7300d0d7b8c4d680b749c101bcbb/editors%2Fcode%2Fpackage-lock.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage-lock.json?ref=03a62c180e6a7300d0d7b8c4d680b749c101bcbb", "patch": "@@ -11,7 +11,7 @@\n             \"dependencies\": {\n                 \"d3\": \"^7.3.0\",\n                 \"d3-graphviz\": \"^4.1.0\",\n-                \"vscode-languageclient\": \"8.0.0-next.14\"\n+                \"vscode-languageclient\": \"^8.0.1\"\n             },\n             \"devDependencies\": {\n                 \"@types/node\": \"~14.17.5\",\n@@ -3947,39 +3947,39 @@\n             }\n         },\n         \"node_modules/vscode-jsonrpc\": {\n-            \"version\": \"8.0.0-next.7\",\n-            \"resolved\": \"https://registry.npmjs.org/vscode-jsonrpc/-/vscode-jsonrpc-8.0.0-next.7.tgz\",\n-            \"integrity\": \"sha512-JX/F31LEsims0dAlOTKFE4E+AJMiJvdRSRViifFJSqSN7EzeYyWlfuDchF7g91oRNPZOIWfibTkDf3/UMsQGzQ==\",\n+            \"version\": \"8.0.1\",\n+            \"resolved\": \"https://registry.npmjs.org/vscode-jsonrpc/-/vscode-jsonrpc-8.0.1.tgz\",\n+            \"integrity\": \"sha512-N/WKvghIajmEvXpatSzvTvOIz61ZSmOSa4BRA4pTLi+1+jozquQKP/MkaylP9iB68k73Oua1feLQvH3xQuigiQ==\",\n             \"engines\": {\n                 \"node\": \">=14.0.0\"\n             }\n         },\n         \"node_modules/vscode-languageclient\": {\n-            \"version\": \"8.0.0-next.14\",\n-            \"resolved\": \"https://registry.npmjs.org/vscode-languageclient/-/vscode-languageclient-8.0.0-next.14.tgz\",\n-            \"integrity\": \"sha512-NqjkOuDTMu8uo+PhoMsV72VO9Gd3wBi/ZpOrkRUOrWKQo7yUdiIw183g8wjH8BImgbK9ZP51HM7TI0ZhCnI1Mw==\",\n+            \"version\": \"8.0.1\",\n+            \"resolved\": \"https://registry.npmjs.org/vscode-languageclient/-/vscode-languageclient-8.0.1.tgz\",\n+            \"integrity\": \"sha512-9XoE+HJfaWvu7Y75H3VmLo5WLCtsbxEgEhrLPqwt7eyoR49lUIyyrjb98Yfa50JCMqF2cePJAEVI6oe2o1sIhw==\",\n             \"dependencies\": {\n                 \"minimatch\": \"^3.0.4\",\n                 \"semver\": \"^7.3.5\",\n-                \"vscode-languageserver-protocol\": \"3.17.0-next.16\"\n+                \"vscode-languageserver-protocol\": \"3.17.1\"\n             },\n             \"engines\": {\n-                \"vscode\": \"^1.66.0\"\n+                \"vscode\": \"^1.67.0\"\n             }\n         },\n         \"node_modules/vscode-languageserver-protocol\": {\n-            \"version\": \"3.17.0-next.16\",\n-            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-protocol/-/vscode-languageserver-protocol-3.17.0-next.16.tgz\",\n-            \"integrity\": \"sha512-tx4DnXw9u3N7vw+bx6n2NKp6FoxoNwiP/biH83AS30I2AnTGyLd7afSeH6Oewn2E8jvB7K15bs12sMppkKOVeQ==\",\n+            \"version\": \"3.17.1\",\n+            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-protocol/-/vscode-languageserver-protocol-3.17.1.tgz\",\n+            \"integrity\": \"sha512-BNlAYgQoYwlSgDLJhSG+DeA8G1JyECqRzM2YO6tMmMji3Ad9Mw6AW7vnZMti90qlAKb0LqAlJfSVGEdqMMNzKg==\",\n             \"dependencies\": {\n-                \"vscode-jsonrpc\": \"8.0.0-next.7\",\n-                \"vscode-languageserver-types\": \"3.17.0-next.9\"\n+                \"vscode-jsonrpc\": \"8.0.1\",\n+                \"vscode-languageserver-types\": \"3.17.1\"\n             }\n         },\n         \"node_modules/vscode-languageserver-types\": {\n-            \"version\": \"3.17.0-next.9\",\n-            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-types/-/vscode-languageserver-types-3.17.0-next.9.tgz\",\n-            \"integrity\": \"sha512-9/PeDNPYduaoXRUzYpqmu4ZV9L01HGo0wH9FUt+sSHR7IXwA7xoXBfNUlv8gB9H0D2WwEmMomSy1NmhjKQyn3A==\"\n+            \"version\": \"3.17.1\",\n+            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-types/-/vscode-languageserver-types-3.17.1.tgz\",\n+            \"integrity\": \"sha512-K3HqVRPElLZVVPtMeKlsyL9aK0GxGQpvtAUTfX4k7+iJ4mc1M+JM+zQwkgGy2LzY0f0IAafe8MKqIkJrxfGGjQ==\"\n         },\n         \"node_modules/which\": {\n             \"version\": \"2.0.2\",\n@@ -6985,33 +6985,33 @@\n             }\n         },\n         \"vscode-jsonrpc\": {\n-            \"version\": \"8.0.0-next.7\",\n-            \"resolved\": \"https://registry.npmjs.org/vscode-jsonrpc/-/vscode-jsonrpc-8.0.0-next.7.tgz\",\n-            \"integrity\": \"sha512-JX/F31LEsims0dAlOTKFE4E+AJMiJvdRSRViifFJSqSN7EzeYyWlfuDchF7g91oRNPZOIWfibTkDf3/UMsQGzQ==\"\n+            \"version\": \"8.0.1\",\n+            \"resolved\": \"https://registry.npmjs.org/vscode-jsonrpc/-/vscode-jsonrpc-8.0.1.tgz\",\n+            \"integrity\": \"sha512-N/WKvghIajmEvXpatSzvTvOIz61ZSmOSa4BRA4pTLi+1+jozquQKP/MkaylP9iB68k73Oua1feLQvH3xQuigiQ==\"\n         },\n         \"vscode-languageclient\": {\n-            \"version\": \"8.0.0-next.14\",\n-            \"resolved\": \"https://registry.npmjs.org/vscode-languageclient/-/vscode-languageclient-8.0.0-next.14.tgz\",\n-            \"integrity\": \"sha512-NqjkOuDTMu8uo+PhoMsV72VO9Gd3wBi/ZpOrkRUOrWKQo7yUdiIw183g8wjH8BImgbK9ZP51HM7TI0ZhCnI1Mw==\",\n+            \"version\": \"8.0.1\",\n+            \"resolved\": \"https://registry.npmjs.org/vscode-languageclient/-/vscode-languageclient-8.0.1.tgz\",\n+            \"integrity\": \"sha512-9XoE+HJfaWvu7Y75H3VmLo5WLCtsbxEgEhrLPqwt7eyoR49lUIyyrjb98Yfa50JCMqF2cePJAEVI6oe2o1sIhw==\",\n             \"requires\": {\n                 \"minimatch\": \"^3.0.4\",\n                 \"semver\": \"^7.3.5\",\n-                \"vscode-languageserver-protocol\": \"3.17.0-next.16\"\n+                \"vscode-languageserver-protocol\": \"3.17.1\"\n             }\n         },\n         \"vscode-languageserver-protocol\": {\n-            \"version\": \"3.17.0-next.16\",\n-            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-protocol/-/vscode-languageserver-protocol-3.17.0-next.16.tgz\",\n-            \"integrity\": \"sha512-tx4DnXw9u3N7vw+bx6n2NKp6FoxoNwiP/biH83AS30I2AnTGyLd7afSeH6Oewn2E8jvB7K15bs12sMppkKOVeQ==\",\n+            \"version\": \"3.17.1\",\n+            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-protocol/-/vscode-languageserver-protocol-3.17.1.tgz\",\n+            \"integrity\": \"sha512-BNlAYgQoYwlSgDLJhSG+DeA8G1JyECqRzM2YO6tMmMji3Ad9Mw6AW7vnZMti90qlAKb0LqAlJfSVGEdqMMNzKg==\",\n             \"requires\": {\n-                \"vscode-jsonrpc\": \"8.0.0-next.7\",\n-                \"vscode-languageserver-types\": \"3.17.0-next.9\"\n+                \"vscode-jsonrpc\": \"8.0.1\",\n+                \"vscode-languageserver-types\": \"3.17.1\"\n             }\n         },\n         \"vscode-languageserver-types\": {\n-            \"version\": \"3.17.0-next.9\",\n-            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-types/-/vscode-languageserver-types-3.17.0-next.9.tgz\",\n-            \"integrity\": \"sha512-9/PeDNPYduaoXRUzYpqmu4ZV9L01HGo0wH9FUt+sSHR7IXwA7xoXBfNUlv8gB9H0D2WwEmMomSy1NmhjKQyn3A==\"\n+            \"version\": \"3.17.1\",\n+            \"resolved\": \"https://registry.npmjs.org/vscode-languageserver-types/-/vscode-languageserver-types-3.17.1.tgz\",\n+            \"integrity\": \"sha512-K3HqVRPElLZVVPtMeKlsyL9aK0GxGQpvtAUTfX4k7+iJ4mc1M+JM+zQwkgGy2LzY0f0IAafe8MKqIkJrxfGGjQ==\"\n         },\n         \"which\": {\n             \"version\": \"2.0.2\","}, {"sha": "2128647d9e1022400b2a82bed50074499f16cc6c", "filename": "editors/code/package.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/03a62c180e6a7300d0d7b8c4d680b749c101bcbb/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/03a62c180e6a7300d0d7b8c4d680b749c101bcbb/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=03a62c180e6a7300d0d7b8c4d680b749c101bcbb", "patch": "@@ -37,7 +37,7 @@\n     \"dependencies\": {\n         \"d3\": \"^7.3.0\",\n         \"d3-graphviz\": \"^4.1.0\",\n-        \"vscode-languageclient\": \"8.0.0-next.14\"\n+        \"vscode-languageclient\": \"^8.0.1\"\n     },\n     \"devDependencies\": {\n         \"@types/node\": \"~14.17.5\","}, {"sha": "a8d57a0e684ed4f3ddb20d69262116609fd981ba", "filename": "editors/code/src/client.ts", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/03a62c180e6a7300d0d7b8c4d680b749c101bcbb/editors%2Fcode%2Fsrc%2Fclient.ts", "raw_url": "https://github.com/rust-lang/rust/raw/03a62c180e6a7300d0d7b8c4d680b749c101bcbb/editors%2Fcode%2Fsrc%2Fclient.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fclient.ts?ref=03a62c180e6a7300d0d7b8c4d680b749c101bcbb", "patch": "@@ -261,6 +261,10 @@ export async function createClient(\n }\n \n class ExperimentalFeatures implements lc.StaticFeature {\n+    getState(): lc.FeatureState {\n+        return { kind: \"static\" };\n+    }\n+\n     fillClientCapabilities(capabilities: lc.ClientCapabilities): void {\n         const caps: any = capabilities.experimental ?? {};\n         caps.snippetTextEdit = true;"}, {"sha": "992c3d5de6900873a6992ad3d496742a6da1785c", "filename": "editors/code/src/ctx.ts", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/03a62c180e6a7300d0d7b8c4d680b749c101bcbb/editors%2Fcode%2Fsrc%2Fctx.ts", "raw_url": "https://github.com/rust-lang/rust/raw/03a62c180e6a7300d0d7b8c4d680b749c101bcbb/editors%2Fcode%2Fsrc%2Fctx.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fctx.ts?ref=03a62c180e6a7300d0d7b8c4d680b749c101bcbb", "patch": "@@ -42,8 +42,7 @@ export class Ctx {\n \n         const res = new Ctx(config, extCtx, client, serverPath, statusBar);\n \n-        res.pushCleanup(client.start());\n-        await client.onReady();\n+        await client.start();\n         client.onNotification(ra.serverStatus, (params) => res.setServerStatus(params));\n         return res;\n     }"}]}