{"sha": "3cf3910c15a3c33dde3c380ac57501d37aa58e71", "node_id": "C_kwDOAAsO6NoAKDNjZjM5MTBjMTVhM2MzM2RkZTNjMzgwYWM1NzUwMWQzN2FhNThlNzE", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2021-10-31T08:20:23Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-10-31T08:20:23Z"}, "message": "Rollup merge of #89833 - jkugelman:must-use-rc-downgrade, r=joshtriplett\n\nAdd #[must_use] to Rc::downgrade\n\nMissed this in previous PR https://github.com/rust-lang/rust/pull/89796#issuecomment-941456006\n\nParent issue: #89692\n\nr? ```@joshtriplett```", "tree": {"sha": "3842d284ec3368375fae2bb5e243f66028823f38", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3842d284ec3368375fae2bb5e243f66028823f38"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3cf3910c15a3c33dde3c380ac57501d37aa58e71", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhflHHCRBK7hj4Ov3rIwAAWRYIAGSTSO+nZ34LQSJfh0ZM/aLL\nU4MemM/PQcD33CxkBTVIjomqt3yXcQAeuCCdKbwfJcQrwa7thoHybjyR/3/qM3UG\nk6Eq4BAHTaergvm8PWjTAAetl4M1PDroYJYL1IHjXxH8AdAAw4vR9Y0Q+4oTwUQp\n3n+IuU5Mt+2PHMTux/mGR+Zllf+5xQlXWWbdLcVPOqa0BzFzPpaTf4PLrrRg95TW\nhNXlQ8cADTZoVqjlGqXX8MFhC3DUMuDfWPqA2DplcZtiy1LfzVqZ+AGrgD516Jgc\nHIigys/CjpTJEavACoyglsCeJW5MkllDtdhxugtwMiYMq1LrZKGkPX4VpWMDYRw=\n=ZhBL\n-----END PGP SIGNATURE-----\n", "payload": "tree 3842d284ec3368375fae2bb5e243f66028823f38\nparent 15a0cddff3a4fa0c66a7689ef3ba615a6d2366e5\nparent 5bb99bb02d6d0ec4d9239fd9bce48a41fb084811\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1635668423 +0100\ncommitter GitHub <noreply@github.com> 1635668423 +0100\n\nRollup merge of #89833 - jkugelman:must-use-rc-downgrade, r=joshtriplett\n\nAdd #[must_use] to Rc::downgrade\n\nMissed this in previous PR https://github.com/rust-lang/rust/pull/89796#issuecomment-941456006\n\nParent issue: #89692\n\nr? ```@joshtriplett```\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3cf3910c15a3c33dde3c380ac57501d37aa58e71", "html_url": "https://github.com/rust-lang/rust/commit/3cf3910c15a3c33dde3c380ac57501d37aa58e71", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3cf3910c15a3c33dde3c380ac57501d37aa58e71/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "15a0cddff3a4fa0c66a7689ef3ba615a6d2366e5", "url": "https://api.github.com/repos/rust-lang/rust/commits/15a0cddff3a4fa0c66a7689ef3ba615a6d2366e5", "html_url": "https://github.com/rust-lang/rust/commit/15a0cddff3a4fa0c66a7689ef3ba615a6d2366e5"}, {"sha": "5bb99bb02d6d0ec4d9239fd9bce48a41fb084811", "url": "https://api.github.com/repos/rust-lang/rust/commits/5bb99bb02d6d0ec4d9239fd9bce48a41fb084811", "html_url": "https://github.com/rust-lang/rust/commit/5bb99bb02d6d0ec4d9239fd9bce48a41fb084811"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "c0ca068de9c21f955791dbe918157b80bfb30499", "filename": "library/alloc/src/rc.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3cf3910c15a3c33dde3c380ac57501d37aa58e71/library%2Falloc%2Fsrc%2Frc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3cf3910c15a3c33dde3c380ac57501d37aa58e71/library%2Falloc%2Fsrc%2Frc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Frc.rs?ref=3cf3910c15a3c33dde3c380ac57501d37aa58e71", "patch": "@@ -41,7 +41,7 @@\n //! use std::rc::Rc;\n //!\n //! let my_rc = Rc::new(());\n-//! Rc::downgrade(&my_rc);\n+//! let my_weak = Rc::downgrade(&my_rc);\n //! ```\n //!\n //! `Rc<T>`'s implementations of traits like `Clone` may also be called using\n@@ -889,6 +889,8 @@ impl<T: ?Sized> Rc<T> {\n     ///\n     /// let weak_five = Rc::downgrade(&five);\n     /// ```\n+    #[must_use = \"this returns a new `Weak` pointer, \\\n+                  without modifying the original `Rc`\"]\n     #[stable(feature = \"rc_weak\", since = \"1.4.0\")]\n     pub fn downgrade(this: &Self) -> Weak<T> {\n         this.inner().inc_weak();"}]}