{"sha": "e271383c6b0cd234512d495fe499875b6f0288aa", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUyNzEzODNjNmIwY2QyMzQ1MTJkNDk1ZmU0OTk4NzViNmYwMjg4YWE=", "commit": {"author": {"name": "Matthew Jasper", "email": "mjjasper1@gmail.com", "date": "2021-03-06T11:22:08Z"}, "committer": {"name": "R\u00e9my Rakic", "email": "remy.rakic+github@gmail.com", "date": "2021-08-15T06:44:37Z"}, "message": "Simplify BoundUniversalRegionError", "tree": {"sha": "ff973938615d0b780350db3aa2bc67fcfcbb40fd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ff973938615d0b780350db3aa2bc67fcfcbb40fd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e271383c6b0cd234512d495fe499875b6f0288aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e271383c6b0cd234512d495fe499875b6f0288aa", "html_url": "https://github.com/rust-lang/rust/commit/e271383c6b0cd234512d495fe499875b6f0288aa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e271383c6b0cd234512d495fe499875b6f0288aa/comments", "author": {"login": "matthewjasper", "id": 20113453, "node_id": "MDQ6VXNlcjIwMTEzNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewjasper", "html_url": "https://github.com/matthewjasper", "followers_url": "https://api.github.com/users/matthewjasper/followers", "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}", "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions", "organizations_url": "https://api.github.com/users/matthewjasper/orgs", "repos_url": "https://api.github.com/users/matthewjasper/repos", "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewjasper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lqd", "id": 247183, "node_id": "MDQ6VXNlcjI0NzE4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/247183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lqd", "html_url": "https://github.com/lqd", "followers_url": "https://api.github.com/users/lqd/followers", "following_url": "https://api.github.com/users/lqd/following{/other_user}", "gists_url": "https://api.github.com/users/lqd/gists{/gist_id}", "starred_url": "https://api.github.com/users/lqd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lqd/subscriptions", "organizations_url": "https://api.github.com/users/lqd/orgs", "repos_url": "https://api.github.com/users/lqd/repos", "events_url": "https://api.github.com/users/lqd/events{/privacy}", "received_events_url": "https://api.github.com/users/lqd/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4421dd17fad45f0ab285a17255dab686e21c1a84", "url": "https://api.github.com/repos/rust-lang/rust/commits/4421dd17fad45f0ab285a17255dab686e21c1a84", "html_url": "https://github.com/rust-lang/rust/commit/4421dd17fad45f0ab285a17255dab686e21c1a84"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "2d6194c48c39072067751defb0c9a7bd67f961d5", "filename": "compiler/rustc_mir/src/borrow_check/diagnostics/region_errors.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/e271383c6b0cd234512d495fe499875b6f0288aa/compiler%2Frustc_mir%2Fsrc%2Fborrow_check%2Fdiagnostics%2Fregion_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e271383c6b0cd234512d495fe499875b6f0288aa/compiler%2Frustc_mir%2Fsrc%2Fborrow_check%2Fdiagnostics%2Fregion_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Fborrow_check%2Fdiagnostics%2Fregion_errors.rs?ref=e271383c6b0cd234512d495fe499875b6f0288aa", "patch": "@@ -75,8 +75,8 @@ crate enum RegionErrorKind<'tcx> {\n         longer_fr: RegionVid,\n         /// The region element that erroneously must be outlived by `longer_fr`.\n         error_element: RegionElement,\n-        /// The origin of the placeholder region.\n-        fr_origin: NllRegionVariableOrigin,\n+        /// The placeholder region.\n+        placeholder: ty::PlaceholderRegion,\n     },\n \n     /// Any other lifetime error.\n@@ -210,17 +210,17 @@ impl<'a, 'tcx> MirBorrowckCtxt<'a, 'tcx> {\n \n                 RegionErrorKind::BoundUniversalRegionError {\n                     longer_fr,\n-                    fr_origin,\n+                    placeholder,\n                     error_element,\n                 } => {\n-                    let error_region = self.regioncx.region_from_element(longer_fr, error_element);\n+                    let error_vid = self.regioncx.region_from_element(longer_fr, error_element);\n \n                     // Find the code to blame for the fact that `longer_fr` outlives `error_fr`.\n                     let (_, span) = self.regioncx.find_outlives_blame_span(\n                         &self.body,\n                         longer_fr,\n-                        fr_origin,\n-                        error_region,\n+                        NllRegionVariableOrigin::Placeholder(placeholder),\n+                        error_vid,\n                     );\n \n                     // FIXME: improve this error message"}, {"sha": "3fe02ece06dca40077e80965021a4d62e853e942", "filename": "compiler/rustc_mir/src/borrow_check/region_infer/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e271383c6b0cd234512d495fe499875b6f0288aa/compiler%2Frustc_mir%2Fsrc%2Fborrow_check%2Fregion_infer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e271383c6b0cd234512d495fe499875b6f0288aa/compiler%2Frustc_mir%2Fsrc%2Fborrow_check%2Fregion_infer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Fborrow_check%2Fregion_infer%2Fmod.rs?ref=e271383c6b0cd234512d495fe499875b6f0288aa", "patch": "@@ -1632,7 +1632,7 @@ impl<'tcx> RegionInferenceContext<'tcx> {\n         errors_buffer.push(RegionErrorKind::BoundUniversalRegionError {\n             longer_fr,\n             error_element,\n-            fr_origin: NllRegionVariableOrigin::Placeholder(placeholder),\n+            placeholder,\n         });\n     }\n "}, {"sha": "940caf6eae8545bd717819a642bf413557cf1fa1", "filename": "compiler/rustc_mir/src/borrow_check/region_infer/values.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e271383c6b0cd234512d495fe499875b6f0288aa/compiler%2Frustc_mir%2Fsrc%2Fborrow_check%2Fregion_infer%2Fvalues.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e271383c6b0cd234512d495fe499875b6f0288aa/compiler%2Frustc_mir%2Fsrc%2Fborrow_check%2Fregion_infer%2Fvalues.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Fborrow_check%2Fregion_infer%2Fvalues.rs?ref=e271383c6b0cd234512d495fe499875b6f0288aa", "patch": "@@ -114,7 +114,7 @@ rustc_index::newtype_index! {\n \n /// An individual element in a region value -- the value of a\n /// particular region variable consists of a set of these elements.\n-#[derive(Debug, Clone)]\n+#[derive(Debug, Copy, Clone)]\n crate enum RegionElement {\n     /// A point in the control-flow graph.\n     Location(Location),"}]}