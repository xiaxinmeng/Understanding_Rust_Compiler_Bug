{"sha": "af415647475b30e296ce7ef26abb9ec63d2458e6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFmNDE1NjQ3NDc1YjMwZTI5NmNlN2VmMjZhYmI5ZWM2M2QyNDU4ZTY=", "commit": {"author": {"name": "Erick Tryzelaar", "email": "erick.tryzelaar@gmail.com", "date": "2011-12-27T03:31:25Z"}, "committer": {"name": "Erick Tryzelaar", "email": "erick.tryzelaar@gmail.com", "date": "2011-12-28T19:19:41Z"}, "message": "libstd: add a method to generate random bytestrings.", "tree": {"sha": "d0033cc812f30484739c0d8e44138781d9ec84d7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d0033cc812f30484739c0d8e44138781d9ec84d7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/af415647475b30e296ce7ef26abb9ec63d2458e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/af415647475b30e296ce7ef26abb9ec63d2458e6", "html_url": "https://github.com/rust-lang/rust/commit/af415647475b30e296ce7ef26abb9ec63d2458e6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/af415647475b30e296ce7ef26abb9ec63d2458e6/comments", "author": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5d84652f511d68f401493284c82525cdabe2fafb", "url": "https://api.github.com/repos/rust-lang/rust/commits/5d84652f511d68f401493284c82525cdabe2fafb", "html_url": "https://github.com/rust-lang/rust/commit/5d84652f511d68f401493284c82525cdabe2fafb"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "2d577a5fcf5e07441b7b19a244821267fa239321", "filename": "src/libstd/rand.rs", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/af415647475b30e296ce7ef26abb9ec63d2458e6/src%2Flibstd%2Frand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af415647475b30e296ce7ef26abb9ec63d2458e6/src%2Flibstd%2Frand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Frand.rs?ref=af415647475b30e296ce7ef26abb9ec63d2458e6", "patch": "@@ -39,6 +39,13 @@ type rng = obj {\n     Return a random string composed of A-Z, a-z, 0-9.\n     */\n     fn gen_str(len: uint) -> str;\n+\n+    /*\n+    Method: gen_bytes\n+\n+    Return a random byte string.\n+    */\n+    fn gen_bytes(len: uint) -> [u8];\n };\n \n resource rand_res(c: rustrt::rctx) { rustrt::rand_free(c); }\n@@ -74,6 +81,16 @@ fn mk_rng() -> rng {\n             }\n             s\n         }\n+        fn gen_bytes(len: uint) -> [u8] {\n+            let v = [];\n+            let i = 0u;\n+            while i < len {\n+                let n = rustrt::rand_next(**c) as uint;\n+                v += [(n % (u8::max_value as uint)) as u8];\n+                i += 1u;\n+            }\n+            v\n+        }\n     }\n     ret rt_rng(@rand_res(rustrt::rand_new()));\n }"}]}