{"sha": "a07192fadd794b1eaaec85541886e07578002b74", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEwNzE5MmZhZGQ3OTRiMWVhYWVjODU1NDE4ODZlMDc1NzgwMDJiNzQ=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2013-02-22T02:27:24Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2013-02-23T00:09:16Z"}, "message": "libsyntax: Remove all mutable fields from libsyntax. rs=demuting", "tree": {"sha": "24e178f84f1543d1902abd15c7740edba2f78a26", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/24e178f84f1543d1902abd15c7740edba2f78a26"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a07192fadd794b1eaaec85541886e07578002b74", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a07192fadd794b1eaaec85541886e07578002b74", "html_url": "https://github.com/rust-lang/rust/commit/a07192fadd794b1eaaec85541886e07578002b74", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a07192fadd794b1eaaec85541886e07578002b74/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "934c938f90662522c4a8a86bd58d7618207f5c2a", "url": "https://api.github.com/repos/rust-lang/rust/commits/934c938f90662522c4a8a86bd58d7618207f5c2a", "html_url": "https://github.com/rust-lang/rust/commit/934c938f90662522c4a8a86bd58d7618207f5c2a"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "1ab55fe9035bc3f21e098fb02e0c50bfc1b8a448", "filename": "src/libsyntax/codemap.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a07192fadd794b1eaaec85541886e07578002b74/src%2Flibsyntax%2Fcodemap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a07192fadd794b1eaaec85541886e07578002b74/src%2Flibsyntax%2Fcodemap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fcodemap.rs?ref=a07192fadd794b1eaaec85541886e07578002b74", "patch": "@@ -242,7 +242,7 @@ pub struct FileMap {\n     /// The start position of this source in the CodeMap\n     start_pos: BytePos,\n     /// Locations of lines beginnings in the source code\n-    mut lines: ~[BytePos],\n+    lines: @mut ~[BytePos],\n     /// Locations of multi-byte characters in the source code\n     multibyte_chars: DVec<MultiByteChar>\n }\n@@ -312,7 +312,7 @@ pub impl CodeMap {\n         let filemap = @FileMap {\n             name: filename, substr: substr, src: src,\n             start_pos: BytePos(start_pos),\n-            mut lines: ~[],\n+            lines: @mut ~[],\n             multibyte_chars: DVec()\n         };\n \n@@ -439,7 +439,7 @@ priv impl CodeMap {\n         let idx = self.lookup_filemap_idx(pos);\n         let f = self.files[idx];\n         let mut a = 0u;\n-        let mut b = vec::len(f.lines);\n+        let mut b = f.lines.len();\n         while b - a > 1u {\n             let m = (a + b) / 2u;\n             if f.lines[m] > pos { b = m; } else { a = m; }"}, {"sha": "41500d6a409a8c2fdc6a241818b8c838914c17e2", "filename": "src/libsyntax/util/interner.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a07192fadd794b1eaaec85541886e07578002b74/src%2Flibsyntax%2Futil%2Finterner.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a07192fadd794b1eaaec85541886e07578002b74/src%2Flibsyntax%2Futil%2Finterner.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Futil%2Finterner.rs?ref=a07192fadd794b1eaaec85541886e07578002b74", "patch": "@@ -18,15 +18,15 @@ use hashmap::linear::LinearMap;\n use dvec::DVec;\n \n pub struct Interner<T> {\n-    priv mut map: LinearMap<T, uint>,\n+    priv map: @mut LinearMap<T, uint>,\n     priv vect: DVec<T>,\n }\n \n // when traits can extend traits, we should extend index<uint,T> to get []\n pub impl<T:Eq + IterBytes + Hash + Const + Copy> Interner<T> {\n     static fn new() -> Interner<T> {\n         Interner {\n-            map: LinearMap::new(),\n+            map: @mut LinearMap::new(),\n             vect: DVec(),\n         }\n     }"}]}