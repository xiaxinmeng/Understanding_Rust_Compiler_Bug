{"sha": "d6c03926ab8aff457a3e9b607bdcca654bfe17fe", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ2YzAzOTI2YWI4YWZmNDU3YTNlOWI2MDdiZGNjYTY1NGJmZTE3ZmU=", "commit": {"author": {"name": "Vytautas Astrauskas", "email": "astrauv@amazon.com", "date": "2020-04-19T19:24:46Z"}, "committer": {"name": "Vytautas Astrauskas", "email": "astrauv@amazon.com", "date": "2020-04-27T21:26:36Z"}, "message": "Rename MacOS set global dtor function.", "tree": {"sha": "96f2ee64a7cc30ffeda62332f3e6b4bd6065d39c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/96f2ee64a7cc30ffeda62332f3e6b4bd6065d39c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d6c03926ab8aff457a3e9b607bdcca654bfe17fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d6c03926ab8aff457a3e9b607bdcca654bfe17fe", "html_url": "https://github.com/rust-lang/rust/commit/d6c03926ab8aff457a3e9b607bdcca654bfe17fe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d6c03926ab8aff457a3e9b607bdcca654bfe17fe/comments", "author": null, "committer": null, "parents": [{"sha": "c84b2890adb6b67712c6cff565eed2521dc9ba65", "url": "https://api.github.com/repos/rust-lang/rust/commits/c84b2890adb6b67712c6cff565eed2521dc9ba65", "html_url": "https://github.com/rust-lang/rust/commit/c84b2890adb6b67712c6cff565eed2521dc9ba65"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "9f6ea00b03132d96b65c6c180fb4ad9e53e14121", "filename": "src/shims/foreign_items/posix/macos.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d6c03926ab8aff457a3e9b607bdcca654bfe17fe/src%2Fshims%2Fforeign_items%2Fposix%2Fmacos.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6c03926ab8aff457a3e9b607bdcca654bfe17fe/src%2Fshims%2Fforeign_items%2Fposix%2Fmacos.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Fforeign_items%2Fposix%2Fmacos.rs?ref=d6c03926ab8aff457a3e9b607bdcca654bfe17fe", "patch": "@@ -83,7 +83,7 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n                 let dtor = this.memory.get_fn(dtor)?.as_instance()?;\n                 let data = this.read_scalar(args[1])?.not_undef()?;\n                 let active_thread = this.get_active_thread()?;\n-                this.machine.tls.set_global_dtor(active_thread, dtor, data)?;\n+                this.machine.tls.set_thread_global_dtor(active_thread, dtor, data)?;\n             }\n \n             // Querying system information"}, {"sha": "c08ec78c136da504a59e24761d00b3514c4772b8", "filename": "src/shims/tls.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d6c03926ab8aff457a3e9b607bdcca654bfe17fe/src%2Fshims%2Ftls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6c03926ab8aff457a3e9b607bdcca654bfe17fe/src%2Fshims%2Ftls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Ftls.rs?ref=d6c03926ab8aff457a3e9b607bdcca654bfe17fe", "patch": "@@ -123,7 +123,7 @@ impl<'tcx> TlsData<'tcx> {\n     /// implementation](https://github.com/opensource-apple/dyld/blob/195030646877261f0c8c7ad8b001f52d6a26f514/src/threadLocalVariables.c#L389):\n     ///\n     ///     // NOTE: this does not need locks because it only operates on current thread data\n-    pub fn set_global_dtor(\n+    pub fn set_thread_global_dtor(\n         &mut self,\n         thread: ThreadId,\n         dtor: ty::Instance<'tcx>,"}]}