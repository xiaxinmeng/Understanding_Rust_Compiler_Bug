{"sha": "a7c8afd28d45018f3c3af9dec569c36bd4dea10a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE3YzhhZmQyOGQ0NTAxOGYzYzNhZjlkZWM1NjljMzZiZDRkZWExMGE=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2017-02-27T20:39:16Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2017-03-04T18:38:26Z"}, "message": "Support combination MSVC + Ninja", "tree": {"sha": "f36095b91fbfdfc8499b021d693a8b557d8517ba", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f36095b91fbfdfc8499b021d693a8b557d8517ba"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a7c8afd28d45018f3c3af9dec569c36bd4dea10a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a7c8afd28d45018f3c3af9dec569c36bd4dea10a", "html_url": "https://github.com/rust-lang/rust/commit/a7c8afd28d45018f3c3af9dec569c36bd4dea10a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a7c8afd28d45018f3c3af9dec569c36bd4dea10a/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f2187093f8d19c39071502c9e95bacabd5febd88", "url": "https://api.github.com/repos/rust-lang/rust/commits/f2187093f8d19c39071502c9e95bacabd5febd88", "html_url": "https://github.com/rust-lang/rust/commit/f2187093f8d19c39071502c9e95bacabd5febd88"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "aa4d65de0ac57fc5278e7914f6545e1b302b5a67", "filename": "src/Cargo.lock", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/a7c8afd28d45018f3c3af9dec569c36bd4dea10a/src%2FCargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/a7c8afd28d45018f3c3af9dec569c36bd4dea10a/src%2FCargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FCargo.lock?ref=a7c8afd28d45018f3c3af9dec569c36bd4dea10a", "patch": "@@ -80,7 +80,7 @@ name = \"bootstrap\"\n version = \"0.0.0\"\n dependencies = [\n  \"build_helper 0.1.0\",\n- \"cmake 0.1.20 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cmake 0.1.21 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"filetime 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"gcc 0.3.43 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"getopts 0.2.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -202,7 +202,7 @@ dependencies = [\n \n [[package]]\n name = \"cmake\"\n-version = \"0.1.20\"\n+version = \"0.1.21\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"gcc 0.3.43 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -894,7 +894,7 @@ version = \"0.0.0\"\n dependencies = [\n  \"alloc_system 0.0.0\",\n  \"build_helper 0.1.0\",\n- \"cmake 0.1.20 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cmake 0.1.21 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n ]\n \n@@ -1037,7 +1037,7 @@ version = \"0.0.0\"\n dependencies = [\n  \"alloc_system 0.0.0\",\n  \"build_helper 0.1.0\",\n- \"cmake 0.1.20 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cmake 0.1.21 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n ]\n \n@@ -1081,7 +1081,7 @@ version = \"0.0.0\"\n dependencies = [\n  \"alloc_system 0.0.0\",\n  \"build_helper 0.1.0\",\n- \"cmake 0.1.20 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cmake 0.1.21 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n ]\n \n@@ -1173,7 +1173,7 @@ version = \"0.0.0\"\n dependencies = [\n  \"alloc_system 0.0.0\",\n  \"build_helper 0.1.0\",\n- \"cmake 0.1.20 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cmake 0.1.21 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"core 0.0.0\",\n ]\n \n@@ -1573,7 +1573,7 @@ dependencies = [\n \"checksum bufstream 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7b48dbe2ff0e98fa2f03377d204a9637d3c9816cd431bfe05a8abbd0ea11d074\"\n \"checksum cfg-if 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"de1e760d7b6535af4241fca8bd8adf68e2e7edacc6b29f5d399050c5e48cf88c\"\n \"checksum clap 2.20.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7db281b0520e97fbd15cd615dcd8f8bcad0c26f5f7d5effe705f090f39e9a758\"\n-\"checksum cmake 0.1.20 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a3a6805df695087e7c1bcd9a82e03ad6fb864c8e67ac41b1348229ce5b7f0407\"\n+\"checksum cmake 0.1.21 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e1acc68a3f714627af38f9f5d09706a28584ba60dfe2cca68f40bf779f941b25\"\n \"checksum crossbeam 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0c5ea215664ca264da8a9d9c3be80d2eaf30923c259d03e870388eb927508f97\"\n \"checksum curl 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c90e1240ef340dd4027ade439e5c7c2064dd9dc652682117bd50d1486a3add7b\"\n \"checksum curl-sys 0.3.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c0d909dc402ae80b6f7b0118c039203436061b9d9a3ca5d2c2546d93e0a61aaa\""}, {"sha": "98b68d870d375b529706c5af008a4598e8c33bfb", "filename": "src/bootstrap/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a7c8afd28d45018f3c3af9dec569c36bd4dea10a/src%2Fbootstrap%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a7c8afd28d45018f3c3af9dec569c36bd4dea10a/src%2Fbootstrap%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Flib.rs?ref=a7c8afd28d45018f3c3af9dec569c36bd4dea10a", "patch": "@@ -740,7 +740,7 @@ impl Build {\n         } else {\n             let base = self.llvm_out(&self.config.build).join(\"build\");\n             let exe = exe(\"FileCheck\", target);\n-            if self.config.build.contains(\"msvc\") {\n+            if !self.config.ninja && self.config.build.contains(\"msvc\") {\n                 base.join(\"Release/bin\").join(exe)\n             } else {\n                 base.join(\"bin\").join(exe)"}]}