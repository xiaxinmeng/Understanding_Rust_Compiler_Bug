{"sha": "533422fcce7f0887f37b69a30f96216cff79afa1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUzMzQyMmZjY2U3ZjA4ODdmMzdiNjlhMzBmOTYyMTZjZmY3OWFmYTE=", "commit": {"author": {"name": "Krishna Sai Veera Reddy", "email": "veerareddy@email.arizona.edu", "date": "2020-02-18T16:04:02Z"}, "committer": {"name": "Krishna Sai Veera Reddy", "email": "veerareddy@email.arizona.edu", "date": "2020-02-18T16:05:00Z"}, "message": "Add `LOG2_10` and `LOG10_2` to `approx_const` lint", "tree": {"sha": "d7b999457b815f4084d6b05188b0061e8dd8ee4f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d7b999457b815f4084d6b05188b0061e8dd8ee4f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/533422fcce7f0887f37b69a30f96216cff79afa1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/533422fcce7f0887f37b69a30f96216cff79afa1", "html_url": "https://github.com/rust-lang/rust/commit/533422fcce7f0887f37b69a30f96216cff79afa1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/533422fcce7f0887f37b69a30f96216cff79afa1/comments", "author": {"login": "krishna-veerareddy", "id": 41484652, "node_id": "MDQ6VXNlcjQxNDg0NjUy", "avatar_url": "https://avatars.githubusercontent.com/u/41484652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krishna-veerareddy", "html_url": "https://github.com/krishna-veerareddy", "followers_url": "https://api.github.com/users/krishna-veerareddy/followers", "following_url": "https://api.github.com/users/krishna-veerareddy/following{/other_user}", "gists_url": "https://api.github.com/users/krishna-veerareddy/gists{/gist_id}", "starred_url": "https://api.github.com/users/krishna-veerareddy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krishna-veerareddy/subscriptions", "organizations_url": "https://api.github.com/users/krishna-veerareddy/orgs", "repos_url": "https://api.github.com/users/krishna-veerareddy/repos", "events_url": "https://api.github.com/users/krishna-veerareddy/events{/privacy}", "received_events_url": "https://api.github.com/users/krishna-veerareddy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "krishna-veerareddy", "id": 41484652, "node_id": "MDQ6VXNlcjQxNDg0NjUy", "avatar_url": "https://avatars.githubusercontent.com/u/41484652?v=4", "gravatar_id": "", "url": "https://api.github.com/users/krishna-veerareddy", "html_url": "https://github.com/krishna-veerareddy", "followers_url": "https://api.github.com/users/krishna-veerareddy/followers", "following_url": "https://api.github.com/users/krishna-veerareddy/following{/other_user}", "gists_url": "https://api.github.com/users/krishna-veerareddy/gists{/gist_id}", "starred_url": "https://api.github.com/users/krishna-veerareddy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/krishna-veerareddy/subscriptions", "organizations_url": "https://api.github.com/users/krishna-veerareddy/orgs", "repos_url": "https://api.github.com/users/krishna-veerareddy/repos", "events_url": "https://api.github.com/users/krishna-veerareddy/events{/privacy}", "received_events_url": "https://api.github.com/users/krishna-veerareddy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bfa334391bbdfbb30b04c2382dc0a1a674194714", "url": "https://api.github.com/repos/rust-lang/rust/commits/bfa334391bbdfbb30b04c2382dc0a1a674194714", "html_url": "https://github.com/rust-lang/rust/commit/bfa334391bbdfbb30b04c2382dc0a1a674194714"}], "stats": {"total": 30, "additions": 25, "deletions": 5}, "files": [{"sha": "51b6f2f0688ffe114325b68081d7e603f9ec74e7", "filename": "clippy_lints/src/approx_const.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/533422fcce7f0887f37b69a30f96216cff79afa1/clippy_lints%2Fsrc%2Fapprox_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/533422fcce7f0887f37b69a30f96216cff79afa1/clippy_lints%2Fsrc%2Fapprox_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fapprox_const.rs?ref=533422fcce7f0887f37b69a30f96216cff79afa1", "patch": "@@ -37,7 +37,7 @@ declare_clippy_lint! {\n }\n \n // Tuples are of the form (constant, name, min_digits)\n-const KNOWN_CONSTS: [(f64, &str, usize); 16] = [\n+const KNOWN_CONSTS: [(f64, &str, usize); 18] = [\n     (f64::E, \"E\", 4),\n     (f64::FRAC_1_PI, \"FRAC_1_PI\", 4),\n     (f64::FRAC_1_SQRT_2, \"FRAC_1_SQRT_2\", 5),\n@@ -52,6 +52,8 @@ const KNOWN_CONSTS: [(f64, &str, usize); 16] = [\n     (f64::LN_2, \"LN_2\", 5),\n     (f64::LOG10_E, \"LOG10_E\", 5),\n     (f64::LOG2_E, \"LOG2_E\", 5),\n+    (f64::LOG2_10, \"LOG2_10\", 5),\n+    (f64::LOG10_2, \"LOG10_2\", 5),\n     (f64::PI, \"PI\", 3),\n     (f64::SQRT_2, \"SQRT_2\", 5),\n ];"}, {"sha": "e1c150fdefd4b62596481aba80a110fdca9c6c33", "filename": "tests/ui/approx_const.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/533422fcce7f0887f37b69a30f96216cff79afa1/tests%2Fui%2Fapprox_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/533422fcce7f0887f37b69a30f96216cff79afa1/tests%2Fui%2Fapprox_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fapprox_const.rs?ref=533422fcce7f0887f37b69a30f96216cff79afa1", "patch": "@@ -45,6 +45,12 @@ fn main() {\n     let my_log2_e = 1.4426950408889634;\n     let no_log2_e = 1.442;\n \n+    let log2_10 = 3.321928094887362;\n+    let no_log2_10 = 3.321;\n+\n+    let log10_2 = 0.301029995663981;\n+    let no_log10_2 = 0.301;\n+\n     let my_pi = 3.1415;\n     let almost_pi = 3.14;\n     let no_pi = 3.15;"}, {"sha": "98b85443f0b70dcab0ab82e4a8b2e087cc1acb35", "filename": "tests/ui/approx_const.stderr", "status": "modified", "additions": 16, "deletions": 4, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/533422fcce7f0887f37b69a30f96216cff79afa1/tests%2Fui%2Fapprox_const.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/533422fcce7f0887f37b69a30f96216cff79afa1/tests%2Fui%2Fapprox_const.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fapprox_const.stderr?ref=533422fcce7f0887f37b69a30f96216cff79afa1", "patch": "@@ -96,23 +96,35 @@ error: approximate value of `f{32, 64}::consts::LOG2_E` found. Consider using it\n LL |     let my_log2_e = 1.4426950408889634;\n    |                     ^^^^^^^^^^^^^^^^^^\n \n+error: approximate value of `f{32, 64}::consts::LOG2_10` found. Consider using it directly\n+  --> $DIR/approx_const.rs:48:19\n+   |\n+LL |     let log2_10 = 3.321928094887362;\n+   |                   ^^^^^^^^^^^^^^^^^\n+\n+error: approximate value of `f{32, 64}::consts::LOG10_2` found. Consider using it directly\n+  --> $DIR/approx_const.rs:51:19\n+   |\n+LL |     let log10_2 = 0.301029995663981;\n+   |                   ^^^^^^^^^^^^^^^^^\n+\n error: approximate value of `f{32, 64}::consts::PI` found. Consider using it directly\n-  --> $DIR/approx_const.rs:48:17\n+  --> $DIR/approx_const.rs:54:17\n    |\n LL |     let my_pi = 3.1415;\n    |                 ^^^^^^\n \n error: approximate value of `f{32, 64}::consts::PI` found. Consider using it directly\n-  --> $DIR/approx_const.rs:49:21\n+  --> $DIR/approx_const.rs:55:21\n    |\n LL |     let almost_pi = 3.14;\n    |                     ^^^^\n \n error: approximate value of `f{32, 64}::consts::SQRT_2` found. Consider using it directly\n-  --> $DIR/approx_const.rs:52:18\n+  --> $DIR/approx_const.rs:58:18\n    |\n LL |     let my_sq2 = 1.4142;\n    |                  ^^^^^^\n \n-error: aborting due to 19 previous errors\n+error: aborting due to 21 previous errors\n "}]}