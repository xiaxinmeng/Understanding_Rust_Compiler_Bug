{"sha": "9897927504ca64b90e2e7a742a22d7ddb6a3bc69", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk4OTc5Mjc1MDRjYTY0YjkwZTJlN2E3NDJhMjJkN2RkYjZhM2JjNjk=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-02-06T19:29:58Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-02-06T19:33:39Z"}, "message": "Rustup to rust-lang/rust#68788", "tree": {"sha": "d96b440cb143b8904b66c92ed94310ea874d9837", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d96b440cb143b8904b66c92ed94310ea874d9837"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9897927504ca64b90e2e7a742a22d7ddb6a3bc69", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAl48ahMACgkQaTCGhp1Q\nZjeK/Q//QZvE1yGK28zf8o90ryUWk3yc2Exz2mPtE1Wf9tfxPzg16WL/LoZja/1N\nANGJtfKuWsm4KWuC140yR5OJA1UvJYforyz8x9+AY6nfYAqL6AJZossmxkJrD2ut\n+Ef823G0aTvtY2enyLmu05Dn97YageeMmAN+a4r1b2i9z3x2y0WPDfGVp8JoCRew\nJFwztTvubCbhyNQz5uoicIy5eaI9WZHVMsacXiIgZfKSfcsN13glTI9jyMpW+M3w\nH3g/yeEni3m++7L7Ey2JVTkXjWC7s43lH904Fwi3UMtYHso20C5g+g5bGqhsv30D\nmJNBxzITvoVgIbIVvpllUbSkew9Djv4zVLnl9XFdNKVb7kz9t/zPlfkLL5MMVk8B\n47jY14asqTwiHVQq9Yach4ub6EUAnBS8O75beZLYp6A+/FOP2/WMABD/GmPBay2J\nI9ZjVG0LzPsQciFuclGnqhozKjR1RV3LutfZXh4CsWQeLNYPMrckrrDqM8S4RxLw\nPkmGhjs6DB5jlsU7dsJi0FOjglY2FdFa6aWqlebH9NB6Jxy/cd3H2LrDeToG5P5w\nogidFg40RFrA2ETGNPmae5wX+KeOyAWKXtpXeEQGOBk7Xd5BRCVXNSnjsk3dmWP8\n6abUtjWkP6X42aeS1+CfJY6thPiX3PStAtk27IA0GA6s1fpbQfo=\n=tCoK\n-----END PGP SIGNATURE-----", "payload": "tree d96b440cb143b8904b66c92ed94310ea874d9837\nparent a6f310ed0e22a422e7001efbe7e4bf2a0c9a0eff\nauthor flip1995 <hello@philkrones.com> 1581017398 +0100\ncommitter flip1995 <hello@philkrones.com> 1581017619 +0100\n\nRustup to rust-lang/rust#68788\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9897927504ca64b90e2e7a742a22d7ddb6a3bc69", "html_url": "https://github.com/rust-lang/rust/commit/9897927504ca64b90e2e7a742a22d7ddb6a3bc69", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9897927504ca64b90e2e7a742a22d7ddb6a3bc69/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a6f310ed0e22a422e7001efbe7e4bf2a0c9a0eff", "url": "https://api.github.com/repos/rust-lang/rust/commits/a6f310ed0e22a422e7001efbe7e4bf2a0c9a0eff", "html_url": "https://github.com/rust-lang/rust/commit/a6f310ed0e22a422e7001efbe7e4bf2a0c9a0eff"}], "stats": {"total": 25, "additions": 12, "deletions": 13}, "files": [{"sha": "e0e2a0caee4ea4bdfb7bcfce62243f41d788e359", "filename": "clippy_lints/src/misc_early.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9897927504ca64b90e2e7a742a22d7ddb6a3bc69/clippy_lints%2Fsrc%2Fmisc_early.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9897927504ca64b90e2e7a742a22d7ddb6a3bc69/clippy_lints%2Fsrc%2Fmisc_early.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmisc_early.rs?ref=9897927504ca64b90e2e7a742a22d7ddb6a3bc69", "patch": "@@ -372,10 +372,10 @@ impl EarlyLintPass for MiscEarlyLints {\n         check_unneeded_wildcard_pattern(cx, pat);\n     }\n \n-    fn check_fn(&mut self, cx: &EarlyContext<'_>, _: FnKind<'_>, decl: &FnDecl, _: Span, _: NodeId) {\n+    fn check_fn(&mut self, cx: &EarlyContext<'_>, fn_kind: FnKind<'_>, _: Span, _: NodeId) {\n         let mut registered_names: FxHashMap<String, Span> = FxHashMap::default();\n \n-        for arg in &decl.inputs {\n+        for arg in &fn_kind.decl().inputs {\n             if let PatKind::Ident(_, ident, None) = arg.pat.kind {\n                 let arg_name = ident.to_string();\n "}, {"sha": "2a7fbe6c0c64fa59226d4287daa19b8336e26748", "filename": "clippy_lints/src/non_expressive_names.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9897927504ca64b90e2e7a742a22d7ddb6a3bc69/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9897927504ca64b90e2e7a742a22d7ddb6a3bc69/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnon_expressive_names.rs?ref=9897927504ca64b90e2e7a742a22d7ddb6a3bc69", "patch": "@@ -352,7 +352,7 @@ impl<'a, 'tcx> Visitor<'tcx> for SimilarNamesLocalVisitor<'a, 'tcx> {\n \n impl EarlyLintPass for NonExpressiveNames {\n     fn check_item(&mut self, cx: &EarlyContext<'_>, item: &Item) {\n-        if let ItemKind::Fn(ref sig, _, ref blk) = item.kind {\n+        if let ItemKind::Fn(ref sig, _, Some(ref blk)) = item.kind {\n             do_check(self, cx, &item.attrs, &sig.decl, blk);\n         }\n     }"}, {"sha": "6bf373a9a626545f1e20fe09d3ea5100552ed0ca", "filename": "clippy_lints/src/returns.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9897927504ca64b90e2e7a742a22d7ddb6a3bc69/clippy_lints%2Fsrc%2Freturns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9897927504ca64b90e2e7a742a22d7ddb6a3bc69/clippy_lints%2Fsrc%2Freturns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Freturns.rs?ref=9897927504ca64b90e2e7a742a22d7ddb6a3bc69", "patch": "@@ -235,13 +235,14 @@ impl Return {\n }\n \n impl EarlyLintPass for Return {\n-    fn check_fn(&mut self, cx: &EarlyContext<'_>, kind: FnKind<'_>, decl: &ast::FnDecl, span: Span, _: ast::NodeId) {\n+    fn check_fn(&mut self, cx: &EarlyContext<'_>, kind: FnKind<'_>, span: Span, _: ast::NodeId) {\n         match kind {\n-            FnKind::ItemFn(.., block) | FnKind::Method(.., block) => self.check_block_return(cx, block),\n-            FnKind::Closure(body) => self.check_final_expr(cx, body, Some(body.span), RetReplacement::Empty),\n+            FnKind::Fn(.., Some(block)) => self.check_block_return(cx, block),\n+            FnKind::Closure(_, body) => self.check_final_expr(cx, body, Some(body.span), RetReplacement::Empty),\n+            FnKind::Fn(.., None) => {},\n         }\n         if_chain! {\n-            if let ast::FunctionRetTy::Ty(ref ty) = decl.output;\n+            if let ast::FunctionRetTy::Ty(ref ty) = kind.decl().output;\n             if let ast::TyKind::Tup(ref vals) = ty.kind;\n             if vals.is_empty() && !ty.span.from_expansion() && get_def(span) == get_def(ty.span);\n             then {"}, {"sha": "945999de89fe53bd9c8619d35b243e3791b685f7", "filename": "clippy_lints/src/utils/internal_lints.rs", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/9897927504ca64b90e2e7a742a22d7ddb6a3bc69/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9897927504ca64b90e2e7a742a22d7ddb6a3bc69/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs?ref=9897927504ca64b90e2e7a742a22d7ddb6a3bc69", "patch": "@@ -380,18 +380,16 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for OuterExpnDataPass {\n declare_lint_pass!(ProduceIce => [PRODUCE_ICE]);\n \n impl EarlyLintPass for ProduceIce {\n-    fn check_fn(&mut self, _: &EarlyContext<'_>, fn_kind: FnKind<'_>, _: &ast::FnDecl, _: Span, _: ast::NodeId) {\n+    fn check_fn(&mut self, _: &EarlyContext<'_>, fn_kind: FnKind<'_>, _: Span, _: ast::NodeId) {\n         if is_trigger_fn(fn_kind) {\n-            panic!(\"Testing the ICE message\");\n+            panic!(\"Would you like some help with that?\");\n         }\n     }\n }\n \n fn is_trigger_fn(fn_kind: FnKind<'_>) -> bool {\n     match fn_kind {\n-        FnKind::ItemFn(ident, ..) | FnKind::Method(ident, ..) => {\n-            ident.name.as_str() == \"it_looks_like_you_are_trying_to_kill_clippy\"\n-        },\n+        FnKind::Fn(_, ident, ..) => ident.name.as_str() == \"it_looks_like_you_are_trying_to_kill_clippy\",\n         FnKind::Closure(..) => false,\n     }\n }"}, {"sha": "a9a65a38c109d4b956f99d62d991a7a5dc0d1758", "filename": "tests/ui/custom_ice_message.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9897927504ca64b90e2e7a742a22d7ddb6a3bc69/tests%2Fui%2Fcustom_ice_message.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9897927504ca64b90e2e7a742a22d7ddb6a3bc69/tests%2Fui%2Fcustom_ice_message.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcustom_ice_message.stderr?ref=9897927504ca64b90e2e7a742a22d7ddb6a3bc69", "patch": "@@ -1,4 +1,4 @@\n-thread 'rustc' panicked at 'Testing the ICE message', clippy_lints/src/utils/internal_lints.rs\n+thread 'rustc' panicked at 'Would you like some help with that?', clippy_lints/src/utils/internal_lints.rs\n note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\n \n error: internal compiler error: unexpected panic"}]}