{"sha": "17393b26b961937cda562a2f4bb5e80b2ce49b1e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE3MzkzYjI2Yjk2MTkzN2NkYTU2MmEyZjRiYjVlODBiMmNlNDliMWU=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-06-11T15:13:54Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-06-11T15:13:54Z"}, "message": "Rollup merge of #61518 - czipperz:const-fn-doc-disallow-loops, r=Centril\n\nAdd loops to doc list of things not stable in const fn\n\nCloses #61508", "tree": {"sha": "7924110c0e4af1994f62a37dfdc5d820c5c52c75", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7924110c0e4af1994f62a37dfdc5d820c5c52c75"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/17393b26b961937cda562a2f4bb5e80b2ce49b1e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJc/8UyCRBK7hj4Ov3rIwAAdHIIAHHGrjbPcUGrYh5W2Fmyu65B\ntbjLM+fyklODqfJ1DoK1C7m/haWm6EFy1lVyeIu6f50AfX36s3LAy0Uf4BjvE+R/\nqfeqFhRyhi3CpGQX8bQAx43rXnoZNvZbfL+eWdxrc+kLT7pqFL+SKKCokLPhi5D1\n0G6p3KxyRiWP399oYnIW8uXZ0Hwf2++4L35fPFbHAECoWM2HkBfLdO5Eew1yjBLe\nJgArQZfxZBFDnzQgMIVfVyJckv8QN/s2de4BU4cYRIA+eSHoyNzwAW2EikE9FGcI\npDIbfQNRwZAKv0OphTuE3X/5Q8h99NyQsj03tdLpBGC5aAdvmUYBNkqujnAkrZs=\n=IJNH\n-----END PGP SIGNATURE-----\n", "payload": "tree 7924110c0e4af1994f62a37dfdc5d820c5c52c75\nparent 8e948df707ea8a3c88c65bf2ffdcb2f1cf5491be\nparent 8e7ade85e60f2834f6f6637d916c5709a33a9109\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1560266034 +0200\ncommitter GitHub <noreply@github.com> 1560266034 +0200\n\nRollup merge of #61518 - czipperz:const-fn-doc-disallow-loops, r=Centril\n\nAdd loops to doc list of things not stable in const fn\n\nCloses #61508\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/17393b26b961937cda562a2f4bb5e80b2ce49b1e", "html_url": "https://github.com/rust-lang/rust/commit/17393b26b961937cda562a2f4bb5e80b2ce49b1e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/17393b26b961937cda562a2f4bb5e80b2ce49b1e/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8e948df707ea8a3c88c65bf2ffdcb2f1cf5491be", "url": "https://api.github.com/repos/rust-lang/rust/commits/8e948df707ea8a3c88c65bf2ffdcb2f1cf5491be", "html_url": "https://github.com/rust-lang/rust/commit/8e948df707ea8a3c88c65bf2ffdcb2f1cf5491be"}, {"sha": "8e7ade85e60f2834f6f6637d916c5709a33a9109", "url": "https://api.github.com/repos/rust-lang/rust/commits/8e7ade85e60f2834f6f6637d916c5709a33a9109", "html_url": "https://github.com/rust-lang/rust/commit/8e7ade85e60f2834f6f6637d916c5709a33a9109"}], "stats": {"total": 28, "additions": 14, "deletions": 14}, "files": [{"sha": "7bafef79acd1a48ef5e18ce9ff6d5e3c4aea0b2b", "filename": "src/librustc_mir/transform/qualify_min_const_fn.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Flibrustc_mir%2Ftransform%2Fqualify_min_const_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Flibrustc_mir%2Ftransform%2Fqualify_min_const_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fqualify_min_const_fn.rs?ref=17393b26b961937cda562a2f4bb5e80b2ce49b1e", "patch": "@@ -299,7 +299,7 @@ fn check_terminator(\n \n         TerminatorKind::FalseEdges { .. } | TerminatorKind::SwitchInt { .. } => Err((\n             span,\n-            \"`if`, `match`, `&&` and `||` are not stable in const fn\".into(),\n+            \"loops and conditional expressions are not stable in const fn\".into(),\n         )),\n         | TerminatorKind::Abort | TerminatorKind::Unreachable => {\n             Err((span, \"const fn with unreachable code is not stable\".into()))"}, {"sha": "abbdb4ab632dc2d7a2956d00be7ef452f82e2982", "filename": "src/test/ui/consts/min_const_fn/min_const_fn.nll.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.nll.stderr?ref=17393b26b961937cda562a2f4bb5e80b2ce49b1e", "patch": "@@ -160,7 +160,7 @@ LL | const fn foo30_2_with_unsafe(x: *mut u32) -> usize { unsafe { x as usize }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:100:38\n    |\n LL | const fn foo30_4(b: bool) -> usize { if b { 1 } else { 42 } }\n@@ -169,7 +169,7 @@ LL | const fn foo30_4(b: bool) -> usize { if b { 1 } else { 42 } }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:102:29\n    |\n LL | const fn foo30_5(b: bool) { while b { } }\n@@ -178,7 +178,7 @@ LL | const fn foo30_5(b: bool) { while b { } }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:104:44\n    |\n LL | const fn foo36(a: bool, b: bool) -> bool { a && b }\n@@ -187,7 +187,7 @@ LL | const fn foo36(a: bool, b: bool) -> bool { a && b }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:106:44\n    |\n LL | const fn foo37(a: bool, b: bool) -> bool { a || b }"}, {"sha": "40e7107e4a15e1654309a068a612819d59d0e576", "filename": "src/test/ui/consts/min_const_fn/min_const_fn.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.rs?ref=17393b26b961937cda562a2f4bb5e80b2ce49b1e", "patch": "@@ -98,13 +98,13 @@ const fn foo30_2(x: *mut u32) -> usize { x as usize }\n const fn foo30_2_with_unsafe(x: *mut u32) -> usize { unsafe { x as usize } }\n //~^ ERROR casting pointers to ints is unstable\n const fn foo30_4(b: bool) -> usize { if b { 1 } else { 42 } }\n-//~^ ERROR `if`, `match`, `&&` and `||` are not stable in const fn\n+//~^ ERROR loops and conditional expressions are not stable in const fn\n const fn foo30_5(b: bool) { while b { } } //~ ERROR not stable in const fn\n const fn foo30_6() -> bool { let x = true; x }\n const fn foo36(a: bool, b: bool) -> bool { a && b }\n-//~^ ERROR `if`, `match`, `&&` and `||` are not stable in const fn\n+//~^ ERROR loops and conditional expressions are not stable in const fn\n const fn foo37(a: bool, b: bool) -> bool { a || b }\n-//~^ ERROR `if`, `match`, `&&` and `||` are not stable in const fn\n+//~^ ERROR loops and conditional expressions are not stable in const fn\n const fn inc(x: &mut i32) { *x += 1 }\n //~^ ERROR mutable references in const fn are unstable\n "}, {"sha": "28a5ffb2015945ecefd3c7aea04d668b614c004e", "filename": "src/test/ui/consts/min_const_fn/min_const_fn.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fmin_const_fn%2Fmin_const_fn.stderr?ref=17393b26b961937cda562a2f4bb5e80b2ce49b1e", "patch": "@@ -160,7 +160,7 @@ LL | const fn foo30_2_with_unsafe(x: *mut u32) -> usize { unsafe { x as usize }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:100:38\n    |\n LL | const fn foo30_4(b: bool) -> usize { if b { 1 } else { 42 } }\n@@ -169,7 +169,7 @@ LL | const fn foo30_4(b: bool) -> usize { if b { 1 } else { 42 } }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:102:29\n    |\n LL | const fn foo30_5(b: bool) { while b { } }\n@@ -178,7 +178,7 @@ LL | const fn foo30_5(b: bool) { while b { } }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:104:44\n    |\n LL | const fn foo36(a: bool, b: bool) -> bool { a && b }\n@@ -187,7 +187,7 @@ LL | const fn foo36(a: bool, b: bool) -> bool { a && b }\n    = note: for more information, see issue https://github.com/rust-lang/rust/issues/57563\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/min_const_fn.rs:106:44\n    |\n LL | const fn foo37(a: bool, b: bool) -> bool { a || b }"}, {"sha": "6002506689e12c8cb3a0a55e57d1637bd7db0643", "filename": "src/test/ui/consts/single_variant_match_ice.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.rs?ref=17393b26b961937cda562a2f4bb5e80b2ce49b1e", "patch": "@@ -15,7 +15,7 @@ impl Foo {\n         use self::Foo::*;\n \n         match *self {\n-            Prob => 0x1, //~ ERROR `if`, `match`, `&&` and `||` are not stable in const fn\n+            Prob => 0x1, //~ ERROR loops and conditional expressions are not stable in const fn\n         }\n     }\n }"}, {"sha": "1e092c8af99674bdc8ddaa7468ead797dd74a0af", "filename": "src/test/ui/consts/single_variant_match_ice.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/17393b26b961937cda562a2f4bb5e80b2ce49b1e/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fsingle_variant_match_ice.stderr?ref=17393b26b961937cda562a2f4bb5e80b2ce49b1e", "patch": "@@ -10,7 +10,7 @@ error[E0019]: constant contains unimplemented expression type\n LL |     x => 42,\n    |     ^\n \n-error[E0723]: `if`, `match`, `&&` and `||` are not stable in const fn\n+error[E0723]: loops and conditional expressions are not stable in const fn\n   --> $DIR/single_variant_match_ice.rs:18:13\n    |\n LL |             Prob => 0x1,"}]}