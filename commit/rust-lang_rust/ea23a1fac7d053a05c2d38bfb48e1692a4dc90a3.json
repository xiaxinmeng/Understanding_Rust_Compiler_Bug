{"sha": "ea23a1fac7d053a05c2d38bfb48e1692a4dc90a3", "node_id": "C_kwDOAAsO6NoAKGVhMjNhMWZhYzdkMDUzYTA1YzJkMzhiZmI0OGUxNjkyYTRkYzkwYTM", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-01-20T02:41:22Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-01-20T03:04:31Z"}, "message": "Combine advance_left matches", "tree": {"sha": "4d03752e60c108f4ac010ae941e8f7bd491cb354", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4d03752e60c108f4ac010ae941e8f7bd491cb354"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ea23a1fac7d053a05c2d38bfb48e1692a4dc90a3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmHo0T8ACgkQ+boUO5X/\nbYKQAA//el2FdACnNF8TXZ2DphphvKW9SB7kMob6AzOFtRv595f+vzRHd6/GZeg0\nKM4Fh9EarFh63FdSzzLFQ8rxByCvqR+B2qIFD4c6zbP1yl23r/ABfQYUBDZFQhYG\n+znppmnwaVgE1spgq1PWAkL/MKzIWt0zha8Xf3wNoUGONMSArqcqV4nESujCx7u1\n5lvEgw7oEwdLiFsZBak//nhxFNFm6D3bJZ5eg+9rO0Ghx8UVcrl8HIGYLI+NpIEF\nKABs6Un3K539DXLB1/26LGs+vlTXaVKkwCweHm62tGuGoLMAxBv9S6oAIsbONzM2\nT1OhAlJDaSZhgqbASpJMyUxMumeV/jfhDpMtyTHeq1CCgei3ZDuiift6kY+u0r12\nRg2aR4N8jt1F+mnR2doyHGVHJ9EKRRULxg/NaXrwCa7KjAvjSLJRO0MxKgpDMV4H\nsMYrgAFQhutF8p93+7Na9AN0TQYVHUaEO7EsZWDPINUSXKZdElbW7Bl8YnRBEoEd\n2je2G3pNpAqOEiFqswokmp8T4VdAfCTJ2wnnN4EwoQKFaO5/EuJJvnMML8XLODQW\nA0Jar1FuL0m/q/XqCLCdj+kZU8lsrw77t+TiaORrHj/smRV11eTwS6lw1EmVSMfj\n0di2bk+BbSb+Hvj6YEP/g3qUONb5ysMh86qt3M3cF6SZo5U4s5Q=\n=hgKS\n-----END PGP SIGNATURE-----", "payload": "tree 4d03752e60c108f4ac010ae941e8f7bd491cb354\nparent ae75ba692a456216139abe42e88b4ca45b973127\nauthor David Tolnay <dtolnay@gmail.com> 1642646482 -0800\ncommitter David Tolnay <dtolnay@gmail.com> 1642647871 -0800\n\nCombine advance_left matches\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ea23a1fac7d053a05c2d38bfb48e1692a4dc90a3", "html_url": "https://github.com/rust-lang/rust/commit/ea23a1fac7d053a05c2d38bfb48e1692a4dc90a3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ea23a1fac7d053a05c2d38bfb48e1692a4dc90a3/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ae75ba692a456216139abe42e88b4ca45b973127", "url": "https://api.github.com/repos/rust-lang/rust/commits/ae75ba692a456216139abe42e88b4ca45b973127", "html_url": "https://github.com/rust-lang/rust/commit/ae75ba692a456216139abe42e88b4ca45b973127"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "e1234d67ec418eda08a79ba31fe945d9cf93fd1f", "filename": "compiler/rustc_ast_pretty/src/pp.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/ea23a1fac7d053a05c2d38bfb48e1692a4dc90a3/compiler%2Frustc_ast_pretty%2Fsrc%2Fpp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea23a1fac7d053a05c2d38bfb48e1692a4dc90a3/compiler%2Frustc_ast_pretty%2Fsrc%2Fpp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_pretty%2Fsrc%2Fpp.rs?ref=ea23a1fac7d053a05c2d38bfb48e1692a4dc90a3", "patch": "@@ -320,16 +320,16 @@ impl Printer {\n             let left = self.buf.pop_first().unwrap();\n \n             match &left.token {\n-                Token::Break(b) => self.left_total += b.blank_space,\n-                Token::String(s) => self.left_total += s.len() as isize,\n-                _ => {}\n-            }\n-\n-            match &left.token {\n+                Token::String(s) => {\n+                    self.left_total += s.len() as isize;\n+                    self.print_string(s);\n+                }\n+                Token::Break(b) => {\n+                    self.left_total += b.blank_space;\n+                    self.print_break(*b, left.size);\n+                }\n                 Token::Begin(b) => self.print_begin(*b, left.size),\n                 Token::End => self.print_end(),\n-                Token::Break(b) => self.print_break(*b, left.size),\n-                Token::String(s) => self.print_string(s),\n             }\n \n             self.last_printed = Some(left.token);"}]}