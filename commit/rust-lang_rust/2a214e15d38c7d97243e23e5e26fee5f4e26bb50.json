{"sha": "2a214e15d38c7d97243e23e5e26fee5f4e26bb50", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJhMjE0ZTE1ZDM4YzdkOTcyNDNlMjNlNWUyNmZlZTVmNGUyNmJiNTA=", "commit": {"author": {"name": "Igor Aleksanov", "email": "popzxc@yandex.ru", "date": "2020-11-01T10:48:42Z"}, "committer": {"name": "Igor Aleksanov", "email": "popzxc@yandex.ru", "date": "2020-11-03T07:16:35Z"}, "message": "Add doc-comments to the new files", "tree": {"sha": "c99a4d7362b6831b490efecb7e6d603cffc17fc1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c99a4d7362b6831b490efecb7e6d603cffc17fc1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2a214e15d38c7d97243e23e5e26fee5f4e26bb50", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2a214e15d38c7d97243e23e5e26fee5f4e26bb50", "html_url": "https://github.com/rust-lang/rust/commit/2a214e15d38c7d97243e23e5e26fee5f4e26bb50", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/comments", "author": {"login": "popzxc", "id": 12111581, "node_id": "MDQ6VXNlcjEyMTExNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/12111581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/popzxc", "html_url": "https://github.com/popzxc", "followers_url": "https://api.github.com/users/popzxc/followers", "following_url": "https://api.github.com/users/popzxc/following{/other_user}", "gists_url": "https://api.github.com/users/popzxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/popzxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/popzxc/subscriptions", "organizations_url": "https://api.github.com/users/popzxc/orgs", "repos_url": "https://api.github.com/users/popzxc/repos", "events_url": "https://api.github.com/users/popzxc/events{/privacy}", "received_events_url": "https://api.github.com/users/popzxc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "popzxc", "id": 12111581, "node_id": "MDQ6VXNlcjEyMTExNTgx", "avatar_url": "https://avatars.githubusercontent.com/u/12111581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/popzxc", "html_url": "https://github.com/popzxc", "followers_url": "https://api.github.com/users/popzxc/followers", "following_url": "https://api.github.com/users/popzxc/following{/other_user}", "gists_url": "https://api.github.com/users/popzxc/gists{/gist_id}", "starred_url": "https://api.github.com/users/popzxc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/popzxc/subscriptions", "organizations_url": "https://api.github.com/users/popzxc/orgs", "repos_url": "https://api.github.com/users/popzxc/repos", "events_url": "https://api.github.com/users/popzxc/events{/privacy}", "received_events_url": "https://api.github.com/users/popzxc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "af7175f3328c08e39d746c7e7b83c397dd2769bf", "url": "https://api.github.com/repos/rust-lang/rust/commits/af7175f3328c08e39d746c7e7b83c397dd2769bf", "html_url": "https://github.com/rust-lang/rust/commit/af7175f3328c08e39d746c7e7b83c397dd2769bf"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "dd9edc51466ee01c795991e72ab3c47ca49c6ea5", "filename": "crates/completion/src/render.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Frender.rs?ref=2a214e15d38c7d97243e23e5e26fee5f4e26bb50", "patch": "@@ -23,11 +23,13 @@ pub(crate) use crate::render::{\n     macro_::MacroRender, type_alias::TypeAliasRender,\n };\n \n+/// Generic renderer for completion items.\n #[derive(Debug)]\n pub(crate) struct Render<'a> {\n     ctx: RenderContext<'a>,\n }\n \n+/// Interface for data and methods required for items rendering.\n #[derive(Debug)]\n pub(crate) struct RenderContext<'a> {\n     completion: &'a CompletionContext<'a>,"}, {"sha": "3a195421109720a683b9d6b5236371dc5b4b37ee", "filename": "crates/completion/src/render/const_.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender%2Fconst_.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender%2Fconst_.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Frender%2Fconst_.rs?ref=2a214e15d38c7d97243e23e5e26fee5f4e26bb50", "patch": "@@ -1,3 +1,5 @@\n+//! Renderer for `const` fields.\n+\n use hir::HasSource;\n use syntax::{\n     ast::{Const, NameOwner},"}, {"sha": "f8b151318e0e9652cf6944eb044f304eab8c13bb", "filename": "crates/completion/src/render/enum_variant.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender%2Fenum_variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender%2Fenum_variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Frender%2Fenum_variant.rs?ref=2a214e15d38c7d97243e23e5e26fee5f4e26bb50", "patch": "@@ -1,3 +1,5 @@\n+//! Renderer for `enum` variants.\n+\n use hir::{HasAttrs, HirDisplay, ModPath, StructKind};\n use itertools::Itertools;\n use test_utils::mark;"}, {"sha": "9d9bbe30920a99250298a059bb8ae2e3fd945133", "filename": "crates/completion/src/render/function.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender%2Ffunction.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender%2Ffunction.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Frender%2Ffunction.rs?ref=2a214e15d38c7d97243e23e5e26fee5f4e26bb50", "patch": "@@ -1,3 +1,5 @@\n+//! Renderer for function calls.\n+\n use hir::{HasSource, Type};\n use syntax::{ast::Fn, display::function_declaration};\n "}, {"sha": "06618555929b07b9d795fdc6c327fc16ca0d98ce", "filename": "crates/completion/src/render/macro_.rs", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender%2Fmacro_.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender%2Fmacro_.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Frender%2Fmacro_.rs?ref=2a214e15d38c7d97243e23e5e26fee5f4e26bb50", "patch": "@@ -1,3 +1,5 @@\n+//! Renderer for macro invocations.\n+\n use hir::{Documentation, HasSource};\n use syntax::display::macro_label;\n use test_utils::mark;\n@@ -66,7 +68,11 @@ impl<'a> MacroRender<'a> {\n     }\n \n     fn label(&self) -> String {\n-        format!(\"{}!{}\u2026{}\", self.name, self.bra, self.ket)\n+        if self.needs_bang() && self.ctx.snippet_cap().is_some() {\n+            format!(\"{}!{}\u2026{}\", self.name, self.bra, self.ket)\n+        } else {\n+            self.banged_name()\n+        }\n     }\n \n     fn snippet(&self) -> String {"}, {"sha": "50a6d06c236a32dbba0465584d98cae8ad45182c", "filename": "crates/completion/src/render/type_alias.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender%2Ftype_alias.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2a214e15d38c7d97243e23e5e26fee5f4e26bb50/crates%2Fcompletion%2Fsrc%2Frender%2Ftype_alias.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Frender%2Ftype_alias.rs?ref=2a214e15d38c7d97243e23e5e26fee5f4e26bb50", "patch": "@@ -1,3 +1,5 @@\n+//! Renderer for type aliases.\n+\n use hir::HasSource;\n use syntax::{\n     ast::{NameOwner, TypeAlias},"}]}