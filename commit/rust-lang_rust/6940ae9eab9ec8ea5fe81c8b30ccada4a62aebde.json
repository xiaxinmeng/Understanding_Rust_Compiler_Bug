{"sha": "6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY5NDBhZTllYWI5ZWM4ZWE1ZmU4MWM4YjMwY2NhZGE0YTYyYWViZGU=", "commit": {"author": {"name": "Edwin Cheng", "email": "edwin0cheng@gmail.com", "date": "2019-11-23T13:54:39Z"}, "committer": {"name": "Edwin Cheng", "email": "edwin0cheng@gmail.com", "date": "2019-11-23T13:54:39Z"}, "message": "Rename BuiltinExpander to BuiltinFnLikeExpander", "tree": {"sha": "263b5fe3d1d7696e89283a0d398bbc7953b64a92", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/263b5fe3d1d7696e89283a0d398bbc7953b64a92"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde", "html_url": "https://github.com/rust-lang/rust/commit/6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde/comments", "author": {"login": "edwin0cheng", "id": 11014119, "node_id": "MDQ6VXNlcjExMDE0MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/11014119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edwin0cheng", "html_url": "https://github.com/edwin0cheng", "followers_url": "https://api.github.com/users/edwin0cheng/followers", "following_url": "https://api.github.com/users/edwin0cheng/following{/other_user}", "gists_url": "https://api.github.com/users/edwin0cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/edwin0cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edwin0cheng/subscriptions", "organizations_url": "https://api.github.com/users/edwin0cheng/orgs", "repos_url": "https://api.github.com/users/edwin0cheng/repos", "events_url": "https://api.github.com/users/edwin0cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/edwin0cheng/received_events", "type": "User", "site_admin": false}, "committer": {"login": "edwin0cheng", "id": 11014119, "node_id": "MDQ6VXNlcjExMDE0MTE5", "avatar_url": "https://avatars.githubusercontent.com/u/11014119?v=4", "gravatar_id": "", "url": "https://api.github.com/users/edwin0cheng", "html_url": "https://github.com/edwin0cheng", "followers_url": "https://api.github.com/users/edwin0cheng/followers", "following_url": "https://api.github.com/users/edwin0cheng/following{/other_user}", "gists_url": "https://api.github.com/users/edwin0cheng/gists{/gist_id}", "starred_url": "https://api.github.com/users/edwin0cheng/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/edwin0cheng/subscriptions", "organizations_url": "https://api.github.com/users/edwin0cheng/orgs", "repos_url": "https://api.github.com/users/edwin0cheng/repos", "events_url": "https://api.github.com/users/edwin0cheng/events{/privacy}", "received_events_url": "https://api.github.com/users/edwin0cheng/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "720ab0bef8675bd4a61d0bd416bb865c864df670", "url": "https://api.github.com/repos/rust-lang/rust/commits/720ab0bef8675bd4a61d0bd416bb865c864df670", "html_url": "https://github.com/rust-lang/rust/commit/720ab0bef8675bd4a61d0bd416bb865c864df670"}], "stats": {"total": 28, "additions": 14, "deletions": 14}, "files": [{"sha": "a0069682d01ea37ae90d339b0e7921d65e886b6d", "filename": "crates/ra_hir_expand/src/builtin_macro.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde/crates%2Fra_hir_expand%2Fsrc%2Fbuiltin_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde/crates%2Fra_hir_expand%2Fsrc%2Fbuiltin_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_expand%2Fsrc%2Fbuiltin_macro.rs?ref=6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde", "patch": "@@ -9,7 +9,7 @@ use crate::{\n use crate::quote;\n \n #[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]\n-pub enum BuiltinExpander {\n+pub enum BuiltinFnLikeExpander {\n     Column,\n     File,\n     Line,\n@@ -18,7 +18,7 @@ pub enum BuiltinExpander {\n \n struct BuiltInMacroInfo {\n     name: name::Name,\n-    kind: BuiltinExpander,\n+    kind: BuiltinFnLikeExpander,\n     expand: fn(\n         db: &dyn AstDatabase,\n         id: MacroCallId,\n@@ -29,7 +29,7 @@ struct BuiltInMacroInfo {\n macro_rules! register_builtin {\n     ( $(($name:ident, $kind: ident) => $expand:ident),* ) => {\n         const BUILTIN_MACROS: &[BuiltInMacroInfo] = &[\n-            $(BuiltInMacroInfo { name: name::$name, kind: BuiltinExpander::$kind, expand: $expand }),*\n+            $(BuiltInMacroInfo { name: name::$name, kind: BuiltinFnLikeExpander::$kind, expand: $expand }),*\n         ];\n     };\n }\n@@ -41,7 +41,7 @@ register_builtin! {\n     (STRINGIFY_MACRO, Stringify) => stringify_expand\n }\n \n-impl BuiltinExpander {\n+impl BuiltinFnLikeExpander {\n     pub fn expand(\n         &self,\n         db: &dyn AstDatabase,\n@@ -195,7 +195,7 @@ mod tests {\n     use crate::{test_db::TestDB, MacroCallLoc};\n     use ra_db::{fixture::WithFixture, SourceDatabase};\n \n-    fn expand_builtin_macro(s: &str, expander: BuiltinExpander) -> String {\n+    fn expand_builtin_macro(s: &str, expander: BuiltinFnLikeExpander) -> String {\n         let (db, file_id) = TestDB::with_single_file(&s);\n         let parsed = db.parse(file_id);\n         let macro_calls: Vec<_> =\n@@ -229,7 +229,7 @@ mod tests {\n         macro_rules! column {() => {}}\n         column!()\n \"#,\n-            BuiltinExpander::Column,\n+            BuiltinFnLikeExpander::Column,\n         );\n \n         assert_eq!(expanded, \"9\");\n@@ -243,7 +243,7 @@ mod tests {\n         macro_rules! line {() => {}}\n         line!()\n \"#,\n-            BuiltinExpander::Line,\n+            BuiltinFnLikeExpander::Line,\n         );\n \n         assert_eq!(expanded, \"4\");\n@@ -257,7 +257,7 @@ mod tests {\n         macro_rules! stringify {() => {}}\n         stringify!(a b c)\n \"#,\n-            BuiltinExpander::Stringify,\n+            BuiltinFnLikeExpander::Stringify,\n         );\n \n         assert_eq!(expanded, \"\\\"a b c\\\"\");\n@@ -271,7 +271,7 @@ mod tests {\n         macro_rules! file {() => {}}\n         file!()\n \"#,\n-            BuiltinExpander::File,\n+            BuiltinFnLikeExpander::File,\n         );\n \n         assert_eq!(expanded, \"\\\"\\\"\");"}, {"sha": "8e46fa177d65bcd08c3599a9a7782c69d13b4ba5", "filename": "crates/ra_hir_expand/src/db.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde/crates%2Fra_hir_expand%2Fsrc%2Fdb.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde/crates%2Fra_hir_expand%2Fsrc%2Fdb.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_expand%2Fsrc%2Fdb.rs?ref=6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde", "patch": "@@ -9,14 +9,14 @@ use ra_prof::profile;\n use ra_syntax::{AstNode, Parse, SyntaxNode};\n \n use crate::{\n-    ast_id_map::AstIdMap, BuiltinExpander, HirFileId, HirFileIdRepr, MacroCallId, MacroCallLoc,\n-    MacroDefId, MacroDefKind, MacroFile, MacroFileKind,\n+    ast_id_map::AstIdMap, BuiltinFnLikeExpander, HirFileId, HirFileIdRepr, MacroCallId,\n+    MacroCallLoc, MacroDefId, MacroDefKind, MacroFile, MacroFileKind,\n };\n \n #[derive(Debug, Clone, Eq, PartialEq)]\n pub enum TokenExpander {\n     MacroRules(mbe::MacroRules),\n-    Builtin(BuiltinExpander),\n+    Builtin(BuiltinFnLikeExpander),\n }\n \n impl TokenExpander {"}, {"sha": "4f3ccf1d0ddb57aa08cd4812d6e5c5732ecaa804", "filename": "crates/ra_hir_expand/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde/crates%2Fra_hir_expand%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde/crates%2Fra_hir_expand%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_expand%2Fsrc%2Flib.rs?ref=6940ae9eab9ec8ea5fe81c8b30ccada4a62aebde", "patch": "@@ -24,7 +24,7 @@ use ra_syntax::{\n };\n \n use crate::ast_id_map::FileAstId;\n-use crate::builtin_macro::BuiltinExpander;\n+use crate::builtin_macro::BuiltinFnLikeExpander;\n \n #[cfg(test)]\n mod test_db;\n@@ -138,7 +138,7 @@ pub struct MacroDefId {\n #[derive(Debug, Clone, Copy, PartialEq, Eq, Hash)]\n pub enum MacroDefKind {\n     Declarative,\n-    BuiltIn(BuiltinExpander),\n+    BuiltIn(BuiltinFnLikeExpander),\n }\n \n #[derive(Debug, Clone, PartialEq, Eq, Hash)]"}]}