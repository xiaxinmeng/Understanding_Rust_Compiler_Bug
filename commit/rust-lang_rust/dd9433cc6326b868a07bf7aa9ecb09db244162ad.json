{"sha": "dd9433cc6326b868a07bf7aa9ecb09db244162ad", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRkOTQzM2NjNjMyNmI4NjhhMDdiZjdhYTllY2IwOWRiMjQ0MTYyYWQ=", "commit": {"author": {"name": "Yotam Ofek", "email": "yotam.ofek@gmail.com", "date": "2021-09-03T18:02:48Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-09-03T18:02:48Z"}, "message": "Update crates/ide_assists/src/handlers/replace_for_loop_with_for_each.rs\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "8fb8576d5dce288d66a48f0b0029eee697b8da4f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8fb8576d5dce288d66a48f0b0029eee697b8da4f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dd9433cc6326b868a07bf7aa9ecb09db244162ad", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhMmNICRBK7hj4Ov3rIwAAxzkIAKULMDJolAcLPMVYVbQlJw/Z\nOcmhaNvLYIpVEAS+7xEhcnkiqELDpZu416dffPaIi+0STo0GJtk2JAyprgVaSvnP\nVGlxXqJGj7p3yogUxQGjYEPHbFkjGMyRk7t9ObgVRKX3MxpK4R0wXxFe1J7u+qTj\n94OPE5QuPa2N8J4ezllsoskAf8zgwr65VCIsIvfifALulAAKbvO/aqXV7/qg+pKc\nMtxpRXGM4UX8B1iOB0C/2npcHD3MEPluHpnYO4badqashPfDk5JxUTMEo3pLCWLC\nrAMGshk7+73+A9tbcBEPL8QMj1af6leMwWxnmuZ09zT4+0SOSYS5I5F3ErDuX64=\n=4lKd\n-----END PGP SIGNATURE-----\n", "payload": "tree 8fb8576d5dce288d66a48f0b0029eee697b8da4f\nparent 0d453cc2be9130864bbc8387ad7ba48dcf642a21\nauthor Yotam Ofek <yotam.ofek@gmail.com> 1630692168 +0300\ncommitter GitHub <noreply@github.com> 1630692168 +0300\n\nUpdate crates/ide_assists/src/handlers/replace_for_loop_with_for_each.rs\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dd9433cc6326b868a07bf7aa9ecb09db244162ad", "html_url": "https://github.com/rust-lang/rust/commit/dd9433cc6326b868a07bf7aa9ecb09db244162ad", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dd9433cc6326b868a07bf7aa9ecb09db244162ad/comments", "author": {"login": "yotamofek", "id": 1835307, "node_id": "MDQ6VXNlcjE4MzUzMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/1835307?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yotamofek", "html_url": "https://github.com/yotamofek", "followers_url": "https://api.github.com/users/yotamofek/followers", "following_url": "https://api.github.com/users/yotamofek/following{/other_user}", "gists_url": "https://api.github.com/users/yotamofek/gists{/gist_id}", "starred_url": "https://api.github.com/users/yotamofek/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yotamofek/subscriptions", "organizations_url": "https://api.github.com/users/yotamofek/orgs", "repos_url": "https://api.github.com/users/yotamofek/repos", "events_url": "https://api.github.com/users/yotamofek/events{/privacy}", "received_events_url": "https://api.github.com/users/yotamofek/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0d453cc2be9130864bbc8387ad7ba48dcf642a21", "url": "https://api.github.com/repos/rust-lang/rust/commits/0d453cc2be9130864bbc8387ad7ba48dcf642a21", "html_url": "https://github.com/rust-lang/rust/commit/0d453cc2be9130864bbc8387ad7ba48dcf642a21"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "fcf7973bd0ba8ecc1bd8dea8b688a23eeae9022a", "filename": "crates/ide_assists/src/handlers/replace_for_loop_with_for_each.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dd9433cc6326b868a07bf7aa9ecb09db244162ad/crates%2Fide_assists%2Fsrc%2Fhandlers%2Freplace_for_loop_with_for_each.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dd9433cc6326b868a07bf7aa9ecb09db244162ad/crates%2Fide_assists%2Fsrc%2Fhandlers%2Freplace_for_loop_with_for_each.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_assists%2Fsrc%2Fhandlers%2Freplace_for_loop_with_for_each.rs?ref=dd9433cc6326b868a07bf7aa9ecb09db244162ad", "patch": "@@ -50,7 +50,7 @@ pub(crate) fn replace_for_loop_with_for_each(acc: &mut Assists, ctx: &AssistCont\n                 // We have either \"for x in &col\" and col implements a method called iter\n                 //             or \"for x in &mut col\" and col implements a method called iter_mut\n                 format_to!(buf, \"{}.{}()\", expr_behind_ref, method);\n-            } else if matches!(iterable, ast::Expr::RangeExpr(..)) {\n+            } else if let ast::Expr::RangeExpr(..) = iterable {\n                 // range expressions need to be parenthesized for the syntax to be correct\n                 format_to!(buf, \"({})\", iterable);\n             } else if impls_core_iter(&ctx.sema, &iterable) {"}]}