{"sha": "17bd76a5169df158a750fdf63cf35b3fbd33c28e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE3YmQ3NmE1MTY5ZGYxNThhNzUwZmRmNjNjZjM1YjNmYmQzM2MyOGU=", "commit": {"author": {"name": "Kevin Mehall", "email": "km@kevinmehall.net", "date": "2017-07-02T20:46:38Z"}, "committer": {"name": "Kevin Mehall", "email": "km@kevinmehall.net", "date": "2017-07-07T01:49:32Z"}, "message": "Remove unused code from librustc_errors", "tree": {"sha": "2fab20e5bbdef115781698f2d1b0aced4144129b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2fab20e5bbdef115781698f2d1b0aced4144129b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/17bd76a5169df158a750fdf63cf35b3fbd33c28e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/17bd76a5169df158a750fdf63cf35b3fbd33c28e", "html_url": "https://github.com/rust-lang/rust/commit/17bd76a5169df158a750fdf63cf35b3fbd33c28e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/17bd76a5169df158a750fdf63cf35b3fbd33c28e/comments", "author": {"login": "kevinmehall", "id": 119951, "node_id": "MDQ6VXNlcjExOTk1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/119951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinmehall", "html_url": "https://github.com/kevinmehall", "followers_url": "https://api.github.com/users/kevinmehall/followers", "following_url": "https://api.github.com/users/kevinmehall/following{/other_user}", "gists_url": "https://api.github.com/users/kevinmehall/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinmehall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinmehall/subscriptions", "organizations_url": "https://api.github.com/users/kevinmehall/orgs", "repos_url": "https://api.github.com/users/kevinmehall/repos", "events_url": "https://api.github.com/users/kevinmehall/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinmehall/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kevinmehall", "id": 119951, "node_id": "MDQ6VXNlcjExOTk1MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/119951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kevinmehall", "html_url": "https://github.com/kevinmehall", "followers_url": "https://api.github.com/users/kevinmehall/followers", "following_url": "https://api.github.com/users/kevinmehall/following{/other_user}", "gists_url": "https://api.github.com/users/kevinmehall/gists{/gist_id}", "starred_url": "https://api.github.com/users/kevinmehall/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kevinmehall/subscriptions", "organizations_url": "https://api.github.com/users/kevinmehall/orgs", "repos_url": "https://api.github.com/users/kevinmehall/repos", "events_url": "https://api.github.com/users/kevinmehall/events{/privacy}", "received_events_url": "https://api.github.com/users/kevinmehall/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d2ebb12a1d6f6599f9171a65a2160e523b53ccdf", "url": "https://api.github.com/repos/rust-lang/rust/commits/d2ebb12a1d6f6599f9171a65a2160e523b53ccdf", "html_url": "https://github.com/rust-lang/rust/commit/d2ebb12a1d6f6599f9171a65a2160e523b53ccdf"}], "stats": {"total": 27, "additions": 4, "deletions": 23}, "files": [{"sha": "2aea6d125f201e3cf381a5c81e661cdb6d11da2f", "filename": "src/librustc_errors/emitter.rs", "status": "modified", "additions": 2, "deletions": 10, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/17bd76a5169df158a750fdf63cf35b3fbd33c28e/src%2Flibrustc_errors%2Femitter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17bd76a5169df158a750fdf63cf35b3fbd33c28e/src%2Flibrustc_errors%2Femitter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Femitter.rs?ref=17bd76a5169df158a750fdf63cf35b3fbd33c28e", "patch": "@@ -1373,7 +1373,7 @@ impl Destination {\n \n     fn apply_style(&mut self, lvl: Level, style: Style) -> io::Result<()> {\n         match style {\n-            Style::FileNameStyle | Style::LineAndColumn => {}\n+            Style::LineAndColumn => {}\n             Style::LineNumber => {\n                 self.start_attr(term::Attr::Bold)?;\n                 if cfg!(windows) {\n@@ -1382,16 +1382,8 @@ impl Destination {\n                     self.start_attr(term::Attr::ForegroundColor(term::color::BRIGHT_BLUE))?;\n                 }\n             }\n-            Style::ErrorCode => {\n-                self.start_attr(term::Attr::Bold)?;\n-                self.start_attr(term::Attr::ForegroundColor(term::color::BRIGHT_MAGENTA))?;\n-            }\n             Style::Quotation => {}\n-            Style::OldSchoolNote => {\n-                self.start_attr(term::Attr::Bold)?;\n-                self.start_attr(term::Attr::ForegroundColor(term::color::BRIGHT_GREEN))?;\n-            }\n-            Style::OldSchoolNoteText | Style::HeaderMsg => {\n+            Style::HeaderMsg => {\n                 self.start_attr(term::Attr::Bold)?;\n                 if cfg!(windows) {\n                     self.start_attr(term::Attr::ForegroundColor(term::color::BRIGHT_WHITE))?;"}, {"sha": "c4beb5ebc42df15e7e6ccc94977d0ccc13af6e0b", "filename": "src/librustc_errors/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/17bd76a5169df158a750fdf63cf35b3fbd33c28e/src%2Flibrustc_errors%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17bd76a5169df158a750fdf63cf35b3fbd33c28e/src%2Flibrustc_errors%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Flib.rs?ref=17bd76a5169df158a750fdf63cf35b3fbd33c28e", "patch": "@@ -41,9 +41,9 @@ use std::rc::Rc;\n pub mod diagnostic;\n pub mod diagnostic_builder;\n pub mod emitter;\n-pub mod snippet;\n+mod snippet;\n pub mod registry;\n-pub mod styled_buffer;\n+mod styled_buffer;\n mod lock;\n \n use syntax_pos::{BytePos, Loc, FileLinesResult, FileMap, FileName, MultiSpan, Span, NO_EXPANSION};"}, {"sha": "3c5a6c031e18c780b58b7ed7420f91106fcb97fb", "filename": "src/librustc_errors/snippet.rs", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/17bd76a5169df158a750fdf63cf35b3fbd33c28e/src%2Flibrustc_errors%2Fsnippet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17bd76a5169df158a750fdf63cf35b3fbd33c28e/src%2Flibrustc_errors%2Fsnippet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Fsnippet.rs?ref=17bd76a5169df158a750fdf63cf35b3fbd33c28e", "patch": "@@ -206,18 +206,14 @@ pub struct StyledString {\n #[derive(Copy, Clone, Debug, PartialEq, RustcEncodable, RustcDecodable)]\n pub enum Style {\n     HeaderMsg,\n-    FileNameStyle,\n     LineAndColumn,\n     LineNumber,\n     Quotation,\n     UnderlinePrimary,\n     UnderlineSecondary,\n     LabelPrimary,\n     LabelSecondary,\n-    OldSchoolNoteText,\n-    OldSchoolNote,\n     NoStyle,\n-    ErrorCode,\n     Level(Level),\n     Highlight,\n }"}, {"sha": "f1f2e6c55e97794f68bfaa7d0acf371e98cbeed1", "filename": "src/librustc_errors/styled_buffer.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/17bd76a5169df158a750fdf63cf35b3fbd33c28e/src%2Flibrustc_errors%2Fstyled_buffer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17bd76a5169df158a750fdf63cf35b3fbd33c28e/src%2Flibrustc_errors%2Fstyled_buffer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Fstyled_buffer.rs?ref=17bd76a5169df158a750fdf63cf35b3fbd33c28e", "patch": "@@ -111,12 +111,6 @@ impl StyledBuffer {\n         }\n     }\n \n-    pub fn set_style(&mut self, line: usize, col: usize, style: Style) {\n-        if self.styles.len() > line && self.styles[line].len() > col {\n-            self.styles[line][col] = style;\n-        }\n-    }\n-\n     pub fn prepend(&mut self, line: usize, string: &str, style: Style) {\n         self.ensure_lines(line);\n         let string_len = string.len();"}, {"sha": "bd2c386cb8a46653489198986d9900f110160569", "filename": "src/libsyntax/test.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/17bd76a5169df158a750fdf63cf35b3fbd33c28e/src%2Flibsyntax%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17bd76a5169df158a750fdf63cf35b3fbd33c28e/src%2Flibsyntax%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ftest.rs?ref=17bd76a5169df158a750fdf63cf35b3fbd33c28e", "patch": "@@ -25,7 +25,6 @@ use std::rc::Rc;\n \n use codemap::{self, CodeMap, ExpnInfo, NameAndSpan, MacroAttribute, dummy_spanned};\n use errors;\n-use errors::snippet::{SnippetData};\n use config;\n use entry::{self, EntryPointType};\n use ext::base::{ExtCtxt, Resolver};"}]}