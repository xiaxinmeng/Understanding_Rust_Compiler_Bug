{"sha": "da873169707da0bdbc8a53d51bf1272ef6d365b8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRhODczMTY5NzA3ZGEwYmRiYzhhNTNkNTFiZjEyNzJlZjZkMzY1Yjg=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-04-06T02:24:16Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-04-06T02:24:16Z"}, "message": "Rollup merge of #70704 - danielframpton:aarch64-windows-panic-unwind-default, r=alexcrichton\n\nMake panic unwind the default for aarch64-*-windows-msvc targets\n\nWith the llvm fixes from rust-lang/llvm-project#45 (included as a submodule change) we can enable unwinding by default for these targets.\n\nFixes #65313\n\nThere are still a small number of test failures for which we can open individual issues.\n\nr? @alexcrichton", "tree": {"sha": "920c74ff0708c028f39d37acf05f483081b78bfb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/920c74ff0708c028f39d37acf05f483081b78bfb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/da873169707da0bdbc8a53d51bf1272ef6d365b8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeipLQCRBK7hj4Ov3rIwAAdHIIALMx5tU4pVycx6tmTTSjCkC9\ngm5iBtU9mSwFS8Ifnd7YFV8BbEcxUS7oMyt1xGHNeAbyOJ8TGCiGTIj4DSN3Eox8\nNltzezEsFCtxVR6ICLtnp+sENk1haM96O1LB3TmABrqj4c0+Xb5tT5LWuL56UhJc\ngX8M2TYYEvY134uj9qK1pMpdrxW7NSitaJ1bhQSBwXYLbC70yc0kb7oZHhXSHZ+u\ncZ61Q6HwqnNTfYIXtHmwihHkzmb9cjN1lgB6iyOBV6LAJwdoByw/YDoky1jxv3Bv\nYpjPIZQUK1zgwXuPN+UghN/pY2t2duPWhQsGLtlIgxEUrJz0yu8I6UUD0ECINJg=\n=wKEs\n-----END PGP SIGNATURE-----\n", "payload": "tree 920c74ff0708c028f39d37acf05f483081b78bfb\nparent eea91c308f70d6715f973bdd0352723d672f3b1c\nparent 794181788d94b7bc9e4717b97313f525054c4710\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1586139856 +0200\ncommitter GitHub <noreply@github.com> 1586139856 +0200\n\nRollup merge of #70704 - danielframpton:aarch64-windows-panic-unwind-default, r=alexcrichton\n\nMake panic unwind the default for aarch64-*-windows-msvc targets\n\nWith the llvm fixes from rust-lang/llvm-project#45 (included as a submodule change) we can enable unwinding by default for these targets.\n\nFixes #65313\n\nThere are still a small number of test failures for which we can open individual issues.\n\nr? @alexcrichton\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/da873169707da0bdbc8a53d51bf1272ef6d365b8", "html_url": "https://github.com/rust-lang/rust/commit/da873169707da0bdbc8a53d51bf1272ef6d365b8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/da873169707da0bdbc8a53d51bf1272ef6d365b8/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eea91c308f70d6715f973bdd0352723d672f3b1c", "url": "https://api.github.com/repos/rust-lang/rust/commits/eea91c308f70d6715f973bdd0352723d672f3b1c", "html_url": "https://github.com/rust-lang/rust/commit/eea91c308f70d6715f973bdd0352723d672f3b1c"}, {"sha": "794181788d94b7bc9e4717b97313f525054c4710", "url": "https://api.github.com/repos/rust-lang/rust/commits/794181788d94b7bc9e4717b97313f525054c4710", "html_url": "https://github.com/rust-lang/rust/commit/794181788d94b7bc9e4717b97313f525054c4710"}], "stats": {"total": 17, "additions": 4, "deletions": 13}, "files": [{"sha": "f791fe82a27e7dcf7182111f50f0eda14ee53a8f", "filename": "src/libpanic_unwind/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/da873169707da0bdbc8a53d51bf1272ef6d365b8/src%2Flibpanic_unwind%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/da873169707da0bdbc8a53d51bf1272ef6d365b8/src%2Flibpanic_unwind%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_unwind%2Flib.rs?ref=da873169707da0bdbc8a53d51bf1272ef6d365b8", "patch": "@@ -47,9 +47,6 @@ cfg_if::cfg_if! {\n     } else if #[cfg(target_os = \"hermit\")] {\n         #[path = \"hermit.rs\"]\n         mod real_imp;\n-    } else if #[cfg(all(target_env = \"msvc\", target_arch = \"aarch64\"))] {\n-        #[path = \"dummy.rs\"]\n-        mod real_imp;\n     } else if #[cfg(target_env = \"msvc\")] {\n         #[path = \"seh.rs\"]\n         mod real_imp;"}, {"sha": "9eff37f17663a4fbcaa470a9883c44dbdccaa6d8", "filename": "src/libpanic_unwind/seh.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/da873169707da0bdbc8a53d51bf1272ef6d365b8/src%2Flibpanic_unwind%2Fseh.rs", "raw_url": "https://github.com/rust-lang/rust/raw/da873169707da0bdbc8a53d51bf1272ef6d365b8/src%2Flibpanic_unwind%2Fseh.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_unwind%2Fseh.rs?ref=da873169707da0bdbc8a53d51bf1272ef6d365b8", "patch": "@@ -117,7 +117,7 @@ mod imp {\n     }\n }\n \n-#[cfg(any(target_arch = \"x86_64\", target_arch = \"arm\"))]\n+#[cfg(not(target_arch = \"x86\"))]\n #[macro_use]\n mod imp {\n     pub type ptr_t = u32;"}, {"sha": "8c03f1e8a7eab9f6ae5d8950b7cc88ae23dbacc4", "filename": "src/librustc_target/spec/aarch64_pc_windows_msvc.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/da873169707da0bdbc8a53d51bf1272ef6d365b8/src%2Flibrustc_target%2Fspec%2Faarch64_pc_windows_msvc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/da873169707da0bdbc8a53d51bf1272ef6d365b8/src%2Flibrustc_target%2Fspec%2Faarch64_pc_windows_msvc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Faarch64_pc_windows_msvc.rs?ref=da873169707da0bdbc8a53d51bf1272ef6d365b8", "patch": "@@ -1,14 +1,11 @@\n-use crate::spec::{LinkerFlavor, PanicStrategy, Target, TargetResult};\n+use crate::spec::{LinkerFlavor, Target, TargetResult};\n \n pub fn target() -> TargetResult {\n     let mut base = super::windows_msvc_base::opts();\n     base.max_atomic_width = Some(64);\n     base.has_elf_tls = true;\n     base.features = \"+neon,+fp-armv8\".to_string();\n \n-    // FIXME: this shouldn't be panic=abort, it should be panic=unwind\n-    base.panic_strategy = PanicStrategy::Abort;\n-\n     Ok(Target {\n         llvm_target: \"aarch64-pc-windows-msvc\".to_string(),\n         target_endian: \"little\".to_string(),"}, {"sha": "6a8d148259ac3603fdf333f440d2598aaa11b4b1", "filename": "src/librustc_target/spec/aarch64_uwp_windows_msvc.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/da873169707da0bdbc8a53d51bf1272ef6d365b8/src%2Flibrustc_target%2Fspec%2Faarch64_uwp_windows_msvc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/da873169707da0bdbc8a53d51bf1272ef6d365b8/src%2Flibrustc_target%2Fspec%2Faarch64_uwp_windows_msvc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Faarch64_uwp_windows_msvc.rs?ref=da873169707da0bdbc8a53d51bf1272ef6d365b8", "patch": "@@ -1,13 +1,10 @@\n-use crate::spec::{LinkerFlavor, PanicStrategy, Target, TargetResult};\n+use crate::spec::{LinkerFlavor, Target, TargetResult};\n \n pub fn target() -> TargetResult {\n     let mut base = super::windows_uwp_msvc_base::opts();\n     base.max_atomic_width = Some(64);\n     base.has_elf_tls = true;\n \n-    // FIXME: this shouldn't be panic=abort, it should be panic=unwind\n-    base.panic_strategy = PanicStrategy::Abort;\n-\n     Ok(Target {\n         llvm_target: \"aarch64-pc-windows-msvc\".to_string(),\n         target_endian: \"little\".to_string(),"}, {"sha": "027e428197f3702599cfbb632883768175f49173", "filename": "src/llvm-project", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fllvm-project?ref=da873169707da0bdbc8a53d51bf1272ef6d365b8", "patch": "@@ -1 +1 @@\n-Subproject commit 130721d6f4e6cba3b910ccdf5e0aa62b9dffc95f\n+Subproject commit 027e428197f3702599cfbb632883768175f49173"}]}