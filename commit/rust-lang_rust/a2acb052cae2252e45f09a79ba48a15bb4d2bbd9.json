{"sha": "a2acb052cae2252e45f09a79ba48a15bb4d2bbd9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEyYWNiMDUyY2FlMjI1MmU0NWYwOWE3OWJhNDhhMTViYjRkMmJiZDk=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-01-06T01:03:02Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-01-06T01:03:02Z"}, "message": "Simplify NSIS package script.", "tree": {"sha": "5714e53884463b82955e483ff6359155563e0186", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5714e53884463b82955e483ff6359155563e0186"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a2acb052cae2252e45f09a79ba48a15bb4d2bbd9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a2acb052cae2252e45f09a79ba48a15bb4d2bbd9", "html_url": "https://github.com/rust-lang/rust/commit/a2acb052cae2252e45f09a79ba48a15bb4d2bbd9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a2acb052cae2252e45f09a79ba48a15bb4d2bbd9/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8634c238c66407a368fd1b577d371a4e40c360b2", "url": "https://api.github.com/repos/rust-lang/rust/commits/8634c238c66407a368fd1b577d371a4e40c360b2", "html_url": "https://github.com/rust-lang/rust/commit/8634c238c66407a368fd1b577d371a4e40c360b2"}], "stats": {"total": 30, "additions": 8, "deletions": 22}, "files": [{"sha": "c4deff8daa8eacf52e1d10dab61f8393d837fc21", "filename": "src/etc/pkg/rust.nsi", "status": "modified", "additions": 8, "deletions": 22, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/a2acb052cae2252e45f09a79ba48a15bb4d2bbd9/src%2Fetc%2Fpkg%2Frust.nsi", "raw_url": "https://github.com/rust-lang/rust/raw/a2acb052cae2252e45f09a79ba48a15bb4d2bbd9/src%2Fetc%2Fpkg%2Frust.nsi", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fpkg%2Frust.nsi?ref=a2acb052cae2252e45f09a79ba48a15bb4d2bbd9", "patch": "@@ -23,19 +23,8 @@ Section\n SectionEnd\n \n Section \"Compiler\"\n-    SetOutPath $INSTDIR\\bin\n-    File /oname=rustc.exe      stage3\\bin\\rustc.exe\n-\n-    SetOutPath $INSTDIR\\lib\n-    File /oname=rustllvm.dll   stage3\\lib\\rustllvm.dll\n-    File /oname=rustrt.dll     stage3\\lib\\rustrt.dll\n-    File /oname=std.dll        stage3\\lib\\std.dll\n-\n-    SetOutPath $INSTDIR\\lib\\rustc\\i686-pc-mingw32\\lib\n-    File /oname=rustrt.dll    stage3\\lib\\rustc\\i686-pc-mingw32\\lib\\rustrt.dll\n-    File /oname=std.dll       stage3\\lib\\rustc\\i686-pc-mingw32\\lib\\std.dll\n-    File /oname=main.o        stage3\\lib\\rustc\\i686-pc-mingw32\\lib\\main.o\n-    File /oname=intrinsics.bc stage3\\lib\\rustc\\i686-pc-mingw32\\lib\\intrinsics.bc\n+    SetOutPath $INSTDIR\n+    File /nonfatal /r i686-pc-mingw32\\stage3\\*.*\n SectionEnd\n \n Section \"Documentation\"\n@@ -46,21 +35,18 @@ SectionEnd\n \n Section \"Uninstall\"\n     Delete $INSTDIR\\uninstall.exe\n-    Delete $INSTDIR\\bin\\rustc.exe\n-    Delete $INSTDIR\\lib\\rustllvm.dll\n-    Delete $INSTDIR\\lib\\rustrt.dll\n-    Delete $INSTDIR\\lib\\std.dll\n-    Delete $INSTDIR\\lib\\rustc\\i686-pc-mingw32\\lib\\rustrt.dll\n-    Delete $INSTDIR\\lib\\rustc\\i686-pc-mingw32\\lib\\std.dll\n-    Delete $INSTDIR\\lib\\rustc\\i686-pc-mingw32\\lib\\main.o\n-    Delete $INSTDIR\\lib\\rustc\\i686-pc-mingw32\\lib\\intrinsics.bc\n+    Delete $INSTDIR\\bin\\*.*\n+    Delete $INSTDIR\\lib\\*.*\n+    Delete $INSTDIR\\lib\\rustc\\i686-pc-mingw32\\bin\\*.*\n+    Delete $INSTDIR\\lib\\rustc\\i686-pc-mingw32\\lib\\*.*\n     Delete $INSTDIR\\doc\\rust.html\n     Delete $INSTDIR\\doc\\rust.pdf\n     RMDir $INSTDIR\\bin\n+    RMDir $INSTDIR\\lib\\rustc\\i686-pc-mingw32\\bin\n     RMDir $INSTDIR\\lib\\rustc\\i686-pc-mingw32\\lib\n     RMDir $INSTDIR\\lib\\rustc\\i686-pc-mingw32\n     RMDir $INSTDIR\\lib\\rustc\n     RMDir $INSTDIR\\lib\n     RMDir $INSTDIR\\doc\n     RMDir $INSTDIR\n-SectionEnd\n\\ No newline at end of file\n+SectionEnd"}]}