{"sha": "920e2d82484909a85fabc636fd216ad2fa0a168f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkyMGUyZDgyNDg0OTA5YTg1ZmFiYzYzNmZkMjE2YWQyZmEwYTE2OGY=", "commit": {"author": {"name": "Ryan Levick", "email": "me@ryanlevick.com", "date": "2021-02-26T16:52:31Z"}, "committer": {"name": "Ryan Levick", "email": "me@ryanlevick.com", "date": "2021-03-01T09:57:36Z"}, "message": "Add natvis for Result, NonNull, CString, CStr, and Cow", "tree": {"sha": "1e593d710e75525162ad35f29fb17b56a28ff0fb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1e593d710e75525162ad35f29fb17b56a28ff0fb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/920e2d82484909a85fabc636fd216ad2fa0a168f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/920e2d82484909a85fabc636fd216ad2fa0a168f", "html_url": "https://github.com/rust-lang/rust/commit/920e2d82484909a85fabc636fd216ad2fa0a168f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/920e2d82484909a85fabc636fd216ad2fa0a168f/comments", "author": {"login": "rylev", "id": 1327285, "node_id": "MDQ6VXNlcjEzMjcyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1327285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rylev", "html_url": "https://github.com/rylev", "followers_url": "https://api.github.com/users/rylev/followers", "following_url": "https://api.github.com/users/rylev/following{/other_user}", "gists_url": "https://api.github.com/users/rylev/gists{/gist_id}", "starred_url": "https://api.github.com/users/rylev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rylev/subscriptions", "organizations_url": "https://api.github.com/users/rylev/orgs", "repos_url": "https://api.github.com/users/rylev/repos", "events_url": "https://api.github.com/users/rylev/events{/privacy}", "received_events_url": "https://api.github.com/users/rylev/received_events", "type": "User", "site_admin": false}, "committer": {"login": "rylev", "id": 1327285, "node_id": "MDQ6VXNlcjEzMjcyODU=", "avatar_url": "https://avatars.githubusercontent.com/u/1327285?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rylev", "html_url": "https://github.com/rylev", "followers_url": "https://api.github.com/users/rylev/followers", "following_url": "https://api.github.com/users/rylev/following{/other_user}", "gists_url": "https://api.github.com/users/rylev/gists{/gist_id}", "starred_url": "https://api.github.com/users/rylev/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rylev/subscriptions", "organizations_url": "https://api.github.com/users/rylev/orgs", "repos_url": "https://api.github.com/users/rylev/repos", "events_url": "https://api.github.com/users/rylev/events{/privacy}", "received_events_url": "https://api.github.com/users/rylev/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d95d30486180387a875b14633aea4e4dd8f960da", "url": "https://api.github.com/repos/rust-lang/rust/commits/d95d30486180387a875b14633aea4e4dd8f960da", "html_url": "https://github.com/rust-lang/rust/commit/d95d30486180387a875b14633aea4e4dd8f960da"}], "stats": {"total": 51, "additions": 51, "deletions": 0}, "files": [{"sha": "9cc60fc7b47e557e57b0f4b4f7efa056b020a2ab", "filename": "src/etc/natvis/liballoc.natvis", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/920e2d82484909a85fabc636fd216ad2fa0a168f/src%2Fetc%2Fnatvis%2Fliballoc.natvis", "raw_url": "https://github.com/rust-lang/rust/raw/920e2d82484909a85fabc636fd216ad2fa0a168f/src%2Fetc%2Fnatvis%2Fliballoc.natvis", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fnatvis%2Fliballoc.natvis?ref=920e2d82484909a85fabc636fd216ad2fa0a168f", "patch": "@@ -75,4 +75,11 @@\n       <ExpandedItem>ptr.pointer->data</ExpandedItem>\n     </Expand>\n   </Type>\n+  <Type Name=\"alloc::borrow::Cow&lt;*&gt;\">\n+    <DisplayString Condition=\"RUST$ENUM$DISR == 0x0\">Borrowed({__0})</DisplayString>\n+    <DisplayString Condition=\"RUST$ENUM$DISR == 0x1\">Owned({__0})</DisplayString>\n+    <Expand>\n+      <Item Name=\"[value]\" ExcludeView=\"simple\">__0</Item>\n+    </Expand>\n+  </Type>\n </AutoVisualizer>"}, {"sha": "9c3c26f597838de041c1b427186d1b52f610162a", "filename": "src/etc/natvis/libcore.natvis", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/920e2d82484909a85fabc636fd216ad2fa0a168f/src%2Fetc%2Fnatvis%2Flibcore.natvis", "raw_url": "https://github.com/rust-lang/rust/raw/920e2d82484909a85fabc636fd216ad2fa0a168f/src%2Fetc%2Fnatvis%2Flibcore.natvis", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fnatvis%2Flibcore.natvis?ref=920e2d82484909a85fabc636fd216ad2fa0a168f", "patch": "@@ -30,4 +30,19 @@\n     </Expand>\n   </Type>\n \n+  <Type Name=\"core::result::Result&lt;*&gt;\">\n+    <DisplayString Condition=\"RUST$ENUM$DISR == 0x0\">Ok({__0})</DisplayString>\n+    <DisplayString Condition=\"RUST$ENUM$DISR == 0x1\">Err({(*($T2*) &amp;__0)})</DisplayString>\n+    <Expand>\n+      <Item Name=\"[value]\" Condition=\"RUST$ENUM$DISR == 0x0\">__0</Item>\n+      <Item Name=\"[value]\" Condition=\"RUST$ENUM$DISR == 0x1\">(*($T2*) &amp;__0)</Item>\n+    </Expand>\n+  </Type>\n+\n+  <Type Name=\"core::ptr::non_null::NonNull&lt;*&gt;\">\n+    <DisplayString>{(void*) pointer}</DisplayString>\n+    <Expand>\n+      <Item Name=\"[value]\">*pointer</Item>\n+    </Expand>\n+  </Type>\n </AutoVisualizer>\n\\ No newline at end of file"}, {"sha": "b0542b0c633032d39fac245e79e855a72899a612", "filename": "src/etc/natvis/libstd.natvis", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/920e2d82484909a85fabc636fd216ad2fa0a168f/src%2Fetc%2Fnatvis%2Flibstd.natvis", "raw_url": "https://github.com/rust-lang/rust/raw/920e2d82484909a85fabc636fd216ad2fa0a168f/src%2Fetc%2Fnatvis%2Flibstd.natvis", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fnatvis%2Flibstd.natvis?ref=920e2d82484909a85fabc636fd216ad2fa0a168f", "patch": "@@ -72,4 +72,33 @@\n       </CustomListItems>\n     </Expand>\n   </Type>\n+\n+  <Type Name=\"std::ffi::c_str::CString\">\n+    <DisplayString>{inner.data_ptr,s}</DisplayString>\n+    <Expand>\n+      <Synthetic Name=\"[chars]\">\n+        <Expand>\n+          <ArrayItems>\n+            <Size>inner.length</Size>\n+            <ValuePointer>(char*)inner.data_ptr</ValuePointer>\n+          </ArrayItems>\n+        </Expand>\n+      </Synthetic>\n+    </Expand>\n+  </Type>\n+\n+  <Type Name=\"std::ffi::c_str::CStr\">\n+    <DisplayString>{(char*) inner}</DisplayString>\n+    <Expand>\n+      <Synthetic Name=\"[chars]\">\n+        <DisplayString>{(char*) inner}</DisplayString>\n+        <Expand>\n+          <ArrayItems>\n+            <Size>strlen((char *) inner) + 1</Size>\n+            <ValuePointer>(char*)inner</ValuePointer>\n+          </ArrayItems>\n+        </Expand>\n+      </Synthetic>\n+    </Expand>\n+  </Type>\n </AutoVisualizer>"}]}