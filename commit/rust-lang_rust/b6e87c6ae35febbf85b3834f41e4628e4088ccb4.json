{"sha": "b6e87c6ae35febbf85b3834f41e4628e4088ccb4", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI2ZTg3YzZhZTM1ZmViYmY4NWIzODM0ZjQxZTQ2MjhlNDA4OGNjYjQ=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-08-18T07:24:30Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-08-28T05:23:23Z"}, "message": "Add run-rustfix for int_plus_one test", "tree": {"sha": "43bec6c3a8633177e18452827d88537ed314ab00", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/43bec6c3a8633177e18452827d88537ed314ab00"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b6e87c6ae35febbf85b3834f41e4628e4088ccb4", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJEBAABCgAuFiEEj4U0bmbiMSg/mWqvgqphyqETl+YFAl1mD84QHGRldkBwaGFu\nc2NoLm5ldAAKCRCCqmHKoROX5vBKEACh+WgzDeodZCz5Nvej848wvqgtyVt5XHra\nzUpH5a88nVb3f6zQb6msMHsWFylbMQyHodgrNQBI0MUJIfBnLIxt9ZjefUjaUoZU\noXhwVQNeHPsxULs5sYt/Xf4xoTopbsDXin1rHRihfZfP1EO8bQ+IM0w5nfuS0/zJ\ncG38OxUuHJEJwg63+sq9b/mUgoj49UaZGm0KUYsF+JsEapODvsVB3UOxYZT8tI1a\nyx12jTERhz+cUv9BXD3Ln1/vPnLN3jvrtX4UVPsGL3kT/rqoZL0uR/yyeVWi7dtT\niddEscrDP6eMWqOoYarnzAcGWODqXPQnuBkb0fMX8qJmNfYzSJsvYeC+57uNGLK9\ni3pEIhGXjznvtAJ78XpfM8ECOl0C6sko3CgR0sK7SFSUyvjFALJqtvrkxvWqzUPo\nDvEfxvwzHDbG0ZJeOeuLsJoBwB/c7UCXztT84p0FEhKZmpldt/r0EM0am6ZNIpJ2\nypZh7+tAGemzq5rznQnJi2ST/uHbKd6K7A2vwWWALkMZQ74BJJcklUPb2lPp0B8U\nQlSOYuFtTUyBktgtL/EDuAAEX1s5FkCuBgUWFbI1oqxXo9CndxbRtW3j4+Rsrnk8\nrPBwJeKpR7FCTgR2KDS1AClz/TAa0lDHPUxWVkJLyGORgPaFUtkOgcsXUnRn9Ezf\n+9atXJKSog==\n=a5zN\n-----END PGP SIGNATURE-----", "payload": "tree 43bec6c3a8633177e18452827d88537ed314ab00\nparent cb341c8090868dbcc645573ee2606007e45a9c98\nauthor Philipp Hansch <dev@phansch.net> 1566113070 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1566969803 +0200\n\nAdd run-rustfix for int_plus_one test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b6e87c6ae35febbf85b3834f41e4628e4088ccb4", "html_url": "https://github.com/rust-lang/rust/commit/b6e87c6ae35febbf85b3834f41e4628e4088ccb4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b6e87c6ae35febbf85b3834f41e4628e4088ccb4/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cb341c8090868dbcc645573ee2606007e45a9c98", "url": "https://api.github.com/repos/rust-lang/rust/commits/cb341c8090868dbcc645573ee2606007e45a9c98", "html_url": "https://github.com/rust-lang/rust/commit/cb341c8090868dbcc645573ee2606007e45a9c98"}], "stats": {"total": 71, "additions": 45, "deletions": 26}, "files": [{"sha": "642830f24f58adbb4effca6d619bce3c6f2298c0", "filename": "tests/ui/int_plus_one.fixed", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/b6e87c6ae35febbf85b3834f41e4628e4088ccb4/tests%2Fui%2Fint_plus_one.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/b6e87c6ae35febbf85b3834f41e4628e4088ccb4/tests%2Fui%2Fint_plus_one.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fint_plus_one.fixed?ref=b6e87c6ae35febbf85b3834f41e4628e4088ccb4", "patch": "@@ -0,0 +1,17 @@\n+// run-rustfix\n+\n+#[allow(clippy::no_effect, clippy::unnecessary_operation)]\n+#[warn(clippy::int_plus_one)]\n+fn main() {\n+    let x = 1i32;\n+    let y = 0i32;\n+\n+    let _ = x > y;\n+    let _ = y < x;\n+\n+    let _ = x > y;\n+    let _ = y < x;\n+\n+    let _ = x > y; // should be ok\n+    let _ = y < x; // should be ok\n+}"}, {"sha": "0755a0c79d2801eb50e1f372fd4ff1aaf71d8f69", "filename": "tests/ui/int_plus_one.rs", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/b6e87c6ae35febbf85b3834f41e4628e4088ccb4/tests%2Fui%2Fint_plus_one.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b6e87c6ae35febbf85b3834f41e4628e4088ccb4/tests%2Fui%2Fint_plus_one.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fint_plus_one.rs?ref=b6e87c6ae35febbf85b3834f41e4628e4088ccb4", "patch": "@@ -1,15 +1,17 @@\n+// run-rustfix\n+\n #[allow(clippy::no_effect, clippy::unnecessary_operation)]\n #[warn(clippy::int_plus_one)]\n fn main() {\n     let x = 1i32;\n     let y = 0i32;\n \n-    x >= y + 1;\n-    y + 1 <= x;\n+    let _ = x >= y + 1;\n+    let _ = y + 1 <= x;\n \n-    x - 1 >= y;\n-    y <= x - 1;\n+    let _ = x - 1 >= y;\n+    let _ = y <= x - 1;\n \n-    x > y; // should be ok\n-    y < x; // should be ok\n+    let _ = x > y; // should be ok\n+    let _ = y < x; // should be ok\n }"}, {"sha": "d4ea0725fefe2b94955648cf9f51dab72ec84e64", "filename": "tests/ui/int_plus_one.stderr", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/b6e87c6ae35febbf85b3834f41e4628e4088ccb4/tests%2Fui%2Fint_plus_one.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b6e87c6ae35febbf85b3834f41e4628e4088ccb4/tests%2Fui%2Fint_plus_one.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fint_plus_one.stderr?ref=b6e87c6ae35febbf85b3834f41e4628e4088ccb4", "patch": "@@ -1,44 +1,44 @@\n error: Unnecessary `>= y + 1` or `x - 1 >=`\n-  --> $DIR/int_plus_one.rs:7:5\n+  --> $DIR/int_plus_one.rs:9:13\n    |\n-LL |     x >= y + 1;\n-   |     ^^^^^^^^^^\n+LL |     let _ = x >= y + 1;\n+   |             ^^^^^^^^^^\n    |\n    = note: `-D clippy::int-plus-one` implied by `-D warnings`\n help: change `>= y + 1` to `> y` as shown\n    |\n-LL |     x > y;\n-   |     ^^^^^\n+LL |     let _ = x > y;\n+   |             ^^^^^\n \n error: Unnecessary `>= y + 1` or `x - 1 >=`\n-  --> $DIR/int_plus_one.rs:8:5\n+  --> $DIR/int_plus_one.rs:10:13\n    |\n-LL |     y + 1 <= x;\n-   |     ^^^^^^^^^^\n+LL |     let _ = y + 1 <= x;\n+   |             ^^^^^^^^^^\n help: change `>= y + 1` to `> y` as shown\n    |\n-LL |     y < x;\n-   |     ^^^^^\n+LL |     let _ = y < x;\n+   |             ^^^^^\n \n error: Unnecessary `>= y + 1` or `x - 1 >=`\n-  --> $DIR/int_plus_one.rs:10:5\n+  --> $DIR/int_plus_one.rs:12:13\n    |\n-LL |     x - 1 >= y;\n-   |     ^^^^^^^^^^\n+LL |     let _ = x - 1 >= y;\n+   |             ^^^^^^^^^^\n help: change `>= y + 1` to `> y` as shown\n    |\n-LL |     x > y;\n-   |     ^^^^^\n+LL |     let _ = x > y;\n+   |             ^^^^^\n \n error: Unnecessary `>= y + 1` or `x - 1 >=`\n-  --> $DIR/int_plus_one.rs:11:5\n+  --> $DIR/int_plus_one.rs:13:13\n    |\n-LL |     y <= x - 1;\n-   |     ^^^^^^^^^^\n+LL |     let _ = y <= x - 1;\n+   |             ^^^^^^^^^^\n help: change `>= y + 1` to `> y` as shown\n    |\n-LL |     y < x;\n-   |     ^^^^^\n+LL |     let _ = y < x;\n+   |             ^^^^^\n \n error: aborting due to 4 previous errors\n "}]}