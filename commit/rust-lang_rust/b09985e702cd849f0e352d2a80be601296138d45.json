{"sha": "b09985e702cd849f0e352d2a80be601296138d45", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIwOTk4NWU3MDJjZDg0OWYwZTM1MmQyYTgwYmU2MDEyOTYxMzhkNDU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-06-20T09:16:22Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-06-20T09:16:22Z"}, "message": "auto merge of #15047 : brson/rust/taskdocs, r=huonw\n\nThis corrects some misinformation.", "tree": {"sha": "afc255b47e1cdbaa34ff9667b6cc7c6acbda4fcf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/afc255b47e1cdbaa34ff9667b6cc7c6acbda4fcf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b09985e702cd849f0e352d2a80be601296138d45", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b09985e702cd849f0e352d2a80be601296138d45", "html_url": "https://github.com/rust-lang/rust/commit/b09985e702cd849f0e352d2a80be601296138d45", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b09985e702cd849f0e352d2a80be601296138d45/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "30476141cf09c840328283e74ec6bca7479a0030", "url": "https://api.github.com/repos/rust-lang/rust/commits/30476141cf09c840328283e74ec6bca7479a0030", "html_url": "https://github.com/rust-lang/rust/commit/30476141cf09c840328283e74ec6bca7479a0030"}, {"sha": "cb89880e6dc3311421ead1e656361ccf4c8e6e29", "url": "https://api.github.com/repos/rust-lang/rust/commits/cb89880e6dc3311421ead1e656361ccf4c8e6e29", "html_url": "https://github.com/rust-lang/rust/commit/cb89880e6dc3311421ead1e656361ccf4c8e6e29"}], "stats": {"total": 34, "additions": 25, "deletions": 9}, "files": [{"sha": "e2d04a30a54bbff93aa76d0f181981643430210e", "filename": "src/libstd/task.rs", "status": "modified", "additions": 25, "deletions": 9, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/b09985e702cd849f0e352d2a80be601296138d45/src%2Flibstd%2Ftask.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b09985e702cd849f0e352d2a80be601296138d45/src%2Flibstd%2Ftask.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Ftask.rs?ref=b09985e702cd849f0e352d2a80be601296138d45", "patch": "@@ -8,17 +8,33 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-//! Utilities for managing and scheduling tasks\n+//! Task creation\n //!\n-//! An executing Rust program consists of a collection of lightweight tasks,\n-//! each with their own stack. Tasks communicate with each other using channels\n-//! (see `std::comm`) or other forms of synchronization (see `std::sync`) that\n-//! ensure data-race freedom.\n+//! An executing Rust program consists of a collection of tasks, each\n+//! with their own stack and local state. A Rust task is typically\n+//! backed by an operating system thread, making tasks 'just threads',\n+//! but may also be implemented via other strategies as well\n+//! (e.g. Rust comes with the [`green`](../../green/index.html)\n+//! scheduling crate for creating tasks backed by green threads).\n //!\n-//! Failure in one task does immediately propagate to any others (not to parent,\n-//! not to child). Failure propagation is instead handled as part of task\n-//! synchronization. For example, the channel `send()` and `recv()` methods will\n-//! fail if the other end has hung up already.\n+//! Tasks generally have their memory *isolated* from each other by\n+//! virtue of Rust's owned types (which of course may only be owned by\n+//! a single task at a time). Communication between tasks is primarily\n+//! done through [channels](../../std/comm/index.html), Rust's\n+//! message-passing types, though [other forms of task\n+//! synchronization](../../std/sync/index.html) are often employed to\n+//! achieve particular performance goals. In particular, types that\n+//! are guaranteed to be threadsafe are easily shared between threads\n+//! using the atomically-reference-counted container,\n+//! [`Arc`](../../std/sync/struct.Arc.html).\n+//!\n+//! Fatal logic errors in Rust cause *task failure*, during which\n+//! a task will unwind the stack, running destructors and freeing\n+//! owned resources. Task failure is unrecoverable from within\n+//! the failing task (i.e. there is no 'try/catch' in Rust), but\n+//! failure may optionally be detected from a different task. If\n+//! the main task fails the application will exit with a non-zero\n+//! exit code.\n //!\n //! # Basic task scheduling\n //!"}]}