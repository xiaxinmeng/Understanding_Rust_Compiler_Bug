{"sha": "3c4ff1b872e1d1fd4e905f9a9ac3aeec5397608d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNjNGZmMWI4NzJlMWQxZmQ0ZTkwNWY5YTlhYzNhZWVjNTM5NzYwOGQ=", "commit": {"author": {"name": "Huon Wilson", "email": "dbau.pp+github@gmail.com", "date": "2014-03-09T03:55:20Z"}, "committer": {"name": "Huon Wilson", "email": "dbau.pp+github@gmail.com", "date": "2014-03-09T08:34:40Z"}, "message": "mk: rename `check-...-doc-<crate>` to `check-...-doc-crate-<crate>`.\n\nE.g. this stops check-...-doc rules for `rustdoc.md` and `librustdoc`\nfrom stamping on each other, so that they are correctly built and\ntested. (Previously only the rustdoc crate was tested.)", "tree": {"sha": "cb42bdc43e00b45245452760a96c1947aabf523c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cb42bdc43e00b45245452760a96c1947aabf523c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3c4ff1b872e1d1fd4e905f9a9ac3aeec5397608d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3c4ff1b872e1d1fd4e905f9a9ac3aeec5397608d", "html_url": "https://github.com/rust-lang/rust/commit/3c4ff1b872e1d1fd4e905f9a9ac3aeec5397608d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3c4ff1b872e1d1fd4e905f9a9ac3aeec5397608d/comments", "author": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f7833215b0a5f8e12d559b309254a8f235078802", "url": "https://api.github.com/repos/rust-lang/rust/commits/f7833215b0a5f8e12d559b309254a8f235078802", "html_url": "https://github.com/rust-lang/rust/commit/f7833215b0a5f8e12d559b309254a8f235078802"}], "stats": {"total": 15, "additions": 8, "deletions": 7}, "files": [{"sha": "23433a4705a39dc437fc3c134fc87871adddaae6", "filename": "mk/tests.mk", "status": "modified", "additions": 8, "deletions": 7, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/3c4ff1b872e1d1fd4e905f9a9ac3aeec5397608d/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/3c4ff1b872e1d1fd4e905f9a9ac3aeec5397608d/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=3c4ff1b872e1d1fd4e905f9a9ac3aeec5397608d", "patch": "@@ -309,7 +309,7 @@ endif\n \n check-stage$(1)-T-$(2)-H-$(3)-doc-crates-exec: \\\n         $$(foreach crate,$$(TEST_DOC_CRATES), \\\n-           check-stage$(1)-T-$(2)-H-$(3)-doc-$$(crate)-exec)\n+           check-stage$(1)-T-$(2)-H-$(3)-doc-crate-$$(crate)-exec)\n \n check-stage$(1)-T-$(2)-H-$(3)-doc-exec: \\\n         $$(foreach docname,$$(DOCS), \\\n@@ -721,15 +721,16 @@ else\n CRATEDOCTESTDEP_$(1)_$(2)_$(3)_$(4) = $$(RSINPUTS_$(4))\n endif\n \n-check-stage$(1)-T-$(2)-H-$(3)-doc-$(4)-exec: $$(call TEST_OK_FILE,$(1),$(2),$(3),doc-$(4))\n+check-stage$(1)-T-$(2)-H-$(3)-doc-crate-$(4)-exec: \\\n+\t$$(call TEST_OK_FILE,$(1),$(2),$(3),doc-crate-$(4))\n \n ifeq ($(2),$$(CFG_BUILD))\n-$$(call TEST_OK_FILE,$(1),$(2),$(3),doc-$(4)): $$(CRATEDOCTESTDEP_$(1)_$(2)_$(3)_$(4))\n-\t@$$(call E, run doc-$(4) [$(2)])\n+$$(call TEST_OK_FILE,$(1),$(2),$(3),doc-crate-$(4)): $$(CRATEDOCTESTDEP_$(1)_$(2)_$(3)_$(4))\n+\t@$$(call E, run doc-crate-$(4) [$(2)])\n \t$$(Q)$$(RUSTDOC_$(1)_T_$(2)_H_$(3)) --test \\\n \t    \t$$(CRATEFILE_$(4)) --test-args \"$$(TESTARGS)\" && touch $$@\n else\n-$$(call TEST_OK_FILE,$(1),$(2),$(3),doc-$(4)):\n+$$(call TEST_OK_FILE,$(1),$(2),$(3),doc-crate-$(4)):\n \ttouch $$@\n endif\n \n@@ -748,7 +749,7 @@ $(foreach host,$(CFG_HOST), \\\n TEST_GROUPS = \\\n \tcrates \\\n \t$(foreach crate,$(TEST_CRATES),$(crate)) \\\n-\t$(foreach crate,$(TEST_DOC_CRATES),doc-$(crate)) \\\n+\t$(foreach crate,$(TEST_DOC_CRATES),doc-crate-$(crate)) \\\n \trpass \\\n \trpass-full \\\n \trfail \\\n@@ -830,7 +831,7 @@ define DEF_CHECK_DOC_FOR_STAGE\n check-stage$(1)-docs: $$(foreach docname,$$(DOCS),\\\n                        check-stage$(1)-T-$$(CFG_BUILD)-H-$$(CFG_BUILD)-doc-$$(docname)) \\\n                      $$(foreach crate,$$(TEST_DOC_CRATES),\\\n-                       check-stage$(1)-T-$$(CFG_BUILD)-H-$$(CFG_BUILD)-doc-$$(crate))\n+                       check-stage$(1)-T-$$(CFG_BUILD)-H-$$(CFG_BUILD)-doc-crate-$$(crate))\n endef\n \n $(foreach stage,$(STAGES), \\"}]}