{"sha": "bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJkOWZmODQ3NmQ1ZThjYTVkYmI5OWM3MGZmMmE5ZGMzYmUxZDU5ZDc=", "commit": {"author": {"name": "Mike Hommey", "email": "mh@glandium.org", "date": "2018-04-13T23:13:28Z"}, "committer": {"name": "Mike Hommey", "email": "mh@glandium.org", "date": "2018-04-13T23:43:13Z"}, "message": "Cleanup liballoc use statements\n\nSome modules were still using the deprecated `allocator` module, use the\n`alloc` module instead.\n\nSome modules were using `super` while it's not needed.\n\nSome modules were more or less ordering them, and other not, so the\nlatter have been modified to match the others.", "tree": {"sha": "f91a9ff37c528581e22c292b854ded5a7d1afafd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f91a9ff37c528581e22c292b854ded5a7d1afafd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7", "html_url": "https://github.com/rust-lang/rust/commit/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/comments", "author": {"login": "glandium", "id": 1038527, "node_id": "MDQ6VXNlcjEwMzg1Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1038527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glandium", "html_url": "https://github.com/glandium", "followers_url": "https://api.github.com/users/glandium/followers", "following_url": "https://api.github.com/users/glandium/following{/other_user}", "gists_url": "https://api.github.com/users/glandium/gists{/gist_id}", "starred_url": "https://api.github.com/users/glandium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glandium/subscriptions", "organizations_url": "https://api.github.com/users/glandium/orgs", "repos_url": "https://api.github.com/users/glandium/repos", "events_url": "https://api.github.com/users/glandium/events{/privacy}", "received_events_url": "https://api.github.com/users/glandium/received_events", "type": "User", "site_admin": false}, "committer": {"login": "glandium", "id": 1038527, "node_id": "MDQ6VXNlcjEwMzg1Mjc=", "avatar_url": "https://avatars.githubusercontent.com/u/1038527?v=4", "gravatar_id": "", "url": "https://api.github.com/users/glandium", "html_url": "https://github.com/glandium", "followers_url": "https://api.github.com/users/glandium/followers", "following_url": "https://api.github.com/users/glandium/following{/other_user}", "gists_url": "https://api.github.com/users/glandium/gists{/gist_id}", "starred_url": "https://api.github.com/users/glandium/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/glandium/subscriptions", "organizations_url": "https://api.github.com/users/glandium/orgs", "repos_url": "https://api.github.com/users/glandium/repos", "events_url": "https://api.github.com/users/glandium/events{/privacy}", "received_events_url": "https://api.github.com/users/glandium/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9c2bfcbea2d7fff10e608b495d76f24f441999b9", "url": "https://api.github.com/repos/rust-lang/rust/commits/9c2bfcbea2d7fff10e608b495d76f24f441999b9", "html_url": "https://github.com/rust-lang/rust/commit/9c2bfcbea2d7fff10e608b495d76f24f441999b9"}], "stats": {"total": 30, "additions": 15, "deletions": 15}, "files": [{"sha": "aceb6ff8abe2a7a6d914f3d8d250cf2ca853c393", "filename": "src/liballoc/boxed.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fboxed.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fboxed.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fboxed.rs?ref=bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7", "patch": "@@ -55,8 +55,6 @@\n \n #![stable(feature = \"rust1\", since = \"1.0.0\")]\n \n-use raw_vec::RawVec;\n-\n use core::any::Any;\n use core::borrow;\n use core::cmp::Ordering;\n@@ -68,6 +66,8 @@ use core::mem::{self, Pin};\n use core::ops::{CoerceUnsized, Deref, DerefMut, Generator, GeneratorState};\n use core::ptr::{self, NonNull, Unique};\n use core::convert::From;\n+\n+use raw_vec::RawVec;\n use str::from_boxed_utf8_unchecked;\n \n /// A pointer type for heap allocation."}, {"sha": "405814c021afef423e4599e514c9e6d19683ba78", "filename": "src/liballoc/raw_vec.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fraw_vec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fraw_vec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fraw_vec.rs?ref=bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7", "patch": "@@ -8,15 +8,16 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-use alloc::{Alloc, Layout, Global};\n use core::cmp;\n use core::mem;\n use core::ops::Drop;\n use core::ptr::{self, NonNull, Unique};\n use core::slice;\n-use super::boxed::Box;\n-use super::allocator::CollectionAllocErr;\n-use super::allocator::CollectionAllocErr::*;\n+\n+use alloc::{Alloc, Layout, Global};\n+use alloc::CollectionAllocErr;\n+use alloc::CollectionAllocErr::*;\n+use boxed::Box;\n \n /// A low-level utility for more ergonomically allocating, reallocating, and deallocating\n /// a buffer of memory on the heap without having to worry about all the corner cases"}, {"sha": "6c9f3dd7ec975d9d0368d31f864ab079d34bd021", "filename": "src/liballoc/str.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fstr.rs?ref=bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7", "patch": "@@ -46,12 +46,12 @@ use core::mem;\n use core::ptr;\n use core::iter::FusedIterator;\n \n-use vec_deque::VecDeque;\n use borrow::{Borrow, ToOwned};\n+use boxed::Box;\n+use slice::{SliceConcatExt, SliceIndex};\n use string::String;\n use vec::Vec;\n-use slice::{SliceConcatExt, SliceIndex};\n-use boxed::Box;\n+use vec_deque::VecDeque;\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n pub use core::str::{FromStr, Utf8Error};"}, {"sha": "0924ca2479147f4f581f0f94eaa28a74b5237903", "filename": "src/liballoc/string.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fstring.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fstring.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fstring.rs?ref=bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7", "patch": "@@ -66,11 +66,11 @@ use core::ptr;\n use core::str::pattern::Pattern;\n use core::str::lossy;\n \n+use alloc::CollectionAllocErr;\n use borrow::{Cow, ToOwned};\n+use boxed::Box;\n use str::{self, from_boxed_utf8_unchecked, FromStr, Utf8Error, Chars};\n use vec::Vec;\n-use boxed::Box;\n-use super::allocator::CollectionAllocErr;\n \n /// A UTF-8 encoded, growable string.\n ///"}, {"sha": "9ae415c328bd2cc12bdef7a8ad890900be7d6a38", "filename": "src/liballoc/vec.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fvec.rs?ref=bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7", "patch": "@@ -82,11 +82,11 @@ use core::ptr;\n use core::ptr::NonNull;\n use core::slice;\n \n+use alloc::CollectionAllocErr;\n use borrow::ToOwned;\n use borrow::Cow;\n use boxed::Box;\n use raw_vec::RawVec;\n-use super::allocator::CollectionAllocErr;\n \n /// A contiguous growable array type, written `Vec<T>` but pronounced 'vector'.\n ///"}, {"sha": "603e38ca2ca33d16bffd674c50163910d2091718", "filename": "src/liballoc/vec_deque.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fvec_deque.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7/src%2Fliballoc%2Fvec_deque.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fvec_deque.rs?ref=bd9ff8476d5e8ca5dbb99c70ff2a9dc3be1d59d7", "patch": "@@ -30,10 +30,9 @@ use core::slice;\n use core::hash::{Hash, Hasher};\n use core::cmp;\n \n+use alloc::CollectionAllocErr;\n use raw_vec::RawVec;\n-\n-use super::allocator::CollectionAllocErr;\n-use super::vec::Vec;\n+use vec::Vec;\n \n const INITIAL_CAPACITY: usize = 7; // 2^3 - 1\n const MINIMUM_CAPACITY: usize = 1; // 2 - 1"}]}