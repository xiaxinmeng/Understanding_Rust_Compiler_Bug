{"sha": "05a5a1128fc5da178f9b7bd0ab499258652dfc49", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA1YTVhMTEyOGZjNWRhMTc4ZjliN2JkMGFiNDk5MjU4NjUyZGZjNDk=", "commit": {"author": {"name": "Tor Hovland", "email": "tor.hovland@bekk.no", "date": "2021-04-24T17:00:24Z"}, "committer": {"name": "Tor Hovland", "email": "tor.hovland@bekk.no", "date": "2021-04-24T17:00:24Z"}, "message": "More tests.", "tree": {"sha": "8f4e30ba5f79da8eea15168eb39787a099deb54e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8f4e30ba5f79da8eea15168eb39787a099deb54e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/05a5a1128fc5da178f9b7bd0ab499258652dfc49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/05a5a1128fc5da178f9b7bd0ab499258652dfc49", "html_url": "https://github.com/rust-lang/rust/commit/05a5a1128fc5da178f9b7bd0ab499258652dfc49", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/05a5a1128fc5da178f9b7bd0ab499258652dfc49/comments", "author": null, "committer": null, "parents": [{"sha": "8bc81a0e4d9d5edc72af0cffe31a78a0bd2156f2", "url": "https://api.github.com/repos/rust-lang/rust/commits/8bc81a0e4d9d5edc72af0cffe31a78a0bd2156f2", "html_url": "https://github.com/rust-lang/rust/commit/8bc81a0e4d9d5edc72af0cffe31a78a0bd2156f2"}], "stats": {"total": 58, "additions": 51, "deletions": 7}, "files": [{"sha": "fc3b3c4a30facfcd779746d50a4a12492d85323d", "filename": "src/test/ui/loops/loop-no-implicit-break.rs", "status": "modified", "additions": 24, "deletions": 2, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/05a5a1128fc5da178f9b7bd0ab499258652dfc49/src%2Ftest%2Fui%2Floops%2Floop-no-implicit-break.rs", "raw_url": "https://github.com/rust-lang/rust/raw/05a5a1128fc5da178f9b7bd0ab499258652dfc49/src%2Ftest%2Fui%2Floops%2Floop-no-implicit-break.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Floops%2Floop-no-implicit-break.rs?ref=05a5a1128fc5da178f9b7bd0ab499258652dfc49", "patch": "@@ -1,5 +1,27 @@\n fn main() {\n-    let x: i8 = loop {\n-        10 //~ ERROR mismatched types\n+    let a: i8 = loop {\n+        1 //~ ERROR mismatched types\n     };\n+\n+    let b: i8 = loop {\n+        break 1;\n+    };\n+}\n+\n+fn foo() -> i8 {\n+    let a: i8 = loop {\n+        1 //~ ERROR mismatched types\n+    };\n+\n+    let b: i8 = loop {\n+        break 1;\n+    };\n+\n+    loop {\n+        1 //~ ERROR mismatched types\n+    }\n+\n+    loop {\n+        return 1;\n+    }\n }"}, {"sha": "cde6bbe512b285361b8b452304098891ddf73007", "filename": "src/test/ui/loops/loop-no-implicit-break.stderr", "status": "modified", "additions": 27, "deletions": 5, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/05a5a1128fc5da178f9b7bd0ab499258652dfc49/src%2Ftest%2Fui%2Floops%2Floop-no-implicit-break.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/05a5a1128fc5da178f9b7bd0ab499258652dfc49/src%2Ftest%2Fui%2Floops%2Floop-no-implicit-break.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Floops%2Floop-no-implicit-break.stderr?ref=05a5a1128fc5da178f9b7bd0ab499258652dfc49", "patch": "@@ -1,14 +1,36 @@\n error[E0308]: mismatched types\n   --> $DIR/loop-no-implicit-break.rs:3:9\n    |\n-LL |         10\n-   |         ^^ expected `()`, found integer\n+LL |         1\n+   |         ^ expected `()`, found integer\n    |\n help: you might have meant to break the loop with this value\n    |\n-LL |         break 10;\n-   |         ^^^^^   ^\n+LL |         break 1;\n+   |         ^^^^^  ^\n \n-error: aborting due to previous error\n+error[E0308]: mismatched types\n+  --> $DIR/loop-no-implicit-break.rs:13:9\n+   |\n+LL |         1\n+   |         ^ expected `()`, found integer\n+   |\n+help: you might have meant to break the loop with this value\n+   |\n+LL |         break 1;\n+   |         ^^^^^  ^\n+\n+error[E0308]: mismatched types\n+  --> $DIR/loop-no-implicit-break.rs:21:9\n+   |\n+LL |         1\n+   |         ^ expected `()`, found integer\n+   |\n+help: you might have meant to return this value\n+   |\n+LL |         return 1;\n+   |         ^^^^^^  ^\n+\n+error: aborting due to 3 previous errors\n \n For more information about this error, try `rustc --explain E0308`."}]}