{"sha": "0d21d257c9691983fd51e7d5d9ace4de8933114c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBkMjFkMjU3Yzk2OTE5ODNmZDUxZTdkNWQ5YWNlNGRlODkzMzExNGM=", "commit": {"author": {"name": "Jake Goulding", "email": "jake.goulding@gmail.com", "date": "2019-10-22T17:54:09Z"}, "committer": {"name": "Jake Goulding", "email": "jake.goulding@gmail.com", "date": "2019-10-25T15:20:47Z"}, "message": "Remove unneeded pointer casting", "tree": {"sha": "f5006723ba89dfbcb40364617cd79f0df25f9aac", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f5006723ba89dfbcb40364617cd79f0df25f9aac"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0d21d257c9691983fd51e7d5d9ace4de8933114c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0d21d257c9691983fd51e7d5d9ace4de8933114c", "html_url": "https://github.com/rust-lang/rust/commit/0d21d257c9691983fd51e7d5d9ace4de8933114c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0d21d257c9691983fd51e7d5d9ace4de8933114c/comments", "author": {"login": "shepmaster", "id": 174509, "node_id": "MDQ6VXNlcjE3NDUwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shepmaster", "html_url": "https://github.com/shepmaster", "followers_url": "https://api.github.com/users/shepmaster/followers", "following_url": "https://api.github.com/users/shepmaster/following{/other_user}", "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions", "organizations_url": "https://api.github.com/users/shepmaster/orgs", "repos_url": "https://api.github.com/users/shepmaster/repos", "events_url": "https://api.github.com/users/shepmaster/events{/privacy}", "received_events_url": "https://api.github.com/users/shepmaster/received_events", "type": "User", "site_admin": false}, "committer": {"login": "shepmaster", "id": 174509, "node_id": "MDQ6VXNlcjE3NDUwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/174509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shepmaster", "html_url": "https://github.com/shepmaster", "followers_url": "https://api.github.com/users/shepmaster/followers", "following_url": "https://api.github.com/users/shepmaster/following{/other_user}", "gists_url": "https://api.github.com/users/shepmaster/gists{/gist_id}", "starred_url": "https://api.github.com/users/shepmaster/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shepmaster/subscriptions", "organizations_url": "https://api.github.com/users/shepmaster/orgs", "repos_url": "https://api.github.com/users/shepmaster/repos", "events_url": "https://api.github.com/users/shepmaster/events{/privacy}", "received_events_url": "https://api.github.com/users/shepmaster/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "23f890f10202a71168c6424da0cdf94135d3c40c", "url": "https://api.github.com/repos/rust-lang/rust/commits/23f890f10202a71168c6424da0cdf94135d3c40c", "html_url": "https://github.com/rust-lang/rust/commit/23f890f10202a71168c6424da0cdf94135d3c40c"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "108c91fba1ff8aa39c87023c9a81ec7492dfb363", "filename": "src/liballoc/string.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/0d21d257c9691983fd51e7d5d9ace4de8933114c/src%2Fliballoc%2Fstring.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0d21d257c9691983fd51e7d5d9ace4de8933114c/src%2Fliballoc%2Fstring.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fstring.rs?ref=0d21d257c9691983fd51e7d5d9ace4de8933114c", "patch": "@@ -194,9 +194,9 @@ use crate::vec::Vec;\n /// ```\n /// use std::mem;\n ///\n-/// let story = String::from(\"Once upon a time...\");\n+/// let mut story = String::from(\"Once upon a time...\");\n ///\n-/// let ptr = story.as_ptr();\n+/// let ptr = story.as_mut_ptr();\n /// let len = story.len();\n /// let capacity = story.capacity();\n ///\n@@ -209,7 +209,7 @@ use crate::vec::Vec;\n /// // We can re-build a String out of ptr, len, and capacity. This is all\n /// // unsafe because we are responsible for making sure the components are\n /// // valid:\n-/// let s = unsafe { String::from_raw_parts(ptr as *mut _, len, capacity) } ;\n+/// let s = unsafe { String::from_raw_parts(ptr, len, capacity) } ;\n ///\n /// assert_eq!(String::from(\"Once upon a time...\"), s);\n /// ```\n@@ -676,14 +676,14 @@ impl String {\n     /// use std::mem;\n     ///\n     /// unsafe {\n-    ///     let s = String::from(\"hello\");\n-    ///     let ptr = s.as_ptr();\n+    ///     let mut s = String::from(\"hello\");\n+    ///     let ptr = s.as_mut_ptr();\n     ///     let len = s.len();\n     ///     let capacity = s.capacity();\n     ///\n     ///     mem::forget(s);\n     ///\n-    ///     let s = String::from_raw_parts(ptr as *mut _, len, capacity);\n+    ///     let s = String::from_raw_parts(ptr, len, capacity);\n     ///\n     ///     assert_eq!(String::from(\"hello\"), s);\n     /// }"}]}