{"sha": "457c3aa6722cd8d2599c7f78347b2f8f586f3527", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ1N2MzYWE2NzIyY2Q4ZDI1OTljN2Y3ODM0N2IyZjhmNTg2ZjM1Mjc=", "commit": {"author": {"name": "Dylan MacKenzie", "email": "ecstaticmorse@gmail.com", "date": "2019-09-17T23:25:26Z"}, "committer": {"name": "Dylan MacKenzie", "email": "ecstaticmorse@gmail.com", "date": "2019-09-28T14:06:51Z"}, "message": "Add additional `const` tests", "tree": {"sha": "8cedd346aa409f0e242ae90fc59b0bcb03c4ddd7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8cedd346aa409f0e242ae90fc59b0bcb03c4ddd7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/457c3aa6722cd8d2599c7f78347b2f8f586f3527", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/457c3aa6722cd8d2599c7f78347b2f8f586f3527", "html_url": "https://github.com/rust-lang/rust/commit/457c3aa6722cd8d2599c7f78347b2f8f586f3527", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/457c3aa6722cd8d2599c7f78347b2f8f586f3527/comments", "author": {"login": "ecstatic-morse", "id": 29463364, "node_id": "MDQ6VXNlcjI5NDYzMzY0", "avatar_url": "https://avatars.githubusercontent.com/u/29463364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecstatic-morse", "html_url": "https://github.com/ecstatic-morse", "followers_url": "https://api.github.com/users/ecstatic-morse/followers", "following_url": "https://api.github.com/users/ecstatic-morse/following{/other_user}", "gists_url": "https://api.github.com/users/ecstatic-morse/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecstatic-morse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecstatic-morse/subscriptions", "organizations_url": "https://api.github.com/users/ecstatic-morse/orgs", "repos_url": "https://api.github.com/users/ecstatic-morse/repos", "events_url": "https://api.github.com/users/ecstatic-morse/events{/privacy}", "received_events_url": "https://api.github.com/users/ecstatic-morse/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ecstatic-morse", "id": 29463364, "node_id": "MDQ6VXNlcjI5NDYzMzY0", "avatar_url": "https://avatars.githubusercontent.com/u/29463364?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ecstatic-morse", "html_url": "https://github.com/ecstatic-morse", "followers_url": "https://api.github.com/users/ecstatic-morse/followers", "following_url": "https://api.github.com/users/ecstatic-morse/following{/other_user}", "gists_url": "https://api.github.com/users/ecstatic-morse/gists{/gist_id}", "starred_url": "https://api.github.com/users/ecstatic-morse/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ecstatic-morse/subscriptions", "organizations_url": "https://api.github.com/users/ecstatic-morse/orgs", "repos_url": "https://api.github.com/users/ecstatic-morse/repos", "events_url": "https://api.github.com/users/ecstatic-morse/events{/privacy}", "received_events_url": "https://api.github.com/users/ecstatic-morse/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "717c64e18884c20a11603f181b207ff280b13f9a", "url": "https://api.github.com/repos/rust-lang/rust/commits/717c64e18884c20a11603f181b207ff280b13f9a", "html_url": "https://github.com/rust-lang/rust/commit/717c64e18884c20a11603f181b207ff280b13f9a"}], "stats": {"total": 46, "additions": 46, "deletions": 0}, "files": [{"sha": "9bb5bcc499e619fdeb13ecbd7d938e47731ada55", "filename": "src/test/ui/consts/const-if.rs", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/457c3aa6722cd8d2599c7f78347b2f8f586f3527/src%2Ftest%2Fui%2Fconsts%2Fconst-if.rs", "raw_url": "https://github.com/rust-lang/rust/raw/457c3aa6722cd8d2599c7f78347b2f8f586f3527/src%2Ftest%2Fui%2Fconsts%2Fconst-if.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-if.rs?ref=457c3aa6722cd8d2599c7f78347b2f8f586f3527", "patch": "@@ -0,0 +1,5 @@\n+const _X: i32 = if true { 5 } else { 6 };\n+//~^ ERROR constant contains unimplemented expression type\n+//~| ERROR constant contains unimplemented expression type\n+\n+fn main() {}"}, {"sha": "655fcdae587484aef4613c08cafd833f5f06a8f4", "filename": "src/test/ui/consts/const-if.stderr", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/457c3aa6722cd8d2599c7f78347b2f8f586f3527/src%2Ftest%2Fui%2Fconsts%2Fconst-if.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/457c3aa6722cd8d2599c7f78347b2f8f586f3527/src%2Ftest%2Fui%2Fconsts%2Fconst-if.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-if.stderr?ref=457c3aa6722cd8d2599c7f78347b2f8f586f3527", "patch": "@@ -0,0 +1,15 @@\n+error[E0019]: constant contains unimplemented expression type\n+  --> $DIR/const-if.rs:1:20\n+   |\n+LL | const _X: i32 = if true { 5 } else { 6 };\n+   |                    ^^^^\n+\n+error[E0019]: constant contains unimplemented expression type\n+  --> $DIR/const-if.rs:1:17\n+   |\n+LL | const _X: i32 = if true { 5 } else { 6 };\n+   |                 ^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+error: aborting due to 2 previous errors\n+\n+For more information about this error, try `rustc --explain E0019`."}, {"sha": "498e99e668b43312c95db24106d7066881377a9d", "filename": "src/test/ui/consts/const-multi-ref.rs", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/457c3aa6722cd8d2599c7f78347b2f8f586f3527/src%2Ftest%2Fui%2Fconsts%2Fconst-multi-ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/457c3aa6722cd8d2599c7f78347b2f8f586f3527/src%2Ftest%2Fui%2Fconsts%2Fconst-multi-ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-multi-ref.rs?ref=457c3aa6722cd8d2599c7f78347b2f8f586f3527", "patch": "@@ -0,0 +1,11 @@\n+const _X: i32 = {\n+    let mut a = 5;\n+    let p = &mut a;      //~ ERROR references in constants may only refer to immutable values\n+\n+    let reborrow = {p};  //~ ERROR references in constants may only refer to immutable values\n+    let pp = &reborrow;\n+    let ppp = &pp;\n+    ***ppp\n+};\n+\n+fn main() {}"}, {"sha": "9e525ef9aac75bcf4b4d70ba49b2ca8042edb789", "filename": "src/test/ui/consts/const-multi-ref.stderr", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/457c3aa6722cd8d2599c7f78347b2f8f586f3527/src%2Ftest%2Fui%2Fconsts%2Fconst-multi-ref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/457c3aa6722cd8d2599c7f78347b2f8f586f3527/src%2Ftest%2Fui%2Fconsts%2Fconst-multi-ref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-multi-ref.stderr?ref=457c3aa6722cd8d2599c7f78347b2f8f586f3527", "patch": "@@ -0,0 +1,15 @@\n+error[E0017]: references in constants may only refer to immutable values\n+  --> $DIR/const-multi-ref.rs:3:13\n+   |\n+LL |     let p = &mut a;\n+   |             ^^^^^^ constants require immutable values\n+\n+error[E0017]: references in constants may only refer to immutable values\n+  --> $DIR/const-multi-ref.rs:5:21\n+   |\n+LL |     let reborrow = {p};\n+   |                     ^ constants require immutable values\n+\n+error: aborting due to 2 previous errors\n+\n+For more information about this error, try `rustc --explain E0017`."}]}