{"sha": "c015927af3604ec5305e078c1a57c81901f81190", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMwMTU5MjdhZjM2MDRlYzUzMDVlMDc4YzFhNTdjODE5MDFmODExOTA=", "commit": {"author": {"name": "Paul Daniel Faria", "email": "Nashenas88@users.noreply.github.com", "date": "2019-08-27T04:20:21Z"}, "committer": {"name": "Paul Daniel Faria", "email": "Nashenas88@users.noreply.github.com", "date": "2019-08-27T04:20:21Z"}, "message": "Fix ICE in rustdoc when merging generic and where bounds in the case of an Fn with an output\n\nFixes #57180", "tree": {"sha": "0419f73add83885d32a419ef8627a56dd9e8d3f7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0419f73add83885d32a419ef8627a56dd9e8d3f7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c015927af3604ec5305e078c1a57c81901f81190", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c015927af3604ec5305e078c1a57c81901f81190", "html_url": "https://github.com/rust-lang/rust/commit/c015927af3604ec5305e078c1a57c81901f81190", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c015927af3604ec5305e078c1a57c81901f81190/comments", "author": {"login": "Nashenas88", "id": 1673130, "node_id": "MDQ6VXNlcjE2NzMxMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1673130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nashenas88", "html_url": "https://github.com/Nashenas88", "followers_url": "https://api.github.com/users/Nashenas88/followers", "following_url": "https://api.github.com/users/Nashenas88/following{/other_user}", "gists_url": "https://api.github.com/users/Nashenas88/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nashenas88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nashenas88/subscriptions", "organizations_url": "https://api.github.com/users/Nashenas88/orgs", "repos_url": "https://api.github.com/users/Nashenas88/repos", "events_url": "https://api.github.com/users/Nashenas88/events{/privacy}", "received_events_url": "https://api.github.com/users/Nashenas88/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Nashenas88", "id": 1673130, "node_id": "MDQ6VXNlcjE2NzMxMzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1673130?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nashenas88", "html_url": "https://github.com/Nashenas88", "followers_url": "https://api.github.com/users/Nashenas88/followers", "following_url": "https://api.github.com/users/Nashenas88/following{/other_user}", "gists_url": "https://api.github.com/users/Nashenas88/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nashenas88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nashenas88/subscriptions", "organizations_url": "https://api.github.com/users/Nashenas88/orgs", "repos_url": "https://api.github.com/users/Nashenas88/repos", "events_url": "https://api.github.com/users/Nashenas88/events{/privacy}", "received_events_url": "https://api.github.com/users/Nashenas88/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9b91b9c10e3c87ed333a1e34c4f46ed68f1eee06", "url": "https://api.github.com/repos/rust-lang/rust/commits/9b91b9c10e3c87ed333a1e34c4f46ed68f1eee06", "html_url": "https://github.com/rust-lang/rust/commit/9b91b9c10e3c87ed333a1e34c4f46ed68f1eee06"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "2142d6de5da5dce58783e5f54265d23281bb18e6", "filename": "src/librustdoc/clean/simplify.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c015927af3604ec5305e078c1a57c81901f81190/src%2Flibrustdoc%2Fclean%2Fsimplify.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c015927af3604ec5305e078c1a57c81901f81190/src%2Flibrustdoc%2Fclean%2Fsimplify.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fsimplify.rs?ref=c015927af3604ec5305e078c1a57c81901f81190", "patch": "@@ -122,9 +122,9 @@ pub fn merge_bounds(\n                     },\n                 });\n             }\n-            PP::Parenthesized { ref mut output, .. } => {\n-                assert!(output.is_none());\n-                if *rhs != clean::Type::Tuple(Vec::new()) {\n+            PP::Parenthesized { ref mut output, .. } => match output {\n+                Some(o) => assert!(o == rhs),\n+                None => if *rhs != clean::Type::Tuple(Vec::new()) {\n                     *output = Some(rhs.clone());\n                 }\n             }"}]}