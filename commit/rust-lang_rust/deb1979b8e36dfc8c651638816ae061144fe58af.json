{"sha": "deb1979b8e36dfc8c651638816ae061144fe58af", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRlYjE5NzliOGUzNmRmYzhjNjUxNjM4ODE2YWUwNjExNDRmZTU4YWY=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-03-31T13:13:38Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-03-31T15:24:09Z"}, "message": "Make limit_stderr_length a subcommand", "tree": {"sha": "19be4f087d4280791d12365164c7b18bd3c7beef", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/19be4f087d4280791d12365164c7b18bd3c7beef"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/deb1979b8e36dfc8c651638816ae061144fe58af", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqv54U47RUUXZfOLnLO/Nsn7QvnkFAl6DYJkACgkQLO/Nsn7Q\nvnlc2BAAlQv/RqsL/gVUu0HKigRql/P0q1Z5aeB56LwM6zX1OzlwG27JssJ6wAna\nswMIkpo17VltsMRQodgOMdsRARdI7Cx8oFqkhykW9qKqra47EL4Jfe7KqSsgspaq\nkNSLvZ23gDqYWhGDtV8dHn/NzP8pJyJUa6EzxsbXgj2KYo7bBlPXTf1odPR1sBuP\nDArk5u4Xs39eMdIIcZIQFLKP3/Hn7iZtRe4+B29hui4r1RuOytwmZeypg81scNIs\nSoNqXTxxrPgk34df8LIj025FgOUs/Z7Wno+eLY4YyH2/24cCm4dRGtowWTMrJi3g\nIA4KJyDPfiadygKePyVXSyIV42ctJ2xljHK+XOhNQ33el8uYh+UnUUW4xJ1JAFDJ\nu+GZdv+18WAAhtC13XKligHjmOlhSFCOIhcZDZeSKgLEl830vGM/GS8ar5yzrtJp\nZowwnjKCBtWYBIsstg2v/iX4Ao19OrXsvjKOPtvntl4kFFIw4lcgR1HLq6CCHBrJ\n3FK7eS2j4mVohRO4xQoq7DSu5o77m+e311DtcfH7/jG+Sn/SaZ2nNlWO+fiFQDt1\nV/S+hqA4SG32R9Dhc1t3iuvBNLJ+iiI3u6IOEvmcxic6xli3i3ifPWUlLJSy2Oc9\njP8M0yIW9THYyYhdkjI/eKe3nFQSpcxLaNZ5XwoVhGtE37m3ajg=\n=loSu\n-----END PGP SIGNATURE-----", "payload": "tree 19be4f087d4280791d12365164c7b18bd3c7beef\nparent 8b9d70d3490698dac74f67a9caad1c5ee825e716\nauthor flip1995 <hello@philkrones.com> 1585660418 +0200\ncommitter flip1995 <hello@philkrones.com> 1585668249 +0200\n\nMake limit_stderr_length a subcommand\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/deb1979b8e36dfc8c651638816ae061144fe58af", "html_url": "https://github.com/rust-lang/rust/commit/deb1979b8e36dfc8c651638816ae061144fe58af", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/deb1979b8e36dfc8c651638816ae061144fe58af/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b9d70d3490698dac74f67a9caad1c5ee825e716", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b9d70d3490698dac74f67a9caad1c5ee825e716", "html_url": "https://github.com/rust-lang/rust/commit/8b9d70d3490698dac74f67a9caad1c5ee825e716"}], "stats": {"total": 18, "additions": 8, "deletions": 10}, "files": [{"sha": "ffb88cdb4d9fc03dd7b8c19357da01d274a6373a", "filename": ".github/workflows/clippy_dev.yml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/deb1979b8e36dfc8c651638816ae061144fe58af/.github%2Fworkflows%2Fclippy_dev.yml", "raw_url": "https://github.com/rust-lang/rust/raw/deb1979b8e36dfc8c651638816ae061144fe58af/.github%2Fworkflows%2Fclippy_dev.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fclippy_dev.yml?ref=deb1979b8e36dfc8c651638816ae061144fe58af", "patch": "@@ -38,8 +38,8 @@ jobs:\n       run: cargo build --features deny-warnings\n       working-directory: clippy_dev\n \n-    - name: Test limit-stderr-length\n-      run: cargo dev --limit-stderr-length\n+    - name: Test limit_stderr_length\n+      run: cargo dev limit_stderr_length\n \n     - name: Test update_lints\n       run: cargo dev update_lints --check"}, {"sha": "dadb2d7c04ce0c7b5bc76ae4413e8d9b93ff312d", "filename": "clippy_dev/src/main.rs", "status": "modified", "additions": 6, "deletions": 8, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/deb1979b8e36dfc8c651638816ae061144fe58af/clippy_dev%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/deb1979b8e36dfc8c651638816ae061144fe58af/clippy_dev%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fmain.rs?ref=deb1979b8e36dfc8c651638816ae061144fe58af", "patch": "@@ -95,17 +95,12 @@ fn main() {\n                         .takes_value(true),\n                 ),\n         )\n-        .arg(\n-            Arg::with_name(\"limit-stderr-length\")\n-                .long(\"limit-stderr-length\")\n-                .help(\"Ensures that stderr files do not grow longer than a certain amount of lines.\"),\n+        .subcommand(\n+            SubCommand::with_name(\"limit_stderr_length\")\n+                .about(\"Ensures that stderr files do not grow longer than a certain amount of lines.\"),\n         )\n         .get_matches();\n \n-    if matches.is_present(\"limit-stderr-length\") {\n-        stderr_length_check::check();\n-    }\n-\n     match matches.subcommand() {\n         (\"fmt\", Some(matches)) => {\n             fmt::run(matches.is_present(\"check\"), matches.is_present(\"verbose\"));\n@@ -129,6 +124,9 @@ fn main() {\n                 Err(e) => eprintln!(\"Unable to create lint: {}\", e),\n             }\n         },\n+        (\"limit_stderr_length\", _) => {\n+            stderr_length_check::check();\n+        },\n         _ => {},\n     }\n }"}]}