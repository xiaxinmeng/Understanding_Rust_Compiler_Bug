{"sha": "967c1f3be1c9ce0469ae9e30659bdf4da5346a9f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk2N2MxZjNiZTFjOWNlMDQ2OWFlOWUzMDY1OWJkZjRkYTUzNDZhOWY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-06-15T19:05:25Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-06-15T19:05:25Z"}, "message": "Auto merge of #50296 - cmdd:master, r=nikomatsakis\n\nAdd error message for using >= 65535 hashes for raw string literal escapes\n\nFixes #50111.", "tree": {"sha": "acc58751578890cbb844cd6907c0022bc6062a45", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/acc58751578890cbb844cd6907c0022bc6062a45"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/967c1f3be1c9ce0469ae9e30659bdf4da5346a9f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/967c1f3be1c9ce0469ae9e30659bdf4da5346a9f", "html_url": "https://github.com/rust-lang/rust/commit/967c1f3be1c9ce0469ae9e30659bdf4da5346a9f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/967c1f3be1c9ce0469ae9e30659bdf4da5346a9f/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "24edc416ab3944b680fc73057879da7fa1d50c22", "url": "https://api.github.com/repos/rust-lang/rust/commits/24edc416ab3944b680fc73057879da7fa1d50c22", "html_url": "https://github.com/rust-lang/rust/commit/24edc416ab3944b680fc73057879da7fa1d50c22"}, {"sha": "313d6c53df9a2725ab62c653c8e87100ec45724f", "url": "https://api.github.com/repos/rust-lang/rust/commits/313d6c53df9a2725ab62c653c8e87100ec45724f", "html_url": "https://github.com/rust-lang/rust/commit/313d6c53df9a2725ab62c653c8e87100ec45724f"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "5353ff9a1e13dd3c58950902b5879cf5dac31b2a", "filename": "src/libsyntax/parse/lexer/mod.rs", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/967c1f3be1c9ce0469ae9e30659bdf4da5346a9f/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/967c1f3be1c9ce0469ae9e30659bdf4da5346a9f/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs?ref=967c1f3be1c9ce0469ae9e30659bdf4da5346a9f", "patch": "@@ -1450,6 +1450,13 @@ impl<'a> StringReader<'a> {\n                 self.bump();\n                 let mut hash_count: u16 = 0;\n                 while self.ch_is('#') {\n+                    if hash_count == 65535 {\n+                        let bpos = self.next_pos;\n+                        self.fatal_span_(start_bpos,\n+                                         bpos,\n+                                         \"too many `#` symbols: raw strings may be \\\n+                                         delimited by up to 65535 `#` symbols\").raise();\n+                    }\n                     self.bump();\n                     hash_count += 1;\n                 }\n@@ -1680,6 +1687,13 @@ impl<'a> StringReader<'a> {\n         self.bump();\n         let mut hash_count = 0;\n         while self.ch_is('#') {\n+            if hash_count == 65535 {\n+                let bpos = self.next_pos;\n+                self.fatal_span_(start_bpos,\n+                                 bpos,\n+                                 \"too many `#` symbols: raw byte strings may be \\\n+                                 delimited by up to 65535 `#` symbols\").raise();\n+            }\n             self.bump();\n             hash_count += 1;\n         }"}]}