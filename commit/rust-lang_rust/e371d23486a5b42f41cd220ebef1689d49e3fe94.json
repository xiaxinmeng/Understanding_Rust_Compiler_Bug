{"sha": "e371d23486a5b42f41cd220ebef1689d49e3fe94", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUzNzFkMjM0ODZhNWI0MmY0MWNkMjIwZWJlZjE2ODlkNDllM2ZlOTQ=", "commit": {"author": {"name": "jatinn", "email": "jatinn@users.noreply.github.com", "date": "2015-01-22T02:53:43Z"}, "committer": {"name": "jatinn", "email": "jatinn@users.noreply.github.com", "date": "2015-01-23T04:11:14Z"}, "message": "add next/prev section links in the book -- using js", "tree": {"sha": "d708be5559e07a790961eb2fdc01b9193edcd7f2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d708be5559e07a790961eb2fdc01b9193edcd7f2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e371d23486a5b42f41cd220ebef1689d49e3fe94", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e371d23486a5b42f41cd220ebef1689d49e3fe94", "html_url": "https://github.com/rust-lang/rust/commit/e371d23486a5b42f41cd220ebef1689d49e3fe94", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e371d23486a5b42f41cd220ebef1689d49e3fe94/comments", "author": {"login": "jatinn", "id": 5474746, "node_id": "MDQ6VXNlcjU0NzQ3NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/5474746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jatinn", "html_url": "https://github.com/jatinn", "followers_url": "https://api.github.com/users/jatinn/followers", "following_url": "https://api.github.com/users/jatinn/following{/other_user}", "gists_url": "https://api.github.com/users/jatinn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jatinn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jatinn/subscriptions", "organizations_url": "https://api.github.com/users/jatinn/orgs", "repos_url": "https://api.github.com/users/jatinn/repos", "events_url": "https://api.github.com/users/jatinn/events{/privacy}", "received_events_url": "https://api.github.com/users/jatinn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jatinn", "id": 5474746, "node_id": "MDQ6VXNlcjU0NzQ3NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/5474746?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jatinn", "html_url": "https://github.com/jatinn", "followers_url": "https://api.github.com/users/jatinn/followers", "following_url": "https://api.github.com/users/jatinn/following{/other_user}", "gists_url": "https://api.github.com/users/jatinn/gists{/gist_id}", "starred_url": "https://api.github.com/users/jatinn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jatinn/subscriptions", "organizations_url": "https://api.github.com/users/jatinn/orgs", "repos_url": "https://api.github.com/users/jatinn/repos", "events_url": "https://api.github.com/users/jatinn/events{/privacy}", "received_events_url": "https://api.github.com/users/jatinn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6869645e86c91544b8737b89809bdf10bef536d9", "url": "https://api.github.com/repos/rust-lang/rust/commits/6869645e86c91544b8737b89809bdf10bef536d9", "html_url": "https://github.com/rust-lang/rust/commit/6869645e86c91544b8737b89809bdf10bef536d9"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "74219bc9bfc38fe5e04d1ee556b317b694a2d19d", "filename": "src/rustbook/css.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/e371d23486a5b42f41cd220ebef1689d49e3fe94/src%2Frustbook%2Fcss.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e371d23486a5b42f41cd220ebef1689d49e3fe94/src%2Frustbook%2Fcss.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustbook%2Fcss.rs?ref=e371d23486a5b42f41cd220ebef1689d49e3fe94", "patch": "@@ -46,6 +46,7 @@ body {\n     margin-left: auto;\n     margin-right:auto;\n     max-width: 750px;\n+    padding-bottom: 50px;\n }\n \n .chapter {\n@@ -123,4 +124,12 @@ body {\n     padding: 0;\n }\n \n+.left {\n+    float: left;\n+}\n+\n+.right {\n+    float: right;\n+}\n+\n \"#;"}, {"sha": "d34887d2b08b59e6af92c34c6b7b2f48d62d97fe", "filename": "src/rustbook/javascript.rs", "status": "modified", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/e371d23486a5b42f41cd220ebef1689d49e3fe94/src%2Frustbook%2Fjavascript.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e371d23486a5b42f41cd220ebef1689d49e3fe94/src%2Frustbook%2Fjavascript.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustbook%2Fjavascript.rs?ref=e371d23486a5b42f41cd220ebef1689d49e3fe94", "patch": "@@ -38,6 +38,37 @@ document.addEventListener(\"DOMContentLoaded\", function(event) {\n        el.className = classes.join(' ');\n      }\n   }\n+\n+  // The below code is used to add prev and next navigation links to the bottom\n+  // of each of the sections.\n+  // It works by extracting the current page based on the url and iterates over\n+  // the menu links until it finds the menu item for the current page. We then\n+  // create a copy of the preceeding and following menu links and add the\n+  // correct css class and insert them into the bottom of the page.\n+  var toc = document.getElementById('toc').getElementsByTagName('a');\n+  var href = document.location.pathname.split('/').pop();\n+  if (href === 'index.html' || href === '') {\n+    href = 'README.html';\n+  }\n+\n+  for (var i = 0; i < toc.length; i++) {\n+    if (toc[i].attributes['href'].value === href) {\n+      var nav = document.createElement('p');\n+      if (i > 0) {\n+        var prevNode = toc[i-1].cloneNode(true);\n+        prevNode.className = 'left';\n+        nav.appendChild(prevNode);\n+      }\n+      if (i < toc.length - 1) {\n+        var nextNode = toc[i+1].cloneNode(true);\n+        nextNode.className = 'right';\n+        nav.appendChild(nextNode);\n+      }\n+      document.getElementById('page').appendChild(nav);\n+      break;\n+    }\n+  }\n+\n });\n </script>\n \"#;"}]}