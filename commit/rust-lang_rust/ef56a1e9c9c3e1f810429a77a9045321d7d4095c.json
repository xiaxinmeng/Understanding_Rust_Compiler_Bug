{"sha": "ef56a1e9c9c3e1f810429a77a9045321d7d4095c", "node_id": "C_kwDOAAsO6NoAKGVmNTZhMWU5YzljM2UxZjgxMDQyOWE3N2E5MDQ1MzIxZDdkNDA5NWM", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-06-08T16:15:05Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-06-08T16:15:05Z"}, "message": "Rollup merge of #97879 - hermitcore:condvar, r=Dylan-DPC\n\nremove unneeded code\n\nThe init function isn't longer part of `Condvar`. Consequently, we removed the implementation for the target os `hermit`.", "tree": {"sha": "96f6144d7c3e6371cdfe1690929cdd7c7236bed9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/96f6144d7c3e6371cdfe1690929cdd7c7236bed9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ef56a1e9c9c3e1f810429a77a9045321d7d4095c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJioMsJCRBK7hj4Ov3rIwAAeGAIAAqsSFZiTrihS6DbGi3Htsob\nVywaM7+EM1UQlHlcGa8NBdv4RKXMDE50MDY6ntnPBNhEP1iNtOueoElK/8v6x/Sl\nIjucZEsG3THDFqOGP734VpwraH1aIL7cxET1aLXqo21aRIv/WVwD6Y1s2/xX7Z9L\nnWdGLIMa0/jOm+HMiNyqEXpUE5nmHvL+FmRXPmfa94WpLNtaZk20GgVPvdVZkOUd\n9Wt74fm1zgOo/vN6s3XeWNrBZYQPOXDOG+UiFcu0o7rZBY7B59uU6EXKwdaHv/7h\nDG5EVdMX4WXOyk7uhHNCGbvUgbKvfJwqUTqpnA9KcJNjyXqCJbVwbxF85h8Nnzc=\n=OmME\n-----END PGP SIGNATURE-----\n", "payload": "tree 96f6144d7c3e6371cdfe1690929cdd7c7236bed9\nparent d11ab8528cb5e54f351f3afb0589fb78aec98f04\nparent 85b5f74043793a261a8f1c300a3cba7cf08a4238\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1654704905 +0200\ncommitter GitHub <noreply@github.com> 1654704905 +0200\n\nRollup merge of #97879 - hermitcore:condvar, r=Dylan-DPC\n\nremove unneeded code\n\nThe init function isn't longer part of `Condvar`. Consequently, we removed the implementation for the target os `hermit`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ef56a1e9c9c3e1f810429a77a9045321d7d4095c", "html_url": "https://github.com/rust-lang/rust/commit/ef56a1e9c9c3e1f810429a77a9045321d7d4095c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ef56a1e9c9c3e1f810429a77a9045321d7d4095c/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d11ab8528cb5e54f351f3afb0589fb78aec98f04", "url": "https://api.github.com/repos/rust-lang/rust/commits/d11ab8528cb5e54f351f3afb0589fb78aec98f04", "html_url": "https://github.com/rust-lang/rust/commit/d11ab8528cb5e54f351f3afb0589fb78aec98f04"}, {"sha": "85b5f74043793a261a8f1c300a3cba7cf08a4238", "url": "https://api.github.com/repos/rust-lang/rust/commits/85b5f74043793a261a8f1c300a3cba7cf08a4238", "html_url": "https://github.com/rust-lang/rust/commit/85b5f74043793a261a8f1c300a3cba7cf08a4238"}], "stats": {"total": 5, "additions": 0, "deletions": 5}, "files": [{"sha": "3f00160e55a257cbfc257c1081c8d20e9160aedd", "filename": "library/std/src/sys/hermit/condvar.rs", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/ef56a1e9c9c3e1f810429a77a9045321d7d4095c/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fcondvar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef56a1e9c9c3e1f810429a77a9045321d7d4095c/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fcondvar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fcondvar.rs?ref=ef56a1e9c9c3e1f810429a77a9045321d7d4095c", "patch": "@@ -24,11 +24,6 @@ impl Condvar {\n         Condvar { counter: AtomicUsize::new(0), sem1: ptr::null(), sem2: ptr::null() }\n     }\n \n-    pub unsafe fn init(&mut self) {\n-        let _ = abi::sem_init(&mut self.sem1 as *mut *const c_void, 0);\n-        let _ = abi::sem_init(&mut self.sem2 as *mut *const c_void, 0);\n-    }\n-\n     pub unsafe fn notify_one(&self) {\n         if self.counter.load(SeqCst) > 0 {\n             self.counter.fetch_sub(1, SeqCst);"}]}