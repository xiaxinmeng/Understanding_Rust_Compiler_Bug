{"sha": "b9d74fe2ed578f0b48f7773cde432df80531bb0b", "node_id": "C_kwDOAAsO6NoAKGI5ZDc0ZmUyZWQ1NzhmMGI0OGY3NzczY2RlNDMyZGY4MDUzMWJiMGI", "commit": {"author": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2022-03-04T06:26:44Z"}, "committer": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2022-03-07T13:09:31Z"}, "message": "Update LSP docs", "tree": {"sha": "20248121b217896e46fed49379f2239912e679ab", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/20248121b217896e46fed49379f2239912e679ab"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b9d74fe2ed578f0b48f7773cde432df80531bb0b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b9d74fe2ed578f0b48f7773cde432df80531bb0b", "html_url": "https://github.com/rust-lang/rust/commit/b9d74fe2ed578f0b48f7773cde432df80531bb0b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b9d74fe2ed578f0b48f7773cde432df80531bb0b/comments", "author": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4b16b9b74bcc17eeeda8baf78b6ce11c2fd43e75", "url": "https://api.github.com/repos/rust-lang/rust/commits/4b16b9b74bcc17eeeda8baf78b6ce11c2fd43e75", "html_url": "https://github.com/rust-lang/rust/commit/4b16b9b74bcc17eeeda8baf78b6ce11c2fd43e75"}], "stats": {"total": 19, "additions": 11, "deletions": 8}, "files": [{"sha": "846f151304424ef0f04aa001c42e4de3a2ccc882", "filename": "crates/rust-analyzer/src/lsp_ext.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b9d74fe2ed578f0b48f7773cde432df80531bb0b/crates%2Frust-analyzer%2Fsrc%2Flsp_ext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b9d74fe2ed578f0b48f7773cde432df80531bb0b/crates%2Frust-analyzer%2Fsrc%2Flsp_ext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Flsp_ext.rs?ref=b9d74fe2ed578f0b48f7773cde432df80531bb0b", "patch": "@@ -233,7 +233,7 @@ pub enum InlayHints {}\n impl Request for InlayHints {\n     type Params = InlayHintsParams;\n     type Result = Vec<InlayHint>;\n-    const METHOD: &'static str = \"rust-analyzer/inlayHints\";\n+    const METHOD: &'static str = \"experimental/inlayHints\";\n }\n \n #[derive(Serialize, Deserialize, Debug)]"}, {"sha": "9f1c7fe0a3a673e452369d0eadc89d9da90ae346", "filename": "docs/dev/lsp-extensions.md", "status": "modified", "additions": 9, "deletions": 6, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/b9d74fe2ed578f0b48f7773cde432df80531bb0b/docs%2Fdev%2Flsp-extensions.md", "raw_url": "https://github.com/rust-lang/rust/raw/b9d74fe2ed578f0b48f7773cde432df80531bb0b/docs%2Fdev%2Flsp-extensions.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fdev%2Flsp-extensions.md?ref=b9d74fe2ed578f0b48f7773cde432df80531bb0b", "patch": "@@ -1,5 +1,5 @@\n <!---\n-lsp_ext.rs hash: 5b53b92c9f9d6650\n+lsp_ext.rs hash: e32fdde032ff6ebc\n \n If you need to change the above hash to make the test pass, please check if you\n need to adjust this doc as well and ping this issue:\n@@ -562,11 +562,11 @@ Expands macro call at a given position.\n \n ## Inlay Hints\n \n-**Method:** `rust-analyzer/inlayHints`\n+**Method:** `experimental/inlayHints`\n \n This request is sent from client to server to render \"inlay hints\" -- virtual text inserted into editor to show things like inferred types.\n Generally, the client should re-query inlay hints after every modification.\n-Note that we plan to move this request to `experimental/inlayHints`, as it is not really Rust-specific, but the current API is not necessary the right one.\n+Until it gets upstreamed, this follows the VS Code API.\n Upstream issues: https://github.com/microsoft/language-server-protocol/issues/956 , https://github.com/rust-analyzer/rust-analyzer/issues/2797\n \n **Request:**\n@@ -581,9 +581,12 @@ interface InlayHintsParams {\n \n ```typescript\n interface InlayHint {\n-    kind: \"TypeHint\" | \"ParameterHint\" | \"ChainingHint\",\n-    range: Range,\n-    label: string,\n+    position: Position;\n+    label: string | InlayHintLabelPart[];\n+    tooltip?: string | MarkdownString | undefined;\n+    kind?: InlayHintKind;\n+    paddingLeft?: boolean;\n+    paddingRight?: boolean;\n }\n ```\n "}, {"sha": "9493a034819ad775faa37f0c0098ae31598d4d30", "filename": "editors/code/src/lsp_ext.ts", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b9d74fe2ed578f0b48f7773cde432df80531bb0b/editors%2Fcode%2Fsrc%2Flsp_ext.ts", "raw_url": "https://github.com/rust-lang/rust/raw/b9d74fe2ed578f0b48f7773cde432df80531bb0b/editors%2Fcode%2Fsrc%2Flsp_ext.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Flsp_ext.ts?ref=b9d74fe2ed578f0b48f7773cde432df80531bb0b", "patch": "@@ -104,7 +104,7 @@ export interface InlayHintsParams {\n     textDocument: lc.TextDocumentIdentifier;\n     range: lc.Range;\n }\n-export const inlayHints = new lc.RequestType<InlayHintsParams, InlayHint[], void>(\"rust-analyzer/inlayHints\");\n+export const inlayHints = new lc.RequestType<InlayHintsParams, InlayHint[], void>(\"experimental/inlayHints\");\n \n export interface SsrParams {\n     query: string;"}]}