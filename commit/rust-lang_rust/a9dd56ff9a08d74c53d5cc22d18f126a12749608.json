{"sha": "a9dd56ff9a08d74c53d5cc22d18f126a12749608", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE5ZGQ1NmZmOWEwOGQ3NGM1M2Q1Y2MyMmQxOGYxMjZhMTI3NDk2MDg=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-12-30T18:06:54Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-12-30T18:06:54Z"}, "message": "Auto merge of #67707 - petrochenkov:crateren, r=Centril\n\nRename some crates and modules in the frontend\n\nMigrate from `syntax_*` naming scheme to `rustc_*`.\nSee https://github.com/rust-lang/rust/pull/65324#issuecomment-551103396 and several comments below.\n\nRenamed crates:\n`syntax_expand` -> `rustc_expand`\n`syntax_pos` -> `rustc_span` ([motivation](https://github.com/rust-lang/rust/pull/65324#issuecomment-552173320))\n`syntax_ext` -> `rustc_builtin_macros`\n\nAlso one module in resolve is renamed for consistency and to avoid tautology.\n\nr? @Centril", "tree": {"sha": "09084364375d62c90697cbe715bafa9af6407afc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/09084364375d62c90697cbe715bafa9af6407afc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a9dd56ff9a08d74c53d5cc22d18f126a12749608", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a9dd56ff9a08d74c53d5cc22d18f126a12749608", "html_url": "https://github.com/rust-lang/rust/commit/a9dd56ff9a08d74c53d5cc22d18f126a12749608", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a9dd56ff9a08d74c53d5cc22d18f126a12749608/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9d6f87184e5116cf4a96f6686eb67994f19908a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/9d6f87184e5116cf4a96f6686eb67994f19908a5", "html_url": "https://github.com/rust-lang/rust/commit/9d6f87184e5116cf4a96f6686eb67994f19908a5"}, {"sha": "7608f21b278d9aadcdebbb6d99760d70c52d5750", "url": "https://api.github.com/repos/rust-lang/rust/commits/7608f21b278d9aadcdebbb6d99760d70c52d5750", "html_url": "https://github.com/rust-lang/rust/commit/7608f21b278d9aadcdebbb6d99760d70c52d5750"}], "stats": {"total": 393, "additions": 195, "deletions": 198}, "files": [{"sha": "8a76ffcbe72492a5bd7e063248a6ae22a03c8658", "filename": "Cargo.lock", "status": "modified", "additions": 78, "deletions": 78, "changes": 156, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1099,7 +1099,7 @@ name = \"fmt_macros\"\n version = \"0.0.0\"\n dependencies = [\n  \"rustc_lexer\",\n- \"syntax_pos\",\n+ \"rustc_span\",\n ]\n \n [[package]]\n@@ -3094,12 +3094,12 @@ dependencies = [\n  \"rustc_index\",\n  \"rustc_macros\",\n  \"rustc_session\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"scoped-tls\",\n  \"serialize\",\n  \"smallvec 1.0.0\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3358,6 +3358,24 @@ dependencies = [\n  \"core\",\n ]\n \n+[[package]]\n+name = \"rustc_builtin_macros\"\n+version = \"0.0.0\"\n+dependencies = [\n+ \"fmt_macros\",\n+ \"log\",\n+ \"rustc_data_structures\",\n+ \"rustc_error_codes\",\n+ \"rustc_errors\",\n+ \"rustc_expand\",\n+ \"rustc_feature\",\n+ \"rustc_parse\",\n+ \"rustc_span\",\n+ \"rustc_target\",\n+ \"smallvec 1.0.0\",\n+ \"syntax\",\n+]\n+\n [[package]]\n name = \"rustc_codegen_llvm\"\n version = \"0.0.0\"\n@@ -3372,17 +3390,17 @@ dependencies = [\n  \"rustc_codegen_utils\",\n  \"rustc_data_structures\",\n  \"rustc_errors\",\n+ \"rustc_expand\",\n  \"rustc_feature\",\n  \"rustc_fs_util\",\n  \"rustc_incremental\",\n  \"rustc_index\",\n  \"rustc_llvm\",\n  \"rustc_session\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"smallvec 0.6.10\",\n  \"syntax\",\n- \"syntax_expand\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3406,10 +3424,10 @@ dependencies = [\n  \"rustc_incremental\",\n  \"rustc_index\",\n  \"rustc_session\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"serialize\",\n  \"syntax\",\n- \"syntax_pos\",\n  \"tempfile\",\n ]\n \n@@ -3423,9 +3441,9 @@ dependencies = [\n  \"rustc-demangle\",\n  \"rustc_data_structures\",\n  \"rustc_metadata\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3474,10 +3492,10 @@ dependencies = [\n  \"rustc_plugin_impl\",\n  \"rustc_resolve\",\n  \"rustc_save_analysis\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"serialize\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3492,20 +3510,36 @@ dependencies = [\n  \"atty\",\n  \"log\",\n  \"rustc_data_structures\",\n+ \"rustc_span\",\n  \"serialize\",\n- \"syntax_pos\",\n  \"term_size\",\n  \"termcolor\",\n  \"unicode-width\",\n ]\n \n+[[package]]\n+name = \"rustc_expand\"\n+version = \"0.0.0\"\n+dependencies = [\n+ \"log\",\n+ \"rustc_data_structures\",\n+ \"rustc_errors\",\n+ \"rustc_feature\",\n+ \"rustc_lexer\",\n+ \"rustc_parse\",\n+ \"rustc_span\",\n+ \"serialize\",\n+ \"smallvec 1.0.0\",\n+ \"syntax\",\n+]\n+\n [[package]]\n name = \"rustc_feature\"\n version = \"0.0.0\"\n dependencies = [\n  \"lazy_static 1.3.0\",\n  \"rustc_data_structures\",\n- \"syntax_pos\",\n+ \"rustc_span\",\n ]\n \n [[package]]\n@@ -3523,9 +3557,9 @@ dependencies = [\n  \"rustc_data_structures\",\n  \"rustc_fs_util\",\n  \"rustc_session\",\n+ \"rustc_span\",\n  \"serialize\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3544,11 +3578,13 @@ dependencies = [\n  \"once_cell\",\n  \"rustc\",\n  \"rustc-rayon\",\n+ \"rustc_builtin_macros\",\n  \"rustc_codegen_llvm\",\n  \"rustc_codegen_ssa\",\n  \"rustc_codegen_utils\",\n  \"rustc_data_structures\",\n  \"rustc_errors\",\n+ \"rustc_expand\",\n  \"rustc_incremental\",\n  \"rustc_lint\",\n  \"rustc_metadata\",\n@@ -3558,15 +3594,13 @@ dependencies = [\n  \"rustc_plugin_impl\",\n  \"rustc_privacy\",\n  \"rustc_resolve\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"rustc_traits\",\n  \"rustc_typeck\",\n  \"serialize\",\n  \"smallvec 1.0.0\",\n  \"syntax\",\n- \"syntax_expand\",\n- \"syntax_ext\",\n- \"syntax_pos\",\n  \"tempfile\",\n ]\n \n@@ -3588,9 +3622,9 @@ dependencies = [\n  \"rustc_feature\",\n  \"rustc_index\",\n  \"rustc_session\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3635,15 +3669,15 @@ dependencies = [\n  \"rustc_data_structures\",\n  \"rustc_error_codes\",\n  \"rustc_errors\",\n+ \"rustc_expand\",\n  \"rustc_index\",\n  \"rustc_parse\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"serialize\",\n  \"smallvec 1.0.0\",\n  \"stable_deref_trait\",\n  \"syntax\",\n- \"syntax_expand\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3665,11 +3699,11 @@ dependencies = [\n  \"rustc_index\",\n  \"rustc_lexer\",\n  \"rustc_macros\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"serialize\",\n  \"smallvec 1.0.0\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3694,9 +3728,9 @@ dependencies = [\n  \"rustc_errors\",\n  \"rustc_feature\",\n  \"rustc_lexer\",\n+ \"rustc_span\",\n  \"smallvec 1.0.0\",\n  \"syntax\",\n- \"syntax_pos\",\n  \"unicode-normalization\",\n ]\n \n@@ -3712,9 +3746,9 @@ dependencies = [\n  \"rustc_feature\",\n  \"rustc_index\",\n  \"rustc_parse\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3724,8 +3758,8 @@ dependencies = [\n  \"rustc\",\n  \"rustc_error_codes\",\n  \"rustc_metadata\",\n+ \"rustc_span\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3736,9 +3770,9 @@ dependencies = [\n  \"rustc\",\n  \"rustc_data_structures\",\n  \"rustc_error_codes\",\n+ \"rustc_span\",\n  \"rustc_typeck\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3752,12 +3786,12 @@ dependencies = [\n  \"rustc_data_structures\",\n  \"rustc_error_codes\",\n  \"rustc_errors\",\n+ \"rustc_expand\",\n  \"rustc_feature\",\n  \"rustc_metadata\",\n+ \"rustc_span\",\n  \"smallvec 1.0.0\",\n  \"syntax\",\n- \"syntax_expand\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3771,9 +3805,9 @@ dependencies = [\n  \"rustc_codegen_utils\",\n  \"rustc_data_structures\",\n  \"rustc_parse\",\n+ \"rustc_span\",\n  \"serde_json\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3787,9 +3821,24 @@ dependencies = [\n  \"rustc_feature\",\n  \"rustc_fs_util\",\n  \"rustc_index\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"serialize\",\n- \"syntax_pos\",\n+]\n+\n+[[package]]\n+name = \"rustc_span\"\n+version = \"0.0.0\"\n+dependencies = [\n+ \"arena\",\n+ \"cfg-if\",\n+ \"log\",\n+ \"rustc_data_structures\",\n+ \"rustc_index\",\n+ \"rustc_macros\",\n+ \"scoped-tls\",\n+ \"serialize\",\n+ \"unicode-width\",\n ]\n \n [[package]]\n@@ -3801,8 +3850,8 @@ dependencies = [\n  \"rustc_data_structures\",\n  \"rustc_index\",\n  \"rustc_macros\",\n+ \"rustc_span\",\n  \"serialize\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3824,10 +3873,10 @@ dependencies = [\n  \"rustc\",\n  \"rustc_data_structures\",\n  \"rustc_macros\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"smallvec 1.0.0\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -3852,10 +3901,10 @@ dependencies = [\n  \"rustc_error_codes\",\n  \"rustc_errors\",\n  \"rustc_index\",\n+ \"rustc_span\",\n  \"rustc_target\",\n  \"smallvec 1.0.0\",\n  \"syntax\",\n- \"syntax_pos\",\n ]\n \n [[package]]\n@@ -4369,59 +4418,10 @@ dependencies = [\n  \"rustc_lexer\",\n  \"rustc_macros\",\n  \"rustc_session\",\n+ \"rustc_span\",\n  \"scoped-tls\",\n  \"serialize\",\n  \"smallvec 1.0.0\",\n- \"syntax_pos\",\n-]\n-\n-[[package]]\n-name = \"syntax_expand\"\n-version = \"0.0.0\"\n-dependencies = [\n- \"log\",\n- \"rustc_data_structures\",\n- \"rustc_errors\",\n- \"rustc_feature\",\n- \"rustc_lexer\",\n- \"rustc_parse\",\n- \"serialize\",\n- \"smallvec 1.0.0\",\n- \"syntax\",\n- \"syntax_pos\",\n-]\n-\n-[[package]]\n-name = \"syntax_ext\"\n-version = \"0.0.0\"\n-dependencies = [\n- \"fmt_macros\",\n- \"log\",\n- \"rustc_data_structures\",\n- \"rustc_error_codes\",\n- \"rustc_errors\",\n- \"rustc_feature\",\n- \"rustc_parse\",\n- \"rustc_target\",\n- \"smallvec 1.0.0\",\n- \"syntax\",\n- \"syntax_expand\",\n- \"syntax_pos\",\n-]\n-\n-[[package]]\n-name = \"syntax_pos\"\n-version = \"0.0.0\"\n-dependencies = [\n- \"arena\",\n- \"cfg-if\",\n- \"log\",\n- \"rustc_data_structures\",\n- \"rustc_index\",\n- \"rustc_macros\",\n- \"scoped-tls\",\n- \"serialize\",\n- \"unicode-width\",\n ]\n \n [[package]]"}, {"sha": "70752b548ddb3608db7e1eba7a793e1fe7a8876a", "filename": "src/libfmt_macros/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibfmt_macros%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibfmt_macros%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibfmt_macros%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -9,5 +9,5 @@ name = \"fmt_macros\"\n path = \"lib.rs\"\n \n [dependencies]\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_lexer = { path = \"../librustc_lexer\" }"}, {"sha": "19122424d6ddd631450dfdf3f3880c4b8c35e85f", "filename": "src/librustc/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -30,7 +30,7 @@ rustc_index = { path = \"../librustc_index\" }\n errors = { path = \"../librustc_errors\", package = \"rustc_errors\" }\n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n backtrace = \"0.3.40\"\n parking_lot = \"0.9\"\n byteorder = { version = \"1.3\" }"}, {"sha": "d2834bf7022fece9f9e55751a087b06c5f32cd61", "filename": "src/librustc_builtin_macros/Cargo.toml", "status": "renamed", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,11 +1,11 @@\n [package]\n authors = [\"The Rust Project Developers\"]\n-name = \"syntax_ext\"\n+name = \"rustc_builtin_macros\"\n version = \"0.0.0\"\n edition = \"2018\"\n \n [lib]\n-name = \"syntax_ext\"\n+name = \"rustc_builtin_macros\"\n path = \"lib.rs\"\n doctest = false\n \n@@ -19,6 +19,6 @@ rustc_parse = { path = \"../librustc_parse\" }\n rustc_target = { path = \"../librustc_target\" }\n smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n syntax = { path = \"../libsyntax\" }\n-syntax_expand = { path = \"../libsyntax_expand\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+rustc_expand = { path = \"../librustc_expand\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_error_codes = { path = \"../librustc_error_codes\" }", "previous_filename": "src/libsyntax_ext/Cargo.toml"}, {"sha": "0e1ff7603ba745baafb17d5e4c7eea463f16e0df", "filename": "src/librustc_builtin_macros/asm.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fasm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fasm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fasm.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -3,14 +3,14 @@\n use State::*;\n \n use errors::{DiagnosticBuilder, PResult};\n+use rustc_expand::base::*;\n use rustc_parse::parser::Parser;\n use syntax::ast::{self, AsmDialect};\n use syntax::ptr::P;\n use syntax::symbol::{kw, sym, Symbol};\n use syntax::token::{self, Token};\n use syntax::tokenstream::{self, TokenStream};\n use syntax::{span_err, struct_span_err};\n-use syntax_expand::base::*;\n use syntax_pos::Span;\n \n use rustc_error_codes::*;", "previous_filename": "src/libsyntax_ext/asm.rs"}, {"sha": "59e499b8f8ee46ffe8fbd228f7b721f9f7b2134f", "filename": "src/librustc_builtin_macros/assert.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fassert.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fassert.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fassert.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,13 +1,13 @@\n use errors::{Applicability, DiagnosticBuilder};\n \n+use rustc_expand::base::*;\n use rustc_parse::parser::Parser;\n use syntax::ast::{self, *};\n use syntax::print::pprust;\n use syntax::ptr::P;\n use syntax::symbol::{sym, Symbol};\n use syntax::token::{self, TokenKind};\n use syntax::tokenstream::{DelimSpan, TokenStream, TokenTree};\n-use syntax_expand::base::*;\n use syntax_pos::{Span, DUMMY_SP};\n \n pub fn expand_assert<'cx>(", "previous_filename": "src/libsyntax_ext/assert.rs"}, {"sha": "6d97b94ab9f9f2ccbb7e4ec751cca5fcc0f85624", "filename": "src/librustc_builtin_macros/cfg.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fcfg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fcfg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fcfg.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -3,11 +3,11 @@\n /// current compilation environment.\n use errors::DiagnosticBuilder;\n \n+use rustc_expand::base::{self, *};\n use syntax::ast;\n use syntax::attr;\n use syntax::token;\n use syntax::tokenstream::TokenStream;\n-use syntax_expand::base::{self, *};\n use syntax_pos::Span;\n \n pub fn expand_cfg(", "previous_filename": "src/libsyntax_ext/cfg.rs"}, {"sha": "ea33d4c2c464a33e17a140c54944ff1ac73bd4f0", "filename": "src/librustc_builtin_macros/cmdline_attrs.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fcmdline_attrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fcmdline_attrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fcmdline_attrs.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,10 +1,10 @@\n //! Attributes injected into the crate root from command line using `-Z crate-attr`.\n \n+use rustc_expand::panictry;\n use syntax::ast::{self, AttrItem, AttrStyle};\n use syntax::attr::mk_attr;\n use syntax::sess::ParseSess;\n use syntax::token;\n-use syntax_expand::panictry;\n use syntax_pos::FileName;\n \n pub fn inject(mut krate: ast::Crate, parse_sess: &ParseSess, attrs: &[String]) -> ast::Crate {", "previous_filename": "src/libsyntax_ext/cmdline_attrs.rs"}, {"sha": "95bcb6b075bcfce632c12bdb3c2e0e0ff4b86903", "filename": "src/librustc_builtin_macros/compile_error.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fcompile_error.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fcompile_error.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fcompile_error.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,7 +1,7 @@\n // The compiler code necessary to support the compile_error! extension.\n \n+use rustc_expand::base::{self, *};\n use syntax::tokenstream::TokenStream;\n-use syntax_expand::base::{self, *};\n use syntax_pos::Span;\n \n pub fn expand_compile_error<'cx>(", "previous_filename": "src/libsyntax_ext/compile_error.rs"}, {"sha": "4dab74610c3e305bacc284e9f2aa9eaa87ea4244", "filename": "src/librustc_builtin_macros/concat.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fconcat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fconcat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fconcat.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,7 +1,7 @@\n+use rustc_expand::base::{self, DummyResult};\n use syntax::ast;\n use syntax::symbol::Symbol;\n use syntax::tokenstream::TokenStream;\n-use syntax_expand::base::{self, DummyResult};\n \n use std::string::String;\n ", "previous_filename": "src/libsyntax_ext/concat.rs"}, {"sha": "4b5ade9823706ccedb3aeb498fe4165c07f0b2ed", "filename": "src/librustc_builtin_macros/concat_idents.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fconcat_idents.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fconcat_idents.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fconcat_idents.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,8 +1,8 @@\n+use rustc_expand::base::{self, *};\n use syntax::ast;\n use syntax::ptr::P;\n use syntax::token::{self, Token};\n use syntax::tokenstream::{TokenStream, TokenTree};\n-use syntax_expand::base::{self, *};\n use syntax_pos::symbol::Symbol;\n use syntax_pos::Span;\n ", "previous_filename": "src/libsyntax_ext/concat_idents.rs"}, {"sha": "7027ca979c6a0049e3cf6e89af67f0ee73b5f6ad", "filename": "src/librustc_builtin_macros/deriving/bounds.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fbounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fbounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fbounds.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -2,8 +2,8 @@ use crate::deriving::generic::ty::*;\n use crate::deriving::generic::*;\n use crate::deriving::path_std;\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast::MetaItem;\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::Span;\n \n pub fn expand_deriving_copy(", "previous_filename": "src/libsyntax_ext/deriving/bounds.rs"}, {"sha": "a5971bb917656cd13f6192011b8e61dba06e13f7", "filename": "src/librustc_builtin_macros/deriving/clone.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fclone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fclone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fclone.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -2,10 +2,10 @@ use crate::deriving::generic::ty::*;\n use crate::deriving::generic::*;\n use crate::deriving::path_std;\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast::{self, Expr, GenericArg, Generics, ItemKind, MetaItem, VariantData};\n use syntax::ptr::P;\n use syntax::symbol::{kw, sym, Symbol};\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::Span;\n \n pub fn expand_deriving_clone(", "previous_filename": "src/libsyntax_ext/deriving/clone.rs"}, {"sha": "c71ade7304c054e3c9e820a051359557e7790760", "filename": "src/librustc_builtin_macros/deriving/cmp/eq.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Feq.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Feq.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Feq.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -2,10 +2,10 @@ use crate::deriving::generic::ty::*;\n use crate::deriving::generic::*;\n use crate::deriving::path_std;\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast::{self, Expr, GenericArg, Ident, MetaItem};\n use syntax::ptr::P;\n use syntax::symbol::{sym, Symbol};\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::Span;\n \n pub fn expand_deriving_eq(", "previous_filename": "src/libsyntax_ext/deriving/cmp/eq.rs"}, {"sha": "fc1349e3354fc01cbaf97afe150b70023fee55de", "filename": "src/librustc_builtin_macros/deriving/cmp/ord.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Ford.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Ford.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Ford.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -2,10 +2,10 @@ use crate::deriving::generic::ty::*;\n use crate::deriving::generic::*;\n use crate::deriving::path_std;\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast::{self, Expr, MetaItem};\n use syntax::ptr::P;\n use syntax::symbol::sym;\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::Span;\n \n pub fn expand_deriving_ord(", "previous_filename": "src/libsyntax_ext/deriving/cmp/ord.rs"}, {"sha": "6475c22c009dda059a18c2c94b89487cb48ac521", "filename": "src/librustc_builtin_macros/deriving/cmp/partial_eq.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Fpartial_eq.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Fpartial_eq.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Fpartial_eq.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -2,10 +2,10 @@ use crate::deriving::generic::ty::*;\n use crate::deriving::generic::*;\n use crate::deriving::{path_local, path_std};\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast::{BinOpKind, Expr, MetaItem};\n use syntax::ptr::P;\n use syntax::symbol::sym;\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::Span;\n \n pub fn expand_deriving_partial_eq(", "previous_filename": "src/libsyntax_ext/deriving/cmp/partial_eq.rs"}, {"sha": "3397f7886057c24d1af75b320cadf4ea8c54220c", "filename": "src/librustc_builtin_macros/deriving/cmp/partial_ord.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Fpartial_ord.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Fpartial_ord.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fcmp%2Fpartial_ord.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -4,10 +4,10 @@ use crate::deriving::generic::ty::*;\n use crate::deriving::generic::*;\n use crate::deriving::{path_local, path_std, pathvec_std};\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast::{self, BinOpKind, Expr, MetaItem};\n use syntax::ptr::P;\n use syntax::symbol::{sym, Symbol};\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::Span;\n \n pub fn expand_deriving_partial_ord(", "previous_filename": "src/libsyntax_ext/deriving/cmp/partial_ord.rs"}, {"sha": "4a3790e85dd4371851ed82b4880e134e6c639881", "filename": "src/librustc_builtin_macros/deriving/debug.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fdebug.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fdebug.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fdebug.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -2,11 +2,11 @@ use crate::deriving::generic::ty::*;\n use crate::deriving::generic::*;\n use crate::deriving::path_std;\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast::{self, Ident};\n use syntax::ast::{Expr, MetaItem};\n use syntax::ptr::P;\n use syntax::symbol::sym;\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::{Span, DUMMY_SP};\n \n pub fn expand_deriving_debug(", "previous_filename": "src/libsyntax_ext/deriving/debug.rs"}, {"sha": "290b8977b88ac1865565baa6b34de88fccc8bc59", "filename": "src/librustc_builtin_macros/deriving/decodable.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fdecodable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fdecodable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fdecodable.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -4,11 +4,11 @@ use crate::deriving::generic::ty::*;\n use crate::deriving::generic::*;\n use crate::deriving::pathvec_std;\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast;\n use syntax::ast::{Expr, MetaItem, Mutability};\n use syntax::ptr::P;\n use syntax::symbol::Symbol;\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::Span;\n \n pub fn expand_deriving_rustc_decodable(", "previous_filename": "src/libsyntax_ext/deriving/decodable.rs"}, {"sha": "284c407f35f5c211d94bb7e5daba67ebb62d9528", "filename": "src/librustc_builtin_macros/deriving/default.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fdefault.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fdefault.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fdefault.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -2,11 +2,11 @@ use crate::deriving::generic::ty::*;\n use crate::deriving::generic::*;\n use crate::deriving::path_std;\n \n+use rustc_expand::base::{Annotatable, DummyResult, ExtCtxt};\n use syntax::ast::{Expr, MetaItem};\n use syntax::ptr::P;\n use syntax::span_err;\n use syntax::symbol::{kw, sym};\n-use syntax_expand::base::{Annotatable, DummyResult, ExtCtxt};\n use syntax_pos::Span;\n \n use rustc_error_codes::*;", "previous_filename": "src/libsyntax_ext/deriving/default.rs"}, {"sha": "31f9e38ba3dc6ef8e094dd21bfadc513112fb3db", "filename": "src/librustc_builtin_macros/deriving/encodable.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fencodable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fencodable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fencodable.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -89,10 +89,10 @@ use crate::deriving::generic::ty::*;\n use crate::deriving::generic::*;\n use crate::deriving::pathvec_std;\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast::{Expr, ExprKind, MetaItem, Mutability};\n use syntax::ptr::P;\n use syntax::symbol::Symbol;\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::Span;\n \n pub fn expand_deriving_rustc_encodable(", "previous_filename": "src/libsyntax_ext/deriving/encodable.rs"}, {"sha": "8af58e9e4ce7be59d9515a0730786cd03e0c3589", "filename": "src/librustc_builtin_macros/deriving/generic/mod.rs", "status": "renamed", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fgeneric%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fgeneric%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fgeneric%2Fmod.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -181,6 +181,7 @@ use std::cell::RefCell;\n use std::iter;\n use std::vec;\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast::{self, BinOpKind, EnumDef, Expr, Generics, Ident, PatKind};\n use syntax::ast::{GenericArg, GenericParamKind, VariantData};\n use syntax::attr;\n@@ -189,7 +190,6 @@ use syntax::sess::ParseSess;\n use syntax::source_map::respan;\n use syntax::symbol::{kw, sym, Symbol};\n use syntax::util::map_in_place::MapInPlace;\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::Span;\n \n use ty::{LifetimeBounds, Path, Ptr, PtrTy, Self_, Ty};\n@@ -412,8 +412,8 @@ impl<'a> TraitDef<'a> {\n                     _ => {\n                         // Non-ADT derive is an error, but it should have been\n                         // set earlier; see\n-                        // libsyntax_expand/expand.rs:MacroExpander::fully_expand_fragment()\n-                        // libsyntax_expand/base.rs:Annotatable::derive_allowed()\n+                        // librustc_expand/expand.rs:MacroExpander::fully_expand_fragment()\n+                        // librustc_expand/base.rs:Annotatable::derive_allowed()\n                         return;\n                     }\n                 };\n@@ -487,8 +487,8 @@ impl<'a> TraitDef<'a> {\n             _ => {\n                 // Non-Item derive is an error, but it should have been\n                 // set earlier; see\n-                // libsyntax_expand/expand.rs:MacroExpander::fully_expand_fragment()\n-                // libsyntax_expand/base.rs:Annotatable::derive_allowed()\n+                // librustc_expand/expand.rs:MacroExpander::fully_expand_fragment()\n+                // librustc_expand/base.rs:Annotatable::derive_allowed()\n                 return;\n             }\n         }", "previous_filename": "src/libsyntax_ext/deriving/generic/mod.rs"}, {"sha": "993426501f525d1addd06f8bd6fff7da6a827e40", "filename": "src/librustc_builtin_macros/deriving/generic/ty.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fgeneric%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fgeneric%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fgeneric%2Fty.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -4,10 +4,10 @@\n pub use PtrTy::*;\n pub use Ty::*;\n \n+use rustc_expand::base::ExtCtxt;\n use syntax::ast::{self, Expr, GenericArg, GenericParamKind, Generics, Ident, SelfKind};\n use syntax::ptr::P;\n use syntax::source_map::{respan, DUMMY_SP};\n-use syntax_expand::base::ExtCtxt;\n use syntax_pos::symbol::kw;\n use syntax_pos::Span;\n ", "previous_filename": "src/libsyntax_ext/deriving/generic/ty.rs"}, {"sha": "e75fe1a308c616960ab7627591dd3dca07f0d021", "filename": "src/librustc_builtin_macros/deriving/hash.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fhash.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fhash.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fhash.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -2,10 +2,10 @@ use crate::deriving::generic::ty::*;\n use crate::deriving::generic::*;\n use crate::deriving::{self, path_std, pathvec_std};\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast::{Expr, MetaItem, Mutability};\n use syntax::ptr::P;\n use syntax::symbol::sym;\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::Span;\n \n pub fn expand_deriving_hash(", "previous_filename": "src/libsyntax_ext/deriving/hash.rs"}, {"sha": "0856c0c2a9f947e5b506a10ce405477a3a8d1e86", "filename": "src/librustc_builtin_macros/deriving/mod.rs", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fderiving%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fderiving%2Fmod.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,9 +1,9 @@\n //! The compiler code necessary to implement the `#[derive]` extensions.\n \n+use rustc_expand::base::{Annotatable, ExtCtxt, MultiItemModifier};\n use syntax::ast::{self, ItemKind, MetaItem};\n use syntax::ptr::P;\n use syntax::symbol::{sym, Symbol};\n-use syntax_expand::base::{Annotatable, ExtCtxt, MultiItemModifier};\n use syntax_pos::Span;\n \n macro path_local($x:ident) {\n@@ -92,8 +92,8 @@ fn inject_impl_of_structural_trait(\n         _ => {\n             // Non-Item derive is an error, but it should have been\n             // set earlier; see\n-            // libsyntax_expand/expand.rs:MacroExpander::fully_expand_fragment()\n-            // libsyntax_expand/base.rs:Annotatable::derive_allowed()\n+            // librustc_expand/expand.rs:MacroExpander::fully_expand_fragment()\n+            // librustc_expand/base.rs:Annotatable::derive_allowed()\n             return;\n         }\n     };", "previous_filename": "src/libsyntax_ext/deriving/mod.rs"}, {"sha": "dd78cecc85fee529803cdb4c13bb105bd61aee34", "filename": "src/librustc_builtin_macros/env.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fenv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fenv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fenv.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -3,10 +3,10 @@\n // interface.\n //\n \n+use rustc_expand::base::{self, *};\n use syntax::ast::{self, GenericArg, Ident};\n use syntax::symbol::{kw, sym, Symbol};\n use syntax::tokenstream::TokenStream;\n-use syntax_expand::base::{self, *};\n use syntax_pos::Span;\n \n use std::env;", "previous_filename": "src/libsyntax_ext/env.rs"}, {"sha": "7b915a66dacc94d2442b222f01dca8ccb7464a98", "filename": "src/librustc_builtin_macros/format.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fformat.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -7,12 +7,12 @@ use errors::pluralize;\n use errors::Applicability;\n use errors::DiagnosticBuilder;\n \n+use rustc_expand::base::{self, *};\n use syntax::ast;\n use syntax::ptr::P;\n use syntax::symbol::{sym, Symbol};\n use syntax::token;\n use syntax::tokenstream::TokenStream;\n-use syntax_expand::base::{self, *};\n use syntax_pos::{MultiSpan, Span};\n \n use rustc_data_structures::fx::{FxHashMap, FxHashSet};", "previous_filename": "src/libsyntax_ext/format.rs"}, {"sha": "9c151cf94b49d5a6649ada8225ee9051718a969f", "filename": "src/librustc_builtin_macros/format_foreign.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fformat_foreign.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fformat_foreign.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fformat_foreign.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_ext/format_foreign.rs"}, {"sha": "b9a85a84d6c991a2afb7b5aa404362f37d064060", "filename": "src/librustc_builtin_macros/format_foreign/printf/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fformat_foreign%2Fprintf%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fformat_foreign%2Fprintf%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fformat_foreign%2Fprintf%2Ftests.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_ext/format_foreign/printf/tests.rs"}, {"sha": "ed8fe81dfcdd8fd98b1085ed0a5480c9270067c0", "filename": "src/librustc_builtin_macros/format_foreign/shell/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fformat_foreign%2Fshell%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fformat_foreign%2Fshell%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fformat_foreign%2Fshell%2Ftests.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_ext/format_foreign/shell/tests.rs"}, {"sha": "37fcd3cadbac8ed0833d05a8c247ec0e9100c025", "filename": "src/librustc_builtin_macros/global_allocator.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fglobal_allocator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fglobal_allocator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fglobal_allocator.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,11 +1,11 @@\n use crate::util::check_builtin_macro_attribute;\n \n+use rustc_expand::base::{Annotatable, ExtCtxt};\n use syntax::ast::{self, Attribute, Expr, FnHeader, FnSig, Generics, Ident, Param};\n use syntax::ast::{ItemKind, Mutability, Stmt, Ty, TyKind, Unsafety};\n use syntax::expand::allocator::{AllocatorKind, AllocatorMethod, AllocatorTy, ALLOCATOR_METHODS};\n use syntax::ptr::P;\n use syntax::symbol::{kw, sym, Symbol};\n-use syntax_expand::base::{Annotatable, ExtCtxt};\n use syntax_pos::Span;\n \n pub fn expand(", "previous_filename": "src/libsyntax_ext/global_allocator.rs"}, {"sha": "97ae8012ae3ae1a5f76ad32a4c5e0ba6a4f8d322", "filename": "src/librustc_builtin_macros/global_asm.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fglobal_asm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fglobal_asm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fglobal_asm.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -9,13 +9,13 @@\n /// therefore apply.\n use errors::DiagnosticBuilder;\n \n+use rustc_expand::base::{self, *};\n use smallvec::smallvec;\n use syntax::ast;\n use syntax::ptr::P;\n use syntax::source_map::respan;\n use syntax::token;\n use syntax::tokenstream::TokenStream;\n-use syntax_expand::base::{self, *};\n use syntax_pos::Span;\n \n pub fn expand_global_asm<'cx>(", "previous_filename": "src/libsyntax_ext/global_asm.rs"}, {"sha": "e9709d981fed4c050f1edb05dc3791b2a1c6b4eb", "filename": "src/librustc_builtin_macros/lib.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Flib.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -13,11 +13,11 @@ extern crate proc_macro;\n \n use crate::deriving::*;\n \n+use rustc_expand::base::{MacroExpanderFn, Resolver, SyntaxExtension, SyntaxExtensionKind};\n+use rustc_expand::proc_macro::BangProcMacro;\n use syntax::ast::Ident;\n use syntax::edition::Edition;\n use syntax::symbol::sym;\n-use syntax_expand::base::{MacroExpanderFn, Resolver, SyntaxExtension, SyntaxExtensionKind};\n-use syntax_expand::proc_macro::BangProcMacro;\n \n mod asm;\n mod assert;", "previous_filename": "src/libsyntax_ext/lib.rs"}, {"sha": "f873b1790da1b7477f301e4375f6ca1fa756921f", "filename": "src/librustc_builtin_macros/log_syntax.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Flog_syntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Flog_syntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Flog_syntax.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,6 +1,6 @@\n+use rustc_expand::base;\n use syntax::print;\n use syntax::tokenstream::TokenStream;\n-use syntax_expand::base;\n use syntax_pos;\n \n pub fn expand_log_syntax<'cx>(", "previous_filename": "src/libsyntax_ext/log_syntax.rs"}, {"sha": "bdd7b1d8993d223bda1279599de1e205abcdddb3", "filename": "src/librustc_builtin_macros/proc_macro_harness.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fproc_macro_harness.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fproc_macro_harness.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fproc_macro_harness.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,5 +1,7 @@\n use std::mem;\n \n+use rustc_expand::base::{ExtCtxt, Resolver};\n+use rustc_expand::expand::{AstFragment, ExpansionConfig};\n use smallvec::smallvec;\n use syntax::ast::{self, Ident};\n use syntax::attr;\n@@ -9,8 +11,6 @@ use syntax::ptr::P;\n use syntax::sess::ParseSess;\n use syntax::symbol::{kw, sym};\n use syntax::visit::{self, Visitor};\n-use syntax_expand::base::{ExtCtxt, Resolver};\n-use syntax_expand::expand::{AstFragment, ExpansionConfig};\n use syntax_pos::hygiene::AstPass;\n use syntax_pos::{Span, DUMMY_SP};\n ", "previous_filename": "src/libsyntax_ext/proc_macro_harness.rs"}, {"sha": "9e756c4c0e46f5ee8fc413c4bbe7cab0c2908ef5", "filename": "src/librustc_builtin_macros/source_util.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fsource_util.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fsource_util.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fsource_util.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,3 +1,5 @@\n+use rustc_expand::base::{self, *};\n+use rustc_expand::panictry;\n use rustc_parse::{self, new_sub_parser_from_file, parser::Parser, DirectoryOwnership};\n use syntax::ast;\n use syntax::early_buffered_lints::INCOMPLETE_INCLUDE;\n@@ -6,8 +8,6 @@ use syntax::ptr::P;\n use syntax::symbol::Symbol;\n use syntax::token;\n use syntax::tokenstream::TokenStream;\n-use syntax_expand::base::{self, *};\n-use syntax_expand::panictry;\n \n use smallvec::SmallVec;\n use syntax_pos::{self, Pos, Span};", "previous_filename": "src/libsyntax_ext/source_util.rs"}, {"sha": "41da95e0ecc977de85530087c25dc446d1009d1c", "filename": "src/librustc_builtin_macros/standard_library_imports.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fstandard_library_imports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Fstandard_library_imports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Fstandard_library_imports.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,10 +1,10 @@\n+use rustc_expand::base::{ExtCtxt, Resolver};\n+use rustc_expand::expand::ExpansionConfig;\n use syntax::edition::Edition;\n use syntax::ptr::P;\n use syntax::sess::ParseSess;\n use syntax::symbol::{kw, sym, Ident, Symbol};\n use syntax::{ast, attr};\n-use syntax_expand::base::{ExtCtxt, Resolver};\n-use syntax_expand::expand::ExpansionConfig;\n use syntax_pos::hygiene::AstPass;\n use syntax_pos::DUMMY_SP;\n ", "previous_filename": "src/libsyntax_ext/standard_library_imports.rs"}, {"sha": "dccaf0199982d5d837c2652501aeb62889e1f453", "filename": "src/librustc_builtin_macros/test.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Ftest.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -2,12 +2,12 @@\n /// Ideally, this code would be in libtest but for efficiency and error messages it lives here.\n use crate::util::check_builtin_macro_attribute;\n \n+use rustc_expand::base::*;\n use syntax::ast;\n use syntax::attr;\n use syntax::print::pprust;\n use syntax::source_map::respan;\n use syntax::symbol::{sym, Symbol};\n-use syntax_expand::base::*;\n use syntax_pos::Span;\n \n use std::iter;", "previous_filename": "src/libsyntax_ext/test.rs"}, {"sha": "e596f3e4432a5ed102bc1cf6f272c0879e525182", "filename": "src/librustc_builtin_macros/test_harness.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Ftest_harness.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Ftest_harness.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Ftest_harness.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,6 +1,8 @@\n // Code that generates a test runner to run all the tests in a crate\n \n use log::debug;\n+use rustc_expand::base::{ExtCtxt, Resolver};\n+use rustc_expand::expand::{AstFragment, ExpansionConfig};\n use rustc_feature::Features;\n use rustc_target::spec::PanicStrategy;\n use smallvec::{smallvec, SmallVec};\n@@ -12,8 +14,6 @@ use syntax::ptr::P;\n use syntax::sess::ParseSess;\n use syntax::source_map::respan;\n use syntax::symbol::{sym, Symbol};\n-use syntax_expand::base::{ExtCtxt, Resolver};\n-use syntax_expand::expand::{AstFragment, ExpansionConfig};\n use syntax_pos::hygiene::{AstPass, SyntaxContext, Transparency};\n use syntax_pos::{Span, DUMMY_SP};\n ", "previous_filename": "src/libsyntax_ext/test_harness.rs"}, {"sha": "450a7269fd47102d978d8cd82c61affb4f9a5a5f", "filename": "src/librustc_builtin_macros/trace_macros.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Ftrace_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Ftrace_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Ftrace_macros.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,6 +1,6 @@\n+use rustc_expand::base::{self, ExtCtxt};\n use syntax::symbol::kw;\n use syntax::tokenstream::{TokenStream, TokenTree};\n-use syntax_expand::base::{self, ExtCtxt};\n use syntax_pos::Span;\n \n pub fn expand_trace_macros(", "previous_filename": "src/libsyntax_ext/trace_macros.rs"}, {"sha": "bd748c0c8c1f3e40155ab07b6125a8d8b8e89982", "filename": "src/librustc_builtin_macros/util.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_builtin_macros%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_builtin_macros%2Futil.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,7 +1,7 @@\n+use rustc_expand::base::ExtCtxt;\n use rustc_feature::AttributeTemplate;\n use rustc_parse::validate_attr;\n use syntax::ast::MetaItem;\n-use syntax_expand::base::ExtCtxt;\n use syntax_pos::Symbol;\n \n pub fn check_builtin_macro_attribute(ecx: &ExtCtxt<'_>, meta_item: &MetaItem, name: Symbol) {", "previous_filename": "src/libsyntax_ext/util.rs"}, {"sha": "e0b303710bfada5988dff0a89ddb640fcf27cb5e", "filename": "src/librustc_codegen_llvm/Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_codegen_llvm%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_codegen_llvm%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -30,5 +30,5 @@ rustc_session = { path = \"../librustc_session\" }\n rustc_target = { path = \"../librustc_target\" }\n smallvec = { version = \"0.6.7\", features = [\"union\", \"may_dangle\"] }\n syntax = { path = \"../libsyntax\" }\n-syntax_expand = { path = \"../libsyntax_expand\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+rustc_expand = { path = \"../librustc_expand\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }"}, {"sha": "1f20d1fbc2a2dee175c060e0fbe97e5b70444e62", "filename": "src/librustc_codegen_ssa/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_codegen_ssa%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_codegen_ssa%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_ssa%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -21,7 +21,7 @@ tempfile = \"3.1\"\n \n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc = { path = \"../librustc\" }\n rustc_apfloat = { path = \"../librustc_apfloat\" }\n rustc_codegen_utils = { path = \"../librustc_codegen_utils\" }"}, {"sha": "09c6dfe5dc0de82ba6069a4541abaa7fd8f133c7", "filename": "src/librustc_codegen_utils/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_codegen_utils%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_codegen_utils%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_utils%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -15,7 +15,7 @@ punycode = \"0.4.0\"\n rustc-demangle = \"0.1.16\"\n \n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc = { path = \"../librustc\" }\n rustc_target = { path = \"../librustc_target\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }"}, {"sha": "c005ea12cef3880d025467d924f43c28fece2e1e", "filename": "src/librustc_driver/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_driver%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_driver%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -31,7 +31,7 @@ rustc_interface = { path = \"../librustc_interface\" }\n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n rustc_resolve = { path = \"../librustc_resolve\" }\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n \n [features]\n llvm = ['rustc_interface/llvm']"}, {"sha": "8a21150570abd58d802e11dc480aec430d324440", "filename": "src/librustc_errors/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_errors%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_errors%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -12,7 +12,7 @@ doctest = false\n [dependencies]\n log = \"0.4\"\n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n unicode-width = \"0.1.4\"\n atty = \"0.2\""}, {"sha": "36273ec0806baf591f2e3ad168b9c6a663269ef7", "filename": "src/librustc_expand/Cargo.toml", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,19 +1,19 @@\n [package]\n authors = [\"The Rust Project Developers\"]\n-name = \"syntax_expand\"\n+name = \"rustc_expand\"\n version = \"0.0.0\"\n edition = \"2018\"\n build = false\n \n [lib]\n-name = \"syntax_expand\"\n+name = \"rustc_expand\"\n path = \"lib.rs\"\n doctest = false\n \n [dependencies]\n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n log = \"0.4\"\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n errors = { path = \"../librustc_errors\", package = \"rustc_errors\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_feature = { path = \"../librustc_feature\" }", "previous_filename": "src/libsyntax_expand/Cargo.toml"}, {"sha": "60bc591c09587c20bfb27f101a98ed3a005c6bbc", "filename": "src/librustc_expand/base.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fbase.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/base.rs"}, {"sha": "96020acb3b4ebb23b50631184dde76db1b500c9c", "filename": "src/librustc_expand/build.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fbuild.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fbuild.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fbuild.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/build.rs"}, {"sha": "089dd471f3b504af691522dd71575c109b10ee98", "filename": "src/librustc_expand/expand.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fexpand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fexpand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fexpand.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/expand.rs"}, {"sha": "258a747832920c8817b9ee796876ead646503325", "filename": "src/librustc_expand/lib.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Flib.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/lib.rs"}, {"sha": "0473b65342472492c5c846731c6f53865de8a64e", "filename": "src/librustc_expand/mbe.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fmbe.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/mbe.rs"}, {"sha": "616fddd3c1c9253ad0b07fcc33f10030770139cb", "filename": "src/librustc_expand/mbe/macro_check.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe%2Fmacro_check.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe%2Fmacro_check.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fmbe%2Fmacro_check.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/mbe/macro_check.rs"}, {"sha": "24253e1bdc2cd9b90c7f63816b072984c534af91", "filename": "src/librustc_expand/mbe/macro_parser.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe%2Fmacro_parser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe%2Fmacro_parser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fmbe%2Fmacro_parser.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/mbe/macro_parser.rs"}, {"sha": "2b2ed8c9248a5e8036ebfd2cf13ca00531a2e98c", "filename": "src/librustc_expand/mbe/macro_rules.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe%2Fmacro_rules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe%2Fmacro_rules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fmbe%2Fmacro_rules.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/mbe/macro_rules.rs"}, {"sha": "56b97cbb7c6b9a84cbc60c15e7721a3f6c508bb1", "filename": "src/librustc_expand/mbe/quoted.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe%2Fquoted.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe%2Fquoted.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fmbe%2Fquoted.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/mbe/quoted.rs"}, {"sha": "0605f7ff36df711d1111d7d92a3b9b17b4304c5d", "filename": "src/librustc_expand/mbe/transcribe.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe%2Ftranscribe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmbe%2Ftranscribe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fmbe%2Ftranscribe.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/mbe/transcribe.rs"}, {"sha": "003ce0fcb1fd420230d808716f49f936dfe15fc2", "filename": "src/librustc_expand/mut_visit/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmut_visit%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fmut_visit%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fmut_visit%2Ftests.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/mut_visit/tests.rs"}, {"sha": "2ca0224812bab062bee70243c09df705205f0c19", "filename": "src/librustc_expand/parse/lexer/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fparse%2Flexer%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fparse%2Flexer%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fparse%2Flexer%2Ftests.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/parse/lexer/tests.rs"}, {"sha": "833fda6a2ebe409a5133b1c45d3e79e38980fc0f", "filename": "src/librustc_expand/parse/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fparse%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fparse%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fparse%2Ftests.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/parse/tests.rs"}, {"sha": "231a5a19cb662058dfd77aae62c4b4ed8fde0d6e", "filename": "src/librustc_expand/placeholders.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fplaceholders.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fplaceholders.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fplaceholders.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/placeholders.rs"}, {"sha": "9f42ec13b5655f23fb72116bea36361488506708", "filename": "src/librustc_expand/proc_macro.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fproc_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fproc_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fproc_macro.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/proc_macro.rs"}, {"sha": "790e1f0edc01bd6c432b31a275bd61947df193ee", "filename": "src/librustc_expand/proc_macro_server.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fproc_macro_server.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Fproc_macro_server.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Fproc_macro_server.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/proc_macro_server.rs"}, {"sha": "4f5ff97e48d23470d5d2193af787d21ddc4de7b0", "filename": "src/librustc_expand/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Ftests.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/tests.rs"}, {"sha": "e13999320df956ad6e5dbff0553ad0f0778476ed", "filename": "src/librustc_expand/tokenstream/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Ftokenstream%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_expand%2Ftokenstream%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_expand%2Ftokenstream%2Ftests.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_expand/tokenstream/tests.rs"}, {"sha": "e9e3e471ce6626c28db44213b6c038f97d585c46", "filename": "src/librustc_feature/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_feature%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_feature%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_feature%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -12,4 +12,4 @@ doctest = false\n [dependencies]\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n lazy_static = \"1.0.0\"\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }"}, {"sha": "3fd67395b6b9a888ed268bbdfedbf717cb7fa834", "filename": "src/librustc_incremental/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_incremental%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_incremental%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_incremental%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -17,6 +17,6 @@ rustc = { path = \"../librustc\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_fs_util = { path = \"../librustc_fs_util\" }\n rustc_session = { path = \"../librustc_session\" }"}, {"sha": "73ff0cd52d7e2f0ff846cd39fb1bb1b31c5f80a2", "filename": "src/librustc_interface/Cargo.toml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_interface%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_interface%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_interface%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -14,10 +14,10 @@ log = \"0.4\"\n rayon = { version = \"0.3.0\", package = \"rustc-rayon\" }\n smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n syntax = { path = \"../libsyntax\" }\n-syntax_ext = { path = \"../libsyntax_ext\" }\n-syntax_expand = { path = \"../libsyntax_expand\" }\n+rustc_builtin_macros = { path = \"../librustc_builtin_macros\" }\n+rustc_expand = { path = \"../librustc_expand\" }\n rustc_parse = { path = \"../librustc_parse\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n rustc = { path = \"../librustc\" }\n rustc_incremental = { path = \"../librustc_incremental\" }"}, {"sha": "57fd2fb6d27832351bd8b42a1222befab07bfdb0", "filename": "src/librustc_interface/passes.rs", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_interface%2Fpasses.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_interface%2Fpasses.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_interface%2Fpasses.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -19,12 +19,14 @@ use rustc::traits;\n use rustc::ty::steal::Steal;\n use rustc::ty::{self, AllArenas, GlobalCtxt, ResolverOutputs, TyCtxt};\n use rustc::util::common::{time, ErrorReported};\n+use rustc_builtin_macros;\n use rustc_codegen_ssa::back::link::emit_metadata;\n use rustc_codegen_utils::codegen_backend::CodegenBackend;\n use rustc_codegen_utils::link::filename_for_metadata;\n use rustc_data_structures::sync::{par_iter, Lrc, Once, ParallelIterator, WorkerLocal};\n use rustc_data_structures::{box_region_allow_access, declare_box_region_type, parallel};\n use rustc_errors::PResult;\n+use rustc_expand::base::ExtCtxt;\n use rustc_incremental;\n use rustc_mir as mir;\n use rustc_parse::{parse_crate_from_file, parse_crate_from_source_str};\n@@ -39,8 +41,6 @@ use syntax::mut_visit::MutVisitor;\n use syntax::symbol::Symbol;\n use syntax::util::node_count::NodeCounter;\n use syntax::{self, ast, visit};\n-use syntax_expand::base::ExtCtxt;\n-use syntax_ext;\n use syntax_pos::FileName;\n \n use rustc_serialize::json;\n@@ -164,14 +164,14 @@ pub fn register_plugins<'a>(\n     crate_name: &str,\n ) -> Result<(ast::Crate, Lrc<lint::LintStore>)> {\n     krate = time(sess, \"attributes injection\", || {\n-        syntax_ext::cmdline_attrs::inject(\n+        rustc_builtin_macros::cmdline_attrs::inject(\n             krate,\n             &sess.parse_sess,\n             &sess.opts.debugging_opts.crate_attr,\n         )\n     });\n \n-    let (krate, features) = syntax_expand::config::features(\n+    let (krate, features) = rustc_expand::config::features(\n         krate,\n         &sess.parse_sess,\n         sess.edition(),\n@@ -243,11 +243,11 @@ fn configure_and_expand_inner<'a>(\n     });\n \n     let mut resolver = Resolver::new(sess, &krate, crate_name, metadata_loader, &resolver_arenas);\n-    syntax_ext::register_builtin_macros(&mut resolver, sess.edition());\n+    rustc_builtin_macros::register_builtin_macros(&mut resolver, sess.edition());\n \n     krate = time(sess, \"crate injection\", || {\n         let alt_std_name = sess.opts.alt_std_name.as_ref().map(|s| Symbol::intern(s));\n-        let (krate, name) = syntax_ext::standard_library_imports::inject(\n+        let (krate, name) = rustc_builtin_macros::standard_library_imports::inject(\n             krate,\n             &mut resolver,\n             &sess.parse_sess,\n@@ -297,12 +297,12 @@ fn configure_and_expand_inner<'a>(\n \n         // Create the config for macro expansion\n         let features = sess.features_untracked();\n-        let cfg = syntax_expand::expand::ExpansionConfig {\n+        let cfg = rustc_expand::expand::ExpansionConfig {\n             features: Some(&features),\n             recursion_limit: *sess.recursion_limit.get(),\n             trace_mac: sess.opts.debugging_opts.trace_macros,\n             should_test: sess.opts.test,\n-            ..syntax_expand::expand::ExpansionConfig::default(crate_name.to_string())\n+            ..rustc_expand::expand::ExpansionConfig::default(crate_name.to_string())\n         };\n \n         let mut ecx = ExtCtxt::new(&sess.parse_sess, cfg, &mut resolver);\n@@ -332,7 +332,7 @@ fn configure_and_expand_inner<'a>(\n     });\n \n     time(sess, \"maybe building test harness\", || {\n-        syntax_ext::test_harness::inject(\n+        rustc_builtin_macros::test_harness::inject(\n             &sess.parse_sess,\n             &mut resolver,\n             sess.opts.test,\n@@ -380,7 +380,7 @@ fn configure_and_expand_inner<'a>(\n         krate = time(sess, \"maybe creating a macro crate\", || {\n             let num_crate_types = crate_types.len();\n             let is_test_crate = sess.opts.test;\n-            syntax_ext::proc_macro_harness::inject(\n+            rustc_builtin_macros::proc_macro_harness::inject(\n                 &sess.parse_sess,\n                 &mut resolver,\n                 krate,"}, {"sha": "049ea6fa1829bf6edca90f713f570907bca8c929", "filename": "src/librustc_lint/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_lint%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_lint%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -13,7 +13,7 @@ log = \"0.4\"\n rustc = { path = \"../librustc\" }\n rustc_target = { path = \"../librustc_target\" }\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_feature = { path = \"../librustc_feature\" }\n rustc_index = { path = \"../librustc_index\" }"}, {"sha": "e22a80886541498ddecb827efd02d293bf9cd478", "filename": "src/librustc_metadata/Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_metadata%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_metadata%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -22,7 +22,7 @@ rustc_index = { path = \"../librustc_index\" }\n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n stable_deref_trait = \"1.0.0\"\n syntax = { path = \"../libsyntax\" }\n-syntax_expand = { path = \"../libsyntax_expand\" }\n+rustc_expand = { path = \"../librustc_expand\" }\n rustc_parse = { path = \"../librustc_parse\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_error_codes = { path = \"../librustc_error_codes\" }"}, {"sha": "88ad5aba88ed13725e8d78f916d38622b7f10f12", "filename": "src/librustc_metadata/creader.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_metadata%2Fcreader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_metadata%2Fcreader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Fcreader.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -22,13 +22,13 @@ use std::{cmp, fs};\n \n use log::{debug, info, log_enabled};\n use proc_macro::bridge::client::ProcMacro;\n+use rustc_expand::base::SyntaxExtension;\n use syntax::ast;\n use syntax::attr;\n use syntax::edition::Edition;\n use syntax::expand::allocator::{global_allocator_spans, AllocatorKind};\n use syntax::span_fatal;\n use syntax::symbol::{sym, Symbol};\n-use syntax_expand::base::SyntaxExtension;\n use syntax_pos::{Span, DUMMY_SP};\n \n use rustc_error_codes::*;"}, {"sha": "5b25e192f902d52e1e431ae1d4b2d71a3d7e0cf4", "filename": "src/librustc_metadata/rmeta/decoder.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_metadata%2Frmeta%2Fdecoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_metadata%2Frmeta%2Fdecoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Frmeta%2Fdecoder.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -33,12 +33,12 @@ use std::u32;\n \n use log::debug;\n use proc_macro::bridge::client::ProcMacro;\n+use rustc_expand::base::{SyntaxExtension, SyntaxExtensionKind};\n+use rustc_expand::proc_macro::{AttrProcMacro, BangProcMacro, ProcMacroDerive};\n use rustc_serialize::{opaque, Decodable, Decoder, SpecializedDecoder};\n use syntax::ast::{self, Ident};\n use syntax::attr;\n use syntax::source_map::{self, respan, Spanned};\n-use syntax_expand::base::{SyntaxExtension, SyntaxExtensionKind};\n-use syntax_expand::proc_macro::{AttrProcMacro, BangProcMacro, ProcMacroDerive};\n use syntax_pos::symbol::{sym, Symbol};\n use syntax_pos::{self, hygiene::MacroKind, BytePos, Pos, Span, DUMMY_SP};\n \n@@ -637,7 +637,7 @@ impl<'a, 'tcx> CrateMetadata {\n         // DefIndex's in root.proc_macro_data have a one-to-one correspondence\n         // with items in 'raw_proc_macros'.\n         // NOTE: If you update the order of macros in 'proc_macro_data' for any reason,\n-        // you must also update src/libsyntax_ext/proc_macro_harness.rs\n+        // you must also update src/librustc_builtin_macros/proc_macro_harness.rs\n         // Failing to do so will result in incorrect data being associated\n         // with proc macros when deserialized.\n         let pos = self.root.proc_macro_data.unwrap().decode(self).position(|i| i == id).unwrap();"}, {"sha": "dce6c2a65e023cbf10daee647114ffa66cbdb386", "filename": "src/librustc_mir/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_mir%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_mir%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -26,7 +26,7 @@ rustc_lexer = { path = \"../librustc_lexer\" }\n rustc_macros = { path = \"../librustc_macros\" }\n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_apfloat = { path = \"../librustc_apfloat\" }\n smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n rustc_error_codes = { path = \"../librustc_error_codes\" }"}, {"sha": "086e6a6bf5c53da263887f77fb7a0c3a936c4057", "filename": "src/librustc_parse/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_parse%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_parse%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_parse%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -18,6 +18,6 @@ rustc_lexer = { path = \"../librustc_lexer\" }\n rustc_errors = { path = \"../librustc_errors\" }\n rustc_error_codes = { path = \"../librustc_error_codes\" }\n smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n syntax = { path = \"../libsyntax\" }\n unicode-normalization = \"0.1.11\""}, {"sha": "63892eb8995a1868f129307be722974b351134ee", "filename": "src/librustc_parse/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_parse%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_parse%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_parse%2Fconfig.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,7 +1,7 @@\n //! Process the potential `cfg` attributes on a module.\n //! Also determine if the module should be included in this configuration.\n //!\n-//! This module properly belongs in syntax_expand, but for now it's tied into\n+//! This module properly belongs in rustc_expand, but for now it's tied into\n //! parsing, so we leave it here to avoid complicated out-of-line dependencies.\n //!\n //! A principled solution to this wrong location would be to implement [#64197]."}, {"sha": "ffce0d1cb1a284165f1a3573c0b57b11d02f725b", "filename": "src/librustc_passes/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_passes%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_passes%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_passes%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -17,6 +17,6 @@ rustc_index = { path = \"../librustc_index\" }\n rustc_parse = { path = \"../librustc_parse\" }\n rustc_target = { path = \"../librustc_target\" }\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n errors = { path = \"../librustc_errors\", package = \"rustc_errors\" }\n rustc_error_codes = { path = \"../librustc_error_codes\" }"}, {"sha": "05046ae3a0dd61cb87a32b9abc7e4d63aa494144", "filename": "src/librustc_plugin_impl/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_plugin_impl%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_plugin_impl%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_plugin_impl%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -14,5 +14,5 @@ doctest = false\n rustc = { path = \"../librustc\" }\n rustc_metadata = { path = \"../librustc_metadata\" }\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_error_codes = { path = \"../librustc_error_codes\" }"}, {"sha": "8a2fbf8974d4b90a9438e13e4d58d60eb615dd9b", "filename": "src/librustc_privacy/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_privacy%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_privacy%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_privacy%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -12,7 +12,7 @@ path = \"lib.rs\"\n rustc = { path = \"../librustc\" }\n rustc_typeck = { path = \"../librustc_typeck\" }\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_error_codes = { path = \"../librustc_error_codes\" }\n log = \"0.4\""}, {"sha": "0efc0de3a670ab4ae6c2d23d5619bec1f0f3c4a5", "filename": "src/librustc_resolve/Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -14,11 +14,11 @@ doctest = false\n bitflags = \"1.2.1\"\n log = \"0.4\"\n syntax = { path = \"../libsyntax\" }\n-syntax_expand = { path = \"../libsyntax_expand\" }\n+rustc_expand = { path = \"../librustc_expand\" }\n rustc = { path = \"../librustc\" }\n arena = { path = \"../libarena\" }\n errors = { path = \"../librustc_errors\", package = \"rustc_errors\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_feature = { path = \"../librustc_feature\" }\n rustc_metadata = { path = \"../librustc_metadata\" }"}, {"sha": "388b00e9911b1ff5d6e4f17789fd894f64589a30", "filename": "src/librustc_resolve/build_reduced_graph.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fbuild_reduced_graph.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fbuild_reduced_graph.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fbuild_reduced_graph.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -6,9 +6,9 @@\n //! Imports are also considered items and placed into modules here, but not resolved yet.\n \n use crate::def_collector::collect_definitions;\n+use crate::imports::ImportDirective;\n+use crate::imports::ImportDirectiveSubclass::{self, GlobImport, SingleImport};\n use crate::macros::{LegacyBinding, LegacyScope};\n-use crate::resolve_imports::ImportDirective;\n-use crate::resolve_imports::ImportDirectiveSubclass::{self, GlobImport, SingleImport};\n use crate::Namespace::{self, MacroNS, TypeNS, ValueNS};\n use crate::{CrateLint, Determinacy, PathResult, ResolutionError, VisResolutionError};\n use crate::{\n@@ -29,6 +29,8 @@ use std::ptr;\n \n use errors::Applicability;\n \n+use rustc_expand::base::SyntaxExtension;\n+use rustc_expand::expand::AstFragment;\n use syntax::ast::{self, Block, ForeignItem, ForeignItemKind, Item, ItemKind, NodeId};\n use syntax::ast::{AssocItem, AssocItemKind, MetaItemKind, StmtKind};\n use syntax::ast::{Ident, Name};\n@@ -38,8 +40,6 @@ use syntax::span_err;\n use syntax::symbol::{kw, sym};\n use syntax::token::{self, Token};\n use syntax::visit::{self, Visitor};\n-use syntax_expand::base::SyntaxExtension;\n-use syntax_expand::expand::AstFragment;\n use syntax_pos::hygiene::{ExpnId, MacroKind};\n use syntax_pos::{Span, DUMMY_SP};\n "}, {"sha": "93217aa147713322f8a1539d01043534526e9d6f", "filename": "src/librustc_resolve/check_unused.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fcheck_unused.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fcheck_unused.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fcheck_unused.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -23,7 +23,7 @@\n //  - `check_crate` finally emits the diagnostics based on the data generated\n //    in the last step\n \n-use crate::resolve_imports::ImportDirectiveSubclass;\n+use crate::imports::ImportDirectiveSubclass;\n use crate::Resolver;\n \n use errors::pluralize;"}, {"sha": "e76f1f82f65ee2860d2b0b5f8a3cbea4a2d3419c", "filename": "src/librustc_resolve/def_collector.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fdef_collector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fdef_collector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fdef_collector.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,11 +1,11 @@\n use log::debug;\n use rustc::hir::def_id::DefIndex;\n use rustc::hir::map::definitions::*;\n+use rustc_expand::expand::AstFragment;\n use syntax::ast::*;\n use syntax::symbol::{kw, sym};\n use syntax::token::{self, Token};\n use syntax::visit;\n-use syntax_expand::expand::AstFragment;\n use syntax_pos::hygiene::ExpnId;\n use syntax_pos::Span;\n "}, {"sha": "82b9e5347b7a70442ac6bb85c5b1e06416c6bfc2", "filename": "src/librustc_resolve/diagnostics.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fdiagnostics.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -19,8 +19,8 @@ use syntax::util::lev_distance::find_best_match_for_name;\n use syntax_pos::hygiene::MacroKind;\n use syntax_pos::{BytePos, MultiSpan, Span};\n \n+use crate::imports::{ImportDirective, ImportDirectiveSubclass, ImportResolver};\n use crate::path_names_to_string;\n-use crate::resolve_imports::{ImportDirective, ImportDirectiveSubclass, ImportResolver};\n use crate::VisResolutionError;\n use crate::{BindingError, CrateLint, HasGenericParams, LegacyScope, Module, ModuleOrUniformRoot};\n use crate::{ParentScope, PathResult, ResolutionError, Resolver, Scope, ScopeSet, Segment};"}, {"sha": "afbfb647b3cacbdf720d5fe95834b26583fa5a85", "filename": "src/librustc_resolve/imports.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fimports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fimports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fimports.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/librustc_resolve/resolve_imports.rs"}, {"sha": "ae0a9255497e90f06b085ba1a7b8befcb6c2c707", "filename": "src/librustc_resolve/late.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Flate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Flate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flate.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -3,7 +3,7 @@\n //! So it just walks through the crate and resolves all the expressions, types, etc.\n //!\n //! If you wonder why there's no `early.rs`, that's because it's split into three files -\n-//! `build_reduced_graph.rs`, `macros.rs` and `resolve_imports.rs`.\n+//! `build_reduced_graph.rs`, `macros.rs` and `imports.rs`.\n \n use RibKind::*;\n "}, {"sha": "357176ae090ca053d4e0e108847c4a1734ebf706", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -36,6 +36,7 @@ use rustc::util::nodemap::{DefIdMap, FxHashMap, FxHashSet, NodeMap, NodeSet};\n use rustc_metadata::creader::{CStore, CrateLoader};\n \n use errors::{Applicability, DiagnosticBuilder};\n+use rustc_expand::base::SyntaxExtension;\n use syntax::ast::{self, FloatTy, Ident, IntTy, Name, NodeId, UintTy};\n use syntax::ast::{Crate, CRATE_NODE_ID};\n use syntax::ast::{ItemKind, Path};\n@@ -45,7 +46,6 @@ use syntax::source_map::Spanned;\n use syntax::symbol::{kw, sym};\n use syntax::visit::{self, Visitor};\n use syntax::{struct_span_err, unwrap_or};\n-use syntax_expand::base::SyntaxExtension;\n use syntax_pos::hygiene::{ExpnId, ExpnKind, MacroKind, SyntaxContext, Transparency};\n use syntax_pos::{Span, DUMMY_SP};\n \n@@ -60,9 +60,9 @@ use std::{cmp, fmt, iter, ptr};\n \n use diagnostics::{extend_span_to_previous_binding, find_span_of_binding_until_next_binding};\n use diagnostics::{ImportSuggestion, Suggestion};\n+use imports::{ImportDirective, ImportDirectiveSubclass, ImportResolver, NameResolution};\n use late::{HasGenericParams, PathSource, Rib, RibKind::*};\n use macros::{LegacyBinding, LegacyScope};\n-use resolve_imports::{ImportDirective, ImportDirectiveSubclass, ImportResolver, NameResolution};\n \n use rustc_error_codes::*;\n \n@@ -72,9 +72,9 @@ mod build_reduced_graph;\n mod check_unused;\n mod def_collector;\n mod diagnostics;\n+mod imports;\n mod late;\n mod macros;\n-mod resolve_imports;\n \n enum Weak {\n     Yes,"}, {"sha": "d9c3cf0f5f056f29858c53af4e08a07ee1fed41a", "filename": "src/librustc_resolve/macros.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_resolve%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fmacros.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,7 +1,7 @@\n //! A bunch of methods and structures more or less related to resolving macros and\n //! interface provided by `Resolver` to macro expander.\n \n-use crate::resolve_imports::ImportResolver;\n+use crate::imports::ImportResolver;\n use crate::Namespace::*;\n use crate::{AmbiguityError, AmbiguityErrorMisc, AmbiguityKind, Determinacy};\n use crate::{CrateLint, ParentScope, ResolutionError, Resolver, Scope, ScopeSet, Weak};\n@@ -12,16 +12,16 @@ use rustc::middle::stability;\n use rustc::session::Session;\n use rustc::util::nodemap::FxHashSet;\n use rustc::{lint, span_bug, ty};\n+use rustc_expand::base::SyntaxExtension;\n+use rustc_expand::base::{self, Indeterminate, InvocationRes};\n+use rustc_expand::compile_declarative_macro;\n+use rustc_expand::expand::{AstFragment, AstFragmentKind, Invocation, InvocationKind};\n use rustc_feature::is_builtin_attr_name;\n use syntax::ast::{self, Ident, NodeId};\n use syntax::attr::{self, StabilityLevel};\n use syntax::edition::Edition;\n use syntax::feature_gate::feature_err;\n use syntax::print::pprust;\n-use syntax_expand::base::SyntaxExtension;\n-use syntax_expand::base::{self, Indeterminate, InvocationRes};\n-use syntax_expand::compile_declarative_macro;\n-use syntax_expand::expand::{AstFragment, AstFragmentKind, Invocation, InvocationKind};\n use syntax_pos::hygiene::{self, ExpnData, ExpnId, ExpnKind};\n use syntax_pos::symbol::{kw, sym, Symbol};\n use syntax_pos::{Span, DUMMY_SP};"}, {"sha": "7570944a4354c5e4f9426090950802bf26974728", "filename": "src/librustc_save_analysis/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_save_analysis%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_save_analysis%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_save_analysis%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -16,6 +16,6 @@ rustc_codegen_utils = { path = \"../librustc_codegen_utils\" }\n rustc_parse = { path = \"../librustc_parse\" }\n serde_json = \"1\"\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rls-data = \"0.19\"\n rls-span = \"0.5\""}, {"sha": "847a368d4cf552a8e39a898133773fbfb7e7e5a9", "filename": "src/librustc_session/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_session%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_session%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_session%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -15,7 +15,7 @@ rustc_feature = { path = \"../librustc_feature\" }\n rustc_target = { path = \"../librustc_target\" }\n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_index = { path = \"../librustc_index\" }\n rustc_fs_util = { path = \"../librustc_fs_util\" }\n num_cpus = \"1.0\""}, {"sha": "c3fa2331d2b168788732b030ad3107d7fc4e0122", "filename": "src/librustc_span/Cargo.toml", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -1,11 +1,11 @@\n [package]\n authors = [\"The Rust Project Developers\"]\n-name = \"syntax_pos\"\n+name = \"rustc_span\"\n version = \"0.0.0\"\n edition = \"2018\"\n \n [lib]\n-name = \"syntax_pos\"\n+name = \"rustc_span\"\n path = \"lib.rs\"\n doctest = false\n ", "previous_filename": "src/libsyntax_pos/Cargo.toml"}, {"sha": "b4beb3dc376893098829531aa225daa23115d46e", "filename": "src/librustc_span/analyze_source_file.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fanalyze_source_file.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fanalyze_source_file.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fanalyze_source_file.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/analyze_source_file.rs"}, {"sha": "cb418a4bdaf9ca63d660c74efa5e4514d2a7f727", "filename": "src/librustc_span/analyze_source_file/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fanalyze_source_file%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fanalyze_source_file%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fanalyze_source_file%2Ftests.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/analyze_source_file/tests.rs"}, {"sha": "c329f2225b0b3e7a31d1e0b49eb0d8fcf3db589f", "filename": "src/librustc_span/caching_source_map_view.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fcaching_source_map_view.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fcaching_source_map_view.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fcaching_source_map_view.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/caching_source_map_view.rs"}, {"sha": "3017191563b0a6f74a080334e182f93548543f84", "filename": "src/librustc_span/edition.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fedition.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fedition.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fedition.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/edition.rs"}, {"sha": "718c0ddbc63ea839a0368ce0263079f27bc9fc67", "filename": "src/librustc_span/fatal_error.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Ffatal_error.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Ffatal_error.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Ffatal_error.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/fatal_error.rs"}, {"sha": "fd1f07c743beb4a84f6763982cb0bce723d5ddaf", "filename": "src/librustc_span/hygiene.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fhygiene.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fhygiene.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fhygiene.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/hygiene.rs"}, {"sha": "a58c12f23508ac74f0744edf2021c57dd43a3570", "filename": "src/librustc_span/lib.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Flib.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/lib.rs"}, {"sha": "0b9b9fe7887f2a29fe86090381877061204624cd", "filename": "src/librustc_span/source_map.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fsource_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fsource_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fsource_map.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/source_map.rs"}, {"sha": "79df1884f0db0abf95095515174efc115e87f146", "filename": "src/librustc_span/source_map/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fsource_map%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fsource_map%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fsource_map%2Ftests.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/source_map/tests.rs"}, {"sha": "d769cf83a03474764b4cdbba461b6e51b07bbdad", "filename": "src/librustc_span/span_encoding.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fspan_encoding.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fspan_encoding.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fspan_encoding.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/span_encoding.rs"}, {"sha": "7ae037faf151d260dd7a59c87b3fe277b5c7d607", "filename": "src/librustc_span/symbol.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fsymbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fsymbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fsymbol.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/symbol.rs"}, {"sha": "f74b9a0cd1d1df0213739c04d1d389c9825ebe71", "filename": "src/librustc_span/symbol/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fsymbol%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Fsymbol%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Fsymbol%2Ftests.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/symbol/tests.rs"}, {"sha": "3c8eb8bcd3152ffabb10e8f54b3bc98a50f75650", "filename": "src/librustc_span/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_span%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_span%2Ftests.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "previous_filename": "src/libsyntax_pos/tests.rs"}, {"sha": "8b60bde4dc42b63101ff566e9e19187cb451dbeb", "filename": "src/librustc_target/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_target%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_target%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -14,5 +14,5 @@ log = \"0.4\"\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_macros = { path = \"../librustc_macros\" }\n rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_index = { path = \"../librustc_index\" }"}, {"sha": "5573b4bc840603eee16c48b8d1bca909a7260409", "filename": "src/librustc_traits/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_traits%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_traits%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_traits%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -15,6 +15,6 @@ rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_macros = { path = \"../librustc_macros\" }\n rustc_target = { path = \"../librustc_target\" }\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n chalk-engine = { version = \"0.9.0\", default-features=false }\n smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }"}, {"sha": "bf1932ccf26d642852966664fa612ddca6b10b06", "filename": "src/librustc_typeck/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_typeck%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustc_typeck%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -19,6 +19,6 @@ errors = { path = \"../librustc_errors\", package = \"rustc_errors\" }\n rustc_target = { path = \"../librustc_target\" }\n smallvec = { version = \"1.0\", features = [\"union\", \"may_dangle\"] }\n syntax = { path = \"../libsyntax\" }\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n rustc_index = { path = \"../librustc_index\" }\n rustc_error_codes = { path = \"../librustc_error_codes\" }"}, {"sha": "fb289f8ab8a2726702987a44f595639be221005e", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -25,6 +25,7 @@ extern crate rustc;\n extern crate rustc_data_structures;\n extern crate rustc_driver;\n extern crate rustc_error_codes;\n+extern crate rustc_expand;\n extern crate rustc_feature;\n extern crate rustc_index;\n extern crate rustc_interface;\n@@ -33,11 +34,10 @@ extern crate rustc_lint;\n extern crate rustc_metadata;\n extern crate rustc_parse;\n extern crate rustc_resolve;\n+extern crate rustc_span as syntax_pos;\n extern crate rustc_target;\n extern crate rustc_typeck;\n extern crate syntax;\n-extern crate syntax_expand;\n-extern crate syntax_pos;\n extern crate test as testing;\n #[macro_use]\n extern crate log;"}, {"sha": "75a87e7cc5dd905af4f02bf27a3f1f28a25ee62f", "filename": "src/librustdoc/passes/collect_intra_doc_links.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -8,12 +8,12 @@ use rustc::hir::def::{\n use rustc::hir::def_id::DefId;\n use rustc::lint;\n use rustc::ty;\n+use rustc_expand::base::SyntaxExtensionKind;\n use rustc_feature::UnstableFeatures;\n use rustc_resolve::ParentScope;\n use syntax;\n use syntax::ast::{self, Ident};\n use syntax::symbol::Symbol;\n-use syntax_expand::base::SyntaxExtensionKind;\n use syntax_pos::DUMMY_SP;\n \n use std::ops::Range;"}, {"sha": "de35f1744c1fb43614746f2f32aacb06fab948dd", "filename": "src/libsyntax/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibsyntax%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Flibsyntax%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2FCargo.toml?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -15,7 +15,7 @@ rustc_serialize = { path = \"../libserialize\", package = \"serialize\" }\n log = \"0.4\"\n scoped-tls = \"1.0\"\n lazy_static = \"1.0.0\"\n-syntax_pos = { path = \"../libsyntax_pos\" }\n+syntax_pos = { path = \"../librustc_span\", package = \"rustc_span\" }\n errors = { path = \"../librustc_errors\", package = \"rustc_errors\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_feature = { path = \"../librustc_feature\" }"}, {"sha": "fa136fd54c26bec2f5d25709fa1d41ce08c51b82", "filename": "src/test/ui-fulldeps/auxiliary/macro-crate-test.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fmacro-crate-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fmacro-crate-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fmacro-crate-test.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -7,7 +7,6 @@\n extern crate syntax;\n extern crate rustc;\n extern crate rustc_driver;\n-extern crate syntax_pos;\n extern crate proc_macro;\n \n use proc_macro::{TokenTree, TokenStream};"}, {"sha": "51aa5f24e4ce90b86e58124a519dde18a1a1b8dd", "filename": "src/test/ui-fulldeps/mod_dir_path_canonicalized.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Ftest%2Fui-fulldeps%2Fmod_dir_path_canonicalized.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Ftest%2Fui-fulldeps%2Fmod_dir_path_canonicalized.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fmod_dir_path_canonicalized.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -5,7 +5,6 @@\n #![feature(rustc_private)]\n \n extern crate syntax;\n-extern crate syntax_expand;\n extern crate rustc_parse;\n \n use rustc_parse::new_parser_from_file;"}, {"sha": "59813322e5b25bbf32026f4b3553d220a347756f", "filename": "src/test/ui-fulldeps/pprust-expr-roundtrip.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Ftest%2Fui-fulldeps%2Fpprust-expr-roundtrip.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9dd56ff9a08d74c53d5cc22d18f126a12749608/src%2Ftest%2Fui-fulldeps%2Fpprust-expr-roundtrip.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fpprust-expr-roundtrip.rs?ref=a9dd56ff9a08d74c53d5cc22d18f126a12749608", "patch": "@@ -21,7 +21,6 @@\n \n extern crate rustc_data_structures;\n extern crate syntax;\n-extern crate syntax_expand;\n extern crate rustc_parse;\n \n use rustc_data_structures::thin_vec::ThinVec;"}]}