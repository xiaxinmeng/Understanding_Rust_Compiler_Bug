{"sha": "cb3e0fbb5999429f4f4c30e505c4904c9999cdf8", "node_id": "C_kwDOAAsO6NoAKGNiM2UwZmJiNTk5OTQyOWY0ZjRjMzBlNTA1YzQ5MDRjOTk5OWNkZjg", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-11-24T19:09:27Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2023-04-21T21:34:59Z"}, "message": "Evaluate place expression in `PlaceMention`.", "tree": {"sha": "6d7adbfcf4e9542e94a18b7e77a5ec816a2d0d5d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6d7adbfcf4e9542e94a18b7e77a5ec816a2d0d5d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cb3e0fbb5999429f4f4c30e505c4904c9999cdf8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cb3e0fbb5999429f4f4c30e505c4904c9999cdf8", "html_url": "https://github.com/rust-lang/rust/commit/cb3e0fbb5999429f4f4c30e505c4904c9999cdf8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cb3e0fbb5999429f4f4c30e505c4904c9999cdf8/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "84bab312abaf810a04eb2ef910b535b524c56c47", "url": "https://api.github.com/repos/rust-lang/rust/commits/84bab312abaf810a04eb2ef910b535b524c56c47", "html_url": "https://github.com/rust-lang/rust/commit/84bab312abaf810a04eb2ef910b535b524c56c47"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "35ce89c79864997d89152fe2c6152b2038debc27", "filename": "tests/ui/option_if_let_else.fixed", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cb3e0fbb5999429f4f4c30e505c4904c9999cdf8/tests%2Fui%2Foption_if_let_else.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/cb3e0fbb5999429f4f4c30e505c4904c9999cdf8/tests%2Fui%2Foption_if_let_else.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Foption_if_let_else.fixed?ref=cb3e0fbb5999429f4f4c30e505c4904c9999cdf8", "patch": "@@ -25,7 +25,7 @@ fn else_if_option(string: Option<&str>) -> Option<(bool, &str)> {\n fn unop_bad(string: &Option<&str>, mut num: Option<i32>) {\n     let _ = string.map_or(0, |s| s.len());\n     let _ = num.as_ref().map_or(&0, |s| s);\n-    let _ = num.as_mut().map_or(&mut 0, |s| {\n+    let _ = num.as_mut().map_or(&0, |s| {\n         *s += 1;\n         s\n     });\n@@ -34,7 +34,7 @@ fn unop_bad(string: &Option<&str>, mut num: Option<i32>) {\n         s += 1;\n         s\n     });\n-    let _ = num.as_mut().map_or(&mut 0, |s| {\n+    let _ = num.as_mut().map_or(&0, |s| {\n         *s += 1;\n         s\n     });"}, {"sha": "c8683e5aae2d0a2fa298f6c62982442bb0cced67", "filename": "tests/ui/option_if_let_else.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cb3e0fbb5999429f4f4c30e505c4904c9999cdf8/tests%2Fui%2Foption_if_let_else.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb3e0fbb5999429f4f4c30e505c4904c9999cdf8/tests%2Fui%2Foption_if_let_else.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Foption_if_let_else.rs?ref=cb3e0fbb5999429f4f4c30e505c4904c9999cdf8", "patch": "@@ -33,7 +33,7 @@ fn unop_bad(string: &Option<&str>, mut num: Option<i32>) {\n         *s += 1;\n         s\n     } else {\n-        &mut 0\n+        &0\n     };\n     let _ = if let Some(ref s) = num { s } else { &0 };\n     let _ = if let Some(mut s) = num {\n@@ -46,7 +46,7 @@ fn unop_bad(string: &Option<&str>, mut num: Option<i32>) {\n         *s += 1;\n         s\n     } else {\n-        &mut 0\n+        &0\n     };\n }\n "}, {"sha": "f5e4affb67229cd8019736e61b54381a76158b5a", "filename": "tests/ui/option_if_let_else.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/cb3e0fbb5999429f4f4c30e505c4904c9999cdf8/tests%2Fui%2Foption_if_let_else.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cb3e0fbb5999429f4f4c30e505c4904c9999cdf8/tests%2Fui%2Foption_if_let_else.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Foption_if_let_else.stderr?ref=cb3e0fbb5999429f4f4c30e505c4904c9999cdf8", "patch": "@@ -30,13 +30,13 @@ LL |       let _ = if let Some(s) = &mut num {\n LL | |         *s += 1;\n LL | |         s\n LL | |     } else {\n-LL | |         &mut 0\n+LL | |         &0\n LL | |     };\n    | |_____^\n    |\n help: try\n    |\n-LL ~     let _ = num.as_mut().map_or(&mut 0, |s| {\n+LL ~     let _ = num.as_mut().map_or(&0, |s| {\n LL +         *s += 1;\n LL +         s\n LL ~     });\n@@ -76,13 +76,13 @@ LL |       let _ = if let Some(ref mut s) = num {\n LL | |         *s += 1;\n LL | |         s\n LL | |     } else {\n-LL | |         &mut 0\n+LL | |         &0\n LL | |     };\n    | |_____^\n    |\n help: try\n    |\n-LL ~     let _ = num.as_mut().map_or(&mut 0, |s| {\n+LL ~     let _ = num.as_mut().map_or(&0, |s| {\n LL +         *s += 1;\n LL +         s\n LL ~     });"}]}