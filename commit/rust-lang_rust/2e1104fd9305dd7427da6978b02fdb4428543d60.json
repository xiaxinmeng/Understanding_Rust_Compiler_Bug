{"sha": "2e1104fd9305dd7427da6978b02fdb4428543d60", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJlMTEwNGZkOTMwNWRkNzQyN2RhNjk3OGIwMmZkYjQ0Mjg1NDNkNjA=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2019-03-16T06:57:02Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2019-03-16T14:40:54Z"}, "message": "Rollup merge of #59204 - o01eg:diag-rustdoc, r=alexcrichton\n\nOutput diagnostic information for rustdoc\n\nUse the information same as rustc.", "tree": {"sha": "06d538f82e95aac4fb0fc8621fec74e6952f99f1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/06d538f82e95aac4fb0fc8621fec74e6952f99f1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2e1104fd9305dd7427da6978b02fdb4428543d60", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAlyNCvYACgkQ/vbIBR0O\nATy5/BAAvnyrmCbtNb4xphbzzGnFawJaaPNo/p3OZs/9jXuERpUgKs/qWeIbkI85\nHN2tS+7u95cSz4I90A88o3qYKIoy0+zlfMMSI7qPPzEWxuqaWtVBToGRnMZSh9Ii\nD+M7WEZyE0A7+hYAMqGgswEuW7eJ+W5s8nw7XLE8aw77qy/y7KSIJd9CUdtLtS8/\nidjrpXxh6VM44EEByjjjELS+YHa8beKc66wvzHHRc4AB/aKL3GEqQs6f1DISzoSA\nRwAk8pqnJoMvn+vq71wbLPn2lfkWSGaTuDdTlxbC+SpaIpKCmVFO3lse1w8kQYWr\nJX20qfIo2aWnFZf4bRQwnHTPhuCzR2lrupDpl9CoxsW70Xfc86SSd0Q92Mo7O7Sb\norpMU12oRbRfheRSBuQrKvn7b9F1/egbBwqeJxiBCMiea+MB0bavxtpdVvsxf99r\ng0dHQtZ/jwLVpYu5IPOJ1+KOcqqGQuyo5Ns/c8u1g/TsoLk5jsshwpKLh+Oesdko\nNSiAYDEtJP2JlFLF5lnEKo+zoL4/zl0a0SEa4p8Agzv9GkqrtU0jJIIaqefL6ruq\nrpNZ7gxM1NglWQz4UUWNrcVx+vUo8jTFOexu50WXfS8s8BRhlmpMjyV9Ag/y2wuf\nVJMNFHVdO296E5PnrKol4O1calwhfQTEKo1Ou8Y3/c0IfB7jZ8k=\n=skBN\n-----END PGP SIGNATURE-----", "payload": "tree 06d538f82e95aac4fb0fc8621fec74e6952f99f1\nparent 524a7afcf25fc0098faf63aeb79beedb6022775b\nparent bcf1a179aed651fe27fef7578bfc25b063a33a8e\nauthor kennytm <kennytm@gmail.com> 1552719422 +0800\ncommitter kennytm <kennytm@gmail.com> 1552747254 +0800\n\nRollup merge of #59204 - o01eg:diag-rustdoc, r=alexcrichton\n\nOutput diagnostic information for rustdoc\n\nUse the information same as rustc.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2e1104fd9305dd7427da6978b02fdb4428543d60", "html_url": "https://github.com/rust-lang/rust/commit/2e1104fd9305dd7427da6978b02fdb4428543d60", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2e1104fd9305dd7427da6978b02fdb4428543d60/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "524a7afcf25fc0098faf63aeb79beedb6022775b", "url": "https://api.github.com/repos/rust-lang/rust/commits/524a7afcf25fc0098faf63aeb79beedb6022775b", "html_url": "https://github.com/rust-lang/rust/commit/524a7afcf25fc0098faf63aeb79beedb6022775b"}, {"sha": "bcf1a179aed651fe27fef7578bfc25b063a33a8e", "url": "https://api.github.com/repos/rust-lang/rust/commits/bcf1a179aed651fe27fef7578bfc25b063a33a8e", "html_url": "https://github.com/rust-lang/rust/commit/bcf1a179aed651fe27fef7578bfc25b063a33a8e"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "085f243785cbeb3270d9f3d6c32f371c720f3e3d", "filename": "src/bootstrap/bin/rustdoc.rs", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/2e1104fd9305dd7427da6978b02fdb4428543d60/src%2Fbootstrap%2Fbin%2Frustdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2e1104fd9305dd7427da6978b02fdb4428543d60/src%2Fbootstrap%2Fbin%2Frustdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbin%2Frustdoc.rs?ref=2e1104fd9305dd7427da6978b02fdb4428543d60", "patch": "@@ -35,7 +35,7 @@ fn main() {\n         .arg(\"--cfg\")\n         .arg(\"dox\")\n         .arg(\"--sysroot\")\n-        .arg(sysroot)\n+        .arg(&sysroot)\n         .env(bootstrap::util::dylib_path_var(),\n              env::join_paths(&dylib_path).unwrap());\n \n@@ -72,7 +72,13 @@ fn main() {\n     }\n \n     if verbose > 1 {\n-        eprintln!(\"rustdoc command: {:?}\", cmd);\n+        eprintln!(\n+            \"rustdoc command: {:?}={:?} {:?}\",\n+            bootstrap::util::dylib_path_var(),\n+            env::join_paths(&dylib_path).unwrap(),\n+            cmd,\n+        );\n+        eprintln!(\"sysroot: {:?}\", sysroot);\n         eprintln!(\"libdir: {:?}\", libdir);\n     }\n "}]}