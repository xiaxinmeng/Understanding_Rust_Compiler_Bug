{"sha": "1536fc040ab83089afdbd9c1d94d277406ae1656", "node_id": "C_kwDOAAsO6NoAKDE1MzZmYzA0MGFiODMwODlhZmRiZDljMWQ5NGQyNzc0MDZhZTE2NTY", "commit": {"author": {"name": "The0x539", "email": "the0x539@gmail.com", "date": "2022-02-05T01:55:55Z"}, "committer": {"name": "The0x539", "email": "the0x539@gmail.com", "date": "2022-02-05T01:55:55Z"}, "message": "Fix trait impl completion ranges", "tree": {"sha": "fd078e46ff51646e91edfe10cf2bf56b2e200cf7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fd078e46ff51646e91edfe10cf2bf56b2e200cf7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1536fc040ab83089afdbd9c1d94d277406ae1656", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1536fc040ab83089afdbd9c1d94d277406ae1656", "html_url": "https://github.com/rust-lang/rust/commit/1536fc040ab83089afdbd9c1d94d277406ae1656", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1536fc040ab83089afdbd9c1d94d277406ae1656/comments", "author": {"login": "The0x539", "id": 7350294, "node_id": "MDQ6VXNlcjczNTAyOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7350294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/The0x539", "html_url": "https://github.com/The0x539", "followers_url": "https://api.github.com/users/The0x539/followers", "following_url": "https://api.github.com/users/The0x539/following{/other_user}", "gists_url": "https://api.github.com/users/The0x539/gists{/gist_id}", "starred_url": "https://api.github.com/users/The0x539/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/The0x539/subscriptions", "organizations_url": "https://api.github.com/users/The0x539/orgs", "repos_url": "https://api.github.com/users/The0x539/repos", "events_url": "https://api.github.com/users/The0x539/events{/privacy}", "received_events_url": "https://api.github.com/users/The0x539/received_events", "type": "User", "site_admin": false}, "committer": {"login": "The0x539", "id": 7350294, "node_id": "MDQ6VXNlcjczNTAyOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7350294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/The0x539", "html_url": "https://github.com/The0x539", "followers_url": "https://api.github.com/users/The0x539/followers", "following_url": "https://api.github.com/users/The0x539/following{/other_user}", "gists_url": "https://api.github.com/users/The0x539/gists{/gist_id}", "starred_url": "https://api.github.com/users/The0x539/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/The0x539/subscriptions", "organizations_url": "https://api.github.com/users/The0x539/orgs", "repos_url": "https://api.github.com/users/The0x539/repos", "events_url": "https://api.github.com/users/The0x539/events{/privacy}", "received_events_url": "https://api.github.com/users/The0x539/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0feafe8185f23f2b03f1e00b4cd09871f8855adb", "url": "https://api.github.com/repos/rust-lang/rust/commits/0feafe8185f23f2b03f1e00b4cd09871f8855adb", "html_url": "https://github.com/rust-lang/rust/commit/0feafe8185f23f2b03f1e00b4cd09871f8855adb"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "4b1de8058de0fb8179bf25b5e8d33fe7a6618845", "filename": "crates/ide_completion/src/completions/trait_impl.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1536fc040ab83089afdbd9c1d94d277406ae1656/crates%2Fide_completion%2Fsrc%2Fcompletions%2Ftrait_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1536fc040ab83089afdbd9c1d94d277406ae1656/crates%2Fide_completion%2Fsrc%2Fcompletions%2Ftrait_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_completion%2Fsrc%2Fcompletions%2Ftrait_impl.rs?ref=1536fc040ab83089afdbd9c1d94d277406ae1656", "patch": "@@ -145,10 +145,10 @@ fn add_function_impl(\n     } else {\n         CompletionItemKind::SymbolKind(SymbolKind::Function)\n     };\n-    let mut item = CompletionItem::new(completion_kind, ctx.source_range(), label);\n-    item.lookup_by(fn_name).set_documentation(func.docs(ctx.db));\n \n     let range = replacement_range(ctx, fn_def_node);\n+    let mut item = CompletionItem::new(completion_kind, range, label);\n+    item.lookup_by(fn_name).set_documentation(func.docs(ctx.db));\n \n     if let Some(source) = ctx.sema.source(func) {\n         let assoc_item = ast::AssocItem::Fn(source.value);\n@@ -209,7 +209,7 @@ fn add_type_alias_impl(\n     let snippet = format!(\"type {} = \", alias_name);\n \n     let range = replacement_range(ctx, type_def_node);\n-    let mut item = CompletionItem::new(SymbolKind::TypeAlias, ctx.source_range(), &snippet);\n+    let mut item = CompletionItem::new(SymbolKind::TypeAlias, range, &snippet);\n     item.text_edit(TextEdit::replace(range, snippet))\n         .lookup_by(alias_name)\n         .set_documentation(type_alias.docs(ctx.db));\n@@ -237,7 +237,7 @@ fn add_const_impl(\n                 let snippet = make_const_compl_syntax(&transformed_const);\n \n                 let range = replacement_range(ctx, const_def_node);\n-                let mut item = CompletionItem::new(SymbolKind::Const, ctx.source_range(), &snippet);\n+                let mut item = CompletionItem::new(SymbolKind::Const, range, &snippet);\n                 item.text_edit(TextEdit::replace(range, snippet))\n                     .lookup_by(const_name)\n                     .set_documentation(const_.docs(ctx.db));"}]}