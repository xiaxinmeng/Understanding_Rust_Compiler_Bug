{"sha": "4d26c5c82cd6fbdfb42fd470df36bdb0e669214d", "node_id": "C_kwDOAAsO6NoAKDRkMjZjNWM4MmNkNmZiZGZiNDJmZDQ3MGRmMzZiZGIwZTY2OTIxNGQ", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-11-02T21:07:21Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-11-02T21:07:21Z"}, "message": "Auto merge of #7904 - Serial-ATA:improve-doc-suggestion, r=xFrednet\n\nAdd suggestion to missing backticks error\n\nchangelog: Add a machine applicable suggestion for the [`doc_markdown`] missing backticks lint\n\ncloses: #7737", "tree": {"sha": "ef61b16bc98c4456e1e37389a0f937b114cf62aa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ef61b16bc98c4456e1e37389a0f937b114cf62aa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d", "html_url": "https://github.com/rust-lang/rust/commit/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c68af43b3dffc90b4653063c5012f039cf209784", "url": "https://api.github.com/repos/rust-lang/rust/commits/c68af43b3dffc90b4653063c5012f039cf209784", "html_url": "https://github.com/rust-lang/rust/commit/c68af43b3dffc90b4653063c5012f039cf209784"}, {"sha": "3732d117da0b69adf4c2eb546e8b07b89409006b", "url": "https://api.github.com/repos/rust-lang/rust/commits/3732d117da0b69adf4c2eb546e8b07b89409006b", "html_url": "https://github.com/rust-lang/rust/commit/3732d117da0b69adf4c2eb546e8b07b89409006b"}], "stats": {"total": 675, "additions": 437, "deletions": 238}, "files": [{"sha": "87ad5178ff0887d8971b220844b528659a251b8f", "filename": "clippy_lints/src/doc.rs", "status": "modified", "additions": 15, "deletions": 10, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/clippy_lints%2Fsrc%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/clippy_lints%2Fsrc%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdoc.rs?ref=4d26c5c82cd6fbdfb42fd470df36bdb0e669214d", "patch": "@@ -1,6 +1,6 @@\n use clippy_utils::attrs::is_doc_hidden;\n-use clippy_utils::diagnostics::{span_lint, span_lint_and_help, span_lint_and_note};\n-use clippy_utils::source::first_line_of_span;\n+use clippy_utils::diagnostics::{span_lint, span_lint_and_help, span_lint_and_note, span_lint_and_sugg};\n+use clippy_utils::source::{first_line_of_span, snippet_with_applicability};\n use clippy_utils::ty::{implements_trait, is_type_diagnostic_item};\n use clippy_utils::{is_entrypoint_fn, is_expn_of, match_panic_def_id, method_chain_args, return_ty};\n use if_chain::if_chain;\n@@ -10,7 +10,7 @@ use rustc_ast::token::CommentKind;\n use rustc_data_structures::fx::FxHashSet;\n use rustc_data_structures::sync::Lrc;\n use rustc_errors::emitter::EmitterWriter;\n-use rustc_errors::Handler;\n+use rustc_errors::{Applicability, Handler};\n use rustc_hir as hir;\n use rustc_hir::intravisit::{self, NestedVisitorMap, Visitor};\n use rustc_hir::{AnonConst, Expr, ExprKind, QPath};\n@@ -48,7 +48,7 @@ declare_clippy_lint! {\n     /// content are not linted.\n     ///\n     /// In addition, when writing documentation comments, including `[]` brackets\n-    /// inside a link text would trip the parser. Therfore, documenting link with\n+    /// inside a link text would trip the parser. Therefore, documenting link with\n     /// `[`SmallVec<[T; INLINE_CAPACITY]>`]` and then [`SmallVec<[T; INLINE_CAPACITY]>`]: SmallVec\n     /// would fail.\n     ///\n@@ -755,17 +755,22 @@ fn check_word(cx: &LateContext<'_>, word: &str, span: Span) {\n         }\n     }\n \n-    // We assume that mixed-case words are not meant to be put inside bacticks. (Issue #2343)\n+    // We assume that mixed-case words are not meant to be put inside backticks. (Issue #2343)\n     if has_underscore(word) && has_hyphen(word) {\n         return;\n     }\n \n     if has_underscore(word) || word.contains(\"::\") || is_camel_case(word) {\n-        span_lint(\n+        let mut applicability = Applicability::MachineApplicable;\n+\n+        span_lint_and_sugg(\n             cx,\n             DOC_MARKDOWN,\n             span,\n-            &format!(\"you should put `{}` between ticks in the documentation\", word),\n+            \"item in documentation is missing backticks\",\n+            \"try\",\n+            format!(\"`{}`\", snippet_with_applicability(cx, span, \"..\", &mut applicability)),\n+            applicability,\n         );\n     }\n }\n@@ -804,9 +809,9 @@ impl<'a, 'tcx> Visitor<'tcx> for FindPanicUnwrap<'a, 'tcx> {\n \n         // check for `unwrap`\n         if let Some(arglists) = method_chain_args(expr, &[\"unwrap\"]) {\n-            let reciever_ty = self.typeck_results.expr_ty(&arglists[0][0]).peel_refs();\n-            if is_type_diagnostic_item(self.cx, reciever_ty, sym::Option)\n-                || is_type_diagnostic_item(self.cx, reciever_ty, sym::Result)\n+            let receiver_ty = self.typeck_results.expr_ty(&arglists[0][0]).peel_refs();\n+            if is_type_diagnostic_item(self.cx, receiver_ty, sym::Option)\n+                || is_type_diagnostic_item(self.cx, receiver_ty, sym::Result)\n             {\n                 self.panic_span = Some(expr.span);\n             }"}, {"sha": "747801b40ee10abec3f2769b8c4965d9e91726d1", "filename": "tests/ui/doc/doc-fixable.fixed", "status": "added", "additions": 215, "deletions": 0, "changes": 215, "blob_url": "https://github.com/rust-lang/rust/blob/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Fdoc-fixable.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Fdoc-fixable.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdoc%2Fdoc-fixable.fixed?ref=4d26c5c82cd6fbdfb42fd470df36bdb0e669214d", "patch": "@@ -0,0 +1,215 @@\n+// run-rustfix\n+//! This file tests for the `DOC_MARKDOWN` lint.\n+\n+#![allow(dead_code, incomplete_features)]\n+#![warn(clippy::doc_markdown)]\n+#![feature(custom_inner_attributes, generic_const_exprs, const_option)]\n+#![rustfmt::skip]\n+\n+/// The `foo_bar` function does _nothing_. See also `foo::bar`. (note the dot there)\n+/// Markdown is _weird_. I mean _really weird_. This \\_ is ok. So is `_`. But not `Foo::some_fun`\n+/// which should be reported only once despite being __doubly bad__.\n+/// Here be `::a::global:path`, and _`::another::global::path`_.  :: is not a path though.\n+/// Import an item from `::awesome::global::blob::` (Intended postfix)\n+/// These are the options for `::Cat`: (Intended trailing single colon, shouldn't be linted)\n+/// That's not code ~`NotInCodeBlock`~.\n+/// `be_sure_we_got_to_the_end_of_it`\n+fn foo_bar() {\n+}\n+\n+/// That one tests multiline ticks.\n+/// ```rust\n+/// foo_bar FOO_BAR\n+/// _foo bar_\n+/// ```\n+///\n+/// ~~~rust\n+/// foo_bar FOO_BAR\n+/// _foo bar_\n+/// ~~~\n+/// `be_sure_we_got_to_the_end_of_it`\n+fn multiline_codeblock() {\n+}\n+\n+/// This _is a test for\n+/// multiline\n+/// emphasis_.\n+/// `be_sure_we_got_to_the_end_of_it`\n+fn test_emphasis() {\n+}\n+\n+/// This tests units. See also #835.\n+/// kiB MiB GiB TiB PiB EiB\n+/// kib Mib Gib Tib Pib Eib\n+/// kB MB GB TB PB EB\n+/// kb Mb Gb Tb Pb Eb\n+/// 32kiB 32MiB 32GiB 32TiB 32PiB 32EiB\n+/// 32kib 32Mib 32Gib 32Tib 32Pib 32Eib\n+/// 32kB 32MB 32GB 32TB 32PB 32EB\n+/// 32kb 32Mb 32Gb 32Tb 32Pb 32Eb\n+/// NaN\n+/// `be_sure_we_got_to_the_end_of_it`\n+fn test_units() {\n+}\n+\n+/// This tests allowed identifiers.\n+/// KiB MiB GiB TiB PiB EiB\n+/// DirectX\n+/// ECMAScript\n+/// GPLv2 GPLv3\n+/// GitHub GitLab\n+/// IPv4 IPv6\n+/// ClojureScript CoffeeScript JavaScript PureScript TypeScript\n+/// NaN NaNs\n+/// OAuth GraphQL\n+/// OCaml\n+/// OpenGL OpenMP OpenSSH OpenSSL OpenStreetMap OpenDNS\n+/// WebGL\n+/// TensorFlow\n+/// TrueType\n+/// iOS macOS FreeBSD\n+/// TeX LaTeX BibTeX BibLaTeX\n+/// MinGW\n+/// CamelCase (see also #2395)\n+/// `be_sure_we_got_to_the_end_of_it`\n+fn test_allowed() {\n+}\n+\n+/// This test has [a `link_with_underscores`][chunked-example] inside it. See #823.\n+/// See also [the issue tracker](https://github.com/rust-lang/rust-clippy/search?q=clippy::doc_markdown&type=Issues)\n+/// on GitHub (which is a camel-cased word, but is OK). And here is another [inline link][inline_link].\n+/// It can also be [`inline_link2`].\n+///\n+/// [chunked-example]: https://en.wikipedia.org/wiki/Chunked_transfer_encoding#Example\n+/// [inline_link]: https://foobar\n+/// [inline_link2]: https://foobar\n+/// The `main` function is the entry point of the program. Here it only calls the `foo_bar` and\n+/// `multiline_ticks` functions.\n+///\n+/// expression of the type  `_ <bit_op> m <cmp_op> c` (where `<bit_op>`\n+/// is one of {`&`, '|'} and `<cmp_op>` is one of {`!=`, `>=`, `>` ,\n+/// `be_sure_we_got_to_the_end_of_it`\n+fn main() {\n+    foo_bar();\n+    multiline_codeblock();\n+    test_emphasis();\n+    test_units();\n+}\n+\n+/// ## `CamelCaseThing`\n+/// Talks about `CamelCaseThing`. Titles should be ignored; see issue #897.\n+///\n+/// # `CamelCaseThing`\n+///\n+/// Not a title #897 `CamelCaseThing`\n+/// `be_sure_we_got_to_the_end_of_it`\n+fn issue897() {\n+}\n+\n+/// I am confused by brackets? (`x_y`)\n+/// I am confused by brackets? (foo `x_y`)\n+/// I am confused by brackets? (`x_y` foo)\n+/// `be_sure_we_got_to_the_end_of_it`\n+fn issue900() {\n+}\n+\n+/// Diesel queries also have a similar problem to [Iterator][iterator], where\n+/// /// More talking\n+/// returning them from a function requires exposing the implementation of that\n+/// function. The [`helper_types`][helper_types] module exists to help with this,\n+/// but you might want to hide the return type or have it conditionally change.\n+/// Boxing can achieve both.\n+///\n+/// [iterator]: https://doc.rust-lang.org/stable/std/iter/trait.Iterator.html\n+/// [helper_types]: ../helper_types/index.html\n+/// `be_sure_we_got_to_the_end_of_it`\n+fn issue883() {\n+}\n+\n+/// `foo_bar\n+/// baz_quz`\n+/// [foo\n+/// bar](https://doc.rust-lang.org/stable/std/iter/trait.IteratorFooBar.html)\n+fn multiline() {\n+}\n+\n+/** E.g., serialization of an empty list: `FooBar`\n+```\n+That's in a code block: `PackedNode`\n+```\n+\n+And `BarQuz` too.\n+`be_sure_we_got_to_the_end_of_it`\n+*/\n+fn issue1073() {\n+}\n+\n+/** E.g., serialization of an empty list: `FooBar`\n+```\n+That's in a code block: PackedNode\n+```\n+\n+And `BarQuz` too.\n+`be_sure_we_got_to_the_end_of_it`\n+*/\n+fn issue1073_alt() {\n+}\n+\n+/// Tests more than three quotes:\n+/// ````\n+/// DoNotWarn\n+/// ```\n+/// StillDont\n+/// ````\n+/// `be_sure_we_got_to_the_end_of_it`\n+fn four_quotes() {\n+}\n+\n+#[cfg_attr(feature = \"a\", doc = \" ```\")]\n+#[cfg_attr(not(feature = \"a\"), doc = \" ```ignore\")]\n+/// fn main() {\n+///     let s = \"localhost:10000\".to_string();\n+///     println!(\"{}\", s);\n+/// }\n+/// ```\n+fn issue_1469() {}\n+\n+/**\n+ * This is a doc comment that should not be a list\n+ *This would also be an error under a strict common mark interpretation\n+ */\n+fn issue_1920() {}\n+\n+/// An iterator over `mycrate::Collection`'s values.\n+/// It should not lint a `'static` lifetime in ticks.\n+fn issue_2210() {}\n+\n+/// This should not cause the lint to trigger:\n+/// #REQ-data-family.lint_partof_exists\n+fn issue_2343() {}\n+\n+/// This should not cause an ICE:\n+/// __|_ _|__||_|\n+fn pulldown_cmark_crash() {}\n+\n+/// This should not lint\n+/// (regression test for #7758)\n+/// [plain text][path::to::item]\n+fn intra_doc_link() {}\n+\n+// issue #7033 - generic_const_exprs ICE\n+struct S<T, const N: usize>\n+where [(); N.checked_next_power_of_two().unwrap()]: {\n+    arr: [T; N.checked_next_power_of_two().unwrap()],\n+    n: usize,\n+}\n+\n+impl<T: Copy + Default, const N: usize> S<T, N>\n+where [(); N.checked_next_power_of_two().unwrap()]: {\n+    fn new() -> Self {\n+        Self {\n+            arr: [T::default(); N.checked_next_power_of_two().unwrap()],\n+            n: 0,\n+        }\n+    }\n+}"}, {"sha": "f3cf966157a63f6e9e1a39b1e2183cdcb2e8b63f", "filename": "tests/ui/doc/doc-fixable.rs", "status": "renamed", "additions": 1, "deletions": 14, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Fdoc-fixable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Fdoc-fixable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdoc%2Fdoc-fixable.rs?ref=4d26c5c82cd6fbdfb42fd470df36bdb0e669214d", "patch": "@@ -1,3 +1,4 @@\n+// run-rustfix\n //! This file tests for the `DOC_MARKDOWN` lint.\n \n #![allow(dead_code, incomplete_features)]\n@@ -164,12 +165,6 @@ fn issue1073_alt() {\n fn four_quotes() {\n }\n \n-/// See [NIST SP 800-56A, revision 2].\n-///\n-/// [NIST SP 800-56A, revision 2]:\n-///     https://github.com/rust-lang/rust-clippy/issues/902#issuecomment-261919419\n-fn issue_902_comment() {}\n-\n #[cfg_attr(feature = \"a\", doc = \" ```\")]\n #[cfg_attr(not(feature = \"a\"), doc = \" ```ignore\")]\n /// fn main() {\n@@ -185,14 +180,6 @@ fn issue_1469() {}\n  */\n fn issue_1920() {}\n \n-/// Ok: <http://www.unicode.org/reports/tr9/#Reordering_Resolved_Levels>\n-///\n-/// Not ok: http://www.unicode.org\n-/// Not ok: https://www.unicode.org\n-/// Not ok: http://www.unicode.org/\n-/// Not ok: http://www.unicode.org/reports/tr9/#Reordering_Resolved_Levels\n-fn issue_1832() {}\n-\n /// An iterator over mycrate::Collection's values.\n /// It should not lint a `'static` lifetime in ticks.\n fn issue_2210() {}", "previous_filename": "tests/ui/doc/doc.rs"}, {"sha": "31132f86edbc452ecad7166f1cb20e47e33fd22f", "filename": "tests/ui/doc/doc-fixable.stderr", "status": "added", "additions": 184, "deletions": 0, "changes": 184, "blob_url": "https://github.com/rust-lang/rust/blob/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Fdoc-fixable.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Fdoc-fixable.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdoc%2Fdoc-fixable.stderr?ref=4d26c5c82cd6fbdfb42fd470df36bdb0e669214d", "patch": "@@ -0,0 +1,184 @@\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:9:9\n+   |\n+LL | /// The foo_bar function does _nothing_. See also foo::bar. (note the dot there)\n+   |         ^^^^^^^ help: try: ``foo_bar``\n+   |\n+   = note: `-D clippy::doc-markdown` implied by `-D warnings`\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:9:51\n+   |\n+LL | /// The foo_bar function does _nothing_. See also foo::bar. (note the dot there)\n+   |                                                   ^^^^^^^^ help: try: ``foo::bar``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:10:83\n+   |\n+LL | /// Markdown is _weird_. I mean _really weird_. This /_ is ok. So is `_`. But not Foo::some_fun\n+   |                                                                                   ^^^^^^^^^^^^^ help: try: ``Foo::some_fun``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:12:13\n+   |\n+LL | /// Here be ::a::global:path, and _::another::global::path_.  :: is not a path though.\n+   |             ^^^^^^^^^^^^^^^^ help: try: ``::a::global:path``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:12:36\n+   |\n+LL | /// Here be ::a::global:path, and _::another::global::path_.  :: is not a path though.\n+   |                                    ^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``::another::global::path``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:13:25\n+   |\n+LL | /// Import an item from ::awesome::global::blob:: (Intended postfix)\n+   |                         ^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``::awesome::global::blob::``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:14:31\n+   |\n+LL | /// These are the options for ::Cat: (Intended trailing single colon, shouldn't be linted)\n+   |                               ^^^^^ help: try: ``::Cat``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:15:22\n+   |\n+LL | /// That's not code ~NotInCodeBlock~.\n+   |                      ^^^^^^^^^^^^^^ help: try: ``NotInCodeBlock``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:16:5\n+   |\n+LL | /// be_sure_we_got_to_the_end_of_it\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:30:5\n+   |\n+LL | /// be_sure_we_got_to_the_end_of_it\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:37:5\n+   |\n+LL | /// be_sure_we_got_to_the_end_of_it\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:51:5\n+   |\n+LL | /// be_sure_we_got_to_the_end_of_it\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:74:5\n+   |\n+LL | /// be_sure_we_got_to_the_end_of_it\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:78:22\n+   |\n+LL | /// This test has [a link_with_underscores][chunked-example] inside it. See #823.\n+   |                      ^^^^^^^^^^^^^^^^^^^^^ help: try: ``link_with_underscores``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:81:21\n+   |\n+LL | /// It can also be [inline_link2].\n+   |                     ^^^^^^^^^^^^ help: try: ``inline_link2``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:91:5\n+   |\n+LL | /// be_sure_we_got_to_the_end_of_it\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:99:8\n+   |\n+LL | /// ## CamelCaseThing\n+   |        ^^^^^^^^^^^^^^ help: try: ``CamelCaseThing``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:102:7\n+   |\n+LL | /// # CamelCaseThing\n+   |       ^^^^^^^^^^^^^^ help: try: ``CamelCaseThing``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:104:22\n+   |\n+LL | /// Not a title #897 CamelCaseThing\n+   |                      ^^^^^^^^^^^^^^ help: try: ``CamelCaseThing``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:105:5\n+   |\n+LL | /// be_sure_we_got_to_the_end_of_it\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:112:5\n+   |\n+LL | /// be_sure_we_got_to_the_end_of_it\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:125:5\n+   |\n+LL | /// be_sure_we_got_to_the_end_of_it\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:136:43\n+   |\n+LL | /** E.g., serialization of an empty list: FooBar\n+   |                                           ^^^^^^ help: try: ``FooBar``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:141:5\n+   |\n+LL | And BarQuz too.\n+   |     ^^^^^^ help: try: ``BarQuz``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:142:1\n+   |\n+LL | be_sure_we_got_to_the_end_of_it\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:147:43\n+   |\n+LL | /** E.g., serialization of an empty list: FooBar\n+   |                                           ^^^^^^ help: try: ``FooBar``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:152:5\n+   |\n+LL | And BarQuz too.\n+   |     ^^^^^^ help: try: ``BarQuz``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:153:1\n+   |\n+LL | be_sure_we_got_to_the_end_of_it\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:164:5\n+   |\n+LL | /// be_sure_we_got_to_the_end_of_it\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: ``be_sure_we_got_to_the_end_of_it``\n+\n+error: item in documentation is missing backticks\n+  --> $DIR/doc-fixable.rs:183:22\n+   |\n+LL | /// An iterator over mycrate::Collection's values.\n+   |                      ^^^^^^^^^^^^^^^^^^^ help: try: ``mycrate::Collection``\n+\n+error: aborting due to 30 previous errors\n+"}, {"sha": "3022e0bfc75aaafea870cf2dd16c3034cbc0deb8", "filename": "tests/ui/doc/doc.stderr", "status": "removed", "additions": 0, "deletions": 208, "changes": 208, "blob_url": "https://github.com/rust-lang/rust/blob/c68af43b3dffc90b4653063c5012f039cf209784/tests%2Fui%2Fdoc%2Fdoc.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c68af43b3dffc90b4653063c5012f039cf209784/tests%2Fui%2Fdoc%2Fdoc.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdoc%2Fdoc.stderr?ref=c68af43b3dffc90b4653063c5012f039cf209784", "patch": "@@ -1,208 +0,0 @@\n-error: you should put `foo_bar` between ticks in the documentation\n-  --> $DIR/doc.rs:8:9\n-   |\n-LL | /// The foo_bar function does _nothing_. See also foo::bar. (note the dot there)\n-   |         ^^^^^^^\n-   |\n-   = note: `-D clippy::doc-markdown` implied by `-D warnings`\n-\n-error: you should put `foo::bar` between ticks in the documentation\n-  --> $DIR/doc.rs:8:51\n-   |\n-LL | /// The foo_bar function does _nothing_. See also foo::bar. (note the dot there)\n-   |                                                   ^^^^^^^^\n-\n-error: you should put `Foo::some_fun` between ticks in the documentation\n-  --> $DIR/doc.rs:9:83\n-   |\n-LL | /// Markdown is _weird_. I mean _really weird_. This /_ is ok. So is `_`. But not Foo::some_fun\n-   |                                                                                   ^^^^^^^^^^^^^\n-\n-error: you should put `::a::global:path` between ticks in the documentation\n-  --> $DIR/doc.rs:11:13\n-   |\n-LL | /// Here be ::a::global:path, and _::another::global::path_.  :: is not a path though.\n-   |             ^^^^^^^^^^^^^^^^\n-\n-error: you should put `::another::global::path` between ticks in the documentation\n-  --> $DIR/doc.rs:11:36\n-   |\n-LL | /// Here be ::a::global:path, and _::another::global::path_.  :: is not a path though.\n-   |                                    ^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `::awesome::global::blob::` between ticks in the documentation\n-  --> $DIR/doc.rs:12:25\n-   |\n-LL | /// Import an item from ::awesome::global::blob:: (Intended postfix)\n-   |                         ^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `::Cat` between ticks in the documentation\n-  --> $DIR/doc.rs:13:31\n-   |\n-LL | /// These are the options for ::Cat: (Intended trailing single colon, shouldn't be linted)\n-   |                               ^^^^^\n-\n-error: you should put `NotInCodeBlock` between ticks in the documentation\n-  --> $DIR/doc.rs:14:22\n-   |\n-LL | /// That's not code ~NotInCodeBlock~.\n-   |                      ^^^^^^^^^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:15:5\n-   |\n-LL | /// be_sure_we_got_to_the_end_of_it\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:29:5\n-   |\n-LL | /// be_sure_we_got_to_the_end_of_it\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:36:5\n-   |\n-LL | /// be_sure_we_got_to_the_end_of_it\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:50:5\n-   |\n-LL | /// be_sure_we_got_to_the_end_of_it\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:73:5\n-   |\n-LL | /// be_sure_we_got_to_the_end_of_it\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `link_with_underscores` between ticks in the documentation\n-  --> $DIR/doc.rs:77:22\n-   |\n-LL | /// This test has [a link_with_underscores][chunked-example] inside it. See #823.\n-   |                      ^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `inline_link2` between ticks in the documentation\n-  --> $DIR/doc.rs:80:21\n-   |\n-LL | /// It can also be [inline_link2].\n-   |                     ^^^^^^^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:90:5\n-   |\n-LL | /// be_sure_we_got_to_the_end_of_it\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `CamelCaseThing` between ticks in the documentation\n-  --> $DIR/doc.rs:98:8\n-   |\n-LL | /// ## CamelCaseThing\n-   |        ^^^^^^^^^^^^^^\n-\n-error: you should put `CamelCaseThing` between ticks in the documentation\n-  --> $DIR/doc.rs:101:7\n-   |\n-LL | /// # CamelCaseThing\n-   |       ^^^^^^^^^^^^^^\n-\n-error: you should put `CamelCaseThing` between ticks in the documentation\n-  --> $DIR/doc.rs:103:22\n-   |\n-LL | /// Not a title #897 CamelCaseThing\n-   |                      ^^^^^^^^^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:104:5\n-   |\n-LL | /// be_sure_we_got_to_the_end_of_it\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:111:5\n-   |\n-LL | /// be_sure_we_got_to_the_end_of_it\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:124:5\n-   |\n-LL | /// be_sure_we_got_to_the_end_of_it\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `FooBar` between ticks in the documentation\n-  --> $DIR/doc.rs:135:43\n-   |\n-LL | /** E.g., serialization of an empty list: FooBar\n-   |                                           ^^^^^^\n-\n-error: you should put `BarQuz` between ticks in the documentation\n-  --> $DIR/doc.rs:140:5\n-   |\n-LL | And BarQuz too.\n-   |     ^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:141:1\n-   |\n-LL | be_sure_we_got_to_the_end_of_it\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `FooBar` between ticks in the documentation\n-  --> $DIR/doc.rs:146:43\n-   |\n-LL | /** E.g., serialization of an empty list: FooBar\n-   |                                           ^^^^^^\n-\n-error: you should put `BarQuz` between ticks in the documentation\n-  --> $DIR/doc.rs:151:5\n-   |\n-LL | And BarQuz too.\n-   |     ^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:152:1\n-   |\n-LL | be_sure_we_got_to_the_end_of_it\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `be_sure_we_got_to_the_end_of_it` between ticks in the documentation\n-  --> $DIR/doc.rs:163:5\n-   |\n-LL | /// be_sure_we_got_to_the_end_of_it\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put bare URLs between `<`/`>` or make a proper Markdown link\n-  --> $DIR/doc.rs:190:13\n-   |\n-LL | /// Not ok: http://www.unicode.org\n-   |             ^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put bare URLs between `<`/`>` or make a proper Markdown link\n-  --> $DIR/doc.rs:191:13\n-   |\n-LL | /// Not ok: https://www.unicode.org\n-   |             ^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put bare URLs between `<`/`>` or make a proper Markdown link\n-  --> $DIR/doc.rs:192:13\n-   |\n-LL | /// Not ok: http://www.unicode.org/\n-   |             ^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put bare URLs between `<`/`>` or make a proper Markdown link\n-  --> $DIR/doc.rs:193:13\n-   |\n-LL | /// Not ok: http://www.unicode.org/reports/tr9/#Reordering_Resolved_Levels\n-   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: you should put `mycrate::Collection` between ticks in the documentation\n-  --> $DIR/doc.rs:196:22\n-   |\n-LL | /// An iterator over mycrate::Collection's values.\n-   |                      ^^^^^^^^^^^^^^^^^^^\n-\n-error: aborting due to 34 previous errors\n-"}, {"sha": "10586f16d466a35b07674534fc75d2c6c48e3b83", "filename": "tests/ui/doc/issue_1832.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Fissue_1832.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Fissue_1832.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdoc%2Fissue_1832.rs?ref=4d26c5c82cd6fbdfb42fd470df36bdb0e669214d", "patch": "@@ -0,0 +1,9 @@\n+/// Ok: <http://www.unicode.org/reports/tr9/#Reordering_Resolved_Levels>\n+///\n+/// Not ok: http://www.unicode.org\n+/// Not ok: https://www.unicode.org\n+/// Not ok: http://www.unicode.org/\n+/// Not ok: http://www.unicode.org/reports/tr9/#Reordering_Resolved_Levels\n+fn issue_1832() {}\n+\n+fn main() {}"}, {"sha": "4b0c835dd3f07665a5d99963dda34000c63f811b", "filename": "tests/ui/doc/issue_902.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Fissue_902.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Fissue_902.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdoc%2Fissue_902.rs?ref=4d26c5c82cd6fbdfb42fd470df36bdb0e669214d", "patch": "@@ -0,0 +1,7 @@\n+/// See [NIST SP 800-56A, revision 2].\n+///\n+/// [NIST SP 800-56A, revision 2]:\n+///     https://github.com/rust-lang/rust-clippy/issues/902#issuecomment-261919419\n+fn issue_902_comment() {}\n+\n+fn main() {}"}, {"sha": "9670e5c24fb3ecbcf5a9febdca1e2a93ddf61c07", "filename": "tests/ui/doc/unbalanced_ticks.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Funbalanced_ticks.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4d26c5c82cd6fbdfb42fd470df36bdb0e669214d/tests%2Fui%2Fdoc%2Funbalanced_ticks.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdoc%2Funbalanced_ticks.stderr?ref=4d26c5c82cd6fbdfb42fd470df36bdb0e669214d", "patch": "@@ -18,11 +18,11 @@ LL | /// This paragraph has `unbalanced_tick marks and should stop_linting.\n    |\n    = help: a backtick may be missing a pair\n \n-error: you should put `should_be` between ticks in the documentation\n+error: item in documentation is missing backticks\n   --> $DIR/unbalanced_ticks.rs:15:32\n    |\n LL | /// This paragraph is fine and should_be linted normally.\n-   |                                ^^^^^^^^^\n+   |                                ^^^^^^^^^ help: try: ``should_be``\n \n error: backticks are unbalanced\n   --> $DIR/unbalanced_ticks.rs:17:1\n@@ -32,11 +32,11 @@ LL | /// Double unbalanced backtick from ``here to here` should lint.\n    |\n    = help: a backtick may be missing a pair\n \n-error: you should put `not_fine` between ticks in the documentation\n+error: item in documentation is missing backticks\n   --> $DIR/unbalanced_ticks.rs:30:8\n    |\n LL | /// ## not_fine\n-   |        ^^^^^^^^\n+   |        ^^^^^^^^ help: try: ``not_fine``\n \n error: backticks are unbalanced\n   --> $DIR/unbalanced_ticks.rs:32:1\n@@ -54,11 +54,11 @@ LL | /// - This `item has unbalanced tick marks\n    |\n    = help: a backtick may be missing a pair\n \n-error: you should put `backticks_here` between ticks in the documentation\n+error: item in documentation is missing backticks\n   --> $DIR/unbalanced_ticks.rs:35:23\n    |\n LL | /// - This item needs backticks_here\n-   |                       ^^^^^^^^^^^^^^\n+   |                       ^^^^^^^^^^^^^^ help: try: ``backticks_here``\n \n error: aborting due to 8 previous errors\n "}]}