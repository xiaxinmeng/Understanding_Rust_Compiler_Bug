{"sha": "a96492112c413f0846245eb2c579bed1da251549", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE5NjQ5MjExMmM0MTNmMDg0NjI0NWViMmM1NzliZWQxZGEyNTE1NDk=", "commit": {"author": {"name": "hgallagher1993", "email": "hgallagher1993@gmail.com", "date": "2019-04-04T17:23:11Z"}, "committer": {"name": "hgallagher1993", "email": "hgallagher1993@gmail.com", "date": "2019-04-04T17:23:11Z"}, "message": "Use declare_lint_pass! and impl_lint_pass! in more places", "tree": {"sha": "d8eef11cd6c41c8034599fd84bb6c69e02b1c367", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d8eef11cd6c41c8034599fd84bb6c69e02b1c367"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a96492112c413f0846245eb2c579bed1da251549", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a96492112c413f0846245eb2c579bed1da251549", "html_url": "https://github.com/rust-lang/rust/commit/a96492112c413f0846245eb2c579bed1da251549", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a96492112c413f0846245eb2c579bed1da251549/comments", "author": {"login": "hgallagher1993", "id": 10942523, "node_id": "MDQ6VXNlcjEwOTQyNTIz", "avatar_url": "https://avatars.githubusercontent.com/u/10942523?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hgallagher1993", "html_url": "https://github.com/hgallagher1993", "followers_url": "https://api.github.com/users/hgallagher1993/followers", "following_url": "https://api.github.com/users/hgallagher1993/following{/other_user}", "gists_url": "https://api.github.com/users/hgallagher1993/gists{/gist_id}", "starred_url": "https://api.github.com/users/hgallagher1993/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hgallagher1993/subscriptions", "organizations_url": "https://api.github.com/users/hgallagher1993/orgs", "repos_url": "https://api.github.com/users/hgallagher1993/repos", "events_url": "https://api.github.com/users/hgallagher1993/events{/privacy}", "received_events_url": "https://api.github.com/users/hgallagher1993/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hgallagher1993", "id": 10942523, "node_id": "MDQ6VXNlcjEwOTQyNTIz", "avatar_url": "https://avatars.githubusercontent.com/u/10942523?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hgallagher1993", "html_url": "https://github.com/hgallagher1993", "followers_url": "https://api.github.com/users/hgallagher1993/followers", "following_url": "https://api.github.com/users/hgallagher1993/following{/other_user}", "gists_url": "https://api.github.com/users/hgallagher1993/gists{/gist_id}", "starred_url": "https://api.github.com/users/hgallagher1993/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hgallagher1993/subscriptions", "organizations_url": "https://api.github.com/users/hgallagher1993/orgs", "repos_url": "https://api.github.com/users/hgallagher1993/repos", "events_url": "https://api.github.com/users/hgallagher1993/events{/privacy}", "received_events_url": "https://api.github.com/users/hgallagher1993/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2d065712cf96328093400fd0a1a0c4e0f3b1d51c", "url": "https://api.github.com/repos/rust-lang/rust/commits/2d065712cf96328093400fd0a1a0c4e0f3b1d51c", "html_url": "https://github.com/rust-lang/rust/commit/2d065712cf96328093400fd0a1a0c4e0f3b1d51c"}], "stats": {"total": 22, "additions": 2, "deletions": 20}, "files": [{"sha": "030a9c1f935318fb0de1ca995f6e965ce85be740", "filename": "src/librustc/lint/internal.rs", "status": "modified", "additions": 2, "deletions": 20, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/a96492112c413f0846245eb2c579bed1da251549/src%2Flibrustc%2Flint%2Finternal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a96492112c413f0846245eb2c579bed1da251549/src%2Flibrustc%2Flint%2Finternal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Finternal.rs?ref=a96492112c413f0846245eb2c579bed1da251549", "patch": "@@ -28,15 +28,7 @@ impl DefaultHashTypes {\n     }\n }\n \n-impl LintPass for DefaultHashTypes {\n-    fn get_lints(&self) -> LintArray {\n-        lint_array!(DEFAULT_HASH_TYPES)\n-    }\n-\n-    fn name(&self) -> &'static str {\n-        \"DefaultHashTypes\"\n-    }\n-}\n+impl_lint_pass!(DefaultHashTypes => [DEFAULT_HASH_TYPES]);\n \n impl EarlyLintPass for DefaultHashTypes {\n     fn check_ident(&mut self, cx: &EarlyContext<'_>, ident: Ident) {\n@@ -68,17 +60,7 @@ declare_lint! {\n     \"Usage of `ty::TyKind` outside of the `ty::sty` module\"\n }\n \n-pub struct TyKindUsage;\n-\n-impl LintPass for TyKindUsage {\n-    fn get_lints(&self) -> LintArray {\n-        lint_array!(USAGE_OF_TY_TYKIND)\n-    }\n-\n-    fn name(&self) -> &'static str {\n-        \"TyKindUsage\"\n-    }\n-}\n+declare_lint_pass!(TyKindUsage => [USAGE_OF_TY_TYKIND]);\n \n impl<'a, 'tcx> LateLintPass<'a, 'tcx> for TyKindUsage {\n     fn check_path(&mut self, cx: &LateContext<'_, '_>, path: &'tcx Path, _: HirId) {"}]}