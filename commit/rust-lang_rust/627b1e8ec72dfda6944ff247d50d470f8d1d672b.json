{"sha": "627b1e8ec72dfda6944ff247d50d470f8d1d672b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYyN2IxZThlYzcyZGZkYTY5NDRmZjI0N2Q1MGQ0NzBmOGQxZDY3MmI=", "commit": {"author": {"name": "Tim Neumann", "email": "mail@timnn.me", "date": "2016-08-04T16:54:04Z"}, "committer": {"name": "Tim Neumann", "email": "mail@timnn.me", "date": "2016-08-04T21:15:52Z"}, "message": "add test for nested deprecated", "tree": {"sha": "6175f0b3b56de4fa62aee8e287cbbc2f63c8357c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6175f0b3b56de4fa62aee8e287cbbc2f63c8357c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/627b1e8ec72dfda6944ff247d50d470f8d1d672b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/627b1e8ec72dfda6944ff247d50d470f8d1d672b", "html_url": "https://github.com/rust-lang/rust/commit/627b1e8ec72dfda6944ff247d50d470f8d1d672b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/627b1e8ec72dfda6944ff247d50d470f8d1d672b/comments", "author": {"login": "TimNN", "id": 1178249, "node_id": "MDQ6VXNlcjExNzgyNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimNN", "html_url": "https://github.com/TimNN", "followers_url": "https://api.github.com/users/TimNN/followers", "following_url": "https://api.github.com/users/TimNN/following{/other_user}", "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions", "organizations_url": "https://api.github.com/users/TimNN/orgs", "repos_url": "https://api.github.com/users/TimNN/repos", "events_url": "https://api.github.com/users/TimNN/events{/privacy}", "received_events_url": "https://api.github.com/users/TimNN/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TimNN", "id": 1178249, "node_id": "MDQ6VXNlcjExNzgyNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/1178249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimNN", "html_url": "https://github.com/TimNN", "followers_url": "https://api.github.com/users/TimNN/followers", "following_url": "https://api.github.com/users/TimNN/following{/other_user}", "gists_url": "https://api.github.com/users/TimNN/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimNN/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimNN/subscriptions", "organizations_url": "https://api.github.com/users/TimNN/orgs", "repos_url": "https://api.github.com/users/TimNN/repos", "events_url": "https://api.github.com/users/TimNN/events{/privacy}", "received_events_url": "https://api.github.com/users/TimNN/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "98fe30b58bca5ce861eae69e85a28d98f0608505", "url": "https://api.github.com/repos/rust-lang/rust/commits/98fe30b58bca5ce861eae69e85a28d98f0608505", "html_url": "https://github.com/rust-lang/rust/commit/98fe30b58bca5ce861eae69e85a28d98f0608505"}], "stats": {"total": 81, "additions": 81, "deletions": 0}, "files": [{"sha": "eedbba59c6f4837196a7e148f4f727a5b5139722", "filename": "src/test/compile-fail/deprecation-lint-nested.rs", "status": "added", "additions": 81, "deletions": 0, "changes": 81, "blob_url": "https://github.com/rust-lang/rust/blob/627b1e8ec72dfda6944ff247d50d470f8d1d672b/src%2Ftest%2Fcompile-fail%2Fdeprecation-lint-nested.rs", "raw_url": "https://github.com/rust-lang/rust/raw/627b1e8ec72dfda6944ff247d50d470f8d1d672b/src%2Ftest%2Fcompile-fail%2Fdeprecation-lint-nested.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fdeprecation-lint-nested.rs?ref=627b1e8ec72dfda6944ff247d50d470f8d1d672b", "patch": "@@ -0,0 +1,81 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![deny(deprecated)]\n+#![allow(warnings)]\n+\n+#[deprecated]\n+fn issue_35128() {\n+    format_args!(\"foo\");\n+}\n+\n+#[deprecated]\n+fn issue_35128_minimal() {\n+    static FOO: &'static str = \"foo\";\n+    let _ = FOO;\n+}\n+\n+#[deprecated]\n+mod silent {\n+    type DeprecatedType = u8;\n+    struct DeprecatedStruct;\n+    fn deprecated_fn() {}\n+    trait DeprecatedTrait {}\n+    static DEPRECATED_STATIC: u8 = 0;\n+    const DEPRECATED_CONST: u8 = 1;\n+\n+    struct Foo(DeprecatedType);\n+\n+    impl DeprecatedTrait for Foo {}\n+\n+    impl Foo {\n+        fn bar<T: DeprecatedTrait>() {\n+            deprecated_fn();\n+        }\n+    }\n+\n+    fn foo() -> u8 {\n+        DEPRECATED_STATIC +\n+        DEPRECATED_CONST\n+    }\n+}\n+\n+#[deprecated]\n+mod loud {\n+    #[deprecated]\n+    type DeprecatedType = u8;\n+    #[deprecated]\n+    struct DeprecatedStruct;\n+    #[deprecated]\n+    fn deprecated_fn() {}\n+    #[deprecated]\n+    trait DeprecatedTrait {}\n+    #[deprecated]\n+    static DEPRECATED_STATIC: u8 = 0;\n+    #[deprecated]\n+    const DEPRECATED_CONST: u8 = 1;\n+\n+    struct Foo(DeprecatedType); //~ ERROR use of deprecated item\n+\n+    impl DeprecatedTrait for Foo {} //~ ERROR use of deprecated item\n+\n+    impl Foo {\n+        fn bar<T: DeprecatedTrait>() { //~ ERROR use of deprecated item\n+            deprecated_fn(); //~ ERROR use of deprecated item\n+        }\n+    }\n+\n+    fn foo() -> u8 {\n+        DEPRECATED_STATIC + //~ ERROR use of deprecated item\n+        DEPRECATED_CONST //~ ERROR use of deprecated item\n+    }\n+}\n+\n+fn main() {}"}]}