{"sha": "a596ff36b55a37e7a74abd0504ff895a3d2fba6f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE1OTZmZjM2YjU1YTM3ZTdhNzRhYmQwNTA0ZmY4OTVhM2QyZmJhNmY=", "commit": {"author": {"name": "The8472", "email": "git@infinite-source.de", "date": "2019-11-21T00:01:35Z"}, "committer": {"name": "The8472", "email": "git@infinite-source.de", "date": "2020-09-03T18:59:14Z"}, "message": "exercise more of the in-place pipeline in the bench", "tree": {"sha": "0a09a91af84704c0cab3223ef9b1a02653abd676", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0a09a91af84704c0cab3223ef9b1a02653abd676"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a596ff36b55a37e7a74abd0504ff895a3d2fba6f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a596ff36b55a37e7a74abd0504ff895a3d2fba6f", "html_url": "https://github.com/rust-lang/rust/commit/a596ff36b55a37e7a74abd0504ff895a3d2fba6f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a596ff36b55a37e7a74abd0504ff895a3d2fba6f/comments", "author": {"login": "the8472", "id": 1065730, "node_id": "MDQ6VXNlcjEwNjU3MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1065730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/the8472", "html_url": "https://github.com/the8472", "followers_url": "https://api.github.com/users/the8472/followers", "following_url": "https://api.github.com/users/the8472/following{/other_user}", "gists_url": "https://api.github.com/users/the8472/gists{/gist_id}", "starred_url": "https://api.github.com/users/the8472/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/the8472/subscriptions", "organizations_url": "https://api.github.com/users/the8472/orgs", "repos_url": "https://api.github.com/users/the8472/repos", "events_url": "https://api.github.com/users/the8472/events{/privacy}", "received_events_url": "https://api.github.com/users/the8472/received_events", "type": "User", "site_admin": false}, "committer": {"login": "the8472", "id": 1065730, "node_id": "MDQ6VXNlcjEwNjU3MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1065730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/the8472", "html_url": "https://github.com/the8472", "followers_url": "https://api.github.com/users/the8472/followers", "following_url": "https://api.github.com/users/the8472/following{/other_user}", "gists_url": "https://api.github.com/users/the8472/gists{/gist_id}", "starred_url": "https://api.github.com/users/the8472/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/the8472/subscriptions", "organizations_url": "https://api.github.com/users/the8472/orgs", "repos_url": "https://api.github.com/users/the8472/repos", "events_url": "https://api.github.com/users/the8472/events{/privacy}", "received_events_url": "https://api.github.com/users/the8472/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a9c78e371e3b46f0d1cf0b38368d503b6aa1ce6e", "url": "https://api.github.com/repos/rust-lang/rust/commits/a9c78e371e3b46f0d1cf0b38368d503b6aa1ce6e", "html_url": "https://github.com/rust-lang/rust/commit/a9c78e371e3b46f0d1cf0b38368d503b6aa1ce6e"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "ea8cd6b5155b6e075bbc20d752005e6212e9e609", "filename": "library/alloc/benches/vec.rs", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/a596ff36b55a37e7a74abd0504ff895a3d2fba6f/library%2Falloc%2Fbenches%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a596ff36b55a37e7a74abd0504ff895a3d2fba6f/library%2Falloc%2Fbenches%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fbenches%2Fvec.rs?ref=a596ff36b55a37e7a74abd0504ff895a3d2fba6f", "patch": "@@ -513,7 +513,14 @@ impl Drop for Droppable {\n #[bench]\n fn bench_in_place_collect_droppable(b: &mut test::Bencher) {\n     let v: Vec<Droppable> = std::iter::repeat_with(|| Droppable(0)).take(1000).collect();\n-    b.iter(|| v.clone().into_iter().skip(100).collect::<Vec<_>>())\n+    b.iter(|| {\n+        v.clone()\n+            .into_iter()\n+            .skip(100)\n+            .enumerate()\n+            .map(|(i, e)| Droppable(i ^ e.0))\n+            .collect::<Vec<_>>()\n+    })\n }\n \n #[bench]"}]}