{"sha": "f2838595d56124548f403a81715627872a4f93ba", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYyODM4NTk1ZDU2MTI0NTQ4ZjQwM2E4MTcxNTYyNzg3MmE0ZjkzYmE=", "commit": {"author": {"name": "Seiichi Uchida", "email": "topecongiro@localhost.localdomain", "date": "2017-06-10T13:20:11Z"}, "committer": {"name": "Seiichi Uchida", "email": "topecongiro@localhost.localdomain", "date": "2017-06-10T13:20:11Z"}, "message": "Add visual offset when using struct_lit_style is Visual", "tree": {"sha": "bbd05d3e3ef1cea8cd5fa936bbb80e58a5dbc267", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bbd05d3e3ef1cea8cd5fa936bbb80e58a5dbc267"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f2838595d56124548f403a81715627872a4f93ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f2838595d56124548f403a81715627872a4f93ba", "html_url": "https://github.com/rust-lang/rust/commit/f2838595d56124548f403a81715627872a4f93ba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f2838595d56124548f403a81715627872a4f93ba/comments", "author": null, "committer": null, "parents": [{"sha": "c879d5ebd719875cf99bda55e577df07b28f6ea6", "url": "https://api.github.com/repos/rust-lang/rust/commits/c879d5ebd719875cf99bda55e577df07b28f6ea6", "html_url": "https://github.com/rust-lang/rust/commit/c879d5ebd719875cf99bda55e577df07b28f6ea6"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "ec4427032e5937d837e94d21bcadd13a5775abc4", "filename": "src/lists.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f2838595d56124548f403a81715627872a4f93ba/src%2Flists.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2838595d56124548f403a81715627872a4f93ba/src%2Flists.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flists.rs?ref=f2838595d56124548f403a81715627872a4f93ba", "patch": "@@ -529,7 +529,8 @@ pub fn struct_lit_shape(shape: Shape,\n                         -> Option<(Option<Shape>, Shape)> {\n     let v_shape = match context.config.struct_lit_style() {\n         IndentStyle::Visual => {\n-            try_opt!(try_opt!(shape.shrink_left(prefix_width)).sub_width(suffix_width))\n+            try_opt!(try_opt!(shape.visual_indent(0).shrink_left(prefix_width))\n+                         .sub_width(suffix_width))\n         }\n         IndentStyle::Block => {\n             let shape = shape.block_indent(context.config.tab_spaces());"}, {"sha": "eb470e1e29c09da602aa01c8dcca0aec23dd1adb", "filename": "tests/target/configs-struct_lit_style-visual.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2838595d56124548f403a81715627872a4f93ba/tests%2Ftarget%2Fconfigs-struct_lit_style-visual.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2838595d56124548f403a81715627872a4f93ba/tests%2Ftarget%2Fconfigs-struct_lit_style-visual.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fconfigs-struct_lit_style-visual.rs?ref=f2838595d56124548f403a81715627872a4f93ba", "patch": "@@ -3,5 +3,5 @@\n \n fn main() {\n     let lorem = Lorem { ipsum: dolor,\n-            sit: amet, };\n+                        sit: amet, };\n }"}]}