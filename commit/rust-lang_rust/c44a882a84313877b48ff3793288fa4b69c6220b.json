{"sha": "c44a882a84313877b48ff3793288fa4b69c6220b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM0NGE4ODJhODQzMTM4NzdiNDhmZjM3OTMyODhmYTRiNjljNjIyMGI=", "commit": {"author": {"name": "Michael Wright", "email": "mikerite@lavabit.com", "date": "2019-05-12T07:32:39Z"}, "committer": {"name": "Michael Wright", "email": "mikerite@lavabit.com", "date": "2019-05-12T07:32:39Z"}, "message": "Move ctor tests from methods.rs to or_fun_calls.rs", "tree": {"sha": "bc7d57c90d33f41b9edeeea2de6d647ecc3b70d8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bc7d57c90d33f41b9edeeea2de6d647ecc3b70d8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c44a882a84313877b48ff3793288fa4b69c6220b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c44a882a84313877b48ff3793288fa4b69c6220b", "html_url": "https://github.com/rust-lang/rust/commit/c44a882a84313877b48ff3793288fa4b69c6220b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c44a882a84313877b48ff3793288fa4b69c6220b/comments", "author": null, "committer": null, "parents": [{"sha": "3710ec59962295336ab4aed100267b584dd7df7d", "url": "https://api.github.com/repos/rust-lang/rust/commits/3710ec59962295336ab4aed100267b584dd7df7d", "html_url": "https://github.com/rust-lang/rust/commit/3710ec59962295336ab4aed100267b584dd7df7d"}], "stats": {"total": 36, "additions": 18, "deletions": 18}, "files": [{"sha": "3a8aedcd65980492ef0b6d3f5be051cf26a7d76f", "filename": "tests/ui/methods.rs", "status": "modified", "additions": 0, "deletions": 18, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/c44a882a84313877b48ff3793288fa4b69c6220b/tests%2Fui%2Fmethods.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c44a882a84313877b48ff3793288fa4b69c6220b/tests%2Fui%2Fmethods.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmethods.rs?ref=c44a882a84313877b48ff3793288fa4b69c6220b", "patch": "@@ -268,21 +268,3 @@ fn main() {\n     let opt = Some(0);\n     let _ = opt.unwrap();\n }\n-\n-struct Foo(u8);\n-#[rustfmt::skip]\n-fn test_or_with_ctors() {\n-    let opt = Some(1);\n-    let opt_opt = Some(Some(1));\n-    // we also test for const promotion, this makes sure we don't hit that\n-    let two = 2;\n-\n-    let _ = opt_opt.unwrap_or(Some(2));\n-    let _ = opt_opt.unwrap_or(Some(two));\n-    let _ = opt.ok_or(Some(2));\n-    let _ = opt.ok_or(Some(two));\n-    let _ = opt.ok_or(Foo(2));\n-    let _ = opt.ok_or(Foo(two));\n-    let _ = opt.or(Some(2));\n-    let _ = opt.or(Some(two));\n-}"}, {"sha": "be2165c222f3e7780cb2b3ef628d09eb1a3f791d", "filename": "tests/ui/or_fun_call.rs", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/c44a882a84313877b48ff3793288fa4b69c6220b/tests%2Fui%2For_fun_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c44a882a84313877b48ff3793288fa4b69c6220b/tests%2Fui%2For_fun_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2For_fun_call.rs?ref=c44a882a84313877b48ff3793288fa4b69c6220b", "patch": "@@ -70,4 +70,22 @@ fn or_fun_call() {\n     let _ = opt.ok_or(format!(\"{} world.\", hello));\n }\n \n+struct Foo(u8);\n+#[rustfmt::skip]\n+fn test_or_with_ctors() {\n+    let opt = Some(1);\n+    let opt_opt = Some(Some(1));\n+    // we also test for const promotion, this makes sure we don't hit that\n+    let two = 2;\n+\n+    let _ = opt_opt.unwrap_or(Some(2));\n+    let _ = opt_opt.unwrap_or(Some(two));\n+    let _ = opt.ok_or(Some(2));\n+    let _ = opt.ok_or(Some(two));\n+    let _ = opt.ok_or(Foo(2));\n+    let _ = opt.ok_or(Foo(two));\n+    let _ = opt.or(Some(2));\n+    let _ = opt.or(Some(two));\n+}\n+\n fn main() {}"}]}