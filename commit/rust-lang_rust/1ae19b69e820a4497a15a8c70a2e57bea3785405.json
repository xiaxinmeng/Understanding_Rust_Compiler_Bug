{"sha": "1ae19b69e820a4497a15a8c70a2e57bea3785405", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFhZTE5YjY5ZTgyMGE0NDk3YTE1YThjNzBhMmU1N2JlYTM3ODU0MDU=", "commit": {"author": {"name": "asquared31415", "email": "34665709+asquared31415@users.noreply.github.com", "date": "2021-07-22T23:26:16Z"}, "committer": {"name": "asquared31415", "email": "34665709+asquared31415@users.noreply.github.com", "date": "2021-08-04T17:38:17Z"}, "message": "Fix lint capitalization and ignoring, test with include_str", "tree": {"sha": "4ed49b170cf3a944df0d3134ad3d7e34e6d0175a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4ed49b170cf3a944df0d3134ad3d7e34e6d0175a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1ae19b69e820a4497a15a8c70a2e57bea3785405", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1ae19b69e820a4497a15a8c70a2e57bea3785405", "html_url": "https://github.com/rust-lang/rust/commit/1ae19b69e820a4497a15a8c70a2e57bea3785405", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1ae19b69e820a4497a15a8c70a2e57bea3785405/comments", "author": {"login": "asquared31415", "id": 34665709, "node_id": "MDQ6VXNlcjM0NjY1NzA5", "avatar_url": "https://avatars.githubusercontent.com/u/34665709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asquared31415", "html_url": "https://github.com/asquared31415", "followers_url": "https://api.github.com/users/asquared31415/followers", "following_url": "https://api.github.com/users/asquared31415/following{/other_user}", "gists_url": "https://api.github.com/users/asquared31415/gists{/gist_id}", "starred_url": "https://api.github.com/users/asquared31415/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asquared31415/subscriptions", "organizations_url": "https://api.github.com/users/asquared31415/orgs", "repos_url": "https://api.github.com/users/asquared31415/repos", "events_url": "https://api.github.com/users/asquared31415/events{/privacy}", "received_events_url": "https://api.github.com/users/asquared31415/received_events", "type": "User", "site_admin": false}, "committer": {"login": "asquared31415", "id": 34665709, "node_id": "MDQ6VXNlcjM0NjY1NzA5", "avatar_url": "https://avatars.githubusercontent.com/u/34665709?v=4", "gravatar_id": "", "url": "https://api.github.com/users/asquared31415", "html_url": "https://github.com/asquared31415", "followers_url": "https://api.github.com/users/asquared31415/followers", "following_url": "https://api.github.com/users/asquared31415/following{/other_user}", "gists_url": "https://api.github.com/users/asquared31415/gists{/gist_id}", "starred_url": "https://api.github.com/users/asquared31415/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/asquared31415/subscriptions", "organizations_url": "https://api.github.com/users/asquared31415/orgs", "repos_url": "https://api.github.com/users/asquared31415/repos", "events_url": "https://api.github.com/users/asquared31415/events{/privacy}", "received_events_url": "https://api.github.com/users/asquared31415/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8e7bbc9e9da091f4e7d9f846f0f264420b8a6f0e", "url": "https://api.github.com/repos/rust-lang/rust/commits/8e7bbc9e9da091f4e7d9f846f0f264420b8a6f0e", "html_url": "https://github.com/rust-lang/rust/commit/8e7bbc9e9da091f4e7d9f846f0f264420b8a6f0e"}], "stats": {"total": 252, "additions": 148, "deletions": 104}, "files": [{"sha": "a1119916dc1fe310f31e6b338bbd4a764702dc76", "filename": "compiler/rustc_builtin_macros/src/asm.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/1ae19b69e820a4497a15a8c70a2e57bea3785405/compiler%2Frustc_builtin_macros%2Fsrc%2Fasm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1ae19b69e820a4497a15a8c70a2e57bea3785405/compiler%2Frustc_builtin_macros%2Fsrc%2Fasm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_builtin_macros%2Fsrc%2Fasm.rs?ref=1ae19b69e820a4497a15a8c70a2e57bea3785405", "patch": "@@ -530,17 +530,17 @@ fn expand_preparsed_asm(\n                             span,\n                             ecx.current_expansion.lint_node_id,\n                             \"do not use named labels in inline assembly\",\n-                            BuiltinLintDiagnostics::NamedAsmLabel(\"Only GAS local labels of the form `N:` where N is a number may be used in inline asm\".to_string()),\n+                            BuiltinLintDiagnostics::NamedAsmLabel(\"only GAS local labels of the form `N:` where N is a number may be used in inline asm\".to_string()),\n                         );\n                     }\n                 } else {\n                     // If there were labels but we couldn't find a span, combine the warnings and use the template span\n                     ecx.parse_sess().buffer_lint_with_diagnostic(\n                         lint::builtin::NAMED_ASM_LABELS,\n-                        template_span,\n+                        template_sp,\n                         ecx.current_expansion.lint_node_id,\n                         \"do not use named labels in inline assembly\",\n-                        BuiltinLintDiagnostics::NamedAsmLabel(\"Only GAS local labels of the form `N:` where N is a number may be used in inline asm\".to_string()),\n+                        BuiltinLintDiagnostics::NamedAsmLabel(\"only GAS local labels of the form `N:` where N is a number may be used in inline asm\".to_string()),\n                     );\n                 }\n             }"}, {"sha": "47c6e904cd7e5490aec4b3a30b98eb61c9a9ef49", "filename": "compiler/rustc_lint/src/context.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1ae19b69e820a4497a15a8c70a2e57bea3785405/compiler%2Frustc_lint%2Fsrc%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1ae19b69e820a4497a15a8c70a2e57bea3785405/compiler%2Frustc_lint%2Fsrc%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Fcontext.rs?ref=1ae19b69e820a4497a15a8c70a2e57bea3785405", "patch": "@@ -760,7 +760,7 @@ pub trait LintContext: Sized {\n                 }\n                 BuiltinLintDiagnostics::NamedAsmLabel(help) => {\n                     db.help(&help);\n-                    db.note(\"See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\");\n+                    db.note(\"see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\");\n                 }\n             }\n             // Rewrap `db`, and pass control to the user."}, {"sha": "df17ec576e86b202d18fb48c3fad7d84e40e345c", "filename": "compiler/rustc_lint_defs/src/builtin.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1ae19b69e820a4497a15a8c70a2e57bea3785405/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1ae19b69e820a4497a15a8c70a2e57bea3785405/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs?ref=1ae19b69e820a4497a15a8c70a2e57bea3785405", "patch": "@@ -2990,6 +2990,7 @@ declare_lint_pass! {\n         INLINE_NO_SANITIZE,\n         BAD_ASM_STYLE,\n         ASM_SUB_REGISTER,\n+        NAMED_ASM_LABELS,\n         UNSAFE_OP_IN_UNSAFE_FN,\n         INCOMPLETE_INCLUDE,\n         CENUM_IMPL_DROP_CAST,"}, {"sha": "6dcacd08cacdd94badb77f24053ef36edfa71fdc", "filename": "src/test/codegen/asm-sanitize-llvm.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1ae19b69e820a4497a15a8c70a2e57bea3785405/src%2Ftest%2Fcodegen%2Fasm-sanitize-llvm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1ae19b69e820a4497a15a8c70a2e57bea3785405/src%2Ftest%2Fcodegen%2Fasm-sanitize-llvm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fasm-sanitize-llvm.rs?ref=1ae19b69e820a4497a15a8c70a2e57bea3785405", "patch": "@@ -7,6 +7,7 @@\n #![no_core]\n #![feature(no_core, lang_items, rustc_attrs)]\n #![crate_type = \"rlib\"]\n+#![allow(named_asm_labels)]\n \n #[rustc_builtin_macro]\n macro_rules! asm {"}, {"sha": "2a2d6e5cc781fc9035e4dde8a624b07a60dceeea", "filename": "src/test/ui/asm/named-asm-labels.rs", "status": "renamed", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/1ae19b69e820a4497a15a8c70a2e57bea3785405/src%2Ftest%2Fui%2Fasm%2Fnamed-asm-labels.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1ae19b69e820a4497a15a8c70a2e57bea3785405/src%2Ftest%2Fui%2Fasm%2Fnamed-asm-labels.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasm%2Fnamed-asm-labels.rs?ref=1ae19b69e820a4497a15a8c70a2e57bea3785405", "patch": "@@ -114,6 +114,20 @@ fn main() {\n         asm!(\":lo12:FOO\"); // this is apparently valid aarch64\n         // is there an example that is valid x86 for this test?\n         asm!(\":bbb nop\");\n+\n+        // Test include_str in asm\n+        asm!(include_str!(\"named-asm-labels.s\")); //~ ERROR do not use named labels\n+\n+        // Test allowing or warning on the lint instead\n+        #[allow(named_asm_labels)]\n+        {\n+            asm!(\"allowed: nop\"); // Should not emit anything\n+        }\n+\n+        #[warn(named_asm_labels)]\n+        {\n+            asm!(\"warned: nop\"); //~ WARNING do not use named labels\n+        }\n     }\n }\n ", "previous_filename": "src/test/ui/asm/named_asm_labels.rs"}, {"sha": "071356d75a0c3e9f94ed77eaec4157b0ccc67fb9", "filename": "src/test/ui/asm/named-asm-labels.s", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/1ae19b69e820a4497a15a8c70a2e57bea3785405/src%2Ftest%2Fui%2Fasm%2Fnamed-asm-labels.s", "raw_url": "https://github.com/rust-lang/rust/raw/1ae19b69e820a4497a15a8c70a2e57bea3785405/src%2Ftest%2Fui%2Fasm%2Fnamed-asm-labels.s", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasm%2Fnamed-asm-labels.s?ref=1ae19b69e820a4497a15a8c70a2e57bea3785405", "patch": "@@ -0,0 +1,5 @@\n+lab1: nop\n+// do more things\n+lab2: nop // does bar\n+// a: b\n+lab3: nop; lab4: nop"}, {"sha": "2e1258d127d3eb38ebf5762d620d662595e20176", "filename": "src/test/ui/asm/named-asm-labels.stderr", "status": "renamed", "additions": 123, "deletions": 100, "changes": 223, "blob_url": "https://github.com/rust-lang/rust/blob/1ae19b69e820a4497a15a8c70a2e57bea3785405/src%2Ftest%2Fui%2Fasm%2Fnamed-asm-labels.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/1ae19b69e820a4497a15a8c70a2e57bea3785405/src%2Ftest%2Fui%2Fasm%2Fnamed-asm-labels.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasm%2Fnamed-asm-labels.stderr?ref=1ae19b69e820a4497a15a8c70a2e57bea3785405", "patch": "@@ -1,300 +1,323 @@\n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:11:15\n+  --> $DIR/named-asm-labels.rs:11:15\n    |\n LL |         asm!(\"bar: nop\");\n    |               ^^^\n    |\n    = note: `#[deny(named_asm_labels)]` on by default\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:14:15\n+  --> $DIR/named-asm-labels.rs:14:15\n    |\n LL |         asm!(\"abcd:\");\n    |               ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:17:15\n+  --> $DIR/named-asm-labels.rs:17:15\n    |\n LL |         asm!(\"foo: bar1: nop\");\n    |               ^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:17:20\n+  --> $DIR/named-asm-labels.rs:17:20\n    |\n LL |         asm!(\"foo: bar1: nop\");\n    |                    ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:22:15\n+  --> $DIR/named-asm-labels.rs:22:15\n    |\n LL |         asm!(\"foo1: nop\", \"nop\");\n    |               ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:23:15\n+  --> $DIR/named-asm-labels.rs:23:15\n    |\n LL |         asm!(\"foo2: foo3: nop\", \"nop\");\n    |               ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:23:21\n+  --> $DIR/named-asm-labels.rs:23:21\n    |\n LL |         asm!(\"foo2: foo3: nop\", \"nop\");\n    |                     ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:26:22\n+  --> $DIR/named-asm-labels.rs:26:22\n    |\n LL |         asm!(\"nop\", \"foo4: nop\");\n    |                      ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:27:15\n+  --> $DIR/named-asm-labels.rs:27:15\n    |\n LL |         asm!(\"foo5: nop\", \"foo6: nop\");\n    |               ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:27:28\n+  --> $DIR/named-asm-labels.rs:27:28\n    |\n LL |         asm!(\"foo5: nop\", \"foo6: nop\");\n    |                            ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:32:15\n+  --> $DIR/named-asm-labels.rs:32:15\n    |\n LL |         asm!(\"foo7: nop; foo8: nop\");\n    |               ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:32:26\n+  --> $DIR/named-asm-labels.rs:32:26\n    |\n LL |         asm!(\"foo7: nop; foo8: nop\");\n    |                          ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:35:15\n+  --> $DIR/named-asm-labels.rs:35:15\n    |\n LL |         asm!(\"foo9: nop; nop\");\n    |               ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:36:20\n+  --> $DIR/named-asm-labels.rs:36:20\n    |\n LL |         asm!(\"nop; foo10: nop\");\n    |                    ^^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:39:15\n+  --> $DIR/named-asm-labels.rs:39:15\n    |\n LL |         asm!(\"bar2: nop\\n bar3: nop\");\n    |               ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:39:27\n+  --> $DIR/named-asm-labels.rs:39:27\n    |\n LL |         asm!(\"bar2: nop\\n bar3: nop\");\n    |                           ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:42:15\n+  --> $DIR/named-asm-labels.rs:42:15\n    |\n LL |         asm!(\"bar4: nop\\n nop\");\n    |               ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:43:21\n+  --> $DIR/named-asm-labels.rs:43:21\n    |\n LL |         asm!(\"nop\\n bar5: nop\");\n    |                     ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:44:21\n+  --> $DIR/named-asm-labels.rs:44:21\n    |\n LL |         asm!(\"nop\\n bar6: bar7: nop\");\n    |                     ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:44:27\n+  --> $DIR/named-asm-labels.rs:44:27\n    |\n LL |         asm!(\"nop\\n bar6: bar7: nop\");\n    |                           ^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:51:13\n+  --> $DIR/named-asm-labels.rs:51:13\n    |\n LL |             blah2: nop\n    |             ^^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:52:13\n+  --> $DIR/named-asm-labels.rs:52:13\n    |\n LL |             blah3: nop\n    |             ^^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:60:19\n+  --> $DIR/named-asm-labels.rs:60:19\n    |\n LL |             nop ; blah4: nop\n    |                   ^^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:74:15\n+  --> $DIR/named-asm-labels.rs:74:15\n    |\n LL |         asm!(\"blah1: 2bar: nop\");\n    |               ^^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:77:15\n+  --> $DIR/named-asm-labels.rs:77:15\n    |\n LL |         asm!(\"def: def: nop\");\n    |               ^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:78:15\n+  --> $DIR/named-asm-labels.rs:78:15\n    |\n LL |         asm!(\"def: nop\\ndef: nop\");\n    |               ^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:79:15\n+  --> $DIR/named-asm-labels.rs:79:15\n    |\n LL |         asm!(\"def: nop; def: nop\");\n    |               ^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:87:15\n+  --> $DIR/named-asm-labels.rs:87:15\n    |\n LL |         asm!(\"fooo\\u{003A} nop\");\n    |               ^^^^^^^^^^^^^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:88:15\n+  --> $DIR/named-asm-labels.rs:88:15\n    |\n LL |         asm!(\"foooo\\x3A nop\");\n    |               ^^^^^^^^^^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:91:15\n+  --> $DIR/named-asm-labels.rs:91:15\n    |\n LL |         asm!(\"fooooo:\\u{000A} nop\");\n    |               ^^^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:92:15\n+  --> $DIR/named-asm-labels.rs:92:15\n    |\n LL |         asm!(\"foooooo:\\x0A nop\");\n    |               ^^^^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:96:14\n+  --> $DIR/named-asm-labels.rs:96:14\n    |\n LL |         asm!(\"\\x41\\x42\\x43\\x3A\\x20\\x6E\\x6F\\x70\");\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n error: do not use named labels in inline assembly\n-  --> $DIR/named_asm_labels.rs:107:13\n+  --> $DIR/named-asm-labels.rs:107:13\n    |\n LL |             ab: nop // ab: does foo\n    |             ^^\n    |\n-   = help: Only GAS local labels of the form `N:` where N is a number may be used in inline asm\n-   = note: See the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n \n-error: aborting due to 33 previous errors\n+error: do not use named labels in inline assembly\n+  --> $DIR/named-asm-labels.rs:119:14\n+   |\n+LL |         asm!(include_str!(\"named-asm-labels.s\"));\n+   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+\n+warning: do not use named labels in inline assembly\n+  --> $DIR/named-asm-labels.rs:129:19\n+   |\n+LL |             asm!(\"warned: nop\");\n+   |                   ^^^^^^\n+   |\n+note: the lint level is defined here\n+  --> $DIR/named-asm-labels.rs:127:16\n+   |\n+LL |         #[warn(named_asm_labels)]\n+   |                ^^^^^^^^^^^^^^^^\n+   = help: only GAS local labels of the form `N:` where N is a number may be used in inline asm\n+   = note: see the asm section of the unstable book <https://doc.rust-lang.org/nightly/unstable-book/library-features/asm.html#labels> for more information\n+\n+error: aborting due to 34 previous errors; 1 warning emitted\n ", "previous_filename": "src/test/ui/asm/named_asm_labels.stderr"}]}