{"sha": "499eb5d8315b0a8715e1f21e291fd70cb00e46ce", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ5OWViNWQ4MzE1YjBhODcxNWUxZjIxZTI5MWZkNzBjYjAwZTQ2Y2U=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-10-09T21:33:41Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-11-11T20:14:32Z"}, "message": "More fixes for rustc changes", "tree": {"sha": "e61af1ed94388ad36a70af981b4b7f1f8d33a6ef", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e61af1ed94388ad36a70af981b4b7f1f8d33a6ef"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/499eb5d8315b0a8715e1f21e291fd70cb00e46ce", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIyBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAl3JwSgACgkQtAh+UQ6Y\nsWSq4Q/3WEVhiqyw0dhB83dhTGRzTaPTT8afMZdz2SxCCwdpnY4sfPRpM8f47Vf6\nwP407nVp1CKhqTbkrk71zXT9eyMm6fJV9ov6dU3Xdu7ff4spPNtaPSxi94NeWXz4\n/Nw0h0jpzvAuA5xdoDy7/sO6ARnWgRZFO9hiRbZLg2kpPiNJ+XeDMOPu3nDD6rqN\n90fCjJmj6ici7I0T+vzPGcaISezzYPTWM5E1AXAzyd0dzjfwzDLN+zTGpNxUzJ3c\nhfLKWJYXM7TA/J7vbKntUzFPa8xbe5ZvZpK2Agu8cZPjekJ4VzveSV6nGjXAXYJ4\n+YYPzlBFmnXNG+j08wWV4E5w/m2QbpB5q3ByNvPaEtzVfTaPzvYjMstGwXs9qJzW\npNDF5F+omoe0hC4U/7+UgWiyMlw0WA4XixzGtU5SXGCb9p5FeThWc4Fb2cgL91Pg\nXj5QGONvv40GLFIDZjtcIfSeoY0yu1L2gKShtuU0tBEihfeJaWEbAI0Vx2COJ+Bd\nppP4Knik+qeGVkfkCheOg3dMK60lmZYLXUooX5sNLEInrZFpad3GDy9CHnK9Weip\nGP4cWNVD+VgHoxByCGe29KE946sgshpZ58/iOKzdUoSxnYt9ek2bJX2R2/X+0DhZ\nw5Epkk25UugRUfa3kuA+83OaKXeGUHaQ0/N33PwIhH6LX5lCLw==\n=6PGh\n-----END PGP SIGNATURE-----", "payload": "tree e61af1ed94388ad36a70af981b4b7f1f8d33a6ef\nparent d87e2daccfe6d7759ee4b7612858ac9f1466df3d\nauthor Aaron Hill <aa1ronham@gmail.com> 1570656821 -0400\ncommitter Aaron Hill <aa1ronham@gmail.com> 1573503272 -0500\n\nMore fixes for rustc changes\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/499eb5d8315b0a8715e1f21e291fd70cb00e46ce", "html_url": "https://github.com/rust-lang/rust/commit/499eb5d8315b0a8715e1f21e291fd70cb00e46ce", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/499eb5d8315b0a8715e1f21e291fd70cb00e46ce/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d87e2daccfe6d7759ee4b7612858ac9f1466df3d", "url": "https://api.github.com/repos/rust-lang/rust/commits/d87e2daccfe6d7759ee4b7612858ac9f1466df3d", "html_url": "https://github.com/rust-lang/rust/commit/d87e2daccfe6d7759ee4b7612858ac9f1466df3d"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "5c83fb8c821f65cd29c7cec6b1e3a94ba8c63ed3", "filename": "src/librustc_mir/transform/const_prop.rs", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/499eb5d8315b0a8715e1f21e291fd70cb00e46ce/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/499eb5d8315b0a8715e1f21e291fd70cb00e46ce/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fconst_prop.rs?ref=499eb5d8315b0a8715e1f21e291fd70cb00e46ce", "patch": "@@ -30,7 +30,7 @@ use crate::interpret::{\n     self, InterpCx, ScalarMaybeUndef, Immediate, OpTy,\n     StackPopCleanup, LocalValue, LocalState, AllocId, Frame,\n     Allocation, MemoryKind, ImmTy, Pointer, Memory, PlaceTy,\n-    Operand as InterpOperand,\n+    StackPopInfo, Operand as InterpOperand,\n };\n use crate::const_eval::error_to_const_error;\n use crate::transform::{MirPass, MirSource};\n@@ -143,6 +143,7 @@ impl<'mir, 'tcx> interpret::Machine<'mir, 'tcx> for ConstPropMachine {\n         _args: &[OpTy<'tcx>],\n         _dest: Option<PlaceTy<'tcx>>,\n         _ret: Option<BasicBlock>,\n+        _unwind: Option<BasicBlock>,\n     ) -> InterpResult<'tcx, Option<&'mir Body<'tcx>>> {\n         Ok(None)\n     }\n@@ -162,7 +163,7 @@ impl<'mir, 'tcx> interpret::Machine<'mir, 'tcx> for ConstPropMachine {\n         _span: Span,\n         _instance: ty::Instance<'tcx>,\n         _args: &[OpTy<'tcx>],\n-        _dest: PlaceTy<'tcx>,\n+        _dest: Option<PlaceTy<'tcx>>,\n     ) -> InterpResult<'tcx> {\n         throw_unsup_format!(\"calling intrinsics isn't supported in ConstProp\");\n     }\n@@ -254,8 +255,11 @@ impl<'mir, 'tcx> interpret::Machine<'mir, 'tcx> for ConstPropMachine {\n \n     /// Called immediately before a stack frame gets popped.\n     #[inline(always)]\n-    fn stack_pop(_ecx: &mut InterpCx<'mir, 'tcx, Self>, _extra: ()) -> InterpResult<'tcx> {\n-        Ok(())\n+    fn stack_pop(\n+        _ecx: &mut InterpCx<'mir, 'tcx, Self>,\n+        _extra: ()\n+    ) -> InterpResult<'tcx, StackPopInfo> {\n+        Ok(StackPopInfo::Normal)\n     }\n }\n "}]}