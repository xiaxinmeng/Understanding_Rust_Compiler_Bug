{"sha": "28af6cae9c460b56e203868ef8cfa21c7b8eb444", "node_id": "C_kwDOAAsO6NoAKDI4YWY2Y2FlOWM0NjBiNTZlMjAzODY4ZWY4Y2ZhMjFjN2I4ZWI0NDQ", "commit": {"author": {"name": "Dylan DPC", "email": "99973273+Dylan-DPC@users.noreply.github.com", "date": "2022-11-12T06:32:53Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-11-12T06:32:53Z"}, "message": "Rollup merge of #104267 - notriddle:notriddle/checkbox, r=GuillaumeGomez\n\nrustdoc: use checkbox instead of switch for settings toggles\n\nPreview: http://notriddle.com/notriddle-rustdoc-demos/checkbox/test_dingus/index.html\n\n## Before\n\n![image](https://user-images.githubusercontent.com/1593513/201232887-dee27ef5-b091-49bb-be4a-103d2e7983f3.png)\n\n## After\n\n![image](https://user-images.githubusercontent.com/1593513/201232835-95b40b77-6535-4280-8719-44c992a07772.png)\n\n## Description\n\nThe switch (\"slider\") is designed to give the application a \"physical\" feel, but nothing else in here really followed through. They didn't support the \"flick\" gesture that real iOS switches support, and the radio buttons that were also used in Rustdoc Settings were a more \"classic\" form element anyway.\n\nAlso, while switches are the exclusive toggle design on iOS (since [Apple HIG] reserves checkboxes for Mac only), the [Google Material] guidelines say that lists of switches are bad, and you should just use check boxes.\n\n[Apple HIG]: https://developer.apple.com/design/human-interface-guidelines/components/selection-and-input/toggles\n[Google Material]: https://m3.material.io/components/checkbox/guidelines#6902f23d-ceba-4b19-ae3b-b78b9b01d185", "tree": {"sha": "ec3a73d1c65b66b82da02d9179ec347631294bb1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ec3a73d1c65b66b82da02d9179ec347631294bb1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/28af6cae9c460b56e203868ef8cfa21c7b8eb444", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjbz4VCRBK7hj4Ov3rIwAAOWkIADJli6tl39Diay43Szjor88K\nfTM3IuRqUZBJ7w4shv2CPPwuy6DO2+kT3rVWZVRIeDjKje42yeqRMLsMSKqZJFz2\nIUCNFqoKOjy98PSlEP50kv9AbStA84vkNbA2sDOX0fWPR5jkn38IEDjcL3Ky6wqA\nGU4sQurFSHIl3O2/QSV1YA3Rixg6s4C5oM9lJaO3nFeefSQ86TfGh9+aNcKcSdrq\nhxd4a14VBaMA4LcuzRNjxkq+4m+xJi3+4ZnKijrsGMhicQ6plrJai8vYGfmUuKXN\npato4UJ2B6piyxn2jBppbjscauynwIxCRPds/AWaP2Pcv5EnC1hkEq/IAryT8zE=\n=6Zqx\n-----END PGP SIGNATURE-----\n", "payload": "tree ec3a73d1c65b66b82da02d9179ec347631294bb1\nparent 35816ff52a0fa21f678373fcb279412e78784fbf\nparent 269dad27f23e85359afee82f8fbd144fec616dc9\nauthor Dylan DPC <99973273+Dylan-DPC@users.noreply.github.com> 1668234773 +0530\ncommitter GitHub <noreply@github.com> 1668234773 +0530\n\nRollup merge of #104267 - notriddle:notriddle/checkbox, r=GuillaumeGomez\n\nrustdoc: use checkbox instead of switch for settings toggles\n\nPreview: http://notriddle.com/notriddle-rustdoc-demos/checkbox/test_dingus/index.html\n\n## Before\n\n![image](https://user-images.githubusercontent.com/1593513/201232887-dee27ef5-b091-49bb-be4a-103d2e7983f3.png)\n\n## After\n\n![image](https://user-images.githubusercontent.com/1593513/201232835-95b40b77-6535-4280-8719-44c992a07772.png)\n\n## Description\n\nThe switch (\"slider\") is designed to give the application a \"physical\" feel, but nothing else in here really followed through. They didn't support the \"flick\" gesture that real iOS switches support, and the radio buttons that were also used in Rustdoc Settings were a more \"classic\" form element anyway.\n\nAlso, while switches are the exclusive toggle design on iOS (since [Apple HIG] reserves checkboxes for Mac only), the [Google Material] guidelines say that lists of switches are bad, and you should just use check boxes.\n\n[Apple HIG]: https://developer.apple.com/design/human-interface-guidelines/components/selection-and-input/toggles\n[Google Material]: https://m3.material.io/components/checkbox/guidelines#6902f23d-ceba-4b19-ae3b-b78b9b01d185\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/28af6cae9c460b56e203868ef8cfa21c7b8eb444", "html_url": "https://github.com/rust-lang/rust/commit/28af6cae9c460b56e203868ef8cfa21c7b8eb444", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/28af6cae9c460b56e203868ef8cfa21c7b8eb444/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "35816ff52a0fa21f678373fcb279412e78784fbf", "url": "https://api.github.com/repos/rust-lang/rust/commits/35816ff52a0fa21f678373fcb279412e78784fbf", "html_url": "https://github.com/rust-lang/rust/commit/35816ff52a0fa21f678373fcb279412e78784fbf"}, {"sha": "269dad27f23e85359afee82f8fbd144fec616dc9", "url": "https://api.github.com/repos/rust-lang/rust/commits/269dad27f23e85359afee82f8fbd144fec616dc9", "html_url": "https://github.com/rust-lang/rust/commit/269dad27f23e85359afee82f8fbd144fec616dc9"}], "stats": {"total": 186, "additions": 104, "deletions": 82}, "files": [{"sha": "1f6fb961e918d430a5ad45ba293819769717c982", "filename": "src/librustdoc/html/static/css/settings.css", "status": "modified", "additions": 19, "deletions": 38, "changes": 57, "blob_url": "https://github.com/rust-lang/rust/blob/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css", "raw_url": "https://github.com/rust-lang/rust/raw/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css?ref=28af6cae9c460b56e203868ef8cfa21c7b8eb444", "patch": "@@ -8,7 +8,8 @@\n \tflex-wrap: wrap;\n }\n \n-.setting-line .radio-line input {\n+.setting-line .radio-line input,\n+.setting-line .toggle input {\n \tmargin-right: 0.3em;\n \theight: 1.2rem;\n \twidth: 1.2rem;\n@@ -17,9 +18,18 @@\n \toutline: none;\n \t-webkit-appearance: none;\n \tcursor: pointer;\n+}\n+.setting-line .radio-line input {\n \tborder-radius: 50%;\n }\n-.setting-line .radio-line input + span {\n+.setting-line .toggle input:checked {\n+\tcontent: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 40 40\">\\\n+\t\t<path d=\"M7,25L17,32L33,12\" fill=\"none\" stroke=\"black\" stroke-width=\"5\"/>\\\n+\t\t<path d=\"M7,23L17,30L33,10\" fill=\"none\" stroke=\"white\" stroke-width=\"5\"/></svg>');\n+}\n+\n+.setting-line .radio-line input + span,\n+.setting-line .toggle span {\n \tpadding-bottom: 1px;\n }\n \n@@ -49,37 +59,6 @@\n \tcursor: pointer;\n }\n \n-.toggle input {\n-\topacity: 0;\n-\tposition: absolute;\n-}\n-\n-.slider {\n-\tposition: relative;\n-\twidth: 45px;\n-\tmin-width: 45px;\n-\tdisplay: block;\n-\theight: 28px;\n-\tmargin-right: 20px;\n-\tcursor: pointer;\n-\tbackground-color: #ccc;\n-\ttransition: .3s;\n-}\n-\n-.slider:before {\n-\tposition: absolute;\n-\tcontent: \"\";\n-\theight: 19px;\n-\twidth: 19px;\n-\tleft: 4px;\n-\tbottom: 4px;\n-\ttransition: .3s;\n-}\n-\n-input:checked + .slider:before {\n-\ttransform: translateX(19px);\n-}\n-\n .setting-line > .sub-settings {\n \tpadding-left: 42px;\n \twidth: 100%;\n@@ -94,17 +73,19 @@ input:checked + .slider:before {\n \tbox-shadow: inset 0 0 0 3px var(--main-background-color);\n \tbackground-color: var(--settings-input-color);\n }\n-.setting-line .radio-line input:focus {\n+.setting-line .toggle input:checked {\n+\tbackground-color: var(--settings-input-color);\n+}\n+.setting-line .radio-line input:focus,\n+.setting-line .toggle input:focus {\n \tbox-shadow: 0 0 1px 1px var(--settings-input-color);\n }\n /* In here we combine both `:focus` and `:checked` properties. */\n .setting-line .radio-line input:checked:focus {\n \tbox-shadow: inset 0 0 0 3px var(--main-background-color),\n \t\t0 0 2px 2px var(--settings-input-color);\n }\n-.setting-line .radio-line input:hover {\n+.setting-line .radio-line input:hover,\n+.setting-line .toggle input:hover {\n \tborder-color: var(--settings-input-color) !important;\n }\n-input:checked + .slider {\n-\tbackground-color: var(--settings-input-color);\n-}"}, {"sha": "4beca56b66a6238f60988e71c716160206fac632", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=28af6cae9c460b56e203868ef8cfa21c7b8eb444", "patch": "@@ -77,16 +77,6 @@ Original by Dempfi (https://github.com/dempfi/ayu)\n \t--crate-search-hover-border: #e0e0e0;\n }\n \n-.slider {\n-\tbackground-color: #ccc;\n-}\n-.slider:before {\n-\tbackground-color: white;\n-}\n-input:focus + .slider {\n-\tbox-shadow: 0 0 0 2px #0a84ff, 0 0 0 6px rgba(10, 132, 255, 0.3);\n-}\n-\n h1, h2, h3, h4 {\n \tcolor: white;\n }"}, {"sha": "9b0bd8c8f0a4bb67e9a1e37a35f4a4f51fa69ca4", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=28af6cae9c460b56e203868ef8cfa21c7b8eb444", "patch": "@@ -72,16 +72,6 @@\n \t--crate-search-hover-border: #2196f3;\n }\n \n-.slider {\n-\tbackground-color: #ccc;\n-}\n-.slider:before {\n-\tbackground-color: white;\n-}\n-input:focus + .slider {\n-\tbox-shadow: 0 0 0 2px #0a84ff, 0 0 0 6px rgba(10, 132, 255, 0.3);\n-}\n-\n .content .item-info::before { color: #ccc; }\n \n body.source .example-wrap pre.rust a {"}, {"sha": "f12fb61d879b2b95f9a30bcd5224b798eb9082fe", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=28af6cae9c460b56e203868ef8cfa21c7b8eb444", "patch": "@@ -69,15 +69,6 @@\n \t--crate-search-hover-border: #717171;\n }\n \n-.slider {\n-\tbackground-color: #ccc;\n-}\n-.slider:before {\n-\tbackground-color: white;\n-}\n-input:focus + .slider {\n-\tbox-shadow: 0 0 0 2px #0a84ff, 0 0 0 6px rgba(10, 132, 255, 0.3);\n-}\n \n .content .item-info::before { color: #ccc; }\n "}, {"sha": "95cc265f1bdf6b96d05fe637d1295e14b3b8d474", "filename": "src/librustdoc/html/static/js/settings.js", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js", "raw_url": "https://github.com/rust-lang/rust/raw/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js?ref=28af6cae9c460b56e203868ef8cfa21c7b8eb444", "patch": "@@ -66,8 +66,7 @@\n \n     function setEvents(settingsElement) {\n         updateLightAndDark();\n-        onEachLazy(settingsElement.getElementsByClassName(\"slider\"), elem => {\n-            const toggle = elem.previousElementSibling;\n+        onEachLazy(settingsElement.querySelectorAll(\"input[type=\\\"checkbox\\\"]\"), toggle => {\n             const settingId = toggle.id;\n             const settingValue = getSettingValue(settingId);\n             if (settingValue !== null) {\n@@ -139,7 +138,6 @@\n                 const checked = setting[\"default\"] === true ? \" checked\" : \"\";\n                 output += `<label class=\"toggle\">\\\n                         <input type=\"checkbox\" id=\"${js_data_name}\"${checked}>\\\n-                        <span class=\"slider\"></span>\\\n                         <span class=\"label\">${setting_name}</span>\\\n                     </label>`;\n             }"}, {"sha": "fec21ad35c3ebe098cbebcd4d24d7bf1e87d249f", "filename": "src/test/rustdoc-gui/docblock-code-block-line-number.goml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Ftest%2Frustdoc-gui%2Fdocblock-code-block-line-number.goml", "raw_url": "https://github.com/rust-lang/rust/raw/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Ftest%2Frustdoc-gui%2Fdocblock-code-block-line-number.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fdocblock-code-block-line-number.goml?ref=28af6cae9c460b56e203868ef8cfa21c7b8eb444", "patch": "@@ -30,10 +30,10 @@ wait-for: \"#settings\"\n assert-css: (\"#settings\", {\"display\": \"block\"})\n \n // Then, click the toggle button.\n-click: \"input#line-numbers + .slider\"\n+click: \"input#line-numbers\"\n wait-for: 100 // wait-for-false does not exist\n assert-false: \"pre.example-line-numbers\"\n \n // Finally, turn it on again.\n-click: \"input#line-numbers + .slider\"\n+click: \"input#line-numbers\"\n wait-for: \"pre.example-line-numbers\""}, {"sha": "7e7971d47fbcaf7d200d92c682ee738f2a6d3c79", "filename": "src/test/rustdoc-gui/settings.goml", "status": "modified", "additions": 82, "deletions": 10, "changes": 92, "blob_url": "https://github.com/rust-lang/rust/blob/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Ftest%2Frustdoc-gui%2Fsettings.goml", "raw_url": "https://github.com/rust-lang/rust/raw/28af6cae9c460b56e203868ef8cfa21c7b8eb444/src%2Ftest%2Frustdoc-gui%2Fsettings.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsettings.goml?ref=28af6cae9c460b56e203868ef8cfa21c7b8eb444", "patch": "@@ -48,7 +48,8 @@ assert: \".setting-line.hidden #preferred-light-theme\"\n assert-property: (\"#theme .choices #theme-dark\", {\"checked\": \"true\"})\n \n // Some style checks...\n-// First we check the \"default\" display.\n+move-cursor-to: \"#settings-menu > a\"\n+// First we check the \"default\" display for radio buttons.\n assert-css: (\n     \"#theme-dark\",\n     {\n@@ -57,7 +58,7 @@ assert-css: (\n     },\n )\n assert-css: (\"#theme-light\", {\"border-color\": \"rgb(221, 221, 221)\", \"box-shadow\": \"none\"})\n-// Let's start with the hover.\n+// Let's start with the hover for radio buttons.\n move-cursor-to: \"#theme-dark\"\n assert-css: (\n     \"#theme-dark\",\n@@ -69,7 +70,7 @@ assert-css: (\n move-cursor-to: \"#theme-light\"\n assert-css: (\"#theme-light\", {\"border-color\": \"rgb(33, 150, 243)\", \"box-shadow\": \"none\"})\n move-cursor-to: \"#theme-ayu\"\n-// Let's now check with the focus.\n+// Let's now check with the focus for radio buttons.\n focus: \"#theme-dark\"\n assert-css: (\n     \"#theme-dark\",\n@@ -86,7 +87,7 @@ assert-css: (\n         \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n     },\n )\n-// Now we check we both focus and hover.\n+// Now we check we both focus and hover for radio buttons.\n move-cursor-to: \"#theme-dark\"\n focus: \"#theme-dark\"\n assert-css: (\n@@ -106,6 +107,80 @@ assert-css: (\n     },\n )\n \n+// First we check the \"default\" display for toggles.\n+assert-css: (\n+    \"#auto-hide-large-items\",\n+    {\n+        \"background-color\": \"rgb(33, 150, 243)\",\n+        \"border-color\": \"rgb(221, 221, 221)\",\n+    },\n+)\n+assert-css: (\n+    \"#use-system-theme\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(221, 221, 221)\",\n+    }\n+)\n+// Let's start with the hover for toggles.\n+move-cursor-to: \"#auto-hide-large-items\"\n+assert-css: (\n+    \"#auto-hide-large-items\",\n+    {\n+        \"background-color\": \"rgb(33, 150, 243)\",\n+        \"border-color\": \"rgb(33, 150, 243)\",\n+    },\n+)\n+move-cursor-to: \"#use-system-theme\"\n+assert-css: (\n+    \"#use-system-theme\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(33, 150, 243)\",\n+    }\n+)\n+move-cursor-to: \"#settings-menu > a\"\n+// Let's now check with the focus for toggles.\n+focus: \"#auto-hide-large-items\"\n+assert-css: (\n+    \"#auto-hide-large-items\",\n+    {\n+        \"background-color\": \"rgb(33, 150, 243)\",\n+        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+    },\n+)\n+focus: \"#use-system-theme\"\n+assert-css: (\n+    \"#use-system-theme\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+    },\n+)\n+// Now we check we both focus and hover for toggles.\n+move-cursor-to: \"#auto-hide-large-items\"\n+focus: \"#auto-hide-large-items\"\n+assert-css: (\n+    \"#auto-hide-large-items\",\n+    {\n+        \"background-color\": \"rgb(33, 150, 243)\",\n+        \"border-color\": \"rgb(33, 150, 243)\",\n+        \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+    },\n+)\n+move-cursor-to: \"#use-system-theme\"\n+focus: \"#use-system-theme\"\n+assert-css: (\n+    \"#use-system-theme\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(33, 150, 243)\",\n+        \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+    },\n+)\n+\n // We now switch the display.\n click: \"#use-system-theme\"\n // Wait for the hidden element to show up.\n@@ -118,7 +193,7 @@ assert: \".setting-line.hidden #theme\"\n assert-text: (\"#preferred-dark-theme .setting-name\", \"Preferred dark theme\")\n assert-text: (\"#preferred-light-theme .setting-name\", \"Preferred light theme\")\n \n-// We now check that clicking on the \"sliders\"' text is like clicking on the slider.\n+// We now check that clicking on the toggles' text is like clicking on the checkbox.\n // To test it, we use the \"Disable keyboard shortcuts\".\n local-storage: {\"rustdoc-disable-shortcuts\": \"false\"}\n click: \".setting-line:last-child .toggle .label\"\n@@ -141,10 +216,7 @@ assert-css: (\"#settings-menu .popover\", {\"display\": \"none\"})\n // Now we go to the settings page to check that the CSS is loaded as expected.\n goto: \"file://\" + |DOC_PATH| + \"/settings.html\"\n wait-for: \"#settings\"\n-assert-css: (\n-    \".setting-line .toggle .slider\",\n-    {\"width\": \"45px\", \"margin-right\": \"20px\", \"border\": \"0px none rgb(0, 0, 0)\"},\n-)\n+assert-css: (\".setting-line\", {\"position\": \"relative\"})\n \n assert-attribute-false: (\"#settings\", {\"class\": \"popover\"}, CONTAINS)\n compare-elements-position: (\".sub form\", \"#settings\", (\"x\"))\n@@ -162,4 +234,4 @@ reload:\n size: (300, 1000)\n click: \"#settings-menu\"\n wait-for: \"#settings\"\n-assert-css: (\"#settings .slider\", {\"width\": \"45px\"}, ALL)\n+assert-css: (\".setting-line\", {\"position\": \"relative\"})"}]}