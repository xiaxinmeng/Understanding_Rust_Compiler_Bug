{"sha": "9cf67513ea467df2fd833395a05f3c1b178ff0fe", "node_id": "MDY6Q29tbWl0NzI0NzEyOjljZjY3NTEzZWE0NjdkZjJmZDgzMzM5NWEwNWYzYzFiMTc4ZmYwZmU=", "commit": {"author": {"name": "Young-il Choi", "email": "duddlf.choi@samsung.com", "date": "2013-03-04T05:23:20Z"}, "committer": {"name": "Young-il Choi", "email": "duddlf.choi@samsung.com", "date": "2013-03-04T05:23:20Z"}, "message": "mk: platform.mk more flags added", "tree": {"sha": "bcf6b9c68fe6b55568b56ed68d11aa65c872649b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bcf6b9c68fe6b55568b56ed68d11aa65c872649b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9cf67513ea467df2fd833395a05f3c1b178ff0fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9cf67513ea467df2fd833395a05f3c1b178ff0fe", "html_url": "https://github.com/rust-lang/rust/commit/9cf67513ea467df2fd833395a05f3c1b178ff0fe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9cf67513ea467df2fd833395a05f3c1b178ff0fe/comments", "author": {"login": "yichoi", "id": 3222276, "node_id": "MDQ6VXNlcjMyMjIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/3222276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yichoi", "html_url": "https://github.com/yichoi", "followers_url": "https://api.github.com/users/yichoi/followers", "following_url": "https://api.github.com/users/yichoi/following{/other_user}", "gists_url": "https://api.github.com/users/yichoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/yichoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yichoi/subscriptions", "organizations_url": "https://api.github.com/users/yichoi/orgs", "repos_url": "https://api.github.com/users/yichoi/repos", "events_url": "https://api.github.com/users/yichoi/events{/privacy}", "received_events_url": "https://api.github.com/users/yichoi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "yichoi", "id": 3222276, "node_id": "MDQ6VXNlcjMyMjIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/3222276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yichoi", "html_url": "https://github.com/yichoi", "followers_url": "https://api.github.com/users/yichoi/followers", "following_url": "https://api.github.com/users/yichoi/following{/other_user}", "gists_url": "https://api.github.com/users/yichoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/yichoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yichoi/subscriptions", "organizations_url": "https://api.github.com/users/yichoi/orgs", "repos_url": "https://api.github.com/users/yichoi/repos", "events_url": "https://api.github.com/users/yichoi/events{/privacy}", "received_events_url": "https://api.github.com/users/yichoi/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dae97b4812eda4a1c8301789cc27cd4f72d91b19", "url": "https://api.github.com/repos/rust-lang/rust/commits/dae97b4812eda4a1c8301789cc27cd4f72d91b19", "html_url": "https://github.com/rust-lang/rust/commit/dae97b4812eda4a1c8301789cc27cd4f72d91b19"}], "stats": {"total": 38, "additions": 30, "deletions": 8}, "files": [{"sha": "ceee723f8d3179b0ddf2b288fcc7c0c5f6c1ec30", "filename": "mk/platform.mk", "status": "modified", "additions": 30, "deletions": 8, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/9cf67513ea467df2fd833395a05f3c1b178ff0fe/mk%2Fplatform.mk", "raw_url": "https://github.com/rust-lang/rust/raw/9cf67513ea467df2fd833395a05f3c1b178ff0fe/mk%2Fplatform.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fplatform.mk?ref=9cf67513ea467df2fd833395a05f3c1b178ff0fe", "patch": "@@ -50,7 +50,6 @@ CFG_DEF_SUFFIX_x86_64-unknown-linux-gnu := .linux.def\n CFG_INSTALL_NAME_x86_64-unknown-linux-gnu =\n CFG_LIBUV_LINK_FLAGS_x86_64-unknown-linux-gnu =\n CFG_LLVM_BUILD_ENV_x86_64-unknown-linux-gnu=\"CXXFLAGS=-fno-omit-frame-pointer\"\n-CFG_GCCISH_CROSS_PREFIX_x86_64-unknown-linux-gnu =\n CFG_EXE_SUFFIX_x86_64-unknown-linux-gnu =\n CFG_WINDOWSY_x86_64-unknown-linux-gnu :=\n CFG_LINUXY_x86_64-unknown-linux-gnu := 1\n@@ -65,13 +64,21 @@ CFG_LIB_GLOB_i686-unknown-linux-gnu=lib$(1)-*.so\n CFG_LIB_DSYM_GLOB_i686-unknown-linux-gnu=lib$(1)-*.dylib.dSYM\n CFG_GCCISH_CFLAGS_i686-unknown-linux-gnu := -Wall -Werror -g -fPIC -m32\n CFG_GCCISH_CXXFLAGS_i686-unknown-linux-gnu := -fno-rtti\n-CFG_GCCISH_LINK_FLAGS_i6868-unknown-linux-gnu := -shared -fPIC -ldl -lpthread -lrt -g -m32\n-CFG_GCCISH_DEF_FLAG_i6868-unknown-linux-gnu := -Wl,--export-dynamic,--dynamic-list=\n+CFG_GCCISH_LINK_FLAGS_i686-unknown-linux-gnu := -shared -fPIC -ldl -lpthread -lrt -g -m32\n+CFG_GCCISH_DEF_FLAG_i686-unknown-linux-gnu := -Wl,--export-dynamic,--dynamic-list=\n CFG_GCCISH_PRE_LIB_FLAGS_i686-unknown-linux-gnu := -Wl,-whole-archive\n CFG_GCCISH_POST_LIB_FLAGS_i686-unknown-linux-gnu := -Wl,-no-whole-archive -Wl,-znoexecstack\n CFG_DEF_SUFFIX_i686-unknown-linux-gnu := .linux.def\n CFG_INSTALL_NAME_i686-unknown-linux-gnu =\n-CFG_GCCISH_CROSS_i686-unknown-linux-gnu =\n+CFG_LIBUV_LINK_FLAGS_i686-unknown-linux-gnu =\n+CFG_LLVM_BUILD_ENV_i686-unknown-linux-gnu=\"CXXFLAGS=-fno-omit-frame-pointer\"\n+CFG_EXE_SUFFIX_i686-unknown-linux-gnu =\n+CFG_WINDOWSY_i686-unknown-linux-gnu :=\n+CFG_LINUXY_i686-unknown-linux-gnu := 1\n+CFG_PATH_MUNGE_i686-unknown-linux-gnu := true\n+CFG_LDPATH_i686-unknown-linux-gnu :=\n+CFG_RUN_i686-unknown-linux-gnu=$(2)\n+CFG_RUN_TARG_i686-unknown-linux-gnu=$(call CFG_RUN_i686-unknown-linux-gnu,,$(2))\n \n # x86_64-apple-darwin configuration\n CFG_LIB_NAME_x86_64-apple-darwin=lib$(1).dylib\n@@ -106,6 +113,14 @@ CFG_GCCISH_PRE_LIB_FLAGS_i686-apple-darwin :=\n CFG_GCCISH_POST_LIB_FLAGS_i686-apple-darwin :=\n CFG_DEF_SUFFIX_i686-apple-darwin := .darwin.def\n CFG_INSTALL_NAME_i686-apple-darwin = -Wl,-install_name,@rpath/$(1)\n+CFG_LIBUV_LINK_FLAGS_i686-apple-darwin =\n+CFG_EXE_SUFFIX_i686-apple-darwin :=\n+CFG_WINDOWSY_i686-apple-darwin :=\n+CFG_LINUXY_i686-apple-darwin := 1\n+CFG_PATH_MUNGE_i686-apple-darwin := true\n+CFG_LDPATH_i686-apple-darwin :=\n+CFG_RUN_i686-apple-darwin=$(2)\n+CFG_RUN_TARG_i686-apple-darwin=$(call CFG_RUN_i686-apple-darwin,,$(2))\n \n # arm-unknown-android configuration\n CFG_LIB_NAME_arm-unknown-android=lib$(1).so\n@@ -142,7 +157,6 @@ CFG_GCCISH_POST_LIB_FLAGS_i686-pc-mingw32 :=\n CFG_DEF_SUFFIX_i686-pc-mingw32 := .mingw32.def\n CFG_INSTALL_NAME_i686-pc-mingw32 =\n CFG_LIBUV_LINK_FLAGS_i686-pc-mingw32 := -lWs2_32 -lpsapi -liphlpapi\n-CFG_GCCISH_CROSS_PREFIX_i686-pc-mingw32 =\n CFG_EXE_SUFFIX_i686-pc-mingw32 := .exe\n CFG_WINDOWSY_i686-pc-mingw32 := 1\n CFG_LINUXY_i686-pc-mingw32 :=\n@@ -178,14 +192,22 @@ CFG_RUN_TARG_i586-mingw32msvc=\n # x86_64-unknown-freebsd configuration\n CFG_LIB_NAME_x86_64-unknown-freebsd=lib$(1).so\n CFG_LIB_GLOB_x86_64-unknown-freebsd=lib$(1)-*.so\n-CFG_GCCISH_CFLAGS_x86_64-unknown-freebsd += -fPIC -I/usr/local/include\n-CFG_GCCISH_LINK_FLAGS_x86_64-unknown-freebsd += -shared -fPIC -lpthread -lrt\n+CFG_LIB_DSYM_GLOB_x86_64-unknown-freebsd=$(1)-*.dylib.dSYM\n+CFG_GCCISH_CFLAGS_x86_64-unknown-freebsd := -Wall -Werror -g -fPIC -I/usr/local/include\n+CFG_GCCISH_LINK_FLAGS_x86_64-unknown-freebsd := -shared -fPIC -g -lpthread -lrt\n CFG_GCCISH_DEF_FLAG_x86_64-unknown-freebsd := -Wl,--export-dynamic,--dynamic-list=\n CFG_GCCISH_PRE_LIB_FLAGS_x86_64-unknown-freebsd := -Wl,-whole-archive\n CFG_GCCISH_POST_LIB_FLAGS_x86_64-unknown-freebsd := -Wl,-no-whole-archive\n CFG_DEF_SUFFIX_x86_64-unknown-freebsd := .bsd.def\n CFG_INSTALL_NAME_x86_64-unknown-freebsd =\n-CFG_GCCISH_CROSS_x86_64-unknown-freebsd =\n+CFG_LIBUV_LINK_FLAGS_x86_64-unknown-freebsd := -lpthread -lkvm\n+CFG_EXE_SUFFIX_x86_64-unknown-freebsd :=\n+CFG_WINDOWSY_x86_64-unknown-freebsd :=\n+CFG_LINUXY_x86_64-unknown-freebsd := 1\n+CFG_PATH_MUNGE_x86_64-unknown-freebsd :=\n+CFG_LDPATH_x86_64-unknown-freebsd :=\n+CFG_RUN_x86_64-unknown-freebsd=$(2)\n+CFG_RUN_TARG_x86_64-unknown-freebsd=$(call CFG_RUN_x86_64-unknown-freebsd,,$(2))\n \n # Hack: not sure how to test if a file exists in make other than this\n OS_SUPP = $(patsubst %,--suppressions=%,\\"}]}