{"sha": "370fbcc0225a226096773fc8641c59eb5e635f7a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM3MGZiY2MwMjI1YTIyNjA5Njc3M2ZjODY0MWM1OWViNWU2MzVmN2E=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-09-16T18:49:48Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-09-16T18:49:48Z"}, "message": "or-patterns: #47390: we rely on names to exercise `IndexMap`.", "tree": {"sha": "7c66bcb478a63f1f54cac35e07573138dce175a1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7c66bcb478a63f1f54cac35e07573138dce175a1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/370fbcc0225a226096773fc8641c59eb5e635f7a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/370fbcc0225a226096773fc8641c59eb5e635f7a", "html_url": "https://github.com/rust-lang/rust/commit/370fbcc0225a226096773fc8641c59eb5e635f7a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/370fbcc0225a226096773fc8641c59eb5e635f7a/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "05cc3c0a83fc7faab20a10f2e0eca61dc34a6394", "url": "https://api.github.com/repos/rust-lang/rust/commits/05cc3c0a83fc7faab20a10f2e0eca61dc34a6394", "html_url": "https://github.com/rust-lang/rust/commit/05cc3c0a83fc7faab20a10f2e0eca61dc34a6394"}], "stats": {"total": 23, "additions": 13, "deletions": 10}, "files": [{"sha": "7870d394c8bfbd52696de62ce9939a1c19decb22", "filename": "src/test/ui/lint/issue-47390-unused-variable-in-struct-pattern.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/370fbcc0225a226096773fc8641c59eb5e635f7a/src%2Ftest%2Fui%2Flint%2Fissue-47390-unused-variable-in-struct-pattern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/370fbcc0225a226096773fc8641c59eb5e635f7a/src%2Ftest%2Fui%2Flint%2Fissue-47390-unused-variable-in-struct-pattern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fissue-47390-unused-variable-in-struct-pattern.rs?ref=370fbcc0225a226096773fc8641c59eb5e635f7a", "patch": "@@ -33,6 +33,9 @@ fn main() {\n     let mut mut_unused_var = 1;\n \n     let (mut var, unused_var) = (1, 2);\n+    // NOTE: `var` comes after `unused_var` lexicographically yet the warning\n+    // for `var` will be emitted before the one for `unused_var`. We use an\n+    // `IndexMap` to ensure this is the case instead of a `BTreeMap`.\n \n     if let SoulHistory { corridors_of_light,\n                          mut hours_are_suns,"}, {"sha": "74bbef8adad0539bd604f76dc883e3bf85b2a8c3", "filename": "src/test/ui/lint/issue-47390-unused-variable-in-struct-pattern.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/370fbcc0225a226096773fc8641c59eb5e635f7a/src%2Ftest%2Fui%2Flint%2Fissue-47390-unused-variable-in-struct-pattern.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/370fbcc0225a226096773fc8641c59eb5e635f7a/src%2Ftest%2Fui%2Flint%2Fissue-47390-unused-variable-in-struct-pattern.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fissue-47390-unused-variable-in-struct-pattern.stderr?ref=370fbcc0225a226096773fc8641c59eb5e635f7a", "patch": "@@ -30,21 +30,21 @@ LL |     let (mut var, unused_var) = (1, 2);\n    |                   ^^^^^^^^^^ help: consider prefixing with an underscore: `_unused_var`\n \n warning: unused variable: `corridors_of_light`\n-  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:37:26\n+  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:40:26\n    |\n LL |     if let SoulHistory { corridors_of_light,\n    |                          ^^^^^^^^^^^^^^^^^^ help: try ignoring the field: `corridors_of_light: _`\n \n warning: variable `hours_are_suns` is assigned to, but never used\n-  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:38:30\n+  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:41:30\n    |\n LL |                          mut hours_are_suns,\n    |                              ^^^^^^^^^^^^^^\n    |\n    = note: consider using `_hours_are_suns` instead\n \n warning: value assigned to `hours_are_suns` is never read\n-  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:40:9\n+  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:43:9\n    |\n LL |         hours_are_suns = false;\n    |         ^^^^^^^^^^^^^^\n@@ -58,43 +58,43 @@ LL | #![warn(unused)] // UI tests pass `-A unused` (#43896)\n    = help: maybe it is overwritten before being read?\n \n warning: unused variable: `fire`\n-  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:44:32\n+  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:47:32\n    |\n LL |     let LovelyAmbition { lips, fire } = the_spirit;\n    |                                ^^^^ help: try ignoring the field: `fire: _`\n \n warning: unused variable: `case`\n-  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:53:23\n+  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:56:23\n    |\n LL |         Large::Suit { case } => {}\n    |                       ^^^^ help: try ignoring the field: `case: _`\n \n warning: unused variable: `case`\n-  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:58:24\n+  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:61:24\n    |\n LL |         &Large::Suit { case } => {}\n    |                        ^^^^ help: try ignoring the field: `case: _`\n \n warning: unused variable: `case`\n-  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:63:27\n+  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:66:27\n    |\n LL |         box Large::Suit { case } => {}\n    |                           ^^^^ help: try ignoring the field: `case: _`\n \n warning: unused variable: `case`\n-  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:68:24\n+  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:71:24\n    |\n LL |         (Large::Suit { case },) => {}\n    |                        ^^^^ help: try ignoring the field: `case: _`\n \n warning: unused variable: `case`\n-  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:73:24\n+  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:76:24\n    |\n LL |         [Large::Suit { case }] => {}\n    |                        ^^^^ help: try ignoring the field: `case: _`\n \n warning: unused variable: `case`\n-  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:78:29\n+  --> $DIR/issue-47390-unused-variable-in-struct-pattern.rs:81:29\n    |\n LL |         Tuple(Large::Suit { case }, ()) => {}\n    |                             ^^^^ help: try ignoring the field: `case: _`"}]}