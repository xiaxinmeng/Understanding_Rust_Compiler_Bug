{"sha": "ded95d2c2891d7ffec1277cb4969ed956ff0bd25", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRlZDk1ZDJjMjg5MWQ3ZmZlYzEyNzdjYjQ5NjllZDk1NmZmMGJkMjU=", "commit": {"author": {"name": "John Clements", "email": "clements@racket-lang.org", "date": "2013-02-09T02:50:12Z"}, "committer": {"name": "John Clements", "email": "clements@racket-lang.org", "date": "2013-02-13T23:08:27Z"}, "message": "deriving_eq for tokens and binops\n\nNote that the replaced definition of equality on tokens\ncontains a *huge* shortcut on INTERPOLATED tokens (those\nthat contain ASTs), whereby any two INTERPOLATED tokens\nare considered equal. This seems like a really broken\nnotion of equality, but it appears that the existing\ntest cases and the compiler don't depend on it. Niko\nnoticed this, BTW.\n\nReplace long definition of Eq on tokens and binops\nw", "tree": {"sha": "c7f9d0361c7fe77d689c671745a6658971cbe118", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c7f9d0361c7fe77d689c671745a6658971cbe118"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ded95d2c2891d7ffec1277cb4969ed956ff0bd25", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ded95d2c2891d7ffec1277cb4969ed956ff0bd25", "html_url": "https://github.com/rust-lang/rust/commit/ded95d2c2891d7ffec1277cb4969ed956ff0bd25", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ded95d2c2891d7ffec1277cb4969ed956ff0bd25/comments", "author": {"login": "jbclements", "id": 226617, "node_id": "MDQ6VXNlcjIyNjYxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/226617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbclements", "html_url": "https://github.com/jbclements", "followers_url": "https://api.github.com/users/jbclements/followers", "following_url": "https://api.github.com/users/jbclements/following{/other_user}", "gists_url": "https://api.github.com/users/jbclements/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbclements/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbclements/subscriptions", "organizations_url": "https://api.github.com/users/jbclements/orgs", "repos_url": "https://api.github.com/users/jbclements/repos", "events_url": "https://api.github.com/users/jbclements/events{/privacy}", "received_events_url": "https://api.github.com/users/jbclements/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jbclements", "id": 226617, "node_id": "MDQ6VXNlcjIyNjYxNw==", "avatar_url": "https://avatars.githubusercontent.com/u/226617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jbclements", "html_url": "https://github.com/jbclements", "followers_url": "https://api.github.com/users/jbclements/followers", "following_url": "https://api.github.com/users/jbclements/following{/other_user}", "gists_url": "https://api.github.com/users/jbclements/gists{/gist_id}", "starred_url": "https://api.github.com/users/jbclements/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jbclements/subscriptions", "organizations_url": "https://api.github.com/users/jbclements/orgs", "repos_url": "https://api.github.com/users/jbclements/repos", "events_url": "https://api.github.com/users/jbclements/events{/privacy}", "received_events_url": "https://api.github.com/users/jbclements/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "16da4e15af02f92d4c7e7cfe36344a276096585d", "url": "https://api.github.com/repos/rust-lang/rust/commits/16da4e15af02f92d4c7e7cfe36344a276096585d", "html_url": "https://github.com/rust-lang/rust/commit/16da4e15af02f92d4c7e7cfe36344a276096585d"}], "stats": {"total": 7, "additions": 1, "deletions": 6}, "files": [{"sha": "391e8b04336b1f52c24d58c961fd4a274ca3fc50", "filename": "src/libsyntax/parse/token.rs", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ded95d2c2891d7ffec1277cb4969ed956ff0bd25/src%2Flibsyntax%2Fparse%2Ftoken.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ded95d2c2891d7ffec1277cb4969ed956ff0bd25/src%2Flibsyntax%2Fparse%2Ftoken.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Ftoken.rs?ref=ded95d2c2891d7ffec1277cb4969ed956ff0bd25", "patch": "@@ -25,6 +25,7 @@ use std::oldmap::HashMap;\n \n #[auto_encode]\n #[auto_decode]\n+#[deriving_eq]\n pub enum binop {\n     PLUS,\n     MINUS,\n@@ -518,12 +519,6 @@ pub fn reserved_keyword_table() -> HashMap<~str, ()> {\n     words\n }\n \n-impl binop : cmp::Eq {\n-    pure fn eq(&self, other: &binop) -> bool {\n-        ((*self) as uint) == ((*other) as uint)\n-    }\n-    pure fn ne(&self, other: &binop) -> bool { !(*self).eq(other) }\n-}\n \n impl Token : cmp::Eq {\n     pure fn eq(&self, other: &Token) -> bool {"}]}