{"sha": "e4be2b4e6411d1b144305adab6b8874d7d3448d9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU0YmUyYjRlNjQxMWQxYjE0NDMwNWFkYWI2Yjg4NzRkN2QzNDQ4ZDk=", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2018-11-21T09:58:27Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2018-11-21T11:11:22Z"}, "message": "Downgrade needless_pass_by_value to allow by default\n\nI noticed that I suppress this lint in many of my projects.\n\nhttps://github.com/search?q=needless_pass_by_value+user%3Adtolnay&type=Code\nhttps://github.com/search?q=needless_pass_by_value+user%3Aserde-rs&type=Code\n\nUpon further inspection, this lint has a *long* history of false\npositives (and several remaining).\n\nGenerally I feel that this lint is the definition of pedantic and should\nnot be linted by default.\n\n    #[derive(Debug)]\n    enum How {\n        ThisWay,\n        ThatWay,\n    }\n\n    // Are we really better off forcing the call sites to write f(&_)...?\n    fn f(how: How) {\n        println!(\"You want to do it {:?}\", how);\n    }\n\n    fn main() {\n        f(How::ThatWay);\n    }", "tree": {"sha": "545aa2a3c8ffef90fb9159630e8f089b7f89e801", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/545aa2a3c8ffef90fb9159630e8f089b7f89e801"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e4be2b4e6411d1b144305adab6b8874d7d3448d9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJb9T1aAAoJEPm6FDuV/22CYD4P/1l8atr/WaNk1EAdwmdV3ryJ\nYPf8zhyR+4i8Fo1Xo8DSCP6+uwhiY5By+BMqc1poKPkAGn3mDX2TC/WHbPtjhMGj\nItnToWamdQjgqByC3KaXyWBd90h5VSBFNNjIyikzhMOF7VxsjiVMYaeKtARPP7xn\n5kIw+MW23mf2RVeMGjNkXqW0Tp0qACoF7OMd0fOxIdmBejPelkTHbyiwgkA3PG2Z\nm/xpx+ZD7VFQBLRwxKjU0prQy9jxur3v6MRJV0J3YUHtx8yfnBFskCEC7q9a9174\nVc0kHCvRDich3KsnAIiKxy5AgSUEWOjFC3VwOpwQCuBmeMG+L0x6iuEfzjM25LbV\nMr/ZcA4hvhM6aAJVfex7sAdCprLpDGjqr5ee71tBhfnhxBWW+y0pbv5JdYt6t7VD\ng1Zfh7x5KhnrvXtD4tH3tUzYfyaCmXMqq2K/6agwfsa6aRCLOOK/s7r3wIo20UBe\n4umrPcEK7AqoPRRbzK0RgRcBcwxnGnYia2oHQUtx3CZlzl9N9+ONDqOR5iNnIyVb\nkv7LI3vJYObitStANSfqVskm8lrD9+hLtjMjfChXbePZbIbWkELibl6Ony+B1ttt\nxhM+VOzotKT08jfJNb2Aw8GvagC8Lu4WPtm+uxaAWw2UL9c1DphMUlL08sxAK2ZQ\n06He0ShJeJu023X1MhIt\n=m9dW\n-----END PGP SIGNATURE-----", "payload": "tree 545aa2a3c8ffef90fb9159630e8f089b7f89e801\nparent 64ff255ac63856c1dfe2021a62349984e4039788\nauthor David Tolnay <dtolnay@gmail.com> 1542794307 -0800\ncommitter David Tolnay <dtolnay@gmail.com> 1542798682 -0800\n\nDowngrade needless_pass_by_value to allow by default\n\nI noticed that I suppress this lint in many of my projects.\n\nhttps://github.com/search?q=needless_pass_by_value+user%3Adtolnay&type=Code\nhttps://github.com/search?q=needless_pass_by_value+user%3Aserde-rs&type=Code\n\nUpon further inspection, this lint has a *long* history of false\npositives (and several remaining).\n\nGenerally I feel that this lint is the definition of pedantic and should\nnot be linted by default.\n\n    #[derive(Debug)]\n    enum How {\n        ThisWay,\n        ThatWay,\n    }\n\n    // Are we really better off forcing the call sites to write f(&_)...?\n    fn f(how: How) {\n        println!(\"You want to do it {:?}\", how);\n    }\n\n    fn main() {\n        f(How::ThatWay);\n    }\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e4be2b4e6411d1b144305adab6b8874d7d3448d9", "html_url": "https://github.com/rust-lang/rust/commit/e4be2b4e6411d1b144305adab6b8874d7d3448d9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e4be2b4e6411d1b144305adab6b8874d7d3448d9/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "64ff255ac63856c1dfe2021a62349984e4039788", "url": "https://api.github.com/repos/rust-lang/rust/commits/64ff255ac63856c1dfe2021a62349984e4039788", "html_url": "https://github.com/rust-lang/rust/commit/64ff255ac63856c1dfe2021a62349984e4039788"}], "stats": {"total": 5, "additions": 2, "deletions": 3}, "files": [{"sha": "2dbe448c950a491c2c77095bd7ba69d3b04554cd", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e4be2b4e6411d1b144305adab6b8874d7d3448d9/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4be2b4e6411d1b144305adab6b8874d7d3448d9/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=e4be2b4e6411d1b144305adab6b8874d7d3448d9", "patch": "@@ -509,6 +509,7 @@ pub fn register_plugins(reg: &mut rustc_plugin::Registry<'_>, conf: &Conf) {\n         misc_early::UNSEPARATED_LITERAL_SUFFIX,\n         mut_mut::MUT_MUT,\n         needless_continue::NEEDLESS_CONTINUE,\n+        needless_pass_by_value::NEEDLESS_PASS_BY_VALUE,\n         non_expressive_names::SIMILAR_NAMES,\n         replace_consts::REPLACE_CONSTS,\n         shadow::SHADOW_UNRELATED,\n@@ -671,7 +672,6 @@ pub fn register_plugins(reg: &mut rustc_plugin::Registry<'_>, conf: &Conf) {\n         needless_bool::BOOL_COMPARISON,\n         needless_bool::NEEDLESS_BOOL,\n         needless_borrowed_ref::NEEDLESS_BORROWED_REFERENCE,\n-        needless_pass_by_value::NEEDLESS_PASS_BY_VALUE,\n         needless_update::NEEDLESS_UPDATE,\n         neg_cmp_op_on_partial_ord::NEG_CMP_OP_ON_PARTIAL_ORD,\n         neg_multiply::NEG_MULTIPLY,\n@@ -809,7 +809,6 @@ pub fn register_plugins(reg: &mut rustc_plugin::Registry<'_>, conf: &Conf) {\n         misc_early::MIXED_CASE_HEX_LITERALS,\n         misc_early::UNNEEDED_FIELD_PATTERN,\n         mut_reference::UNNECESSARY_MUT_PASSED,\n-        needless_pass_by_value::NEEDLESS_PASS_BY_VALUE,\n         neg_multiply::NEG_MULTIPLY,\n         new_without_default::NEW_WITHOUT_DEFAULT,\n         new_without_default::NEW_WITHOUT_DEFAULT_DERIVE,"}, {"sha": "ff8e0cc0e6ec4f6b3eda85814a1571587b097502", "filename": "clippy_lints/src/needless_pass_by_value.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e4be2b4e6411d1b144305adab6b8874d7d3448d9/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4be2b4e6411d1b144305adab6b8874d7d3448d9/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs?ref=e4be2b4e6411d1b144305adab6b8874d7d3448d9", "patch": "@@ -54,7 +54,7 @@ use crate::rustc_errors::Applicability;\n /// ```\n declare_clippy_lint! {\n     pub NEEDLESS_PASS_BY_VALUE,\n-    style,\n+    pedantic,\n     \"functions taking arguments by value, but not consuming them in its body\"\n }\n "}]}