{"sha": "79de56a14b320327e5077232809ed5f2067aeb40", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5ZGU1NmExNGIzMjAzMjdlNTA3NzIzMjgwOWVkNWYyMDY3YWViNDA=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2017-05-03T20:42:46Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2017-05-03T20:42:46Z"}, "message": "remove `pub` modifier (and last use thereof)", "tree": {"sha": "cb3c67f3c4394585184dc899ba466b840de34b4f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cb3c67f3c4394585184dc899ba466b840de34b4f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/79de56a14b320327e5077232809ed5f2067aeb40", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/79de56a14b320327e5077232809ed5f2067aeb40", "html_url": "https://github.com/rust-lang/rust/commit/79de56a14b320327e5077232809ed5f2067aeb40", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/79de56a14b320327e5077232809ed5f2067aeb40/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "50df5f85d05fc1a7967905f230205c559c09cba2", "url": "https://api.github.com/repos/rust-lang/rust/commits/50df5f85d05fc1a7967905f230205c559c09cba2", "html_url": "https://github.com/rust-lang/rust/commit/50df5f85d05fc1a7967905f230205c559c09cba2"}], "stats": {"total": 14, "additions": 1, "deletions": 13}, "files": [{"sha": "1452a46ac0187ac86d62c193fbf0500122b10d83", "filename": "src/librustc/ty/maps.rs", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/79de56a14b320327e5077232809ed5f2067aeb40/src%2Flibrustc%2Fty%2Fmaps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79de56a14b320327e5077232809ed5f2067aeb40/src%2Flibrustc%2Fty%2Fmaps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Fmaps.rs?ref=79de56a14b320327e5077232809ed5f2067aeb40", "patch": "@@ -541,18 +541,6 @@ macro_rules! define_map_struct {\n         }\n     };\n \n-    // Detect things with the `pub` modifier\n-    (tcx: $tcx:tt,\n-     input: (([pub $($other_modifiers:tt)*] $attrs:tt $name:tt) $($input:tt)*),\n-     output: $output:tt) => {\n-        define_map_struct! {\n-            tcx: $tcx,\n-            ready: ([pub] $attrs $name),\n-            input: ($($input)*),\n-            output: $output\n-        }\n-    };\n-\n     // No modifiers left? This is a private item.\n     (tcx: $tcx:tt,\n      input: (([] $attrs:tt $name:tt) $($input:tt)*),\n@@ -685,7 +673,7 @@ define_maps! { <'tcx>\n \n     /// Maps from def-id of a type or region parameter to its\n     /// (inferred) variance.\n-    [pub] variances_of: ItemVariances(DefId) -> Rc<Vec<ty::Variance>>,\n+    [] variances_of: ItemVariances(DefId) -> Rc<Vec<ty::Variance>>,\n \n     /// Maps from an impl/trait def-id to a list of the def-ids of its items\n     [] associated_item_def_ids: AssociatedItemDefIds(DefId) -> Rc<Vec<DefId>>,"}]}