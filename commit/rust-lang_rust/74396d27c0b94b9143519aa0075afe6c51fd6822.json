{"sha": "74396d27c0b94b9143519aa0075afe6c51fd6822", "node_id": "C_kwDOAAsO6NoAKDc0Mzk2ZDI3YzBiOTRiOTE0MzUxOWFhMDA3NWFmZTZjNTFmZDY4MjI", "commit": {"author": {"name": "Dezhi Wu", "email": "wu543065657@163.com", "date": "2021-10-29T10:25:32Z"}, "committer": {"name": "Dezhi Wu", "email": "wu543065657@163.com", "date": "2021-10-29T10:25:32Z"}, "message": "Fix: correct markdown link form.", "tree": {"sha": "88f907c0239480c907f74dbf21bcf69238059d39", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/88f907c0239480c907f74dbf21bcf69238059d39"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/74396d27c0b94b9143519aa0075afe6c51fd6822", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/74396d27c0b94b9143519aa0075afe6c51fd6822", "html_url": "https://github.com/rust-lang/rust/commit/74396d27c0b94b9143519aa0075afe6c51fd6822", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/74396d27c0b94b9143519aa0075afe6c51fd6822/comments", "author": {"login": "dzvon", "id": 3402811, "node_id": "MDQ6VXNlcjM0MDI4MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3402811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dzvon", "html_url": "https://github.com/dzvon", "followers_url": "https://api.github.com/users/dzvon/followers", "following_url": "https://api.github.com/users/dzvon/following{/other_user}", "gists_url": "https://api.github.com/users/dzvon/gists{/gist_id}", "starred_url": "https://api.github.com/users/dzvon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dzvon/subscriptions", "organizations_url": "https://api.github.com/users/dzvon/orgs", "repos_url": "https://api.github.com/users/dzvon/repos", "events_url": "https://api.github.com/users/dzvon/events{/privacy}", "received_events_url": "https://api.github.com/users/dzvon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dzvon", "id": 3402811, "node_id": "MDQ6VXNlcjM0MDI4MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3402811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dzvon", "html_url": "https://github.com/dzvon", "followers_url": "https://api.github.com/users/dzvon/followers", "following_url": "https://api.github.com/users/dzvon/following{/other_user}", "gists_url": "https://api.github.com/users/dzvon/gists{/gist_id}", "starred_url": "https://api.github.com/users/dzvon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dzvon/subscriptions", "organizations_url": "https://api.github.com/users/dzvon/orgs", "repos_url": "https://api.github.com/users/dzvon/repos", "events_url": "https://api.github.com/users/dzvon/events{/privacy}", "received_events_url": "https://api.github.com/users/dzvon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "097d527cbdd288c9a702cfe6f6611e9c0831ad4e", "url": "https://api.github.com/repos/rust-lang/rust/commits/097d527cbdd288c9a702cfe6f6611e9c0831ad4e", "html_url": "https://github.com/rust-lang/rust/commit/097d527cbdd288c9a702cfe6f6611e9c0831ad4e"}], "stats": {"total": 14, "additions": 11, "deletions": 3}, "files": [{"sha": "81f4ccd365c3aca1288d0b942aa247f1813367ef", "filename": "crates/rust-analyzer/src/config.rs", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/74396d27c0b94b9143519aa0075afe6c51fd6822/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/74396d27c0b94b9143519aa0075afe6c51fd6822/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs?ref=74396d27c0b94b9143519aa0075afe6c51fd6822", "patch": "@@ -1290,6 +1290,8 @@ mod tests {\n         schema.push_str(\",\\n\");\n \n         // Transform the asciidoc form link to markdown style.\n+        //\n+        // https://link[text] => [text](https://link)\n         let url_matches = schema.match_indices(\"https://\");\n         let mut url_offsets = url_matches.map(|(idx, _)| idx).collect::<Vec<usize>>();\n         url_offsets.reverse();\n@@ -1298,8 +1300,14 @@ mod tests {\n             // matching on whitespace to ignore normal links\n             if let Some(link_end) = link.find(|c| c == ' ' || c == '[') {\n                 if link.chars().nth(link_end) == Some('[') {\n-                    schema.insert(idx, '(');\n-                    schema.insert(idx + link_end + 1, ')');\n+                    if let Some(link_text_end) = link.find(']') {\n+                        let link_text = link[link_end..(link_text_end + 1)].to_string();\n+\n+                        schema.replace_range((idx + link_end)..(idx + link_text_end + 1), \"\");\n+                        schema.insert(idx, '(');\n+                        schema.insert(idx + link_end + 1, ')');\n+                        schema.insert_str(idx, &link_text);\n+                    }\n                 }\n             }\n         }"}, {"sha": "336081e88c5eb2a9882f04fc455b43cf944232e0", "filename": "editors/code/package.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/74396d27c0b94b9143519aa0075afe6c51fd6822/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/74396d27c0b94b9143519aa0075afe6c51fd6822/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=74396d27c0b94b9143519aa0075afe6c51fd6822", "patch": "@@ -436,7 +436,7 @@\n                     ]\n                 },\n                 \"rust-analyzer.assist.importGroup\": {\n-                    \"markdownDescription\": \"Group inserted imports by the (https://rust-analyzer.github.io/manual.html#auto-import)[following order]. Groups are separated by newlines.\",\n+                    \"markdownDescription\": \"Group inserted imports by the [following order](https://rust-analyzer.github.io/manual.html#auto-import). Groups are separated by newlines.\",\n                     \"default\": true,\n                     \"type\": \"boolean\"\n                 },"}]}