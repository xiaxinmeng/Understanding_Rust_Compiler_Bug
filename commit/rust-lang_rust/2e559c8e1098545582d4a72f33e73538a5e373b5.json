{"sha": "2e559c8e1098545582d4a72f33e73538a5e373b5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJlNTU5YzhlMTA5ODU0NTU4MmQ0YTcyZjMzZTczNTM4YTVlMzczYjU=", "commit": {"author": {"name": "wcampbell", "email": "wcampbell1995@gmail.com", "date": "2021-05-03T00:06:17Z"}, "committer": {"name": "wcampbell", "email": "wcampbell1995@gmail.com", "date": "2021-05-03T11:05:08Z"}, "message": "use `else if` in std library\n\nClippy: Decreases indentation and improves readability\n\nSigned-off-by: wcampbell <wcampbell1995@gmail.com>", "tree": {"sha": "78891c7662f78a66460f94a4cff3cc664ef8b101", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/78891c7662f78a66460f94a4cff3cc664ef8b101"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2e559c8e1098545582d4a72f33e73538a5e373b5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEoLMBW/Y1Vj+lcFnQoED02vxo/+gFAmCP2P4ACgkQoED02vxo\n/+gW1Q/+KyqOoK3Z4Nrdmdsi4FU0vD6XD6eUXCdxoYWyuky5NxYIfuYi6h6MkqM+\nm85o5TeXTbtKCKm+hqfV6qFkM+cyhBr5JJLAJjbmXHVVV638pKo1VbOdpFhRJxMq\nwlu/GEE9e4LomhuwBgGkjfw6OpjWxWMKAe7fGjYZfRe0k5OhVMiKqxs1rusktLLO\nkS2tVk0X+1VGUVuARW6i7UqhZVCWtm0L0xB5yJp2b5K7TNo0WyEh9q19kXWRXr2n\nI3k1AaUq1m3yTm3siCOzqhPcPLUlqPO8O7dGCDwD7zatydfLF2oxyNnm8SXKam8N\nRAItsOC8s09USzSOR0zsklIvAoe58z137xn3qHJmpXUSqm0BDfn/XwNAneMbqp+U\nTEkg9ZJ0ONUfAwB7lOjdBklKoJHcFVXLEVKO8DoWA2gO+VkdovGlEu8hQRGW1EpQ\nKEQWa9ZAmCIwzOA2j18lYOiZm8rUqGDVDxYRv3X5h3+lQ8cfSHVITjfP2eZ1xg/D\nZAMFlOtksZ8J+aykXQ9H+ugO7seBwH2aninKDhaMevrWDTnJyd4ZeVTKjntZ+mEE\nGUtkuI/eqFpB4E7xcLdryF/xsz8vYkCDldBBoOvK8xT3xLR3E5sbfQB9XGrLA5YY\nk6VaoekNdGTNizFGojAcbpAmYEOlQDeDOjqHICqCvoXJk3pVrBY=\n=XZfB\n-----END PGP SIGNATURE-----", "payload": "tree 78891c7662f78a66460f94a4cff3cc664ef8b101\nparent e10cbc33c1fd2fcd446cab5cdcc57332d154721c\nauthor wcampbell <wcampbell1995@gmail.com> 1620000377 -0400\ncommitter wcampbell <wcampbell1995@gmail.com> 1620039908 -0400\n\nuse `else if` in std library\n\nClippy: Decreases indentation and improves readability\n\nSigned-off-by: wcampbell <wcampbell1995@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2e559c8e1098545582d4a72f33e73538a5e373b5", "html_url": "https://github.com/rust-lang/rust/commit/2e559c8e1098545582d4a72f33e73538a5e373b5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2e559c8e1098545582d4a72f33e73538a5e373b5/comments", "author": {"login": "wcampbell0x2a", "id": 15236002, "node_id": "MDQ6VXNlcjE1MjM2MDAy", "avatar_url": "https://avatars.githubusercontent.com/u/15236002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wcampbell0x2a", "html_url": "https://github.com/wcampbell0x2a", "followers_url": "https://api.github.com/users/wcampbell0x2a/followers", "following_url": "https://api.github.com/users/wcampbell0x2a/following{/other_user}", "gists_url": "https://api.github.com/users/wcampbell0x2a/gists{/gist_id}", "starred_url": "https://api.github.com/users/wcampbell0x2a/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wcampbell0x2a/subscriptions", "organizations_url": "https://api.github.com/users/wcampbell0x2a/orgs", "repos_url": "https://api.github.com/users/wcampbell0x2a/repos", "events_url": "https://api.github.com/users/wcampbell0x2a/events{/privacy}", "received_events_url": "https://api.github.com/users/wcampbell0x2a/received_events", "type": "User", "site_admin": false}, "committer": {"login": "wcampbell0x2a", "id": 15236002, "node_id": "MDQ6VXNlcjE1MjM2MDAy", "avatar_url": "https://avatars.githubusercontent.com/u/15236002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wcampbell0x2a", "html_url": "https://github.com/wcampbell0x2a", "followers_url": "https://api.github.com/users/wcampbell0x2a/followers", "following_url": "https://api.github.com/users/wcampbell0x2a/following{/other_user}", "gists_url": "https://api.github.com/users/wcampbell0x2a/gists{/gist_id}", "starred_url": "https://api.github.com/users/wcampbell0x2a/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wcampbell0x2a/subscriptions", "organizations_url": "https://api.github.com/users/wcampbell0x2a/orgs", "repos_url": "https://api.github.com/users/wcampbell0x2a/repos", "events_url": "https://api.github.com/users/wcampbell0x2a/events{/privacy}", "received_events_url": "https://api.github.com/users/wcampbell0x2a/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e10cbc33c1fd2fcd446cab5cdcc57332d154721c", "url": "https://api.github.com/repos/rust-lang/rust/commits/e10cbc33c1fd2fcd446cab5cdcc57332d154721c", "html_url": "https://github.com/rust-lang/rust/commit/e10cbc33c1fd2fcd446cab5cdcc57332d154721c"}], "stats": {"total": 10, "additions": 4, "deletions": 6}, "files": [{"sha": "489b722440362fcbc11a173013f96eef17eb3861", "filename": "library/core/src/time.rs", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/2e559c8e1098545582d4a72f33e73538a5e373b5/library%2Fcore%2Fsrc%2Ftime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2e559c8e1098545582d4a72f33e73538a5e373b5/library%2Fcore%2Fsrc%2Ftime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Ftime.rs?ref=2e559c8e1098545582d4a72f33e73538a5e373b5", "patch": "@@ -518,13 +518,11 @@ impl Duration {\n         if let Some(mut secs) = self.secs.checked_sub(rhs.secs) {\n             let nanos = if self.nanos >= rhs.nanos {\n                 self.nanos - rhs.nanos\n+            } else if let Some(sub_secs) = secs.checked_sub(1) {\n+                secs = sub_secs;\n+                self.nanos + NANOS_PER_SEC - rhs.nanos\n             } else {\n-                if let Some(sub_secs) = secs.checked_sub(1) {\n-                    secs = sub_secs;\n-                    self.nanos + NANOS_PER_SEC - rhs.nanos\n-                } else {\n-                    return None;\n-                }\n+                return None;\n             };\n             debug_assert!(nanos < NANOS_PER_SEC);\n             Some(Duration { secs, nanos })"}]}