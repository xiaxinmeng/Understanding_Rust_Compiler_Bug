{"sha": "38743f51ade64148be396438b1f6fe4639336ab3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4NzQzZjUxYWRlNjQxNDhiZTM5NjQzOGIxZjZmZTQ2MzkzMzZhYjM=", "commit": {"author": {"name": "Michael Woerister", "email": "michaelwoerister@gmail", "date": "2013-06-20T07:53:47Z"}, "committer": {"name": "Michael Woerister", "email": "michaelwoerister@gmail", "date": "2013-06-20T09:50:09Z"}, "message": "debuginfo.rs: Removed some static constants not used anymore.", "tree": {"sha": "d89fc91259ad17f0c0c94b0b32ca7f3dcac2ede9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d89fc91259ad17f0c0c94b0b32ca7f3dcac2ede9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/38743f51ade64148be396438b1f6fe4639336ab3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/38743f51ade64148be396438b1f6fe4639336ab3", "html_url": "https://github.com/rust-lang/rust/commit/38743f51ade64148be396438b1f6fe4639336ab3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/38743f51ade64148be396438b1f6fe4639336ab3/comments", "author": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "committer": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "290d35312a8c74d4652d2e8196234151f9efcabf", "url": "https://api.github.com/repos/rust-lang/rust/commits/290d35312a8c74d4652d2e8196234151f9efcabf", "html_url": "https://github.com/rust-lang/rust/commit/290d35312a8c74d4652d2e8196234151f9efcabf"}], "stats": {"total": 16, "additions": 2, "deletions": 14}, "files": [{"sha": "52fee4be781ef50be865ade4084298fdfecc19a4", "filename": "src/librustc/middle/trans/debuginfo.rs", "status": "modified", "additions": 2, "deletions": 14, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/38743f51ade64148be396438b1f6fe4639336ab3/src%2Flibrustc%2Fmiddle%2Ftrans%2Fdebuginfo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38743f51ade64148be396438b1f6fe4639336ab3/src%2Flibrustc%2Fmiddle%2Ftrans%2Fdebuginfo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fdebuginfo.rs?ref=38743f51ade64148be396438b1f6fe4639336ab3", "patch": "@@ -22,12 +22,12 @@ such as datatype layout, function signatures, block layout, variable location an\n etc. It is the purpose of this module to generate correct metadata and insert it into the LLVM IR.\n \n As the exact format of metadata trees may change between different LLVM versions, we now use LLVM\n-[DIBuilder](http://llvm.org/docs/doxygen/html/classllvm_1_1DIBuilder.html) which to create metadata\n+[DIBuilder](http://llvm.org/docs/doxygen/html/classllvm_1_1DIBuilder.html) to create metadata\n where possible. This will hopefully ease the adaption of this module to future LLVM versions. \n \n The public API of the module is a set of functions that will insert the correct metadata into the \n LLVM IR when called with the right parameters. The module is thus driven from an outside client with\n-function like `debuginfo::create_local_var(bcx: block, local: @ast::local)`.\n+functions like `debuginfo::create_local_var(bcx: block, local: @ast::local)`.\n \n Internally the module will try to reuse already created metadata by utilizing a cache. All private\n state used by the module is stored within a DebugContext struct, which in turn is contained in the\n@@ -67,20 +67,8 @@ use syntax::{ast, codemap, ast_util, ast_map};\n \n static DW_LANG_RUST: int = 0x9000;\n \n-static CompileUnitTag: int = 17;\n-static FileDescriptorTag: int = 41;\n-static SubprogramTag: int = 46;\n-static SubroutineTag: int = 21;\n-static BasicTypeDescriptorTag: int = 36;\n static AutoVariableTag: int = 256;\n static ArgVariableTag: int = 257;\n-static ReturnVariableTag: int = 258;\n-static LexicalBlockTag: int = 11;\n-static PointerTypeTag: int = 15;\n-static StructureTypeTag: int = 19;\n-static MemberTag: int = 13;\n-static ArrayTypeTag: int = 1;\n-static SubrangeTag: int = 33;\n \n static DW_ATE_boolean: int = 0x02;\n static DW_ATE_float: int = 0x04;"}]}