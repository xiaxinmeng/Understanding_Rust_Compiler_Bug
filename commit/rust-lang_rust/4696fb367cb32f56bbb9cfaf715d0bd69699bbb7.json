{"sha": "4696fb367cb32f56bbb9cfaf715d0bd69699bbb7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ2OTZmYjM2N2NiMzJmNTZiYmI5Y2ZhZjcxNWQwYmQ2OTY5OWJiYjc=", "commit": {"author": {"name": "Jeff Olson", "email": "olson.jeffery@gmail.com", "date": "2013-02-10T22:30:07Z"}, "committer": {"name": "Jeff Olson", "email": "olson.jeffery@gmail.com", "date": "2013-02-10T22:30:07Z"}, "message": "std: fix libuv structs on macos", "tree": {"sha": "e572df96fee5ba05d37769095bf3115f22fcfc3d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e572df96fee5ba05d37769095bf3115f22fcfc3d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4696fb367cb32f56bbb9cfaf715d0bd69699bbb7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4696fb367cb32f56bbb9cfaf715d0bd69699bbb7", "html_url": "https://github.com/rust-lang/rust/commit/4696fb367cb32f56bbb9cfaf715d0bd69699bbb7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4696fb367cb32f56bbb9cfaf715d0bd69699bbb7/comments", "author": {"login": "olsonjeffery", "id": 10408, "node_id": "MDQ6VXNlcjEwNDA4", "avatar_url": "https://avatars.githubusercontent.com/u/10408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olsonjeffery", "html_url": "https://github.com/olsonjeffery", "followers_url": "https://api.github.com/users/olsonjeffery/followers", "following_url": "https://api.github.com/users/olsonjeffery/following{/other_user}", "gists_url": "https://api.github.com/users/olsonjeffery/gists{/gist_id}", "starred_url": "https://api.github.com/users/olsonjeffery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olsonjeffery/subscriptions", "organizations_url": "https://api.github.com/users/olsonjeffery/orgs", "repos_url": "https://api.github.com/users/olsonjeffery/repos", "events_url": "https://api.github.com/users/olsonjeffery/events{/privacy}", "received_events_url": "https://api.github.com/users/olsonjeffery/received_events", "type": "User", "site_admin": false}, "committer": {"login": "olsonjeffery", "id": 10408, "node_id": "MDQ6VXNlcjEwNDA4", "avatar_url": "https://avatars.githubusercontent.com/u/10408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olsonjeffery", "html_url": "https://github.com/olsonjeffery", "followers_url": "https://api.github.com/users/olsonjeffery/followers", "following_url": "https://api.github.com/users/olsonjeffery/following{/other_user}", "gists_url": "https://api.github.com/users/olsonjeffery/gists{/gist_id}", "starred_url": "https://api.github.com/users/olsonjeffery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olsonjeffery/subscriptions", "organizations_url": "https://api.github.com/users/olsonjeffery/orgs", "repos_url": "https://api.github.com/users/olsonjeffery/repos", "events_url": "https://api.github.com/users/olsonjeffery/events{/privacy}", "received_events_url": "https://api.github.com/users/olsonjeffery/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a3516ae834897c23f5a2e9bd4ca418b2390ca6b0", "url": "https://api.github.com/repos/rust-lang/rust/commits/a3516ae834897c23f5a2e9bd4ca418b2390ca6b0", "html_url": "https://github.com/rust-lang/rust/commit/a3516ae834897c23f5a2e9bd4ca418b2390ca6b0"}], "stats": {"total": 37, "additions": 35, "deletions": 2}, "files": [{"sha": "e066f8c0bbfe73d667748180ac03ce2cc822ef3e", "filename": "src/libstd/uv_ll.rs", "status": "modified", "additions": 35, "deletions": 2, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/4696fb367cb32f56bbb9cfaf715d0bd69699bbb7/src%2Flibstd%2Fuv_ll.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4696fb367cb32f56bbb9cfaf715d0bd69699bbb7/src%2Flibstd%2Fuv_ll.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fuv_ll.rs?ref=4696fb367cb32f56bbb9cfaf715d0bd69699bbb7", "patch": "@@ -91,7 +91,19 @@ pub struct uv_stream_t {\n }\n \n // 64bit unix size: 216\n-#[cfg(unix)]\n+#[cfg(target_os=\"macos\")]\n+pub struct uv_tcp_t {\n+    fields: uv_handle_fields,\n+    a00: *u8, a01: *u8, a02: *u8, a03: *u8,\n+    a04: *u8, a05: *u8, a06: *u8, a07: *u8,\n+    a08: *u8, a09: *u8, a10: *u8, a11: *u8,\n+    a12: *u8, a13: *u8, a14: *u8, a15: *u8,\n+    a16: *u8, a17: *u8, a18: *u8, a19: *u8,\n+    a20: *u8, a21: *u8, a22: *u8, a23: *u8\n+}\n+#[cfg(target_os=\"linux\")]\n+#[cfg(target_os=\"freebsd\")]\n+#[cfg(target_os=\"android\")]\n pub struct uv_tcp_t {\n     fields: uv_handle_fields,\n     a00: *u8, a01: *u8, a02: *u8, a03: *u8,\n@@ -352,7 +364,6 @@ pub mod uv_ll_struct_stubgen {\n         return gen_stub_os();\n         #[cfg(target_os = \"linux\")]\n         #[cfg(target_os = \"android\")]\n-        #[cfg(target_os = \"macos\")]\n         #[cfg(target_os = \"freebsd\")]\n         pub fn gen_stub_os() -> uv_tcp_t {\n             return gen_stub_arch();\n@@ -427,6 +438,28 @@ pub mod uv_ll_struct_stubgen {\n                 a24: 0 as *u8, a25: 0 as *u8,\n             }\n         }\n+        #[cfg(target_os = \"macos\")]\n+        pub fn gen_stub_os() -> uv_tcp_t {\n+            uv_tcp_t {\n+                fields: uv_handle_fields {\n+                    loop_handle: ptr::null(), type_: 0u32,\n+                    close_cb: ptr::null(),\n+                    data: ptr::null(),\n+                },\n+                a00: 0 as *u8, a01: 0 as *u8, a02: 0 as *u8,\n+                a03: 0 as *u8,\n+                a04: 0 as *u8, a05: 0 as *u8, a06: 0 as *u8,\n+                a07: 0 as *u8,\n+                a08: 0 as *u8, a09: 0 as *u8, a10: 0 as *u8,\n+                a11: 0 as *u8,\n+                a12: 0 as *u8, a13: 0 as *u8, a14: 0 as *u8,\n+                a15: 0 as *u8,\n+                a16: 0 as *u8, a17: 0 as *u8, a18: 0 as *u8,\n+                a19: 0 as *u8,\n+                a20: 0 as *u8, a21: 0 as *u8, a22: 0 as *u8,\n+                a23: 0 as *u8,\n+            }\n+        }\n     }\n     #[cfg(unix)]\n     pub fn gen_stub_uv_connect_t() -> uv_connect_t {"}]}