{"sha": "88037a558711e5182535c577de91429445586634", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg4MDM3YTU1ODcxMWU1MTgyNTM1YzU3N2RlOTE0Mjk0NDU1ODY2MzQ=", "commit": {"author": {"name": "Mark Mansi", "email": "markm@cs.wisc.edu", "date": "2018-08-22T20:07:27Z"}, "committer": {"name": "Mark Mansi", "email": "markm@cs.wisc.edu", "date": "2018-08-24T20:48:00Z"}, "message": "Add/update tests for 2015, 2018, rustfix", "tree": {"sha": "12fa091afa8ad239609732cca1f3da831247ad89", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/12fa091afa8ad239609732cca1f3da831247ad89"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/88037a558711e5182535c577de91429445586634", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/88037a558711e5182535c577de91429445586634", "html_url": "https://github.com/rust-lang/rust/commit/88037a558711e5182535c577de91429445586634", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/88037a558711e5182535c577de91429445586634/comments", "author": {"login": "mark-i-m", "id": 8827840, "node_id": "MDQ6VXNlcjg4Mjc4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8827840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-i-m", "html_url": "https://github.com/mark-i-m", "followers_url": "https://api.github.com/users/mark-i-m/followers", "following_url": "https://api.github.com/users/mark-i-m/following{/other_user}", "gists_url": "https://api.github.com/users/mark-i-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-i-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-i-m/subscriptions", "organizations_url": "https://api.github.com/users/mark-i-m/orgs", "repos_url": "https://api.github.com/users/mark-i-m/repos", "events_url": "https://api.github.com/users/mark-i-m/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-i-m/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mark-i-m", "id": 8827840, "node_id": "MDQ6VXNlcjg4Mjc4NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8827840?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mark-i-m", "html_url": "https://github.com/mark-i-m", "followers_url": "https://api.github.com/users/mark-i-m/followers", "following_url": "https://api.github.com/users/mark-i-m/following{/other_user}", "gists_url": "https://api.github.com/users/mark-i-m/gists{/gist_id}", "starred_url": "https://api.github.com/users/mark-i-m/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mark-i-m/subscriptions", "organizations_url": "https://api.github.com/users/mark-i-m/orgs", "repos_url": "https://api.github.com/users/mark-i-m/repos", "events_url": "https://api.github.com/users/mark-i-m/events{/privacy}", "received_events_url": "https://api.github.com/users/mark-i-m/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3c3c642a05c7624cb77acefed37491a8ddb1f4f1", "url": "https://api.github.com/repos/rust-lang/rust/commits/3c3c642a05c7624cb77acefed37491a8ddb1f4f1", "html_url": "https://github.com/rust-lang/rust/commit/3c3c642a05c7624cb77acefed37491a8ddb1f4f1"}], "stats": {"total": 150, "additions": 75, "deletions": 75}, "files": [{"sha": "064355a6334f2621c0b6f360d1c12c34b07792db", "filename": "src/test/ui/anon-params-denied-2018.rs", "status": "modified", "additions": 14, "deletions": 3, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/88037a558711e5182535c577de91429445586634/src%2Ftest%2Fui%2Fanon-params-denied-2018.rs", "raw_url": "https://github.com/rust-lang/rust/raw/88037a558711e5182535c577de91429445586634/src%2Ftest%2Fui%2Fanon-params-denied-2018.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fanon-params-denied-2018.rs?ref=88037a558711e5182535c577de91429445586634", "patch": "@@ -1,13 +1,24 @@\n // Test that anonymous parameters are disallowed in 2018 edition.\n \n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// Tests that anonymous parameters are a hard error in edition 2018.\n+\n // edition:2018\n \n trait T {\n-    fn foo(i32); //~ ERROR expected identifier\n+    fn foo(i32); //~ expected one of `:` or `@`, found `)`\n \n     fn bar_with_default_impl(String, String) {}\n-    //~^ ERROR expected identifier\n-    //~| ERROR expected identifier\n+    //~^ ERROR expected one of `:` or `@`, found `,`\n }\n \n fn main() {}"}, {"sha": "0603ddaa6c04bb0b74dfe7fc6cefcc9d439df8c1", "filename": "src/test/ui/anon-params-denied-2018.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/88037a558711e5182535c577de91429445586634/src%2Ftest%2Fui%2Fanon-params-denied-2018.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/88037a558711e5182535c577de91429445586634/src%2Ftest%2Fui%2Fanon-params-denied-2018.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fanon-params-denied-2018.stderr?ref=88037a558711e5182535c577de91429445586634", "patch": "@@ -0,0 +1,14 @@\n+error: expected one of `:` or `@`, found `)`\n+  --> $DIR/anon-params-denied-2018.rs:18:15\n+   |\n+LL |     fn foo(i32); //~ expected one of `:` or `@`, found `)`\n+   |               ^ expected one of `:` or `@` here\n+\n+error: expected one of `:` or `@`, found `,`\n+  --> $DIR/anon-params-denied-2018.rs:20:36\n+   |\n+LL |     fn bar_with_default_impl(String, String) {}\n+   |                                    ^ expected one of `:` or `@` here\n+\n+error: aborting due to 2 previous errors\n+"}, {"sha": "11d12f8df559d9c5750ef92c098bb0ae034d2670", "filename": "src/test/ui/anon-params-deprecated.fixed", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/88037a558711e5182535c577de91429445586634/src%2Ftest%2Fui%2Fanon-params-deprecated.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/88037a558711e5182535c577de91429445586634/src%2Ftest%2Fui%2Fanon-params-deprecated.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fanon-params-deprecated.fixed?ref=88037a558711e5182535c577de91429445586634", "patch": "@@ -0,0 +1,29 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![warn(anonymous_parameters)]\n+// Test for the anonymous_parameters deprecation lint (RFC 1685)\n+\n+// compile-pass\n+// edition:2015\n+// run-rustfix\n+\n+trait T {\n+    fn foo(_: i32); //~ WARNING anonymous parameters are deprecated\n+                 //~| WARNING hard error\n+\n+    fn bar_with_default_impl(_: String, _: String) {}\n+    //~^ WARNING anonymous parameters are deprecated\n+    //~| WARNING hard error\n+    //~| WARNING anonymous parameters are deprecated\n+    //~| WARNING hard error\n+}\n+\n+fn main() {}"}, {"sha": "2cc0cdeb34de979c24f9e603eb9252f9c248b897", "filename": "src/test/ui/anon-params-deprecated.rs", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/88037a558711e5182535c577de91429445586634/src%2Ftest%2Fui%2Fanon-params-deprecated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/88037a558711e5182535c577de91429445586634/src%2Ftest%2Fui%2Fanon-params-deprecated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fanon-params-deprecated.rs?ref=88037a558711e5182535c577de91429445586634", "patch": "@@ -8,17 +8,21 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![forbid(anonymous_parameters)]\n+#![warn(anonymous_parameters)]\n // Test for the anonymous_parameters deprecation lint (RFC 1685)\n \n+// compile-pass\n+// edition:2015\n+// run-rustfix\n+\n trait T {\n-    fn foo(i32); //~ ERROR anonymous parameters are deprecated\n+    fn foo(i32); //~ WARNING anonymous parameters are deprecated\n                  //~| WARNING hard error\n \n     fn bar_with_default_impl(String, String) {}\n-    //~^ ERROR anonymous parameters are deprecated\n+    //~^ WARNING anonymous parameters are deprecated\n     //~| WARNING hard error\n-    //~| ERROR anonymous parameters are deprecated\n+    //~| WARNING anonymous parameters are deprecated\n     //~| WARNING hard error\n }\n "}, {"sha": "3d4e8febbfadbab43a455b5dd3d8f16372268c4f", "filename": "src/test/ui/anon-params-deprecated.stderr", "status": "modified", "additions": 10, "deletions": 12, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/88037a558711e5182535c577de91429445586634/src%2Ftest%2Fui%2Fanon-params-deprecated.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/88037a558711e5182535c577de91429445586634/src%2Ftest%2Fui%2Fanon-params-deprecated.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fanon-params-deprecated.stderr?ref=88037a558711e5182535c577de91429445586634", "patch": "@@ -1,34 +1,32 @@\n-error: anonymous parameters are deprecated and will be removed in the next edition.\n-  --> $DIR/anon-params-deprecated.rs:15:12\n+warning: anonymous parameters are deprecated and will be removed in the next edition.\n+  --> $DIR/anon-params-deprecated.rs:19:12\n    |\n-LL |     fn foo(i32); //~ ERROR anonymous parameters are deprecated\n+LL |     fn foo(i32); //~ WARNING anonymous parameters are deprecated\n    |            ^^^ help: Try naming the parameter or explicitly ignoring it: `_: i32`\n    |\n note: lint level defined here\n-  --> $DIR/anon-params-deprecated.rs:11:11\n+  --> $DIR/anon-params-deprecated.rs:11:9\n    |\n-LL | #![forbid(anonymous_parameters)]\n-   |           ^^^^^^^^^^^^^^^^^^^^\n+LL | #![warn(anonymous_parameters)]\n+   |         ^^^^^^^^^^^^^^^^^^^^\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n    = note: for more information, see issue #41686 <https://github.com/rust-lang/rust/issues/41686>\n \n-error: anonymous parameters are deprecated and will be removed in the next edition.\n-  --> $DIR/anon-params-deprecated.rs:18:30\n+warning: anonymous parameters are deprecated and will be removed in the next edition.\n+  --> $DIR/anon-params-deprecated.rs:22:30\n    |\n LL |     fn bar_with_default_impl(String, String) {}\n    |                              ^^^^^^ help: Try naming the parameter or explicitly ignoring it: `_: String`\n    |\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n    = note: for more information, see issue #41686 <https://github.com/rust-lang/rust/issues/41686>\n \n-error: anonymous parameters are deprecated and will be removed in the next edition.\n-  --> $DIR/anon-params-deprecated.rs:18:38\n+warning: anonymous parameters are deprecated and will be removed in the next edition.\n+  --> $DIR/anon-params-deprecated.rs:22:38\n    |\n LL |     fn bar_with_default_impl(String, String) {}\n    |                                      ^^^^^^ help: Try naming the parameter or explicitly ignoring it: `_: String`\n    |\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n    = note: for more information, see issue #41686 <https://github.com/rust-lang/rust/issues/41686>\n \n-error: aborting due to 3 previous errors\n-"}, {"sha": "c4379b496f8d4fd1a112fa70243099799fab93c6", "filename": "src/test/ui/lint/lint-anon-param-edition.fixed", "status": "removed", "additions": 0, "deletions": 23, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/3c3c642a05c7624cb77acefed37491a8ddb1f4f1/src%2Ftest%2Fui%2Flint%2Flint-anon-param-edition.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/3c3c642a05c7624cb77acefed37491a8ddb1f4f1/src%2Ftest%2Fui%2Flint%2Flint-anon-param-edition.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-anon-param-edition.fixed?ref=3c3c642a05c7624cb77acefed37491a8ddb1f4f1", "patch": "@@ -1,23 +0,0 @@\n-// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-// tests that the anonymous_parameters lint is warn-by-default on the 2018 edition\n-\n-// compile-pass\n-// edition:2018\n-// run-rustfix\n-\n-trait Foo {\n-    fn foo(_: u8);\n-    //^ WARN anonymous parameters are deprecated\n-    //| WARN this was previously accepted\n-}\n-\n-fn main() {}"}, {"sha": "13eb5dfd816ab0e18860b4ccb9871e9712c99d6e", "filename": "src/test/ui/lint/lint-anon-param-edition.rs", "status": "removed", "additions": 0, "deletions": 23, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/3c3c642a05c7624cb77acefed37491a8ddb1f4f1/src%2Ftest%2Fui%2Flint%2Flint-anon-param-edition.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c3c642a05c7624cb77acefed37491a8ddb1f4f1/src%2Ftest%2Fui%2Flint%2Flint-anon-param-edition.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-anon-param-edition.rs?ref=3c3c642a05c7624cb77acefed37491a8ddb1f4f1", "patch": "@@ -1,23 +0,0 @@\n-// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-// tests that the anonymous_parameters lint is warn-by-default on the 2018 edition\n-\n-// compile-pass\n-// edition:2018\n-// run-rustfix\n-\n-trait Foo {\n-    fn foo(u8);\n-    //^ WARN anonymous parameters are deprecated\n-    //| WARN this was previously accepted\n-}\n-\n-fn main() {}"}, {"sha": "de347770aec77aa7d52ab68716268b7d13675c27", "filename": "src/test/ui/lint/lint-anon-param-edition.stderr", "status": "removed", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3c3c642a05c7624cb77acefed37491a8ddb1f4f1/src%2Ftest%2Fui%2Flint%2Flint-anon-param-edition.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3c3c642a05c7624cb77acefed37491a8ddb1f4f1/src%2Ftest%2Fui%2Flint%2Flint-anon-param-edition.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-anon-param-edition.stderr?ref=3c3c642a05c7624cb77acefed37491a8ddb1f4f1", "patch": "@@ -1,10 +0,0 @@\n-warning: anonymous parameters are deprecated and will be removed in the next edition.\n-  --> $DIR/lint-anon-param-edition.rs:18:12\n-   |\n-LL |     fn foo(u8);\n-   |            ^^ help: Try naming the parameter or explicitly ignoring it: `_: u8`\n-   |\n-   = note: #[warn(anonymous_parameters)] on by default\n-   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n-   = note: for more information, see issue #41686 <https://github.com/rust-lang/rust/issues/41686>\n-"}]}