{"sha": "0cf28dc95d8396aa207bddd2d4424963b64d0c16", "node_id": "C_kwDOAAsO6NoAKDBjZjI4ZGM5NWQ4Mzk2YWEyMDdiZGRkMmQ0NDI0OTYzYjY0ZDBjMTY", "commit": {"author": {"name": "Gary Guo", "email": "gary@garyguo.net", "date": "2022-06-30T01:12:39Z"}, "committer": {"name": "Gary Guo", "email": "gary@garyguo.net", "date": "2022-06-30T01:51:00Z"}, "message": "Skip ffi-unwind lint test with `-Cpanic=abort`", "tree": {"sha": "4a1384b5b92d22a78ac53e311acd70465c20fc8d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4a1384b5b92d22a78ac53e311acd70465c20fc8d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0cf28dc95d8396aa207bddd2d4424963b64d0c16", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0cf28dc95d8396aa207bddd2d4424963b64d0c16", "html_url": "https://github.com/rust-lang/rust/commit/0cf28dc95d8396aa207bddd2d4424963b64d0c16", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0cf28dc95d8396aa207bddd2d4424963b64d0c16/comments", "author": {"login": "nbdd0121", "id": 4065244, "node_id": "MDQ6VXNlcjQwNjUyNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4065244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbdd0121", "html_url": "https://github.com/nbdd0121", "followers_url": "https://api.github.com/users/nbdd0121/followers", "following_url": "https://api.github.com/users/nbdd0121/following{/other_user}", "gists_url": "https://api.github.com/users/nbdd0121/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbdd0121/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbdd0121/subscriptions", "organizations_url": "https://api.github.com/users/nbdd0121/orgs", "repos_url": "https://api.github.com/users/nbdd0121/repos", "events_url": "https://api.github.com/users/nbdd0121/events{/privacy}", "received_events_url": "https://api.github.com/users/nbdd0121/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nbdd0121", "id": 4065244, "node_id": "MDQ6VXNlcjQwNjUyNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4065244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nbdd0121", "html_url": "https://github.com/nbdd0121", "followers_url": "https://api.github.com/users/nbdd0121/followers", "following_url": "https://api.github.com/users/nbdd0121/following{/other_user}", "gists_url": "https://api.github.com/users/nbdd0121/gists{/gist_id}", "starred_url": "https://api.github.com/users/nbdd0121/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nbdd0121/subscriptions", "organizations_url": "https://api.github.com/users/nbdd0121/orgs", "repos_url": "https://api.github.com/users/nbdd0121/repos", "events_url": "https://api.github.com/users/nbdd0121/events{/privacy}", "received_events_url": "https://api.github.com/users/nbdd0121/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "49e6b7986a49a0ea1cd17a7853f26fe89883ef00", "url": "https://api.github.com/repos/rust-lang/rust/commits/49e6b7986a49a0ea1cd17a7853f26fe89883ef00", "html_url": "https://github.com/rust-lang/rust/commit/49e6b7986a49a0ea1cd17a7853f26fe89883ef00"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "dadf4b1218784bc04fd5fbe65a6a2d213954aa42", "filename": "src/test/ui/unwind-abis/ffi-unwind-calls-lint.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0cf28dc95d8396aa207bddd2d4424963b64d0c16/src%2Ftest%2Fui%2Funwind-abis%2Fffi-unwind-calls-lint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0cf28dc95d8396aa207bddd2d4424963b64d0c16/src%2Ftest%2Fui%2Funwind-abis%2Fffi-unwind-calls-lint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funwind-abis%2Fffi-unwind-calls-lint.rs?ref=0cf28dc95d8396aa207bddd2d4424963b64d0c16", "patch": "@@ -1,4 +1,6 @@\n // build-pass\n+// needs-unwind\n+// ignore-wasm32-bare compiled with panic=abort by default\n \n #![feature(c_unwind)]\n #![warn(ffi_unwind_calls)]"}, {"sha": "ed41cb74623cb441233ae990eb1a656b7e0198b2", "filename": "src/test/ui/unwind-abis/ffi-unwind-calls-lint.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0cf28dc95d8396aa207bddd2d4424963b64d0c16/src%2Ftest%2Fui%2Funwind-abis%2Fffi-unwind-calls-lint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0cf28dc95d8396aa207bddd2d4424963b64d0c16/src%2Ftest%2Fui%2Funwind-abis%2Fffi-unwind-calls-lint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funwind-abis%2Fffi-unwind-calls-lint.stderr?ref=0cf28dc95d8396aa207bddd2d4424963b64d0c16", "patch": "@@ -1,17 +1,17 @@\n warning: call to foreign function with FFI-unwind ABI\n-  --> $DIR/ffi-unwind-calls-lint.rs:19:14\n+  --> $DIR/ffi-unwind-calls-lint.rs:21:14\n    |\n LL |     unsafe { foo(); }\n    |              ^^^^^ call to foreign function with FFI-unwind ABI\n    |\n note: the lint level is defined here\n-  --> $DIR/ffi-unwind-calls-lint.rs:4:9\n+  --> $DIR/ffi-unwind-calls-lint.rs:6:9\n    |\n LL | #![warn(ffi_unwind_calls)]\n    |         ^^^^^^^^^^^^^^^^\n \n warning: call to function pointer with FFI-unwind ABI\n-  --> $DIR/ffi-unwind-calls-lint.rs:23:5\n+  --> $DIR/ffi-unwind-calls-lint.rs:25:5\n    |\n LL |     ptr();\n    |     ^^^^^ call to function pointer with FFI-unwind ABI"}]}