{"sha": "7548d952af07e7df18bb894b3f470d321f4d6c04", "node_id": "C_kwDOAAsO6NoAKDc1NDhkOTUyYWYwN2U3ZGYxOGJiODk0YjNmNDcwZDMyMWY0ZDZjMDQ", "commit": {"author": {"name": "Jhonny Bill Mena", "email": "jhonnybillm@gmail.com", "date": "2022-09-10T17:24:46Z"}, "committer": {"name": "Jhonny Bill Mena", "email": "jhonnybillm@gmail.com", "date": "2022-10-07T14:03:45Z"}, "message": "UPDATE - resolve fixme and emit errors via Handler", "tree": {"sha": "e3d7b366fe020e28e458cfb87260a53260f6987d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e3d7b366fe020e28e458cfb87260a53260f6987d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7548d952af07e7df18bb894b3f470d321f4d6c04", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7548d952af07e7df18bb894b3f470d321f4d6c04", "html_url": "https://github.com/rust-lang/rust/commit/7548d952af07e7df18bb894b3f470d321f4d6c04", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7548d952af07e7df18bb894b3f470d321f4d6c04/comments", "author": {"login": "JhonnyBillM", "id": 18747072, "node_id": "MDQ6VXNlcjE4NzQ3MDcy", "avatar_url": "https://avatars.githubusercontent.com/u/18747072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JhonnyBillM", "html_url": "https://github.com/JhonnyBillM", "followers_url": "https://api.github.com/users/JhonnyBillM/followers", "following_url": "https://api.github.com/users/JhonnyBillM/following{/other_user}", "gists_url": "https://api.github.com/users/JhonnyBillM/gists{/gist_id}", "starred_url": "https://api.github.com/users/JhonnyBillM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JhonnyBillM/subscriptions", "organizations_url": "https://api.github.com/users/JhonnyBillM/orgs", "repos_url": "https://api.github.com/users/JhonnyBillM/repos", "events_url": "https://api.github.com/users/JhonnyBillM/events{/privacy}", "received_events_url": "https://api.github.com/users/JhonnyBillM/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JhonnyBillM", "id": 18747072, "node_id": "MDQ6VXNlcjE4NzQ3MDcy", "avatar_url": "https://avatars.githubusercontent.com/u/18747072?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JhonnyBillM", "html_url": "https://github.com/JhonnyBillM", "followers_url": "https://api.github.com/users/JhonnyBillM/followers", "following_url": "https://api.github.com/users/JhonnyBillM/following{/other_user}", "gists_url": "https://api.github.com/users/JhonnyBillM/gists{/gist_id}", "starred_url": "https://api.github.com/users/JhonnyBillM/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JhonnyBillM/subscriptions", "organizations_url": "https://api.github.com/users/JhonnyBillM/orgs", "repos_url": "https://api.github.com/users/JhonnyBillM/repos", "events_url": "https://api.github.com/users/JhonnyBillM/events{/privacy}", "received_events_url": "https://api.github.com/users/JhonnyBillM/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "67eb01c3f3c9ce8237bb09ecb4a77b3030af025b", "url": "https://api.github.com/repos/rust-lang/rust/commits/67eb01c3f3c9ce8237bb09ecb4a77b3030af025b", "html_url": "https://github.com/rust-lang/rust/commit/67eb01c3f3c9ce8237bb09ecb4a77b3030af025b"}], "stats": {"total": 19, "additions": 6, "deletions": 13}, "files": [{"sha": "1f577e9f3524f04390a672d001a18a39c7897353", "filename": "compiler/rustc_codegen_ssa/src/back/write.rs", "status": "modified", "additions": 6, "deletions": 13, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/7548d952af07e7df18bb894b3f470d321f4d6c04/compiler%2Frustc_codegen_ssa%2Fsrc%2Fback%2Fwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7548d952af07e7df18bb894b3f470d321f4d6c04/compiler%2Frustc_codegen_ssa%2Fsrc%2Fback%2Fwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_ssa%2Fsrc%2Fback%2Fwrite.rs?ref=7548d952af07e7df18bb894b3f470d321f4d6c04", "patch": "@@ -872,19 +872,12 @@ fn execute_copy_from_cache_work_item<B: ExtraBackendMethods>(\n         );\n         match link_or_copy(&source_file, &output_path) {\n             Ok(_) => Some(output_path),\n-            Err(_) => {\n-                // FIXME:\n-                // Should we add Translations support in Handler, or should we pass a session here ?\n-                //\n-                // As Luis Cardoso mentioned here https://github.com/rust-lang/rust/pull/100753#discussion_r952975345,\n-                // Translations support in Handler is tricky because SessionDiagnostic is not a trait,\n-                // and we can't implement it in Handler because rustc_errors cannot depend on rustc_session.\n-                //\n-                // As for passing a session here, my understanding is that all these errors should be reported via\n-                // the Shared Handler, which leads us to probably having to support Translations in another way.\n-\n-                // let diag_handler = cgcx.create_diag_handler();\n-                // diag_handler.emit_err(errors::CopyPathBuf { source_file, output_path, error });\n+            Err(error) => {\n+                cgcx.create_diag_handler().emit_err(errors::CopyPathBuf {\n+                    source_file,\n+                    output_path,\n+                    error,\n+                });\n                 None\n             }\n         }"}]}