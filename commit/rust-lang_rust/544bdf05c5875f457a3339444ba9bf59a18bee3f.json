{"sha": "544bdf05c5875f457a3339444ba9bf59a18bee3f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0NGJkZjA1YzU4NzVmNDU3YTMzMzk0NDRiYTliZjU5YTE4YmVlM2Y=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-08-12T06:36:43Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-08-12T19:14:07Z"}, "message": "Convert uint::parse_buf to ivecs", "tree": {"sha": "cceaabd358a59930d845d7bac404e836dd27fad5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cceaabd358a59930d845d7bac404e836dd27fad5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/544bdf05c5875f457a3339444ba9bf59a18bee3f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/544bdf05c5875f457a3339444ba9bf59a18bee3f", "html_url": "https://github.com/rust-lang/rust/commit/544bdf05c5875f457a3339444ba9bf59a18bee3f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/544bdf05c5875f457a3339444ba9bf59a18bee3f/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5f71a204d356d499c592e0c95fc7f4334e943d03", "url": "https://api.github.com/repos/rust-lang/rust/commits/5f71a204d356d499c592e0c95fc7f4334e943d03", "html_url": "https://github.com/rust-lang/rust/commit/5f71a204d356d499c592e0c95fc7f4334e943d03"}], "stats": {"total": 20, "additions": 9, "deletions": 11}, "files": [{"sha": "961d7f1f400d1abe646897849a1700b5042be675", "filename": "src/comp/metadata/tydecode.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/544bdf05c5875f457a3339444ba9bf59a18bee3f/src%2Fcomp%2Fmetadata%2Ftydecode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/544bdf05c5875f457a3339444ba9bf59a18bee3f/src%2Fcomp%2Fmetadata%2Ftydecode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmetadata%2Ftydecode.rs?ref=544bdf05c5875f457a3339444ba9bf59a18bee3f", "patch": "@@ -411,11 +411,10 @@ fn parse_def_id(buf: &[u8]) -> ast::def_id {\n     let crate_part = ivec::slice[u8](buf, 0u, colon_idx);\n     let def_part = ivec::slice[u8](buf, colon_idx + 1u, len);\n \n-    // FIXME: Remove these ivec->vec conversions.\n-    let crate_part_vec = [];\n-    let def_part_vec = [];\n-    for b: u8  in crate_part { crate_part_vec += [b]; }\n-    for b: u8  in def_part { def_part_vec += [b]; }\n+    let crate_part_vec = ~[];\n+    let def_part_vec = ~[];\n+    for b: u8  in crate_part { crate_part_vec += ~[b]; }\n+    for b: u8  in def_part { def_part_vec += ~[b]; }\n \n     let crate_num = uint::parse_buf(crate_part_vec, 10u) as int;\n     let def_num = uint::parse_buf(def_part_vec, 10u) as int;"}, {"sha": "84eceb3b6d6ce07de7f5bcf8c97c542d9d048705", "filename": "src/lib/uint.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/544bdf05c5875f457a3339444ba9bf59a18bee3f/src%2Flib%2Fuint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/544bdf05c5875f457a3339444ba9bf59a18bee3f/src%2Flib%2Fuint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fuint.rs?ref=544bdf05c5875f457a3339444ba9bf59a18bee3f", "patch": "@@ -42,9 +42,9 @@ fn next_power_of_two(n: uint) -> uint {\n     ret tmp + 1u;\n }\n \n-fn parse_buf(buf: vec[u8], radix: uint) -> uint {\n-    if vec::len[u8](buf) == 0u { log_err \"parse_buf(): buf is empty\"; fail; }\n-    let i = vec::len[u8](buf) - 1u;\n+fn parse_buf(buf: &[u8], radix: uint) -> uint {\n+    if ivec::len[u8](buf) == 0u { log_err \"parse_buf(): buf is empty\"; fail; }\n+    let i = ivec::len[u8](buf) - 1u;\n     let power = 1u;\n     let n = 0u;\n     while true {"}, {"sha": "101883d2ba0b45a5f4f64ab3b1f10acfa53562f6", "filename": "src/test/bench/shootout-pfib.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/544bdf05c5875f457a3339444ba9bf59a18bee3f/src%2Ftest%2Fbench%2Fshootout-pfib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/544bdf05c5875f457a3339444ba9bf59a18bee3f/src%2Ftest%2Fbench%2Fshootout-pfib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-pfib.rs?ref=544bdf05c5875f457a3339444ba9bf59a18bee3f", "patch": "@@ -89,8 +89,7 @@ fn main(argv: vec[str]) {\n         if opts.stress {\n             stress(2);\n         } else {\n-            let max = uint::parse_buf(ivec::to_vec(str::bytes(iargv.(1))),\n-                                      10u) as int;\n+            let max = uint::parse_buf(str::bytes(iargv.(1)), 10u) as int;\n \n             let num_trials = 10;\n "}, {"sha": "378d0a53e9758e9887ddcf4dcf9b72d7e2894af6", "filename": "src/test/bench/task-perf-spawnalot.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/544bdf05c5875f457a3339444ba9bf59a18bee3f/src%2Ftest%2Fbench%2Ftask-perf-spawnalot.rs", "raw_url": "https://github.com/rust-lang/rust/raw/544bdf05c5875f457a3339444ba9bf59a18bee3f/src%2Ftest%2Fbench%2Ftask-perf-spawnalot.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Ftask-perf-spawnalot.rs?ref=544bdf05c5875f457a3339444ba9bf59a18bee3f", "patch": "@@ -20,7 +20,7 @@ fn main(args: vec[str]) {\n     let n = if ivec::len(iargs) < 2u {\n         10u\n     } else {\n-        uint::parse_buf(ivec::to_vec(str::bytes(iargs.(1))), 10u)\n+        uint::parse_buf(str::bytes(iargs.(1)), 10u)\n     };\n     let i = 0u;\n     while i < n {"}]}