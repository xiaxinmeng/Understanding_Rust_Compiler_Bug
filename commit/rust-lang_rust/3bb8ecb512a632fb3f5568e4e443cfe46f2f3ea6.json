{"sha": "3bb8ecb512a632fb3f5568e4e443cfe46f2f3ea6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNiYjhlY2I1MTJhNjMyZmIzZjU1NjhlNGU0NDNjZmU0NmYyZjNlYTY=", "commit": {"author": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2020-01-25T15:03:44Z"}, "committer": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2020-02-02T12:20:58Z"}, "message": "Adjust mir-opt tests to new `yield` lowering", "tree": {"sha": "8324b8c2f8db5403367fb63821880807d73cc72e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8324b8c2f8db5403367fb63821880807d73cc72e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3bb8ecb512a632fb3f5568e4e443cfe46f2f3ea6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3bb8ecb512a632fb3f5568e4e443cfe46f2f3ea6", "html_url": "https://github.com/rust-lang/rust/commit/3bb8ecb512a632fb3f5568e4e443cfe46f2f3ea6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3bb8ecb512a632fb3f5568e4e443cfe46f2f3ea6/comments", "author": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7a9709b08a57620a791259b53d71a59acf8f7b5c", "url": "https://api.github.com/repos/rust-lang/rust/commits/7a9709b08a57620a791259b53d71a59acf8f7b5c", "html_url": "https://github.com/rust-lang/rust/commit/7a9709b08a57620a791259b53d71a59acf8f7b5c"}], "stats": {"total": 60, "additions": 31, "deletions": 29}, "files": [{"sha": "307370f14358ebef94c163887acf684be1187101", "filename": "src/test/mir-opt/generator-drop-cleanup.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3bb8ecb512a632fb3f5568e4e443cfe46f2f3ea6/src%2Ftest%2Fmir-opt%2Fgenerator-drop-cleanup.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3bb8ecb512a632fb3f5568e4e443cfe46f2f3ea6/src%2Ftest%2Fmir-opt%2Fgenerator-drop-cleanup.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fgenerator-drop-cleanup.rs?ref=3bb8ecb512a632fb3f5568e4e443cfe46f2f3ea6", "patch": "@@ -13,12 +13,12 @@ fn main() {\n \n // START rustc.main-{{closure}}.generator_drop.0.mir\n // bb0: {\n-//     _5 = discriminant((*_1));\n-//     switchInt(move _5) -> [0u32: bb4, 3u32: bb7, otherwise: bb8];\n+//     _6 = discriminant((*_1));\n+//     switchInt(move _6) -> [0u32: bb4, 3u32: bb7, otherwise: bb8];\n // }\n // bb1: {\n+//     StorageDead(_4);\n //     StorageDead(_3);\n-//     StorageDead(_2);\n //     goto -> bb5;\n // }\n // bb2: {\n@@ -39,6 +39,8 @@ fn main() {\n // bb7: {\n //     StorageLive(_2);\n //     StorageLive(_3);\n+//     StorageLive(_4);\n+//     _3 = move _2;\n //     goto -> bb1;\n // }\n // bb8: {"}, {"sha": "4442fa5f52126457b6c4d88312c2de8fef0aa12a", "filename": "src/test/mir-opt/generator-storage-dead-unwind.rs", "status": "modified", "additions": 26, "deletions": 26, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/3bb8ecb512a632fb3f5568e4e443cfe46f2f3ea6/src%2Ftest%2Fmir-opt%2Fgenerator-storage-dead-unwind.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3bb8ecb512a632fb3f5568e4e443cfe46f2f3ea6/src%2Ftest%2Fmir-opt%2Fgenerator-storage-dead-unwind.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fgenerator-storage-dead-unwind.rs?ref=3bb8ecb512a632fb3f5568e4e443cfe46f2f3ea6", "patch": "@@ -31,81 +31,81 @@ fn main() {\n \n // START rustc.main-{{closure}}.StateTransform.before.mir\n // ...\n-// let _2: Foo;\n+// let _3: Foo;\n // ...\n-// let mut _7: Foo;\n+// let mut _8: Foo;\n // ...\n-// let mut _9: Bar;\n+// let mut _10: Bar;\n // scope 1 {\n-//     debug a => _2;\n-//     let _3: Bar;\n+//     debug a => _3;\n+//     let _4: Bar;\n //     scope 2 {\n-//         debug b => _3;\n+//         debug b => _4;\n //     }\n // }\n // bb0: {\n-//     StorageLive(_2);\n-//     _2 = Foo(const 5i32,);\n //     StorageLive(_3);\n-//     _3 = Bar(const 6i32,);\n+//     _3 = Foo(const 5i32,);\n+//     StorageLive(_4);\n+//     _4 = Bar(const 6i32,);\n //     ...\n-//     _1 = suspend(move _5) -> [resume: bb2, drop: bb4];\n+//     _1 = suspend(move _6) -> [resume: bb2, drop: bb4];\n // }\n // bb1 (cleanup): {\n //     resume;\n // }\n // bb2: {\n //     ...\n-//     StorageLive(_6);\n //     StorageLive(_7);\n-//     _7 = move _2;\n-//     _6 = const take::<Foo>(move _7) -> [return: bb7, unwind: bb9];\n+//     StorageLive(_8);\n+//     _8 = move _3;\n+//     _7 = const take::<Foo>(move _8) -> [return: bb7, unwind: bb9];\n // }\n // bb3 (cleanup): {\n-//     StorageDead(_2);\n+//     StorageDead(_3);\n //     drop(_1) -> bb1;\n // }\n // bb4: {\n //     ...\n-//     StorageDead(_3);\n-//     drop(_2) -> [return: bb5, unwind: bb3];\n+//     StorageDead(_4);\n+//     drop(_3) -> [return: bb5, unwind: bb3];\n // }\n // bb5: {\n-//     StorageDead(_2);\n+//     StorageDead(_3);\n //     drop(_1) -> [return: bb6, unwind: bb1];\n // }\n // bb6: {\n //     generator_drop;\n // }\n // bb7: {\n+//     StorageDead(_8);\n //     StorageDead(_7);\n-//     StorageDead(_6);\n-//     StorageLive(_8);\n //     StorageLive(_9);\n-//     _9 = move _3;\n-//     _8 = const take::<Bar>(move _9) -> [return: bb10, unwind: bb11];\n+//     StorageLive(_10);\n+//     _10 = move _4;\n+//     _9 = const take::<Bar>(move _10) -> [return: bb10, unwind: bb11];\n // }\n // bb8 (cleanup): {\n+//     StorageDead(_4);\n //     StorageDead(_3);\n-//     StorageDead(_2);\n //     drop(_1) -> bb1;\n // }\n // bb9 (cleanup): {\n+//     StorageDead(_8);\n //     StorageDead(_7);\n-//     StorageDead(_6);\n //     goto -> bb8;\n // }\n // bb10: {\n+//     StorageDead(_10);\n //     StorageDead(_9);\n-//     StorageDead(_8);\n //     ...\n+//     StorageDead(_4);\n //     StorageDead(_3);\n-//     StorageDead(_2);\n //     drop(_1) -> [return: bb12, unwind: bb1];\n // }\n // bb11 (cleanup): {\n+//     StorageDead(_10);\n //     StorageDead(_9);\n-//     StorageDead(_8);\n //     goto -> bb8;\n // }\n // bb12: {"}]}