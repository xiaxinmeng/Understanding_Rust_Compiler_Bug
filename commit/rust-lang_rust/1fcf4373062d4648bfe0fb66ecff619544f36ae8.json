{"sha": "1fcf4373062d4648bfe0fb66ecff619544f36ae8", "node_id": "C_kwDOAAsO6NoAKDFmY2Y0MzczMDYyZDQ2NDhiZmUwZmI2NmVjZmY2MTk1NDRmMzZhZTg", "commit": {"author": {"name": "Antoni Boucher", "email": "bouanto@zoho.com", "date": "2023-02-28T22:39:01Z"}, "committer": {"name": "Antoni Boucher", "email": "bouanto@zoho.com", "date": "2023-02-28T22:39:01Z"}, "message": "Add instructions for a working git-subtree", "tree": {"sha": "8a1c770d42901edf31da9c11359d84ed68ca6faf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8a1c770d42901edf31da9c11359d84ed68ca6faf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1fcf4373062d4648bfe0fb66ecff619544f36ae8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1fcf4373062d4648bfe0fb66ecff619544f36ae8", "html_url": "https://github.com/rust-lang/rust/commit/1fcf4373062d4648bfe0fb66ecff619544f36ae8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1fcf4373062d4648bfe0fb66ecff619544f36ae8/comments", "author": {"login": "antoyo", "id": 584972, "node_id": "MDQ6VXNlcjU4NDk3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/584972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoyo", "html_url": "https://github.com/antoyo", "followers_url": "https://api.github.com/users/antoyo/followers", "following_url": "https://api.github.com/users/antoyo/following{/other_user}", "gists_url": "https://api.github.com/users/antoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoyo/subscriptions", "organizations_url": "https://api.github.com/users/antoyo/orgs", "repos_url": "https://api.github.com/users/antoyo/repos", "events_url": "https://api.github.com/users/antoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/antoyo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "antoyo", "id": 584972, "node_id": "MDQ6VXNlcjU4NDk3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/584972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoyo", "html_url": "https://github.com/antoyo", "followers_url": "https://api.github.com/users/antoyo/followers", "following_url": "https://api.github.com/users/antoyo/following{/other_user}", "gists_url": "https://api.github.com/users/antoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoyo/subscriptions", "organizations_url": "https://api.github.com/users/antoyo/orgs", "repos_url": "https://api.github.com/users/antoyo/repos", "events_url": "https://api.github.com/users/antoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/antoyo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7a22c47c6acba6d3992963a4d6c5bbc6eac24c68", "url": "https://api.github.com/repos/rust-lang/rust/commits/7a22c47c6acba6d3992963a4d6c5bbc6eac24c68", "html_url": "https://github.com/rust-lang/rust/commit/7a22c47c6acba6d3992963a4d6c5bbc6eac24c68"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "44b3c14fb9a77746f8785319472c1b12207ec9e0", "filename": "Readme.md", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/1fcf4373062d4648bfe0fb66ecff619544f36ae8/Readme.md", "raw_url": "https://github.com/rust-lang/rust/raw/1fcf4373062d4648bfe0fb66ecff619544f36ae8/Readme.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Readme.md?ref=1fcf4373062d4648bfe0fb66ecff619544f36ae8", "patch": "@@ -187,6 +187,17 @@ TODO(antoyo): but that's not what I remember I was doing.\n  * Build the stage2 compiler (`rustup toolchain link debug-current build/x86_64-unknown-linux-gnu/stage2`).\n  * Clean and rebuild the codegen with `debug-current` in the file `rust-toolchain`.\n \n+### How to install a forked git-subtree\n+\n+Using git-subtree with `rustc` requires a patched git to make it work.\n+The PR that is needed is [here](https://github.com/gitgitgadget/git/pull/493).\n+Compile it and copy those files to `/usr/local/bin`:\n+\n+```\n+git-commit-tree  git-ls-tree        git-merge-tree  git-read-tree  git-write-tree\n+git-diff-tree    git-merge-subtree  git-mktree      git-worktree\n+```\n+\n ### How to use [mem-trace](https://github.com/antoyo/mem-trace)\n \n `rustc` needs to be built without `jemalloc` so that `mem-trace` can overload `malloc` since `jemalloc` is linked statically, so a `LD_PRELOAD`-ed library won't a chance to intercept the calls to `malloc`."}]}