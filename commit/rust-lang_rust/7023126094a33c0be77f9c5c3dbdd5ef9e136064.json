{"sha": "7023126094a33c0be77f9c5c3dbdd5ef9e136064", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwMjMxMjYwOTRhMzNjMGJlNzdmOWM1YzNkYmRkNWVmOWUxMzYwNjQ=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-07-11T15:53:44Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-07-11T17:36:45Z"}, "message": "stop producing binaries", "tree": {"sha": "dab7b18e5a3c042ae1330cd7210501f263dda83a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dab7b18e5a3c042ae1330cd7210501f263dda83a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7023126094a33c0be77f9c5c3dbdd5ef9e136064", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7023126094a33c0be77f9c5c3dbdd5ef9e136064", "html_url": "https://github.com/rust-lang/rust/commit/7023126094a33c0be77f9c5c3dbdd5ef9e136064", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7023126094a33c0be77f9c5c3dbdd5ef9e136064/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ef64c25bd0a950abc4b4580ae14429184891f854", "url": "https://api.github.com/repos/rust-lang/rust/commits/ef64c25bd0a950abc4b4580ae14429184891f854", "html_url": "https://github.com/rust-lang/rust/commit/ef64c25bd0a950abc4b4580ae14429184891f854"}], "stats": {"total": 15, "additions": 1, "deletions": 14}, "files": [{"sha": "f6dc65a0d27c3d3b02774c2a802ca5c479f9938f", "filename": "src/bin/miri.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/7023126094a33c0be77f9c5c3dbdd5ef9e136064/src%2Fbin%2Fmiri.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7023126094a33c0be77f9c5c3dbdd5ef9e136064/src%2Fbin%2Fmiri.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbin%2Fmiri.rs?ref=7023126094a33c0be77f9c5c3dbdd5ef9e136064", "patch": "@@ -87,10 +87,7 @@ impl<'a> CompilerCalls<'a> for MiriCompilerCalls {\n         control.after_hir_lowering.callback = Box::new(after_hir_lowering);\n         let start_fn = this.start_fn;\n         control.after_analysis.callback = Box::new(move |state| after_analysis(state, start_fn));\n-        if sess.target.target != sess.host {\n-            // only fully compile targets on the host. linking will fail for cross-compilation.\n-            control.after_analysis.stop = Compilation::Stop;\n-        }\n+        control.after_analysis.stop = Compilation::Stop;\n         control\n     }\n }"}, {"sha": "beed82e058029681b73495548cea7c316098ba2c", "filename": "tests/run-pass/aux_test.rs", "status": "removed", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/ef64c25bd0a950abc4b4580ae14429184891f854/tests%2Frun-pass%2Faux_test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef64c25bd0a950abc4b4580ae14429184891f854/tests%2Frun-pass%2Faux_test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Faux_test.rs?ref=ef64c25bd0a950abc4b4580ae14429184891f854", "patch": "@@ -1,9 +0,0 @@\n-// aux-build:dep.rs\n-\n-// ignore-cross-compile\n-\n-extern crate dep;\n-\n-fn main() {\n-    dep::foo();\n-}"}, {"sha": "b76b4321d62aa8e066b24d213c79ccc8230b8d7b", "filename": "tests/run-pass/auxiliary/dep.rs", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ef64c25bd0a950abc4b4580ae14429184891f854/tests%2Frun-pass%2Fauxiliary%2Fdep.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef64c25bd0a950abc4b4580ae14429184891f854/tests%2Frun-pass%2Fauxiliary%2Fdep.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Fauxiliary%2Fdep.rs?ref=ef64c25bd0a950abc4b4580ae14429184891f854", "patch": "@@ -1 +0,0 @@\n-pub fn foo() {}"}]}