{"sha": "c642cfe3bf245ffe34f6e994f0b359b267be5e3d", "node_id": "C_kwDOAAsO6NoAKGM2NDJjZmUzYmYyNDVmZmUzNGY2ZTk5NGYwYjM1OWIyNjdiZTVlM2Q", "commit": {"author": {"name": "xFrednet", "email": "xFrednet@gmail.com", "date": "2023-02-04T18:10:19Z"}, "committer": {"name": "xFrednet", "email": "xFrednet@gmail.com", "date": "2023-02-04T18:34:31Z"}, "message": "Make `[clippy::dump]` support trait items", "tree": {"sha": "98a20d0b42c8a3f5a9a354988c21129242e81d16", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/98a20d0b42c8a3f5a9a354988c21129242e81d16"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c642cfe3bf245ffe34f6e994f0b359b267be5e3d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEwgBEOx3xlHwII7PG9cWdDmaeUwIFAmPepTcACgkQ9cWdDmae\nUwL36g//YZGRl+dLYOeWVaC4++xySqMLw+LLhVerWNlK79v5Cu5MBi6OLo0ll6pg\njHUU7rVFFv5k+v9RAwGy9FA6xSA6JkcUD7HccQs899ZLTF5GgFCLwQTMrJhg+CrV\nGz3KWF+shB605Vpvb6c+0eM+CYA6yE5FvflzmmPU7XqoYcQJTmfkbDKPFe+tTN84\nMaNAOBhHsBSvKFRV4fd0KMTe5HCnfucJ3tbVOAgGCXwa+Eq6lcQO+ZGJWtYvhHT+\na7Ga0McIQWtrXFZ+O4gEIbF4HOmFOgEmZOfVcwC1u1/IvH7T2T7fMeJ6ttzSHFdS\nagE4FSxKEZ/F6D9wYKPBCPrA2+gWXkRteT+yJdl/smihJFpQi8fm6l+HF4inC9Mg\nSSrSfidCjeW8BuL/x8UYXKfVUZPu+pklsl3hv3Tb6OGvwgDxWEW/xkwN9BCLcpOV\nZwMgiShmhVOvB8EmUiOsiOiALlvODkTojVvsBuJ53Onb3cavw65VrPD0fa7Yw6hm\nGaM6PoT9EHEsHdD+1mmg4PIHCdXgHviEZkzakKh8QPENw5nQb4+n62KcWhzKewAI\n3lvYt27PDOh5K5PS4eLxzO3B+UVEeKgukJ2LRvWePwMM0hjz+uq3IsXaOgtItCf5\nr+7RjIeHTbMh3Krek1KeT/rFXMWSQRbkeSVUo06LDEndkqS43xA=\n=kuaU\n-----END PGP SIGNATURE-----", "payload": "tree 98a20d0b42c8a3f5a9a354988c21129242e81d16\nparent 8a9860901f0ae9782ff23fb793838a16f733a60b\nauthor xFrednet <xFrednet@gmail.com> 1675534219 +0100\ncommitter xFrednet <xFrednet@gmail.com> 1675535671 +0100\n\nMake `[clippy::dump]` support trait items\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c642cfe3bf245ffe34f6e994f0b359b267be5e3d", "html_url": "https://github.com/rust-lang/rust/commit/c642cfe3bf245ffe34f6e994f0b359b267be5e3d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c642cfe3bf245ffe34f6e994f0b359b267be5e3d/comments", "author": {"login": "xFrednet", "id": 17087237, "node_id": "MDQ6VXNlcjE3MDg3MjM3", "avatar_url": "https://avatars.githubusercontent.com/u/17087237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xFrednet", "html_url": "https://github.com/xFrednet", "followers_url": "https://api.github.com/users/xFrednet/followers", "following_url": "https://api.github.com/users/xFrednet/following{/other_user}", "gists_url": "https://api.github.com/users/xFrednet/gists{/gist_id}", "starred_url": "https://api.github.com/users/xFrednet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xFrednet/subscriptions", "organizations_url": "https://api.github.com/users/xFrednet/orgs", "repos_url": "https://api.github.com/users/xFrednet/repos", "events_url": "https://api.github.com/users/xFrednet/events{/privacy}", "received_events_url": "https://api.github.com/users/xFrednet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xFrednet", "id": 17087237, "node_id": "MDQ6VXNlcjE3MDg3MjM3", "avatar_url": "https://avatars.githubusercontent.com/u/17087237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xFrednet", "html_url": "https://github.com/xFrednet", "followers_url": "https://api.github.com/users/xFrednet/followers", "following_url": "https://api.github.com/users/xFrednet/following{/other_user}", "gists_url": "https://api.github.com/users/xFrednet/gists{/gist_id}", "starred_url": "https://api.github.com/users/xFrednet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xFrednet/subscriptions", "organizations_url": "https://api.github.com/users/xFrednet/orgs", "repos_url": "https://api.github.com/users/xFrednet/repos", "events_url": "https://api.github.com/users/xFrednet/events{/privacy}", "received_events_url": "https://api.github.com/users/xFrednet/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8a9860901f0ae9782ff23fb793838a16f733a60b", "url": "https://api.github.com/repos/rust-lang/rust/commits/8a9860901f0ae9782ff23fb793838a16f733a60b", "html_url": "https://github.com/rust-lang/rust/commit/8a9860901f0ae9782ff23fb793838a16f733a60b"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "092041aecf29c6e6da64eea6b578b8910c440738", "filename": "clippy_lints/src/utils/dump_hir.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/c642cfe3bf245ffe34f6e994f0b359b267be5e3d/clippy_lints%2Fsrc%2Futils%2Fdump_hir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c642cfe3bf245ffe34f6e994f0b359b267be5e3d/clippy_lints%2Fsrc%2Futils%2Fdump_hir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fdump_hir.rs?ref=c642cfe3bf245ffe34f6e994f0b359b267be5e3d", "patch": "@@ -1,4 +1,5 @@\n use clippy_utils::get_attr;\n+use hir::TraitItem;\n use rustc_hir as hir;\n use rustc_lint::{LateContext, LateLintPass, LintContext};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n@@ -47,6 +48,18 @@ impl<'tcx> LateLintPass<'tcx> for DumpHir {\n             println!(\"{stmt:#?}\");\n         }\n     }\n+\n+    fn check_trait_item(&mut self, cx: &LateContext<'_>, item: &TraitItem<'_>) {\n+        if has_attr(cx, item.hir_id()) {\n+            println!(\"{item:#?}\");\n+        }\n+    }\n+\n+    fn check_impl_item(&mut self, cx: &LateContext<'_>, item: &hir::ImplItem<'_>) {\n+        if has_attr(cx, item.hir_id()) {\n+            println!(\"{item:#?}\");\n+        }\n+    }\n }\n \n fn has_attr(cx: &LateContext<'_>, hir_id: hir::HirId) -> bool {"}]}