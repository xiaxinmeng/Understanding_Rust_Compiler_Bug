{"sha": "8573a1319a63fa61d1db9b9ff8239b5eeb3c1d56", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg1NzNhMTMxOWE2M2ZhNjFkMWRiOWI5ZmY4MjM5YjVlZWIzYzFkNTY=", "commit": {"author": {"name": "steveklabnik", "email": "steve@steveklabnik.com", "date": "2017-03-07T19:49:50Z"}, "committer": {"name": "steveklabnik", "email": "steve@steveklabnik.com", "date": "2017-03-20T14:10:15Z"}, "message": "build both editions of the book", "tree": {"sha": "89da360e820eb616cfa82b4f80221d9de0dd521c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/89da360e820eb616cfa82b4f80221d9de0dd521c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8573a1319a63fa61d1db9b9ff8239b5eeb3c1d56", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8573a1319a63fa61d1db9b9ff8239b5eeb3c1d56", "html_url": "https://github.com/rust-lang/rust/commit/8573a1319a63fa61d1db9b9ff8239b5eeb3c1d56", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8573a1319a63fa61d1db9b9ff8239b5eeb3c1d56/comments", "author": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "committer": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f17965da1e139f7f1f249ebcc3394d13302fc9b0", "url": "https://api.github.com/repos/rust-lang/rust/commits/f17965da1e139f7f1f249ebcc3394d13302fc9b0", "html_url": "https://github.com/rust-lang/rust/commit/f17965da1e139f7f1f249ebcc3394d13302fc9b0"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "3c024f4c4efd4e798a3d852595c727e4c561a426", "filename": "src/bootstrap/doc.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/8573a1319a63fa61d1db9b9ff8239b5eeb3c1d56/src%2Fbootstrap%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8573a1319a63fa61d1db9b9ff8239b5eeb3c1d56/src%2Fbootstrap%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdoc.rs?ref=8573a1319a63fa61d1db9b9ff8239b5eeb3c1d56", "patch": "@@ -53,6 +53,11 @@ pub fn rustbook(build: &Build, target: &str, name: &str) {\n                    .arg(out));\n }\n \n+pub fn book(build: &Build, target: &str, name: &str) {\n+    rustbook(build, target, &format!(\"{}/first-edition\", name));\n+    rustbook(build, target, &format!(\"{}/second-edition\", name));\n+}\n+\n /// Generates all standalone documentation as compiled by the rustdoc in `stage`\n /// for the `target` into `out`.\n ///"}, {"sha": "6eb12fed5abb2d402a61cccc89b0412ecf1d3eb8", "filename": "src/bootstrap/step.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8573a1319a63fa61d1db9b9ff8239b5eeb3c1d56/src%2Fbootstrap%2Fstep.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8573a1319a63fa61d1db9b9ff8239b5eeb3c1d56/src%2Fbootstrap%2Fstep.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fstep.rs?ref=8573a1319a63fa61d1db9b9ff8239b5eeb3c1d56", "patch": "@@ -581,7 +581,7 @@ pub fn build_rules<'a>(build: &'a Build) -> Rules {\n               .stage(0)\n          })\n          .default(build.config.docs)\n-         .run(move |s| doc::rustbook(build, s.target, \"book\"));\n+         .run(move |s| doc::book(build, s.target, \"book\"));\n     rules.doc(\"doc-nomicon\", \"src/doc/nomicon\")\n          .dep(move |s| {\n              s.name(\"tool-rustbook\")"}]}