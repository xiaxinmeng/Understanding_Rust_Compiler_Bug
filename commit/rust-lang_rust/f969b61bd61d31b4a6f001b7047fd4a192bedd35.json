{"sha": "f969b61bd61d31b4a6f001b7047fd4a192bedd35", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY5NjliNjFiZDYxZDMxYjRhNmYwMDFiNzA0N2ZkNGExOTJiZWRkMzU=", "commit": {"author": {"name": "Marco A L Barbosa", "email": "malbarbo@gmail.com", "date": "2018-07-05T22:53:36Z"}, "committer": {"name": "Marco A L Barbosa", "email": "malbarbo@gmail.com", "date": "2018-07-05T23:17:57Z"}, "message": "Update musl to 1.1.19 and add patch to fix tls issue", "tree": {"sha": "afec4bb4d274c63a56944ea3c70811f6c8109b8c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/afec4bb4d274c63a56944ea3c70811f6c8109b8c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f969b61bd61d31b4a6f001b7047fd4a192bedd35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f969b61bd61d31b4a6f001b7047fd4a192bedd35", "html_url": "https://github.com/rust-lang/rust/commit/f969b61bd61d31b4a6f001b7047fd4a192bedd35", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f969b61bd61d31b4a6f001b7047fd4a192bedd35/comments", "author": {"login": "malbarbo", "id": 1678126, "node_id": "MDQ6VXNlcjE2NzgxMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1678126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malbarbo", "html_url": "https://github.com/malbarbo", "followers_url": "https://api.github.com/users/malbarbo/followers", "following_url": "https://api.github.com/users/malbarbo/following{/other_user}", "gists_url": "https://api.github.com/users/malbarbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/malbarbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malbarbo/subscriptions", "organizations_url": "https://api.github.com/users/malbarbo/orgs", "repos_url": "https://api.github.com/users/malbarbo/repos", "events_url": "https://api.github.com/users/malbarbo/events{/privacy}", "received_events_url": "https://api.github.com/users/malbarbo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "malbarbo", "id": 1678126, "node_id": "MDQ6VXNlcjE2NzgxMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1678126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/malbarbo", "html_url": "https://github.com/malbarbo", "followers_url": "https://api.github.com/users/malbarbo/followers", "following_url": "https://api.github.com/users/malbarbo/following{/other_user}", "gists_url": "https://api.github.com/users/malbarbo/gists{/gist_id}", "starred_url": "https://api.github.com/users/malbarbo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/malbarbo/subscriptions", "organizations_url": "https://api.github.com/users/malbarbo/orgs", "repos_url": "https://api.github.com/users/malbarbo/repos", "events_url": "https://api.github.com/users/malbarbo/events{/privacy}", "received_events_url": "https://api.github.com/users/malbarbo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "94eb1760551096363ec04e42367b6b195592dbd8", "url": "https://api.github.com/repos/rust-lang/rust/commits/94eb1760551096363ec04e42367b6b195592dbd8", "html_url": "https://github.com/rust-lang/rust/commit/94eb1760551096363ec04e42367b6b195592dbd8"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "4ca7389d6d1a53102eca067a43697f88250dbcd9", "filename": "src/ci/docker/scripts/musl.sh", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f969b61bd61d31b4a6f001b7047fd4a192bedd35/src%2Fci%2Fdocker%2Fscripts%2Fmusl.sh", "raw_url": "https://github.com/rust-lang/rust/raw/f969b61bd61d31b4a6f001b7047fd4a192bedd35/src%2Fci%2Fdocker%2Fscripts%2Fmusl.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fmusl.sh?ref=f969b61bd61d31b4a6f001b7047fd4a192bedd35", "patch": "@@ -32,11 +32,17 @@ shift\n \n export CFLAGS=\"-fPIC $CFLAGS\"\n \n-MUSL=musl-1.1.18\n+# FIXME: remove the patch when upate to 1.1.20\n+MUSL=musl-1.1.19\n \n # may have been downloaded in a previous run\n if [ ! -d $MUSL ]; then\n   curl https://www.musl-libc.org/releases/$MUSL.tar.gz | tar xzf -\n+  # Patch to fix https://github.com/rust-lang/rust/issues/48967\n+  cd $MUSL && \\\n+    curl \"https://git.musl-libc.org/cgit/musl/patch/?id=610c5a8524c3d6cd3ac5a5f1231422e7648a3791\" |\\\n+    patch -p1 && \\\n+    cd -\n fi\n \n cd $MUSL"}]}