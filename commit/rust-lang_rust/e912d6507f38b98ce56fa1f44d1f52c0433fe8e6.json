{"sha": "e912d6507f38b98ce56fa1f44d1f52c0433fe8e6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU5MTJkNjUwN2YzOGI5OGNlNTZmYTFmNDRkMWY1MmMwNDMzZmU4ZTY=", "commit": {"author": {"name": "Basti Ortiz", "email": "39114273+Some-Dood@users.noreply.github.com", "date": "2021-08-10T07:43:51Z"}, "committer": {"name": "Basti Ortiz", "email": "39114273+Some-Dood@users.noreply.github.com", "date": "2021-08-10T07:43:51Z"}, "message": "Chore: use short-circuiting for file ID getter", "tree": {"sha": "3763dd26ca522561e0c73bec21d3171284e3a928", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3763dd26ca522561e0c73bec21d3171284e3a928"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e912d6507f38b98ce56fa1f44d1f52c0433fe8e6", "comment_count": 0, "verification": {"verified": false, "reason": "bad_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqA0bdqgj8CYCkkcsFALVyxf0jhsFAmESLkkACgkQFALVyxf0\njhuZmg//al2zOZBPimKcuYOrmkeP47EjsczADhdqdXH1OJ5nMdZYBfH5wsc4TFZF\nuKxV24HqLRY8iedMrf+e1QBlmW1YKKMJYIKm2Nsj9m61N6QuFoUzG58C6v8pOz7w\nbC1e3rDYpwED3dZvIT+HFkUKhYXsgI7RYIXMM9Qef0by++Y/ZkM1rTFPZuMoxucS\nBlZdAOQxJa83QAtrm4MI9WOzAPdvOfoI5QDO0EECiZozoxTMmtqTJ4yTYHAfPLGE\nbCMbWUCprlYceb2PaYWuJ9AQyV6DUwy+EsZ+NpkWAhpXjuaKqWZws/ndzvRYpSI7\nnk290u1dWw/m7cYYkW7QkHDKFFo7wnD8y3g32sdNVYzdjDDuqzrsnuLvHvVXs3XW\nLkgcIf0fX+iMki+vGW3NXJImyMmpuwOqDdb1h047ZBgQvbPfLAC1ZA19hUqwCMR7\nlfis8dIC0rTwpgj//BplJ79w9sH9i8AFup/1g0Fn5vEjKCMDIN/H9XgvcxfE1DJ9\ntiy566w+gb3nY7TSjgUBOIKq2SrlHo5/2SSQw9cfDNrjIYIgZC968/r9uLJMZWV/\ngEXa+3ziefzYQA6CxJj7mFt0GQOELB+leM1lOBqxU0CZ0BM0j3w6/dprmsdh44mu\nVuCA9ijnQZbvWLIFerGOBuJfSITQr4j1UJxoJukNurwdemMngYA=\n=QD96\n-----END PGP SIGNATURE-----", "payload": "tree 3763dd26ca522561e0c73bec21d3171284e3a928\nparent 8e4fb4f5184ba69927bd155d38b76cb8f4a45b37\nauthor Basti Ortiz <39114273+Some-Dood@users.noreply.github.com> 1628581431 +0800\ncommitter Basti Ortiz <39114273+Some-Dood@users.noreply.github.com> 1628581431 +0800\n\nChore: use short-circuiting for file ID getter\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e912d6507f38b98ce56fa1f44d1f52c0433fe8e6", "html_url": "https://github.com/rust-lang/rust/commit/e912d6507f38b98ce56fa1f44d1f52c0433fe8e6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e912d6507f38b98ce56fa1f44d1f52c0433fe8e6/comments", "author": {"login": "BastiDood", "id": 39114273, "node_id": "MDQ6VXNlcjM5MTE0Mjcz", "avatar_url": "https://avatars.githubusercontent.com/u/39114273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BastiDood", "html_url": "https://github.com/BastiDood", "followers_url": "https://api.github.com/users/BastiDood/followers", "following_url": "https://api.github.com/users/BastiDood/following{/other_user}", "gists_url": "https://api.github.com/users/BastiDood/gists{/gist_id}", "starred_url": "https://api.github.com/users/BastiDood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BastiDood/subscriptions", "organizations_url": "https://api.github.com/users/BastiDood/orgs", "repos_url": "https://api.github.com/users/BastiDood/repos", "events_url": "https://api.github.com/users/BastiDood/events{/privacy}", "received_events_url": "https://api.github.com/users/BastiDood/received_events", "type": "User", "site_admin": false}, "committer": {"login": "BastiDood", "id": 39114273, "node_id": "MDQ6VXNlcjM5MTE0Mjcz", "avatar_url": "https://avatars.githubusercontent.com/u/39114273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BastiDood", "html_url": "https://github.com/BastiDood", "followers_url": "https://api.github.com/users/BastiDood/followers", "following_url": "https://api.github.com/users/BastiDood/following{/other_user}", "gists_url": "https://api.github.com/users/BastiDood/gists{/gist_id}", "starred_url": "https://api.github.com/users/BastiDood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BastiDood/subscriptions", "organizations_url": "https://api.github.com/users/BastiDood/orgs", "repos_url": "https://api.github.com/users/BastiDood/repos", "events_url": "https://api.github.com/users/BastiDood/events{/privacy}", "received_events_url": "https://api.github.com/users/BastiDood/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8e4fb4f5184ba69927bd155d38b76cb8f4a45b37", "url": "https://api.github.com/repos/rust-lang/rust/commits/8e4fb4f5184ba69927bd155d38b76cb8f4a45b37", "html_url": "https://github.com/rust-lang/rust/commit/8e4fb4f5184ba69927bd155d38b76cb8f4a45b37"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "7828e51be934b567227379e3deb7f85077700c0b", "filename": "crates/vfs/src/lib.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e912d6507f38b98ce56fa1f44d1f52c0433fe8e6/crates%2Fvfs%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e912d6507f38b98ce56fa1f44d1f52c0433fe8e6/crates%2Fvfs%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fvfs%2Fsrc%2Flib.rs?ref=e912d6507f38b98ce56fa1f44d1f52c0433fe8e6", "patch": "@@ -111,7 +111,9 @@ impl Vfs {\n \n     /// Id of the given path if it exists in the `Vfs` and is not deleted.\n     pub fn file_id(&self, path: &VfsPath) -> Option<FileId> {\n-        self.interner.get(path).filter(|&it| self.get(it).is_some())\n+        let it = self.interner.get(path)?;\n+        let _ = self.get(it).as_ref()?;\n+        Some(it)\n     }\n \n     /// File path corresponding to the given `file_id`."}]}