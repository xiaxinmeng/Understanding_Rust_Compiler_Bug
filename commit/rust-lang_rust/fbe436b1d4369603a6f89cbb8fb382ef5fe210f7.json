{"sha": "fbe436b1d4369603a6f89cbb8fb382ef5fe210f7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZiZTQzNmIxZDQzNjk2MDNhNmY4OWNiYjhmYjM4MmVmNWZlMjEwZjc=", "commit": {"author": {"name": "Yusuke Tanaka", "email": "yusuktan@maguro.dev", "date": "2021-02-06T09:06:58Z"}, "committer": {"name": "Yusuke Tanaka", "email": "yusuktan@maguro.dev", "date": "2021-02-06T09:06:58Z"}, "message": "Use flatten instead of filter_map", "tree": {"sha": "687c9f8fb4c6f1f8f4c1c94425b5e3179fe9134d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/687c9f8fb4c6f1f8f4c1c94425b5e3179fe9134d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fbe436b1d4369603a6f89cbb8fb382ef5fe210f7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJIBAABCAAyFiEEgbkHgdnD1idvtMJ0QJ1+7h56cWoFAmAeXDIUHHl1c3VrdGFu\nQG1hZ3Vyby5kZXYACgkQQJ1+7h56cWqvQRAAykADgVg5TbRbY5zdjfvgcOJaO+GA\nZHoe2BV7FhvXtCgzX1JS5UvUqQ6sazO7vFvjq/9CSj7f1cqnAVsKkDy0B/H+gSnQ\nAGI9KJdIAklAJy2BYoEZSgnxlqQNofy8qeEiIvoPs8Oiu0shgLXyAri5hwqBAiz1\nKKm1MvKei4XHPlv5SzyD3zzbaRMwhrnD164mgDFgg4297fA92M7DZKH1prERFQ/m\nN44gTUME5n+cvA1blh4LIodkjxvL1L0jCyvVpkqiU35JCvDePR+nTb/m7xzyKH+f\nRI1m48MYKF7h3Kq2QoDpGwBcyD8opbXCUsIq8kN1JkFlQ1BAAwezPFHTVzcgevKB\nNFrJ9DZDi6j8qZaoRrOXdNgTZyUHgHMsqE2HgocJCZVICMC0atr7zsXj36qndF+L\nLk9G41iotWG7D5BJSwokpwd1XCgGovUSypEBV4UXkwWRH7taNGPQYMIAEbjEYLW0\n4FAOCdfRzJ9fLVzQBCDglDiGJxbzrEAtYeV8zzUyPjIY5CxcFPQuGwKjzHJ6vLhl\n2JdiXIRfjA1mYP13BDCQBQolqaebnhCR++d+bXPqW55TPORSmYL5RyB8f1ztMhVj\n8u+WIluAQqDjPQfnXtmLa+Vqg09npBkQyyDik7wo1KoJWawuKESTSljwompNVfPz\nyP/4wXxu7yhUcLo=\n=i7Fn\n-----END PGP SIGNATURE-----", "payload": "tree 687c9f8fb4c6f1f8f4c1c94425b5e3179fe9134d\nparent a60c143fe0cec1125e894f3d2d5008cc317fdacf\nauthor Yusuke Tanaka <yusuktan@maguro.dev> 1612602418 +0900\ncommitter Yusuke Tanaka <yusuktan@maguro.dev> 1612602418 +0900\n\nUse flatten instead of filter_map\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fbe436b1d4369603a6f89cbb8fb382ef5fe210f7", "html_url": "https://github.com/rust-lang/rust/commit/fbe436b1d4369603a6f89cbb8fb382ef5fe210f7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fbe436b1d4369603a6f89cbb8fb382ef5fe210f7/comments", "author": {"login": "magurotuna", "id": 23649474, "node_id": "MDQ6VXNlcjIzNjQ5NDc0", "avatar_url": "https://avatars.githubusercontent.com/u/23649474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/magurotuna", "html_url": "https://github.com/magurotuna", "followers_url": "https://api.github.com/users/magurotuna/followers", "following_url": "https://api.github.com/users/magurotuna/following{/other_user}", "gists_url": "https://api.github.com/users/magurotuna/gists{/gist_id}", "starred_url": "https://api.github.com/users/magurotuna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/magurotuna/subscriptions", "organizations_url": "https://api.github.com/users/magurotuna/orgs", "repos_url": "https://api.github.com/users/magurotuna/repos", "events_url": "https://api.github.com/users/magurotuna/events{/privacy}", "received_events_url": "https://api.github.com/users/magurotuna/received_events", "type": "User", "site_admin": false}, "committer": {"login": "magurotuna", "id": 23649474, "node_id": "MDQ6VXNlcjIzNjQ5NDc0", "avatar_url": "https://avatars.githubusercontent.com/u/23649474?v=4", "gravatar_id": "", "url": "https://api.github.com/users/magurotuna", "html_url": "https://github.com/magurotuna", "followers_url": "https://api.github.com/users/magurotuna/followers", "following_url": "https://api.github.com/users/magurotuna/following{/other_user}", "gists_url": "https://api.github.com/users/magurotuna/gists{/gist_id}", "starred_url": "https://api.github.com/users/magurotuna/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/magurotuna/subscriptions", "organizations_url": "https://api.github.com/users/magurotuna/orgs", "repos_url": "https://api.github.com/users/magurotuna/repos", "events_url": "https://api.github.com/users/magurotuna/events{/privacy}", "received_events_url": "https://api.github.com/users/magurotuna/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a60c143fe0cec1125e894f3d2d5008cc317fdacf", "url": "https://api.github.com/repos/rust-lang/rust/commits/a60c143fe0cec1125e894f3d2d5008cc317fdacf", "html_url": "https://github.com/rust-lang/rust/commit/a60c143fe0cec1125e894f3d2d5008cc317fdacf"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "ac4005d0cfdea86d0ee60640bfb743f43813866a", "filename": "clippy_lints/src/loops.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fbe436b1d4369603a6f89cbb8fb382ef5fe210f7/clippy_lints%2Fsrc%2Floops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fbe436b1d4369603a6f89cbb8fb382ef5fe210f7/clippy_lints%2Fsrc%2Floops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops.rs?ref=fbe436b1d4369603a6f89cbb8fb382ef5fe210f7", "patch": "@@ -739,7 +739,7 @@ fn combine_branches(b1: NeverLoopResult, b2: NeverLoopResult) -> NeverLoopResult\n fn never_loop_block(block: &Block<'_>, main_loop_id: HirId) -> NeverLoopResult {\n     let stmts = block.stmts.iter().map(stmt_to_expr);\n     let expr = once(block.expr.as_deref());\n-    let mut iter = stmts.chain(expr).filter_map(|e| e);\n+    let mut iter = stmts.chain(expr).flatten();\n     never_loop_expr_seq(&mut iter, main_loop_id)\n }\n "}]}