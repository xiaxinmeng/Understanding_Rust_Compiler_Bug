{"sha": "350cca3b6a89d08fe2a3309be5233e7c8a2274c9", "node_id": "C_kwDOAAsO6NoAKDM1MGNjYTNiNmE4OWQwOGZlMmEzMzA5YmU1MjMzZTdjOGEyMjc0Yzk", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-08-30T17:33:24Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-08-30T17:33:24Z"}, "message": "Auto merge of #101203 - fortanix:raoul/remove_rls_from_git_submodule_update, r=jyn514\n\nAvoid bootstrap from updating rls submodule\n\nOur CI performing tests of the `x86_64-fortanix-unknown-sgx` failed with:\n```\n21:00:53 + ./configure --enable-lld --disable-rpath --set llvm.ninja=false --set rust.verbose-tests=true\n21:00:53 + ./x.py test --stage=1 --target=x86_64-fortanix-unknown-sgx library/std --host= --no-doc --exclude src/tools/linkchecker\n21:00:53 Building rustbuild\n21:00:53     Finished dev [unoptimized] target(s) in 0.11s\n21:00:53 Updating submodule src/tools/rls\n21:00:54 Building stage0 std artifacts (x86_64-unknown-linux-gnu -> x86_64-unknown-linux-gnu)\n21:00:54     Updating crates.io index\n21:00:55     Updating git repository `[https://github.com/rust-lang/cargo`](https://github.com/rust-lang/cargo%60)\n...\n21:00:55     Updating git repository `[https://github.com/rust-lang/rust-clippy`](https://github.com/rust-lang/rust-clippy%60)\n21:00:56     Updating git repository `[https://github.com/rust-lang/rustfmt`](https://github.com/rust-lang/rustfmt%60)\n21:00:56 error: failed to select a version for `libgit2-sys`.\n21:00:56     ... required by package `cargo v0.65.0 (https://github.com/rust-lang/cargo?rev=5514f1e0e1b3650ed8a78306198e90b66b292693#5514f1e0)`\n21:00:56     ... which satisfies git dependency `cargo` of package `rls v1.41.0 (/home/jenkins/workspace/rust-sgx-ci/rust/src/tools/rls)`\n21:00:56 versions that meet the requirements `^0.13.2` are: 0.13.4+1.4.2, 0.13.3+1.4.2, 0.13.2+1.4.2\n21:00:56\n21:00:56 the package `libgit2-sys` links to the native library `git2`, but it conflicts with a previous package which links to `git2` as well:\n21:00:56 package `libgit2-sys v0.14.0+1.5.0`\n21:00:56     ... which satisfies dependency `libgit2-sys = \"^0.14.0\"` of package `cargo v0.66.0 (/home/jenkins/workspace/rust-sgx-ci/rust/src/tools/cargo)`\n21:00:56 Only one package in the dependency graph may specify the same links value. This helps ensure that only one copy of a native library is linked in the final binary. Try to adjust your dependencies so that only one package uses the links ='libgit2-sys' value. For more information, see https://doc.rust-lang.org/cargo/reference/resolver.html#links.\n21:00:56\n21:00:56 failed to select a version for `libgit2-sys` which could resolve this conflict\n```\nThis is related to the version bump of `libgit2-sys` in #11004, but the root cause is the RLS is sunset (#100863). When the bootstrapper manages the git submodules, the wrong repo commit is checked out. This PR removes rls from the list of rust submodules.", "tree": {"sha": "d78c7af3e8797314893a9dfe6c51f2fcded255f4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d78c7af3e8797314893a9dfe6c51f2fcded255f4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/350cca3b6a89d08fe2a3309be5233e7c8a2274c9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/350cca3b6a89d08fe2a3309be5233e7c8a2274c9", "html_url": "https://github.com/rust-lang/rust/commit/350cca3b6a89d08fe2a3309be5233e7c8a2274c9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/350cca3b6a89d08fe2a3309be5233e7c8a2274c9/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fce6a7d66ec32e6350aa7f0e3953d64269e857a3", "url": "https://api.github.com/repos/rust-lang/rust/commits/fce6a7d66ec32e6350aa7f0e3953d64269e857a3", "html_url": "https://github.com/rust-lang/rust/commit/fce6a7d66ec32e6350aa7f0e3953d64269e857a3"}, {"sha": "96b4ca0f859128ad5a977a87a7f194d2911725e7", "url": "https://api.github.com/repos/rust-lang/rust/commits/96b4ca0f859128ad5a977a87a7f194d2911725e7", "html_url": "https://github.com/rust-lang/rust/commit/96b4ca0f859128ad5a977a87a7f194d2911725e7"}], "stats": {"total": 1, "additions": 0, "deletions": 1}, "files": [{"sha": "952943b78c6a2c2ff5a081f456b78cabdb9019d5", "filename": "src/bootstrap/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/350cca3b6a89d08fe2a3309be5233e7c8a2274c9/src%2Fbootstrap%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/350cca3b6a89d08fe2a3309be5233e7c8a2274c9/src%2Fbootstrap%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Flib.rs?ref=350cca3b6a89d08fe2a3309be5233e7c8a2274c9", "patch": "@@ -534,7 +534,6 @@ impl Build {\n         let rust_submodules = [\n             \"src/tools/rust-installer\",\n             \"src/tools/cargo\",\n-            \"src/tools/rls\",\n             \"src/tools/miri\",\n             \"library/backtrace\",\n             \"library/stdarch\","}]}