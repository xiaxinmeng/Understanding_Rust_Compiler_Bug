{"sha": "fda913baae46ddaff88754bde06d02ccb824d921", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZkYTkxM2JhYWU0NmRkYWZmODg3NTRiZGUwNmQwMmNjYjgyNGQ5MjE=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-03-19T04:13:06Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-03-19T04:15:24Z"}, "message": "Add regression test for TAIT lifetime inference (issue #55099)\n\nFixes #55099\n\nThe minimized reproducer in issue #55099 now compiles successfully.\nThis commit adds a regression test for it.", "tree": {"sha": "2a635475210b1c9721c10d16737e82920739381b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2a635475210b1c9721c10d16737e82920739381b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fda913baae46ddaff88754bde06d02ccb824d921", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAl5y8d8ACgkQtAh+UQ6Y\nsWRutBAAqYqYsWenXq61CZGo9lD9dnz/zww8R3oqsGKGz4hYs2Zxd0OM+ItUPARf\nELO+/yhw6k+e75Dd2uGW1ZycMziytWuD0G38rob8wscVAGsUbKi0jYMMhtZFFoHu\nCAAcLYDKGFpOUMWY/WpC3DK+kDOc2m42kXTavwCdAKssLxMvKdqpvM36vw4idL+H\nh/jhcCTq/J/782UeDb2RZV1MNg2z67ifvUFuZBHSBTPR1erJmqRg/yk7H2W57JEN\nUmF2Y+nysjIIZdEFu4MWKGMlxsyFLKlOs9E7IUItn+3Ag1QUSZbODtwgXkTrk7KU\nbDU9gieFPJlEdVkZobfqb1KUOqvuEjMsKGHecTHGtWZTUrTV2RCDPOtwjeMgwQHq\nxbxOvkULj95H2x07WFP8s93vICWdIFGWuhcp0nnPGAnfK6QDj8W1aKGfVDRoTAMU\n9MSGIOA2qq4ijE0aJNQ+kbGUViDP1v8WOY9LQ1J2Ms4GHN+bHV5aFYY2V9GvIXQQ\n6q+S75EO+nW+vBWVqGm4wrOAHmciW0Z8XMhCjPHWa/5SPKCwtrF9wVPJwOC2z/MJ\n+ge7yrdqZEFiug9ZsI4eFcPUkibBVDho0gG/Ha2B75QD05FYID+kblGveKz26ZZw\nlgJSe2iNTIKPnqo9YrIZDIu64CkG1LraBjAMjBywfCMNHW7xT64=\n=Dnyp\n-----END PGP SIGNATURE-----", "payload": "tree 2a635475210b1c9721c10d16737e82920739381b\nparent 57e1da59cd0761330b4ea8d47b16340a78eeafa9\nauthor Aaron Hill <aa1ronham@gmail.com> 1584591186 -0400\ncommitter Aaron Hill <aa1ronham@gmail.com> 1584591324 -0400\n\nAdd regression test for TAIT lifetime inference (issue #55099)\n\nFixes #55099\n\nThe minimized reproducer in issue #55099 now compiles successfully.\nThis commit adds a regression test for it.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fda913baae46ddaff88754bde06d02ccb824d921", "html_url": "https://github.com/rust-lang/rust/commit/fda913baae46ddaff88754bde06d02ccb824d921", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fda913baae46ddaff88754bde06d02ccb824d921/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "57e1da59cd0761330b4ea8d47b16340a78eeafa9", "url": "https://api.github.com/repos/rust-lang/rust/commits/57e1da59cd0761330b4ea8d47b16340a78eeafa9", "html_url": "https://github.com/rust-lang/rust/commit/57e1da59cd0761330b4ea8d47b16340a78eeafa9"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "8e8508cdd6f308b5036209a2fc36696784632a21", "filename": "src/test/ui/type-alias-impl-trait/issue-55099-lifetime-inference.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/fda913baae46ddaff88754bde06d02ccb824d921/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-55099-lifetime-inference.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fda913baae46ddaff88754bde06d02ccb824d921/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-55099-lifetime-inference.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-55099-lifetime-inference.rs?ref=fda913baae46ddaff88754bde06d02ccb824d921", "patch": "@@ -0,0 +1,28 @@\n+// check-pass\n+// Regression test for issue #55099\n+// Tests that we don't incorrectly consider a lifetime to part\n+// of the concrete type\n+\n+#![feature(type_alias_impl_trait)]\n+\n+trait Future {\n+}\n+\n+struct AndThen<F>(F);\n+\n+impl<F> Future for AndThen<F> {\n+}\n+\n+struct Foo<'a> {\n+    x: &'a mut (),\n+}\n+\n+type F = impl Future;\n+\n+impl<'a> Foo<'a> {\n+    fn reply(&mut self) -> F {\n+        AndThen(|| ())\n+    }\n+}\n+\n+fn main() {}"}]}