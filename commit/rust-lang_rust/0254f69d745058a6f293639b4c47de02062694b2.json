{"sha": "0254f69d745058a6f293639b4c47de02062694b2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAyNTRmNjlkNzQ1MDU4YTZmMjkzNjM5YjRjNDdkZTAyMDYyNjk0YjI=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2016-01-13T00:38:12Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2016-01-13T00:38:12Z"}, "message": "use fileline_ and not full span_ for the followon messages", "tree": {"sha": "491b2cf7afbf8e05a83e1b8f20815cc4bb5deb40", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/491b2cf7afbf8e05a83e1b8f20815cc4bb5deb40"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0254f69d745058a6f293639b4c47de02062694b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0254f69d745058a6f293639b4c47de02062694b2", "html_url": "https://github.com/rust-lang/rust/commit/0254f69d745058a6f293639b4c47de02062694b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0254f69d745058a6f293639b4c47de02062694b2/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f9b5463a0dd6020a4d86cefb14dd1f967f79d12c", "url": "https://api.github.com/repos/rust-lang/rust/commits/f9b5463a0dd6020a4d86cefb14dd1f967f79d12c", "html_url": "https://github.com/rust-lang/rust/commit/f9b5463a0dd6020a4d86cefb14dd1f967f79d12c"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "2fc2448dd0c145089379c0efa3d737c922dd4856", "filename": "src/librustc/lint/context.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0254f69d745058a6f293639b4c47de02062694b2/src%2Flibrustc%2Flint%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0254f69d745058a6f293639b4c47de02062694b2/src%2Flibrustc%2Flint%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Fcontext.rs?ref=0254f69d745058a6f293639b4c47de02062694b2", "patch": "@@ -451,8 +451,8 @@ pub fn raw_struct_lint<'a>(sess: &'a Session,\n         let citation = format!(\"for more information, see {}\",\n                                future_incompatible.reference);\n         if let Some(sp) = span {\n-            err.span_warn(sp, &explanation);\n-            err.span_note(sp, &citation);\n+            err.fileline_warn(sp, &explanation);\n+            err.fileline_note(sp, &citation);\n         } else {\n             err.warn(&explanation);\n             err.note(&citation);"}, {"sha": "05398d10a94a270acfd9b0eb0bff46cb14aa29f5", "filename": "src/libsyntax/errors/mod.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/0254f69d745058a6f293639b4c47de02062694b2/src%2Flibsyntax%2Ferrors%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0254f69d745058a6f293639b4c47de02062694b2/src%2Flibsyntax%2Ferrors%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ferrors%2Fmod.rs?ref=0254f69d745058a6f293639b4c47de02062694b2", "patch": "@@ -200,6 +200,13 @@ impl<'a> DiagnosticBuilder<'a> {\n         self.sub(Level::Note, msg, Some(sp), Some(EndSpan(sp)));\n         self\n     }\n+    pub fn fileline_warn(&mut self ,\n+                         sp: Span,\n+                         msg: &str)\n+                         -> &mut DiagnosticBuilder<'a>  {\n+        self.sub(Level::Warning, msg, Some(sp), Some(FileLine(sp)));\n+        self\n+    }\n     pub fn fileline_note(&mut self ,\n                          sp: Span,\n                          msg: &str)"}]}