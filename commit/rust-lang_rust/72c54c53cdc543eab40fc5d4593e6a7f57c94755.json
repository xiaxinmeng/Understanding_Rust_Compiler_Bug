{"sha": "72c54c53cdc543eab40fc5d4593e6a7f57c94755", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcyYzU0YzUzY2RjNTQzZWFiNDBmYzVkNDU5M2U2YTdmNTdjOTQ3NTU=", "commit": {"author": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2021-04-05T12:38:28Z"}, "committer": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2021-04-05T12:39:06Z"}, "message": "Rename TyKind::ForeignType to Foreign", "tree": {"sha": "a6054d3be3c3c91fdd1b076d3392c69be24b6965", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a6054d3be3c3c91fdd1b076d3392c69be24b6965"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/72c54c53cdc543eab40fc5d4593e6a7f57c94755", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/72c54c53cdc543eab40fc5d4593e6a7f57c94755", "html_url": "https://github.com/rust-lang/rust/commit/72c54c53cdc543eab40fc5d4593e6a7f57c94755", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/72c54c53cdc543eab40fc5d4593e6a7f57c94755/comments", "author": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "65c2e5194034e4f6f556b96e71ce62bc2a465a35", "url": "https://api.github.com/repos/rust-lang/rust/commits/65c2e5194034e4f6f556b96e71ce62bc2a465a35", "html_url": "https://github.com/rust-lang/rust/commit/65c2e5194034e4f6f556b96e71ce62bc2a465a35"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "b14c9a67509c04cfdc252918d68f8cf69e0fbc05", "filename": "crates/hir/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir%2Fsrc%2Flib.rs?ref=72c54c53cdc543eab40fc5d4593e6a7f57c94755", "patch": "@@ -1900,7 +1900,7 @@ impl Type {\n                 | TyKind::Dyn(_)\n                 | TyKind::Function(_)\n                 | TyKind::Alias(_)\n-                | TyKind::ForeignType(_) => false,\n+                | TyKind::Foreign(_) => false,\n             }\n         }\n     }"}, {"sha": "5ff70c893a2328542c4768124b502659484b34f1", "filename": "crates/hir_ty/src/display.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Fdisplay.rs", "raw_url": "https://github.com/rust-lang/rust/raw/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Fdisplay.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Fdisplay.rs?ref=72c54c53cdc543eab40fc5d4593e6a7f57c94755", "patch": "@@ -529,7 +529,7 @@ impl HirDisplay for Ty {\n                     projection_ty.hir_fmt(f)?;\n                 }\n             }\n-            TyKind::ForeignType(type_alias) => {\n+            TyKind::Foreign(type_alias) => {\n                 let type_alias = f.db.type_alias_data(from_foreign_def_id(*type_alias));\n                 write!(f, \"{}\", type_alias.name)?;\n             }"}, {"sha": "d1513df1f95b2fd104800094616d891c6ff9178b", "filename": "crates/hir_ty/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Flib.rs?ref=72c54c53cdc543eab40fc5d4593e6a7f57c94755", "patch": "@@ -290,7 +290,7 @@ impl Ty {\n                 Some(db.lookup_intern_callable_def(callable.into()).into())\n             }\n             TyKind::AssociatedType(type_alias, ..) => Some(from_assoc_type_id(type_alias).into()),\n-            TyKind::ForeignType(type_alias, ..) => Some(from_foreign_def_id(type_alias).into()),\n+            TyKind::Foreign(type_alias, ..) => Some(from_foreign_def_id(type_alias).into()),\n             _ => None,\n         }\n     }\n@@ -312,7 +312,7 @@ impl Ty {\n             (TyKind::AssociatedType(ty_id, ..), TyKind::AssociatedType(ty_id2, ..)) => {\n                 ty_id == ty_id2\n             }\n-            (TyKind::ForeignType(ty_id, ..), TyKind::ForeignType(ty_id2, ..)) => ty_id == ty_id2,\n+            (TyKind::Foreign(ty_id, ..), TyKind::Foreign(ty_id2, ..)) => ty_id == ty_id2,\n             (TyKind::Closure(id1, _), TyKind::Closure(id2, _)) => id1 == id2,\n             (TyKind::Ref(mutability, ..), TyKind::Ref(mutability2, ..))\n             | (TyKind::Raw(mutability, ..), TyKind::Raw(mutability2, ..)) => {"}, {"sha": "ba48be4ad0f1daa924e448898a3b8b9d6b3127ba", "filename": "crates/hir_ty/src/lower.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Flower.rs", "raw_url": "https://github.com/rust-lang/rust/raw/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Flower.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Flower.rs?ref=72c54c53cdc543eab40fc5d4593e6a7f57c94755", "patch": "@@ -1145,7 +1145,7 @@ fn type_for_type_alias(db: &dyn HirDatabase, t: TypeAliasId) -> Binders<Ty> {\n     let ctx =\n         TyLoweringContext::new(db, &resolver).with_type_param_mode(TypeParamLoweringMode::Variable);\n     if db.type_alias_data(t).is_extern {\n-        Binders::new(0, TyKind::ForeignType(crate::to_foreign_def_id(t)).intern(&Interner))\n+        Binders::new(0, TyKind::Foreign(crate::to_foreign_def_id(t)).intern(&Interner))\n     } else {\n         let type_ref = &db.type_alias_data(t).type_ref;\n         let inner = ctx.lower_ty(type_ref.as_deref().unwrap_or(&TypeRef::Error));"}, {"sha": "6ace970d1c1867ec355df0bde76670f1b592633a", "filename": "crates/hir_ty/src/method_resolution.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Fmethod_resolution.rs", "raw_url": "https://github.com/rust-lang/rust/raw/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Fmethod_resolution.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Fmethod_resolution.rs?ref=72c54c53cdc543eab40fc5d4593e6a7f57c94755", "patch": "@@ -55,7 +55,7 @@ impl TyFingerprint {\n             TyKind::Adt(AdtId(adt), _) => TyFingerprint::Adt(adt),\n             TyKind::Tuple(cardinality, _) => TyFingerprint::Tuple(cardinality),\n             TyKind::Raw(mutability, ..) => TyFingerprint::RawPtr(mutability),\n-            TyKind::ForeignType(alias_id, ..) => TyFingerprint::ForeignType(alias_id),\n+            TyKind::Foreign(alias_id, ..) => TyFingerprint::ForeignType(alias_id),\n             TyKind::Function(FnPointer { num_args, sig, .. }) => {\n                 TyFingerprint::FnPtr(num_args, sig)\n             }\n@@ -246,7 +246,7 @@ impl Ty {\n             TyKind::Adt(AdtId(def_id), _) => {\n                 return mod_to_crate_ids(def_id.module(db.upcast()));\n             }\n-            TyKind::ForeignType(id) => {\n+            TyKind::Foreign(id) => {\n                 return mod_to_crate_ids(\n                     from_foreign_def_id(*id).lookup(db.upcast()).module(db.upcast()),\n                 );"}, {"sha": "59aaa5560408620883ecbf6e01e2c4b84b83a85c", "filename": "crates/hir_ty/src/traits/chalk/mapping.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk%2Fmapping.rs", "raw_url": "https://github.com/rust-lang/rust/raw/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk%2Fmapping.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk%2Fmapping.rs?ref=72c54c53cdc543eab40fc5d4593e6a7f57c94755", "patch": "@@ -43,7 +43,7 @@ impl ToChalk for Ty {\n                 chalk_ir::TyKind::OpaqueType(id, substitution).intern(&Interner)\n             }\n \n-            TyKind::ForeignType(id) => chalk_ir::TyKind::Foreign(id).intern(&Interner),\n+            TyKind::Foreign(id) => chalk_ir::TyKind::Foreign(id).intern(&Interner),\n \n             TyKind::Scalar(scalar) => chalk_ir::TyKind::Scalar(scalar).intern(&Interner),\n \n@@ -181,7 +181,7 @@ impl ToChalk for Ty {\n \n             chalk_ir::TyKind::Closure(id, subst) => TyKind::Closure(id, from_chalk(db, subst)),\n \n-            chalk_ir::TyKind::Foreign(foreign_def_id) => TyKind::ForeignType(foreign_def_id),\n+            chalk_ir::TyKind::Foreign(foreign_def_id) => TyKind::Foreign(foreign_def_id),\n             chalk_ir::TyKind::Generator(_, _) => unimplemented!(), // FIXME\n             chalk_ir::TyKind::GeneratorWitness(_, _) => unimplemented!(), // FIXME\n         }"}, {"sha": "bac086318f244ea7a5d538af331d0d411eb7fcbd", "filename": "crates/hir_ty/src/types.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/72c54c53cdc543eab40fc5d4593e6a7f57c94755/crates%2Fhir_ty%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftypes.rs?ref=72c54c53cdc543eab40fc5d4593e6a7f57c94755", "patch": "@@ -132,7 +132,7 @@ pub enum TyKind {\n     Closure(ClosureId, Substitution),\n \n     /// Represents a foreign type declared in external blocks.\n-    ForeignType(ForeignDefId),\n+    Foreign(ForeignDefId),\n \n     /// A pointer to a function.  Written as `fn() -> i32`.\n     ///"}]}