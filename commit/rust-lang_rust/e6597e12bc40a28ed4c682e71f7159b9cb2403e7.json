{"sha": "e6597e12bc40a28ed4c682e71f7159b9cb2403e7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU2NTk3ZTEyYmM0MGEyOGVkNGM2ODJlNzFmNzE1OWI5Y2IyNDAzZTc=", "commit": {"author": {"name": "Jon Gjengset", "email": "jon@thesquareplanet.com", "date": "2017-04-07T13:13:06Z"}, "committer": {"name": "Jon Gjengset", "email": "jon@thesquareplanet.com", "date": "2017-04-07T13:13:06Z"}, "message": "Mention interrupts and green threads", "tree": {"sha": "aca9daaf5c6725c698dfe0a867c0926aa637be7a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/aca9daaf5c6725c698dfe0a867c0926aa637be7a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e6597e12bc40a28ed4c682e71f7159b9cb2403e7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEDrgUCxKUwmVd3b8M1krJ1nF23HEFAljnkGIACgkQ1krJ1nF2\n3HEJwBAAklU0G/D/oYfufelXhpoF1rdaepkhoH5sBU9GhICmVHaHnk/wdx8wY2Mg\nYxqB6v6JoXEZKQ3sV4Y7tMcY9mqnuPvL0LkRlR2TnlBXnAP76RQfb+f0qU79/Irs\nFrFk/M4pPYvEiWJxPw3zbS2qWH54mhRIKkD5HcvxiR+3IS5sg9/sTdUrKZDXInt8\nyLiQJbFEUFpN4OO0qRv7Oe5g4fYafpa6D7gS1vRikTpfs8Yw9qyDPI9jjcpmSEr0\nlr1yo+TPBtsvdlUQS3SvlBWnnm6PiLWC1cRkjhbW46sGR2GFhm/OTVs8yIzLHxoG\neq3rKq0r8rb0/Y0y1WG1E8Km2P7T8O5dKVd9Yz+eHRAHXcar6FOKOV7APda+CbLn\n32Zpj59PBboqcNwChvlumQ6ZrCxmVXqj4AEb7s8/tPI7N1SkzmOLAZXRkhXjbnoQ\noGOXStD1YUB8RAw8ZN1wYMcCjumkernRzhtAiZ7LoPD4NsoBRSb2O+eEh4N98vxk\nKHA05g/Si7XGdSJD6nT/ob6LmnFSF+mzmsTUdl95/iPUbXwqiY8EuDAEMJ1sg78Z\n9SHEeIqP1V4pj6bw2OdXEKvqbKwiN7cV7GyM84nOcJOp8XuzFkaEH92CSX9MIZmK\nqJlHjMpbjs43OK5sUUKJMMCSTxyZGu8gpq9/K9Zb1fdTGUrJDek=\n=GFo8\n-----END PGP SIGNATURE-----", "payload": "tree aca9daaf5c6725c698dfe0a867c0926aa637be7a\nparent 8fc3ab20b01044cfebfcd963ef7b69cdb11381b2\nauthor Jon Gjengset <jon@thesquareplanet.com> 1491570786 -0400\ncommitter Jon Gjengset <jon@thesquareplanet.com> 1491570786 -0400\n\nMention interrupts and green threads\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e6597e12bc40a28ed4c682e71f7159b9cb2403e7", "html_url": "https://github.com/rust-lang/rust/commit/e6597e12bc40a28ed4c682e71f7159b9cb2403e7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e6597e12bc40a28ed4c682e71f7159b9cb2403e7/comments", "author": {"login": "jonhoo", "id": 176295, "node_id": "MDQ6VXNlcjE3NjI5NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/176295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonhoo", "html_url": "https://github.com/jonhoo", "followers_url": "https://api.github.com/users/jonhoo/followers", "following_url": "https://api.github.com/users/jonhoo/following{/other_user}", "gists_url": "https://api.github.com/users/jonhoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonhoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonhoo/subscriptions", "organizations_url": "https://api.github.com/users/jonhoo/orgs", "repos_url": "https://api.github.com/users/jonhoo/repos", "events_url": "https://api.github.com/users/jonhoo/events{/privacy}", "received_events_url": "https://api.github.com/users/jonhoo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jonhoo", "id": 176295, "node_id": "MDQ6VXNlcjE3NjI5NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/176295?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonhoo", "html_url": "https://github.com/jonhoo", "followers_url": "https://api.github.com/users/jonhoo/followers", "following_url": "https://api.github.com/users/jonhoo/following{/other_user}", "gists_url": "https://api.github.com/users/jonhoo/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonhoo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonhoo/subscriptions", "organizations_url": "https://api.github.com/users/jonhoo/orgs", "repos_url": "https://api.github.com/users/jonhoo/repos", "events_url": "https://api.github.com/users/jonhoo/events{/privacy}", "received_events_url": "https://api.github.com/users/jonhoo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8fc3ab20b01044cfebfcd963ef7b69cdb11381b2", "url": "https://api.github.com/repos/rust-lang/rust/commits/8fc3ab20b01044cfebfcd963ef7b69cdb11381b2", "html_url": "https://github.com/rust-lang/rust/commit/8fc3ab20b01044cfebfcd963ef7b69cdb11381b2"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "9e137a5c4f8788cdb239a6fe13221b8789ebdbce", "filename": "src/doc/unstable-book/src/compiler-barriers.md", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/e6597e12bc40a28ed4c682e71f7159b9cb2403e7/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-barriers.md", "raw_url": "https://github.com/rust-lang/rust/raw/e6597e12bc40a28ed4c682e71f7159b9cb2403e7/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-barriers.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Fcompiler-barriers.md?ref=e6597e12bc40a28ed4c682e71f7159b9cb2403e7", "patch": "@@ -32,7 +32,12 @@ racing *with itself*. That is, if a given thread is executing one piece\n of code, and is then interrupted, and starts executing code elsewhere\n (while still in the same thread, and conceptually still on the same\n core). In traditional programs, this can only occur when a signal\n-handler is registered. Consider the following code:\n+handler is registered. In more low-level code, such situations can also\n+arise when handling interrupts, when implementing green threads with\n+pre-emption, etc.\n+\n+To give a straightforward example of when a `compiler_barrier` is\n+necessary, consider the following example:\n \n ```rust\n # use std::sync::atomic::{AtomicBool, AtomicUsize};"}]}