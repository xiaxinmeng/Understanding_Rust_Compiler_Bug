{"sha": "592cd5fa309e1d6a3157c7417b67bf7503d0151f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU5MmNkNWZhMzA5ZTFkNmEzMTU3Yzc0MTdiNjdiZjc1MDNkMDE1MWY=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-04-26T22:21:20Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-04-26T22:21:20Z"}, "message": "Disable frame-pointer elimination (not sure how this didn't get commited before).", "tree": {"sha": "bf1b634fe1658d765c4022a3261047c3553561bf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bf1b634fe1658d765c4022a3261047c3553561bf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/592cd5fa309e1d6a3157c7417b67bf7503d0151f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/592cd5fa309e1d6a3157c7417b67bf7503d0151f", "html_url": "https://github.com/rust-lang/rust/commit/592cd5fa309e1d6a3157c7417b67bf7503d0151f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/592cd5fa309e1d6a3157c7417b67bf7503d0151f/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bc6e9815379e31ac42b4d9fd2b0e20f708c1cc1c", "url": "https://api.github.com/repos/rust-lang/rust/commits/bc6e9815379e31ac42b4d9fd2b0e20f708c1cc1c", "html_url": "https://github.com/rust-lang/rust/commit/bc6e9815379e31ac42b4d9fd2b0e20f708c1cc1c"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "e8431f81692196fed1ab4e6e7ac001a1dbd4bdc4", "filename": "src/rustllvm/RustWrapper.cpp", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/592cd5fa309e1d6a3157c7417b67bf7503d0151f/src%2Frustllvm%2FRustWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/592cd5fa309e1d6a3157c7417b67bf7503d0151f/src%2Frustllvm%2FRustWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2FRustWrapper.cpp?ref=592cd5fa309e1d6a3157c7417b67bf7503d0151f", "patch": "@@ -18,6 +18,7 @@\n #include \"llvm/Target/TargetMachine.h\"\n #include \"llvm/Target/TargetSelect.h\"\n #include \"llvm/Target/TargetRegistry.h\"\n+#include \"llvm/Target/TargetOptions.h\"\n #include \"llvm-c/Core.h\"\n #include \"llvm-c/Object.h\"\n #include <cstdlib>\n@@ -51,6 +52,10 @@ enum LLVMCodeGenFileType {\n extern \"C\" void LLVMRustWriteOutputFile(LLVMPassManagerRef PMR, LLVMModuleRef M,\n                                         const char *triple, const char *path,\n                                         LLVMCodeGenFileType FileType) {\n+\n+  // Set compilation options.\n+  llvm::NoFramePointerElim = true;\n+\n   InitializeAllTargets();\n   InitializeAllAsmPrinters();\n   InitializeAllAsmParsers();"}]}