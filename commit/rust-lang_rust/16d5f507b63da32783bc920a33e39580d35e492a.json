{"sha": "16d5f507b63da32783bc920a33e39580d35e492a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE2ZDVmNTA3YjYzZGEzMjc4M2JjOTIwYTMzZTM5NTgwZDM1ZTQ5MmE=", "commit": {"author": {"name": "Nick Cameron", "email": "nrc@ncameron.org", "date": "2018-11-05T21:23:30Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-11-05T21:23:30Z"}, "message": "Merge pull request #3172 from scampi/issue3153\n\ntrim the start of a line when wrapping an item in preparation for formatting", "tree": {"sha": "74f654f422c85a812387dbe3908ba864dcf805e5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/74f654f422c85a812387dbe3908ba864dcf805e5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/16d5f507b63da32783bc920a33e39580d35e492a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJb4LTSCRBK7hj4Ov3rIwAAdHIIAFtPmTD9w7Nm9hB1i+OOJ4cy\nulKQgGCuO9NZat5Ba2mJ9Cc1CmJazYqvAQ/4h7dtXtwerO/6iWe50m05+A7BiHko\n90awMckvz3MBagm4/UcZbdlt45uMMNjAB+6HeYUh0ivOTBmGnMWn5Cwbc+bAB8Rn\nulRTSYCmWVoaTftkJZFMgzBhCQoq4x6202VBAQYjX+/Fu1YL+lTV/WqduATf20fF\nePGGIQOUrfpTMbaPMYiF506ZI1uysiicFVjNN0g5sso5bCBopq8ckqiuVfG8jkqe\n/6cTqTBqcYYVRYcK/fYOvYLxzFG50p0Hq3AG5NXemk3YKnAz320Vswr1bgGXBvU=\n=/vBA\n-----END PGP SIGNATURE-----\n", "payload": "tree 74f654f422c85a812387dbe3908ba864dcf805e5\nparent bd29e16d1653e520f131671a8f3b32df2c215a4c\nparent 5a2ebdddccb7d7a0fd344dcb07619c908601cdbc\nauthor Nick Cameron <nrc@ncameron.org> 1541453010 +1300\ncommitter GitHub <noreply@github.com> 1541453010 +1300\n\nMerge pull request #3172 from scampi/issue3153\n\ntrim the start of a line when wrapping an item in preparation for formatting"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/16d5f507b63da32783bc920a33e39580d35e492a", "html_url": "https://github.com/rust-lang/rust/commit/16d5f507b63da32783bc920a33e39580d35e492a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/16d5f507b63da32783bc920a33e39580d35e492a/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bd29e16d1653e520f131671a8f3b32df2c215a4c", "url": "https://api.github.com/repos/rust-lang/rust/commits/bd29e16d1653e520f131671a8f3b32df2c215a4c", "html_url": "https://github.com/rust-lang/rust/commit/bd29e16d1653e520f131671a8f3b32df2c215a4c"}, {"sha": "5a2ebdddccb7d7a0fd344dcb07619c908601cdbc", "url": "https://api.github.com/repos/rust-lang/rust/commits/5a2ebdddccb7d7a0fd344dcb07619c908601cdbc", "html_url": "https://github.com/rust-lang/rust/commit/5a2ebdddccb7d7a0fd344dcb07619c908601cdbc"}], "stats": {"total": 22, "additions": 20, "deletions": 2}, "files": [{"sha": "db5102a3755ea069b16fb5754826221db32236de", "filename": "src/comment.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/16d5f507b63da32783bc920a33e39580d35e492a/src%2Fcomment.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16d5f507b63da32783bc920a33e39580d35e492a/src%2Fcomment.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomment.rs?ref=16d5f507b63da32783bc920a33e39580d35e492a", "patch": "@@ -398,7 +398,7 @@ impl CodeBlockAttribute {\n /// Block that is formatted as an item.\n ///\n /// An item starts with either a star `*` or a dash `-`. Different level of indentation are\n-/// handled.\n+/// handled by shrinking the shape accordingly.\n struct ItemizedBlock {\n     /// the number of whitespaces up to the item sigil\n     indent: usize,\n@@ -585,7 +585,7 @@ impl<'a> CommentRewrite<'a> {\n \n         if let Some(ref ib) = self.item_block {\n             if ib.in_block(&line) {\n-                self.item_block_buffer.push_str(&line);\n+                self.item_block_buffer.push_str(line.trim_start());\n                 self.item_block_buffer.push('\\n');\n                 return false;\n             }"}, {"sha": "2836ce97cf8de768aa87836ae7517c964eb40b3c", "filename": "tests/source/issue-3153.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/16d5f507b63da32783bc920a33e39580d35e492a/tests%2Fsource%2Fissue-3153.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16d5f507b63da32783bc920a33e39580d35e492a/tests%2Fsource%2Fissue-3153.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fissue-3153.rs?ref=16d5f507b63da32783bc920a33e39580d35e492a", "patch": "@@ -0,0 +1,9 @@\n+// rustfmt-wrap_comments: true\n+\n+/// This may panic if:\n+/// - there are fewer than `max_header_bytes` bytes preceding the body\n+/// - there are fewer than `max_footer_bytes` bytes following the body\n+/// - the sum of the body bytes and post-body bytes is less than the sum\n+///   of `min_body_and_padding_bytes` and `max_footer_bytes` (in other\n+///   words, the minimum body and padding byte requirement is not met)\n+fn foo() {}"}, {"sha": "39e569c0d5430da7f6e4fa6ea4ad5d088e880d6c", "filename": "tests/target/issue-3153.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/16d5f507b63da32783bc920a33e39580d35e492a/tests%2Ftarget%2Fissue-3153.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16d5f507b63da32783bc920a33e39580d35e492a/tests%2Ftarget%2Fissue-3153.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fissue-3153.rs?ref=16d5f507b63da32783bc920a33e39580d35e492a", "patch": "@@ -0,0 +1,9 @@\n+// rustfmt-wrap_comments: true\n+\n+/// This may panic if:\n+/// - there are fewer than `max_header_bytes` bytes preceding the body\n+/// - there are fewer than `max_footer_bytes` bytes following the body\n+/// - the sum of the body bytes and post-body bytes is less than the sum of\n+///   `min_body_and_padding_bytes` and `max_footer_bytes` (in other words, the\n+///   minimum body and padding byte requirement is not met)\n+fn foo() {}"}]}