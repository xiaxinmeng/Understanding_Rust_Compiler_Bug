{"sha": "27673610a60c4aa538a92647ec9125b04f653fe4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI3NjczNjEwYTYwYzRhYTUzOGE5MjY0N2VjOTEyNWIwNGY2NTNmZTQ=", "commit": {"author": {"name": "Eduard Burtescu", "email": "edy.burt@gmail.com", "date": "2016-06-01T06:00:46Z"}, "committer": {"name": "Eduard Burtescu", "email": "edy.burt@gmail.com", "date": "2016-06-05T16:17:42Z"}, "message": "test: don't assume anything about the sign of NAN.", "tree": {"sha": "3d58c2f65da897efe82b745b435b4116113037e0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3d58c2f65da897efe82b745b435b4116113037e0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/27673610a60c4aa538a92647ec9125b04f653fe4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/27673610a60c4aa538a92647ec9125b04f653fe4", "html_url": "https://github.com/rust-lang/rust/commit/27673610a60c4aa538a92647ec9125b04f653fe4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/27673610a60c4aa538a92647ec9125b04f653fe4/comments", "author": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8cbffc5bcfbc4696173678d50d519e9e61676265", "url": "https://api.github.com/repos/rust-lang/rust/commits/8cbffc5bcfbc4696173678d50d519e9e61676265", "html_url": "https://github.com/rust-lang/rust/commit/8cbffc5bcfbc4696173678d50d519e9e61676265"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "ff80a4e305359c1349df1bb6c50062e4ef231423", "filename": "src/libstd/num/f32.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/27673610a60c4aa538a92647ec9125b04f653fe4/src%2Flibstd%2Fnum%2Ff32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/27673610a60c4aa538a92647ec9125b04f653fe4/src%2Flibstd%2Fnum%2Ff32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnum%2Ff32.rs?ref=27673610a60c4aa538a92647ec9125b04f653fe4", "patch": "@@ -1382,7 +1382,6 @@ mod tests {\n     }\n \n     #[test]\n-    #[rustc_no_mir] // FIXME #27840 MIR NAN ends up negative.\n     fn test_integer_decode() {\n         assert_eq!(3.14159265359f32.integer_decode(), (13176795, -22, 1));\n         assert_eq!((-8573.5918555f32).integer_decode(), (8779358, -10, -1));\n@@ -1391,7 +1390,11 @@ mod tests {\n         assert_eq!((-0f32).integer_decode(), (0, -150, -1));\n         assert_eq!(INFINITY.integer_decode(), (8388608, 105, 1));\n         assert_eq!(NEG_INFINITY.integer_decode(), (8388608, 105, -1));\n-        assert_eq!(NAN.integer_decode(), (12582912, 105, 1));\n+\n+        // Ignore the \"sign\" (quiet / signalling flag) of NAN.\n+        // It can vary between runtime operations and LLVM folding.\n+        let (nan_m, nan_e, _nan_s) = NAN.integer_decode();\n+        assert_eq!((nan_m, nan_e), (12582912, 105));\n     }\n \n     #[test]"}, {"sha": "b775031787084c97cf7efe85a1c8bb0c4cc946f7", "filename": "src/libstd/num/f64.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/27673610a60c4aa538a92647ec9125b04f653fe4/src%2Flibstd%2Fnum%2Ff64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/27673610a60c4aa538a92647ec9125b04f653fe4/src%2Flibstd%2Fnum%2Ff64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnum%2Ff64.rs?ref=27673610a60c4aa538a92647ec9125b04f653fe4", "patch": "@@ -1277,7 +1277,6 @@ mod tests {\n     }\n \n     #[test]\n-    #[rustc_no_mir] // FIXME #27840 MIR NAN ends up negative.\n     fn test_integer_decode() {\n         assert_eq!(3.14159265359f64.integer_decode(), (7074237752028906, -51, 1));\n         assert_eq!((-8573.5918555f64).integer_decode(), (4713381968463931, -39, -1));\n@@ -1286,7 +1285,11 @@ mod tests {\n         assert_eq!((-0f64).integer_decode(), (0, -1075, -1));\n         assert_eq!(INFINITY.integer_decode(), (4503599627370496, 972, 1));\n         assert_eq!(NEG_INFINITY.integer_decode(), (4503599627370496, 972, -1));\n-        assert_eq!(NAN.integer_decode(), (6755399441055744, 972, 1));\n+\n+        // Ignore the \"sign\" (quiet / signalling flag) of NAN.\n+        // It can vary between runtime operations and LLVM folding.\n+        let (nan_m, nan_e, _nan_s) = NAN.integer_decode();\n+        assert_eq!((nan_m, nan_e), (6755399441055744, 972));\n     }\n \n     #[test]"}]}