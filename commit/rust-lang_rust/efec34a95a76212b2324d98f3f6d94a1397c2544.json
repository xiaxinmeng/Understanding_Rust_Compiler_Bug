{"sha": "efec34a95a76212b2324d98f3f6d94a1397c2544", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVmZWMzNGE5NWE3NjIxMmIyMzI0ZDk4ZjNmNmQ5NGExMzk3YzI1NDQ=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-04-14T20:42:45Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-04-16T02:45:00Z"}, "message": "mk: Change windows to install from stage2\n\nIn the past, windows was installed from stage3 to guarantee convergence between\nthe host and target artifacts, but syntax extensions on all platforms are\ncurrently relying on convergence, so special casing this one platform has become\nless relevant over time.\n\nThis will also have the added benefit of dealing with #13474 and #13491. These\nissues will be closed after next next nightly is confirmed to fix them.", "tree": {"sha": "2499445ee99c3271d90d137e9258ed89a5e0249b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2499445ee99c3271d90d137e9258ed89a5e0249b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/efec34a95a76212b2324d98f3f6d94a1397c2544", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/efec34a95a76212b2324d98f3f6d94a1397c2544", "html_url": "https://github.com/rust-lang/rust/commit/efec34a95a76212b2324d98f3f6d94a1397c2544", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/efec34a95a76212b2324d98f3f6d94a1397c2544/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ca5babea5f12ed57365740c959b4f3c7316474a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/ca5babea5f12ed57365740c959b4f3c7316474a7", "html_url": "https://github.com/rust-lang/rust/commit/ca5babea5f12ed57365740c959b4f3c7316474a7"}], "stats": {"total": 6, "additions": 0, "deletions": 6}, "files": [{"sha": "096887056bf2a31f38aa30b106b393ea5279bb0e", "filename": "mk/prepare.mk", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/efec34a95a76212b2324d98f3f6d94a1397c2544/mk%2Fprepare.mk", "raw_url": "https://github.com/rust-lang/rust/raw/efec34a95a76212b2324d98f3f6d94a1397c2544/mk%2Fprepare.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fprepare.mk?ref=efec34a95a76212b2324d98f3f6d94a1397c2544", "patch": "@@ -20,13 +20,7 @@\n #   PREPARE_TARGETS - the target triples, space separated\n #   PREPARE_DEST_DIR - the directory to put the image\n \n-\n-# On windows we install from stage3, but on unix only stage2\n-ifdef CFG_WINDOWSY_$(CFG_BUILD)\n-PREPARE_STAGE=3\n-else\n PREPARE_STAGE=2\n-endif\n \n DEFAULT_PREPARE_DIR_CMD = umask 022 && mkdir -p\n DEFAULT_PREPARE_BIN_CMD = install -m755"}]}