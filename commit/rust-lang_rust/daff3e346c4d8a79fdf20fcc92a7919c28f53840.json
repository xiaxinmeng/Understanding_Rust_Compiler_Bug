{"sha": "daff3e346c4d8a79fdf20fcc92a7919c28f53840", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRhZmYzZTM0NmM0ZDhhNzlmZGYyMGZjYzkyYTc5MTljMjhmNTM4NDA=", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2019-11-09T17:38:35Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2019-11-10T11:40:44Z"}, "message": "Merge hir::ImplPolarity into ast::ImplPolarity.", "tree": {"sha": "9079f339cbf8be8a1cb380f0dc4d2fb7ec8cca7d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9079f339cbf8be8a1cb380f0dc4d2fb7ec8cca7d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/daff3e346c4d8a79fdf20fcc92a7919c28f53840", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/daff3e346c4d8a79fdf20fcc92a7919c28f53840", "html_url": "https://github.com/rust-lang/rust/commit/daff3e346c4d8a79fdf20fcc92a7919c28f53840", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/daff3e346c4d8a79fdf20fcc92a7919c28f53840/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "738faadc31ea4fdd60cfb81c9c07d7ad499997ab", "url": "https://api.github.com/repos/rust-lang/rust/commits/738faadc31ea4fdd60cfb81c9c07d7ad499997ab", "html_url": "https://github.com/rust-lang/rust/commit/738faadc31ea4fdd60cfb81c9c07d7ad499997ab"}], "stats": {"total": 30, "additions": 3, "deletions": 27}, "files": [{"sha": "beb10edd148403e9b56c94f0c1234b596b4fa8ad", "filename": "src/librustc/hir/lowering/item.rs", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/daff3e346c4d8a79fdf20fcc92a7919c28f53840/src%2Flibrustc%2Fhir%2Flowering%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/daff3e346c4d8a79fdf20fcc92a7919c28f53840/src%2Flibrustc%2Fhir%2Flowering%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Flowering%2Fitem.rs?ref=daff3e346c4d8a79fdf20fcc92a7919c28f53840", "patch": "@@ -434,7 +434,7 @@ impl LoweringContext<'_> {\n \n                 hir::ItemKind::Impl(\n                     unsafety,\n-                    self.lower_impl_polarity(polarity),\n+                    polarity,\n                     self.lower_defaultness(defaultness, true /* [1] */),\n                     generics,\n                     trait_ref,\n@@ -1011,13 +1011,6 @@ impl LoweringContext<'_> {\n         }\n     }\n \n-    fn lower_impl_polarity(&mut self, i: ImplPolarity) -> hir::ImplPolarity {\n-        match i {\n-            ImplPolarity::Positive => hir::ImplPolarity::Positive,\n-            ImplPolarity::Negative => hir::ImplPolarity::Negative,\n-        }\n-    }\n-\n     fn record_body(&mut self, params: HirVec<hir::Param>, value: hir::Expr) -> hir::BodyId {\n         let body = hir::Body {\n             generator_kind: self.generator_kind,"}, {"sha": "bbd3b40e1be90ab2d356758b48adcf2fd1755d50", "filename": "src/librustc/hir/mod.rs", "status": "modified", "additions": 1, "deletions": 19, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/daff3e346c4d8a79fdf20fcc92a7919c28f53840/src%2Flibrustc%2Fhir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/daff3e346c4d8a79fdf20fcc92a7919c28f53840/src%2Flibrustc%2Fhir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmod.rs?ref=daff3e346c4d8a79fdf20fcc92a7919c28f53840", "patch": "@@ -21,7 +21,7 @@ use syntax_pos::{Span, DUMMY_SP, MultiSpan};\n use syntax::source_map::Spanned;\n use syntax::ast::{self, CrateSugar, Ident, Name, NodeId, AsmDialect};\n use syntax::ast::{Attribute, Label, LitKind, StrStyle, FloatTy, IntTy, UintTy};\n-pub use syntax::ast::{Mutability, Constness, Unsafety, Movability, CaptureBy, IsAuto};\n+pub use syntax::ast::{Mutability, Constness, Unsafety, Movability, CaptureBy, IsAuto, ImplPolarity};\n use syntax::attr::{InlineAttr, OptimizeAttr};\n use syntax::symbol::{Symbol, kw};\n use syntax::tokenstream::TokenStream;\n@@ -2155,24 +2155,6 @@ impl Defaultness {\n     }\n }\n \n-#[derive(Copy, Clone, PartialEq, RustcEncodable, RustcDecodable, HashStable)]\n-pub enum ImplPolarity {\n-    /// `impl Trait for Type`\n-    Positive,\n-    /// `impl !Trait for Type`\n-    Negative,\n-}\n-\n-impl fmt::Debug for ImplPolarity {\n-    fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\n-        f.write_str(match self {\n-            ImplPolarity::Positive => \"positive\",\n-            ImplPolarity::Negative => \"negative\",\n-        })\n-    }\n-}\n-\n-\n #[derive(RustcEncodable, RustcDecodable, Debug, HashStable)]\n pub enum FunctionRetTy {\n     /// Return type is not specified."}, {"sha": "b3d82e5522cf2400d9c15b87fd3afa023efe1426", "filename": "src/librustc/ich/impls_syntax.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/daff3e346c4d8a79fdf20fcc92a7919c28f53840/src%2Flibrustc%2Fich%2Fimpls_syntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/daff3e346c4d8a79fdf20fcc92a7919c28f53840/src%2Flibrustc%2Fich%2Fimpls_syntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fich%2Fimpls_syntax.rs?ref=daff3e346c4d8a79fdf20fcc92a7919c28f53840", "patch": "@@ -171,6 +171,7 @@ impl_stable_hash_for!(enum ::syntax::ast::AttrStyle { Outer, Inner });\n impl_stable_hash_for!(enum ::syntax::ast::Movability { Static, Movable });\n impl_stable_hash_for!(enum ::syntax::ast::CaptureBy { Value, Ref });\n impl_stable_hash_for!(enum ::syntax::ast::IsAuto { Yes, No });\n+impl_stable_hash_for!(enum ::syntax::ast::ImplPolarity { Positive, Negative });\n \n impl<'a> HashStable<StableHashingContext<'a>> for [ast::Attribute] {\n     fn hash_stable(&self, hcx: &mut StableHashingContext<'a>, hasher: &mut StableHasher) {"}]}