{"sha": "48d6324a3f8a48efe3275424584a753c4e60d762", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ4ZDYzMjRhM2Y4YTQ4ZWZlMzI3NTQyNDU4NGE3NTNjNGU2MGQ3NjI=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-03-18T21:32:34Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-03-18T21:32:34Z"}, "message": "Merge #8086\n\n8086: Use a highlight modifier for intra doc links r=Veykril a=Veykril\n\n\n\nCo-authored-by: Lukas Wirth <lukastw97@gmail.com>", "tree": {"sha": "cda6b85e9f08457f016490c551158fc5b59d8cb6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cda6b85e9f08457f016490c551158fc5b59d8cb6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/48d6324a3f8a48efe3275424584a753c4e60d762", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgU8byCRBK7hj4Ov3rIwAAdHIIAEj0lDAezG7ZQNMHFc49Lvu5\niARZ6NFOjtYiUqYaMCOPKRfwhD7FNEI6zppIItLQvGb0dX9o6tiiapj04SjCb+VQ\n5ZJdWWQkWnma4Q1UHmtMJXZBGPlOnhwRdURyABLwvev3oU8UHrKlrYFw3OlDmXgC\n+ghGOU0WxNb8usVcveaX7L6urvswWqwylXbgOxNHrpItPKxbjm3vTiTqpsuyujrU\nrpvNli6hK6rGld3pYmwDmhzImha5aGI5SUt13/m81ot5/SS36dFeZhVMvqy9Mp+l\nvWVkcGfI88fLYDbFA2+l8tUowtdA9PA+lKXpnAuKazQ4k3wfgI5moc5QCXzYupM=\n=4Qah\n-----END PGP SIGNATURE-----\n", "payload": "tree cda6b85e9f08457f016490c551158fc5b59d8cb6\nparent 5e82d3172282e159e539569b80b3135c17b972f0\nparent 8c0f454d115a5ce5fa4a9a0aa7116eac99a292f9\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1616103154 +0000\ncommitter GitHub <noreply@github.com> 1616103154 +0000\n\nMerge #8086\n\n8086: Use a highlight modifier for intra doc links r=Veykril a=Veykril\n\n\n\nCo-authored-by: Lukas Wirth <lukastw97@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/48d6324a3f8a48efe3275424584a753c4e60d762", "html_url": "https://github.com/rust-lang/rust/commit/48d6324a3f8a48efe3275424584a753c4e60d762", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/48d6324a3f8a48efe3275424584a753c4e60d762/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5e82d3172282e159e539569b80b3135c17b972f0", "url": "https://api.github.com/repos/rust-lang/rust/commits/5e82d3172282e159e539569b80b3135c17b972f0", "html_url": "https://github.com/rust-lang/rust/commit/5e82d3172282e159e539569b80b3135c17b972f0"}, {"sha": "8c0f454d115a5ce5fa4a9a0aa7116eac99a292f9", "url": "https://api.github.com/repos/rust-lang/rust/commits/8c0f454d115a5ce5fa4a9a0aa7116eac99a292f9", "html_url": "https://github.com/rust-lang/rust/commit/8c0f454d115a5ce5fa4a9a0aa7116eac99a292f9"}], "stats": {"total": 86, "additions": 55, "deletions": 31}, "files": [{"sha": "5327af845c2a9a96a3e7a87315dd983bec38867b", "filename": "crates/ide/src/syntax_highlighting/html.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fhtml.rs", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fhtml.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Fhtml.rs?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -59,7 +59,7 @@ pre                 { color: #DCDCCC; background: #3F3F3F; font-size: 22px; padd\n .label              { color: #DFAF8F; font-style: italic; }\n .comment            { color: #7F9F7F; }\n .documentation      { color: #629755; }\n-.intra_doc_link     { color: #A9C577; }\n+.intra_doc_link     { font-style: italic; }\n .injected           { opacity: 0.65 ; }\n .struct, .enum      { color: #7CB8BB; }\n .enum_variant       { color: #BDE0F3; }"}, {"sha": "f359eacf2a0904ee3e597b17a4f44d90bff1d281", "filename": "crates/ide/src/syntax_highlighting/inject.rs", "status": "modified", "additions": 33, "deletions": 11, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Finject.rs", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Finject.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Finject.rs?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -4,7 +4,7 @@ use std::{mem, ops::Range};\n \n use either::Either;\n use hir::{HasAttrs, InFile, Semantics};\n-use ide_db::{call_info::ActiveParameter, defs::Definition};\n+use ide_db::{call_info::ActiveParameter, defs::Definition, SymbolKind};\n use syntax::{\n     ast::{self, AstNode, AttrsOwner, DocCommentsOwner},\n     match_ast, AstToken, NodeOrToken, SyntaxNode, SyntaxToken, TextRange, TextSize,\n@@ -225,13 +225,16 @@ pub(super) fn doc_comment(\n                     intra_doc_links.extend(\n                         extract_definitions_from_markdown(line)\n                             .into_iter()\n-                            .filter(|(link, ns, _)| {\n-                                validate_intra_doc_link(sema.db, &def, link, *ns)\n+                            .filter_map(|(link, ns, range)| {\n+                                validate_intra_doc_link(sema.db, &def, &link, ns).zip(Some(range))\n                             })\n-                            .map(|(.., Range { start, end })| {\n-                                TextRange::at(\n-                                    prev_range_start + TextSize::from(start as u32),\n-                                    TextSize::from((end - start) as u32),\n+                            .map(|(def, Range { start, end })| {\n+                                (\n+                                    def,\n+                                    TextRange::at(\n+                                        prev_range_start + TextSize::from(start as u32),\n+                                        TextSize::from((end - start) as u32),\n+                                    ),\n                                 )\n                             }),\n                     );\n@@ -255,10 +258,13 @@ pub(super) fn doc_comment(\n         }\n     }\n \n-    for range in intra_doc_links {\n+    for (def, range) in intra_doc_links {\n         hl.add(HlRange {\n             range,\n-            highlight: HlTag::IntraDocLink | HlMod::Documentation,\n+            highlight: module_def_to_hl_tag(def)\n+                | HlMod::Documentation\n+                | HlMod::Injected\n+                | HlMod::IntraDocLink,\n             binding_hash: None,\n         });\n     }\n@@ -317,7 +323,7 @@ fn validate_intra_doc_link(\n     def: &Definition,\n     link: &str,\n     ns: Option<hir::Namespace>,\n-) -> bool {\n+) -> Option<hir::ModuleDef> {\n     match def {\n         Definition::ModuleDef(def) => match def {\n             hir::ModuleDef::Module(it) => it.resolve_doc_path(db, &link, ns),\n@@ -337,5 +343,21 @@ fn validate_intra_doc_link(\n         | Definition::GenericParam(_)\n         | Definition::Label(_) => None,\n     }\n-    .is_some()\n+}\n+\n+fn module_def_to_hl_tag(def: hir::ModuleDef) -> HlTag {\n+    let symbol = match def {\n+        hir::ModuleDef::Module(_) => SymbolKind::Module,\n+        hir::ModuleDef::Function(_) => SymbolKind::Function,\n+        hir::ModuleDef::Adt(hir::Adt::Struct(_)) => SymbolKind::Struct,\n+        hir::ModuleDef::Adt(hir::Adt::Enum(_)) => SymbolKind::Enum,\n+        hir::ModuleDef::Adt(hir::Adt::Union(_)) => SymbolKind::Union,\n+        hir::ModuleDef::Variant(_) => SymbolKind::Variant,\n+        hir::ModuleDef::Const(_) => SymbolKind::Const,\n+        hir::ModuleDef::Static(_) => SymbolKind::Static,\n+        hir::ModuleDef::Trait(_) => SymbolKind::Trait,\n+        hir::ModuleDef::TypeAlias(_) => SymbolKind::TypeAlias,\n+        hir::ModuleDef::BuiltinType(_) => return HlTag::BuiltinType,\n+    };\n+    HlTag::Symbol(symbol)\n }"}, {"sha": "93db79b895dc2fa99ae15c34c6b4a40cf3594d80", "filename": "crates/ide/src/syntax_highlighting/tags.rs", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftags.rs", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftags.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftags.rs?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -26,7 +26,6 @@ pub enum HlTag {\n     Comment,\n     EscapeSequence,\n     FormatSpecifier,\n-    IntraDocLink,\n     Keyword,\n     NumericLiteral,\n     Operator,\n@@ -57,6 +56,8 @@ pub enum HlMod {\n     Static,\n     /// Used for items in impls&traits.\n     Associated,\n+    /// Used for intra doc links in doc injection.\n+    IntraDocLink,\n \n     /// Keep this last!\n     Unsafe,\n@@ -117,7 +118,6 @@ impl HlTag {\n             HlTag::Comment => \"comment\",\n             HlTag::EscapeSequence => \"escape_sequence\",\n             HlTag::FormatSpecifier => \"format_specifier\",\n-            HlTag::IntraDocLink => \"intra_doc_link\",\n             HlTag::Keyword => \"keyword\",\n             HlTag::Punctuation(punct) => match punct {\n                 HlPunct::Bracket => \"bracket\",\n@@ -151,6 +151,7 @@ impl HlMod {\n         HlMod::ControlFlow,\n         HlMod::Definition,\n         HlMod::Documentation,\n+        HlMod::IntraDocLink,\n         HlMod::Injected,\n         HlMod::Mutable,\n         HlMod::Consuming,\n@@ -162,17 +163,18 @@ impl HlMod {\n \n     fn as_str(self) -> &'static str {\n         match self {\n+            HlMod::Associated => \"associated\",\n             HlMod::Attribute => \"attribute\",\n+            HlMod::Callable => \"callable\",\n+            HlMod::Consuming => \"consuming\",\n             HlMod::ControlFlow => \"control\",\n             HlMod::Definition => \"declaration\",\n             HlMod::Documentation => \"documentation\",\n             HlMod::Injected => \"injected\",\n+            HlMod::IntraDocLink => \"intra_doc_link\",\n             HlMod::Mutable => \"mutable\",\n-            HlMod::Consuming => \"consuming\",\n-            HlMod::Unsafe => \"unsafe\",\n-            HlMod::Callable => \"callable\",\n             HlMod::Static => \"static\",\n-            HlMod::Associated => \"associated\",\n+            HlMod::Unsafe => \"unsafe\",\n         }\n     }\n "}, {"sha": "4635ea927606f527f388c3c68de83f4e182ec761", "filename": "crates/ide/src/syntax_highlighting/test_data/highlight_assoc_functions.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_assoc_functions.html", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_assoc_functions.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_assoc_functions.html?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -7,7 +7,7 @@\n .label              { color: #DFAF8F; font-style: italic; }\n .comment            { color: #7F9F7F; }\n .documentation      { color: #629755; }\n-.intra_doc_link     { color: #A9C577; }\n+.intra_doc_link     { font-style: italic; }\n .injected           { opacity: 0.65 ; }\n .struct, .enum      { color: #7CB8BB; }\n .enum_variant       { color: #BDE0F3; }"}, {"sha": "045162eb83bcc9f36193f91226c70f011a0f553b", "filename": "crates/ide/src/syntax_highlighting/test_data/highlight_doctest.html", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_doctest.html", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_doctest.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_doctest.html?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -7,7 +7,7 @@\n .label              { color: #DFAF8F; font-style: italic; }\n .comment            { color: #7F9F7F; }\n .documentation      { color: #629755; }\n-.intra_doc_link     { color: #A9C577; }\n+.intra_doc_link     { font-style: italic; }\n .injected           { opacity: 0.65 ; }\n .struct, .enum      { color: #7CB8BB; }\n .enum_variant       { color: #BDE0F3; }\n@@ -99,8 +99,8 @@\n     <span class=\"brace\">}</span>\n <span class=\"brace\">}</span>\n \n-<span class=\"comment documentation\">/// </span><span class=\"intra_doc_link documentation\">[`Foo`](Foo)</span><span class=\"comment documentation\"> is a struct</span>\n-<span class=\"comment documentation\">/// </span><span class=\"intra_doc_link documentation\">[`all_the_links`](all_the_links)</span><span class=\"comment documentation\"> is this function</span>\n+<span class=\"comment documentation\">/// </span><span class=\"struct documentation intra_doc_link injected\">[`Foo`](Foo)</span><span class=\"comment documentation\"> is a struct</span>\n+<span class=\"comment documentation\">/// </span><span class=\"function documentation intra_doc_link injected\">[`all_the_links`](all_the_links)</span><span class=\"comment documentation\"> is this function</span>\n <span class=\"comment documentation\">/// [`noop`](noop) is a macro below</span>\n <span class=\"keyword\">pub</span> <span class=\"keyword\">fn</span> <span class=\"function declaration\">all_the_links</span><span class=\"parenthesis\">(</span><span class=\"parenthesis\">)</span> <span class=\"brace\">{</span><span class=\"brace\">}</span>\n "}, {"sha": "ca9bb1e7d2ceb2acceeeddca3cb236ffb4c336f4", "filename": "crates/ide/src/syntax_highlighting/test_data/highlight_extern_crate.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_extern_crate.html", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_extern_crate.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_extern_crate.html?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -7,7 +7,7 @@\n .label              { color: #DFAF8F; font-style: italic; }\n .comment            { color: #7F9F7F; }\n .documentation      { color: #629755; }\n-.intra_doc_link     { color: #A9C577; }\n+.intra_doc_link     { font-style: italic; }\n .injected           { opacity: 0.65 ; }\n .struct, .enum      { color: #7CB8BB; }\n .enum_variant       { color: #BDE0F3; }"}, {"sha": "9215ddd9e394af96f0ade891349adf7db8afb026", "filename": "crates/ide/src/syntax_highlighting/test_data/highlight_injection.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_injection.html", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_injection.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_injection.html?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -7,7 +7,7 @@\n .label              { color: #DFAF8F; font-style: italic; }\n .comment            { color: #7F9F7F; }\n .documentation      { color: #629755; }\n-.intra_doc_link     { color: #A9C577; }\n+.intra_doc_link     { font-style: italic; }\n .injected           { opacity: 0.65 ; }\n .struct, .enum      { color: #7CB8BB; }\n .enum_variant       { color: #BDE0F3; }"}, {"sha": "e860d713e014bcdc401085323aae5ea0c6fdd47a", "filename": "crates/ide/src/syntax_highlighting/test_data/highlight_strings.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_strings.html", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_strings.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_strings.html?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -7,7 +7,7 @@\n .label              { color: #DFAF8F; font-style: italic; }\n .comment            { color: #7F9F7F; }\n .documentation      { color: #629755; }\n-.intra_doc_link     { color: #A9C577; }\n+.intra_doc_link     { font-style: italic; }\n .injected           { opacity: 0.65 ; }\n .struct, .enum      { color: #7CB8BB; }\n .enum_variant       { color: #BDE0F3; }"}, {"sha": "6a6555208cb5afd863e73cd6e5b63430cbc22374", "filename": "crates/ide/src/syntax_highlighting/test_data/highlight_unsafe.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_unsafe.html", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_unsafe.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_unsafe.html?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -7,7 +7,7 @@\n .label              { color: #DFAF8F; font-style: italic; }\n .comment            { color: #7F9F7F; }\n .documentation      { color: #629755; }\n-.intra_doc_link     { color: #A9C577; }\n+.intra_doc_link     { font-style: italic; }\n .injected           { opacity: 0.65 ; }\n .struct, .enum      { color: #7CB8BB; }\n .enum_variant       { color: #BDE0F3; }"}, {"sha": "8b2dd3b70ed5bc34d64b167f400d662bf5297a10", "filename": "crates/ide/src/syntax_highlighting/test_data/highlighting.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlighting.html", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlighting.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlighting.html?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -7,7 +7,7 @@\n .label              { color: #DFAF8F; font-style: italic; }\n .comment            { color: #7F9F7F; }\n .documentation      { color: #629755; }\n-.intra_doc_link     { color: #A9C577; }\n+.intra_doc_link     { font-style: italic; }\n .injected           { opacity: 0.65 ; }\n .struct, .enum      { color: #7CB8BB; }\n .enum_variant       { color: #BDE0F3; }"}, {"sha": "9ab46d05c032c817975d3f45c0ec97043a5cfd98", "filename": "crates/ide/src/syntax_highlighting/test_data/injection.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Finjection.html", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Finjection.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Finjection.html?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -7,7 +7,7 @@\n .label              { color: #DFAF8F; font-style: italic; }\n .comment            { color: #7F9F7F; }\n .documentation      { color: #629755; }\n-.intra_doc_link     { color: #A9C577; }\n+.intra_doc_link     { font-style: italic; }\n .injected           { opacity: 0.65 ; }\n .struct, .enum      { color: #7CB8BB; }\n .enum_variant       { color: #BDE0F3; }"}, {"sha": "666b0b228dfa3648c0a46732f8bf899ea01a30f0", "filename": "crates/ide/src/syntax_highlighting/test_data/rainbow_highlighting.html", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Frainbow_highlighting.html", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Frainbow_highlighting.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Frainbow_highlighting.html?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -7,7 +7,7 @@\n .label              { color: #DFAF8F; font-style: italic; }\n .comment            { color: #7F9F7F; }\n .documentation      { color: #629755; }\n-.intra_doc_link     { color: #A9C577; }\n+.intra_doc_link     { font-style: italic; }\n .injected           { opacity: 0.65 ; }\n .struct, .enum      { color: #7CB8BB; }\n .enum_variant       { color: #BDE0F3; }"}, {"sha": "a3c5e9ccf447f3797f1cc475f94d4b492827c6da", "filename": "crates/rust-analyzer/src/semantic_tokens.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Frust-analyzer%2Fsrc%2Fsemantic_tokens.rs", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Frust-analyzer%2Fsrc%2Fsemantic_tokens.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fsemantic_tokens.rs?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -52,7 +52,6 @@ define_semantic_token_types![\n     (ESCAPE_SEQUENCE, \"escapeSequence\"),\n     (FORMAT_SPECIFIER, \"formatSpecifier\"),\n     (GENERIC, \"generic\"),\n-    (INTRA_DOC_LINK, \"intraDocLink\"),\n     (LABEL, \"label\"),\n     (LIFETIME, \"lifetime\"),\n     (PARENTHESIS, \"parenthesis\"),\n@@ -90,6 +89,7 @@ define_semantic_token_modifiers![\n     (UNSAFE, \"unsafe\"),\n     (ATTRIBUTE_MODIFIER, \"attribute\"),\n     (CALLABLE, \"callable\"),\n+    (INTRA_DOC_LINK, \"intraDocLink\"),\n ];\n \n #[derive(Default)]"}, {"sha": "1ddea927880dc58d293e91356a73c0410884a0b0", "filename": "crates/rust-analyzer/src/to_proto.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/48d6324a3f8a48efe3275424584a753c4e60d762/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs?ref=48d6324a3f8a48efe3275424584a753c4e60d762", "patch": "@@ -443,7 +443,6 @@ fn semantic_token_type_and_modifiers(\n         HlTag::Comment => lsp_types::SemanticTokenType::COMMENT,\n         HlTag::EscapeSequence => semantic_tokens::ESCAPE_SEQUENCE,\n         HlTag::FormatSpecifier => semantic_tokens::FORMAT_SPECIFIER,\n-        HlTag::IntraDocLink => semantic_tokens::INTRA_DOC_LINK,\n         HlTag::Keyword => lsp_types::SemanticTokenType::KEYWORD,\n         HlTag::None => semantic_tokens::GENERIC,\n         HlTag::Operator => lsp_types::SemanticTokenType::OPERATOR,\n@@ -474,6 +473,7 @@ fn semantic_token_type_and_modifiers(\n             HlMod::Unsafe => semantic_tokens::UNSAFE,\n             HlMod::Callable => semantic_tokens::CALLABLE,\n             HlMod::Static => lsp_types::SemanticTokenModifier::STATIC,\n+            HlMod::IntraDocLink => semantic_tokens::INTRA_DOC_LINK,\n             HlMod::Associated => continue,\n         };\n         mods |= modifier;"}]}