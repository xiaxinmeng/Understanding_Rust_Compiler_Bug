{"sha": "2cda73f617028712c097124f8f38ace4660c066d", "node_id": "C_kwDOAAsO6NoAKDJjZGE3M2Y2MTcwMjg3MTJjMDk3MTI0ZjhmMzhhY2U0NjYwYzA2NmQ", "commit": {"author": {"name": "Samuel Moelius", "email": "sam@moeli.us", "date": "2022-11-22T18:47:38Z"}, "committer": {"name": "Samuel Moelius", "email": "sam@moeli.us", "date": "2022-11-22T18:47:38Z"}, "message": "Use `walk_generic_arg`", "tree": {"sha": "950f260a0c2e3fba8d1bb37247d80c4c64cfbc34", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/950f260a0c2e3fba8d1bb37247d80c4c64cfbc34"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2cda73f617028712c097124f8f38ace4660c066d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2cda73f617028712c097124f8f38ace4660c066d", "html_url": "https://github.com/rust-lang/rust/commit/2cda73f617028712c097124f8f38ace4660c066d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2cda73f617028712c097124f8f38ace4660c066d/comments", "author": {"login": "smoelius", "id": 35515885, "node_id": "MDQ6VXNlcjM1NTE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/35515885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smoelius", "html_url": "https://github.com/smoelius", "followers_url": "https://api.github.com/users/smoelius/followers", "following_url": "https://api.github.com/users/smoelius/following{/other_user}", "gists_url": "https://api.github.com/users/smoelius/gists{/gist_id}", "starred_url": "https://api.github.com/users/smoelius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smoelius/subscriptions", "organizations_url": "https://api.github.com/users/smoelius/orgs", "repos_url": "https://api.github.com/users/smoelius/repos", "events_url": "https://api.github.com/users/smoelius/events{/privacy}", "received_events_url": "https://api.github.com/users/smoelius/received_events", "type": "User", "site_admin": false}, "committer": {"login": "smoelius", "id": 35515885, "node_id": "MDQ6VXNlcjM1NTE1ODg1", "avatar_url": "https://avatars.githubusercontent.com/u/35515885?v=4", "gravatar_id": "", "url": "https://api.github.com/users/smoelius", "html_url": "https://github.com/smoelius", "followers_url": "https://api.github.com/users/smoelius/followers", "following_url": "https://api.github.com/users/smoelius/following{/other_user}", "gists_url": "https://api.github.com/users/smoelius/gists{/gist_id}", "starred_url": "https://api.github.com/users/smoelius/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/smoelius/subscriptions", "organizations_url": "https://api.github.com/users/smoelius/orgs", "repos_url": "https://api.github.com/users/smoelius/repos", "events_url": "https://api.github.com/users/smoelius/events{/privacy}", "received_events_url": "https://api.github.com/users/smoelius/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5595d7f5d5168477172dd2c2a958d445eed61422", "url": "https://api.github.com/repos/rust-lang/rust/commits/5595d7f5d5168477172dd2c2a958d445eed61422", "html_url": "https://github.com/rust-lang/rust/commit/5595d7f5d5168477172dd2c2a958d445eed61422"}], "stats": {"total": 11, "additions": 2, "deletions": 9}, "files": [{"sha": "897428797e57c9aa02c60177cfad312d4c9fbcfd", "filename": "clippy_lints/src/lifetimes.rs", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/2cda73f617028712c097124f8f38ace4660c066d/clippy_lints%2Fsrc%2Flifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2cda73f617028712c097124f8f38ace4660c066d/clippy_lints%2Fsrc%2Flifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flifetimes.rs?ref=2cda73f617028712c097124f8f38ace4660c066d", "patch": "@@ -3,7 +3,7 @@ use clippy_utils::trait_ref_of_method;\n use rustc_data_structures::fx::{FxHashMap, FxHashSet};\n use rustc_hir::intravisit::nested_filter::{self as hir_nested_filter, NestedFilter};\n use rustc_hir::intravisit::{\n-    walk_fn_decl, walk_generic_param, walk_generics, walk_impl_item_ref, walk_item, walk_param_bound,\n+    walk_fn_decl, walk_generic_arg, walk_generic_param, walk_generics, walk_impl_item_ref, walk_item, walk_param_bound,\n     walk_poly_trait_ref, walk_trait_ref, walk_ty, Visitor,\n };\n use rustc_hir::lang_items;\n@@ -503,14 +503,7 @@ impl<'a, 'tcx> Visitor<'tcx> for RefVisitor<'a, 'tcx> {\n         {\n             self.lifetime_generic_arg_spans.entry(def_id).or_insert(l.span);\n         }\n-        // Replace with `walk_generic_arg` if/when https://github.com/rust-lang/rust/pull/103692 lands.\n-        // walk_generic_arg(self, generic_arg);\n-        match generic_arg {\n-            GenericArg::Lifetime(lt) => self.visit_lifetime(lt),\n-            GenericArg::Type(ty) => self.visit_ty(ty),\n-            GenericArg::Const(ct) => self.visit_anon_const(&ct.value),\n-            GenericArg::Infer(inf) => self.visit_infer(inf),\n-        }\n+        walk_generic_arg(self, generic_arg);\n     }\n }\n "}]}