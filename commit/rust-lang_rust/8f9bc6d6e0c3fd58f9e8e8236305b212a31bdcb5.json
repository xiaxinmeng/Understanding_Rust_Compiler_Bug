{"sha": "8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5", "node_id": "C_kwDOAAsO6NoAKDhmOWJjNmQ2ZTBjM2ZkNThmOWU4ZTgyMzYzMDViMjEyYTMxYmRjYjU", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-11-07T17:08:14Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-11-09T15:16:28Z"}, "message": "Migrate crate-search element to CSS variables", "tree": {"sha": "0b466ce90e8791927622cbae8b7ede4279481570", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0b466ce90e8791927622cbae8b7ede4279481570"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5", "html_url": "https://github.com/rust-lang/rust/commit/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0aaad9e757207657064d70bf9e6c1e6eb327bf15", "url": "https://api.github.com/repos/rust-lang/rust/commits/0aaad9e757207657064d70bf9e6c1e6eb327bf15", "html_url": "https://github.com/rust-lang/rust/commit/0aaad9e757207657064d70bf9e6c1e6eb327bf15"}], "stats": {"total": 61, "additions": 27, "deletions": 34}, "files": [{"sha": "86a5b0b303f39bf426b8aafd8d4531b85fa4ff24", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5", "patch": "@@ -830,6 +830,9 @@ table,\n \tline-height: 1.5;\n \tfont-weight: 500;\n }\n+#crate-search:hover, #crate-search:focus {\n+\tborder-color: var(--crate-search-hover-border);\n+}\n /* cancel stylistic differences in padding in firefox\n for \"appearance: none\"-style (or equivalent) <select>s */\n @-moz-document url-prefix() {\n@@ -853,8 +856,13 @@ so that we can apply CSS-filters to change the arrow color in themes */\n \tbackground-repeat: no-repeat;\n \tbackground-size: 20px;\n \tbackground-position: calc(100% - 2px) 56%;\n-\t/* image is black color, themes should apply a \"filter\" property to change the color */\n+\t/* image is black color */\n \tbackground-image: url(\"down-arrow-927217e04c7463ac.svg\");\n+\t/* changes the arrow image color */\n+\tfilter: var(--crate-search-div-filter);\n+}\n+#crate-search-div:hover::after, #crate-search-div:focus-within::after {\n+\tfilter: var(--crate-search-div-hover-filter);\n }\n #crate-search > option {\n \tfont-size: 1rem;"}, {"sha": "129ef6e10e7e7c31fe82fcb56f329d3269d8894e", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 6, "deletions": 11, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5", "patch": "@@ -67,6 +67,12 @@ Original by Dempfi (https://github.com/dempfi/ayu)\n \t\tdrop-shadow(0 1px 0 #fff)\n \t\tdrop-shadow(-1px 0 0 #fff)\n \t\tdrop-shadow(0 -1px 0 #fff);\n+\t/* match border-color; uses https://codepen.io/sosuke/pen/Pjoqqp */\n+\t--crate-search-div-filter: invert(41%) sepia(12%) saturate(487%) hue-rotate(171deg)\n+\t\tbrightness(94%) contrast(94%);\n+\t--crate-search-div-hover-filter: invert(98%) sepia(12%) saturate(81%) hue-rotate(343deg)\n+\t\tbrightness(113%) contrast(76%);\n+\t--crate-search-hover-border: #e0e0e0;\n }\n \n .slider {\n@@ -153,17 +159,6 @@ details.rustdoc-toggle > summary::before {\n \tfilter: invert(100%);\n }\n \n-#crate-search-div::after {\n-\t/* match border-color; uses https://codepen.io/sosuke/pen/Pjoqqp */\n-\tfilter: invert(41%) sepia(12%) saturate(487%) hue-rotate(171deg) brightness(94%) contrast(94%);\n-}\n-#crate-search:hover, #crate-search:focus {\n-\tborder-color: #e0e0e0 !important;\n-}\n-#crate-search-div:hover::after, #crate-search-div:focus-within::after {\n-\tfilter: invert(98%) sepia(12%) saturate(81%) hue-rotate(343deg) brightness(113%) contrast(76%);\n-}\n-\n .module-item .stab,\n .import-item .stab {\n \tcolor: #000;"}, {"sha": "7cd2d7817d59d26896cd2eb4232808b3803db7d0", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 6, "deletions": 11, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5", "patch": "@@ -62,6 +62,12 @@\n \t\tdrop-shadow(0 1px 0 #fff)\n \t\tdrop-shadow(-1px 0 0 #fff)\n \t\tdrop-shadow(0 -1px 0 #fff);\n+\t/* match border-color; uses https://codepen.io/sosuke/pen/Pjoqqp */\n+\t--crate-search-div-filter: invert(94%) sepia(0%) saturate(721%) hue-rotate(255deg)\n+\t\tbrightness(90%) contrast(90%);\n+\t--crate-search-div-hover-filter: invert(69%) sepia(60%) saturate(6613%) hue-rotate(184deg)\n+\t\tbrightness(100%) contrast(91%);\n+\t--crate-search-hover-border: #2196f3;\n }\n \n .slider {\n@@ -84,17 +90,6 @@ details.rustdoc-toggle > summary::before {\n \tfilter: invert(100%);\n }\n \n-#crate-search-div::after {\n-\t/* match border-color; uses https://codepen.io/sosuke/pen/Pjoqqp */\n-\tfilter: invert(94%) sepia(0%) saturate(721%) hue-rotate(255deg) brightness(90%) contrast(90%);\n-}\n-#crate-search:hover, #crate-search:focus {\n-\tborder-color: #2196f3 !important;\n-}\n-#crate-search-div:hover::after, #crate-search-div:focus-within::after {\n-\tfilter: invert(69%) sepia(60%) saturate(6613%) hue-rotate(184deg) brightness(100%) contrast(91%);\n-}\n-\n :target {\n \tbackground-color: #494a3d;\n \tborder-right: 3px solid #bb7410;"}, {"sha": "c41ec248841279ce4ce3dc3390b12b79a08e1dfd", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 6, "deletions": 11, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=8f9bc6d6e0c3fd58f9e8e8236305b212a31bdcb5", "patch": "@@ -59,6 +59,12 @@\n \t--test-arrow-hover-color: #f5f5f5;\n \t--test-arrow-hover-background-color: #4e8bca;\n \t--rust-logo-filter: initial;\n+\t/* match border-color; uses https://codepen.io/sosuke/pen/Pjoqqp */\n+\t--crate-search-div-filter: invert(100%) sepia(0%) saturate(4223%) hue-rotate(289deg)\n+\t\tbrightness(114%) contrast(76%);\n+\t--crate-search-div-hover-filter: invert(44%) sepia(18%) saturate(23%) hue-rotate(317deg)\n+\t\tbrightness(96%) contrast(93%);\n+\t--crate-search-hover-border: #717171;\n }\n \n .slider {\n@@ -77,17 +83,6 @@ body.source .example-wrap pre.rust a {\n \tbackground: #eee;\n }\n \n-#crate-search-div::after {\n-\t/* match border-color; uses https://codepen.io/sosuke/pen/Pjoqqp */\n-\tfilter: invert(100%) sepia(0%) saturate(4223%) hue-rotate(289deg) brightness(114%) contrast(76%);\n-}\n-#crate-search:hover, #crate-search:focus {\n-\tborder-color: #717171 !important;\n-}\n-#crate-search-div:hover::after, #crate-search-div:focus-within::after {\n-\tfilter: invert(44%) sepia(18%) saturate(23%) hue-rotate(317deg) brightness(96%) contrast(93%);\n-}\n-\n :target {\n \tbackground: #FDFFD3;\n \tborder-right: 3px solid #AD7C37;"}]}