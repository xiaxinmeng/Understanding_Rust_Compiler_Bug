{"sha": "8824c39945cf8cbdd0e1a07824e3d2f4823b8e7b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg4MjRjMzk5NDVjZjhjYmRkMGUxYTA3ODI0ZTNkMmY0ODIzYjhlN2I=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-12-22T20:54:32Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-12-22T23:17:22Z"}, "message": "rollup merge of #20089: rolftimmermans/json-control-chars-escape\n\nConflicts:\n\tsrc/libserialize/json.rs", "tree": {"sha": "c6384fcca253dd02b4b3de7f01079184ec63ef86", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c6384fcca253dd02b4b3de7f01079184ec63ef86"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8824c39945cf8cbdd0e1a07824e3d2f4823b8e7b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8824c39945cf8cbdd0e1a07824e3d2f4823b8e7b", "html_url": "https://github.com/rust-lang/rust/commit/8824c39945cf8cbdd0e1a07824e3d2f4823b8e7b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8824c39945cf8cbdd0e1a07824e3d2f4823b8e7b/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0a07db438be8ce8ce969b1244e8796d65a964d31", "url": "https://api.github.com/repos/rust-lang/rust/commits/0a07db438be8ce8ce969b1244e8796d65a964d31", "html_url": "https://github.com/rust-lang/rust/commit/0a07db438be8ce8ce969b1244e8796d65a964d31"}, {"sha": "0a7ef3f6cc7967feeb9c66a4f499ccbd515c67f6", "url": "https://api.github.com/repos/rust-lang/rust/commits/0a7ef3f6cc7967feeb9c66a4f499ccbd515c67f6", "html_url": "https://github.com/rust-lang/rust/commit/0a7ef3f6cc7967feeb9c66a4f499ccbd515c67f6"}], "stats": {"total": 38, "additions": 35, "deletions": 3}, "files": [{"sha": "9aa09ac1763561e527850a0781c2bb4852fb6b06", "filename": "AUTHORS.txt", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8824c39945cf8cbdd0e1a07824e3d2f4823b8e7b/AUTHORS.txt", "raw_url": "https://github.com/rust-lang/rust/raw/8824c39945cf8cbdd0e1a07824e3d2f4823b8e7b/AUTHORS.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/AUTHORS.txt?ref=8824c39945cf8cbdd0e1a07824e3d2f4823b8e7b", "patch": "@@ -498,6 +498,7 @@ Robert Irelan <rirelan@gmail.com>\n Robert Knight <robertknight@gmail.com>\n Robert Millar <robert.millar@cantab.net>\n Roland Tanglao <roland@rolandtanglao.com>\n+Rolf Timmermans <r.w.timmermans@gmail.com>\n Ron Dahlgren <ronald.dahlgren@gmail.com>\n Roy Frostig <rfrostig@mozilla.com>\n Russell <rpjohnst@gmail.com>"}, {"sha": "7df5590fb40e2e1e07c0b9a7b778d26038e13c5c", "filename": "src/libserialize/json.rs", "status": "modified", "additions": 34, "deletions": 3, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/8824c39945cf8cbdd0e1a07824e3d2f4823b8e7b/src%2Flibserialize%2Fjson.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8824c39945cf8cbdd0e1a07824e3d2f4823b8e7b/src%2Flibserialize%2Fjson.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibserialize%2Fjson.rs?ref=8824c39945cf8cbdd0e1a07824e3d2f4823b8e7b", "patch": "@@ -334,11 +334,39 @@ pub fn escape_bytes(wr: &mut io::Writer, bytes: &[u8]) -> Result<(), io::IoError\n         let escaped = match *byte {\n             b'\"' => \"\\\\\\\"\",\n             b'\\\\' => \"\\\\\\\\\",\n+            b'\\x00' => \"\\\\u0000\",\n+            b'\\x01' => \"\\\\u0001\",\n+            b'\\x02' => \"\\\\u0002\",\n+            b'\\x03' => \"\\\\u0003\",\n+            b'\\x04' => \"\\\\u0004\",\n+            b'\\x05' => \"\\\\u0005\",\n+            b'\\x06' => \"\\\\u0006\",\n+            b'\\x07' => \"\\\\u0007\",\n             b'\\x08' => \"\\\\b\",\n-            b'\\x0c' => \"\\\\f\",\n+            b'\\t' => \"\\\\t\",\n             b'\\n' => \"\\\\n\",\n+            b'\\x0b' => \"\\\\u000b\",\n+            b'\\x0c' => \"\\\\f\",\n             b'\\r' => \"\\\\r\",\n-            b'\\t' => \"\\\\t\",\n+            b'\\x0e' => \"\\\\u000e\",\n+            b'\\x0f' => \"\\\\u000f\",\n+            b'\\x10' => \"\\\\u0010\",\n+            b'\\x11' => \"\\\\u0011\",\n+            b'\\x12' => \"\\\\u0012\",\n+            b'\\x13' => \"\\\\u0013\",\n+            b'\\x14' => \"\\\\u0014\",\n+            b'\\x15' => \"\\\\u0015\",\n+            b'\\x16' => \"\\\\u0016\",\n+            b'\\x17' => \"\\\\u0017\",\n+            b'\\x18' => \"\\\\u0018\",\n+            b'\\x19' => \"\\\\u0019\",\n+            b'\\x1a' => \"\\\\u001a\",\n+            b'\\x1b' => \"\\\\u001b\",\n+            b'\\x1c' => \"\\\\u001c\",\n+            b'\\x1d' => \"\\\\u001d\",\n+            b'\\x1e' => \"\\\\u001e\",\n+            b'\\x1f' => \"\\\\u001f\",\n+            b'\\x7f' => \"\\\\u007f\",\n             _ => { continue; }\n         };\n \n@@ -2731,7 +2759,10 @@ mod tests {\n     fn test_write_char() {\n         check_encoder_for_simple!('a', \"\\\"a\\\"\");\n         check_encoder_for_simple!('\\t', \"\\\"\\\\t\\\"\");\n-        check_encoder_for_simple!('\\u{a0}', \"\\\"\\u{a0}\\\"\");\n+        check_encoder_for_simple!('\\u{0000}', \"\\\"\\\\u0000\\\"\");\n+        check_encoder_for_simple!('\\u{001b}', \"\\\"\\\\u001b\\\"\");\n+        check_encoder_for_simple!('\\u{007f}', \"\\\"\\\\u007f\\\"\");\n+        check_encoder_for_simple!('\\u{00a0}', \"\\\"\\u{00a0}\\\"\");\n         check_encoder_for_simple!('\\u{abcd}', \"\\\"\\u{abcd}\\\"\");\n         check_encoder_for_simple!('\\u{10ffff}', \"\\\"\\u{10ffff}\\\"\");\n     }"}]}