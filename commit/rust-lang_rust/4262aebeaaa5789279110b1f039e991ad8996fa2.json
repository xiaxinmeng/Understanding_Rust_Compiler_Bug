{"sha": "4262aebeaaa5789279110b1f039e991ad8996fa2", "node_id": "C_kwDOAAsO6NoAKDQyNjJhZWJlYWFhNTc4OTI3OTExMGIxZjAzOWU5OTFhZDg5OTZmYTI", "commit": {"author": {"name": "Caio", "email": "c410.f3r@gmail.com", "date": "2023-01-06T15:25:51Z"}, "committer": {"name": "Caio", "email": "c410.f3r@gmail.com", "date": "2023-01-06T15:25:51Z"}, "message": "[arithmetic-side-effects] Consider negative numbers and add more tests", "tree": {"sha": "caec6c4b95b3344bf187488f0b62e7d26420766f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/caec6c4b95b3344bf187488f0b62e7d26420766f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4262aebeaaa5789279110b1f039e991ad8996fa2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4262aebeaaa5789279110b1f039e991ad8996fa2", "html_url": "https://github.com/rust-lang/rust/commit/4262aebeaaa5789279110b1f039e991ad8996fa2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4262aebeaaa5789279110b1f039e991ad8996fa2/comments", "author": {"login": "c410-f3r", "id": 17877264, "node_id": "MDQ6VXNlcjE3ODc3MjY0", "avatar_url": "https://avatars.githubusercontent.com/u/17877264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c410-f3r", "html_url": "https://github.com/c410-f3r", "followers_url": "https://api.github.com/users/c410-f3r/followers", "following_url": "https://api.github.com/users/c410-f3r/following{/other_user}", "gists_url": "https://api.github.com/users/c410-f3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/c410-f3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c410-f3r/subscriptions", "organizations_url": "https://api.github.com/users/c410-f3r/orgs", "repos_url": "https://api.github.com/users/c410-f3r/repos", "events_url": "https://api.github.com/users/c410-f3r/events{/privacy}", "received_events_url": "https://api.github.com/users/c410-f3r/received_events", "type": "User", "site_admin": false}, "committer": {"login": "c410-f3r", "id": 17877264, "node_id": "MDQ6VXNlcjE3ODc3MjY0", "avatar_url": "https://avatars.githubusercontent.com/u/17877264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c410-f3r", "html_url": "https://github.com/c410-f3r", "followers_url": "https://api.github.com/users/c410-f3r/followers", "following_url": "https://api.github.com/users/c410-f3r/following{/other_user}", "gists_url": "https://api.github.com/users/c410-f3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/c410-f3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c410-f3r/subscriptions", "organizations_url": "https://api.github.com/users/c410-f3r/orgs", "repos_url": "https://api.github.com/users/c410-f3r/repos", "events_url": "https://api.github.com/users/c410-f3r/events{/privacy}", "received_events_url": "https://api.github.com/users/c410-f3r/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "179a22f624470a34c58f9ec712d729d7156dbcb0", "url": "https://api.github.com/repos/rust-lang/rust/commits/179a22f624470a34c58f9ec712d729d7156dbcb0", "html_url": "https://github.com/rust-lang/rust/commit/179a22f624470a34c58f9ec712d729d7156dbcb0"}], "stats": {"total": 366, "additions": 304, "deletions": 62}, "files": [{"sha": "cff82b875f11a73830cf2ab574593664030ac9f2", "filename": "clippy_lints/src/operators/arithmetic_side_effects.rs", "status": "modified", "additions": 7, "deletions": 4, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/4262aebeaaa5789279110b1f039e991ad8996fa2/clippy_lints%2Fsrc%2Foperators%2Farithmetic_side_effects.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4262aebeaaa5789279110b1f039e991ad8996fa2/clippy_lints%2Fsrc%2Foperators%2Farithmetic_side_effects.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Foperators%2Farithmetic_side_effects.rs?ref=4262aebeaaa5789279110b1f039e991ad8996fa2", "patch": "@@ -2,7 +2,7 @@ use super::ARITHMETIC_SIDE_EFFECTS;\n use clippy_utils::{\n     consts::{constant, constant_simple},\n     diagnostics::span_lint,\n-    peel_hir_expr_refs,\n+    peel_hir_expr_refs, peel_hir_expr_unary,\n };\n use rustc_ast as ast;\n use rustc_data_structures::fx::{FxHashMap, FxHashSet};\n@@ -98,8 +98,11 @@ impl ArithmeticSideEffects {\n     }\n \n     /// If `expr` is not a literal integer like `1`, returns `None`.\n+    ///\n+    /// Returns the absolute value of the expression, if this is an integer literal.\n     fn literal_integer(expr: &hir::Expr<'_>) -> Option<u128> {\n-        if let hir::ExprKind::Lit(ref lit) = expr.kind && let ast::LitKind::Int(n, _) = lit.node {\n+        let actual = peel_hir_expr_unary(expr).0;\n+        if let hir::ExprKind::Lit(ref lit) = actual.kind && let ast::LitKind::Int(n, _) = lit.node {\n             Some(n)\n         }\n         else {\n@@ -123,12 +126,12 @@ impl ArithmeticSideEffects {\n         if !matches!(\n             op.node,\n             hir::BinOpKind::Add\n-                | hir::BinOpKind::Sub\n-                | hir::BinOpKind::Mul\n                 | hir::BinOpKind::Div\n+                | hir::BinOpKind::Mul\n                 | hir::BinOpKind::Rem\n                 | hir::BinOpKind::Shl\n                 | hir::BinOpKind::Shr\n+                | hir::BinOpKind::Sub\n         ) {\n             return;\n         };"}, {"sha": "1dc68be31d923d9590d80bc7485146868cec0a02", "filename": "clippy_utils/src/lib.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/4262aebeaaa5789279110b1f039e991ad8996fa2/clippy_utils%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4262aebeaaa5789279110b1f039e991ad8996fa2/clippy_utils%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Flib.rs?ref=4262aebeaaa5789279110b1f039e991ad8996fa2", "patch": "@@ -2258,6 +2258,18 @@ pub fn peel_n_hir_expr_refs<'a>(expr: &'a Expr<'a>, count: usize) -> (&'a Expr<'\n     (e, count - remaining)\n }\n \n+/// Peels off all unary operators of an expression. Returns the underlying expression and the number\n+/// of operators removed.\n+pub fn peel_hir_expr_unary<'a>(expr: &'a Expr<'a>) -> (&'a Expr<'a>, usize) {\n+    let mut count: usize = 0;\n+    let mut curr_expr = expr;\n+    while let ExprKind::Unary(_, local_expr) = curr_expr.kind {\n+        count = count.wrapping_add(1);\n+        curr_expr = local_expr;\n+    }\n+    (curr_expr, count)\n+}\n+\n /// Peels off all references on the expression. Returns the underlying expression and the number of\n /// references removed.\n pub fn peel_hir_expr_refs<'a>(expr: &'a Expr<'a>) -> (&'a Expr<'a>, usize) {"}, {"sha": "fb5b1b193f8415b012b0756e48bb3d86200d4e68", "filename": "tests/ui-toml/arithmetic_side_effects_allowed/arithmetic_side_effects_allowed.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4262aebeaaa5789279110b1f039e991ad8996fa2/tests%2Fui-toml%2Farithmetic_side_effects_allowed%2Farithmetic_side_effects_allowed.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4262aebeaaa5789279110b1f039e991ad8996fa2/tests%2Fui-toml%2Farithmetic_side_effects_allowed%2Farithmetic_side_effects_allowed.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Farithmetic_side_effects_allowed%2Farithmetic_side_effects_allowed.rs?ref=4262aebeaaa5789279110b1f039e991ad8996fa2", "patch": "@@ -107,7 +107,7 @@ fn rhs_is_different() {\n fn unary() {\n     // is explicitly on the list\n     let _ = -OutOfNames;\n-    // is specifically on the list\n+    // is explicitly on the list\n     let _ = -Foo;\n     // not on the list\n     let _ = -Bar;"}, {"sha": "66c468c9406357434334f66447ef370a3182e42a", "filename": "tests/ui/arithmetic_side_effects.rs", "status": "modified", "additions": 66, "deletions": 1, "changes": 67, "blob_url": "https://github.com/rust-lang/rust/blob/4262aebeaaa5789279110b1f039e991ad8996fa2/tests%2Fui%2Farithmetic_side_effects.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4262aebeaaa5789279110b1f039e991ad8996fa2/tests%2Fui%2Farithmetic_side_effects.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Farithmetic_side_effects.rs?ref=4262aebeaaa5789279110b1f039e991ad8996fa2", "patch": "@@ -2,6 +2,7 @@\n     clippy::assign_op_pattern,\n     clippy::erasing_op,\n     clippy::identity_op,\n+    clippy::no_effect,\n     clippy::op_ref,\n     clippy::unnecessary_owned_empty_strings,\n     arithmetic_overflow,\n@@ -125,6 +126,18 @@ pub fn non_overflowing_ops_or_ops_already_handled_by_the_compiler_should_not_tri\n     _n *= &0;\n     _n *= 1;\n     _n *= &1;\n+    _n += -0;\n+    _n += &-0;\n+    _n -= -0;\n+    _n -= &-0;\n+    _n /= -99;\n+    _n /= &-99;\n+    _n %= -99;\n+    _n %= &-99;\n+    _n *= -0;\n+    _n *= &-0;\n+    _n *= -1;\n+    _n *= &-1;\n \n     // Binary\n     _n = _n + 0;\n@@ -158,7 +171,7 @@ pub fn non_overflowing_ops_or_ops_already_handled_by_the_compiler_should_not_tri\n     _n = -&i32::MIN;\n }\n \n-pub fn runtime_ops() {\n+pub fn unknown_ops_or_runtime_ops_that_can_overflow() {\n     let mut _n = i32::MAX;\n \n     // Assign\n@@ -172,6 +185,16 @@ pub fn runtime_ops() {\n     _n %= &0;\n     _n *= 2;\n     _n *= &2;\n+    _n += -1;\n+    _n += &-1;\n+    _n -= -1;\n+    _n -= &-1;\n+    _n /= -0;\n+    _n /= &-0;\n+    _n %= -0;\n+    _n %= &-0;\n+    _n *= -2;\n+    _n *= &-2;\n \n     // Binary\n     _n = _n + 1;\n@@ -225,4 +248,46 @@ pub fn runtime_ops() {\n     _n = -&_n;\n }\n \n+// Copied and pasted from the `integer_arithmetic` lint for comparison.\n+pub fn integer_arithmetic() {\n+    let mut i = 1i32;\n+    let mut var1 = 0i32;\n+    let mut var2 = -1i32;\n+\n+    1 + i;\n+    i * 2;\n+    1 % i / 2;\n+    i - 2 + 2 - i;\n+    -i;\n+    i >> 1;\n+    i << 1;\n+\n+    -1;\n+    -(-1);\n+\n+    i & 1;\n+    i | 1;\n+    i ^ 1;\n+\n+    i += 1;\n+    i -= 1;\n+    i *= 2;\n+    i /= 2;\n+    i /= 0;\n+    i /= -1;\n+    i /= var1;\n+    i /= var2;\n+    i %= 2;\n+    i %= 0;\n+    i %= -1;\n+    i %= var1;\n+    i %= var2;\n+    i <<= 3;\n+    i >>= 2;\n+\n+    i |= 1;\n+    i &= 1;\n+    i ^= i;\n+}\n+\n fn main() {}"}, {"sha": "a9bb0ae9280e672dc7dab578d885da2d00ff3631", "filename": "tests/ui/arithmetic_side_effects.stderr", "status": "modified", "additions": 218, "deletions": 56, "changes": 274, "blob_url": "https://github.com/rust-lang/rust/blob/4262aebeaaa5789279110b1f039e991ad8996fa2/tests%2Fui%2Farithmetic_side_effects.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4262aebeaaa5789279110b1f039e991ad8996fa2/tests%2Fui%2Farithmetic_side_effects.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Farithmetic_side_effects.stderr?ref=4262aebeaaa5789279110b1f039e991ad8996fa2", "patch": "@@ -1,334 +1,496 @@\n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:165:5\n+  --> $DIR/arithmetic_side_effects.rs:178:5\n    |\n LL |     _n += 1;\n    |     ^^^^^^^\n    |\n    = note: `-D clippy::arithmetic-side-effects` implied by `-D warnings`\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:166:5\n+  --> $DIR/arithmetic_side_effects.rs:179:5\n    |\n LL |     _n += &1;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:167:5\n+  --> $DIR/arithmetic_side_effects.rs:180:5\n    |\n LL |     _n -= 1;\n    |     ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:168:5\n+  --> $DIR/arithmetic_side_effects.rs:181:5\n    |\n LL |     _n -= &1;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:169:5\n+  --> $DIR/arithmetic_side_effects.rs:182:5\n    |\n LL |     _n /= 0;\n    |     ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:170:5\n+  --> $DIR/arithmetic_side_effects.rs:183:5\n    |\n LL |     _n /= &0;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:171:5\n+  --> $DIR/arithmetic_side_effects.rs:184:5\n    |\n LL |     _n %= 0;\n    |     ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:172:5\n+  --> $DIR/arithmetic_side_effects.rs:185:5\n    |\n LL |     _n %= &0;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:173:5\n+  --> $DIR/arithmetic_side_effects.rs:186:5\n    |\n LL |     _n *= 2;\n    |     ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:174:5\n+  --> $DIR/arithmetic_side_effects.rs:187:5\n    |\n LL |     _n *= &2;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:177:10\n+  --> $DIR/arithmetic_side_effects.rs:188:5\n+   |\n+LL |     _n += -1;\n+   |     ^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:189:5\n+   |\n+LL |     _n += &-1;\n+   |     ^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:190:5\n+   |\n+LL |     _n -= -1;\n+   |     ^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:191:5\n+   |\n+LL |     _n -= &-1;\n+   |     ^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:192:5\n+   |\n+LL |     _n /= -0;\n+   |     ^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:193:5\n+   |\n+LL |     _n /= &-0;\n+   |     ^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:194:5\n+   |\n+LL |     _n %= -0;\n+   |     ^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:195:5\n+   |\n+LL |     _n %= &-0;\n+   |     ^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:196:5\n+   |\n+LL |     _n *= -2;\n+   |     ^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:197:5\n+   |\n+LL |     _n *= &-2;\n+   |     ^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:200:10\n    |\n LL |     _n = _n + 1;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:178:10\n+  --> $DIR/arithmetic_side_effects.rs:201:10\n    |\n LL |     _n = _n + &1;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:179:10\n+  --> $DIR/arithmetic_side_effects.rs:202:10\n    |\n LL |     _n = 1 + _n;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:180:10\n+  --> $DIR/arithmetic_side_effects.rs:203:10\n    |\n LL |     _n = &1 + _n;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:181:10\n+  --> $DIR/arithmetic_side_effects.rs:204:10\n    |\n LL |     _n = _n - 1;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:182:10\n+  --> $DIR/arithmetic_side_effects.rs:205:10\n    |\n LL |     _n = _n - &1;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:183:10\n+  --> $DIR/arithmetic_side_effects.rs:206:10\n    |\n LL |     _n = 1 - _n;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:184:10\n+  --> $DIR/arithmetic_side_effects.rs:207:10\n    |\n LL |     _n = &1 - _n;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:185:10\n+  --> $DIR/arithmetic_side_effects.rs:208:10\n    |\n LL |     _n = _n / 0;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:186:10\n+  --> $DIR/arithmetic_side_effects.rs:209:10\n    |\n LL |     _n = _n / &0;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:187:10\n+  --> $DIR/arithmetic_side_effects.rs:210:10\n    |\n LL |     _n = _n % 0;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:188:10\n+  --> $DIR/arithmetic_side_effects.rs:211:10\n    |\n LL |     _n = _n % &0;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:189:10\n+  --> $DIR/arithmetic_side_effects.rs:212:10\n    |\n LL |     _n = _n * 2;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:190:10\n+  --> $DIR/arithmetic_side_effects.rs:213:10\n    |\n LL |     _n = _n * &2;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:191:10\n+  --> $DIR/arithmetic_side_effects.rs:214:10\n    |\n LL |     _n = 2 * _n;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:192:10\n+  --> $DIR/arithmetic_side_effects.rs:215:10\n    |\n LL |     _n = &2 * _n;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:193:10\n+  --> $DIR/arithmetic_side_effects.rs:216:10\n    |\n LL |     _n = 23 + &85;\n    |          ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:194:10\n+  --> $DIR/arithmetic_side_effects.rs:217:10\n    |\n LL |     _n = &23 + 85;\n    |          ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:195:10\n+  --> $DIR/arithmetic_side_effects.rs:218:10\n    |\n LL |     _n = &23 + &85;\n    |          ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:198:13\n+  --> $DIR/arithmetic_side_effects.rs:221:13\n    |\n LL |     let _ = Custom + 0;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:199:13\n+  --> $DIR/arithmetic_side_effects.rs:222:13\n    |\n LL |     let _ = Custom + 1;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:200:13\n+  --> $DIR/arithmetic_side_effects.rs:223:13\n    |\n LL |     let _ = Custom + 2;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:201:13\n+  --> $DIR/arithmetic_side_effects.rs:224:13\n    |\n LL |     let _ = Custom + 0.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:202:13\n+  --> $DIR/arithmetic_side_effects.rs:225:13\n    |\n LL |     let _ = Custom + 1.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:203:13\n+  --> $DIR/arithmetic_side_effects.rs:226:13\n    |\n LL |     let _ = Custom + 2.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:204:13\n+  --> $DIR/arithmetic_side_effects.rs:227:13\n    |\n LL |     let _ = Custom - 0;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:205:13\n+  --> $DIR/arithmetic_side_effects.rs:228:13\n    |\n LL |     let _ = Custom - 1;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:206:13\n+  --> $DIR/arithmetic_side_effects.rs:229:13\n    |\n LL |     let _ = Custom - 2;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:207:13\n+  --> $DIR/arithmetic_side_effects.rs:230:13\n    |\n LL |     let _ = Custom - 0.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:208:13\n+  --> $DIR/arithmetic_side_effects.rs:231:13\n    |\n LL |     let _ = Custom - 1.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:209:13\n+  --> $DIR/arithmetic_side_effects.rs:232:13\n    |\n LL |     let _ = Custom - 2.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:210:13\n+  --> $DIR/arithmetic_side_effects.rs:233:13\n    |\n LL |     let _ = Custom / 0;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:211:13\n+  --> $DIR/arithmetic_side_effects.rs:234:13\n    |\n LL |     let _ = Custom / 1;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:212:13\n+  --> $DIR/arithmetic_side_effects.rs:235:13\n    |\n LL |     let _ = Custom / 2;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:213:13\n+  --> $DIR/arithmetic_side_effects.rs:236:13\n    |\n LL |     let _ = Custom / 0.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:214:13\n+  --> $DIR/arithmetic_side_effects.rs:237:13\n    |\n LL |     let _ = Custom / 1.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:215:13\n+  --> $DIR/arithmetic_side_effects.rs:238:13\n    |\n LL |     let _ = Custom / 2.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:216:13\n+  --> $DIR/arithmetic_side_effects.rs:239:13\n    |\n LL |     let _ = Custom * 0;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:217:13\n+  --> $DIR/arithmetic_side_effects.rs:240:13\n    |\n LL |     let _ = Custom * 1;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:218:13\n+  --> $DIR/arithmetic_side_effects.rs:241:13\n    |\n LL |     let _ = Custom * 2;\n    |             ^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:219:13\n+  --> $DIR/arithmetic_side_effects.rs:242:13\n    |\n LL |     let _ = Custom * 0.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:220:13\n+  --> $DIR/arithmetic_side_effects.rs:243:13\n    |\n LL |     let _ = Custom * 1.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:221:13\n+  --> $DIR/arithmetic_side_effects.rs:244:13\n    |\n LL |     let _ = Custom * 2.0;\n    |             ^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:224:10\n+  --> $DIR/arithmetic_side_effects.rs:247:10\n    |\n LL |     _n = -_n;\n    |          ^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:225:10\n+  --> $DIR/arithmetic_side_effects.rs:248:10\n    |\n LL |     _n = -&_n;\n    |          ^^^^\n \n-error: aborting due to 55 previous errors\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:257:5\n+   |\n+LL |     1 + i;\n+   |     ^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:258:5\n+   |\n+LL |     i * 2;\n+   |     ^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:260:5\n+   |\n+LL |     i - 2 + 2 - i;\n+   |     ^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:261:5\n+   |\n+LL |     -i;\n+   |     ^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:262:5\n+   |\n+LL |     i >> 1;\n+   |     ^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:263:5\n+   |\n+LL |     i << 1;\n+   |     ^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:272:5\n+   |\n+LL |     i += 1;\n+   |     ^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:273:5\n+   |\n+LL |     i -= 1;\n+   |     ^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:274:5\n+   |\n+LL |     i *= 2;\n+   |     ^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:276:5\n+   |\n+LL |     i /= 0;\n+   |     ^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:278:5\n+   |\n+LL |     i /= var1;\n+   |     ^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:279:5\n+   |\n+LL |     i /= var2;\n+   |     ^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:281:5\n+   |\n+LL |     i %= 0;\n+   |     ^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:283:5\n+   |\n+LL |     i %= var1;\n+   |     ^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:284:5\n+   |\n+LL |     i %= var2;\n+   |     ^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:285:5\n+   |\n+LL |     i <<= 3;\n+   |     ^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:286:5\n+   |\n+LL |     i >>= 2;\n+   |     ^^^^^^^\n+\n+error: aborting due to 82 previous errors\n "}]}