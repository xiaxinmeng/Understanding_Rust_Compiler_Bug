{"sha": "e5be14c2721ed4f4bf8b4c5c01a68de18cfd31a3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU1YmUxNGMyNzIxZWQ0ZjRiZjhiNGM1YzAxYTY4ZGUxOGNmZDMxYTM=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-09-20T10:08:36Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-09-20T10:08:36Z"}, "message": "Rollup merge of #76871 - RalfJung:miri-panic-abort, r=dtolnay\n\nsupport panic=abort in Miri\n\nThis is needed for https://github.com/rust-lang/miri/issues/1058 on Windows: we cannot run the inline-assembly versions of `abort`, so fall back to the intrinsic (which Miri supports).", "tree": {"sha": "eb898f692b83000bb21c6ee46be30a9c74d529ff", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/eb898f692b83000bb21c6ee46be30a9c74d529ff"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e5be14c2721ed4f4bf8b4c5c01a68de18cfd31a3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfZyokCRBK7hj4Ov3rIwAAdHIIABzpBNAOGcLchw5mxYEAo0Nv\nqiLbReJg89EDybX/9nO9Ij3RCbcZSxxFHxmlLNMbcueKUwCjDqng8pUeF/c8gMsT\n6OuaHZiJUe/QDElN6uMZNGcQ8vwRsvmArBKyEsAG/vyc8TpQgBFKoN2ZTlY8PYKc\ne3kgx7JMPrnA3QGKEFh+BlyytwQSb8LHiZrZCxka+Y2KhEislwan0LZQ9WGrswim\nL/7TZReJ+6XJLddwXAm063vcPcsTBWk1Osrw3ojvk92QhTnVONo9XCOqgqARjjBM\nYog0l1bhSmq1R1Vl+FwrVc1kWgmw2gjihtSJhEGWEfk1bN7acV5L71rA8pA+M/k=\n=OJpx\n-----END PGP SIGNATURE-----\n", "payload": "tree eb898f692b83000bb21c6ee46be30a9c74d529ff\nparent 70f55a78a32f8a34eb0386b8838f03baec2b2688\nparent 0810c3ef1971b87f05561b8da9947f52a5270f29\nauthor Ralf Jung <post@ralfj.de> 1600596516 +0200\ncommitter GitHub <noreply@github.com> 1600596516 +0200\n\nRollup merge of #76871 - RalfJung:miri-panic-abort, r=dtolnay\n\nsupport panic=abort in Miri\n\nThis is needed for https://github.com/rust-lang/miri/issues/1058 on Windows: we cannot run the inline-assembly versions of `abort`, so fall back to the intrinsic (which Miri supports).\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e5be14c2721ed4f4bf8b4c5c01a68de18cfd31a3", "html_url": "https://github.com/rust-lang/rust/commit/e5be14c2721ed4f4bf8b4c5c01a68de18cfd31a3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e5be14c2721ed4f4bf8b4c5c01a68de18cfd31a3/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "70f55a78a32f8a34eb0386b8838f03baec2b2688", "url": "https://api.github.com/repos/rust-lang/rust/commits/70f55a78a32f8a34eb0386b8838f03baec2b2688", "html_url": "https://github.com/rust-lang/rust/commit/70f55a78a32f8a34eb0386b8838f03baec2b2688"}, {"sha": "0810c3ef1971b87f05561b8da9947f52a5270f29", "url": "https://api.github.com/repos/rust-lang/rust/commits/0810c3ef1971b87f05561b8da9947f52a5270f29", "html_url": "https://github.com/rust-lang/rust/commit/0810c3ef1971b87f05561b8da9947f52a5270f29"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "e5800fbceb27ac0f288d4dcaa191367519b857dc", "filename": "library/panic_abort/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e5be14c2721ed4f4bf8b4c5c01a68de18cfd31a3/library%2Fpanic_abort%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e5be14c2721ed4f4bf8b4c5c01a68de18cfd31a3/library%2Fpanic_abort%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fpanic_abort%2Fsrc%2Flib.rs?ref=e5be14c2721ed4f4bf8b4c5c01a68de18cfd31a3", "patch": "@@ -47,7 +47,7 @@ pub unsafe extern \"C\" fn __rust_start_panic(_payload: usize) -> u32 {\n                 }\n                 __rust_abort();\n             }\n-        } else if #[cfg(windows)] {\n+        } else if #[cfg(all(windows, not(miri)))] {\n             // On Windows, use the processor-specific __fastfail mechanism. In Windows 8\n             // and later, this will terminate the process immediately without running any\n             // in-process exception handlers. In earlier versions of Windows, this"}]}