{"sha": "d89a10b0a6ae1763ade69ff2fff04aa84cb766b6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ4OWExMGIwYTZhZTE3NjNhZGU2OWZmMmZmZjA0YWE4NGNiNzY2YjY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-09-12T02:57:01Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-09-12T02:57:01Z"}, "message": "Auto merge of #28340 - brson:configure, r=alexcrichton\n\nRedirect stdout on the python bogosity detector. This is printing\r\npwd to the terminal currently.\r\n\r\nReformat the bogus python/cmake messages so they format correctly.\r\necho does not always escape newlines (it doesn't here), and multiline\r\nstrings don't whitespace munch.\r\n\r\nr? @alexcrichton", "tree": {"sha": "40eb2c7503d023130a41df53783cc0c5cbbe692b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/40eb2c7503d023130a41df53783cc0c5cbbe692b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d89a10b0a6ae1763ade69ff2fff04aa84cb766b6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d89a10b0a6ae1763ade69ff2fff04aa84cb766b6", "html_url": "https://github.com/rust-lang/rust/commit/d89a10b0a6ae1763ade69ff2fff04aa84cb766b6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d89a10b0a6ae1763ade69ff2fff04aa84cb766b6/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "33f0920d0e81cf95cb62f380c13f100f3e1d804c", "url": "https://api.github.com/repos/rust-lang/rust/commits/33f0920d0e81cf95cb62f380c13f100f3e1d804c", "html_url": "https://github.com/rust-lang/rust/commit/33f0920d0e81cf95cb62f380c13f100f3e1d804c"}, {"sha": "2662a72537111b4b486813bc284ff560a3ec3bc7", "url": "https://api.github.com/repos/rust-lang/rust/commits/2662a72537111b4b486813bc284ff560a3ec3bc7", "html_url": "https://github.com/rust-lang/rust/commit/2662a72537111b4b486813bc284ff560a3ec3bc7"}], "stats": {"total": 36, "additions": 27, "deletions": 9}, "files": [{"sha": "2d03b5f6f41ea600acde37e627b232bc3d2f92ed", "filename": "configure", "status": "modified", "additions": 27, "deletions": 9, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/d89a10b0a6ae1763ade69ff2fff04aa84cb766b6/configure", "raw_url": "https://github.com/rust-lang/rust/raw/d89a10b0a6ae1763ade69ff2fff04aa84cb766b6/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=d89a10b0a6ae1763ade69ff2fff04aa84cb766b6", "patch": "@@ -1191,12 +1191,21 @@ do\n             #\n             # Consequently here we try to detect when that happens and print an\n             # error if it does.\n-            if $CFG_PYTHON -c 'import sys; print sys.argv[1]' `pwd` | grep '^/'\n+            if $CFG_PYTHON -c 'import sys; print sys.argv[1]' `pwd` | grep '^/' > /dev/null\n             then\n-                err \"python is silently translating windows paths to MSYS paths \\\n-                     and the build will fail if this python is used.\\n\\n \\\n-                     Either an official python install must be used or an \\\n-                     alternative python package in MinGW must be used.\"\n+                err \"\n+\n+python is silently translating windows paths to MSYS paths \\\n+and the build will fail if this python is used.\n+\n+Either an official python install must be used or an \\\n+alternative python package in MinGW must be used.\n+\n+If you are building under msys2 try installing the mingw-w64-x86_64-python2 \\\n+package instead of python2:\n+\n+$ pacman -R python2 && pacman -S mingw-w64-x86_64-python2\n+\"\n             fi\n \n             # MSVC requires cmake because that's how we're going to build LLVM\n@@ -1207,10 +1216,19 @@ do\n             # detect that here and error.\n             if ! \"$CFG_CMAKE\" --help | sed -n '/^Generators/,$p' | grep 'Visual Studio' > /dev/null\n             then\n-                err \"cmake does not support Visual Studio generators.\\n\\n \\\n-                     This is likely due to it being an msys/cygwin build of cmake, \\\n-                     rather than the required windows version, built using MinGW \\\n-                     or Visual Studio.\"\n+                err \"\n+\n+cmake does not support Visual Studio generators.\n+\n+This is likely due to it being an msys/cygwin build of cmake, \\\n+rather than the required windows version, built using MinGW \\\n+or Visual Studio.\n+\n+If you are building under msys2 try installing the mingw-w64-x86_64-cmake \\\n+package instead of cmake:\n+\n+$ pacman -R cmake && pacman -S mingw-w64-x86_64-cmake\n+\"\n             fi\n \n             # Use the REG program to figure out where VS is installed"}]}