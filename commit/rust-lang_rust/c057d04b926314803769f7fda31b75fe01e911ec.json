{"sha": "c057d04b926314803769f7fda31b75fe01e911ec", "node_id": "C_kwDOAAsO6NoAKGMwNTdkMDRiOTI2MzE0ODAzNzY5ZjdmZGEzMWI3NWZlMDFlOTExZWM", "commit": {"author": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2022-09-23T09:17:52Z"}, "committer": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2022-09-23T13:36:21Z"}, "message": "make remote-test-server cli parsing more consistent", "tree": {"sha": "21a1b15ade22fa56317deb9c00bfd05f5ad5e9f4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/21a1b15ade22fa56317deb9c00bfd05f5ad5e9f4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c057d04b926314803769f7fda31b75fe01e911ec", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMycKYjxLY0eb13b7zXazX3c0dp4FAmMttlUACgkQzXazX3c0\ndp4w6RAAnEOJBpzYKVxCsimBjLh1Yh0Qm60cw4gScWusutO692ZAfEYQKjHQgiMu\nB2F6HakS6A5BtPY3SzVVlpiVQFZf2Kgix2vfrpN4RgxLFlZvYJeVbFNKrLCbv8/X\nyDmKHrtn7sAufKYksM0uX2/ZtOaiIUL5dZLbdbYSuh5Huk6fvjbGHQ6tJXnhmEUN\nZSuRWVHsWw3Da106K4HMbN9CSiv3ZTg2TkTP2E6tUT4c9HrWQiLRYjsprKPrWUGU\nUvv40+Ah97hz9n6r5OQHdkQCOdTzo4nH95inCMp3Upx/gMGqeuGUUGZ53tNaHYib\nfjeXPa2wPNyQykCZHszFVQPcA8/3DMTAiyNWPvjxXfxSS5Ql8X56n94dgu0d0HUz\n0Mvno+rVmjtfgv/vQreOarywEUWhXmPAe/dIQxIP7SwH7PNl2ncMN2rg6ZJObVDi\nz4nzxfTHxppTktdSl4EUGfRVVAAfg5qVTak8MviUHvYBHZkV9GPt1h3qkvr5ssEQ\nEog8I20JgNGCGgsPLolGOhmzZPsTQBDXjU2ujWC2g1ZOjdaDl8q0cEc1voKS67XB\n8pG2zL06w/9b2KFgwua8lyHi7oRsbn0I5nuiHaq3frKz8giSUCPGzwIxR2FL5OKo\nO9n40/2phDsuoIbqdFKtxegI6IPJFFak/HysEBVI6aab/SuWZRs=\n=936H\n-----END PGP SIGNATURE-----", "payload": "tree 21a1b15ade22fa56317deb9c00bfd05f5ad5e9f4\nparent 4d44e09cb1db2788f59159c4b9055e339ed2181d\nauthor Pietro Albini <pietro.albini@ferrous-systems.com> 1663924672 +0200\ncommitter Pietro Albini <pietro.albini@ferrous-systems.com> 1663940181 +0200\n\nmake remote-test-server cli parsing more consistent\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c057d04b926314803769f7fda31b75fe01e911ec", "html_url": "https://github.com/rust-lang/rust/commit/c057d04b926314803769f7fda31b75fe01e911ec", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c057d04b926314803769f7fda31b75fe01e911ec/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4d44e09cb1db2788f59159c4b9055e339ed2181d", "url": "https://api.github.com/repos/rust-lang/rust/commits/4d44e09cb1db2788f59159c4b9055e339ed2181d", "html_url": "https://github.com/rust-lang/rust/commit/4d44e09cb1db2788f59159c4b9055e339ed2181d"}], "stats": {"total": 12, "additions": 4, "deletions": 8}, "files": [{"sha": "8164b2b29ee6b5856678713008c14f4e83e39c3c", "filename": "src/tools/remote-test-server/src/main.rs", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/c057d04b926314803769f7fda31b75fe01e911ec/src%2Ftools%2Fremote-test-server%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c057d04b926314803769f7fda31b75fe01e911ec/src%2Ftools%2Fremote-test-server%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fremote-test-server%2Fsrc%2Fmain.rs?ref=c057d04b926314803769f7fda31b75fe01e911ec", "patch": "@@ -41,8 +41,8 @@ static TEST: AtomicUsize = AtomicUsize::new(0);\n \n #[derive(Copy, Clone)]\n struct Config {\n-    pub remote: bool,\n-    pub verbose: bool,\n+    remote: bool,\n+    verbose: bool,\n }\n \n impl Config {\n@@ -56,12 +56,8 @@ impl Config {\n         let args = env::args().skip(1);\n         for argument in args {\n             match &argument[..] {\n-                \"remote\" => {\n-                    config.remote = true;\n-                }\n-                \"verbose\" | \"-v\" => {\n-                    config.verbose = true;\n-                }\n+                \"--remote\" => config.remote = true,\n+                \"--verbose\" | \"-v\" => config.verbose = true,\n                 arg => panic!(\"unknown argument: {}\", arg),\n             }\n         }"}]}