{"sha": "7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d", "node_id": "C_kwDOAAsO6NoAKDdhMDlhNjg4ZGU2ZjE1NjVmZTE2MDhlYWFhZWU1ZmY0ZmUwYzNhNmQ", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-04-22T14:00:29Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-06-02T21:56:10Z"}, "message": "Update rustdoc tests and add more checks for type kind colors", "tree": {"sha": "91759d0b477091018211ddb187ed0a1fa22d22e3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/91759d0b477091018211ddb187ed0a1fa22d22e3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d", "html_url": "https://github.com/rust-lang/rust/commit/7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "741d210c44bc637a30dd1e4675848c1c2aae5952", "url": "https://api.github.com/repos/rust-lang/rust/commits/741d210c44bc637a30dd1e4675848c1c2aae5952", "html_url": "https://github.com/rust-lang/rust/commit/741d210c44bc637a30dd1e4675848c1c2aae5952"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "06a0dc949c4e7cfcbd54a6f2af2b82f58b088ddd", "filename": "tests/rustdoc-gui/search-reexport.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d/tests%2Frustdoc-gui%2Fsearch-reexport.goml", "raw_url": "https://github.com/rust-lang/rust/raw/7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d/tests%2Frustdoc-gui%2Fsearch-reexport.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fsearch-reexport.goml?ref=7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d", "patch": "@@ -14,7 +14,7 @@ assert-attribute: (\n     \"//a[@class='result-import']\",\n     {\"href\": \"../test_docs/index.html#reexport.TheStdReexport\"},\n )\n-assert-text: (\"//a[@class='result-import']\", \"test_docs::TheStdReexport\")\n+assert-text: (\"//a[@class='result-import']\", \"test_docs::TheStdReexport (re-export)\")\n click: \"//a[@class='result-import']\"\n // We check that it has the background modified thanks to the focus.\n wait-for-css: (\"//*[@id='reexport.TheStdReexport']\", {\"background-color\": \"rgb(73, 74, 61)\"})"}, {"sha": "b0d236ce1e5dada44e9ea31238049a5f38b583f8", "filename": "tests/rustdoc-gui/search-result-color.goml", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d/tests%2Frustdoc-gui%2Fsearch-result-color.goml", "raw_url": "https://github.com/rust-lang/rust/raw/7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d/tests%2Frustdoc-gui%2Fsearch-result-color.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fsearch-result-color.goml?ref=7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d", "patch": "@@ -5,6 +5,7 @@ define-function: (\n     (result_kind, color, hover_color),\n     block {\n         assert-css: (\".result-\" + |result_kind| + \" .\" + |result_kind|, {\"color\": |color|}, ALL)\n+        assert-css: (\".result-\" + |result_kind| + \" i\", {\"color\": |default_color|})\n         assert-css: (\n             \".result-\" + |result_kind|,\n             {\"color\": |entry_color|, \"background-color\": |background_color|},\n@@ -18,6 +19,7 @@ define-function: (\n             \".result-\" + |result_kind| + \":hover .\" + |result_kind|,\n             {\"color\": |hover_color|},\n         )\n+        assert-css: (\".result-\" + |result_kind| + \":hover i\", {\"color\": |default_color|})\n         move-cursor-to: \".search-input\"\n         focus: \".result-\" + |result_kind|\n         assert-css: (\n@@ -65,10 +67,12 @@ assert-css: (\n     {\"border-bottom-color\": \"#aaa3\"}\n )\n \n+store-value: (default_color, \"rgb(197, 197, 197)\")\n+\n // Checking the color of \"keyword\" text.\n assert-css: (\n     \"//*[@class='result-name']//*[text()='(keyword)']\",\n-    {\"color\": \"#788797\"},\n+    {\"color\": |default_color|},\n )\n \n store-value: (entry_color, \"#0096cf\") // color of the search entry\n@@ -182,10 +186,12 @@ assert-css: (\n     {\"border-bottom-color\": \"#aaa3\"}\n )\n \n+store-value: (default_color, \"rgb(221, 221, 221)\")\n+\n // Checking the color for \"keyword\" text.\n assert-css: (\n     \"//*[@class='result-name']//*[text()='(keyword)']\",\n-    {\"color\": \"#ddd\"},\n+    {\"color\": |default_color|},\n )\n \n store-value: (entry_color, \"#ddd\") // color of the search entry\n@@ -284,10 +290,12 @@ assert-css: (\n     {\"border-bottom-color\": \"#aaa3\"}\n )\n \n+store-value: (default_color, \"rgb(0, 0, 0)\")\n+\n // Checking the color for \"keyword\" text.\n assert-css: (\n     \"//*[@class='result-name']//*[text()='(keyword)']\",\n-    {\"color\": \"#000\"},\n+    {\"color\": |default_color|},\n )\n \n store-value: (entry_color, \"#000\") // color of the search entry"}, {"sha": "8d6478e28a5b2c23cca9ccd4e91017f232875981", "filename": "tests/rustdoc-gui/search-result-keyword.goml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d/tests%2Frustdoc-gui%2Fsearch-result-keyword.goml", "raw_url": "https://github.com/rust-lang/rust/raw/7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d/tests%2Frustdoc-gui%2Fsearch-result-keyword.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fsearch-result-keyword.goml?ref=7a09a688de6f1565fe1608eaaaee5ff4fe0c3a6d", "patch": "@@ -9,5 +9,5 @@ wait-for: \"#search-tabs\"\n // less good.\n //\n // Checking that the CSS is displaying \" (keyword)\" in italic.\n-assert-text: (\".result-name span.keyword > i\", \"(keyword)\")\n-assert-text: (\".result-name span.keyword\", \"CookieMonster (keyword)\")\n+assert-text: (\".result-keyword span.keyword + i\", \"(keyword)\")\n+assert-text: (\".result-keyword .result-name\", \"CookieMonster (keyword)\")"}]}