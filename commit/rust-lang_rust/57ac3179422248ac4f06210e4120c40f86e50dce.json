{"sha": "57ac3179422248ac4f06210e4120c40f86e50dce", "node_id": "C_kwDOAAsO6NoAKDU3YWMzMTc5NDIyMjQ4YWM0ZjA2MjEwZTQxMjBjNDBmODZlNTBkY2U", "commit": {"author": {"name": "chordtoll", "email": "git@chordtoll.com", "date": "2021-12-29T05:50:00Z"}, "committer": {"name": "chordtoll", "email": "git@chordtoll.com", "date": "2021-12-29T05:50:00Z"}, "message": "Added regression test for issue 92015", "tree": {"sha": "e6f5300725aaf6ea664d77e5ee82fb271f943b92", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e6f5300725aaf6ea664d77e5ee82fb271f943b92"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/57ac3179422248ac4f06210e4120c40f86e50dce", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEpY3nxsja8fiSLk0qbzOVC0R1V3AFAmHL9woACgkQbzOVC0R1\nV3DpHA//RGGhjQSEpzCSRB1iHQbJHH0N8Ee8pLAUbrsDSdVUzQT0r6c4xrrYVY5U\nTsr/OWxiYLYXNCb9CTz+LmFMASrNb1GliEveB8sywdhnG82uptz3oY4b1msX6MzC\nBkv+PbLAmehR2ch9MppSShVz3YZbkw9lCr6K9SHeSr8cxa0eYltv7JSiQdsP2AVC\n3+f7ThGUuPqmKrgFvHcTwfiOOBI8/eTYfZXwZF3fsOTTZ4GIE/ws44CMS8Vdgo6s\nMEiqB7wapT5PR4lnLKLLLljW1DnRwU5G/cO/XFaHZ0u/k4U2sp+FKl1BN+hUUFhU\n4Ow7/WeO8Apy3iEk7TH/3cRWSM5yWeV+9Sj81xsCJKUXtQgr4/PpwDVdrz7EY4sQ\nvoKgxqq0+pD34I8oyv898DOW5gekH3/CE+K+ORJqY4fGgoAZHImwRdieVJADrDaO\nQ79gEQTl46BH73nAk5/X2Y8GyC2+H7ewvxNNgVb3hI/4sAyoGYDeLwwKu6N0CSyh\nzPDAVLwJL8yV58FokMD6UbDp0N6Ic3k2h97L2AQ1sOofkuqr/Ya1hpHptbDJ0Y8q\ngmEIHTEeGHrq1dixILYoIA0i1MrHt0sNPkvD6fO3mW57XzVY91yHHIjxnI8wpwvx\npTdt07uTLsE7AJRDyG89m1l7KFL6lVmpedg119FPT0rL6tcnxVU=\n=XuyG\n-----END PGP SIGNATURE-----", "payload": "tree e6f5300725aaf6ea664d77e5ee82fb271f943b92\nparent 7ae550842635dce84811198446fe87e830de500b\nauthor chordtoll <git@chordtoll.com> 1640757000 -0800\ncommitter chordtoll <git@chordtoll.com> 1640757000 -0800\n\nAdded regression test for issue 92015\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/57ac3179422248ac4f06210e4120c40f86e50dce", "html_url": "https://github.com/rust-lang/rust/commit/57ac3179422248ac4f06210e4120c40f86e50dce", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/57ac3179422248ac4f06210e4120c40f86e50dce/comments", "author": {"login": "chordtoll", "id": 542193, "node_id": "MDQ6VXNlcjU0MjE5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/542193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chordtoll", "html_url": "https://github.com/chordtoll", "followers_url": "https://api.github.com/users/chordtoll/followers", "following_url": "https://api.github.com/users/chordtoll/following{/other_user}", "gists_url": "https://api.github.com/users/chordtoll/gists{/gist_id}", "starred_url": "https://api.github.com/users/chordtoll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chordtoll/subscriptions", "organizations_url": "https://api.github.com/users/chordtoll/orgs", "repos_url": "https://api.github.com/users/chordtoll/repos", "events_url": "https://api.github.com/users/chordtoll/events{/privacy}", "received_events_url": "https://api.github.com/users/chordtoll/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chordtoll", "id": 542193, "node_id": "MDQ6VXNlcjU0MjE5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/542193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chordtoll", "html_url": "https://github.com/chordtoll", "followers_url": "https://api.github.com/users/chordtoll/followers", "following_url": "https://api.github.com/users/chordtoll/following{/other_user}", "gists_url": "https://api.github.com/users/chordtoll/gists{/gist_id}", "starred_url": "https://api.github.com/users/chordtoll/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chordtoll/subscriptions", "organizations_url": "https://api.github.com/users/chordtoll/orgs", "repos_url": "https://api.github.com/users/chordtoll/repos", "events_url": "https://api.github.com/users/chordtoll/events{/privacy}", "received_events_url": "https://api.github.com/users/chordtoll/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7ae550842635dce84811198446fe87e830de500b", "url": "https://api.github.com/repos/rust-lang/rust/commits/7ae550842635dce84811198446fe87e830de500b", "html_url": "https://github.com/rust-lang/rust/commit/7ae550842635dce84811198446fe87e830de500b"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "16d651717ff2c0f935a7e550e6f7f3cc556e7c51", "filename": "src/test/ui/borrowck/issue-92015.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/57ac3179422248ac4f06210e4120c40f86e50dce/src%2Ftest%2Fui%2Fborrowck%2Fissue-92015.rs", "raw_url": "https://github.com/rust-lang/rust/raw/57ac3179422248ac4f06210e4120c40f86e50dce/src%2Ftest%2Fui%2Fborrowck%2Fissue-92015.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fissue-92015.rs?ref=57ac3179422248ac4f06210e4120c40f86e50dce", "patch": "@@ -0,0 +1,7 @@\n+// Regression test for #92105.\n+// ICE when mutating immutable reference from last statement of a block.\n+\n+fn main() {\n+    let foo = Some(&0).unwrap();\n+    *foo = 1; //~ ERROR cannot assign\n+}"}, {"sha": "32a65d3b5bb0f472b341a95cfeb90c9a064abd66", "filename": "src/test/ui/borrowck/issue-92015.stderr", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/57ac3179422248ac4f06210e4120c40f86e50dce/src%2Ftest%2Fui%2Fborrowck%2Fissue-92015.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/57ac3179422248ac4f06210e4120c40f86e50dce/src%2Ftest%2Fui%2Fborrowck%2Fissue-92015.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fissue-92015.stderr?ref=57ac3179422248ac4f06210e4120c40f86e50dce", "patch": "@@ -0,0 +1,11 @@\n+error[E0594]: cannot assign to `*foo`, which is behind a `&` reference\n+  --> $DIR/issue-92015.rs:6:5\n+   |\n+LL |     let foo = Some(&0).unwrap();\n+   |         --- help: consider changing this to be a mutable reference: `&mut i32`\n+LL |     *foo = 1;\n+   |     ^^^^^^^^ `foo` is a `&` reference, so the data it refers to cannot be written\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0594`."}]}