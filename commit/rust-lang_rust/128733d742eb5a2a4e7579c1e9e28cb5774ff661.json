{"sha": "128733d742eb5a2a4e7579c1e9e28cb5774ff661", "node_id": "C_kwDOAAsO6NoAKDEyODczM2Q3NDJlYjVhMmE0ZTc1NzljMWU5ZTI4Y2I1Nzc0ZmY2NjE", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-09-20T17:13:02Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-09-20T17:13:02Z"}, "message": "Rollup merge of #102034 - notriddle:notriddle/border-bottom, r=GuillaumeGomez\n\nrustdoc: remove no-op CSS `h1-6 { border-bottom-color }`\n\nFor this rule to have an actual effect, the border-bottom width needs specified, elsewhere, without also specifying the color. This doesn't happen. Ever since 88b137d5fe0cbe28dab4f9af61045c726f831872, every spot where headers get a border assigned to them also assigns the color.\n\nPreview: https://notriddle.com/notriddle-rustdoc-test/border-bottom/rustc_monomorphize/collector/index.html", "tree": {"sha": "f4b118a97411b6630cb1de4283e937f88d409897", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f4b118a97411b6630cb1de4283e937f88d409897"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/128733d742eb5a2a4e7579c1e9e28cb5774ff661", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjKfSeCRBK7hj4Ov3rIwAAXkoIABcGcPk8cTMCifeX6wdFQlVN\n76STPNvwp6XGBXtIAEjyFfl7kCYgf+GuP/ZPo0l1M1kQGQCQ5Dz7JmwfCEQs9apj\n7CdTmP1ySAGVbmPtqQ+0bDmTiKBxLfV2dkdF4AKpnlWAqXFWYJs/X4ITXJB/MBz3\nIv2FFq/lrpY+p6ZjO3Usdd8VhNP8uTKyHnXVmEasIMIeOKWYiSFrDLuJa46rdY02\nOQnb7VeAL8SFLRN/wrItuoXh2DG755uwAfkmUz7CFdvHNHF4jDu7EZ5UERp98gpd\nPZ0/7Vy2nUV2BMASMKyuMc5AVqOi5vvLNoVCpW0tlnhA3p9Zb4MRgB86K5WiUFY=\n=/iCb\n-----END PGP SIGNATURE-----\n", "payload": "tree f4b118a97411b6630cb1de4283e937f88d409897\nparent 1b54ee38a315270bfacc46a1498d198a13e2c76e\nparent 17259c3995fd66b15955b1bd0ce135173d528320\nauthor Michael Howell <michael@notriddle.com> 1663693982 -0700\ncommitter GitHub <noreply@github.com> 1663693982 -0700\n\nRollup merge of #102034 - notriddle:notriddle/border-bottom, r=GuillaumeGomez\n\nrustdoc: remove no-op CSS `h1-6 { border-bottom-color }`\n\nFor this rule to have an actual effect, the border-bottom width needs specified, elsewhere, without also specifying the color. This doesn't happen. Ever since 88b137d5fe0cbe28dab4f9af61045c726f831872, every spot where headers get a border assigned to them also assigns the color.\n\nPreview: https://notriddle.com/notriddle-rustdoc-test/border-bottom/rustc_monomorphize/collector/index.html\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/128733d742eb5a2a4e7579c1e9e28cb5774ff661", "html_url": "https://github.com/rust-lang/rust/commit/128733d742eb5a2a4e7579c1e9e28cb5774ff661", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/128733d742eb5a2a4e7579c1e9e28cb5774ff661/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b54ee38a315270bfacc46a1498d198a13e2c76e", "url": "https://api.github.com/repos/rust-lang/rust/commits/1b54ee38a315270bfacc46a1498d198a13e2c76e", "html_url": "https://github.com/rust-lang/rust/commit/1b54ee38a315270bfacc46a1498d198a13e2c76e"}, {"sha": "17259c3995fd66b15955b1bd0ce135173d528320", "url": "https://api.github.com/repos/rust-lang/rust/commits/17259c3995fd66b15955b1bd0ce135173d528320", "html_url": "https://github.com/rust-lang/rust/commit/17259c3995fd66b15955b1bd0ce135173d528320"}], "stats": {"total": 33, "additions": 13, "deletions": 20}, "files": [{"sha": "e985e6c43ade9ae0a1e6150a8672c8fd435306d1", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/128733d742eb5a2a4e7579c1e9e28cb5774ff661/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/128733d742eb5a2a4e7579c1e9e28cb5774ff661/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=128733d742eb5a2a4e7579c1e9e28cb5774ff661", "patch": "@@ -141,10 +141,6 @@ h1, h2, h3, h4 {\n h1.fqn {\n \tmargin: 0;\n \tpadding: 0;\n-\tborder-bottom-color: var(--headings-border-bottom-color);\n-}\n-h2, h3, h4 {\n-\tborder-bottom-color: var(--headings-border-bottom-color);\n }\n .main-heading {\n \tdisplay: flex;\n@@ -659,9 +655,6 @@ h2.location a {\n \n .docblock h5 { font-size: 1rem; }\n .docblock h6 { font-size: 0.875rem; }\n-.docblock h1, .docblock h2, .docblock h3, .docblock h4, .docblock h5, .docblock h6 {\n-\tborder-bottom-color: var(--headings-border-bottom-color);\n-}\n \n .docblock {\n \tmargin-left: 24px;"}, {"sha": "c0c4d1b43aac10136fb240ae11a2412051db2032", "filename": "src/test/rustdoc-gui/docblock-details.goml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/128733d742eb5a2a4e7579c1e9e28cb5774ff661/src%2Ftest%2Frustdoc-gui%2Fdocblock-details.goml", "raw_url": "https://github.com/rust-lang/rust/raw/128733d742eb5a2a4e7579c1e9e28cb5774ff661/src%2Ftest%2Frustdoc-gui%2Fdocblock-details.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fdocblock-details.goml?ref=128733d742eb5a2a4e7579c1e9e28cb5774ff661", "patch": "@@ -14,7 +14,7 @@ assert-css: (\n // We now check that the `<summary>` doesn't have a bottom border and has the correct display.\n assert-css: (\n     \".top-doc .docblock summary h4\",\n-    {\"border-bottom\": \"0px none rgb(210, 210, 210)\"},\n+    {\"border-bottom-width\": \"0px\"},\n )\n // This allows to ensure that summary is on one line only!\n assert-property: (\".top-doc .docblock summary h4\", {\"offsetHeight\": \"33\"})"}, {"sha": "53308e13480bf7250fc03c4e7f58229ec70ccd34", "filename": "src/test/rustdoc-gui/headings.goml", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/128733d742eb5a2a4e7579c1e9e28cb5774ff661/src%2Ftest%2Frustdoc-gui%2Fheadings.goml", "raw_url": "https://github.com/rust-lang/rust/raw/128733d742eb5a2a4e7579c1e9e28cb5774ff661/src%2Ftest%2Frustdoc-gui%2Fheadings.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fheadings.goml?ref=128733d742eb5a2a4e7579c1e9e28cb5774ff661", "patch": "@@ -168,19 +168,19 @@ assert-css: (\n )\n assert-css: (\n     \".top-doc .docblock h5\",\n-    {\"color\": \"rgb(0, 0, 0)\", \"border-bottom\": \"0px none rgb(221, 221, 221)\"},\n+    {\"color\": \"rgb(0, 0, 0)\", \"border-bottom-width\": \"0px\"},\n )\n assert-css: (\n     \"#implementations-list .docblock h4\",\n-    {\"color\": \"rgb(0, 0, 0)\", \"border-bottom\": \"0px none rgb(221, 221, 221)\"},\n+    {\"color\": \"rgb(0, 0, 0)\", \"border-bottom-width\": \"0px\"},\n )\n assert-css: (\n     \"#implementations-list .docblock h5\",\n-    {\"color\": \"rgb(0, 0, 0)\", \"border-bottom\": \"0px none rgb(221, 221, 221)\"},\n+    {\"color\": \"rgb(0, 0, 0)\", \"border-bottom-width\": \"0px\"},\n )\n assert-css: (\n     \"#implementations-list .docblock h6\",\n-    {\"color\": \"rgb(0, 0, 0)\", \"border-bottom\": \"0px none rgb(221, 221, 221)\"},\n+    {\"color\": \"rgb(0, 0, 0)\", \"border-bottom-width\": \"0px\"},\n )\n \n local-storage: {\"rustdoc-theme\": \"dark\"}\n@@ -199,19 +199,19 @@ assert-css: (\n )\n assert-css: (\n     \".top-doc .docblock h5\",\n-    {\"color\": \"rgb(221, 221, 221)\", \"border-bottom\": \"0px none rgb(210, 210, 210)\"},\n+    {\"color\": \"rgb(221, 221, 221)\", \"border-bottom-width\": \"0px\"},\n )\n assert-css: (\n     \"#implementations-list .docblock h4\",\n-    {\"color\": \"rgb(221, 221, 221)\", \"border-bottom\": \"0px none rgb(210, 210, 210)\"},\n+    {\"color\": \"rgb(221, 221, 221)\", \"border-bottom-width\": \"0px\"},\n )\n assert-css: (\n     \"#implementations-list .docblock h5\",\n-    {\"color\": \"rgb(221, 221, 221)\", \"border-bottom\": \"0px none rgb(210, 210, 210)\"},\n+    {\"color\": \"rgb(221, 221, 221)\", \"border-bottom-width\": \"0px\"},\n )\n assert-css: (\n     \"#implementations-list .docblock h6\",\n-    {\"color\": \"rgb(221, 221, 221)\", \"border-bottom\": \"0px none rgb(210, 210, 210)\"},\n+    {\"color\": \"rgb(221, 221, 221)\", \"border-bottom-width\": \"0px\"},\n )\n \n local-storage: {\"rustdoc-theme\": \"ayu\"}\n@@ -230,19 +230,19 @@ assert-css: (\n )\n assert-css: (\n     \".top-doc .docblock h5\",\n-    {\"color\": \"rgb(197, 197, 197)\", \"border-bottom\": \"0px none rgb(92, 103, 115)\"},\n+    {\"color\": \"rgb(197, 197, 197)\", \"border-bottom-width\": \"0px\"},\n )\n assert-css: (\n     \"#implementations-list .docblock h4\",\n-    {\"color\": \"rgb(255, 255, 255)\", \"border-bottom\": \"0px none rgb(92, 103, 115)\"},\n+    {\"color\": \"rgb(255, 255, 255)\", \"border-bottom-width\": \"0px\"},\n )\n assert-css: (\n     \"#implementations-list .docblock h5\",\n-    {\"color\": \"rgb(197, 197, 197)\", \"border-bottom\": \"0px none rgb(92, 103, 115)\"},\n+    {\"color\": \"rgb(197, 197, 197)\", \"border-bottom-width\": \"0px\"},\n )\n assert-css: (\n     \"#implementations-list .docblock h6\",\n-    {\"color\": \"rgb(197, 197, 197)\", \"border-bottom\": \"0px none rgb(92, 103, 115)\"},\n+    {\"color\": \"rgb(197, 197, 197)\", \"border-bottom-width\": \"0px\"},\n )\n \n local-storage: {\"rustdoc-theme\": \"light\"}"}]}