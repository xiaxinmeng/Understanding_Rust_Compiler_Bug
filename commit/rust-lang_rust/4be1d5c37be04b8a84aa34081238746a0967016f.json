{"sha": "4be1d5c37be04b8a84aa34081238746a0967016f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRiZTFkNWMzN2JlMDRiOGE4NGFhMzQwODEyMzg3NDZhMDk2NzAxNmY=", "commit": {"author": {"name": "Bj\u00f6rn Steinbrink", "email": "bsteinbr@gmail.com", "date": "2018-01-05T13:28:50Z"}, "committer": {"name": "Bj\u00f6rn Steinbrink", "email": "bsteinbr@gmail.com", "date": "2018-01-07T03:39:58Z"}, "message": "Remove dead function LLVMRustLinkInParsedExternalBitcode()\n\nRefs #46437", "tree": {"sha": "8a87a2241c6e3f0cfa3f67fc3c9a9e4ad718d4cb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8a87a2241c6e3f0cfa3f67fc3c9a9e4ad718d4cb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4be1d5c37be04b8a84aa34081238746a0967016f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4be1d5c37be04b8a84aa34081238746a0967016f", "html_url": "https://github.com/rust-lang/rust/commit/4be1d5c37be04b8a84aa34081238746a0967016f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4be1d5c37be04b8a84aa34081238746a0967016f/comments", "author": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "92189bc521ce3256a53c1b435dfb6ec6740f4734", "url": "https://api.github.com/repos/rust-lang/rust/commits/92189bc521ce3256a53c1b435dfb6ec6740f4734", "html_url": "https://github.com/rust-lang/rust/commit/92189bc521ce3256a53c1b435dfb6ec6740f4734"}], "stats": {"total": 18, "additions": 0, "deletions": 18}, "files": [{"sha": "8ed3953b8148a6a49b9bfdcb865087bfc9f94798", "filename": "src/librustc_llvm/ffi.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4be1d5c37be04b8a84aa34081238746a0967016f/src%2Flibrustc_llvm%2Fffi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4be1d5c37be04b8a84aa34081238746a0967016f/src%2Flibrustc_llvm%2Fffi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_llvm%2Fffi.rs?ref=4be1d5c37be04b8a84aa34081238746a0967016f", "patch": "@@ -1607,7 +1607,6 @@ extern \"C\" {\n     pub fn LLVMRustSetNormalizedTarget(M: ModuleRef, triple: *const c_char);\n     pub fn LLVMRustAddAlwaysInlinePass(P: PassManagerBuilderRef, AddLifetimes: bool);\n     pub fn LLVMRustLinkInExternalBitcode(M: ModuleRef, bc: *const c_char, len: size_t) -> bool;\n-    pub fn LLVMRustLinkInParsedExternalBitcode(M: ModuleRef, M: ModuleRef) -> bool;\n     pub fn LLVMRustRunRestrictionPass(M: ModuleRef, syms: *const *const c_char, len: size_t);\n     pub fn LLVMRustMarkAllFunctionsNounwind(M: ModuleRef);\n "}, {"sha": "8030a545ec30a4038d69edcd0d44360e10725268", "filename": "src/rustllvm/RustWrapper.cpp", "status": "modified", "additions": 0, "deletions": 17, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/4be1d5c37be04b8a84aa34081238746a0967016f/src%2Frustllvm%2FRustWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/4be1d5c37be04b8a84aa34081238746a0967016f/src%2Frustllvm%2FRustWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2FRustWrapper.cpp?ref=4be1d5c37be04b8a84aa34081238746a0967016f", "patch": "@@ -927,23 +927,6 @@ extern \"C\" bool LLVMRustLinkInExternalBitcode(LLVMModuleRef DstRef, char *BC,\n   return true;\n }\n \n-extern \"C\" bool LLVMRustLinkInParsedExternalBitcode(\n-    LLVMModuleRef DstRef, LLVMModuleRef SrcRef) {\n-#if LLVM_VERSION_GE(4, 0)\n-  Module *Dst = unwrap(DstRef);\n-  std::unique_ptr<Module> Src(unwrap(SrcRef));\n-\n-  if (Linker::linkModules(*Dst, std::move(Src))) {\n-    LLVMRustSetLastError(\"failed to link modules\");\n-    return false;\n-  }\n-  return true;\n-#else\n-  LLVMRustSetLastError(\"can't link parsed modules on this LLVM\");\n-  return false;\n-#endif\n-}\n-\n // Note that the two following functions look quite similar to the\n // LLVMGetSectionName function. Sadly, it appears that this function only\n // returns a char* pointer, which isn't guaranteed to be null-terminated. The"}]}