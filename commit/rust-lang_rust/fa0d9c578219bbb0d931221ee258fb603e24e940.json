{"sha": "fa0d9c578219bbb0d931221ee258fb603e24e940", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZhMGQ5YzU3ODIxOWJiYjBkOTMxMjIxZWUyNThmYjYwM2UyNGU5NDA=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-05-12T08:33:35Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-05-12T08:35:35Z"}, "message": "Explain how to debug and fix nightly build failures", "tree": {"sha": "d7b062a0aafade560b78950641b4cd8fe6eb3948", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d7b062a0aafade560b78950641b4cd8fe6eb3948"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fa0d9c578219bbb0d931221ee258fb603e24e940", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIcBAABCAAGBQJa9qdYAAoJELb6Bqbg4mZbGokP/2sEwyEn+6yqOovdln1XZqdm\npRn98TPxi2QD+MnaUHC8Z9YmkHcQOpVlYBhoixiVXJVYYKdFJ+UDHOFX/k8tDn+q\nBYPDTP73COSy6y/jYugkEvzUmW1e/xA+tzmabGe8wxS/6KVu1gD3hquh/nNX2elR\nvd/zhqq9Ag7ZTR8l8mqrMipO8EE884ZF+PBaNaO5Hyd5N8dPQf9C9a04QLtbATEY\no+PEyrrr/7V18vNQiDx8z42WUJehI6BVQ30OfLSkTBdXGHAimYJM+vkcsyssw9Pt\nBnLym6sy0uR2eD3bMv8AlQ7dqbG0NbEW1opOAx+ooFg3k1JUcqog6WGGFQCsGRzI\n5exUnZgTPznzzfrCt7Hwh8Ag/b7t8cO0uHx/Pagx9J+3/jGQRK0HRhS8y2e4GCyV\nzQLVfmJ3l4/Z/seKgomu5GljWxyn62WugRMfvhlRtUiTUcOQGlptJdtFCBC5klKq\nLf7OcxerDwDv+Ijxxlkge5YtOY3bKjtZjzqVYbbVcnVPQOzuoHoqeWCKmwUlAUys\nwYSUTqksZBA0u/ticX4s1Kdhrnj8YdvoRO+Cba8z/CJuFTDcVdX6n6aRGKOtMLJM\ndIvVhiFXIWTl8ZeygYzZm3a1Bd9VX34/qIanqRGEuHWd+OYsZ2B2VQ1LgYedSbuo\nbNKRQ11+DwweTK6TiPyP\n=u7fJ\n-----END PGP SIGNATURE-----", "payload": "tree d7b062a0aafade560b78950641b4cd8fe6eb3948\nparent 92a6f623087a2104279bf5493931c48e4402fe08\nauthor Philipp Hansch <dev@phansch.net> 1526114015 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1526114135 +0200\n\nExplain how to debug and fix nightly build failures\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fa0d9c578219bbb0d931221ee258fb603e24e940", "html_url": "https://github.com/rust-lang/rust/commit/fa0d9c578219bbb0d931221ee258fb603e24e940", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fa0d9c578219bbb0d931221ee258fb603e24e940/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "92a6f623087a2104279bf5493931c48e4402fe08", "url": "https://api.github.com/repos/rust-lang/rust/commits/92a6f623087a2104279bf5493931c48e4402fe08", "html_url": "https://github.com/rust-lang/rust/commit/92a6f623087a2104279bf5493931c48e4402fe08"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "69bc3546ba05fbbf3be311dafb200b31045f872e", "filename": "CONTRIBUTING.md", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/fa0d9c578219bbb0d931221ee258fb603e24e940/CONTRIBUTING.md", "raw_url": "https://github.com/rust-lang/rust/raw/fa0d9c578219bbb0d931221ee258fb603e24e940/CONTRIBUTING.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CONTRIBUTING.md?ref=fa0d9c578219bbb0d931221ee258fb603e24e940", "patch": "@@ -17,6 +17,7 @@ All contributors are expected to follow the [Rust Code of Conduct](http://www.ru\n   * [Running test suite](#running-test-suite)\n   * [Testing manually](#testing-manually)\n   * [How Clippy works](#how-clippy-works)\n+  * [Fixing nightly build failures](#fixing-nightly-build-failures)\n * [Contributions](#contributions)\n \n ## Getting started\n@@ -209,6 +210,17 @@ The difference between `EarlyLintPass` and `LateLintPass` is that the methods of\n \n That's why the `else_if_without_else` example uses the `register_early_lint_pass` function. Because the [actual lint logic][else_if_without_else] does not depend on any type information.\n \n+### Fixing nightly build failures\n+\n+Clippy will sometimes break with new nightly version releases. This is expected because Clippy still depends on nightly Rust. Most of the times we have to adapt to the changes and only very rarely there's an actual bug in rust.\n+\n+In order to find out why Clippy does not work properly with a new nightly version, you can use the [rust-toolstate commit history][toolstate_commit_history].\n+You will then have to look for the last commit that contains `test-pass -> build-fail` or `test-pass` -> `test-fail` for the `clippy-driver` component. [Here][toolstate_commit] is an example.\n+\n+The commit message contains a link to the PR. The PRs are usually small enough to discover the breaking API change and if they are bigger, they likely include some discussion that may help you to fix Clippy.\n+\n+Fixing nightly build failures is also a good way to learn about actual rustc internals.\n+\n ## Contributions\n \n Contributions to Clippy should be made in the form of GitHub pull requests. Each pull request will\n@@ -229,3 +241,5 @@ All code in this repository is under the [Mozilla Public License, 2.0](https://w\n [reg_late_lint_pass]: https://doc.rust-lang.org/nightly/nightly-rustc/rustc_plugin/registry/struct.Registry.html#method.register_late_lint_pass\n [early_lint_pass]: https://doc.rust-lang.org/nightly/nightly-rustc/rustc/lint/trait.EarlyLintPass.html\n [late_lint_pass]: https://doc.rust-lang.org/nightly/nightly-rustc/rustc/lint/trait.LateLintPass.html\n+[toolstate_commit_history]: https://github.com/rust-lang-nursery/rust-toolstate/commits/master\n+[toolstate_commit]: https://github.com/rust-lang-nursery/rust-toolstate/commit/6ce0459f6bfa7c528ae1886492a3e0b5ef0ee547"}]}