{"sha": "daf4789b768444035efef2383da75011237f4ef7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRhZjQ3ODliNzY4NDQ0MDM1ZWZlZjIzODNkYTc1MDExMjM3ZjRlZjc=", "commit": {"author": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2017-10-27T07:35:40Z"}, "committer": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2017-10-27T07:35:40Z"}, "message": "Add a test for #2087", "tree": {"sha": "fa8f46ae88910b3acd2cd7f41da437bfa5473be2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fa8f46ae88910b3acd2cd7f41da437bfa5473be2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/daf4789b768444035efef2383da75011237f4ef7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/daf4789b768444035efef2383da75011237f4ef7", "html_url": "https://github.com/rust-lang/rust/commit/daf4789b768444035efef2383da75011237f4ef7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/daf4789b768444035efef2383da75011237f4ef7/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0a59654b4191b4ed1c71575e7fdfe0dac5c8b4a3", "url": "https://api.github.com/repos/rust-lang/rust/commits/0a59654b4191b4ed1c71575e7fdfe0dac5c8b4a3", "html_url": "https://github.com/rust-lang/rust/commit/0a59654b4191b4ed1c71575e7fdfe0dac5c8b4a3"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "73044aa7ab2ca6f69271d41b973102ba95ec939a", "filename": "tests/source/macros.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/daf4789b768444035efef2383da75011237f4ef7/tests%2Fsource%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/daf4789b768444035efef2383da75011237f4ef7/tests%2Fsource%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fmacros.rs?ref=daf4789b768444035efef2383da75011237f4ef7", "patch": "@@ -21,6 +21,12 @@ fn main() {\n     kaas!(/* comments */ a /* post macro */, b /* another */);\n \n     trailingcomma!( a , b , c , );\n+    // Preserve trailing comma only when necessary.\n+    ok!(file.seek(\n+        SeekFrom::Start(\n+            table.map(|table| fixture.offset(table)).unwrap_or(0),\n+        )\n+    ));\n \n     noexpr!( i am not an expression, OK? );\n "}, {"sha": "a15dd14c9fb7806eab6b3c82fe3339fa999aabf8", "filename": "tests/target/macros.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/daf4789b768444035efef2383da75011237f4ef7/tests%2Ftarget%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/daf4789b768444035efef2383da75011237f4ef7/tests%2Ftarget%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fmacros.rs?ref=daf4789b768444035efef2383da75011237f4ef7", "patch": "@@ -33,6 +33,10 @@ fn main() {\n     );\n \n     trailingcomma!(a, b, c,);\n+    // Preserve trailing comma only when necessary.\n+    ok!(file.seek(SeekFrom::Start(\n+        table.map(|table| fixture.offset(table)).unwrap_or(0),\n+    )));\n \n     noexpr!( i am not an expression, OK? );\n "}]}