{"sha": "dbde7419cc120d97e520063682751dfc3a901fb5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRiZGU3NDE5Y2MxMjBkOTdlNTIwMDYzNjgyNzUxZGZjM2E5MDFmYjU=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2014-11-28T03:02:33Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2014-12-26T20:55:25Z"}, "message": "Fix fallout", "tree": {"sha": "bd0b9b6edbf79b4525409781f625bfbc51ae9a76", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bd0b9b6edbf79b4525409781f625bfbc51ae9a76"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dbde7419cc120d97e520063682751dfc3a901fb5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dbde7419cc120d97e520063682751dfc3a901fb5", "html_url": "https://github.com/rust-lang/rust/commit/dbde7419cc120d97e520063682751dfc3a901fb5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dbde7419cc120d97e520063682751dfc3a901fb5/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "df0c6d93852c51b6936d4b72b6b4be5f1932fb8a", "url": "https://api.github.com/repos/rust-lang/rust/commits/df0c6d93852c51b6936d4b72b6b4be5f1932fb8a", "html_url": "https://github.com/rust-lang/rust/commit/df0c6d93852c51b6936d4b72b6b4be5f1932fb8a"}], "stats": {"total": 43, "additions": 17, "deletions": 26}, "files": [{"sha": "ddda2b38c223a20c5978706a70cef4cc5196fdd7", "filename": "src/libgraphviz/maybe_owned_vec.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibgraphviz%2Fmaybe_owned_vec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibgraphviz%2Fmaybe_owned_vec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibgraphviz%2Fmaybe_owned_vec.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -14,7 +14,6 @@ pub use self::MaybeOwnedVector::*;\n \n use std::default::Default;\n use std::fmt;\n-use std::iter::FromIterator;\n use std::path::BytesContainer;\n use std::slice;\n "}, {"sha": "046b9547cbbc597134ef0b32cb549f2e6c91067b", "filename": "src/librustc_borrowck/borrowck/check_loans.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fcheck_loans.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -19,8 +19,6 @@\n use self::UseError::*;\n \n use borrowck::*;\n-use borrowck::LoanPathElem::*;\n-use borrowck::LoanPathKind::*;\n use rustc::middle::expr_use_visitor as euv;\n use rustc::middle::mem_categorization as mc;\n use rustc::middle::region;"}, {"sha": "85cc691fb9db9e1a0a15dbf77fc2280e374ab4d5", "filename": "src/librustc_borrowck/borrowck/gather_loans/gather_moves.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_borrowck%2Fborrowck%2Fgather_loans%2Fgather_moves.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_borrowck%2Fborrowck%2Fgather_loans%2Fgather_moves.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fgather_loans%2Fgather_moves.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -11,7 +11,6 @@\n //! Computes moves.\n \n use borrowck::*;\n-use borrowck::LoanPathKind::*;\n use borrowck::gather_loans::move_error::MoveSpanAndPath;\n use borrowck::gather_loans::move_error::{MoveError, MoveErrorCollector};\n use borrowck::move_data::*;"}, {"sha": "c0e892cdd2798c094b0862fc887fb7787dd216c4", "filename": "src/librustc_borrowck/borrowck/gather_loans/mod.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_borrowck%2Fborrowck%2Fgather_loans%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_borrowck%2Fborrowck%2Fgather_loans%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fgather_loans%2Fmod.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -17,7 +17,6 @@\n // sure that all of these loans are honored.\n \n use borrowck::*;\n-use borrowck::LoanPathKind::*;\n use borrowck::move_data::MoveData;\n use rustc::middle::expr_use_visitor as euv;\n use rustc::middle::mem_categorization as mc;"}, {"sha": "fc15c0eb4ec97ea869f02ea2381390d51d6e013d", "filename": "src/librustc_borrowck/borrowck/gather_loans/restrictions.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_borrowck%2Fborrowck%2Fgather_loans%2Frestrictions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_borrowck%2Fborrowck%2Fgather_loans%2Frestrictions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fgather_loans%2Frestrictions.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -13,8 +13,6 @@\n pub use self::RestrictionResult::*;\n \n use borrowck::*;\n-use borrowck::LoanPathElem::*;\n-use borrowck::LoanPathKind::*;\n use rustc::middle::expr_use_visitor as euv;\n use rustc::middle::mem_categorization as mc;\n use rustc::middle::ty;"}, {"sha": "f132ede06a4c99e3fa270ce2e2360dc114471726", "filename": "src/librustc_driver/driver.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_driver%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_driver%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Fdriver.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -342,9 +342,10 @@ pub fn phase_3_run_analysis_passes<'tcx>(sess: Session,\n     let lang_items = time(time_passes, \"language item collection\", (), |_|\n                           middle::lang_items::collect_language_items(krate, &sess));\n \n-    let make_glob_map = match save_analysis(&sess) {\n-        true => middle::resolve::MakeGlobMap::Yes,\n-        false => middle::resolve::MakeGlobMap::No,\n+    let make_glob_map = if save_analysis(&sess) {\n+        middle::resolve::MakeGlobMap::Yes\n+    } else {\n+        middle::resolve::MakeGlobMap::No\n     };\n         def_map,\n         freevars,"}, {"sha": "03e992ef7a79c1ed1edecffcaa102f84468c3b8d", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -346,7 +346,7 @@ impl Rib {\n }\n \n /// Whether an import can be shadowed by another import.\n-#[deriving(Show,PartialEq,Clone)]\n+#[deriving(Show,PartialEq,Clone,Copy)]\n enum Shadowable {\n     Always,\n     /// Means that the recorded import obeys the glob shadowing rules, i.e., can\n@@ -6113,7 +6113,7 @@ pub struct CrateMap {\n     pub glob_map: Option<GlobMap>\n }\n \n-#[deriving(PartialEq)]\n+#[deriving(PartialEq,Copy)]\n pub enum MakeGlobMap {\n     Yes,\n     No"}, {"sha": "072ac89c7c8235314ab2fac6a7de2475713750dc", "filename": "src/libstd/ascii.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fascii.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fascii.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fascii.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -630,8 +630,8 @@ static ASCII_UPPER_MAP: [u8, ..256] = [\n \n #[cfg(test)]\n mod tests {\n-    use prelude::*;\n     use super::*;\n+    use prelude::*;\n     use char::from_u32;\n \n     macro_rules! v2ascii {"}, {"sha": "d3bfaab83da487c859d99d3d71b67884011aa482", "filename": "src/libstd/comm/mod.rs", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fcomm%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fcomm%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fcomm%2Fmod.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -333,12 +333,10 @@ macro_rules! test {\n         mod $name {\n             #![allow(unused_imports)]\n \n-            use prelude::*;\n-            use rt;\n-\n-            use comm::*;\n             use super::*;\n+            use comm::*;\n             use thread::Thread;\n+            use prelude::*;\n \n             $(#[$a])* #[test] fn f() { $b }\n         }\n@@ -1022,10 +1020,9 @@ impl<T: Send> Drop for Receiver<T> {\n \n #[cfg(test)]\n mod test {\n+    use super::*;\n     use prelude::*;\n-\n     use os;\n-    use super::*;\n \n     pub fn stress_factor() -> uint {\n         match os::getenv(\"RUST_TEST_STRESS\") {"}, {"sha": "01151059530f034587674439f087f2d788983525", "filename": "src/libstd/io/mem.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fio%2Fmem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fio%2Fmem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Fmem.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -399,9 +399,9 @@ impl<'a> Buffer for BufReader<'a> {\n #[cfg(test)]\n mod test {\n     extern crate \"test\" as test_crate;\n-    use prelude::*;\n     use super::*;\n     use io::*;\n+    use prelude::*;\n     use io;\n     use self::test_crate::Bencher;\n "}, {"sha": "4afc72cde711e46a6128f7e0bba0c1b388c9d5e2", "filename": "src/libstd/io/net/pipe.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fio%2Fnet%2Fpipe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fio%2Fnet%2Fpipe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Fnet%2Fpipe.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -266,10 +266,10 @@ impl sys_common::AsInner<UnixAcceptorImp> for UnixAcceptor {\n #[cfg(test)]\n #[allow(experimental)]\n mod tests {\n-    use prelude::*;\n     use super::*;\n     use io::*;\n     use io::test::*;\n+    use prelude::*;\n     use io::fs::PathExtensions;\n     use time::Duration;\n "}, {"sha": "a36703172c3caa9fe34b32ab103b0dd264819a2f", "filename": "src/libstd/io/net/udp.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fio%2Fnet%2Fudp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fio%2Fnet%2Fudp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Fnet%2Fudp.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -249,10 +249,10 @@ impl Writer for UdpStream {\n #[allow(experimental)]\n mod test {\n     use super::*;\n-    use prelude::*;\n-    use io::*;\n     use io::net::ip::*;\n+    use io::*;\n     use io::test::*;\n+    use prelude::*;\n \n     // FIXME #11530 this fails on android because tests are run as root\n     #[cfg_attr(any(windows, target_os = \"android\"), ignore)]"}, {"sha": "93aa627ffba13f7f2d3e3b384d8405f2cebad06f", "filename": "src/libstd/io/process.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fio%2Fprocess.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fio%2Fprocess.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Fprocess.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -744,9 +744,9 @@ mod tests {\n     #![allow(unused_imports)]\n \n     use super::*;\n-    use prelude::*;\n     use io::timer::*;\n     use io::*;\n+    use prelude::*;\n     use io::fs::PathExtensions;\n     use time::Duration;\n     use str;"}, {"sha": "c72e41d61c05966cdd48befe0f536b923e43ed68", "filename": "src/libstd/path/posix.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fpath%2Fposix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fpath%2Fposix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpath%2Fposix.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -447,8 +447,8 @@ static dot_dot_static: &'static [u8] = b\"..\";\n \n #[cfg(test)]\n mod tests {\n-    use prelude::*;\n     use super::*;\n+    use prelude::*;\n     use str;\n \n     macro_rules! t {"}, {"sha": "278908b80682d5177ef41709a896bb97f78ce3a2", "filename": "src/libstd/path/windows.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fpath%2Fwindows.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbde7419cc120d97e520063682751dfc3a901fb5/src%2Flibstd%2Fpath%2Fwindows.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpath%2Fwindows.rs?ref=dbde7419cc120d97e520063682751dfc3a901fb5", "patch": "@@ -1121,7 +1121,7 @@ fn prefix_len(p: Option<PathPrefix>) -> uint {\n \n #[cfg(test)]\n mod tests {\n-    use prelude::*;\n+    use mem;\n     use super::*;\n     use super::PathPrefix::*;\n     use super::parse_prefix;"}]}