{"sha": "2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI0NTM5NDZiMWQ2NDU3MGY1MmYyZjk3NmNhMWU4YzJhM2U0ZWFjYzI=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2020-06-27T16:27:03Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2020-07-02T11:19:04Z"}, "message": "Update rustdoc tests", "tree": {"sha": "f9d4fe1405199420abc15f4a565c0634b31f8b92", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f9d4fe1405199420abc15f4a565c0634b31f8b92"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "html_url": "https://github.com/rust-lang/rust/commit/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cdabdfa104a3c0e7ba3ff2b37f967eb0e5000aae", "url": "https://api.github.com/repos/rust-lang/rust/commits/cdabdfa104a3c0e7ba3ff2b37f967eb0e5000aae", "html_url": "https://github.com/rust-lang/rust/commit/cdabdfa104a3c0e7ba3ff2b37f967eb0e5000aae"}], "stats": {"total": 51, "additions": 23, "deletions": 28}, "files": [{"sha": "5f0fdbb322cad0c269bdd715025f42158160792b", "filename": "src/test/rustdoc/assoc-types.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fassoc-types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fassoc-types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fassoc-types.rs?ref=2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "patch": "@@ -5,9 +5,7 @@\n // @has assoc_types/trait.Index.html\n pub trait Index<I: ?Sized> {\n     // @has - '//*[@id=\"associatedtype.Output\"]//code' 'type Output: ?Sized'\n-    // @has - '//code[@id=\"Output.t\"]' 'type Output: ?Sized'\n     type Output: ?Sized;\n-    // @has - '//code[@id=\"index.v\"]' 'fn index'\n     // @has - '//*[@id=\"tymethod.index\"]//code' \\\n     //      \"fn index<'a>(&'a self, index: I) -> &'a Self::Output\"\n     // @has - '//*[@id=\"tymethod.index\"]//code//a[@href=\"../assoc_types/trait.Index.html#associatedtype.Output\"]' \\"}, {"sha": "638de3292becbafb83eee6c48aecd6370b118f2c", "filename": "src/test/rustdoc/const.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fconst.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fconst.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fconst.rs?ref=2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "patch": "@@ -3,7 +3,7 @@\n pub struct Foo;\n \n impl Foo {\n-    // @has const/struct.Foo.html '//code[@id=\"new.v\"]' 'const unsafe fn new'\n+    // @has const/struct.Foo.html '//*[@id=\"method.new\"]//code' 'const unsafe fn new'\n     pub const unsafe fn new() -> Foo {\n         Foo\n     }"}, {"sha": "e3a166b3d0e5fba8709f14b999b21d904f3443de", "filename": "src/test/rustdoc/inline_cross/impl_trait.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Finline_cross%2Fimpl_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Finline_cross%2Fimpl_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Finline_cross%2Fimpl_trait.rs?ref=2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "patch": "@@ -31,8 +31,8 @@ pub use impl_trait_aux::func4;\n pub use impl_trait_aux::async_fn;\n \n // @has impl_trait/struct.Foo.html\n-// @has - '//code[@id=\"method.v\"]' \"pub fn method<'a>(_x: impl Clone + Into<Vec<u8>> + 'a)\"\n-// @!has - '//code[@id=\"method.v\"]' 'where'\n+// @has - '//*[@id=\"method.method\"]//code' \"pub fn method<'a>(_x: impl Clone + Into<Vec<u8>> + 'a)\"\n+// @!has - '//*[@id=\"method.method\"]//code' 'where'\n pub use impl_trait_aux::Foo;\n \n // @has impl_trait/struct.Bar.html"}, {"sha": "81545fec7411bc0654e6bf399f135759f6e5f1e8", "filename": "src/test/rustdoc/intra-link-self.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fintra-link-self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fintra-link-self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-link-self.rs?ref=2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "patch": "@@ -40,7 +40,7 @@ pub struct MyStruct {\n }\n \n pub enum MyEnum {\n-    // @has foo/enum.MyEnum.html '//a/@href' '../foo/enum.MyEnum.html#EnumVariant.v'\n+    // @has foo/enum.MyEnum.html '//a/@href' '../foo/enum.MyEnum.html#variant.EnumVariant'\n \n     /// [`EnumVariant`]\n     ///"}, {"sha": "c6725f526aa2aada62cb11a9fc1895dd6051bd6b", "filename": "src/test/rustdoc/intra-links.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fintra-links.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fintra-links.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-links.rs?ref=2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "patch": "@@ -2,7 +2,7 @@\n // @has - '//a/@href' '../intra_links/struct.ThisType.html'\n // @has - '//a/@href' '../intra_links/struct.ThisType.html#method.this_method'\n // @has - '//a/@href' '../intra_links/enum.ThisEnum.html'\n-// @has - '//a/@href' '../intra_links/enum.ThisEnum.html#ThisVariant.v'\n+// @has - '//a/@href' '../intra_links/enum.ThisEnum.html#variant.ThisVariant'\n // @has - '//a/@href' '../intra_links/trait.ThisTrait.html'\n // @has - '//a/@href' '../intra_links/trait.ThisTrait.html#tymethod.this_associated_method'\n // @has - '//a/@href' '../intra_links/trait.ThisTrait.html#associatedtype.ThisAssociatedType'\n@@ -73,7 +73,7 @@ pub fn SoAmbiguous() {}\n // @has - '//a/@href' '../intra_links/struct.ThisType.html'\n // @has - '//a/@href' '../intra_links/struct.ThisType.html#method.this_method'\n // @has - '//a/@href' '../intra_links/enum.ThisEnum.html'\n-// @has - '//a/@href' '../intra_links/enum.ThisEnum.html#ThisVariant.v'\n+// @has - '//a/@href' '../intra_links/enum.ThisEnum.html#variant.ThisVariant'\n /// Shortcut links for:\n /// * [`ThisType`]\n /// * [`ThisType::this_method`]"}, {"sha": "af3495fec187fcac752b1864e49447e63a2c068f", "filename": "src/test/rustdoc/issue-19190.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fissue-19190.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fissue-19190.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-19190.rs?ref=2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "patch": "@@ -17,7 +17,7 @@ impl Deref for Bar {\n \n // @has issue_19190/Bar.t.html\n // @has issue_19190/struct.Bar.html\n-// @has - '//*[@id=\"foo.v\"]' 'fn foo(&self)'\n+// @has - '//*[@id=\"method.foo\"]//code' 'fn foo(&self)'\n // @has - '//*[@id=\"method.foo\"]' 'fn foo(&self)'\n-// @!has - '//*[@id=\"static_foo.v\"]' 'fn static_foo()'\n+// @!has - '//*[@id=\"method.static_foo\"]//code' 'fn static_foo()'\n // @!has - '//*[@id=\"method.static_foo\"]' 'fn static_foo()'"}, {"sha": "e53cf6451353f733a6da031e3b447d9bca4996c6", "filename": "src/test/rustdoc/issue-25001.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fissue-25001.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fissue-25001.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-25001.rs?ref=2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "patch": "@@ -9,17 +9,14 @@ pub trait Bar {\n \n impl Foo<u8> {\n     // @has - '//*[@id=\"method.pass\"]//code' 'fn pass()'\n-    // @has - '//code[@id=\"pass.v\"]' 'fn pass()'\n     pub fn pass() {}\n }\n impl Foo<u16> {\n     // @has - '//*[@id=\"method.pass-1\"]//code' 'fn pass() -> usize'\n-    // @has - '//code[@id=\"pass.v-1\"]' 'fn pass() -> usize'\n     pub fn pass() -> usize { 42 }\n }\n impl Foo<u32> {\n     // @has - '//*[@id=\"method.pass-2\"]//code' 'fn pass() -> isize'\n-    // @has - '//code[@id=\"pass.v-2\"]' 'fn pass() -> isize'\n     pub fn pass() -> isize { 42 }\n }\n "}, {"sha": "a688ae48d00ce84bbf01b5908c3be9ae8662f5b2", "filename": "src/test/rustdoc/issue-35169-2.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fissue-35169-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fissue-35169-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-35169-2.rs?ref=2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "patch": "@@ -24,17 +24,17 @@ impl DerefMut for Bar {\n }\n \n // @has issue_35169_2/struct.Bar.html\n-// @has - '//*[@id=\"by_ref.v\"]' 'fn by_ref(&self)'\n+// @has - '//*[@id=\"method.by_ref\"]//code' 'fn by_ref(&self)'\n // @has - '//*[@id=\"method.by_ref\"]' 'fn by_ref(&self)'\n-// @has - '//*[@id=\"by_explicit_ref.v\"]' 'fn by_explicit_ref(self: &Foo)'\n+// @has - '//*[@id=\"method.by_explicit_ref\"]//code' 'fn by_explicit_ref(self: &Foo)'\n // @has - '//*[@id=\"method.by_explicit_ref\"]' 'fn by_explicit_ref(self: &Foo)'\n-// @has - '//*[@id=\"by_mut_ref.v\"]' 'fn by_mut_ref(&mut self)'\n+// @has - '//*[@id=\"method.by_mut_ref\"]//code' 'fn by_mut_ref(&mut self)'\n // @has - '//*[@id=\"method.by_mut_ref\"]' 'fn by_mut_ref(&mut self)'\n-// @has - '//*[@id=\"by_explicit_mut_ref.v\"]' 'fn by_explicit_mut_ref(self: &mut Foo)'\n+// @has - '//*[@id=\"method.by_explicit_mut_ref\"]//code' 'fn by_explicit_mut_ref(self: &mut Foo)'\n // @has - '//*[@id=\"method.by_explicit_mut_ref\"]' 'fn by_explicit_mut_ref(self: &mut Foo)'\n-// @!has - '//*[@id=\"by_explicit_box.v\"]' 'fn by_explicit_box(self: Box<Foo>)'\n+// @!has - '//*[@id=\"method.by_explicit_box\"]//code' 'fn by_explicit_box(self: Box<Foo>)'\n // @!has - '//*[@id=\"method.by_explicit_box\"]' 'fn by_explicit_box(self: Box<Foo>)'\n-// @!has - '//*[@id=\"by_explicit_self_box.v\"]' 'fn by_explicit_self_box(self: Box<Self>)'\n+// @!has - '//*[@id=\"method.by_explicit_self_box\"]//code' 'fn by_explicit_self_box(self: Box<Self>)'\n // @!has - '//*[@id=\"method.by_explicit_self_box\"]' 'fn by_explicit_self_box(self: Box<Self>)'\n-// @!has - '//*[@id=\"static_foo.v\"]' 'fn static_foo()'\n+// @!has - '//*[@id=\"method.static_foo\"]//code' 'fn static_foo()'\n // @!has - '//*[@id=\"method.static_foo\"]' 'fn static_foo()'"}, {"sha": "4f10c04a616b382f839978f2a148b8e7ae39b77c", "filename": "src/test/rustdoc/issue-35169.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fissue-35169.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fissue-35169.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-35169.rs?ref=2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "patch": "@@ -19,17 +19,17 @@ impl Deref for Bar {\n }\n \n // @has issue_35169/struct.Bar.html\n-// @has - '//*[@id=\"by_ref.v\"]' 'fn by_ref(&self)'\n+// @has - '//*[@id=\"method.by_ref\"]//code' 'fn by_ref(&self)'\n // @has - '//*[@id=\"method.by_ref\"]' 'fn by_ref(&self)'\n-// @has - '//*[@id=\"by_explicit_ref.v\"]' 'fn by_explicit_ref(self: &Foo)'\n+// @has - '//*[@id=\"method.by_explicit_ref\"]//code' 'fn by_explicit_ref(self: &Foo)'\n // @has - '//*[@id=\"method.by_explicit_ref\"]' 'fn by_explicit_ref(self: &Foo)'\n-// @!has - '//*[@id=\"by_mut_ref.v\"]' 'fn by_mut_ref(&mut self)'\n+// @!has - '//*[@id=\"method.by_mut_ref\"]//code' 'fn by_mut_ref(&mut self)'\n // @!has - '//*[@id=\"method.by_mut_ref\"]' 'fn by_mut_ref(&mut self)'\n-// @!has - '//*[@id=\"by_explicit_mut_ref.v\"]' 'fn by_explicit_mut_ref(self: &mut Foo)'\n+// @!has - '//*[@id=\"method.by_explicit_mut_ref\"]//code' 'fn by_explicit_mut_ref(self: &mut Foo)'\n // @!has - '//*[@id=\"method.by_explicit_mut_ref\"]' 'fn by_explicit_mut_ref(self: &mut Foo)'\n-// @!has - '//*[@id=\"by_explicit_box.v\"]' 'fn by_explicit_box(self: Box<Foo>)'\n+// @!has - '//*[@id=\"method.by_explicit_box\"]//code' 'fn by_explicit_box(self: Box<Foo>)'\n // @!has - '//*[@id=\"method.by_explicit_box\"]' 'fn by_explicit_box(self: Box<Foo>)'\n-// @!has - '//*[@id=\"by_explicit_self_box.v\"]' 'fn by_explicit_self_box(self: Box<Self>)'\n+// @!has - '//*[@id=\"method.by_explicit_self_box\"]//code' 'fn by_explicit_self_box(self: Box<Self>)'\n // @!has - '//*[@id=\"method.by_explicit_self_box\"]' 'fn by_explicit_self_box(self: Box<Self>)'\n-// @!has - '//*[@id=\"static_foo.v\"]' 'fn static_foo()'\n+// @!has - '//*[@id=\"method.static_foo\"]//code' 'fn static_foo()'\n // @!has - '//*[@id=\"method.static_foo\"]' 'fn static_foo()'"}, {"sha": "532e29bc691c4265249c3b4122999bd36cb0439a", "filename": "src/test/rustdoc/struct-field.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fstruct-field.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2453946b1d64570f52f2f976ca1e8c2a3e4eacc2/src%2Ftest%2Frustdoc%2Fstruct-field.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fstruct-field.rs?ref=2453946b1d64570f52f2f976ca1e8c2a3e4eacc2", "patch": "@@ -4,7 +4,7 @@\n \n // @has foo/index.html '//*[@class=\"docblock\"]/p/a[@href=\"../foo/struct.Foo.html#structfield.bar\"]' 'Foo::bar'\n // @has foo/index.html '//*[@class=\"docblock\"]/p/a[@href=\"../foo/union.Bar.html#structfield.foo\"]' 'Bar::foo'\n-// @has foo/index.html '//*[@class=\"docblock\"]/p/a[@href=\"../foo/enum.Uniooon.html#X.v\"]' 'Uniooon::X'\n+// @has foo/index.html '//*[@class=\"docblock\"]/p/a[@href=\"../foo/enum.Uniooon.html#variant.X\"]' 'Uniooon::X'\n \n //! Test with [Foo::bar], [Bar::foo], [Uniooon::X]\n "}]}