{"sha": "4ecf14372f2f02eef76900dc4a66ee8df12969b8", "node_id": "C_kwDOAAsO6NoAKDRlY2YxNDM3MmYyZjAyZWVmNzY5MDBkYzRhNjZlZThkZjEyOTY5Yjg", "commit": {"author": {"name": "Trevor Gross", "email": "tmgross@umich.edu", "date": "2023-01-19T07:03:10Z"}, "committer": {"name": "Trevor Gross", "email": "tmgross@umich.edu", "date": "2023-02-24T18:21:02Z"}, "message": "doc: cleanup of doc/index.md\n\n- Add quick link to API docs\n- Add marker for external links, to help offline users\n- Add information about using 'cargo doc' and the playground\n- Clean up some of the wording\n- Update body & header style to match rustdoc defaults", "tree": {"sha": "3411f5cabe24650ca3c6fad75cda8bc9068c1b06", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3411f5cabe24650ca3c6fad75cda8bc9068c1b06"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4ecf14372f2f02eef76900dc4a66ee8df12969b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4ecf14372f2f02eef76900dc4a66ee8df12969b8", "html_url": "https://github.com/rust-lang/rust/commit/4ecf14372f2f02eef76900dc4a66ee8df12969b8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4ecf14372f2f02eef76900dc4a66ee8df12969b8/comments", "author": {"login": "tgross35", "id": 13724985, "node_id": "MDQ6VXNlcjEzNzI0OTg1", "avatar_url": "https://avatars.githubusercontent.com/u/13724985?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgross35", "html_url": "https://github.com/tgross35", "followers_url": "https://api.github.com/users/tgross35/followers", "following_url": "https://api.github.com/users/tgross35/following{/other_user}", "gists_url": "https://api.github.com/users/tgross35/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgross35/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgross35/subscriptions", "organizations_url": "https://api.github.com/users/tgross35/orgs", "repos_url": "https://api.github.com/users/tgross35/repos", "events_url": "https://api.github.com/users/tgross35/events{/privacy}", "received_events_url": "https://api.github.com/users/tgross35/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tgross35", "id": 13724985, "node_id": "MDQ6VXNlcjEzNzI0OTg1", "avatar_url": "https://avatars.githubusercontent.com/u/13724985?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tgross35", "html_url": "https://github.com/tgross35", "followers_url": "https://api.github.com/users/tgross35/followers", "following_url": "https://api.github.com/users/tgross35/following{/other_user}", "gists_url": "https://api.github.com/users/tgross35/gists{/gist_id}", "starred_url": "https://api.github.com/users/tgross35/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tgross35/subscriptions", "organizations_url": "https://api.github.com/users/tgross35/orgs", "repos_url": "https://api.github.com/users/tgross35/repos", "events_url": "https://api.github.com/users/tgross35/events{/privacy}", "received_events_url": "https://api.github.com/users/tgross35/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "07c993eba8b76eae497e98433ae075b00f01be10", "url": "https://api.github.com/repos/rust-lang/rust/commits/07c993eba8b76eae497e98433ae075b00f01be10", "html_url": "https://github.com/rust-lang/rust/commit/07c993eba8b76eae497e98433ae075b00f01be10"}], "stats": {"total": 228, "additions": 165, "deletions": 63}, "files": [{"sha": "7c97c16c20bdc0350bee6f8313837972a8126dbe", "filename": "src/doc/index.md", "status": "modified", "additions": 165, "deletions": 63, "changes": 228, "blob_url": "https://github.com/rust-lang/rust/blob/4ecf14372f2f02eef76900dc4a66ee8df12969b8/src%2Fdoc%2Findex.md", "raw_url": "https://github.com/rust-lang/rust/raw/4ecf14372f2f02eef76900dc4a66ee8df12969b8/src%2Fdoc%2Findex.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Findex.md?ref=4ecf14372f2f02eef76900dc4a66ee8df12969b8", "patch": "@@ -4,6 +4,20 @@\n nav {\n     display: none;\n }\n+body {\n+    font-family: serif;\n+}\n+h1, h2, h3, h4, h5, h6 {\n+    font-family: sans-serif;\n+}\n+h3 {\n+    font-size: 1.35rem;\n+}\n+h4 {\n+    font-size: 1.1rem;\n+}\n+\n+/* Formatting for docs search bar */\n #search-input {\n     width: calc(100% - 58px);\n }\n@@ -21,53 +35,74 @@ nav {\n #search-but:hover, #search-input:focus {\n     border-color: #55a9ff;\n }\n-h2 {\n-    font-size: 18px;\n+\n+/* Formatting for external link icon */\n+svg.external-link {\n+  display: inline-block;\n+  position: relative;\n+  vertical-align: super;\n+  width: 0.7rem;\n+  height: 0.7rem;\n+  padding-left: 2px;\n+  top: 3px;\n }\n </style>\n \n-Welcome to an overview of the documentation provided by the [Rust project].\n-All of these projects are managed by the Docs Team; there are other\n-unofficial documentation resources as well!\n+Welcome to an overview of the documentation provided by the [Rust\n+project]. This page contains links to various helpful references,\n+most of which are available offline (if opened with `rustup doc`). Many of these\n+resources take the form of \"books\"; we collectively call these \"The Rust\n+Bookshelf.\" Some are large, some are small.\n \n-Many of these resources take the form of \"books\"; we collectively call these\n-\"The Rust Bookshelf.\" Some are large, some are small.\n+All of these books are managed by the Rust Organization, but other unofficial\n+documentation resources are included here as well!\n \n-# Learn Rust\n+If you're just looking for the standard library reference, here it is:\n+[Rust API documentation](std/index.html)\n \n-If you'd like to learn Rust, this is the spot for you! All of these resources\n+\n+## Learning Rust\n+\n+If you'd like to learn Rust, this is the section for you! All of these resources\n assume that you have programmed before, but not in any specific language:\n \n-## The Rust Programming Language\n+### The Rust Programming Language\n \n-Affectionately nicknamed \"the book,\" [The Rust Programming\n-Language](book/index.html) will give you an overview of the language from\n-first principles. You'll build a few projects along the way, and by the end,\n-you'll have a solid grasp of the language.\n+Affectionately nicknamed \"the book,\" [The Rust Programming Language](book/index.html)\n+will give you an overview of the language from first principles. You'll build a\n+few projects along the way, and by the end, you'll have a solid grasp of how to\n+use the language.\n \n-## Rust By Example\n+### Rust By Example\n \n If reading multiple hundreds of pages about a language isn't your style, then\n-[Rust By Example](rust-by-example/index.html) has you covered. While the book talks about code with\n-a lot of words, RBE shows off a bunch of code, and keeps the talking to a\n-minimum. It also includes exercises!\n+[Rust By Example](rust-by-example/index.html) has you covered. RBE shows off a\n+bunch of code without using a lot of words. It also includes exercises!\n+\n+### Rustlings\n+\n+[Rustlings](https://github.com/rust-lang/rustlings) guides you\n+through downloading and setting up the Rust toolchain, then provides an\n+interactive tool that teaches you how to solve coding challenges in Rust.\n+\n+### Rust Playground\n \n-## Rustlings\n+The [Rust Playground](https://play.rust-lang.org) is a great place\n+to try out and share small bits of code, or experiment with some of the most\n+popular crates.\n \n-[Rustlings](https://github.com/rust-lang/rustlings) guides you through downloading and setting up the Rust toolchain,\n-and teaches you the basics of reading and writing Rust syntax. It's an\n-alternative to Rust by Example that works with your own environment.\n \n-# Use Rust\n+## Using Rust\n \n-Once you've gotten familiar with the language, these resources can help you\n-when you're actually using it day-to-day.\n+Once you've gotten familiar with the language, these resources can help you put\n+it to work.\n \n-## The Standard Library\n+### The Standard Library\n \n-Rust's standard library has [extensive API documentation](std/index.html),\n-with explanations of how to use various things, as well as example code for\n-accomplishing various tasks.\n+Rust's standard library has [extensive API documentation](std/index.html), with\n+explanations of how to use various things, as well as example code for\n+accomplishing various tasks. Code examples have a \"Run\" button on hover that\n+opens the sample in the playground.\n \n <div>\n   <form action=\"std/index.html\" method=\"get\">\n@@ -77,76 +112,143 @@ accomplishing various tasks.\n   </form>\n </div>\n \n-## The Edition Guide\n+### Your Personal Documentation\n \n-[The Edition Guide](edition-guide/index.html) describes the Rust editions.\n+Whenever you are working in a crate, `cargo doc --open` will generate\n+documentation for your project _and_ all its dependencies in their correct\n+version, and open it in your browser. Add the flag `--document-private-items` to\n+also show items not marked `pub`.\n \n-## The Rustc Book\n+### The Edition Guide\n \n-[The Rustc Book](rustc/index.html) describes the Rust compiler, `rustc`.\n+[The Edition Guide](edition-guide/index.html) describes the Rust editions and\n+their differences.\n \n-## The Cargo Book\n+### The `rustc` Book\n \n-[The Cargo Book](cargo/index.html) is a guide to Cargo, Rust's build tool and dependency manager.\n+[The `rustc` Book](rustc/index.html) describes the Rust compiler, `rustc`.\n \n-## The Rustdoc Book\n+### The Cargo Book\n+\n+[The Cargo Book](cargo/index.html) is a guide to Cargo, Rust's build tool and\n+dependency manager.\n+\n+### The Rustdoc Book\n \n [The Rustdoc Book](rustdoc/index.html) describes our documentation tool, `rustdoc`.\n \n-## The Clippy Book\n+### The Clippy Book\n \n [The Clippy Book](clippy/index.html) describes our static analyzer, Clippy.\n \n-## Extended Error Listing\n+### Extended Error Listing\n \n Many of Rust's errors come with error codes, and you can request extended\n-diagnostics from the compiler on those errors. You can also [read them\n-here](error_codes/index.html), if you prefer to read them that way.\n+diagnostics from the compiler on those errors (with `rustc --explain`). You can\n+also read them here if you prefer: [rustc error codes](error_codes/index.html)\n+\n \n-# Master Rust\n+## Mastering Rust\n \n Once you're quite familiar with the language, you may find these advanced\n resources useful.\n \n-## The Reference\n+### The Reference\n \n-[The Reference](reference/index.html) is not a formal spec, but is more detailed and\n-comprehensive than the book.\n+[The Reference](reference/index.html) is not a formal spec, but is more detailed\n+and comprehensive than the book.\n \n-## The Style Guide\n+### The Style Guide\n \n-[The Rust Style Guide](style-guide/index.html) describes the standard formatting of Rust\n-code. Most developers use rustfmt to format their code, and rustfmt's default\n-formatting matches this style guide.\n+[The Rust Style Guide](style-guide/index.html) describes the standard formatting\n+of Rust code. Most developers use `cargo fmt` to invoke `rustfmt` and format the\n+code automatically (the result matches this style guide).\n \n-## The Rustonomicon\n+### The Rustonomicon\n \n-[The Rustonomicon](nomicon/index.html) is your guidebook to the dark arts of unsafe\n-Rust. It's also sometimes called \"the 'nomicon.\"\n+[The Rustonomicon](nomicon/index.html) is your guidebook to the dark arts of\n+unsafe Rust. It's also sometimes called \"the 'nomicon.\"\n \n-## The Unstable Book\n+### The Unstable Book\n \n-[The Unstable Book](unstable-book/index.html) has documentation for unstable features.\n+[The Unstable Book](unstable-book/index.html) has documentation for unstable\n+features.\n \n-## The `rustc` Contribution Guide\n+### The `rustc` Contribution Guide\n \n-[The `rustc` Guide](https://rustc-dev-guide.rust-lang.org/) documents how\n-the compiler works and how to contribute to it. This is useful if you want to build\n-or modify the Rust compiler from source (e.g. to target something non-standard).\n+[The `rustc` Guide](https://rustc-dev-guide.rust-lang.org/)\n+documents how the compiler works and how to contribute to it. This is useful if\n+you want to build or modify the Rust compiler from source (e.g. to target\n+something non-standard).\n \n-# Specialize Rust\n \n-When using Rust in specific domain areas, consider using the following resources tailored to each domain.\n+## Specialized Rust\n \n-## Embedded Systems\n+When using Rust in specific domains, consider using the following resources\n+tailored to each area.\n \n-When developing for Bare Metal or Embedded Linux systems, you may find these resources maintained by the [Embedded Working Group] useful.\n+### Embedded Systems\n+\n+When developing for Bare Metal or Embedded Linux systems, you may find these\n+resources maintained by the [Embedded Working Group] useful.\n \n [Embedded Working Group]: https://github.com/rust-embedded\n \n-### The Embedded Rust Book\n+#### The Embedded Rust Book\n \n-[The Embedded Rust Book] is targeted at developers familiar with embedded development and familiar with Rust, but have not used Rust for embedded development.\n+[The Embedded Rust Book] is targeted at developers familiar with embedded\n+development and familiar with Rust, but have not used Rust for embedded\n+development.\n \n [The Embedded Rust Book]: embedded-book/index.html\n [Rust project]: https://www.rust-lang.org\n+\n+<script>\n+// check if a given link is external\n+function isExternalLink(url) {\n+  const tmp = document.createElement('a');\n+  tmp.href = url;\n+  return tmp.host !== window.location.host;\n+}\n+\n+// Add the `external` class to all <a> tags with external links and append the external link SVG\n+function updateExternalAnchors() {\n+  /*\n+    External link SVG from Font-Awesome\n+    CC BY-SA 3.0 https://creativecommons.org/licenses/by-sa/3.0\n+    via Wikimedia Commons\n+  */\n+  const svgText = `<svg\n+     class='external-link'\n+     xmlns='http://www.w3.org/2000/svg'\n+     viewBox='0 -256 1850 1850'\n+     width='100%'\n+     height='100%'>\n+       <g transform='matrix(1,0,0,-1,30,1427)'>\n+         <path d='M 1408,608 V 288 Q 1408,169 1323.5,84.5 1239,0 1120,\n+           0 H 288 Q 169,0 84.5,84.5 0,169 0,288 v 832 Q 0,1239 84.5,1323.5 169,\n+           1408 288,1408 h 704 q 14,0 23,-9 9,-9 9,-23 v -64 q 0,-14 -9,-23 -9,\n+           -9 -23,-9 H 288 q -66,0 -113,-47 -47,-47 -47,-113 V 288 q 0,-66 47,\n+           -113 47,-47 113,-47 h 832 q 66,0 113,47 47,47 47,113 v 320 q 0,14 9,\n+           23 9,9 23,9 h 64 q 14,0 23,-9 9,-9 9,-23 z m 384,864 V 960 q 0,\n+           -26 -19,-45 -19,-19 -45,-19 -26,0 -45,19 L 1507,1091 855,439 q -10,\n+           -10 -23,-10 -13,0 -23,10 L 695,553 q -10,10 -10,23 0,13 10,23 l 652,\n+           652 -176,176 q -19,19 -19,45 0,26 19,45 19,19 45,19 h 512 q 26,0 45,\n+           -19 19,-19 19,-45 z' style='fill:currentColor' />\n+         </g>\n+     </svg>`;\n+  let allAnchors = document.getElementsByTagName(\"a\");\n+\n+  for (var i = 0; i < allAnchors.length; ++i) {\n+    let anchor = allAnchors[i];\n+    if (isExternalLink(anchor.href)) {\n+      anchor.classList.add(\"external\");\n+      anchor.innerHTML += svgText;\n+    }\n+  }\n+}\n+\n+// on page load, update external anchors\n+document.addEventListener(\"DOMContentLoaded\", updateExternalAnchors);\n+\n+</script>"}]}