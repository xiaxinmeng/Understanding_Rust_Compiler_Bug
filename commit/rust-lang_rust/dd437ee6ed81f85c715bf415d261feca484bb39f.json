{"sha": "dd437ee6ed81f85c715bf415d261feca484bb39f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRkNDM3ZWU2ZWQ4MWY4NWM3MTViZjQxNWQyNjFmZWNhNDg0YmIzOWY=", "commit": {"author": {"name": "Alexis Beingessner", "email": "a.beingessner@gmail.com", "date": "2014-08-03T00:58:41Z"}, "committer": {"name": "Alexis Beingessner", "email": "a.beingessner@gmail.com", "date": "2014-08-06T18:06:52Z"}, "message": "make rustdoc more responsive\n\n* move some sidebar contents to a title bar when small\n* inline description toggle when small\n* make out-of-band and in-band content share space, rather than float and clash\n* compress wording of out-of-band content to avoid line-wrap as much as possible", "tree": {"sha": "7516c59438b88d8b91ff646689bddf764072d8dc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7516c59438b88d8b91ff646689bddf764072d8dc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dd437ee6ed81f85c715bf415d261feca484bb39f", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dd437ee6ed81f85c715bf415d261feca484bb39f", "html_url": "https://github.com/rust-lang/rust/commit/dd437ee6ed81f85c715bf415d261feca484bb39f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dd437ee6ed81f85c715bf415d261feca484bb39f/comments", "author": {"login": "Gankra", "id": 1136864, "node_id": "MDQ6VXNlcjExMzY4NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gankra", "html_url": "https://github.com/Gankra", "followers_url": "https://api.github.com/users/Gankra/followers", "following_url": "https://api.github.com/users/Gankra/following{/other_user}", "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions", "organizations_url": "https://api.github.com/users/Gankra/orgs", "repos_url": "https://api.github.com/users/Gankra/repos", "events_url": "https://api.github.com/users/Gankra/events{/privacy}", "received_events_url": "https://api.github.com/users/Gankra/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Gankra", "id": 1136864, "node_id": "MDQ6VXNlcjExMzY4NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gankra", "html_url": "https://github.com/Gankra", "followers_url": "https://api.github.com/users/Gankra/followers", "following_url": "https://api.github.com/users/Gankra/following{/other_user}", "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions", "organizations_url": "https://api.github.com/users/Gankra/orgs", "repos_url": "https://api.github.com/users/Gankra/repos", "events_url": "https://api.github.com/users/Gankra/events{/privacy}", "received_events_url": "https://api.github.com/users/Gankra/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e5df5f56069de2778857597118a6e5f95d659736", "url": "https://api.github.com/repos/rust-lang/rust/commits/e5df5f56069de2778857597118a6e5f95d659736", "html_url": "https://github.com/rust-lang/rust/commit/e5df5f56069de2778857597118a6e5f95d659736"}], "stats": {"total": 107, "additions": 79, "deletions": 28}, "files": [{"sha": "eea594550398b36e4a7a0b46fb969181c3a1df53", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/dd437ee6ed81f85c715bf415d261feca484bb39f/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dd437ee6ed81f85c715bf415d261feca484bb39f/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=dd437ee6ed81f85c715bf415d261feca484bb39f", "patch": "@@ -1294,7 +1294,7 @@ impl<'a> Item<'a> {\n impl<'a> fmt::Show for Item<'a> {\n     fn fmt(&self, fmt: &mut fmt::Formatter) -> fmt::Result {\n         // Write the breadcrumb trail header for the top\n-        try!(write!(fmt, \"\\n<h1 class='fqn'>\"));\n+        try!(write!(fmt, \"\\n<h1 class='fqn'><div class='in-band'>\"));\n         match self.item.inner {\n             clean::ModuleItem(ref m) => if m.is_crate {\n                     try!(write!(fmt, \"Crate \"));\n@@ -1316,7 +1316,7 @@ impl<'a> fmt::Show for Item<'a> {\n             let cur = self.cx.current.as_slice();\n             let amt = if self.ismodule() { cur.len() - 1 } else { cur.len() };\n             for (i, component) in cur.iter().enumerate().take(amt) {\n-                try!(write!(fmt, \"<a href='{}index.html'>{}</a>::\",\n+                try!(write!(fmt, \"<a href='{}index.html'>{}</a>&#8203;::\",\n                             \"../\".repeat(cur.len() - i - 1),\n                             component.as_slice()));\n             }\n@@ -1325,10 +1325,10 @@ impl<'a> fmt::Show for Item<'a> {\n                     shortty(self.item), self.item.name.get_ref().as_slice()));\n \n         // Write stability level\n-        try!(write!(fmt, \"{}\", Stability(&self.item.stability)));\n+        try!(write!(fmt, \"&#8203;{}\", Stability(&self.item.stability)));\n \n         // Links to out-of-band information, i.e. src and stability dashboard\n-        try!(write!(fmt, \"<span class='out-of-band'>\"));\n+        try!(write!(fmt, \"</div><div class='out-of-band'>\"));\n \n         // Write stability dashboard link\n         match self.item.inner {\n@@ -1340,8 +1340,8 @@ impl<'a> fmt::Show for Item<'a> {\n \n         try!(write!(fmt,\n         r##\"<span id='render-detail'>\n-            <a id=\"collapse-all\" href=\"#\">[collapse all]</a>\n-            <a id=\"expand-all\" href=\"#\">[expand all]</a>\n+            <a id=\"collapse-all\" href=\"#\">[-]\n+            </a>&nbsp;<a id=\"expand-all\" href=\"#\">[+]</a>\n         </span>\"##));\n \n         // Write `src` tag\n@@ -1360,7 +1360,7 @@ impl<'a> fmt::Show for Item<'a> {\n             }\n         }\n \n-        try!(write!(fmt, \"</span>\"));\n+        try!(write!(fmt, \"</div>\"));\n \n         try!(write!(fmt, \"</h1>\\n\"));\n "}, {"sha": "ae6f8c55416679dc9023a6ab6a8345204818d8b6", "filename": "src/librustdoc/html/static/main.css", "status": "modified", "additions": 72, "deletions": 21, "changes": 93, "blob_url": "https://github.com/rust-lang/rust/blob/dd437ee6ed81f85c715bf415d261feca484bb39f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "raw_url": "https://github.com/rust-lang/rust/raw/dd437ee6ed81f85c715bf415d261feca484bb39f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css?ref=dd437ee6ed81f85c715bf415d261feca484bb39f", "patch": "@@ -247,8 +247,19 @@ nav.sub {\n .docblock h3, .docblock h4, .docblock h5 { font-size: 1em; }\n \n .content .out-of-band {\n-    float: right;\n     font-size: 23px;\n+    width: 40%;\n+    margin: 0px;\n+    padding: 0px;\n+    text-align: right;\n+    display: inline-block;\n+}\n+\n+.content .in-band {\n+    width: 60%;\n+    margin: 0px;\n+    padding: 0px;\n+    display: inline-block;\n }\n \n .content table {\n@@ -277,8 +288,8 @@ nav.sub {\n }\n .content .multi-column li { width: 100%; display: inline-block; }\n \n-.content .method { \n-    font-size: 1em; \n+.content .method {\n+    font-size: 1em;\n     position: relative;\n }\n .content .methods .docblock { margin-left: 40px; }\n@@ -450,8 +461,8 @@ pre.rust { position: relative; }\n     top: 0;\n     right: 10px;\n     font-size: 150%;\n-    -webkit-transform: scaleX(-1); \n-    transform: scaleX(-1); \n+    -webkit-transform: scaleX(-1);\n+    transform: scaleX(-1);\n }\n \n .methods .section-header {\n@@ -465,22 +476,6 @@ pre.rust { position: relative; }\n     content: '\\2002\\00a7\\2002';\n }\n \n-/* Media Queries */\n-\n-@media (max-width: 700px) {\n-    .sidebar {\n-        display: none;\n-    }\n-\n-    .content {\n-        margin-left: 0px;\n-    }\n-\n-    nav.sub {\n-        margin: 0 auto;\n-    }\n-}\n-\n .collapse-toggle {\n     font-weight: 100;\n     position: absolute;\n@@ -513,3 +508,59 @@ pre.rust { position: relative; }\n     color: #999;\n     font-style: italic;\n }\n+\n+\n+\n+/* Media Queries */\n+\n+@media (max-width: 700px) {\n+    body {\n+        padding-top: 0px;\n+    }\n+\n+    .sidebar {\n+        height: 40px;\n+        min-height: 40px;\n+        width: 100%;\n+        margin: 0px;\n+        padding: 0px;\n+        position: static;\n+    }\n+\n+    .sidebar .location {\n+        float: left;\n+        margin: 0px;\n+        padding: 5px;\n+        width: 60%;\n+        background: inherit;\n+        text-align: left;\n+        font-size: 24px;\n+    }\n+\n+    .sidebar img {\n+        width: 35px;\n+        margin-top: 5px;\n+        margin-bottom: 0px;\n+        float: left;\n+    }\n+\n+    nav.sub {\n+        margin: 0 auto;\n+    }\n+\n+    .sidebar .block {\n+        display: none;\n+    }\n+\n+    .content {\n+        margin-left: 0px;\n+    }\n+\n+    .toggle-wrapper > .collapse-toggle {\n+        left: 0px;\n+    }\n+\n+    .toggle-wrapper {\n+        height: 1.5em;\n+    }\n+}\n\\ No newline at end of file"}]}