{"sha": "cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNmOTFjNTRjYzZlMjA0NjJiZjZjNWM2M2EzYWIwYjZhZmU4YjdmMGU=", "commit": {"author": {"name": "Tamir Duberstein", "email": "tamird@gmail.com", "date": "2020-07-07T15:12:44Z"}, "committer": {"name": "Tamir Duberstein", "email": "tamird@google.com", "date": "2020-07-10T11:39:28Z"}, "message": "Avoid \"whitelist\"\n\nOther terms are more inclusive and precise.", "tree": {"sha": "7f737937da8beea0fbf989b97f3abfc0c6ff4fa6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7f737937da8beea0fbf989b97f3abfc0c6ff4fa6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "html_url": "https://github.com/rust-lang/rust/commit/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/comments", "author": {"login": "tamird", "id": 1535036, "node_id": "MDQ6VXNlcjE1MzUwMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tamird", "html_url": "https://github.com/tamird", "followers_url": "https://api.github.com/users/tamird/followers", "following_url": "https://api.github.com/users/tamird/following{/other_user}", "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}", "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tamird/subscriptions", "organizations_url": "https://api.github.com/users/tamird/orgs", "repos_url": "https://api.github.com/users/tamird/repos", "events_url": "https://api.github.com/users/tamird/events{/privacy}", "received_events_url": "https://api.github.com/users/tamird/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tamird", "id": 1535036, "node_id": "MDQ6VXNlcjE1MzUwMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1535036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tamird", "html_url": "https://github.com/tamird", "followers_url": "https://api.github.com/users/tamird/followers", "following_url": "https://api.github.com/users/tamird/following{/other_user}", "gists_url": "https://api.github.com/users/tamird/gists{/gist_id}", "starred_url": "https://api.github.com/users/tamird/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tamird/subscriptions", "organizations_url": "https://api.github.com/users/tamird/orgs", "repos_url": "https://api.github.com/users/tamird/repos", "events_url": "https://api.github.com/users/tamird/events{/privacy}", "received_events_url": "https://api.github.com/users/tamird/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c41fcad90843b4bff2209618663a2ed38c50a7f9", "url": "https://api.github.com/repos/rust-lang/rust/commits/c41fcad90843b4bff2209618663a2ed38c50a7f9", "html_url": "https://github.com/rust-lang/rust/commit/c41fcad90843b4bff2209618663a2ed38c50a7f9"}], "stats": {"total": 40, "additions": 20, "deletions": 20}, "files": [{"sha": "3f7d6ba6467701fd2a5aec843328a61037123f10", "filename": "clippy_lints/src/attrs.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Fattrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Fattrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fattrs.rs?ref=cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "patch": "@@ -72,7 +72,7 @@ declare_clippy_lint! {\n     /// **What it does:** Checks for `extern crate` and `use` items annotated with\n     /// lint attributes.\n     ///\n-    /// This lint whitelists `#[allow(unused_imports)]`, `#[allow(deprecated)]` and\n+    /// This lint permits `#[allow(unused_imports)]`, `#[allow(deprecated)]` and\n     /// `#[allow(unreachable_pub)]` on `use` items and `#[allow(unused_imports)]` on\n     /// `extern crate` items with a `#[macro_use]` attribute.\n     ///\n@@ -294,7 +294,7 @@ impl<'tcx> LateLintPass<'tcx> for Attributes {\n                         if let Some(ident) = attr.ident() {\n                             match &*ident.as_str() {\n                                 \"allow\" | \"warn\" | \"deny\" | \"forbid\" => {\n-                                    // whitelist `unused_imports`, `deprecated` and `unreachable_pub` for `use` items\n+                                    // permit `unused_imports`, `deprecated` and `unreachable_pub` for `use` items\n                                     // and `unused_imports` for `extern crate` items with `macro_use`\n                                     for lint in lint_list {\n                                         match item.kind {"}, {"sha": "cbc93d772dd91b04b344ae2dd9003a657e3a2aad", "filename": "clippy_lints/src/eq_op.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Feq_op.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Feq_op.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Feq_op.rs?ref=cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "patch": "@@ -16,7 +16,7 @@ declare_clippy_lint! {\n     /// **Known problems:** False negatives: We had some false positives regarding\n     /// calls (notably [racer](https://github.com/phildawes/racer) had one instance\n     /// of `x.pop() && x.pop()`), so we removed matching any function or method\n-    /// calls. We may introduce a whitelist of known pure functions in the future.\n+    /// calls. We may introduce a list of known pure functions in the future.\n     ///\n     /// **Example:**\n     /// ```rust"}, {"sha": "29e5d4d1664986fbed4e31198c5f2e770359a950", "filename": "clippy_lints/src/needless_pass_by_value.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs?ref=cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "patch": "@@ -100,7 +100,7 @@ impl<'tcx> LateLintPass<'tcx> for NeedlessPassByValue {\n \n         // Allow `Borrow` or functions to be taken by value\n         let borrow_trait = need!(get_trait_def_id(cx, &paths::BORROW_TRAIT));\n-        let whitelisted_traits = [\n+        let allowed_traits = [\n             need!(cx.tcx.lang_items().fn_trait()),\n             need!(cx.tcx.lang_items().fn_once_trait()),\n             need!(cx.tcx.lang_items().fn_mut_trait()),\n@@ -184,7 +184,7 @@ impl<'tcx> LateLintPass<'tcx> for NeedlessPassByValue {\n                 if !is_self(arg);\n                 if !ty.is_mutable_ptr();\n                 if !is_copy(cx, ty);\n-                if !whitelisted_traits.iter().any(|&t| implements_trait(cx, ty, t, &[]));\n+                if !allowed_traits.iter().any(|&t| implements_trait(cx, ty, t, &[]));\n                 if !implements_borrow_trait;\n                 if !all_borrowable_trait;\n "}, {"sha": "7128fee9bcf5157c238e089486bdf75db299a080", "filename": "clippy_lints/src/non_expressive_names.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Fnon_expressive_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fnon_expressive_names.rs?ref=cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "patch": "@@ -78,7 +78,7 @@ struct ExistingName {\n     interned: SymbolStr,\n     span: Span,\n     len: usize,\n-    whitelist: &'static [&'static str],\n+    exemptions: &'static [&'static str],\n }\n \n struct SimilarNamesLocalVisitor<'a, 'tcx> {\n@@ -117,7 +117,7 @@ impl<'a, 'tcx> SimilarNamesLocalVisitor<'a, 'tcx> {\n // this list contains lists of names that are allowed to be similar\n // the assumption is that no name is ever contained in multiple lists.\n #[rustfmt::skip]\n-const WHITELIST: &[&[&str]] = &[\n+const ALLOWED_TO_BE_SIMILAR: &[&[&str]] = &[\n     &[\"parsed\", \"parser\"],\n     &[\"lhs\", \"rhs\"],\n     &[\"tx\", \"rx\"],\n@@ -156,17 +156,17 @@ impl<'a, 'tcx, 'b> Visitor<'tcx> for SimilarNamesNameVisitor<'a, 'tcx, 'b> {\n }\n \n #[must_use]\n-fn get_whitelist(interned_name: &str) -> Option<&'static [&'static str]> {\n-    for &allow in WHITELIST {\n-        if whitelisted(interned_name, allow) {\n-            return Some(allow);\n+fn get_exemptions(interned_name: &str) -> Option<&'static [&'static str]> {\n+    for &list in ALLOWED_TO_BE_SIMILAR {\n+        if allowed_to_be_similar(interned_name, list) {\n+            return Some(list);\n         }\n     }\n     None\n }\n \n #[must_use]\n-fn whitelisted(interned_name: &str, list: &[&str]) -> bool {\n+fn allowed_to_be_similar(interned_name: &str, list: &[&str]) -> bool {\n     list.iter()\n         .any(|&name| interned_name.starts_with(name) || interned_name.ends_with(name))\n }\n@@ -212,7 +212,7 @@ impl<'a, 'tcx, 'b> SimilarNamesNameVisitor<'a, 'tcx, 'b> {\n             return;\n         }\n         for existing_name in &self.0.names {\n-            if whitelisted(&interned_name, existing_name.whitelist) {\n+            if allowed_to_be_similar(&interned_name, existing_name.exemptions) {\n                 continue;\n             }\n             let mut split_at = None;\n@@ -301,7 +301,7 @@ impl<'a, 'tcx, 'b> SimilarNamesNameVisitor<'a, 'tcx, 'b> {\n             return;\n         }\n         self.0.names.push(ExistingName {\n-            whitelist: get_whitelist(&interned_name).unwrap_or(&[]),\n+            exemptions: get_exemptions(&interned_name).unwrap_or(&[]),\n             interned: interned_name,\n             span: ident.span,\n             len: count,"}, {"sha": "23793678fa0e2ae7ee55a2919606b04325340381", "filename": "clippy_lints/src/precedence.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Fprecedence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Fprecedence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fprecedence.rs?ref=cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "patch": "@@ -5,7 +5,7 @@ use rustc_lint::{EarlyContext, EarlyLintPass};\n use rustc_session::{declare_lint_pass, declare_tool_lint};\n use rustc_span::source_map::Spanned;\n \n-const ODD_FUNCTIONS_WHITELIST: [&str; 14] = [\n+const ALLOWED_ODD_FUNCTIONS: [&str; 14] = [\n     \"asin\",\n     \"asinh\",\n     \"atan\",\n@@ -109,7 +109,7 @@ impl EarlyLintPass for Precedence {\n                     if let ExprKind::Lit(ref lit) = slf.kind {\n                         match lit.kind {\n                             LitKind::Int(..) | LitKind::Float(..) => {\n-                                if ODD_FUNCTIONS_WHITELIST\n+                                if ALLOWED_ODD_FUNCTIONS\n                                     .iter()\n                                     .any(|odd_function| **odd_function == *path_segment_str)\n                                 {"}, {"sha": "68f51f0afdccd158a91da17f2ba0b845649dc15c", "filename": "clippy_lints/src/types.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/clippy_lints%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes.rs?ref=cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "patch": "@@ -1256,7 +1256,7 @@ fn check_loss_of_sign(cx: &LateContext<'_>, expr: &Expr<'_>, op: &Expr<'_>, cast\n     // don't lint for the result of methods that always return non-negative values\n     if let ExprKind::MethodCall(ref path, _, _, _) = op.kind {\n         let mut method_name = path.ident.name.as_str();\n-        let whitelisted_methods = [\"abs\", \"checked_abs\", \"rem_euclid\", \"checked_rem_euclid\"];\n+        let allowed_methods = [\"abs\", \"checked_abs\", \"rem_euclid\", \"checked_rem_euclid\"];\n \n         if_chain! {\n             if method_name == \"unwrap\";\n@@ -1267,7 +1267,7 @@ fn check_loss_of_sign(cx: &LateContext<'_>, expr: &Expr<'_>, op: &Expr<'_>, cast\n             }\n         }\n \n-        if whitelisted_methods.iter().any(|&name| method_name == name) {\n+        if allowed_methods.iter().any(|&name| method_name == name) {\n             return;\n         }\n     }"}, {"sha": "9f87de20baff36866965bccd7c4ef87774789645", "filename": "tests/ui/crashes/third-party/clippy.toml", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/tests%2Fui%2Fcrashes%2Fthird-party%2Fclippy.toml", "raw_url": "https://github.com/rust-lang/rust/raw/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/tests%2Fui%2Fcrashes%2Fthird-party%2Fclippy.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcrashes%2Fthird-party%2Fclippy.toml?ref=cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "previous_filename": "tests/ui/crashes/whitelist/clippy.toml"}, {"sha": "f328e4d9d04c31d0d70d16d21a07d1613be9d577", "filename": "tests/ui/crashes/third-party/conf_allowlisted.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/tests%2Fui%2Fcrashes%2Fthird-party%2Fconf_allowlisted.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/tests%2Fui%2Fcrashes%2Fthird-party%2Fconf_allowlisted.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcrashes%2Fthird-party%2Fconf_allowlisted.rs?ref=cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "previous_filename": "tests/ui/crashes/whitelist/conf_whitelisted.rs"}, {"sha": "7a9ba55590dce0c0154ead2ef1c5506915fda7e6", "filename": "tests/ui/needless_pass_by_value.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/tests%2Fui%2Fneedless_pass_by_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/tests%2Fui%2Fneedless_pass_by_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_pass_by_value.rs?ref=cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "patch": "@@ -116,7 +116,7 @@ extern \"C\" fn ext(x: MaybeUninit<usize>) -> usize {\n     unsafe { x.assume_init() }\n }\n \n-// whitelist RangeArgument\n+// exempt RangeArgument\n fn range<T: ::std::ops::RangeBounds<usize>>(range: T) {\n     let _ = range.start_bound();\n }"}, {"sha": "0b471195272473cdd4d971c8fb91cf9826f7dbe0", "filename": "tests/ui/neg_cmp_op_on_partial_ord.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/tests%2Fui%2Fneg_cmp_op_on_partial_ord.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e/tests%2Fui%2Fneg_cmp_op_on_partial_ord.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneg_cmp_op_on_partial_ord.rs?ref=cf91c54cc6e20462bf6c5c63a3ab0b6afe8b7f0e", "patch": "@@ -57,6 +57,6 @@ fn main() {\n     // The macro always negates the result of the given comparison in its\n     // internal check which automatically triggered the lint. As it's an\n     // external macro there was no chance to do anything about it which led\n-    // to a whitelisting of all external macros.\n+    // to an exempting of all external macros.\n     assert!(a_value < another_value);\n }"}]}