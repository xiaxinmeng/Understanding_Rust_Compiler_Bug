{"sha": "fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZlMzllOTRkNmNkNmViYTAwYjNhYWRmMzIzYjNmNGQwMjlhYWQ3ZWI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-04-08T11:47:48Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-04-08T11:47:48Z"}, "message": "Auto merge of #40887 - estebank:ty-placeholder, r=petrochenkov\n\nIntroduce `TyErr` independent from `TyInfer`\n\nAdd a `TyErr` type to represent unknown types in places where\nparse errors have happened, while still able to build the AST.\n\nInitially only used to represent incorrectly written fn arguments and\navoid \"expected X parameters, found Y\" errors when called with the\nappropriate amount of parameters. We cannot use `TyInfer` for this as\n`_` is not allowed as a valid argument type.\n\nExample output:\n\n```rust\nerror: expected one of `:` or `@`, found `,`\n  --> file.rs:12:9\n   |\n12 | fn bar(x, y: usize) {}\n   |         ^\n\nerror[E0061]: this function takes 2 parameters but 3 parameters were supplied\n  --> file.rs:19:9\n   |\n12 | fn bar(x, y) {}\n   | --------------- defined here\n...\n19 |     bar(1, 2, 3);\n   |         ^^^^^^^ expected 2 parameters\n```\n\nFix #34264.", "tree": {"sha": "f042bd71f6f987365c4583a254f0a008cd70f4dd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f042bd71f6f987365c4583a254f0a008cd70f4dd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "html_url": "https://github.com/rust-lang/rust/commit/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4cadff61ef395f3937d950e35304969ced2ea0b0", "url": "https://api.github.com/repos/rust-lang/rust/commits/4cadff61ef395f3937d950e35304969ced2ea0b0", "html_url": "https://github.com/rust-lang/rust/commit/4cadff61ef395f3937d950e35304969ced2ea0b0"}, {"sha": "8c31412c2f84c7d76602b2598c5c1352da61d022", "url": "https://api.github.com/repos/rust-lang/rust/commits/8c31412c2f84c7d76602b2598c5c1352da61d022", "html_url": "https://github.com/rust-lang/rust/commit/8c31412c2f84c7d76602b2598c5c1352da61d022"}], "stats": {"total": 118, "additions": 113, "deletions": 5}, "files": [{"sha": "2c8b145f126cd17ffb05ddd7c805dc4dc9c21132", "filename": "src/librustc/hir/intravisit.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc%2Fhir%2Fintravisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc%2Fhir%2Fintravisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fintravisit.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -578,7 +578,7 @@ pub fn walk_ty<'v, V: Visitor<'v>>(visitor: &mut V, typ: &'v Ty) {\n         TyTypeof(expression) => {\n             visitor.visit_nested_body(expression)\n         }\n-        TyInfer => {}\n+        TyInfer | TyErr => {}\n     }\n }\n "}, {"sha": "30fec50d4eb6fef66ea3cc62a28353977f6bf9be", "filename": "src/librustc/hir/lowering.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc%2Fhir%2Flowering.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc%2Fhir%2Flowering.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Flowering.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -555,6 +555,7 @@ impl<'a> LoweringContext<'a> {\n     fn lower_ty(&mut self, t: &Ty) -> P<hir::Ty> {\n         let kind = match t.node {\n             TyKind::Infer => hir::TyInfer,\n+            TyKind::Err => hir::TyErr,\n             TyKind::Slice(ref ty) => hir::TySlice(self.lower_ty(ty)),\n             TyKind::Ptr(ref mt) => hir::TyPtr(self.lower_mt(mt)),\n             TyKind::Rptr(ref region, ref mt) => {"}, {"sha": "0da405d1821d360d8d804ae6463a7f42af706e86", "filename": "src/librustc/hir/mod.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc%2Fhir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc%2Fhir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmod.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -1351,6 +1351,8 @@ pub enum Ty_ {\n     /// TyInfer means the type should be inferred instead of it having been\n     /// specified. This can appear anywhere in a type.\n     TyInfer,\n+    /// Placeholder for a type that has failed to be defined.\n+    TyErr,\n }\n \n #[derive(Clone, PartialEq, Eq, RustcEncodable, RustcDecodable, Hash, Debug)]"}, {"sha": "4a5a35aa82ca0ef5799733d4021f2c4d86e49c50", "filename": "src/librustc/hir/print.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc%2Fhir%2Fprint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc%2Fhir%2Fprint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fprint.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -450,6 +450,9 @@ impl<'a> State<'a> {\n             hir::TyInfer => {\n                 word(&mut self.s, \"_\")?;\n             }\n+            hir::TyErr => {\n+                word(&mut self.s, \"?\")?;\n+            }\n         }\n         self.end()\n     }"}, {"sha": "9cf8a0693d3636383133b2cbf0198e7bdb6141e0", "filename": "src/librustc/ich/impls_hir.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc%2Fich%2Fimpls_hir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc%2Fich%2Fimpls_hir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fich%2Fimpls_hir.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -230,6 +230,7 @@ impl<'a, 'tcx> HashStable<StableHashingContext<'a, 'tcx>> for hir::Ty {\n             hir::TyTraitObject(..) |\n             hir::TyImplTrait(..)   |\n             hir::TyTypeof(..)      |\n+            hir::TyErr             |\n             hir::TyInfer           => {\n                 NodeIdHashingMode::Ignore\n             }\n@@ -282,6 +283,7 @@ impl_stable_hash_for!(enum hir::Ty_ {\n     TyTraitObject(trait_refs, lifetime),\n     TyImplTrait(bounds),\n     TyTypeof(body_id),\n+    TyErr,\n     TyInfer\n });\n "}, {"sha": "66c4a81a5c0f2f582975ddc130721dfadf7cb614", "filename": "src/librustc_typeck/astconv.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc_typeck%2Fastconv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustc_typeck%2Fastconv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fastconv.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -1229,6 +1229,9 @@ impl<'o, 'gcx: 'tcx, 'tcx> AstConv<'gcx, 'tcx>+'o {\n                 // handled specially and will not descend into this routine.\n                 self.ty_infer(ast_ty.span)\n             }\n+            hir::TyErr => {\n+                tcx.types.err\n+            }\n         };\n \n         cache.borrow_mut().insert(ast_ty.id, result_ty);"}, {"sha": "ac72d7d29a24c4813839cd5b7185544ee269b698", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -1805,7 +1805,7 @@ impl Clean<Type> for hir::Ty {\n             }\n             TyBareFn(ref barefn) => BareFunction(box barefn.clean(cx)),\n             TyImplTrait(ref bounds) => ImplTrait(bounds.clean(cx)),\n-            TyInfer => Infer,\n+            TyInfer | TyErr => Infer,\n             TyTypeof(..) => panic!(\"Unimplemented type {:?}\", self.node),\n         }\n     }"}, {"sha": "c6a3e8a2dedc4653985b20276673a99c3fa658b9", "filename": "src/libsyntax/ast.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibsyntax%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibsyntax%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fast.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -1361,6 +1361,8 @@ pub enum TyKind {\n     ImplicitSelf,\n     // A macro in the type position.\n     Mac(Mac),\n+    /// Placeholder for a kind that has failed to be defined.\n+    Err,\n }\n \n /// Inline assembly dialect."}, {"sha": "92e25b00e0ac108cfd41d90b06e1773f45b21d38", "filename": "src/libsyntax/fold.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibsyntax%2Ffold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibsyntax%2Ffold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffold.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -358,7 +358,7 @@ pub fn noop_fold_ty<T: Folder>(t: P<Ty>, fld: &mut T) -> P<Ty> {\n     t.map(|Ty {id, node, span}| Ty {\n         id: fld.new_id(id),\n         node: match node {\n-            TyKind::Infer | TyKind::ImplicitSelf => node,\n+            TyKind::Infer | TyKind::ImplicitSelf | TyKind::Err => node,\n             TyKind::Slice(ty) => TyKind::Slice(fld.fold_ty(ty)),\n             TyKind::Ptr(mt) => TyKind::Ptr(fld.fold_mt(mt)),\n             TyKind::Rptr(region, mt) => {"}, {"sha": "43d21015a4fb14569ac0f1635ae18b218b1bc550", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 24, "deletions": 1, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -407,6 +407,25 @@ impl From<P<Expr>> for LhsExpr {\n     }\n }\n \n+/// Create a placeholder argument.\n+fn dummy_arg(span: Span) -> Arg {\n+    let spanned = Spanned {\n+        span: span,\n+        node: keywords::Invalid.ident()\n+    };\n+    let pat = P(Pat {\n+        id: ast::DUMMY_NODE_ID,\n+        node: PatKind::Ident(BindingMode::ByValue(Mutability::Immutable), spanned, None),\n+        span: span\n+    });\n+    let ty = Ty {\n+        node: TyKind::Err,\n+        span: span,\n+        id: ast::DUMMY_NODE_ID\n+    };\n+    Arg { ty: P(ty), pat: pat, id: ast::DUMMY_NODE_ID }\n+}\n+\n impl<'a> Parser<'a> {\n     pub fn new(sess: &'a ParseSess,\n                tokens: TokenStream,\n@@ -4376,8 +4395,12 @@ impl<'a> Parser<'a> {\n                             Ok(arg) => Ok(Some(arg)),\n                             Err(mut e) => {\n                                 e.emit();\n+                                let lo = p.prev_span;\n+                                // Skip every token until next possible arg or end.\n                                 p.eat_to_tokens(&[&token::Comma, &token::CloseDelim(token::Paren)]);\n-                                Ok(None)\n+                                // Create a placeholder argument for proper arg count (#34264).\n+                                let span = lo.to(p.prev_span);\n+                                Ok(Some(dummy_arg(span)))\n                             }\n                         }\n                     }"}, {"sha": "e7feff2b79fceb9936a665f90923ee0f9fa490b1", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -1095,6 +1095,9 @@ impl<'a> State<'a> {\n             ast::TyKind::Infer => {\n                 word(&mut self.s, \"_\")?;\n             }\n+            ast::TyKind::Err => {\n+                word(&mut self.s, \"?\")?;\n+            }\n             ast::TyKind::ImplicitSelf => {\n                 word(&mut self.s, \"Self\")?;\n             }"}, {"sha": "b5e9a1892acc9927446c1cfffcd394cbbcd93094", "filename": "src/libsyntax/visit.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibsyntax%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Flibsyntax%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fvisit.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -350,7 +350,7 @@ pub fn walk_ty<'a, V: Visitor<'a>>(visitor: &mut V, typ: &'a Ty) {\n         TyKind::Typeof(ref expression) => {\n             visitor.visit_expr(expression)\n         }\n-        TyKind::Infer | TyKind::ImplicitSelf => {}\n+        TyKind::Infer | TyKind::ImplicitSelf | TyKind::Err => {}\n         TyKind::Mac(ref mac) => {\n             visitor.visit_mac(mac)\n         }"}, {"sha": "00482f50618db5b327fd47f60308c16cc997699f", "filename": "src/test/ui/span/issue-34264.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Ftest%2Fui%2Fspan%2Fissue-34264.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Ftest%2Fui%2Fspan%2Fissue-34264.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-34264.rs?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -0,0 +1,20 @@\n+// Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+fn foo(Option<i32>, String) {}\n+fn bar(x, y: usize) {}\n+\n+fn main() {\n+    foo(Some(42), 2);\n+    foo(Some(42), 2, \"\");\n+    bar(\"\", \"\");\n+    bar(1, 2);\n+    bar(1, 2, 3);\n+}"}, {"sha": "98183e2f082e9f55b33da1dd5443306de6041d29", "filename": "src/test/ui/span/issue-34264.stderr", "status": "added", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Ftest%2Fui%2Fspan%2Fissue-34264.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb/src%2Ftest%2Fui%2Fspan%2Fissue-34264.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-34264.stderr?ref=fe39e94d6cd6eba00b3aadf323b3f4d029aad7eb", "patch": "@@ -0,0 +1,49 @@\n+error: expected one of `:` or `@`, found `<`\n+  --> $DIR/issue-34264.rs:11:14\n+   |\n+11 | fn foo(Option<i32>, String) {}\n+   |              ^ expected one of `:` or `@` here\n+\n+error: expected one of `:` or `@`, found `)`\n+  --> $DIR/issue-34264.rs:11:27\n+   |\n+11 | fn foo(Option<i32>, String) {}\n+   |                           ^ expected one of `:` or `@` here\n+\n+error: expected one of `:` or `@`, found `,`\n+  --> $DIR/issue-34264.rs:12:9\n+   |\n+12 | fn bar(x, y: usize) {}\n+   |         ^ expected one of `:` or `@` here\n+\n+error[E0061]: this function takes 2 parameters but 3 parameters were supplied\n+  --> $DIR/issue-34264.rs:16:9\n+   |\n+11 | fn foo(Option<i32>, String) {}\n+   | ------------------------------ defined here\n+...\n+16 |     foo(Some(42), 2, \"\");\n+   |         ^^^^^^^^^^^^^^^ expected 2 parameters\n+\n+error[E0308]: mismatched types\n+  --> $DIR/issue-34264.rs:17:13\n+   |\n+17 |     bar(\"\", \"\");\n+   |             ^^ expected usize, found reference\n+   |\n+   = note: expected type `usize`\n+              found type `&'static str`\n+   = help: here are some functions which might fulfill your needs:\n+           - .len()\n+\n+error[E0061]: this function takes 2 parameters but 3 parameters were supplied\n+  --> $DIR/issue-34264.rs:19:9\n+   |\n+12 | fn bar(x, y: usize) {}\n+   | ---------------------- defined here\n+...\n+19 |     bar(1, 2, 3);\n+   |         ^^^^^^^ expected 2 parameters\n+\n+error: aborting due to 3 previous errors\n+"}]}