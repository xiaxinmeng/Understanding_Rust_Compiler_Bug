{"sha": "96af578cd9249223c89266306b104820e771858f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk2YWY1NzhjZDkyNDkyMjNjODkyNjYzMDZiMTA0ODIwZTc3MTg1OGY=", "commit": {"author": {"name": "Eduard-Mihai Burtescu", "email": "edy.burt@gmail.com", "date": "2020-02-06T10:16:38Z"}, "committer": {"name": "Eduard-Mihai Burtescu", "email": "edy.burt@gmail.com", "date": "2020-02-06T19:46:42Z"}, "message": "tests: add a revision to macro_backtrace without -Zmacro-backtrace.", "tree": {"sha": "114cc2dc0966b8b10ac3728890e4b84e89309d67", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/114cc2dc0966b8b10ac3728890e4b84e89309d67"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/96af578cd9249223c89266306b104820e771858f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/96af578cd9249223c89266306b104820e771858f", "html_url": "https://github.com/rust-lang/rust/commit/96af578cd9249223c89266306b104820e771858f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/96af578cd9249223c89266306b104820e771858f/comments", "author": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4c7eb59e8161fd7bd2da89fc8c8d73c32bcd789b", "url": "https://api.github.com/repos/rust-lang/rust/commits/4c7eb59e8161fd7bd2da89fc8c8d73c32bcd789b", "html_url": "https://github.com/rust-lang/rust/commit/4c7eb59e8161fd7bd2da89fc8c8d73c32bcd789b"}], "stats": {"total": 44, "additions": 40, "deletions": 4}, "files": [{"sha": "41ed545cf1687e721ddca7eeb187a4b7ff6f66c4", "filename": "src/test/ui/macro_backtrace/main.-Zmacro-backtrace.stderr", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/96af578cd9249223c89266306b104820e771858f/src%2Ftest%2Fui%2Fmacro_backtrace%2Fmain.-Zmacro-backtrace.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/96af578cd9249223c89266306b104820e771858f/src%2Ftest%2Fui%2Fmacro_backtrace%2Fmain.-Zmacro-backtrace.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacro_backtrace%2Fmain.-Zmacro-backtrace.stderr?ref=96af578cd9249223c89266306b104820e771858f", "patch": "@@ -1,5 +1,5 @@\n error: expected one of `!`, `.`, `::`, `;`, `?`, `{`, `}`, or an operator, found `error`\n-  --> $DIR/main.rs:9:20\n+  --> $DIR/main.rs:10:20\n    |\n LL | / macro_rules! pong {\n LL | |     () => { syntax error };\n@@ -11,7 +11,7 @@ LL |       pong!();\n    |       -------- in this macro invocation\n \n error: expected one of `!`, `.`, `::`, `;`, `?`, `{`, `}`, or an operator, found `error`\n-  --> $DIR/main.rs:9:20\n+  --> $DIR/main.rs:10:20\n    |\n LL | / macro_rules! pong {\n LL | |     () => { syntax error };\n@@ -31,7 +31,7 @@ LL |   () => { pong ! () ; }\n    |   in this expansion of `ping!`\n \n error: expected one of `!`, `.`, `::`, `;`, `?`, `{`, `}`, or an operator, found `error`\n-  --> $DIR/main.rs:9:20\n+  --> $DIR/main.rs:10:20\n    |\n LL | / macro_rules! pong {\n LL | |     () => { syntax error };", "previous_filename": "src/test/ui/macro_backtrace/main.stderr"}, {"sha": "fac76fd6080febe0302ac30ba87b9bc971fea438", "filename": "src/test/ui/macro_backtrace/main.default.stderr", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/96af578cd9249223c89266306b104820e771858f/src%2Ftest%2Fui%2Fmacro_backtrace%2Fmain.default.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/96af578cd9249223c89266306b104820e771858f/src%2Ftest%2Fui%2Fmacro_backtrace%2Fmain.default.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacro_backtrace%2Fmain.default.stderr?ref=96af578cd9249223c89266306b104820e771858f", "patch": "@@ -0,0 +1,35 @@\n+error: expected one of `!`, `.`, `::`, `;`, `?`, `{`, `}`, or an operator, found `error`\n+  --> $DIR/main.rs:10:20\n+   |\n+LL |     () => { syntax error };\n+   |                    ^^^^^ expected one of 8 possible tokens\n+...\n+LL |     pong!();\n+   |     -------- in this macro invocation\n+   |\n+   = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n+\n+error: expected one of `!`, `.`, `::`, `;`, `?`, `{`, `}`, or an operator, found `error`\n+  --> $DIR/main.rs:10:20\n+   |\n+LL |     () => { syntax error };\n+   |                    ^^^^^ expected one of 8 possible tokens\n+...\n+LL |     ping!();\n+   |     -------- in this macro invocation\n+   |\n+   = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n+\n+error: expected one of `!`, `.`, `::`, `;`, `?`, `{`, `}`, or an operator, found `error`\n+  --> $DIR/main.rs:10:20\n+   |\n+LL |     () => { syntax error };\n+   |                    ^^^^^ expected one of 8 possible tokens\n+...\n+LL |     deep!();\n+   |     -------- in this macro invocation\n+   |\n+   = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n+\n+error: aborting due to 3 previous errors\n+"}, {"sha": "6cee3b4cd96d58da0f123ca87ca6cfbb6279daf3", "filename": "src/test/ui/macro_backtrace/main.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/96af578cd9249223c89266306b104820e771858f/src%2Ftest%2Fui%2Fmacro_backtrace%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/96af578cd9249223c89266306b104820e771858f/src%2Ftest%2Fui%2Fmacro_backtrace%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacro_backtrace%2Fmain.rs?ref=96af578cd9249223c89266306b104820e771858f", "patch": "@@ -1,6 +1,7 @@\n // Test that the macro backtrace facility works\n // aux-build:ping.rs\n-// compile-flags: -Z macro-backtrace\n+// revisions: default -Zmacro-backtrace\n+//[-Zmacro-backtrace] compile-flags: -Z macro-backtrace\n \n #[macro_use] extern crate ping;\n "}]}