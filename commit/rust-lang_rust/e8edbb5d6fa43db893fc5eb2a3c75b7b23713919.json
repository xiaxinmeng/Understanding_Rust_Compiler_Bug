{"sha": "e8edbb5d6fa43db893fc5eb2a3c75b7b23713919", "node_id": "C_kwDOAAsO6NoAKGU4ZWRiYjVkNmZhNDNkYjg5M2ZjNWViMmEzYzc1YjdiMjM3MTM5MTk", "commit": {"author": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2022-03-05T23:26:15Z"}, "committer": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2022-03-05T23:26:15Z"}, "message": "Add a macro case for the keyword highlighting test fixture", "tree": {"sha": "c5eaec7a6e3d01ed2894817d1a27321ed97f1864", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c5eaec7a6e3d01ed2894817d1a27321ed97f1864"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e8edbb5d6fa43db893fc5eb2a3c75b7b23713919", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e8edbb5d6fa43db893fc5eb2a3c75b7b23713919", "html_url": "https://github.com/rust-lang/rust/commit/e8edbb5d6fa43db893fc5eb2a3c75b7b23713919", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e8edbb5d6fa43db893fc5eb2a3c75b7b23713919/comments", "author": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d460b7c9d1c64d394c8078259887e027c4e322c1", "url": "https://api.github.com/repos/rust-lang/rust/commits/d460b7c9d1c64d394c8078259887e027c4e322c1", "html_url": "https://github.com/rust-lang/rust/commit/d460b7c9d1c64d394c8078259887e027c4e322c1"}], "stats": {"total": 20, "additions": 14, "deletions": 6}, "files": [{"sha": "86ed8dbd77768a350f33e1c11d3bf68dcf0599da", "filename": "crates/ide/src/syntax_highlighting/test_data/highlight_general.html", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e8edbb5d6fa43db893fc5eb2a3c75b7b23713919/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_general.html", "raw_url": "https://github.com/rust-lang/rust/raw/e8edbb5d6fa43db893fc5eb2a3c75b7b23713919/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_general.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_general.html?ref=e8edbb5d6fa43db893fc5eb2a3c75b7b23713919", "patch": "@@ -59,11 +59,11 @@\n     <span class=\"field declaration\">x</span><span class=\"colon\">:</span> <span class=\"builtin_type\">u32</span><span class=\"comma\">,</span>\n <span class=\"brace\">}</span>\n \n-<span class=\"keyword\">trait</span> <span class=\"trait declaration\">Bar</span> <span class=\"keyword\">where</span> <span class=\"self_type_keyword\">Self</span><span class=\"colon\">:</span> <span class=\"brace\">{</span>\n+<span class=\"keyword\">trait</span> <span class=\"trait declaration\">Bar</span> <span class=\"brace\">{</span>\n     <span class=\"keyword\">fn</span> <span class=\"function associated declaration reference trait\">bar</span><span class=\"parenthesis\">(</span><span class=\"operator\">&</span><span class=\"self_keyword declaration reference\">self</span><span class=\"parenthesis\">)</span> <span class=\"operator\">-&gt;</span> <span class=\"builtin_type\">i32</span><span class=\"semicolon\">;</span>\n <span class=\"brace\">}</span>\n \n-<span class=\"keyword\">impl</span> <span class=\"trait\">Bar</span> <span class=\"keyword\">for</span> <span class=\"struct\">Foo</span> <span class=\"keyword\">where</span> <span class=\"self_type_keyword\">Self</span><span class=\"colon\">:</span> <span class=\"brace\">{</span>\n+<span class=\"keyword\">impl</span> <span class=\"trait\">Bar</span> <span class=\"keyword\">for</span> <span class=\"struct\">Foo</span> <span class=\"brace\">{</span>\n     <span class=\"keyword\">fn</span> <span class=\"function associated declaration reference trait\">bar</span><span class=\"parenthesis\">(</span><span class=\"operator\">&</span><span class=\"self_keyword declaration reference\">self</span><span class=\"parenthesis\">)</span> <span class=\"operator\">-&gt;</span> <span class=\"builtin_type\">i32</span> <span class=\"brace\">{</span>\n         <span class=\"self_keyword reference\">self</span><span class=\"operator\">.</span><span class=\"field\">x</span>\n     <span class=\"brace\">}</span>\n@@ -210,7 +210,7 @@\n \n <span class=\"keyword\">impl</span> <span class=\"enum public\">Bool</span> <span class=\"brace\">{</span>\n     <span class=\"keyword\">pub</span> <span class=\"keyword\">const</span> <span class=\"keyword\">fn</span> <span class=\"function associated consuming declaration public\">to_primitive</span><span class=\"parenthesis\">(</span><span class=\"self_keyword declaration\">self</span><span class=\"parenthesis\">)</span> <span class=\"operator\">-&gt;</span> <span class=\"builtin_type\">bool</span> <span class=\"brace\">{</span>\n-        <span class=\"unresolved_reference\">matches</span><span class=\"macro_bang\">!</span><span class=\"parenthesis\">(</span><span class=\"keyword\">self</span><span class=\"comma\">,</span> <span class=\"self_type_keyword\">Self</span><span class=\"colon\">:</span><span class=\"colon\">:</span>True<span class=\"parenthesis\">)</span>\n+        <span class=\"bool_literal\">true</span>\n     <span class=\"brace\">}</span>\n <span class=\"brace\">}</span>\n <span class=\"keyword\">const</span> <span class=\"constant declaration\">USAGE_OF_BOOL</span><span class=\"colon\">:</span><span class=\"builtin_type\">bool</span> <span class=\"operator\">=</span> <span class=\"enum public\">Bool</span><span class=\"operator\">::</span><span class=\"enum_variant public\">True</span><span class=\"operator\">.</span><span class=\"function associated consuming public\">to_primitive</span><span class=\"parenthesis\">(</span><span class=\"parenthesis\">)</span><span class=\"semicolon\">;</span>"}, {"sha": "145bba2a06c1e39a3d0633b62980ed041e64227c", "filename": "crates/ide/src/syntax_highlighting/test_data/highlight_keywords.html", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e8edbb5d6fa43db893fc5eb2a3c75b7b23713919/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_keywords.html", "raw_url": "https://github.com/rust-lang/rust/raw/e8edbb5d6fa43db893fc5eb2a3c75b7b23713919/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_keywords.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftest_data%2Fhighlight_keywords.html?ref=e8edbb5d6fa43db893fc5eb2a3c75b7b23713919", "patch": "@@ -49,5 +49,9 @@\n     <span class=\"keyword\">use</span> <span class=\"keyword crate_root\">super</span><span class=\"operator\">::</span><span class=\"punctuation\">*</span><span class=\"semicolon\">;</span>\n <span class=\"brace\">}</span>\n \n+<span class=\"keyword\">macro_rules</span><span class=\"punctuation\">!</span> <span class=\"macro declaration\">void</span> <span class=\"brace\">{</span>\n+    <span class=\"parenthesis\">(</span><span class=\"punctuation\">$</span><span class=\"parenthesis\">(</span><span class=\"punctuation\">$</span>tt<span class=\"colon\">:</span>tt<span class=\"parenthesis\">)</span><span class=\"parenthesis\">)</span> <span class=\"operator\">=</span><span class=\"angle\">&gt;</span> <span class=\"brace\">{</span><span class=\"brace\">}</span>\n+<span class=\"brace\">}</span>\n+<span class=\"macro\">void</span><span class=\"macro_bang\">!</span><span class=\"parenthesis\">(</span><span class=\"keyword\">Self</span><span class=\"parenthesis\">)</span><span class=\"semicolon\">;</span>\n <span class=\"keyword\">struct</span> <span class=\"struct declaration\">__</span> <span class=\"keyword\">where</span> <span class=\"self_type_keyword\">Self</span><span class=\"colon\">:</span><span class=\"semicolon\">;</span>\n <span class=\"keyword\">fn</span> <span class=\"function declaration\">__</span><span class=\"parenthesis\">(</span><span class=\"punctuation\">_</span><span class=\"colon\">:</span> <span class=\"unresolved_reference\">Self</span><span class=\"parenthesis\">)</span> <span class=\"brace\">{</span><span class=\"brace\">}</span></code></pre>\n\\ No newline at end of file"}, {"sha": "0af743431b66514af6e0240bf58b84ffa169e707", "filename": "crates/ide/src/syntax_highlighting/tests.rs", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/e8edbb5d6fa43db893fc5eb2a3c75b7b23713919/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8edbb5d6fa43db893fc5eb2a3c75b7b23713919/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftests.rs?ref=e8edbb5d6fa43db893fc5eb2a3c75b7b23713919", "patch": "@@ -113,11 +113,11 @@ struct Foo {\n     x: u32,\n }\n \n-trait Bar where Self: {\n+trait Bar {\n     fn bar(&self) -> i32;\n }\n \n-impl Bar for Foo where Self: {\n+impl Bar for Foo {\n     fn bar(&self) -> i32 {\n         self.x\n     }\n@@ -264,7 +264,7 @@ pub enum Bool { True, False }\n \n impl Bool {\n     pub const fn to_primitive(self) -> bool {\n-        matches!(self, Self::True)\n+        true\n     }\n }\n const USAGE_OF_BOOL:bool = Bool::True.to_primitive();\n@@ -346,6 +346,10 @@ mod __ {\n     use super::*;\n }\n \n+macro_rules! void {\n+    ($($tt:tt)) => {}\n+}\n+void!(Self);\n struct __ where Self:;\n fn __(_: Self) {}\n \"#,"}]}