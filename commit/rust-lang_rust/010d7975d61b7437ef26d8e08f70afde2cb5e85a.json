{"sha": "010d7975d61b7437ef26d8e08f70afde2cb5e85a", "node_id": "C_kwDOAAsO6NoAKDAxMGQ3OTc1ZDYxYjc0MzdlZjI2ZDhlMDhmNzBhZmRlMmNiNWU4NWE", "commit": {"author": {"name": "Mads Ravn", "email": "madsravn@gmail.com", "date": "2023-04-19T12:58:53Z"}, "committer": {"name": "Mads Ravn", "email": "madsravn@gmail.com", "date": "2023-04-19T12:58:53Z"}, "message": "Changing position of early exit and using standard error method with correct exit code", "tree": {"sha": "e42f707913e61783d8b868a5e886f1253322a0f3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e42f707913e61783d8b868a5e886f1253322a0f3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/010d7975d61b7437ef26d8e08f70afde2cb5e85a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/010d7975d61b7437ef26d8e08f70afde2cb5e85a", "html_url": "https://github.com/rust-lang/rust/commit/010d7975d61b7437ef26d8e08f70afde2cb5e85a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/010d7975d61b7437ef26d8e08f70afde2cb5e85a/comments", "author": {"login": "madsravn", "id": 399452, "node_id": "MDQ6VXNlcjM5OTQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/399452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/madsravn", "html_url": "https://github.com/madsravn", "followers_url": "https://api.github.com/users/madsravn/followers", "following_url": "https://api.github.com/users/madsravn/following{/other_user}", "gists_url": "https://api.github.com/users/madsravn/gists{/gist_id}", "starred_url": "https://api.github.com/users/madsravn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/madsravn/subscriptions", "organizations_url": "https://api.github.com/users/madsravn/orgs", "repos_url": "https://api.github.com/users/madsravn/repos", "events_url": "https://api.github.com/users/madsravn/events{/privacy}", "received_events_url": "https://api.github.com/users/madsravn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "madsravn", "id": 399452, "node_id": "MDQ6VXNlcjM5OTQ1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/399452?v=4", "gravatar_id": "", "url": "https://api.github.com/users/madsravn", "html_url": "https://github.com/madsravn", "followers_url": "https://api.github.com/users/madsravn/followers", "following_url": "https://api.github.com/users/madsravn/following{/other_user}", "gists_url": "https://api.github.com/users/madsravn/gists{/gist_id}", "starred_url": "https://api.github.com/users/madsravn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/madsravn/subscriptions", "organizations_url": "https://api.github.com/users/madsravn/orgs", "repos_url": "https://api.github.com/users/madsravn/repos", "events_url": "https://api.github.com/users/madsravn/events{/privacy}", "received_events_url": "https://api.github.com/users/madsravn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "69b12ff5700e75b99d6679cdf79c6e29941e8c39", "url": "https://api.github.com/repos/rust-lang/rust/commits/69b12ff5700e75b99d6679cdf79c6e29941e8c39", "html_url": "https://github.com/rust-lang/rust/commit/69b12ff5700e75b99d6679cdf79c6e29941e8c39"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "782bb6cf36f377b3c59f3d58747a07188cc51622", "filename": "src/bootstrap/configure.py", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/010d7975d61b7437ef26d8e08f70afde2cb5e85a/src%2Fbootstrap%2Fconfigure.py", "raw_url": "https://github.com/rust-lang/rust/raw/010d7975d61b7437ef26d8e08f70afde2cb5e85a/src%2Fbootstrap%2Fconfigure.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfigure.py?ref=010d7975d61b7437ef26d8e08f70afde2cb5e85a", "patch": "@@ -523,17 +523,17 @@ def write_config_toml(writer, section_order, targets, sections):\n \n def quit_if_file_exists(file):\n     if os.path.isfile(file):\n-        p(\"Existing '\" + file + \"' detected. EXITING\")\n-        quit()\n+        err(\"Existing '\" + file + \"' detected.\")\n \n if __name__ == \"__main__\":\n+    # If 'config.toml' already exists, exit the script at this point\n+    quit_if_file_exists('config.toml')\n+\n     p(\"processing command line\")\n     # Parse all known arguments into a configuration structure that reflects the\n     # TOML we're going to write out\n     p(\"\")\n     section_order, sections, targets = parse_args(sys.argv[1:])\n-    # If 'config.toml' already exists, exit the script at this point\n-    quit_if_file_exists('config.toml')\n \n     # Now that we've built up our `config.toml`, write it all out in the same\n     # order that we read it in."}]}