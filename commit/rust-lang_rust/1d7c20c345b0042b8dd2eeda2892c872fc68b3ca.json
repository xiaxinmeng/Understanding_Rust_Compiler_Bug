{"sha": "1d7c20c345b0042b8dd2eeda2892c872fc68b3ca", "node_id": "C_kwDOAAsO6NoAKDFkN2MyMGMzNDViMDA0MmI4ZGQyZWVkYTI4OTJjODcyZmM2OGIzY2E", "commit": {"author": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2022-06-23T21:00:03Z"}, "committer": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2022-06-23T21:00:03Z"}, "message": "Remove duplicated fetch_github_commit_archive in CI scripts.\n\nThe code using `fetch_github_commit_archive` was removed in #72937.", "tree": {"sha": "977e91fe63329ba30e42af0253a46fb38b3d491d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/977e91fe63329ba30e42af0253a46fb38b3d491d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1d7c20c345b0042b8dd2eeda2892c872fc68b3ca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1d7c20c345b0042b8dd2eeda2892c872fc68b3ca", "html_url": "https://github.com/rust-lang/rust/commit/1d7c20c345b0042b8dd2eeda2892c872fc68b3ca", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1d7c20c345b0042b8dd2eeda2892c872fc68b3ca/comments", "author": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0143552b2c7bbe0946bb198839916470b6b362a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/0143552b2c7bbe0946bb198839916470b6b362a5", "html_url": "https://github.com/rust-lang/rust/commit/0143552b2c7bbe0946bb198839916470b6b362a5"}], "stats": {"total": 13, "additions": 0, "deletions": 13}, "files": [{"sha": "291f26bdaeb3794a781f1528b58a10b43227dc7f", "filename": "src/ci/docker/host-x86_64/dist-various-2/shared.sh", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/1d7c20c345b0042b8dd2eeda2892c872fc68b3ca/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fshared.sh", "raw_url": "https://github.com/rust-lang/rust/raw/1d7c20c345b0042b8dd2eeda2892c872fc68b3ca/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fshared.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fshared.sh?ref=1d7c20c345b0042b8dd2eeda2892c872fc68b3ca", "patch": "@@ -33,15 +33,3 @@ function retry {\n     }\n   done\n }\n-\n-# Copied from ../../init_repo.sh\n-function fetch_github_commit_archive {\n-    local module=$1\n-    local cached=\"download-${module//\\//-}.tar.gz\"\n-    retry sh -c \"rm -f $cached && \\\n-        curl -f -sSL -o $cached $2\"\n-    mkdir $module\n-    touch \"$module/.git\"\n-    tar -C $module --strip-components=1 -xf $cached\n-    rm $cached\n-}"}, {"sha": "23c5ec559e4eeaca2d50fb024799eb16c3c36066", "filename": "src/ci/init_repo.sh", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1d7c20c345b0042b8dd2eeda2892c872fc68b3ca/src%2Fci%2Finit_repo.sh", "raw_url": "https://github.com/rust-lang/rust/raw/1d7c20c345b0042b8dd2eeda2892c872fc68b3ca/src%2Fci%2Finit_repo.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Finit_repo.sh?ref=1d7c20c345b0042b8dd2eeda2892c872fc68b3ca", "patch": "@@ -21,7 +21,6 @@ if [ \"$(releaseChannel)\" = \"beta\" ]; then\n   git fetch origin --unshallow beta master\n fi\n \n-# Duplicated in docker/dist-various-2/shared.sh\n function fetch_github_commit_archive {\n     local module=$1\n     local cached=\"download-${module//\\//-}.tar.gz\""}]}