{"sha": "ff4b754958cc3acc32dcb9231aafceff692a4f95", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZmNGI3NTQ5NThjYzNhY2MzMmRjYjkyMzFhYWZjZWZmNjkyYTRmOTU=", "commit": {"author": {"name": "Jyun-Yan You", "email": "jyyou@cs.nctu.edu.tw", "date": "2012-09-04T18:03:56Z"}, "committer": {"name": "Jyun-Yan You", "email": "jyyou@cs.nctu.edu.tw", "date": "2012-09-04T18:03:56Z"}, "message": "use native log2 function and enable freebsd tests in uv_ll", "tree": {"sha": "018ea20d4e81331423abd59294b7e3b454d57d5b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/018ea20d4e81331423abd59294b7e3b454d57d5b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ff4b754958cc3acc32dcb9231aafceff692a4f95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ff4b754958cc3acc32dcb9231aafceff692a4f95", "html_url": "https://github.com/rust-lang/rust/commit/ff4b754958cc3acc32dcb9231aafceff692a4f95", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ff4b754958cc3acc32dcb9231aafceff692a4f95/comments", "author": {"login": "crabtw", "id": 36015, "node_id": "MDQ6VXNlcjM2MDE1", "avatar_url": "https://avatars.githubusercontent.com/u/36015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crabtw", "html_url": "https://github.com/crabtw", "followers_url": "https://api.github.com/users/crabtw/followers", "following_url": "https://api.github.com/users/crabtw/following{/other_user}", "gists_url": "https://api.github.com/users/crabtw/gists{/gist_id}", "starred_url": "https://api.github.com/users/crabtw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crabtw/subscriptions", "organizations_url": "https://api.github.com/users/crabtw/orgs", "repos_url": "https://api.github.com/users/crabtw/repos", "events_url": "https://api.github.com/users/crabtw/events{/privacy}", "received_events_url": "https://api.github.com/users/crabtw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "crabtw", "id": 36015, "node_id": "MDQ6VXNlcjM2MDE1", "avatar_url": "https://avatars.githubusercontent.com/u/36015?v=4", "gravatar_id": "", "url": "https://api.github.com/users/crabtw", "html_url": "https://github.com/crabtw", "followers_url": "https://api.github.com/users/crabtw/followers", "following_url": "https://api.github.com/users/crabtw/following{/other_user}", "gists_url": "https://api.github.com/users/crabtw/gists{/gist_id}", "starred_url": "https://api.github.com/users/crabtw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/crabtw/subscriptions", "organizations_url": "https://api.github.com/users/crabtw/orgs", "repos_url": "https://api.github.com/users/crabtw/repos", "events_url": "https://api.github.com/users/crabtw/events{/privacy}", "received_events_url": "https://api.github.com/users/crabtw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "147e9380e270ae8c27d241837251f14b33596450", "url": "https://api.github.com/repos/rust-lang/rust/commits/147e9380e270ae8c27d241837251f14b33596450", "html_url": "https://github.com/rust-lang/rust/commit/147e9380e270ae8c27d241837251f14b33596450"}], "stats": {"total": 46, "additions": 0, "deletions": 46}, "files": [{"sha": "7225fd2ee469d6e3682c9829f65532f6375fe2cf", "filename": "src/libcore/cmath.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ff4b754958cc3acc32dcb9231aafceff692a4f95/src%2Flibcore%2Fcmath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff4b754958cc3acc32dcb9231aafceff692a4f95/src%2Flibcore%2Fcmath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcmath.rs?ref=ff4b754958cc3acc32dcb9231aafceff692a4f95", "patch": "@@ -65,9 +65,6 @@ extern mod c_double {\n     // renamed: to be consitent with log as ln\n     #[link_name=\"log1p\"] pure fn ln1p(n: c_double) -> c_double;\n     pure fn log10(n: c_double) -> c_double;\n-    #[cfg(target_os=\"linux\")]\n-    #[cfg(target_os=\"macos\")]\n-    #[cfg(target_os=\"win32\")]\n     pure fn log2(n: c_double) -> c_double;\n     #[link_name=\"ilogb\"] pure fn ilog_radix(n: c_double) -> c_int;\n     pure fn modf(n: c_double, &iptr: c_double) -> c_double;\n@@ -143,9 +140,6 @@ extern mod c_float {\n     #[link_name=\"logf\"] pure fn ln(n: c_float) -> c_float;\n     #[link_name=\"logbf\"] pure fn log_radix(n: c_float) -> c_float;\n     #[link_name=\"log1pf\"] pure fn ln1p(n: c_float) -> c_float;\n-    #[cfg(target_os=\"linux\")]\n-    #[cfg(target_os=\"macos\")]\n-    #[cfg(target_os=\"win32\")]\n     #[link_name=\"log2f\"] pure fn log2(n: c_float) -> c_float;\n     #[link_name=\"log10f\"] pure fn log10(n: c_float) -> c_float;\n     #[link_name=\"ilogbf\"] pure fn ilog_radix(n: c_float) -> c_int;"}, {"sha": "991b6d9d5f0b0482cdcab163fc104d7bccb90ff3", "filename": "src/libcore/f32.rs", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/ff4b754958cc3acc32dcb9231aafceff692a4f95/src%2Flibcore%2Ff32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff4b754958cc3acc32dcb9231aafceff692a4f95/src%2Flibcore%2Ff32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ff32.rs?ref=ff4b754958cc3acc32dcb9231aafceff692a4f95", "patch": "@@ -152,25 +152,10 @@ pure fn signbit(x: f32) -> int {\n     if is_negative(x) { return 1; } else { return 0; }\n }\n \n-#[cfg(target_os=\"linux\")]\n-#[cfg(target_os=\"macos\")]\n-#[cfg(target_os=\"win32\")]\n pure fn logarithm(n: f32, b: f32) -> f32 {\n     return log2(n) / log2(b);\n }\n \n-#[cfg(target_os=\"freebsd\")]\n-pure fn logarithm(n: f32, b: f32) -> f32 {\n-    // FIXME (#2000): check if it is good to use log2 instead of ln here;\n-    // in theory should be faster since the radix is 2\n-    return ln(n) / ln(b);\n-}\n-\n-#[cfg(target_os=\"freebsd\")]\n-pure fn log2(n: f32) -> f32 {\n-    return ln(n) / consts::ln_2;\n-}\n-\n impl f32: num::Num {\n     pure fn add(&&other: f32)    -> f32 { return self + other; }\n     pure fn sub(&&other: f32)    -> f32 { return self - other; }"}, {"sha": "8ae40b355d50ad5339003aebf02466bab3a6fe90", "filename": "src/libcore/f64.rs", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/ff4b754958cc3acc32dcb9231aafceff692a4f95/src%2Flibcore%2Ff64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff4b754958cc3acc32dcb9231aafceff692a4f95/src%2Flibcore%2Ff64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ff64.rs?ref=ff4b754958cc3acc32dcb9231aafceff692a4f95", "patch": "@@ -179,25 +179,10 @@ pure fn signbit(x: f64) -> int {\n     if is_negative(x) { return 1; } else { return 0; }\n }\n \n-#[cfg(target_os=\"linux\")]\n-#[cfg(target_os=\"macos\")]\n-#[cfg(target_os=\"win32\")]\n pure fn logarithm(n: f64, b: f64) -> f64 {\n     return log2(n) / log2(b);\n }\n \n-#[cfg(target_os=\"freebsd\")]\n-pure fn logarithm(n: f64, b: f64) -> f64 {\n-    // FIXME (#2000): check if it is good to use log2 instead of ln here; in\n-    // theory should be faster since the radix is 2\n-    return ln(n) / ln(b);\n-}\n-\n-#[cfg(target_os=\"freebsd\")]\n-pure fn log2(n: f64) -> f64 {\n-    return ln(n) / consts::ln_2;\n-}\n-\n impl f64: num::Num {\n     pure fn add(&&other: f64)    -> f64 { return self + other; }\n     pure fn sub(&&other: f64)    -> f64 { return self - other; }"}, {"sha": "7eeadc63e8255a8d8b410b32859d7f752dab0111", "filename": "src/libstd/uv_ll.rs", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ff4b754958cc3acc32dcb9231aafceff692a4f95/src%2Flibstd%2Fuv_ll.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff4b754958cc3acc32dcb9231aafceff692a4f95/src%2Flibstd%2Fuv_ll.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fuv_ll.rs?ref=ff4b754958cc3acc32dcb9231aafceff692a4f95", "patch": "@@ -1522,7 +1522,6 @@ mod test {\n \n     // struct size tests\n     #[test]\n-    #[ignore(cfg(target_os = \"freebsd\"))]\n     fn test_uv_ll_struct_size_uv_tcp_t() {\n         let foreign_handle_size = rustrt::rust_uv_helper_uv_tcp_t_size();\n         let rust_handle_size = sys::size_of::<uv_tcp_t>();\n@@ -1532,7 +1531,6 @@ mod test {\n         assert foreign_handle_size as uint == rust_handle_size;\n     }\n     #[test]\n-    #[ignore(cfg(target_os = \"freebsd\"))]\n     fn test_uv_ll_struct_size_uv_connect_t() {\n         let foreign_handle_size =\n             rustrt::rust_uv_helper_uv_connect_t_size();\n@@ -1543,7 +1541,6 @@ mod test {\n         assert foreign_handle_size as uint == rust_handle_size;\n     }\n     #[test]\n-    #[ignore(cfg(target_os = \"freebsd\"))]\n     fn test_uv_ll_struct_size_uv_buf_t() {\n         let foreign_handle_size =\n             rustrt::rust_uv_helper_uv_buf_t_size();\n@@ -1554,7 +1551,6 @@ mod test {\n         assert foreign_handle_size as uint == rust_handle_size;\n     }\n     #[test]\n-    #[ignore(cfg(target_os = \"freebsd\"))]\n     fn test_uv_ll_struct_size_uv_write_t() {\n         let foreign_handle_size =\n             rustrt::rust_uv_helper_uv_write_t_size();\n@@ -1566,7 +1562,6 @@ mod test {\n     }\n \n     #[test]\n-    #[ignore(cfg(target_os = \"freebsd\"))]\n     fn test_uv_ll_struct_size_sockaddr_in() {\n         let foreign_handle_size =\n             rustrt::rust_uv_helper_sockaddr_in_size();\n@@ -1577,7 +1572,6 @@ mod test {\n         assert foreign_handle_size as uint == rust_handle_size;\n     }\n     #[test]\n-    #[ignore(cfg(target_os = \"freebsd\"))]\n     fn test_uv_ll_struct_size_sockaddr_in6() {\n         let foreign_handle_size =\n             rustrt::rust_uv_helper_sockaddr_in6_size();\n@@ -1605,7 +1599,6 @@ mod test {\n     }\n \n     #[test]\n-    #[ignore(cfg(target_os = \"freebsd\"))]\n     fn test_uv_ll_struct_size_uv_async_t() {\n         let foreign_handle_size =\n             rustrt::rust_uv_helper_uv_async_t_size();\n@@ -1617,7 +1610,6 @@ mod test {\n     }\n \n     #[test]\n-    #[ignore(cfg(target_os = \"freebsd\"))]\n     fn test_uv_ll_struct_size_uv_timer_t() {\n         let foreign_handle_size =\n             rustrt::rust_uv_helper_uv_timer_t_size();\n@@ -1629,7 +1621,6 @@ mod test {\n     }\n \n     #[test]\n-    #[ignore(cfg(target_os = \"freebsd\"))]\n     #[ignore(cfg(target_os = \"win32\"))]\n     fn test_uv_ll_struct_size_uv_getaddrinfo_t() {\n         let foreign_handle_size =\n@@ -1641,7 +1632,6 @@ mod test {\n         assert foreign_handle_size as uint == rust_handle_size;\n     }\n     #[test]\n-    #[ignore(cfg(target_os = \"freebsd\"))]\n     #[ignore(cfg(target_os = \"macos\"))]\n     #[ignore(cfg(target_os = \"win32\"))]\n     fn test_uv_ll_struct_size_addrinfo() {"}]}