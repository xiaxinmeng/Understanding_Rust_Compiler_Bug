{"sha": "d8c75cfbe7951f62296b4c9311811a0f414ab0f7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ4Yzc1Y2ZiZTc5NTFmNjIyOTZiNGM5MzExODExYTBmNDE0YWIwZjc=", "commit": {"author": {"name": "Elliott Slaughter", "email": "eslaughter@mozilla.com", "date": "2012-06-29T19:31:23Z"}, "committer": {"name": "Elliott Slaughter", "email": "eslaughter@mozilla.com", "date": "2012-07-23T20:07:35Z"}, "message": "Add debug flag to turn off landing pads.", "tree": {"sha": "37579296dcba47e8cdfbe71cb4fd3ba0305c4e3d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/37579296dcba47e8cdfbe71cb4fd3ba0305c4e3d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d8c75cfbe7951f62296b4c9311811a0f414ab0f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d8c75cfbe7951f62296b4c9311811a0f414ab0f7", "html_url": "https://github.com/rust-lang/rust/commit/d8c75cfbe7951f62296b4c9311811a0f414ab0f7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d8c75cfbe7951f62296b4c9311811a0f414ab0f7/comments", "author": null, "committer": null, "parents": [{"sha": "4ea5546c1a4421471bee1155919014f694669613", "url": "https://api.github.com/repos/rust-lang/rust/commits/4ea5546c1a4421471bee1155919014f694669613", "html_url": "https://github.com/rust-lang/rust/commit/4ea5546c1a4421471bee1155919014f694669613"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "64ae30895c411c64f14176814107ecc6275b0874", "filename": "src/rustc/driver/session.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/d8c75cfbe7951f62296b4c9311811a0f414ab0f7/src%2Frustc%2Fdriver%2Fsession.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8c75cfbe7951f62296b4c9311811a0f414ab0f7/src%2Frustc%2Fdriver%2Fsession.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fdriver%2Fsession.rs?ref=d8c75cfbe7951f62296b4c9311811a0f414ab0f7", "patch": "@@ -39,6 +39,7 @@ const coherence: uint = 512u;\n const borrowck_stats: uint = 1024u;\n const borrowck_note_pure: uint = 2048;\n const borrowck_note_loan: uint = 4096;\n+const no_landing_pads: uint = 8192;\n \n fn debugging_opts_map() -> ~[(~str, ~str, uint)] {\n     ~[(~\"ppregions\", ~\"prettyprint regions with \\\n@@ -58,7 +59,9 @@ fn debugging_opts_map() -> ~[(~str, ~str, uint)] {\n      (~\"borrowck-note-pure\", ~\"note where purity is req'd\",\n       borrowck_note_pure),\n      (~\"borrowck-note-loan\", ~\"note where loans are req'd\",\n-      borrowck_note_loan)\n+      borrowck_note_loan),\n+     (~\"no-landing-pads\", ~\"omit landing pads for unwinding\",\n+      no_landing_pads)\n     ]\n }\n "}, {"sha": "1d9080d2b19910fe4d7037ab9c58956c4e8fb4e3", "filename": "src/rustc/middle/trans/base.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d8c75cfbe7951f62296b4c9311811a0f414ab0f7/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8c75cfbe7951f62296b4c9311811a0f414ab0f7/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=d8c75cfbe7951f62296b4c9311811a0f414ab0f7", "patch": "@@ -3224,6 +3224,10 @@ fn invoke(bcx: block, llfn: ValueRef, llargs: ~[ValueRef]) -> block {\n }\n \n fn need_invoke(bcx: block) -> bool {\n+    if (bcx.ccx().sess.opts.debugging_opts & session::no_landing_pads != 0) {\n+        ret false;\n+    }\n+\n     if have_cached_lpad(bcx) {\n         ret true;\n     }"}]}