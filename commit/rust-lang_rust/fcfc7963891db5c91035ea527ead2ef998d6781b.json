{"sha": "fcfc7963891db5c91035ea527ead2ef998d6781b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZjZmM3OTYzODkxZGI1YzkxMDM1ZWE1MjdlYWQyZWY5OThkNjc4MWI=", "commit": {"author": {"name": "Saleem Jaffer", "email": "saleem@acko.com", "date": "2019-03-09T08:00:42Z"}, "committer": {"name": "Saleem Jaffer", "email": "saleem@acko.com", "date": "2019-03-09T08:00:42Z"}, "message": "fixes rust-lang#56766", "tree": {"sha": "3c12341a847a1b64894aa64f249f88b30a75fd43", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3c12341a847a1b64894aa64f249f88b30a75fd43"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fcfc7963891db5c91035ea527ead2ef998d6781b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fcfc7963891db5c91035ea527ead2ef998d6781b", "html_url": "https://github.com/rust-lang/rust/commit/fcfc7963891db5c91035ea527ead2ef998d6781b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fcfc7963891db5c91035ea527ead2ef998d6781b/comments", "author": null, "committer": null, "parents": [{"sha": "88f755f8a84df1d9e6b17cf10c96ae8b93481b2e", "url": "https://api.github.com/repos/rust-lang/rust/commits/88f755f8a84df1d9e6b17cf10c96ae8b93481b2e", "html_url": "https://github.com/rust-lang/rust/commit/88f755f8a84df1d9e6b17cf10c96ae8b93481b2e"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "5789d2d09200d1939cf8afaeb08207990c12e366", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/fcfc7963891db5c91035ea527ead2ef998d6781b/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fcfc7963891db5c91035ea527ead2ef998d6781b/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=fcfc7963891db5c91035ea527ead2ef998d6781b", "patch": "@@ -6630,6 +6630,22 @@ impl<'a> Parser<'a> {\n             self.expect(&token::OpenDelim(token::Brace))?;\n             let mut trait_items = vec![];\n             while !self.eat(&token::CloseDelim(token::Brace)) {\n+                if let token::DocComment(_) = self.token {\n+                    if self.look_ahead(1,\n+                    |tok| tok == &token::Token::CloseDelim(token::Brace)) {\n+                        let mut err = self.diagnostic().struct_span_err_with_code(\n+                            self.span,\n+                            \"found a documentation comment that doesn't document anything\",\n+                            DiagnosticId::Error(\"E0584\".into()),\n+                        );\n+                        err.help(\"doc comments must come before what they document, maybe a \\\n+                            comment was intended with `//`?\",\n+                        );\n+                        err.emit();\n+                        self.bump();\n+                        continue;\n+                    }\n+                }\n                 let mut at_end = false;\n                 match self.parse_trait_item(&mut at_end) {\n                     Ok(item) => trait_items.push(item),"}]}