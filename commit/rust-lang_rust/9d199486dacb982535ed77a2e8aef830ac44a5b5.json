{"sha": "9d199486dacb982535ed77a2e8aef830ac44a5b5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlkMTk5NDg2ZGFjYjk4MjUzNWVkNzdhMmU4YWVmODMwYWM0NGE1YjU=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-04-29T00:28:27Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-04-29T00:28:27Z"}, "message": "Merge #8684\n\n8684: Correctly parse negated literals as const args r=jonas-schievink a=jonas-schievink\n\nPreviously we didn't accept `S::<-0>;`\r\n\r\nbors r+\n\nCo-authored-by: Jonas Schievink <jonasschievink@gmail.com>", "tree": {"sha": "a86dcceb9494cd243a2e1f6c10edd1c7be1f8fb5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a86dcceb9494cd243a2e1f6c10edd1c7be1f8fb5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9d199486dacb982535ed77a2e8aef830ac44a5b5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgif2rCRBK7hj4Ov3rIwAAvYAIALGKe/0PFWgBE6a/zmLdDDux\ng/OgIMdhDsiNDihhvKMjWCEuo3cCiQCL6OJtrAsRrSroi38pN3z+EEkK1SI4r1T8\nG9excRhP+NbPGLq3r3iP78tJfydt9fvbShxjEYcaZXSd0TiJcXOc8+YGGY0k5E/4\n/EJdoXlYWmpr3SWf5IKhWKIMQjhq312Th7Hdiue34+CWA1gOu2mxKyzLrmSXpYhv\n1rgA+CTkQIG9NnoXmbYir/Z1AzoIx7xEUDzpuFcbDhyRwmEkZbAokTP3aYmkUmzi\nrzUI82BXA0HKZLVrVLgCuNCmzVYZK60u32wmlQ1JYVjf2tuErqxY9EqIcVgVTBM=\n=/JVj\n-----END PGP SIGNATURE-----\n", "payload": "tree a86dcceb9494cd243a2e1f6c10edd1c7be1f8fb5\nparent 49b219b1035e20143818d409404b5e6f19a7ad1d\nparent caee3a2eebd514f5a2f5e68a9fcd4428fa34d41c\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1619656107 +0000\ncommitter GitHub <noreply@github.com> 1619656107 +0000\n\nMerge #8684\n\n8684: Correctly parse negated literals as const args r=jonas-schievink a=jonas-schievink\n\nPreviously we didn't accept `S::<-0>;`\r\n\r\nbors r+\n\nCo-authored-by: Jonas Schievink <jonasschievink@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9d199486dacb982535ed77a2e8aef830ac44a5b5", "html_url": "https://github.com/rust-lang/rust/commit/9d199486dacb982535ed77a2e8aef830ac44a5b5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9d199486dacb982535ed77a2e8aef830ac44a5b5/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "49b219b1035e20143818d409404b5e6f19a7ad1d", "url": "https://api.github.com/repos/rust-lang/rust/commits/49b219b1035e20143818d409404b5e6f19a7ad1d", "html_url": "https://github.com/rust-lang/rust/commit/49b219b1035e20143818d409404b5e6f19a7ad1d"}, {"sha": "caee3a2eebd514f5a2f5e68a9fcd4428fa34d41c", "url": "https://api.github.com/repos/rust-lang/rust/commits/caee3a2eebd514f5a2f5e68a9fcd4428fa34d41c", "html_url": "https://github.com/rust-lang/rust/commit/caee3a2eebd514f5a2f5e68a9fcd4428fa34d41c"}], "stats": {"total": 40, "additions": 40, "deletions": 0}, "files": [{"sha": "56266b8d479821ce93668bb94f6c1de9597851fd", "filename": "crates/parser/src/grammar/type_args.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/9d199486dacb982535ed77a2e8aef830ac44a5b5/crates%2Fparser%2Fsrc%2Fgrammar%2Ftype_args.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d199486dacb982535ed77a2e8aef830ac44a5b5/crates%2Fparser%2Fsrc%2Fgrammar%2Ftype_args.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Fsrc%2Fgrammar%2Ftype_args.rs?ref=9d199486dacb982535ed77a2e8aef830ac44a5b5", "patch": "@@ -59,6 +59,15 @@ fn generic_arg(p: &mut Parser) {\n             expressions::literal(p);\n             m.complete(p, CONST_ARG);\n         }\n+        // test const_generic_negated_literal\n+        // fn f() { S::<-1> }\n+        T![-] => {\n+            let lm = p.start();\n+            p.bump(T![-]);\n+            expressions::literal(p);\n+            lm.complete(p, PREFIX_EXPR);\n+            m.complete(p, CONST_ARG);\n+        }\n         _ => {\n             types::type_(p);\n             m.complete(p, TYPE_ARG);"}, {"sha": "b20e523dc1b503a9e58702ee8c5bb5dde774a9ab", "filename": "crates/syntax/test_data/parser/inline/ok/0164_const_generic_negated_literal.rast", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/9d199486dacb982535ed77a2e8aef830ac44a5b5/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0164_const_generic_negated_literal.rast", "raw_url": "https://github.com/rust-lang/rust/raw/9d199486dacb982535ed77a2e8aef830ac44a5b5/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0164_const_generic_negated_literal.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0164_const_generic_negated_literal.rast?ref=9d199486dacb982535ed77a2e8aef830ac44a5b5", "patch": "@@ -0,0 +1,30 @@\n+SOURCE_FILE@0..19\n+  FN@0..18\n+    FN_KW@0..2 \"fn\"\n+    WHITESPACE@2..3 \" \"\n+    NAME@3..4\n+      IDENT@3..4 \"f\"\n+    PARAM_LIST@4..6\n+      L_PAREN@4..5 \"(\"\n+      R_PAREN@5..6 \")\"\n+    WHITESPACE@6..7 \" \"\n+    BLOCK_EXPR@7..18\n+      L_CURLY@7..8 \"{\"\n+      WHITESPACE@8..9 \" \"\n+      PATH_EXPR@9..16\n+        PATH@9..16\n+          PATH_SEGMENT@9..16\n+            NAME_REF@9..10\n+              IDENT@9..10 \"S\"\n+            GENERIC_ARG_LIST@10..16\n+              COLON2@10..12 \"::\"\n+              L_ANGLE@12..13 \"<\"\n+              CONST_ARG@13..15\n+                PREFIX_EXPR@13..15\n+                  MINUS@13..14 \"-\"\n+                  LITERAL@14..15\n+                    INT_NUMBER@14..15 \"1\"\n+              R_ANGLE@15..16 \">\"\n+      WHITESPACE@16..17 \" \"\n+      R_CURLY@17..18 \"}\"\n+  WHITESPACE@18..19 \"\\n\""}, {"sha": "8a81d05cd94d1c6eea9ea4e6af223370777d5c77", "filename": "crates/syntax/test_data/parser/inline/ok/0164_const_generic_negated_literal.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9d199486dacb982535ed77a2e8aef830ac44a5b5/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0164_const_generic_negated_literal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d199486dacb982535ed77a2e8aef830ac44a5b5/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0164_const_generic_negated_literal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0164_const_generic_negated_literal.rs?ref=9d199486dacb982535ed77a2e8aef830ac44a5b5", "patch": "@@ -0,0 +1 @@\n+fn f() { S::<-1> }"}]}