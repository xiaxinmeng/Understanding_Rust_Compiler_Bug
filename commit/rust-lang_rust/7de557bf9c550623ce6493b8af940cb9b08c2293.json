{"sha": "7de557bf9c550623ce6493b8af940cb9b08c2293", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdkZTU1N2JmOWM1NTA2MjNjZTY0OTNiOGFmOTQwY2I5YjA4YzIyOTM=", "commit": {"author": {"name": "Cassandra Fridkin", "email": "cass@swag.lgbt", "date": "2020-10-05T22:57:48Z"}, "committer": {"name": "Cassandra Fridkin", "email": "cass@swag.lgbt", "date": "2020-10-05T22:57:48Z"}, "message": "Move script to src/etc", "tree": {"sha": "366367c857bd91f08ceff722953b6770996cc267", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/366367c857bd91f08ceff722953b6770996cc267"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7de557bf9c550623ce6493b8af940cb9b08c2293", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEdn8arGOPUN7UUjx9sGOAzKYTMzoFAl97pPUACgkQsGOAzKYT\nMzrYrxAAiri3+5yujyrwulHr/adVzLyfZ1mUrp1ESOjPdgUVQr5zaezA4G3wtZya\ndByN16t3JbLt4IzFIskMHbXX1P1RBLQsCdzVU/D89DQyiilQFqJG2wjcrWc4t0rW\nJxPsHM/lXlZ7Z1EYNU+jqDY9imdgC9BoD99rVKY6a/0jRI+mcszHGI8i1ZLVJM8D\nlzLC9aacN72pEMVt8ZHE1KA9QHkNHE3gMuzr41WGRdHAk40+C2fTagKWb8aIBLTY\nsR1k7wMBrbx9uQbsIaCMam3K+aie/D79M4VUhrlJPJ2542mDpu754SlOFqkPBUqo\nd5vQAEcSG/Zmvl8Uy7pzhw6wGcAIVubwqf/2BN+LyUHnaZsvUetEDZXgPNrwpPfF\nkFaDoZd9SUWp/Yof7kT/2ksINbNOVJuLxJYKs+Ln8nsRMhrFOjLSRRhhwUhNJEOI\nc9rF9HiiaTVkzSloSfr8pvmddOBQf9ghevjhxuoMuDLcyB1wmXYL5muKpXQLW7XW\nwaHr6OBPbzDn3hznJQnuXzKzNa2/uH59Gegqi+BfUZGwg1ZE5cBnXbvHLeqbZcLM\nibqF+jJkJK58fAlch3bGJQegJvqNY8Iya+JVuYqoWN1he9DJrdKjcWSTLxAtAu8H\nsLf5hHQt6QL/Upbuwk/P8u5TTmBQxg9W+WAmpYIIDSsTLWHefSA=\n=Ug34\n-----END PGP SIGNATURE-----", "payload": "tree 366367c857bd91f08ceff722953b6770996cc267\nparent 44af74f6ddf9102b358f271b371697c4b4e6dd2f\nauthor Cassandra Fridkin <cass@swag.lgbt> 1601938668 -0400\ncommitter Cassandra Fridkin <cass@swag.lgbt> 1601938668 -0400\n\nMove script to src/etc\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7de557bf9c550623ce6493b8af940cb9b08c2293", "html_url": "https://github.com/rust-lang/rust/commit/7de557bf9c550623ce6493b8af940cb9b08c2293", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7de557bf9c550623ce6493b8af940cb9b08c2293/comments", "author": {"login": "caass", "id": 25358963, "node_id": "MDQ6VXNlcjI1MzU4OTYz", "avatar_url": "https://avatars.githubusercontent.com/u/25358963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caass", "html_url": "https://github.com/caass", "followers_url": "https://api.github.com/users/caass/followers", "following_url": "https://api.github.com/users/caass/following{/other_user}", "gists_url": "https://api.github.com/users/caass/gists{/gist_id}", "starred_url": "https://api.github.com/users/caass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caass/subscriptions", "organizations_url": "https://api.github.com/users/caass/orgs", "repos_url": "https://api.github.com/users/caass/repos", "events_url": "https://api.github.com/users/caass/events{/privacy}", "received_events_url": "https://api.github.com/users/caass/received_events", "type": "User", "site_admin": false}, "committer": {"login": "caass", "id": 25358963, "node_id": "MDQ6VXNlcjI1MzU4OTYz", "avatar_url": "https://avatars.githubusercontent.com/u/25358963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caass", "html_url": "https://github.com/caass", "followers_url": "https://api.github.com/users/caass/followers", "following_url": "https://api.github.com/users/caass/following{/other_user}", "gists_url": "https://api.github.com/users/caass/gists{/gist_id}", "starred_url": "https://api.github.com/users/caass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caass/subscriptions", "organizations_url": "https://api.github.com/users/caass/orgs", "repos_url": "https://api.github.com/users/caass/repos", "events_url": "https://api.github.com/users/caass/events{/privacy}", "received_events_url": "https://api.github.com/users/caass/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "44af74f6ddf9102b358f271b371697c4b4e6dd2f", "url": "https://api.github.com/repos/rust-lang/rust/commits/44af74f6ddf9102b358f271b371697c4b4e6dd2f", "html_url": "https://github.com/rust-lang/rust/commit/44af74f6ddf9102b358f271b371697c4b4e6dd2f"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "32af70ec8d40e400772e2dbb8a493a3e4342b5de", "filename": "src/etc/pre-commit.sh", "status": "renamed", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/7de557bf9c550623ce6493b8af940cb9b08c2293/src%2Fetc%2Fpre-commit.sh", "raw_url": "https://github.com/rust-lang/rust/raw/7de557bf9c550623ce6493b8af940cb9b08c2293/src%2Fetc%2Fpre-commit.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fpre-commit.sh?ref=7de557bf9c550623ce6493b8af940cb9b08c2293", "patch": "@@ -1,12 +1,16 @@\n-#!/bin/sh\n+#!/bin/env bash\n #\n # Call `tidy --bless` before each commit\n+# Copy this scripts to .git/hooks to activate,\n+# and remove it from .git/hooks to deactivate.\n #\n-# To enable this hook, run `./x.py run install-git-hook`.\n-# To disable it, run `./x.py run install-git-hook --remove`\n+# For help running bash scripts on Windows,\n+# see https://stackoverflow.com/a/6413405/6894799\n+#\n+\n set -Eeuo pipefail\n \n-ROOT_DIR=$(git rev-parse --show-toplevel);\n+ROOT_DIR=\"$(git rev-parse --show-toplevel)\";\n COMMAND=\"$ROOT_DIR/x.py test tidy --bless\";\n \n if [[ \"$OSTYPE\" == \"msys\" || \"$OSTYPE\" == \"win32\" ]]; then", "previous_filename": "src/tools/install-git-hook/src/pre-commit.sh"}]}