{"sha": "f1fa84ce95db0cf9d06f2aa8b70764e7394291b1", "node_id": "C_kwDOAAsO6NoAKGYxZmE4NGNlOTVkYjBjZjlkMDZmMmFhOGI3MDc2NGU3Mzk0MjkxYjE", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-03-26T19:53:49Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-03-26T19:58:39Z"}, "message": "Add test for proc_macro Literal string and character constructors", "tree": {"sha": "0edb264b1c419100aa95acea75813ef6a44b83df", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0edb264b1c419100aa95acea75813ef6a44b83df"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f1fa84ce95db0cf9d06f2aa8b70764e7394291b1", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmI/cG8ACgkQ+boUO5X/\nbYLNQg//dWWFSjbyuCDaYrSrIjJKybBDQXVX8j4OHlUNGci5qFTQdUoOEt3nRxeW\n6/uGET3jkiGMQusW33KS6pOEv9QksxBiT3E3y7saVm1DeuujekwO0xjJM0E3CpZS\nATv+pvc0wum3WlvMUmwkQ8bKlXvnssC/mI4Tg33BZLeU5m8+hkTBxj53DZPfHcBl\nWtF7/x0rP4TgfYhzgGs8Pqg554tblft4UmTQpkeFLaykHV7NpDAKsvsg1/fqs7X4\nBTgTNFsHJHql9zWVN1LMNb/saESH3oSu772EmPfmSWqDWo/2xDGOoM4Bk9hjNCEI\n0TCnACW591LqJaR/6TmMW5g25AtJmWK5XcdPTS9a/Al/ai8kTF3q2pOUyC95wwA2\nTFjbYfL8i456ieGIjDJbHObBHgP9l1WRzi0UzSB0LHLzNnzRVONyOq9tdC8bekMP\nX5epjrieMbd19uPLne3of3CunjzBXkoMAx2e1dQTWOFhszNcP65XxYTbci6PxMYf\n7kOAS91tFZmffKPpjMJrUz8dG23104mD+dsd3C9uYPOkuj/ZL/UFLU8UTQyI/dvy\n//Cl2vpjqusSOJiPgHhy+f37Pxuaj6XqF6ll5fkLi/OgKWcVXhpE2am+iXW8bC/y\nhk40f7gRVPNKU3LEVLKEYyG1G7v1CScwMYRaC68OEcPeF/DE05E=\n=sEHk\n-----END PGP SIGNATURE-----", "payload": "tree 0edb264b1c419100aa95acea75813ef6a44b83df\nparent 1fca19c8ca4ae5e71e8b17a82c3acfeb78c48891\nauthor David Tolnay <dtolnay@gmail.com> 1648324429 -0700\ncommitter David Tolnay <dtolnay@gmail.com> 1648324719 -0700\n\nAdd test for proc_macro Literal string and character constructors\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f1fa84ce95db0cf9d06f2aa8b70764e7394291b1", "html_url": "https://github.com/rust-lang/rust/commit/f1fa84ce95db0cf9d06f2aa8b70764e7394291b1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f1fa84ce95db0cf9d06f2aa8b70764e7394291b1/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1fca19c8ca4ae5e71e8b17a82c3acfeb78c48891", "url": "https://api.github.com/repos/rust-lang/rust/commits/1fca19c8ca4ae5e71e8b17a82c3acfeb78c48891", "html_url": "https://github.com/rust-lang/rust/commit/1fca19c8ca4ae5e71e8b17a82c3acfeb78c48891"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "e6b6be132a9d8665c70ddc1f9e589acbf4f8f880", "filename": "src/test/ui/proc-macro/auxiliary/api/parse.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/f1fa84ce95db0cf9d06f2aa8b70764e7394291b1/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fapi%2Fparse.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1fa84ce95db0cf9d06f2aa8b70764e7394291b1/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fapi%2Fparse.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fapi%2Fparse.rs?ref=f1fa84ce95db0cf9d06f2aa8b70764e7394291b1", "patch": "@@ -18,6 +18,17 @@ fn test_display_literal() {\n         Literal::f64_unsuffixed(1e100).to_string(),\n         \"10000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.0\",\n     );\n+\n+    assert_eq!(\n+        Literal::string(\"a \\t \u2764 ' \\\" \\u{1}\").to_string(),\n+        \"\\\"a \\\\t \u2764 \\\\' \\\\\\\" \\\\u{1}\\\"\",\n+    );\n+    assert_eq!(Literal::character('a').to_string(), \"'\\\\u{61}'\");\n+    assert_eq!(Literal::character('\\t').to_string(), \"'\\\\u{9}'\");\n+    assert_eq!(Literal::character('\u2764').to_string(), \"'\\\\u{2764}'\");\n+    assert_eq!(Literal::character('\\'').to_string(), \"'\\\\u{27}'\");\n+    assert_eq!(Literal::character('\"').to_string(), \"'\\\\u{22}'\");\n+    assert_eq!(Literal::character('\\u{1}').to_string(), \"'\\\\u{1}'\");\n }\n \n fn test_parse_literal() {"}]}