{"sha": "329310fbd63c564df6dd76f40181668861a7ed16", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMyOTMxMGZiZDYzYzU2NGRmNmRkNzZmNDAxODE2Njg4NjFhN2VkMTY=", "commit": {"author": {"name": "Christian Poveda", "email": "git@christianpoveda.xyz", "date": "2020-01-07T16:09:07Z"}, "committer": {"name": "Christian Poveda", "email": "git@christianpoveda.xyz", "date": "2020-01-07T16:09:07Z"}, "message": "Clean paths for robustness", "tree": {"sha": "d1323a681a71594ebc06066afe536aa181cde43e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d1323a681a71594ebc06066afe536aa181cde43e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/329310fbd63c564df6dd76f40181668861a7ed16", "comment_count": 0, "verification": {"verified": false, "reason": "bad_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niI4EABYIADYWIQRsB8A/3NrzTlMMjT0nUl7150IKUAUCXhStIxgcZ2l0QGNocmlz\ndGlhbnBvdmVkYS54eXoACgkQJ1Je9edCClC7TQEAixLxQdtmOiJu7uumUEjqjDXg\n+5+jm/bojbBv0W1jSLIBAMF5vBD9yCFjp1S9XAiDyN6vrw/8wDCBjmK2fUkySb4O\n=qDgf\n-----END PGP SIGNATURE-----", "payload": "tree d1323a681a71594ebc06066afe536aa181cde43e\nparent 4a1dbc77dc9f64aebd0b16927bb71f3178376d30\nauthor Christian Poveda <git@christianpoveda.xyz> 1578413347 -0500\ncommitter Christian Poveda <git@christianpoveda.xyz> 1578413347 -0500\n\nClean paths for robustness\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/329310fbd63c564df6dd76f40181668861a7ed16", "html_url": "https://github.com/rust-lang/rust/commit/329310fbd63c564df6dd76f40181668861a7ed16", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/329310fbd63c564df6dd76f40181668861a7ed16/comments", "author": {"login": "pvdrz", "id": 31802960, "node_id": "MDQ6VXNlcjMxODAyOTYw", "avatar_url": "https://avatars.githubusercontent.com/u/31802960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvdrz", "html_url": "https://github.com/pvdrz", "followers_url": "https://api.github.com/users/pvdrz/followers", "following_url": "https://api.github.com/users/pvdrz/following{/other_user}", "gists_url": "https://api.github.com/users/pvdrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvdrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvdrz/subscriptions", "organizations_url": "https://api.github.com/users/pvdrz/orgs", "repos_url": "https://api.github.com/users/pvdrz/repos", "events_url": "https://api.github.com/users/pvdrz/events{/privacy}", "received_events_url": "https://api.github.com/users/pvdrz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pvdrz", "id": 31802960, "node_id": "MDQ6VXNlcjMxODAyOTYw", "avatar_url": "https://avatars.githubusercontent.com/u/31802960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvdrz", "html_url": "https://github.com/pvdrz", "followers_url": "https://api.github.com/users/pvdrz/followers", "following_url": "https://api.github.com/users/pvdrz/following{/other_user}", "gists_url": "https://api.github.com/users/pvdrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvdrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvdrz/subscriptions", "organizations_url": "https://api.github.com/users/pvdrz/orgs", "repos_url": "https://api.github.com/users/pvdrz/repos", "events_url": "https://api.github.com/users/pvdrz/events{/privacy}", "received_events_url": "https://api.github.com/users/pvdrz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4a1dbc77dc9f64aebd0b16927bb71f3178376d30", "url": "https://api.github.com/repos/rust-lang/rust/commits/4a1dbc77dc9f64aebd0b16927bb71f3178376d30", "html_url": "https://github.com/rust-lang/rust/commit/4a1dbc77dc9f64aebd0b16927bb71f3178376d30"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "90b5dcfb5fa61b5d4098fc486250f3eea7383f10", "filename": "tests/run-pass/fs.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/329310fbd63c564df6dd76f40181668861a7ed16/tests%2Frun-pass%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/329310fbd63c564df6dd76f40181668861a7ed16/tests%2Frun-pass%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Ffs.rs?ref=329310fbd63c564df6dd76f40181668861a7ed16", "patch": "@@ -19,7 +19,11 @@ fn main() {\n     let tmp = std::env::temp_dir();\n     let filename = PathBuf::from(\"miri_test_fs.txt\");\n     let path = tmp.join(&filename);\n+    let symlink_path = tmp.join(\"miri_test_fs_symlink.txt\");\n     let bytes = b\"Hello, World!\\n\";\n+    // Clean the paths for robustness.\n+    remove_file(&path).unwrap_or(());\n+    remove_file(&symlink_path).unwrap_or(());\n \n     // Test creating, writing and closing a file (closing is tested when `file` is dropped).\n     let mut file = File::create(&path).unwrap();\n@@ -42,8 +46,7 @@ fn main() {\n     std::env::set_current_dir(&tmp).unwrap();\n     test_metadata(bytes, &filename).unwrap();\n \n-    // Creating a symbolic link should succeed\n-    let symlink_path = tmp.join(\"miri_test_fs_symlink.txt\");\n+    // Creating a symbolic link should succeed.\n     std::os::unix::fs::symlink(&path, &symlink_path).unwrap();\n     // Test that the symbolic link has the same contents as the file.\n     let mut symlink_file = File::open(&symlink_path).unwrap();"}]}