{"sha": "8d24facccbccd893176c38e7fc8460a22f860774", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhkMjRmYWNjY2JjY2Q4OTMxNzZjMzhlN2ZjODQ2MGEyMmY4NjA3NzQ=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-08-11T07:24:03Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2019-08-11T07:24:03Z"}, "message": "docs: Explain how to update the changelog", "tree": {"sha": "ae7bd5e3719e72f97864f4e821836191050d2d75", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ae7bd5e3719e72f97864f4e821836191050d2d75"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8d24facccbccd893176c38e7fc8460a22f860774", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJEBAABCgAuFiEEj4U0bmbiMSg/mWqvgqphyqETl+YFAl1PwrUQHGRldkBwaGFu\nc2NoLm5ldAAKCRCCqmHKoROX5iMMD/9XAomVWgcks3Wo/NkeA/g6zp1lcXDnCvIK\nIsuQ0yphPkDoqnYYk2usQCWKoUaGhz+CCT0vXm5mvgrwWgIsOTAoqq3eZbdne3G+\ngKqLFMRq1FmnVxh7BtMj2NJFaxYP+CDAc793C59eqdr/xXIYnUUqz2hTw37lC13h\n3a1uSGhOsEgDGWEq6sPTaF8oDM2rbx2HaQmnMVE/9ah8xcUfNnpvZ4S4SXuoqxwO\n4Ppp9WWvwei2gX4NwUCIDCN63DDkPK7m7kykChXawocBzOSlret0+wUBr1gl7J/t\n0ugu690QkzJfwWc53sKhLmIv3e+fD6F16SATVwQX/r/Bo4hrw6YPEdF/vLUR3cgg\nZFI9VK4zD/sxoGfcoBmFi0zcrBiCmhb2h4TnNjhFEdj4ohhb6yDKj1WNodZ5qd7N\nTZbAxUTmqh7ZLB0TXymw+RPtows5COgmVBCTIRmUI766vLh4yXqkJ/d/tUEqSIPy\nZzOJZYXEnB54HDO99F1VZsLXiRpJvvrf4Wo8+Vew0ors8hXipvepbN0URHkITl8y\nbNbqSSZLlSOlMBer1lYoTcIYqt8LpJrRu4VxI9qWzImSNOBQbZJx+ucFJtNEvdB7\nDlrcDvZCoe+8vJiViijlKaa+xYjMKdkE46SR464zek3lE36cR9RtTeEtTKH5/nNt\n7Cdlree0Aw==\n=awt4\n-----END PGP SIGNATURE-----", "payload": "tree ae7bd5e3719e72f97864f4e821836191050d2d75\nparent ea26a95fc9aa4fc00aa590d68b665339d79a6884\nauthor Philipp Hansch <dev@phansch.net> 1565508243 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1565508243 +0200\n\ndocs: Explain how to update the changelog\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8d24facccbccd893176c38e7fc8460a22f860774", "html_url": "https://github.com/rust-lang/rust/commit/8d24facccbccd893176c38e7fc8460a22f860774", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8d24facccbccd893176c38e7fc8460a22f860774/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ea26a95fc9aa4fc00aa590d68b665339d79a6884", "url": "https://api.github.com/repos/rust-lang/rust/commits/ea26a95fc9aa4fc00aa590d68b665339d79a6884", "html_url": "https://github.com/rust-lang/rust/commit/ea26a95fc9aa4fc00aa590d68b665339d79a6884"}], "stats": {"total": 61, "additions": 61, "deletions": 0}, "files": [{"sha": "ec8e8929bfd87561466ea9b17a4c59889fc496b9", "filename": "CHANGELOG.md", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8d24facccbccd893176c38e7fc8460a22f860774/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/8d24facccbccd893176c38e7fc8460a22f860774/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=8d24facccbccd893176c38e7fc8460a22f860774", "patch": "@@ -1,6 +1,8 @@\n # Change Log\n \n All notable changes to this project will be documented in this file.\n+See [Changelog Update](doc/changelog_update.md) if you want to update this\n+document.\n \n ## Unreleased / In Rust Beta or Nightly\n "}, {"sha": "b54143e23574f7de24866000a906106507a308b8", "filename": "doc/changelog_update.md", "status": "added", "additions": 59, "deletions": 0, "changes": 59, "blob_url": "https://github.com/rust-lang/rust/blob/8d24facccbccd893176c38e7fc8460a22f860774/doc%2Fchangelog_update.md", "raw_url": "https://github.com/rust-lang/rust/raw/8d24facccbccd893176c38e7fc8460a22f860774/doc%2Fchangelog_update.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Fchangelog_update.md?ref=8d24facccbccd893176c38e7fc8460a22f860774", "patch": "@@ -0,0 +1,59 @@\n+# Changelog Update\n+\n+If you want to help with updating the [changelog][changelog], you're in the right place.\n+\n+## When to update\n+\n+The changelog is ideally updated during the week before an upcoming stable\n+release. Typos and other small fixes/additions are always welcome. You can find\n+the release dates on the [Rust Forge][forge].\n+\n+Most of the time we only need to update the changelog for minor Rust releases. It's\n+been very rare that Clippy changes were included in a patch release.\n+\n+## How to update\n+\n+### 1. Finding the relevant Clippy commits\n+\n+Each Rust release ships with its own version of Clippy. The Clippy submodule can\n+be found in the [tools][tools] directory of the Rust repository.\n+\n+To find the Clippy commit hash for a specific Rust release you select the Rust\n+release tag from the dropdown and then check the commit of the Clippy directory:\n+\n+TODO: Include screenshot\n+\n+### 2. Fetching the PRs between those commits\n+\n+You'll want to run `util/fetch_prs_between.sh commit1 commit2 > changes.txt`\n+and open that file in your editor of choice.\n+\n+* `commit1` is the Clippy commit hash of the previous stable release\n+* `commit2` is the Clippy commit hash of the release you want to write the changelog for.\n+\n+When updating the changelog it's also a good idea to make sure that `commit1` is\n+already correct in the current changelog.\n+\n+### 3. Authoring the final changelog\n+\n+The above script should have dumped all the relevant PRs to the file you\n+specified. It should have filtered out most of the irrelevant PRs\n+already, but it's a good idea to do a manual cleanup pass where you look for\n+more irrelevant PRs. If you're not sure about some PRs, just leave them in for\n+the review and ask for feedback.\n+\n+With PRs filtered, you can start to take each PR and move the\n+`changelog: ` content to `CHANGELOG.md`. Adapt the wording as you see fit but\n+try to keep it somewhat coherent.\n+\n+The order should roughly be:\n+\n+1. New lints\n+2. Changes that expand what code existing lints cover\n+3. ICE fixes\n+4. False positive fixes\n+5. Suggestion fixes/improvements\n+\n+[changelog]: https://github.com/rust-lang/rust-clippy/blob/master/CHANGELOG.md\n+[forge]: https://forge.rust-lang.org/\n+[tools]: https://github.com/rust-lang/rust/tree/master/src/tools"}]}