{"sha": "20c3b20db3354729df606f3b5a1ddd474ca7c78c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIwYzNiMjBkYjMzNTQ3MjlkZjYwNmYzYjVhMWRkZDQ3NGNhN2M3OGM=", "commit": {"author": {"name": "Yoshua Wuyts", "email": "yoshuawuyts@gmail.com", "date": "2021-08-10T17:48:32Z"}, "committer": {"name": "Yoshua Wuyts", "email": "yoshuawuyts@gmail.com", "date": "2021-08-10T17:48:32Z"}, "message": "add make::expr_op", "tree": {"sha": "2091650cdd71c58ed691e9848be85c5f14c06ef2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2091650cdd71c58ed691e9848be85c5f14c06ef2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/20c3b20db3354729df606f3b5a1ddd474ca7c78c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/20c3b20db3354729df606f3b5a1ddd474ca7c78c", "html_url": "https://github.com/rust-lang/rust/commit/20c3b20db3354729df606f3b5a1ddd474ca7c78c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/20c3b20db3354729df606f3b5a1ddd474ca7c78c/comments", "author": {"login": "yoshuawuyts", "id": 2467194, "node_id": "MDQ6VXNlcjI0NjcxOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2467194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoshuawuyts", "html_url": "https://github.com/yoshuawuyts", "followers_url": "https://api.github.com/users/yoshuawuyts/followers", "following_url": "https://api.github.com/users/yoshuawuyts/following{/other_user}", "gists_url": "https://api.github.com/users/yoshuawuyts/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoshuawuyts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoshuawuyts/subscriptions", "organizations_url": "https://api.github.com/users/yoshuawuyts/orgs", "repos_url": "https://api.github.com/users/yoshuawuyts/repos", "events_url": "https://api.github.com/users/yoshuawuyts/events{/privacy}", "received_events_url": "https://api.github.com/users/yoshuawuyts/received_events", "type": "User", "site_admin": false}, "committer": {"login": "yoshuawuyts", "id": 2467194, "node_id": "MDQ6VXNlcjI0NjcxOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2467194?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yoshuawuyts", "html_url": "https://github.com/yoshuawuyts", "followers_url": "https://api.github.com/users/yoshuawuyts/followers", "following_url": "https://api.github.com/users/yoshuawuyts/following{/other_user}", "gists_url": "https://api.github.com/users/yoshuawuyts/gists{/gist_id}", "starred_url": "https://api.github.com/users/yoshuawuyts/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yoshuawuyts/subscriptions", "organizations_url": "https://api.github.com/users/yoshuawuyts/orgs", "repos_url": "https://api.github.com/users/yoshuawuyts/repos", "events_url": "https://api.github.com/users/yoshuawuyts/events{/privacy}", "received_events_url": "https://api.github.com/users/yoshuawuyts/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c9430570387618680093f89736ca540bd001adc6", "url": "https://api.github.com/repos/rust-lang/rust/commits/c9430570387618680093f89736ca540bd001adc6", "html_url": "https://github.com/rust-lang/rust/commit/c9430570387618680093f89736ca540bd001adc6"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "b615037b7e391b85ec530e94b6c43b627866f279", "filename": "crates/syntax/src/ast/expr_ext.rs", "status": "modified", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/20c3b20db3354729df606f3b5a1ddd474ca7c78c/crates%2Fsyntax%2Fsrc%2Fast%2Fexpr_ext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20c3b20db3354729df606f3b5a1ddd474ca7c78c/crates%2Fsyntax%2Fsrc%2Fast%2Fexpr_ext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Fsrc%2Fast%2Fexpr_ext.rs?ref=20c3b20db3354729df606f3b5a1ddd474ca7c78c", "patch": "@@ -350,6 +350,42 @@ impl ast::BinExpr {\n     }\n }\n \n+impl std::fmt::Display for BinOp {\n+    fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {\n+        match self {\n+            BinOp::BooleanOr => write!(f, \"||\"),\n+            BinOp::BooleanAnd => write!(f, \"&&\"),\n+            BinOp::EqualityTest => write!(f, \"==\"),\n+            BinOp::NegatedEqualityTest => write!(f, \"!=\"),\n+            BinOp::LesserEqualTest => write!(f, \"<=\"),\n+            BinOp::GreaterEqualTest => write!(f, \">=\"),\n+            BinOp::LesserTest => write!(f, \"<\"),\n+            BinOp::GreaterTest => write!(f, \">\"),\n+            BinOp::Addition => write!(f, \"+\"),\n+            BinOp::Multiplication => write!(f, \"*\"),\n+            BinOp::Subtraction => write!(f, \"-\"),\n+            BinOp::Division => write!(f, \"/\"),\n+            BinOp::Remainder => write!(f, \"%\"),\n+            BinOp::LeftShift => write!(f, \"<<\"),\n+            BinOp::RightShift => write!(f, \">>\"),\n+            BinOp::BitwiseXor => write!(f, \"^\"),\n+            BinOp::BitwiseOr => write!(f, \"|\"),\n+            BinOp::BitwiseAnd => write!(f, \"&\"),\n+            BinOp::Assignment => write!(f, \"=\"),\n+            BinOp::AddAssign => write!(f, \"+=\"),\n+            BinOp::DivAssign => write!(f, \"/=\"),\n+            BinOp::MulAssign => write!(f, \"*=\"),\n+            BinOp::RemAssign => write!(f, \"%=\"),\n+            BinOp::ShrAssign => write!(f, \">>=\"),\n+            BinOp::ShlAssign => write!(f, \"<<=\"),\n+            BinOp::SubAssign => write!(f, \"-\"),\n+            BinOp::BitOrAssign => write!(f, \"|=\"),\n+            BinOp::BitAndAssign => write!(f, \"&=\"),\n+            BinOp::BitXorAssign => write!(f, \"^=\"),\n+        }\n+    }\n+}\n+\n #[derive(Copy, Clone, Debug, PartialEq, Eq, Hash)]\n pub enum RangeOp {\n     /// `..`"}, {"sha": "74f2e5c314cd7ba29c768183d3e5b13d736d84b2", "filename": "crates/syntax/src/ast/make.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/20c3b20db3354729df606f3b5a1ddd474ca7c78c/crates%2Fsyntax%2Fsrc%2Fast%2Fmake.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20c3b20db3354729df606f3b5a1ddd474ca7c78c/crates%2Fsyntax%2Fsrc%2Fast%2Fmake.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Fsrc%2Fast%2Fmake.rs?ref=20c3b20db3354729df606f3b5a1ddd474ca7c78c", "patch": "@@ -264,6 +264,9 @@ pub fn expr_path(path: ast::Path) -> ast::Expr {\n pub fn expr_continue() -> ast::Expr {\n     expr_from_text(\"continue\")\n }\n+pub fn expr_op(op: ast::BinOp, lhs: ast::Expr, rhs: ast::Expr) -> ast::Expr {\n+    expr_from_text(&format!(\"{} {} {}\", lhs, op, rhs))\n+}\n pub fn expr_break(expr: Option<ast::Expr>) -> ast::Expr {\n     match expr {\n         Some(expr) => expr_from_text(&format!(\"break {}\", expr)),"}]}