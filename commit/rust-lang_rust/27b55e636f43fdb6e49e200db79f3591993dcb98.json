{"sha": "27b55e636f43fdb6e49e200db79f3591993dcb98", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI3YjU1ZTYzNmY0M2ZkYjZlNDllMjAwZGI3OWYzNTkxOTkzZGNiOTg=", "commit": {"author": {"name": "Justus K", "email": "justus.k@protonmail.com", "date": "2021-07-06T17:00:35Z"}, "committer": {"name": "Justus K", "email": "justus.k@protonmail.com", "date": "2021-07-07T14:52:30Z"}, "message": "Document rustdoc with `--document-private-items`", "tree": {"sha": "e9fd845f937645dffdc39f68a475146231b1c08a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e9fd845f937645dffdc39f68a475146231b1c08a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/27b55e636f43fdb6e49e200db79f3591993dcb98", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEDDGYqKFKtc1ioGY0jGL+mKYvxGIFAmDlv7gACgkQjGL+mKYv\nxGKX3xAAuc1vQ66pi83X5kTJVrkbmSXNjcn/kVnMFQDFbhL/FLlgBgnDuE4iWG48\nrC1dlpmA3wLtWrXRsZ0VybvAk1MQDnAs0RaIG/cERpZuDVsKl41t7elUUZVS1gZi\nOZ4QkH5Y87s/iSZKGm98T08rpyKn68FiDk+3jFAKi0jhhYpEnYBrDMo8DvQEXlpn\nJTLNv2flDacX64dK1idHvrzW0JTMZMGf9ZIChzIKTv/DeAleOeGgsAakSw1A+6Bi\nAFV6Kget9zkRg1VuG/h5L1vadgSS16ktOW3MWF8ZIb9MEWTMSDzAF568XcdiIonw\nF6Q4PYDHFKVBV1BvHfVemggT4GHZlAeAahrI3WlwP9qro9F07hlteQ9izdgA4G+A\n67+7F4/2Tab1h8SmwQmqQEIWFVk8/APXbN4Q/dmXrV3z9dot30jUe//MS0fgHBxF\nNnGzyEgG8TFP7Y7LsMLnCh5FgT32aDMjTYi/5jXTcd2AcnYnS5yPyF1wxIqYBRCe\nigTTkiYBDJoO/qh3wWqPANFFV/xRySFXxs+fRTqDz9lX7DyNvOP+m1dO3JOCpJXC\n21edyxJgJHnbj6zyFKuzO9e/gRZUWcP/QDZdVU9LEjwiYUs1XzJW1LMs7CwBtCrG\nSabrA1JakvX/aR1QAnTzubnPEYtu1/5asJHv4UE3QeZ4Ul62WqI=\n=S0oe\n-----END PGP SIGNATURE-----", "payload": "tree e9fd845f937645dffdc39f68a475146231b1c08a\nparent d04ec4735810553224eb5eaf948ec78f84eac06c\nauthor Justus K <justus.k@protonmail.com> 1625590835 +0200\ncommitter Justus K <justus.k@protonmail.com> 1625669550 +0200\n\nDocument rustdoc with `--document-private-items`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/27b55e636f43fdb6e49e200db79f3591993dcb98", "html_url": "https://github.com/rust-lang/rust/commit/27b55e636f43fdb6e49e200db79f3591993dcb98", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/27b55e636f43fdb6e49e200db79f3591993dcb98/comments", "author": {"login": "Stupremee", "id": 39732259, "node_id": "MDQ6VXNlcjM5NzMyMjU5", "avatar_url": "https://avatars.githubusercontent.com/u/39732259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Stupremee", "html_url": "https://github.com/Stupremee", "followers_url": "https://api.github.com/users/Stupremee/followers", "following_url": "https://api.github.com/users/Stupremee/following{/other_user}", "gists_url": "https://api.github.com/users/Stupremee/gists{/gist_id}", "starred_url": "https://api.github.com/users/Stupremee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Stupremee/subscriptions", "organizations_url": "https://api.github.com/users/Stupremee/orgs", "repos_url": "https://api.github.com/users/Stupremee/repos", "events_url": "https://api.github.com/users/Stupremee/events{/privacy}", "received_events_url": "https://api.github.com/users/Stupremee/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Stupremee", "id": 39732259, "node_id": "MDQ6VXNlcjM5NzMyMjU5", "avatar_url": "https://avatars.githubusercontent.com/u/39732259?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Stupremee", "html_url": "https://github.com/Stupremee", "followers_url": "https://api.github.com/users/Stupremee/followers", "following_url": "https://api.github.com/users/Stupremee/following{/other_user}", "gists_url": "https://api.github.com/users/Stupremee/gists{/gist_id}", "starred_url": "https://api.github.com/users/Stupremee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Stupremee/subscriptions", "organizations_url": "https://api.github.com/users/Stupremee/orgs", "repos_url": "https://api.github.com/users/Stupremee/repos", "events_url": "https://api.github.com/users/Stupremee/events{/privacy}", "received_events_url": "https://api.github.com/users/Stupremee/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d04ec4735810553224eb5eaf948ec78f84eac06c", "url": "https://api.github.com/repos/rust-lang/rust/commits/d04ec4735810553224eb5eaf948ec78f84eac06c", "html_url": "https://github.com/rust-lang/rust/commit/d04ec4735810553224eb5eaf948ec78f84eac06c"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "d3f2c87c0d22f4c966c2215889c60d4b9392be1d", "filename": "src/bootstrap/doc.rs", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/27b55e636f43fdb6e49e200db79f3591993dcb98/src%2Fbootstrap%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/27b55e636f43fdb6e49e200db79f3591993dcb98/src%2Fbootstrap%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdoc.rs?ref=27b55e636f43fdb6e49e200db79f3591993dcb98", "patch": "@@ -600,7 +600,7 @@ impl Step for Rustc {\n }\n \n macro_rules! tool_doc {\n-    ($tool: ident, $should_run: literal, $path: literal, [$($krate: literal),+ $(,)?] $(, binary=$bin:expr)?) => {\n+    ($tool: ident, $should_run: literal, $path: literal, [$($krate: literal),+ $(,)?], binary=$bin:expr) => {\n         #[derive(Debug, Copy, Clone, Hash, PartialEq, Eq)]\n         pub struct $tool {\n             stage: u32,\n@@ -669,9 +669,9 @@ macro_rules! tool_doc {\n                     cargo.arg(\"-p\").arg($krate);\n                 )+\n \n-                $(if !$bin {\n+                if !$bin {\n                     cargo.rustdocflag(\"--document-private-items\");\n-                })?\n+                }\n                 cargo.rustdocflag(\"--enable-index-page\");\n                 cargo.rustdocflag(\"--show-type-layout\");\n                 cargo.rustdocflag(\"-Zunstable-options\");\n@@ -681,7 +681,13 @@ macro_rules! tool_doc {\n     }\n }\n \n-tool_doc!(Rustdoc, \"rustdoc-tool\", \"src/tools/rustdoc\", [\"rustdoc\", \"rustdoc-json-types\"]);\n+tool_doc!(\n+    Rustdoc,\n+    \"rustdoc-tool\",\n+    \"src/tools/rustdoc\",\n+    [\"rustdoc\", \"rustdoc-json-types\"],\n+    binary = false\n+);\n tool_doc!(\n     Rustfmt,\n     \"rustfmt-nightly\","}]}