{"sha": "48a3ba9a335987cfae90dec92b08a8833e12ba07", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ4YTNiYTlhMzM1OTg3Y2ZhZTkwZGVjOTJiMDhhODgzM2UxMmJhMDc=", "commit": {"author": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2021-09-01T12:53:51Z"}, "committer": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2021-09-09T05:21:30Z"}, "message": "fmt", "tree": {"sha": "2d7c94a4725c65e21f70ca3f8210d392260835fb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2d7c94a4725c65e21f70ca3f8210d392260835fb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/48a3ba9a335987cfae90dec92b08a8833e12ba07", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEQ7Fl7qPq2YcWF1dqAn35M4hird0FAmE5mdoACgkQAn35M4hi\nrd2hnRAAl9W8X0gZ8KJs6nciIhnIvizGjD4vV1m0FsyWlxv9zUrAYlWEo/zlXxEc\n9zAlrWfmgEs/poC4GzmBHqgk4SITSfZnkWeNuwS/sEHP4+ND4fbKVJZSNzzeY5/9\n7VDYB+uoHPQzI5oXZ44jqRE0gzOmxCBhK3J5f/J4piGQwoXVSSLqJQ+jnQR8D378\nrypnNqCe/onna+T/XEJLockwZX//YbwNGFmQ42+Qh8+v0qYGPEbGJhdykehxK7Gn\nmEFVFefas4VRxljOnijMeXuN1XFXHqI2AregFPj4QMT6XnYyk9mx1lZD+M8gZeaJ\nCCkbUe+hJGK9S0gPcn+Rg1tK0B4i99krYPlmcmFMpSAk4k1pHAVX8lm+zspua74A\nwE8SNUHgW0ZAqfHXgoC86YaQKkTvG/1XQXlOtK6CG2DRpffGZ4a919xQAHxYy7bK\nKreBmx7vK9xTy9AFRAgNSjvog7/kPz4tYTcW0v//JcMS4SsY8SG5LMWLFFeFn3MB\nkTGTqQ50vAFwNRlrmBpIfykyQPqqcjEDOsZdHRwYn74ZbTWPgDL+DWwU+KY9u8ws\nKfFBlNec78dnLpkxUUQ77R3mkhb2QZY5PBavjxHnXY9HiD8v0FzbbcA6t4VUIK3C\nmO63G4aUM2PGYjjjcRbqc5bINJr0agfzJWIFLBvQioZ4lb3UyTo=\n=RlW6\n-----END PGP SIGNATURE-----", "payload": "tree 2d7c94a4725c65e21f70ca3f8210d392260835fb\nparent f6f5180d5fef3b3a4cc8a383eb20b83716935e6a\nauthor Deadbeef <ent3rm4n@gmail.com> 1630500831 +0000\ncommitter Deadbeef <ent3rm4n@gmail.com> 1631164890 +0000\n\nfmt\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/48a3ba9a335987cfae90dec92b08a8833e12ba07", "html_url": "https://github.com/rust-lang/rust/commit/48a3ba9a335987cfae90dec92b08a8833e12ba07", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/48a3ba9a335987cfae90dec92b08a8833e12ba07/comments", "author": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f6f5180d5fef3b3a4cc8a383eb20b83716935e6a", "url": "https://api.github.com/repos/rust-lang/rust/commits/f6f5180d5fef3b3a4cc8a383eb20b83716935e6a", "html_url": "https://github.com/rust-lang/rust/commit/f6f5180d5fef3b3a4cc8a383eb20b83716935e6a"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "133451831242c769519ad38a541eaf4e0c031645", "filename": "compiler/rustc_const_eval/src/transform/check_consts/check.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/48a3ba9a335987cfae90dec92b08a8833e12ba07/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/48a3ba9a335987cfae90dec92b08a8833e12ba07/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fcheck.rs?ref=48a3ba9a335987cfae90dec92b08a8833e12ba07", "patch": "@@ -990,8 +990,10 @@ impl Visitor<'tcx> for Checker<'mir, 'tcx> {\n \n                 // Check to see if the type of this place can ever have a drop impl. If not, this\n                 // `Drop` terminator is frivolous.\n-                let ty_needs_drop =\n-                    dropped_place.ty(self.body, self.tcx).ty.needs_non_const_drop(self.tcx, self.param_env);\n+                let ty_needs_drop = dropped_place\n+                    .ty(self.body, self.tcx)\n+                    .ty\n+                    .needs_non_const_drop(self.tcx, self.param_env);\n \n                 if !ty_needs_drop {\n                     return;"}, {"sha": "5435ff1396de800c0841de33c4c74ae4dbfb9df0", "filename": "compiler/rustc_lint/src/traits.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/48a3ba9a335987cfae90dec92b08a8833e12ba07/compiler%2Frustc_lint%2Fsrc%2Ftraits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/48a3ba9a335987cfae90dec92b08a8833e12ba07/compiler%2Frustc_lint%2Fsrc%2Ftraits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Ftraits.rs?ref=48a3ba9a335987cfae90dec92b08a8833e12ba07", "patch": "@@ -86,8 +86,8 @@ declare_lint_pass!(\n \n impl<'tcx> LateLintPass<'tcx> for DropTraitConstraints {\n     fn check_item(&mut self, cx: &LateContext<'tcx>, item: &'tcx hir::Item<'tcx>) {\n-        use rustc_middle::ty::PredicateKind::*;\n         use rustc_middle::ty;\n+        use rustc_middle::ty::PredicateKind::*;\n \n         let predicates = cx.tcx.explicit_predicates_of(item.def_id);\n         for &(predicate, span) in predicates.predicates {\n@@ -97,7 +97,7 @@ impl<'tcx> LateLintPass<'tcx> for DropTraitConstraints {\n             };\n             if trait_predicate.constness == ty::BoundConstness::ConstIfConst {\n                 // `~const Drop` definitely have meanings so avoid linting here.\n-                continue\n+                continue;\n             }\n             let def_id = trait_predicate.trait_ref.def_id;\n             if cx.tcx.lang_items().drop_trait() == Some(def_id) {"}]}