{"sha": "6967cf59a4f5664d97086ddccd8cc9b29778d0b7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY5NjdjZjU5YTRmNTY2NGQ5NzA4NmRkY2NkOGNjOWIyOTc3OGQwYjc=", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2019-04-30T09:10:31Z"}, "committer": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2019-05-01T08:43:16Z"}, "message": "clippy-driver: use rustc_tools_util to get version info.\n\nThis will add git hash information to `clippy-driver -V` output.", "tree": {"sha": "e10ca729e43d9a16e8dae9c6c5e9691aa874eb40", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e10ca729e43d9a16e8dae9c6c5e9691aa874eb40"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6967cf59a4f5664d97086ddccd8cc9b29778d0b7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6967cf59a4f5664d97086ddccd8cc9b29778d0b7", "html_url": "https://github.com/rust-lang/rust/commit/6967cf59a4f5664d97086ddccd8cc9b29778d0b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6967cf59a4f5664d97086ddccd8cc9b29778d0b7/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5162ea5d0ca39a1a8dbce8ae301dbe62d6360309", "url": "https://api.github.com/repos/rust-lang/rust/commits/5162ea5d0ca39a1a8dbce8ae301dbe62d6360309", "html_url": "https://github.com/rust-lang/rust/commit/5162ea5d0ca39a1a8dbce8ae301dbe62d6360309"}], "stats": {"total": 11, "additions": 5, "deletions": 6}, "files": [{"sha": "e86e51b7f88c7b198e4ab8f344deb51b70f8cad3", "filename": "clippy_lints/src/consts.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6967cf59a4f5664d97086ddccd8cc9b29778d0b7/clippy_lints%2Fsrc%2Fconsts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6967cf59a4f5664d97086ddccd8cc9b29778d0b7/clippy_lints%2Fsrc%2Fconsts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fconsts.rs?ref=6967cf59a4f5664d97086ddccd8cc9b29778d0b7", "patch": "@@ -344,7 +344,7 @@ impl<'c, 'cc> ConstEvalLateContext<'c, 'cc> {\n                 }\n                 ret\n             },\n-            // FIXME: cover all useable cases.\n+            // FIXME: cover all usable cases.\n             _ => None,\n         }\n     }"}, {"sha": "f4a656722b9d067ef657d23d3029f9701427b0fd", "filename": "src/driver.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6967cf59a4f5664d97086ddccd8cc9b29778d0b7/src%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6967cf59a4f5664d97086ddccd8cc9b29778d0b7/src%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdriver.rs?ref=6967cf59a4f5664d97086ddccd8cc9b29778d0b7", "patch": "@@ -10,13 +10,11 @@ extern crate rustc_interface;\n extern crate rustc_plugin;\n \n use rustc_interface::interface;\n+use rustc_tools_util::*;\n+\n use std::path::Path;\n use std::process::{exit, Command};\n \n-fn show_version() {\n-    println!(env!(\"CARGO_PKG_VERSION\"));\n-}\n-\n /// If a command-line option matches `find_arg`, then apply the predicate `pred` on its value. If\n /// true, then return it. The parameter is assumed to be either `--arg=value` or `--arg value`.\n fn arg_value<'a>(\n@@ -117,7 +115,8 @@ pub fn main() {\n             use std::env;\n \n             if std::env::args().any(|a| a == \"--version\" || a == \"-V\") {\n-                show_version();\n+                let version_info = rustc_tools_util::get_version_info!();\n+                println!(\"{}\", version_info);\n                 exit(0);\n             }\n "}]}