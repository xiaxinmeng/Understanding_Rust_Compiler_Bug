{"sha": "844c6e3d5c258dae8a714e4083e6e2d33f3690fa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg0NGM2ZTNkNWMyNThkYWU4YTcxNGU0MDgzZTZlMmQzM2YzNjkwZmE=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-08-15T11:57:10Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-08-15T14:47:17Z"}, "message": "Add E0394 error explanation", "tree": {"sha": "73d918e07e1a94149a03c3f363bb34a12108c928", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/73d918e07e1a94149a03c3f363bb34a12108c928"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/844c6e3d5c258dae8a714e4083e6e2d33f3690fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/844c6e3d5c258dae8a714e4083e6e2d33f3690fa", "html_url": "https://github.com/rust-lang/rust/commit/844c6e3d5c258dae8a714e4083e6e2d33f3690fa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/844c6e3d5c258dae8a714e4083e6e2d33f3690fa/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f0bab98695f0a4877daabad9a5b0ba3e66121392", "url": "https://api.github.com/repos/rust-lang/rust/commits/f0bab98695f0a4877daabad9a5b0ba3e66121392", "html_url": "https://github.com/rust-lang/rust/commit/f0bab98695f0a4877daabad9a5b0ba3e66121392"}], "stats": {"total": 26, "additions": 22, "deletions": 4}, "files": [{"sha": "4a731d898a937d8edabcce09e07e6834febcce96", "filename": "src/librustc_mir/diagnostics.rs", "status": "modified", "additions": 22, "deletions": 4, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/844c6e3d5c258dae8a714e4083e6e2d33f3690fa/src%2Flibrustc_mir%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844c6e3d5c258dae8a714e4083e6e2d33f3690fa/src%2Flibrustc_mir%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fdiagnostics.rs?ref=844c6e3d5c258dae8a714e4083e6e2d33f3690fa", "patch": "@@ -188,12 +188,30 @@ avoid mutation if possible.\n \"##,\n \n E0394: r##\"\n-From [RFC 246]:\n+A static was referred to by value by another static.\n \n- > It is invalid for a static to reference another static by value. It is\n- > required that all references be borrowed.\n+Erroneous code examples:\n \n-[RFC 246]: https://github.com/rust-lang/rfcs/pull/246\n+```compile_fail,E0394\n+static A: u32 = 0;\n+static B: u32 = A; // error: cannot refer to other statics by value, use the\n+                   //        address-of operator or a constant instead\n+```\n+\n+A static cannot be referred by value. To fix this issue, either use a\n+constant:\n+\n+```\n+const A: u32 = 0; // `A` is now a constant\n+static B: u32 = A; // ok!\n+```\n+\n+Or refer to `A` by reference:\n+\n+```\n+static A: u32 = 0;\n+static B: &'static u32 = &A; // ok!\n+```\n \"##,\n \n "}]}