{"sha": "a09e8c55c663d2b070f99ab0fdadbcc2c45656b2", "node_id": "C_kwDOAAsO6NoAKGEwOWU4YzU1YzY2M2QyYjA3MGY5OWFiMGZkYWRiY2MyYzQ1NjU2YjI", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-12-08T04:59:54Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-12-08T05:49:10Z"}, "message": "rustdoc: clean up docblock table CSS\n\n* The rule `display: block` had no noticeable effect. Technically, because\n  markdown tables have a tbody and thead, they get wrapped in an [anonymous\n  table box] in the CSS tree, nested within the `<table>` element's block\n  layout box.\n\n  This rule was added in #87230 to make the table side-scrolling, but\n  this same issue was doubly fixed in #88742 by wrapping it in an explicit\n  `<div>` tag. Since accessibility advocates recommend the wrapper div over\n  marking the table as `display: block`, we'll stick with that.\n\n  https://adrianroselli.com/2020/11/under-engineered-responsive-tables.html\n\n* The rule `width: calc(100% - 2px)` had no visible effect, because the\n  anonymous table box was not affected.\n\n* The style is tweaked to basically be the same style GitHub uses.\n  In particular, it adds zebra stripes, and removes dotted borders.\n\n[anonymous table box]: https://www.w3.org/TR/CSS2/tables.html#anonymous-boxes", "tree": {"sha": "bb0c155d021df1dbdc08b716bb8a281bc3c6e40b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bb0c155d021df1dbdc08b716bb8a281bc3c6e40b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2", "html_url": "https://github.com/rust-lang/rust/commit/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b28d30e1e3c2b90fd08b7dd79d8e63884d1e0339", "url": "https://api.github.com/repos/rust-lang/rust/commits/b28d30e1e3c2b90fd08b7dd79d8e63884d1e0339", "html_url": "https://github.com/rust-lang/rust/commit/b28d30e1e3c2b90fd08b7dd79d8e63884d1e0339"}], "stats": {"total": 17, "additions": 7, "deletions": 10}, "files": [{"sha": "63bb2cdbaf238f0d820614c3af8e389621d9f252", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 4, "deletions": 10, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=a09e8c55c663d2b070f99ab0fdadbcc2c45656b2", "patch": "@@ -631,22 +631,16 @@ pre, .rustdoc.source .example-wrap {\n \n .docblock table {\n \tmargin: .5em 0;\n-\twidth: calc(100% - 2px);\n-\toverflow-x: auto;\n-\tdisplay: block;\n \tborder-collapse: collapse;\n }\n \n-.docblock table td {\n+.docblock table td, .docblock table th {\n \tpadding: .5em;\n-\tborder: 1px dashed var(--border-color);\n-\tvertical-align: top;\n+\tborder: 1px solid var(--border-color);\n }\n \n-.docblock table th {\n-\tpadding: .5em;\n-\ttext-align: left;\n-\tborder: 1px solid var(--border-color);\n+.docblock table tr:nth-child(2n) {\n+\tbackground: var(--table-alt-row-background-color);\n }\n \n /* Shift \"where ...\" part of method or fn definition down a line */"}, {"sha": "0436fe0138edc5815cdfb3fe817732ed6f28762d", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=a09e8c55c663d2b070f99ab0fdadbcc2c45656b2", "patch": "@@ -87,6 +87,7 @@ Original by Dempfi (https://github.com/dempfi/ayu)\n \t--crate-search-hover-border: #e0e0e0;\n \t--source-sidebar-background-selected: #14191f;\n \t--source-sidebar-background-hover: #14191f;\n+\t--table-alt-row-background-color: #191f26;\n }\n \n h1, h2, h3, h4 {"}, {"sha": "d945e956c533e20b52fea54d922924363acd449d", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=a09e8c55c663d2b070f99ab0fdadbcc2c45656b2", "patch": "@@ -82,6 +82,7 @@\n \t--crate-search-hover-border: #2196f3;\n \t--source-sidebar-background-selected: #333;\n \t--source-sidebar-background-hover: #444;\n+\t--table-alt-row-background-color: #2A2A2A;\n }\n \n .content .item-info::before { color: #ccc; }"}, {"sha": "58955a79316af3f2485c68e681ba9ac247454934", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/a09e8c55c663d2b070f99ab0fdadbcc2c45656b2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=a09e8c55c663d2b070f99ab0fdadbcc2c45656b2", "patch": "@@ -79,6 +79,7 @@\n \t--crate-search-hover-border: #717171;\n \t--source-sidebar-background-selected: #fff;\n \t--source-sidebar-background-hover: #e0e0e0;\n+\t--table-alt-row-background-color: #F5F5F5;\n }\n \n .content .item-info::before { color: #ccc; }"}]}