{"sha": "ab734210f0767ac5d5e9a9038d77ab5410653104", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFiNzM0MjEwZjA3NjdhYzVkNWU5YTkwMzhkNzdhYjU0MTA2NTMxMDQ=", "commit": {"author": {"name": "Jonathan Turner", "email": "jonathandturner@users.noreply.github.com", "date": "2016-08-22T22:34:18Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-08-22T22:34:18Z"}, "message": "Rollup merge of #35360 - medzin:E0388, r=jonathandturner\n\nUpdated error message E0388\n\nFixes #35339 as part of #35233.\n\nr? @GuillaumeGomez", "tree": {"sha": "32ee4eb3dfc843602483f017494e422e773b5591", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/32ee4eb3dfc843602483f017494e422e773b5591"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ab734210f0767ac5d5e9a9038d77ab5410653104", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ab734210f0767ac5d5e9a9038d77ab5410653104", "html_url": "https://github.com/rust-lang/rust/commit/ab734210f0767ac5d5e9a9038d77ab5410653104", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ab734210f0767ac5d5e9a9038d77ab5410653104/comments", "author": {"login": "jonathandturner", "id": 111457284, "node_id": "O_kgDOBqS0BA", "avatar_url": "https://avatars.githubusercontent.com/u/111457284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathandturner", "html_url": "https://github.com/jonathandturner", "followers_url": "https://api.github.com/users/jonathandturner/followers", "following_url": "https://api.github.com/users/jonathandturner/following{/other_user}", "gists_url": "https://api.github.com/users/jonathandturner/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathandturner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathandturner/subscriptions", "organizations_url": "https://api.github.com/users/jonathandturner/orgs", "repos_url": "https://api.github.com/users/jonathandturner/repos", "events_url": "https://api.github.com/users/jonathandturner/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathandturner/received_events", "type": "Organization", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3c5a0fa45b5e2786b6e64e27f48cd129e7aefdbd", "url": "https://api.github.com/repos/rust-lang/rust/commits/3c5a0fa45b5e2786b6e64e27f48cd129e7aefdbd", "html_url": "https://github.com/rust-lang/rust/commit/3c5a0fa45b5e2786b6e64e27f48cd129e7aefdbd"}, {"sha": "bfbdff0e2d894cf1f88e93df864b2c02e940a99a", "url": "https://api.github.com/repos/rust-lang/rust/commits/bfbdff0e2d894cf1f88e93df864b2c02e940a99a", "html_url": "https://github.com/rust-lang/rust/commit/bfbdff0e2d894cf1f88e93df864b2c02e940a99a"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "225895adefa4ba7621826f71c07a611b72352e74", "filename": "src/librustc_borrowck/borrowck/mod.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ab734210f0767ac5d5e9a9038d77ab5410653104/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab734210f0767ac5d5e9a9038d77ab5410653104/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fborrowck%2Fmod.rs?ref=ab734210f0767ac5d5e9a9038d77ab5410653104", "patch": "@@ -914,9 +914,11 @@ impl<'a, 'tcx> BorrowckCtxt<'a, 'tcx> {\n             }\n             mc::AliasableStatic |\n             mc::AliasableStaticMut => {\n-                struct_span_err!(\n+                let mut err = struct_span_err!(\n                     self.tcx.sess, span, E0388,\n-                    \"{} in a static location\", prefix)\n+                    \"{} in a static location\", prefix);\n+                err.span_label(span, &format!(\"cannot write data in a static definition\"));\n+                err\n             }\n             mc::AliasableBorrowed => {\n                 struct_span_err!("}, {"sha": "44d2f158d20bbeadad7b5c28d289963c044e7258", "filename": "src/test/compile-fail/E0017.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ab734210f0767ac5d5e9a9038d77ab5410653104/src%2Ftest%2Fcompile-fail%2FE0017.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab734210f0767ac5d5e9a9038d77ab5410653104/src%2Ftest%2Fcompile-fail%2FE0017.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0017.rs?ref=ab734210f0767ac5d5e9a9038d77ab5410653104", "patch": "@@ -20,6 +20,7 @@ static STATIC_REF: &'static mut i32 = &mut X; //~ ERROR E0017\n                                               //~| ERROR E0017\n                                               //~| NOTE statics require immutable values\n                                               //~| ERROR E0388\n+                                              //~| NOTE cannot write data in a static definition\n static CONST_REF: &'static mut i32 = &mut C; //~ ERROR E0017\n                                              //~| NOTE statics require immutable values\n                                              //~| ERROR E0017"}]}