{"sha": "9702b3d2c0905b6975a0e6a9ce25c55f95eba65e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk3MDJiM2QyYzA5MDViNjk3NWEwZTZhOWNlMjVjNTVmOTVlYmE2NWU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-03-08T07:36:32Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-03-08T07:36:32Z"}, "message": "Auto merge of #3856 - mikerite:clippy-dev-enchancement-1, r=phansch\n\nImprove Clippy dev help\n\n+ Print help if no subcommand is supplied\n+ Make a short version of `update_lints` help for the subcommand listing", "tree": {"sha": "e0732ae70d0c7c3c8e34c4fc64cc40ab1b43037f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e0732ae70d0c7c3c8e34c4fc64cc40ab1b43037f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9702b3d2c0905b6975a0e6a9ce25c55f95eba65e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9702b3d2c0905b6975a0e6a9ce25c55f95eba65e", "html_url": "https://github.com/rust-lang/rust/commit/9702b3d2c0905b6975a0e6a9ce25c55f95eba65e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9702b3d2c0905b6975a0e6a9ce25c55f95eba65e/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "90d43500557d4745f5ea76f9e0e7cff9c6ef9b51", "url": "https://api.github.com/repos/rust-lang/rust/commits/90d43500557d4745f5ea76f9e0e7cff9c6ef9b51", "html_url": "https://github.com/rust-lang/rust/commit/90d43500557d4745f5ea76f9e0e7cff9c6ef9b51"}, {"sha": "acd6d4d09433c558ffbb9524a5aeb3b4f6465352", "url": "https://api.github.com/repos/rust-lang/rust/commits/acd6d4d09433c558ffbb9524a5aeb3b4f6465352", "html_url": "https://github.com/rust-lang/rust/commit/acd6d4d09433c558ffbb9524a5aeb3b4f6465352"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "3f21b9dee11face627b7099be13162f17b85882f", "filename": "clippy_dev/src/main.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9702b3d2c0905b6975a0e6a9ce25c55f95eba65e/clippy_dev%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9702b3d2c0905b6975a0e6a9ce25c55f95eba65e/clippy_dev%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fmain.rs?ref=9702b3d2c0905b6975a0e6a9ce25c55f95eba65e", "patch": "@@ -2,7 +2,7 @@ extern crate clap;\n extern crate clippy_dev;\n extern crate regex;\n \n-use clap::{App, Arg, SubCommand};\n+use clap::{App, AppSettings, Arg, SubCommand};\n use clippy_dev::*;\n \n #[derive(PartialEq)]\n@@ -13,9 +13,11 @@ enum UpdateMode {\n \n fn main() {\n     let matches = App::new(\"Clippy developer tooling\")\n+        .setting(AppSettings::SubcommandRequiredElseHelp)\n         .subcommand(\n             SubCommand::with_name(\"update_lints\")\n-                .about(\n+                .about(\"Updates lint registration and information from the source code\")\n+                .long_about(\n                     \"Makes sure that:\\n \\\n                      * the lint count in README.md is correct\\n \\\n                      * the changelog contains markdown link references at the bottom\\n \\"}]}