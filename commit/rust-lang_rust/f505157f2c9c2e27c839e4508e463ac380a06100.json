{"sha": "f505157f2c9c2e27c839e4508e463ac380a06100", "node_id": "C_kwDOAAsO6NoAKGY1MDUxNTdmMmM5YzJlMjdjODM5ZTQ1MDhlNDYzYWMzODBhMDYxMDA", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2021-12-17T22:23:17Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2021-12-17T22:23:17Z"}, "message": "Revert \"Update Cranelift to 0.79.0\"\n\nThis reverts commit a1037fad7dda722e4d63c5c09f6582079fe02a4c.\n\nThere are two regressions in Cranelift with respect to small integer\noperations. Both have already been fixed on thebmain branch, but we will\nhave to wait for a new Cranelift release. They have been fixed by\nbytecodealliance/wasmtime#3610 and bytecodealliance/wasmtime#3617.", "tree": {"sha": "3feba8215c159fef6883454cc8f28342adb3bb4c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3feba8215c159fef6883454cc8f28342adb3bb4c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f505157f2c9c2e27c839e4508e463ac380a06100", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f505157f2c9c2e27c839e4508e463ac380a06100", "html_url": "https://github.com/rust-lang/rust/commit/f505157f2c9c2e27c839e4508e463ac380a06100", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f505157f2c9c2e27c839e4508e463ac380a06100/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b532f13ad0c22e00fc7de8a58eced0b2bd55da7d", "url": "https://api.github.com/repos/rust-lang/rust/commits/b532f13ad0c22e00fc7de8a58eced0b2bd55da7d", "html_url": "https://github.com/rust-lang/rust/commit/b532f13ad0c22e00fc7de8a58eced0b2bd55da7d"}], "stats": {"total": 134, "additions": 34, "deletions": 100}, "files": [{"sha": "65e142a00f88ed0d127bddc675817da2d3cc2a68", "filename": "Cargo.lock", "status": "modified", "additions": 27, "deletions": 93, "changes": 120, "blob_url": "https://github.com/rust-lang/rust/blob/f505157f2c9c2e27c839e4508e463ac380a06100/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/f505157f2c9c2e27c839e4508e463ac380a06100/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=f505157f2c9c2e27c839e4508e463ac380a06100", "patch": "@@ -25,44 +25,26 @@ version = \"1.3.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"bef38d45163c2f1dde094a7dfd33ccf595c92905c8f8f4fdc18d06fb1037718a\"\n \n-[[package]]\n-name = \"block-buffer\"\n-version = \"0.9.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"4152116fd6e9dadb291ae18fc1ec3575ed6d84c29642d97890f4b4a3417297e4\"\n-dependencies = [\n- \"generic-array\",\n-]\n-\n [[package]]\n name = \"cfg-if\"\n version = \"1.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"baf1de4339761588bc0619e3cbc0120ee582ebb74b53b4efbf79117bd2da40fd\"\n \n-[[package]]\n-name = \"cpufeatures\"\n-version = \"0.2.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"95059428f66df56b63431fdb4e1947ed2190586af5c5a8a8b71122bdf5a7f469\"\n-dependencies = [\n- \"libc\",\n-]\n-\n [[package]]\n name = \"cranelift-bforest\"\n-version = \"0.79.0\"\n+version = \"0.78.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f0fb5e025141af5b9cbfff4351dc393596d017725f126c954bf472ce78dbba6b\"\n+checksum = \"cc0cb7df82c8cf8f2e6a8dd394a0932a71369c160cc9b027dca414fced242513\"\n dependencies = [\n  \"cranelift-entity\",\n ]\n \n [[package]]\n name = \"cranelift-codegen\"\n-version = \"0.79.0\"\n+version = \"0.78.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a278c67cc48d0e8ff2275fb6fc31527def4be8f3d81640ecc8cd005a3aa45ded\"\n+checksum = \"fe4463c15fa42eee909e61e5eac4866b7c6d22d0d8c621e57a0c5380753bfa8c\"\n dependencies = [\n  \"cranelift-bforest\",\n  \"cranelift-codegen-meta\",\n@@ -71,37 +53,37 @@ dependencies = [\n  \"gimli\",\n  \"log\",\n  \"regalloc\",\n- \"sha2\",\n  \"smallvec\",\n  \"target-lexicon\",\n ]\n \n [[package]]\n name = \"cranelift-codegen-meta\"\n-version = \"0.79.0\"\n+version = \"0.78.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"28274c1916c931c5603d94c5479d2ddacaaa574d298814ac1c99964ce92cbe85\"\n+checksum = \"793f6a94a053a55404ea16e1700202a88101672b8cd6b4df63e13cde950852bf\"\n dependencies = [\n  \"cranelift-codegen-shared\",\n+ \"cranelift-entity\",\n ]\n \n [[package]]\n name = \"cranelift-codegen-shared\"\n-version = \"0.79.0\"\n+version = \"0.78.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5411cf49ab440b749d4da5129dfc45caf6e5fb7b2742b1fe1a421964fda2ee88\"\n+checksum = \"44aa1846df275bce5eb30379d65964c7afc63c05a117076e62a119c25fe174be\"\n \n [[package]]\n name = \"cranelift-entity\"\n-version = \"0.79.0\"\n+version = \"0.78.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"64dde596f98462a37b029d81c8567c23cc68b8356b017f12945c545ac0a83203\"\n+checksum = \"a3a45d8d6318bf8fc518154d9298eab2a8154ec068a8885ff113f6db8d69bb3a\"\n \n [[package]]\n name = \"cranelift-frontend\"\n-version = \"0.79.0\"\n+version = \"0.78.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"544605d400710bd9c89924050b30c2e0222a387a5a8b5f04da9a9fdcbd8656a5\"\n+checksum = \"e07339bd461766deb7605169de039e01954768ff730fa1254e149001884a8525\"\n dependencies = [\n  \"cranelift-codegen\",\n  \"log\",\n@@ -111,9 +93,9 @@ dependencies = [\n \n [[package]]\n name = \"cranelift-jit\"\n-version = \"0.79.0\"\n+version = \"0.78.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f05a1b2f9383776eb82c56a331631ab76588d1a184706ec8633db2d58196dc82\"\n+checksum = \"0e8f0d60fb5d67f7a1e5c49db38ba96d1c846921faef02085fc5590b74781747\"\n dependencies = [\n  \"anyhow\",\n  \"cranelift-codegen\",\n@@ -129,19 +111,21 @@ dependencies = [\n \n [[package]]\n name = \"cranelift-module\"\n-version = \"0.79.0\"\n+version = \"0.78.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"decb7d353b972b60c617ea5b4d09b9574ffc61daef7cd534c060ca728dadc10c\"\n+checksum = \"825ac7e0959cbe7ddc9cc21209f0319e611a57f9fcb2b723861fe7ef2017e651\"\n dependencies = [\n  \"anyhow\",\n  \"cranelift-codegen\",\n+ \"cranelift-entity\",\n+ \"log\",\n ]\n \n [[package]]\n name = \"cranelift-native\"\n-version = \"0.79.0\"\n+version = \"0.78.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"b7f8839befb64f7a39cb855241ae2c8eb74cea27c97fff2a007075fdb8a7f7d4\"\n+checksum = \"03e2fca76ff57e0532936a71e3fc267eae6a19a86656716479c66e7f912e3d7b\"\n dependencies = [\n  \"cranelift-codegen\",\n  \"libc\",\n@@ -150,9 +134,9 @@ dependencies = [\n \n [[package]]\n name = \"cranelift-object\"\n-version = \"0.79.0\"\n+version = \"0.78.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"9fe4d91d7e85ad84e3e1b9cf0bba1bb117d35de867e72e4740cb7423d5351792\"\n+checksum = \"55500d0fc9bb05c0944fc4506649249d28f55bd4fe95b87f0e55bf41058f0e6d\"\n dependencies = [\n  \"anyhow\",\n  \"cranelift-codegen\",\n@@ -171,30 +155,11 @@ dependencies = [\n  \"cfg-if\",\n ]\n \n-[[package]]\n-name = \"digest\"\n-version = \"0.9.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"d3dd60d1080a57a05ab032377049e0591415d2b31afd7028356dbf3cc6dcb066\"\n-dependencies = [\n- \"generic-array\",\n-]\n-\n-[[package]]\n-name = \"generic-array\"\n-version = \"0.14.4\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"501466ecc8a30d1d3b7fc9229b122b2ce8ed6e9d9223f1138d4babb253e51817\"\n-dependencies = [\n- \"typenum\",\n- \"version_check\",\n-]\n-\n [[package]]\n name = \"gimli\"\n-version = \"0.26.1\"\n+version = \"0.25.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"78cc372d058dcf6d5ecd98510e7fbc9e5aec4d21de70f65fea8fecebcd881bd4\"\n+checksum = \"f0a01e0497841a3b2db4f8afa483cce65f7e96a3498bd6c541734792aeac8fe7\"\n dependencies = [\n  \"indexmap\",\n ]\n@@ -266,17 +231,11 @@ dependencies = [\n  \"memchr\",\n ]\n \n-[[package]]\n-name = \"opaque-debug\"\n-version = \"0.3.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"624a8340c38c1b80fd549087862da4ba43e08858af025b236e509b6649fc13d5\"\n-\n [[package]]\n name = \"regalloc\"\n-version = \"0.0.33\"\n+version = \"0.0.32\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7d808cff91dfca7b239d40b972ba628add94892b1d9e19a842aedc5cfae8ab1a\"\n+checksum = \"a6304468554ed921da3d32c355ea107b8d13d7b8996c3adfb7aab48d3bc321f4\"\n dependencies = [\n  \"log\",\n  \"rustc-hash\",\n@@ -320,19 +279,6 @@ dependencies = [\n  \"target-lexicon\",\n ]\n \n-[[package]]\n-name = \"sha2\"\n-version = \"0.9.8\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"b69f9a4c9740d74c5baa3fd2e547f9525fa8088a8a958e0ca2409a514e33f5fa\"\n-dependencies = [\n- \"block-buffer\",\n- \"cfg-if\",\n- \"cpufeatures\",\n- \"digest\",\n- \"opaque-debug\",\n-]\n-\n [[package]]\n name = \"smallvec\"\n version = \"1.7.0\"\n@@ -345,18 +291,6 @@ version = \"0.12.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"d9bffcddbc2458fa3e6058414599e3c838a022abae82e5c67b4f7f80298d5bff\"\n \n-[[package]]\n-name = \"typenum\"\n-version = \"1.14.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"b63708a265f51345575b27fe43f9500ad611579e764c79edbc2037b1121959ec\"\n-\n-[[package]]\n-name = \"version_check\"\n-version = \"0.9.3\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5fecdca9a5291cc2b8dcf7dc02453fee791a280f3743cb0905f8822ae463b3fe\"\n-\n [[package]]\n name = \"winapi\"\n version = \"0.3.9\""}, {"sha": "900411286b52ec0855a599fb45ed588e61d6aec1", "filename": "Cargo.toml", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/f505157f2c9c2e27c839e4508e463ac380a06100/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/f505157f2c9c2e27c839e4508e463ac380a06100/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=f505157f2c9c2e27c839e4508e463ac380a06100", "patch": "@@ -8,14 +8,14 @@ crate-type = [\"dylib\"]\n \n [dependencies]\n # These have to be in sync with each other\n-cranelift-codegen = { version = \"0.79.0\", features = [\"unwind\", \"all-arch\"] }\n-cranelift-frontend = \"0.79.0\"\n-cranelift-module = \"0.79.0\"\n-cranelift-native = \"0.79.0\"\n-cranelift-jit = { version = \"0.79.0\", optional = true }\n-cranelift-object = \"0.79.0\"\n+cranelift-codegen = { version = \"0.78.0\", features = [\"unwind\", \"all-arch\"] }\n+cranelift-frontend = \"0.78.0\"\n+cranelift-module = \"0.78.0\"\n+cranelift-native = \"0.78.0\"\n+cranelift-jit = { version = \"0.78.0\", optional = true }\n+cranelift-object = \"0.78.0\"\n target-lexicon = \"0.12.0\"\n-gimli = { version = \"0.26.1\", default-features = false, features = [\"write\"] }\n+gimli = { version = \"0.25.0\", default-features = false, features = [\"write\"]}\n object = { version = \"0.27.0\", default-features = false, features = [\"std\", \"read_core\", \"write\", \"archive\", \"coff\", \"elf\", \"macho\", \"pe\"] }\n \n ar = { git = \"https://github.com/bjorn3/rust-ar.git\", branch = \"do_not_remove_cg_clif_ranlib\" }"}]}