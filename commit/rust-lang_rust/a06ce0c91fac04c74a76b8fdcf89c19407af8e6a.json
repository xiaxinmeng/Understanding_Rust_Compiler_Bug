{"sha": "a06ce0c91fac04c74a76b8fdcf89c19407af8e6a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEwNmNlMGM5MWZhYzA0Yzc0YTc2YjhmZGNmODljMTk0MDdhZjhlNmE=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2014-02-14T05:17:02Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2014-02-14T05:17:02Z"}, "message": "compiletest: Run all android tests serially\n\nThis is an attempt to isolate test failures on the bots. It may also\neliminate problems with the emulators breaking by reducing the chance\nof OOM.", "tree": {"sha": "718f4e60386cdc815f1ac1da304f724810b50195", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/718f4e60386cdc815f1ac1da304f724810b50195"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a06ce0c91fac04c74a76b8fdcf89c19407af8e6a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a06ce0c91fac04c74a76b8fdcf89c19407af8e6a", "html_url": "https://github.com/rust-lang/rust/commit/a06ce0c91fac04c74a76b8fdcf89c19407af8e6a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a06ce0c91fac04c74a76b8fdcf89c19407af8e6a/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "89b1686bd7db25b5dd948b1a4d9dfd0c68084c29", "url": "https://api.github.com/repos/rust-lang/rust/commits/89b1686bd7db25b5dd948b1a4d9dfd0c68084c29", "html_url": "https://github.com/rust-lang/rust/commit/89b1686bd7db25b5dd948b1a4d9dfd0c68084c29"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "970ee535e0badb33ef6a1dd61d7de797b2757dc5", "filename": "src/compiletest/compiletest.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a06ce0c91fac04c74a76b8fdcf89c19407af8e6a/src%2Fcompiletest%2Fcompiletest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a06ce0c91fac04c74a76b8fdcf89c19407af8e6a/src%2Fcompiletest%2Fcompiletest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcompiletest%2Fcompiletest.rs?ref=a06ce0c91fac04c74a76b8fdcf89c19407af8e6a", "patch": "@@ -219,12 +219,14 @@ pub fn run_tests(config: &config) {\n             mode_debug_info => {\n                 println!(\"arm-linux-androideabi debug-info \\\n                          test uses tcp 5039 port. please reserve it\");\n-                //arm-linux-androideabi debug-info test uses remote debugger\n-                //so, we test 1 task at once\n-                os::setenv(\"RUST_TEST_TASKS\",\"1\");\n             }\n             _ =>{}\n         }\n+\n+        //arm-linux-androideabi debug-info test uses remote debugger\n+        //so, we test 1 task at once.\n+        // also trying to isolate problems with adb_run_wrapper.sh ilooping\n+        os::setenv(\"RUST_TEST_TASKS\",\"1\");\n     }\n \n     let opts = test_opts(config);"}]}