{"sha": "4eeb706e84bc9e32aa5057e32d567ccab2c3cc2c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRlZWI3MDZlODRiYzllMzJhYTUwNTdlMzJkNTY3Y2NhYjJjM2NjMmM=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-02-13T02:23:23Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-02-13T02:23:23Z"}, "message": "build: Set RUST_THREADS=1 on FreeBSD to avoid a threading bug", "tree": {"sha": "8b6c9812cd68684b43ba0ab55467c4ab2f0eae92", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8b6c9812cd68684b43ba0ab55467c4ab2f0eae92"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4eeb706e84bc9e32aa5057e32d567ccab2c3cc2c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4eeb706e84bc9e32aa5057e32d567ccab2c3cc2c", "html_url": "https://github.com/rust-lang/rust/commit/4eeb706e84bc9e32aa5057e32d567ccab2c3cc2c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4eeb706e84bc9e32aa5057e32d567ccab2c3cc2c/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "486d07a5bcaaea5f0fda68eb681b7a34124c602f", "url": "https://api.github.com/repos/rust-lang/rust/commits/486d07a5bcaaea5f0fda68eb681b7a34124c602f", "html_url": "https://github.com/rust-lang/rust/commit/486d07a5bcaaea5f0fda68eb681b7a34124c602f"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "4f77cd1d117817f863839d21f300f706929302d7", "filename": "mk/platform.mk", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/4eeb706e84bc9e32aa5057e32d567ccab2c3cc2c/mk%2Fplatform.mk", "raw_url": "https://github.com/rust-lang/rust/raw/4eeb706e84bc9e32aa5057e32d567ccab2c3cc2c/mk%2Fplatform.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fplatform.mk?ref=4eeb706e84bc9e32aa5057e32d567ccab2c3cc2c", "patch": "@@ -38,6 +38,12 @@ ifneq ($(findstring freebsd,$(CFG_OSTYPE)),)\n   CFG_DEF_SUFFIX := .bsd.def\n   CFG_INSTALL_NAME =\n   CFG_PERF_TOOL := /usr/bin/time\n+\n+  # FIXME (1825): We're deadlocking on FreeBSD\n+  ifndef RUST_THREADS\n+    RUST_THREADS=1\n+    export RUST_THREADS\n+  endif\n endif\n \n ifneq ($(findstring linux,$(CFG_OSTYPE)),)"}]}