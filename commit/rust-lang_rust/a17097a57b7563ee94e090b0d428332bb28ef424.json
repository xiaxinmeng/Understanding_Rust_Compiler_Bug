{"sha": "a17097a57b7563ee94e090b0d428332bb28ef424", "node_id": "MDY6Q29tbWl0NzI0NzEyOmExNzA5N2E1N2I3NTYzZWU5NGUwOTBiMGQ0MjgzMzJiYjI4ZWY0MjQ=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-04-01T04:44:06Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-04-01T04:48:52Z"}, "message": "rt: Make rust_sched_launcher hide it's thread implementation", "tree": {"sha": "2f264198d29992011b445beb2a9d3a6fc5eb4c0e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f264198d29992011b445beb2a9d3a6fc5eb4c0e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a17097a57b7563ee94e090b0d428332bb28ef424", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a17097a57b7563ee94e090b0d428332bb28ef424", "html_url": "https://github.com/rust-lang/rust/commit/a17097a57b7563ee94e090b0d428332bb28ef424", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a17097a57b7563ee94e090b0d428332bb28ef424/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2d8ef7387e737ce1d8ea6f6b9a75626529fff234", "url": "https://api.github.com/repos/rust-lang/rust/commits/2d8ef7387e737ce1d8ea6f6b9a75626529fff234", "html_url": "https://github.com/rust-lang/rust/commit/2d8ef7387e737ce1d8ea6f6b9a75626529fff234"}], "stats": {"total": 15, "additions": 5, "deletions": 10}, "files": [{"sha": "ea444b504aa7edf8ef875ca38c08623761314666", "filename": "src/rt/rust_sched_launcher.cpp", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a17097a57b7563ee94e090b0d428332bb28ef424/src%2Frt%2Frust_sched_launcher.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/a17097a57b7563ee94e090b0d428332bb28ef424/src%2Frt%2Frust_sched_launcher.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_sched_launcher.cpp?ref=a17097a57b7563ee94e090b0d428332bb28ef424", "patch": "@@ -10,8 +10,3 @@ rust_sched_launcher::rust_sched_launcher(rust_scheduler *sched,\n       sched_loop(sched, srv, id),\n       driver(&sched_loop) {\n }\n-\n-void\n-rust_sched_launcher::run() {\n-    driver.start_main_loop();\n-}"}, {"sha": "79a5835efe2de9c1d4ebc7b27b75de91d7a8cb31", "filename": "src/rt/rust_sched_launcher.h", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a17097a57b7563ee94e090b0d428332bb28ef424/src%2Frt%2Frust_sched_launcher.h", "raw_url": "https://github.com/rust-lang/rust/raw/a17097a57b7563ee94e090b0d428332bb28ef424/src%2Frt%2Frust_sched_launcher.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_sched_launcher.h?ref=a17097a57b7563ee94e090b0d428332bb28ef424", "patch": "@@ -7,7 +7,7 @@\n \n class rust_sched_launcher\n   : public kernel_owned<rust_sched_launcher>,\n-    public rust_thread {\n+    private rust_thread {\n public:\n     rust_kernel *kernel;\n \n@@ -18,7 +18,9 @@ class rust_sched_launcher\n public:\n     rust_sched_launcher(rust_scheduler *sched, rust_srv *srv, int id);\n \n-    virtual void run();\n+    void start() { rust_thread::start(); }\n+    void run() { driver.start_main_loop(); }\n+    void join() { rust_thread::join(); }\n     rust_sched_loop *get_loop() { return &sched_loop; }\n };\n "}, {"sha": "1a483b658c0da214bc3bb672563dd74473ac5e1e", "filename": "src/rt/sync/rust_thread.h", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a17097a57b7563ee94e090b0d428332bb28ef424/src%2Frt%2Fsync%2Frust_thread.h", "raw_url": "https://github.com/rust-lang/rust/raw/a17097a57b7563ee94e090b0d428332bb28ef424/src%2Frt%2Fsync%2Frust_thread.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Fsync%2Frust_thread.h?ref=a17097a57b7563ee94e090b0d428332bb28ef424", "patch": "@@ -20,9 +20,7 @@ class rust_thread {\n \n     void start();\n \n-    virtual void run() {\n-        return;\n-    }\n+    virtual void run() = 0;\n \n     void join();\n     void detach();"}]}