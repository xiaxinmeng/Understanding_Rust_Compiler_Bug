{"sha": "6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZkMmU2MWJjNmNhZGNmZGU2OTUyOTEzYjdlMTcwZGVkNTdmN2IwZGQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-12-18T18:36:51Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-12-18T18:36:51Z"}, "message": "auto merge of #11012 : alexcrichton/rust/needstest, r=alexcrichton\n\nCloses #5806\r\nCloses #8259\r\nCloses #8578\r\nCloses #8851\r\nCloses #10412", "tree": {"sha": "1ade26dd8e91fa480624d7f23c8466d70a97bfdf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1ade26dd8e91fa480624d7f23c8466d70a97bfdf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "html_url": "https://github.com/rust-lang/rust/commit/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5ece09277387acf8895f89d439a6cbce4bb55adf", "url": "https://api.github.com/repos/rust-lang/rust/commits/5ece09277387acf8895f89d439a6cbce4bb55adf", "html_url": "https://github.com/rust-lang/rust/commit/5ece09277387acf8895f89d439a6cbce4bb55adf"}, {"sha": "3e04d2e3db98c46b320a6e20d39e0f6247ffc25e", "url": "https://api.github.com/repos/rust-lang/rust/commits/3e04d2e3db98c46b320a6e20d39e0f6247ffc25e", "html_url": "https://github.com/rust-lang/rust/commit/3e04d2e3db98c46b320a6e20d39e0f6247ffc25e"}], "stats": {"total": 227, "additions": 227, "deletions": 0}, "files": [{"sha": "fe3842ef17499539bbd60f701ca9bd68bd3aff41", "filename": "src/test/auxiliary/issue-7178.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Fauxiliary%2Fissue-7178.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Fauxiliary%2Fissue-7178.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fissue-7178.rs?ref=6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "patch": "@@ -0,0 +1,17 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+pub struct Foo<'a, A>(&'a A);\n+\n+impl<'a, A> Foo<'a, A> {\n+    pub fn new(a: &'a A) -> Foo<'a, A> {\n+        Foo(a)\n+    }\n+}"}, {"sha": "91167e8e32b14db41e4181ad5c7f9dcb8cee6d1c", "filename": "src/test/auxiliary/issue-8259.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Fauxiliary%2Fissue-8259.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Fauxiliary%2Fissue-8259.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fissue-8259.rs?ref=6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+\n+pub enum Foo<'a> {\n+    A,\n+    B(&'a str),\n+}"}, {"sha": "1c816c6260169ec2a3bcd94cebd4e8b44b69011e", "filename": "src/test/compile-fail/issue-10412.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Fcompile-fail%2Fissue-10412.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Fcompile-fail%2Fissue-10412.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-10412.rs?ref=6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+\n+trait Serializable<'self, T> { //~ ERROR: no longer a special lifetime\n+    fn serialize(val : &'self T) -> ~[u8];\n+    fn deserialize(repr : &[u8]) -> &'self T;\n+}\n+\n+impl<'self> Serializable<str> for &'self str {\n+    fn serialize(val : &'self str) -> ~[u8] {\n+        ~[1]\n+    }\n+    fn deserialize(repr: &[u8]) -> &'self str {\n+        \"hi\"\n+    }\n+}\n+\n+fn main() {\n+    println(\"hello\");\n+    let x = ~\"foo\";\n+    let y = x;\n+    println(y);\n+}"}, {"sha": "676e8897dde8dd79818383db7cb7452e9a087760", "filename": "src/test/compile-fail/issue-5806.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Fcompile-fail%2Fissue-5806.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Fcompile-fail%2Fissue-5806.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-5806.rs?ref=6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "patch": "@@ -0,0 +1,14 @@\n+// opyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[path = \"../compile-fail\"]\n+mod foo; //~ ERROR: illegal operation on a directory\n+\n+fn main() {}"}, {"sha": "b169d2d48041288851f9f4bad6b545a70e2e7534", "filename": "src/test/run-pass/issue-5950.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-5950.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-5950.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-5950.rs?ref=6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "patch": "@@ -0,0 +1,17 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// xfail-fast\n+\n+pub use local_alias = local;\n+\n+mod local { }\n+\n+fn main() {}"}, {"sha": "3d635b87777a7f5127c0601ed8ba8b5705235d47", "filename": "src/test/run-pass/issue-7178.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-7178.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-7178.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-7178.rs?ref=6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// xfail-fast\n+// aux-build:issue-7178.rs\n+\n+extern mod cross_crate_self = \"issue-7178\";\n+\n+fn main() {\n+    let _ = cross_crate_self::Foo::new(&1i);\n+}"}, {"sha": "3e9007b5e36527f62bd7ad01be3483d4359f5c92", "filename": "src/test/run-pass/issue-8259.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-8259.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-8259.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-8259.rs?ref=6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "patch": "@@ -0,0 +1,17 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// xfail-fast\n+// aux-build:issue-8259.rs\n+\n+extern mod other = \"issue-8259\";\n+static a: other::Foo<'static> = other::A;\n+\n+fn main() {}"}, {"sha": "fcc9278b4c5cc1ab85223de8b172edb7a3fd530f", "filename": "src/test/run-pass/issue-8578.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-8578.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-8578.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-8578.rs?ref=6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+pub struct UninterpretedOption_NamePart {\n+    name_part: Option<~str>,\n+}\n+\n+impl<'a> UninterpretedOption_NamePart {\n+    pub fn default_instance() -> &'static UninterpretedOption_NamePart {\n+        static instance: UninterpretedOption_NamePart = UninterpretedOption_NamePart {\n+            name_part: None,\n+        };\n+        &'static instance\n+    }\n+}\n+\n+pub fn main() {}"}, {"sha": "947331ed4b1816b22291494615139104a2dbac05", "filename": "src/test/run-pass/issue-8851.rs", "status": "added", "additions": 33, "deletions": 0, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-8851.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-8851.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-8851.rs?ref=6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "patch": "@@ -0,0 +1,33 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[feature(macro_rules)];\n+\n+enum T {\n+    A(int),\n+    B(uint)\n+}\n+\n+macro_rules! test(\n+    ($e:expr) => (\n+        fn foo(t: T) -> int {\n+            match t {\n+                A(y) => $e,\n+                B(y) => $e\n+            }\n+        }\n+    )\n+)\n+\n+test!(10 + (y as int))\n+\n+pub fn main() {\n+    foo(A(20));\n+}"}, {"sha": "bc6702c6df645db0c70a800ccfda3034a27a2ee1", "filename": "src/test/run-pass/issue-9129.rs", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-9129.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d2e61bc6cadcfde6952913b7e170ded57f7b0dd/src%2Ftest%2Frun-pass%2Fissue-9129.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-9129.rs?ref=6d2e61bc6cadcfde6952913b7e170ded57f7b0dd", "patch": "@@ -0,0 +1,41 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// xfail-pretty\n+\n+#[feature(managed_boxes, macro_rules)];\n+\n+pub trait bomb { fn boom(@self, Ident); }\n+pub struct S;\n+impl bomb for S { fn boom(@self, _: Ident) { } }\n+\n+pub struct Ident { name: uint }\n+\n+// macro_rules! int3( () => ( unsafe { asm!( \"int3\" ); } ) )\n+macro_rules! int3( () => ( { } ) )\n+\n+fn Ident_new() -> Ident {\n+    int3!();\n+    Ident {name: 0x6789ABCD }\n+}\n+\n+pub fn light_fuse(fld: @bomb) {\n+    int3!();\n+    let f = || {\n+        int3!();\n+        fld.boom(Ident_new()); // *** 1\n+    };\n+    f();\n+}\n+\n+pub fn main() {\n+    let b = @S as @bomb;\n+    light_fuse(b);\n+}"}]}