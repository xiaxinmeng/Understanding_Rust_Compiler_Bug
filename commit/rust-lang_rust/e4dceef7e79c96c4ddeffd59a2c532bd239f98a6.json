{"sha": "e4dceef7e79c96c4ddeffd59a2c532bd239f98a6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU0ZGNlZWY3ZTc5Yzk2YzRkZGVmZmQ1OWEyYzUzMmJkMjM5Zjk4YTY=", "commit": {"author": {"name": "mcarton", "email": "cartonmartin+git@gmail.com", "date": "2016-06-29T11:58:07Z"}, "committer": {"name": "mcarton", "email": "cartonmartin+git@gmail.com", "date": "2016-06-29T12:29:25Z"}, "message": "Revert \"Automatically defines the `clippy` feature\"\n\nThis reverts commit d7ba66bf44f993e64114e17cc15f1b0d56ae8f70.\n\nIt was causing problems with crates with:\n\n```rust\n#![cfg_attr(feature=\"clippy\", plugin(clippy))]\n```", "tree": {"sha": "034bcb674a419c914da57deb883e07e4956ce6a1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/034bcb674a419c914da57deb883e07e4956ce6a1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e4dceef7e79c96c4ddeffd59a2c532bd239f98a6", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2\n\niQIcBAABCAAGBQJXc780AAoJEF5CfHlMukXod9AQALUtyOetAoF7+UzBGqtv6Awc\nPlBLCn0/IB2R4MuKAvm8Ag3Ha9SrTvM1nRdZJQ4LDxr3xjO9eQt8HzHupbjLYa6i\nXqCPwBftaWNlsL4btICCC+hoSMUAV2mXdLrqLlMGQKBeJyBv/5esda4UXMISwTkM\nmBpxpX6H/UKvW07/NmnZPGWFIkuG/qtx9pS2gZkehBxsH5+jhIJJCbfjDIA5WbiU\nNqrwRb3yHlNcIUz08KTv7dLSyc7PJywAS9Py7EdKFj3EVJU7OSlH/AgqT6F+0O0N\nxhlpVRjCbc2M7OWhwpwmdmDNzgbWlTA5gzuKO2GJ+7iA7O7SKpVo3e2sPHyXIwQk\nqOtUa/DSPqNj3zRZQemPiDjFu0ehbJvdQwYj+qo9UP8evm59yH2rCxuwJN3IYwCy\n+JsUT1jLKroHeuYaGDlwOA7Wrx1FRL6A2paW+vuLkDCup0BEwqWSphT6uqWJDE91\n8mpSbM20vlmF4Uee5PZTp5ExNWE5Vd0EmxTiVrTcNEDZQ11VGdOcfCJgLMbYP6t6\nfOHnWcv8t1v/94/7s4GnS5JP17eeWkQoWn/kxwDMnYCrEJMNGLBRJ8spOuXh3aGH\nfuRN63ZiAJnnfxw4UJtIKivTAP4vgKhhdQyLLOskrfP5IDiWvrU1hTZ51mgboIlt\ntJdIKNHeAGyLn6Iapwrp\n=/wDJ\n-----END PGP SIGNATURE-----", "payload": "tree 034bcb674a419c914da57deb883e07e4956ce6a1\nparent 9ceb7087274bff3238d4d18293ce3db03e9898b3\nauthor mcarton <cartonmartin+git@gmail.com> 1467201487 +0200\ncommitter mcarton <cartonmartin+git@gmail.com> 1467203365 +0200\n\nRevert \"Automatically defines the `clippy` feature\"\n\nThis reverts commit d7ba66bf44f993e64114e17cc15f1b0d56ae8f70.\n\nIt was causing problems with crates with:\n\n```rust\n#![cfg_attr(feature=\"clippy\", plugin(clippy))]\n```\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e4dceef7e79c96c4ddeffd59a2c532bd239f98a6", "html_url": "https://github.com/rust-lang/rust/commit/e4dceef7e79c96c4ddeffd59a2c532bd239f98a6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e4dceef7e79c96c4ddeffd59a2c532bd239f98a6/comments", "author": {"login": "mcarton", "id": 3751788, "node_id": "MDQ6VXNlcjM3NTE3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/3751788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcarton", "html_url": "https://github.com/mcarton", "followers_url": "https://api.github.com/users/mcarton/followers", "following_url": "https://api.github.com/users/mcarton/following{/other_user}", "gists_url": "https://api.github.com/users/mcarton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcarton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcarton/subscriptions", "organizations_url": "https://api.github.com/users/mcarton/orgs", "repos_url": "https://api.github.com/users/mcarton/repos", "events_url": "https://api.github.com/users/mcarton/events{/privacy}", "received_events_url": "https://api.github.com/users/mcarton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mcarton", "id": 3751788, "node_id": "MDQ6VXNlcjM3NTE3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/3751788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcarton", "html_url": "https://github.com/mcarton", "followers_url": "https://api.github.com/users/mcarton/followers", "following_url": "https://api.github.com/users/mcarton/following{/other_user}", "gists_url": "https://api.github.com/users/mcarton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcarton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcarton/subscriptions", "organizations_url": "https://api.github.com/users/mcarton/orgs", "repos_url": "https://api.github.com/users/mcarton/repos", "events_url": "https://api.github.com/users/mcarton/events{/privacy}", "received_events_url": "https://api.github.com/users/mcarton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9ceb7087274bff3238d4d18293ce3db03e9898b3", "url": "https://api.github.com/repos/rust-lang/rust/commits/9ceb7087274bff3238d4d18293ce3db03e9898b3", "html_url": "https://github.com/rust-lang/rust/commit/9ceb7087274bff3238d4d18293ce3db03e9898b3"}], "stats": {"total": 16, "additions": 3, "deletions": 13}, "files": [{"sha": "168d7a12065ebff74a0b439f6881af9602f31d5a", "filename": "CHANGELOG.md", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e4dceef7e79c96c4ddeffd59a2c532bd239f98a6/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/e4dceef7e79c96c4ddeffd59a2c532bd239f98a6/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=e4dceef7e79c96c4ddeffd59a2c532bd239f98a6", "patch": "@@ -3,6 +3,8 @@ All notable changes to this project will be documented in this file.\n \n ## 0.0.78 - TBA\n * New lints: [`wrong_transmute`]\n+* For compatibility, `cargo clippy` does not defines the `clippy` feature\n+  introduced in 0.0.76 anymore\n \n ## 0.0.77 \u2014 2016-06-21\n * Rustup to *rustc 1.11.0-nightly (5522e678b 2016-06-20)*"}, {"sha": "2f54835d5387c6a327fc896c5bacb7c36195a4ac", "filename": "README.md", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/e4dceef7e79c96c4ddeffd59a2c532bd239f98a6/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/e4dceef7e79c96c4ddeffd59a2c532bd239f98a6/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=e4dceef7e79c96c4ddeffd59a2c532bd239f98a6", "patch": "@@ -326,13 +326,6 @@ You can add options  to `allow`/`warn`/`deny`:\n \n Note: `deny` produces errors instead of warnings.\n \n-For convenience, `cargo clippy` automatically defines a `clippy` features. This\n-lets you set lints level and compile with or without clippy transparently:\n-\n-```rust\n-#[cfg_attr(feature = \"clippy\", allow(needless_lifetimes))]\n-```\n-\n ## Link with clippy service\n \n `clippy-service` is a rust web initiative providing `rust-clippy` as a web service."}, {"sha": "17a219cafa081e7e539ef51a7524295e4aaa3f54", "filename": "src/main.rs", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/e4dceef7e79c96c4ddeffd59a2c532bd239f98a6/src%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4dceef7e79c96c4ddeffd59a2c532bd239f98a6/src%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmain.rs?ref=e4dceef7e79c96c4ddeffd59a2c532bd239f98a6", "patch": "@@ -149,14 +149,11 @@ pub fn main() {\n             }\n         }\n     } else {\n-        let mut args: Vec<String> = if env::args().any(|s| s == \"--sysroot\") {\n+        let args: Vec<String> = if env::args().any(|s| s == \"--sysroot\") {\n             env::args().collect()\n         } else {\n             env::args().chain(Some(\"--sysroot\".to_owned())).chain(Some(sys_root)).collect()\n         };\n-\n-        args.extend_from_slice(&[\"--cfg\".to_owned(), r#\"feature=\"clippy\"\"#.to_owned()]);\n-\n         let (result, _) = rustc_driver::run_compiler(&args, &mut ClippyCompilerCalls::new());\n \n         if let Err(err_count) = result {\n@@ -187,8 +184,6 @@ fn process<P, I>(old_args: I, dep_path: P, sysroot: &str) -> Result<(), i32>\n     args.push(String::from(\"--sysroot\"));\n     args.push(sysroot.to_owned());\n     args.push(\"-Zno-trans\".to_owned());\n-    args.push(\"--cfg\".to_owned());\n-    args.push(r#\"feature=\"clippy\"\"#.to_owned());\n \n     let path = std::env::current_exe().expect(\"current executable path invalid\");\n     let exit_status = std::process::Command::new(\"cargo\")"}]}