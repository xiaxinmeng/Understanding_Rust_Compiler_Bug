{"sha": "6841c777f6ccc0cb78f6889fc4224167aab43232", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY4NDFjNzc3ZjZjY2MwY2I3OGY2ODg5ZmM0MjI0MTY3YWFiNDMyMzI=", "commit": {"author": {"name": "Aleksander Balicki", "email": "balicki.aleksander@gmail.com", "date": "2012-01-28T01:52:44Z"}, "committer": {"name": "Aleksander Balicki", "email": "balicki.aleksander@gmail.com", "date": "2012-01-28T01:52:44Z"}, "message": "Update cp to install, so we can safely install on systems with restrictive umasks", "tree": {"sha": "30bd63d6f015f4baa070352e3eb38f8749aa8f85", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/30bd63d6f015f4baa070352e3eb38f8749aa8f85"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6841c777f6ccc0cb78f6889fc4224167aab43232", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6841c777f6ccc0cb78f6889fc4224167aab43232", "html_url": "https://github.com/rust-lang/rust/commit/6841c777f6ccc0cb78f6889fc4224167aab43232", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6841c777f6ccc0cb78f6889fc4224167aab43232/comments", "author": {"login": "alistra", "id": 233144, "node_id": "MDQ6VXNlcjIzMzE0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/233144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alistra", "html_url": "https://github.com/alistra", "followers_url": "https://api.github.com/users/alistra/followers", "following_url": "https://api.github.com/users/alistra/following{/other_user}", "gists_url": "https://api.github.com/users/alistra/gists{/gist_id}", "starred_url": "https://api.github.com/users/alistra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alistra/subscriptions", "organizations_url": "https://api.github.com/users/alistra/orgs", "repos_url": "https://api.github.com/users/alistra/repos", "events_url": "https://api.github.com/users/alistra/events{/privacy}", "received_events_url": "https://api.github.com/users/alistra/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alistra", "id": 233144, "node_id": "MDQ6VXNlcjIzMzE0NA==", "avatar_url": "https://avatars.githubusercontent.com/u/233144?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alistra", "html_url": "https://github.com/alistra", "followers_url": "https://api.github.com/users/alistra/followers", "following_url": "https://api.github.com/users/alistra/following{/other_user}", "gists_url": "https://api.github.com/users/alistra/gists{/gist_id}", "starred_url": "https://api.github.com/users/alistra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alistra/subscriptions", "organizations_url": "https://api.github.com/users/alistra/orgs", "repos_url": "https://api.github.com/users/alistra/repos", "events_url": "https://api.github.com/users/alistra/events{/privacy}", "received_events_url": "https://api.github.com/users/alistra/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "53dbde6cc2aabbf44bf75aea1eecad5729396081", "url": "https://api.github.com/repos/rust-lang/rust/commits/53dbde6cc2aabbf44bf75aea1eecad5729396081", "html_url": "https://github.com/rust-lang/rust/commit/53dbde6cc2aabbf44bf75aea1eecad5729396081"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "9a5ad5a6c9fbbf7186f4045df6f02a00b76ae16d", "filename": "mk/install.mk", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/6841c777f6ccc0cb78f6889fc4224167aab43232/mk%2Finstall.mk", "raw_url": "https://github.com/rust-lang/rust/raw/6841c777f6ccc0cb78f6889fc4224167aab43232/mk%2Finstall.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Finstall.mk?ref=6841c777f6ccc0cb78f6889fc4224167aab43232", "patch": "@@ -5,12 +5,12 @@\n # Installation macro. Call with source directory as arg 1,\n # destination directory as arg 2, and filename/libname-glob as arg 3\n ifdef VERBOSE\n- INSTALL = cp $(1)/$(3) $(2)/$(3)\n- INSTALL_LIB = cp `ls -rt1 $(1)/$(3) | tail -1` $(2)/\n+ INSTALL = install -m755 -T $(1)/$(3) $(2)/$(3)\n+ INSTALL_LIB = install -m644 `ls -rt1 $(1)/$(3) | tail -1` $(2)/\n else\n- INSTALL = $(Q)$(call E, install: $(2)/$(3)) && cp $(1)/$(3) $(2)/$(3)\n+ INSTALL = $(Q)$(call E, install: $(2)/$(3)) && install -m755 -T $(1)/$(3) $(2)/$(3)\n  INSTALL_LIB = $(Q)$(call E, install_lib: $(2)/$(3)) &&                    \\\n-\t       cp `ls -rt1 $(1)/$(3) | tail -1` $(2)/\n+\t       install -m644 `ls -rt1 $(1)/$(3) | tail -1` $(2)/\n endif\n \n # The stage we install from"}]}