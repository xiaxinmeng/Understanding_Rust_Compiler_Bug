{"sha": "900037e3c35d822a0487f74d2866433a7ca2f19c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkwMDAzN2UzYzM1ZDgyMmEwNDg3Zjc0ZDI4NjY0MzNhN2NhMmYxOWM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-06-10T12:46:14Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-06-10T12:46:14Z"}, "message": "Auto merge of #51079 - GuillaumeGomez:stabilize-entry-or-default, r=SimonSapin\n\nStabilize entry-or-default\n\nFixes #44324.\n\ncc @SimonSapin", "tree": {"sha": "9a454d89228f81d60213bf64001c53242bf1e3de", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9a454d89228f81d60213bf64001c53242bf1e3de"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/900037e3c35d822a0487f74d2866433a7ca2f19c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/900037e3c35d822a0487f74d2866433a7ca2f19c", "html_url": "https://github.com/rust-lang/rust/commit/900037e3c35d822a0487f74d2866433a7ca2f19c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/900037e3c35d822a0487f74d2866433a7ca2f19c/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b", "url": "https://api.github.com/repos/rust-lang/rust/commits/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b", "html_url": "https://github.com/rust-lang/rust/commit/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b"}, {"sha": "861c7cb9fd37fc171f80a9f0b58f995ad67c6df0", "url": "https://api.github.com/repos/rust-lang/rust/commits/861c7cb9fd37fc171f80a9f0b58f995ad67c6df0", "html_url": "https://github.com/rust-lang/rust/commit/861c7cb9fd37fc171f80a9f0b58f995ad67c6df0"}], "stats": {"total": 21, "additions": 2, "deletions": 19}, "files": [{"sha": "f8c8a2a7a718bafa31c0f1dcd8adabb885cd12f6", "filename": "src/doc/unstable-book/src/library-features/entry-or-default.md", "status": "removed", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fentry-or-default.md", "raw_url": "https://github.com/rust-lang/rust/raw/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fentry-or-default.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fentry-or-default.md?ref=684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b", "patch": "@@ -1,13 +0,0 @@\n-# `entry_or_default`\n-\n-The tracking issue for this feature is: [#44324]\n-\n-[#44324]: https://github.com/rust-lang/rust/issues/44324\n-\n-------------------------\n-\n-The `entry_or_default` feature adds a new method to `hash_map::Entry`\n-and `btree_map::Entry`, `or_default`, when `V: Default`. This method is\n-semantically identical to `or_insert_with(Default::default)`, and will\n-insert the default value for the type if no entry exists for the current\n-key."}, {"sha": "e6e454446e232de826fe5a77a4837d4d5a2679e1", "filename": "src/liballoc/btree/map.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/900037e3c35d822a0487f74d2866433a7ca2f19c/src%2Fliballoc%2Fbtree%2Fmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/900037e3c35d822a0487f74d2866433a7ca2f19c/src%2Fliballoc%2Fbtree%2Fmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fbtree%2Fmap.rs?ref=900037e3c35d822a0487f74d2866433a7ca2f19c", "patch": "@@ -2184,14 +2184,13 @@ impl<'a, K: Ord, V> Entry<'a, K, V> {\n }\n \n impl<'a, K: Ord, V: Default> Entry<'a, K, V> {\n-    #[unstable(feature = \"entry_or_default\", issue = \"44324\")]\n+    #[stable(feature = \"entry_or_default\", since = \"1.28.0\")]\n     /// Ensures a value is in the entry by inserting the default value if empty,\n     /// and returns a mutable reference to the value in the entry.\n     ///\n     /// # Examples\n     ///\n     /// ```\n-    /// #![feature(entry_or_default)]\n     /// # fn main() {\n     /// use std::collections::BTreeMap;\n     ///"}, {"sha": "102efe2bef3f750077e02e4fa67be742bdccf89d", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/900037e3c35d822a0487f74d2866433a7ca2f19c/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/900037e3c35d822a0487f74d2866433a7ca2f19c/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=900037e3c35d822a0487f74d2866433a7ca2f19c", "patch": "@@ -45,7 +45,6 @@\n #![feature(const_fn)]\n #![feature(core_intrinsics)]\n #![feature(drain_filter)]\n-#![feature(entry_or_default)]\n #![feature(from_ref)]\n #![feature(fs_read_write)]\n #![feature(iterator_find_map)]"}, {"sha": "9c77acb83ecb1c27904752d826339857fd8d3ee7", "filename": "src/libstd/collections/hash/map.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/900037e3c35d822a0487f74d2866433a7ca2f19c/src%2Flibstd%2Fcollections%2Fhash%2Fmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/900037e3c35d822a0487f74d2866433a7ca2f19c/src%2Flibstd%2Fcollections%2Fhash%2Fmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fcollections%2Fhash%2Fmap.rs?ref=900037e3c35d822a0487f74d2866433a7ca2f19c", "patch": "@@ -2161,14 +2161,13 @@ impl<'a, K, V> Entry<'a, K, V> {\n }\n \n impl<'a, K, V: Default> Entry<'a, K, V> {\n-    #[unstable(feature = \"entry_or_default\", issue = \"44324\")]\n+    #[stable(feature = \"entry_or_default\", since = \"1.28.0\")]\n     /// Ensures a value is in the entry by inserting the default value if empty,\n     /// and returns a mutable reference to the value in the entry.\n     ///\n     /// # Examples\n     ///\n     /// ```\n-    /// #![feature(entry_or_default)]\n     /// # fn main() {\n     /// use std::collections::HashMap;\n     ///\n@@ -2184,7 +2183,6 @@ impl<'a, K, V: Default> Entry<'a, K, V> {\n             Vacant(entry) => entry.insert(Default::default()),\n         }\n     }\n-\n }\n \n impl<'a, K, V> OccupiedEntry<'a, K, V> {"}]}