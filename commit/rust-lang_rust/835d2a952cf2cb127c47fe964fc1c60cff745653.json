{"sha": "835d2a952cf2cb127c47fe964fc1c60cff745653", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgzNWQyYTk1MmNmMmNiMTI3YzQ3ZmU5NjRmYzFjNjBjZmY3NDU2NTM=", "commit": {"author": {"name": "Eduard-Mihai Burtescu", "email": "edy.burt@gmail.com", "date": "2016-03-19T10:30:02Z"}, "committer": {"name": "Eduard-Mihai Burtescu", "email": "edy.burt@gmail.com", "date": "2016-03-19T10:30:02Z"}, "message": "Rollup merge of #32342 - petevine:patch-1, r=alexcrichton\n\nUse explicit -march flags in the i586 mk file\n\n`-march` should definitely go last, after the environment `$C(XX)FLAGS`, or it's going to remain brittle.\n\nThis should fix cross-compilation issues on x86_64 (possibly x86 too on some newer distros) - it was far too assuming of me to expect you really had to want i586 using your own flags.", "tree": {"sha": "6e65d139f4596c9694d0b34bbb2b4d1d9ec6f0c8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6e65d139f4596c9694d0b34bbb2b4d1d9ec6f0c8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/835d2a952cf2cb127c47fe964fc1c60cff745653", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/835d2a952cf2cb127c47fe964fc1c60cff745653", "html_url": "https://github.com/rust-lang/rust/commit/835d2a952cf2cb127c47fe964fc1c60cff745653", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/835d2a952cf2cb127c47fe964fc1c60cff745653/comments", "author": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4a67405ba9870d643d3b6314b1b0e52d37b6958e", "url": "https://api.github.com/repos/rust-lang/rust/commits/4a67405ba9870d643d3b6314b1b0e52d37b6958e", "html_url": "https://github.com/rust-lang/rust/commit/4a67405ba9870d643d3b6314b1b0e52d37b6958e"}, {"sha": "2ab1f0a850f4e02c5dacf882c040b3acee57f86a", "url": "https://api.github.com/repos/rust-lang/rust/commits/2ab1f0a850f4e02c5dacf882c040b3acee57f86a", "html_url": "https://github.com/rust-lang/rust/commit/2ab1f0a850f4e02c5dacf882c040b3acee57f86a"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "2b28550320d85b2b31ec74495dee6c1dbf24dc53", "filename": "mk/cfg/i586-unknown-linux-gnu.mk", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/835d2a952cf2cb127c47fe964fc1c60cff745653/mk%2Fcfg%2Fi586-unknown-linux-gnu.mk", "raw_url": "https://github.com/rust-lang/rust/raw/835d2a952cf2cb127c47fe964fc1c60cff745653/mk%2Fcfg%2Fi586-unknown-linux-gnu.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fi586-unknown-linux-gnu.mk?ref=835d2a952cf2cb127c47fe964fc1c60cff745653", "patch": "@@ -7,9 +7,9 @@ CFG_LIB_NAME_i586-unknown-linux-gnu=lib$(1).so\n CFG_STATIC_LIB_NAME_i586-unknown-linux-gnu=lib$(1).a\n CFG_LIB_GLOB_i586-unknown-linux-gnu=lib$(1)-*.so\n CFG_LIB_DSYM_GLOB_i586-unknown-linux-gnu=lib$(1)-*.dylib.dSYM\n-CFG_JEMALLOC_CFLAGS_i586-unknown-linux-gnu := -m32 $(CFLAGS)\n-CFG_GCCISH_CFLAGS_i586-unknown-linux-gnu := -Wall -Werror -g -fPIC -m32 $(CFLAGS)\n-CFG_GCCISH_CXXFLAGS_i586-unknown-linux-gnu := -fno-rtti $(CXXFLAGS)\n+CFG_JEMALLOC_CFLAGS_i586-unknown-linux-gnu := -m32 $(CFLAGS) -march=pentium\n+CFG_GCCISH_CFLAGS_i586-unknown-linux-gnu := -Wall -Werror -g -fPIC -m32 $(CFLAGS) -march=pentium\n+CFG_GCCISH_CXXFLAGS_i586-unknown-linux-gnu := -fno-rtti $(CXXFLAGS) -march=pentium\n CFG_GCCISH_LINK_FLAGS_i586-unknown-linux-gnu := -shared -fPIC -ldl -pthread  -lrt -g -m32\n CFG_GCCISH_DEF_FLAG_i586-unknown-linux-gnu := -Wl,--export-dynamic,--dynamic-list=\n CFG_LLC_FLAGS_i586-unknown-linux-gnu :="}]}