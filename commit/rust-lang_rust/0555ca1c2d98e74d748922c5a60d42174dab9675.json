{"sha": "0555ca1c2d98e74d748922c5a60d42174dab9675", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA1NTVjYTFjMmQ5OGU3NGQ3NDg5MjJjNWE2MGQ0MjE3NGRhYjk2NzU=", "commit": {"author": {"name": "daxpedda", "email": "daxpedda@users.noreply.github.com", "date": "2019-01-20T13:18:31Z"}, "committer": {"name": "daxpedda", "email": "daxpedda@users.noreply.github.com", "date": "2019-01-20T13:18:31Z"}, "message": "Remove negative integer literal checks.", "tree": {"sha": "f103a79fbc0edfd2b2ff21c48eba19e6aa6c4833", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f103a79fbc0edfd2b2ff21c48eba19e6aa6c4833"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0555ca1c2d98e74d748922c5a60d42174dab9675", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJWBAABCABAFiEEtfVYniVMfR+YKQUSxyLctqGR7qsFAlxEdSciHGRheHBlZGRh\nQHVzZXJzLm5vcmVwbHkuZ2l0aHViLmNvbQAKCRDHIty2oZHuq/gbD/sGwdpSKOB5\nmwfjM9OX2ngii1CBmOsAOggAT1Z65OH+A/E17KRDe+y8xALhmNl7xlCED3BIEs0t\nt3cmJKhzfoyCVLm0Sq6e444y4xMHDlmo7Kod75+iW/MUxx2C9M6OBWUvEwiUP+el\nysMFwtscBceFTFWhJ+94YcbcZFYqm7eGDuaL8FOFElZZ4ZMQXmUkGpU4m2J+Ulbb\nl3Y6Y3PXWlW2COuK6X1vMKnDzR3M+LcAikjCSMCzPbjan7szke1wyJpKhxFrLPou\nq4iUgvkvWtL4f1yL56Dtwi+lFoiqeGPGfZxvxd4wpBqgVfUiwQAcv7WPx9rBdEf7\nqNwoqz6YKlo7aN7JbOjU/RTMmZRzVEIdPgvMZ1m3b5LkwIzpgEDd3h6zj/lmDjQm\nH52c3qid6daYpJMv++ORkELrIPL4uN4OyXKjrFR8bWBuUjT2HxVlAxVF7vL6hddu\nVJGoLnwmwJyo0rZwT4Ro/kC2GjNd96+B0Q3qbj5o7kicCmoF7gCbcW/05OwiTsMc\nKNglYCjbpI2NwyNBFD1CyRpoz+RBbnC0Z3BIPVUhYB8yEBL4PlRfxLsmzfkkPkR+\nDkyDxlifE4kdcBC6mvrG7RUiU3AOh6jLhmAdH/qf5gMcCPq50bUNebEGNuyIPAYi\nSyzNpBo+g0JaTkg7wRSUyj9t9J/lqsPETg==\n=sYDf\n-----END PGP SIGNATURE-----", "payload": "tree f103a79fbc0edfd2b2ff21c48eba19e6aa6c4833\nparent e648adf0866a1cea7db6ce2d33ea86e442f25377\nauthor daxpedda <daxpedda@users.noreply.github.com> 1547990311 +0100\ncommitter daxpedda <daxpedda@users.noreply.github.com> 1547990311 +0100\n\nRemove negative integer literal checks.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0555ca1c2d98e74d748922c5a60d42174dab9675", "html_url": "https://github.com/rust-lang/rust/commit/0555ca1c2d98e74d748922c5a60d42174dab9675", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0555ca1c2d98e74d748922c5a60d42174dab9675/comments", "author": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "committer": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e648adf0866a1cea7db6ce2d33ea86e442f25377", "url": "https://api.github.com/repos/rust-lang/rust/commits/e648adf0866a1cea7db6ce2d33ea86e442f25377", "html_url": "https://github.com/rust-lang/rust/commit/e648adf0866a1cea7db6ce2d33ea86e442f25377"}], "stats": {"total": 16, "additions": 3, "deletions": 13}, "files": [{"sha": "4ad2c43e0836bb95dd348107c8f679b1ae792b19", "filename": "clippy_lints/src/arithmetic.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0555ca1c2d98e74d748922c5a60d42174dab9675/clippy_lints%2Fsrc%2Farithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0555ca1c2d98e74d748922c5a60d42174dab9675/clippy_lints%2Fsrc%2Farithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Farithmetic.rs?ref=0555ca1c2d98e74d748922c5a60d42174dab9675", "patch": "@@ -92,11 +92,7 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for Arithmetic {\n                 }\n             },\n             hir::ExprKind::Unary(hir::UnOp::UnNeg, arg) => {\n-                let ty = cx.tables.expr_ty(arg);\n-                if ty.is_integral() {\n-                    span_lint(cx, INTEGER_ARITHMETIC, expr.span, \"integer arithmetic detected\");\n-                    self.expr_span = Some(expr.span);\n-                } else if ty.is_floating_point() {\n+                if cx.tables.expr_ty(arg).is_floating_point() {\n                     span_lint(cx, FLOAT_ARITHMETIC, expr.span, \"floating-point arithmetic detected\");\n                     self.expr_span = Some(expr.span);\n                 }"}, {"sha": "5e9f8d41a1680a31f7943dc1471b763bb3a6d167", "filename": "tests/ui/arithmetic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0555ca1c2d98e74d748922c5a60d42174dab9675/tests%2Fui%2Farithmetic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0555ca1c2d98e74d748922c5a60d42174dab9675/tests%2Fui%2Farithmetic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Farithmetic.rs?ref=0555ca1c2d98e74d748922c5a60d42174dab9675", "patch": "@@ -15,7 +15,7 @@ fn main() {\n     1 %\n     i / 2; // no error, this is part of the expression in the preceding line\n     i - 2 + 2 - i;\n-    -i;\n+    -i; // no error, overflows are checked by `overflowing_literals`\n \n     i & 1; // no wrapping\n     i | 1;"}, {"sha": "df441e4d3f8e3a40319c84ba96f87237a09be527", "filename": "tests/ui/arithmetic.stderr", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/0555ca1c2d98e74d748922c5a60d42174dab9675/tests%2Fui%2Farithmetic.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0555ca1c2d98e74d748922c5a60d42174dab9675/tests%2Fui%2Farithmetic.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Farithmetic.stderr?ref=0555ca1c2d98e74d748922c5a60d42174dab9675", "patch": "@@ -25,12 +25,6 @@ error: integer arithmetic detected\n LL |     i - 2 + 2 - i;\n    |     ^^^^^^^^^^^^^\n \n-error: integer arithmetic detected\n-  --> $DIR/arithmetic.rs:18:5\n-   |\n-LL |     -i;\n-   |     ^^\n-\n error: floating-point arithmetic detected\n   --> $DIR/arithmetic.rs:28:5\n    |\n@@ -69,5 +63,5 @@ error: floating-point arithmetic detected\n LL |     -f;\n    |     ^^\n \n-error: aborting due to 11 previous errors\n+error: aborting due to 10 previous errors\n "}]}