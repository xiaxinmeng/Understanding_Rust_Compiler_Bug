{"sha": "b50ba06a83981633b9c1e192fd8a3fc46c3a2226", "node_id": "C_kwDOAAsO6NoAKGI1MGJhMDZhODM5ODE2MzNiOWMxZTE5MmZkOGEzZmM0NmMzYTIyMjY", "commit": {"author": {"name": "lengyijun", "email": "sjtu5140809011@gmail.com", "date": "2022-08-03T03:56:59Z"}, "committer": {"name": "lengyijun", "email": "sjtu5140809011@gmail.com", "date": "2022-08-03T04:57:36Z"}, "message": "fix typo in tests/ui/redundant_allocation.rs", "tree": {"sha": "0e67bcd57e49e18fe8517265c3a23c8e04f29454", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0e67bcd57e49e18fe8517265c3a23c8e04f29454"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b50ba06a83981633b9c1e192fd8a3fc46c3a2226", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b50ba06a83981633b9c1e192fd8a3fc46c3a2226", "html_url": "https://github.com/rust-lang/rust/commit/b50ba06a83981633b9c1e192fd8a3fc46c3a2226", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b50ba06a83981633b9c1e192fd8a3fc46c3a2226/comments", "author": {"login": "lengyijun", "id": 14830596, "node_id": "MDQ6VXNlcjE0ODMwNTk2", "avatar_url": "https://avatars.githubusercontent.com/u/14830596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lengyijun", "html_url": "https://github.com/lengyijun", "followers_url": "https://api.github.com/users/lengyijun/followers", "following_url": "https://api.github.com/users/lengyijun/following{/other_user}", "gists_url": "https://api.github.com/users/lengyijun/gists{/gist_id}", "starred_url": "https://api.github.com/users/lengyijun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lengyijun/subscriptions", "organizations_url": "https://api.github.com/users/lengyijun/orgs", "repos_url": "https://api.github.com/users/lengyijun/repos", "events_url": "https://api.github.com/users/lengyijun/events{/privacy}", "received_events_url": "https://api.github.com/users/lengyijun/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lengyijun", "id": 14830596, "node_id": "MDQ6VXNlcjE0ODMwNTk2", "avatar_url": "https://avatars.githubusercontent.com/u/14830596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lengyijun", "html_url": "https://github.com/lengyijun", "followers_url": "https://api.github.com/users/lengyijun/followers", "following_url": "https://api.github.com/users/lengyijun/following{/other_user}", "gists_url": "https://api.github.com/users/lengyijun/gists{/gist_id}", "starred_url": "https://api.github.com/users/lengyijun/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lengyijun/subscriptions", "organizations_url": "https://api.github.com/users/lengyijun/orgs", "repos_url": "https://api.github.com/users/lengyijun/repos", "events_url": "https://api.github.com/users/lengyijun/events{/privacy}", "received_events_url": "https://api.github.com/users/lengyijun/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "05e7d5481b7d405f0ebb04f3c83fb19618871c19", "url": "https://api.github.com/repos/rust-lang/rust/commits/05e7d5481b7d405f0ebb04f3c83fb19618871c19", "html_url": "https://github.com/rust-lang/rust/commit/05e7d5481b7d405f0ebb04f3c83fb19618871c19"}], "stats": {"total": 52, "additions": 21, "deletions": 31}, "files": [{"sha": "574d34aed2d87d1260b8b8558c7d36e28785c346", "filename": "tests/ui/redundant_allocation.rs", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b50ba06a83981633b9c1e192fd8a3fc46c3a2226/tests%2Fui%2Fredundant_allocation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b50ba06a83981633b9c1e192fd8a3fc46c3a2226/tests%2Fui%2Fredundant_allocation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fredundant_allocation.rs?ref=b50ba06a83981633b9c1e192fd8a3fc46c3a2226", "patch": "@@ -1,21 +1,13 @@\n #![warn(clippy::all)]\n-#![allow(clippy::boxed_local, clippy::needless_pass_by_value)]\n-#![allow(clippy::disallowed_names, unused_variables, dead_code)]\n-#![allow(unused_imports)]\n+#![allow(clippy::boxed_local, clippy::disallowed_names)]\n \n pub struct MyStruct;\n \n pub struct SubT<T> {\n     foo: T,\n }\n \n-pub enum MyEnum {\n-    One,\n-    Two,\n-}\n-\n mod outer_box {\n-    use crate::MyEnum;\n     use crate::MyStruct;\n     use crate::SubT;\n     use std::boxed::Box;\n@@ -36,7 +28,6 @@ mod outer_box {\n }\n \n mod outer_rc {\n-    use crate::MyEnum;\n     use crate::MyStruct;\n     use crate::SubT;\n     use std::boxed::Box;\n@@ -57,7 +48,6 @@ mod outer_rc {\n }\n \n mod outer_arc {\n-    use crate::MyEnum;\n     use crate::MyStruct;\n     use crate::SubT;\n     use std::boxed::Box;"}, {"sha": "54d4d88dba81933ae1962c267a88ffa35cfae47b", "filename": "tests/ui/redundant_allocation.stderr", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/b50ba06a83981633b9c1e192fd8a3fc46c3a2226/tests%2Fui%2Fredundant_allocation.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b50ba06a83981633b9c1e192fd8a3fc46c3a2226/tests%2Fui%2Fredundant_allocation.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fredundant_allocation.stderr?ref=b50ba06a83981633b9c1e192fd8a3fc46c3a2226", "patch": "@@ -1,5 +1,5 @@\n error: usage of `Box<Rc<T>>`\n-  --> $DIR/redundant_allocation.rs:25:30\n+  --> $DIR/redundant_allocation.rs:17:30\n    |\n LL |     pub fn box_test6<T>(foo: Box<Rc<T>>) {}\n    |                              ^^^^^^^^^^\n@@ -9,7 +9,7 @@ LL |     pub fn box_test6<T>(foo: Box<Rc<T>>) {}\n    = help: consider using just `Box<T>` or `Rc<T>`\n \n error: usage of `Box<Arc<T>>`\n-  --> $DIR/redundant_allocation.rs:27:30\n+  --> $DIR/redundant_allocation.rs:19:30\n    |\n LL |     pub fn box_test7<T>(foo: Box<Arc<T>>) {}\n    |                              ^^^^^^^^^^^\n@@ -18,7 +18,7 @@ LL |     pub fn box_test7<T>(foo: Box<Arc<T>>) {}\n    = help: consider using just `Box<T>` or `Arc<T>`\n \n error: usage of `Box<Rc<SubT<usize>>>`\n-  --> $DIR/redundant_allocation.rs:29:27\n+  --> $DIR/redundant_allocation.rs:21:27\n    |\n LL |     pub fn box_test8() -> Box<Rc<SubT<usize>>> {\n    |                           ^^^^^^^^^^^^^^^^^^^^\n@@ -27,7 +27,7 @@ LL |     pub fn box_test8() -> Box<Rc<SubT<usize>>> {\n    = help: consider using just `Box<SubT<usize>>` or `Rc<SubT<usize>>`\n \n error: usage of `Box<Arc<T>>`\n-  --> $DIR/redundant_allocation.rs:33:30\n+  --> $DIR/redundant_allocation.rs:25:30\n    |\n LL |     pub fn box_test9<T>(foo: Box<Arc<T>>) -> Box<Arc<SubT<T>>> {\n    |                              ^^^^^^^^^^^\n@@ -36,7 +36,7 @@ LL |     pub fn box_test9<T>(foo: Box<Arc<T>>) -> Box<Arc<SubT<T>>> {\n    = help: consider using just `Box<T>` or `Arc<T>`\n \n error: usage of `Box<Arc<SubT<T>>>`\n-  --> $DIR/redundant_allocation.rs:33:46\n+  --> $DIR/redundant_allocation.rs:25:46\n    |\n LL |     pub fn box_test9<T>(foo: Box<Arc<T>>) -> Box<Arc<SubT<T>>> {\n    |                                              ^^^^^^^^^^^^^^^^^\n@@ -45,7 +45,7 @@ LL |     pub fn box_test9<T>(foo: Box<Arc<T>>) -> Box<Arc<SubT<T>>> {\n    = help: consider using just `Box<SubT<T>>` or `Arc<SubT<T>>`\n \n error: usage of `Rc<Box<bool>>`\n-  --> $DIR/redundant_allocation.rs:46:24\n+  --> $DIR/redundant_allocation.rs:37:24\n    |\n LL |     pub fn rc_test5(a: Rc<Box<bool>>) {}\n    |                        ^^^^^^^^^^^^^\n@@ -54,7 +54,7 @@ LL |     pub fn rc_test5(a: Rc<Box<bool>>) {}\n    = help: consider using just `Rc<bool>` or `Box<bool>`\n \n error: usage of `Rc<Arc<bool>>`\n-  --> $DIR/redundant_allocation.rs:48:24\n+  --> $DIR/redundant_allocation.rs:39:24\n    |\n LL |     pub fn rc_test7(a: Rc<Arc<bool>>) {}\n    |                        ^^^^^^^^^^^^^\n@@ -63,7 +63,7 @@ LL |     pub fn rc_test7(a: Rc<Arc<bool>>) {}\n    = help: consider using just `Rc<bool>` or `Arc<bool>`\n \n error: usage of `Rc<Box<SubT<usize>>>`\n-  --> $DIR/redundant_allocation.rs:50:26\n+  --> $DIR/redundant_allocation.rs:41:26\n    |\n LL |     pub fn rc_test8() -> Rc<Box<SubT<usize>>> {\n    |                          ^^^^^^^^^^^^^^^^^^^^\n@@ -72,7 +72,7 @@ LL |     pub fn rc_test8() -> Rc<Box<SubT<usize>>> {\n    = help: consider using just `Rc<SubT<usize>>` or `Box<SubT<usize>>`\n \n error: usage of `Rc<Arc<T>>`\n-  --> $DIR/redundant_allocation.rs:54:29\n+  --> $DIR/redundant_allocation.rs:45:29\n    |\n LL |     pub fn rc_test9<T>(foo: Rc<Arc<T>>) -> Rc<Arc<SubT<T>>> {\n    |                             ^^^^^^^^^^\n@@ -81,7 +81,7 @@ LL |     pub fn rc_test9<T>(foo: Rc<Arc<T>>) -> Rc<Arc<SubT<T>>> {\n    = help: consider using just `Rc<T>` or `Arc<T>`\n \n error: usage of `Rc<Arc<SubT<T>>>`\n-  --> $DIR/redundant_allocation.rs:54:44\n+  --> $DIR/redundant_allocation.rs:45:44\n    |\n LL |     pub fn rc_test9<T>(foo: Rc<Arc<T>>) -> Rc<Arc<SubT<T>>> {\n    |                                            ^^^^^^^^^^^^^^^^\n@@ -90,7 +90,7 @@ LL |     pub fn rc_test9<T>(foo: Rc<Arc<T>>) -> Rc<Arc<SubT<T>>> {\n    = help: consider using just `Rc<SubT<T>>` or `Arc<SubT<T>>`\n \n error: usage of `Arc<Box<bool>>`\n-  --> $DIR/redundant_allocation.rs:67:25\n+  --> $DIR/redundant_allocation.rs:57:25\n    |\n LL |     pub fn arc_test5(a: Arc<Box<bool>>) {}\n    |                         ^^^^^^^^^^^^^^\n@@ -99,7 +99,7 @@ LL |     pub fn arc_test5(a: Arc<Box<bool>>) {}\n    = help: consider using just `Arc<bool>` or `Box<bool>`\n \n error: usage of `Arc<Rc<bool>>`\n-  --> $DIR/redundant_allocation.rs:69:25\n+  --> $DIR/redundant_allocation.rs:59:25\n    |\n LL |     pub fn arc_test6(a: Arc<Rc<bool>>) {}\n    |                         ^^^^^^^^^^^^^\n@@ -108,7 +108,7 @@ LL |     pub fn arc_test6(a: Arc<Rc<bool>>) {}\n    = help: consider using just `Arc<bool>` or `Rc<bool>`\n \n error: usage of `Arc<Box<SubT<usize>>>`\n-  --> $DIR/redundant_allocation.rs:71:27\n+  --> $DIR/redundant_allocation.rs:61:27\n    |\n LL |     pub fn arc_test8() -> Arc<Box<SubT<usize>>> {\n    |                           ^^^^^^^^^^^^^^^^^^^^^\n@@ -117,7 +117,7 @@ LL |     pub fn arc_test8() -> Arc<Box<SubT<usize>>> {\n    = help: consider using just `Arc<SubT<usize>>` or `Box<SubT<usize>>`\n \n error: usage of `Arc<Rc<T>>`\n-  --> $DIR/redundant_allocation.rs:75:30\n+  --> $DIR/redundant_allocation.rs:65:30\n    |\n LL |     pub fn arc_test9<T>(foo: Arc<Rc<T>>) -> Arc<Rc<SubT<T>>> {\n    |                              ^^^^^^^^^^\n@@ -126,7 +126,7 @@ LL |     pub fn arc_test9<T>(foo: Arc<Rc<T>>) -> Arc<Rc<SubT<T>>> {\n    = help: consider using just `Arc<T>` or `Rc<T>`\n \n error: usage of `Arc<Rc<SubT<T>>>`\n-  --> $DIR/redundant_allocation.rs:75:45\n+  --> $DIR/redundant_allocation.rs:65:45\n    |\n LL |     pub fn arc_test9<T>(foo: Arc<Rc<T>>) -> Arc<Rc<SubT<T>>> {\n    |                                             ^^^^^^^^^^^^^^^^\n@@ -135,7 +135,7 @@ LL |     pub fn arc_test9<T>(foo: Arc<Rc<T>>) -> Arc<Rc<SubT<T>>> {\n    = help: consider using just `Arc<SubT<T>>` or `Rc<SubT<T>>`\n \n error: usage of `Rc<Box<Box<dyn T>>>`\n-  --> $DIR/redundant_allocation.rs:97:27\n+  --> $DIR/redundant_allocation.rs:87:27\n    |\n LL |     pub fn test_rc_box(_: Rc<Box<Box<dyn T>>>) {}\n    |                           ^^^^^^^^^^^^^^^^^^^\n@@ -144,7 +144,7 @@ LL |     pub fn test_rc_box(_: Rc<Box<Box<dyn T>>>) {}\n    = help: consider using just `Rc<Box<dyn T>>` or `Box<Box<dyn T>>`\n \n error: usage of `Rc<Box<Box<str>>>`\n-  --> $DIR/redundant_allocation.rs:129:31\n+  --> $DIR/redundant_allocation.rs:119:31\n    |\n LL |     pub fn test_rc_box_str(_: Rc<Box<Box<str>>>) {}\n    |                               ^^^^^^^^^^^^^^^^^\n@@ -153,7 +153,7 @@ LL |     pub fn test_rc_box_str(_: Rc<Box<Box<str>>>) {}\n    = help: consider using just `Rc<Box<str>>` or `Box<Box<str>>`\n \n error: usage of `Rc<Box<Box<[usize]>>>`\n-  --> $DIR/redundant_allocation.rs:130:33\n+  --> $DIR/redundant_allocation.rs:120:33\n    |\n LL |     pub fn test_rc_box_slice(_: Rc<Box<Box<[usize]>>>) {}\n    |                                 ^^^^^^^^^^^^^^^^^^^^^\n@@ -162,7 +162,7 @@ LL |     pub fn test_rc_box_slice(_: Rc<Box<Box<[usize]>>>) {}\n    = help: consider using just `Rc<Box<[usize]>>` or `Box<Box<[usize]>>`\n \n error: usage of `Rc<Box<Box<Path>>>`\n-  --> $DIR/redundant_allocation.rs:131:32\n+  --> $DIR/redundant_allocation.rs:121:32\n    |\n LL |     pub fn test_rc_box_path(_: Rc<Box<Box<Path>>>) {}\n    |                                ^^^^^^^^^^^^^^^^^^\n@@ -171,7 +171,7 @@ LL |     pub fn test_rc_box_path(_: Rc<Box<Box<Path>>>) {}\n    = help: consider using just `Rc<Box<Path>>` or `Box<Box<Path>>`\n \n error: usage of `Rc<Box<Box<DynSized>>>`\n-  --> $DIR/redundant_allocation.rs:132:34\n+  --> $DIR/redundant_allocation.rs:122:34\n    |\n LL |     pub fn test_rc_box_custom(_: Rc<Box<Box<DynSized>>>) {}\n    |                                  ^^^^^^^^^^^^^^^^^^^^^^"}]}