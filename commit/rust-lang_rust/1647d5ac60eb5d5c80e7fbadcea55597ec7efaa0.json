{"sha": "1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE2NDdkNWFjNjBlYjVkNWM4MGU3ZmJhZGNlYTU1NTk3ZWM3ZWZhYTA=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-04-09T11:09:19Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-04-09T11:09:19Z"}, "message": "Merge #3912\n\n3912: Parse correctly fn f<T>() where T: Fn() -> u8 + Send {} r=matklad a=matklad\n\nWe used to parse it as T: Fn() -> (u8 + Send), which is different from\nthe rustc behavior of T: (Fn() -> u8) + Send\n\n\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Luca Barbieri <luca@luca-barbieri.com>", "tree": {"sha": "125bcd4aaf11388acf17e0a8afa7d08597305a0e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/125bcd4aaf11388acf17e0a8afa7d08597305a0e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJejwJfCRBK7hj4Ov3rIwAAdHIIAGfXdlVrphJ3JCA6g6O/2/oO\n8NDFKtqkaHhzZZTPmuqr2aRUjEZETLvZv+K1V4VqAzKfn3JVNbpegMH1naxSksul\ne2OXhP5ALZZK4tQ21o6qShVXKadmslo4vSKukitPd/5vaVv57WYH+1wNzkAxAsLQ\nCQY1k1NONXLXeGWLKXvB7ly0xrTGxSYxySQ7yvpDb6q0SsDbhGAijyL3vmCdpmdf\nwN1flEf7/n6nYA+aP6BkHX6D35sd/oRWga8eU8kBSqdi+swkkp6Hpe0cH33ILB/5\neFZpJkSXNbuW+7QQjv0sG/+rStQBhXgI0sy4WWyIVA0KNiCQDuUdUvHepHWa92g=\n=a1Xr\n-----END PGP SIGNATURE-----\n", "payload": "tree 125bcd4aaf11388acf17e0a8afa7d08597305a0e\nparent cfc127f52988cf4f95797cb355398e3af32632aa\nparent 74e3b48806cb1b6d583178c6f24c7183626f4327\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1586430559 +0000\ncommitter GitHub <noreply@github.com> 1586430559 +0000\n\nMerge #3912\n\n3912: Parse correctly fn f<T>() where T: Fn() -> u8 + Send {} r=matklad a=matklad\n\nWe used to parse it as T: Fn() -> (u8 + Send), which is different from\nthe rustc behavior of T: (Fn() -> u8) + Send\n\n\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Luca Barbieri <luca@luca-barbieri.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0", "html_url": "https://github.com/rust-lang/rust/commit/1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cfc127f52988cf4f95797cb355398e3af32632aa", "url": "https://api.github.com/repos/rust-lang/rust/commits/cfc127f52988cf4f95797cb355398e3af32632aa", "html_url": "https://github.com/rust-lang/rust/commit/cfc127f52988cf4f95797cb355398e3af32632aa"}, {"sha": "74e3b48806cb1b6d583178c6f24c7183626f4327", "url": "https://api.github.com/repos/rust-lang/rust/commits/74e3b48806cb1b6d583178c6f24c7183626f4327", "html_url": "https://github.com/rust-lang/rust/commit/74e3b48806cb1b6d583178c6f24c7183626f4327"}], "stats": {"total": 64, "additions": 63, "deletions": 1}, "files": [{"sha": "d0530955e0c414daa8e12bc7e0206eb92f27052c", "filename": "crates/ra_parser/src/grammar.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0/crates%2Fra_parser%2Fsrc%2Fgrammar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0/crates%2Fra_parser%2Fsrc%2Fgrammar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar.rs?ref=1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0", "patch": "@@ -245,7 +245,7 @@ fn opt_fn_ret_type(p: &mut Parser) -> bool {\n     if p.at(T![->]) {\n         let m = p.start();\n         p.bump(T![->]);\n-        types::type_(p);\n+        types::type_no_bounds(p);\n         m.complete(p, RET_TYPE);\n         true\n     } else {"}, {"sha": "1b0acf47c6a1cffe70c135f574633582fd7f2ddc", "filename": "crates/ra_syntax/test_data/parser/ok/0065_plus_after_fn_trait_bound.rast", "status": "added", "additions": 61, "deletions": 0, "changes": 61, "blob_url": "https://github.com/rust-lang/rust/blob/1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0065_plus_after_fn_trait_bound.rast", "raw_url": "https://github.com/rust-lang/rust/raw/1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0065_plus_after_fn_trait_bound.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0065_plus_after_fn_trait_bound.rast?ref=1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0", "patch": "@@ -0,0 +1,61 @@\n+SOURCE_FILE@[0; 40)\n+  FN_DEF@[0; 39)\n+    FN_KW@[0; 2) \"fn\"\n+    WHITESPACE@[2; 3) \" \"\n+    NAME@[3; 4)\n+      IDENT@[3; 4) \"f\"\n+    TYPE_PARAM_LIST@[4; 7)\n+      L_ANGLE@[4; 5) \"<\"\n+      TYPE_PARAM@[5; 6)\n+        NAME@[5; 6)\n+          IDENT@[5; 6) \"T\"\n+      R_ANGLE@[6; 7) \">\"\n+    PARAM_LIST@[7; 9)\n+      L_PAREN@[7; 8) \"(\"\n+      R_PAREN@[8; 9) \")\"\n+    WHITESPACE@[9; 10) \" \"\n+    WHERE_CLAUSE@[10; 36)\n+      WHERE_KW@[10; 15) \"where\"\n+      WHITESPACE@[15; 16) \" \"\n+      WHERE_PRED@[16; 36)\n+        PATH_TYPE@[16; 17)\n+          PATH@[16; 17)\n+            PATH_SEGMENT@[16; 17)\n+              NAME_REF@[16; 17)\n+                IDENT@[16; 17) \"T\"\n+        COLON@[17; 18) \":\"\n+        WHITESPACE@[18; 19) \" \"\n+        TYPE_BOUND_LIST@[19; 36)\n+          TYPE_BOUND@[19; 29)\n+            PATH_TYPE@[19; 29)\n+              PATH@[19; 29)\n+                PATH_SEGMENT@[19; 29)\n+                  NAME_REF@[19; 21)\n+                    IDENT@[19; 21) \"Fn\"\n+                  PARAM_LIST@[21; 23)\n+                    L_PAREN@[21; 22) \"(\"\n+                    R_PAREN@[22; 23) \")\"\n+                  WHITESPACE@[23; 24) \" \"\n+                  RET_TYPE@[24; 29)\n+                    THIN_ARROW@[24; 26) \"->\"\n+                    WHITESPACE@[26; 27) \" \"\n+                    PATH_TYPE@[27; 29)\n+                      PATH@[27; 29)\n+                        PATH_SEGMENT@[27; 29)\n+                          NAME_REF@[27; 29)\n+                            IDENT@[27; 29) \"u8\"\n+          WHITESPACE@[29; 30) \" \"\n+          PLUS@[30; 31) \"+\"\n+          WHITESPACE@[31; 32) \" \"\n+          TYPE_BOUND@[32; 36)\n+            PATH_TYPE@[32; 36)\n+              PATH@[32; 36)\n+                PATH_SEGMENT@[32; 36)\n+                  NAME_REF@[32; 36)\n+                    IDENT@[32; 36) \"Send\"\n+    WHITESPACE@[36; 37) \" \"\n+    BLOCK_EXPR@[37; 39)\n+      BLOCK@[37; 39)\n+        L_CURLY@[37; 38) \"{\"\n+        R_CURLY@[38; 39) \"}\"\n+  WHITESPACE@[39; 40) \"\\n\""}, {"sha": "29f3655e013c56c6a7c53cca801f5335cb998d4e", "filename": "crates/ra_syntax/test_data/parser/ok/0065_plus_after_fn_trait_bound.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0065_plus_after_fn_trait_bound.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0065_plus_after_fn_trait_bound.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0065_plus_after_fn_trait_bound.rs?ref=1647d5ac60eb5d5c80e7fbadcea55597ec7efaa0", "patch": "@@ -0,0 +1 @@\n+fn f<T>() where T: Fn() -> u8 + Send {}"}]}