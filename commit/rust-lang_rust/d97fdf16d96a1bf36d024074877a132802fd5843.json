{"sha": "d97fdf16d96a1bf36d024074877a132802fd5843", "node_id": "C_kwDOAAsO6NoAKGQ5N2ZkZjE2ZDk2YTFiZjM2ZDAyNDA3NDg3N2ExMzI4MDJmZDU4NDM", "commit": {"author": {"name": "Jack Huey", "email": "31162821+jackh726@users.noreply.github.com", "date": "2022-09-16T13:47:37Z"}, "committer": {"name": "Jack Huey", "email": "31162821+jackh726@users.noreply.github.com", "date": "2022-09-16T13:47:37Z"}, "message": "Add test for #101844", "tree": {"sha": "1201ab6c140e77036a0293aba6604aab90defe4b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1201ab6c140e77036a0293aba6604aab90defe4b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d97fdf16d96a1bf36d024074877a132802fd5843", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d97fdf16d96a1bf36d024074877a132802fd5843", "html_url": "https://github.com/rust-lang/rust/commit/d97fdf16d96a1bf36d024074877a132802fd5843", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d97fdf16d96a1bf36d024074877a132802fd5843/comments", "author": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "92b759f517d57b092178a6d6cbadc7856263d910", "url": "https://api.github.com/repos/rust-lang/rust/commits/92b759f517d57b092178a6d6cbadc7856263d910", "html_url": "https://github.com/rust-lang/rust/commit/92b759f517d57b092178a6d6cbadc7856263d910"}], "stats": {"total": 73, "additions": 73, "deletions": 0}, "files": [{"sha": "da8a25f5f822f04c3967769bc7b7ce44adc6455d", "filename": "src/test/ui/mir/issue-101844.rs", "status": "added", "additions": 73, "deletions": 0, "changes": 73, "blob_url": "https://github.com/rust-lang/rust/blob/d97fdf16d96a1bf36d024074877a132802fd5843/src%2Ftest%2Fui%2Fmir%2Fissue-101844.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d97fdf16d96a1bf36d024074877a132802fd5843/src%2Ftest%2Fui%2Fmir%2Fissue-101844.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmir%2Fissue-101844.rs?ref=d97fdf16d96a1bf36d024074877a132802fd5843", "patch": "@@ -0,0 +1,73 @@\n+// check-pass\n+\n+pub trait FirstTrait {\n+    type Item;\n+    type Extra: Extra<(), Error = Self::Item>;\n+}\n+\n+trait SecondTrait {\n+    type Item2;\n+}\n+\n+trait ThirdTrait: SecondTrait {\n+    type Item3;\n+}\n+\n+trait FourthTrait {\n+    type Item4;\n+}\n+\n+impl<First> SecondTrait for First\n+where\n+    First: FirstTrait,\n+{\n+    type Item2 = First::Extra;\n+}\n+\n+impl<Second, T> ThirdTrait for Second\n+where\n+    Second: SecondTrait<Item2 = T>,\n+{\n+    type Item3 = T;\n+}\n+\n+impl<S, Third: ?Sized> FourthTrait for Third\n+where\n+    Third: ThirdTrait<Item3 = S>,\n+{\n+    type Item4 = S;\n+}\n+\n+pub trait Extra<Request> {\n+    type Error;\n+}\n+\n+struct ImplShoulExist<D, Req> {\n+    _gen: (D, Req),\n+}\n+\n+impl<D, Req> ImplShoulExist<D, Req>\n+where\n+    D: FourthTrait,\n+    D::Item4: Extra<Req>,\n+    <D::Item4 as Extra<Req>>::Error: Into<()>,\n+{\n+    fn access_fn(_: D) {\n+        todo!()\n+    }\n+}\n+\n+impl<D, Req> Extra<Req> for ImplShoulExist<D, Req> {\n+    type Error = ();\n+}\n+\n+pub fn broken<MS>(ms: MS)\n+where\n+    MS: FirstTrait,\n+    MS::Item: Into<()>,\n+{\n+    // Error: Apparently Balance::new doesn't exist during MIR validation\n+    let _ = ImplShoulExist::<MS, ()>::access_fn(ms);\n+}\n+\n+fn main() {}"}]}