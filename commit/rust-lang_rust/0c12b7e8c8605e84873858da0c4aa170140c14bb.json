{"sha": "0c12b7e8c8605e84873858da0c4aa170140c14bb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjMTJiN2U4Yzg2MDVlODQ4NzM4NThkYTBjNGFhMTcwMTQwYzE0YmI=", "commit": {"author": {"name": "Andrew Gallant", "email": "jamslam@gmail.com", "date": "2020-04-25T14:26:33Z"}, "committer": {"name": "Andrew Gallant", "email": "jamslam@gmail.com", "date": "2020-04-25T14:26:33Z"}, "message": "main: fix bug where thread pool isn't joined\n\nPointed out here:\nhttps://github.com/rust-analyzer/rust-analyzer/pull/4133#issuecomment-619386272", "tree": {"sha": "c79cb2cf9e13a564990708a4d898bab8c4dee81c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c79cb2cf9e13a564990708a4d898bab8c4dee81c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0c12b7e8c8605e84873858da0c4aa170140c14bb", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQFGBAABCAAwFiEELYER4UEVHAcu6audsuOkkj+LDUQFAl6kSKoSHGphbXNsYW1A\nZ21haWwuY29tAAoJELLjpJI/iw1ExX0H/RpRVoz5HfFTozYeQEP1JNpXwcw93iCG\nGWljzC/m9HtcX+ZaLEcFYkV3u7vDTmHOEx2CJg++oD59uxcHT9ow7UHRnlK/ERoz\nN5BKt54ytdsZiu84YHGmylmYjSE5rzuEtLjx9D/dcD7NJVv2f2dQgyC5IFMQr7Zg\nlvu4u6WP4xxmUlgTjm5RfDkrgb7yyxHGyupG9eqDOnIqZb3mR9w9UMjXtM0Qoi7F\nJFC/8LrEepV1WEBPH1mUE+JzyOLi40WIAvqJ99rSRhBi65KOysX4omh6MjZdMrR0\nvLdBBpAEtiePV9fIKesUufBLgqtu8NwzhhI4tlbs2fhbfOXtvGxmOfM=\n=Ny9x\n-----END PGP SIGNATURE-----", "payload": "tree c79cb2cf9e13a564990708a4d898bab8c4dee81c\nparent c1a31d4261afda9839020f772fd6a97a12d9c941\nauthor Andrew Gallant <jamslam@gmail.com> 1587824793 -0400\ncommitter Andrew Gallant <jamslam@gmail.com> 1587824793 -0400\n\nmain: fix bug where thread pool isn't joined\n\nPointed out here:\nhttps://github.com/rust-analyzer/rust-analyzer/pull/4133#issuecomment-619386272\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0c12b7e8c8605e84873858da0c4aa170140c14bb", "html_url": "https://github.com/rust-lang/rust/commit/0c12b7e8c8605e84873858da0c4aa170140c14bb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0c12b7e8c8605e84873858da0c4aa170140c14bb/comments", "author": {"login": "BurntSushi", "id": 456674, "node_id": "MDQ6VXNlcjQ1NjY3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/456674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BurntSushi", "html_url": "https://github.com/BurntSushi", "followers_url": "https://api.github.com/users/BurntSushi/followers", "following_url": "https://api.github.com/users/BurntSushi/following{/other_user}", "gists_url": "https://api.github.com/users/BurntSushi/gists{/gist_id}", "starred_url": "https://api.github.com/users/BurntSushi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BurntSushi/subscriptions", "organizations_url": "https://api.github.com/users/BurntSushi/orgs", "repos_url": "https://api.github.com/users/BurntSushi/repos", "events_url": "https://api.github.com/users/BurntSushi/events{/privacy}", "received_events_url": "https://api.github.com/users/BurntSushi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "BurntSushi", "id": 456674, "node_id": "MDQ6VXNlcjQ1NjY3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/456674?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BurntSushi", "html_url": "https://github.com/BurntSushi", "followers_url": "https://api.github.com/users/BurntSushi/followers", "following_url": "https://api.github.com/users/BurntSushi/following{/other_user}", "gists_url": "https://api.github.com/users/BurntSushi/gists{/gist_id}", "starred_url": "https://api.github.com/users/BurntSushi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BurntSushi/subscriptions", "organizations_url": "https://api.github.com/users/BurntSushi/orgs", "repos_url": "https://api.github.com/users/BurntSushi/repos", "events_url": "https://api.github.com/users/BurntSushi/events{/privacy}", "received_events_url": "https://api.github.com/users/BurntSushi/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c1a31d4261afda9839020f772fd6a97a12d9c941", "url": "https://api.github.com/repos/rust-lang/rust/commits/c1a31d4261afda9839020f772fd6a97a12d9c941", "html_url": "https://github.com/rust-lang/rust/commit/c1a31d4261afda9839020f772fd6a97a12d9c941"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "7f6f4ec12a3a078686a2d99186690877c9222026", "filename": "crates/rust-analyzer/src/main_loop.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0c12b7e8c8605e84873858da0c4aa170140c14bb/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c12b7e8c8605e84873858da0c4aa170140c14bb/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs?ref=0c12b7e8c8605e84873858da0c4aa170140c14bb", "patch": "@@ -222,6 +222,7 @@ pub fn main_loop(ws_roots: Vec<PathBuf>, config: Config, connection: Connection)\n     libdata_receiver.into_iter().for_each(drop);\n     log::info!(\"...tasks have finished\");\n     log::info!(\"joining threadpool...\");\n+    pool.join();\n     drop(pool);\n     log::info!(\"...threadpool has finished\");\n "}]}