{"sha": "7962ccb216e993b52f67986f7944fba5fc38482c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5NjJjY2IyMTZlOTkzYjUyZjY3OTg2Zjc5NDRmYmE1ZmMzODQ4MmM=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-01-22T00:38:05Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-01-22T00:38:05Z"}, "message": "pprust: use as_deref", "tree": {"sha": "c7bc520d62d4a79673747c509f942d5fd88c2b2d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c7bc520d62d4a79673747c509f942d5fd88c2b2d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7962ccb216e993b52f67986f7944fba5fc38482c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7962ccb216e993b52f67986f7944fba5fc38482c", "html_url": "https://github.com/rust-lang/rust/commit/7962ccb216e993b52f67986f7944fba5fc38482c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7962ccb216e993b52f67986f7944fba5fc38482c/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ce361fb24f0896bf7d983549117cbe1f70f32dcf", "url": "https://api.github.com/repos/rust-lang/rust/commits/ce361fb24f0896bf7d983549117cbe1f70f32dcf", "html_url": "https://github.com/rust-lang/rust/commit/ce361fb24f0896bf7d983549117cbe1f70f32dcf"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "6b21224b9b64ce278a7bfbdee6161980359baa3b", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7962ccb216e993b52f67986f7944fba5fc38482c/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7962ccb216e993b52f67986f7944fba5fc38482c/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=7962ccb216e993b52f67986f7944fba5fc38482c", "patch": "@@ -1643,7 +1643,7 @@ impl<'a> State<'a> {\n                     self.print_expr_as_cond(i);\n                     self.s.space();\n                     self.print_block(then);\n-                    self.print_else(e.as_ref().map(|e| &**e))\n+                    self.print_else(e.as_deref())\n                 }\n                 // Final `else` block.\n                 ast::ExprKind::Block(ref b, _) => {\n@@ -1947,7 +1947,7 @@ impl<'a> State<'a> {\n                 self.print_let(pat, scrutinee);\n             }\n             ast::ExprKind::If(ref test, ref blk, ref elseopt) => {\n-                self.print_if(test, blk, elseopt.as_ref().map(|e| &**e));\n+                self.print_if(test, blk, elseopt.as_deref())\n             }\n             ast::ExprKind::While(ref test, ref blk, opt_label) => {\n                 if let Some(label) = opt_label {"}]}