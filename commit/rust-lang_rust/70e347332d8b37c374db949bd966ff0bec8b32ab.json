{"sha": "70e347332d8b37c374db949bd966ff0bec8b32ab", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwZTM0NzMzMmQ4YjM3YzM3NGRiOTQ5YmQ5NjZmZjBiZWM4YjMyYWI=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-05-31T14:28:03Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-05-31T14:28:03Z"}, "message": "Merge #9081\n\n9081: minor: expand docs a tiny bit r=matklad a=matklad\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "947a869b26d3a85847517229fabbed39f3476f50", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/947a869b26d3a85847517229fabbed39f3476f50"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/70e347332d8b37c374db949bd966ff0bec8b32ab", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgtPJzCRBK7hj4Ov3rIwAA5m0IAD0jaruWhFEb5Cg8BDBEPOS+\nadg6u9XBU1o8u0ugabers5Ncnal6B9I6Tw+5xbF6rBYO4ujMtfjsmT1yNPkagcf1\nNT2FclM+iNHhQg2Ao1uVTUXHseWyG//v3WilbmFinZOv/LmtK4EykNIJ6VfqMrgM\nkUN87kRrtwnSH3uhiemxgJXZAm8Sh9dwnFIs9tBPmJbW7nG8JB8t643LedDQar5u\njRBO6abWLObPG1h65O+XDH/zvWcCcByOhVqZKDr5Ky4eJ2/LwrxTVNrz7H+4oiYs\nmAwqQoRwqNyOdG+YwwFhEyzI4StRDywY2nPh5Xkluqt+f86XFx4ddGSta3rON+Q=\n=NtV5\n-----END PGP SIGNATURE-----\n", "payload": "tree 947a869b26d3a85847517229fabbed39f3476f50\nparent c460baeaf3af69ec4e9a504efa27fbb167e9fecc\nparent 5e577a63734654647e9320dec4a86113b117507a\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1622471283 +0000\ncommitter GitHub <noreply@github.com> 1622471283 +0000\n\nMerge #9081\n\n9081: minor: expand docs a tiny bit r=matklad a=matklad\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/70e347332d8b37c374db949bd966ff0bec8b32ab", "html_url": "https://github.com/rust-lang/rust/commit/70e347332d8b37c374db949bd966ff0bec8b32ab", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/70e347332d8b37c374db949bd966ff0bec8b32ab/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c460baeaf3af69ec4e9a504efa27fbb167e9fecc", "url": "https://api.github.com/repos/rust-lang/rust/commits/c460baeaf3af69ec4e9a504efa27fbb167e9fecc", "html_url": "https://github.com/rust-lang/rust/commit/c460baeaf3af69ec4e9a504efa27fbb167e9fecc"}, {"sha": "5e577a63734654647e9320dec4a86113b117507a", "url": "https://api.github.com/repos/rust-lang/rust/commits/5e577a63734654647e9320dec4a86113b117507a", "html_url": "https://github.com/rust-lang/rust/commit/5e577a63734654647e9320dec4a86113b117507a"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "3de1b99a571b519fb1353fe688bafbf79e8422bf", "filename": "docs/dev/architecture.md", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/70e347332d8b37c374db949bd966ff0bec8b32ab/docs%2Fdev%2Farchitecture.md", "raw_url": "https://github.com/rust-lang/rust/raw/70e347332d8b37c374db949bd966ff0bec8b32ab/docs%2Fdev%2Farchitecture.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fdev%2Farchitecture.md?ref=70e347332d8b37c374db949bd966ff0bec8b32ab", "patch": "@@ -146,6 +146,8 @@ Reading the docs of the `base_db::input` module should be useful: everything els\n \n **Architecture Invariant:** particularities of the build system are *not* the part of the ground state.\n In particular, `base_db` knows nothing about cargo.\n+For example, `cfg` flags are a part of `base_db`, but `feature`s are not.\n+A `foo` feature is a Cargo-level concept, which is lowered by Cargo to `--cfg feature=foo` argument on the command line.\n The `CrateGraph` structure is used to represent the dependencies between the crates abstractly.\n \n **Architecture Invariant:** `base_db` doesn't know about file system and file paths.\n@@ -452,3 +454,4 @@ It is not cheap enough to enable in prod, and this is a bug which should be fixe\n \n rust-analyzer strives to be as configurable as possible while offering reasonable defaults where no configuration exists yet.\n There will always be features that some people find more annoying than helpful, so giving the users the ability to tweak or disable these is a big part of offering a good user experience.\n+Mind the code--architecture gap: at the moment, we are using fewer feature flags than we really should."}]}