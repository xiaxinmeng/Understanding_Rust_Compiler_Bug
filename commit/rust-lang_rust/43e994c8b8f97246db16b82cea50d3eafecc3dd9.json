{"sha": "43e994c8b8f97246db16b82cea50d3eafecc3dd9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQzZTk5NGM4YjhmOTcyNDZkYjE2YjgyY2VhNTBkM2VhZmVjYzNkZDk=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-04-11T03:30:04Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-04-11T03:30:04Z"}, "message": "Auto merge of #49715 - Mark-Simulacrum:deny-warnings, r=alexcrichton\n\nMove deny(warnings) into rustbuild\n\nThis permits easier iteration without having to worry about warnings\nbeing denied.\n\nFixes #49517", "tree": {"sha": "214bd3d3576f2d50040b2a985a4e3f2323522a9e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/214bd3d3576f2d50040b2a985a4e3f2323522a9e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/43e994c8b8f97246db16b82cea50d3eafecc3dd9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/43e994c8b8f97246db16b82cea50d3eafecc3dd9", "html_url": "https://github.com/rust-lang/rust/commit/43e994c8b8f97246db16b82cea50d3eafecc3dd9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/43e994c8b8f97246db16b82cea50d3eafecc3dd9/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "88ebd97d650dc70324db189b3159dff068accd3c", "url": "https://api.github.com/repos/rust-lang/rust/commits/88ebd97d650dc70324db189b3159dff068accd3c", "html_url": "https://github.com/rust-lang/rust/commit/88ebd97d650dc70324db189b3159dff068accd3c"}, {"sha": "53718d2ef1729c987531dc94971c905815daef55", "url": "https://api.github.com/repos/rust-lang/rust/commits/53718d2ef1729c987531dc94971c905815daef55", "html_url": "https://github.com/rust-lang/rust/commit/53718d2ef1729c987531dc94971c905815daef55"}], "stats": {"total": 92, "additions": 29, "deletions": 63}, "files": [{"sha": "68bc7dfe720fe11f20313c299b4dc4bc44318b5d", "filename": "config.toml.example", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/config.toml.example", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/config.toml.example", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/config.toml.example?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -339,6 +339,9 @@\n # rustc to execute.\n #lld = false\n \n+# Whether to deny warnings in crates\n+#deny-warnings = true\n+\n # =============================================================================\n # Options for specific targets\n #"}, {"sha": "3dd9b6840591bf8d189b92a5bc37aba94d4b9acd", "filename": "src/bootstrap/bin/rustc.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fbootstrap%2Fbin%2Frustc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fbootstrap%2Fbin%2Frustc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbin%2Frustc.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -279,6 +279,10 @@ fn main() {\n         cmd.arg(\"--color=always\");\n     }\n \n+    if env::var_os(\"RUSTC_DENY_WARNINGS\").is_some() {\n+        cmd.arg(\"-Dwarnings\");\n+    }\n+\n     if verbose > 1 {\n         eprintln!(\"rustc command: {:?}\", cmd);\n         eprintln!(\"sysroot: {:?}\", sysroot);"}, {"sha": "7ff64af919671f977497bff7abf05dfac28e694c", "filename": "src/bootstrap/builder.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fbootstrap%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fbootstrap%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbuilder.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -698,6 +698,11 @@ impl<'a> Builder<'a> {\n \n         cargo.env(\"RUSTC_VERBOSE\", format!(\"{}\", self.verbosity));\n \n+        // in std, we want to avoid denying warnings for stage 0 as that makes cfg's painful.\n+        if self.config.deny_warnings && !(mode == Mode::Libstd && stage == 0) {\n+            cargo.env(\"RUSTC_DENY_WARNINGS\", \"1\");\n+        }\n+\n         // Throughout the build Cargo can execute a number of build scripts\n         // compiling C/C++ code and we need to pass compilers, archivers, flags, etc\n         // obtained previously to those build scripts."}, {"sha": "239316d45c49c4067cd3ab74074452e296644f7b", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -71,6 +71,8 @@ pub struct Config {\n     pub incremental: bool,\n     pub dry_run: bool,\n \n+    pub deny_warnings: bool,\n+\n     // llvm codegen options\n     pub llvm_enabled: bool,\n     pub llvm_assertions: bool,\n@@ -301,6 +303,7 @@ struct Rust {\n     codegen_backends_dir: Option<String>,\n     wasm_syscall: Option<bool>,\n     lld: Option<bool>,\n+    deny_warnings: Option<bool>,\n }\n \n /// TOML representation of how each build target is configured.\n@@ -340,6 +343,7 @@ impl Config {\n         config.test_miri = false;\n         config.rust_codegen_backends = vec![INTERNER.intern_str(\"llvm\")];\n         config.rust_codegen_backends_dir = \"codegen-backends\".to_owned();\n+        config.deny_warnings = true;\n \n         // set by bootstrap.py\n         config.src = env::var_os(\"SRC\").map(PathBuf::from).expect(\"'SRC' to be set\");\n@@ -366,6 +370,9 @@ impl Config {\n         config.incremental = flags.incremental;\n         config.dry_run = flags.dry_run;\n         config.keep_stage = flags.keep_stage;\n+        if let Some(value) = flags.warnings {\n+            config.deny_warnings = value;\n+        }\n \n         if config.dry_run {\n             let dir = config.out.join(\"tmp-dry-run\");\n@@ -511,6 +518,7 @@ impl Config {\n             config.rustc_default_linker = rust.default_linker.clone();\n             config.musl_root = rust.musl_root.clone().map(PathBuf::from);\n             config.save_toolstates = rust.save_toolstates.clone().map(PathBuf::from);\n+            set(&mut config.deny_warnings, rust.deny_warnings.or(flags.warnings));\n \n             if let Some(ref backends) = rust.codegen_backends {\n                 config.rust_codegen_backends = backends.iter()"}, {"sha": "3eb9dca2aa835807fc663e85e88f736e4515087d", "filename": "src/bootstrap/flags.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fbootstrap%2Fflags.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fbootstrap%2Fflags.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fflags.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -42,6 +42,9 @@ pub struct Flags {\n     pub exclude: Vec<PathBuf>,\n     pub rustc_error_format: Option<String>,\n     pub dry_run: bool,\n+\n+    // true => deny\n+    pub warnings: Option<bool>,\n }\n \n pub enum Subcommand {\n@@ -118,6 +121,8 @@ To learn more about a subcommand, run `./x.py <subcommand> -h`\");\n         opts.optopt(\"\", \"src\", \"path to the root of the rust checkout\", \"DIR\");\n         opts.optopt(\"j\", \"jobs\", \"number of jobs to run in parallel\", \"JOBS\");\n         opts.optflag(\"h\", \"help\", \"print this help message\");\n+        opts.optopt(\"\", \"warnings\", \"if value is deny, will deny warnings, otherwise use default\",\n+            \"VALUE\");\n         opts.optopt(\"\", \"error-format\", \"rustc error format\", \"FORMAT\");\n \n         // fn usage()\n@@ -374,6 +379,7 @@ Arguments:\n             incremental: matches.opt_present(\"incremental\"),\n             exclude: split(matches.opt_strs(\"exclude\"))\n                 .into_iter().map(|p| p.into()).collect::<Vec<_>>(),\n+            warnings: matches.opt_str(\"warnings\").map(|v| v == \"deny\"),\n         }\n     }\n }"}, {"sha": "e5c85ddb3a9022ae1208a1112b8944a6d22d4084", "filename": "src/build_helper/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fbuild_helper%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fbuild_helper%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbuild_helper%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -8,7 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![deny(warnings)]\n \n use std::fs::File;\n use std::path::{Path, PathBuf};"}, {"sha": "4f69aa6670b563fa9aced927148d88116446aa88", "filename": "src/liballoc/benches/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fliballoc%2Fbenches%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fliballoc%2Fbenches%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fbenches%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![deny(warnings)]\n-\n #![feature(rand)]\n #![feature(repr_simd)]\n #![feature(slice_sort_by_cached_key)]"}, {"sha": "b08bd66b47c5922533f00be05d62ac37e893527b", "filename": "src/liballoc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fliballoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fliballoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -72,7 +72,6 @@\n        test(no_crate_inject, attr(allow(unused_variables), deny(warnings))))]\n #![no_std]\n #![needs_allocator]\n-#![deny(warnings)]\n #![deny(missing_debug_implementations)]\n \n #![cfg_attr(test, allow(deprecated))] // rand"}, {"sha": "17f1d0464a5c2d724b7a8a2c935a73622f233370", "filename": "src/liballoc/tests/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fliballoc%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fliballoc%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Ftests%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![deny(warnings)]\n-\n #![feature(allocator_api)]\n #![feature(alloc_system)]\n #![feature(attr_literals)]"}, {"sha": "df7e3f61f5f1dc3d7ae3db41839e0177ef8daaca", "filename": "src/liballoc_jemalloc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fliballoc_jemalloc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fliballoc_jemalloc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc_jemalloc%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -14,7 +14,6 @@\n             reason = \"this library is unlikely to be stabilized in its current \\\n                       form or name\",\n             issue = \"27783\")]\n-#![deny(warnings)]\n #![feature(alloc_system)]\n #![feature(libc)]\n #![feature(linkage)]"}, {"sha": "cdcb732f635478bb4f105f7731694cf07b15f608", "filename": "src/liballoc_system/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fliballoc_system%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Fliballoc_system%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc_system%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -10,7 +10,6 @@\n \n #![no_std]\n #![allow(unused_attributes)]\n-#![deny(warnings)]\n #![unstable(feature = \"alloc_system\",\n             reason = \"this library is unlikely to be stabilized in its current \\\n                       form or name\","}, {"sha": "b319f333342c1cc11134d98d0881aca582eb7bf8", "filename": "src/libarena/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibarena%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibarena%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibarena%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -22,7 +22,6 @@\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\",\n        test(no_crate_inject, attr(deny(warnings))))]\n-#![deny(warnings)]\n \n #![feature(alloc)]\n #![feature(core_intrinsics)]"}, {"sha": "ced77d779182aaac437bb11645220e418a2741a7", "filename": "src/libcore/benches/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibcore%2Fbenches%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibcore%2Fbenches%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fbenches%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![deny(warnings)]\n-\n #![feature(flt2dec)]\n #![feature(test)]\n "}, {"sha": "e194b173aa718212c6e073faac006bc3dafa448e", "filename": "src/libcore/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibcore%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibcore%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -63,7 +63,6 @@\n #![no_core]\n #![deny(missing_docs)]\n #![deny(missing_debug_implementations)]\n-#![deny(warnings)]\n \n #![feature(allow_internal_unstable)]\n #![feature(asm)]"}, {"sha": "c3162899bbd0184ffcb21391e105d9de868be915", "filename": "src/libcore/tests/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibcore%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibcore%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ftests%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![deny(warnings)]\n-\n #![feature(ascii_ctype)]\n #![feature(box_syntax)]\n #![feature(core_float)]"}, {"sha": "a551b1b770a68f1b7fa90cdfdf9f20812e6c86da", "filename": "src/libfmt_macros/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibfmt_macros%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibfmt_macros%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibfmt_macros%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -19,7 +19,6 @@\n        html_root_url = \"https://doc.rust-lang.org/nightly/\",\n        html_playground_url = \"https://play.rust-lang.org/\",\n        test(attr(deny(warnings))))]\n-#![deny(warnings)]\n \n pub use self::Piece::*;\n pub use self::Position::*;"}, {"sha": "158d0101515860af76c7562e987267a7818a2102", "filename": "src/libgraphviz/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibgraphviz%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibgraphviz%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibgraphviz%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -287,7 +287,6 @@\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\",\n        test(attr(allow(unused_variables), deny(warnings))))]\n-#![deny(warnings)]\n \n #![feature(str_escape)]\n "}, {"sha": "43c5bbbc618c2954edf7a2580102ad8932acc7ae", "filename": "src/libpanic_abort/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibpanic_abort%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibpanic_abort%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_abort%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -19,7 +19,6 @@\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\",\n        issue_tracker_base_url = \"https://github.com/rust-lang/rust/issues/\")]\n-#![deny(warnings)]\n #![panic_runtime]\n #![allow(unused_features)]\n "}, {"sha": "9321d6917d1566db3ef070a9c35066c0ef8b1007", "filename": "src/libpanic_unwind/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibpanic_unwind%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibpanic_unwind%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_unwind%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -28,7 +28,6 @@\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\",\n        issue_tracker_base_url = \"https://github.com/rust-lang/rust/issues/\")]\n-#![deny(warnings)]\n \n #![feature(alloc)]\n #![feature(core_intrinsics)]"}, {"sha": "dafdacfdd7247d02d19679d1dd99883fa5d99302", "filename": "src/libproc_macro/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibproc_macro%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibproc_macro%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibproc_macro%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -24,7 +24,6 @@\n //! See [the book](../book/first-edition/procedural-macros.html) for more.\n \n #![stable(feature = \"proc_macro_lib\", since = \"1.15.0\")]\n-#![deny(warnings)]\n #![deny(missing_docs)]\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\","}, {"sha": "5496df1342ff41b951b2f79b884b9bc32788de85", "filename": "src/librustc/benches/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc%2Fbenches%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc%2Fbenches%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fbenches%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![deny(warnings)]\n-\n #![feature(test)]\n \n extern crate test;"}, {"sha": "b54699901faf320973b263dc90ca84c3bef7241e", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -39,7 +39,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(box_patterns)]\n #![feature(box_syntax)]"}, {"sha": "0c7a9a91711b7aac81705e8d635bf6801a6638a4", "filename": "src/librustc_allocator/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_allocator%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_allocator%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_allocator%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![deny(warnings)]\n-\n #![feature(rustc_private)]\n \n extern crate rustc;"}, {"sha": "0f051ea5981ca4eefe254c264a179b4343640ad0", "filename": "src/librustc_apfloat/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_apfloat%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_apfloat%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_apfloat%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -43,7 +43,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n #![forbid(unsafe_code)]\n \n // See librustc_cratesio_shim/Cargo.toml for a comment explaining this."}, {"sha": "027a9c455553051b7944494b7d8bbeab2868c4f8", "filename": "src/librustc_back/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_back%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_back%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -24,7 +24,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(box_syntax)]\n #![feature(const_fn)]"}, {"sha": "52a357e1a1d3173c4d7a64327e3efd06af818eef", "filename": "src/librustc_borrowck/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_borrowck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_borrowck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -11,7 +11,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![allow(non_camel_case_types)]\n "}, {"sha": "499c330be1da8aca6a0d32483d9d011c2a7bf559", "filename": "src/librustc_const_math/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_const_math%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_const_math%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_const_math%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -17,7 +17,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n extern crate rustc_apfloat;\n "}, {"sha": "ba1d73dc268dfa3515b12b93d0621e32910aa09a", "filename": "src/librustc_data_structures/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_data_structures%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_data_structures%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -19,7 +19,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://www.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(collections_range)]\n #![feature(nonzero)]"}, {"sha": "f6903d26e701c8f7fea08aad3ea12bb0b4fd7b1c", "filename": "src/librustc_driver/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_driver%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_driver%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -17,7 +17,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(box_syntax)]\n #![cfg_attr(unix, feature(libc))]"}, {"sha": "8d5f9ac93f0b48e3d5b92f7233715e3f2c1cf7e9", "filename": "src/librustc_errors/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_errors%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_errors%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -11,7 +11,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(custom_attribute)]\n #![allow(unused_attributes)]"}, {"sha": "a5e07bcec24bb65c242de5765c68c6ad9c3792a9", "filename": "src/librustc_incremental/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_incremental%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_incremental%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_incremental%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -13,7 +13,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(fs_read_write)]\n #![feature(specialization)]"}, {"sha": "16e8600f2d89bfec62c9bb5eeccdcec779c850fb", "filename": "src/librustc_lint/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_lint%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_lint%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -22,7 +22,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![cfg_attr(test, feature(test))]\n #![feature(box_patterns)]"}, {"sha": "bf8a087ab556bd3e4e264dbb208609c64086cf7f", "filename": "src/librustc_llvm/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_llvm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_llvm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_llvm%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -16,7 +16,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(box_syntax)]\n #![feature(concat_idents)]"}, {"sha": "f02a34c65a94fe0bc218b921496cbc82b9e67349", "filename": "src/librustc_metadata/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_metadata%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_metadata%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -11,7 +11,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(box_patterns)]\n #![feature(fs_read_write)]"}, {"sha": "b1a9d7f295e7a18ae4acf3b3ca2b22c3dfaf33d5", "filename": "src/librustc_mir/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_mir%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_mir%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -14,8 +14,6 @@ Rust MIR: a lowered representation of Rust. Also: an experiment!\n \n */\n \n-#![deny(warnings)]\n-\n #![feature(slice_patterns)]\n #![feature(from_ref)]\n #![feature(box_patterns)]"}, {"sha": "e65c9de8df1eaf1dbf3277cde693fcf5e5ca79ee", "filename": "src/librustc_passes/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_passes%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_passes%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_passes%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -17,7 +17,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(rustc_diagnostic_macros)]\n "}, {"sha": "b57debdd99486bda802323fe72cbc624d136d530", "filename": "src/librustc_platform_intrinsics/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_platform_intrinsics%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_platform_intrinsics%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -8,7 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![deny(warnings)]\n #![allow(bad_style)]\n \n pub struct Intrinsic {"}, {"sha": "622d8e51a6ca3a2cbcdfb2a960600d16ae66a934", "filename": "src/librustc_plugin/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_plugin%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_plugin%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_plugin%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -63,7 +63,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(rustc_diagnostic_macros)]\n #![feature(staged_api)]"}, {"sha": "ef710ff7a7e4b6447775f404c25a39ac7040900d", "filename": "src/librustc_privacy/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_privacy%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_privacy%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_privacy%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -11,7 +11,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(rustc_diagnostic_macros)]\n "}, {"sha": "61ff326b2af9662d0168b35b61e987c85219197a", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -11,7 +11,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(rustc_diagnostic_macros)]\n "}, {"sha": "fefedd4e1c819112bcf1f7a749830f7976b7d4cf", "filename": "src/librustc_save_analysis/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_save_analysis%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_save_analysis%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_save_analysis%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -11,7 +11,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n #![feature(custom_attribute)]\n #![feature(macro_lifetime_matcher)]\n #![allow(unused_attributes)]"}, {"sha": "8136f6857a5c62cc8ff1eacd8a1cb371cb9e2a70", "filename": "src/librustc_traits/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_traits%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_traits%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_traits%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -11,8 +11,6 @@\n //! New recursive solver modeled on Chalk's recursive solver. Most of\n //! the guts are broken up into modules; see the comments in those modules.\n \n-#![deny(warnings)]\n-\n #![feature(crate_visibility_modifier)]\n \n #[macro_use]"}, {"sha": "b9fa5b1353cee6761f560453fa1501d41c633881", "filename": "src/librustc_trans/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_trans%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_trans%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -17,7 +17,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(box_patterns)]\n #![feature(box_syntax)]"}, {"sha": "b297fd9986501946f99efd2e29979133332406fd", "filename": "src/librustc_trans_utils/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_trans_utils%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_trans_utils%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans_utils%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -15,7 +15,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(box_patterns)]\n #![feature(box_syntax)]"}, {"sha": "eb9a26855c64917e1c19016926c7857d8adf44cf", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -68,7 +68,6 @@ This API is completely unstable and subject to change.\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![allow(non_camel_case_types)]\n "}, {"sha": "730f61e0aa66d2efd5adff88fbce1096b859c716", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -12,7 +12,6 @@\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\",\n        html_playground_url = \"https://play.rust-lang.org/\")]\n-#![deny(warnings)]\n \n #![feature(ascii_ctype)]\n #![feature(rustc_private)]"}, {"sha": "22d27b6697a7c8973257ba0c4de88528971f82d4", "filename": "src/libserialize/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibserialize%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibserialize%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibserialize%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -19,7 +19,6 @@ Core encoding and decoding interfaces.\n        html_root_url = \"https://doc.rust-lang.org/nightly/\",\n        html_playground_url = \"https://play.rust-lang.org/\",\n        test(attr(allow(unused_variables), deny(warnings))))]\n-#![deny(warnings)]\n \n #![feature(box_syntax)]\n #![feature(core_intrinsics)]"}, {"sha": "672723341eb574a2a63524bf739a41050dfd68cd", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -227,10 +227,6 @@\n // Tell the compiler to link to either panic_abort or panic_unwind\n #![needs_panic_runtime]\n \n-// Turn warnings into errors, but only after stage0, where it can be useful for\n-// code to emit warnings during language transitions\n-#![cfg_attr(not(stage0), deny(warnings))]\n-\n // std may use features in a platform-specific way\n #![allow(unused_features)]\n "}, {"sha": "cf8c101a2f91f0dc6c781ceb457910e312eb7c7f", "filename": "src/libstd_unicode/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibstd_unicode%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibstd_unicode%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd_unicode%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -27,7 +27,6 @@\n        html_playground_url = \"https://play.rust-lang.org/\",\n        issue_tracker_base_url = \"https://github.com/rust-lang/rust/issues/\",\n        test(no_crate_inject, attr(allow(unused_variables), deny(warnings))))]\n-#![deny(warnings)]\n #![deny(missing_debug_implementations)]\n #![no_std]\n "}, {"sha": "d80430f609b3a069a78e2f970230e89c0387d7f1", "filename": "src/libsyntax/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -18,7 +18,6 @@\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\",\n        test(attr(deny(warnings))))]\n-#![deny(warnings)]\n \n #![feature(unicode)]\n #![feature(rustc_diagnostic_macros)]"}, {"sha": "97e34c554d116f66fa8ab262381df5cf48f1c4b3", "filename": "src/libsyntax_ext/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibsyntax_ext%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibsyntax_ext%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_ext%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -13,7 +13,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(proc_macro_internals)]\n #![feature(decl_macro)]"}, {"sha": "9a7d1fd8ee6cb9a508579a3029cfe09d449b6860", "filename": "src/libsyntax_pos/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibsyntax_pos%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibsyntax_pos%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -17,7 +17,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n       html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![deny(warnings)]\n \n #![feature(const_fn)]\n #![feature(custom_attribute)]"}, {"sha": "a012f4e776fb21b69ed8ddbd10ae4bad44f43372", "filename": "src/libterm/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibterm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibterm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibterm%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -46,7 +46,6 @@\n        html_playground_url = \"https://play.rust-lang.org/\",\n        test(attr(deny(warnings))))]\n #![deny(missing_docs)]\n-#![deny(warnings)]\n \n #![cfg_attr(windows, feature(libc))]\n // Handle rustfmt skips"}, {"sha": "9291eaa910bd744d745935eb295fc6efac275f3b", "filename": "src/libtest/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibtest%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibtest%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -31,7 +31,6 @@\n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\",\n        html_favicon_url = \"https://doc.rust-lang.org/favicon.ico\",\n        html_root_url = \"https://doc.rust-lang.org/nightly/\", test(attr(deny(warnings))))]\n-#![deny(warnings)]\n #![feature(asm)]\n #![feature(fnbox)]\n #![cfg_attr(any(unix, target_os = \"cloudabi\"), feature(libc))]"}, {"sha": "2b3c19c067ed4258de5a3da04fc6ae1b754a2168", "filename": "src/libunwind/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibunwind%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Flibunwind%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibunwind%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -10,7 +10,6 @@\n \n #![no_std]\n #![unstable(feature = \"panic_unwind\", issue = \"32837\")]\n-#![deny(warnings)]\n \n #![feature(cfg_target_vendor)]\n #![feature(link_cfg)]"}, {"sha": "a888838ce432cb1fa44e8f738406961ede720674", "filename": "src/rustc/rustc.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Frustc%2Frustc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Frustc%2Frustc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Frustc.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -13,6 +13,7 @@\n \n // Set the stack size at link time on Windows. See rustc_driver::in_rustc_thread\n // for the rationale.\n+#[allow(unused_attributes)]\n #[cfg_attr(all(windows, target_env = \"msvc\"), link_args = \"/STACK:16777216\")]\n // We only build for msvc and gnu now, but we use a exhaustive condition here\n // so we can expect either the stack size to be set or the build fails."}, {"sha": "7aca765cead8c48f8794901cf33813ba199e9fca", "filename": "src/tools/rustdoc/main.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Ftools%2Frustdoc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Ftools%2Frustdoc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frustdoc%2Fmain.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -9,6 +9,8 @@\n // except according to those terms.\n \n #![feature(link_args)]\n+\n+#[allow(unused_attributes)]\n // Set the stack size at link time on Windows. See rustc_driver::in_rustc_thread\n // for the rationale.\n #[cfg_attr(all(windows, target_env = \"msvc\"), link_args = \"/STACK:16777216\")]"}, {"sha": "fa2274366401445737932941c876e0df8b26232d", "filename": "src/tools/tidy/src/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Ftools%2Ftidy%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e994c8b8f97246db16b82cea50d3eafecc3dd9/src%2Ftools%2Ftidy%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Flib.rs?ref=43e994c8b8f97246db16b82cea50d3eafecc3dd9", "patch": "@@ -13,8 +13,6 @@\n //! This library contains the tidy lints and exposes it\n //! to be used by tools.\n \n-#![deny(warnings)]\n-\n extern crate serde;\n extern crate serde_json;\n #[macro_use]"}]}