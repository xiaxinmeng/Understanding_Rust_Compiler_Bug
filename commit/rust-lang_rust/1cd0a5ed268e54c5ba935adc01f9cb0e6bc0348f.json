{"sha": "1cd0a5ed268e54c5ba935adc01f9cb0e6bc0348f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFjZDBhNWVkMjY4ZTU0YzViYTkzNWFkYzAxZjljYjBlNmJjMDM0OGY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-03-23T13:06:54Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-03-23T13:06:54Z"}, "message": "auto merge of #13093 : Havvy/rust/master, r=sfackler\n\nThis will make the types more readable in the documentation, since the letters correspond with what you should either be sending or expecting to receive.", "tree": {"sha": "652906c83c7675244043373e6fb32f6e840315ed", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/652906c83c7675244043373e6fb32f6e840315ed"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1cd0a5ed268e54c5ba935adc01f9cb0e6bc0348f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1cd0a5ed268e54c5ba935adc01f9cb0e6bc0348f", "html_url": "https://github.com/rust-lang/rust/commit/1cd0a5ed268e54c5ba935adc01f9cb0e6bc0348f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1cd0a5ed268e54c5ba935adc01f9cb0e6bc0348f/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "06be5f7c44e255315a12f97b746307df82bb5390", "url": "https://api.github.com/repos/rust-lang/rust/commits/06be5f7c44e255315a12f97b746307df82bb5390", "html_url": "https://github.com/rust-lang/rust/commit/06be5f7c44e255315a12f97b746307df82bb5390"}, {"sha": "f62bdfc134c1f41eeaf87b853a10c8bc132822fb", "url": "https://api.github.com/repos/rust-lang/rust/commits/f62bdfc134c1f41eeaf87b853a10c8bc132822fb", "html_url": "https://github.com/rust-lang/rust/commit/f62bdfc134c1f41eeaf87b853a10c8bc132822fb"}], "stats": {"total": 38, "additions": 19, "deletions": 19}, "files": [{"sha": "aecea37cce8b563aca65478c5fd23ad8a1fe2486", "filename": "src/libsync/comm.rs", "status": "modified", "additions": 19, "deletions": 19, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/1cd0a5ed268e54c5ba935adc01f9cb0e6bc0348f/src%2Flibsync%2Fcomm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1cd0a5ed268e54c5ba935adc01f9cb0e6bc0348f/src%2Flibsync%2Fcomm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsync%2Fcomm.rs?ref=1cd0a5ed268e54c5ba935adc01f9cb0e6bc0348f", "patch": "@@ -19,68 +19,68 @@ Higher level communication abstractions.\n use std::comm;\n \n /// An extension of `pipes::stream` that allows both sending and receiving.\n-pub struct DuplexStream<T, U> {\n-    priv tx: Sender<T>,\n-    priv rx: Receiver<U>,\n+pub struct DuplexStream<S, R> {\n+    priv tx: Sender<S>,\n+    priv rx: Receiver<R>,\n }\n \n /// Creates a bidirectional stream.\n-pub fn duplex<T: Send, U: Send>() -> (DuplexStream<T, U>, DuplexStream<U, T>) {\n+pub fn duplex<S: Send, R: Send>() -> (DuplexStream<S, R>, DuplexStream<R, S>) {\n     let (tx1, rx1) = channel();\n     let (tx2, rx2) = channel();\n     (DuplexStream { tx: tx1, rx: rx2 },\n      DuplexStream { tx: tx2, rx: rx1 })\n }\n \n // Allow these methods to be used without import:\n-impl<T:Send,U:Send> DuplexStream<T, U> {\n-    pub fn send(&self, x: T) {\n+impl<S:Send,R:Send> DuplexStream<S, R> {\n+    pub fn send(&self, x: S) {\n         self.tx.send(x)\n     }\n-    pub fn try_send(&self, x: T) -> bool {\n+    pub fn try_send(&self, x: S) -> bool {\n         self.tx.try_send(x)\n     }\n-    pub fn recv(&self) -> U {\n+    pub fn recv(&self) -> R {\n         self.rx.recv()\n     }\n-    pub fn try_recv(&self) -> comm::TryRecvResult<U> {\n+    pub fn try_recv(&self) -> comm::TryRecvResult<R> {\n         self.rx.try_recv()\n     }\n-    pub fn recv_opt(&self) -> Option<U> {\n+    pub fn recv_opt(&self) -> Option<R> {\n         self.rx.recv_opt()\n     }\n }\n \n /// An extension of `pipes::stream` that provides synchronous message sending.\n-pub struct SyncSender<T> { priv duplex_stream: DuplexStream<T, ()> }\n+pub struct SyncSender<S> { priv duplex_stream: DuplexStream<S, ()> }\n /// An extension of `pipes::stream` that acknowledges each message received.\n-pub struct SyncReceiver<T> { priv duplex_stream: DuplexStream<(), T> }\n+pub struct SyncReceiver<R> { priv duplex_stream: DuplexStream<(), R> }\n \n-impl<T: Send> SyncSender<T> {\n-    pub fn send(&self, val: T) {\n+impl<S: Send> SyncSender<S> {\n+    pub fn send(&self, val: S) {\n         assert!(self.try_send(val), \"SyncSender.send: receiving port closed\");\n     }\n \n     /// Sends a message, or report if the receiver has closed the connection\n     /// before receiving.\n-    pub fn try_send(&self, val: T) -> bool {\n+    pub fn try_send(&self, val: S) -> bool {\n         self.duplex_stream.try_send(val) && self.duplex_stream.recv_opt().is_some()\n     }\n }\n \n-impl<T: Send> SyncReceiver<T> {\n-    pub fn recv(&self) -> T {\n+impl<R: Send> SyncReceiver<R> {\n+    pub fn recv(&self) -> R {\n         self.recv_opt().expect(\"SyncReceiver.recv: sending channel closed\")\n     }\n \n-    pub fn recv_opt(&self) -> Option<T> {\n+    pub fn recv_opt(&self) -> Option<R> {\n         self.duplex_stream.recv_opt().map(|val| {\n             self.duplex_stream.try_send(());\n             val\n         })\n     }\n \n-    pub fn try_recv(&self) -> comm::TryRecvResult<T> {\n+    pub fn try_recv(&self) -> comm::TryRecvResult<R> {\n         match self.duplex_stream.try_recv() {\n             comm::Data(t) => { self.duplex_stream.try_send(()); comm::Data(t) }\n             state => state,"}]}