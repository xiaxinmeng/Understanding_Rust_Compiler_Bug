{"sha": "9ade8366c076f1b40d846b5ed76c141d48beb70d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlhZGU4MzY2YzA3NmYxYjQwZDg0NmI1ZWQ3NmMxNDFkNDhiZWI3MGQ=", "commit": {"author": {"name": "Dan Gohman", "email": "sunfish@mozilla.com", "date": "2020-07-31T23:07:08Z"}, "committer": {"name": "Dan Gohman", "email": "sunfish@mozilla.com", "date": "2020-07-31T23:07:08Z"}, "message": "Update the WASI libc build to LLVM 10.\n\nAmong other things, this brings in [the `__main_argc_argv`] patch,\nwhich simplifies the interaction between the compiler and WASI libc's\nstartup code, which will help work on reactor support.\n\n[the `__main_argc_argv` patch]: https://github.com/llvm/llvm-project/commit/00072c08c75050ae2c835b7bb0e505475dbcd7b9", "tree": {"sha": "260c333a1caf297f4a8f32e71be644c0300c8602", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/260c333a1caf297f4a8f32e71be644c0300c8602"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9ade8366c076f1b40d846b5ed76c141d48beb70d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9ade8366c076f1b40d846b5ed76c141d48beb70d", "html_url": "https://github.com/rust-lang/rust/commit/9ade8366c076f1b40d846b5ed76c141d48beb70d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9ade8366c076f1b40d846b5ed76c141d48beb70d/comments", "author": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sunfishcode", "id": 4503403, "node_id": "MDQ6VXNlcjQ1MDM0MDM=", "avatar_url": "https://avatars.githubusercontent.com/u/4503403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sunfishcode", "html_url": "https://github.com/sunfishcode", "followers_url": "https://api.github.com/users/sunfishcode/followers", "following_url": "https://api.github.com/users/sunfishcode/following{/other_user}", "gists_url": "https://api.github.com/users/sunfishcode/gists{/gist_id}", "starred_url": "https://api.github.com/users/sunfishcode/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sunfishcode/subscriptions", "organizations_url": "https://api.github.com/users/sunfishcode/orgs", "repos_url": "https://api.github.com/users/sunfishcode/repos", "events_url": "https://api.github.com/users/sunfishcode/events{/privacy}", "received_events_url": "https://api.github.com/users/sunfishcode/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6e87bacd37539b7e7cd75152dffd225047fa983a", "url": "https://api.github.com/repos/rust-lang/rust/commits/6e87bacd37539b7e7cd75152dffd225047fa983a", "html_url": "https://github.com/rust-lang/rust/commit/6e87bacd37539b7e7cd75152dffd225047fa983a"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "496639e83db2a4d00c2e5987415b341c59c4ab53", "filename": "src/ci/docker/host-x86_64/dist-various-2/build-wasi-toolchain.sh", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9ade8366c076f1b40d846b5ed76c141d48beb70d/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-wasi-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/9ade8366c076f1b40d846b5ed76c141d48beb70d/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-wasi-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-wasi-toolchain.sh?ref=9ade8366c076f1b40d846b5ed76c141d48beb70d", "patch": "@@ -4,10 +4,10 @@\n \n set -ex\n \n-# Originally from https://releases.llvm.org/9.0.0/clang+llvm-9.0.0-x86_64-linux-gnu-ubuntu-14.04.tar.xz\n-curl https://ci-mirrors.rust-lang.org/rustc/clang%2Bllvm-9.0.0-x86_64-linux-gnu-ubuntu-14.04.tar.xz | \\\n+# Originally from https://github.com/llvm/llvm-project/releases/download/llvmorg-10.0.0/clang+llvm-10.0.0-x86_64-linux-gnu-ubuntu-18.04.tar.xz\n+curl https://ci-mirrors.rust-lang.org/rustc/clang%2Bllvm-10.0.0-x86_64-linux-gnu-ubuntu-18.04.tar.xz | \\\n   tar xJf -\n-export PATH=`pwd`/clang+llvm-9.0.0-x86_64-linux-gnu-ubuntu-14.04/bin:$PATH\n+export PATH=`pwd`/clang+llvm-10.0.0-x86_64-linux-gnu-ubuntu-18.04/bin:$PATH\n \n git clone https://github.com/CraneStation/wasi-libc\n "}]}