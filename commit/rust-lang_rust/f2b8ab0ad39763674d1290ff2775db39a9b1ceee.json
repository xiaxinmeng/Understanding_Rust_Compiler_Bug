{"sha": "f2b8ab0ad39763674d1290ff2775db39a9b1ceee", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYyYjhhYjBhZDM5NzYzNjc0ZDEyOTBmZjI3NzVkYjM5YTliMWNlZWU=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-07-10T22:25:58Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-07-10T22:25:58Z"}, "message": "Mop up merge collision.", "tree": {"sha": "66e64fc96f354dbcd40dd747e2cf105ab43bc844", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/66e64fc96f354dbcd40dd747e2cf105ab43bc844"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f2b8ab0ad39763674d1290ff2775db39a9b1ceee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f2b8ab0ad39763674d1290ff2775db39a9b1ceee", "html_url": "https://github.com/rust-lang/rust/commit/f2b8ab0ad39763674d1290ff2775db39a9b1ceee", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f2b8ab0ad39763674d1290ff2775db39a9b1ceee/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0a4a602a235c868a7f740ed09a8fc4c83c0c6dad", "url": "https://api.github.com/repos/rust-lang/rust/commits/0a4a602a235c868a7f740ed09a8fc4c83c0c6dad", "html_url": "https://github.com/rust-lang/rust/commit/0a4a602a235c868a7f740ed09a8fc4c83c0c6dad"}], "stats": {"total": 14, "additions": 6, "deletions": 8}, "files": [{"sha": "859dd5b2d69da7d7ee68a43ddb12622d65539f14", "filename": "src/rustc/middle/trans/foreign.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f2b8ab0ad39763674d1290ff2775db39a9b1ceee/src%2Frustc%2Fmiddle%2Ftrans%2Fforeign.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2b8ab0ad39763674d1290ff2775db39a9b1ceee/src%2Frustc%2Fmiddle%2Ftrans%2Fforeign.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fforeign.rs?ref=f2b8ab0ad39763674d1290ff2775db39a9b1ceee", "patch": "@@ -910,12 +910,11 @@ fn trans_intrinsic(ccx: @crate_ctxt, decl: ValueRef, item: @ast::foreign_item,\n       }\n       \"get_tydesc\" {\n         let tp_ty = substs.tys[0];\n-        let mut static_ti = none;\n-        let lltydesc = get_tydesc(ccx, tp_ty, static_ti);\n-        lazily_emit_all_tydesc_glue(ccx, copy static_ti);\n+        let static_ti = get_tydesc(ccx, tp_ty);\n+        lazily_emit_all_tydesc_glue(ccx, static_ti);\n         // FIXME (#2712): change this to T_ptr(ccx.tydesc_ty) when the\n         // core::sys copy of the get_tydesc interface dies off.\n-        let td = PointerCast(bcx, lltydesc, T_ptr(T_nil()));\n+        let td = PointerCast(bcx, static_ti.tydesc, T_ptr(T_nil()));\n         Store(bcx, td, fcx.llretptr);\n       }\n       \"init\" {"}, {"sha": "06adbf68dacf429f70916b4c6cd714be2b65d208", "filename": "src/rustc/middle/trans/reflect.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f2b8ab0ad39763674d1290ff2775db39a9b1ceee/src%2Frustc%2Fmiddle%2Ftrans%2Freflect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2b8ab0ad39763674d1290ff2775db39a9b1ceee/src%2Frustc%2Fmiddle%2Ftrans%2Freflect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Freflect.rs?ref=f2b8ab0ad39763674d1290ff2775db39a9b1ceee", "patch": "@@ -43,10 +43,9 @@ impl methods for reflector {\n \n     fn c_tydesc(t: ty::t) -> ValueRef {\n         let bcx = self.bcx;\n-        let mut static_ti = none;\n-        let lltydesc = get_tydesc(bcx.ccx(), t, static_ti);\n-        lazily_emit_all_tydesc_glue(bcx.ccx(), copy static_ti);\n-        PointerCast(bcx, lltydesc, T_ptr(self.tydesc_ty))\n+        let static_ti = get_tydesc(bcx.ccx(), t);\n+        lazily_emit_all_tydesc_glue(bcx.ccx(), static_ti);\n+        PointerCast(bcx, static_ti.tydesc, T_ptr(self.tydesc_ty))\n     }\n \n     fn c_mt(mt: ty::mt) -> ~[ValueRef] {"}]}