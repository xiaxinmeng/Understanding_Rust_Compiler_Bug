{"sha": "ff21ccfba18760659aa81c9b7e347d54a0ba2833", "node_id": "C_kwDOAAsO6NoAKGZmMjFjY2ZiYTE4NzYwNjU5YWE4MWM5YjdlMzQ3ZDU0YTBiYTI4MzM", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2022-09-09T13:36:37Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-09-09T13:36:37Z"}, "message": "Rollup merge of #101529 - mousetail:patch-2, r=thomcc\n\nFix the example code and doctest for Formatter::sign_plus\n\nThe provided example to the `sign_plus` method on `fmt` was broken, it displays the `-` sign twice for negative numbers.\n\nThis pull request should fix the issue by `.abs()` ing the number so that the negative sign appears only once. It is just one possible solution to the issue, not sure if it's the best. However, this one will behave as expected when combined with fill and alignment operators.", "tree": {"sha": "e22d38f4e43429ec4c218c57363e0fd1aac324d1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e22d38f4e43429ec4c218c57363e0fd1aac324d1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ff21ccfba18760659aa81c9b7e347d54a0ba2833", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjG0FlCRBK7hj4Ov3rIwAADW8IAChlwRa6rPCVyh4vV4GK8z8o\nG5l9/BAuTh+6DU2WDR6SeWoPS6O6ySc3LJkCz7NpHLmCOy51UEB2nKuYBdLVvjJR\nxXDv2zDQvXZB2SN8pbsVBxyaSibRqnSogJbQplvibo+H6LqeO/yWUvUIQWDXFe7m\nMVcxMw6YIJEkV3zbg2jnP7vlgsdi0sRkeUJL2rQb5G0kY3WVs9XzFKzkk/QWSsoO\naKph3ZTQfZQ/jTFaKRCdMJnozPCgaOmzsePt8XJtF4uxt0h5LboTtAH7M0xspkju\nymc9UfHLAVFk8EnjvR4XsWFCFLY3zkvKE/qooP8eodXo7TMXlPEBBMruJF8gZiY=\n=5yZb\n-----END PGP SIGNATURE-----\n", "payload": "tree e22d38f4e43429ec4c218c57363e0fd1aac324d1\nparent 3ec332fc82596e7f80311fa142035945729ce156\nparent 5fbe485ecca977e3981d9dbcc5370183528d50a7\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1662730597 +0200\ncommitter GitHub <noreply@github.com> 1662730597 +0200\n\nRollup merge of #101529 - mousetail:patch-2, r=thomcc\n\nFix the example code and doctest for Formatter::sign_plus\n\nThe provided example to the `sign_plus` method on `fmt` was broken, it displays the `-` sign twice for negative numbers.\n\nThis pull request should fix the issue by `.abs()` ing the number so that the negative sign appears only once. It is just one possible solution to the issue, not sure if it's the best. However, this one will behave as expected when combined with fill and alignment operators.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ff21ccfba18760659aa81c9b7e347d54a0ba2833", "html_url": "https://github.com/rust-lang/rust/commit/ff21ccfba18760659aa81c9b7e347d54a0ba2833", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ff21ccfba18760659aa81c9b7e347d54a0ba2833/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3ec332fc82596e7f80311fa142035945729ce156", "url": "https://api.github.com/repos/rust-lang/rust/commits/3ec332fc82596e7f80311fa142035945729ce156", "html_url": "https://github.com/rust-lang/rust/commit/3ec332fc82596e7f80311fa142035945729ce156"}, {"sha": "5fbe485ecca977e3981d9dbcc5370183528d50a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/5fbe485ecca977e3981d9dbcc5370183528d50a7", "html_url": "https://github.com/rust-lang/rust/commit/5fbe485ecca977e3981d9dbcc5370183528d50a7"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "905212eb372b12f8dfe185691abd435563c6deb1", "filename": "library/core/src/fmt/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ff21ccfba18760659aa81c9b7e347d54a0ba2833/library%2Fcore%2Fsrc%2Ffmt%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff21ccfba18760659aa81c9b7e347d54a0ba2833/library%2Fcore%2Fsrc%2Ffmt%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Ffmt%2Fmod.rs?ref=ff21ccfba18760659aa81c9b7e347d54a0ba2833", "patch": "@@ -1819,14 +1819,15 @@ impl<'a> Formatter<'a> {\n     ///             write!(formatter,\n     ///                    \"Foo({}{})\",\n     ///                    if self.0 < 0 { '-' } else { '+' },\n-    ///                    self.0)\n+    ///                    self.0.abs())\n     ///         } else {\n     ///             write!(formatter, \"Foo({})\", self.0)\n     ///         }\n     ///     }\n     /// }\n     ///\n     /// assert_eq!(&format!(\"{:+}\", Foo(23)), \"Foo(+23)\");\n+    /// assert_eq!(&format!(\"{:+}\", Foo(-23)), \"Foo(-23)\");\n     /// assert_eq!(&format!(\"{}\", Foo(23)), \"Foo(23)\");\n     /// ```\n     #[must_use]"}]}