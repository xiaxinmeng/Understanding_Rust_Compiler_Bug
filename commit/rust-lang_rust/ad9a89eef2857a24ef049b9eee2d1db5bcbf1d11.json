{"sha": "ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11", "node_id": "C_kwDOAAsO6NoAKGFkOWE4OWVlZjI4NTdhMjRlZjA0OWI5ZWVlMmQxZGI1YmNiZjFkMTE", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2023-04-11T19:25:36Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2023-04-12T15:39:43Z"}, "message": "rustdoc: make settings radio and checks thicker, less contrast\n\nThis is very dependent on subjectivity and what screen you use,\nbut this change makes the radio buttons' outer circle less ugly.\n\nThis is because I could see the pixels very clearly, thanks to the\nvery thin line and high contrast. This change makes both less\nsevere, giving your browser's antialiasing algorithm more to\nwork with. Since it's thicker, lowering the contrast shouldn't\nimpact visibility.", "tree": {"sha": "d36056912893a1e8138fe33fabb6baa66be98a5c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d36056912893a1e8138fe33fabb6baa66be98a5c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11", "html_url": "https://github.com/rust-lang/rust/commit/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "45749b21b7fd836f6c4f11dd40376f7c83e2791b", "url": "https://api.github.com/repos/rust-lang/rust/commits/45749b21b7fd836f6c4f11dd40376f7c83e2791b", "html_url": "https://github.com/rust-lang/rust/commit/45749b21b7fd836f6c4f11dd40376f7c83e2791b"}], "stats": {"total": 83, "additions": 75, "deletions": 8}, "files": [{"sha": "d13c783d2e4fbd93bb849a766df1c52a947a2a5c", "filename": "src/librustdoc/html/static/css/settings.css", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css", "raw_url": "https://github.com/rust-lang/rust/raw/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fsettings.css?ref=ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11", "patch": "@@ -8,7 +8,7 @@\n \theight: 1.2rem;\n \twidth: 1.2rem;\n \tcolor: inherit;\n-\tborder: 1px solid currentColor;\n+\tborder: 2px solid var(--settings-input-border-color);\n \toutline: none;\n \t-webkit-appearance: none;\n \tcursor: pointer;\n@@ -52,6 +52,7 @@\n }\n .setting-check input:checked {\n \tbackground-color: var(--settings-input-color);\n+\tborder-width: 1px;\n }\n .setting-radio input:focus, .setting-check input:focus {\n \tbox-shadow: 0 0 1px 1px var(--settings-input-color);"}, {"sha": "7145baad256732935282aa99f399b25ce1b48de4", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11", "patch": "@@ -7,6 +7,7 @@ Original by Dempfi (https://github.com/dempfi/ayu)\n \t--main-background-color: #0f1419;\n \t--main-color: #c5c5c5;\n \t--settings-input-color: #ffb454;\n+\t--settings-input-border-color: #999;\n \t--settings-button-color: #fff;\n \t--settings-button-border-focus: #e0e0e0;\n \t--sidebar-background-color: #14191f;"}, {"sha": "3c1186a5649f1cd6ae590632ddcb3c966531f73a", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11", "patch": "@@ -2,6 +2,7 @@\n \t--main-background-color: #353535;\n \t--main-color: #ddd;\n \t--settings-input-color: #2196f3;\n+\t--settings-input-border-color: #999;\n \t--settings-button-color: #000;\n \t--settings-button-border-focus: #ffb900;\n \t--sidebar-background-color: #505050;"}, {"sha": "f8c287137deac18021219c3e30ca8859002919eb", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11", "patch": "@@ -2,6 +2,7 @@\n \t--main-background-color: white;\n \t--main-color: black;\n \t--settings-input-color: #2196f3;\n+\t--settings-input-border-color: #717171;\n \t--settings-button-color: #000;\n \t--settings-button-border-focus: #717171;\n \t--sidebar-background-color: #F5F5F5;"}, {"sha": "0c360792286fe2957cc510301685e580b234f072", "filename": "tests/rustdoc-gui/settings.goml", "status": "modified", "additions": 70, "deletions": 7, "changes": 77, "blob_url": "https://github.com/rust-lang/rust/blob/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11/tests%2Frustdoc-gui%2Fsettings.goml", "raw_url": "https://github.com/rust-lang/rust/raw/ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11/tests%2Frustdoc-gui%2Fsettings.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fsettings.goml?ref=ad9a89eef2857a24ef049b9eee2d1db5bcbf1d11", "patch": "@@ -56,38 +56,49 @@ move-cursor-to: \"#settings-menu > a\"\n assert-css: (\n     \"#theme-dark\",\n     {\n-        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n         \"box-shadow\": \"rgb(53, 53, 53) 0px 0px 0px 3px inset\",\n+        \"border-width\": \"2px\",\n     },\n )\n-assert-css: (\"#theme-light\", {\"border-color\": \"rgb(221, 221, 221)\", \"box-shadow\": \"none\"})\n+assert-css: (\"#theme-light\", {\"border-color\": \"rgb(153, 153, 153)\", \"box-shadow\": \"none\"})\n // Let's start with the hover for radio buttons.\n move-cursor-to: \"#theme-dark\"\n assert-css: (\n     \"#theme-dark\",\n     {\n         \"border-color\": \"rgb(33, 150, 243)\",\n         \"box-shadow\": \"rgb(53, 53, 53) 0px 0px 0px 3px inset\",\n+        \"border-width\": \"2px\",\n     },\n )\n move-cursor-to: \"#theme-light\"\n-assert-css: (\"#theme-light\", {\"border-color\": \"rgb(33, 150, 243)\", \"box-shadow\": \"none\"})\n+assert-css: (\n+    \"#theme-light\",\n+    {\n+        \"border-color\": \"rgb(33, 150, 243)\",\n+        \"box-shadow\": \"none\",\n+        \"border-width\": \"2px\",\n+    }\n+)\n move-cursor-to: \"#theme-ayu\"\n // Let's now check with the focus for radio buttons.\n focus: \"#theme-dark\"\n assert-css: (\n     \"#theme-dark\",\n     {\n-        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n         \"box-shadow\": \"rgb(53, 53, 53) 0px 0px 0px 3px inset, rgb(33, 150, 243) 0px 0px 2px 2px\",\n+        \"border-width\": \"2px\",\n     },\n )\n focus: \"#theme-light\"\n assert-css: (\n     \"#theme-light\",\n     {\n-        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n         \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        \"border-width\": \"2px\",\n     },\n )\n // Now we check we both focus and hover for radio buttons.\n@@ -98,6 +109,7 @@ assert-css: (\n     {\n         \"border-color\": \"rgb(33, 150, 243)\",\n         \"box-shadow\": \"rgb(53, 53, 53) 0px 0px 0px 3px inset, rgb(33, 150, 243) 0px 0px 2px 2px\",\n+        \"border-width\": \"2px\",\n     },\n )\n move-cursor-to: \"#theme-light\"\n@@ -107,6 +119,7 @@ assert-css: (\n     {\n         \"border-color\": \"rgb(33, 150, 243)\",\n         \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        \"border-width\": \"2px\",\n     },\n )\n // Now we check the setting-radio-name is on a different line than the label.\n@@ -142,7 +155,18 @@ assert-css: (\n     \"#auto-hide-large-items\",\n     {\n         \"background-color\": \"rgb(33, 150, 243)\",\n-        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n+        // 1px border when checked\n+        \"border-width\": \"1px\",\n+    },\n+)\n+assert-css: (\n+    \"#auto-hide-method-docs\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n+        // 2px border when unchecked\n+        \"border-width\": \"2px\",\n     },\n )\n // Let's start with the hover for toggles.\n@@ -152,6 +176,18 @@ assert-css: (\n     {\n         \"background-color\": \"rgb(33, 150, 243)\",\n         \"border-color\": \"rgb(33, 150, 243)\",\n+        // 1px border when checked\n+        \"border-width\": \"1px\",\n+    },\n+)\n+move-cursor-to: \"#auto-hide-method-docs\"\n+assert-css: (\n+    \"#auto-hide-method-docs\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(33, 150, 243)\",\n+        // 2px border when unchecked\n+        \"border-width\": \"2px\",\n     },\n )\n move-cursor-to: \"#settings-menu > a\"\n@@ -161,8 +197,21 @@ assert-css: (\n     \"#auto-hide-large-items\",\n     {\n         \"background-color\": \"rgb(33, 150, 243)\",\n-        \"border-color\": \"rgb(221, 221, 221)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n+        \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        // 1px border when checked\n+        \"border-width\": \"1px\",\n+    },\n+)\n+focus: \"#auto-hide-method-docs\"\n+assert-css: (\n+    \"#auto-hide-method-docs\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(153, 153, 153)\",\n         \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        // 2px border when unchecked\n+        \"border-width\": \"2px\",\n     },\n )\n // Now we check we both focus and hover for toggles.\n@@ -174,6 +223,20 @@ assert-css: (\n         \"background-color\": \"rgb(33, 150, 243)\",\n         \"border-color\": \"rgb(33, 150, 243)\",\n         \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        // 1px border when checked\n+        \"border-width\": \"1px\",\n+    },\n+)\n+move-cursor-to: \"#auto-hide-method-docs\"\n+focus: \"#auto-hide-method-docs\"\n+assert-css: (\n+    \"#auto-hide-method-docs\",\n+    {\n+        \"background-color\": \"rgba(0, 0, 0, 0)\",\n+        \"border-color\": \"rgb(33, 150, 243)\",\n+        \"box-shadow\": \"rgb(33, 150, 243) 0px 0px 1px 1px\",\n+        // 2px border when unchecked\n+        \"border-width\": \"2px\",\n     },\n )\n "}]}