{"sha": "70a21e89f136c91f676959c126666d13a2deeadf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwYTIxZTg5ZjEzNmM5MWY2NzY5NTljMTI2NjY2ZDEzYTJkZWVhZGY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-08-27T17:42:45Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-08-27T17:42:45Z"}, "message": "Auto merge of #53441 - toidiu:ak-fix53419, r=nikomatsakis\n\nfix for late-bound regions\n\nFix for https://github.com/rust-lang/rust/issues/53419\n\nr? @nikomatsakis", "tree": {"sha": "ec0656fb883c31a9249b35c14e6de940105f853a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ec0656fb883c31a9249b35c14e6de940105f853a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/70a21e89f136c91f676959c126666d13a2deeadf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/70a21e89f136c91f676959c126666d13a2deeadf", "html_url": "https://github.com/rust-lang/rust/commit/70a21e89f136c91f676959c126666d13a2deeadf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/70a21e89f136c91f676959c126666d13a2deeadf/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8785e348ba6b9d43ffd8ce4b1a59059cbce6334c", "url": "https://api.github.com/repos/rust-lang/rust/commits/8785e348ba6b9d43ffd8ce4b1a59059cbce6334c", "html_url": "https://github.com/rust-lang/rust/commit/8785e348ba6b9d43ffd8ce4b1a59059cbce6334c"}, {"sha": "c63b633971a1cb0201b6747ddea2b7c7f82a57b7", "url": "https://api.github.com/repos/rust-lang/rust/commits/c63b633971a1cb0201b6747ddea2b7c7f82a57b7", "html_url": "https://github.com/rust-lang/rust/commit/c63b633971a1cb0201b6747ddea2b7c7f82a57b7"}], "stats": {"total": 117, "additions": 94, "deletions": 23}, "files": [{"sha": "18d8cd773eba9f96af3a6ee13875e995dd0c7521", "filename": "src/liballoc/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Fliballoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Fliballoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -77,6 +77,7 @@\n #![cfg_attr(not(test), feature(fn_traits))]\n #![cfg_attr(not(test), feature(generator_trait))]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![cfg_attr(test, feature(test))]\n \n #![feature(allocator_api)]"}, {"sha": "3d2348f3e4546dd0701e127919c1b1cf7d3345ea", "filename": "src/liballoc_jemalloc/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Fliballoc_jemalloc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Fliballoc_jemalloc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc_jemalloc%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -17,6 +17,7 @@\n #![feature(libc)]\n #![feature(linkage)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(staged_api)]\n #![feature(rustc_attrs)]\n #![cfg_attr(dummy_jemalloc, allow(dead_code, unused_extern_crates))]"}, {"sha": "ffab9e8e4af3c561032c23613f62f88400d92172", "filename": "src/liballoc_system/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Fliballoc_system%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Fliballoc_system%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc_system%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -18,6 +18,7 @@\n #![feature(allocator_api)]\n #![feature(core_intrinsics)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(staged_api)]\n #![feature(rustc_attrs)]\n #![cfg_attr(any(unix, target_os = \"cloudabi\", target_os = \"redox\"), feature(libc))]"}, {"sha": "5cb8975e9ce973cdf233afc74c3e398848558966", "filename": "src/libarena/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibarena%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibarena%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibarena%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -27,6 +27,7 @@\n #![feature(core_intrinsics)]\n #![feature(dropck_eyepatch)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(raw_vec_internals)]\n #![cfg_attr(test, feature(test))]\n "}, {"sha": "be739270228d9badd95358f6c03b7adfbe8faac0", "filename": "src/libcore/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibcore%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibcore%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -92,6 +92,7 @@\n #![feature(link_llvm_intrinsics)]\n #![feature(never_type)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(exhaustive_patterns)]\n #![feature(macro_at_most_once_rep)]\n #![feature(no_core)]"}, {"sha": "3720100700c9c2768249fae7fa488c62e39f78b0", "filename": "src/libfmt_macros/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibfmt_macros%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibfmt_macros%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibfmt_macros%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -21,6 +21,7 @@\n        test(attr(deny(warnings))))]\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n \n pub use self::Piece::*;\n pub use self::Position::*;"}, {"sha": "5a0c983b521a54c5afee7a4689ef59ca0478ea86", "filename": "src/libgraphviz/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibgraphviz%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibgraphviz%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibgraphviz%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -289,6 +289,7 @@\n        test(attr(allow(unused_variables), deny(warnings))))]\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(str_escape)]\n \n use self::LabelText::*;"}, {"sha": "4da88d8522196642536d29cc876dbeb355f4f84b", "filename": "src/libpanic_abort/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibpanic_abort%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibpanic_abort%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_abort%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -25,6 +25,7 @@\n #![feature(core_intrinsics)]\n #![feature(libc)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(panic_runtime)]\n #![feature(staged_api)]\n #![feature(rustc_attrs)]"}, {"sha": "3368790b3f76fad2e61742431b09324a532ff8ee", "filename": "src/libpanic_unwind/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibpanic_unwind%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibpanic_unwind%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibpanic_unwind%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -35,6 +35,7 @@\n #![feature(lang_items)]\n #![feature(libc)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(panic_unwind)]\n #![feature(raw)]\n #![feature(staged_api)]"}, {"sha": "8c667d2f8711180b421a816cf48921779e899cb4", "filename": "src/libproc_macro/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibproc_macro%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibproc_macro%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibproc_macro%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -32,6 +32,7 @@\n        test(attr(allow(dead_code, deprecated, unused_variables, unused_mut))))]\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(rustc_private)]\n #![feature(staged_api)]\n #![feature(lang_items)]"}, {"sha": "00dd87022c268533b20c55493f2359fa9dfdbc1e", "filename": "src/libprofiler_builtins/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibprofiler_builtins%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibprofiler_builtins%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibprofiler_builtins%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -16,4 +16,5 @@\n             issue = \"0\")]\n #![allow(unused_features)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(staged_api)]"}, {"sha": "d014f319564fef11c344060164f8eb8dd0665a5c", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -51,6 +51,7 @@\n #![feature(exhaustive_patterns)]\n #![feature(extern_types)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(non_exhaustive)]\n #![feature(proc_macro_internals)]\n #![feature(quote)]"}, {"sha": "44fbcade6bc066eabf9754034f0dc7a1434ffc69", "filename": "src/librustc_allocator/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_allocator%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_allocator%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_allocator%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(rustc_private)]\n \n #[macro_use] extern crate log;"}, {"sha": "c3c32ba7d5b6c05623ac577be65321111f81b171", "filename": "src/librustc_apfloat/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_apfloat%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_apfloat%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_apfloat%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -46,6 +46,7 @@\n #![forbid(unsafe_code)]\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(try_from)]\n // See librustc_cratesio_shim/Cargo.toml for a comment explaining this.\n #[allow(unused_extern_crates)]"}, {"sha": "ed8fd305977e5e9b7a71359411211774d4d81420", "filename": "src/librustc_asan/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_asan%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_asan%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_asan%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -11,6 +11,7 @@\n #![sanitizer_runtime]\n #![feature(alloc_system)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(sanitizer_runtime)]\n #![feature(staged_api)]\n #![no_std]"}, {"sha": "edd837e9401a7da2097c39409ed73431dd6da0f3", "filename": "src/librustc_borrowck/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_borrowck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_borrowck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -15,6 +15,7 @@\n #![allow(non_camel_case_types)]\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(quote)]\n \n #![recursion_limit=\"256\"]"}, {"sha": "31eeb5633fba9c020c4b49860ec900606f11caa0", "filename": "src/librustc_codegen_llvm/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_codegen_llvm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_codegen_llvm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -27,6 +27,7 @@\n #![allow(unused_attributes)]\n #![feature(libc)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(quote)]\n #![feature(range_contains)]\n #![feature(rustc_diagnostic_macros)]"}, {"sha": "45db22ec6dabc59945ee62c28fd1deea617348c9", "filename": "src/librustc_codegen_utils/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_codegen_utils%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_codegen_utils%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_utils%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -20,6 +20,7 @@\n #![feature(box_syntax)]\n #![feature(custom_attribute)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![allow(unused_attributes)]\n #![feature(quote)]\n #![feature(rustc_diagnostic_macros)]"}, {"sha": "481f2f54c5e44abbc9aa322bb6a3854189a1b32a", "filename": "src/librustc_cratesio_shim/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_cratesio_shim%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_cratesio_shim%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_cratesio_shim%2Fsrc%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -12,6 +12,7 @@\n #![allow(unused_extern_crates)]\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n \n extern crate bitflags;\n extern crate log;"}, {"sha": "533b7f5e0af0581d2b75fdd6d4aec2fa0f54e7c4", "filename": "src/librustc_data_structures/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_data_structures%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_data_structures%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -27,6 +27,7 @@\n #![feature(optin_builtin_traits)]\n #![cfg_attr(stage0, feature(macro_vis_matcher))]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(allow_internal_unstable)]\n #![feature(vec_resize_with)]\n "}, {"sha": "13e1df6e538887c4735a413a4da600351b55d40c", "filename": "src/librustc_driver/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_driver%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_driver%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -21,6 +21,7 @@\n #![feature(box_syntax)]\n #![cfg_attr(unix, feature(libc))]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(option_replace)]\n #![feature(quote)]\n #![feature(rustc_diagnostic_macros)]"}, {"sha": "d31db4b2d00acc8b9e706fbf46cef352ba871ee4", "filename": "src/librustc_errors/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_errors%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_errors%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -17,6 +17,7 @@\n #![feature(range_contains)]\n #![cfg_attr(unix, feature(libc))]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(optin_builtin_traits)]\n \n extern crate atty;"}, {"sha": "e100b49c7f244242141a2070cc83c812e7dd9efa", "filename": "src/librustc_incremental/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_incremental%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_incremental%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_incremental%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -15,6 +15,7 @@\n       html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(specialization)]\n \n #![recursion_limit=\"256\"]"}, {"sha": "2dbaef30dfb734dc27c89f455ad915892349466a", "filename": "src/librustc_lint/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_lint%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_lint%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -28,6 +28,7 @@\n #![feature(box_syntax)]\n #![cfg_attr(stage0, feature(macro_vis_matcher))]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(quote)]\n #![feature(rustc_diagnostic_macros)]\n #![feature(macro_at_most_once_rep)]"}, {"sha": "13605e993a59cc5140811691c94590fc9964a15f", "filename": "src/librustc_llvm/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_llvm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_llvm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_llvm%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(static_nobundle)]\n \n #![doc(html_logo_url = \"https://www.rust-lang.org/logos/rust-logo-128x128-blk-v2.png\","}, {"sha": "ed8fd305977e5e9b7a71359411211774d4d81420", "filename": "src/librustc_lsan/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_lsan%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_lsan%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lsan%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -11,6 +11,7 @@\n #![sanitizer_runtime]\n #![feature(alloc_system)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(sanitizer_runtime)]\n #![feature(staged_api)]\n #![no_std]"}, {"sha": "19c59a8ccbca7503def7514dff482dd4cbdcca7b", "filename": "src/librustc_metadata/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_metadata%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_metadata%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -16,6 +16,7 @@\n #![feature(libc)]\n #![feature(macro_at_most_once_rep)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(proc_macro_internals)]\n #![feature(proc_macro_quote)]\n #![feature(quote)]"}, {"sha": "da29c900b8f2d5b873c82187b09cce21b2406881", "filename": "src/librustc_mir/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_mir%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_mir%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -15,7 +15,7 @@ Rust MIR: a lowered representation of Rust. Also: an experiment!\n */\n \n #![cfg_attr(not(stage0), feature(nll))]\n-#![feature(infer_outlives_requirements)]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(in_band_lifetimes)]\n #![feature(slice_patterns)]\n #![feature(slice_sort_by_cached_key)]"}, {"sha": "ed8fd305977e5e9b7a71359411211774d4d81420", "filename": "src/librustc_msan/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_msan%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_msan%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_msan%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -11,6 +11,7 @@\n #![sanitizer_runtime]\n #![feature(alloc_system)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(sanitizer_runtime)]\n #![feature(staged_api)]\n #![no_std]"}, {"sha": "94ea229cbd91ba03f01697adc3057d2f81322390", "filename": "src/librustc_passes/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_passes%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_passes%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_passes%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -19,6 +19,7 @@\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(rustc_diagnostic_macros)]\n \n #[macro_use]"}, {"sha": "62405150cd29a5d3c6ed07258e5211eeab3a3759", "filename": "src/librustc_platform_intrinsics/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_platform_intrinsics%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_platform_intrinsics%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -11,6 +11,7 @@\n #![allow(bad_style)]\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n \n pub struct Intrinsic {\n     pub inputs: &'static [&'static Type],"}, {"sha": "5b56266638552490473463f22f13505052b0fdab", "filename": "src/librustc_plugin/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_plugin%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_plugin%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_plugin%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -65,6 +65,7 @@\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(rustc_diagnostic_macros)]\n \n #[macro_use] extern crate syntax;"}, {"sha": "fecfc43226769d4ec9bc5a72e56077b6235cc5f3", "filename": "src/librustc_privacy/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_privacy%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_privacy%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_privacy%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -13,6 +13,7 @@\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n \n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(rustc_diagnostic_macros)]\n \n #![recursion_limit=\"256\"]"}, {"sha": "644d24a5f42a10c31066efdf6825593073cb018b", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -14,6 +14,7 @@\n \n #![feature(crate_visibility_modifier)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(rustc_diagnostic_macros)]\n #![feature(slice_sort_by_cached_key)]\n "}, {"sha": "8ef6cd7ae6bab31cbc427bd11d05f05642c3e26b", "filename": "src/librustc_save_analysis/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_save_analysis%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_save_analysis%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_save_analysis%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -13,6 +13,7 @@\n        html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n #![feature(custom_attribute)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![allow(unused_attributes)]\n \n #![recursion_limit=\"256\"]"}, {"sha": "1e70a806cce895ee707e5f7a8a71ed25ad8dda56", "filename": "src/librustc_target/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_target%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_target%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -24,6 +24,7 @@\n #![feature(box_syntax)]\n #![feature(const_fn)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(slice_patterns)]\n \n #[macro_use]"}, {"sha": "971dfa751f11a300c5679575c6e33796bc8b521b", "filename": "src/librustc_traits/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_traits%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_traits%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_traits%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -16,6 +16,7 @@\n #![feature(extern_prelude)]\n #![feature(in_band_lifetimes)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n \n #![recursion_limit=\"256\"]\n "}, {"sha": "ed8fd305977e5e9b7a71359411211774d4d81420", "filename": "src/librustc_tsan/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_tsan%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_tsan%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_tsan%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -11,6 +11,7 @@\n #![sanitizer_runtime]\n #![feature(alloc_system)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(sanitizer_runtime)]\n #![feature(staged_api)]\n #![no_std]"}, {"sha": "d4460bd1168eb2314553aa172f54e63bc7613c2e", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -76,6 +76,7 @@ This API is completely unstable and subject to change.\n #![feature(crate_visibility_modifier)]\n #![feature(exhaustive_patterns)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(quote)]\n #![feature(refcell_replace_swap)]\n #![feature(rustc_diagnostic_macros)]"}, {"sha": "46934d7bca711e1d27604bc6a42207173356fba5", "filename": "src/librustc_typeck/outlives/implicit_infer.rs", "status": "modified", "additions": 22, "deletions": 16, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_typeck%2Foutlives%2Fimplicit_infer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_typeck%2Foutlives%2Fimplicit_infer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Foutlives%2Fimplicit_infer.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -65,8 +65,7 @@ impl<'cx, 'tcx> ItemLikeVisitor<'tcx> for InferVisitor<'cx, 'tcx> {\n \n         debug!(\"InferVisitor::visit_item(item={:?})\", item_did);\n \n-        let node_id = self\n-            .tcx\n+        let node_id = self.tcx\n             .hir\n             .as_local_node_id(item_did)\n             .expect(\"expected local def-id\");\n@@ -108,8 +107,7 @@ impl<'cx, 'tcx> ItemLikeVisitor<'tcx> for InferVisitor<'cx, 'tcx> {\n         // Therefore mark `predicates_added` as true and which will ensure\n         // we walk the crates again and re-calculate predicates for all\n         // items.\n-        let item_predicates_len: usize = self\n-            .global_inferred_outlives\n+        let item_predicates_len: usize = self.global_inferred_outlives\n             .get(&item_did)\n             .map(|p| p.len())\n             .unwrap_or(0);\n@@ -191,30 +189,37 @@ fn insert_required_predicates_to_be_wf<'tcx>(\n                     substs,\n                     required_predicates,\n                     explicit_map,\n-                    false,\n+                    IgnoreSelfTy(false),\n                 );\n             }\n \n             ty::Dynamic(obj, ..) => {\n                 // This corresponds to `dyn Trait<..>`. In this case, we should\n                 // use the explicit predicates as well.\n \n-                // We are passing type `ty` as a placeholder value with the function\n-                // `with_self_ty`, since there is no concrete type `Self` for a\n-                // `dyn Trait` at this stage. Therefore when checking explicit\n-                // predicates in `check_explicit_predicates` we need to ignore\n-                // checking the explicit_map for Self type.\n                 debug!(\"Dynamic\");\n                 debug!(\"field_ty = {}\", &field_ty);\n                 debug!(\"ty in field = {}\", &ty);\n                 if let Some(ex_trait_ref) = obj.principal() {\n+                    // Here, we are passing the type `usize` as a\n+                    // placeholder value with the function\n+                    // `with_self_ty`, since there is no concrete type\n+                    // `Self` for a `dyn Trait` at this\n+                    // stage. Therefore when checking explicit\n+                    // predicates in `check_explicit_predicates` we\n+                    // need to ignore checking the explicit_map for\n+                    // Self type.\n+                    let substs = ex_trait_ref\n+                        .with_self_ty(tcx, tcx.types.usize)\n+                        .skip_binder()\n+                        .substs;\n                     check_explicit_predicates(\n                         tcx,\n                         &ex_trait_ref.skip_binder().def_id,\n-                        ex_trait_ref.with_self_ty(tcx, ty).skip_binder().substs,\n+                        substs,\n                         required_predicates,\n                         explicit_map,\n-                        true,\n+                        IgnoreSelfTy(true),\n                     );\n                 }\n             }\n@@ -229,7 +234,7 @@ fn insert_required_predicates_to_be_wf<'tcx>(\n                     obj.substs,\n                     required_predicates,\n                     explicit_map,\n-                    false,\n+                    IgnoreSelfTy(false),\n                 );\n             }\n \n@@ -238,6 +243,8 @@ fn insert_required_predicates_to_be_wf<'tcx>(\n     }\n }\n \n+pub struct IgnoreSelfTy(bool);\n+\n /// We also have to check the explicit predicates\n /// declared on the type.\n ///\n@@ -259,7 +266,7 @@ pub fn check_explicit_predicates<'tcx>(\n     substs: &[Kind<'tcx>],\n     required_predicates: &mut RequiredPredicates<'tcx>,\n     explicit_map: &mut ExplicitPredicatesMap<'tcx>,\n-    ignore_self_ty: bool,\n+    ignore_self_ty: IgnoreSelfTy,\n ) {\n     debug!(\"def_id = {:?}\", &def_id);\n     debug!(\"substs = {:?}\", &substs);\n@@ -297,7 +304,7 @@ pub fn check_explicit_predicates<'tcx>(\n         // to apply the substs, and not filter this predicate, we might then falsely\n         // conclude that e.g. `X: 'x` was a reasonable inferred requirement.\n         if let UnpackedKind::Type(ty) = outlives_predicate.0.unpack() {\n-            if ty.is_self() && ignore_self_ty {\n+            if ty.is_self() && ignore_self_ty.0 {\n                 debug!(\"skipping self ty = {:?}\", &ty);\n                 continue;\n             }\n@@ -307,5 +314,4 @@ pub fn check_explicit_predicates<'tcx>(\n         debug!(\"predicate = {:?}\", &predicate);\n         insert_outlives_predicate(tcx, predicate.0.into(), predicate.1, required_predicates);\n     }\n-    // }\n }"}, {"sha": "1b6d51d2b02806d74a73e57b6b5cabe2c67b04fa", "filename": "src/librustc_typeck/outlives/mod.rs", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_typeck%2Foutlives%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustc_typeck%2Foutlives%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Foutlives%2Fmod.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -59,8 +59,7 @@ fn inferred_outlives_of<'a, 'tcx>(\n                             ty::Predicate::TypeOutlives(p) => p.to_string(),\n \n                             err => bug!(\"unexpected predicate {:?}\", err),\n-                        })\n-                        .collect();\n+                        }).collect();\n                     pred.sort();\n \n                     let span = tcx.def_span(item_def_id);\n@@ -117,11 +116,9 @@ fn inferred_outlives_crate<'tcx>(\n                             ty::Binder::bind(ty::OutlivesPredicate(region1, region2)),\n                         ),\n                     },\n-                )\n-                .collect();\n+                ).collect();\n             (def_id, Lrc::new(vec))\n-        })\n-        .collect();\n+        }).collect();\n \n     let empty_predicate = Lrc::new(Vec::new());\n "}, {"sha": "279151eb26def8943d4606c7a854fdd6f9ba6e34", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -17,6 +17,7 @@\n #![feature(box_patterns)]\n #![feature(box_syntax)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(set_stdio)]\n #![feature(slice_sort_by_cached_key)]\n #![feature(test)]"}, {"sha": "e87c2793ee86701ab2d5b88d2a3bf9e2f6ad07e6", "filename": "src/libserialize/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibserialize%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibserialize%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibserialize%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -25,6 +25,7 @@ Core encoding and decoding interfaces.\n #![feature(specialization)]\n #![feature(never_type)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![cfg_attr(test, feature(test))]\n \n pub use self::serialize::{Decoder, Encoder, Decodable, Encodable};"}, {"sha": "87abf02b4458d7cdb8c4abadec7dfbbe280fa017", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -273,6 +273,7 @@\n #![feature(needs_panic_runtime)]\n #![feature(never_type)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(exhaustive_patterns)]\n #![feature(on_unimplemented)]\n #![feature(optin_builtin_traits)]"}, {"sha": "c8ec273a03f2866e4fd77bb57cb02e8c2fff7a04", "filename": "src/libsyntax/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -22,6 +22,7 @@\n #![feature(crate_visibility_modifier)]\n #![feature(macro_at_most_once_rep)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(rustc_attrs)]\n #![feature(rustc_diagnostic_macros)]\n #![feature(slice_sort_by_cached_key)]"}, {"sha": "84436b4e4eacf84cfcfc0d2bb8d535abb3a2a558", "filename": "src/libsyntax_ext/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibsyntax_ext%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibsyntax_ext%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_ext%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -17,6 +17,7 @@\n #![feature(proc_macro_internals)]\n #![feature(decl_macro)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(str_escape)]\n \n #![feature(rustc_diagnostic_macros)]"}, {"sha": "a493ea4f565ea92139e26680770781557ad79818", "filename": "src/libsyntax_pos/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibsyntax_pos%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibsyntax_pos%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -22,6 +22,7 @@\n #![feature(crate_visibility_modifier)]\n #![feature(custom_attribute)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(non_exhaustive)]\n #![feature(optin_builtin_traits)]\n #![feature(specialization)]"}, {"sha": "df90be6393743a75dfc058d41c556c3116a1e580", "filename": "src/libterm/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibterm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibterm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibterm%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -51,6 +51,7 @@\n // Handle rustfmt skips\n #![feature(custom_attribute)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![allow(unused_attributes)]\n \n use std::io::prelude::*;"}, {"sha": "29d7cfd2a3a2120c430b47a307e67524643b04bc", "filename": "src/libtest/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibtest%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibtest%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -36,6 +36,7 @@\n #![feature(fnbox)]\n #![cfg_attr(any(unix, target_os = \"cloudabi\"), feature(libc))]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(set_stdio)]\n #![feature(panic_unwind)]\n #![feature(staged_api)]"}, {"sha": "3b94dc238d91cf9aab3686fc3671bb4caa4b9e11", "filename": "src/libunwind/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibunwind%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Flibunwind%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibunwind%2Flib.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -14,6 +14,7 @@\n #![feature(cfg_target_vendor)]\n #![feature(link_cfg)]\n #![cfg_attr(not(stage0), feature(nll))]\n+#![cfg_attr(not(stage0), feature(infer_outlives_requirements))]\n #![feature(staged_api)]\n #![feature(unwind_attributes)]\n #![feature(static_nobundle)]"}, {"sha": "e4ade1b6323b7b30023a06bfba6b1fbea9e76126", "filename": "src/test/ui/issue-53419.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/70a21e89f136c91f676959c126666d13a2deeadf/src%2Ftest%2Fui%2Fissue-53419.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a21e89f136c91f676959c126666d13a2deeadf/src%2Ftest%2Fui%2Fissue-53419.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-53419.rs?ref=70a21e89f136c91f676959c126666d13a2deeadf", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+//compile-pass\n+\n+#![feature(infer_outlives_requirements)]\n+\n+struct Foo {\n+    bar: for<'r> Fn(usize, &'r FnMut())\n+}\n+\n+fn main() {\n+}\n+"}]}