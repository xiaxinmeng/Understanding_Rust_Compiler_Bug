{"sha": "155a5535a68c959f511278dc6c21c06cbafca2f8", "node_id": "C_kwDOAAsO6NoAKDE1NWE1NTM1YTY4Yzk1OWY1MTEyNzhkYzZjMjFjMDZjYmFmY2EyZjg", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-11-14T22:27:04Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2022-11-14T22:27:04Z"}, "message": "rustdoc: remove no-op CSS `.main-header { justify-content }`\n\nThis rule was added in 152e8889052adaaa6c12652486292be34059713c to push the\nout-of-band content to the right while allowing it to line wrap when it got\ntoo big. The idea was that the justification rule would fill the space\nbetween the `<h1>` element and the `<div class=\"out-of-band\">` element.\n\nA later commit, 3cb03cb34247383ffb67a017ae70134741e8c4da, flattened the\nin-band element into the `<h1>`, copying the `flex-grow` rule. This means\nthe `<h1>` element now grows to fill the space, so there's no need to\njustify-content any more.\n\nThis commit also adds a test case for this.", "tree": {"sha": "d4264a03793d51c61249b9150adf4cf3c2cc6d45", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d4264a03793d51c61249b9150adf4cf3c2cc6d45"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/155a5535a68c959f511278dc6c21c06cbafca2f8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/155a5535a68c959f511278dc6c21c06cbafca2f8", "html_url": "https://github.com/rust-lang/rust/commit/155a5535a68c959f511278dc6c21c06cbafca2f8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/155a5535a68c959f511278dc6c21c06cbafca2f8/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "96ddd32c4bfb1d78f0cd03eb068b1710a8cebeef", "url": "https://api.github.com/repos/rust-lang/rust/commits/96ddd32c4bfb1d78f0cd03eb068b1710a8cebeef", "html_url": "https://github.com/rust-lang/rust/commit/96ddd32c4bfb1d78f0cd03eb068b1710a8cebeef"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "114959d73771ab7a79696d28d74069426a3e9384", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/155a5535a68c959f511278dc6c21c06cbafca2f8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/155a5535a68c959f511278dc6c21c06cbafca2f8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=155a5535a68c959f511278dc6c21c06cbafca2f8", "patch": "@@ -159,7 +159,6 @@ h1.fqn {\n .main-heading {\n \tdisplay: flex;\n \tflex-wrap: wrap;\n-\tjustify-content: space-between;\n \tpadding-bottom: 6px;\n \tmargin-bottom: 15px;\n }"}, {"sha": "c014eb52e710030804cf955916e18ad238181ea1", "filename": "src/test/rustdoc-gui/type-declation-overflow.goml", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/155a5535a68c959f511278dc6c21c06cbafca2f8/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "raw_url": "https://github.com/rust-lang/rust/raw/155a5535a68c959f511278dc6c21c06cbafca2f8/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml?ref=155a5535a68c959f511278dc6c21c06cbafca2f8", "patch": "@@ -41,3 +41,20 @@ goto: \"file://\" + |DOC_PATH| + \"/lib2/too_long/struct.SuperIncrediblyLongLongLon\n store-property: (scrollWidth, \".mobile-topbar h2\", \"scrollWidth\")\n assert-property: (\".mobile-topbar h2\", {\"clientWidth\": |scrollWidth|})\n assert-css: (\".mobile-topbar h2\", {\"overflow-x\": \"hidden\"})\n+\n+// Check wrapping for top main-heading h1 and out-of-band.\n+// On desktop, they wrap when too big.\n+size: (1100, 800)\n+goto: \"file://\" + |DOC_PATH| + \"/lib2/too_long/struct.SuperIncrediblyLongLongLongLongLongLongLongGigaGigaGigaMegaLongLongLongStructName.html\"\n+compare-elements-position-false: (\".main-heading h1\", \".main-heading .out-of-band\", (\"y\"))\n+goto: \"file://\" + |DOC_PATH| + \"/lib2/index.html\"\n+compare-elements-position: (\".main-heading h1\", \".main-heading .out-of-band\", (\"y\"))\n+// make sure there is a gap between them\n+compare-elements-position-near-false: (\".main-heading h1\", \".main-heading .out-of-band\", {\"x\": 550})\n+\n+// On mobile, they always wrap.\n+size: (600, 600)\n+goto: \"file://\" + |DOC_PATH| + \"/lib2/too_long/struct.SuperIncrediblyLongLongLongLongLongLongLongGigaGigaGigaMegaLongLongLongStructName.html\"\n+compare-elements-position-false: (\".main-heading h1\", \".main-heading .out-of-band\", (\"y\"))\n+goto: \"file://\" + |DOC_PATH| + \"/lib2/index.html\"\n+compare-elements-position-false: (\".main-heading h1\", \".main-heading .out-of-band\", (\"y\"))"}]}