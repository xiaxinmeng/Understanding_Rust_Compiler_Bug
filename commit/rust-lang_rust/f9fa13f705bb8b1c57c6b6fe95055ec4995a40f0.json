{"sha": "f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY5ZmExM2Y3MDViYjhiMWM1N2M2YjZmZTk1MDU1ZWM0OTk1YTQwZjA=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-07-02T09:01:42Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-07-02T09:01:42Z"}, "message": "Auto merge of #85746 - m-ou-se:io-error-other, r=joshtriplett\n\nRedefine `ErrorKind::Other` and stop using it in std.\n\nThis implements the idea I shared yesterday in the libs meeting when we were discussing how to handle adding new `ErrorKind`s to the standard library: This redefines `Other` to be for *user defined errors only*, and changes all uses of `Other` in the standard library to a `#[doc(hidden)]` and permanently `#[unstable]` `ErrorKind` that users can not match on. This ensures that adding `ErrorKind`s at a later point in time is not a breaking change, since the user couldn't match on these errors anyway. This way, we use the `#[non_exhaustive]` property of the enum in a more effective way.\n\nOpen questions:\n- How do we check this change doesn't cause too much breakage? Will a crate run help and be enough?\n- How do we ensure we don't accidentally start using `Other` again in the standard library? We don't have a `pub(not crate)` or `#[deprecated(in this crate only)]`.\n\ncc https://github.com/rust-lang/rust/pull/79965\n\ncc `@rust-lang/libs` `@ijackson`\n\nr? `@dtolnay`", "tree": {"sha": "bbb013fe0b9af5703ce1a04f75d6435d61f473ad", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bbb013fe0b9af5703ce1a04f75d6435d61f473ad"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "html_url": "https://github.com/rust-lang/rust/commit/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1aa6c7cbc6d2582e7407cde9c65014aef8a189bb", "url": "https://api.github.com/repos/rust-lang/rust/commits/1aa6c7cbc6d2582e7407cde9c65014aef8a189bb", "html_url": "https://github.com/rust-lang/rust/commit/1aa6c7cbc6d2582e7407cde9c65014aef8a189bb"}, {"sha": "cc907330083a18a9067664c1db3db1959f58d00c", "url": "https://api.github.com/repos/rust-lang/rust/commits/cc907330083a18a9067664c1db3db1959f58d00c", "html_url": "https://github.com/rust-lang/rust/commit/cc907330083a18a9067664c1db3db1959f58d00c"}], "stats": {"total": 173, "additions": 99, "deletions": 74}, "files": [{"sha": "36910143dc977831638df2f0f3ca13da87fdc8d9", "filename": "library/std/src/fs.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Ffs.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -880,8 +880,7 @@ impl OpenOptions {\n     /// This function will return an error under a number of different\n     /// circumstances. Some of these error conditions are listed here, together\n     /// with their [`io::ErrorKind`]. The mapping to [`io::ErrorKind`]s is not\n-    /// part of the compatibility contract of the function, especially the\n-    /// [`Other`] kind might change to more specific kinds in the future.\n+    /// part of the compatibility contract of the function.\n     ///\n     /// * [`NotFound`]: The specified file does not exist and neither `create`\n     ///   or `create_new` is set.\n@@ -895,9 +894,11 @@ impl OpenOptions {\n     ///   exists.\n     /// * [`InvalidInput`]: Invalid combinations of open options (truncate\n     ///   without write access, no access mode set, etc.).\n-    /// * [`Other`]: One of the directory components of the specified file path\n+    ///\n+    /// The following errors don't match any existing [`io::ErrorKind`] at the moment:\n+    /// * One of the directory components of the specified file path\n     ///   was not, in fact, a directory.\n-    /// * [`Other`]: Filesystem-level errors: full disk, write permission\n+    /// * Filesystem-level errors: full disk, write permission\n     ///   requested on a read-only file system, exceeded disk quota, too many\n     ///   open files, too long filename, too many symbolic links in the\n     ///   specified path (Unix-like systems only), etc.\n@@ -913,7 +914,6 @@ impl OpenOptions {\n     /// [`AlreadyExists`]: io::ErrorKind::AlreadyExists\n     /// [`InvalidInput`]: io::ErrorKind::InvalidInput\n     /// [`NotFound`]: io::ErrorKind::NotFound\n-    /// [`Other`]: io::ErrorKind::Other\n     /// [`PermissionDenied`]: io::ErrorKind::PermissionDenied\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     pub fn open<P: AsRef<Path>>(&self, path: P) -> io::Result<File> {\n@@ -2216,7 +2216,7 @@ impl DirBuilder {\n             Some(p) => self.create_dir_all(p)?,\n             None => {\n                 return Err(io::Error::new_const(\n-                    io::ErrorKind::Other,\n+                    io::ErrorKind::Uncategorized,\n                     &\"failed to create whole tree\",\n                 ));\n             }"}, {"sha": "127b7bf34a3dbe30a36ae40a839c5b7f7923de58", "filename": "library/std/src/fs/tests.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Ffs%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Ffs%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Ffs%2Ftests.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -1329,7 +1329,8 @@ fn metadata_access_times() {\n         match (a.created(), b.created()) {\n             (Ok(t1), Ok(t2)) => assert!(t1 <= t2),\n             (Err(e1), Err(e2))\n-                if e1.kind() == ErrorKind::Other && e2.kind() == ErrorKind::Other\n+                if e1.kind() == ErrorKind::Uncategorized\n+                    && e2.kind() == ErrorKind::Uncategorized\n                     || e1.kind() == ErrorKind::Unsupported\n                         && e2.kind() == ErrorKind::Unsupported => {}\n             (a, b) => {"}, {"sha": "1f9a12c4272a09a10d288fd965e4a4523d0cb37c", "filename": "library/std/src/io/error.rs", "status": "modified", "additions": 22, "deletions": 7, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fio%2Ferror.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fio%2Ferror.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fio%2Ferror.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -163,12 +163,17 @@ pub enum ErrorKind {\n     /// Interrupted operations can typically be retried.\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     Interrupted,\n-    /// Any I/O error not part of this list.\n+\n+    /// A custom error that does not fall under any other I/O error kind.\n     ///\n-    /// Errors that are `Other` now may move to a different or a new\n-    /// [`ErrorKind`] variant in the future. It is not recommended to match\n-    /// an error against `Other` and to expect any additional characteristics,\n-    /// e.g., a specific [`Error::raw_os_error`] return value.\n+    /// This can be used to construct your own [`Error`]s that do not match any\n+    /// [`ErrorKind`].\n+    ///\n+    /// This [`ErrorKind`] is not used by the standard library.\n+    ///\n+    /// Errors from the standard library that do not fall under any of the I/O\n+    /// error kinds cannot be `match`ed on, and will only match a wildcard (`_`) pattern.\n+    /// New [`ErrorKind`]s might be added in the future for some of those.\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     Other,\n \n@@ -191,6 +196,15 @@ pub enum ErrorKind {\n     /// to allocate enough memory.\n     #[stable(feature = \"out_of_memory_error\", since = \"1.54.0\")]\n     OutOfMemory,\n+\n+    /// Any I/O error from the standard library that's not part of this list.\n+    ///\n+    /// Errors that are `Uncategorized` now may move to a different or a new\n+    /// [`ErrorKind`] variant in the future. It is not recommended to match\n+    /// an error against `Uncategorized`; use a wildcard match (`_`) instead.\n+    #[unstable(feature = \"io_error_uncategorized\", issue = \"none\")]\n+    #[doc(hidden)]\n+    Uncategorized,\n }\n \n impl ErrorKind {\n@@ -212,10 +226,11 @@ impl ErrorKind {\n             ErrorKind::TimedOut => \"timed out\",\n             ErrorKind::WriteZero => \"write zero\",\n             ErrorKind::Interrupted => \"operation interrupted\",\n-            ErrorKind::Other => \"other os error\",\n             ErrorKind::UnexpectedEof => \"unexpected end of file\",\n             ErrorKind::Unsupported => \"unsupported\",\n             ErrorKind::OutOfMemory => \"out of memory\",\n+            ErrorKind::Other => \"other error\",\n+            ErrorKind::Uncategorized => \"uncategorized error\",\n         }\n     }\n }\n@@ -538,7 +553,7 @@ impl Error {\n     /// }\n     ///\n     /// fn main() {\n-    ///     // Will print \"Other\".\n+    ///     // Will print \"Uncategorized\".\n     ///     print_error(Error::last_os_error());\n     ///     // Will print \"AddrInUse\".\n     ///     print_error(Error::new(ErrorKind::AddrInUse, \"oh no!\"));"}, {"sha": "eab57b1543c688315ccd10ca639e42a289b6c178", "filename": "library/std/src/io/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fio%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fio%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fio%2Fmod.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -1644,7 +1644,7 @@ pub trait Write {\n                 if output.error.is_err() {\n                     output.error\n                 } else {\n-                    Err(Error::new_const(ErrorKind::Other, &\"formatter error\"))\n+                    Err(Error::new_const(ErrorKind::Uncategorized, &\"formatter error\"))\n                 }\n             }\n         }"}, {"sha": "387a3617e5e9a9de55bc567d5d8c74acef196e27", "filename": "library/std/src/net/tcp/tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fnet%2Ftcp%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fnet%2Ftcp%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fnet%2Ftcp%2Ftests.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -342,7 +342,7 @@ fn double_bind() {\n             Err(e) => {\n                 assert!(\n                     e.kind() == ErrorKind::ConnectionRefused\n-                        || e.kind() == ErrorKind::Other\n+                        || e.kind() == ErrorKind::Uncategorized\n                         || e.kind() == ErrorKind::AddrInUse,\n                     \"unknown error: {} {:?}\",\n                     e,"}, {"sha": "7f26f419a4b7ba7d6d5de0daf2b5b52909b2b739", "filename": "library/std/src/os/wasi/fs.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwasi%2Ffs.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -532,5 +532,6 @@ pub fn symlink_path<P: AsRef<Path>, U: AsRef<Path>>(old_path: P, new_path: U) ->\n }\n \n fn osstr2str(f: &OsStr) -> io::Result<&str> {\n-    f.to_str().ok_or_else(|| io::Error::new_const(io::ErrorKind::Other, &\"input must be utf-8\"))\n+    f.to_str()\n+        .ok_or_else(|| io::Error::new_const(io::ErrorKind::Uncategorized, &\"input must be utf-8\"))\n }"}, {"sha": "e6f8b9cfcc76010532a55ca2c0bbc874705d0f42", "filename": "library/std/src/process.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fprocess.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fprocess.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fprocess.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -1658,8 +1658,7 @@ impl Child {\n     /// Forces the child process to exit. If the child has already exited, an [`InvalidInput`]\n     /// error is returned.\n     ///\n-    /// The mapping to [`ErrorKind`]s is not part of the compatibility contract of the function,\n-    /// especially the [`Other`] kind might change to more specific kinds in the future.\n+    /// The mapping to [`ErrorKind`]s is not part of the compatibility contract of the function.\n     ///\n     /// This is equivalent to sending a SIGKILL on Unix platforms.\n     ///\n@@ -1680,7 +1679,6 @@ impl Child {\n     ///\n     /// [`ErrorKind`]: io::ErrorKind\n     /// [`InvalidInput`]: io::ErrorKind::InvalidInput\n-    /// [`Other`]: io::ErrorKind::Other\n     #[stable(feature = \"process\", since = \"1.0.0\")]\n     pub fn kill(&mut self) -> io::Result<()> {\n         self.handle.kill()"}, {"sha": "10c19424953d2af7b7d20db0ef4d183f33472aed", "filename": "library/std/src/sys/hermit/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fmod.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -149,7 +149,7 @@ pub fn decode_error_kind(errno: i32) -> ErrorKind {\n         x if x == 1 as i32 => ErrorKind::PermissionDenied,\n         x if x == 32 as i32 => ErrorKind::BrokenPipe,\n         x if x == 110 as i32 => ErrorKind::TimedOut,\n-        _ => ErrorKind::Other,\n+        _ => ErrorKind::Uncategorized,\n     }\n }\n "}, {"sha": "3f0c99cf74289c639a6934bff9ab194ca471ee38", "filename": "library/std/src/sys/hermit/net.rs", "status": "modified", "additions": 28, "deletions": 23, "changes": 51, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fnet.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -15,7 +15,7 @@ use crate::time::Duration;\n pub fn init() -> io::Result<()> {\n     if abi::network_init() < 0 {\n         return Err(io::Error::new_const(\n-            ErrorKind::Other,\n+            ErrorKind::Uncategorized,\n             &\"Unable to initialize network interface\",\n         ));\n     }\n@@ -51,7 +51,7 @@ impl TcpStream {\n         match abi::tcpstream::connect(addr.ip().to_string().as_bytes(), addr.port(), None) {\n             Ok(handle) => Ok(TcpStream(Arc::new(Socket(handle)))),\n             _ => Err(io::Error::new_const(\n-                ErrorKind::Other,\n+                ErrorKind::Uncategorized,\n                 &\"Unable to initiate a connection on a socket\",\n             )),\n         }\n@@ -65,44 +65,46 @@ impl TcpStream {\n         ) {\n             Ok(handle) => Ok(TcpStream(Arc::new(Socket(handle)))),\n             _ => Err(io::Error::new_const(\n-                ErrorKind::Other,\n+                ErrorKind::Uncategorized,\n                 &\"Unable to initiate a connection on a socket\",\n             )),\n         }\n     }\n \n     pub fn set_read_timeout(&self, duration: Option<Duration>) -> io::Result<()> {\n         abi::tcpstream::set_read_timeout(*self.0.as_inner(), duration.map(|d| d.as_millis() as u64))\n-            .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"Unable to set timeout value\"))\n+            .map_err(|_| {\n+                io::Error::new_const(ErrorKind::Uncategorized, &\"Unable to set timeout value\")\n+            })\n     }\n \n     pub fn set_write_timeout(&self, duration: Option<Duration>) -> io::Result<()> {\n         abi::tcpstream::set_write_timeout(\n             *self.0.as_inner(),\n             duration.map(|d| d.as_millis() as u64),\n         )\n-        .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"Unable to set timeout value\"))\n+        .map_err(|_| io::Error::new_const(ErrorKind::Uncategorized, &\"Unable to set timeout value\"))\n     }\n \n     pub fn read_timeout(&self) -> io::Result<Option<Duration>> {\n         let duration = abi::tcpstream::get_read_timeout(*self.0.as_inner()).map_err(|_| {\n-            io::Error::new_const(ErrorKind::Other, &\"Unable to determine timeout value\")\n+            io::Error::new_const(ErrorKind::Uncategorized, &\"Unable to determine timeout value\")\n         })?;\n \n         Ok(duration.map(|d| Duration::from_millis(d)))\n     }\n \n     pub fn write_timeout(&self) -> io::Result<Option<Duration>> {\n         let duration = abi::tcpstream::get_write_timeout(*self.0.as_inner()).map_err(|_| {\n-            io::Error::new_const(ErrorKind::Other, &\"Unable to determine timeout value\")\n+            io::Error::new_const(ErrorKind::Uncategorized, &\"Unable to determine timeout value\")\n         })?;\n \n         Ok(duration.map(|d| Duration::from_millis(d)))\n     }\n \n     pub fn peek(&self, buf: &mut [u8]) -> io::Result<usize> {\n         abi::tcpstream::peek(*self.0.as_inner(), buf)\n-            .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"set_nodelay failed\"))\n+            .map_err(|_| io::Error::new_const(ErrorKind::Uncategorized, &\"peek failed\"))\n     }\n \n     pub fn read(&self, buffer: &mut [u8]) -> io::Result<usize> {\n@@ -113,8 +115,9 @@ impl TcpStream {\n         let mut size: usize = 0;\n \n         for i in ioslice.iter_mut() {\n-            let ret = abi::tcpstream::read(*self.0.as_inner(), &mut i[0..])\n-                .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"Unable to read on socket\"))?;\n+            let ret = abi::tcpstream::read(*self.0.as_inner(), &mut i[0..]).map_err(|_| {\n+                io::Error::new_const(ErrorKind::Uncategorized, &\"Unable to read on socket\")\n+            })?;\n \n             if ret != 0 {\n                 size += ret;\n@@ -138,7 +141,7 @@ impl TcpStream {\n \n         for i in ioslice.iter() {\n             size += abi::tcpstream::write(*self.0.as_inner(), i).map_err(|_| {\n-                io::Error::new_const(ErrorKind::Other, &\"Unable to write on socket\")\n+                io::Error::new_const(ErrorKind::Uncategorized, &\"Unable to write on socket\")\n             })?;\n         }\n \n@@ -152,13 +155,13 @@ impl TcpStream {\n \n     pub fn peer_addr(&self) -> io::Result<SocketAddr> {\n         let (ipaddr, port) = abi::tcpstream::peer_addr(*self.0.as_inner())\n-            .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"peer_addr failed\"))?;\n+            .map_err(|_| io::Error::new_const(ErrorKind::Uncategorized, &\"peer_addr failed\"))?;\n \n         let saddr = match ipaddr {\n             Ipv4(ref addr) => SocketAddr::new(IpAddr::V4(Ipv4Addr::from(addr.0)), port),\n             Ipv6(ref addr) => SocketAddr::new(IpAddr::V6(Ipv6Addr::from(addr.0)), port),\n             _ => {\n-                return Err(io::Error::new_const(ErrorKind::Other, &\"peer_addr failed\"));\n+                return Err(io::Error::new_const(ErrorKind::Uncategorized, &\"peer_addr failed\"));\n             }\n         };\n \n@@ -170,8 +173,9 @@ impl TcpStream {\n     }\n \n     pub fn shutdown(&self, how: Shutdown) -> io::Result<()> {\n-        abi::tcpstream::shutdown(*self.0.as_inner(), how as i32)\n-            .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"unable to shutdown socket\"))\n+        abi::tcpstream::shutdown(*self.0.as_inner(), how as i32).map_err(|_| {\n+            io::Error::new_const(ErrorKind::Uncategorized, &\"unable to shutdown socket\")\n+        })\n     }\n \n     pub fn duplicate(&self) -> io::Result<TcpStream> {\n@@ -180,31 +184,32 @@ impl TcpStream {\n \n     pub fn set_nodelay(&self, mode: bool) -> io::Result<()> {\n         abi::tcpstream::set_nodelay(*self.0.as_inner(), mode)\n-            .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"set_nodelay failed\"))\n+            .map_err(|_| io::Error::new_const(ErrorKind::Uncategorized, &\"set_nodelay failed\"))\n     }\n \n     pub fn nodelay(&self) -> io::Result<bool> {\n         abi::tcpstream::nodelay(*self.0.as_inner())\n-            .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"nodelay failed\"))\n+            .map_err(|_| io::Error::new_const(ErrorKind::Uncategorized, &\"nodelay failed\"))\n     }\n \n     pub fn set_ttl(&self, tll: u32) -> io::Result<()> {\n         abi::tcpstream::set_tll(*self.0.as_inner(), tll)\n-            .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"unable to set TTL\"))\n+            .map_err(|_| io::Error::new_const(ErrorKind::Uncategorized, &\"unable to set TTL\"))\n     }\n \n     pub fn ttl(&self) -> io::Result<u32> {\n         abi::tcpstream::get_tll(*self.0.as_inner())\n-            .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"unable to get TTL\"))\n+            .map_err(|_| io::Error::new_const(ErrorKind::Uncategorized, &\"unable to get TTL\"))\n     }\n \n     pub fn take_error(&self) -> io::Result<Option<io::Error>> {\n         unsupported()\n     }\n \n     pub fn set_nonblocking(&self, mode: bool) -> io::Result<()> {\n-        abi::tcpstream::set_nonblocking(*self.0.as_inner(), mode)\n-            .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"unable to set blocking mode\"))\n+        abi::tcpstream::set_nonblocking(*self.0.as_inner(), mode).map_err(|_| {\n+            io::Error::new_const(ErrorKind::Uncategorized, &\"unable to set blocking mode\")\n+        })\n     }\n }\n \n@@ -230,12 +235,12 @@ impl TcpListener {\n \n     pub fn accept(&self) -> io::Result<(TcpStream, SocketAddr)> {\n         let (handle, ipaddr, port) = abi::tcplistener::accept(self.0.port())\n-            .map_err(|_| io::Error::new_const(ErrorKind::Other, &\"accept failed\"))?;\n+            .map_err(|_| io::Error::new_const(ErrorKind::Uncategorized, &\"accept failed\"))?;\n         let saddr = match ipaddr {\n             Ipv4(ref addr) => SocketAddr::new(IpAddr::V4(Ipv4Addr::from(addr.0)), port),\n             Ipv6(ref addr) => SocketAddr::new(IpAddr::V6(Ipv6Addr::from(addr.0)), port),\n             _ => {\n-                return Err(io::Error::new_const(ErrorKind::Other, &\"accept failed\"));\n+                return Err(io::Error::new_const(ErrorKind::Uncategorized, &\"accept failed\"));\n             }\n         };\n "}, {"sha": "33b8390431f6d5327fa57abf590016ca4713dc78", "filename": "library/std/src/sys/hermit/stdio.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fstdio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fstdio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fstdio.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -40,7 +40,7 @@ impl io::Write for Stdout {\n         unsafe { len = abi::write(1, data.as_ptr() as *const u8, data.len()) }\n \n         if len < 0 {\n-            Err(io::Error::new_const(io::ErrorKind::Other, &\"Stdout is not able to print\"))\n+            Err(io::Error::new_const(io::ErrorKind::Uncategorized, &\"Stdout is not able to print\"))\n         } else {\n             Ok(len as usize)\n         }\n@@ -52,7 +52,7 @@ impl io::Write for Stdout {\n         unsafe { len = abi::write(1, data.as_ptr() as *const u8, data.len()) }\n \n         if len < 0 {\n-            Err(io::Error::new_const(io::ErrorKind::Other, &\"Stdout is not able to print\"))\n+            Err(io::Error::new_const(io::ErrorKind::Uncategorized, &\"Stdout is not able to print\"))\n         } else {\n             Ok(len as usize)\n         }\n@@ -81,7 +81,7 @@ impl io::Write for Stderr {\n         unsafe { len = abi::write(2, data.as_ptr() as *const u8, data.len()) }\n \n         if len < 0 {\n-            Err(io::Error::new_const(io::ErrorKind::Other, &\"Stderr is not able to print\"))\n+            Err(io::Error::new_const(io::ErrorKind::Uncategorized, &\"Stderr is not able to print\"))\n         } else {\n             Ok(len as usize)\n         }\n@@ -93,7 +93,7 @@ impl io::Write for Stderr {\n         unsafe { len = abi::write(2, data.as_ptr() as *const u8, data.len()) }\n \n         if len < 0 {\n-            Err(io::Error::new_const(io::ErrorKind::Other, &\"Stderr is not able to print\"))\n+            Err(io::Error::new_const(io::ErrorKind::Uncategorized, &\"Stderr is not able to print\"))\n         } else {\n             Ok(len as usize)\n         }"}, {"sha": "8be25f84999d2e7b9d3bf4052cfc0f884e212b19", "filename": "library/std/src/sys/hermit/thread.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fthread.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fthread.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fhermit%2Fthread.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -39,7 +39,7 @@ impl Thread {\n             // The thread failed to start and as a result p was not consumed. Therefore, it is\n             // safe to reconstruct the box so that it gets deallocated.\n             drop(Box::from_raw(p));\n-            Err(io::Error::new_const(io::ErrorKind::Other, &\"Unable to create thread!\"))\n+            Err(io::Error::new_const(io::ErrorKind::Uncategorized, &\"Unable to create thread!\"))\n         } else {\n             Ok(Thread { tid: tid })\n         };"}, {"sha": "fce6b4207328b7677901c4079fd6042b28e039c6", "filename": "library/std/src/sys/sgx/mod.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fmod.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -70,7 +70,7 @@ pub fn sgx_ineffective<T>(v: T) -> crate::io::Result<T> {\n     static SGX_INEFFECTIVE_ERROR: AtomicBool = AtomicBool::new(false);\n     if SGX_INEFFECTIVE_ERROR.load(Ordering::Relaxed) {\n         Err(crate::io::Error::new_const(\n-            ErrorKind::Other,\n+            ErrorKind::Uncategorized,\n             &\"operation can't be trusted to have any effect on SGX\",\n         ))\n     } else {\n@@ -115,11 +115,11 @@ pub fn decode_error_kind(code: i32) -> ErrorKind {\n     } else if code == Error::Interrupted as _ {\n         ErrorKind::Interrupted\n     } else if code == Error::Other as _ {\n-        ErrorKind::Other\n+        ErrorKind::Uncategorized\n     } else if code == Error::UnexpectedEof as _ {\n         ErrorKind::UnexpectedEof\n     } else {\n-        ErrorKind::Other\n+        ErrorKind::Uncategorized\n     }\n }\n "}, {"sha": "3a69aa039ef2e703e087245eb37fe21dd8eafcbe", "filename": "library/std/src/sys/sgx/net.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fnet.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -466,7 +466,7 @@ pub struct LookupHost(!);\n \n impl LookupHost {\n     fn new(host: String) -> io::Result<LookupHost> {\n-        Err(io::Error::new(io::ErrorKind::Other, NonIpSockAddr { host }))\n+        Err(io::Error::new(io::ErrorKind::Uncategorized, NonIpSockAddr { host }))\n     }\n \n     pub fn port(&self) -> u16 {"}, {"sha": "8ccf043b5b57f00cbb64df58a6ac85833e5e2230", "filename": "library/std/src/sys/sgx/stdio.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fstdio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fstdio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fsgx%2Fstdio.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -65,7 +65,7 @@ impl io::Write for Stderr {\n pub const STDIN_BUF_SIZE: usize = crate::sys_common::io::DEFAULT_BUF_SIZE;\n \n pub fn is_ebadf(err: &io::Error) -> bool {\n-    // FIXME: Rust normally maps Unix EBADF to `Other`\n+    // FIXME: Rust normally maps Unix EBADF to `Uncategorized`\n     err.raw_os_error() == Some(abi::Error::BrokenPipe as _)\n }\n "}, {"sha": "a428ce94c8e8632ea00bbceab87abba334f471ee", "filename": "library/std/src/sys/unix/fs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Funix%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Funix%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Ffs.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -358,7 +358,7 @@ impl FileAttr {\n                     }))\n                 } else {\n                     Err(io::Error::new_const(\n-                        io::ErrorKind::Other,\n+                        io::ErrorKind::Uncategorized,\n                         &\"creation time is not available for the filesystem\",\n                     ))\n                 };"}, {"sha": "8eebdf9f5488e065e3d9841e4fc96707cb1e6222", "filename": "library/std/src/sys/unix/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fmod.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -155,7 +155,7 @@ pub fn decode_error_kind(errno: i32) -> ErrorKind {\n         // clause\n         x if x == libc::EAGAIN || x == libc::EWOULDBLOCK => ErrorKind::WouldBlock,\n \n-        _ => ErrorKind::Other,\n+        _ => ErrorKind::Uncategorized,\n     }\n }\n "}, {"sha": "753cad55ce74546805385f7e48e9adbe3890580d", "filename": "library/std/src/sys/unix/net.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fnet.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -38,7 +38,7 @@ pub fn cvt_gai(err: c_int) -> io::Result<()> {\n         str::from_utf8(CStr::from_ptr(libc::gai_strerror(err)).to_bytes()).unwrap().to_owned()\n     };\n     Err(io::Error::new(\n-        io::ErrorKind::Other,\n+        io::ErrorKind::Uncategorized,\n         &format!(\"failed to lookup address information: {}\", detail)[..],\n     ))\n }\n@@ -178,7 +178,7 @@ impl Socket {\n                     if pollfd.revents & libc::POLLHUP != 0 {\n                         let e = self.take_error()?.unwrap_or_else(|| {\n                             io::Error::new_const(\n-                                io::ErrorKind::Other,\n+                                io::ErrorKind::Uncategorized,\n                                 &\"no error set after POLLHUP\",\n                             )\n                         });"}, {"sha": "71fec79347a87c9103f02733fc71b0e890106917", "filename": "library/std/src/sys/unix/os.rs", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fos.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fos.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fos.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -279,7 +279,7 @@ pub fn current_exe() -> io::Result<PathBuf> {\n             ))?;\n             if path_len <= 1 {\n                 return Err(io::Error::new_const(\n-                    io::ErrorKind::Other,\n+                    io::ErrorKind::Uncategorized,\n                     &\"KERN_PROC_PATHNAME sysctl returned zero-length string\",\n                 ));\n             }\n@@ -302,7 +302,7 @@ pub fn current_exe() -> io::Result<PathBuf> {\n             return crate::fs::read_link(curproc_exe);\n         }\n         Err(io::Error::new_const(\n-            io::ErrorKind::Other,\n+            io::ErrorKind::Uncategorized,\n             &\"/proc/curproc/exe doesn't point to regular file.\",\n         ))\n     }\n@@ -320,7 +320,10 @@ pub fn current_exe() -> io::Result<PathBuf> {\n         cvt(libc::sysctl(mib, 4, argv.as_mut_ptr() as *mut _, &mut argv_len, ptr::null_mut(), 0))?;\n         argv.set_len(argv_len as usize);\n         if argv[0].is_null() {\n-            return Err(io::Error::new_const(io::ErrorKind::Other, &\"no current exe available\"));\n+            return Err(io::Error::new_const(\n+                io::ErrorKind::Uncategorized,\n+                &\"no current exe available\",\n+            ));\n         }\n         let argv0 = CStr::from_ptr(argv[0]).to_bytes();\n         if argv0[0] == b'.' || argv0.iter().any(|b| *b == b'/') {\n@@ -335,7 +338,7 @@ pub fn current_exe() -> io::Result<PathBuf> {\n pub fn current_exe() -> io::Result<PathBuf> {\n     match crate::fs::read_link(\"/proc/self/exe\") {\n         Err(ref e) if e.kind() == io::ErrorKind::NotFound => Err(io::Error::new_const(\n-            io::ErrorKind::Other,\n+            io::ErrorKind::Uncategorized,\n             &\"no /proc/self/exe available. Is /proc mounted?\",\n         )),\n         other => other,\n@@ -422,7 +425,7 @@ pub fn current_exe() -> io::Result<PathBuf> {\n             _get_next_image_info(0, &mut cookie, &mut info, mem::size_of::<image_info>() as i32);\n         if result != 0 {\n             use crate::io::ErrorKind;\n-            Err(io::Error::new_const(ErrorKind::Other, &\"Error getting executable path\"))\n+            Err(io::Error::new_const(ErrorKind::Uncategorized, &\"Error getting executable path\"))\n         } else {\n             let name = CStr::from_ptr(info.name.as_ptr()).to_bytes();\n             Ok(PathBuf::from(OsStr::from_bytes(name)))"}, {"sha": "4e6c301d29f5470fdc85d0492fe1ed06d094a083", "filename": "library/std/src/sys/unsupported/common.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Funsupported%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Funsupported%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funsupported%2Fcommon.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -30,7 +30,7 @@ pub fn unsupported_err() -> std_io::Error {\n }\n \n pub fn decode_error_kind(_code: i32) -> crate::io::ErrorKind {\n-    crate::io::ErrorKind::Other\n+    crate::io::ErrorKind::Uncategorized\n }\n \n pub fn abort_internal() -> ! {"}, {"sha": "8ffa1c88d88e75f89a1cd4c4ee18d86c36b6357b", "filename": "library/std/src/sys/wasi/fs.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fwasi%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fwasi%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwasi%2Ffs.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -648,7 +648,7 @@ fn open_parent(p: &Path) -> io::Result<(ManuallyDrop<WasiFd>, PathBuf)> {\n                      through which {:?} could be opened\",\n                     p\n                 );\n-                return Err(io::Error::new(io::ErrorKind::Other, msg));\n+                return Err(io::Error::new(io::ErrorKind::Uncategorized, msg));\n             }\n             let relative = CStr::from_ptr(relative_path).to_bytes().to_vec();\n \n@@ -670,7 +670,8 @@ fn open_parent(p: &Path) -> io::Result<(ManuallyDrop<WasiFd>, PathBuf)> {\n }\n \n pub fn osstr2str(f: &OsStr) -> io::Result<&str> {\n-    f.to_str().ok_or_else(|| io::Error::new_const(io::ErrorKind::Other, &\"input must be utf-8\"))\n+    f.to_str()\n+        .ok_or_else(|| io::Error::new_const(io::ErrorKind::Uncategorized, &\"input must be utf-8\"))\n }\n \n pub fn copy(from: &Path, to: &Path) -> io::Result<u64> {"}, {"sha": "4af99bfa464781d59aa7fbe79e97ce90d87ea855", "filename": "library/std/src/sys/wasi/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fwasi%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fwasi%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwasi%2Fmod.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -58,7 +58,7 @@ pub use common::*;\n pub fn decode_error_kind(errno: i32) -> std_io::ErrorKind {\n     use std_io::ErrorKind::*;\n     if errno > u16::MAX as i32 || errno < 0 {\n-        return Other;\n+        return Uncategorized;\n     }\n     match errno as u16 {\n         wasi::ERRNO_CONNREFUSED => ConnectionRefused,\n@@ -77,7 +77,7 @@ pub fn decode_error_kind(errno: i32) -> std_io::ErrorKind {\n         wasi::ERRNO_AGAIN => WouldBlock,\n         wasi::ERRNO_NOSYS => Unsupported,\n         wasi::ERRNO_NOMEM => OutOfMemory,\n-        _ => Other,\n+        _ => Uncategorized,\n     }\n }\n "}, {"sha": "c677adae6888e0c30e24e182539584bef1873784", "filename": "library/std/src/sys/windows/fs.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Ffs.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -514,7 +514,7 @@ impl File {\n                 }\n                 _ => {\n                     return Err(io::Error::new_const(\n-                        io::ErrorKind::Other,\n+                        io::ErrorKind::Uncategorized,\n                         &\"Unsupported reparse point type\",\n                     ));\n                 }\n@@ -961,9 +961,8 @@ pub fn try_exists(path: &Path) -> io::Result<bool> {\n             // `ERROR_SHARING_VIOLATION` means that the file has been locked by\n             // another process. This is often temporary so we simply report it\n             // as the file existing.\n-            io::ErrorKind::Other if e.raw_os_error() == Some(c::ERROR_SHARING_VIOLATION as i32) => {\n-                Ok(true)\n-            }\n+            _ if e.raw_os_error() == Some(c::ERROR_SHARING_VIOLATION as i32) => Ok(true),\n+\n             // Other errors such as `ERROR_ACCESS_DENIED` may indicate that the\n             // file exists. However, these types of errors are usually more\n             // permanent so we report them here."}, {"sha": "ab455a8a3764293dd983e222e9850ea218f60fe4", "filename": "library/std/src/sys/windows/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fmod.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -103,7 +103,7 @@ pub fn decode_error_kind(errno: i32) -> ErrorKind {\n         c::WSAEWOULDBLOCK => ErrorKind::WouldBlock,\n         c::WSAETIMEDOUT => ErrorKind::TimedOut,\n \n-        _ => ErrorKind::Other,\n+        _ => ErrorKind::Uncategorized,\n     }\n }\n "}, {"sha": "3fcaefaa63ef1517c4ef0323805205a4a565dcdc", "filename": "src/test/ui/write-fmt-errors.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/src%2Ftest%2Fui%2Fwrite-fmt-errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0/src%2Ftest%2Fui%2Fwrite-fmt-errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwrite-fmt-errors.rs?ref=f9fa13f705bb8b1c57c6b6fe95055ec4995a40f0", "patch": "@@ -1,5 +1,7 @@\n // run-pass\n \n+#![feature(io_error_uncategorized)]\n+\n use std::fmt;\n use std::io::{self, Error, Write, sink};\n \n@@ -13,7 +15,7 @@ impl fmt::Display for ErrorDisplay {\n \n struct ErrorWriter;\n \n-const FORMAT_ERROR: io::ErrorKind = io::ErrorKind::Other;\n+const FORMAT_ERROR: io::ErrorKind = io::ErrorKind::Uncategorized;\n const WRITER_ERROR: io::ErrorKind = io::ErrorKind::NotConnected;\n \n impl Write for ErrorWriter {"}]}