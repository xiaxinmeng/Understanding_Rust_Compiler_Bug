{"sha": "db75f8aa91a8757725a84db2345236f887b2ffec", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRiNzVmOGFhOTFhODc1NzcyNWE4NGRiMjM0NTIzNmY4ODdiMmZmZWM=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2014-11-25T21:59:02Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2014-12-04T15:04:51Z"}, "message": "Move infer out of `middle::typeck` and into just `middle`.", "tree": {"sha": "1482fb5995adf64f0485769f7da8cd91b1ba4116", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1482fb5995adf64f0485769f7da8cd91b1ba4116"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/db75f8aa91a8757725a84db2345236f887b2ffec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/db75f8aa91a8757725a84db2345236f887b2ffec", "html_url": "https://github.com/rust-lang/rust/commit/db75f8aa91a8757725a84db2345236f887b2ffec", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/db75f8aa91a8757725a84db2345236f887b2ffec/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c44561ad6f4651047255d0c630a0c3f80c3fdd4", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c44561ad6f4651047255d0c630a0c3f80c3fdd4", "html_url": "https://github.com/rust-lang/rust/commit/7c44561ad6f4651047255d0c630a0c3f80c3fdd4"}], "stats": {"total": 246, "additions": 126, "deletions": 120}, "files": [{"sha": "d8da4df08bcc0a4d5bfcaadb829294cf78a7e6f6", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -79,6 +79,7 @@ pub mod middle {\n     pub mod fast_reject;\n     pub mod graph;\n     pub mod intrinsicck;\n+    pub mod infer;\n     pub mod lang_items;\n     pub mod liveness;\n     pub mod mem_categorization;"}, {"sha": "8469f477edb34f23e9cd49cc717efb0009638e28", "filename": "src/librustc/lint/builtin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Flint%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Flint%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Fbuiltin.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -28,9 +28,9 @@ use self::MethodContext::*;\n \n use metadata::csearch;\n use middle::def::*;\n+use middle::infer;\n use middle::ty::{mod, Ty};\n use middle::typeck::astconv::ast_ty_to_ty;\n-use middle::typeck::infer;\n use middle::{def, pat_util, stability};\n use middle::const_eval::{eval_const_expr_partial, const_int, const_uint};\n use util::ppaux::{ty_to_string};"}, {"sha": "8014673f759acdf58e1a61686338d065ad8bca44", "filename": "src/librustc/lint/context.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Flint%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Flint%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Fcontext.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -25,11 +25,11 @@\n //! for all lint attributes.\n use self::TargetLint::*;\n \n+use middle::infer;\n use middle::privacy::ExportedItems;\n use middle::subst;\n use middle::ty::{mod, Ty};\n use middle::typeck::astconv::AstConv;\n-use middle::typeck::infer;\n use session::{early_error, Session};\n use lint::{Level, LevelSource, Lint, LintId, LintArray, LintPass, LintPassObject};\n use lint::{Default, CommandLine, Node, Allow, Warn, Deny, Forbid};"}, {"sha": "2fc85afd3935d365f1d1b7f461fcf76a26ea6db9", "filename": "src/librustc/middle/check_static.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Fcheck_static.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Fcheck_static.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fcheck_static.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -27,7 +27,7 @@ use self::Mode::*;\n \n use middle::ty;\n use middle::def;\n-use middle::typeck;\n+use middle::infer;\n use middle::traits;\n use middle::mem_categorization as mc;\n use middle::expr_use_visitor as euv;\n@@ -113,7 +113,7 @@ impl<'a, 'tcx> CheckStaticVisitor<'a, 'tcx> {\n \n     fn check_static_type(&self, e: &ast::Expr) {\n         let ty = ty::node_id_to_type(self.tcx, e.id);\n-        let infcx = typeck::infer::new_infer_ctxt(self.tcx);\n+        let infcx = infer::new_infer_ctxt(self.tcx);\n         let mut fulfill_cx = traits::FulfillmentContext::new();\n         let cause = traits::ObligationCause::misc(DUMMY_SP);\n         let obligation = traits::obligation_for_builtin_bound(self.tcx, cause, ty,"}, {"sha": "f04c519badc8c2d28aa607264bdd77a7af9a7329", "filename": "src/librustc/middle/infer/coercion.rs", "status": "renamed", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fcoercion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fcoercion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fcoercion.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -60,14 +60,15 @@\n //! sort of a minor point so I've opted to leave it for later---after all\n //! we may want to adjust precisely when coercions occur.\n \n+use super::{CoerceResult, resolve_type, Coercion};\n+use super::combine::{CombineFields, Combine};\n+use super::sub::Sub;\n+use super::resolve::try_resolve_tvar_shallow;\n+\n use middle::subst;\n use middle::ty::{AutoPtr, AutoDerefRef, AdjustDerefRef, AutoUnsize, AutoUnsafe};\n use middle::ty::{mt};\n use middle::ty::{mod, Ty};\n-use middle::typeck::infer::{CoerceResult, resolve_type, Coercion};\n-use middle::typeck::infer::combine::{CombineFields, Combine};\n-use middle::typeck::infer::sub::Sub;\n-use middle::typeck::infer::resolve::try_resolve_tvar_shallow;\n use util::ppaux;\n use util::ppaux::Repr;\n ", "previous_filename": "src/librustc/middle/typeck/infer/coercion.rs"}, {"sha": "ab9c5b86aeb6292d84a97f0bd1dfc41dd7c9e5d4", "filename": "src/librustc/middle/infer/combine.rs", "status": "renamed", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fcombine.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fcombine.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fcombine.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -32,6 +32,14 @@\n // is also useful to track which value is the \"expected\" value in\n // terms of error reporting.\n \n+use super::equate::Equate;\n+use super::glb::Glb;\n+use super::lub::Lub;\n+use super::sub::Sub;\n+use super::unify::InferCtxtMethodsForSimplyUnifiableTypes;\n+use super::{InferCtxt, cres};\n+use super::{MiscVariable, TypeTrace};\n+use super::type_variable::{RelationDir, EqTo, SubtypeOf, SupertypeOf};\n \n use middle::subst;\n use middle::subst::{ErasedRegions, NonerasedRegions, Substs};\n@@ -40,15 +48,6 @@ use middle::ty::{IntType, UintType};\n use middle::ty::{BuiltinBounds};\n use middle::ty::{mod, Ty};\n use middle::ty_fold;\n-use middle::typeck::infer::equate::Equate;\n-use middle::typeck::infer::glb::Glb;\n-use middle::typeck::infer::lub::Lub;\n-use middle::typeck::infer::sub::Sub;\n-use middle::typeck::infer::unify::InferCtxtMethodsForSimplyUnifiableTypes;\n-use middle::typeck::infer::{InferCtxt, cres};\n-use middle::typeck::infer::{MiscVariable, TypeTrace};\n-use middle::typeck::infer::type_variable::{RelationDir, EqTo,\n-                                           SubtypeOf, SupertypeOf};\n use middle::ty_fold::{TypeFoldable};\n use util::ppaux::Repr;\n ", "previous_filename": "src/librustc/middle/typeck/infer/combine.rs"}, {"sha": "0e3cc5f68c868c86b00e12cb906a0da5bfc5dc71", "filename": "src/librustc/middle/infer/doc.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fdoc.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "previous_filename": "src/librustc/middle/typeck/infer/doc.rs"}, {"sha": "a79a50b1781eb41ccea0d0eaa262d7dcebf9e019", "filename": "src/librustc/middle/infer/equate.rs", "status": "renamed", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fequate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fequate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fequate.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -11,14 +11,14 @@\n use middle::ty::{BuiltinBounds};\n use middle::ty::{mod, Ty};\n use middle::ty::TyVar;\n-use middle::typeck::infer::combine::*;\n-use middle::typeck::infer::{cres};\n-use middle::typeck::infer::glb::Glb;\n-use middle::typeck::infer::InferCtxt;\n-use middle::typeck::infer::lub::Lub;\n-use middle::typeck::infer::sub::Sub;\n-use middle::typeck::infer::{TypeTrace, Subtype};\n-use middle::typeck::infer::type_variable::{EqTo};\n+use middle::infer::combine::*;\n+use middle::infer::{cres};\n+use middle::infer::glb::Glb;\n+use middle::infer::InferCtxt;\n+use middle::infer::lub::Lub;\n+use middle::infer::sub::Sub;\n+use middle::infer::{TypeTrace, Subtype};\n+use middle::infer::type_variable::{EqTo};\n use util::ppaux::{Repr};\n \n use syntax::ast::{Onceness, FnStyle};", "previous_filename": "src/librustc/middle/typeck/infer/equate.rs"}, {"sha": "657ee088758d17c6e4f1a4b9c6753d52b1c35b7e", "filename": "src/librustc/middle/infer/error_reporting.rs", "status": "renamed", "additions": 14, "deletions": 13, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Ferror_reporting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Ferror_reporting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Ferror_reporting.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -57,24 +57,25 @@\n \n use self::FreshOrKept::*;\n \n+use super::InferCtxt;\n+use super::TypeTrace;\n+use super::SubregionOrigin;\n+use super::RegionVariableOrigin;\n+use super::ValuePairs;\n+use super::region_inference::RegionResolutionError;\n+use super::region_inference::ConcreteFailure;\n+use super::region_inference::SubSupConflict;\n+use super::region_inference::SupSupConflict;\n+use super::region_inference::ParamBoundFailure;\n+use super::region_inference::ProcessedErrors;\n+use super::region_inference::SameRegions;\n+\n use std::collections::HashSet;\n use middle::def;\n+use middle::infer;\n use middle::subst;\n use middle::ty::{mod, Ty};\n use middle::ty::{Region, ReFree};\n-use middle::typeck::infer;\n-use middle::typeck::infer::InferCtxt;\n-use middle::typeck::infer::TypeTrace;\n-use middle::typeck::infer::SubregionOrigin;\n-use middle::typeck::infer::RegionVariableOrigin;\n-use middle::typeck::infer::ValuePairs;\n-use middle::typeck::infer::region_inference::RegionResolutionError;\n-use middle::typeck::infer::region_inference::ConcreteFailure;\n-use middle::typeck::infer::region_inference::SubSupConflict;\n-use middle::typeck::infer::region_inference::SupSupConflict;\n-use middle::typeck::infer::region_inference::ParamBoundFailure;\n-use middle::typeck::infer::region_inference::ProcessedErrors;\n-use middle::typeck::infer::region_inference::SameRegions;\n use std::cell::{Cell, RefCell};\n use std::char::from_u32;\n use std::rc::Rc;", "previous_filename": "src/librustc/middle/typeck/infer/error_reporting.rs"}, {"sha": "4237a7af32fc157cfa01c7ba1dee8382d6f9dcb5", "filename": "src/librustc/middle/infer/glb.rs", "status": "renamed", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fglb.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fglb.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fglb.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -8,17 +8,17 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+use super::combine::*;\n+use super::lattice::*;\n+use super::equate::Equate;\n+use super::higher_ranked::HigherRankedRelations;\n+use super::lub::Lub;\n+use super::sub::Sub;\n+use super::{cres, InferCtxt};\n+use super::{TypeTrace, Subtype};\n \n use middle::ty::{BuiltinBounds};\n use middle::ty::{mod, Ty};\n-use middle::typeck::infer::combine::*;\n-use middle::typeck::infer::lattice::*;\n-use middle::typeck::infer::equate::Equate;\n-use middle::typeck::infer::higher_ranked::HigherRankedRelations;\n-use middle::typeck::infer::lub::Lub;\n-use middle::typeck::infer::sub::Sub;\n-use middle::typeck::infer::{cres, InferCtxt};\n-use middle::typeck::infer::{TypeTrace, Subtype};\n use syntax::ast::{Many, Once, MutImmutable, MutMutable};\n use syntax::ast::{NormalFn, UnsafeFn};\n use syntax::ast::{Onceness, FnStyle};", "previous_filename": "src/librustc/middle/typeck/infer/glb.rs"}, {"sha": "2bad3616a05d19fd92f2bc67820f5cdc7a8dd7fd", "filename": "src/librustc/middle/infer/higher_ranked/doc.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fhigher_ranked%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fhigher_ranked%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fhigher_ranked%2Fdoc.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "previous_filename": "src/librustc/middle/typeck/infer/higher_ranked/doc.rs"}, {"sha": "95805ef8b944d5e130a8904b853e90e5a9511add", "filename": "src/librustc/middle/infer/higher_ranked/mod.rs", "status": "renamed", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fhigher_ranked%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fhigher_ranked%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fhigher_ranked%2Fmod.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -11,10 +11,11 @@\n //! Helper routines for higher-ranked things. See the `doc` module at\n //! the end of the file for details.\n \n+use super::{combine, cres, InferCtxt, HigherRankedType};\n+use super::combine::Combine;\n+use super::region_inference::{RegionMark};\n+\n use middle::ty::{mod, Ty, replace_late_bound_regions};\n-use middle::typeck::infer::{mod, combine, cres, InferCtxt};\n-use middle::typeck::infer::combine::Combine;\n-use middle::typeck::infer::region_inference::{RegionMark};\n use middle::ty_fold::{mod, HigherRankedFoldable, TypeFoldable};\n use syntax::codemap::Span;\n use util::nodemap::FnvHashMap;\n@@ -62,7 +63,7 @@ impl<'tcx,C> HigherRankedRelations<'tcx> for C\n         let (a_prime, _) =\n             self.infcx().replace_late_bound_regions_with_fresh_var(\n                 self.trace().origin.span(),\n-                infer::HigherRankedType,\n+                HigherRankedType,\n                 a);\n \n         // Second, we instantiate each bound region in the supertype with a\n@@ -131,10 +132,10 @@ impl<'tcx,C> HigherRankedRelations<'tcx> for C\n         let span = self.trace().origin.span();\n         let (a_with_fresh, a_map) =\n             self.infcx().replace_late_bound_regions_with_fresh_var(\n-                span, infer::HigherRankedType, a);\n+                span, HigherRankedType, a);\n         let (b_with_fresh, _) =\n             self.infcx().replace_late_bound_regions_with_fresh_var(\n-                span, infer::HigherRankedType, b);\n+                span, HigherRankedType, b);\n \n         // Collect constraints.\n         let result0 =\n@@ -221,10 +222,10 @@ impl<'tcx,C> HigherRankedRelations<'tcx> for C\n         // Instantiate each bound region with a fresh region variable.\n         let (a_with_fresh, a_map) =\n             self.infcx().replace_late_bound_regions_with_fresh_var(\n-                self.trace().origin.span(), infer::HigherRankedType, a);\n+                self.trace().origin.span(), HigherRankedType, a);\n         let (b_with_fresh, b_map) =\n             self.infcx().replace_late_bound_regions_with_fresh_var(\n-                self.trace().origin.span(), infer::HigherRankedType, b);\n+                self.trace().origin.span(), HigherRankedType, b);\n         let a_vars = var_ids(self, &a_map);\n         let b_vars = var_ids(self, &b_map);\n ", "previous_filename": "src/librustc/middle/typeck/infer/higher_ranked/mod.rs"}, {"sha": "dd514ebee524af9dee0e77f7584c7b6a40e837dc", "filename": "src/librustc/middle/infer/lattice.rs", "status": "renamed", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Flattice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Flattice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Flattice.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -29,12 +29,13 @@\n //! over a `LatticeValue`, which is a value defined with respect to\n //! a lattice.\n \n+use super::*;\n+use super::combine::*;\n+use super::glb::Glb;\n+use super::lub::Lub;\n+\n use middle::ty::{TyVar};\n use middle::ty::{mod, Ty};\n-use middle::typeck::infer::*;\n-use middle::typeck::infer::combine::*;\n-use middle::typeck::infer::glb::Glb;\n-use middle::typeck::infer::lub::Lub;\n use util::ppaux::Repr;\n \n pub trait LatticeDir<'tcx> {", "previous_filename": "src/librustc/middle/typeck/infer/lattice.rs"}, {"sha": "f53ba571062b2972140b04a1c028f81878a73623", "filename": "src/librustc/middle/infer/lub.rs", "status": "renamed", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Flub.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Flub.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Flub.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -8,16 +8,17 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+use super::combine::*;\n+use super::equate::Equate;\n+use super::glb::Glb;\n+use super::higher_ranked::HigherRankedRelations;\n+use super::lattice::*;\n+use super::sub::Sub;\n+use super::{cres, InferCtxt};\n+use super::{TypeTrace, Subtype};\n+\n use middle::ty::{BuiltinBounds};\n use middle::ty::{mod, Ty};\n-use middle::typeck::infer::combine::*;\n-use middle::typeck::infer::equate::Equate;\n-use middle::typeck::infer::glb::Glb;\n-use middle::typeck::infer::higher_ranked::HigherRankedRelations;\n-use middle::typeck::infer::lattice::*;\n-use middle::typeck::infer::sub::Sub;\n-use middle::typeck::infer::{cres, InferCtxt};\n-use middle::typeck::infer::{TypeTrace, Subtype};\n use syntax::ast::{Many, Once};\n use syntax::ast::{NormalFn, UnsafeFn};\n use syntax::ast::{Onceness, FnStyle};", "previous_filename": "src/librustc/middle/typeck/infer/lub.rs"}, {"sha": "c5845b143af89aca4da0d3ee6b563e498d094543", "filename": "src/librustc/middle/infer/mod.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fmod.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "previous_filename": "src/librustc/middle/typeck/infer/mod.rs"}, {"sha": "b4eac4c002677cdd87695a8d78ef60c0caf4ec20", "filename": "src/librustc/middle/infer/region_inference/doc.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fregion_inference%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fregion_inference%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fregion_inference%2Fdoc.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "previous_filename": "src/librustc/middle/typeck/infer/region_inference/doc.rs"}, {"sha": "9155c18cb3b5a1dea04bc75f165e1bcfbda99578", "filename": "src/librustc/middle/infer/region_inference/mod.rs", "status": "renamed", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fregion_inference%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fregion_inference%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fregion_inference%2Fmod.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -18,14 +18,14 @@ pub use self::RegionResolutionError::*;\n pub use self::VarValue::*;\n use self::Classification::*;\n \n+use super::cres;\n+use super::{RegionVariableOrigin, SubregionOrigin, TypeTrace, MiscVariable};\n+\n use middle::region;\n use middle::ty;\n use middle::ty::{BoundRegion, FreeRegion, Region, RegionVid};\n use middle::ty::{ReEmpty, ReStatic, ReInfer, ReFree, ReEarlyBound};\n use middle::ty::{ReLateBound, ReScope, ReVar, ReSkolemized, BrFresh};\n-use middle::typeck::infer::cres;\n-use middle::typeck::infer::{RegionVariableOrigin, SubregionOrigin, TypeTrace};\n-use middle::typeck::infer;\n use middle::graph;\n use middle::graph::{Direction, NodeIndex};\n use util::common::indenter;\n@@ -573,7 +573,7 @@ impl<'a, 'tcx> RegionVarBindings<'a, 'tcx> {\n             }\n             None => {}\n         }\n-        let c = self.new_region_var(infer::MiscVariable(origin.span()));\n+        let c = self.new_region_var(MiscVariable(origin.span()));\n         self.combine_map(t).borrow_mut().insert(vars, c);\n         if self.in_snapshot() {\n             self.undo_log.borrow_mut().push(AddCombination(t, vars));", "previous_filename": "src/librustc/middle/typeck/infer/region_inference/mod.rs"}, {"sha": "eaf363ffc74c293d7aee306abe58286e6ac99cb1", "filename": "src/librustc/middle/infer/resolve.rs", "status": "renamed", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fresolve.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fresolve.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fresolve.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -48,12 +48,13 @@\n \n #![allow(non_upper_case_globals)]\n \n+use super::{fixup_err, fres, InferCtxt};\n+use super::{unresolved_int_ty,unresolved_float_ty,unresolved_ty};\n+\n use middle::ty::{FloatVar, FloatVid, IntVar, IntVid, RegionVid, TyVar, TyVid};\n use middle::ty::{IntType, UintType};\n use middle::ty::{mod, Ty};\n use middle::ty_fold;\n-use middle::typeck::infer::{fixup_err, fres, InferCtxt};\n-use middle::typeck::infer::{unresolved_int_ty,unresolved_float_ty,unresolved_ty};\n use syntax::codemap::Span;\n use util::ppaux::{Repr, ty_to_string};\n ", "previous_filename": "src/librustc/middle/typeck/infer/resolve.rs"}, {"sha": "62bf1d0126a59d156442f1260ecd98b47d21dae2", "filename": "src/librustc/middle/infer/skolemize.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fskolemize.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fskolemize.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fskolemize.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "previous_filename": "src/librustc/middle/typeck/infer/skolemize.rs"}, {"sha": "c470b2488273a37952a4060ac24158ed9220d1bd", "filename": "src/librustc/middle/infer/sub.rs", "status": "renamed", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fsub.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Fsub.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Fsub.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -8,19 +8,19 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+use super::combine::*;\n+use super::{cres, CresCompare};\n+use super::equate::Equate;\n+use super::glb::Glb;\n+use super::higher_ranked::HigherRankedRelations;\n+use super::InferCtxt;\n+use super::lub::Lub;\n+use super::{TypeTrace, Subtype};\n+use super::type_variable::{SubtypeOf, SupertypeOf};\n \n use middle::ty::{BuiltinBounds};\n use middle::ty::{mod, Ty};\n use middle::ty::TyVar;\n-use middle::typeck::infer::combine::*;\n-use middle::typeck::infer::{cres, CresCompare};\n-use middle::typeck::infer::equate::Equate;\n-use middle::typeck::infer::glb::Glb;\n-use middle::typeck::infer::higher_ranked::HigherRankedRelations;\n-use middle::typeck::infer::InferCtxt;\n-use middle::typeck::infer::lub::Lub;\n-use middle::typeck::infer::{TypeTrace, Subtype};\n-use middle::typeck::infer::type_variable::{SubtypeOf, SupertypeOf};\n use util::ppaux::{Repr};\n \n use syntax::ast::{Onceness, FnStyle, MutImmutable, MutMutable};", "previous_filename": "src/librustc/middle/typeck/infer/sub.rs"}, {"sha": "3058f09a83a851d5006d846f6f1e3ddbf9aaed6f", "filename": "src/librustc/middle/infer/type_variable.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Ftype_variable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Ftype_variable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Ftype_variable.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "previous_filename": "src/librustc/middle/typeck/infer/type_variable.rs"}, {"sha": "6f6adb84a75f524d879bb40d33c0c6b6b11f2932", "filename": "src/librustc/middle/infer/unify.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Funify.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Finfer%2Funify.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Finfer%2Funify.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -14,8 +14,8 @@ use std::kinds::marker;\n \n use middle::ty::{expected_found, IntVarValue};\n use middle::ty::{mod, Ty};\n-use middle::typeck::infer::{uok, ures};\n-use middle::typeck::infer::InferCtxt;\n+use middle::infer::{uok, ures};\n+use middle::infer::InferCtxt;\n use std::cell::RefCell;\n use std::fmt::Show;\n use syntax::ast;", "previous_filename": "src/librustc/middle/typeck/infer/unify.rs"}, {"sha": "1bce353cb0cfe986b9662f0de630a1ca41a8f6e8", "filename": "src/librustc/middle/traits/coherence.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftraits%2Fcoherence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftraits%2Fcoherence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftraits%2Fcoherence.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -17,7 +17,7 @@ use super::util;\n use middle::subst;\n use middle::subst::Subst;\n use middle::ty::{mod, Ty};\n-use middle::typeck::infer::{mod, InferCtxt};\n+use middle::infer::{mod, InferCtxt};\n use syntax::ast;\n use syntax::codemap::DUMMY_SP;\n use util::ppaux::Repr;"}, {"sha": "653c686ab197c3ea2a30d54486632bfe31947c66", "filename": "src/librustc/middle/traits/fulfill.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftraits%2Ffulfill.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftraits%2Ffulfill.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftraits%2Ffulfill.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -10,7 +10,7 @@\n \n use middle::mem_categorization::Typer;\n use middle::ty;\n-use middle::typeck::infer::InferCtxt;\n+use middle::infer::InferCtxt;\n use std::collections::HashSet;\n use std::rc::Rc;\n use util::ppaux::Repr;"}, {"sha": "e12ec44ad87cec3c37a86829d4db8fbce663edaf", "filename": "src/librustc/middle/traits/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftraits%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftraits%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftraits%2Fmod.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -18,7 +18,7 @@ pub use self::ObligationCauseCode::*;\n use middle::mem_categorization::Typer;\n use middle::subst;\n use middle::ty::{mod, Ty};\n-use middle::typeck::infer::InferCtxt;\n+use middle::infer::InferCtxt;\n use std::rc::Rc;\n use std::slice::Items;\n use syntax::ast;"}, {"sha": "0e6a0c19f70611e7758f1bbc56937b95a11a0e4f", "filename": "src/librustc/middle/traits/select.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftraits%2Fselect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftraits%2Fselect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftraits%2Fselect.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -30,8 +30,8 @@ use middle::fast_reject;\n use middle::mem_categorization::Typer;\n use middle::subst::{Subst, Substs, VecPerParamSpace};\n use middle::ty::{mod, Ty};\n-use middle::typeck::infer;\n-use middle::typeck::infer::{InferCtxt, TypeSkolemizer};\n+use middle::infer;\n+use middle::infer::{InferCtxt, TypeSkolemizer};\n use middle::ty_fold::TypeFoldable;\n use std::cell::RefCell;\n use std::collections::hash_map::HashMap;"}, {"sha": "1b7998a92638c2c111ba06052752933ecb947921", "filename": "src/librustc/middle/traits/util.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftraits%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftraits%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftraits%2Futil.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -11,7 +11,7 @@\n \n use middle::subst;\n use middle::subst::{ParamSpace, Substs, VecPerParamSpace};\n-use middle::typeck::infer::InferCtxt;\n+use middle::infer::InferCtxt;\n use middle::ty::{mod, Ty};\n use std::collections::HashSet;\n use std::fmt;"}, {"sha": "6af36225364fb2f209e69fda4800682c6989cb8f", "filename": "src/librustc/middle/typeck/check/_match.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2F_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2F_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2F_match.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -14,7 +14,7 @@ use middle::subst::{Subst, Substs};\n use middle::ty::{mod, Ty};\n use middle::typeck::check::{check_expr, check_expr_has_type, demand, FnCtxt};\n use middle::typeck::check::{instantiate_path, structurally_resolved_type, valid_range_bounds};\n-use middle::typeck::infer::{mod, resolve};\n+use middle::infer::{mod, resolve};\n use middle::typeck::require_same_types;\n use util::nodemap::FnvHashMap;\n "}, {"sha": "252d0b09c959bf316192270a735f0f523009a262", "filename": "src/librustc/middle/typeck/check/closure.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fclosure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fclosure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fclosure.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -14,10 +14,10 @@ use super::check_fn;\n use super::{Expectation, ExpectCastableToType, ExpectHasType, NoExpectation};\n use super::FnCtxt;\n \n+use middle::infer;\n use middle::subst;\n use middle::ty::{mod, Ty};\n use middle::typeck::astconv;\n-use middle::typeck::infer;\n use middle::typeck::rscope::RegionScope;\n use syntax::abi;\n use syntax::ast;"}, {"sha": "df5b4a6c66ab925aea0d0433fa380176dba6cf5b", "filename": "src/librustc/middle/typeck/check/demand.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fdemand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fdemand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fdemand.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -11,9 +11,9 @@\n \n use middle::ty::{mod, Ty};\n use middle::typeck::check::FnCtxt;\n-use middle::typeck::infer;\n-use middle::typeck::infer::resolve_type;\n-use middle::typeck::infer::resolve::try_resolve_tvar_shallow;\n+use middle::infer;\n+use middle::infer::resolve_type;\n+use middle::infer::resolve::try_resolve_tvar_shallow;\n \n use std::result::{Err, Ok};\n use std::result;"}, {"sha": "291b02312134843508c46ad64dd74d21ac045551", "filename": "src/librustc/middle/typeck/check/method/confirm.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod%2Fconfirm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod%2Fconfirm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod%2Fconfirm.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -16,7 +16,8 @@ use middle::ty::{mod, Ty};\n use middle::ty::{MethodCall, MethodCallee, MethodObject, MethodOrigin,\n                  MethodParam, MethodStatic, MethodTraitObject, MethodTypeParam};\n use middle::typeck::check::{mod, FnCtxt, NoPreference, PreferMutLvalue};\n-use middle::typeck::infer::{mod, InferCtxt};\n+use middle::infer;\n+use middle::infer::InferCtxt;\n use middle::ty_fold::HigherRankedFoldable;\n use syntax::ast;\n use syntax::codemap::Span;"}, {"sha": "df0df7f47a5da2a8477ace600ddc411578259ae1", "filename": "src/librustc/middle/typeck/check/method/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod%2Fmod.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -20,7 +20,7 @@ use middle::typeck::check::{FnCtxt};\n use middle::typeck::check::{impl_self_ty};\n use middle::typeck::check::vtable;\n use middle::typeck::check::vtable::select_new_fcx_obligations;\n-use middle::typeck::infer;\n+use middle::infer;\n use util::ppaux::{Repr, UserString};\n \n use std::rc::Rc;"}, {"sha": "6abc3a7ca57fcb2887084d87bef9764e20fe17c7", "filename": "src/librustc/middle/typeck/check/method/probe.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod%2Fprobe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod%2Fprobe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod%2Fprobe.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -21,8 +21,8 @@ use middle::ty::{MethodObject};\n use middle::ty_fold::HigherRankedFoldable;\n use middle::typeck::check;\n use middle::typeck::check::{FnCtxt, NoPreference};\n-use middle::typeck::infer;\n-use middle::typeck::infer::InferCtxt;\n+use middle::infer;\n+use middle::infer::InferCtxt;\n use syntax::ast;\n use syntax::codemap::{Span, DUMMY_SP};\n use std::collections::HashSet;"}, {"sha": "02106f25304a6bbd71ccaf74d8fe0a622ce784f4", "filename": "src/librustc/middle/typeck/check/mod.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmod.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -84,6 +84,7 @@ use self::TupleArgumentsFlag::*;\n \n use session::Session;\n use middle::{const_eval, def, traits};\n+use middle::infer;\n use middle::lang_items::IteratorItem;\n use middle::mem_categorization::{mod, McResult};\n use middle::pat_util::{mod, pat_id_map};\n@@ -98,7 +99,7 @@ use middle::ty_fold::TypeFolder;\n use middle::typeck::astconv::{mod, ast_region_to_region, ast_ty_to_ty, AstConv};\n use middle::typeck::check::_match::pat_ctxt;\n use middle::typeck::rscope::RegionScope;\n-use middle::typeck::{CrateCtxt, infer, lookup_def_ccx, no_params, require_same_types};\n+use middle::typeck::{CrateCtxt, lookup_def_ccx, no_params, require_same_types};\n use middle::typeck::TypeAndSubsts;\n use middle::lang_items::TypeIdLangItem;\n use lint;"}, {"sha": "b466e2589456abc3f82c8fce9ceca67b9d622c55", "filename": "src/librustc/middle/typeck/check/regionck.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fregionck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fregionck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fregionck.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -124,9 +124,9 @@ use middle::typeck::astconv::AstConv;\n use middle::typeck::check::FnCtxt;\n use middle::typeck::check::regionmanip;\n use middle::typeck::check::vtable;\n-use middle::typeck::infer::resolve_and_force_all_but_regions;\n-use middle::typeck::infer::resolve_type;\n-use middle::typeck::infer;\n+use middle::infer::resolve_and_force_all_but_regions;\n+use middle::infer::resolve_type;\n+use middle::infer;\n use middle::pat_util;\n use util::nodemap::{DefIdMap, NodeMap, FnvHashMap};\n use util::ppaux::{ty_to_string, Repr};"}, {"sha": "5d6093c21e6a4835467a6bfedf5ba65e80495a3c", "filename": "src/librustc/middle/typeck/check/vtable.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fvtable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fvtable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fvtable.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -17,7 +17,7 @@ use middle::traits::{ObligationCause};\n use middle::ty::{mod, Ty};\n use middle::typeck::check::{FnCtxt,\n                             structurally_resolved_type};\n-use middle::typeck::infer;\n+use middle::infer;\n use std::rc::Rc;\n use syntax::ast;\n use syntax::codemap::Span;"}, {"sha": "e2eee66387fe6bb8aac12cc35ca54f1898ea2617", "filename": "src/librustc/middle/typeck/check/writeback.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fwriteback.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fwriteback.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fwriteback.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -19,9 +19,9 @@ use middle::ty::{mod, Ty, MethodCall, MethodCallee};\n use middle::ty_fold::{TypeFolder,TypeFoldable};\n use middle::typeck::astconv::AstConv;\n use middle::typeck::check::FnCtxt;\n-use middle::typeck::infer::{force_all, resolve_all, resolve_region};\n-use middle::typeck::infer::resolve_type;\n-use middle::typeck::infer;\n+use middle::infer::{force_all, resolve_all, resolve_region};\n+use middle::infer::resolve_type;\n+use middle::infer;\n use middle::typeck::write_substs_to_tcx;\n use middle::typeck::write_ty_to_tcx;\n use util::ppaux::Repr;"}, {"sha": "4e1bcec5eead2dbab84f04a1e3092f1382b9fce9", "filename": "src/librustc/middle/typeck/coherence/mod.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence%2Fmod.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -32,9 +32,9 @@ use middle::ty::type_is_ty_var;\n use middle::subst::Subst;\n use middle::ty;\n use middle::typeck::CrateCtxt;\n-use middle::typeck::infer::combine::Combine;\n-use middle::typeck::infer::InferCtxt;\n-use middle::typeck::infer::{new_infer_ctxt, resolve_ivar, resolve_type};\n+use middle::infer::combine::Combine;\n+use middle::infer::InferCtxt;\n+use middle::infer::{new_infer_ctxt, resolve_ivar, resolve_type};\n use std::collections::{HashSet};\n use std::cell::RefCell;\n use std::rc::Rc;"}, {"sha": "0e74d4578d95be7817f531777980c4bb512cd19d", "filename": "src/librustc/middle/typeck/coherence/overlap.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence%2Foverlap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence%2Foverlap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence%2Foverlap.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -13,8 +13,7 @@\n \n use middle::traits;\n use middle::ty;\n-use middle::typeck::infer::{new_infer_ctxt};\n-use middle::typeck::infer;\n+use middle::infer::{mod, new_infer_ctxt};\n use syntax::ast::{DefId};\n use syntax::ast::{LOCAL_CRATE};\n use syntax::ast;"}, {"sha": "5e1dbe16e3c0f604d59117be5db6007bc503fe72", "filename": "src/librustc/middle/typeck/collect.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcollect.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -46,7 +46,7 @@ use middle::ty_fold::TypeFolder;\n use middle::typeck::astconv::{AstConv, ty_of_arg};\n use middle::typeck::astconv::{ast_ty_to_ty, ast_region_to_region};\n use middle::typeck::astconv;\n-use middle::typeck::infer;\n+use middle::infer;\n use middle::typeck::rscope::*;\n use middle::typeck::{CrateCtxt, lookup_def_tcx, no_params, write_ty_to_tcx};\n use middle::typeck;"}, {"sha": "dbec92d02dfbd9af80db3ce0e0095b768e5a1b89", "filename": "src/librustc/middle/typeck/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fmod.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -63,6 +63,7 @@ independently:\n \n use middle::def;\n use middle::resolve;\n+use middle::infer;\n use middle::subst;\n use middle::subst::VecPerParamSpace;\n use middle::ty::{mod, Ty};\n@@ -78,7 +79,6 @@ use syntax::{ast, ast_map, abi};\n pub mod check;\n pub mod rscope;\n pub mod astconv;\n-pub mod infer;\n pub mod collect;\n pub mod coherence;\n pub mod variance;"}, {"sha": "59bbeb2dbc4f206aae680854125e692301298393", "filename": "src/librustc_trans/save/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc_trans%2Fsave%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc_trans%2Fsave%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fsave%2Fmod.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -30,7 +30,7 @@\n use driver::driver::CrateAnalysis;\n use session::Session;\n \n-use middle::{def, typeck};\n+use middle::def;\n use middle::ty::{mod, Ty};\n \n use std::cell::Cell;"}, {"sha": "9244e6909e8a45de4094d1ea9231e9e4e8a3e3ad", "filename": "src/librustc_trans/test.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc_trans%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc_trans%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftest.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -21,10 +21,10 @@ use middle::stability;\n use middle::subst;\n use middle::subst::Subst;\n use middle::ty::{mod, Ty};\n-use middle::typeck::infer::combine::Combine;\n-use middle::typeck::infer;\n-use middle::typeck::infer::lub::Lub;\n-use middle::typeck::infer::glb::Glb;\n+use middle::infer::combine::Combine;\n+use middle::infer;\n+use middle::infer::lub::Lub;\n+use middle::infer::glb::Glb;\n use session::{mod,config};\n use syntax::{abi, ast, ast_map, ast_util};\n use syntax::codemap;"}, {"sha": "be3780facaa102cb573d55d6d3a9a2397c2d7734", "filename": "src/librustc_trans/trans/common.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc_trans%2Ftrans%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc_trans%2Ftrans%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fcommon.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -19,6 +19,7 @@ use llvm;\n use llvm::{ValueRef, BasicBlockRef, BuilderRef, ContextRef};\n use llvm::{True, False, Bool};\n use middle::def;\n+use middle::infer;\n use middle::lang_items::LangItem;\n use middle::mem_categorization as mc;\n use middle::region;\n@@ -36,7 +37,6 @@ use middle::traits;\n use middle::ty::{mod, Ty};\n use middle::ty_fold;\n use middle::ty_fold::TypeFoldable;\n-use middle::typeck::infer;\n use util::ppaux::Repr;\n use util::nodemap::{DefIdMap, FnvHashMap, NodeMap};\n "}, {"sha": "d130dc0a55b1c0a4b111f92c5cf6e46b92a19ad6", "filename": "src/librustc_trans/trans/expr.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc_trans%2Ftrans%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/db75f8aa91a8757725a84db2345236f887b2ffec/src%2Flibrustc_trans%2Ftrans%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fexpr.rs?ref=db75f8aa91a8757725a84db2345236f887b2ffec", "patch": "@@ -41,7 +41,6 @@ use middle::def;\n use middle::mem_categorization::Typer;\n use middle::subst::{mod, Subst};\n use trans::{_match, adt, asm, base, callee, closure, consts, controlflow};\n-use trans::{debuginfo, glue, machine, meth, inline, tvec, type_of};\n use trans::base::*;\n use trans::build::*;\n use trans::cleanup::{mod, CleanupMethods};"}]}