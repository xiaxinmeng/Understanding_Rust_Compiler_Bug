{"sha": "b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b", "node_id": "C_kwDOAAsO6NoAKGIzN2NkYzY3YmVmNGRlNWRkZTlmNWNmZmViOGY3YTI1OTJmZGRlNGI", "commit": {"author": {"name": "Obei Sideg", "email": "obei.sideg@gmail.com", "date": "2023-05-25T12:43:41Z"}, "committer": {"name": "Obei Sideg", "email": "obei.sideg@gmail.com", "date": "2023-05-25T21:14:12Z"}, "message": "Add test for RPIT defined with different hidden types with different substs", "tree": {"sha": "93a4171ae93f6255d8fbc251bd52dbd826d631df", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/93a4171ae93f6255d8fbc251bd52dbd826d631df"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b", "html_url": "https://github.com/rust-lang/rust/commit/b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b/comments", "author": {"login": "obeis", "id": 54103142, "node_id": "MDQ6VXNlcjU0MTAzMTQy", "avatar_url": "https://avatars.githubusercontent.com/u/54103142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obeis", "html_url": "https://github.com/obeis", "followers_url": "https://api.github.com/users/obeis/followers", "following_url": "https://api.github.com/users/obeis/following{/other_user}", "gists_url": "https://api.github.com/users/obeis/gists{/gist_id}", "starred_url": "https://api.github.com/users/obeis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obeis/subscriptions", "organizations_url": "https://api.github.com/users/obeis/orgs", "repos_url": "https://api.github.com/users/obeis/repos", "events_url": "https://api.github.com/users/obeis/events{/privacy}", "received_events_url": "https://api.github.com/users/obeis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "obeis", "id": 54103142, "node_id": "MDQ6VXNlcjU0MTAzMTQy", "avatar_url": "https://avatars.githubusercontent.com/u/54103142?v=4", "gravatar_id": "", "url": "https://api.github.com/users/obeis", "html_url": "https://github.com/obeis", "followers_url": "https://api.github.com/users/obeis/followers", "following_url": "https://api.github.com/users/obeis/following{/other_user}", "gists_url": "https://api.github.com/users/obeis/gists{/gist_id}", "starred_url": "https://api.github.com/users/obeis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/obeis/subscriptions", "organizations_url": "https://api.github.com/users/obeis/orgs", "repos_url": "https://api.github.com/users/obeis/repos", "events_url": "https://api.github.com/users/obeis/events{/privacy}", "received_events_url": "https://api.github.com/users/obeis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eb9da7bfa375ad58bcb946115f3191a2756785e5", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb9da7bfa375ad58bcb946115f3191a2756785e5", "html_url": "https://github.com/rust-lang/rust/commit/eb9da7bfa375ad58bcb946115f3191a2756785e5"}], "stats": {"total": 38, "additions": 38, "deletions": 0}, "files": [{"sha": "c3a6f09f86d9324153f85e859a5ecb79b255ed2e", "filename": "tests/ui/impl-trait/multiple-defining-usages-in-body.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.rs?ref=b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b", "patch": "@@ -0,0 +1,12 @@\n+trait Trait {}\n+impl Trait for () {}\n+\n+fn foo<T: Trait, U: Trait>() -> impl Trait {\n+    //~^ WARN function cannot return without recursing [unconditional_recursion]\n+    let a: T = foo::<T, U>();\n+    //~^ ERROR concrete type differs from previous defining opaque type use\n+    loop {}\n+    let _: T = foo::<U, T>();\n+}\n+\n+fn main() {}"}, {"sha": "06991749bfad1ec96ce6827da64001536102c197", "filename": "tests/ui/impl-trait/multiple-defining-usages-in-body.stderr", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.stderr?ref=b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b", "patch": "@@ -0,0 +1,26 @@\n+warning: function cannot return without recursing\n+  --> $DIR/multiple-defining-usages-in-body.rs:4:1\n+   |\n+LL | fn foo<T: Trait, U: Trait>() -> impl Trait {\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ cannot return without recursing\n+LL |\n+LL |     let a: T = foo::<T, U>();\n+   |                ------------- recursive call site\n+   |\n+   = help: a `loop` may express intention better if this is on purpose\n+   = note: `#[warn(unconditional_recursion)]` on by default\n+\n+error: concrete type differs from previous defining opaque type use\n+  --> $DIR/multiple-defining-usages-in-body.rs:6:16\n+   |\n+LL |     let a: T = foo::<T, U>();\n+   |                ^^^^^^^^^^^^^ expected `U`, got `T`\n+   |\n+note: previous use here\n+  --> $DIR/multiple-defining-usages-in-body.rs:9:16\n+   |\n+LL |     let _: T = foo::<U, T>();\n+   |                ^^^^^^^^^^^^^\n+\n+error: aborting due to previous error; 1 warning emitted\n+"}]}