{"sha": "53af11651b448b34f21f63fb49e74f7186aed30e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUzYWYxMTY1MWI0NDhiMzRmMjFmNjNmYjQ5ZTc0ZjcxODZhZWQzMGU=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2020-12-17T10:36:49Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-12-17T10:36:49Z"}, "message": "Rollup merge of #80022 - ssomers:btree_cleanup_8, r=Mark-Simulacrum\n\nBTreeSet: simplify implementation of pop_first/pop_last\n\n\u2026and stop it interfering in #79245.\nr? ```````@Mark-Simulacrum```````", "tree": {"sha": "cce3d8bcdcecc42a0c8382593bba3e92c2f5d8e2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cce3d8bcdcecc42a0c8382593bba3e92c2f5d8e2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/53af11651b448b34f21f63fb49e74f7186aed30e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJf2zTBCRBK7hj4Ov3rIwAAdHIIAHS229qy/4nQhoyFHR2zHuPc\nh7BAtfKrfTYJwknuZNoXh2eWtxF1WLEsPK/U3Z4bjsipFuU9wGoi924DTZmLGOSP\nbBdnrW/QpD3yDHSaiMD87HLXvwfDuCD3p9xIgIZOmpa6o0KJW03ssaitDHZ6Zc2+\nc0ZJrCWoBL2a36dBjCcpZq+/bgKHEZYjQaDa8Ds0orON3uvfJZdw8d9/2A6lOYGZ\n6wzFozLixCCk8kAUYPmXhRK61iYtUR0ASDc9EMq6XrkkC4UwIKB0f99dxpveTDn1\nZq2FAlu9jdj0Zl5wB+2EAtwuE7xIgHzU2u/JRwVJ68sAxfO+y8OBAHHwdTX9th0=\n=/4rl\n-----END PGP SIGNATURE-----\n", "payload": "tree cce3d8bcdcecc42a0c8382593bba3e92c2f5d8e2\nparent 6b83013d1f54a19e6fd704ce17619b07f83e22c2\nparent 6c7835e4410f820c2bcdcd3d34fa48f0053af7d4\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1608201409 +0100\ncommitter GitHub <noreply@github.com> 1608201409 +0100\n\nRollup merge of #80022 - ssomers:btree_cleanup_8, r=Mark-Simulacrum\n\nBTreeSet: simplify implementation of pop_first/pop_last\n\n\u2026and stop it interfering in #79245.\nr? ```````@Mark-Simulacrum```````\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/53af11651b448b34f21f63fb49e74f7186aed30e", "html_url": "https://github.com/rust-lang/rust/commit/53af11651b448b34f21f63fb49e74f7186aed30e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/53af11651b448b34f21f63fb49e74f7186aed30e/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6b83013d1f54a19e6fd704ce17619b07f83e22c2", "url": "https://api.github.com/repos/rust-lang/rust/commits/6b83013d1f54a19e6fd704ce17619b07f83e22c2", "html_url": "https://github.com/rust-lang/rust/commit/6b83013d1f54a19e6fd704ce17619b07f83e22c2"}, {"sha": "6c7835e4410f820c2bcdcd3d34fa48f0053af7d4", "url": "https://api.github.com/repos/rust-lang/rust/commits/6c7835e4410f820c2bcdcd3d34fa48f0053af7d4", "html_url": "https://github.com/rust-lang/rust/commit/6c7835e4410f820c2bcdcd3d34fa48f0053af7d4"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "f63c3dd58040866339c66f66ad4914a2c03899be", "filename": "library/alloc/src/collections/btree/set.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/53af11651b448b34f21f63fb49e74f7186aed30e/library%2Falloc%2Fsrc%2Fcollections%2Fbtree%2Fset.rs", "raw_url": "https://github.com/rust-lang/rust/raw/53af11651b448b34f21f63fb49e74f7186aed30e/library%2Falloc%2Fsrc%2Fcollections%2Fbtree%2Fset.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fcollections%2Fbtree%2Fset.rs?ref=53af11651b448b34f21f63fb49e74f7186aed30e", "patch": "@@ -679,7 +679,7 @@ impl<T: Ord> BTreeSet<T> {\n     /// ```\n     #[unstable(feature = \"map_first_last\", issue = \"62924\")]\n     pub fn pop_first(&mut self) -> Option<T> {\n-        self.map.first_entry().map(|entry| entry.remove_entry().0)\n+        self.map.pop_first().map(|kv| kv.0)\n     }\n \n     /// Removes the last value from the set and returns it, if any.\n@@ -701,7 +701,7 @@ impl<T: Ord> BTreeSet<T> {\n     /// ```\n     #[unstable(feature = \"map_first_last\", issue = \"62924\")]\n     pub fn pop_last(&mut self) -> Option<T> {\n-        self.map.last_entry().map(|entry| entry.remove_entry().0)\n+        self.map.pop_last().map(|kv| kv.0)\n     }\n \n     /// Adds a value to the set."}]}