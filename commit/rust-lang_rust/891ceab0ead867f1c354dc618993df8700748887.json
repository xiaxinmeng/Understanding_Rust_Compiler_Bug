{"sha": "891ceab0ead867f1c354dc618993df8700748887", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg5MWNlYWIwZWFkODY3ZjFjMzU0ZGM2MTg5OTNkZjg3MDA3NDg4ODc=", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2021-06-15T08:40:14Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-06-15T08:40:14Z"}, "message": "Rollup merge of #86294 - m-ou-se:edition-prelude-modules, r=joshtriplett\n\nStabilize {std, core}::prelude::rust_*.\n\nThis stabilizes the `{core, std}::prelude::{rust_2015, rust_2018, rust_2021}` modules.\n\nThe usage of these modules as the prelude in those editions was already stabilized. This just stabilizes the modules themselves, making it possible for a user to explicitly refer to them.\n\nTracking issue: https://github.com/rust-lang/rust/issues/85684\n\nFCP on the RFC that included this finished here: https://github.com/rust-lang/rfcs/pull/3114#issuecomment-840577395", "tree": {"sha": "41d76c27606248ccce31e58731c003d1be8650a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/41d76c27606248ccce31e58731c003d1be8650a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/891ceab0ead867f1c354dc618993df8700748887", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgyGdvCRBK7hj4Ov3rIwAAyDUIAIwjurakDNM1VAFdCot7/F18\ndNE3rjlKB/vaOWMjAcARW7z+uqZL+mlXzCAYSnO0FcGegyal6FptkyUNJ5fTsr5l\nk8JqP1zf5SmbfcM5tbuiSMQNSR+U97TfP0hevN3FiosMzn7e6/NfPh8f29KcfovH\n7auTMaC0ADY88YcAxLENnkjccP2G2hg5Mn5NPNpL4UfshD6zjAzFH6oT1XyRbtVA\nBLHKVVcjLi6yvA3EhmUVPu4/17H5oz5Nbw/St13p/vNw7yqqiJVgO4aymZZBCAuf\n4++D4mktVEmPOcxhzA+CzcmLYNthFp0rszyPrVqT3Qnef22BX/x01h+wmkSSXbI=\n=DZG3\n-----END PGP SIGNATURE-----\n", "payload": "tree 41d76c27606248ccce31e58731c003d1be8650a2\nparent 178d17f91737bc04e54389f06d5072271dc8aeaa\nparent 65c1d3597309063635f2d846db6ebab334492eb2\nauthor Yuki Okushi <jtitor@2k36.org> 1623746414 +0900\ncommitter GitHub <noreply@github.com> 1623746414 +0900\n\nRollup merge of #86294 - m-ou-se:edition-prelude-modules, r=joshtriplett\n\nStabilize {std, core}::prelude::rust_*.\n\nThis stabilizes the `{core, std}::prelude::{rust_2015, rust_2018, rust_2021}` modules.\n\nThe usage of these modules as the prelude in those editions was already stabilized. This just stabilizes the modules themselves, making it possible for a user to explicitly refer to them.\n\nTracking issue: https://github.com/rust-lang/rust/issues/85684\n\nFCP on the RFC that included this finished here: https://github.com/rust-lang/rfcs/pull/3114#issuecomment-840577395\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/891ceab0ead867f1c354dc618993df8700748887", "html_url": "https://github.com/rust-lang/rust/commit/891ceab0ead867f1c354dc618993df8700748887", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/891ceab0ead867f1c354dc618993df8700748887/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "178d17f91737bc04e54389f06d5072271dc8aeaa", "url": "https://api.github.com/repos/rust-lang/rust/commits/178d17f91737bc04e54389f06d5072271dc8aeaa", "html_url": "https://github.com/rust-lang/rust/commit/178d17f91737bc04e54389f06d5072271dc8aeaa"}, {"sha": "65c1d3597309063635f2d846db6ebab334492eb2", "url": "https://api.github.com/repos/rust-lang/rust/commits/65c1d3597309063635f2d846db6ebab334492eb2", "html_url": "https://github.com/rust-lang/rust/commit/65c1d3597309063635f2d846db6ebab334492eb2"}], "stats": {"total": 49, "additions": 31, "deletions": 18}, "files": [{"sha": "ccd36a428e29679bc766ff5008bc8c8d6d32919e", "filename": "library/core/src/prelude/mod.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/891ceab0ead867f1c354dc618993df8700748887/library%2Fcore%2Fsrc%2Fprelude%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/891ceab0ead867f1c354dc618993df8700748887/library%2Fcore%2Fsrc%2Fprelude%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fprelude%2Fmod.rs?ref=891ceab0ead867f1c354dc618993df8700748887", "patch": "@@ -11,37 +11,37 @@ pub mod v1;\n /// The 2015 version of the core prelude.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2015\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2015\", since = \"1.55.0\")]\n pub mod rust_2015 {\n-    #[unstable(feature = \"prelude_2015\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2015\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n }\n \n /// The 2018 version of the core prelude.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2018\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2018\", since = \"1.55.0\")]\n pub mod rust_2018 {\n-    #[unstable(feature = \"prelude_2018\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2018\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n }\n \n /// The 2021 version of the core prelude.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n pub mod rust_2021 {\n-    #[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n \n-    #[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use crate::iter::FromIterator;\n \n-    #[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use crate::convert::{TryFrom, TryInto};\n }"}, {"sha": "6b2f49cfe48c9543a78c5a907dcbd4e3b9493095", "filename": "library/std/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/891ceab0ead867f1c354dc618993df8700748887/library%2Fstd%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/891ceab0ead867f1c354dc618993df8700748887/library%2Fstd%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Flib.rs?ref=891ceab0ead867f1c354dc618993df8700748887", "patch": "@@ -302,7 +302,6 @@\n #![feature(panic_internals)]\n #![feature(panic_unwind)]\n #![feature(pin_static_ref)]\n-#![feature(prelude_2021)]\n #![feature(prelude_import)]\n #![feature(ptr_internals)]\n #![feature(raw)]"}, {"sha": "d4bf6aeefee57279bdf2375969bab5efd6949bdf", "filename": "library/std/src/prelude/mod.rs", "status": "modified", "additions": 23, "deletions": 9, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/891ceab0ead867f1c354dc618993df8700748887/library%2Fstd%2Fsrc%2Fprelude%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/891ceab0ead867f1c354dc618993df8700748887/library%2Fstd%2Fsrc%2Fprelude%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fprelude%2Fmod.rs?ref=891ceab0ead867f1c354dc618993df8700748887", "patch": "@@ -25,8 +25,10 @@\n //!\n //! # Prelude contents\n //!\n-//! The current version of the prelude (version 1) lives in\n-//! [`std::prelude::v1`], and re-exports the following:\n+//! The first version of the prelude is used in Rust 2015 and Rust 2018,\n+//! and lives in [`std::prelude::v1`].\n+//! [`std::prelude::rust_2015`] and [`std::prelude::rust_2018`] re-export this prelude.\n+//! It re-exports the following:\n //!\n //! * <code>[std::marker]::{[Copy], [Send], [Sized], [Sync], [Unpin]}</code>,\n //!   marker traits that indicate fundamental properties of types.\n@@ -58,6 +60,12 @@\n //! * <code>[std::string]::{[String], [ToString]}</code>, heap-allocated strings.\n //! * <code>[std::vec]::[Vec]</code>, a growable, heap-allocated vector.\n //!\n+//! The prelude used in Rust 2021, [`std::prelude::rust_2021`], includes all of the above,\n+//! and in addition re-exports:\n+//!\n+//! * <code>[std::convert]::{[TryFrom], [TryInto]}</code>,\n+//! * <code>[std::iter]::[FromIterator]</code>.\n+//!\n //! [mem::drop]: crate::mem::drop\n //! [std::borrow]: crate::borrow\n //! [std::boxed]: crate::boxed\n@@ -71,10 +79,16 @@\n //! [std::ops]: crate::ops\n //! [std::option]: crate::option\n //! [`std::prelude::v1`]: v1\n+//! [`std::prelude::rust_2015`]: rust_2015\n+//! [`std::prelude::rust_2018`]: rust_2018\n+//! [`std::prelude::rust_2021`]: rust_2021\n //! [std::result]: crate::result\n //! [std::slice]: crate::slice\n //! [std::string]: crate::string\n //! [std::vec]: mod@crate::vec\n+//! [TryFrom]: crate::convert::TryFrom\n+//! [TryInto]: crate::convert::TryInto\n+//! [FromIterator]: crate::iter::FromIterator\n //! [`to_owned`]: crate::borrow::ToOwned::to_owned\n //! [book-closures]: ../../book/ch13-01-closures.html\n //! [book-dtor]: ../../book/ch15-03-drop.html\n@@ -88,33 +102,33 @@ pub mod v1;\n /// The 2015 version of the prelude of The Rust Standard Library.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2015\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2015\", since = \"1.55.0\")]\n pub mod rust_2015 {\n-    #[unstable(feature = \"prelude_2015\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2015\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n }\n \n /// The 2018 version of the prelude of The Rust Standard Library.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2018\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2018\", since = \"1.55.0\")]\n pub mod rust_2018 {\n-    #[unstable(feature = \"prelude_2018\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2018\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n }\n \n /// The 2021 version of the prelude of The Rust Standard Library.\n ///\n /// See the [module-level documentation](self) for more.\n-#[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+#[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n pub mod rust_2021 {\n-    #[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use super::v1::*;\n \n-    #[unstable(feature = \"prelude_2021\", issue = \"85684\")]\n+    #[stable(feature = \"prelude_2021\", since = \"1.55.0\")]\n     #[doc(no_inline)]\n     pub use core::prelude::rust_2021::*;\n }"}]}