{"sha": "90b8131abc4eed3596b63e44a56c95258f0b4dc9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkwYjgxMzFhYmM0ZWVkMzU5NmI2M2U0NGE1NmM5NTI1OGYwYjRkYzk=", "commit": {"author": {"name": "Felix Chapman", "email": "aelred717@gmail.com", "date": "2018-12-10T02:49:19Z"}, "committer": {"name": "Felix Chapman", "email": "aelred717@gmail.com", "date": "2018-12-10T02:49:19Z"}, "message": "Add regression test for issue #55846", "tree": {"sha": "a1ae51ad5d94e5fe31108bc3250b15d01e0c9942", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a1ae51ad5d94e5fe31108bc3250b15d01e0c9942"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/90b8131abc4eed3596b63e44a56c95258f0b4dc9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/90b8131abc4eed3596b63e44a56c95258f0b4dc9", "html_url": "https://github.com/rust-lang/rust/commit/90b8131abc4eed3596b63e44a56c95258f0b4dc9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/90b8131abc4eed3596b63e44a56c95258f0b4dc9/comments", "author": {"login": "aelred", "id": 4632588, "node_id": "MDQ6VXNlcjQ2MzI1ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/4632588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aelred", "html_url": "https://github.com/aelred", "followers_url": "https://api.github.com/users/aelred/followers", "following_url": "https://api.github.com/users/aelred/following{/other_user}", "gists_url": "https://api.github.com/users/aelred/gists{/gist_id}", "starred_url": "https://api.github.com/users/aelred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aelred/subscriptions", "organizations_url": "https://api.github.com/users/aelred/orgs", "repos_url": "https://api.github.com/users/aelred/repos", "events_url": "https://api.github.com/users/aelred/events{/privacy}", "received_events_url": "https://api.github.com/users/aelred/received_events", "type": "User", "site_admin": false}, "committer": {"login": "aelred", "id": 4632588, "node_id": "MDQ6VXNlcjQ2MzI1ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/4632588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/aelred", "html_url": "https://github.com/aelred", "followers_url": "https://api.github.com/users/aelred/followers", "following_url": "https://api.github.com/users/aelred/following{/other_user}", "gists_url": "https://api.github.com/users/aelred/gists{/gist_id}", "starred_url": "https://api.github.com/users/aelred/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/aelred/subscriptions", "organizations_url": "https://api.github.com/users/aelred/orgs", "repos_url": "https://api.github.com/users/aelred/repos", "events_url": "https://api.github.com/users/aelred/events{/privacy}", "received_events_url": "https://api.github.com/users/aelred/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b755501043d5b27b39f94bcadd57c8d5dedfd6ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/b755501043d5b27b39f94bcadd57c8d5dedfd6ba", "html_url": "https://github.com/rust-lang/rust/commit/b755501043d5b27b39f94bcadd57c8d5dedfd6ba"}], "stats": {"total": 39, "additions": 39, "deletions": 0}, "files": [{"sha": "bd766752360a15faa69912f6a1493f7f2ff502f4", "filename": "src/test/ui/issue-55846.rs", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/rust-lang/rust/blob/90b8131abc4eed3596b63e44a56c95258f0b4dc9/src%2Ftest%2Fui%2Fissue-55846.rs", "raw_url": "https://github.com/rust-lang/rust/raw/90b8131abc4eed3596b63e44a56c95258f0b4dc9/src%2Ftest%2Fui%2Fissue-55846.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-55846.rs?ref=90b8131abc4eed3596b63e44a56c95258f0b4dc9", "patch": "@@ -0,0 +1,39 @@\n+// run-pass\n+\n+// Regression test for #55846, which once caused an ICE.\n+\n+use std::marker::PhantomData;\n+\n+struct Foo;\n+\n+struct Bar<A> {\n+    a: PhantomData<A>,\n+}\n+\n+impl Fooifier for Foo {\n+    type Assoc = Foo;\n+}\n+\n+trait Fooifier {\n+    type Assoc;\n+}\n+\n+trait Barifier<H> {\n+    fn barify();\n+}\n+\n+impl<H> Barifier<H> for Bar<H> {\n+    fn barify() {\n+        println!(\"All correct!\");\n+    }\n+}\n+\n+impl Bar<<Foo as Fooifier>::Assoc> {\n+    fn this_shouldnt_crash() {\n+        <Self as Barifier<<Foo as Fooifier>::Assoc>>::barify();\n+    }\n+}\n+\n+fn main() {\n+    Bar::<Foo>::this_shouldnt_crash();\n+}"}]}