{"sha": "8b82a549bf89f101efc19638357d360a968b1348", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhiODJhNTQ5YmY4OWYxMDFlZmMxOTYzODM1N2QzNjBhOTY4YjEzNDg=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-18T20:44:13Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-18T20:44:54Z"}, "message": "rustc: When encountering \"mutable\" as a tycon, parse it, drop it on the floor, and emit a warning", "tree": {"sha": "57b35532aabcae949dbd6af1018e42e7ba5f608f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/57b35532aabcae949dbd6af1018e42e7ba5f608f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8b82a549bf89f101efc19638357d360a968b1348", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8b82a549bf89f101efc19638357d360a968b1348", "html_url": "https://github.com/rust-lang/rust/commit/8b82a549bf89f101efc19638357d360a968b1348", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8b82a549bf89f101efc19638357d360a968b1348/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8aa946ff5e312543a4e3903ee0d3580fbd8d2887", "url": "https://api.github.com/repos/rust-lang/rust/commits/8aa946ff5e312543a4e3903ee0d3580fbd8d2887", "html_url": "https://github.com/rust-lang/rust/commit/8aa946ff5e312543a4e3903ee0d3580fbd8d2887"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "95f7466d723ac10d95366733f06b447569dd503a", "filename": "src/comp/driver/session.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/8b82a549bf89f101efc19638357d360a968b1348/src%2Fcomp%2Fdriver%2Fsession.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8b82a549bf89f101efc19638357d360a968b1348/src%2Fcomp%2Fdriver%2Fsession.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fdriver%2Fsession.rs?ref=8b82a549bf89f101efc19638357d360a968b1348", "patch": "@@ -40,6 +40,14 @@ obj session(cfg targ) {\n         fail;\n     }\n \n+    fn span_warn(span sp, str msg) {\n+        log #fmt(\"%s:%u:%u:%u:%u: warning: %s\",\n+                 sp.filename,\n+                 sp.lo.line, sp.lo.col,\n+                 sp.hi.line, sp.hi.col,\n+                 msg);\n+    }\n+\n     fn bug(str msg) {\n         log #fmt(\"error: internal compiler error %s\", msg);\n         fail;"}, {"sha": "b00a2deb95d1b6b4ea4cf0c366b15d2c4a53fb97", "filename": "src/comp/front/parser.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/8b82a549bf89f101efc19638357d360a968b1348/src%2Fcomp%2Ffront%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8b82a549bf89f101efc19638357d360a968b1348/src%2Fcomp%2Ffront%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Ffront%2Fparser.rs?ref=8b82a549bf89f101efc19638357d360a968b1348", "patch": "@@ -452,6 +452,15 @@ impure fn parse_ty(parser p) -> @ast.ty {\n             t = ast.ty_path(parse_path(p, GREEDY), none[ast.def]);\n         }\n \n+        case (token.MUTABLE) {\n+            p.bump();\n+            p.get_session().span_warn(p.get_span(),\n+                \"ignoring deprecated 'mutable' type constructor\");\n+            auto typ = parse_ty(p);\n+            t = typ.node;\n+            hi = typ.span;\n+        }\n+\n         case (_) {\n             p.err(\"expecting type\");\n             t = ast.ty_nil;"}]}