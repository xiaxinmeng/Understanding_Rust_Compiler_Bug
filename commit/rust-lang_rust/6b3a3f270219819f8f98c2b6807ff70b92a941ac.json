{"sha": "6b3a3f270219819f8f98c2b6807ff70b92a941ac", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZiM2EzZjI3MDIxOTgxOWY4Zjk4YzJiNjgwN2ZmNzBiOTJhOTQxYWM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-12-14T01:33:58Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-12-14T01:33:58Z"}, "message": "Auto merge of #30369 - jethrogb:patch-2, r=steveklabnik\n\nThe old code returned `usize::MAX` as an error condition, which is not the Rust way.", "tree": {"sha": "deee3185e100e5774db7228f4ff2fbdd38269307", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/deee3185e100e5774db7228f4ff2fbdd38269307"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6b3a3f270219819f8f98c2b6807ff70b92a941ac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6b3a3f270219819f8f98c2b6807ff70b92a941ac", "html_url": "https://github.com/rust-lang/rust/commit/6b3a3f270219819f8f98c2b6807ff70b92a941ac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6b3a3f270219819f8f98c2b6807ff70b92a941ac/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "110df043bf585e94764e07700576200290709859", "url": "https://api.github.com/repos/rust-lang/rust/commits/110df043bf585e94764e07700576200290709859", "html_url": "https://github.com/rust-lang/rust/commit/110df043bf585e94764e07700576200290709859"}, {"sha": "6e46a0fb95cfaa06f1b1782f9045a8676119aaa0", "url": "https://api.github.com/repos/rust-lang/rust/commits/6e46a0fb95cfaa06f1b1782f9045a8676119aaa0", "html_url": "https://github.com/rust-lang/rust/commit/6e46a0fb95cfaa06f1b1782f9045a8676119aaa0"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "effd4ebb316725f1c42fea3f01741b2336a266e5", "filename": "src/libcollections/binary_heap.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/6b3a3f270219819f8f98c2b6807ff70b92a941ac/src%2Flibcollections%2Fbinary_heap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6b3a3f270219819f8f98c2b6807ff70b92a941ac/src%2Flibcollections%2Fbinary_heap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fbinary_heap.rs?ref=6b3a3f270219819f8f98c2b6807ff70b92a941ac", "patch": "@@ -66,7 +66,7 @@\n //! // to each node. This implementation isn't memory-efficient as it may leave duplicate\n //! // nodes in the queue. It also uses `usize::MAX` as a sentinel value,\n //! // for a simpler implementation.\n-//! fn shortest_path(adj_list: &Vec<Vec<Edge>>, start: usize, goal: usize) -> usize {\n+//! fn shortest_path(adj_list: &Vec<Vec<Edge>>, start: usize, goal: usize) -> Option<usize> {\n //!     // dist[node] = current shortest distance from `start` to `node`\n //!     let mut dist: Vec<_> = (0..adj_list.len()).map(|_| usize::MAX).collect();\n //!\n@@ -79,7 +79,7 @@\n //!     // Examine the frontier with lower cost nodes first (min-heap)\n //!     while let Some(State { cost, position }) = heap.pop() {\n //!         // Alternatively we could have continued to find all shortest paths\n-//!         if position == goal { return cost; }\n+//!         if position == goal { return Some(cost); }\n //!\n //!         // Important as we may have already found a better way\n //!         if cost > dist[position] { continue; }\n@@ -99,7 +99,7 @@\n //!     }\n //!\n //!     // Goal not reachable\n-//!     usize::MAX\n+//!     None\n //! }\n //!\n //! fn main() {\n@@ -140,11 +140,11 @@\n //!         // Node 4\n //!         vec![]];\n //!\n-//!     assert_eq!(shortest_path(&graph, 0, 1), 1);\n-//!     assert_eq!(shortest_path(&graph, 0, 3), 3);\n-//!     assert_eq!(shortest_path(&graph, 3, 0), 7);\n-//!     assert_eq!(shortest_path(&graph, 0, 4), 5);\n-//!     assert_eq!(shortest_path(&graph, 4, 0), usize::MAX);\n+//!     assert_eq!(shortest_path(&graph, 0, 1), Some(1));\n+//!     assert_eq!(shortest_path(&graph, 0, 3), Some(3));\n+//!     assert_eq!(shortest_path(&graph, 3, 0), Some(7));\n+//!     assert_eq!(shortest_path(&graph, 0, 4), Some(5));\n+//!     assert_eq!(shortest_path(&graph, 4, 0), None);\n //! }\n //! ```\n "}]}