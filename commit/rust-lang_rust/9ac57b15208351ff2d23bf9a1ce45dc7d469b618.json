{"sha": "9ac57b15208351ff2d23bf9a1ce45dc7d469b618", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlhYzU3YjE1MjA4MzUxZmYyZDIzYmY5YTFjZTQ1ZGM3ZDQ2OWI2MTg=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2021-03-10T16:55:40Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-03-10T16:55:40Z"}, "message": "Rollup merge of #82807 - notriddle:cleanup-js, r=jyn514\n\nrustdoc: Remove redundant enableSearchInput function\n\nenableSearchInput was called from two places:\n\n- setupSearchLoader\n- addSearchOptions, which is itself called from setupSearchLoader only\n\nThis commit can safely get rid of the addSearchOptions calls entirely, and since the setupSearchLoader call is immediately preceded by other method calls on search_input, there's no need to check if it's set.", "tree": {"sha": "24a7a2a7471a829bd1c6ff455dad7d96ba96d0ec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/24a7a2a7471a829bd1c6ff455dad7d96ba96d0ec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9ac57b15208351ff2d23bf9a1ce45dc7d469b618", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgSPoNCRBK7hj4Ov3rIwAAdHIIAE1UfZsMm/k+PoKWqjBMetZ8\nQeYThVM5XgwfqFfjBxNqdTxNmXPkKgYk79b57haS5bsqv8nQQaQosiUcG9Az30hv\nDc5sbtWTYaMbpqk+VPIy/+ECPV3jy0VyU7FN4ANjTceyS7ZdPgn1IBBOrmadtkIY\nFvvf4ig4Ze8anIOFgkkeOYFW2sl+8+bAtgG4P19mXoo2aTx00K3rWepYKDP/EXVO\nX3bJD1892hFLyFwtPICLZMymj9an75fX7S20CnhUUzma8kjwFx03LmFrhHagV92m\nTczQ0RKH8EcSKHR3VpoN7Zgma2UeKGB8GY7owL25iZ/zNQzQmewwvJWGgBBeVgE=\n=Q1zW\n-----END PGP SIGNATURE-----\n", "payload": "tree 24a7a2a7471a829bd1c6ff455dad7d96ba96d0ec\nparent 759204ffc417f5d1e6b56ca38d28e7c9881ce09a\nparent 28135b79d71e4256f9f0ac76aa8c6c49b3127d09\nauthor Dylan DPC <dylan.dpc@gmail.com> 1615395340 +0100\ncommitter GitHub <noreply@github.com> 1615395340 +0100\n\nRollup merge of #82807 - notriddle:cleanup-js, r=jyn514\n\nrustdoc: Remove redundant enableSearchInput function\n\nenableSearchInput was called from two places:\n\n- setupSearchLoader\n- addSearchOptions, which is itself called from setupSearchLoader only\n\nThis commit can safely get rid of the addSearchOptions calls entirely, and since the setupSearchLoader call is immediately preceded by other method calls on search_input, there's no need to check if it's set.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9ac57b15208351ff2d23bf9a1ce45dc7d469b618", "html_url": "https://github.com/rust-lang/rust/commit/9ac57b15208351ff2d23bf9a1ce45dc7d469b618", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9ac57b15208351ff2d23bf9a1ce45dc7d469b618/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "759204ffc417f5d1e6b56ca38d28e7c9881ce09a", "url": "https://api.github.com/repos/rust-lang/rust/commits/759204ffc417f5d1e6b56ca38d28e7c9881ce09a", "html_url": "https://github.com/rust-lang/rust/commit/759204ffc417f5d1e6b56ca38d28e7c9881ce09a"}, {"sha": "28135b79d71e4256f9f0ac76aa8c6c49b3127d09", "url": "https://api.github.com/repos/rust-lang/rust/commits/28135b79d71e4256f9f0ac76aa8c6c49b3127d09", "html_url": "https://github.com/rust-lang/rust/commit/28135b79d71e4256f9f0ac76aa8c6c49b3127d09"}], "stats": {"total": 12, "additions": 2, "deletions": 10}, "files": [{"sha": "42519d596225ba9cc281f14483f390c54d699fb3", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 2, "deletions": 10, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/9ac57b15208351ff2d23bf9a1ce45dc7d469b618/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/9ac57b15208351ff2d23bf9a1ce45dc7d469b618/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=9ac57b15208351ff2d23bf9a1ce45dc7d469b618", "patch": "@@ -2188,7 +2188,7 @@ function defocusSearchBar() {\n             return \"+\";\n         }\n         // button will collapse the section\n-        // note that this text is also set in the HTML template in render.rs\n+        // note that this text is also set in the HTML template in ../render/mod.rs\n         return \"\\u2212\"; // \"\\u2212\" is \"\u2212\" minus sign\n     }\n \n@@ -2831,17 +2831,10 @@ function defocusSearchBar() {\n         });\n     }\n \n-    function enableSearchInput() {\n-        if (search_input) {\n-            search_input.removeAttribute('disabled');\n-        }\n-    }\n-\n     function addSearchOptions(crates) {\n         var elem = document.getElementById(\"crate-search\");\n \n         if (!elem) {\n-            enableSearchInput();\n             return;\n         }\n         var savedCrate = getSettingValue(\"saved-filter-crate\");\n@@ -2860,7 +2853,6 @@ function defocusSearchBar() {\n                 elem.value = savedCrate;\n             }\n         }\n-        enableSearchInput();\n     };\n \n     function buildHelperPopup() {\n@@ -2952,7 +2944,7 @@ function defocusSearchBar() {\n         search_input.addEventListener(\"blur\", function() {\n             search_input.placeholder = search_input.origPlaceholder;\n         });\n-        enableSearchInput();\n+        search_input.removeAttribute('disabled');\n \n         var crateSearchDropDown = document.getElementById(\"crate-search\");\n         crateSearchDropDown.addEventListener(\"focus\", loadSearch);"}]}