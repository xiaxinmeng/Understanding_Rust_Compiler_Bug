{"sha": "145add7ccfa14e74ff770ee10e0cf2d6609c7e70", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE0NWFkZDdjY2ZhMTRlNzRmZjc3MGVlMTBlMGNmMmQ2NjA5YzdlNzA=", "commit": {"author": {"name": "Matthew Jasper", "email": "mjjasper1@gmail.com", "date": "2019-03-30T17:18:54Z"}, "committer": {"name": "Matthew Jasper", "email": "mjjasper1@gmail.com", "date": "2019-05-01T18:01:28Z"}, "message": "Add test for slice drop shims", "tree": {"sha": "bc7e77ade456799e71496eb799a63a27bf4c8662", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bc7e77ade456799e71496eb799a63a27bf4c8662"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/145add7ccfa14e74ff770ee10e0cf2d6609c7e70", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/145add7ccfa14e74ff770ee10e0cf2d6609c7e70", "html_url": "https://github.com/rust-lang/rust/commit/145add7ccfa14e74ff770ee10e0cf2d6609c7e70", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/145add7ccfa14e74ff770ee10e0cf2d6609c7e70/comments", "author": {"login": "matthewjasper", "id": 20113453, "node_id": "MDQ6VXNlcjIwMTEzNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewjasper", "html_url": "https://github.com/matthewjasper", "followers_url": "https://api.github.com/users/matthewjasper/followers", "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}", "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions", "organizations_url": "https://api.github.com/users/matthewjasper/orgs", "repos_url": "https://api.github.com/users/matthewjasper/repos", "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewjasper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthewjasper", "id": 20113453, "node_id": "MDQ6VXNlcjIwMTEzNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewjasper", "html_url": "https://github.com/matthewjasper", "followers_url": "https://api.github.com/users/matthewjasper/followers", "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}", "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions", "organizations_url": "https://api.github.com/users/matthewjasper/orgs", "repos_url": "https://api.github.com/users/matthewjasper/repos", "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewjasper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6cc24f26036b28fb3366de86efe3da6c4464057a", "url": "https://api.github.com/repos/rust-lang/rust/commits/6cc24f26036b28fb3366de86efe3da6c4464057a", "html_url": "https://github.com/rust-lang/rust/commit/6cc24f26036b28fb3366de86efe3da6c4464057a"}], "stats": {"total": 92, "additions": 92, "deletions": 0}, "files": [{"sha": "f558ec18ba9f232eb9cf8914c960945c52f4d92b", "filename": "src/test/mir-opt/slice-drop-shim.rs", "status": "added", "additions": 92, "deletions": 0, "changes": 92, "blob_url": "https://github.com/rust-lang/rust/blob/145add7ccfa14e74ff770ee10e0cf2d6609c7e70/src%2Ftest%2Fmir-opt%2Fslice-drop-shim.rs", "raw_url": "https://github.com/rust-lang/rust/raw/145add7ccfa14e74ff770ee10e0cf2d6609c7e70/src%2Ftest%2Fmir-opt%2Fslice-drop-shim.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fslice-drop-shim.rs?ref=145add7ccfa14e74ff770ee10e0cf2d6609c7e70", "patch": "@@ -0,0 +1,92 @@\n+fn main() {\n+    std::ptr::drop_in_place::<[String]> as unsafe fn(_);\n+}\n+\n+// END RUST SOURCE\n+\n+// START rustc.ptr-real_drop_in_place.[std__string__String].AddMovesForPackedDrops.before.mir\n+// let mut _2: usize;\n+// let mut _3: bool;\n+// let mut _4: usize;\n+// let mut _5: usize;\n+// let mut _6: &mut std::string::String;\n+// let mut _7: bool;\n+// let mut _8: &mut std::string::String;\n+// let mut _9: bool;\n+// let mut _10: *mut std::string::String;\n+// let mut _11: usize;\n+// let mut _12: *mut std::string::String;\n+// let mut _13: &mut std::string::String;\n+// let mut _14: bool;\n+// let mut _15: &mut std::string::String;\n+// let mut _16: bool;\n+// let mut _17: *mut [std::string::String];\n+// bb0: {\n+//     goto -> bb15;\n+// }\n+// bb1: {\n+//     return;\n+// }\n+// bb2 (cleanup): {\n+//     resume;\n+// }\n+// bb3 (cleanup): {\n+//     _6 = &mut (*_1)[_4];\n+//     _4 = Add(_4, const 1usize);\n+//     drop((*_6)) -> bb4;\n+// }\n+// bb4 (cleanup): {\n+//     _7 = Eq(_4, _5);\n+//     switchInt(move _7) -> [false: bb3, otherwise: bb2];\n+// }\n+// bb5: {\n+//     _8 = &mut (*_1)[_4];\n+//     _4 = Add(_4, const 1usize);\n+//     drop((*_8)) -> [return: bb6, unwind: bb4];\n+// }\n+// bb6: {\n+//     _9 = Eq(_4, _5);\n+//     switchInt(move _9) -> [false: bb5, otherwise: bb1];\n+// }\n+// bb7: {\n+//     _5 = Len((*_1));\n+//     _4 = const 0usize;\n+//     goto -> bb6;\n+// }\n+// bb8: {\n+//     goto -> bb7;\n+// }\n+// bb9 (cleanup): {\n+//     _13 = &mut (*_10);\n+//     _10 = Offset(_10, const 1usize);\n+//     drop((*_13)) -> bb10;\n+// }\n+// bb10 (cleanup): {\n+//     _14 = Eq(_10, _12);\n+//     switchInt(move _14) -> [false: bb9, otherwise: bb2];\n+// }\n+// bb11: {\n+//     _15 = &mut (*_10);\n+//     _10 = Offset(_10, const 1usize);\n+//     drop((*_15)) -> [return: bb12, unwind: bb10];\n+// }\n+// bb12: {\n+//     _16 = Eq(_10, _12);\n+//     switchInt(move _16) -> [false: bb11, otherwise: bb1];\n+// }\n+// bb13: {\n+//     _11 = Len((*_1));\n+//     _17 = &mut (*_1);\n+//     _10 = move _17 as *mut std::string::String (Misc);\n+//     _12 = Offset(_10, move _11);\n+//     goto -> bb12;\n+// }\n+// bb14: {\n+//     goto -> bb13;\n+// }\n+// bb15: {\n+//     _2 = SizeOf(std::string::String);\n+//     _3 = Eq(move _2, const 0usize);\n+//     switchInt(move _3) -> [false: bb14, otherwise: bb8];\n+// }\n+// END rustc.ptr-real_drop_in_place.[std__string__String].AddMovesForPackedDrops.before.mir"}]}