{"sha": "1fe4bd0f433553eacf8d81cdbe16ac6fe6f16c54", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFmZTRiZDBmNDMzNTUzZWFjZjhkODFjZGJlMTZhYzZmZTZmMTZjNTQ=", "commit": {"author": {"name": "Stefan Plantikow", "email": "stefan.plantikow@googlemail.com", "date": "2011-12-16T15:31:35Z"}, "committer": {"name": "Stefan Plantikow", "email": "stefan.plantikow@googlemail.com", "date": "2011-12-16T15:31:42Z"}, "message": "std: added either::flip, to_result and result::to_either", "tree": {"sha": "d81f54b0564fd1f1266888bd55314b0ea375bbf3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d81f54b0564fd1f1266888bd55314b0ea375bbf3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1fe4bd0f433553eacf8d81cdbe16ac6fe6f16c54", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1fe4bd0f433553eacf8d81cdbe16ac6fe6f16c54", "html_url": "https://github.com/rust-lang/rust/commit/1fe4bd0f433553eacf8d81cdbe16ac6fe6f16c54", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1fe4bd0f433553eacf8d81cdbe16ac6fe6f16c54/comments", "author": {"login": "boggle", "id": 50886, "node_id": "MDQ6VXNlcjUwODg2", "avatar_url": "https://avatars.githubusercontent.com/u/50886?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boggle", "html_url": "https://github.com/boggle", "followers_url": "https://api.github.com/users/boggle/followers", "following_url": "https://api.github.com/users/boggle/following{/other_user}", "gists_url": "https://api.github.com/users/boggle/gists{/gist_id}", "starred_url": "https://api.github.com/users/boggle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boggle/subscriptions", "organizations_url": "https://api.github.com/users/boggle/orgs", "repos_url": "https://api.github.com/users/boggle/repos", "events_url": "https://api.github.com/users/boggle/events{/privacy}", "received_events_url": "https://api.github.com/users/boggle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "boggle", "id": 50886, "node_id": "MDQ6VXNlcjUwODg2", "avatar_url": "https://avatars.githubusercontent.com/u/50886?v=4", "gravatar_id": "", "url": "https://api.github.com/users/boggle", "html_url": "https://github.com/boggle", "followers_url": "https://api.github.com/users/boggle/followers", "following_url": "https://api.github.com/users/boggle/following{/other_user}", "gists_url": "https://api.github.com/users/boggle/gists{/gist_id}", "starred_url": "https://api.github.com/users/boggle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/boggle/subscriptions", "organizations_url": "https://api.github.com/users/boggle/orgs", "repos_url": "https://api.github.com/users/boggle/repos", "events_url": "https://api.github.com/users/boggle/events{/privacy}", "received_events_url": "https://api.github.com/users/boggle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fd1dd76977f808ec40796d6ca66e4bf98de6de9c", "url": "https://api.github.com/repos/rust-lang/rust/commits/fd1dd76977f808ec40796d6ca66e4bf98de6de9c", "html_url": "https://github.com/rust-lang/rust/commit/fd1dd76977f808ec40796d6ca66e4bf98de6de9c"}], "stats": {"total": 38, "additions": 35, "deletions": 3}, "files": [{"sha": "60ad12d2e026aebfbe714b9863f7ca34852774d2", "filename": "src/libcore/either.rs", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/1fe4bd0f433553eacf8d81cdbe16ac6fe6f16c54/src%2Flibcore%2Feither.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1fe4bd0f433553eacf8d81cdbe16ac6fe6f16c54/src%2Flibcore%2Feither.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Feither.rs?ref=1fe4bd0f433553eacf8d81cdbe16ac6fe6f16c54", "patch": "@@ -78,6 +78,31 @@ fn partition<copy T, copy U>(eithers: [t<T, U>])\n     ret {lefts: lefts, rights: rights};\n }\n \n+/*\n+Function: flip\n+\n+Flips between left and right of a given either\n+*/\n+pure fn flip<copy T, copy U>(eith: t<T, U>) -> t<U, T> {\n+    alt eith {\n+      right(r) { left(r) }\n+      left(l) { right(l) }\n+    }\n+}\n+\n+/*\n+Function: to_result\n+\n+Converts either::t to a result::t, making the \"right\" choice\n+an ok result, and the \"left\" choice a fail\n+*/\n+pure fn to_result<copy T, copy U>(eith: t<T, U>) -> result::t<U, T> {\n+    alt eith {\n+      right(r) { result::ok(r) }\n+      left(l) { result::err(l) }\n+    }\n+}\n+\n //\n // Local Variables:\n // mode: rust"}, {"sha": "84fbc3b7f90e0a6bc16d57dac25dd986d96b6124", "filename": "src/libcore/result.rs", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/1fe4bd0f433553eacf8d81cdbe16ac6fe6f16c54/src%2Flibcore%2Fresult.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1fe4bd0f433553eacf8d81cdbe16ac6fe6f16c54/src%2Flibcore%2Fresult.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fresult.rs?ref=1fe4bd0f433553eacf8d81cdbe16ac6fe6f16c54", "patch": "@@ -42,7 +42,7 @@ fn get<T, U>(res: t<T, U>) -> T {\n       ok(t) { t }\n       err(_) {\n         // FIXME: Serialize the error value\n-        // and include it in the fail message\n+        // and include it in the fail message (maybe just note it)\n         fail \"get called on error result\";\n       }\n     }\n@@ -71,7 +71,7 @@ Function: success\n \n Returns true if the result is <ok>\n */\n-fn success<T, U>(res: t<T, U>) -> bool {\n+pure fn success<T, U>(res: t<T, U>) -> bool {\n     alt res {\n       ok(_) { true }\n       err(_) { false }\n@@ -83,10 +83,17 @@ Function: failure\n \n Returns true if the result is <error>\n */\n-fn failure<T, U>(res: t<T, U>) -> bool {\n+pure fn failure<T, U>(res: t<T, U>) -> bool {\n     !success(res)\n }\n \n+pure fn to_either<copy T, copy U>(res: t<U, T>) -> either::t<T, U> {\n+    alt res {\n+      ok(res) { either::right(res) }\n+      err(fail_) { either::left(fail_) }\n+    }\n+}\n+\n /*\n Function: chain\n "}]}