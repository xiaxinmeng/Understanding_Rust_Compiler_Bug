{"sha": "8049e6199bad86d3148c94463216cc745db2d796", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgwNDllNjE5OWJhZDg2ZDMxNDhjOTQ0NjMyMTZjYzc0NWRiMmQ3OTY=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2019-06-08T08:35:30Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2019-06-08T20:55:24Z"}, "message": "Remove unused `#![feature(custom_attribute)]`s", "tree": {"sha": "8982111f807abfd91195ca60a2446e413030557e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8982111f807abfd91195ca60a2446e413030557e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8049e6199bad86d3148c94463216cc745db2d796", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8049e6199bad86d3148c94463216cc745db2d796", "html_url": "https://github.com/rust-lang/rust/commit/8049e6199bad86d3148c94463216cc745db2d796", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8049e6199bad86d3148c94463216cc745db2d796/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5c6f6b810c1d5850814a3c5960c4dfe2aee77d0d", "url": "https://api.github.com/repos/rust-lang/rust/commits/5c6f6b810c1d5850814a3c5960c4dfe2aee77d0d", "html_url": "https://github.com/rust-lang/rust/commit/5c6f6b810c1d5850814a3c5960c4dfe2aee77d0d"}], "stats": {"total": 23, "additions": 4, "deletions": 19}, "files": [{"sha": "030f4f1d12cc824a734b17a32e384ed9ad742efb", "filename": "src/libcore/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibcore%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibcore%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Flib.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -75,7 +75,6 @@\n #![feature(concat_idents)]\n #![feature(const_fn)]\n #![feature(const_fn_union)]\n-#![feature(custom_attribute)]\n #![feature(doc_cfg)]\n #![feature(doc_spotlight)]\n #![feature(extern_types)]"}, {"sha": "8391f02fc69ec07bcf3a62d7f779ad40504de64f", "filename": "src/librustc_codegen_llvm/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibrustc_codegen_llvm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibrustc_codegen_llvm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Flib.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -10,7 +10,6 @@\n #![feature(box_syntax)]\n #![feature(const_cstr_unchecked)]\n #![feature(crate_visibility_modifier)]\n-#![feature(custom_attribute)]\n #![feature(extern_types)]\n #![feature(in_band_lifetimes)]\n #![allow(unused_attributes)]"}, {"sha": "97de0d823b32229833ee340e465ea930433f4b40", "filename": "src/librustc_codegen_ssa/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibrustc_codegen_ssa%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibrustc_codegen_ssa%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_ssa%2Flib.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -3,7 +3,6 @@\n #![feature(box_patterns)]\n #![feature(box_syntax)]\n #![feature(core_intrinsics)]\n-#![feature(custom_attribute)]\n #![feature(libc)]\n #![feature(rustc_diagnostic_macros)]\n #![feature(stmt_expr_attributes)]"}, {"sha": "38d1719e7763ea46d116681878e9733c1b2321f9", "filename": "src/librustc_codegen_utils/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibrustc_codegen_utils%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibrustc_codegen_utils%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_utils%2Flib.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -8,7 +8,6 @@\n #![feature(box_patterns)]\n #![feature(box_syntax)]\n #![feature(core_intrinsics)]\n-#![feature(custom_attribute)]\n #![feature(never_type)]\n #![feature(nll)]\n #![allow(unused_attributes)]"}, {"sha": "cc3180c783bdf9c22296cbed3b7181fc36c076a0", "filename": "src/librustc_errors/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibrustc_errors%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibrustc_errors%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Flib.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -1,6 +1,5 @@\n #![doc(html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n \n-#![feature(custom_attribute)]\n #![allow(unused_attributes)]\n #![cfg_attr(unix, feature(libc))]\n #![feature(nll)]"}, {"sha": "a695a90f2ae640a93347aa6f1ba66fcbe4a1ea3f", "filename": "src/librustc_save_analysis/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibrustc_save_analysis%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibrustc_save_analysis%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_save_analysis%2Flib.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -1,5 +1,4 @@\n #![doc(html_root_url = \"https://doc.rust-lang.org/nightly/\")]\n-#![feature(custom_attribute)]\n #![feature(nll)]\n #![deny(rust_2018_idioms)]\n #![deny(internal)]"}, {"sha": "8f5595968a73820e40145664052838dd00e105a7", "filename": "src/libsyntax_pos/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibsyntax_pos%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibsyntax_pos%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2Flib.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -11,7 +11,6 @@\n \n #![feature(const_fn)]\n #![feature(crate_visibility_modifier)]\n-#![feature(custom_attribute)]\n #![feature(nll)]\n #![feature(non_exhaustive)]\n #![feature(optin_builtin_traits)]"}, {"sha": "3b5ac7baf20bd29b3c0d6213ee86045d4b9fa3cb", "filename": "src/libterm/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibterm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Flibterm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibterm%2Flib.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -38,9 +38,6 @@\n #![deny(rust_2018_idioms)]\n \n #![cfg_attr(windows, feature(libc))]\n-// Handle rustfmt skips\n-#![feature(custom_attribute)]\n-#![allow(unused_attributes)]\n \n use std::io::prelude::*;\n use std::io::{self, Stdout, Stderr};"}, {"sha": "361f8a1d3406ec142914ba2ccb147bf736938361", "filename": "src/test/run-pass/check-static-recursion-foreign.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Frun-pass%2Fcheck-static-recursion-foreign.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Frun-pass%2Fcheck-static-recursion-foreign.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fcheck-static-recursion-foreign.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -6,7 +6,7 @@\n \n // pretty-expanded FIXME #23616\n \n-#![feature(custom_attribute, rustc_private)]\n+#![feature(rustc_private)]\n \n extern crate check_static_recursion_foreign_helper;\n extern crate libc;"}, {"sha": "d382e8b719713dacd439b9e95abeb3a4b492b5dd", "filename": "src/test/run-pass/macros/macro-attributes.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Frun-pass%2Fmacros%2Fmacro-attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Frun-pass%2Fmacros%2Fmacro-attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmacros%2Fmacro-attributes.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -1,5 +1,4 @@\n // run-pass\n-#![feature(custom_attribute)]\n \n macro_rules! compiles_fine {\n     (#[$at:meta]) => {"}, {"sha": "c301492b9e21a52bae33c540475f00f0aba2921f", "filename": "src/test/ui/attr-eq-token-tree.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Fui%2Fattr-eq-token-tree.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Fui%2Fattr-eq-token-tree.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fattr-eq-token-tree.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -1,4 +1,2 @@\n-#![feature(custom_attribute)]\n-\n #[my_attr = !] //~ ERROR unexpected token: `!`\n fn main() {}"}, {"sha": "bb37c2e0cc4734b1d499bbc4416a2e5cc9a1365d", "filename": "src/test/ui/attr-eq-token-tree.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Fui%2Fattr-eq-token-tree.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Fui%2Fattr-eq-token-tree.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fattr-eq-token-tree.stderr?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -1,5 +1,5 @@\n error: unexpected token: `!`\n-  --> $DIR/attr-eq-token-tree.rs:3:13\n+  --> $DIR/attr-eq-token-tree.rs:1:13\n    |\n LL | #[my_attr = !]\n    |             ^"}, {"sha": "2434921390245d13248e18dea565fc31ab5bc82f", "filename": "src/test/ui/custom-attribute-multisegment.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Fui%2Fcustom-attribute-multisegment.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Fui%2Fcustom-attribute-multisegment.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcustom-attribute-multisegment.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -1,7 +1,5 @@\n // Unresolved multi-segment attributes are not treated as custom.\n \n-#![feature(custom_attribute)]\n-\n mod existent {}\n \n #[existent::nonexistent] //~ ERROR failed to resolve: could not find `nonexistent` in `existent`"}, {"sha": "57eca211ed10eb5e34f04338c24259c79fd4d40e", "filename": "src/test/ui/custom-attribute-multisegment.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Fui%2Fcustom-attribute-multisegment.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Fui%2Fcustom-attribute-multisegment.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcustom-attribute-multisegment.stderr?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -1,5 +1,5 @@\n error[E0433]: failed to resolve: could not find `nonexistent` in `existent`\n-  --> $DIR/custom-attribute-multisegment.rs:7:13\n+  --> $DIR/custom-attribute-multisegment.rs:5:13\n    |\n LL | #[existent::nonexistent]\n    |             ^^^^^^^^^^^ could not find `nonexistent` in `existent`"}, {"sha": "c98fd7ffea8bee3c461dbe87915a956a257b5724", "filename": "src/test/ui/expanded-cfg.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Fui%2Fexpanded-cfg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8049e6199bad86d3148c94463216cc745db2d796/src%2Ftest%2Fui%2Fexpanded-cfg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fexpanded-cfg.rs?ref=8049e6199bad86d3148c94463216cc745db2d796", "patch": "@@ -1,6 +1,6 @@\n // skip-codegen\n // compile-pass\n-#![feature(custom_attribute)]\n+\n macro_rules! mac {\n     {} => {\n         #[cfg(attr)]"}]}