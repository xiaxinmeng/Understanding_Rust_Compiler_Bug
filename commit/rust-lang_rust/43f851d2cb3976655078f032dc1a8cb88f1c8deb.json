{"sha": "43f851d2cb3976655078f032dc1a8cb88f1c8deb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQzZjg1MWQyY2IzOTc2NjU1MDc4ZjAzMmRjMWE4Y2I4OGYxYzhkZWI=", "commit": {"author": {"name": "Corey Richardson", "email": "corey@octayn.net", "date": "2013-08-12T18:15:05Z"}, "committer": {"name": "Corey Richardson", "email": "corey@octayn.net", "date": "2013-08-28T12:16:21Z"}, "message": "Teach the makefile to use multiple src-base's", "tree": {"sha": "c8183618e16d0225893bb0f2d8e5f89f6b464fd1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c8183618e16d0225893bb0f2d8e5f89f6b464fd1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/43f851d2cb3976655078f032dc1a8cb88f1c8deb", "comment_count": 13, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/43f851d2cb3976655078f032dc1a8cb88f1c8deb", "html_url": "https://github.com/rust-lang/rust/commit/43f851d2cb3976655078f032dc1a8cb88f1c8deb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/43f851d2cb3976655078f032dc1a8cb88f1c8deb/comments", "author": {"login": "emberian", "id": 704250, "node_id": "MDQ6VXNlcjcwNDI1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emberian", "html_url": "https://github.com/emberian", "followers_url": "https://api.github.com/users/emberian/followers", "following_url": "https://api.github.com/users/emberian/following{/other_user}", "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}", "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emberian/subscriptions", "organizations_url": "https://api.github.com/users/emberian/orgs", "repos_url": "https://api.github.com/users/emberian/repos", "events_url": "https://api.github.com/users/emberian/events{/privacy}", "received_events_url": "https://api.github.com/users/emberian/received_events", "type": "User", "site_admin": false}, "committer": {"login": "emberian", "id": 704250, "node_id": "MDQ6VXNlcjcwNDI1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emberian", "html_url": "https://github.com/emberian", "followers_url": "https://api.github.com/users/emberian/followers", "following_url": "https://api.github.com/users/emberian/following{/other_user}", "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}", "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emberian/subscriptions", "organizations_url": "https://api.github.com/users/emberian/orgs", "repos_url": "https://api.github.com/users/emberian/repos", "events_url": "https://api.github.com/users/emberian/events{/privacy}", "received_events_url": "https://api.github.com/users/emberian/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8a07f5708196dd72ec030018c2a215a4dd823b2e", "url": "https://api.github.com/repos/rust-lang/rust/commits/8a07f5708196dd72ec030018c2a215a4dd823b2e", "html_url": "https://github.com/rust-lang/rust/commit/8a07f5708196dd72ec030018c2a215a4dd823b2e"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "37ce99f4e6e8ca4ffc612cddb9e2df332384453c", "filename": "mk/tests.mk", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/43f851d2cb3976655078f032dc1a8cb88f1c8deb/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/43f851d2cb3976655078f032dc1a8cb88f1c8deb/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=43f851d2cb3976655078f032dc1a8cb88f1c8deb", "patch": "@@ -516,7 +516,7 @@ CTEST_BUILD_BASE_cfail = compile-fail\n CTEST_MODE_cfail = compile-fail\n CTEST_RUNTOOL_cfail = $(CTEST_RUNTOOL)\n \n-CTEST_SRC_BASE_bench = bench\n+CTEST_SRC_BASE_bench = bench bench/rt bench/shootout bench/std\n CTEST_BUILD_BASE_bench = bench\n CTEST_MODE_bench = run-pass\n CTEST_RUNTOOL_bench = $(CTEST_RUNTOOL)\n@@ -610,7 +610,8 @@ define DEF_RUN_COMPILETEST\n \n CTEST_ARGS$(1)-T-$(2)-H-$(3)-$(4) := \\\n         $$(CTEST_COMMON_ARGS$(1)-T-$(2)-H-$(3))\t\\\n-        --src-base $$(S)src/test/$$(CTEST_SRC_BASE_$(4))/ \\\n+        $(foreach base,$$(CTEST_SRC_BASE_$(4)), \\\n+        --src-base $$(S)src/test/$$(base))/ \\\n         --build-base $(3)/test/$$(CTEST_BUILD_BASE_$(4))/ \\\n         --ratchet-metrics $(call TEST_RATCHET_FILE,$(1),$(2),$(3),$(4)) \\\n         --mode $$(CTEST_MODE_$(4)) \\"}, {"sha": "a186714fd703b381cd15bfde670e42bf0353842b", "filename": "src/compiletest/compiletest.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/43f851d2cb3976655078f032dc1a8cb88f1c8deb/src%2Fcompiletest%2Fcompiletest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43f851d2cb3976655078f032dc1a8cb88f1c8deb/src%2Fcompiletest%2Fcompiletest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcompiletest%2Fcompiletest.rs?ref=43f851d2cb3976655078f032dc1a8cb88f1c8deb", "patch": "@@ -105,7 +105,7 @@ pub fn parse_config(args: ~[~str]) -> config {\n     fn opt_path(m: &getopts::Matches, nm: &str) -> Path {\n         Path(getopts::opt_str(m, nm))\n     }\n-    \n+\n     let src_base = getopts::opt_strs(matches, \"src-base\");\n \n     config {"}]}