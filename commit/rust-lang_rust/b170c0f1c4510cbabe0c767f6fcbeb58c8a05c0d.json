{"sha": "b170c0f1c4510cbabe0c767f6fcbeb58c8a05c0d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIxNzBjMGYxYzQ1MTBjYmFiZTBjNzY3ZjZmY2JlYjU4YzhhMDVjMGQ=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2019-06-12T15:50:28Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2019-07-02T16:15:21Z"}, "message": "add a preliminary existential test; not really enough", "tree": {"sha": "6ce75688b8e8c45511d6ba823ed10bab1a75a950", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6ce75688b8e8c45511d6ba823ed10bab1a75a950"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b170c0f1c4510cbabe0c767f6fcbeb58c8a05c0d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b170c0f1c4510cbabe0c767f6fcbeb58c8a05c0d", "html_url": "https://github.com/rust-lang/rust/commit/b170c0f1c4510cbabe0c767f6fcbeb58c8a05c0d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b170c0f1c4510cbabe0c767f6fcbeb58c8a05c0d/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a18c779fa21d0259da8e38ef6022a14310d3ae15", "url": "https://api.github.com/repos/rust-lang/rust/commits/a18c779fa21d0259da8e38ef6022a14310d3ae15", "html_url": "https://github.com/rust-lang/rust/commit/a18c779fa21d0259da8e38ef6022a14310d3ae15"}], "stats": {"total": 29, "additions": 29, "deletions": 0}, "files": [{"sha": "86760dfcbdac8b7ddee16ae24af360bf9538d688", "filename": "src/test/ui/impl-trait/multiple-lifetimes/ordinary-bounds-pick-original-existential.rs", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/b170c0f1c4510cbabe0c767f6fcbeb58c8a05c0d/src%2Ftest%2Fui%2Fimpl-trait%2Fmultiple-lifetimes%2Fordinary-bounds-pick-original-existential.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b170c0f1c4510cbabe0c767f6fcbeb58c8a05c0d/src%2Ftest%2Fui%2Fimpl-trait%2Fmultiple-lifetimes%2Fordinary-bounds-pick-original-existential.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimpl-trait%2Fmultiple-lifetimes%2Fordinary-bounds-pick-original-existential.rs?ref=b170c0f1c4510cbabe0c767f6fcbeb58c8a05c0d", "patch": "@@ -0,0 +1,29 @@\n+// edition:2018\n+// run-pass\n+// revisions: migrate mir\n+//[mir]compile-flags: -Z borrowck=mir\n+\n+trait Trait<'a, 'b> { }\n+impl<T> Trait<'_, '_> for T { }\n+\n+// Here we wind up selecting `'a` and `'b` in the hidden type because\n+// those are the types that appear inth e original values.\n+\n+existential type Foo<'a, 'b>: Trait<'a, 'b>;\n+\n+fn upper_bounds<'a, 'b>(a: &'a u8, b: &'b u8) -> Foo<'a, 'b> {\n+    // In this simple case, you have a hidden type `(&'0 u8, &'1 u8)` and constraints like\n+    //\n+    // ```\n+    // 'a: '0\n+    // 'b: '1\n+    // '0 in ['a, 'b]\n+    // '1 in ['a, 'b]\n+    // ```\n+    //\n+    // We use the fact that `'a: 0'` must hold (combined with the in\n+    // constraint) to determine that `'0 = 'a` must be the answer.\n+    (a, b)\n+}\n+\n+fn main() { }"}]}