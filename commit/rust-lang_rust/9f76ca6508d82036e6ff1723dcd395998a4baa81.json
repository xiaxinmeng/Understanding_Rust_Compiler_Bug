{"sha": "9f76ca6508d82036e6ff1723dcd395998a4baa81", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlmNzZjYTY1MDhkODIwMzZlNmZmMTcyM2RjZDM5NTk5OGE0YmFhODE=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2013-05-04T00:24:44Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2013-05-04T00:25:13Z"}, "message": "rustpkg: Make code actually compile\n\noops.", "tree": {"sha": "4dc8009700e224c7e045ee4a41a58150516cecc0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4dc8009700e224c7e045ee4a41a58150516cecc0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9f76ca6508d82036e6ff1723dcd395998a4baa81", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9f76ca6508d82036e6ff1723dcd395998a4baa81", "html_url": "https://github.com/rust-lang/rust/commit/9f76ca6508d82036e6ff1723dcd395998a4baa81", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9f76ca6508d82036e6ff1723dcd395998a4baa81/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c42f1218a0a7b3a5c84502f9cb4b123d65148f4c", "url": "https://api.github.com/repos/rust-lang/rust/commits/c42f1218a0a7b3a5c84502f9cb4b123d65148f4c", "html_url": "https://github.com/rust-lang/rust/commit/c42f1218a0a7b3a5c84502f9cb4b123d65148f4c"}], "stats": {"total": 7, "additions": 3, "deletions": 4}, "files": [{"sha": "7547f7f763af003635aa22c3b102a5d76e187f8e", "filename": "src/librustc/metadata/filesearch.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9f76ca6508d82036e6ff1723dcd395998a4baa81/src%2Flibrustc%2Fmetadata%2Ffilesearch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f76ca6508d82036e6ff1723dcd395998a4baa81/src%2Flibrustc%2Fmetadata%2Ffilesearch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Ffilesearch.rs?ref=9f76ca6508d82036e6ff1723dcd395998a4baa81", "patch": "@@ -39,9 +39,8 @@ pub fn mk_filesearch(maybe_sysroot: &Option<@Path>,\n         fn sysroot(&self) -> @Path { self.sysroot }\n         fn for_each_lib_search_path(&self, f: &fn(&Path) -> bool) {\n             debug!(\"filesearch: searching additional lib search paths\");\n-            if !self.addl_lib_search_paths.each(f) {\n-                return;\n-            }\n+            // a little weird\n+            self.addl_lib_search_paths.each(f);\n \n             debug!(\"filesearch: searching target lib path\");\n             if !f(&make_target_lib_path(self.sysroot,\n@@ -59,7 +58,7 @@ pub fn mk_filesearch(maybe_sysroot: &Option<@Path>,\n            match get_rustpkg_lib_path() {\n               result::Ok(ref p) => f(p),\n               result::Err(_) => true\n-           }\n+           };\n         }\n         fn get_target_lib_path(&self) -> Path {\n             make_target_lib_path(self.sysroot, self.target_triple)"}]}