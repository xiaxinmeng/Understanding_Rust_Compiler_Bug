{"sha": "ced6f38c99723b5501cd2a65b699a3a8f68dab56", "node_id": "C_kwDOAAsO6NoAKGNlZDZmMzhjOTk3MjNiNTUwMWNkMmE2NWI2OTlhM2E4ZjY4ZGFiNTY", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-12-20T13:37:33Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-12-20T13:37:33Z"}, "message": "Rollup merge of #105938 - andersk:coerce_unsized-tracking, r=Dylan-DPC\n\nUpdate coerce_unsized tracking issue from #27732 to #18598\n\nIssue #27732 was closed as a duplicate of #18598.", "tree": {"sha": "545d555b05e939d144aaa507fdacbbac16ff9dbb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/545d555b05e939d144aaa507fdacbbac16ff9dbb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ced6f38c99723b5501cd2a65b699a3a8f68dab56", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjobqdCRBK7hj4Ov3rIwAAwxkIADHaV8n9H/n0OtVVEk1tax9Q\nxwBMGYcmMIYK2oC7RPupWAmpsHfT/VDyHwOBTqXui2kFOQLfCF7/isdgQF00Wevk\n08IfUW4TAkA0kkvna7nvETWZv/V+69Lp/f5TAFixcjsLzPzWHr2w7UoqxjawDAkL\nF3WR9RtaWOhVOHYmsovTjoED3IthL5U7Lu9LhBNO5RdxFIHSkJDxSMBmNnaS2UCz\nZWa34wGDjR/RHhsfOKpefATZ54OquBEoSj7iI00zZYX09T/N9cZU1KpXT3ibSSKl\nfizX6AjQhhl5ZG/ciy/x2PCkpMakt4yItilPH/Fu70SSWA7oX5cvcW9vk2KYcqg=\n=AY1U\n-----END PGP SIGNATURE-----\n", "payload": "tree 545d555b05e939d144aaa507fdacbbac16ff9dbb\nparent c3af456d6da6bb85dbb8e545f7cab831549325a8\nparent 8c73ce6611e08c09c2ba6344c1fc9168e2daed55\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1671543453 +0100\ncommitter GitHub <noreply@github.com> 1671543453 +0100\n\nRollup merge of #105938 - andersk:coerce_unsized-tracking, r=Dylan-DPC\n\nUpdate coerce_unsized tracking issue from #27732 to #18598\n\nIssue #27732 was closed as a duplicate of #18598.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ced6f38c99723b5501cd2a65b699a3a8f68dab56", "html_url": "https://github.com/rust-lang/rust/commit/ced6f38c99723b5501cd2a65b699a3a8f68dab56", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ced6f38c99723b5501cd2a65b699a3a8f68dab56/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c3af456d6da6bb85dbb8e545f7cab831549325a8", "url": "https://api.github.com/repos/rust-lang/rust/commits/c3af456d6da6bb85dbb8e545f7cab831549325a8", "html_url": "https://github.com/rust-lang/rust/commit/c3af456d6da6bb85dbb8e545f7cab831549325a8"}, {"sha": "8c73ce6611e08c09c2ba6344c1fc9168e2daed55", "url": "https://api.github.com/repos/rust-lang/rust/commits/8c73ce6611e08c09c2ba6344c1fc9168e2daed55", "html_url": "https://github.com/rust-lang/rust/commit/8c73ce6611e08c09c2ba6344c1fc9168e2daed55"}], "stats": {"total": 48, "additions": 24, "deletions": 24}, "files": [{"sha": "b154688fb087b94626f87e0a1f7af57d3f507ebb", "filename": "library/alloc/src/boxed.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Falloc%2Fsrc%2Fboxed.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Falloc%2Fsrc%2Fboxed.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fboxed.rs?ref=ced6f38c99723b5501cd2a65b699a3a8f68dab56", "patch": "@@ -2033,7 +2033,7 @@ impl<Args: Tuple, F: Fn<Args> + ?Sized, A: Allocator> Fn<Args> for Box<F, A> {\n     }\n }\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: ?Sized + Unsize<U>, U: ?Sized, A: Allocator> CoerceUnsized<Box<U, A>> for Box<T, A> {}\n \n #[unstable(feature = \"dispatch_from_dyn\", issue = \"none\")]"}, {"sha": "80a5913daa6e032720e832141d4105c6d8311106", "filename": "library/alloc/src/rc.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Falloc%2Fsrc%2Frc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Falloc%2Fsrc%2Frc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Frc.rs?ref=ced6f38c99723b5501cd2a65b699a3a8f68dab56", "patch": "@@ -336,7 +336,7 @@ impl<T: RefUnwindSafe + ?Sized> UnwindSafe for Rc<T> {}\n #[stable(feature = \"rc_ref_unwind_safe\", since = \"1.58.0\")]\n impl<T: RefUnwindSafe + ?Sized> RefUnwindSafe for Rc<T> {}\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<Rc<U>> for Rc<T> {}\n \n #[unstable(feature = \"dispatch_from_dyn\", issue = \"none\")]\n@@ -2190,7 +2190,7 @@ impl<T: ?Sized> !marker::Send for Weak<T> {}\n #[stable(feature = \"rc_weak\", since = \"1.4.0\")]\n impl<T: ?Sized> !marker::Sync for Weak<T> {}\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<Weak<U>> for Weak<T> {}\n \n #[unstable(feature = \"dispatch_from_dyn\", issue = \"none\")]"}, {"sha": "ddcd863aa3e338352b8d0a5ff9956e42cdfb0b10", "filename": "library/alloc/src/sync.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Falloc%2Fsrc%2Fsync.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Falloc%2Fsrc%2Fsync.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fsync.rs?ref=ced6f38c99723b5501cd2a65b699a3a8f68dab56", "patch": "@@ -254,7 +254,7 @@ unsafe impl<T: ?Sized + Sync + Send> Sync for Arc<T> {}\n #[stable(feature = \"catch_unwind\", since = \"1.9.0\")]\n impl<T: RefUnwindSafe + ?Sized> UnwindSafe for Arc<T> {}\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<Arc<U>> for Arc<T> {}\n \n #[unstable(feature = \"dispatch_from_dyn\", issue = \"none\")]\n@@ -306,7 +306,7 @@ unsafe impl<T: ?Sized + Sync + Send> Send for Weak<T> {}\n #[stable(feature = \"arc_weak\", since = \"1.4.0\")]\n unsafe impl<T: ?Sized + Sync + Send> Sync for Weak<T> {}\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<Weak<U>> for Weak<T> {}\n #[unstable(feature = \"dispatch_from_dyn\", issue = \"none\")]\n impl<T: ?Sized + Unsize<U>, U: ?Sized> DispatchFromDyn<Weak<U>> for Weak<T> {}"}, {"sha": "b4e173ce03d8a6b5ca911005712ab8daf4d217da", "filename": "library/core/src/cell.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Fcore%2Fsrc%2Fcell.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Fcore%2Fsrc%2Fcell.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fcell.rs?ref=ced6f38c99723b5501cd2a65b699a3a8f68dab56", "patch": "@@ -568,7 +568,7 @@ impl<T: Default> Cell<T> {\n     }\n }\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: CoerceUnsized<U>, U> CoerceUnsized<Cell<U>> for Cell<T> {}\n \n impl<T> Cell<[T]> {\n@@ -1266,7 +1266,7 @@ impl<T> const From<T> for RefCell<T> {\n     }\n }\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: CoerceUnsized<U>, U> CoerceUnsized<RefCell<U>> for RefCell<T> {}\n \n struct BorrowRef<'b> {\n@@ -1492,7 +1492,7 @@ impl<'b, T: ?Sized> Ref<'b, T> {\n     }\n }\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<'b, T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<Ref<'b, U>> for Ref<'b, T> {}\n \n #[stable(feature = \"std_guard_impls\", since = \"1.20.0\")]\n@@ -1738,7 +1738,7 @@ impl<T: ?Sized> DerefMut for RefMut<'_, T> {\n     }\n }\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<'b, T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<RefMut<'b, U>> for RefMut<'b, T> {}\n \n #[stable(feature = \"std_guard_impls\", since = \"1.20.0\")]\n@@ -2074,7 +2074,7 @@ impl<T> const From<T> for UnsafeCell<T> {\n     }\n }\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: CoerceUnsized<U>, U> CoerceUnsized<UnsafeCell<U>> for UnsafeCell<T> {}\n \n /// [`UnsafeCell`], but [`Sync`].\n@@ -2164,7 +2164,7 @@ impl<T> const From<T> for SyncUnsafeCell<T> {\n     }\n }\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n //#[unstable(feature = \"sync_unsafe_cell\", issue = \"95439\")]\n impl<T: CoerceUnsized<U>, U> CoerceUnsized<SyncUnsafeCell<U>> for SyncUnsafeCell<T> {}\n "}, {"sha": "4b85c1112b94096b8132b7607fc4c05368ff7196", "filename": "library/core/src/marker.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Fcore%2Fsrc%2Fmarker.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Fcore%2Fsrc%2Fmarker.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fmarker.rs?ref=ced6f38c99723b5501cd2a65b699a3a8f68dab56", "patch": "@@ -126,7 +126,7 @@ pub trait Sized {\n /// [`Rc`]: ../../std/rc/struct.Rc.html\n /// [RFC982]: https://github.com/rust-lang/rfcs/blob/master/text/0982-dst-coercion.md\n /// [nomicon-coerce]: ../../nomicon/coercions.html\n-#[unstable(feature = \"unsize\", issue = \"27732\")]\n+#[unstable(feature = \"unsize\", issue = \"18598\")]\n #[lang = \"unsize\"]\n #[cfg_attr(not(bootstrap), rustc_deny_explicit_impl)]\n pub trait Unsize<T: ?Sized> {"}, {"sha": "97d9b750d92f9f3abc04cc742e93031101306092", "filename": "library/core/src/ops/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Fcore%2Fsrc%2Fops%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Fcore%2Fsrc%2Fops%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fops%2Fmod.rs?ref=ced6f38c99723b5501cd2a65b699a3a8f68dab56", "patch": "@@ -201,7 +201,7 @@ pub(crate) use self::try_trait::{ChangeOutputType, NeverShortCircuit};\n #[unstable(feature = \"generator_trait\", issue = \"43122\")]\n pub use self::generator::{Generator, GeneratorState};\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n pub use self::unsize::CoerceUnsized;\n \n #[unstable(feature = \"dispatch_from_dyn\", issue = \"none\")]"}, {"sha": "b51f12580ea4f6e7cf36a49ad27f4f307560095e", "filename": "library/core/src/ops/unsize.rs", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Fcore%2Fsrc%2Fops%2Funsize.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Fcore%2Fsrc%2Fops%2Funsize.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fops%2Funsize.rs?ref=ced6f38c99723b5501cd2a65b699a3a8f68dab56", "patch": "@@ -31,41 +31,41 @@ use crate::marker::Unsize;\n /// [dst-coerce]: https://github.com/rust-lang/rfcs/blob/master/text/0982-dst-coercion.md\n /// [unsize]: crate::marker::Unsize\n /// [nomicon-coerce]: ../../nomicon/coercions.html\n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n #[lang = \"coerce_unsized\"]\n pub trait CoerceUnsized<T: ?Sized> {\n     // Empty.\n }\n \n // &mut T -> &mut U\n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<'a, T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<&'a mut U> for &'a mut T {}\n // &mut T -> &U\n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<'a, 'b: 'a, T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<&'a U> for &'b mut T {}\n // &mut T -> *mut U\n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<'a, T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<*mut U> for &'a mut T {}\n // &mut T -> *const U\n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<'a, T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<*const U> for &'a mut T {}\n \n // &T -> &U\n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<'a, 'b: 'a, T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<&'a U> for &'b T {}\n // &T -> *const U\n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<'a, T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<*const U> for &'a T {}\n \n // *mut T -> *mut U\n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<*mut U> for *mut T {}\n // *mut T -> *const U\n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<*const U> for *mut T {}\n \n // *const T -> *const U\n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<*const U> for *const T {}\n \n /// `DispatchFromDyn` is used in the implementation of object safety checks (specifically allowing"}, {"sha": "af79d4bbd836c027e8037ed1808afd6e762b07d6", "filename": "library/core/src/ptr/non_null.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Fcore%2Fsrc%2Fptr%2Fnon_null.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ced6f38c99723b5501cd2a65b699a3a8f68dab56/library%2Fcore%2Fsrc%2Fptr%2Fnon_null.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fptr%2Fnon_null.rs?ref=ced6f38c99723b5501cd2a65b699a3a8f68dab56", "patch": "@@ -712,7 +712,7 @@ impl<T: ?Sized> const Clone for NonNull<T> {\n #[stable(feature = \"nonnull\", since = \"1.25.0\")]\n impl<T: ?Sized> Copy for NonNull<T> {}\n \n-#[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n+#[unstable(feature = \"coerce_unsized\", issue = \"18598\")]\n impl<T: ?Sized, U: ?Sized> CoerceUnsized<NonNull<U>> for NonNull<T> where T: Unsize<U> {}\n \n #[unstable(feature = \"dispatch_from_dyn\", issue = \"none\")]"}]}