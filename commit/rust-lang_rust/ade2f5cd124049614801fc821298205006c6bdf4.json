{"sha": "ade2f5cd124049614801fc821298205006c6bdf4", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFkZTJmNWNkMTI0MDQ5NjE0ODAxZmM4MjEyOTgyMDUwMDZjNmJkZjQ=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-12-18T18:26:47Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-12-18T18:26:47Z"}, "message": "Reduce test verbosity", "tree": {"sha": "f0ce5fc87361263a4d4703b6ee418518bd0aa212", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f0ce5fc87361263a4d4703b6ee418518bd0aa212"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ade2f5cd124049614801fc821298205006c6bdf4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ade2f5cd124049614801fc821298205006c6bdf4", "html_url": "https://github.com/rust-lang/rust/commit/ade2f5cd124049614801fc821298205006c6bdf4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ade2f5cd124049614801fc821298205006c6bdf4/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0e3581e8232461baa50191a2c7474a117b649b1b", "url": "https://api.github.com/repos/rust-lang/rust/commits/0e3581e8232461baa50191a2c7474a117b649b1b", "html_url": "https://github.com/rust-lang/rust/commit/0e3581e8232461baa50191a2c7474a117b649b1b"}], "stats": {"total": 766, "additions": 169, "deletions": 597}, "files": [{"sha": "cbdd4ecc2a89a265fea9f3b08c3d913c47c60b29", "filename": "crates/ide/src/display/navigation_target.rs", "status": "modified", "additions": 28, "deletions": 25, "changes": 53, "blob_url": "https://github.com/rust-lang/rust/blob/ade2f5cd124049614801fc821298205006c6bdf4/crates%2Fide%2Fsrc%2Fdisplay%2Fnavigation_target.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ade2f5cd124049614801fc821298205006c6bdf4/crates%2Fide%2Fsrc%2Fdisplay%2Fnavigation_target.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fdisplay%2Fnavigation_target.rs?ref=ade2f5cd124049614801fc821298205006c6bdf4", "patch": "@@ -1,5 +1,7 @@\n //! FIXME: write short doc here\n \n+use std::fmt;\n+\n use either::Either;\n use hir::{AssocItem, Documentation, FieldSource, HasAttrs, HasSource, InFile, ModuleSource};\n use ide_db::{\n@@ -42,7 +44,7 @@ pub enum SymbolKind {\n ///\n /// Typically, a `NavigationTarget` corresponds to some element in the source\n /// code, like a function or a struct, but this is not strictly required.\n-#[derive(Debug, Clone, PartialEq, Eq, Hash)]\n+#[derive(Clone, PartialEq, Eq, Hash)]\n pub struct NavigationTarget {\n     pub file_id: FileId,\n     /// Range which encompasses the whole element.\n@@ -68,6 +70,24 @@ pub struct NavigationTarget {\n     pub docs: Option<Documentation>,\n }\n \n+impl fmt::Debug for NavigationTarget {\n+    fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\n+        let mut f = f.debug_struct(\"NavigationTarget\");\n+        macro_rules! opt {\n+            ($($name:ident)*) => {$(\n+                if let Some(it) = &self.$name {\n+                    f.field(stringify!($name), it);\n+                }\n+            )*}\n+        }\n+        f.field(\"file_id\", &self.file_id).field(\"full_range\", &self.full_range);\n+        opt!(focus_range);\n+        f.field(\"name\", &self.name);\n+        opt!(kind container_name description docs);\n+        f.finish()\n+    }\n+}\n+\n pub(crate) trait ToNav {\n     fn to_nav(&self, db: &RootDatabase) -> NavigationTarget;\n }\n@@ -487,38 +507,21 @@ fn foo() { enum FooInner { } }\n                         0,\n                     ),\n                     full_range: 0..17,\n-                    focus_range: Some(\n-                        5..13,\n-                    ),\n+                    focus_range: 5..13,\n                     name: \"FooInner\",\n-                    kind: Some(\n-                        Enum,\n-                    ),\n-                    container_name: None,\n-                    description: Some(\n-                        \"enum FooInner\",\n-                    ),\n-                    docs: None,\n+                    kind: Enum,\n+                    description: \"enum FooInner\",\n                 },\n                 NavigationTarget {\n                     file_id: FileId(\n                         0,\n                     ),\n                     full_range: 29..46,\n-                    focus_range: Some(\n-                        34..42,\n-                    ),\n+                    focus_range: 34..42,\n                     name: \"FooInner\",\n-                    kind: Some(\n-                        Enum,\n-                    ),\n-                    container_name: Some(\n-                        \"foo\",\n-                    ),\n-                    description: Some(\n-                        \"enum FooInner\",\n-                    ),\n-                    docs: None,\n+                    kind: Enum,\n+                    container_name: \"foo\",\n+                    description: \"enum FooInner\",\n                 },\n             ]\n         \"#]]"}, {"sha": "b06fa5f1557598468a482a921a33bec4d803d2d9", "filename": "crates/ide/src/hover.rs", "status": "modified", "additions": 109, "deletions": 403, "changes": 512, "blob_url": "https://github.com/rust-lang/rust/blob/ade2f5cd124049614801fc821298205006c6bdf4/crates%2Fide%2Fsrc%2Fhover.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ade2f5cd124049614801fc821298205006c6bdf4/crates%2Fide%2Fsrc%2Fhover.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fhover.rs?ref=ade2f5cd124049614801fc821298205006c6bdf4", "patch": "@@ -2187,16 +2187,9 @@ fn foo_<|>test() {}\n                                     0,\n                                 ),\n                                 full_range: 0..24,\n-                                focus_range: Some(\n-                                    11..19,\n-                                ),\n+                                focus_range: 11..19,\n                                 name: \"foo_test\",\n-                                kind: Some(\n-                                    Function,\n-                                ),\n-                                container_name: None,\n-                                description: None,\n-                                docs: None,\n+                                kind: Function,\n                             },\n                             kind: Test {\n                                 test_id: Path(\n@@ -2232,16 +2225,9 @@ mod tests<|> {\n                                     0,\n                                 ),\n                                 full_range: 0..46,\n-                                focus_range: Some(\n-                                    4..9,\n-                                ),\n+                                focus_range: 4..9,\n                                 name: \"tests\",\n-                                kind: Some(\n-                                    Module,\n-                                ),\n-                                container_name: None,\n-                                description: None,\n-                                docs: None,\n+                                kind: Module,\n                             },\n                             kind: TestMod {\n                                 path: \"tests\",\n@@ -2273,18 +2259,10 @@ fn main() { let s<|>t = S{ f1:0 }; }\n                                         0,\n                                     ),\n                                     full_range: 0..19,\n-                                    focus_range: Some(\n-                                        7..8,\n-                                    ),\n+                                    focus_range: 7..8,\n                                     name: \"S\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct S\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct S\",\n                                 },\n                             },\n                         ],\n@@ -2314,18 +2292,10 @@ fn main() { let s<|>t = S{ f1:Arg(0) }; }\n                                         0,\n                                     ),\n                                     full_range: 17..37,\n-                                    focus_range: Some(\n-                                        24..25,\n-                                    ),\n+                                    focus_range: 24..25,\n                                     name: \"S\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct S\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct S\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2335,18 +2305,10 @@ fn main() { let s<|>t = S{ f1:Arg(0) }; }\n                                         0,\n                                     ),\n                                     full_range: 0..16,\n-                                    focus_range: Some(\n-                                        7..10,\n-                                    ),\n+                                    focus_range: 7..10,\n                                     name: \"Arg\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct Arg\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct Arg\",\n                                 },\n                             },\n                         ],\n@@ -2376,18 +2338,10 @@ fn main() { let s<|>t = S{ f1: S{ f1: Arg(0) } }; }\n                                         0,\n                                     ),\n                                     full_range: 17..37,\n-                                    focus_range: Some(\n-                                        24..25,\n-                                    ),\n+                                    focus_range: 24..25,\n                                     name: \"S\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct S\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct S\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2397,18 +2351,10 @@ fn main() { let s<|>t = S{ f1: S{ f1: Arg(0) } }; }\n                                         0,\n                                     ),\n                                     full_range: 0..16,\n-                                    focus_range: Some(\n-                                        7..10,\n-                                    ),\n+                                    focus_range: 7..10,\n                                     name: \"Arg\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct Arg\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct Arg\",\n                                 },\n                             },\n                         ],\n@@ -2441,18 +2387,10 @@ fn main() { let s<|>t = (A(1), B(2), M::C(3) ); }\n                                         0,\n                                     ),\n                                     full_range: 0..14,\n-                                    focus_range: Some(\n-                                        7..8,\n-                                    ),\n+                                    focus_range: 7..8,\n                                     name: \"A\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct A\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct A\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2462,18 +2400,10 @@ fn main() { let s<|>t = (A(1), B(2), M::C(3) ); }\n                                         0,\n                                     ),\n                                     full_range: 15..29,\n-                                    focus_range: Some(\n-                                        22..23,\n-                                    ),\n+                                    focus_range: 22..23,\n                                     name: \"B\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct B\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct B\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2483,18 +2413,10 @@ fn main() { let s<|>t = (A(1), B(2), M::C(3) ); }\n                                         0,\n                                     ),\n                                     full_range: 42..60,\n-                                    focus_range: Some(\n-                                        53..54,\n-                                    ),\n+                                    focus_range: 53..54,\n                                     name: \"C\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"pub struct C\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"pub struct C\",\n                                 },\n                             },\n                         ],\n@@ -2524,18 +2446,10 @@ fn main() { let s<|>t = foo(); }\n                                         0,\n                                     ),\n                                     full_range: 0..12,\n-                                    focus_range: Some(\n-                                        6..9,\n-                                    ),\n+                                    focus_range: 6..9,\n                                     name: \"Foo\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Foo\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Foo\",\n                                 },\n                             },\n                         ],\n@@ -2566,18 +2480,10 @@ fn main() { let s<|>t = foo(); }\n                                         0,\n                                     ),\n                                     full_range: 0..15,\n-                                    focus_range: Some(\n-                                        6..9,\n-                                    ),\n+                                    focus_range: 6..9,\n                                     name: \"Foo\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Foo\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Foo\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2587,18 +2493,10 @@ fn main() { let s<|>t = foo(); }\n                                         0,\n                                     ),\n                                     full_range: 16..25,\n-                                    focus_range: Some(\n-                                        23..24,\n-                                    ),\n+                                    focus_range: 23..24,\n                                     name: \"S\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct S\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct S\",\n                                 },\n                             },\n                         ],\n@@ -2629,18 +2527,10 @@ fn main() { let s<|>t = foo(); }\n                                         0,\n                                     ),\n                                     full_range: 0..12,\n-                                    focus_range: Some(\n-                                        6..9,\n-                                    ),\n+                                    focus_range: 6..9,\n                                     name: \"Foo\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Foo\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Foo\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2650,18 +2540,10 @@ fn main() { let s<|>t = foo(); }\n                                         0,\n                                     ),\n                                     full_range: 13..25,\n-                                    focus_range: Some(\n-                                        19..22,\n-                                    ),\n+                                    focus_range: 19..22,\n                                     name: \"Bar\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Bar\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Bar\",\n                                 },\n                             },\n                         ],\n@@ -2695,18 +2577,10 @@ fn main() { let s<|>t = foo(); }\n                                         0,\n                                     ),\n                                     full_range: 0..15,\n-                                    focus_range: Some(\n-                                        6..9,\n-                                    ),\n+                                    focus_range: 6..9,\n                                     name: \"Foo\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Foo\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Foo\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2716,18 +2590,10 @@ fn main() { let s<|>t = foo(); }\n                                         0,\n                                     ),\n                                     full_range: 16..31,\n-                                    focus_range: Some(\n-                                        22..25,\n-                                    ),\n+                                    focus_range: 22..25,\n                                     name: \"Bar\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Bar\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Bar\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2737,18 +2603,10 @@ fn main() { let s<|>t = foo(); }\n                                         0,\n                                     ),\n                                     full_range: 32..44,\n-                                    focus_range: Some(\n-                                        39..41,\n-                                    ),\n+                                    focus_range: 39..41,\n                                     name: \"S1\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct S1\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct S1\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2758,18 +2616,10 @@ fn main() { let s<|>t = foo(); }\n                                         0,\n                                     ),\n                                     full_range: 45..57,\n-                                    focus_range: Some(\n-                                        52..54,\n-                                    ),\n+                                    focus_range: 52..54,\n                                     name: \"S2\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct S2\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct S2\",\n                                 },\n                             },\n                         ],\n@@ -2797,18 +2647,10 @@ fn foo(ar<|>g: &impl Foo) {}\n                                         0,\n                                     ),\n                                     full_range: 0..12,\n-                                    focus_range: Some(\n-                                        6..9,\n-                                    ),\n+                                    focus_range: 6..9,\n                                     name: \"Foo\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Foo\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Foo\",\n                                 },\n                             },\n                         ],\n@@ -2839,18 +2681,10 @@ fn foo(ar<|>g: &impl Foo + Bar<S>) {}\n                                         0,\n                                     ),\n                                     full_range: 0..12,\n-                                    focus_range: Some(\n-                                        6..9,\n-                                    ),\n+                                    focus_range: 6..9,\n                                     name: \"Foo\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Foo\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Foo\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2860,18 +2694,10 @@ fn foo(ar<|>g: &impl Foo + Bar<S>) {}\n                                         0,\n                                     ),\n                                     full_range: 13..28,\n-                                    focus_range: Some(\n-                                        19..22,\n-                                    ),\n+                                    focus_range: 19..22,\n                                     name: \"Bar\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Bar\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Bar\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2881,18 +2707,10 @@ fn foo(ar<|>g: &impl Foo + Bar<S>) {}\n                                         0,\n                                     ),\n                                     full_range: 29..39,\n-                                    focus_range: Some(\n-                                        36..37,\n-                                    ),\n+                                    focus_range: 36..37,\n                                     name: \"S\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct S\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct S\",\n                                 },\n                             },\n                         ],\n@@ -2928,18 +2746,10 @@ mod future {\n                                         0,\n                                     ),\n                                     full_range: 101..163,\n-                                    focus_range: Some(\n-                                        140..146,\n-                                    ),\n+                                    focus_range: 140..146,\n                                     name: \"Future\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"pub trait Future\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"pub trait Future\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -2949,18 +2759,10 @@ mod future {\n                                         0,\n                                     ),\n                                     full_range: 0..9,\n-                                    focus_range: Some(\n-                                        7..8,\n-                                    ),\n+                                    focus_range: 7..8,\n                                     name: \"S\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct S\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct S\",\n                                 },\n                             },\n                         ],\n@@ -2989,18 +2791,10 @@ fn foo(ar<|>g: &impl Foo<S>) {}\n                                         0,\n                                     ),\n                                     full_range: 0..15,\n-                                    focus_range: Some(\n-                                        6..9,\n-                                    ),\n+                                    focus_range: 6..9,\n                                     name: \"Foo\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Foo\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Foo\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -3010,18 +2804,10 @@ fn foo(ar<|>g: &impl Foo<S>) {}\n                                         0,\n                                     ),\n                                     full_range: 16..27,\n-                                    focus_range: Some(\n-                                        23..24,\n-                                    ),\n+                                    focus_range: 23..24,\n                                     name: \"S\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct S\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct S\",\n                                 },\n                             },\n                         ],\n@@ -3055,18 +2841,10 @@ fn main() { let s<|>t = foo(); }\n                                         0,\n                                     ),\n                                     full_range: 42..55,\n-                                    focus_range: Some(\n-                                        49..50,\n-                                    ),\n+                                    focus_range: 49..50,\n                                     name: \"B\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct B\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct B\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -3076,18 +2854,10 @@ fn main() { let s<|>t = foo(); }\n                                         0,\n                                     ),\n                                     full_range: 0..12,\n-                                    focus_range: Some(\n-                                        6..9,\n-                                    ),\n+                                    focus_range: 6..9,\n                                     name: \"Foo\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Foo\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Foo\",\n                                 },\n                             },\n                         ],\n@@ -3115,18 +2885,10 @@ fn foo(ar<|>g: &dyn Foo) {}\n                                         0,\n                                     ),\n                                     full_range: 0..12,\n-                                    focus_range: Some(\n-                                        6..9,\n-                                    ),\n+                                    focus_range: 6..9,\n                                     name: \"Foo\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Foo\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Foo\",\n                                 },\n                             },\n                         ],\n@@ -3155,18 +2917,10 @@ fn foo(ar<|>g: &dyn Foo<S>) {}\n                                         0,\n                                     ),\n                                     full_range: 0..15,\n-                                    focus_range: Some(\n-                                        6..9,\n-                                    ),\n+                                    focus_range: 6..9,\n                                     name: \"Foo\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Foo\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Foo\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -3176,18 +2930,10 @@ fn foo(ar<|>g: &dyn Foo<S>) {}\n                                         0,\n                                     ),\n                                     full_range: 16..27,\n-                                    focus_range: Some(\n-                                        23..24,\n-                                    ),\n+                                    focus_range: 23..24,\n                                     name: \"S\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct S\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct S\",\n                                 },\n                             },\n                         ],\n@@ -3219,18 +2965,10 @@ fn foo(a<|>rg: &impl ImplTrait<B<dyn DynTrait<B<S>>>>) {}\n                                         0,\n                                     ),\n                                     full_range: 0..21,\n-                                    focus_range: Some(\n-                                        6..15,\n-                                    ),\n+                                    focus_range: 6..15,\n                                     name: \"ImplTrait\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait ImplTrait\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait ImplTrait\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -3240,18 +2978,10 @@ fn foo(a<|>rg: &impl ImplTrait<B<dyn DynTrait<B<S>>>>) {}\n                                         0,\n                                     ),\n                                     full_range: 43..57,\n-                                    focus_range: Some(\n-                                        50..51,\n-                                    ),\n+                                    focus_range: 50..51,\n                                     name: \"B\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct B\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct B\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -3261,18 +2991,10 @@ fn foo(a<|>rg: &impl ImplTrait<B<dyn DynTrait<B<S>>>>) {}\n                                         0,\n                                     ),\n                                     full_range: 22..42,\n-                                    focus_range: Some(\n-                                        28..36,\n-                                    ),\n+                                    focus_range: 28..36,\n                                     name: \"DynTrait\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait DynTrait\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait DynTrait\",\n                                 },\n                             },\n                             HoverGotoTypeData {\n@@ -3282,18 +3004,10 @@ fn foo(a<|>rg: &impl ImplTrait<B<dyn DynTrait<B<S>>>>) {}\n                                         0,\n                                     ),\n                                     full_range: 58..69,\n-                                    focus_range: Some(\n-                                        65..66,\n-                                    ),\n+                                    focus_range: 65..66,\n                                     name: \"S\",\n-                                    kind: Some(\n-                                        Struct,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"struct S\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Struct,\n+                                    description: \"struct S\",\n                                 },\n                             },\n                         ],\n@@ -3332,18 +3046,10 @@ fn main() { let s<|>t = test().get(); }\n                                         0,\n                                     ),\n                                     full_range: 0..62,\n-                                    focus_range: Some(\n-                                        6..9,\n-                                    ),\n+                                    focus_range: 6..9,\n                                     name: \"Foo\",\n-                                    kind: Some(\n-                                        Trait,\n-                                    ),\n-                                    container_name: None,\n-                                    description: Some(\n-                                        \"trait Foo\",\n-                                    ),\n-                                    docs: None,\n+                                    kind: Trait,\n+                                    description: \"trait Foo\",\n                                 },\n                             },\n                         ],"}, {"sha": "ff386be80495178b5951aac4e1c30aaae6f34b1b", "filename": "crates/ide/src/runnables.rs", "status": "modified", "additions": 32, "deletions": 169, "changes": 201, "blob_url": "https://github.com/rust-lang/rust/blob/ade2f5cd124049614801fc821298205006c6bdf4/crates%2Fide%2Fsrc%2Frunnables.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ade2f5cd124049614801fc821298205006c6bdf4/crates%2Fide%2Fsrc%2Frunnables.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Frunnables.rs?ref=ade2f5cd124049614801fc821298205006c6bdf4", "patch": "@@ -352,16 +352,9 @@ fn bench() {}\n                                 0,\n                             ),\n                             full_range: 1..13,\n-                            focus_range: Some(\n-                                4..8,\n-                            ),\n+                            focus_range: 4..8,\n                             name: \"main\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Bin,\n                         cfg: None,\n@@ -372,16 +365,9 @@ fn bench() {}\n                                 0,\n                             ),\n                             full_range: 15..39,\n-                            focus_range: Some(\n-                                26..34,\n-                            ),\n+                            focus_range: 26..34,\n                             name: \"test_foo\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Test {\n                             test_id: Path(\n@@ -399,16 +385,9 @@ fn bench() {}\n                                 0,\n                             ),\n                             full_range: 41..75,\n-                            focus_range: Some(\n-                                62..70,\n-                            ),\n+                            focus_range: 62..70,\n                             name: \"test_foo\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Test {\n                             test_id: Path(\n@@ -426,16 +405,9 @@ fn bench() {}\n                                 0,\n                             ),\n                             full_range: 77..99,\n-                            focus_range: Some(\n-                                89..94,\n-                            ),\n+                            focus_range: 89..94,\n                             name: \"bench\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Bench {\n                             test_id: Path(\n@@ -525,16 +497,9 @@ struct StructWithRunnable(String);\n                                 0,\n                             ),\n                             full_range: 1..13,\n-                            focus_range: Some(\n-                                4..8,\n-                            ),\n+                            focus_range: 4..8,\n                             name: \"main\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Bin,\n                         cfg: None,\n@@ -545,12 +510,7 @@ struct StructWithRunnable(String);\n                                 0,\n                             ),\n                             full_range: 15..74,\n-                            focus_range: None,\n                             name: \"should_have_runnable\",\n-                            kind: None,\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n                         },\n                         kind: DocTest {\n                             test_id: Path(\n@@ -565,12 +525,7 @@ struct StructWithRunnable(String);\n                                 0,\n                             ),\n                             full_range: 76..148,\n-                            focus_range: None,\n                             name: \"should_have_runnable_1\",\n-                            kind: None,\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n                         },\n                         kind: DocTest {\n                             test_id: Path(\n@@ -585,12 +540,7 @@ struct StructWithRunnable(String);\n                                 0,\n                             ),\n                             full_range: 150..254,\n-                            focus_range: None,\n                             name: \"should_have_runnable_2\",\n-                            kind: None,\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n                         },\n                         kind: DocTest {\n                             test_id: Path(\n@@ -605,12 +555,7 @@ struct StructWithRunnable(String);\n                                 0,\n                             ),\n                             full_range: 756..821,\n-                            focus_range: None,\n                             name: \"StructWithRunnable\",\n-                            kind: None,\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n                         },\n                         kind: DocTest {\n                             test_id: Path(\n@@ -649,16 +594,9 @@ impl Data {\n                                 0,\n                             ),\n                             full_range: 1..13,\n-                            focus_range: Some(\n-                                4..8,\n-                            ),\n+                            focus_range: 4..8,\n                             name: \"main\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Bin,\n                         cfg: None,\n@@ -669,12 +607,7 @@ impl Data {\n                                 0,\n                             ),\n                             full_range: 44..98,\n-                            focus_range: None,\n                             name: \"foo\",\n-                            kind: None,\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n                         },\n                         kind: DocTest {\n                             test_id: Path(\n@@ -708,16 +641,9 @@ mod test_mod {\n                                 0,\n                             ),\n                             full_range: 1..51,\n-                            focus_range: Some(\n-                                5..13,\n-                            ),\n+                            focus_range: 5..13,\n                             name: \"test_mod\",\n-                            kind: Some(\n-                                Module,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Module,\n                         },\n                         kind: TestMod {\n                             path: \"test_mod\",\n@@ -730,16 +656,9 @@ mod test_mod {\n                                 0,\n                             ),\n                             full_range: 20..49,\n-                            focus_range: Some(\n-                                35..44,\n-                            ),\n+                            focus_range: 35..44,\n                             name: \"test_foo1\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Test {\n                             test_id: Path(\n@@ -792,16 +711,9 @@ mod root_tests {\n                                 0,\n                             ),\n                             full_range: 22..323,\n-                            focus_range: Some(\n-                                26..40,\n-                            ),\n+                            focus_range: 26..40,\n                             name: \"nested_tests_0\",\n-                            kind: Some(\n-                                Module,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Module,\n                         },\n                         kind: TestMod {\n                             path: \"root_tests::nested_tests_0\",\n@@ -814,16 +726,9 @@ mod root_tests {\n                                 0,\n                             ),\n                             full_range: 51..192,\n-                            focus_range: Some(\n-                                55..69,\n-                            ),\n+                            focus_range: 55..69,\n                             name: \"nested_tests_1\",\n-                            kind: Some(\n-                                Module,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Module,\n                         },\n                         kind: TestMod {\n                             path: \"root_tests::nested_tests_0::nested_tests_1\",\n@@ -836,16 +741,9 @@ mod root_tests {\n                                 0,\n                             ),\n                             full_range: 84..126,\n-                            focus_range: Some(\n-                                107..121,\n-                            ),\n+                            focus_range: 107..121,\n                             name: \"nested_test_11\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Test {\n                             test_id: Path(\n@@ -863,16 +761,9 @@ mod root_tests {\n                                 0,\n                             ),\n                             full_range: 140..182,\n-                            focus_range: Some(\n-                                163..177,\n-                            ),\n+                            focus_range: 163..177,\n                             name: \"nested_test_12\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Test {\n                             test_id: Path(\n@@ -890,16 +781,9 @@ mod root_tests {\n                                 0,\n                             ),\n                             full_range: 202..286,\n-                            focus_range: Some(\n-                                206..220,\n-                            ),\n+                            focus_range: 206..220,\n                             name: \"nested_tests_2\",\n-                            kind: Some(\n-                                Module,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Module,\n                         },\n                         kind: TestMod {\n                             path: \"root_tests::nested_tests_0::nested_tests_2\",\n@@ -912,16 +796,9 @@ mod root_tests {\n                                 0,\n                             ),\n                             full_range: 235..276,\n-                            focus_range: Some(\n-                                258..271,\n-                            ),\n+                            focus_range: 258..271,\n                             name: \"nested_test_2\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Test {\n                             test_id: Path(\n@@ -957,16 +834,9 @@ fn test_foo1() {}\n                                 0,\n                             ),\n                             full_range: 1..50,\n-                            focus_range: Some(\n-                                36..45,\n-                            ),\n+                            focus_range: 36..45,\n                             name: \"test_foo1\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Test {\n                             test_id: Path(\n@@ -1009,16 +879,9 @@ fn test_foo1() {}\n                                 0,\n                             ),\n                             full_range: 1..72,\n-                            focus_range: Some(\n-                                58..67,\n-                            ),\n+                            focus_range: 58..67,\n                             name: \"test_foo1\",\n-                            kind: Some(\n-                                Function,\n-                            ),\n-                            container_name: None,\n-                            description: None,\n-                            docs: None,\n+                            kind: Function,\n                         },\n                         kind: Test {\n                             test_id: Path("}]}