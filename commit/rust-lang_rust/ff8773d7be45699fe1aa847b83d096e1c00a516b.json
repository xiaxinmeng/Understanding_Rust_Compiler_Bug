{"sha": "ff8773d7be45699fe1aa847b83d096e1c00a516b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZmODc3M2Q3YmU0NTY5OWZlMWFhODQ3YjgzZDA5NmUxYzAwYTUxNmI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-10-21T16:32:31Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-10-21T16:32:31Z"}, "message": "Auto merge of #45366 - ollie27:rustbuild_compiler_docs, r=alexcrichton\n\nrustbuild: Don't try to build rustdoc API docs with compiler docs\n\nrustdoc is built separately to rustc now so the docs would need to be\ngenerated separately as well. Also rustdoc doesn't build at stage 1\nwhich prevented the compiler docs being built at stage 1.\n\nFixes: #44629", "tree": {"sha": "c5698ec5891eab051814be16b84bf67763acc5a9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c5698ec5891eab051814be16b84bf67763acc5a9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ff8773d7be45699fe1aa847b83d096e1c00a516b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ff8773d7be45699fe1aa847b83d096e1c00a516b", "html_url": "https://github.com/rust-lang/rust/commit/ff8773d7be45699fe1aa847b83d096e1c00a516b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ff8773d7be45699fe1aa847b83d096e1c00a516b/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7e70546ddbeb8949fcae958d40ead4e4fbcc9d2b", "url": "https://api.github.com/repos/rust-lang/rust/commits/7e70546ddbeb8949fcae958d40ead4e4fbcc9d2b", "html_url": "https://github.com/rust-lang/rust/commit/7e70546ddbeb8949fcae958d40ead4e4fbcc9d2b"}, {"sha": "1652c582d7357660e0e441c50aa9aa3500d0f475", "url": "https://api.github.com/repos/rust-lang/rust/commits/1652c582d7357660e0e441c50aa9aa3500d0f475", "html_url": "https://github.com/rust-lang/rust/commit/1652c582d7357660e0e441c50aa9aa3500d0f475"}], "stats": {"total": 8, "additions": 3, "deletions": 5}, "files": [{"sha": "9d24f35c2943dacd7f1dbe61de0d2a42cd238b3d", "filename": "src/bootstrap/doc.rs", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ff8773d7be45699fe1aa847b83d096e1c00a516b/src%2Fbootstrap%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff8773d7be45699fe1aa847b83d096e1c00a516b/src%2Fbootstrap%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdoc.rs?ref=ff8773d7be45699fe1aa847b83d096e1c00a516b", "patch": "@@ -623,11 +623,9 @@ impl Step for Rustc {\n         compile::rustc_cargo(build, &compiler, target, &mut cargo);\n \n         if build.config.compiler_docs {\n-            // src/rustc/Cargo.toml contains bin crates called rustc and rustdoc\n-            // which would otherwise overwrite the docs for the real rustc and\n-            // rustdoc lib crates.\n-            cargo.arg(\"-p\").arg(\"rustc_driver\")\n-                 .arg(\"-p\").arg(\"rustdoc\");\n+            // src/rustc/Cargo.toml contains a bin crate called rustc which\n+            // would otherwise overwrite the docs for the real rustc lib crate.\n+            cargo.arg(\"-p\").arg(\"rustc_driver\");\n         } else {\n             // Like with libstd above if compiler docs aren't enabled then we're not\n             // documenting internal dependencies, so we have a whitelist."}]}