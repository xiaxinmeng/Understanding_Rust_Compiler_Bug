{"sha": "b58634454f2a6def88f3197261a458e208f77f49", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI1ODYzNDQ1NGYyYTZkZWY4OGYzMTk3MjYxYTQ1OGUyMDhmNzdmNDk=", "commit": {"author": {"name": "Eduard-Mihai Burtescu", "email": "edy.burt@gmail.com", "date": "2019-10-28T18:34:59Z"}, "committer": {"name": "Eduard-Mihai Burtescu", "email": "edy.burt@gmail.com", "date": "2019-10-28T18:34:59Z"}, "message": "proc_macro: don't use Rust ABI fn pointers in a C ABI fn signature.", "tree": {"sha": "3b7d450fee635ed477dcd6a50f1a311adfcc3aeb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3b7d450fee635ed477dcd6a50f1a311adfcc3aeb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b58634454f2a6def88f3197261a458e208f77f49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b58634454f2a6def88f3197261a458e208f77f49", "html_url": "https://github.com/rust-lang/rust/commit/b58634454f2a6def88f3197261a458e208f77f49", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b58634454f2a6def88f3197261a458e208f77f49/comments", "author": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "da5965f3a6bbc984d97027896fad9c4f551426fd", "url": "https://api.github.com/repos/rust-lang/rust/commits/da5965f3a6bbc984d97027896fad9c4f551426fd", "html_url": "https://github.com/rust-lang/rust/commit/da5965f3a6bbc984d97027896fad9c4f551426fd"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "9643dba997aa475213b5a4556f077ce72b1582a9", "filename": "src/libproc_macro/bridge/client.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b58634454f2a6def88f3197261a458e208f77f49/src%2Flibproc_macro%2Fbridge%2Fclient.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b58634454f2a6def88f3197261a458e208f77f49/src%2Flibproc_macro%2Fbridge%2Fclient.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibproc_macro%2Fbridge%2Fclient.rs?ref=b58634454f2a6def88f3197261a458e208f77f49", "patch": "@@ -389,7 +389,7 @@ impl Client<fn(crate::TokenStream) -> crate::TokenStream> {\n     pub const fn expand1(f: fn(crate::TokenStream) -> crate::TokenStream) -> Self {\n         extern \"C\" fn run(\n             bridge: Bridge<'_>,\n-            f: fn(crate::TokenStream) -> crate::TokenStream,\n+            f: impl FnOnce(crate::TokenStream) -> crate::TokenStream,\n         ) -> Buffer<u8> {\n             run_client(bridge, |input| f(crate::TokenStream(input)).0)\n         }\n@@ -407,7 +407,7 @@ impl Client<fn(crate::TokenStream, crate::TokenStream) -> crate::TokenStream> {\n     ) -> Self {\n         extern \"C\" fn run(\n             bridge: Bridge<'_>,\n-            f: fn(crate::TokenStream, crate::TokenStream) -> crate::TokenStream,\n+            f: impl FnOnce(crate::TokenStream, crate::TokenStream) -> crate::TokenStream,\n         ) -> Buffer<u8> {\n             run_client(bridge, |(input, input2)| {\n                 f(crate::TokenStream(input), crate::TokenStream(input2)).0"}]}