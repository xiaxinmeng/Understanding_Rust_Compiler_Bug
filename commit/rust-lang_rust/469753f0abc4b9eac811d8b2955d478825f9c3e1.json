{"sha": "469753f0abc4b9eac811d8b2955d478825f9c3e1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ2OTc1M2YwYWJjNGI5ZWFjODExZDhiMjk1NWQ0Nzg4MjVmOWMzZTE=", "commit": {"author": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-08-24T23:59:18Z"}, "committer": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-08-25T20:41:41Z"}, "message": "Fix fallout in tests.", "tree": {"sha": "cb92e6135b78c9e08736507fdaad27ef23116159", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cb92e6135b78c9e08736507fdaad27ef23116159"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/469753f0abc4b9eac811d8b2955d478825f9c3e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/469753f0abc4b9eac811d8b2955d478825f9c3e1", "html_url": "https://github.com/rust-lang/rust/commit/469753f0abc4b9eac811d8b2955d478825f9c3e1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/469753f0abc4b9eac811d8b2955d478825f9c3e1/comments", "author": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bfb01bbb263923106b33fdaa140a5fa464426162", "url": "https://api.github.com/repos/rust-lang/rust/commits/bfb01bbb263923106b33fdaa140a5fa464426162", "html_url": "https://github.com/rust-lang/rust/commit/bfb01bbb263923106b33fdaa140a5fa464426162"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "562dce6a1b129d9403f7552b24a9c9b08718725b", "filename": "src/librustc/session/config.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/469753f0abc4b9eac811d8b2955d478825f9c3e1/src%2Flibrustc%2Fsession%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/469753f0abc4b9eac811d8b2955d478825f9c3e1/src%2Flibrustc%2Fsession%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fconfig.rs?ref=469753f0abc4b9eac811d8b2955d478825f9c3e1", "patch": "@@ -1772,7 +1772,9 @@ mod tests {\n     use std::path::PathBuf;\n     use std::rc::Rc;\n     use super::{OutputType, OutputTypes, Externs, PanicStrategy};\n-    use syntax::attr;\n+    use syntax::{ast, attr};\n+    use syntax::parse::token::InternedString;\n+    use syntax::codemap::dummy_spanned;\n \n     fn optgroups() -> Vec<OptGroup> {\n         super::rustc_optgroups().into_iter()\n@@ -1801,7 +1803,9 @@ mod tests {\n         let (sessopts, cfg) = build_session_options_and_crate_config(matches);\n         let sess = build_session(sessopts, &dep_graph, None, registry, Rc::new(DummyCrateStore));\n         let cfg = build_configuration(&sess, cfg);\n-        assert!((attr::contains_name(&cfg[..], \"test\")));\n+        assert!(attr::contains(&cfg, &dummy_spanned(ast::MetaItemKind::Word({\n+            InternedString::new(\"test\")\n+        }))));\n     }\n \n     // When the user supplies --test and --cfg test, don't implicitly add"}, {"sha": "5a3412b7ed9f9f496ff8a9bcff665a88d1914c31", "filename": "src/test/compile-fail-fulldeps/auxiliary/macro_crate_test.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/469753f0abc4b9eac811d8b2955d478825f9c3e1/src%2Ftest%2Fcompile-fail-fulldeps%2Fauxiliary%2Fmacro_crate_test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/469753f0abc4b9eac811d8b2955d478825f9c3e1/src%2Ftest%2Fcompile-fail-fulldeps%2Fauxiliary%2Fmacro_crate_test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail-fulldeps%2Fauxiliary%2Fmacro_crate_test.rs?ref=469753f0abc4b9eac811d8b2955d478825f9c3e1", "patch": "@@ -18,7 +18,6 @@ extern crate rustc;\n extern crate rustc_plugin;\n \n use syntax::ast::{self, Item, MetaItem, ItemKind};\n-use syntax::attr::{AttrMetaMethods, AttrNestedMetaItemMethods};\n use syntax::ext::base::*;\n use syntax::parse::{self, token};\n use syntax::ptr::P;"}, {"sha": "91b4b74797a830a26ea3b08c4cc828514c254612", "filename": "src/test/run-pass-fulldeps/auxiliary/custom_derive_plugin_attr.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/469753f0abc4b9eac811d8b2955d478825f9c3e1/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fcustom_derive_plugin_attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/469753f0abc4b9eac811d8b2955d478825f9c3e1/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fcustom_derive_plugin_attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fcustom_derive_plugin_attr.rs?ref=469753f0abc4b9eac811d8b2955d478825f9c3e1", "patch": "@@ -21,7 +21,6 @@ extern crate rustc;\n extern crate rustc_plugin;\n \n use syntax::ast;\n-use syntax::attr::AttrMetaMethods;\n use syntax::ext::base::{MultiDecorator, ExtCtxt, Annotatable};\n use syntax::ext::build::AstBuilder;\n use syntax::parse::token;"}, {"sha": "46fdf911258456e685643c9c2ec0ead5d2536986", "filename": "src/test/run-pass-fulldeps/auxiliary/macro_crate_test.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/469753f0abc4b9eac811d8b2955d478825f9c3e1/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fmacro_crate_test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/469753f0abc4b9eac811d8b2955d478825f9c3e1/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fmacro_crate_test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fauxiliary%2Fmacro_crate_test.rs?ref=469753f0abc4b9eac811d8b2955d478825f9c3e1", "patch": "@@ -19,7 +19,6 @@ extern crate syntax_pos;\n \n use syntax::ast::{self, Item, MetaItem, ItemKind};\n use syntax::codemap::DUMMY_SP;\n-use syntax::attr::{AttrMetaMethods, AttrNestedMetaItemMethods};\n use syntax::ext::base::*;\n use syntax::ext::quote::rt::ToTokens;\n use syntax::parse::{self, token};"}]}