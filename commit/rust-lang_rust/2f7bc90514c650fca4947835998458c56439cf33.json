{"sha": "2f7bc90514c650fca4947835998458c56439cf33", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmN2JjOTA1MTRjNjUwZmNhNDk0NzgzNTk5ODQ1OGM1NjQzOWNmMzM=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-07-06T21:33:36Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-07-06T21:39:40Z"}, "message": "Add a stdtest crate to hold the standard library tests\n\nThis will link to std and compile with the --test flag. Eventually the\nrun-pass/lib* tests will move here.\n\nWe could also put the std tests directly into the library and compile both a\nlibrary version and a test version, but I think this way will make for faster\nbuilds.\n\nIssue #428", "tree": {"sha": "e205d1049f35a9e2c1dbe7f0f6b845b8b9710eb5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e205d1049f35a9e2c1dbe7f0f6b845b8b9710eb5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2f7bc90514c650fca4947835998458c56439cf33", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2f7bc90514c650fca4947835998458c56439cf33", "html_url": "https://github.com/rust-lang/rust/commit/2f7bc90514c650fca4947835998458c56439cf33", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2f7bc90514c650fca4947835998458c56439cf33/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b06ccb45abb5c9ea0b55c8ff8a32831188c2403f", "url": "https://api.github.com/repos/rust-lang/rust/commits/b06ccb45abb5c9ea0b55c8ff8a32831188c2403f", "html_url": "https://github.com/rust-lang/rust/commit/b06ccb45abb5c9ea0b55c8ff8a32831188c2403f"}], "stats": {"total": 20, "additions": 19, "deletions": 1}, "files": [{"sha": "94f00d1c8843b8e26c4f59b07014ac04a319d089", "filename": "configure", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2f7bc90514c650fca4947835998458c56439cf33/configure", "raw_url": "https://github.com/rust-lang/rust/raw/2f7bc90514c650fca4947835998458c56439cf33/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=2f7bc90514c650fca4947835998458c56439cf33", "patch": "@@ -182,7 +182,8 @@ for i in \\\n     dl stage0 stage1 stage2 stage3 \\\n     stage0/lib stage1/lib stage2/lib stage3/lib \\\n     test/run-pass test/run-fail test/compile-fail \\\n-    test/bench/99-bottles test/bench/shootout\n+    test/bench/99-bottles test/bench/shootout \\\n+    test/stdtest\n do\n     make_dir $i\n done"}, {"sha": "d7205c3fc53815c73c6dbf80d9250803309995e1", "filename": "mk/tests.mk", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/2f7bc90514c650fca4947835998458c56439cf33/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2f7bc90514c650fca4947835998458c56439cf33/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=2f7bc90514c650fca4947835998458c56439cf33", "patch": "@@ -337,3 +337,10 @@ test/compile-fail/%.stage2.out.tmp: test/compile-fail/%.rc $(SREQ2)\n \t$(STAGE2) -c -o $(@:.o=$(X)) $< >$@ 2>&1; test $$? -ne 0\n \t$(Q)grep --text --quiet \\\n       \"$$(grep error-pattern $< | cut -d : -f 2- | tr -d '\\n\\r')\" $@\n+\n+STDTEST_CRATE := $(S)src/test/stdtest/stdtest.rc\n+STDTEST_INPUTS := $(wildcard $(S)src/test/stdtest/*rs)\n+\n+test/stdtest/stdtest.stage1$(X): $(STDTEST_CRATE) $(STDTEST_INPUTS) $(SREQ1)\n+\t@$(call E, compile_and_link: $@)\n+\t$(STAGE1) -o $@ $< --test"}, {"sha": "07dd277d18cce510565ac5951f6ea81579dccd93", "filename": "src/test/stdtest/stdtest.rc", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/2f7bc90514c650fca4947835998458c56439cf33/src%2Ftest%2Fstdtest%2Fstdtest.rc", "raw_url": "https://github.com/rust-lang/rust/raw/2f7bc90514c650fca4947835998458c56439cf33/src%2Ftest%2Fstdtest%2Fstdtest.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fstdtest%2Fstdtest.rc?ref=2f7bc90514c650fca4947835998458c56439cf33", "patch": "@@ -0,0 +1,10 @@\n+use std;\n+\n+// Local Variables:\n+// mode: rust\n+// fill-column: 78;\n+// indent-tabs-mode: nil\n+// c-basic-offset: 4\n+// buffer-file-coding-system: utf-8-unix\n+// compile-command: \"make -k -C $RBUILD 2>&1 | sed -e 's/\\\\/x\\\\//x:\\\\//g'\";\n+// End:"}]}