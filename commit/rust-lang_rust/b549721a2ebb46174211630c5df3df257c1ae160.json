{"sha": "b549721a2ebb46174211630c5df3df257c1ae160", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI1NDk3MjFhMmViYjQ2MTc0MjExNjMwYzVkZjNkZjI1N2MxYWUxNjA=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-09-21T23:18:47Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-09-21T23:18:47Z"}, "message": "Tighten pattern parsing on 0-ary constructors.", "tree": {"sha": "08c4d569c24dab1b2f6e761c208852fb77c5dac2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/08c4d569c24dab1b2f6e761c208852fb77c5dac2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b549721a2ebb46174211630c5df3df257c1ae160", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b549721a2ebb46174211630c5df3df257c1ae160", "html_url": "https://github.com/rust-lang/rust/commit/b549721a2ebb46174211630c5df3df257c1ae160", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b549721a2ebb46174211630c5df3df257c1ae160/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9f0a6c21b2de2247eccbfb1b72137db5c7dd5173", "url": "https://api.github.com/repos/rust-lang/rust/commits/9f0a6c21b2de2247eccbfb1b72137db5c7dd5173", "html_url": "https://github.com/rust-lang/rust/commit/9f0a6c21b2de2247eccbfb1b72137db5c7dd5173"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "14ef6951d7d65fe5fdd41321fe0a5d5441619289", "filename": "src/boot/fe/item.ml", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b549721a2ebb46174211630c5df3df257c1ae160/src%2Fboot%2Ffe%2Fitem.ml", "raw_url": "https://github.com/rust-lang/rust/raw/b549721a2ebb46174211630c5df3df257c1ae160/src%2Fboot%2Ffe%2Fitem.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Ffe%2Fitem.ml?ref=b549721a2ebb46174211630c5df3df257c1ae160", "patch": "@@ -281,7 +281,11 @@ and parse_stmts (ps:pstate) : Ast.stmt array =\n                   let parse_pat ps = either_get_left (parse_pat ps) in\n                   let args =\n                     match peek ps with\n-                        LPAREN -> paren_comma_list parse_pat ps\n+                        LPAREN ->\n+                          let args = paren_comma_list parse_pat ps in\n+                            if Array.length args = 0\n+                            then raise (err \"empty pattern argument list\" ps)\n+                            else args\n                       | _ -> [| |]\n                   in\n                     Left (Ast.PAT_tag (lv, args))"}, {"sha": "4047f63850445397fedca6b8dbf65972ae4714aa", "filename": "src/lib/map.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b549721a2ebb46174211630c5df3df257c1ae160/src%2Flib%2Fmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b549721a2ebb46174211630c5df3df257c1ae160/src%2Flib%2Fmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fmap.rs?ref=b549721a2ebb46174211630c5df3df257c1ae160", "patch": "@@ -113,10 +113,10 @@ fn mk_hashmap[K, V](&hashfn[K] hasher, &eqfn[K] eqer) -> hashmap[K, V] {\n             ret util.some[V](v);\n           }\n         }\n-        case (nil[K, V]()) {\n+        case (nil[K, V]) {\n           ret util.none[V];\n         }\n-        case (deleted[K, V]()) { }\n+        case (deleted[K, V]) { }\n       }\n       i += 1u;\n     }"}]}