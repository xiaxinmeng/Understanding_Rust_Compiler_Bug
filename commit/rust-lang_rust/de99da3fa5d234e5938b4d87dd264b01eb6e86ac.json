{"sha": "de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRlOTlkYTNmYTVkMjM0ZTU5MzhiNGQ4N2RkMjY0YjAxZWI2ZTg2YWM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-05-04T10:41:50Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-05-04T10:41:50Z"}, "message": "auto merge of #13898 : nikomatsakis/rust/type-bounds-b, r=acrichto\n\nThis is needed to bootstrap fix for #5723.", "tree": {"sha": "f0c2c8296caf4374fc315a58a3f918daf9601910", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f0c2c8296caf4374fc315a58a3f918daf9601910"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "html_url": "https://github.com/rust-lang/rust/commit/de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f9a74fea47a7af15046ae2908af6db3ed368b1c", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f9a74fea47a7af15046ae2908af6db3ed368b1c", "html_url": "https://github.com/rust-lang/rust/commit/0f9a74fea47a7af15046ae2908af6db3ed368b1c"}, {"sha": "92b741aad4e329c134544c460b50eb095c0e512e", "url": "https://api.github.com/repos/rust-lang/rust/commits/92b741aad4e329c134544c460b50eb095c0e512e", "html_url": "https://github.com/rust-lang/rust/commit/92b741aad4e329c134544c460b50eb095c0e512e"}], "stats": {"total": 108, "additions": 91, "deletions": 17}, "files": [{"sha": "925d9430ede8c32d9d6f3fd64fe6fa1a7b5c0ae6", "filename": "src/librustc/front/feature_gate.rs", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustc%2Ffront%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustc%2Ffront%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ffront%2Ffeature_gate.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -59,6 +59,10 @@ static KNOWN_FEATURES: &'static [(&'static str, Status)] = &[\n \n     (\"quad_precision_float\", Active),\n \n+    // A temporary feature gate used to enable parser extensions needed\n+    // to bootstrap fix for #5723.\n+    (\"issue_5723_bootstrap\", Active),\n+\n     // These are used to test this portion of the compiler, they don't actually\n     // mean anything\n     (\"test_accepted_feature\", Accepted),\n@@ -80,14 +84,16 @@ enum Status {\n /// A set of features to be used by later passes.\n pub struct Features {\n     pub default_type_params: Cell<bool>,\n-    pub quad_precision_float: Cell<bool>\n+    pub quad_precision_float: Cell<bool>,\n+    pub issue_5723_bootstrap: Cell<bool>,\n }\n \n impl Features {\n     pub fn new() -> Features {\n         Features {\n             default_type_params: Cell::new(false),\n-            quad_precision_float: Cell::new(false)\n+            quad_precision_float: Cell::new(false),\n+            issue_5723_bootstrap: Cell::new(false),\n         }\n     }\n }\n@@ -367,4 +373,5 @@ pub fn check_crate(sess: &Session, krate: &ast::Crate) {\n \n     sess.features.default_type_params.set(cx.has_feature(\"default_type_params\"));\n     sess.features.quad_precision_float.set(cx.has_feature(\"quad_precision_float\"));\n+    sess.features.issue_5723_bootstrap.set(cx.has_feature(\"issue_5723_bootstrap\"));\n }"}, {"sha": "95f18b75bec4ac1eef70a2667c960143bfe63398", "filename": "src/librustc/middle/resolve.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustc%2Fmiddle%2Fresolve.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustc%2Fmiddle%2Fresolve.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fresolve.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -3824,7 +3824,8 @@ impl<'a> Resolver<'a> {\n             TraitTyParamBound(ref tref) => {\n                 self.resolve_trait_reference(id, tref, TraitBoundingTypeParameter)\n             }\n-            RegionTyParamBound => {}\n+            StaticRegionTyParamBound => {}\n+            OtherRegionTyParamBound(_) => {}\n         }\n     }\n "}, {"sha": "1c5bea04a878bd12742182b4f52eba6d9cb9bcc0", "filename": "src/librustc/middle/typeck/astconv.rs", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fastconv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fastconv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fastconv.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -898,9 +898,17 @@ fn conv_builtin_bounds(tcx: &ty::ctxt, ast_bounds: &Option<OwnedSlice<ast::TyPar\n                             format!(\"only the builtin traits can be used \\\n                                   as closure or object bounds\"));\n                     }\n-                    ast::RegionTyParamBound => {\n+                    ast::StaticRegionTyParamBound => {\n                         builtin_bounds.add(ty::BoundStatic);\n                     }\n+                    ast::OtherRegionTyParamBound(span) => {\n+                        if !tcx.sess.features.issue_5723_bootstrap.get() {\n+                            tcx.sess.span_err(\n+                                span,\n+                                format!(\"only the 'static lifetime is \\\n+                                         accepted here.\"));\n+                        }\n+                    }\n                 }\n             }\n             builtin_bounds"}, {"sha": "baad474844c456b9c77722eac5fc44a465ef026b", "filename": "src/librustc/middle/typeck/collect.rs", "status": "modified", "additions": 12, "deletions": 2, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcollect.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -50,7 +50,8 @@ use std::rc::Rc;\n use collections::{HashMap, HashSet};\n \n use syntax::abi;\n-use syntax::ast::{RegionTyParamBound, TraitTyParamBound};\n+use syntax::ast::{StaticRegionTyParamBound, OtherRegionTyParamBound,\n+                  TraitTyParamBound};\n use syntax::ast;\n use syntax::ast_map;\n use syntax::ast_util::{local_def, split_trait_methods};\n@@ -1102,9 +1103,18 @@ fn ty_generics(ccx: &CrateCtxt,\n                     }\n                 }\n \n-                RegionTyParamBound => {\n+                StaticRegionTyParamBound => {\n                     param_bounds.builtin_bounds.add(ty::BoundStatic);\n                 }\n+\n+                OtherRegionTyParamBound(span) => {\n+                    if !ccx.tcx.sess.features.issue_5723_bootstrap.get() {\n+                        ccx.tcx.sess.span_err(\n+                            span,\n+                            format!(\"only the 'static lifetime is \\\n+                                     accepted here.\"));\n+                    }\n+                }\n             }\n         }\n "}, {"sha": "b87b6988a3a6085eb00d4e9609418a51b387c583", "filename": "src/librustc/middle/typeck/infer/error_reporting.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ferror_reporting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ferror_reporting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Finfer%2Ferror_reporting.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -893,7 +893,8 @@ impl<'a> Rebuilder<'a> {\n                                -> OwnedSlice<ast::TyParamBound> {\n         ty_param_bounds.map(|tpb| {\n             match tpb {\n-                &ast::RegionTyParamBound => ast::RegionTyParamBound,\n+                &ast::StaticRegionTyParamBound => ast::StaticRegionTyParamBound,\n+                &ast::OtherRegionTyParamBound(s) => ast::OtherRegionTyParamBound(s),\n                 &ast::TraitTyParamBound(ref tr) => {\n                     let last_seg = tr.path.segments.last().unwrap();\n                     let mut insert = Vec::new();"}, {"sha": "4c65a6c148823a190804fae8a86a06ba78c69680", "filename": "src/librustdoc/clean.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustdoc%2Fclean.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibrustdoc%2Fclean.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -349,7 +349,8 @@ pub enum TyParamBound {\n impl Clean<TyParamBound> for ast::TyParamBound {\n     fn clean(&self) -> TyParamBound {\n         match *self {\n-            ast::RegionTyParamBound => RegionBound,\n+            ast::StaticRegionTyParamBound => RegionBound,\n+            ast::OtherRegionTyParamBound(_) => RegionBound,\n             ast::TraitTyParamBound(ref t) => TraitBound(t.clean()),\n         }\n     }"}, {"sha": "a5058de2c61351e884b399e538823a97591b8e6a", "filename": "src/libsyntax/ast.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibsyntax%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibsyntax%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fast.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -173,7 +173,8 @@ pub static DUMMY_NODE_ID: NodeId = -1;\n #[deriving(Clone, Eq, TotalEq, Encodable, Decodable, Hash)]\n pub enum TyParamBound {\n     TraitTyParamBound(TraitRef),\n-    RegionTyParamBound\n+    StaticRegionTyParamBound,\n+    OtherRegionTyParamBound(Span) // FIXME -- just here until work for #5723 lands\n }\n \n #[deriving(Clone, Eq, TotalEq, Encodable, Decodable, Hash)]"}, {"sha": "685e08dd91819d1f1b43b380138ec9f6c9805cc2", "filename": "src/libsyntax/fold.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibsyntax%2Ffold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibsyntax%2Ffold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffold.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -437,7 +437,8 @@ fn fold_ty_param_bound<T: Folder>(tpb: &TyParamBound, fld: &mut T)\n                                     -> TyParamBound {\n     match *tpb {\n         TraitTyParamBound(ref ty) => TraitTyParamBound(fold_trait_ref(ty, fld)),\n-        RegionTyParamBound => RegionTyParamBound\n+        StaticRegionTyParamBound => StaticRegionTyParamBound,\n+        OtherRegionTyParamBound(s) => OtherRegionTyParamBound(s)\n     }\n }\n "}, {"sha": "bb21bb0b8983dc1ebb55dcc43b3e89dc35eb1f6f", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -12,7 +12,7 @@\n \n use abi;\n use ast::{BareFnTy, ClosureTy};\n-use ast::{RegionTyParamBound, TraitTyParamBound};\n+use ast::{StaticRegionTyParamBound, OtherRegionTyParamBound, TraitTyParamBound};\n use ast::{Provided, Public, FnStyle};\n use ast::{Mod, BiAdd, Arg, Arm, Attribute, BindByRef, BindByValue};\n use ast::{BiBitAnd, BiBitOr, BiBitXor, Block};\n@@ -3351,7 +3351,7 @@ impl<'a> Parser<'a> {\n                 token::LIFETIME(lifetime) => {\n                     let lifetime_interned_string = token::get_ident(lifetime);\n                     if lifetime_interned_string.equiv(&(\"static\")) {\n-                        result.push(RegionTyParamBound);\n+                        result.push(StaticRegionTyParamBound);\n                         if allow_any_lifetime && ret_lifetime.is_none() {\n                             ret_lifetime = Some(ast::Lifetime {\n                                 id: ast::DUMMY_NODE_ID,\n@@ -3366,8 +3366,7 @@ impl<'a> Parser<'a> {\n                             name: lifetime.name\n                         });\n                     } else {\n-                        self.span_err(self.span,\n-                                      \"`'static` is the only permissible region bound here\");\n+                        result.push(OtherRegionTyParamBound(self.span));\n                     }\n                     self.bump();\n                 }"}, {"sha": "fb823522612148aa8c29629b6902a3e892a2f816", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -9,7 +9,8 @@\n // except according to those terms.\n \n use abi;\n-use ast::{P, RegionTyParamBound, TraitTyParamBound, Required, Provided};\n+use ast::{P, StaticRegionTyParamBound, OtherRegionTyParamBound,\n+          TraitTyParamBound, Required, Provided};\n use ast;\n use ast_util;\n use owned_slice::OwnedSlice;\n@@ -1881,7 +1882,8 @@ impl<'a> State<'a> {\n \n                 try!(match *bound {\n                     TraitTyParamBound(ref tref) => self.print_trait_ref(tref),\n-                    RegionTyParamBound => word(&mut self.s, \"'static\"),\n+                    StaticRegionTyParamBound => word(&mut self.s, \"'static\"),\n+                    OtherRegionTyParamBound(_) => Ok(())\n                 })\n             }\n             Ok(())"}, {"sha": "f715b3a68aee906248abbdc74bfeb1b8bba96fb7", "filename": "src/libsyntax/visit.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibsyntax%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Flibsyntax%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fvisit.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -472,7 +472,8 @@ pub fn walk_ty_param_bounds<E: Clone, V: Visitor<E>>(visitor: &mut V,\n             TraitTyParamBound(ref typ) => {\n                 walk_trait_ref_helper(visitor, typ, env.clone())\n             }\n-            RegionTyParamBound => {}\n+            StaticRegionTyParamBound => {}\n+            OtherRegionTyParamBound(..) => {}\n         }\n     }\n }"}, {"sha": "05050b72e5e8d7478d352177ac7747c489aec408", "filename": "src/test/compile-fail/regions-bound-lists-feature-gate.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Ftest%2Fcompile-fail%2Fregions-bound-lists-feature-gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Ftest%2Fcompile-fail%2Fregions-bound-lists-feature-gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fregions-bound-lists-feature-gate.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -0,0 +1,19 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+trait Foo { }\n+\n+fn foo<'a>(x: ~Foo:'a) { //~ ERROR only the 'static lifetime is accepted here\n+}\n+\n+fn bar<'a, T:'a>() { //~ ERROR only the 'static lifetime is accepted here\n+}\n+\n+fn main() { }"}, {"sha": "163e6670c9c5f990df5c4068b6b6a5c22b9132f4", "filename": "src/test/run-pass/regions-bound-lists-feature-gate.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Ftest%2Frun-pass%2Fregions-bound-lists-feature-gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/de99da3fa5d234e5938b4d87dd264b01eb6e86ac/src%2Ftest%2Frun-pass%2Fregions-bound-lists-feature-gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fregions-bound-lists-feature-gate.rs?ref=de99da3fa5d234e5938b4d87dd264b01eb6e86ac", "patch": "@@ -0,0 +1,23 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// ignore-pretty\n+\n+#![feature(issue_5723_bootstrap)]\n+\n+trait Foo { }\n+\n+fn foo<'a>(x: ~Foo:'a) {\n+}\n+\n+fn bar<'a, T:'a>() {\n+}\n+\n+pub fn main() { }"}]}