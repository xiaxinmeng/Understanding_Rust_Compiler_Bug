{"sha": "78db9ee21a558d43948cde67c22487993c1b23ac", "node_id": "C_kwDOAAsO6NoAKDc4ZGI5ZWUyMWE1NThkNDM5NDhjZGU2N2MyMjQ4Nzk5M2MxYjIzYWM", "commit": {"author": {"name": "Albert Larsan", "email": "74931857+albertlarsan68@users.noreply.github.com", "date": "2023-01-21T20:21:04Z"}, "committer": {"name": "Albert Larsan", "email": "74931857+albertlarsan68@users.noreply.github.com", "date": "2023-01-21T20:21:04Z"}, "message": "Pass `--locked` to the x test tidy call\n\nThis allows to fail the push when the `Cargo.lock` file needs to be updated.", "tree": {"sha": "9fbc7c278e599394a9860c2afc72cdde99d8d7b6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9fbc7c278e599394a9860c2afc72cdde99d8d7b6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/78db9ee21a558d43948cde67c22487993c1b23ac", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEECtuvMkQcAKCG3qpZknCbiLuPE+oFAmPMSe8ACgkQknCbiLuP\nE+oqYhAAjneYjFYsS8LccgLndTCIpJrxFKfYHzXOoBiTBoEq3Xjjzsz6ktQ4SGb0\nZpeV0L59oBwVcTXpLzfwM5w4tQPuqmwTK0BqOVZo4vCvWpx3tc6iaDiGRUeVV/bs\nYGGI+eoKjuAMLp27iHgzBIS8n4ikfMaOFoUARtf7aKzu2KQ2nGCwvq3S6OTRB+fn\n6oKL9AT0nYukDxkUL0W73bocKNz/TpMOdhY7rMTDfb0oib0rPVSYp76v2/NmQnuR\nm6FT0pVORAMVD31AfjWNmyEuI6hipN+xLtetKljGWBHr7t1osnlPV0HTIxhSGIEe\nBUw+hmK75fMgLWgEkzGpSvFRWieHnD/tTdSzHTAI793GgycLfWDhTPlEArmIIybo\nS5Q737+brDtxg7znwWJ/aAOcXMsHru4XgJ19wzUexd8Zp3tQXfkKe7ERLCNCY4ih\n+p4Ep5ZieJV8CguNO+ASlmeXIx+UV7nVUxorL5TQPg8AZClzB5o6MF591mL+sPZr\nTVGXbPsIl07kTy4HiQrSl00fbQPza9oMcUqoXJTI/OyZBGJ9aSbX5OiTurYET/U2\nnS3gIYO00LJzq2wZ0jq0H+jUNZsPX7wX9kPubqFqAX+Grs0KS9Ophwvc8q4VNlFY\nm6mtp71iJuBA3/WMEcEl8lvoaUoy4deN7aP5fbLYrRRkGieWKgs=\n=3Gzj\n-----END PGP SIGNATURE-----", "payload": "tree 9fbc7c278e599394a9860c2afc72cdde99d8d7b6\nparent 005fc0f00f2d4ceaf523b67a8f9c5665b8ac5baf\nauthor Albert Larsan <74931857+albertlarsan68@users.noreply.github.com> 1674332464 +0000\ncommitter Albert Larsan <74931857+albertlarsan68@users.noreply.github.com> 1674332464 +0000\n\nPass `--locked` to the x test tidy call\n\nThis allows to fail the push when the `Cargo.lock` file needs to be updated.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/78db9ee21a558d43948cde67c22487993c1b23ac", "html_url": "https://github.com/rust-lang/rust/commit/78db9ee21a558d43948cde67c22487993c1b23ac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/78db9ee21a558d43948cde67c22487993c1b23ac/comments", "author": {"login": "albertlarsan68", "id": 74931857, "node_id": "MDQ6VXNlcjc0OTMxODU3", "avatar_url": "https://avatars.githubusercontent.com/u/74931857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albertlarsan68", "html_url": "https://github.com/albertlarsan68", "followers_url": "https://api.github.com/users/albertlarsan68/followers", "following_url": "https://api.github.com/users/albertlarsan68/following{/other_user}", "gists_url": "https://api.github.com/users/albertlarsan68/gists{/gist_id}", "starred_url": "https://api.github.com/users/albertlarsan68/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albertlarsan68/subscriptions", "organizations_url": "https://api.github.com/users/albertlarsan68/orgs", "repos_url": "https://api.github.com/users/albertlarsan68/repos", "events_url": "https://api.github.com/users/albertlarsan68/events{/privacy}", "received_events_url": "https://api.github.com/users/albertlarsan68/received_events", "type": "User", "site_admin": false}, "committer": {"login": "albertlarsan68", "id": 74931857, "node_id": "MDQ6VXNlcjc0OTMxODU3", "avatar_url": "https://avatars.githubusercontent.com/u/74931857?v=4", "gravatar_id": "", "url": "https://api.github.com/users/albertlarsan68", "html_url": "https://github.com/albertlarsan68", "followers_url": "https://api.github.com/users/albertlarsan68/followers", "following_url": "https://api.github.com/users/albertlarsan68/following{/other_user}", "gists_url": "https://api.github.com/users/albertlarsan68/gists{/gist_id}", "starred_url": "https://api.github.com/users/albertlarsan68/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/albertlarsan68/subscriptions", "organizations_url": "https://api.github.com/users/albertlarsan68/orgs", "repos_url": "https://api.github.com/users/albertlarsan68/repos", "events_url": "https://api.github.com/users/albertlarsan68/events{/privacy}", "received_events_url": "https://api.github.com/users/albertlarsan68/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "005fc0f00f2d4ceaf523b67a8f9c5665b8ac5baf", "url": "https://api.github.com/repos/rust-lang/rust/commits/005fc0f00f2d4ceaf523b67a8f9c5665b8ac5baf", "html_url": "https://github.com/rust-lang/rust/commit/005fc0f00f2d4ceaf523b67a8f9c5665b8ac5baf"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "ff17931115cd038bd164cd171b9567d2768d60b4", "filename": "src/etc/pre-push.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/78db9ee21a558d43948cde67c22487993c1b23ac/src%2Fetc%2Fpre-push.sh", "raw_url": "https://github.com/rust-lang/rust/raw/78db9ee21a558d43948cde67c22487993c1b23ac/src%2Fetc%2Fpre-push.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fpre-push.sh?ref=78db9ee21a558d43948cde67c22487993c1b23ac", "patch": "@@ -14,4 +14,4 @@ ROOT_DIR=\"$(git rev-parse --show-toplevel)\"\n echo \"Running pre-push script $ROOT_DIR/x test tidy\"\n \n cd \"$ROOT_DIR\"\n-./x test tidy\n+CARGOFLAGS=\"--locked\" ./x test tidy"}]}