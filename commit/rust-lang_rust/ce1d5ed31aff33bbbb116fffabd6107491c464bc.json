{"sha": "ce1d5ed31aff33bbbb116fffabd6107491c464bc", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlMWQ1ZWQzMWFmZjMzYmJiYjExNmZmZmFiZDYxMDc0OTFjNDY0YmM=", "commit": {"author": {"name": "Christiaan Dirkx", "email": "christiaan@dirkx.email", "date": "2020-09-03T23:04:34Z"}, "committer": {"name": "Christiaan Dirkx", "email": "christiaan@dirkx.email", "date": "2020-09-03T23:04:34Z"}, "message": "Move const tests for `Poll` to `library\\core`\n\nPart of #76268", "tree": {"sha": "5ae56f64874bf05521ad2aff4d7f3f94de1b4212", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5ae56f64874bf05521ad2aff4d7f3f94de1b4212"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ce1d5ed31aff33bbbb116fffabd6107491c464bc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ce1d5ed31aff33bbbb116fffabd6107491c464bc", "html_url": "https://github.com/rust-lang/rust/commit/ce1d5ed31aff33bbbb116fffabd6107491c464bc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ce1d5ed31aff33bbbb116fffabd6107491c464bc/comments", "author": {"login": "CDirkx", "id": 11176562, "node_id": "MDQ6VXNlcjExMTc2NTYy", "avatar_url": "https://avatars.githubusercontent.com/u/11176562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CDirkx", "html_url": "https://github.com/CDirkx", "followers_url": "https://api.github.com/users/CDirkx/followers", "following_url": "https://api.github.com/users/CDirkx/following{/other_user}", "gists_url": "https://api.github.com/users/CDirkx/gists{/gist_id}", "starred_url": "https://api.github.com/users/CDirkx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CDirkx/subscriptions", "organizations_url": "https://api.github.com/users/CDirkx/orgs", "repos_url": "https://api.github.com/users/CDirkx/repos", "events_url": "https://api.github.com/users/CDirkx/events{/privacy}", "received_events_url": "https://api.github.com/users/CDirkx/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CDirkx", "id": 11176562, "node_id": "MDQ6VXNlcjExMTc2NTYy", "avatar_url": "https://avatars.githubusercontent.com/u/11176562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CDirkx", "html_url": "https://github.com/CDirkx", "followers_url": "https://api.github.com/users/CDirkx/followers", "following_url": "https://api.github.com/users/CDirkx/following{/other_user}", "gists_url": "https://api.github.com/users/CDirkx/gists{/gist_id}", "starred_url": "https://api.github.com/users/CDirkx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CDirkx/subscriptions", "organizations_url": "https://api.github.com/users/CDirkx/orgs", "repos_url": "https://api.github.com/users/CDirkx/repos", "events_url": "https://api.github.com/users/CDirkx/events{/privacy}", "received_events_url": "https://api.github.com/users/CDirkx/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9412a898fa4ed5065a363bd40ad9401469ed3d54", "url": "https://api.github.com/repos/rust-lang/rust/commits/9412a898fa4ed5065a363bd40ad9401469ed3d54", "html_url": "https://github.com/rust-lang/rust/commit/9412a898fa4ed5065a363bd40ad9401469ed3d54"}], "stats": {"total": 28, "additions": 15, "deletions": 13}, "files": [{"sha": "2c20259fc5855202ba38fb1d715f2339dba7fa87", "filename": "library/core/tests/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ce1d5ed31aff33bbbb116fffabd6107491c464bc/library%2Fcore%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce1d5ed31aff33bbbb116fffabd6107491c464bc/library%2Fcore%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Flib.rs?ref=ce1d5ed31aff33bbbb116fffabd6107491c464bc", "patch": "@@ -76,5 +76,6 @@ mod result;\n mod slice;\n mod str;\n mod str_lossy;\n+mod task;\n mod time;\n mod tuple;"}, {"sha": "d71fef9e5c87db5996bd6aafc4ec90bec4c788df", "filename": "library/core/tests/task.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/ce1d5ed31aff33bbbb116fffabd6107491c464bc/library%2Fcore%2Ftests%2Ftask.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce1d5ed31aff33bbbb116fffabd6107491c464bc/library%2Fcore%2Ftests%2Ftask.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Ftask.rs?ref=ce1d5ed31aff33bbbb116fffabd6107491c464bc", "patch": "@@ -0,0 +1,14 @@\n+use core::task::Poll;\n+\n+#[test]\n+fn poll_const() {\n+    // test that the methods of `Poll` are usable in a const context\n+\n+    const POLL: Poll<usize> = Poll::Pending;\n+\n+    const IS_READY: bool = POLL.is_ready();\n+    assert!(!IS_READY);\n+\n+    const IS_PENDING: bool = POLL.is_pending();\n+    assert!(IS_PENDING);\n+}"}, {"sha": "28f2ace6715febb0108226f445ff52b275a3942f", "filename": "src/test/ui/consts/std/poll.rs", "status": "removed", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/9412a898fa4ed5065a363bd40ad9401469ed3d54/src%2Ftest%2Fui%2Fconsts%2Fstd%2Fpoll.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9412a898fa4ed5065a363bd40ad9401469ed3d54/src%2Ftest%2Fui%2Fconsts%2Fstd%2Fpoll.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fstd%2Fpoll.rs?ref=9412a898fa4ed5065a363bd40ad9401469ed3d54", "patch": "@@ -1,13 +0,0 @@\n-// run-pass\n-\n-use std::task::Poll;\n-\n-fn main() {\n-    const POLL : Poll<usize> = Poll::Pending;\n-\n-    const IS_READY : bool = POLL.is_ready();\n-    assert!(!IS_READY);\n-\n-    const IS_PENDING : bool = POLL.is_pending();\n-    assert!(IS_PENDING);\n-}"}]}