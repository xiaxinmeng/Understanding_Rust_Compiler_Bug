{"sha": "e34e2032e8ca028fb622b60ad4aa07f9e86bfe35", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUzNGUyMDMyZThjYTAyOGZiNjIyYjYwYWQ0YWEwN2Y5ZTg2YmZlMzU=", "commit": {"author": {"name": "blake2-ppc", "email": "blake2-ppc", "date": "2013-09-11T00:16:11Z"}, "committer": {"name": "blake2-ppc", "email": "blake2-ppc", "date": "2013-09-16T17:13:41Z"}, "message": "std::str: Add bench tests for StrVector::connect() and for str::push_str", "tree": {"sha": "ea50b6a594243e4789648f7665690839905821f3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ea50b6a594243e4789648f7665690839905821f3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e34e2032e8ca028fb622b60ad4aa07f9e86bfe35", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e34e2032e8ca028fb622b60ad4aa07f9e86bfe35", "html_url": "https://github.com/rust-lang/rust/commit/e34e2032e8ca028fb622b60ad4aa07f9e86bfe35", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e34e2032e8ca028fb622b60ad4aa07f9e86bfe35/comments", "author": null, "committer": null, "parents": [{"sha": "8fce135326707264d99102cdb514b00d6aa38081", "url": "https://api.github.com/repos/rust-lang/rust/commits/8fce135326707264d99102cdb514b00d6aa38081", "html_url": "https://github.com/rust-lang/rust/commit/8fce135326707264d99102cdb514b00d6aa38081"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "17eb3dd06dff71f6c623421e0ea98228e10d36ff", "filename": "src/libstd/str.rs", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/e34e2032e8ca028fb622b60ad4aa07f9e86bfe35/src%2Flibstd%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e34e2032e8ca028fb622b60ad4aa07f9e86bfe35/src%2Flibstd%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fstr.rs?ref=e34e2032e8ca028fb622b60ad4aa07f9e86bfe35", "patch": "@@ -3897,4 +3897,23 @@ mod bench {\n             with_capacity(100);\n         }\n     }\n+\n+    #[bench]\n+    fn bench_push_str(bh: &mut BenchHarness) {\n+        let s = \"\u0e28\u0e44\u0e17\u0e22\u4e2d\u534eVi\u1ec7t Nam; Mary had a little lamb, Little lamb\";\n+        do bh.iter {\n+            let mut r = ~\"\";\n+            r.push_str(s);\n+        }\n+    }\n+\n+    #[bench]\n+    fn bench_connect(bh: &mut BenchHarness) {\n+        let s = \"\u0e28\u0e44\u0e17\u0e22\u4e2d\u534eVi\u1ec7t Nam; Mary had a little lamb, Little lamb\";\n+        let sep = \"\u2192\";\n+        let v = [s, s, s, s, s, s, s, s, s, s];\n+        do bh.iter {\n+            assert_eq!(v.connect(sep).len(), s.len() * 10 + sep.len() * 9);\n+        }\n+    }\n }"}]}