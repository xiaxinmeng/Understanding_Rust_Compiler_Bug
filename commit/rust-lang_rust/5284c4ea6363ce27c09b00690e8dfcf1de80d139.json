{"sha": "5284c4ea6363ce27c09b00690e8dfcf1de80d139", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUyODRjNGVhNjM2M2NlMjdjMDliMDA2OTBlOGRmY2YxZGU4MGQxMzk=", "commit": {"author": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-02-13T13:03:15Z"}, "committer": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-02-13T20:05:12Z"}, "message": "Remove a few uses of deprecated getenv", "tree": {"sha": "0fe9db249946cfe18a1194638578eae532b176ae", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0fe9db249946cfe18a1194638578eae532b176ae"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5284c4ea6363ce27c09b00690e8dfcf1de80d139", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5284c4ea6363ce27c09b00690e8dfcf1de80d139", "html_url": "https://github.com/rust-lang/rust/commit/5284c4ea6363ce27c09b00690e8dfcf1de80d139", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5284c4ea6363ce27c09b00690e8dfcf1de80d139/comments", "author": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ba2efe96aeada34c1e2dc267a1a35948bdda91f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/ba2efe96aeada34c1e2dc267a1a35948bdda91f8", "html_url": "https://github.com/rust-lang/rust/commit/ba2efe96aeada34c1e2dc267a1a35948bdda91f8"}], "stats": {"total": 19, "additions": 9, "deletions": 10}, "files": [{"sha": "b80a486b191d20ede43a37b50bb558ca8a330d36", "filename": "src/librustc_back/target/mod.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5284c4ea6363ce27c09b00690e8dfcf1de80d139/src%2Flibrustc_back%2Ftarget%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5284c4ea6363ce27c09b00690e8dfcf1de80d139/src%2Flibrustc_back%2Ftarget%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fmod.rs?ref=5284c4ea6363ce27c09b00690e8dfcf1de80d139", "patch": "@@ -384,8 +384,7 @@ impl Target {\n             Path::new(target)\n         };\n \n-        let target_path = env::var_os(\"RUST_TARGET_PATH\")\n-                              .unwrap_or(OsString::from_str(\"\"));\n+        let target_path = env::var_os(\"RUST_TARGET_PATH\").unwrap_or(OsString::from_str(\"\"));\n \n         // FIXME 16351: add a sane default search path?\n "}, {"sha": "d783acd57ac04356fe6e6f06fa1e722f1cfbd1fd", "filename": "src/libstd/sync/mpsc/mod.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/5284c4ea6363ce27c09b00690e8dfcf1de80d139/src%2Flibstd%2Fsync%2Fmpsc%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5284c4ea6363ce27c09b00690e8dfcf1de80d139/src%2Flibstd%2Fsync%2Fmpsc%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsync%2Fmpsc%2Fmod.rs?ref=5284c4ea6363ce27c09b00690e8dfcf1de80d139", "patch": "@@ -1024,14 +1024,14 @@ impl fmt::Display for TryRecvError {\n mod test {\n     use prelude::v1::*;\n \n-    use os;\n+    use std::env;\n     use super::*;\n     use thread::Thread;\n \n     pub fn stress_factor() -> uint {\n-        match os::getenv(\"RUST_TEST_STRESS\") {\n-            Some(val) => val.parse().unwrap(),\n-            None => 1,\n+        match env::var(\"RUST_TEST_STRESS\") {\n+            Ok(val) => val.parse().unwrap(),\n+            Err(..) => 1,\n         }\n     }\n \n@@ -1546,14 +1546,14 @@ mod test {\n mod sync_tests {\n     use prelude::v1::*;\n \n-    use os;\n+    use std::env;\n     use thread::Thread;\n     use super::*;\n \n     pub fn stress_factor() -> uint {\n-        match os::getenv(\"RUST_TEST_STRESS\") {\n-            Some(val) => val.parse().unwrap(),\n-            None => 1,\n+        match env::var(\"RUST_TEST_STRESS\") {\n+            Ok(val) => val.parse().unwrap(),\n+            Err(..) => 1,\n         }\n     }\n "}]}