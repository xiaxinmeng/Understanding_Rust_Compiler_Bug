{"sha": "fe526695d1b274921e6df2b13e19035bb9a46742", "node_id": "C_kwDOAAsO6NoAKGZlNTI2Njk1ZDFiMjc0OTIxZTZkZjJiMTNlMTkwMzViYjlhNDY3NDI", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-05-07T03:49:37Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-05-07T03:49:37Z"}, "message": "Rollup merge of #96801 - Aaron1011:coinductive-cycle-test, r=compiler-errors\n\nAdd regression test for #96319", "tree": {"sha": "0ea9092c0558f1f62655db31e604602e937054e0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0ea9092c0558f1f62655db31e604602e937054e0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fe526695d1b274921e6df2b13e19035bb9a46742", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJidexSCRBK7hj4Ov3rIwAAd9UIAGrIoYOgJStfujExN4de2zD5\nCjZESP/8nK9npGx/G5Pj4AouCmrtzdtwjHuoWiSJ1yI5OAfA4RvO8KwhxyPf+X1f\nbAXPDqlyhxqIe5pYOK+zrOZjnGSsouxsaATMbRhsjblE9s7CUEz5lXtYI6SVRzEX\nzA6eccU8iHrscBCXVWwbASivhZjF4zYGU/FKMfoCH4Mdl5ODFVIbWfwmO2lJcd9/\n8fAZbVEeazfw4JEkRrN2mRWgt3bZMWcifSffKlBRWE+tL/MO+vvQUMczAvN+YP01\n3uij0pkKUaXMeYxlcjr4fIa7hfAqM3bLw8fAZbaxg+OK/MpI9SMTGgtAojDeuM8=\n=ODYO\n-----END PGP SIGNATURE-----\n", "payload": "tree 0ea9092c0558f1f62655db31e604602e937054e0\nparent 24d1304e5e8b00b2c10ca3c1677e0992ff817292\nparent 848028c0a7bfc5e8d507e927b8114313037931a7\nauthor Michael Goulet <michael@errs.io> 1651895377 -0700\ncommitter GitHub <noreply@github.com> 1651895377 -0700\n\nRollup merge of #96801 - Aaron1011:coinductive-cycle-test, r=compiler-errors\n\nAdd regression test for #96319\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fe526695d1b274921e6df2b13e19035bb9a46742", "html_url": "https://github.com/rust-lang/rust/commit/fe526695d1b274921e6df2b13e19035bb9a46742", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fe526695d1b274921e6df2b13e19035bb9a46742/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "24d1304e5e8b00b2c10ca3c1677e0992ff817292", "url": "https://api.github.com/repos/rust-lang/rust/commits/24d1304e5e8b00b2c10ca3c1677e0992ff817292", "html_url": "https://github.com/rust-lang/rust/commit/24d1304e5e8b00b2c10ca3c1677e0992ff817292"}, {"sha": "848028c0a7bfc5e8d507e927b8114313037931a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/848028c0a7bfc5e8d507e927b8114313037931a7", "html_url": "https://github.com/rust-lang/rust/commit/848028c0a7bfc5e8d507e927b8114313037931a7"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "b5ff9112a202631135742d4f63f3c95a56bbefe9", "filename": "src/test/incremental/issue-96319-coinductive-cycle.rs", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/fe526695d1b274921e6df2b13e19035bb9a46742/src%2Ftest%2Fincremental%2Fissue-96319-coinductive-cycle.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe526695d1b274921e6df2b13e19035bb9a46742/src%2Ftest%2Fincremental%2Fissue-96319-coinductive-cycle.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fincremental%2Fissue-96319-coinductive-cycle.rs?ref=fe526695d1b274921e6df2b13e19035bb9a46742", "patch": "@@ -0,0 +1,34 @@\n+// edition:2018\n+// revisions: rpass1 rpass2\n+\n+pub struct Stmt {\n+    pub stmt_type: StmtKind,\n+    #[cfg(rpass1)] pub stmt_tag: Option<LintTag>,\n+    #[cfg(rpass2)] pub renamed_tag: Option<LintTag>,\n+}\n+pub struct LintTag;\n+pub enum StmtKind {\n+    If(If),\n+    Block(&'static str),\n+    Return(Return),\n+}\n+pub struct If {\n+    pub condition: Function,\n+}\n+pub struct Return {\n+    pub value: Function,\n+}\n+pub struct Function {\n+    pub parameters: Box<Stmt>,\n+}\n+pub fn start_late_pass(stmt_receiver: Box<Stmt>) {\n+    spawn(async { stmt_receiver });\n+}\n+\n+pub fn spawn<T>(_: T)\n+where\n+    T: Send,\n+{\n+}\n+\n+fn main() {}"}]}