{"sha": "79d563c819483eaf6e67b6aaaef9d0ca6030337d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5ZDU2M2M4MTk0ODNlYWY2ZTY3YjZhYWFlZjlkMGNhNjAzMDMzN2Q=", "commit": {"author": {"name": "Christiaan Dirkx", "email": "christiaan@dirkx.email", "date": "2020-09-03T22:40:11Z"}, "committer": {"name": "Christiaan Dirkx", "email": "christiaan@dirkx.email", "date": "2020-09-03T22:40:11Z"}, "message": "Move const tests for `Ordering` to `library\\core`\n\nPart of #76268", "tree": {"sha": "dd5fa943550f060c1eb76e549437f68cae3ef39c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dd5fa943550f060c1eb76e549437f68cae3ef39c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/79d563c819483eaf6e67b6aaaef9d0ca6030337d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/79d563c819483eaf6e67b6aaaef9d0ca6030337d", "html_url": "https://github.com/rust-lang/rust/commit/79d563c819483eaf6e67b6aaaef9d0ca6030337d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/79d563c819483eaf6e67b6aaaef9d0ca6030337d/comments", "author": {"login": "CDirkx", "id": 11176562, "node_id": "MDQ6VXNlcjExMTc2NTYy", "avatar_url": "https://avatars.githubusercontent.com/u/11176562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CDirkx", "html_url": "https://github.com/CDirkx", "followers_url": "https://api.github.com/users/CDirkx/followers", "following_url": "https://api.github.com/users/CDirkx/following{/other_user}", "gists_url": "https://api.github.com/users/CDirkx/gists{/gist_id}", "starred_url": "https://api.github.com/users/CDirkx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CDirkx/subscriptions", "organizations_url": "https://api.github.com/users/CDirkx/orgs", "repos_url": "https://api.github.com/users/CDirkx/repos", "events_url": "https://api.github.com/users/CDirkx/events{/privacy}", "received_events_url": "https://api.github.com/users/CDirkx/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CDirkx", "id": 11176562, "node_id": "MDQ6VXNlcjExMTc2NTYy", "avatar_url": "https://avatars.githubusercontent.com/u/11176562?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CDirkx", "html_url": "https://github.com/CDirkx", "followers_url": "https://api.github.com/users/CDirkx/followers", "following_url": "https://api.github.com/users/CDirkx/following{/other_user}", "gists_url": "https://api.github.com/users/CDirkx/gists{/gist_id}", "starred_url": "https://api.github.com/users/CDirkx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CDirkx/subscriptions", "organizations_url": "https://api.github.com/users/CDirkx/orgs", "repos_url": "https://api.github.com/users/CDirkx/repos", "events_url": "https://api.github.com/users/CDirkx/events{/privacy}", "received_events_url": "https://api.github.com/users/CDirkx/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ea5dc0909ea1ed4135f1bdecbaa3423051be578d", "url": "https://api.github.com/repos/rust-lang/rust/commits/ea5dc0909ea1ed4135f1bdecbaa3423051be578d", "html_url": "https://github.com/rust-lang/rust/commit/ea5dc0909ea1ed4135f1bdecbaa3423051be578d"}], "stats": {"total": 33, "additions": 17, "deletions": 16}, "files": [{"sha": "835289daf715adf936723f10b62f145248491640", "filename": "library/core/tests/cmp.rs", "status": "modified", "additions": 17, "deletions": 1, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/79d563c819483eaf6e67b6aaaef9d0ca6030337d/library%2Fcore%2Ftests%2Fcmp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79d563c819483eaf6e67b6aaaef9d0ca6030337d/library%2Fcore%2Ftests%2Fcmp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Fcmp.rs?ref=79d563c819483eaf6e67b6aaaef9d0ca6030337d", "patch": "@@ -1,4 +1,7 @@\n-use core::cmp::{self, Ordering::*};\n+use core::cmp::{\n+    self,\n+    Ordering::{self, *},\n+};\n \n #[test]\n fn test_int_totalord() {\n@@ -116,3 +119,16 @@ fn test_user_defined_eq() {\n     assert!(SketchyNum { num: 37 } == SketchyNum { num: 34 });\n     assert!(SketchyNum { num: 25 } != SketchyNum { num: 57 });\n }\n+\n+#[test]\n+fn ordering_const() {\n+    // test that the methods of `Ordering` are usable in a const context\n+\n+    const ORDERING: Ordering = Greater;\n+\n+    const REVERSE: Ordering = ORDERING.reverse();\n+    assert_eq!(REVERSE, Less);\n+\n+    const THEN: Ordering = Equal.then(ORDERING);\n+    assert_eq!(THEN, Greater);\n+}"}, {"sha": "454f2da00df9e28ce2c6b40806730281fd88e071", "filename": "src/test/ui/consts/const-ordering.rs", "status": "removed", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/ea5dc0909ea1ed4135f1bdecbaa3423051be578d/src%2Ftest%2Fui%2Fconsts%2Fconst-ordering.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea5dc0909ea1ed4135f1bdecbaa3423051be578d/src%2Ftest%2Fui%2Fconsts%2Fconst-ordering.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-ordering.rs?ref=ea5dc0909ea1ed4135f1bdecbaa3423051be578d", "patch": "@@ -1,15 +0,0 @@\n-// run-pass\n-\n-use std::cmp::Ordering;\n-\n-// the following methods of core::cmp::Ordering are const:\n-//  - reverse\n-//  - then\n-\n-fn main() {\n-    const REVERSE : Ordering = Ordering::Greater.reverse();\n-    assert_eq!(REVERSE, Ordering::Less);\n-\n-    const THEN : Ordering = Ordering::Equal.then(REVERSE);\n-    assert_eq!(THEN, Ordering::Less);\n-}"}]}