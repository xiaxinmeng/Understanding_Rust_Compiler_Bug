{"sha": "96515ccc7a41cc8968ee742cb4d65205582e0fe9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk2NTE1Y2NjN2E0MWNjODk2OGVlNzQyY2I0ZDY1MjA1NTgyZTBmZTk=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-11-15T02:03:01Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-11-15T02:03:01Z"}, "message": "Rollup merge of #79013 - jryans:cleanup-use-once-pretty-comment, r=Mark-Simulacrum\n\nClean up outdated `use_once_payload` pretty printer comment\n\nWhile reading some parts of the pretty printer code, I noticed this old comment\nwhich seemed out of place. The `use_once_payload` this outdated comment mentions\nwas removed in 2017 in 40f03a1e0d6702add1922f82d716d5b2c23a59f0, so this\ncompletes the work by removing the comment.", "tree": {"sha": "59ffa44ee35633cf8ff80b132e2cf0919c3dd787", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/59ffa44ee35633cf8ff80b132e2cf0919c3dd787"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/96515ccc7a41cc8968ee742cb4d65205582e0fe9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfsIxWCRBK7hj4Ov3rIwAAdHIIAKFeekcPSShirs4cxDtO691F\nCnPgcOLuB4mqOeNnyOY1Dxy+ilevTHfJ+MBXzpTso9E8gfBfIArbWYKxJJjQj8rz\nV64+TEpHczXo/f3GvJwOQ37MKsRja8veQA8Kzq3J7EyGlZTJeKvqPkoFuHmE8t40\ndfNVJrUQVFt9EY+nRG7OYzIh46FiTCbgFpUvwkSG1DBG/gLLDOUr2SfFzFijIWtA\n8iFNjsKRze7FVMmCwIxIgnw477m/ZOSe3ep0ftb7IP6q+BlSTGTA+ZYHVd5qMXTr\nx+D1RqcCALvedkYa6JPQH69k/NZ39Wc7QTEj9DdH7hIlrCZU26F3FP+47RFIZyQ=\n=iKRt\n-----END PGP SIGNATURE-----\n", "payload": "tree 59ffa44ee35633cf8ff80b132e2cf0919c3dd787\nparent 96fc0f4c2f5cadbc51f70fafe1ed394565744e60\nparent bd0fba207be439799148cd1e9caddd625accfb12\nauthor Dylan DPC <dylan.dpc@gmail.com> 1605405781 +0100\ncommitter GitHub <noreply@github.com> 1605405781 +0100\n\nRollup merge of #79013 - jryans:cleanup-use-once-pretty-comment, r=Mark-Simulacrum\n\nClean up outdated `use_once_payload` pretty printer comment\n\nWhile reading some parts of the pretty printer code, I noticed this old comment\nwhich seemed out of place. The `use_once_payload` this outdated comment mentions\nwas removed in 2017 in 40f03a1e0d6702add1922f82d716d5b2c23a59f0, so this\ncompletes the work by removing the comment.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/96515ccc7a41cc8968ee742cb4d65205582e0fe9", "html_url": "https://github.com/rust-lang/rust/commit/96515ccc7a41cc8968ee742cb4d65205582e0fe9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/96515ccc7a41cc8968ee742cb4d65205582e0fe9/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "96fc0f4c2f5cadbc51f70fafe1ed394565744e60", "url": "https://api.github.com/repos/rust-lang/rust/commits/96fc0f4c2f5cadbc51f70fafe1ed394565744e60", "html_url": "https://github.com/rust-lang/rust/commit/96fc0f4c2f5cadbc51f70fafe1ed394565744e60"}, {"sha": "bd0fba207be439799148cd1e9caddd625accfb12", "url": "https://api.github.com/repos/rust-lang/rust/commits/bd0fba207be439799148cd1e9caddd625accfb12", "html_url": "https://github.com/rust-lang/rust/commit/bd0fba207be439799148cd1e9caddd625accfb12"}], "stats": {"total": 3, "additions": 0, "deletions": 3}, "files": [{"sha": "f74e1fe61e7ef209f14667dcd19b79bd74fe6de4", "filename": "compiler/rustc_driver/src/pretty.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/96515ccc7a41cc8968ee742cb4d65205582e0fe9/compiler%2Frustc_driver%2Fsrc%2Fpretty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/96515ccc7a41cc8968ee742cb4d65205582e0fe9/compiler%2Frustc_driver%2Fsrc%2Fpretty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_driver%2Fsrc%2Fpretty.rs?ref=96515ccc7a41cc8968ee742cb4d65205582e0fe9", "patch": "@@ -32,9 +32,6 @@ use crate::abort_on_err;\n // Note that since the `&PrinterSupport` is freshly constructed on each\n // call, it would not make sense to try to attach the lifetime of `self`\n // to the lifetime of the `&PrinterObject`.\n-//\n-// (The `use_once_payload` is working around the current lack of once\n-// functions in the compiler.)\n \n /// Constructs a `PrinterSupport` object and passes it to `f`.\n fn call_with_pp_support<'tcx, A, F>("}]}