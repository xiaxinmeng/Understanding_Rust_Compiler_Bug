{"sha": "e118a2cbf1e590cb5a7586ad01c6c3431c2b4f48", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUxMThhMmNiZjFlNTkwY2I1YTc1ODZhZDAxYzZjMzQzMWMyYjRmNDg=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2021-06-04T19:23:45Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2021-06-04T20:44:28Z"}, "message": "Remove tests that were also added in PR 79684.", "tree": {"sha": "7fa2aa0d1b7a817d16e208ad643c6ed716750d8a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7fa2aa0d1b7a817d16e208ad643c6ed716750d8a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e118a2cbf1e590cb5a7586ad01c6c3431c2b4f48", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e118a2cbf1e590cb5a7586ad01c6c3431c2b4f48", "html_url": "https://github.com/rust-lang/rust/commit/e118a2cbf1e590cb5a7586ad01c6c3431c2b4f48", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e118a2cbf1e590cb5a7586ad01c6c3431c2b4f48/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0728256f8f555266d6662e1f1ceb7c8fb3ce6796", "url": "https://api.github.com/repos/rust-lang/rust/commits/0728256f8f555266d6662e1f1ceb7c8fb3ce6796", "html_url": "https://github.com/rust-lang/rust/commit/0728256f8f555266d6662e1f1ceb7c8fb3ce6796"}], "stats": {"total": 75, "additions": 0, "deletions": 75}, "files": [{"sha": "183aa9e51228c985651854a1134a7a6f098b8874", "filename": "src/test/ui/const-ptr/out_of_bounds_read.rs", "status": "removed", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/0728256f8f555266d6662e1f1ceb7c8fb3ce6796/src%2Ftest%2Fui%2Fconst-ptr%2Fout_of_bounds_read.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0728256f8f555266d6662e1f1ceb7c8fb3ce6796/src%2Ftest%2Fui%2Fconst-ptr%2Fout_of_bounds_read.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-ptr%2Fout_of_bounds_read.rs?ref=0728256f8f555266d6662e1f1ceb7c8fb3ce6796", "patch": "@@ -1,16 +0,0 @@\n-// error-pattern: any use of this value will cause an error\n-\n-#![feature(const_ptr_read)]\n-#![feature(const_ptr_offset)]\n-\n-fn main() {\n-    use std::ptr;\n-\n-    const DATA: [u32; 1] = [42];\n-\n-    const PAST_END_PTR: *const u32 = unsafe { DATA.as_ptr().add(1) };\n-\n-    const _READ: u32 = unsafe { ptr::read(PAST_END_PTR) };\n-    const _CONST_READ: u32 = unsafe { PAST_END_PTR.read() };\n-    const _MUT_READ: u32 = unsafe { (PAST_END_PTR as *mut u32).read() };\n-}"}, {"sha": "6c4092e3e5cc82d9c9f79eb753be09e41a338630", "filename": "src/test/ui/const-ptr/out_of_bounds_read.stderr", "status": "removed", "additions": 0, "deletions": 59, "changes": 59, "blob_url": "https://github.com/rust-lang/rust/blob/0728256f8f555266d6662e1f1ceb7c8fb3ce6796/src%2Ftest%2Fui%2Fconst-ptr%2Fout_of_bounds_read.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0728256f8f555266d6662e1f1ceb7c8fb3ce6796/src%2Ftest%2Fui%2Fconst-ptr%2Fout_of_bounds_read.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-ptr%2Fout_of_bounds_read.stderr?ref=0728256f8f555266d6662e1f1ceb7c8fb3ce6796", "patch": "@@ -1,59 +0,0 @@\n-error: any use of this value will cause an error\n-  --> $SRC_DIR/core/src/ptr/mod.rs:LL:COL\n-   |\n-LL |         copy_nonoverlapping(src, tmp.as_mut_ptr(), 1);\n-   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-   |         |\n-   |         memory access failed: pointer must be in-bounds at offset 8, but is outside bounds of alloc6 which has size 4\n-   |         inside `std::ptr::read::<u32>` at $SRC_DIR/core/src/ptr/mod.rs:LL:COL\n-   |         inside `_READ` at $DIR/out_of_bounds_read.rs:13:33\n-   | \n-  ::: $DIR/out_of_bounds_read.rs:13:5\n-   |\n-LL |     const _READ: u32 = unsafe { ptr::read(PAST_END_PTR) };\n-   |     ------------------------------------------------------\n-   |\n-   = note: `#[deny(const_err)]` on by default\n-   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n-   = note: for more information, see issue #71800 <https://github.com/rust-lang/rust/issues/71800>\n-\n-error: any use of this value will cause an error\n-  --> $SRC_DIR/core/src/ptr/mod.rs:LL:COL\n-   |\n-LL |         copy_nonoverlapping(src, tmp.as_mut_ptr(), 1);\n-   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-   |         |\n-   |         memory access failed: pointer must be in-bounds at offset 8, but is outside bounds of alloc6 which has size 4\n-   |         inside `std::ptr::read::<u32>` at $SRC_DIR/core/src/ptr/mod.rs:LL:COL\n-   |         inside `ptr::const_ptr::<impl *const u32>::read` at $SRC_DIR/core/src/ptr/const_ptr.rs:LL:COL\n-   |         inside `_CONST_READ` at $DIR/out_of_bounds_read.rs:14:39\n-   | \n-  ::: $DIR/out_of_bounds_read.rs:14:5\n-   |\n-LL |     const _CONST_READ: u32 = unsafe { PAST_END_PTR.read() };\n-   |     --------------------------------------------------------\n-   |\n-   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n-   = note: for more information, see issue #71800 <https://github.com/rust-lang/rust/issues/71800>\n-\n-error: any use of this value will cause an error\n-  --> $SRC_DIR/core/src/ptr/mod.rs:LL:COL\n-   |\n-LL |         copy_nonoverlapping(src, tmp.as_mut_ptr(), 1);\n-   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-   |         |\n-   |         memory access failed: pointer must be in-bounds at offset 8, but is outside bounds of alloc6 which has size 4\n-   |         inside `std::ptr::read::<u32>` at $SRC_DIR/core/src/ptr/mod.rs:LL:COL\n-   |         inside `ptr::mut_ptr::<impl *mut u32>::read` at $SRC_DIR/core/src/ptr/mut_ptr.rs:LL:COL\n-   |         inside `_MUT_READ` at $DIR/out_of_bounds_read.rs:15:37\n-   | \n-  ::: $DIR/out_of_bounds_read.rs:15:5\n-   |\n-LL |     const _MUT_READ: u32 = unsafe { (PAST_END_PTR as *mut u32).read() };\n-   |     --------------------------------------------------------------------\n-   |\n-   = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n-   = note: for more information, see issue #71800 <https://github.com/rust-lang/rust/issues/71800>\n-\n-error: aborting due to 3 previous errors\n-"}]}