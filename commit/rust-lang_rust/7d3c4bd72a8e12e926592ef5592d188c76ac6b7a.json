{"sha": "7d3c4bd72a8e12e926592ef5592d188c76ac6b7a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdkM2M0YmQ3MmE4ZTEyZTkyNjU5MmVmNTU5MmQxODhjNzZhYzZiN2E=", "commit": {"author": {"name": "Eli Friedman", "email": "eli.friedman@gmail.com", "date": "2015-08-10T01:56:48Z"}, "committer": {"name": "Eli Friedman", "email": "eli.friedman@gmail.com", "date": "2015-08-10T01:56:48Z"}, "message": "Tweak style guide to avoid referencing the removed ascii::Ascii.", "tree": {"sha": "da6fe5764fbe9d5be1c16c7fb42008f477185c8a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/da6fe5764fbe9d5be1c16c7fb42008f477185c8a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7d3c4bd72a8e12e926592ef5592d188c76ac6b7a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7d3c4bd72a8e12e926592ef5592d188c76ac6b7a", "html_url": "https://github.com/rust-lang/rust/commit/7d3c4bd72a8e12e926592ef5592d188c76ac6b7a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7d3c4bd72a8e12e926592ef5592d188c76ac6b7a/comments", "author": {"login": "eefriedman", "id": 12769964, "node_id": "MDQ6VXNlcjEyNzY5OTY0", "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eefriedman", "html_url": "https://github.com/eefriedman", "followers_url": "https://api.github.com/users/eefriedman/followers", "following_url": "https://api.github.com/users/eefriedman/following{/other_user}", "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}", "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions", "organizations_url": "https://api.github.com/users/eefriedman/orgs", "repos_url": "https://api.github.com/users/eefriedman/repos", "events_url": "https://api.github.com/users/eefriedman/events{/privacy}", "received_events_url": "https://api.github.com/users/eefriedman/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eefriedman", "id": 12769964, "node_id": "MDQ6VXNlcjEyNzY5OTY0", "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eefriedman", "html_url": "https://github.com/eefriedman", "followers_url": "https://api.github.com/users/eefriedman/followers", "following_url": "https://api.github.com/users/eefriedman/following{/other_user}", "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}", "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions", "organizations_url": "https://api.github.com/users/eefriedman/orgs", "repos_url": "https://api.github.com/users/eefriedman/repos", "events_url": "https://api.github.com/users/eefriedman/events{/privacy}", "received_events_url": "https://api.github.com/users/eefriedman/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bbbfed2f93d3ba58a53ed8bf353ed11f3bb751db", "url": "https://api.github.com/repos/rust-lang/rust/commits/bbbfed2f93d3ba58a53ed8bf353ed11f3bb751db", "html_url": "https://github.com/rust-lang/rust/commit/bbbfed2f93d3ba58a53ed8bf353ed11f3bb751db"}], "stats": {"total": 23, "additions": 13, "deletions": 10}, "files": [{"sha": "9ea1d218161912b50fed472dc4df7e000036e626", "filename": "src/doc/style/features/functions-and-methods/input.md", "status": "modified", "additions": 13, "deletions": 10, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/7d3c4bd72a8e12e926592ef5592d188c76ac6b7a/src%2Fdoc%2Fstyle%2Ffeatures%2Ffunctions-and-methods%2Finput.md", "raw_url": "https://github.com/rust-lang/rust/raw/7d3c4bd72a8e12e926592ef5592d188c76ac6b7a/src%2Fdoc%2Fstyle%2Ffeatures%2Ffunctions-and-methods%2Finput.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fstyle%2Ffeatures%2Ffunctions-and-methods%2Finput.md?ref=7d3c4bd72a8e12e926592ef5592d188c76ac6b7a", "patch": "@@ -147,23 +147,26 @@ Choose an argument type that rules out bad inputs.\n For example, prefer\n \n ```rust\n-fn foo(a: ascii::Ascii) { ... }\n+enum FooMode {\n+    Mode1,\n+    Mode2,\n+    Mode3,\n+}\n+fn foo(mode: FooMode) { ... }\n ```\n \n over\n \n ```rust\n-fn foo(a: u8) { ... }\n+fn foo(mode2: bool, mode3: bool) {\n+    assert!(!mode2 || !mode3);\n+    ...\n+}\n ```\n \n-Note that `ascii::Ascii`\n-is a _wrapper_ around `u8` that guarantees the highest bit is zero; see\n-[newtype patterns](../types/newtype.md) for more details on creating typesafe wrappers.\n-\n Static enforcement usually comes at little run-time cost: it pushes the\n-costs to the boundaries (e.g. when a `u8` is first converted into an\n-`Ascii`). It also catches bugs early, during compilation, rather than through\n-run-time failures.\n+costs to the boundaries. It also catches bugs early, during compilation,\n+rather than through run-time failures.\n \n On the other hand, some properties are difficult or impossible to\n express using types.\n@@ -176,7 +179,7 @@ downsides:\n \n 1. Runtime overhead (unless checking can be done as part of processing the input).\n 2. Delayed detection of bugs.\n-3. Introduces failure cases, either via `fail!` or `Result`/`Option` types (see\n+3. Introduces failure cases, either via `panic!` or `Result`/`Option` types (see\n    the [error handling guidelines](../../errors/README.md)), which must then be\n    dealt with by client code.\n "}]}