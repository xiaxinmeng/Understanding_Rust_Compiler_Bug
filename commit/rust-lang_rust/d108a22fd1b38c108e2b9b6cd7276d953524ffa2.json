{"sha": "d108a22fd1b38c108e2b9b6cd7276d953524ffa2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQxMDhhMjJmZDFiMzhjMTA4ZTJiOWI2Y2Q3Mjc2ZDk1MzUyNGZmYTI=", "commit": {"author": {"name": "Kevin Ballard", "email": "kevin@sb.org", "date": "2013-10-16T16:55:55Z"}, "committer": {"name": "Kevin Ballard", "email": "kevin@sb.org", "date": "2013-10-16T18:18:06Z"}, "message": "path2: Update for privacy changes\n\nRemove redundant `contains_nul` definition.\n\nMake `parse_prefix` private.", "tree": {"sha": "7918be0e9c581c1107e2b233397a311aea3f7726", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7918be0e9c581c1107e2b233397a311aea3f7726"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d108a22fd1b38c108e2b9b6cd7276d953524ffa2", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d108a22fd1b38c108e2b9b6cd7276d953524ffa2", "html_url": "https://github.com/rust-lang/rust/commit/d108a22fd1b38c108e2b9b6cd7276d953524ffa2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d108a22fd1b38c108e2b9b6cd7276d953524ffa2/comments", "author": {"login": "lilyball", "id": 714, "node_id": "MDQ6VXNlcjcxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilyball", "html_url": "https://github.com/lilyball", "followers_url": "https://api.github.com/users/lilyball/followers", "following_url": "https://api.github.com/users/lilyball/following{/other_user}", "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions", "organizations_url": "https://api.github.com/users/lilyball/orgs", "repos_url": "https://api.github.com/users/lilyball/repos", "events_url": "https://api.github.com/users/lilyball/events{/privacy}", "received_events_url": "https://api.github.com/users/lilyball/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lilyball", "id": 714, "node_id": "MDQ6VXNlcjcxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/714?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lilyball", "html_url": "https://github.com/lilyball", "followers_url": "https://api.github.com/users/lilyball/followers", "following_url": "https://api.github.com/users/lilyball/following{/other_user}", "gists_url": "https://api.github.com/users/lilyball/gists{/gist_id}", "starred_url": "https://api.github.com/users/lilyball/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lilyball/subscriptions", "organizations_url": "https://api.github.com/users/lilyball/orgs", "repos_url": "https://api.github.com/users/lilyball/repos", "events_url": "https://api.github.com/users/lilyball/events{/privacy}", "received_events_url": "https://api.github.com/users/lilyball/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6eade9e9143e496167d66298e8bbac5d9dfa3e19", "url": "https://api.github.com/repos/rust-lang/rust/commits/6eade9e9143e496167d66298e8bbac5d9dfa3e19", "html_url": "https://github.com/rust-lang/rust/commit/6eade9e9143e496167d66298e8bbac5d9dfa3e19"}], "stats": {"total": 18, "additions": 3, "deletions": 15}, "files": [{"sha": "87821105d37e16769d13720bf131e077abccdcf7", "filename": "src/libstd/path/posix.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d108a22fd1b38c108e2b9b6cd7276d953524ffa2/src%2Flibstd%2Fpath%2Fposix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d108a22fd1b38c108e2b9b6cd7276d953524ffa2/src%2Flibstd%2Fpath%2Fposix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpath%2Fposix.rs?ref=d108a22fd1b38c108e2b9b6cd7276d953524ffa2", "patch": "@@ -439,12 +439,6 @@ fn normalize_helper<'a>(v: &'a [u8], is_abs: bool) -> Option<~[&'a [u8]]> {\n     }\n }\n \n-// FIXME (#8169): Pull this into parent module once visibility works\n-#[inline(always)]\n-fn contains_nul(v: &[u8]) -> bool {\n-    v.iter().any(|&x| x == 0)\n-}\n-\n static dot_static: &'static [u8] = bytes!(\".\");\n static dot_dot_static: &'static [u8] = bytes!(\"..\");\n "}, {"sha": "0de2bd4c742b990a010a8f33164b6bef69070514", "filename": "src/libstd/path/windows.rs", "status": "modified", "additions": 3, "deletions": 9, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/d108a22fd1b38c108e2b9b6cd7276d953524ffa2/src%2Flibstd%2Fpath%2Fwindows.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d108a22fd1b38c108e2b9b6cd7276d953524ffa2/src%2Flibstd%2Fpath%2Fwindows.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpath%2Fwindows.rs?ref=d108a22fd1b38c108e2b9b6cd7276d953524ffa2", "patch": "@@ -21,7 +21,7 @@ use str;\n use str::{CharSplitIterator, OwnedStr, Str, StrVector};\n use to_bytes::IterBytes;\n use vec::Vector;\n-use super::{BytesContainer, GenericPath, GenericPathUnsafe};\n+use super::{contains_nul, BytesContainer, GenericPath, GenericPathUnsafe};\n \n #[cfg(target_os = \"win32\")]\n use libc;\n@@ -922,9 +922,8 @@ pub enum PathPrefix {\n     DiskPrefix\n }\n \n-/// Internal function; only public for tests. Don't use.\n // FIXME (#8169): Make private once visibility is fixed\n-pub fn parse_prefix<'a>(mut path: &'a str) -> Option<PathPrefix> {\n+fn parse_prefix<'a>(mut path: &'a str) -> Option<PathPrefix> {\n     if path.starts_with(\"\\\\\\\\\") {\n         // \\\\\n         path = path.slice_from(2);\n@@ -1032,12 +1031,6 @@ fn normalize_helper<'a>(s: &'a str, prefix: Option<PathPrefix>) -> (bool,Option<\n     }\n }\n \n-// FIXME (#8169): Pull this into parent module once visibility works\n-#[inline(always)]\n-fn contains_nul(v: &[u8]) -> bool {\n-    v.iter().any(|&x| x == 0)\n-}\n-\n fn prefix_is_verbatim(p: Option<PathPrefix>) -> bool {\n     match p {\n         Some(VerbatimPrefix(_)) | Some(VerbatimUNCPrefix(_,_)) | Some(VerbatimDiskPrefix) => true,\n@@ -1136,6 +1129,7 @@ impl Path {\n #[cfg(test)]\n mod tests {\n     use super::*;\n+    use super::parse_prefix;\n     use option::{Some,None};\n     use iter::Iterator;\n     use vec::Vector;"}]}