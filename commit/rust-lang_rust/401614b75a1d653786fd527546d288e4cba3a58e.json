{"sha": "401614b75a1d653786fd527546d288e4cba3a58e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQwMTYxNGI3NWExZDY1Mzc4NmZkNTI3NTQ2ZDI4OGU0Y2JhM2E1OGU=", "commit": {"author": {"name": "Venkata Giri Reddy", "email": "venkatagirireddy@gmail.com", "date": "2017-06-30T16:55:32Z"}, "committer": {"name": "Venkata Giri Reddy", "email": "venkatagirireddy@gmail.com", "date": "2017-06-30T16:55:32Z"}, "message": "rustc_llvm: re-run build script when env var LLVM_CONFIG changes", "tree": {"sha": "7ec1532c8e8618d1e940dc2fa1188706c21538c5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7ec1532c8e8618d1e940dc2fa1188706c21538c5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/401614b75a1d653786fd527546d288e4cba3a58e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/401614b75a1d653786fd527546d288e4cba3a58e", "html_url": "https://github.com/rust-lang/rust/commit/401614b75a1d653786fd527546d288e4cba3a58e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/401614b75a1d653786fd527546d288e4cba3a58e/comments", "author": {"login": "venkatagiri", "id": 231465, "node_id": "MDQ6VXNlcjIzMTQ2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/231465?v=4", "gravatar_id": "", "url": "https://api.github.com/users/venkatagiri", "html_url": "https://github.com/venkatagiri", "followers_url": "https://api.github.com/users/venkatagiri/followers", "following_url": "https://api.github.com/users/venkatagiri/following{/other_user}", "gists_url": "https://api.github.com/users/venkatagiri/gists{/gist_id}", "starred_url": "https://api.github.com/users/venkatagiri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/venkatagiri/subscriptions", "organizations_url": "https://api.github.com/users/venkatagiri/orgs", "repos_url": "https://api.github.com/users/venkatagiri/repos", "events_url": "https://api.github.com/users/venkatagiri/events{/privacy}", "received_events_url": "https://api.github.com/users/venkatagiri/received_events", "type": "User", "site_admin": false}, "committer": {"login": "venkatagiri", "id": 231465, "node_id": "MDQ6VXNlcjIzMTQ2NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/231465?v=4", "gravatar_id": "", "url": "https://api.github.com/users/venkatagiri", "html_url": "https://github.com/venkatagiri", "followers_url": "https://api.github.com/users/venkatagiri/followers", "following_url": "https://api.github.com/users/venkatagiri/following{/other_user}", "gists_url": "https://api.github.com/users/venkatagiri/gists{/gist_id}", "starred_url": "https://api.github.com/users/venkatagiri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/venkatagiri/subscriptions", "organizations_url": "https://api.github.com/users/venkatagiri/orgs", "repos_url": "https://api.github.com/users/venkatagiri/repos", "events_url": "https://api.github.com/users/venkatagiri/events{/privacy}", "received_events_url": "https://api.github.com/users/venkatagiri/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d0e0f53376766308850d3f79ec6ed0b12dc10e49", "url": "https://api.github.com/repos/rust-lang/rust/commits/d0e0f53376766308850d3f79ec6ed0b12dc10e49", "html_url": "https://github.com/rust-lang/rust/commit/d0e0f53376766308850d3f79ec6ed0b12dc10e49"}], "stats": {"total": 10, "additions": 1, "deletions": 9}, "files": [{"sha": "b2bd792e93ba6bc8e2de3c6e1e707130b3f6bdff", "filename": "src/bootstrap/compile.rs", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/401614b75a1d653786fd527546d288e4cba3a58e/src%2Fbootstrap%2Fcompile.rs", "raw_url": "https://github.com/rust-lang/rust/raw/401614b75a1d653786fd527546d288e4cba3a58e/src%2Fbootstrap%2Fcompile.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fcompile.rs?ref=401614b75a1d653786fd527546d288e4cba3a58e", "patch": "@@ -276,10 +276,6 @@ pub fn rustc(build: &Build, target: &str, compiler: &Compiler) {\n     if build.is_rust_llvm(target) {\n         cargo.env(\"LLVM_RUSTLLVM\", \"1\");\n     }\n-    if let Some(ref cfg_file) = build.flags.config {\n-        let cfg_path = t!(PathBuf::from(cfg_file).canonicalize());\n-        cargo.env(\"CFG_LLVM_TOML\", cfg_path.into_os_string());\n-    }\n     cargo.env(\"LLVM_CONFIG\", build.llvm_config(target));\n     let target_config = build.config.target_config.get(target);\n     if let Some(s) = target_config.and_then(|c| c.llvm_config.as_ref()) {"}, {"sha": "3f0f5369607e527eb6ddb16050cfa79c52bae6d9", "filename": "src/librustc_llvm/build.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/401614b75a1d653786fd527546d288e4cba3a58e/src%2Flibrustc_llvm%2Fbuild.rs", "raw_url": "https://github.com/rust-lang/rust/raw/401614b75a1d653786fd527546d288e4cba3a58e/src%2Flibrustc_llvm%2Fbuild.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_llvm%2Fbuild.rs?ref=401614b75a1d653786fd527546d288e4cba3a58e", "patch": "@@ -60,11 +60,7 @@ fn main() {\n         });\n \n     println!(\"cargo:rerun-if-changed={}\", llvm_config.display());\n-\n-    if let Some(cfg_toml) = env::var_os(\"CFG_LLVM_TOML\") {\n-        let cfg_path = PathBuf::from(cfg_toml);\n-        println!(\"cargo:rerun-if-changed={}\", cfg_path.display());\n-    }\n+    println!(\"cargo:rerun-if-env-changed=LLVM_CONFIG\");\n \n     // Test whether we're cross-compiling LLVM. This is a pretty rare case\n     // currently where we're producing an LLVM for a different platform than"}]}