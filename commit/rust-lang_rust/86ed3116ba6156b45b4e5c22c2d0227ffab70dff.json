{"sha": "86ed3116ba6156b45b4e5c22c2d0227ffab70dff", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg2ZWQzMTE2YmE2MTU2YjQ1YjRlNWMyMmMyZDAyMjdmZmFiNzBkZmY=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-04-27T16:37:18Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-04-28T19:19:27Z"}, "message": "Fix lint findings in librustdoc", "tree": {"sha": "fe84c36dbd23c369ea3c896fbeab02dd17fa6f0d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe84c36dbd23c369ea3c896fbeab02dd17fa6f0d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/86ed3116ba6156b45b4e5c22c2d0227ffab70dff", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAlzF/L8ACgkQaTCGhp1Q\nZjdIPg/+JQpoApXFTuvufcuzXyQms9R6GAE1KNQop+TxQZtTSFB9IJdQ0kaUu4fn\n9ScHUrt+b28MwexzY7kUFkUgVhjAMjGkcBgubiNEt7RZp3F9los+8n5QSB93t2fG\nNwOXSNudXi7MU9sFNpfKGmmOciVqlNP6jOEAgf1r18bTHOc8/FUDAtTltnieDBZU\nOuPmpuKK4B7DaFUVOPzJqxNd5MPcPO5K4LOa6qCxoafYnvyWw1VrJl/x7/bNWVFO\nxNtJX2jFgCdIfHVDlR7jw3d0Mtsb13SMvo8bFV4VfEsdDGQ8+aqcsOt4eCLWBbSX\nsg7OSakNhGaFmjdQpb96OW/gkjRc3+NJxFLYymtZEKMDIIzSTOV16u9ekaBwRpQx\nWZg+xwDYR4G7lZC5XRS6JSJA90N8apVvuHEcrqMcc8EGm0VYLoJLXcfpBwpz4nhO\noJeridvcZc7xaQ4IbjcVj08aorqLc3FZQxLrKnGManbMqvm2QcwJXLySyBctAtjh\np2Fl7XnBuW+7FXFfPjx3nxeQIxHkf36zqOnE4BIWoPBN/rRXNW7Y5eRLe/Hnour9\nHl9gQTBEC1V+b3TUeQ49QWEX1rSo8YGIJtMa+UQZ+J1fdjEsAsHkp1uUqbY7FPEO\nan3BXx/io1LUmEJE8zi1gZXMUs3UeYGv3H2YCb+t8A66EGImHQY=\n=V/rJ\n-----END PGP SIGNATURE-----", "payload": "tree fe84c36dbd23c369ea3c896fbeab02dd17fa6f0d\nparent e1da67e69cec2d188ea663097a765d501582837e\nauthor flip1995 <hello@philkrones.com> 1556383038 +0200\ncommitter flip1995 <hello@philkrones.com> 1556479167 +0200\n\nFix lint findings in librustdoc\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/86ed3116ba6156b45b4e5c22c2d0227ffab70dff", "html_url": "https://github.com/rust-lang/rust/commit/86ed3116ba6156b45b4e5c22c2d0227ffab70dff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/86ed3116ba6156b45b4e5c22c2d0227ffab70dff/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e1da67e69cec2d188ea663097a765d501582837e", "url": "https://api.github.com/repos/rust-lang/rust/commits/e1da67e69cec2d188ea663097a765d501582837e", "html_url": "https://github.com/rust-lang/rust/commit/e1da67e69cec2d188ea663097a765d501582837e"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "a33b3a9312e4b8111e903cb9b1caf052958feb74", "filename": "src/librustdoc/clean/auto_trait.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/86ed3116ba6156b45b4e5c22c2d0227ffab70dff/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/86ed3116ba6156b45b4e5c22c2d0227ffab70dff/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs?ref=86ed3116ba6156b45b4e5c22c2d0227ffab70dff", "patch": "@@ -634,7 +634,7 @@ impl<'a, 'tcx> AutoTraitFinder<'a, 'tcx> {\n                                 // that we don't end up with duplicate bounds (e.g., for<'b, 'b>)\n                                 for_generics.extend(p.generic_params.clone());\n                                 p.generic_params = for_generics.into_iter().collect();\n-                                self.is_fn_ty(&tcx, &p.trait_)\n+                                self.is_fn_ty(tcx, &p.trait_)\n                             }\n                             _ => false,\n                         };\n@@ -681,7 +681,7 @@ impl<'a, 'tcx> AutoTraitFinder<'a, 'tcx> {\n                                 } => {\n                                     let mut new_trait_path = trait_path.clone();\n \n-                                    if self.is_fn_ty(&tcx, trait_) && left_name == FN_OUTPUT_NAME {\n+                                    if self.is_fn_ty(tcx, trait_) && left_name == FN_OUTPUT_NAME {\n                                         ty_to_fn\n                                             .entry(*ty.clone())\n                                             .and_modify(|e| *e = (e.0.clone(), Some(rhs.clone())))\n@@ -850,7 +850,7 @@ impl<'a, 'tcx> AutoTraitFinder<'a, 'tcx> {\n         vec.sort_by_cached_key(|x| format!(\"{:?}\", x))\n     }\n \n-    fn is_fn_ty(&self, tcx: &TyCtxt<'_, '_, '_>, ty: &Type) -> bool {\n+    fn is_fn_ty(&self, tcx: TyCtxt<'_, '_, '_>, ty: &Type) -> bool {\n         match &ty {\n             &&Type::ResolvedPath { ref did, .. } => {\n                 *did == tcx.require_lang_item(lang_items::FnTraitLangItem)"}, {"sha": "8232254cdec14aeec62860fc49a01fd9e09c16d6", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/86ed3116ba6156b45b4e5c22c2d0227ffab70dff/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/86ed3116ba6156b45b4e5c22c2d0227ffab70dff/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=86ed3116ba6156b45b4e5c22c2d0227ffab70dff", "patch": "@@ -4399,7 +4399,7 @@ where\n \n // Start of code copied from rust-clippy\n \n-pub fn path_to_def_local(tcx: &TyCtxt<'_, '_, '_>, path: &[&str]) -> Option<DefId> {\n+pub fn path_to_def_local(tcx: TyCtxt<'_, '_, '_>, path: &[&str]) -> Option<DefId> {\n     let krate = tcx.hir().krate();\n     let mut items = krate.module.item_ids.clone();\n     let mut path_it = path.iter().peekable();\n@@ -4424,7 +4424,7 @@ pub fn path_to_def_local(tcx: &TyCtxt<'_, '_, '_>, path: &[&str]) -> Option<DefI\n     }\n }\n \n-pub fn path_to_def(tcx: &TyCtxt<'_, '_, '_>, path: &[&str]) -> Option<DefId> {\n+pub fn path_to_def(tcx: TyCtxt<'_, '_, '_>, path: &[&str]) -> Option<DefId> {\n     let crates = tcx.crates();\n \n     let krate = crates"}, {"sha": "2274f4e81d43c6044edf527b5e14b94e9b2f2d84", "filename": "src/librustdoc/core.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/86ed3116ba6156b45b4e5c22c2d0227ffab70dff/src%2Flibrustdoc%2Fcore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/86ed3116ba6156b45b4e5c22c2d0227ffab70dff/src%2Flibrustdoc%2Fcore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fcore.rs?ref=86ed3116ba6156b45b4e5c22c2d0227ffab70dff", "patch": "@@ -466,9 +466,9 @@ pub fn run_core(options: RustdocOptions) -> (clean::Crate, RenderInfo, RenderOpt\n             };\n \n             let send_trait = if crate_name == Some(\"core\".to_string()) {\n-                clean::path_to_def_local(&tcx, &[\"marker\", \"Send\"])\n+                clean::path_to_def_local(tcx, &[\"marker\", \"Send\"])\n             } else {\n-                clean::path_to_def(&tcx, &[\"core\", \"marker\", \"Send\"])\n+                clean::path_to_def(tcx, &[\"core\", \"marker\", \"Send\"])\n             };\n \n             let mut renderinfo = RenderInfo::default();"}]}