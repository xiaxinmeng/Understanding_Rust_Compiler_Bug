{"sha": "38d7945ec7d3522e09a105a92156d1aaf8651f46", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4ZDc5NDVlYzdkMzUyMmUwOWExMDVhOTIxNTZkMWFhZjg2NTFmNDY=", "commit": {"author": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-24T22:54:50Z"}, "committer": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-24T22:54:50Z"}, "message": "vscode: migrate join_lines to rust-analyzer-api.ts", "tree": {"sha": "2923963e8ff511966fb7ade32329833a0b229317", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2923963e8ff511966fb7ade32329833a0b229317"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/38d7945ec7d3522e09a105a92156d1aaf8651f46", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/38d7945ec7d3522e09a105a92156d1aaf8651f46", "html_url": "https://github.com/rust-lang/rust/commit/38d7945ec7d3522e09a105a92156d1aaf8651f46", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/38d7945ec7d3522e09a105a92156d1aaf8651f46/comments", "author": null, "committer": null, "parents": [{"sha": "c9a2fa1835a9b91d7e9332f7eceb8c899c727d32", "url": "https://api.github.com/repos/rust-lang/rust/commits/c9a2fa1835a9b91d7e9332f7eceb8c899c727d32", "html_url": "https://github.com/rust-lang/rust/commit/c9a2fa1835a9b91d7e9332f7eceb8c899c727d32"}], "stats": {"total": 17, "additions": 4, "deletions": 13}, "files": [{"sha": "de0614653d6b13d00b3bcf80db24f51153a5706a", "filename": "editors/code/src/commands/join_lines.ts", "status": "modified", "additions": 4, "deletions": 13, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/38d7945ec7d3522e09a105a92156d1aaf8651f46/editors%2Fcode%2Fsrc%2Fcommands%2Fjoin_lines.ts", "raw_url": "https://github.com/rust-lang/rust/raw/38d7945ec7d3522e09a105a92156d1aaf8651f46/editors%2Fcode%2Fsrc%2Fcommands%2Fjoin_lines.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Fjoin_lines.ts?ref=38d7945ec7d3522e09a105a92156d1aaf8651f46", "patch": "@@ -1,27 +1,18 @@\n-import * as lc from 'vscode-languageclient';\n+import * as ra from '../rust-analyzer-api';\n \n import { Ctx, Cmd } from '../ctx';\n-import { applySourceChange, SourceChange } from '../source_change';\n+import { applySourceChange } from '../source_change';\n \n export function joinLines(ctx: Ctx): Cmd {\n     return async () => {\n         const editor = ctx.activeRustEditor;\n         const client = ctx.client;\n         if (!editor || !client) return;\n \n-        const request: JoinLinesParams = {\n+        const change = await client.sendRequest(ra.joinLines, {\n             range: client.code2ProtocolConverter.asRange(editor.selection),\n             textDocument: { uri: editor.document.uri.toString() },\n-        };\n-        const change = await client.sendRequest<SourceChange>(\n-            'rust-analyzer/joinLines',\n-            request,\n-        );\n+        });\n         await applySourceChange(ctx, change);\n     };\n }\n-\n-interface JoinLinesParams {\n-    textDocument: lc.TextDocumentIdentifier;\n-    range: lc.Range;\n-}"}]}