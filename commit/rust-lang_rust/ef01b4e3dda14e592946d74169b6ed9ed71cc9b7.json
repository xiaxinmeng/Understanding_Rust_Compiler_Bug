{"sha": "ef01b4e3dda14e592946d74169b6ed9ed71cc9b7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVmMDFiNGUzZGRhMTRlNTkyOTQ2ZDc0MTY5YjZlZDllZDcxY2M5Yjc=", "commit": {"author": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2020-07-03T12:48:19Z"}, "committer": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2020-07-03T12:48:22Z"}, "message": "Store fat pointers in ssa variables", "tree": {"sha": "860fe0986eeb3146aad20ef73af6dfb98a6a1b9b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/860fe0986eeb3146aad20ef73af6dfb98a6a1b9b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ef01b4e3dda14e592946d74169b6ed9ed71cc9b7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEF0ntrgrd9qf9uuThgTGiTgx5768FAl7/KRkACgkQgTGiTgx5\n76995xAAgeYldwKZ1ew1BJLEghFG+gYHVJGFLLyTzagsQd6GalJ/K0vc/lEgKblg\n7d91oBFMpHTYb1+RYPKLZ1p6VzdrGhZ9rcUaRY/lpr2f/1mqdYeKUt4u55Zsk4fb\nv6ShUi/8ZxDAD320ILIg+3SzClaJRXemMJJNYaStFcp6RG6YDm8VMJYza7ZkRYwn\n2y9/3cHw/sBQDuVej4XOr0x0XZxMLTIaEKTDJg3UNgbnem6upjsZ13DWS/Lx39Zo\nRu1zo7surp6DnizRyHNWS8pFCH26tAxZ2yr6XTzQVOwzHAoBSwzommciCcykmBLw\n4pM3iI+rBoSCSaA7edZZiTNsccHqN3firpJ1nGk9XmKuevQZISM7Lr6KBmE/Lfvn\nWK+RIJcEFRP0NFz374IBLgf83zErhPz3eSGkmKYopAMOSahH4qBbC50md3jKdESS\n6UhEqv4JAKWjNVLR8c7mpeGB562Vbd7BUMHbi2APnbfTep5DhZJdf0RY5g4exH+k\ndBOLeCmzvXeUUunuXaxksOepW1ghKf0JSkJsOb48i2AWODGZW7vpCm3aeZMD0Kwf\n3sOxIPIOrz0XmA3Jhkfr82+tqYbB0L1O31iwuUmNqxRPW1jPJSGgogg+Fmc1cpAu\n4stVM0mi9D3LOQxsbi5yoOyztBo3ZvGjcibMX6qavEZ3MnHfDdg=\n=YTFf\n-----END PGP SIGNATURE-----", "payload": "tree 860fe0986eeb3146aad20ef73af6dfb98a6a1b9b\nparent 9ec2be7d63ce1857721efab8b4a6d5fdd762e1b0\nauthor Santiago Pastorino <spastorino@gmail.com> 1593780499 -0300\ncommitter Santiago Pastorino <spastorino@gmail.com> 1593780502 -0300\n\nStore fat pointers in ssa variables\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ef01b4e3dda14e592946d74169b6ed9ed71cc9b7", "html_url": "https://github.com/rust-lang/rust/commit/ef01b4e3dda14e592946d74169b6ed9ed71cc9b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ef01b4e3dda14e592946d74169b6ed9ed71cc9b7/comments", "author": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "committer": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9ec2be7d63ce1857721efab8b4a6d5fdd762e1b0", "url": "https://api.github.com/repos/rust-lang/rust/commits/9ec2be7d63ce1857721efab8b4a6d5fdd762e1b0", "html_url": "https://github.com/rust-lang/rust/commit/9ec2be7d63ce1857721efab8b4a6d5fdd762e1b0"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "c5f2e3dee438e4adfbe57efeadc618905034faaa", "filename": "src/common.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ef01b4e3dda14e592946d74169b6ed9ed71cc9b7/src%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef01b4e3dda14e592946d74169b6ed9ed71cc9b7/src%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcommon.rs?ref=ef01b4e3dda14e592946d74169b6ed9ed71cc9b7", "patch": "@@ -76,6 +76,13 @@ fn clif_pair_type_from_ty<'tcx>(tcx: TyCtxt<'tcx>, ty: Ty<'tcx>) -> Option<(type\n                 clif_type_from_ty(tcx, types.next().unwrap())?,\n             )\n         }\n+        ty::RawPtr(TypeAndMut { ty: pointee_ty, mutbl: _ }) | ty::Ref(_, pointee_ty, _) => {\n+            if has_ptr_meta(tcx, pointee_ty) {\n+                (pointer_ty(tcx), pointer_ty(tcx))\n+            } else {\n+                return None\n+            }\n+        }\n         _ => return None,\n     })\n }"}]}