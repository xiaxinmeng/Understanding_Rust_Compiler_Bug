{"sha": "4a97c52630f9d8c5df3c229b1c2c0fb0fa3f3ca2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhOTdjNTI2MzBmOWQ4YzVkZjNjMjI5YjFjMmMwZmIwZmEzZjNjYTI=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2020-11-14T14:53:03Z"}, "committer": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2020-11-27T14:23:47Z"}, "message": "Add test to check that we do not get a cycle due to resolving `Self::Bar` in the where clauses", "tree": {"sha": "1e4a61b74d5b9caf7dc28f69f030377fa3e0d792", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1e4a61b74d5b9caf7dc28f69f030377fa3e0d792"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4a97c52630f9d8c5df3c229b1c2c0fb0fa3f3ca2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEF0ntrgrd9qf9uuThgTGiTgx5768FAl/BC/MACgkQgTGiTgx5\n76/iZQ//Vxb5PD9LIiNtiav4Lfapdqe+tLueLjXTHvVfPFl8Om4yc14WNL1V7Nvh\nOG0FjH8aZdABMUXUX0wD4KVufQc9yAIs4p5X2YjwZ71PrFRAvs6N1SBufrGBbKnC\n0w4vtBKjXwihupe4BNTLII279TzKwGz71PRGPir9enpOj0o0Zf0ONOX7Mk0XTBOQ\nk/5meWAFXwv4Gg/P0POzYE1JlLwpw8MmxDSZfJXHY6QZPWskiLM7A1QBmjV7Kiu2\nhV3Y2qCIKuvsQDn7DPU1Vrzuk8qCZ1jeBLyHaBa6I1y61hoePQjQR7loTKG7uQ1r\nejw9/DhZYuCFpkN3s0aJ7lmVThG/5m1Z/n4a77mB2sgVMfmfTmgS12haGbmoSQx/\n53eRSIEOUvE9xqIhdiX9bTUU5DwQ+l7Nw5na7ue10T1hU2E/zRF/xVlNoNmagaIh\nyeE9sPDdElOKIw+BPc3wCjUCT35j2CWHoiHwopWb2X/3ffyR0OXa3ahwXs8jFdC2\nPCb6maQAqhvHwqmFUucXJ/uZDSps83FOERfU0tJEgrVF+b7MFV/uuTlUQ6aAKp7W\nPFZOphOPYOKtUlz3xxr/WqWnKif/HfglByxFTnQzqkh712dPeFl0pLBxT3Kw3dJr\nOU8RjDA+5yDYvkM2l7OuXNsQW56O/e+1w4fsIi5E/f/38QOqWZg=\n=0EPj\n-----END PGP SIGNATURE-----", "payload": "tree 1e4a61b74d5b9caf7dc28f69f030377fa3e0d792\nparent 4406805c4c127b5c292a42d0ba137f0524dcaab6\nauthor Niko Matsakis <niko@alum.mit.edu> 1605365583 -0500\ncommitter Santiago Pastorino <spastorino@gmail.com> 1606487027 -0300\n\nAdd test to check that we do not get a cycle due to resolving `Self::Bar` in the where clauses\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4a97c52630f9d8c5df3c229b1c2c0fb0fa3f3ca2", "html_url": "https://github.com/rust-lang/rust/commit/4a97c52630f9d8c5df3c229b1c2c0fb0fa3f3ca2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4a97c52630f9d8c5df3c229b1c2c0fb0fa3f3ca2/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4406805c4c127b5c292a42d0ba137f0524dcaab6", "url": "https://api.github.com/repos/rust-lang/rust/commits/4406805c4c127b5c292a42d0ba137f0524dcaab6", "html_url": "https://github.com/rust-lang/rust/commit/4406805c4c127b5c292a42d0ba137f0524dcaab6"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "72a6be9ffc38843a38ebf1346b3ea4aebc978645", "filename": "src/test/ui/associated-type-bounds/super-trait-where-referencing-self.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/4a97c52630f9d8c5df3c229b1c2c0fb0fa3f3ca2/src%2Ftest%2Fui%2Fassociated-type-bounds%2Fsuper-trait-where-referencing-self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4a97c52630f9d8c5df3c229b1c2c0fb0fa3f3ca2/src%2Ftest%2Fui%2Fassociated-type-bounds%2Fsuper-trait-where-referencing-self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-type-bounds%2Fsuper-trait-where-referencing-self.rs?ref=4a97c52630f9d8c5df3c229b1c2c0fb0fa3f3ca2", "patch": "@@ -0,0 +1,27 @@\n+// check-pass\n+\n+// Test that we do not get a cycle due to\n+// resolving `Self::Bar` in the where clauses\n+// on a trait definition (in particular, in\n+// a where clause that is defining a superpredicate).\n+\n+trait Foo {\n+    type Bar;\n+}\n+trait Qux\n+where\n+    Self: Foo,\n+    Self: AsRef<Self::Bar>,\n+{\n+}\n+trait Foo2 {}\n+\n+trait Qux2\n+where\n+    Self: Foo2,\n+    Self: AsRef<Self::Bar>,\n+{\n+    type Bar;\n+}\n+\n+fn main() {}"}]}