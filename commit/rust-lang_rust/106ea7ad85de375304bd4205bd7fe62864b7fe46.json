{"sha": "106ea7ad85de375304bd4205bd7fe62864b7fe46", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwNmVhN2FkODVkZTM3NTMwNGJkNDIwNWJkN2ZlNjI4NjRiN2ZlNDY=", "commit": {"author": {"name": "Damien Elmes", "email": "gpg@ankiweb.net", "date": "2021-07-19T13:09:29Z"}, "committer": {"name": "Damien Elmes", "email": "gpg@ankiweb.net", "date": "2021-07-19T13:30:00Z"}, "message": "minor update to excludeDirs doc\n\nI saw reference to globs in #7755, but it doesn't look like they're\nactually supported, and I had to dig through the source to discover\nthat the folders are relative to the workspace root. Further digging\nwas required to get VS Code from hanging for long periods trying to\nwatch giant Bazel folders that had already been excluded from Rust\nAnalyzer. Hopefully this tweak will save others the confusion :-)", "tree": {"sha": "7015c74d7a499dfc0bb0a86501209a72b1daf607", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7015c74d7a499dfc0bb0a86501209a72b1daf607"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/106ea7ad85de375304bd4205bd7fe62864b7fe46", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/106ea7ad85de375304bd4205bd7fe62864b7fe46", "html_url": "https://github.com/rust-lang/rust/commit/106ea7ad85de375304bd4205bd7fe62864b7fe46", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/106ea7ad85de375304bd4205bd7fe62864b7fe46/comments", "author": {"login": "dae", "id": 180542, "node_id": "MDQ6VXNlcjE4MDU0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/180542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dae", "html_url": "https://github.com/dae", "followers_url": "https://api.github.com/users/dae/followers", "following_url": "https://api.github.com/users/dae/following{/other_user}", "gists_url": "https://api.github.com/users/dae/gists{/gist_id}", "starred_url": "https://api.github.com/users/dae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dae/subscriptions", "organizations_url": "https://api.github.com/users/dae/orgs", "repos_url": "https://api.github.com/users/dae/repos", "events_url": "https://api.github.com/users/dae/events{/privacy}", "received_events_url": "https://api.github.com/users/dae/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dae", "id": 180542, "node_id": "MDQ6VXNlcjE4MDU0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/180542?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dae", "html_url": "https://github.com/dae", "followers_url": "https://api.github.com/users/dae/followers", "following_url": "https://api.github.com/users/dae/following{/other_user}", "gists_url": "https://api.github.com/users/dae/gists{/gist_id}", "starred_url": "https://api.github.com/users/dae/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dae/subscriptions", "organizations_url": "https://api.github.com/users/dae/orgs", "repos_url": "https://api.github.com/users/dae/repos", "events_url": "https://api.github.com/users/dae/events{/privacy}", "received_events_url": "https://api.github.com/users/dae/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "64bf67c5aa096eb6a059d6bb8304981ecb90318e", "url": "https://api.github.com/repos/rust-lang/rust/commits/64bf67c5aa096eb6a059d6bb8304981ecb90318e", "html_url": "https://github.com/rust-lang/rust/commit/64bf67c5aa096eb6a059d6bb8304981ecb90318e"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "323f2744f7ac2959af10bae13ca2f5c4b1d118b6", "filename": "crates/rust-analyzer/src/config.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/106ea7ad85de375304bd4205bd7fe62864b7fe46/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/106ea7ad85de375304bd4205bd7fe62864b7fe46/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs?ref=106ea7ad85de375304bd4205bd7fe62864b7fe46", "patch": "@@ -142,7 +142,9 @@ config_data! {\n \n         /// Controls file watching implementation.\n         files_watcher: String = \"\\\"client\\\"\",\n-        /// These directories will be ignored by rust-analyzer.\n+        /// These directories will be ignored by rust-analyzer. They are\n+        /// relative to the workspace root, and globs are not supported. You may\n+        /// also need to add the folders to Code's 'watcher exclude'.\n         files_excludeDirs: Vec<PathBuf> = \"[]\",\n \n         /// Use semantic tokens for strings."}, {"sha": "35342a810970938bf0f187abb6fea7689e3d4a97", "filename": "docs/user/generated_config.adoc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/106ea7ad85de375304bd4205bd7fe62864b7fe46/docs%2Fuser%2Fgenerated_config.adoc", "raw_url": "https://github.com/rust-lang/rust/raw/106ea7ad85de375304bd4205bd7fe62864b7fe46/docs%2Fuser%2Fgenerated_config.adoc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2Fgenerated_config.adoc?ref=106ea7ad85de375304bd4205bd7fe62864b7fe46", "patch": "@@ -204,7 +204,9 @@ Controls file watching implementation.\n [[rust-analyzer.files.excludeDirs]]rust-analyzer.files.excludeDirs (default: `[]`)::\n +\n --\n-These directories will be ignored by rust-analyzer.\n+These directories will be ignored by rust-analyzer. They are\n+relative to the workspace root, and globs are not supported. You may\n+also need to add the folders to Code's 'watcher exclude'.\n --\n [[rust-analyzer.highlighting.strings]]rust-analyzer.highlighting.strings (default: `true`)::\n +"}, {"sha": "cf60b6eba5abe2bd9bd82280afeb9e15173ea77e", "filename": "editors/code/package.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/106ea7ad85de375304bd4205bd7fe62864b7fe46/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/106ea7ad85de375304bd4205bd7fe62864b7fe46/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=106ea7ad85de375304bd4205bd7fe62864b7fe46", "patch": "@@ -648,7 +648,7 @@\n                     \"type\": \"string\"\n                 },\n                 \"rust-analyzer.files.excludeDirs\": {\n-                    \"markdownDescription\": \"These directories will be ignored by rust-analyzer.\",\n+                    \"markdownDescription\": \"These directories will be ignored by rust-analyzer. They are\\nrelative to the workspace root, and globs are not supported. You may\\nalso need to add the folders to Code's 'watcher exclude'.\",\n                     \"default\": [],\n                     \"type\": \"array\",\n                     \"items\": {"}]}