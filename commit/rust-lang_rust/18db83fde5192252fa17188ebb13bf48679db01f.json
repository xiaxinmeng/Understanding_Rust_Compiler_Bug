{"sha": "18db83fde5192252fa17188ebb13bf48679db01f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE4ZGI4M2ZkZTUxOTIyNTJmYTE3MTg4ZWJiMTNiZjQ4Njc5ZGIwMWY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-06-28T21:37:57Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-06-28T21:37:57Z"}, "message": "Auto merge of #86669 - Smittyvb:satisfy-windows-defender, r=Mark-Simulacrum\n\nDon't run a publically reachable server in tests\n\nThis causes Windows Defender's firewall to pop up during tests to ask if I want to allow the test program to access the public Internet, since it was listening on `0.0.0.0` (the test passes regardless of how you respond to the modal, since the firewall only affects traffic outside of the computer, none of which actually happens in the test). The test server doesn't actually need to be publicly reachable, so this makes it so it is only reachable locally, which makes Windows Defender happy.", "tree": {"sha": "605974850c33d6d5fd46ce259fa38e5e84920dc7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/605974850c33d6d5fd46ce259fa38e5e84920dc7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/18db83fde5192252fa17188ebb13bf48679db01f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/18db83fde5192252fa17188ebb13bf48679db01f", "html_url": "https://github.com/rust-lang/rust/commit/18db83fde5192252fa17188ebb13bf48679db01f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/18db83fde5192252fa17188ebb13bf48679db01f/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a435b49e86d16e98dcc6595dd471f95e823f41aa", "url": "https://api.github.com/repos/rust-lang/rust/commits/a435b49e86d16e98dcc6595dd471f95e823f41aa", "html_url": "https://github.com/rust-lang/rust/commit/a435b49e86d16e98dcc6595dd471f95e823f41aa"}, {"sha": "63cc169d1e300aa3552a6f7a4ce216169d20cdcf", "url": "https://api.github.com/repos/rust-lang/rust/commits/63cc169d1e300aa3552a6f7a4ce216169d20cdcf", "html_url": "https://github.com/rust-lang/rust/commit/63cc169d1e300aa3552a6f7a4ce216169d20cdcf"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "b2dab5c93814bce935e3c104d741f5ee06bb52e7", "filename": "src/test/ui/process-termination/process-termination-blocking-io.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/18db83fde5192252fa17188ebb13bf48679db01f/src%2Ftest%2Fui%2Fprocess-termination%2Fprocess-termination-blocking-io.rs", "raw_url": "https://github.com/rust-lang/rust/raw/18db83fde5192252fa17188ebb13bf48679db01f/src%2Ftest%2Fui%2Fprocess-termination%2Fprocess-termination-blocking-io.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprocess-termination%2Fprocess-termination-blocking-io.rs?ref=18db83fde5192252fa17188ebb13bf48679db01f", "patch": "@@ -9,7 +9,7 @@ use std::{net::TcpListener, sync::mpsc, thread};\n fn main() {\n     let (tx, rx) = mpsc::channel();\n     thread::spawn(move || {\n-        let listen = TcpListener::bind(\"0.0.0.0:0\").unwrap();\n+        let listen = TcpListener::bind(\"127.0.0.1:0\").unwrap();\n         tx.send(()).unwrap();\n         while let Ok(_) = listen.accept() {}\n     });"}]}