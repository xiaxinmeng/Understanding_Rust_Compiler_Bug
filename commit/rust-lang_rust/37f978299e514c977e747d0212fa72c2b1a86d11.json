{"sha": "37f978299e514c977e747d0212fa72c2b1a86d11", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM3Zjk3ODI5OWU1MTRjOTc3ZTc0N2QwMjEyZmE3MmMyYjFhODZkMTE=", "commit": {"author": {"name": "daxpedda", "email": "daxpedda@gmail.com", "date": "2021-02-10T19:55:31Z"}, "committer": {"name": "daxpedda", "email": "daxpedda@gmail.com", "date": "2021-02-10T19:55:31Z"}, "message": "Add test for checking a combination of unreachable and panic.", "tree": {"sha": "7ac214cf2649b73d14656c1e39e0d65a69337524", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7ac214cf2649b73d14656c1e39e0d65a69337524"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/37f978299e514c977e747d0212fa72c2b1a86d11", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE3qx/rJh59vdc2+v9Q9YqPqOI5G8FAmAkOjMACgkQQ9YqPqOI\n5G8y3A/7B6dbO2STvy7r9hSnzb/Yd2QKhlnjoY32+wC4R7OYS3RfGukuKc6WuLOA\ncVz/YrKLmX3KRyXLCv76YTvw9KvkFugUErMs8R4ka5Lx4r1J1yV4Fw5xVLL/th4v\nxJLsi9xRIR7jxSwGnv0JHx4dDqmA6Jz89FyZrP4zPJ0kj/eZMr/KmCqhU5fMA0r/\nvg1Df35g7RPQRTmIEZJSMKpUv3a9idc2zinsJoGiYOj0Uv5Bo6wg5q85tzFHfw58\nVGjhedX41YGck0PhPw8HgoRZMOQwBAWagB1on+MU46CY4u/vI5BWRc3lelYXNci7\nl9I1xC2YFVjH77rjWM1k9pLR5yORVlKLa1qsHTDcC/ijjVVox5ipPHzdV0ge/BPA\nXrMsZZ+Em/bh3HlKzw81OgsSYY5lbhs6CJMUYqqKcCD4/67WD+lTnpCrLC+AopX4\nrVpb+5Q7LMbRhmx3PYsjVDozBgIdrWcyTV/rb5qJoF0p1NpKGgqBiOUO2oA+uJlb\nT1ZDvg2ZIzLO4oFY8t0f9PuCzE28kJh3BfNyZC3N4bfSXRC1Fg2efrwevfPnmY9V\nDXpE1AK/4vu+tXNw5SB9qNmshuRWIiMx+XANw/s8HRghENtBuz9H5WPbJvFU9BDi\n/k2G29U+6MJHvpJ5qs8lmZ6RzHMp+ShYKXsBD+yBWFLqxufiGuU=\n=Gf5x\n-----END PGP SIGNATURE-----", "payload": "tree 7ac214cf2649b73d14656c1e39e0d65a69337524\nparent 6c73f989e2682b0fde6759428df27e6f8aacd656\nauthor daxpedda <daxpedda@gmail.com> 1612986931 +0100\ncommitter daxpedda <daxpedda@gmail.com> 1612986931 +0100\n\nAdd test for checking a combination of unreachable and panic.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/37f978299e514c977e747d0212fa72c2b1a86d11", "html_url": "https://github.com/rust-lang/rust/commit/37f978299e514c977e747d0212fa72c2b1a86d11", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/37f978299e514c977e747d0212fa72c2b1a86d11/comments", "author": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "committer": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6c73f989e2682b0fde6759428df27e6f8aacd656", "url": "https://api.github.com/repos/rust-lang/rust/commits/6c73f989e2682b0fde6759428df27e6f8aacd656", "html_url": "https://github.com/rust-lang/rust/commit/6c73f989e2682b0fde6759428df27e6f8aacd656"}], "stats": {"total": 43, "additions": 42, "deletions": 1}, "files": [{"sha": "3008c2d5b85381710f3235acd7fc9c8ac2e6cf86", "filename": "tests/ui/doc_panics.rs", "status": "modified", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/37f978299e514c977e747d0212fa72c2b1a86d11/tests%2Fui%2Fdoc_panics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/37f978299e514c977e747d0212fa72c2b1a86d11/tests%2Fui%2Fdoc_panics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdoc_panics.rs?ref=37f978299e514c977e747d0212fa72c2b1a86d11", "patch": "@@ -28,6 +28,15 @@ pub fn inner_body(opt: Option<u32>) {\n     });\n }\n \n+/// This needs to be documented\n+pub fn unreachable_and_panic() {\n+    if true {\n+        unreachable!()\n+    } else {\n+        panic!()\n+    }\n+}\n+\n /// This is documented\n ///\n /// # Panics\n@@ -69,6 +78,19 @@ pub fn todo_documented() {\n     todo!()\n }\n \n+/// This is documented\n+///\n+/// # Panics\n+///\n+/// We still need to do this part\n+pub fn unreachable_amd_panic_documented() {\n+    if true {\n+        unreachable!()\n+    } else {\n+        panic!()\n+    }\n+}\n+\n /// This is okay because it is private\n fn unwrap_private() {\n     let result = Err(\"Hi\");"}, {"sha": "287148690d27af84c408679e7ba500b92ddad4b1", "filename": "tests/ui/doc_panics.stderr", "status": "modified", "additions": 20, "deletions": 1, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/37f978299e514c977e747d0212fa72c2b1a86d11/tests%2Fui%2Fdoc_panics.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/37f978299e514c977e747d0212fa72c2b1a86d11/tests%2Fui%2Fdoc_panics.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdoc_panics.stderr?ref=37f978299e514c977e747d0212fa72c2b1a86d11", "patch": "@@ -63,5 +63,24 @@ LL |             panic!()\n    |             ^^^^^^^^\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n \n-error: aborting due to 4 previous errors\n+error: docs for function which may panic missing `# Panics` section\n+  --> $DIR/doc_panics.rs:32:1\n+   |\n+LL | / pub fn unreachable_and_panic() {\n+LL | |     if true {\n+LL | |         unreachable!()\n+LL | |     } else {\n+LL | |         panic!()\n+LL | |     }\n+LL | | }\n+   | |_^\n+   |\n+note: first possible panic found here\n+  --> $DIR/doc_panics.rs:36:9\n+   |\n+LL |         panic!()\n+   |         ^^^^^^^^\n+   = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)\n+\n+error: aborting due to 5 previous errors\n "}]}