{"sha": "54bad930304a1f7009296e6cfc2f90a008189b1d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0YmFkOTMwMzA0YTFmNzAwOTI5NmU2Y2ZjMmY5MGEwMDgxODliMWQ=", "commit": {"author": {"name": "ben", "email": "benlewisj@gmail.com", "date": "2019-09-28T19:39:48Z"}, "committer": {"name": "ben", "email": "benlewisj@gmail.com", "date": "2019-09-28T19:39:48Z"}, "message": "Add a couple more test cases, including non-ascii strings.", "tree": {"sha": "7200ece2ae0ff437304e728466a7f38971b41ec3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7200ece2ae0ff437304e728466a7f38971b41ec3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/54bad930304a1f7009296e6cfc2f90a008189b1d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/54bad930304a1f7009296e6cfc2f90a008189b1d", "html_url": "https://github.com/rust-lang/rust/commit/54bad930304a1f7009296e6cfc2f90a008189b1d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/54bad930304a1f7009296e6cfc2f90a008189b1d/comments", "author": {"login": "BenLewis-Seequent", "id": 7391596, "node_id": "MDQ6VXNlcjczOTE1OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7391596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BenLewis-Seequent", "html_url": "https://github.com/BenLewis-Seequent", "followers_url": "https://api.github.com/users/BenLewis-Seequent/followers", "following_url": "https://api.github.com/users/BenLewis-Seequent/following{/other_user}", "gists_url": "https://api.github.com/users/BenLewis-Seequent/gists{/gist_id}", "starred_url": "https://api.github.com/users/BenLewis-Seequent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BenLewis-Seequent/subscriptions", "organizations_url": "https://api.github.com/users/BenLewis-Seequent/orgs", "repos_url": "https://api.github.com/users/BenLewis-Seequent/repos", "events_url": "https://api.github.com/users/BenLewis-Seequent/events{/privacy}", "received_events_url": "https://api.github.com/users/BenLewis-Seequent/received_events", "type": "User", "site_admin": false}, "committer": {"login": "BenLewis-Seequent", "id": 7391596, "node_id": "MDQ6VXNlcjczOTE1OTY=", "avatar_url": "https://avatars.githubusercontent.com/u/7391596?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BenLewis-Seequent", "html_url": "https://github.com/BenLewis-Seequent", "followers_url": "https://api.github.com/users/BenLewis-Seequent/followers", "following_url": "https://api.github.com/users/BenLewis-Seequent/following{/other_user}", "gists_url": "https://api.github.com/users/BenLewis-Seequent/gists{/gist_id}", "starred_url": "https://api.github.com/users/BenLewis-Seequent/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BenLewis-Seequent/subscriptions", "organizations_url": "https://api.github.com/users/BenLewis-Seequent/orgs", "repos_url": "https://api.github.com/users/BenLewis-Seequent/repos", "events_url": "https://api.github.com/users/BenLewis-Seequent/events{/privacy}", "received_events_url": "https://api.github.com/users/BenLewis-Seequent/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5cb0039cffce1726c08e0c3633e7ee5d7c72c8c0", "url": "https://api.github.com/repos/rust-lang/rust/commits/5cb0039cffce1726c08e0c3633e7ee5d7c72c8c0", "html_url": "https://github.com/rust-lang/rust/commit/5cb0039cffce1726c08e0c3633e7ee5d7c72c8c0"}], "stats": {"total": 19, "additions": 16, "deletions": 3}, "files": [{"sha": "73c75ae6668052713ee121b9524239f2b24125cd", "filename": "src/test/ui/const-generics/slice-const-param-mismatch.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/54bad930304a1f7009296e6cfc2f90a008189b1d/src%2Ftest%2Fui%2Fconst-generics%2Fslice-const-param-mismatch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54bad930304a1f7009296e6cfc2f90a008189b1d/src%2Ftest%2Fui%2Fconst-generics%2Fslice-const-param-mismatch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fslice-const-param-mismatch.rs?ref=54bad930304a1f7009296e6cfc2f90a008189b1d", "patch": "@@ -5,7 +5,10 @@ struct ConstString<const T: &'static str>;\n struct ConstBytes<const T: &'static [u8]>;\n \n pub fn main() {\n+    let _: ConstString<\"Hello\"> = ConstString::<\"Hello\">;\n     let _: ConstString<\"Hello\"> = ConstString::<\"World\">; //~ ERROR mismatched types\n+    let _: ConstString<\"\u2107\u31c8\u21a6\"> = ConstString::<\"\u2107\u31c8\u21a6\">;\n+    let _: ConstString<\"\u2107\u31c8\u21a6\"> = ConstString::<\"\u2107\u31c8\u21a5\">; //~ ERROR mismatched types\n     let _: ConstBytes<b\"AAA\"> = ConstBytes::<{&[0x41, 0x41, 0x41]}>;\n     let _: ConstBytes<b\"AAA\"> = ConstBytes::<b\"BBB\">; //~ ERROR mismatched types\n }"}, {"sha": "72369ab24ebfc5ddfe1ebca3d874ae0c30418c60", "filename": "src/test/ui/const-generics/slice-const-param-mismatch.stderr", "status": "modified", "additions": 12, "deletions": 3, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/54bad930304a1f7009296e6cfc2f90a008189b1d/src%2Ftest%2Fui%2Fconst-generics%2Fslice-const-param-mismatch.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/54bad930304a1f7009296e6cfc2f90a008189b1d/src%2Ftest%2Fui%2Fconst-generics%2Fslice-const-param-mismatch.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fslice-const-param-mismatch.stderr?ref=54bad930304a1f7009296e6cfc2f90a008189b1d", "patch": "@@ -7,7 +7,7 @@ LL | #![feature(const_generics)]\n    = note: `#[warn(incomplete_features)]` on by default\n \n error[E0308]: mismatched types\n-  --> $DIR/slice-const-param-mismatch.rs:8:35\n+  --> $DIR/slice-const-param-mismatch.rs:9:35\n    |\n LL |     let _: ConstString<\"Hello\"> = ConstString::<\"World\">;\n    |                                   ^^^^^^^^^^^^^^^^^^^^^^ expected `\"Hello\"`, found `\"World\"`\n@@ -16,14 +16,23 @@ LL |     let _: ConstString<\"Hello\"> = ConstString::<\"World\">;\n               found type `ConstString<>`\n \n error[E0308]: mismatched types\n-  --> $DIR/slice-const-param-mismatch.rs:10:33\n+  --> $DIR/slice-const-param-mismatch.rs:11:33\n+   |\n+LL |     let _: ConstString<\"\u2107\u31c8\u21a6\"> = ConstString::<\"\u2107\u31c8\u21a5\">;\n+   |                                  ^^^^^^^^^^^^^^^^^^^^^ expected `\"\u2107\u31c8\u21a6\"`, found `\"\u2107\u31c8\u21a5\"`\n+   |\n+   = note: expected type `ConstString<>`\n+              found type `ConstString<>`\n+\n+error[E0308]: mismatched types\n+  --> $DIR/slice-const-param-mismatch.rs:13:33\n    |\n LL |     let _: ConstBytes<b\"AAA\"> = ConstBytes::<b\"BBB\">;\n    |                                 ^^^^^^^^^^^^^^^^^^^^ expected `b\"AAA\"`, found `b\"BBB\"`\n    |\n    = note: expected type `ConstBytes<>`\n               found type `ConstBytes<>`\n \n-error: aborting due to 2 previous errors\n+error: aborting due to 3 previous errors\n \n For more information about this error, try `rustc --explain E0308`."}, {"sha": "2629caa392106b3eca63eed9091836d1c26d63ff", "filename": "src/test/ui/const-generics/slice-const-param.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/54bad930304a1f7009296e6cfc2f90a008189b1d/src%2Ftest%2Fui%2Fconst-generics%2Fslice-const-param.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54bad930304a1f7009296e6cfc2f90a008189b1d/src%2Ftest%2Fui%2Fconst-generics%2Fslice-const-param.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fslice-const-param.rs?ref=54bad930304a1f7009296e6cfc2f90a008189b1d", "patch": "@@ -13,6 +13,7 @@ pub fn function_with_bytes<const BYTES: &'static [u8]>() -> &'static [u8] {\n \n pub fn main() {\n     assert_eq!(function_with_str::<\"Rust\">(), \"Rust\");\n+    assert_eq!(function_with_str::<\"\u2107\u31c8\u21a6\">(), \"\u2107\u31c8\u21a6\");\n     assert_eq!(function_with_bytes::<b\"AAAA\">(), &[0x41, 0x41, 0x41, 0x41]);\n     assert_eq!(function_with_bytes::<{&[0x41, 0x41, 0x41, 0x41]}>(), b\"AAAA\");\n }"}]}