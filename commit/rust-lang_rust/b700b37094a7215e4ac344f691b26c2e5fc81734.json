{"sha": "b700b37094a7215e4ac344f691b26c2e5fc81734", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI3MDBiMzcwOTRhNzIxNWU0YWMzNDRmNjkxYjI2YzJlNWZjODE3MzQ=", "commit": {"author": {"name": "Ms2ger", "email": "ms2ger@gmail.com", "date": "2015-05-27T05:26:35Z"}, "committer": {"name": "Ms2ger", "email": "ms2ger@gmail.com", "date": "2015-05-28T17:24:43Z"}, "message": "Return a TaggedDocsIterator from each_reexport.", "tree": {"sha": "ddcefba645b97c6d4bcd6d29d012cf7de75beead", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ddcefba645b97c6d4bcd6d29d012cf7de75beead"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b700b37094a7215e4ac344f691b26c2e5fc81734", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b700b37094a7215e4ac344f691b26c2e5fc81734", "html_url": "https://github.com/rust-lang/rust/commit/b700b37094a7215e4ac344f691b26c2e5fc81734", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b700b37094a7215e4ac344f691b26c2e5fc81734/comments", "author": {"login": "Ms2ger", "id": 111161, "node_id": "MDQ6VXNlcjExMTE2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/111161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ms2ger", "html_url": "https://github.com/Ms2ger", "followers_url": "https://api.github.com/users/Ms2ger/followers", "following_url": "https://api.github.com/users/Ms2ger/following{/other_user}", "gists_url": "https://api.github.com/users/Ms2ger/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ms2ger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ms2ger/subscriptions", "organizations_url": "https://api.github.com/users/Ms2ger/orgs", "repos_url": "https://api.github.com/users/Ms2ger/repos", "events_url": "https://api.github.com/users/Ms2ger/events{/privacy}", "received_events_url": "https://api.github.com/users/Ms2ger/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Ms2ger", "id": 111161, "node_id": "MDQ6VXNlcjExMTE2MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/111161?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ms2ger", "html_url": "https://github.com/Ms2ger", "followers_url": "https://api.github.com/users/Ms2ger/followers", "following_url": "https://api.github.com/users/Ms2ger/following{/other_user}", "gists_url": "https://api.github.com/users/Ms2ger/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ms2ger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ms2ger/subscriptions", "organizations_url": "https://api.github.com/users/Ms2ger/orgs", "repos_url": "https://api.github.com/users/Ms2ger/repos", "events_url": "https://api.github.com/users/Ms2ger/events{/privacy}", "received_events_url": "https://api.github.com/users/Ms2ger/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "37dd4174d56431e97adf06ecaf6395376ab2ebbc", "url": "https://api.github.com/repos/rust-lang/rust/commits/37dd4174d56431e97adf06ecaf6395376ab2ebbc", "html_url": "https://github.com/rust-lang/rust/commit/37dd4174d56431e97adf06ecaf6395376ab2ebbc"}], "stats": {"total": 19, "additions": 4, "deletions": 15}, "files": [{"sha": "f4f9a34f7289fd1d71a4798940690b62a5d15d6a", "filename": "src/librustc/metadata/decoder.rs", "status": "modified", "additions": 4, "deletions": 15, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/b700b37094a7215e4ac344f691b26c2e5fc81734/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b700b37094a7215e4ac344f691b26c2e5fc81734/src%2Flibrustc%2Fmetadata%2Fdecoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fdecoder.rs?ref=b700b37094a7215e4ac344f691b26c2e5fc81734", "patch": "@@ -220,16 +220,8 @@ fn get_provided_source(d: rbml::Doc, cdata: Cmd) -> Option<ast::DefId> {\n     })\n }\n \n-fn each_reexport<F>(d: rbml::Doc, mut f: F) -> bool where\n-    F: FnMut(rbml::Doc) -> bool,\n-{\n-    for doc in reader::tagged_docs(d, tag_items_data_item_reexport) {\n-        if !f(doc) {\n-            return false;\n-        }\n-    }\n-\n-    true\n+fn reexports<'a>(d: rbml::Doc<'a>) -> reader::TaggedDocsIterator<'a> {\n+    reader::tagged_docs(d, tag_items_data_item_reexport)\n }\n \n fn variant_disr_val(d: rbml::Doc) -> Option<ty::Disr> {\n@@ -615,8 +607,7 @@ fn each_child_of_item_or_crate<F, G>(intr: Rc<IdentInterner>,\n         }\n     }\n \n-    // Iterate over all reexports.\n-    let _ = each_reexport(item_doc, |reexport_doc| {\n+    for reexport_doc in reexports(item_doc) {\n         let def_id_doc = reader::get_doc(reexport_doc,\n                                          tag_items_data_item_reexport_def_id);\n         let child_def_id = translated_def_id(cdata, def_id_doc);\n@@ -646,9 +637,7 @@ fn each_child_of_item_or_crate<F, G>(intr: Rc<IdentInterner>,\n             // a public re-export.\n             callback(def_like, token::intern(name), ast::Public);\n         }\n-\n-        true\n-    });\n+    }\n }\n \n /// Iterates over each child of the given item."}]}