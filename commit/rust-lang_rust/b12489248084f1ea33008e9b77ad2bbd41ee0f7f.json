{"sha": "b12489248084f1ea33008e9b77ad2bbd41ee0f7f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIxMjQ4OTI0ODA4NGYxZWEzMzAwOGU5Yjc3YWQyYmJkNDFlZTBmN2Y=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-05-27T14:57:31Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-05-27T14:57:31Z"}, "message": "Add test for {impl,declare}_lint_pass macros", "tree": {"sha": "0c53144601a24e8a555a53ad28b130b6f678e493", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0c53144601a24e8a555a53ad28b130b6f678e493"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b12489248084f1ea33008e9b77ad2bbd41ee0f7f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqv54U47RUUXZfOLnLO/Nsn7QvnkFAl7Of9sACgkQLO/Nsn7Q\nvnn1Mw/8DoBGrXaDoUcCoT9lG46G4lE8aH2q7PcwGPGUCV3HNhIxftnaZA4lfLn0\nuCDkFPe71k9cYo3OL0VI/cKU92fXexhwzT/skkYfoSo2sx3/ifZe+k58De78IBIF\nAJsuwSiyfa1xawtgXl0pIyIlb2C54PI+g6eihVVZjUePMU3qNLAcVWZ9Ty1R6Osu\nire+HIt0SJ8vIAycd/N8xWPuXphLnsUB7ax7q4q1Z/RlRlKecIJIa1RW7pWdHq90\nGWkR6JTpSWpYTFbXKnEsl7Jzg7FHWjcR3gJZ8PYj0YSAjzy76EvYKIGjP3r5W6cD\npwTfbiaxEZBeP+XUBaqjX81trMMqT+qKBBzcPII9fRYt0qxJ5EfhZ+GmT+uN8rF3\nqK3JYp1aAPG1qlmMQtQ4O/oJ6ys3bcPomf++cD8hXTcnPc1IswHmhfTMXEFow6zE\n1pD9/HpsPUfctj+84CDRzouaKWjZPAECxe1E8hB1RqhQRc3IsKVdyMDgr/wsIHYT\nJNx/iwhJJMldsuAYg+VaQxY3hQzUYTU8mcpWrSFtzEQYe+4zCg81QO0bJlwC+87g\n4okpxHIva7V1eIVus/Kktks/yIOjsXVea33t/VWVcawf2EGF1fs42UTtmaQ0Jdgq\nzR32TEr/xjKFnCiXX5m9cDz8lI8SVzcfospF8EQq3Pcfaj6GQ8Q=\n=TEMa\n-----END PGP SIGNATURE-----", "payload": "tree 0c53144601a24e8a555a53ad28b130b6f678e493\nparent 709ddba9fea4a4ba84883793df4f63c2f64a690a\nauthor flip1995 <hello@philkrones.com> 1590591451 +0200\ncommitter flip1995 <hello@philkrones.com> 1590591451 +0200\n\nAdd test for {impl,declare}_lint_pass macros\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b12489248084f1ea33008e9b77ad2bbd41ee0f7f", "html_url": "https://github.com/rust-lang/rust/commit/b12489248084f1ea33008e9b77ad2bbd41ee0f7f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b12489248084f1ea33008e9b77ad2bbd41ee0f7f/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "709ddba9fea4a4ba84883793df4f63c2f64a690a", "url": "https://api.github.com/repos/rust-lang/rust/commits/709ddba9fea4a4ba84883793df4f63c2f64a690a", "html_url": "https://github.com/rust-lang/rust/commit/709ddba9fea4a4ba84883793df4f63c2f64a690a"}], "stats": {"total": 26, "additions": 26, "deletions": 0}, "files": [{"sha": "b3c2a542792f0efa85ee9a4df8035f37bcaaa01c", "filename": "src/test/ui-fulldeps/lint-pass-macros.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/b12489248084f1ea33008e9b77ad2bbd41ee0f7f/src%2Ftest%2Fui-fulldeps%2Flint-pass-macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b12489248084f1ea33008e9b77ad2bbd41ee0f7f/src%2Ftest%2Fui-fulldeps%2Flint-pass-macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Flint-pass-macros.rs?ref=b12489248084f1ea33008e9b77ad2bbd41ee0f7f", "patch": "@@ -0,0 +1,26 @@\n+// compile-flags: -Z unstable-options\n+// check-pass\n+\n+#![feature(rustc_private)]\n+\n+extern crate rustc_session;\n+\n+use rustc_session::lint::{LintArray, LintPass};\n+use rustc_session::{declare_lint, declare_lint_pass, impl_lint_pass};\n+\n+declare_lint! {\n+    pub TEST_LINT,\n+    Allow,\n+    \"test\"\n+}\n+\n+struct Foo;\n+\n+struct Bar<'a>(&'a u32);\n+\n+impl_lint_pass!(Foo => [TEST_LINT]);\n+impl_lint_pass!(Bar<'_> => [TEST_LINT]);\n+\n+declare_lint_pass!(Baz => [TEST_LINT]);\n+\n+fn main() {}"}]}