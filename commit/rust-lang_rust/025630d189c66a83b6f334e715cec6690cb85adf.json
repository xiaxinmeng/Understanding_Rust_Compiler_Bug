{"sha": "025630d189c66a83b6f334e715cec6690cb85adf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAyNTYzMGQxODljNjZhODNiNmYzMzRlNzE1Y2VjNjY5MGNiODVhZGY=", "commit": {"author": {"name": "Matthew Jasper", "email": "mjjasper1@gmail.com", "date": "2019-11-19T23:16:58Z"}, "committer": {"name": "Matthew Jasper", "email": "mjjasper1@gmail.com", "date": "2019-11-21T20:55:17Z"}, "message": "Bless remaining test output", "tree": {"sha": "3465f747242c4bc5dc5ca56676dfe8fdf16f87e1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3465f747242c4bc5dc5ca56676dfe8fdf16f87e1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/025630d189c66a83b6f334e715cec6690cb85adf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/025630d189c66a83b6f334e715cec6690cb85adf", "html_url": "https://github.com/rust-lang/rust/commit/025630d189c66a83b6f334e715cec6690cb85adf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/025630d189c66a83b6f334e715cec6690cb85adf/comments", "author": {"login": "matthewjasper", "id": 20113453, "node_id": "MDQ6VXNlcjIwMTEzNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewjasper", "html_url": "https://github.com/matthewjasper", "followers_url": "https://api.github.com/users/matthewjasper/followers", "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}", "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions", "organizations_url": "https://api.github.com/users/matthewjasper/orgs", "repos_url": "https://api.github.com/users/matthewjasper/repos", "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewjasper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthewjasper", "id": 20113453, "node_id": "MDQ6VXNlcjIwMTEzNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewjasper", "html_url": "https://github.com/matthewjasper", "followers_url": "https://api.github.com/users/matthewjasper/followers", "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}", "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions", "organizations_url": "https://api.github.com/users/matthewjasper/orgs", "repos_url": "https://api.github.com/users/matthewjasper/repos", "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewjasper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9abc34ed9d34873066a186ac5551d5aad9e783b6", "url": "https://api.github.com/repos/rust-lang/rust/commits/9abc34ed9d34873066a186ac5551d5aad9e783b6", "html_url": "https://github.com/rust-lang/rust/commit/9abc34ed9d34873066a186ac5551d5aad9e783b6"}], "stats": {"total": 73, "additions": 28, "deletions": 45}, "files": [{"sha": "d14ec0397166f05cf2f9df071e8cc4e1ce227d26", "filename": "src/test/mir-opt/const_prop/read_immutable_static.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fread_immutable_static.rs", "raw_url": "https://github.com/rust-lang/rust/raw/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fread_immutable_static.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fread_immutable_static.rs?ref=025630d189c66a83b6f334e715cec6690cb85adf", "patch": "@@ -10,10 +10,12 @@ fn main() {\n // START rustc.main.ConstProp.before.mir\n //  bb0: {\n //      ...\n-//      _2 = (FOO: u8);\n+//      _3 = const Scalar(AllocId(0).0x0) : &u8;\n+//      _2 = (*_3);\n //      ...\n-//      _3 = (FOO: u8);\n-//      _1 = Add(move _2, move _3);\n+//      _5 = const Scalar(AllocId(0).0x0) : &u8;\n+//      _4 = (*_5);\n+//      _1 = Add(move _2, move _4);\n //      ...\n //  }\n // END rustc.main.ConstProp.before.mir\n@@ -22,8 +24,8 @@ fn main() {\n //      ...\n //      _2 = const 2u8;\n //      ...\n-//      _3 = const 2u8;\n-//      _1 = Add(move _2, move _3);\n+//      _4 = const 2u8;\n+//      _1 = Add(move _2, move _4);\n //      ...\n //  }\n // END rustc.main.ConstProp.after.mir"}, {"sha": "0efb6bfd10a1707034db4289b0e41bef5e1eeef8", "filename": "src/test/ui/consts/projection_qualif.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fconsts%2Fprojection_qualif.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fconsts%2Fprojection_qualif.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fprojection_qualif.stderr?ref=025630d189c66a83b6f334e715cec6690cb85adf", "patch": "@@ -4,20 +4,20 @@ error[E0017]: references in constants may only refer to immutable values\n LL |         let b: *mut u32 = &mut a;\n    |                           ^^^^^^ constants require immutable values\n \n-error[E0019]: constant contains unimplemented expression type\n+error[E0658]: dereferencing raw pointers in constants is unstable\n   --> $DIR/projection_qualif.rs:7:18\n    |\n LL |         unsafe { *b = 5; }\n    |                  ^^^^^^\n+   |\n+   = note: for more information, see https://github.com/rust-lang/rust/issues/51911\n+   = help: add `#![feature(const_raw_ptr_deref)]` to the crate attributes to enable\n \n-error[E0658]: dereferencing raw pointers in constants is unstable\n+error[E0019]: constant contains unimplemented expression type\n   --> $DIR/projection_qualif.rs:7:18\n    |\n LL |         unsafe { *b = 5; }\n    |                  ^^^^^^\n-   |\n-   = note: for more information, see https://github.com/rust-lang/rust/issues/51911\n-   = help: add `#![feature(const_raw_ptr_deref)]` to the crate attributes to enable\n \n error: aborting due to 3 previous errors\n "}, {"sha": "8d875d37d85f9ceeb143ba1fe1c7a8620372c9ec", "filename": "src/test/ui/issues/issue-17718-const-bad-values.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fissues%2Fissue-17718-const-bad-values.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fissues%2Fissue-17718-const-bad-values.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-17718-const-bad-values.stderr?ref=025630d189c66a83b6f334e715cec6690cb85adf", "patch": "@@ -4,17 +4,17 @@ error[E0017]: references in constants may only refer to immutable values\n LL | const C1: &'static mut [usize] = &mut [];\n    |                                  ^^^^^^^ constants require immutable values\n \n-error[E0017]: references in constants may only refer to immutable values\n-  --> $DIR/issue-17718-const-bad-values.rs:5:41\n+error[E0013]: constants cannot refer to statics, use a constant instead\n+  --> $DIR/issue-17718-const-bad-values.rs:5:46\n    |\n LL | const C2: &'static mut usize = unsafe { &mut S };\n-   |                                         ^^^^^^ constants require immutable values\n+   |                                              ^\n \n-error[E0013]: constants cannot refer to statics, use a constant instead\n+error[E0017]: references in constants may only refer to immutable values\n   --> $DIR/issue-17718-const-bad-values.rs:5:41\n    |\n LL | const C2: &'static mut usize = unsafe { &mut S };\n-   |                                         ^^^^^^\n+   |                                         ^^^^^^ constants require immutable values\n \n error: aborting due to 3 previous errors\n "}, {"sha": "27aad9c03cebea8c02834171349fbe9fb42d2e4b", "filename": "src/test/ui/issues/issue-17718-references.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fissues%2Fissue-17718-references.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fissues%2Fissue-17718-references.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-17718-references.stderr?ref=025630d189c66a83b6f334e715cec6690cb85adf", "patch": "@@ -1,8 +1,8 @@\n error[E0013]: constants cannot refer to statics, use a constant instead\n-  --> $DIR/issue-17718-references.rs:9:28\n+  --> $DIR/issue-17718-references.rs:9:29\n    |\n LL | const T2: &'static usize = &S;\n-   |                            ^^\n+   |                             ^\n \n error[E0013]: constants cannot refer to statics, use a constant instead\n   --> $DIR/issue-17718-references.rs:14:19"}, {"sha": "d58822f16eb35b419d092ea65b9c0cc37d6041cd", "filename": "src/test/ui/issues/issue-18118-2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fissues%2Fissue-18118-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fissues%2Fissue-18118-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-18118-2.stderr?ref=025630d189c66a83b6f334e715cec6690cb85adf", "patch": "@@ -1,8 +1,8 @@\n error[E0013]: constants cannot refer to statics, use a constant instead\n-  --> $DIR/issue-18118-2.rs:4:9\n+  --> $DIR/issue-18118-2.rs:4:10\n    |\n LL |         &p\n-   |         ^^\n+   |          ^\n \n error: aborting due to previous error\n "}, {"sha": "313d39de36b6a98d6f156642c9049a109c4f1d0d", "filename": "src/test/ui/thread-local-in-ctfe.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fthread-local-in-ctfe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fthread-local-in-ctfe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fthread-local-in-ctfe.rs?ref=025630d189c66a83b6f334e715cec6690cb85adf", "patch": "@@ -8,14 +8,12 @@ static B: u32 = A;\n \n static C: &u32 = &A;\n //~^ ERROR thread-local statics cannot be accessed at compile-time\n-//~| ERROR thread-local variable borrowed past end of function\n \n const D: u32 = A;\n //~^ ERROR thread-local statics cannot be accessed at compile-time\n \n const E: &u32 = &A;\n //~^ ERROR thread-local statics cannot be accessed at compile-time\n-//~| ERROR thread-local variable borrowed past end of function\n \n const fn f() -> u32 {\n     A"}, {"sha": "9890597b7bd5bc23e95ab4908324c337f243f3f4", "filename": "src/test/ui/thread-local-in-ctfe.stderr", "status": "modified", "additions": 7, "deletions": 24, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fthread-local-in-ctfe.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/025630d189c66a83b6f334e715cec6690cb85adf/src%2Ftest%2Fui%2Fthread-local-in-ctfe.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fthread-local-in-ctfe.stderr?ref=025630d189c66a83b6f334e715cec6690cb85adf", "patch": "@@ -5,45 +5,28 @@ LL | static B: u32 = A;\n    |                 ^\n \n error[E0625]: thread-local statics cannot be accessed at compile-time\n-  --> $DIR/thread-local-in-ctfe.rs:9:18\n+  --> $DIR/thread-local-in-ctfe.rs:9:19\n    |\n LL | static C: &u32 = &A;\n-   |                  ^^\n-\n-error[E0712]: thread-local variable borrowed past end of function\n-  --> $DIR/thread-local-in-ctfe.rs:9:18\n-   |\n-LL | static C: &u32 = &A;\n-   |                  ^^- end of enclosing function is here\n-   |                  |\n-   |                  thread-local variables cannot be borrowed beyond the end of the function\n+   |                   ^\n \n error[E0625]: thread-local statics cannot be accessed at compile-time\n-  --> $DIR/thread-local-in-ctfe.rs:13:16\n+  --> $DIR/thread-local-in-ctfe.rs:12:16\n    |\n LL | const D: u32 = A;\n    |                ^\n \n error[E0625]: thread-local statics cannot be accessed at compile-time\n-  --> $DIR/thread-local-in-ctfe.rs:16:17\n-   |\n-LL | const E: &u32 = &A;\n-   |                 ^^\n-\n-error[E0712]: thread-local variable borrowed past end of function\n-  --> $DIR/thread-local-in-ctfe.rs:16:17\n+  --> $DIR/thread-local-in-ctfe.rs:15:18\n    |\n LL | const E: &u32 = &A;\n-   |                 ^^- end of enclosing function is here\n-   |                 |\n-   |                 thread-local variables cannot be borrowed beyond the end of the function\n+   |                  ^\n \n error[E0625]: thread-local statics cannot be accessed at compile-time\n-  --> $DIR/thread-local-in-ctfe.rs:21:5\n+  --> $DIR/thread-local-in-ctfe.rs:19:5\n    |\n LL |     A\n    |     ^\n \n-error: aborting due to 7 previous errors\n+error: aborting due to 5 previous errors\n \n-For more information about this error, try `rustc --explain E0712`."}]}