{"sha": "34cd36e2f2ea21e5eb8b35deaae081c434ce46f3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM0Y2QzNmUyZjJlYTIxZTVlYjhiMzVkZWFhZTA4MWM0MzRjZTQ2ZjM=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-06-07T23:05:48Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-06-07T23:05:48Z"}, "message": "Rollup merge of #51420 - kennytm:some-network-issues, r=Mark-Simulacrum\n\nTries to address the recent network issues\n\n1. Set the DNS server to 8.8.8.8/8.8.4.4/1.1.1.1/1.0.0.1 to workaround the daily \"Cannot resolve host\" error these two weeks.\n2. Remove the unnecessary command `gem update --system` (originally added as experiment of the \"Could not find a valid gem\" error, which turns out to be useless).", "tree": {"sha": "002a2b4d6808c7654d3dab6a5956fc882d8ebd13", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/002a2b4d6808c7654d3dab6a5956fc882d8ebd13"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/34cd36e2f2ea21e5eb8b35deaae081c434ce46f3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbGbpMCRBK7hj4Ov3rIwAAdHIIAE2opYPLhlgU6R41zXjF4I0F\n0/HE6UKldCi6BeCAarI1gG6tjUvK1FZYx6g1qRAX/r2c403w9tX06zD7ABRcC4z5\n+AvwGbl4ZXcv4SxDdeWo2R+Aijx04ULbrSHtFP3eQDviY5uA34rD312uFoMsMzpX\njFq2kwapqeVuaj30LKCqh/s2KniwWJh951HdFyp3Zeyoy0kWSFOAlQkaDWmuB4jR\nOLyKU3TNuwNtFa8uRO+RRMhqGlQPqw9N29fvF9PxLdDw0UKzN/8HFNtqMCzHdtFg\n7ItVI3Q5m9QT5XzfkBE0LXw/6Im73DxOzXMvnohLOh7gO5QLtkecUXuTFOcv38k=\n=uwdW\n-----END PGP SIGNATURE-----\n", "payload": "tree 002a2b4d6808c7654d3dab6a5956fc882d8ebd13\nparent e46ef1bb86f9f206da06e9d5b313f0ca31809832\nparent 32e8bda4e35ada92beab7236d62520e6c6df8596\nauthor kennytm <kennytm@gmail.com> 1528412748 +0800\ncommitter GitHub <noreply@github.com> 1528412748 +0800\n\nRollup merge of #51420 - kennytm:some-network-issues, r=Mark-Simulacrum\n\nTries to address the recent network issues\n\n1. Set the DNS server to 8.8.8.8/8.8.4.4/1.1.1.1/1.0.0.1 to workaround the daily \"Cannot resolve host\" error these two weeks.\n2. Remove the unnecessary command `gem update --system` (originally added as experiment of the \"Could not find a valid gem\" error, which turns out to be useless).\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/34cd36e2f2ea21e5eb8b35deaae081c434ce46f3", "html_url": "https://github.com/rust-lang/rust/commit/34cd36e2f2ea21e5eb8b35deaae081c434ce46f3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/34cd36e2f2ea21e5eb8b35deaae081c434ce46f3/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e46ef1bb86f9f206da06e9d5b313f0ca31809832", "url": "https://api.github.com/repos/rust-lang/rust/commits/e46ef1bb86f9f206da06e9d5b313f0ca31809832", "html_url": "https://github.com/rust-lang/rust/commit/e46ef1bb86f9f206da06e9d5b313f0ca31809832"}, {"sha": "32e8bda4e35ada92beab7236d62520e6c6df8596", "url": "https://api.github.com/repos/rust-lang/rust/commits/32e8bda4e35ada92beab7236d62520e6c6df8596", "html_url": "https://github.com/rust-lang/rust/commit/32e8bda4e35ada92beab7236d62520e6c6df8596"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "c154f3d8e251f33daeaed515db23de2ec565fdeb", "filename": ".travis.yml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/34cd36e2f2ea21e5eb8b35deaae081c434ce46f3/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/34cd36e2f2ea21e5eb8b35deaae081c434ce46f3/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=34cd36e2f2ea21e5eb8b35deaae081c434ce46f3", "patch": "@@ -301,7 +301,6 @@ before_deploy:\n           rm -rf obj/build/dist/doc &&\n           cp -r obj/build/dist/* deploy/$TRAVIS_COMMIT;\n       fi\n-  - travis_retry gem update --system\n   - ls -la deploy/$TRAVIS_COMMIT\n \n deploy:"}, {"sha": "8913fdaa888e747efa3c955dc1886da2c64535c9", "filename": "src/ci/docker/run.sh", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/34cd36e2f2ea21e5eb8b35deaae081c434ce46f3/src%2Fci%2Fdocker%2Frun.sh", "raw_url": "https://github.com/rust-lang/rust/raw/34cd36e2f2ea21e5eb8b35deaae081c434ce46f3/src%2Fci%2Fdocker%2Frun.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Frun.sh?ref=34cd36e2f2ea21e5eb8b35deaae081c434ce46f3", "patch": "@@ -118,6 +118,10 @@ fi\n # goes ahead and sets it for all builders.\n args=\"$args --privileged\"\n \n+if [ \"$CI\" != \"\" ]; then\n+    args=\"$args --dns 8.8.8.8 --dns 8.8.4.4 --dns 1.1.1.1 --dns 1.0.0.1\"\n+fi\n+\n exec docker \\\n   run \\\n   --volume \"$root_dir:/checkout:ro\" \\"}]}