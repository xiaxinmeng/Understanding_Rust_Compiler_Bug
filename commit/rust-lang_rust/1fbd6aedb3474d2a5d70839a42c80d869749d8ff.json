{"sha": "1fbd6aedb3474d2a5d70839a42c80d869749d8ff", "node_id": "C_kwDOAAsO6NoAKDFmYmQ2YWVkYjM0NzRkMmE1ZDcwODM5YTQyYzgwZDg2OTc0OWQ4ZmY", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-01-16T23:03:33Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-01-16T23:03:33Z"}, "message": "Auto merge of #92935 - Xanewok:update-rls, r=pietroalbini\n\nUpdate RLS and drop rustc-ap-packages\n\nCloses #91543\n\nr? `@pietroalbini`\n\ncc `@calebcartwright` `@flip1995`", "tree": {"sha": "99378a865eae933f71697c72a201ab7c6c94d0af", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/99378a865eae933f71697c72a201ab7c6c94d0af"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1fbd6aedb3474d2a5d70839a42c80d869749d8ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1fbd6aedb3474d2a5d70839a42c80d869749d8ff", "html_url": "https://github.com/rust-lang/rust/commit/1fbd6aedb3474d2a5d70839a42c80d869749d8ff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1fbd6aedb3474d2a5d70839a42c80d869749d8ff/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bd3cb52565faab2755ff1bdb54d88bc91f47b4b9", "url": "https://api.github.com/repos/rust-lang/rust/commits/bd3cb52565faab2755ff1bdb54d88bc91f47b4b9", "html_url": "https://github.com/rust-lang/rust/commit/bd3cb52565faab2755ff1bdb54d88bc91f47b4b9"}, {"sha": "69c3b723d279ece284aff849dffd6376020eb7e5", "url": "https://api.github.com/repos/rust-lang/rust/commits/69c3b723d279ece284aff849dffd6376020eb7e5", "html_url": "https://github.com/rust-lang/rust/commit/69c3b723d279ece284aff849dffd6376020eb7e5"}], "stats": {"total": 276, "additions": 11, "deletions": 265}, "files": [{"sha": "85a9f239ab581d54e3cabbfcf0d01eb581d39031", "filename": "Cargo.lock", "status": "modified", "additions": 10, "deletions": 263, "changes": 273, "blob_url": "https://github.com/rust-lang/rust/blob/1fbd6aedb3474d2a5d70839a42c80d869749d8ff/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/1fbd6aedb3474d2a5d70839a42c80d869749d8ff/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=1fbd6aedb3474d2a5d70839a42c80d869749d8ff", "patch": "@@ -2929,9 +2929,9 @@ dependencies = [\n \n [[package]]\n name = \"racer\"\n-version = \"2.1.48\"\n+version = \"2.2.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7fec2e85e7a30f8fd31b7cf288ad363b5e51fd2cb6f53b416b0cfaabd84e1ccb\"\n+checksum = \"b0b4b5faaf07040474e8af74a9e19ff167d5d204df5db5c5c765edecfb900358\"\n dependencies = [\n  \"bitflags\",\n  \"clap 2.34.0\",\n@@ -2941,13 +2941,6 @@ dependencies = [\n  \"lazy_static\",\n  \"log\",\n  \"rls-span\",\n- \"rustc-ap-rustc_ast\",\n- \"rustc-ap-rustc_ast_pretty\",\n- \"rustc-ap-rustc_data_structures\",\n- \"rustc-ap-rustc_errors\",\n- \"rustc-ap-rustc_parse\",\n- \"rustc-ap-rustc_session\",\n- \"rustc-ap-rustc_span\",\n ]\n \n [[package]]\n@@ -3162,15 +3155,15 @@ dependencies = [\n  \"anyhow\",\n  \"cargo\",\n  \"cargo-util\",\n- \"cargo_metadata 0.12.0\",\n+ \"cargo_metadata 0.14.0\",\n  \"clippy_lints\",\n  \"crossbeam-channel\",\n  \"difference\",\n- \"env_logger 0.7.1\",\n+ \"env_logger 0.9.0\",\n  \"futures 0.3.12\",\n  \"heck\",\n  \"home\",\n- \"itertools 0.9.0\",\n+ \"itertools 0.10.1\",\n  \"jsonrpc-core\",\n  \"lazy_static\",\n  \"log\",\n@@ -3179,7 +3172,7 @@ dependencies = [\n  \"num_cpus\",\n  \"ordslice\",\n  \"racer\",\n- \"rand 0.7.3\",\n+ \"rand 0.8.4\",\n  \"rayon\",\n  \"regex\",\n  \"rls-analysis\",\n@@ -3209,9 +3202,9 @@ name = \"rls-analysis\"\n version = \"0.18.2\"\n dependencies = [\n  \"derive-new\",\n- \"env_logger 0.7.1\",\n+ \"env_logger 0.9.0\",\n  \"fst\",\n- \"itertools 0.9.0\",\n+ \"itertools 0.10.1\",\n  \"json\",\n  \"lazy_static\",\n  \"log\",\n@@ -3248,10 +3241,10 @@ name = \"rls-rustc\"\n version = \"0.6.0\"\n dependencies = [\n  \"clippy_lints\",\n- \"env_logger 0.7.1\",\n+ \"env_logger 0.9.0\",\n  \"futures 0.3.12\",\n  \"log\",\n- \"rand 0.7.3\",\n+ \"rand 0.8.4\",\n  \"rls-data\",\n  \"rls-ipc\",\n  \"serde\",\n@@ -3294,252 +3287,6 @@ dependencies = [\n  \"mdbook\",\n ]\n \n-[[package]]\n-name = \"rustc-ap-rustc_arena\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"550ca1a0925d31a0af089b18c89f5adf3b286e319e3e1f1a5204c21bd2f17371\"\n-dependencies = [\n- \"rustc-ap-rustc_data_structures\",\n- \"smallvec\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_ast\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"4aa53b68080df17994a54747f7c37b0686288a670efb9ba3b382ce62e744aed2\"\n-dependencies = [\n- \"bitflags\",\n- \"rustc-ap-rustc_data_structures\",\n- \"rustc-ap-rustc_index\",\n- \"rustc-ap-rustc_lexer\",\n- \"rustc-ap-rustc_macros\",\n- \"rustc-ap-rustc_serialize\",\n- \"rustc-ap-rustc_span\",\n- \"smallvec\",\n- \"tracing\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_ast_pretty\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"0ae71e68fada466a4b2c39c79ca6aee3226587abe6787170d2f6c92237569565\"\n-dependencies = [\n- \"rustc-ap-rustc_ast\",\n- \"rustc-ap-rustc_span\",\n- \"tracing\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_data_structures\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"faa484d6e0ca32d1d82303647275c696f745599b3d97e686f396ceef5b99d7ae\"\n-dependencies = [\n- \"arrayvec\",\n- \"bitflags\",\n- \"cfg-if 0.1.10\",\n- \"crossbeam-utils\",\n- \"ena\",\n- \"indexmap\",\n- \"jobserver\",\n- \"libc\",\n- \"measureme 9.1.2\",\n- \"memmap2\",\n- \"parking_lot\",\n- \"rustc-ap-rustc_graphviz\",\n- \"rustc-ap-rustc_index\",\n- \"rustc-ap-rustc_macros\",\n- \"rustc-ap-rustc_serialize\",\n- \"rustc-hash\",\n- \"rustc-rayon\",\n- \"rustc-rayon-core\",\n- \"smallvec\",\n- \"stable_deref_trait\",\n- \"stacker\",\n- \"tempfile\",\n- \"tracing\",\n- \"winapi\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_errors\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5f85ba19cca320ad797e3a29c35cab9bddfff0e7adbde336a436249e54cee7b1\"\n-dependencies = [\n- \"annotate-snippets\",\n- \"atty\",\n- \"rustc-ap-rustc_data_structures\",\n- \"rustc-ap-rustc_lint_defs\",\n- \"rustc-ap-rustc_macros\",\n- \"rustc-ap-rustc_serialize\",\n- \"rustc-ap-rustc_span\",\n- \"termcolor\",\n- \"termize\",\n- \"tracing\",\n- \"unicode-width\",\n- \"winapi\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_feature\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"97d538adab96b8b2b1ca9fcd4c8c47d4e23e862a23d1a38b6c15cd8fd52b34b1\"\n-dependencies = [\n- \"rustc-ap-rustc_data_structures\",\n- \"rustc-ap-rustc_span\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_fs_util\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"8ad6f13d240944fa8f360d2f3b849a7cadaec75e477829e7dde61e838deda83d\"\n-\n-[[package]]\n-name = \"rustc-ap-rustc_graphviz\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"08b3451153cc5828c02cc4f1a0df146d25ac4b3382a112e25fd9d3f5bff15cdc\"\n-\n-[[package]]\n-name = \"rustc-ap-rustc_index\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"cd39a9f01b442c629bdff5778cb3dd29b7c2ea4afe62d5ab61d216bd1b556692\"\n-dependencies = [\n- \"arrayvec\",\n- \"rustc-ap-rustc_macros\",\n- \"rustc-ap-rustc_serialize\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_lexer\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a5de290c44a90e671d2cd730062b9ef73d11155da7e44e7741d633e1e51e616e\"\n-dependencies = [\n- \"unicode-xid\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_lint_defs\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"69570b4beb61088926b131579865bbe70d124d30778c46307a62ec8b310ae462\"\n-dependencies = [\n- \"rustc-ap-rustc_ast\",\n- \"rustc-ap-rustc_data_structures\",\n- \"rustc-ap-rustc_macros\",\n- \"rustc-ap-rustc_serialize\",\n- \"rustc-ap-rustc_span\",\n- \"rustc-ap-rustc_target\",\n- \"tracing\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_macros\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"86bd877df37f15c5a44d9679d1b5207ebc95f3943fbc336eeac670195ac58610\"\n-dependencies = [\n- \"proc-macro2\",\n- \"quote\",\n- \"syn\",\n- \"synstructure\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_parse\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"02502d8522ba31d0bcad28a78822b68c1b6ba947a2b4aa6a2341b30594379b80\"\n-dependencies = [\n- \"bitflags\",\n- \"rustc-ap-rustc_ast\",\n- \"rustc-ap-rustc_ast_pretty\",\n- \"rustc-ap-rustc_data_structures\",\n- \"rustc-ap-rustc_errors\",\n- \"rustc-ap-rustc_feature\",\n- \"rustc-ap-rustc_lexer\",\n- \"rustc-ap-rustc_session\",\n- \"rustc-ap-rustc_span\",\n- \"smallvec\",\n- \"tracing\",\n- \"unicode-normalization\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_serialize\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5f741f8e9aee6323fbe127329490608a5a250cc0072ac91e684ef62518cdb1ff\"\n-dependencies = [\n- \"indexmap\",\n- \"smallvec\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_session\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"dba61eca749f4fced4427ad1cc7f23342cfc6527c3bcc624e3aa56abc1f81298\"\n-dependencies = [\n- \"bitflags\",\n- \"getopts\",\n- \"num_cpus\",\n- \"rustc-ap-rustc_ast\",\n- \"rustc-ap-rustc_data_structures\",\n- \"rustc-ap-rustc_errors\",\n- \"rustc-ap-rustc_feature\",\n- \"rustc-ap-rustc_fs_util\",\n- \"rustc-ap-rustc_lint_defs\",\n- \"rustc-ap-rustc_macros\",\n- \"rustc-ap-rustc_serialize\",\n- \"rustc-ap-rustc_span\",\n- \"rustc-ap-rustc_target\",\n- \"tracing\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_span\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a642e8d6fc883f34e0778e079f8242ac40c6614a6b7a0ef61681333e847f5e62\"\n-dependencies = [\n- \"cfg-if 0.1.10\",\n- \"md-5\",\n- \"rustc-ap-rustc_arena\",\n- \"rustc-ap-rustc_data_structures\",\n- \"rustc-ap-rustc_index\",\n- \"rustc-ap-rustc_macros\",\n- \"rustc-ap-rustc_serialize\",\n- \"scoped-tls\",\n- \"sha-1 0.9.1\",\n- \"sha2\",\n- \"tracing\",\n- \"unicode-width\",\n-]\n-\n-[[package]]\n-name = \"rustc-ap-rustc_target\"\n-version = \"722.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"80feebd8c323b80dd73a395fa7fabba9e2098b6277670ff89c473f618ffa07de\"\n-dependencies = [\n- \"bitflags\",\n- \"rustc-ap-rustc_data_structures\",\n- \"rustc-ap-rustc_index\",\n- \"rustc-ap-rustc_macros\",\n- \"rustc-ap-rustc_serialize\",\n- \"rustc-ap-rustc_span\",\n- \"tracing\",\n-]\n-\n [[package]]\n name = \"rustc-demangle\"\n version = \"0.1.21\""}, {"sha": "f37425e33c864c697af06df66e7473444605c149", "filename": "src/tools/rls", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frls?ref=1fbd6aedb3474d2a5d70839a42c80d869749d8ff", "patch": "@@ -1 +1 @@\n-Subproject commit bf88026f11f2cc7bb9fefdfe1dbcab642f110afa\n+Subproject commit f37425e33c864c697af06df66e7473444605c149"}, {"sha": "f83a5b1a2ba13f4a24a90d88df1b5d245bd77c74", "filename": "src/tools/tidy/src/deps.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1fbd6aedb3474d2a5d70839a42c80d869749d8ff/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1fbd6aedb3474d2a5d70839a42c80d869749d8ff/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fdeps.rs?ref=1fbd6aedb3474d2a5d70839a42c80d869749d8ff", "patch": "@@ -273,7 +273,6 @@ const FORBIDDEN_TO_HAVE_DUPLICATES: &[&str] = &[\n     // to accidentally sneak into our dependency graph, in order to ensure we keep our CI times\n     // under control.\n     \"cargo\",\n-    \"rustc-ap-rustc_ast\",\n ];\n \n /// Dependency checks."}]}