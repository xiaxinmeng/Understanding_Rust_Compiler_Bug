{"sha": "fc9eadf75bc68be413d7894d70be2a2ad5a5bd79", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZjOWVhZGY3NWJjNjhiZTQxM2Q3ODk0ZDcwYmUyYTJhZDVhNWJkNzk=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-06-08T12:46:29Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-06-08T21:34:55Z"}, "message": "profile LLVM cleanup insns", "tree": {"sha": "69e611ec14e35af169985e0524d9f7f73cc14bb5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/69e611ec14e35af169985e0524d9f7f73cc14bb5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fc9eadf75bc68be413d7894d70be2a2ad5a5bd79", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fc9eadf75bc68be413d7894d70be2a2ad5a5bd79", "html_url": "https://github.com/rust-lang/rust/commit/fc9eadf75bc68be413d7894d70be2a2ad5a5bd79", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fc9eadf75bc68be413d7894d70be2a2ad5a5bd79/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dc94ccc4a4060e97389cd2cfd8a8cdb25668a3b1", "url": "https://api.github.com/repos/rust-lang/rust/commits/dc94ccc4a4060e97389cd2cfd8a8cdb25668a3b1", "html_url": "https://github.com/rust-lang/rust/commit/dc94ccc4a4060e97389cd2cfd8a8cdb25668a3b1"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "cb17f1997319977a0f4dafa55e9c983c244ec35f", "filename": "src/rustc/middle/trans/base.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/fc9eadf75bc68be413d7894d70be2a2ad5a5bd79/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fc9eadf75bc68be413d7894d70be2a2ad5a5bd79/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=fc9eadf75bc68be413d7894d70be2a2ad5a5bd79", "patch": "@@ -1748,6 +1748,8 @@ fn trans_assign_op(bcx: block, ex: @ast::expr, op: ast::binop,\n \n fn root_value(bcx: block, val: ValueRef, ty: ty::t,\n               scope_id: ast::node_id) {\n+    let _icx = bcx.insn_ctxt(\"root_value\");\n+\n     if bcx.sess().trace() {\n         trans_trace(\n             bcx, none,\n@@ -2642,6 +2644,7 @@ fn trans_lval(cx: block, e: @ast::expr) -> lval_result {\n                                  scope_id]);\n         }\n \n+        let _icx = lv.bcx.insn_ctxt(\"root_value_lval\");\n         let ty = expr_ty(lv.bcx, e);\n         let root_loc = alloca_zeroed(lv.bcx, type_of(cx.ccx(), ty));\n         let bcx = store_temp_expr(lv.bcx, INIT, root_loc, lv, ty, false);\n@@ -3511,6 +3514,7 @@ fn trans_expr(bcx: block, e: @ast::expr, dest: dest) -> block {\n                                   scope_id]);\n         }\n \n+        let _icx = bcx.insn_ctxt(\"root_value_expr\");\n         add_root_cleanup(bcx, scope_id, root_loc, ty);\n         let lv = {bcx: bcx, val: root_loc, kind: owned};\n         lval_result_to_dps(lv, ty, false, dest)"}]}