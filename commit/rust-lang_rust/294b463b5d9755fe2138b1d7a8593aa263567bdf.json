{"sha": "294b463b5d9755fe2138b1d7a8593aa263567bdf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI5NGI0NjNiNWQ5NzU1ZmUyMTM4YjFkN2E4NTkzYWEyNjM1NjdiZGY=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2016-04-02T16:36:56Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2016-04-02T16:36:56Z"}, "message": "minor: use &mut ref instead of by value argument\n\nThis also unifies `write_all_files` and `write_file` functions", "tree": {"sha": "cac46f3d870ab8baa5b7ff57d0c8bf3575db944c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cac46f3d870ab8baa5b7ff57d0c8bf3575db944c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/294b463b5d9755fe2138b1d7a8593aa263567bdf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/294b463b5d9755fe2138b1d7a8593aa263567bdf", "html_url": "https://github.com/rust-lang/rust/commit/294b463b5d9755fe2138b1d7a8593aa263567bdf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/294b463b5d9755fe2138b1d7a8593aa263567bdf/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c3cef52cde49245982f044a481fd6ebbbfb7dcb5", "url": "https://api.github.com/repos/rust-lang/rust/commits/c3cef52cde49245982f044a481fd6ebbbfb7dcb5", "html_url": "https://github.com/rust-lang/rust/commit/c3cef52cde49245982f044a481fd6ebbbfb7dcb5"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "64c892a092973caf96fb0e6290da60435f63dff8", "filename": "src/filemap.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/294b463b5d9755fe2138b1d7a8593aa263567bdf/src%2Ffilemap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/294b463b5d9755fe2138b1d7a8593aa263567bdf/src%2Ffilemap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ffilemap.rs?ref=294b463b5d9755fe2138b1d7a8593aa263567bdf", "patch": "@@ -31,14 +31,14 @@ pub fn append_newlines(file_map: &mut FileMap) {\n     }\n }\n \n-pub fn write_all_files<T>(file_map: &FileMap, mut out: T, config: &Config) -> Result<(), io::Error>\n+pub fn write_all_files<T>(file_map: &FileMap, out: &mut T, config: &Config) -> Result<(), io::Error>\n     where T: Write\n {\n-    output_header(&mut out, config.write_mode).ok();\n+    output_header(out, config.write_mode).ok();\n     for filename in file_map.keys() {\n-        try!(write_file(&file_map[filename], filename, &mut out, config));\n+        try!(write_file(&file_map[filename], filename, out, config));\n     }\n-    output_footer(&mut out, config.write_mode).ok();\n+    output_footer(out, config.write_mode).ok();\n \n     Ok(())\n }"}, {"sha": "a559c23006bd160881943f6d7047ec227fa88cf1", "filename": "src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/294b463b5d9755fe2138b1d7a8593aa263567bdf/src%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/294b463b5d9755fe2138b1d7a8593aa263567bdf/src%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib.rs?ref=294b463b5d9755fe2138b1d7a8593aa263567bdf", "patch": "@@ -432,8 +432,8 @@ pub fn run(file: &Path, config: &Config) {\n     let mut result = format(file, config);\n \n     print!(\"{}\", fmt_lines(&mut result, config));\n-    let out = stdout();\n-    let write_result = filemap::write_all_files(&result, out, config);\n+    let mut out = stdout();\n+    let write_result = filemap::write_all_files(&result, &mut out, config);\n \n     if let Err(msg) = write_result {\n         println!(\"Error writing files: {}\", msg);"}]}