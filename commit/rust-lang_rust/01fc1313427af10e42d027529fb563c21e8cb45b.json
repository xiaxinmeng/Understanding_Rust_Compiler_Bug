{"sha": "01fc1313427af10e42d027529fb563c21e8cb45b", "node_id": "C_kwDOAAsO6NoAKDAxZmMxMzEzNDI3YWYxMGU0MmQwMjc1MjlmYjU2M2MyMWU4Y2I0NWI", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-09-08T21:40:13Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-09-08T22:11:16Z"}, "message": "Clean up themes a bit more", "tree": {"sha": "8daf7f4badb0dbde3cd79704aa074a876f5be2b0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8daf7f4badb0dbde3cd79704aa074a876f5be2b0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/01fc1313427af10e42d027529fb563c21e8cb45b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/01fc1313427af10e42d027529fb563c21e8cb45b", "html_url": "https://github.com/rust-lang/rust/commit/01fc1313427af10e42d027529fb563c21e8cb45b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/01fc1313427af10e42d027529fb563c21e8cb45b/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ccb5595df2ed412eda6444edc7eaf06f709fa79d", "url": "https://api.github.com/repos/rust-lang/rust/commits/ccb5595df2ed412eda6444edc7eaf06f709fa79d", "html_url": "https://github.com/rust-lang/rust/commit/ccb5595df2ed412eda6444edc7eaf06f709fa79d"}], "stats": {"total": 202, "additions": 56, "deletions": 146}, "files": [{"sha": "1b8b28f0432a1be66593c6682066ea345f3e7fd5", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=01fc1313427af10e42d027529fb563c21e8cb45b", "patch": "@@ -1165,6 +1165,42 @@ pre.rust .question-mark {\n \tfont-weight: bold;\n }\n \n+pre.compile_fail,\n+pre.should_panic {\n+\tborder-left: 2px solid var(--codeblock-error-color);\n+}\n+\n+pre.ignore {\n+\tborder-left: 2px solid var(--codeblock-ignore-color);\n+}\n+\n+pre.compile_fail:hover, .information:hover + .example-wrap pre.compile_fail,\n+pre.should_panic:hover, .information:hover + .example-wrap pre.should_panic {\n+\tborder-left: 2px solid var(--codeblock-error-hover-color);\n+}\n+\n+pre.ignore:hover, .information:hover + .example-wrap pre.ignore {\n+\tborder-left: 2px solid var(--codeblock-ignore-hover-color);\n+}\n+\n+.tooltip.compile_fail,\n+.tooltip.should_panic {\n+\tcolor: var(--codeblock-error-color);\n+}\n+\n+.tooltip.ignore {\n+\tcolor:  var(--codeblock-ignore-color);\n+}\n+\n+.information > .compile_fail:hover,\n+.information > .should_panic:hover {\n+\tcolor: var(--codeblock-error-hover-color);\n+}\n+\n+.information > .ignore:hover {\n+\tcolor: var(--codeblock-ignore-hover-color);\n+}\n+\n a.test-arrow {\n \tdisplay: inline-block;\n \tvisibility: hidden;"}, {"sha": "74de113495c2ed017d218d5b64dea56e499463b2", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 4, "deletions": 48, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=01fc1313427af10e42d027529fb563c21e8cb45b", "patch": "@@ -23,6 +23,10 @@ Original by Dempfi (https://github.com/dempfi/ayu)\n \t--copy-path-button-color: #fff;\n \t--copy-path-img-filter: invert(70%);\n \t--copy-path-img-hover-filter: invert(100%);\n+\t--codeblock-error-hover-color: rgb(255, 0, 0);\n+\t--codeblock-error-color: rgba(255, 0, 0, .5);\n+\t--codeblock-ignore-hover-color: rgb(255, 142, 0);\n+\t--codeblock-ignore-color: rgba(255, 142, 0, .6);\n }\n \n .slider {\n@@ -244,54 +248,6 @@ a.test-arrow:hover {\n \tborder-right: 3px solid rgba(255, 180, 76, 0.85);\n }\n \n-pre.compile_fail {\n-\tborder-left: 2px solid rgba(255,0,0,.4);\n-}\n-\n-pre.compile_fail:hover, .information:hover + pre.compile_fail {\n-\tborder-left: 2px solid #f00;\n-}\n-\n-pre.should_panic {\n-\tborder-left: 2px solid rgba(255,0,0,.4);\n-}\n-\n-pre.should_panic:hover, .information:hover + pre.should_panic {\n-\tborder-left: 2px solid #f00;\n-}\n-\n-pre.ignore {\n-\tborder-left: 2px solid rgba(255,142,0,.6);\n-}\n-\n-pre.ignore:hover, .information:hover + pre.ignore {\n-\tborder-left: 2px solid #ff9200;\n-}\n-\n-.tooltip.compile_fail {\n-\tcolor: rgba(255,0,0,.5);\n-}\n-\n-.information > .compile_fail:hover {\n-\tcolor: #f00;\n-}\n-\n-.tooltip.should_panic {\n-\tcolor: rgba(255,0,0,.5);\n-}\n-\n-.information > .should_panic:hover {\n-\tcolor: #f00;\n-}\n-\n-.tooltip.ignore {\n-\tcolor: rgba(255,142,0,.6);\n-}\n-\n-.information > .ignore:hover {\n-\tcolor: #ff9200;\n-}\n-\n .search-failed a {\n \tcolor: #39AFD7;\n }"}, {"sha": "153b40f05d8de108e28fdea657dc686e4a7c01bb", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 4, "deletions": 48, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=01fc1313427af10e42d027529fb563c21e8cb45b", "patch": "@@ -18,6 +18,10 @@\n \t--copy-path-button-color: #999;\n \t--copy-path-img-filter: invert(50%);\n \t--copy-path-img-hover-filter: invert(65%);\n+\t--codeblock-error-hover-color: rgb(255, 0, 0);\n+\t--codeblock-error-color: rgba(255, 0, 0, .5);\n+\t--codeblock-ignore-hover-color: rgb(255, 142, 0);\n+\t--codeblock-ignore-color: rgba(255, 142, 0, .6);\n }\n \n .slider {\n@@ -194,54 +198,6 @@ a.test-arrow:hover{\n \tborder-right: 3px solid #bb7410;\n }\n \n-pre.compile_fail {\n-\tborder-left: 2px solid rgba(255,0,0,.8);\n-}\n-\n-pre.compile_fail:hover, .information:hover + pre.compile_fail {\n-\tborder-left: 2px solid #f00;\n-}\n-\n-pre.should_panic {\n-\tborder-left: 2px solid rgba(255,0,0,.8);\n-}\n-\n-pre.should_panic:hover, .information:hover + pre.should_panic {\n-\tborder-left: 2px solid #f00;\n-}\n-\n-pre.ignore {\n-\tborder-left: 2px solid rgba(255,142,0,.6);\n-}\n-\n-pre.ignore:hover, .information:hover + pre.ignore {\n-\tborder-left: 2px solid #ff9200;\n-}\n-\n-.tooltip.compile_fail {\n-\tcolor: rgba(255,0,0,.8);\n-}\n-\n-.information > .compile_fail:hover {\n-\tcolor: #f00;\n-}\n-\n-.tooltip.should_panic {\n-\tcolor: rgba(255,0,0,.8);\n-}\n-\n-.information > .should_panic:hover {\n-\tcolor: #f00;\n-}\n-\n-.tooltip.ignore {\n-\tcolor: rgba(255,142,0,.6);\n-}\n-\n-.information > .ignore:hover {\n-\tcolor: #ff9200;\n-}\n-\n .search-failed a {\n \tcolor: #0089ff;\n }"}, {"sha": "9ced9e7b5ce32ea8e4754e7fd71dba5a78a7e424", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 4, "deletions": 48, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=01fc1313427af10e42d027529fb563c21e8cb45b", "patch": "@@ -18,6 +18,10 @@\n \t--copy-path-button-color: #999;\n \t--copy-path-img-filter: invert(50%);\n \t--copy-path-img-hover-filter: invert(35%);\n+\t--codeblock-error-hover-color: rgb(255, 0, 0);\n+\t--codeblock-error-color: rgba(255, 0, 0, .5);\n+\t--codeblock-ignore-hover-color: rgb(255, 142, 0);\n+\t--codeblock-ignore-color: rgba(255, 142, 0, .6);\n }\n \n .slider {\n@@ -180,54 +184,6 @@ a.test-arrow:hover{\n \tborder-right: 3px solid #AD7C37;\n }\n \n-pre.compile_fail {\n-\tborder-left: 2px solid rgba(255,0,0,.5);\n-}\n-\n-pre.compile_fail:hover, .information:hover + pre.compile_fail {\n-\tborder-left: 2px solid #f00;\n-}\n-\n-pre.should_panic {\n-\tborder-left: 2px solid rgba(255,0,0,.5);\n-}\n-\n-pre.should_panic:hover, .information:hover + pre.should_panic {\n-\tborder-left: 2px solid #f00;\n-}\n-\n-pre.ignore {\n-\tborder-left: 2px solid rgba(255,142,0,.6);\n-}\n-\n-pre.ignore:hover, .information:hover + pre.ignore {\n-\tborder-left: 2px solid #ff9200;\n-}\n-\n-.tooltip.compile_fail {\n-\tcolor: rgba(255,0,0,.5);\n-}\n-\n-.information > .compile_fail:hover {\n-\tcolor: #f00;\n-}\n-\n-.tooltip.should_panic {\n-\tcolor: rgba(255,0,0,.5);\n-}\n-\n-.information > .should_panic:hover {\n-\tcolor: #f00;\n-}\n-\n-.tooltip.ignore {\n-\tcolor: rgba(255,142,0,.6);\n-}\n-\n-.information > .ignore:hover {\n-\tcolor: #ff9200;\n-}\n-\n .search-failed a {\n \tcolor: #3873AD;\n }"}, {"sha": "8d399a9a589767f21fb112d7844f11647d0ce3af", "filename": "src/test/rustdoc-gui/code-tags.goml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Ftest%2Frustdoc-gui%2Fcode-tags.goml", "raw_url": "https://github.com/rust-lang/rust/raw/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Ftest%2Frustdoc-gui%2Fcode-tags.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fcode-tags.goml?ref=01fc1313427af10e42d027529fb563c21e8cb45b", "patch": "@@ -1,9 +1,9 @@\n // This test ensures that items and documentation code blocks are wrapped in <pre><code>\n goto: file://|DOC_PATH|/test_docs/fn.foo.html\n size: (1080, 600)\n-// There should be three doc codeblocks\n+// There should be four doc codeblocks.\n // Check that their content is inside <pre><code>\n-assert-count: (\".example-wrap pre > code\", 3)\n+assert-count: (\".example-wrap pre > code\", 4)\n // Check that function signature is inside <pre><code>\n assert: \"pre.rust.fn > code\"\n "}, {"sha": "4eedf7f15c3d4f8df273f9a726d533d1cfa178aa", "filename": "src/test/rustdoc-gui/src/test_docs/lib.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/01fc1313427af10e42d027529fb563c21e8cb45b/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsrc%2Ftest_docs%2Flib.rs?ref=01fc1313427af10e42d027529fb563c21e8cb45b", "patch": "@@ -28,6 +28,12 @@ use std::fmt;\n /// Let's say I'm just some text will ya?\n /// ```\n ///\n+/// A failing to run one:\n+///\n+/// ```should_panic\n+/// panic!(\"tadam\");\n+/// ```\n+///\n /// An inlined `code`!\n pub fn foo() {}\n "}]}