{"sha": "f364f483a3d79248b2b6b576097e27ffdacfe38e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYzNjRmNDgzYTNkNzkyNDhiMmI2YjU3NjA5N2UyN2ZmZGFjZmUzOGU=", "commit": {"author": {"name": "Mateusz Miku\u0142a", "email": "matti@marinelayer.io", "date": "2019-03-14T15:55:47Z"}, "committer": {"name": "Mateusz Miku\u0142a", "email": "mati865@gmail.com", "date": "2019-03-14T15:55:47Z"}, "message": "Address final review", "tree": {"sha": "cee7ac36bcc158440f8e984cce80039ed161d632", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cee7ac36bcc158440f8e984cce80039ed161d632"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f364f483a3d79248b2b6b576097e27ffdacfe38e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f364f483a3d79248b2b6b576097e27ffdacfe38e", "html_url": "https://github.com/rust-lang/rust/commit/f364f483a3d79248b2b6b576097e27ffdacfe38e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f364f483a3d79248b2b6b576097e27ffdacfe38e/comments", "author": {"login": "mati865", "id": 1174646, "node_id": "MDQ6VXNlcjExNzQ2NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1174646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mati865", "html_url": "https://github.com/mati865", "followers_url": "https://api.github.com/users/mati865/followers", "following_url": "https://api.github.com/users/mati865/following{/other_user}", "gists_url": "https://api.github.com/users/mati865/gists{/gist_id}", "starred_url": "https://api.github.com/users/mati865/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mati865/subscriptions", "organizations_url": "https://api.github.com/users/mati865/orgs", "repos_url": "https://api.github.com/users/mati865/repos", "events_url": "https://api.github.com/users/mati865/events{/privacy}", "received_events_url": "https://api.github.com/users/mati865/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mati865", "id": 1174646, "node_id": "MDQ6VXNlcjExNzQ2NDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1174646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mati865", "html_url": "https://github.com/mati865", "followers_url": "https://api.github.com/users/mati865/followers", "following_url": "https://api.github.com/users/mati865/following{/other_user}", "gists_url": "https://api.github.com/users/mati865/gists{/gist_id}", "starred_url": "https://api.github.com/users/mati865/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mati865/subscriptions", "organizations_url": "https://api.github.com/users/mati865/orgs", "repos_url": "https://api.github.com/users/mati865/repos", "events_url": "https://api.github.com/users/mati865/events{/privacy}", "received_events_url": "https://api.github.com/users/mati865/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "17464a7b877c83cb506ccac33347a6c777b78159", "url": "https://api.github.com/repos/rust-lang/rust/commits/17464a7b877c83cb506ccac33347a6c777b78159", "html_url": "https://github.com/rust-lang/rust/commit/17464a7b877c83cb506ccac33347a6c777b78159"}], "stats": {"total": 11, "additions": 7, "deletions": 4}, "files": [{"sha": "e168760f4497121f85afefd6d70869373345c9e0", "filename": "src/ci/docker/scripts/musl-toolchain.sh", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f364f483a3d79248b2b6b576097e27ffdacfe38e/src%2Fci%2Fdocker%2Fscripts%2Fmusl-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/f364f483a3d79248b2b6b576097e27ffdacfe38e/src%2Fci%2Fdocker%2Fscripts%2Fmusl-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fmusl-toolchain.sh?ref=f364f483a3d79248b2b6b576097e27ffdacfe38e", "patch": "@@ -1,3 +1,9 @@\n+# This script runs `musl-cross-make` to prepare C toolchain (Binutils, GCC, musl itself)\n+# and builds static libunwind that we distribute for static target.\n+#\n+# Versions of the toolchain components are configurable in `musl-cross-make/Makefile` and\n+# musl unlike GLIBC is forward compatible so upgrading it shouldn't break old distributions.\n+# Right now we have: Binutils 2.27, GCC 6.3.0, musl 1.1.18\n set -ex\n \n hide_output() {"}, {"sha": "60b431ad38641ffd44611d48afeb5b9289770866", "filename": "src/ci/docker/test-various/Dockerfile", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f364f483a3d79248b2b6b576097e27ffdacfe38e/src%2Fci%2Fdocker%2Ftest-various%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/f364f483a3d79248b2b6b576097e27ffdacfe38e/src%2Fci%2Fdocker%2Ftest-various%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Ftest-various%2FDockerfile?ref=f364f483a3d79248b2b6b576097e27ffdacfe38e", "patch": "@@ -12,7 +12,6 @@ RUN apt-get update && apt-get install -y --no-install-recommends \\\n   sudo \\\n   gdb \\\n   xz-utils \\\n-  # for musl\n   wget \\\n   patch\n \n@@ -25,9 +24,7 @@ RUN curl -sL https://nodejs.org/dist/v9.2.0/node-v9.2.0-linux-x64.tar.xz | \\\n \n WORKDIR /build/\n COPY scripts/musl-toolchain.sh /build/\n-RUN CFLAGS=\"-Wa,-mrelax-relocations=no\" \\\n-    CXXFLAGS=\"-Wa,-mrelax-relocations=no\" \\\n-    bash musl-toolchain.sh x86_64 && rm -rf build\n+RUN bash musl-toolchain.sh x86_64 && rm -rf build\n WORKDIR /\n \n COPY scripts/sccache.sh /scripts/"}]}