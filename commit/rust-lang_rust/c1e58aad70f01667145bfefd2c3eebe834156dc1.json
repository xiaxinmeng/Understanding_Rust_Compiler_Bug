{"sha": "c1e58aad70f01667145bfefd2c3eebe834156dc1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMxZTU4YWFkNzBmMDE2NjcxNDViZmVmZDJjM2VlYmU4MzQxNTZkYzE=", "commit": {"author": {"name": "Chris Peterson", "email": "cpeterson@mozilla.com", "date": "2012-12-23T22:37:44Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-12-25T02:29:02Z"}, "message": "core: Mark some functions as pure", "tree": {"sha": "fe0938cb3edfa504eb0502aa7bdd766b715e0db7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe0938cb3edfa504eb0502aa7bdd766b715e0db7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c1e58aad70f01667145bfefd2c3eebe834156dc1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c1e58aad70f01667145bfefd2c3eebe834156dc1", "html_url": "https://github.com/rust-lang/rust/commit/c1e58aad70f01667145bfefd2c3eebe834156dc1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c1e58aad70f01667145bfefd2c3eebe834156dc1/comments", "author": {"login": "cpeterso", "id": 629193, "node_id": "MDQ6VXNlcjYyOTE5Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/629193?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cpeterso", "html_url": "https://github.com/cpeterso", "followers_url": "https://api.github.com/users/cpeterso/followers", "following_url": "https://api.github.com/users/cpeterso/following{/other_user}", "gists_url": "https://api.github.com/users/cpeterso/gists{/gist_id}", "starred_url": "https://api.github.com/users/cpeterso/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cpeterso/subscriptions", "organizations_url": "https://api.github.com/users/cpeterso/orgs", "repos_url": "https://api.github.com/users/cpeterso/repos", "events_url": "https://api.github.com/users/cpeterso/events{/privacy}", "received_events_url": "https://api.github.com/users/cpeterso/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "889df548865c87bb79be595a7130f21b13f220a3", "url": "https://api.github.com/repos/rust-lang/rust/commits/889df548865c87bb79be595a7130f21b13f220a3", "html_url": "https://github.com/rust-lang/rust/commit/889df548865c87bb79be595a7130f21b13f220a3"}], "stats": {"total": 30, "additions": 14, "deletions": 16}, "files": [{"sha": "236d6bce9f033515f21e9fcac7b94682ea29ba1b", "filename": "src/libcore/dvec.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Fdvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Fdvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fdvec.rs?ref=c1e58aad70f01667145bfefd2c3eebe834156dc1", "patch": "@@ -67,17 +67,17 @@ pub pure fn DVec<A>() -> DVec<A> {\n }\n \n /// Creates a new dvec with a single element\n-pub fn from_elem<A>(e: A) -> DVec<A> {\n+pub pure fn from_elem<A>(e: A) -> DVec<A> {\n     DVec {mut data: ~[move e]}\n }\n \n /// Creates a new dvec with the contents of a vector\n-pub fn from_vec<A>(v: ~[A]) -> DVec<A> {\n+pub pure fn from_vec<A>(v: ~[A]) -> DVec<A> {\n     DVec {mut data: move v}\n }\n \n /// Consumes the vector and returns its contents\n-pub fn unwrap<A>(d: DVec<A>) -> ~[A] {\n+pub pure fn unwrap<A>(d: DVec<A>) -> ~[A] {\n     let DVec {data: v} = move d;\n     move v\n }"}, {"sha": "d7d68582aefd0599afcb322fa7ed5a9d63da5cbb", "filename": "src/libcore/float.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Ffloat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Ffloat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ffloat.rs?ref=c1e58aad70f01667145bfefd2c3eebe834156dc1", "patch": "@@ -188,7 +188,7 @@ pub pure fn to_str_common(num: float, digits: uint, exact: bool) -> ~str {\n  * * num - The float value\n  * * digits - The number of significant digits\n  */\n-pub fn to_str_exact(num: float, digits: uint) -> ~str {\n+pub pure fn to_str_exact(num: float, digits: uint) -> ~str {\n     to_str_common(num, digits, true)\n }\n \n@@ -238,7 +238,7 @@ pub pure fn to_str(num: float, digits: uint) -> ~str {\n  * `none` if the string did not represent a valid number.  Otherwise,\n  * `Some(n)` where `n` is the floating-point number represented by `[num]`.\n  */\n-pub fn from_str(num: &str) -> Option<float> {\n+pub pure fn from_str(num: &str) -> Option<float> {\n    if num == \"inf\" {\n        return Some(infinity as float);\n    } else if num == \"-inf\" {"}, {"sha": "61a7c3bd07ab33547a2980d16cbd181c2996abd6", "filename": "src/libcore/int-template/int.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Fint-template%2Fint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Fint-template%2Fint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fint-template%2Fint.rs?ref=c1e58aad70f01667145bfefd2c3eebe834156dc1", "patch": "@@ -17,12 +17,12 @@ mod inst {\n     pub const bits: uint = uint::bits;\n \n     /// Returns `base` raised to the power of `exponent`\n-    pub fn pow(base: int, exponent: uint) -> int {\n+    pub pure fn pow(base: int, exponent: uint) -> int {\n         if exponent == 0u {\n             //Not mathemtically true if ~[base == 0]\n             return 1;\n         }\n-        if base     == 0  { return 0; }\n+        if base == 0 { return 0; }\n         let mut my_pow  = exponent;\n         let mut acc     = 1;\n         let mut multiplier = base;"}, {"sha": "c838af700f65e5c319cb9d6c2644e531a7075ac7", "filename": "src/libcore/ptr.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Fptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Fptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fptr.rs?ref=c1e58aad70f01667145bfefd2c3eebe834156dc1", "patch": "@@ -170,13 +170,13 @@ pub pure fn to_mut_unsafe_ptr<T>(thing: &mut T) -> *mut T {\n   (I couldn't think of a cutesy name for this one.)\n */\n #[inline(always)]\n-pub fn to_uint<T>(thing: &T) -> uint unsafe {\n+pub pure fn to_uint<T>(thing: &T) -> uint unsafe {\n     cast::reinterpret_cast(&thing)\n }\n \n /// Determine if two borrowed pointers point to the same thing.\n #[inline(always)]\n-pub fn ref_eq<T>(thing: &a/T, other: &b/T) -> bool {\n+pub pure fn ref_eq<T>(thing: &a/T, other: &b/T) -> bool {\n     to_uint(thing) == to_uint(other)\n }\n "}, {"sha": "8ee857ef927d19634a4e0e5cc35c3150f55d8c16", "filename": "src/libcore/rand.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Frand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Frand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Frand.rs?ref=c1e58aad70f01667145bfefd2c3eebe834156dc1", "patch": "@@ -309,12 +309,12 @@ impl XorShiftState: Rng {\n     }\n }\n \n-pub fn xorshift() -> Rng {\n+pub pure fn xorshift() -> Rng {\n     // constants taken from http://en.wikipedia.org/wiki/Xorshift\n     seeded_xorshift(123456789u32, 362436069u32, 521288629u32, 88675123u32)\n }\n \n-pub fn seeded_xorshift(x: u32, y: u32, z: u32, w: u32) -> Rng {\n+pub pure fn seeded_xorshift(x: u32, y: u32, z: u32, w: u32) -> Rng {\n     {mut x: x, mut y: y, mut z: z, mut w: w} as Rng\n }\n "}, {"sha": "e68966945caad0b7acf435b91b1118febb3f8917", "filename": "src/libcore/str.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fstr.rs?ref=c1e58aad70f01667145bfefd2c3eebe834156dc1", "patch": "@@ -214,7 +214,7 @@ pub pure fn connect(v: &[~str], sep: &str) -> ~str {\n }\n \n /// Given a string, make a new string with repeated copies of it\n-pub fn repeat(ss: &str, nn: uint) -> ~str {\n+pub pure fn repeat(ss: &str, nn: uint) -> ~str {\n     let mut acc = ~\"\";\n     for nn.times { acc += ss; }\n     acc\n@@ -1684,9 +1684,7 @@ pub struct CharRange {\n  *\n  * This function can be used to iterate over a unicode string in reverse.\n  */\n-pure fn char_range_at_reverse(ss: &str, start: uint)\n-    -> CharRange {\n-\n+pure fn char_range_at_reverse(ss: &str, start: uint) -> CharRange {\n     let mut prev = start;\n \n     // while there is a previous byte == 10......"}, {"sha": "b2ae1aa921b7254a16d1e838223acb0371dcc447", "filename": "src/libcore/uint-template/uint.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Fuint-template%2Fuint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1e58aad70f01667145bfefd2c3eebe834156dc1/src%2Flibcore%2Fuint-template%2Fuint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fuint-template%2Fuint.rs?ref=c1e58aad70f01667145bfefd2c3eebe834156dc1", "patch": "@@ -104,7 +104,7 @@ mod inst {\n \n     /// Returns the smallest power of 2 greater than or equal to `n`\n     #[inline(always)]\n-    pub fn next_power_of_two(n: uint) -> uint {\n+    pub pure fn next_power_of_two(n: uint) -> uint {\n         let halfbits: uint = sys::size_of::<uint>() * 4u;\n         let mut tmp: uint = n - 1u;\n         let mut shift: uint = 1u;"}]}