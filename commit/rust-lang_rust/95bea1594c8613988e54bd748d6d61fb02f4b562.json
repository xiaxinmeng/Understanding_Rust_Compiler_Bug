{"sha": "95bea1594c8613988e54bd748d6d61fb02f4b562", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk1YmVhMTU5NGM4NjEzOTg4ZTU0YmQ3NDhkNmQ2MWZiMDJmNGI1NjI=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2021-09-17T17:01:29Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2021-09-17T17:01:29Z"}, "message": "Convert `debug_assert` to `assert` in `CachingSourceMapView`\n\nI suspect that there's a bug somewhere in this code, which is\nleading to the `predicates_of` ICE being seen in #89035", "tree": {"sha": "b99a1cdbc18ab593bba02f8b9f7b1b4c75b2ca18", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b99a1cdbc18ab593bba02f8b9f7b1b4c75b2ca18"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/95bea1594c8613988e54bd748d6d61fb02f4b562", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAmFEyhcACgkQtAh+UQ6Y\nsWSnLA/+K+WuTnc9tqllo9XNpEiYafWxmzSILhBtVV8/z4Wpyo0FG9I9kdxHphC+\nYVWex29zSB1HClBTyzUE4WrimUFvwHn17A00hBbSFwpHMyr3adbxNmSC+UAfHIQ2\nknbrd+pg25XyO4wKR21dZ9zuMbOwWlnZ26yvH0uVWBXkubHGYiYmHFQqR3nUl64T\nuvmT39t3LCtktLdIZYsuZkGWl6aFJC5eD7HbAE30ozwqJ//LrQsadk3gSxG8pUMk\noWIrLUER0o8hSjIgos/bG0GQ9cEQs6n65w/PYNcdZJXY5ji8ca0i6YgFONT3qaj6\n1VQtMnihGLvOZdE6S2X1pgej4peCrO+kO2n2CgzsDJEkg5tONBIW5FLmkacWNL77\nYpv6mxr1j8IouAiicufIZz6xcucUT269f63AO6V5KZfpahBnSo5qJNy/rSo1I51X\ni6X2bb0fkpAee298W/pCZoYDv/wJhM/qyyS4dIszHz5F2pJodleVRDrQtlLw0J/o\nGE4Wu98zLBmLLRc133ai3pVuPqa4ntn65a++pUXhCLCDNfwgsUxM0VWdPsaJrE5S\nOKXrMZgHNB+VfujpKXymVV0Xwk7RWGeYo0zeNZzCt6M3ZUZ7kZI6lDiGRexZNfQl\n8CDdGNBj/kIvOfh1ZoYHw28gG1cCHHj046SS4AiNLyK7vpGLvrg=\n=CW6X\n-----END PGP SIGNATURE-----", "payload": "tree b99a1cdbc18ab593bba02f8b9f7b1b4c75b2ca18\nparent e0c38af27cb5f6f961809601b717d6afc3b190ee\nauthor Aaron Hill <aa1ronham@gmail.com> 1631898089 -0500\ncommitter Aaron Hill <aa1ronham@gmail.com> 1631898089 -0500\n\nConvert `debug_assert` to `assert` in `CachingSourceMapView`\n\nI suspect that there's a bug somewhere in this code, which is\nleading to the `predicates_of` ICE being seen in #89035\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/95bea1594c8613988e54bd748d6d61fb02f4b562", "html_url": "https://github.com/rust-lang/rust/commit/95bea1594c8613988e54bd748d6d61fb02f4b562", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/95bea1594c8613988e54bd748d6d61fb02f4b562/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e0c38af27cb5f6f961809601b717d6afc3b190ee", "url": "https://api.github.com/repos/rust-lang/rust/commits/e0c38af27cb5f6f961809601b717d6afc3b190ee", "html_url": "https://github.com/rust-lang/rust/commit/e0c38af27cb5f6f961809601b717d6afc3b190ee"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "fdabf404a37fb0f0b1d76331c4d91c6d043becc5", "filename": "compiler/rustc_span/src/caching_source_map_view.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/95bea1594c8613988e54bd748d6d61fb02f4b562/compiler%2Frustc_span%2Fsrc%2Fcaching_source_map_view.rs", "raw_url": "https://github.com/rust-lang/rust/raw/95bea1594c8613988e54bd748d6d61fb02f4b562/compiler%2Frustc_span%2Fsrc%2Fcaching_source_map_view.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Fcaching_source_map_view.rs?ref=95bea1594c8613988e54bd748d6d61fb02f4b562", "patch": "@@ -215,13 +215,13 @@ impl<'sm> CachingSourceMapView<'sm> {\n \n         // Span lo and hi may equal line end when last line doesn't\n         // end in newline, hence the inclusive upper bounds below.\n-        debug_assert!(span_data.lo >= lo.line.start);\n-        debug_assert!(span_data.lo <= lo.line.end);\n-        debug_assert!(span_data.hi >= hi.line.start);\n-        debug_assert!(span_data.hi <= hi.line.end);\n-        debug_assert!(lo.file.contains(span_data.lo));\n-        debug_assert!(lo.file.contains(span_data.hi));\n-        debug_assert_eq!(lo.file_index, hi.file_index);\n+        assert!(span_data.lo >= lo.line.start);\n+        assert!(span_data.lo <= lo.line.end);\n+        assert!(span_data.hi >= hi.line.start);\n+        assert!(span_data.hi <= hi.line.end);\n+        assert!(lo.file.contains(span_data.lo));\n+        assert!(lo.file.contains(span_data.hi));\n+        assert_eq!(lo.file_index, hi.file_index);\n \n         Some((\n             lo.file.clone(),"}]}