{"sha": "8d0c79d26995a973c6f33c32ffb0c827d78bb213", "node_id": "C_kwDOAAsO6NoAKDhkMGM3OWQyNjk5NWE5NzNjNmYzM2MzMmZmYjBjODI3ZDc4YmIyMTM", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-11-23T00:09:48Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-11-23T00:09:48Z"}, "message": "Auto merge of #91145 - matthiaskrgr:rollup-91g8z8i, r=matthiaskrgr\n\nRollup of 3 pull requests\n\nSuccessful merges:\n\n - #91102 (Set color for <a> in a more straightforward way.)\n - #91143 (Update books)\n - #91144 (Update cargo)\n\nFailed merges:\n\nr? `@ghost`\n`@rustbot` modify labels: rollup", "tree": {"sha": "a9ee27374b362f878b270d0f5737ecb96e66e2f2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a9ee27374b362f878b270d0f5737ecb96e66e2f2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8d0c79d26995a973c6f33c32ffb0c827d78bb213", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8d0c79d26995a973c6f33c32ffb0c827d78bb213", "html_url": "https://github.com/rust-lang/rust/commit/8d0c79d26995a973c6f33c32ffb0c827d78bb213", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8d0c79d26995a973c6f33c32ffb0c827d78bb213/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "936f2600b6c903b04387f74ed5cbce88bb06d243", "url": "https://api.github.com/repos/rust-lang/rust/commits/936f2600b6c903b04387f74ed5cbce88bb06d243", "html_url": "https://github.com/rust-lang/rust/commit/936f2600b6c903b04387f74ed5cbce88bb06d243"}, {"sha": "c82f4f66e887fc83296f82e4713fba8f3253b497", "url": "https://api.github.com/repos/rust-lang/rust/commits/c82f4f66e887fc83296f82e4713fba8f3253b497", "html_url": "https://github.com/rust-lang/rust/commit/c82f4f66e887fc83296f82e4713fba8f3253b497"}], "stats": {"total": 114, "additions": 71, "deletions": 43}, "files": [{"sha": "51ed441d0dbe7cfbdc2054899ee317ae9d0a082c", "filename": "Cargo.lock", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/8d0c79d26995a973c6f33c32ffb0c827d78bb213/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/8d0c79d26995a973c6f33c32ffb0c827d78bb213/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -888,9 +888,9 @@ dependencies = [\n \n [[package]]\n name = \"curl\"\n-version = \"0.4.40\"\n+version = \"0.4.41\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"877cc2f9b8367e32b6dabb9d581557e651cb3aa693a37f8679091bbf42687d5d\"\n+checksum = \"1bc6d233563261f8db6ffb83bbaad5a73837a6e6b28868e926337ebbdece0be3\"\n dependencies = [\n  \"curl-sys\",\n  \"libc\",\n@@ -903,9 +903,9 @@ dependencies = [\n \n [[package]]\n name = \"curl-sys\"\n-version = \"0.4.50+curl-7.79.1\"\n+version = \"0.4.51+curl-7.80.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"4856b76919dd599f31236bb18db5f5bd36e2ce131e64f857ca5c259665b76171\"\n+checksum = \"d130987e6a6a34fe0889e1083022fa48cd90e6709a84be3fb8dd95801de5af20\"\n dependencies = [\n  \"cc\",\n  \"libc\","}, {"sha": "a5e0c5b2c5f9054be3b961aea2c7edfeea591de8", "filename": "src/doc/book", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -1 +1 @@\n-Subproject commit 5c5dbc5b196c9564422b3193264f3288d2a051ce\n+Subproject commit a5e0c5b2c5f9054be3b961aea2c7edfeea591de8"}, {"sha": "8e0ec8c77d8b28b86159fdee9d33a758225ecf9c", "filename": "src/doc/edition-guide", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fedition-guide?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -1 +1 @@\n-Subproject commit 27f4a84d3852e9416cae5861254fa53a825c56bd\n+Subproject commit 8e0ec8c77d8b28b86159fdee9d33a758225ecf9c"}, {"sha": "8c395bdd8073deb20ca67e1ed4b14a3a7e315a37", "filename": "src/doc/embedded-book", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fembedded-book?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -1 +1 @@\n-Subproject commit 51739471276b1776dea27cf562b974ef07e24685\n+Subproject commit 8c395bdd8073deb20ca67e1ed4b14a3a7e315a37"}, {"sha": "c0f222da23568477155991d391c9ce918e381351", "filename": "src/doc/reference", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Freference?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -1 +1 @@\n-Subproject commit a01d151a7250a540a9cb7ccce5956f020c677c21\n+Subproject commit c0f222da23568477155991d391c9ce918e381351"}, {"sha": "43f82530210b83cf888282b207ed13d5893da9b2", "filename": "src/doc/rust-by-example", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frust-by-example?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -1 +1 @@\n-Subproject commit e9d45342d7a6c1def4731f1782d87ea317ba30c3\n+Subproject commit 43f82530210b83cf888282b207ed13d5893da9b2"}, {"sha": "a2fc9635029c04e692474965a6606f8e286d539a", "filename": "src/doc/rustc-dev-guide", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc-dev-guide?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -1 +1 @@\n-Subproject commit 196ef69aa68f2cef44f37566ee7db37daf00301b\n+Subproject commit a2fc9635029c04e692474965a6606f8e286d539a"}, {"sha": "27f9c183b8e6fee701faf538e17eb7a341986f82", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -1078,10 +1078,6 @@ a.test-arrow:hover{\n \ttext-decoration: none;\n }\n \n-.section-header a {\n-\tcolor: inherit;\n-}\n-\n .code-attribute {\n \tfont-weight: 300;\n }"}, {"sha": "85fb34b39595cfade58fc7e04caf26dd092d48b6", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -214,18 +214,23 @@ nav.main .separator {\n \tborder: 1px solid #5c6773;\n }\n a {\n+\tcolor: #39AFD7;\n+}\n+a.srclink,\n+a#toggle-all-docs,\n+#source-sidebar a,\n+pre.rust a,\n+.sidebar a,\n+.in-band a {\n \tcolor: #c5c5c5;\n }\n+.search-results a {\n+\tcolor: #0096cf;\n+}\n body.source .example-wrap pre.rust a {\n \tbackground: #333;\n }\n \n-.docblock:not(.item-decl) a:not(.srclink):not(.test-arrow),\n-.docblock-short a:not(.srclink):not(.test-arrow), .item-info a,\n-#help a {\n-\tcolor: #39AFD7;\n-}\n-\n details.rustdoc-toggle > summary.hideme > span,\n details.rustdoc-toggle > summary::before,\n details.undocumented > summary::before {"}, {"sha": "5a6c08bafd24062939ae1cc4507ef89d9a901796", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 14, "deletions": 9, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -174,22 +174,27 @@ nav.main .current {\n nav.main .separator {\n \tborder-color: #eee;\n }\n+\n a {\n-\tcolor: #ddd;\n+\tcolor: #D2991D;\n }\n-body.source .example-wrap pre.rust a {\n-\tbackground: #333;\n+a.srclink,\n+a#toggle-all-docs,\n+#source-sidebar a,\n+pre.rust a,\n+.sidebar a,\n+.in-band a {\n+\tcolor: #ddd;\n }\n-\n-.docblock:not(.item-decl) a:not(.srclink):not(.test-arrow),\n-.docblock-short a:not(.srclink):not(.test-arrow), .item-info a,\n-#help a {\n-\tcolor: #D2991D;\n+.search-results a {\n+\tcolor: #ddd;\n }\n-\n a.test-arrow {\n \tcolor: #dedede;\n }\n+body.source .example-wrap pre.rust a {\n+\tbackground: #333;\n+}\n \n details.rustdoc-toggle > summary.hideme > span,\n details.rustdoc-toggle > summary::before,"}, {"sha": "05f12fc365d74855adaf7e3b60d8b7956a57e306", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 14, "deletions": 9, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -169,22 +169,27 @@ nav.main .current {\n nav.main .separator {\n \tborder: 1px solid #000;\n }\n+\n a {\n-\tcolor: #000;\n+\tcolor: #3873AD;\n }\n-body.source .example-wrap pre.rust a {\n-\tbackground: #eee;\n+a.srclink,\n+a#toggle-all-docs,\n+#source-sidebar a,\n+pre.rust a,\n+.sidebar a,\n+.in-band a {\n+\tcolor: #000;\n }\n-\n-.docblock:not(.item-decl) a:not(.srclink):not(.test-arrow),\n-.docblock-short a:not(.srclink):not(.test-arrow), .item-info a,\n-#help a {\n-\tcolor: #3873AD;\n+.search-results a {\n+\tcolor: initial;\n }\n-\n a.test-arrow {\n \tcolor: #f5f5f5;\n }\n+body.source .example-wrap pre.rust a {\n+\tbackground: #eee;\n+}\n \n details.rustdoc-toggle > summary.hideme > span,\n details.rustdoc-toggle > summary::before,"}, {"sha": "6953009604c5e6490cda7f3a17e69d906f31f5da", "filename": "src/test/rustdoc-gui/anchors.goml", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Ftest%2Frustdoc-gui%2Fanchors.goml", "raw_url": "https://github.com/rust-lang/rust/raw/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Ftest%2Frustdoc-gui%2Fanchors.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fanchors.goml?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -0,0 +1,17 @@\n+goto: file://|DOC_PATH|/test_docs/struct.HeavilyDocumentedStruct.html\n+\n+// Set the theme to light.\n+local-storage: {\"rustdoc-theme\": \"light\", \"rustdoc-use-system-theme\": \"false\"}\n+// We reload the page so the local storage settings are being used.\n+reload:\n+\n+assert-css: (\"#toggle-all-docs\", {\"color\": \"rgba(0, 0, 0, 0)\"})\n+assert-css: (\".fqn .in-band a:nth-of-type(1)\", {\"color\": \"rgba(0, 0, 0, 0)\"})\n+assert-css: (\".fqn .in-band a:nth-of-type(2)\", {\"color\": \"rgba(0, 0, 0, 0)\"})\n+assert-css: (\".srclink\", {\"color\": \"rgba(0, 0, 0, 0)\"})\n+assert-css: (\".srclink\", {\"color\": \"rgba(0, 0, 0, 0)\"})\n+\n+assert-css: (\"#top-doc-prose-title\", {\"color\": \"rgba(0, 0, 0, 0)\"})\n+\n+assert-css: (\".sidebar a\", {\"color\": \"rgba(0, 0, 0, 0)\"})\n+assert-css: (\".in-band a\", {\"color\": \"rgba(0, 0, 0, 0)\"})"}, {"sha": "e1fb17631eb1b3665cdbe45b1c186111577ef512", "filename": "src/tools/cargo", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcargo?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -1 +1 @@\n-Subproject commit ad50d0d266213e0cc4f6e526a39d96faae9a3842\n+Subproject commit e1fb17631eb1b3665cdbe45b1c186111577ef512"}, {"sha": "0d6a2605d4f2aabb09a0f76635c6d918de5569ec", "filename": "src/tools/rustdoc-gui/tester.js", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Ftools%2Frustdoc-gui%2Ftester.js", "raw_url": "https://github.com/rust-lang/rust/raw/8d0c79d26995a973c6f33c32ffb0c827d78bb213/src%2Ftools%2Frustdoc-gui%2Ftester.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frustdoc-gui%2Ftester.js?ref=8d0c79d26995a973c6f33c32ffb0c827d78bb213", "patch": "@@ -194,7 +194,7 @@ async function main(argv) {\n             .then(out => {\n                 const [output, nb_failures] = out;\n                 results[nb_failures === 0 ? \"successful\" : \"failed\"].push({\n-                    file_name: file_name,\n+                    file_name: testPath,\n                     output: output,\n                 });\n                 if (nb_failures > 0) {\n@@ -206,7 +206,7 @@ async function main(argv) {\n             })\n             .catch(err => {\n                 results.errored.push({\n-                    file_name: file_name,\n+                    file_name: testPath + file_name,\n                     output: err,\n                 });\n                 status_bar.erroneous();\n@@ -239,15 +239,15 @@ async function main(argv) {\n         console.log(\"\");\n         results.failed.sort(by_filename);\n         results.failed.forEach(r => {\n-            console.log(r.output);\n+            console.log(r.file_name, r.output);\n         });\n     }\n     if (results.errored.length > 0) {\n         console.log(os.EOL);\n         // print run errors on the bottom so developers see them better\n         results.errored.sort(by_filename);\n         results.errored.forEach(r => {\n-            console.error(r.output);\n+            console.error(r.file_name, r.output);\n         });\n     }\n "}]}