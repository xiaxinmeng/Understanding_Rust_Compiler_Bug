{"sha": "799d52eff7e96fc339327966b056ab89c061b255", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5OWQ1MmVmZjdlOTZmYzMzOTMyNzk2NmIwNTZhYjg5YzA2MWIyNTU=", "commit": {"author": {"name": "David Wood", "email": "david@davidtw.co", "date": "2020-07-22T14:35:52Z"}, "committer": {"name": "David Wood", "email": "david@davidtw.co", "date": "2020-07-22T14:36:26Z"}, "message": "tests: add regression test for #74614\n\nThis commit adds a regression test for #74614 so that it is fixed before\npolymorphisation is re-enabled.\n\nSigned-off-by: David Wood <david@davidtw.co>", "tree": {"sha": "91c9032ef8d14ea0520e85a8d920eee75948e22c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/91c9032ef8d14ea0520e85a8d920eee75948e22c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/799d52eff7e96fc339327966b056ab89c061b255", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEfgm2/wUjk9OnjxlyJZLnbIc4H9kFAl8YTuoACgkQJZLnbIc4\nH9n7wBAAjeX1W8SGaXaQZMWf+9GR/+AiHK+k+w1Uiu4zV/wi4GpPGVDWwXKIwfgH\njVtZdfuidJhhzcO7cCqmwpJ14b1v6NGwQje1y57JlCCTrW6XjWBp9Y3/5smYU5aU\nnv0SLmTVFEj5Ys5UaaAlXcdjyooda8CNN8dAmUdWm4CsJ7UKONvGA8iRwT1KBz6f\nF3ERvbu42rhh+Sbzb/lr8XA0MxEfRPPMy57kXVWHasan4apt5uL/p2py2pxx2P4Q\nDEtNNgkwnwgaAVYtwMHhxDmz/L/O5FNeaTTpefQdscHwQ2+fUOEmCZUWPPYT+dcL\nvFy69ZqTksF+yCVjlCrKCydferQKTNEBIX4ryweusv78Q4BeFwJXYUHDFtxp0K81\nBwq5RhZtT2fsmFzWJ4+D+bqOc+Ei2aZ43hAR38B64NdLrZ60k/bhKFBxEiDk6n+Y\nLMjaj/ZQRngBM+yyDjCfVmes4JfS25lN+OC0IwozHt/BDrR1TKeYajQkRKKuXQIv\nZDBqwVYyr1qiN0noaqNzwPlowr3/kmQDpXnaHBE4fdHBV1xwZfF1kKrSZkzIR/Ed\nQhz2pwP8SrvFJQoD9BKY8vO5930WbvvuggPSM+Wsz5oFkipNbW3fTxNQsifAZblB\nyWRETjvLHjcQXmyQyBkpVgdOinyBssdndZaOJr0mpbiADoB9Cvc=\n=oWD/\n-----END PGP SIGNATURE-----", "payload": "tree 91c9032ef8d14ea0520e85a8d920eee75948e22c\nparent f39ed207fe25a39fba59d120efcdb56e30d19183\nauthor David Wood <david@davidtw.co> 1595428552 +0100\ncommitter David Wood <david@davidtw.co> 1595428586 +0100\n\ntests: add regression test for #74614\n\nThis commit adds a regression test for #74614 so that it is fixed before\npolymorphisation is re-enabled.\n\nSigned-off-by: David Wood <david@davidtw.co>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/799d52eff7e96fc339327966b056ab89c061b255", "html_url": "https://github.com/rust-lang/rust/commit/799d52eff7e96fc339327966b056ab89c061b255", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/799d52eff7e96fc339327966b056ab89c061b255/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f39ed207fe25a39fba59d120efcdb56e30d19183", "url": "https://api.github.com/repos/rust-lang/rust/commits/f39ed207fe25a39fba59d120efcdb56e30d19183", "html_url": "https://github.com/rust-lang/rust/commit/f39ed207fe25a39fba59d120efcdb56e30d19183"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "f5e8deb29fbc85707f73abc59e10b16e8c92157b", "filename": "src/test/ui/issues/issue-74614.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/799d52eff7e96fc339327966b056ab89c061b255/src%2Ftest%2Fui%2Fissues%2Fissue-74614.rs", "raw_url": "https://github.com/rust-lang/rust/raw/799d52eff7e96fc339327966b056ab89c061b255/src%2Ftest%2Fui%2Fissues%2Fissue-74614.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-74614.rs?ref=799d52eff7e96fc339327966b056ab89c061b255", "patch": "@@ -0,0 +1,17 @@\n+// build-pass\n+\n+fn test<T>() {\n+    std::mem::size_of::<T>();\n+}\n+\n+pub fn foo<T>(_: T) -> &'static fn() {\n+    &(test::<T> as fn())\n+}\n+\n+fn outer<T>() {\n+    foo(|| ());\n+}\n+\n+fn main() {\n+    outer::<u8>();\n+}"}]}