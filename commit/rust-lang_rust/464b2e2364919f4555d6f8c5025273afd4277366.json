{"sha": "464b2e2364919f4555d6f8c5025273afd4277366", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ2NGIyZTIzNjQ5MTlmNDU1NWQ2ZjhjNTAyNTI3M2FmZDQyNzczNjY=", "commit": {"author": {"name": "Ben Noordhuis", "email": "info@bnoordhuis.nl", "date": "2014-01-28T10:48:30Z"}, "committer": {"name": "Ben Noordhuis", "email": "info@bnoordhuis.nl", "date": "2014-01-31T12:47:25Z"}, "message": "Add libc::consts::os::posix01::PTHREAD_STACK_MIN\n\nRepresents the minimum size of a thread's stack.  As such, it's both\nplatform and architecture-specific.\n\nI put it under posix01 even though it predates POSIX.1-2001 by some\nyears.  I believe it was first formalized in SUSv2.  I doubt anyone\ncares, though.", "tree": {"sha": "f75bcf3df5f9e1578d8d9888f7b892131b51f8f7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f75bcf3df5f9e1578d8d9888f7b892131b51f8f7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/464b2e2364919f4555d6f8c5025273afd4277366", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/464b2e2364919f4555d6f8c5025273afd4277366", "html_url": "https://github.com/rust-lang/rust/commit/464b2e2364919f4555d6f8c5025273afd4277366", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/464b2e2364919f4555d6f8c5025273afd4277366/comments", "author": {"login": "bnoordhuis", "id": 275871, "node_id": "MDQ6VXNlcjI3NTg3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/275871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bnoordhuis", "html_url": "https://github.com/bnoordhuis", "followers_url": "https://api.github.com/users/bnoordhuis/followers", "following_url": "https://api.github.com/users/bnoordhuis/following{/other_user}", "gists_url": "https://api.github.com/users/bnoordhuis/gists{/gist_id}", "starred_url": "https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bnoordhuis/subscriptions", "organizations_url": "https://api.github.com/users/bnoordhuis/orgs", "repos_url": "https://api.github.com/users/bnoordhuis/repos", "events_url": "https://api.github.com/users/bnoordhuis/events{/privacy}", "received_events_url": "https://api.github.com/users/bnoordhuis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bnoordhuis", "id": 275871, "node_id": "MDQ6VXNlcjI3NTg3MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/275871?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bnoordhuis", "html_url": "https://github.com/bnoordhuis", "followers_url": "https://api.github.com/users/bnoordhuis/followers", "following_url": "https://api.github.com/users/bnoordhuis/following{/other_user}", "gists_url": "https://api.github.com/users/bnoordhuis/gists{/gist_id}", "starred_url": "https://api.github.com/users/bnoordhuis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bnoordhuis/subscriptions", "organizations_url": "https://api.github.com/users/bnoordhuis/orgs", "repos_url": "https://api.github.com/users/bnoordhuis/repos", "events_url": "https://api.github.com/users/bnoordhuis/events{/privacy}", "received_events_url": "https://api.github.com/users/bnoordhuis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f910a977db8fb425f9dfbfcf01438adf2a134670", "url": "https://api.github.com/repos/rust-lang/rust/commits/f910a977db8fb425f9dfbfcf01438adf2a134670", "html_url": "https://github.com/rust-lang/rust/commit/f910a977db8fb425f9dfbfcf01438adf2a134670"}], "stats": {"total": 26, "additions": 23, "deletions": 3}, "files": [{"sha": "11a7b5dd19171bcdf1c733c0c265a8ea7a512bf1", "filename": "src/libstd/libc.rs", "status": "modified", "additions": 23, "deletions": 3, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/464b2e2364919f4555d6f8c5025273afd4277366/src%2Flibstd%2Flibc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/464b2e2364919f4555d6f8c5025273afd4277366/src%2Flibstd%2Flibc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flibc.rs?ref=464b2e2364919f4555d6f8c5025273afd4277366", "patch": "@@ -2174,7 +2174,7 @@ pub mod consts {\n             pub static EDQUOT: c_int = 1133;\n         }\n         pub mod posix01 {\n-            use libc::types::os::arch::c95::c_int;\n+            use libc::types::os::arch::c95::{c_int, size_t};\n \n             pub static SIGTRAP : c_int = 5;\n \n@@ -2228,6 +2228,17 @@ pub mod consts {\n             pub static PTHREAD_CREATE_JOINABLE: c_int = 0;\n             pub static PTHREAD_CREATE_DETACHED: c_int = 1;\n \n+            #[cfg(target_os = \"android\")]\n+            pub static PTHREAD_STACK_MIN: size_t = 8192;\n+\n+            #[cfg(target_arch = \"arm\", target_os = \"linux\")]\n+            #[cfg(target_arch = \"x86\", target_os = \"linux\")]\n+            #[cfg(target_arch = \"x86_64\", target_os = \"linux\")]\n+            pub static PTHREAD_STACK_MIN: size_t = 16384;\n+\n+            #[cfg(target_arch = \"mips\", target_os = \"linux\")]\n+            pub static PTHREAD_STACK_MIN: size_t = 131072;\n+\n             pub static CLOCK_REALTIME: c_int = 0;\n             pub static CLOCK_MONOTONIC: c_int = 1;\n         }\n@@ -2608,7 +2619,7 @@ pub mod consts {\n             pub static ELAST : c_int = 99;\n         }\n         pub mod posix01 {\n-            use libc::types::os::arch::c95::c_int;\n+            use libc::types::os::arch::c95::{c_int, size_t};\n \n             pub static SIGTRAP : c_int = 5;\n \n@@ -2662,6 +2673,14 @@ pub mod consts {\n             pub static PTHREAD_CREATE_JOINABLE: c_int = 0;\n             pub static PTHREAD_CREATE_DETACHED: c_int = 1;\n \n+            #[cfg(target_arch = \"arm\")]\n+            pub static PTHREAD_STACK_MIN: size_t = 4096;\n+\n+            #[cfg(target_arch = \"mips\")]\n+            #[cfg(target_arch = \"x86\")]\n+            #[cfg(target_arch = \"x86_64\")]\n+            pub static PTHREAD_STACK_MIN: size_t = 2048;\n+\n             pub static CLOCK_REALTIME: c_int = 0;\n             pub static CLOCK_MONOTONIC: c_int = 4;\n         }\n@@ -2990,7 +3009,7 @@ pub mod consts {\n             pub static ELAST : c_int = 106;\n         }\n         pub mod posix01 {\n-            use libc::types::os::arch::c95::c_int;\n+            use libc::types::os::arch::c95::{c_int, size_t};\n \n             pub static SIGTRAP : c_int = 5;\n \n@@ -3043,6 +3062,7 @@ pub mod consts {\n \n             pub static PTHREAD_CREATE_JOINABLE: c_int = 1;\n             pub static PTHREAD_CREATE_DETACHED: c_int = 2;\n+            pub static PTHREAD_STACK_MIN: size_t = 8192;\n         }\n         pub mod posix08 {\n         }"}]}