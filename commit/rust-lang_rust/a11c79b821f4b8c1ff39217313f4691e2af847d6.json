{"sha": "a11c79b821f4b8c1ff39217313f4691e2af847d6", "node_id": "C_kwDOAAsO6NoAKGExMWM3OWI4MjFmNGI4YzFmZjM5MjE3MzEzZjQ2OTFlMmFmODQ3ZDY", "commit": {"author": {"name": "Dylan DPC", "email": "99973273+Dylan-DPC@users.noreply.github.com", "date": "2022-04-15T18:50:43Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-04-15T18:50:43Z"}, "message": "Rollup merge of #94461 - jhpratt:2024-edition, r=pnkfelix\n\nCreate (unstable) 2024 edition\n\n[On Zulip](https://rust-lang.zulipchat.com/#narrow/stream/213817-t-lang/topic/Deprecating.20macro.20scoping.20shenanigans/near/272860652), there was a small aside regarding creating the 2024 edition now as opposed to later. There was a reasonable amount of support and no stated opposition.\n\nThis change creates the 2024 edition in the compiler and creates a prelude for the 2024 edition. There is no current difference between the 2021 and 2024 editions. Cargo and other tools will need to be updated separately, as it's not in the same repository. This change permits the vast majority of work towards the next edition to proceed _now_ instead of waiting until 2024.\n\nFor sanity purposes, I've merged the \"hello\" UI tests into a single file with multiple revisions. Otherwise we'd end up with a file per edition, despite them being essentially identical.\n\n````@rustbot```` label +T-lang +S-waiting-on-review\n\nNot sure on the relevant team, to be honest.", "tree": {"sha": "bdbf5e0b2eb8dfb5b6db53320ef0c31a1be16520", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bdbf5e0b2eb8dfb5b6db53320ef0c31a1be16520"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a11c79b821f4b8c1ff39217313f4691e2af847d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a11c79b821f4b8c1ff39217313f4691e2af847d6", "html_url": "https://github.com/rust-lang/rust/commit/a11c79b821f4b8c1ff39217313f4691e2af847d6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a11c79b821f4b8c1ff39217313f4691e2af847d6/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0cf62ae103422c96000c10ebcc3ec76028647b1e", "url": "https://api.github.com/repos/rust-lang/rust/commits/0cf62ae103422c96000c10ebcc3ec76028647b1e", "html_url": "https://github.com/rust-lang/rust/commit/0cf62ae103422c96000c10ebcc3ec76028647b1e"}, {"sha": "6c6ebec5165c0131d6041881752220ece1da6127", "url": "https://api.github.com/repos/rust-lang/rust/commits/6c6ebec5165c0131d6041881752220ece1da6127", "html_url": "https://github.com/rust-lang/rust/commit/6c6ebec5165c0131d6041881752220ece1da6127"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "8e871e61f26837c5b2ed21cd1fd4348ec60e4cbd", "filename": "src/bin/main.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a11c79b821f4b8c1ff39217313f4691e2af847d6/src%2Fbin%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a11c79b821f4b8c1ff39217313f4691e2af847d6/src%2Fbin%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbin%2Fmain.rs?ref=a11c79b821f4b8c1ff39217313f4691e2af847d6", "patch": "@@ -693,6 +693,7 @@ fn edition_from_edition_str(edition_str: &str) -> Result<Edition> {\n         \"2015\" => Ok(Edition::Edition2015),\n         \"2018\" => Ok(Edition::Edition2018),\n         \"2021\" => Ok(Edition::Edition2021),\n+        \"2024\" => Ok(Edition::Edition2024),\n         _ => Err(format_err!(\"Invalid value for `--edition`\")),\n     }\n }"}, {"sha": "257a17b2703a9deab95d0e5f5533dde1523ed112", "filename": "src/config/options.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a11c79b821f4b8c1ff39217313f4691e2af847d6/src%2Fconfig%2Foptions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a11c79b821f4b8c1ff39217313f4691e2af847d6/src%2Fconfig%2Foptions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fconfig%2Foptions.rs?ref=a11c79b821f4b8c1ff39217313f4691e2af847d6", "patch": "@@ -423,6 +423,10 @@ pub enum Edition {\n     #[doc_hint = \"2021\"]\n     /// Edition 2021.\n     Edition2021,\n+    #[value = \"2024\"]\n+    #[doc_hint = \"2024\"]\n+    /// Edition 2024.\n+    Edition2024,\n }\n \n impl Default for Edition {\n@@ -437,6 +441,7 @@ impl From<Edition> for rustc_span::edition::Edition {\n             Edition::Edition2015 => Self::Edition2015,\n             Edition::Edition2018 => Self::Edition2018,\n             Edition::Edition2021 => Self::Edition2021,\n+            Edition::Edition2024 => Self::Edition2024,\n         }\n     }\n }"}]}