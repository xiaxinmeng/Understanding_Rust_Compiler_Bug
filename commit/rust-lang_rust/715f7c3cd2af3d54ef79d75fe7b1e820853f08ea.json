{"sha": "715f7c3cd2af3d54ef79d75fe7b1e820853f08ea", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcxNWY3YzNjZDJhZjNkNTRlZjc5ZDc1ZmU3YjFlODIwODUzZjA4ZWE=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2015-05-08T21:54:24Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2015-05-08T21:54:24Z"}, "message": "Add a precision for references", "tree": {"sha": "831175795a8ee1b4c2d661928414ab921dda2ef4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/831175795a8ee1b4c2d661928414ab921dda2ef4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/715f7c3cd2af3d54ef79d75fe7b1e820853f08ea", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/715f7c3cd2af3d54ef79d75fe7b1e820853f08ea", "html_url": "https://github.com/rust-lang/rust/commit/715f7c3cd2af3d54ef79d75fe7b1e820853f08ea", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/715f7c3cd2af3d54ef79d75fe7b1e820853f08ea/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7132092ce6e954eb58d490fa886d0865c5cfba38", "url": "https://api.github.com/repos/rust-lang/rust/commits/7132092ce6e954eb58d490fa886d0865c5cfba38", "html_url": "https://github.com/rust-lang/rust/commit/7132092ce6e954eb58d490fa886d0865c5cfba38"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "06ff9bfbc55d9848fd8dbb601f82be7694eaf3e4", "filename": "src/doc/trpl/references-and-borrowing.md", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/715f7c3cd2af3d54ef79d75fe7b1e820853f08ea/src%2Fdoc%2Ftrpl%2Freferences-and-borrowing.md", "raw_url": "https://github.com/rust-lang/rust/raw/715f7c3cd2af3d54ef79d75fe7b1e820853f08ea/src%2Fdoc%2Ftrpl%2Freferences-and-borrowing.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ftrpl%2Freferences-and-borrowing.md?ref=715f7c3cd2af3d54ef79d75fe7b1e820853f08ea", "patch": "@@ -334,3 +334,35 @@ In other words, `y` is only valid for the scope where `x` exists. As soon as\n `x` goes away, it becomes invalid to refer to it. As such, the error says that\n the borrow \u2018doesn\u2019t live long enough\u2019 because it\u2019s not valid for the right\n amount of time.\n+\n+The same problem occurs when the reference is declared _before_ the variable it refers to:\n+\n+```rust,ignore\n+let y: &i32;\n+let x = 5;\n+y = &x;\n+\n+println!(\"{}\", y);\n+```\n+\n+We get this error:\n+\n+error: `x` does not live long enough\n+y = &x;\n+     ^\n+note: reference must be valid for the block suffix following statement 0 at\n+2:16...\n+    let y: &i32;\n+    let x = 5;\n+    y = &x;\n+    \n+    println!(\"{}\", y);\n+}\n+\n+note: ...but borrowed value is only valid for the block suffix following\n+statement 1 at 3:14\n+    let x = 5;\n+    y = &x;\n+    \n+    println!(\"{}\", y);\n+}"}]}