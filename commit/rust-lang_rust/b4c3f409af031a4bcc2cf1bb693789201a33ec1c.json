{"sha": "b4c3f409af031a4bcc2cf1bb693789201a33ec1c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI0YzNmNDA5YWYwMzFhNGJjYzJjZjFiYjY5Mzc4OTIwMWEzM2VjMWM=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-09-19T09:47:56Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-09-19T09:47:56Z"}, "message": "Rollup merge of #76798 - alistair23:alistair/rv32-linux, r=jyn514\n\nBuild fixes for RISC-V 32-bit Linux support\n\nThis fixes build issues with the 32-bit RISC-V port.", "tree": {"sha": "61a7b35eee5c8317484af248dfadb2f6615ab9e4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/61a7b35eee5c8317484af248dfadb2f6615ab9e4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b4c3f409af031a4bcc2cf1bb693789201a33ec1c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfZdPMCRBK7hj4Ov3rIwAAdHIIAFA/dmEnTwHz/eydWtNox+r7\nWHNP29y8w//nHrSowgsu+D28K2g/p+rMOMH3SyYJQB/f6YBuT8n17kqaDMb1SNp4\nFzxVuUX3fOlIZjGuu9fsbRYi8xHkScvuAl262/zJJlruc2a44aCeQxuf44NKHWCc\nH/Jw30ZGIiO+IlZGkdxF7emHYtWhDmzXUSwxqwhqN4eTIhfIAcdk5aMlwCWYetSq\nh9PIUqF8+BiVrT1aamH65HtF3Skz6VCwuZhxkEOwU8mjDFw9jVkoYftuQi2XYJPb\nkbcKQV92Ef6xtV0I6CKMsgWGHr9lTIH6Lzp5mbFPz5/KmBdj2YKLGB0I6Zwh6L0=\n=X1Dd\n-----END PGP SIGNATURE-----\n", "payload": "tree 61a7b35eee5c8317484af248dfadb2f6615ab9e4\nparent 404cce068597b109a97b492ac268c7994a1a1606\nparent 3d1b6d6cc29587ace6895814fa32ec38a49d8a68\nauthor Ralf Jung <post@ralfj.de> 1600508876 +0200\ncommitter GitHub <noreply@github.com> 1600508876 +0200\n\nRollup merge of #76798 - alistair23:alistair/rv32-linux, r=jyn514\n\nBuild fixes for RISC-V 32-bit Linux support\n\nThis fixes build issues with the 32-bit RISC-V port.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b4c3f409af031a4bcc2cf1bb693789201a33ec1c", "html_url": "https://github.com/rust-lang/rust/commit/b4c3f409af031a4bcc2cf1bb693789201a33ec1c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "404cce068597b109a97b492ac268c7994a1a1606", "url": "https://api.github.com/repos/rust-lang/rust/commits/404cce068597b109a97b492ac268c7994a1a1606", "html_url": "https://github.com/rust-lang/rust/commit/404cce068597b109a97b492ac268c7994a1a1606"}, {"sha": "3d1b6d6cc29587ace6895814fa32ec38a49d8a68", "url": "https://api.github.com/repos/rust-lang/rust/commits/3d1b6d6cc29587ace6895814fa32ec38a49d8a68", "html_url": "https://github.com/rust-lang/rust/commit/3d1b6d6cc29587ace6895814fa32ec38a49d8a68"}], "stats": {"total": 17, "additions": 11, "deletions": 6}, "files": [{"sha": "1cfd527b5841aed3339bcc2534ca0663586ed5cc", "filename": "library/panic_unwind/src/gcc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/library%2Fpanic_unwind%2Fsrc%2Fgcc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/library%2Fpanic_unwind%2Fsrc%2Fgcc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fpanic_unwind%2Fsrc%2Fgcc.rs?ref=b4c3f409af031a4bcc2cf1bb693789201a33ec1c", "patch": "@@ -120,7 +120,7 @@ const UNWIND_DATA_REG: (i32, i32) = (24, 25); // I0, I1\n #[cfg(target_arch = \"hexagon\")]\n const UNWIND_DATA_REG: (i32, i32) = (0, 1); // R0, R1\n \n-#[cfg(target_arch = \"riscv64\")]\n+#[cfg(any(target_arch = \"riscv64\", target_arch = \"riscv32\"))]\n const UNWIND_DATA_REG: (i32, i32) = (10, 11); // x10, x11\n \n // The following code is based on GCC's C and C++ personality routines.  For reference, see:"}, {"sha": "4ff3a6e578984cc0bb36da0d4f6e7b3c36648200", "filename": "library/std/src/os/linux/raw.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/library%2Fstd%2Fsrc%2Fos%2Flinux%2Fraw.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/library%2Fstd%2Fsrc%2Fos%2Flinux%2Fraw.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Flinux%2Fraw.rs?ref=b4c3f409af031a4bcc2cf1bb693789201a33ec1c", "patch": "@@ -234,7 +234,8 @@ mod arch {\n     target_arch = \"mips64\",\n     target_arch = \"s390x\",\n     target_arch = \"sparc64\",\n-    target_arch = \"riscv64\"\n+    target_arch = \"riscv64\",\n+    target_arch = \"riscv32\"\n ))]\n mod arch {\n     pub use libc::{blkcnt_t, blksize_t, ino_t, nlink_t, off_t, stat, time_t};"}, {"sha": "16272aa05712f7bab6a717e74ea078d24f9061b3", "filename": "library/std/src/os/raw/mod.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/library%2Fstd%2Fsrc%2Fos%2Fraw%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/library%2Fstd%2Fsrc%2Fos%2Fraw%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fraw%2Fmod.rs?ref=b4c3f409af031a4bcc2cf1bb693789201a33ec1c", "patch": "@@ -22,7 +22,8 @@ mod tests;\n             target_arch = \"powerpc\",\n             target_arch = \"powerpc64\",\n             target_arch = \"s390x\",\n-            target_arch = \"riscv64\"\n+            target_arch = \"riscv64\",\n+            target_arch = \"riscv32\"\n         )\n     ),\n     all(target_os = \"android\", any(target_arch = \"aarch64\", target_arch = \"arm\")),\n@@ -65,7 +66,8 @@ pub type c_char = u8;\n             target_arch = \"powerpc\",\n             target_arch = \"powerpc64\",\n             target_arch = \"s390x\",\n-            target_arch = \"riscv64\"\n+            target_arch = \"riscv64\",\n+            target_arch = \"riscv32\"\n         )\n     ),\n     all(target_os = \"android\", any(target_arch = \"aarch64\", target_arch = \"arm\")),"}, {"sha": "f22476be325603039fcecd71728d7569acd545dc", "filename": "library/std/src/sys_common/alloc.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/library%2Fstd%2Fsrc%2Fsys_common%2Falloc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/library%2Fstd%2Fsrc%2Fsys_common%2Falloc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys_common%2Falloc.rs?ref=b4c3f409af031a4bcc2cf1bb693789201a33ec1c", "patch": "@@ -14,7 +14,8 @@ use crate::ptr;\n     target_arch = \"powerpc64\",\n     target_arch = \"asmjs\",\n     target_arch = \"wasm32\",\n-    target_arch = \"hexagon\"\n+    target_arch = \"hexagon\",\n+    target_arch = \"riscv32\"\n )))]\n pub const MIN_ALIGN: usize = 8;\n #[cfg(all(any("}, {"sha": "dcf4fcd4e5aabeb6105b66c2d10c6ab8b35ec8b9", "filename": "library/unwind/src/libunwind.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/library%2Funwind%2Fsrc%2Flibunwind.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/library%2Funwind%2Fsrc%2Flibunwind.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Funwind%2Fsrc%2Flibunwind.rs?ref=b4c3f409af031a4bcc2cf1bb693789201a33ec1c", "patch": "@@ -54,7 +54,7 @@ pub const unwinder_private_data_size: usize = 2;\n #[cfg(target_arch = \"sparc64\")]\n pub const unwinder_private_data_size: usize = 2;\n \n-#[cfg(target_arch = \"riscv64\")]\n+#[cfg(any(target_arch = \"riscv64\", target_arch = \"riscv32\"))]\n pub const unwinder_private_data_size: usize = 2;\n \n #[cfg(target_os = \"emscripten\")]"}, {"sha": "125f2d1f76cce75649fd990d02bf3d24a38d3e75", "filename": "src/tools/build-manifest/src/main.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4c3f409af031a4bcc2cf1bb693789201a33ec1c/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs?ref=b4c3f409af031a4bcc2cf1bb693789201a33ec1c", "patch": "@@ -111,6 +111,7 @@ static TARGETS: &[&str] = &[\n     \"riscv32i-unknown-none-elf\",\n     \"riscv32imc-unknown-none-elf\",\n     \"riscv32imac-unknown-none-elf\",\n+    \"riscv32gc-unknown-linux-gnu\",\n     \"riscv64imac-unknown-none-elf\",\n     \"riscv64gc-unknown-none-elf\",\n     \"riscv64gc-unknown-linux-gnu\","}]}