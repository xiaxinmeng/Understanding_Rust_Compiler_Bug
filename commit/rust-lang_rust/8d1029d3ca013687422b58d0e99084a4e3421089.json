{"sha": "8d1029d3ca013687422b58d0e99084a4e3421089", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhkMTAyOWQzY2EwMTM2ODc0MjJiNThkMGU5OTA4NGE0ZTM0MjEwODk=", "commit": {"author": {"name": "Eduardo Broto", "email": "ebroto@tutanota.com", "date": "2020-05-13T18:47:44Z"}, "committer": {"name": "Eduardo Broto", "email": "ebroto@tutanota.com", "date": "2020-05-13T18:47:44Z"}, "message": "Move test for issue 5579 under tests/ui/crashes", "tree": {"sha": "bf86314c59f0e81862ff41751a856bc5af0f009a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bf86314c59f0e81862ff41751a856bc5af0f009a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8d1029d3ca013687422b58d0e99084a4e3421089", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8d1029d3ca013687422b58d0e99084a4e3421089", "html_url": "https://github.com/rust-lang/rust/commit/8d1029d3ca013687422b58d0e99084a4e3421089", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8d1029d3ca013687422b58d0e99084a4e3421089/comments", "author": {"login": "ebroto", "id": 816908, "node_id": "MDQ6VXNlcjgxNjkwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/816908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebroto", "html_url": "https://github.com/ebroto", "followers_url": "https://api.github.com/users/ebroto/followers", "following_url": "https://api.github.com/users/ebroto/following{/other_user}", "gists_url": "https://api.github.com/users/ebroto/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebroto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebroto/subscriptions", "organizations_url": "https://api.github.com/users/ebroto/orgs", "repos_url": "https://api.github.com/users/ebroto/repos", "events_url": "https://api.github.com/users/ebroto/events{/privacy}", "received_events_url": "https://api.github.com/users/ebroto/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ebroto", "id": 816908, "node_id": "MDQ6VXNlcjgxNjkwOA==", "avatar_url": "https://avatars.githubusercontent.com/u/816908?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebroto", "html_url": "https://github.com/ebroto", "followers_url": "https://api.github.com/users/ebroto/followers", "following_url": "https://api.github.com/users/ebroto/following{/other_user}", "gists_url": "https://api.github.com/users/ebroto/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebroto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebroto/subscriptions", "organizations_url": "https://api.github.com/users/ebroto/orgs", "repos_url": "https://api.github.com/users/ebroto/repos", "events_url": "https://api.github.com/users/ebroto/events{/privacy}", "received_events_url": "https://api.github.com/users/ebroto/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e4cd8e7961b553cac44671d63bc6dfc2223ea66b", "url": "https://api.github.com/repos/rust-lang/rust/commits/e4cd8e7961b553cac44671d63bc6dfc2223ea66b", "html_url": "https://github.com/rust-lang/rust/commit/e4cd8e7961b553cac44671d63bc6dfc2223ea66b"}], "stats": {"total": 38, "additions": 17, "deletions": 21}, "files": [{"sha": "3e7b4b390bad48581244b7f66c666968af5db293", "filename": "tests/ui/checked_unwrap/simple_conditionals.rs", "status": "modified", "additions": 0, "deletions": 21, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/8d1029d3ca013687422b58d0e99084a4e3421089/tests%2Fui%2Fchecked_unwrap%2Fsimple_conditionals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d1029d3ca013687422b58d0e99084a4e3421089/tests%2Fui%2Fchecked_unwrap%2Fsimple_conditionals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fchecked_unwrap%2Fsimple_conditionals.rs?ref=8d1029d3ca013687422b58d0e99084a4e3421089", "patch": "@@ -78,24 +78,3 @@ fn main() {\n \n     assert!(x.is_ok(), \"{:?}\", x.unwrap_err()); // ok, it's a common test pattern\n }\n-\n-mod issue_5579 {\n-    trait IsErr {\n-        fn is_err(&self, err: &str) -> bool;\n-    }\n-\n-    impl<T> IsErr for Option<T> {\n-        fn is_err(&self, _err: &str) -> bool {\n-            true\n-        }\n-    }\n-\n-    #[allow(unused)]\n-    fn boom() {\n-        let t = Some(1);\n-\n-        if t.is_err(\"\") {\n-            t.unwrap();\n-        }\n-    }\n-}"}, {"sha": "e1842c73f0e316807f80249bb5869bff51422bf9", "filename": "tests/ui/crashes/ice-5579.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/8d1029d3ca013687422b58d0e99084a4e3421089/tests%2Fui%2Fcrashes%2Fice-5579.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d1029d3ca013687422b58d0e99084a4e3421089/tests%2Fui%2Fcrashes%2Fice-5579.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcrashes%2Fice-5579.rs?ref=8d1029d3ca013687422b58d0e99084a4e3421089", "patch": "@@ -0,0 +1,17 @@\n+trait IsErr {\n+    fn is_err(&self, err: &str) -> bool;\n+}\n+\n+impl<T> IsErr for Option<T> {\n+    fn is_err(&self, _err: &str) -> bool {\n+        true\n+    }\n+}\n+\n+fn main() {\n+    let t = Some(1);\n+\n+    if t.is_err(\"\") {\n+        t.unwrap();\n+    }\n+}"}]}