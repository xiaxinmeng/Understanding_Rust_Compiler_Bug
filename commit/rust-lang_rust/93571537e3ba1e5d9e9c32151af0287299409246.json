{"sha": "93571537e3ba1e5d9e9c32151af0287299409246", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkzNTcxNTM3ZTNiYTFlNWQ5ZTljMzIxNTFhZjAyODcyOTk0MDkyNDY=", "commit": {"author": {"name": "Simon Sapin", "email": "simon.sapin@exyr.org", "date": "2016-11-08T19:15:20Z"}, "committer": {"name": "Simon Sapin", "email": "simon.sapin@exyr.org", "date": "2016-11-08T19:15:20Z"}, "message": "More proeminent warning in Arc::{strong,weak}_count docs.", "tree": {"sha": "fe0c93dca67e27d6e9a101ceae41e433c4fa6286", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe0c93dca67e27d6e9a101ceae41e433c4fa6286"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/93571537e3ba1e5d9e9c32151af0287299409246", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/93571537e3ba1e5d9e9c32151af0287299409246", "html_url": "https://github.com/rust-lang/rust/commit/93571537e3ba1e5d9e9c32151af0287299409246", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/93571537e3ba1e5d9e9c32151af0287299409246/comments", "author": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SimonSapin", "id": 291359, "node_id": "MDQ6VXNlcjI5MTM1OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/291359?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SimonSapin", "html_url": "https://github.com/SimonSapin", "followers_url": "https://api.github.com/users/SimonSapin/followers", "following_url": "https://api.github.com/users/SimonSapin/following{/other_user}", "gists_url": "https://api.github.com/users/SimonSapin/gists{/gist_id}", "starred_url": "https://api.github.com/users/SimonSapin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SimonSapin/subscriptions", "organizations_url": "https://api.github.com/users/SimonSapin/orgs", "repos_url": "https://api.github.com/users/SimonSapin/repos", "events_url": "https://api.github.com/users/SimonSapin/events{/privacy}", "received_events_url": "https://api.github.com/users/SimonSapin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "38a959a543dfc70a67e64f7d369ed6c9e12fc806", "url": "https://api.github.com/repos/rust-lang/rust/commits/38a959a543dfc70a67e64f7d369ed6c9e12fc806", "html_url": "https://github.com/rust-lang/rust/commit/38a959a543dfc70a67e64f7d369ed6c9e12fc806"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "ca78142bc1d2a62b47c0bde8dcb091563593639b", "filename": "src/liballoc/arc.rs", "status": "modified", "additions": 11, "deletions": 5, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/93571537e3ba1e5d9e9c32151af0287299409246/src%2Fliballoc%2Farc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/93571537e3ba1e5d9e9c32151af0287299409246/src%2Fliballoc%2Farc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Farc.rs?ref=93571537e3ba1e5d9e9c32151af0287299409246", "patch": "@@ -319,11 +319,14 @@ impl<T: ?Sized> Arc<T> {\n \n     /// Gets the number of [`Weak`][weak] pointers to this value.\n     ///\n-    /// Be careful how you use this information, because another thread\n-    /// may change the weak count at any time.\n-    ///\n     /// [weak]: struct.Weak.html\n     ///\n+    /// # Safety\n+    ///\n+    /// This method by itself is safe, but using it correctly requires extra care.\n+    /// Another thread can change the weak count at any time,\n+    /// including potentially between calling this method and acting on the result.\n+    ///\n     /// # Examples\n     ///\n     /// ```\n@@ -347,8 +350,11 @@ impl<T: ?Sized> Arc<T> {\n \n     /// Gets the number of strong (`Arc`) pointers to this value.\n     ///\n-    /// Be careful how you use this information, because another thread\n-    /// may change the strong count at any time.\n+    /// # Safety\n+    ///\n+    /// This method by itself is safe, but using it correctly requires extra care.\n+    /// Another thread can change the strong count at any time,\n+    /// including potentially between calling this method and acting on the result.\n     ///\n     /// # Examples\n     ///"}]}