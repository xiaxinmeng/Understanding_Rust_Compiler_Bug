{"sha": "744ec8809dbdbee03422e2456f8caf549c69656d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc0NGVjODgwOWRiZGJlZTAzNDIyZTI0NTZmOGNhZjU0OWM2OTY1NmQ=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-07-28T03:12:16Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-07-28T04:33:54Z"}, "message": "Use const generics for some VecDeque impls.", "tree": {"sha": "1f1cba742def1f59170f0be16c03d24237d014f3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1f1cba742def1f59170f0be16c03d24237d014f3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/744ec8809dbdbee03422e2456f8caf549c69656d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/744ec8809dbdbee03422e2456f8caf549c69656d", "html_url": "https://github.com/rust-lang/rust/commit/744ec8809dbdbee03422e2456f8caf549c69656d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/744ec8809dbdbee03422e2456f8caf549c69656d/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b57f689d54ff70d13e500e4d6e40c67b21e149e", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b57f689d54ff70d13e500e4d6e40c67b21e149e", "html_url": "https://github.com/rust-lang/rust/commit/8b57f689d54ff70d13e500e4d6e40c67b21e149e"}], "stats": {"total": 40, "additions": 14, "deletions": 26}, "files": [{"sha": "495165f7786e0bb21c7b0ce798abc7aea1a69a02", "filename": "src/liballoc/collections/vec_deque.rs", "status": "modified", "additions": 14, "deletions": 26, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/744ec8809dbdbee03422e2456f8caf549c69656d/src%2Fliballoc%2Fcollections%2Fvec_deque.rs", "raw_url": "https://github.com/rust-lang/rust/raw/744ec8809dbdbee03422e2456f8caf549c69656d/src%2Fliballoc%2Fcollections%2Fvec_deque.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fcollections%2Fvec_deque.rs?ref=744ec8809dbdbee03422e2456f8caf549c69656d", "patch": "@@ -9,6 +9,7 @@\n \n #![stable(feature = \"rust1\", since = \"1.0.0\")]\n \n+use core::array::LengthAtMost32;\n use core::cmp::{self, Ordering};\n use core::fmt;\n use core::iter::{repeat_with, FromIterator, FusedIterator};\n@@ -2571,13 +2572,14 @@ impl<A: PartialEq> PartialEq for VecDeque<A> {\n impl<A: Eq> Eq for VecDeque<A> {}\n \n macro_rules! __impl_slice_eq1 {\n-    ($Lhs: ty, $Rhs: ty) => {\n-        __impl_slice_eq1! { $Lhs, $Rhs, Sized }\n-    };\n-    ($Lhs: ty, $Rhs: ty, $Bound: ident) => {\n+    ([$($vars:tt)*] $lhs:ty, $rhs:ty, $($constraints:tt)*) => {\n         #[stable(feature = \"vec_deque_partial_eq_slice\", since = \"1.17.0\")]\n-        impl<A: $Bound, B> PartialEq<$Rhs> for $Lhs where A: PartialEq<B> {\n-            fn eq(&self, other: &$Rhs) -> bool {\n+        impl<A, B, $($vars)*> PartialEq<$rhs> for $lhs\n+        where\n+            A: PartialEq<B>,\n+            $($constraints)*\n+        {\n+            fn eq(&self, other: &$rhs) -> bool {\n                 if self.len() != other.len() {\n                     return false;\n                 }\n@@ -2589,26 +2591,12 @@ macro_rules! __impl_slice_eq1 {\n     }\n }\n \n-__impl_slice_eq1! { VecDeque<A>, Vec<B> }\n-__impl_slice_eq1! { VecDeque<A>, &[B] }\n-__impl_slice_eq1! { VecDeque<A>, &mut [B] }\n-\n-macro_rules! array_impls {\n-    ($($N: expr)+) => {\n-        $(\n-            __impl_slice_eq1! { VecDeque<A>, [B; $N] }\n-            __impl_slice_eq1! { VecDeque<A>, &[B; $N] }\n-            __impl_slice_eq1! { VecDeque<A>, &mut [B; $N] }\n-        )+\n-    }\n-}\n-\n-array_impls! {\n-     0  1  2  3  4  5  6  7  8  9\n-    10 11 12 13 14 15 16 17 18 19\n-    20 21 22 23 24 25 26 27 28 29\n-    30 31 32\n-}\n+__impl_slice_eq1! { [] VecDeque<A>, Vec<B>, }\n+__impl_slice_eq1! { [] VecDeque<A>, &[B], }\n+__impl_slice_eq1! { [] VecDeque<A>, &mut [B], }\n+__impl_slice_eq1! { [const N: usize] VecDeque<A>, [B; N], [B; N]: LengthAtMost32 }\n+__impl_slice_eq1! { [const N: usize] VecDeque<A>, &[B; N], [B; N]: LengthAtMost32 }\n+__impl_slice_eq1! { [const N: usize] VecDeque<A>, &mut [B; N], [B; N]: LengthAtMost32 }\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n impl<A: PartialOrd> PartialOrd for VecDeque<A> {"}]}