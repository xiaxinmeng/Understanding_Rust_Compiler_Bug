{"sha": "820a55857a132a14f5a69960f7cfbeec39b5360f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyMGE1NTg1N2ExMzJhMTRmNWE2OTk2MGY3Y2ZiZWVjMzliNTM2MGY=", "commit": {"author": {"name": "Jonas Hietala", "email": "tradet.h@gmail.com", "date": "2014-07-18T18:39:38Z"}, "committer": {"name": "Jonas Hietala", "email": "tradet.h@gmail.com", "date": "2014-07-18T18:39:38Z"}, "message": "Special case for 0 arguments given in format!", "tree": {"sha": "56f9aaf634a35365acb680d55cdeeeb66321c353", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/56f9aaf634a35365acb680d55cdeeeb66321c353"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/820a55857a132a14f5a69960f7cfbeec39b5360f", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/820a55857a132a14f5a69960f7cfbeec39b5360f", "html_url": "https://github.com/rust-lang/rust/commit/820a55857a132a14f5a69960f7cfbeec39b5360f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/820a55857a132a14f5a69960f7cfbeec39b5360f/comments", "author": {"login": "treeman", "id": 162027, "node_id": "MDQ6VXNlcjE2MjAyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/treeman", "html_url": "https://github.com/treeman", "followers_url": "https://api.github.com/users/treeman/followers", "following_url": "https://api.github.com/users/treeman/following{/other_user}", "gists_url": "https://api.github.com/users/treeman/gists{/gist_id}", "starred_url": "https://api.github.com/users/treeman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/treeman/subscriptions", "organizations_url": "https://api.github.com/users/treeman/orgs", "repos_url": "https://api.github.com/users/treeman/repos", "events_url": "https://api.github.com/users/treeman/events{/privacy}", "received_events_url": "https://api.github.com/users/treeman/received_events", "type": "User", "site_admin": false}, "committer": {"login": "treeman", "id": 162027, "node_id": "MDQ6VXNlcjE2MjAyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162027?v=4", "gravatar_id": "", "url": "https://api.github.com/users/treeman", "html_url": "https://github.com/treeman", "followers_url": "https://api.github.com/users/treeman/followers", "following_url": "https://api.github.com/users/treeman/following{/other_user}", "gists_url": "https://api.github.com/users/treeman/gists{/gist_id}", "starred_url": "https://api.github.com/users/treeman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/treeman/subscriptions", "organizations_url": "https://api.github.com/users/treeman/orgs", "repos_url": "https://api.github.com/users/treeman/repos", "events_url": "https://api.github.com/users/treeman/events{/privacy}", "received_events_url": "https://api.github.com/users/treeman/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "18717fcf6886b803e04bbe21689fd61becab1015", "url": "https://api.github.com/repos/rust-lang/rust/commits/18717fcf6886b803e04bbe21689fd61becab1015", "html_url": "https://github.com/rust-lang/rust/commit/18717fcf6886b803e04bbe21689fd61becab1015"}], "stats": {"total": 18, "additions": 11, "deletions": 7}, "files": [{"sha": "4b245f2c9fd48ffc981a211d772292ee234957ec", "filename": "src/libsyntax/ext/format.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/820a55857a132a14f5a69960f7cfbeec39b5360f/src%2Flibsyntax%2Fext%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/820a55857a132a14f5a69960f7cfbeec39b5360f/src%2Flibsyntax%2Fext%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fformat.rs?ref=820a55857a132a14f5a69960f7cfbeec39b5360f", "patch": "@@ -216,10 +216,10 @@ impl<'a, 'b> Context<'a, 'b> {\n     }\n \n     fn describe_num_args(&self) -> String {\n-        if self.args.len() == 1 {\n-            \"there is 1 argument\".to_string()\n-        } else {\n-            format!(\"there are {} arguments\", self.args.len())\n+        match self.args.len() {\n+            0 => \"no arguments given\".to_string(),\n+            1 => \"there is 1 argument\".to_string(),\n+            x => format!(\"there are {} arguments\", x),\n         }\n     }\n "}, {"sha": "6829b1e2721a77252f739e458fd94f24a4ffa659", "filename": "src/test/compile-fail/ifmt-bad-arg.rs", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/820a55857a132a14f5a69960f7cfbeec39b5360f/src%2Ftest%2Fcompile-fail%2Fifmt-bad-arg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/820a55857a132a14f5a69960f7cfbeec39b5360f/src%2Ftest%2Fcompile-fail%2Fifmt-bad-arg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fifmt-bad-arg.rs?ref=820a55857a132a14f5a69960f7cfbeec39b5360f", "patch": "@@ -32,13 +32,17 @@ fn main() {\n     // bad number of arguments, see #15780\n \n     format!(\"{0}\");\n-    //^~ ERROR invalid reference to argument `0` (there are 0 arguments)\n+    //~^ ERROR invalid reference to argument `0` (no arguments given)\n \n     format!(\"{0} {1}\", 1);\n-    //^~ ERROR invalid reference to argument `1` (there is 1 argument)\n+    //~^ ERROR invalid reference to argument `1` (there is 1 argument)\n \n     format!(\"{0} {1} {2}\", 1, 2);\n-    //^~ ERROR invalid reference to argument `2` (there are 2 arguments)\n+    //~^ ERROR invalid reference to argument `2` (there are 2 arguments)\n+\n+    format!(\"{0} {1}\");\n+    //~^ ERROR invalid reference to argument `0` (no arguments given)\n+    //~^^ ERROR invalid reference to argument `1` (no arguments given)\n \n     // bad syntax of the format string\n "}]}