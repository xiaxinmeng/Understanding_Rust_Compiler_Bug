{"sha": "c54895bea6a96defe4c9a7041013efe7505c3ff2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM1NDg5NWJlYTZhOTZkZWZlNGM5YTcwNDEwMTNlZmU3NTA1YzNmZjI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-07-05T07:27:52Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-07-05T07:27:52Z"}, "message": "Auto merge of #86663 - fee1-dead:use-rustdoc-css, r=GuillaumeGomez\n\nUse rustdoc.css for error index\n\nCloses #86512.", "tree": {"sha": "0f7fa020b599fd774d0cee8f8cbabbf57f30d29c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0f7fa020b599fd774d0cee8f8cbabbf57f30d29c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c54895bea6a96defe4c9a7041013efe7505c3ff2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c54895bea6a96defe4c9a7041013efe7505c3ff2", "html_url": "https://github.com/rust-lang/rust/commit/c54895bea6a96defe4c9a7041013efe7505c3ff2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c54895bea6a96defe4c9a7041013efe7505c3ff2/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "09d9b608d647fdc19a933c661f943a010c8d84a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/09d9b608d647fdc19a933c661f943a010c8d84a5", "html_url": "https://github.com/rust-lang/rust/commit/09d9b608d647fdc19a933c661f943a010c8d84a5"}, {"sha": "5072a47fd1ebc1df48ec1d471361c238dc57dc32", "url": "https://api.github.com/repos/rust-lang/rust/commits/5072a47fd1ebc1df48ec1d471361c238dc57dc32", "html_url": "https://github.com/rust-lang/rust/commit/5072a47fd1ebc1df48ec1d471361c238dc57dc32"}], "stats": {"total": 156, "additions": 19, "deletions": 137}, "files": [{"sha": "7ec3c2d738a6713c031ea2c51f8c1b7dd3f44995", "filename": "src/bootstrap/doc.rs", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c54895bea6a96defe4c9a7041013efe7505c3ff2/src%2Fbootstrap%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c54895bea6a96defe4c9a7041013efe7505c3ff2/src%2Fbootstrap%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdoc.rs?ref=c54895bea6a96defe4c9a7041013efe7505c3ff2", "patch": "@@ -374,9 +374,15 @@ impl Step for Standalone {\n             }\n \n             if filename == \"not_found.md\" {\n-                cmd.arg(\"--markdown-css\").arg(\"https://doc.rust-lang.org/rust.css\");\n+                cmd.arg(\"--markdown-css\")\n+                    .arg(format!(\"https://doc.rust-lang.org/rustdoc{}.css\", &builder.version))\n+                    .arg(\"--markdown-css\")\n+                    .arg(\"https://doc.rust-lang.org/rust.css\");\n             } else {\n-                cmd.arg(\"--markdown-css\").arg(\"rust.css\");\n+                cmd.arg(\"--markdown-css\")\n+                    .arg(format!(\"rustdoc{}.css\", &builder.version))\n+                    .arg(\"--markdown-css\")\n+                    .arg(\"rust.css\");\n             }\n             builder.run(&mut cmd);\n         }"}, {"sha": "d33ab0326031f84febab82ab42c0800ccce76c68", "filename": "src/doc/rust.css", "status": "modified", "additions": 8, "deletions": 132, "changes": 140, "blob_url": "https://github.com/rust-lang/rust/blob/c54895bea6a96defe4c9a7041013efe7505c3ff2/src%2Fdoc%2Frust.css", "raw_url": "https://github.com/rust-lang/rust/raw/c54895bea6a96defe4c9a7041013efe7505c3ff2/src%2Fdoc%2Frust.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frust.css?ref=c54895bea6a96defe4c9a7041013efe7505c3ff2", "patch": "@@ -1,103 +1,23 @@\n-/* See FiraSans-LICENSE.txt for the Fira Sans license. */\n-@font-face {\n-\tfont-family: 'Fira Sans';\n-\tfont-style: normal;\n-\tfont-weight: 400;\n-\tsrc: local('Fira Sans'),\n-\t\turl(\"FiraSans-Regular.woff2\") format(\"woff2\"),\n-\t\turl(\"FiraSans-Regular.woff\") format('woff');\n-\tfont-display: swap;\n-}\n-@font-face {\n-\tfont-family: 'Fira Sans';\n-\tfont-style: normal;\n-\tfont-weight: 500;\n-\tsrc: local('Fira Sans Medium'),\n-\t\turl(\"FiraSans-Medium.woff2\") format(\"woff2\"),\n-\t\turl(\"FiraSans-Medium.woff\") format('woff');\n-\tfont-display: swap;\n-}\n-\n-/* See SourceSerif4-LICENSE.md for the Source Serif 4 license. */\n-@font-face {\n-\tfont-family: 'Source Serif 4';\n-\tfont-style: normal;\n-\tfont-weight: 400;\n-\tsrc: local('Source Serif 4'), url(\"SourceSerif4-Regular.ttf.woff\") format('woff');\n-\tfont-display: swap;\n-}\n-@font-face {\n-\tfont-family: 'Source Serif 4';\n-\tfont-style: italic;\n-\tfont-weight: 400;\n-\tsrc: local('Source Serif 4 Italic'), url(\"SourceSerif4-It.ttf.woff\") format('woff');\n-\tfont-display: swap;\n-}\n-@font-face {\n-\tfont-family: 'Source Serif 4';\n-\tfont-style: normal;\n-\tfont-weight: 700;\n-\tsrc: local('Source Serif 4 Bold'), url(\"SourceSerif4-Bold.ttf.woff\") format('woff');\n-\tfont-display: swap;\n-}\n-\n-/* See SourceCodePro-LICENSE.txt for the Source Code Pro license. */\n-@font-face {\n-\tfont-family: 'Source Code Pro';\n-\tfont-style: normal;\n-\tfont-weight: 400;\n-\t/* Avoid using locally installed font because bad versions are in circulation:\n-\t * see https://github.com/rust-lang/rust/issues/24355 */\n-\tsrc: url(\"SourceCodePro-Regular.ttf.woff\") format('woff');\n-\tfont-display: swap;\n-}\n-@font-face {\n-\tfont-family: 'Source Code Pro';\n-\tfont-style: italic;\n-\tfont-weight: 400;\n-\tsrc: url(\"SourceCodePro-It.ttf.woff\") format('woff');\n-\tfont-display: swap;\n-}\n-@font-face {\n-\tfont-family: 'Source Code Pro';\n-\tfont-style: normal;\n-\tfont-weight: 600;\n-\tsrc: url(\"SourceCodePro-Semibold.ttf.woff\") format('woff');\n-\tfont-display: swap;\n-}\n-\n-*:not(body) {\n-  -webkit-box-sizing: border-box;\n-\t -moz-box-sizing: border-box;\n-\t\t  box-sizing: border-box;\n-}\n-\n /* General structure */\n \n body {\n-\tbackground-color: white;\n \tmargin: 0 auto;\n \tpadding: 0 15px;\n-\tfont-family: \"Source Serif 4\", Georgia, Times, \"Times New Roman\", serif;\n \tfont-size: 18px;\n \tcolor: #333;\n \tline-height: 1.428571429;\n \n-\t-webkit-font-feature-settings: \"kern\", \"liga\";\n-\t-moz-font-feature-settings: \"kern\", \"liga\";\n-\tfont-feature-settings: \"kern\", \"liga\";\n+\t-webkit-box-sizing: unset;\n+\t-moz-box-sizing: unset;\n+\tbox-sizing: unset;\n }\n @media (min-width: 768px) {\n \tbody {\n \t\tmax-width: 750px;\n \t}\n }\n \n-h1, h2, h3, h4, h5, h6, nav, #versioninfo {\n-\tfont-family: \"Fira Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n-}\n-h1, h2, h3, h4, h5, h6 {\n-\tcolor: black;\n+h2, h3, h4, h5, h6 {\n \tfont-weight: 400;\n \tline-height: 1.1;\n }\n@@ -107,13 +27,15 @@ h1, h2, h3 {\n }\n h1 {\n \tmargin-bottom: 20px;\n+\tline-height: 1.1;\n }\n h4, h5, h6 {\n \tmargin-top: 12px;\n \tmargin-bottom: 10px;\n \tpadding: 5px 10px;\n }\n h5, h6 {\n+\tcolor: black;\n \ttext-decoration: underline;\n }\n \n@@ -138,6 +60,7 @@ h3 {\n }\n h4 {\n \tfont-size: 22px;\n+\tborder-bottom: none;\n }\n h5 {\n \tfont-size: 20px;\n@@ -208,19 +131,15 @@ a:hover, a:active {\n h1 a:link, h1 a:visited, h2 a:link, h2 a:visited,\n h3 a:link, h3 a:visited, h4 a:link, h4 a:visited,\n h5 a:link, h5 a:visited {color: black;}\n-h1 a:hover, h2 a:hover, h3 a:hover, h4 a:hover,\n-h5 a:hover {text-decoration: none;}\n \n /* Code */\n \n pre, code {\n-\tfont-family: \"Source Code Pro\", Menlo, Monaco, Consolas, \"DejaVu Sans Mono\", monospace;\n \tword-wrap: break-word;\n }\n pre {\n \tborder-left: 2px solid #eee;\n \twhite-space: pre-wrap;\n-\tpadding: 14px;\n \tpadding-right: 0;\n \tmargin: 20px 0;\n \tfont-size: 15px;\n@@ -244,19 +163,6 @@ a > code {\n \tcolor: #8D1A38;\n }\n \n-/* Code highlighting */\n-pre.rust .kw { color: #8959A8; }\n-pre.rust .kw-2, pre.rust .prelude-ty { color: #4271AE; }\n-pre.rust .number, pre.rust .string { color: #718C00; }\n-pre.rust .self, pre.rust .bool-val, pre.rust .prelude-val,\n-pre.rust .attribute, pre.rust .attribute .ident { color: #C82829; }\n-pre.rust .comment { color: #8E908C; }\n-pre.rust .doccomment { color: #4D4D4C; }\n-pre.rust .macro, pre.rust .macro-nonterminal { color: #3E999F; }\n-pre.rust .lifetime { color: #B76514; }\n-\n-/* The rest */\n-\n #versioninfo {\n \ttext-align: center;\n \tmargin: 0.5em;\n@@ -298,9 +204,6 @@ blockquote p:last-child {\n \tmargin-bottom: 0;\n }\n \n-ul, ol {\n-\tpadding-left: 25px;\n-}\n ul ul, ol ul, ul ol, ol ol {\n \tmargin-bottom: 0;\n }\n@@ -355,22 +258,8 @@ table th {\n \n /* Code snippets */\n \n-.example-wrap { position: relative; }\n-pre.rust { position: relative; }\n a.test-arrow {\n-\tbackground-color: rgba(78, 139, 202, 0.2);\n-\tdisplay: inline-block;\n-\tposition: absolute;\n-\tcolor: #f5f5f5;\n-\tpadding: 5px 10px 5px 10px;\n-\tborder-radius: 5px;\n-\tfont-size: 130%;\n-\ttop: 5px;\n-\tright: 5px;\n-}\n-a.test-arrow:hover{\n-\tbackground-color: #4e8bca;\n-\ttext-decoration: none;\n+\tcolor: #f5f5f5\n }\n \n .unstable-feature {\n@@ -439,19 +328,6 @@ a.test-arrow:hover{\n \tposition: relative;\n }\n \n-.information {\n-\tposition: absolute;\n-\tleft: -25px;\n-\tmargin-top: 7px;\n-\tz-index: 1;\n-}\n-\n-.tooltip {\n-\tposition: relative;\n-\tdisplay: inline-block;\n-\tcursor: pointer;\n-}\n-\n .tooltip .tooltiptext {\n \twidth: 120px;\n \tdisplay: none;"}, {"sha": "6785b79ffda9680d5e2c6c5be0091d51b5decd6c", "filename": "src/librustdoc/html/static/themes/light.css", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/c54895bea6a96defe4c9a7041013efe7505c3ff2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/c54895bea6a96defe4c9a7041013efe7505c3ff2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Flight.css?ref=c54895bea6a96defe4c9a7041013efe7505c3ff2", "patch": "@@ -159,9 +159,6 @@ a.result-keyword:focus { background-color: #f99650; }\n .content .fnname { color: #9a6e31; }\n .content span.keyword, .content a.keyword, .block a.current.keyword { color: #de5249; }\n \n-pre.rust .comment { color: #8E908C; }\n-pre.rust .doccomment { color: #4D4D4C; }\n-\n nav:not(.sidebar) {\n \tborder-bottom-color: #e0e0e0;\n }\n@@ -252,6 +249,8 @@ pre.rust .kw-2, pre.rust .prelude-ty { color: #4271AE; }\n pre.rust .number, pre.rust .string { color: #718C00; }\n pre.rust .self, pre.rust .bool-val, pre.rust .prelude-val,\n pre.rust .attribute, pre.rust .attribute .ident { color: #C82829; }\n+pre.rust .comment { color: #8E908C; }\n+pre.rust .doccomment { color: #4D4D4C; }\n pre.rust .macro, pre.rust .macro-nonterminal { color: #3E999F; }\n pre.rust .lifetime { color: #B76514; }\n pre.rust .question-mark {"}, {"sha": "e3700136aca8aa186bc0e239228a0d95acaab39f", "filename": "src/tools/error_index_generator/main.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c54895bea6a96defe4c9a7041013efe7505c3ff2/src%2Ftools%2Ferror_index_generator%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c54895bea6a96defe4c9a7041013efe7505c3ff2/src%2Ftools%2Ferror_index_generator%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ferror_index_generator%2Fmain.rs?ref=c54895bea6a96defe4c9a7041013efe7505c3ff2", "patch": "@@ -67,6 +67,7 @@ impl Formatter for HTMLFormatter {\n <title>Rust Compiler Error Index</title>\n <meta charset=\"utf-8\">\n <!-- Include rust.css after light.css so its rules take priority. -->\n+<link rel=\"stylesheet\" type=\"text/css\" href=\"rustdoc{suffix}.css\"/>\n <link rel=\"stylesheet\" type=\"text/css\" href=\"light{suffix}.css\"/>\n <link rel=\"stylesheet\" type=\"text/css\" href=\"rust.css\"/>\n <style>"}]}