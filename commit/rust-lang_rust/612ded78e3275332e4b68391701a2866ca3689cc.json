{"sha": "612ded78e3275332e4b68391701a2866ca3689cc", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYxMmRlZDc4ZTMyNzUzMzJlNGI2ODM5MTcwMWEyODY2Y2EzNjg5Y2M=", "commit": {"author": {"name": "Michael Woerister", "email": "michaelwoerister@posteo", "date": "2015-01-08T13:55:13Z"}, "committer": {"name": "Michael Woerister", "email": "michaelwoerister@posteo", "date": "2015-01-24T14:02:38Z"}, "message": "debuginfo: Extend option-like-enum test case to contain nested discriminants.", "tree": {"sha": "965623e2173865b9f1655b712ac81034cf1f21ac", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/965623e2173865b9f1655b712ac81034cf1f21ac"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/612ded78e3275332e4b68391701a2866ca3689cc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/612ded78e3275332e4b68391701a2866ca3689cc", "html_url": "https://github.com/rust-lang/rust/commit/612ded78e3275332e4b68391701a2866ca3689cc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/612ded78e3275332e4b68391701a2866ca3689cc/comments", "author": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "committer": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "796d00948a890fde67d9f92d1cc6e8c5edc2c879", "url": "https://api.github.com/repos/rust-lang/rust/commits/796d00948a890fde67d9f92d1cc6e8c5edc2c879", "html_url": "https://github.com/rust-lang/rust/commit/796d00948a890fde67d9f92d1cc6e8c5edc2c879"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "fdfbcda7421cd91cf245f685b06054934beb60f4", "filename": "src/test/debuginfo/option-like-enum.rs", "status": "modified", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/612ded78e3275332e4b68391701a2866ca3689cc/src%2Ftest%2Fdebuginfo%2Foption-like-enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/612ded78e3275332e4b68391701a2866ca3689cc/src%2Ftest%2Fdebuginfo%2Foption-like-enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Foption-like-enum.rs?ref=612ded78e3275332e4b68391701a2866ca3689cc", "patch": "@@ -36,6 +36,12 @@\n // gdb-command:print void_droid_gdb->internals\n // gdb-check:$6 = (isize *) 0x0\n \n+// gdb-command:print nested_non_zero_yep\n+// gdb-check:$7 = {RUST$ENCODED$ENUM$1$2$Nope = {10.5, {a = 10, b = 20, c = [...]}}}\n+\n+// gdb-command:print nested_non_zero_nope\n+// gdb-check:$8 = {RUST$ENCODED$ENUM$1$2$Nope = {[...], {a = [...], b = [...], c = 0x0}}}\n+\n // gdb-command:continue\n \n \n@@ -67,6 +73,12 @@\n // lldb-command:print none_str\n // lldb-check:[...]$7 = None\n \n+// lldb-command:print nested_non_zero_yep\n+// lldb-check:[...]$8 = Yep(10.5, NestedNonZeroField { a: 10, b: 20, c: &[...] })\n+\n+// lldb-command:print nested_non_zero_nope\n+// lldb-check:[...]$9 = Nope\n+\n \n #![omit_gdb_pretty_printer_section]\n \n@@ -102,6 +114,17 @@ struct NamedFieldsRepr<'a> {\n     internals: &'a isize\n }\n \n+struct NestedNonZeroField<'a> {\n+    a: u16,\n+    b: u32,\n+    c: &'a char,\n+}\n+\n+enum NestedNonZero<'a> {\n+    Yep(f64, NestedNonZeroField<'a>),\n+    Nope\n+}\n+\n fn main() {\n \n     let some_str: Option<&'static str> = Some(\"abc\");\n@@ -124,6 +147,17 @@ fn main() {\n     let void_droid = NamedFields::Void;\n     let void_droid_gdb: &NamedFieldsRepr = unsafe { std::mem::transmute(&NamedFields::Void) };\n \n+    let x = 'x';\n+    let nested_non_zero_yep = NestedNonZero::Yep(\n+        10.5,\n+        NestedNonZeroField {\n+            a: 10,\n+            b: 20,\n+            c: &x\n+        });\n+\n+    let nested_non_zero_nope = NestedNonZero::Nope;\n+\n     zzz(); // #break\n }\n "}]}