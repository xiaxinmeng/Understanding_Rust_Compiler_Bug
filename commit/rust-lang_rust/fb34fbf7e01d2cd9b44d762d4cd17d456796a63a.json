{"sha": "fb34fbf7e01d2cd9b44d762d4cd17d456796a63a", "node_id": "C_kwDOAAsO6NoAKGZiMzRmYmY3ZTAxZDJjZDliNDRkNzYyZDRjZDE3ZDQ1Njc5NmE2M2E", "commit": {"author": {"name": "Caio", "email": "c410.f3r@gmail.com", "date": "2023-01-06T17:50:25Z"}, "committer": {"name": "Caio", "email": "c410.f3r@gmail.com", "date": "2023-01-06T17:50:25Z"}, "message": "[arithmetic_side_effects] Add more tests related to custom types", "tree": {"sha": "dca3019f3cfe5905b8d675d13bcccd376e87d8eb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dca3019f3cfe5905b8d675d13bcccd376e87d8eb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fb34fbf7e01d2cd9b44d762d4cd17d456796a63a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fb34fbf7e01d2cd9b44d762d4cd17d456796a63a", "html_url": "https://github.com/rust-lang/rust/commit/fb34fbf7e01d2cd9b44d762d4cd17d456796a63a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fb34fbf7e01d2cd9b44d762d4cd17d456796a63a/comments", "author": {"login": "c410-f3r", "id": 17877264, "node_id": "MDQ6VXNlcjE3ODc3MjY0", "avatar_url": "https://avatars.githubusercontent.com/u/17877264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c410-f3r", "html_url": "https://github.com/c410-f3r", "followers_url": "https://api.github.com/users/c410-f3r/followers", "following_url": "https://api.github.com/users/c410-f3r/following{/other_user}", "gists_url": "https://api.github.com/users/c410-f3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/c410-f3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c410-f3r/subscriptions", "organizations_url": "https://api.github.com/users/c410-f3r/orgs", "repos_url": "https://api.github.com/users/c410-f3r/repos", "events_url": "https://api.github.com/users/c410-f3r/events{/privacy}", "received_events_url": "https://api.github.com/users/c410-f3r/received_events", "type": "User", "site_admin": false}, "committer": {"login": "c410-f3r", "id": 17877264, "node_id": "MDQ6VXNlcjE3ODc3MjY0", "avatar_url": "https://avatars.githubusercontent.com/u/17877264?v=4", "gravatar_id": "", "url": "https://api.github.com/users/c410-f3r", "html_url": "https://github.com/c410-f3r", "followers_url": "https://api.github.com/users/c410-f3r/followers", "following_url": "https://api.github.com/users/c410-f3r/following{/other_user}", "gists_url": "https://api.github.com/users/c410-f3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/c410-f3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/c410-f3r/subscriptions", "organizations_url": "https://api.github.com/users/c410-f3r/orgs", "repos_url": "https://api.github.com/users/c410-f3r/repos", "events_url": "https://api.github.com/users/c410-f3r/events{/privacy}", "received_events_url": "https://api.github.com/users/c410-f3r/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3f0d0c1be708450001e6c5b9f5f80d276ce24b94", "url": "https://api.github.com/repos/rust-lang/rust/commits/3f0d0c1be708450001e6c5b9f5f80d276ce24b94", "html_url": "https://github.com/rust-lang/rust/commit/3f0d0c1be708450001e6c5b9f5f80d276ce24b94"}], "stats": {"total": 548, "additions": 365, "deletions": 183}, "files": [{"sha": "918cf81c600af08db4573d83b6ca2dcceb3b4310", "filename": "tests/ui/arithmetic_side_effects.rs", "status": "modified", "additions": 119, "deletions": 39, "changes": 158, "blob_url": "https://github.com/rust-lang/rust/blob/fb34fbf7e01d2cd9b44d762d4cd17d456796a63a/tests%2Fui%2Farithmetic_side_effects.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fb34fbf7e01d2cd9b44d762d4cd17d456796a63a/tests%2Fui%2Farithmetic_side_effects.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Farithmetic_side_effects.rs?ref=fb34fbf7e01d2cd9b44d762d4cd17d456796a63a", "patch": "@@ -13,31 +13,95 @@\n \n use core::num::{Saturating, Wrapping};\n \n+#[derive(Clone, Copy)]\n pub struct Custom;\n \n macro_rules! impl_arith {\n-    ( $( $_trait:ident, $ty:ty, $method:ident; )* ) => {\n+    ( $( $_trait:ident, $lhs:ty, $rhs:ty, $method:ident; )* ) => {\n         $(\n-            impl core::ops::$_trait<$ty> for Custom {\n-                type Output = Self;\n-                fn $method(self, _: $ty) -> Self::Output { Self }\n+            impl core::ops::$_trait<$lhs> for $rhs {\n+                type Output = Custom;\n+                fn $method(self, _: $lhs) -> Self::Output { todo!() }\n+            }\n+        )*\n+    }\n+}\n+\n+macro_rules! impl_assign_arith {\n+    ( $( $_trait:ident, $lhs:ty, $rhs:ty, $method:ident; )* ) => {\n+        $(\n+            impl core::ops::$_trait<$lhs> for $rhs {\n+                fn $method(&mut self, _: $lhs) {}\n             }\n         )*\n     }\n }\n \n impl_arith!(\n-    Add, i32, add;\n-    Div, i32, div;\n-    Mul, i32, mul;\n-    Sub, i32, sub;\n-\n-    Add, f64, add;\n-    Div, f64, div;\n-    Mul, f64, mul;\n-    Sub, f64, sub;\n+    Add, Custom, Custom, add;\n+    Div, Custom, Custom, div;\n+    Mul, Custom, Custom, mul;\n+    Rem, Custom, Custom, rem;\n+    Sub, Custom, Custom, sub;\n+\n+    Add, Custom, &Custom, add;\n+    Div, Custom, &Custom, div;\n+    Mul, Custom, &Custom, mul;\n+    Rem, Custom, &Custom, rem;\n+    Sub, Custom, &Custom, sub;\n+\n+    Add, &Custom, Custom, add;\n+    Div, &Custom, Custom, div;\n+    Mul, &Custom, Custom, mul;\n+    Rem, &Custom, Custom, rem;\n+    Sub, &Custom, Custom, sub;\n+\n+    Add, &Custom, &Custom, add;\n+    Div, &Custom, &Custom, div;\n+    Mul, &Custom, &Custom, mul;\n+    Rem, &Custom, &Custom, rem;\n+    Sub, &Custom, &Custom, sub;\n+);\n+\n+impl_assign_arith!(\n+    AddAssign, Custom, Custom, add_assign;\n+    DivAssign, Custom, Custom, div_assign;\n+    MulAssign, Custom, Custom, mul_assign;\n+    RemAssign, Custom, Custom, rem_assign;\n+    SubAssign, Custom, Custom, sub_assign;\n+\n+    AddAssign, Custom, &Custom, add_assign;\n+    DivAssign, Custom, &Custom, div_assign;\n+    MulAssign, Custom, &Custom, mul_assign;\n+    RemAssign, Custom, &Custom, rem_assign;\n+    SubAssign, Custom, &Custom, sub_assign;\n+\n+    AddAssign, &Custom, Custom, add_assign;\n+    DivAssign, &Custom, Custom, div_assign;\n+    MulAssign, &Custom, Custom, mul_assign;\n+    RemAssign, &Custom, Custom, rem_assign;\n+    SubAssign, &Custom, Custom, sub_assign;\n+\n+    AddAssign, &Custom, &Custom, add_assign;\n+    DivAssign, &Custom, &Custom, div_assign;\n+    MulAssign, &Custom, &Custom, mul_assign;\n+    RemAssign, &Custom, &Custom, rem_assign;\n+    SubAssign, &Custom, &Custom, sub_assign;\n );\n \n+impl core::ops::Neg for Custom {\n+    type Output = Custom;\n+    fn neg(self) -> Self::Output {\n+        todo!()\n+    }\n+}\n+impl core::ops::Neg for &Custom {\n+    type Output = Custom;\n+    fn neg(self) -> Self::Output {\n+        todo!()\n+    }\n+}\n+\n pub fn association_with_structures_should_not_trigger_the_lint() {\n     enum Foo {\n         Bar = -2,\n@@ -173,6 +237,7 @@ pub fn non_overflowing_ops_or_ops_already_handled_by_the_compiler_should_not_tri\n \n pub fn unknown_ops_or_runtime_ops_that_can_overflow() {\n     let mut _n = i32::MAX;\n+    let mut _custom = Custom;\n \n     // Assign\n     _n += 1;\n@@ -195,6 +260,26 @@ pub fn unknown_ops_or_runtime_ops_that_can_overflow() {\n     _n %= &-0;\n     _n *= -2;\n     _n *= &-2;\n+    _custom += Custom;\n+    _custom += &Custom;\n+    _custom -= Custom;\n+    _custom -= &Custom;\n+    _custom /= Custom;\n+    _custom /= &Custom;\n+    _custom %= Custom;\n+    _custom %= &Custom;\n+    _custom *= Custom;\n+    _custom *= &Custom;\n+    _custom += -Custom;\n+    _custom += &-Custom;\n+    _custom -= -Custom;\n+    _custom -= &-Custom;\n+    _custom /= -Custom;\n+    _custom /= &-Custom;\n+    _custom %= -Custom;\n+    _custom %= &-Custom;\n+    _custom *= -Custom;\n+    _custom *= &-Custom;\n \n     // Binary\n     _n = _n + 1;\n@@ -216,36 +301,31 @@ pub fn unknown_ops_or_runtime_ops_that_can_overflow() {\n     _n = 23 + &85;\n     _n = &23 + 85;\n     _n = &23 + &85;\n-\n-    // Custom\n-    let _ = Custom + 0;\n-    let _ = Custom + 1;\n-    let _ = Custom + 2;\n-    let _ = Custom + 0.0;\n-    let _ = Custom + 1.0;\n-    let _ = Custom + 2.0;\n-    let _ = Custom - 0;\n-    let _ = Custom - 1;\n-    let _ = Custom - 2;\n-    let _ = Custom - 0.0;\n-    let _ = Custom - 1.0;\n-    let _ = Custom - 2.0;\n-    let _ = Custom / 0;\n-    let _ = Custom / 1;\n-    let _ = Custom / 2;\n-    let _ = Custom / 0.0;\n-    let _ = Custom / 1.0;\n-    let _ = Custom / 2.0;\n-    let _ = Custom * 0;\n-    let _ = Custom * 1;\n-    let _ = Custom * 2;\n-    let _ = Custom * 0.0;\n-    let _ = Custom * 1.0;\n-    let _ = Custom * 2.0;\n+    _custom = _custom + _custom;\n+    _custom = _custom + &_custom;\n+    _custom = Custom + _custom;\n+    _custom = &Custom + _custom;\n+    _custom = _custom - Custom;\n+    _custom = _custom - &Custom;\n+    _custom = Custom - _custom;\n+    _custom = &Custom - _custom;\n+    _custom = _custom / Custom;\n+    _custom = _custom / &Custom;\n+    _custom = _custom % Custom;\n+    _custom = _custom % &Custom;\n+    _custom = _custom * Custom;\n+    _custom = _custom * &Custom;\n+    _custom = Custom * _custom;\n+    _custom = &Custom * _custom;\n+    _custom = Custom + &Custom;\n+    _custom = &Custom + Custom;\n+    _custom = &Custom + &Custom;\n \n     // Unary\n     _n = -_n;\n     _n = -&_n;\n+    _custom = -_custom;\n+    _custom = -&_custom;\n }\n \n // Copied and pasted from the `integer_arithmetic` lint for comparison."}, {"sha": "5e349f6b497cd00e19c82bb49088be1173115577", "filename": "tests/ui/arithmetic_side_effects.stderr", "status": "modified", "additions": 246, "deletions": 144, "changes": 390, "blob_url": "https://github.com/rust-lang/rust/blob/fb34fbf7e01d2cd9b44d762d4cd17d456796a63a/tests%2Fui%2Farithmetic_side_effects.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/fb34fbf7e01d2cd9b44d762d4cd17d456796a63a/tests%2Fui%2Farithmetic_side_effects.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Farithmetic_side_effects.stderr?ref=fb34fbf7e01d2cd9b44d762d4cd17d456796a63a", "patch": "@@ -1,496 +1,598 @@\n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:178:5\n+  --> $DIR/arithmetic_side_effects.rs:243:5\n    |\n LL |     _n += 1;\n    |     ^^^^^^^\n    |\n    = note: `-D clippy::arithmetic-side-effects` implied by `-D warnings`\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:179:5\n+  --> $DIR/arithmetic_side_effects.rs:244:5\n    |\n LL |     _n += &1;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:180:5\n+  --> $DIR/arithmetic_side_effects.rs:245:5\n    |\n LL |     _n -= 1;\n    |     ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:181:5\n+  --> $DIR/arithmetic_side_effects.rs:246:5\n    |\n LL |     _n -= &1;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:182:5\n+  --> $DIR/arithmetic_side_effects.rs:247:5\n    |\n LL |     _n /= 0;\n    |     ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:183:5\n+  --> $DIR/arithmetic_side_effects.rs:248:5\n    |\n LL |     _n /= &0;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:184:5\n+  --> $DIR/arithmetic_side_effects.rs:249:5\n    |\n LL |     _n %= 0;\n    |     ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:185:5\n+  --> $DIR/arithmetic_side_effects.rs:250:5\n    |\n LL |     _n %= &0;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:186:5\n+  --> $DIR/arithmetic_side_effects.rs:251:5\n    |\n LL |     _n *= 2;\n    |     ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:187:5\n+  --> $DIR/arithmetic_side_effects.rs:252:5\n    |\n LL |     _n *= &2;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:188:5\n+  --> $DIR/arithmetic_side_effects.rs:253:5\n    |\n LL |     _n += -1;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:189:5\n+  --> $DIR/arithmetic_side_effects.rs:254:5\n    |\n LL |     _n += &-1;\n    |     ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:190:5\n+  --> $DIR/arithmetic_side_effects.rs:255:5\n    |\n LL |     _n -= -1;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:191:5\n+  --> $DIR/arithmetic_side_effects.rs:256:5\n    |\n LL |     _n -= &-1;\n    |     ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:192:5\n+  --> $DIR/arithmetic_side_effects.rs:257:5\n    |\n LL |     _n /= -0;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:193:5\n+  --> $DIR/arithmetic_side_effects.rs:258:5\n    |\n LL |     _n /= &-0;\n    |     ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:194:5\n+  --> $DIR/arithmetic_side_effects.rs:259:5\n    |\n LL |     _n %= -0;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:195:5\n+  --> $DIR/arithmetic_side_effects.rs:260:5\n    |\n LL |     _n %= &-0;\n    |     ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:196:5\n+  --> $DIR/arithmetic_side_effects.rs:261:5\n    |\n LL |     _n *= -2;\n    |     ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:197:5\n+  --> $DIR/arithmetic_side_effects.rs:262:5\n    |\n LL |     _n *= &-2;\n    |     ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:200:10\n+  --> $DIR/arithmetic_side_effects.rs:263:5\n+   |\n+LL |     _custom += Custom;\n+   |     ^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:264:5\n+   |\n+LL |     _custom += &Custom;\n+   |     ^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:265:5\n+   |\n+LL |     _custom -= Custom;\n+   |     ^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:266:5\n+   |\n+LL |     _custom -= &Custom;\n+   |     ^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:267:5\n+   |\n+LL |     _custom /= Custom;\n+   |     ^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:268:5\n+   |\n+LL |     _custom /= &Custom;\n+   |     ^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:269:5\n+   |\n+LL |     _custom %= Custom;\n+   |     ^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:270:5\n+   |\n+LL |     _custom %= &Custom;\n+   |     ^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:271:5\n+   |\n+LL |     _custom *= Custom;\n+   |     ^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:272:5\n+   |\n+LL |     _custom *= &Custom;\n+   |     ^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:273:5\n+   |\n+LL |     _custom += -Custom;\n+   |     ^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:274:5\n+   |\n+LL |     _custom += &-Custom;\n+   |     ^^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:275:5\n+   |\n+LL |     _custom -= -Custom;\n+   |     ^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:276:5\n+   |\n+LL |     _custom -= &-Custom;\n+   |     ^^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:277:5\n+   |\n+LL |     _custom /= -Custom;\n+   |     ^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:278:5\n+   |\n+LL |     _custom /= &-Custom;\n+   |     ^^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:279:5\n+   |\n+LL |     _custom %= -Custom;\n+   |     ^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:280:5\n+   |\n+LL |     _custom %= &-Custom;\n+   |     ^^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:281:5\n+   |\n+LL |     _custom *= -Custom;\n+   |     ^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:282:5\n+   |\n+LL |     _custom *= &-Custom;\n+   |     ^^^^^^^^^^^^^^^^^^^\n+\n+error: arithmetic operation that can potentially result in unexpected side-effects\n+  --> $DIR/arithmetic_side_effects.rs:285:10\n    |\n LL |     _n = _n + 1;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:201:10\n+  --> $DIR/arithmetic_side_effects.rs:286:10\n    |\n LL |     _n = _n + &1;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:202:10\n+  --> $DIR/arithmetic_side_effects.rs:287:10\n    |\n LL |     _n = 1 + _n;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:203:10\n+  --> $DIR/arithmetic_side_effects.rs:288:10\n    |\n LL |     _n = &1 + _n;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:204:10\n+  --> $DIR/arithmetic_side_effects.rs:289:10\n    |\n LL |     _n = _n - 1;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:205:10\n+  --> $DIR/arithmetic_side_effects.rs:290:10\n    |\n LL |     _n = _n - &1;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:206:10\n+  --> $DIR/arithmetic_side_effects.rs:291:10\n    |\n LL |     _n = 1 - _n;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:207:10\n+  --> $DIR/arithmetic_side_effects.rs:292:10\n    |\n LL |     _n = &1 - _n;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:208:10\n+  --> $DIR/arithmetic_side_effects.rs:293:10\n    |\n LL |     _n = _n / 0;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:209:10\n+  --> $DIR/arithmetic_side_effects.rs:294:10\n    |\n LL |     _n = _n / &0;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:210:10\n+  --> $DIR/arithmetic_side_effects.rs:295:10\n    |\n LL |     _n = _n % 0;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:211:10\n+  --> $DIR/arithmetic_side_effects.rs:296:10\n    |\n LL |     _n = _n % &0;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:212:10\n+  --> $DIR/arithmetic_side_effects.rs:297:10\n    |\n LL |     _n = _n * 2;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:213:10\n+  --> $DIR/arithmetic_side_effects.rs:298:10\n    |\n LL |     _n = _n * &2;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:214:10\n+  --> $DIR/arithmetic_side_effects.rs:299:10\n    |\n LL |     _n = 2 * _n;\n    |          ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:215:10\n+  --> $DIR/arithmetic_side_effects.rs:300:10\n    |\n LL |     _n = &2 * _n;\n    |          ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:216:10\n+  --> $DIR/arithmetic_side_effects.rs:301:10\n    |\n LL |     _n = 23 + &85;\n    |          ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:217:10\n+  --> $DIR/arithmetic_side_effects.rs:302:10\n    |\n LL |     _n = &23 + 85;\n    |          ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:218:10\n+  --> $DIR/arithmetic_side_effects.rs:303:10\n    |\n LL |     _n = &23 + &85;\n    |          ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:221:13\n-   |\n-LL |     let _ = Custom + 0;\n-   |             ^^^^^^^^^^\n-\n-error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:222:13\n+  --> $DIR/arithmetic_side_effects.rs:304:15\n    |\n-LL |     let _ = Custom + 1;\n-   |             ^^^^^^^^^^\n+LL |     _custom = _custom + _custom;\n+   |               ^^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:223:13\n+  --> $DIR/arithmetic_side_effects.rs:305:15\n    |\n-LL |     let _ = Custom + 2;\n-   |             ^^^^^^^^^^\n+LL |     _custom = _custom + &_custom;\n+   |               ^^^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:224:13\n+  --> $DIR/arithmetic_side_effects.rs:306:15\n    |\n-LL |     let _ = Custom + 0.0;\n-   |             ^^^^^^^^^^^^\n+LL |     _custom = Custom + _custom;\n+   |               ^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:225:13\n+  --> $DIR/arithmetic_side_effects.rs:307:15\n    |\n-LL |     let _ = Custom + 1.0;\n-   |             ^^^^^^^^^^^^\n+LL |     _custom = &Custom + _custom;\n+   |               ^^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:226:13\n+  --> $DIR/arithmetic_side_effects.rs:308:15\n    |\n-LL |     let _ = Custom + 2.0;\n-   |             ^^^^^^^^^^^^\n+LL |     _custom = _custom - Custom;\n+   |               ^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:227:13\n+  --> $DIR/arithmetic_side_effects.rs:309:15\n    |\n-LL |     let _ = Custom - 0;\n-   |             ^^^^^^^^^^\n+LL |     _custom = _custom - &Custom;\n+   |               ^^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:228:13\n+  --> $DIR/arithmetic_side_effects.rs:310:15\n    |\n-LL |     let _ = Custom - 1;\n-   |             ^^^^^^^^^^\n+LL |     _custom = Custom - _custom;\n+   |               ^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:229:13\n+  --> $DIR/arithmetic_side_effects.rs:311:15\n    |\n-LL |     let _ = Custom - 2;\n-   |             ^^^^^^^^^^\n+LL |     _custom = &Custom - _custom;\n+   |               ^^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:230:13\n+  --> $DIR/arithmetic_side_effects.rs:312:15\n    |\n-LL |     let _ = Custom - 0.0;\n-   |             ^^^^^^^^^^^^\n+LL |     _custom = _custom / Custom;\n+   |               ^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:231:13\n+  --> $DIR/arithmetic_side_effects.rs:313:15\n    |\n-LL |     let _ = Custom - 1.0;\n-   |             ^^^^^^^^^^^^\n+LL |     _custom = _custom / &Custom;\n+   |               ^^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:232:13\n+  --> $DIR/arithmetic_side_effects.rs:314:15\n    |\n-LL |     let _ = Custom - 2.0;\n-   |             ^^^^^^^^^^^^\n+LL |     _custom = _custom % Custom;\n+   |               ^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:233:13\n+  --> $DIR/arithmetic_side_effects.rs:315:15\n    |\n-LL |     let _ = Custom / 0;\n-   |             ^^^^^^^^^^\n+LL |     _custom = _custom % &Custom;\n+   |               ^^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:234:13\n+  --> $DIR/arithmetic_side_effects.rs:316:15\n    |\n-LL |     let _ = Custom / 1;\n-   |             ^^^^^^^^^^\n+LL |     _custom = _custom * Custom;\n+   |               ^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:235:13\n+  --> $DIR/arithmetic_side_effects.rs:317:15\n    |\n-LL |     let _ = Custom / 2;\n-   |             ^^^^^^^^^^\n+LL |     _custom = _custom * &Custom;\n+   |               ^^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:236:13\n+  --> $DIR/arithmetic_side_effects.rs:318:15\n    |\n-LL |     let _ = Custom / 0.0;\n-   |             ^^^^^^^^^^^^\n+LL |     _custom = Custom * _custom;\n+   |               ^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:237:13\n+  --> $DIR/arithmetic_side_effects.rs:319:15\n    |\n-LL |     let _ = Custom / 1.0;\n-   |             ^^^^^^^^^^^^\n+LL |     _custom = &Custom * _custom;\n+   |               ^^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:238:13\n+  --> $DIR/arithmetic_side_effects.rs:320:15\n    |\n-LL |     let _ = Custom / 2.0;\n-   |             ^^^^^^^^^^^^\n+LL |     _custom = Custom + &Custom;\n+   |               ^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:239:13\n+  --> $DIR/arithmetic_side_effects.rs:321:15\n    |\n-LL |     let _ = Custom * 0;\n-   |             ^^^^^^^^^^\n+LL |     _custom = &Custom + Custom;\n+   |               ^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:240:13\n+  --> $DIR/arithmetic_side_effects.rs:322:15\n    |\n-LL |     let _ = Custom * 1;\n-   |             ^^^^^^^^^^\n+LL |     _custom = &Custom + &Custom;\n+   |               ^^^^^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:241:13\n+  --> $DIR/arithmetic_side_effects.rs:325:10\n    |\n-LL |     let _ = Custom * 2;\n-   |             ^^^^^^^^^^\n-\n-error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:242:13\n-   |\n-LL |     let _ = Custom * 0.0;\n-   |             ^^^^^^^^^^^^\n-\n-error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:243:13\n-   |\n-LL |     let _ = Custom * 1.0;\n-   |             ^^^^^^^^^^^^\n+LL |     _n = -_n;\n+   |          ^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:244:13\n+  --> $DIR/arithmetic_side_effects.rs:326:10\n    |\n-LL |     let _ = Custom * 2.0;\n-   |             ^^^^^^^^^^^^\n+LL |     _n = -&_n;\n+   |          ^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:247:10\n+  --> $DIR/arithmetic_side_effects.rs:327:15\n    |\n-LL |     _n = -_n;\n-   |          ^^^\n+LL |     _custom = -_custom;\n+   |               ^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:248:10\n+  --> $DIR/arithmetic_side_effects.rs:328:15\n    |\n-LL |     _n = -&_n;\n-   |          ^^^^\n+LL |     _custom = -&_custom;\n+   |               ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:257:5\n+  --> $DIR/arithmetic_side_effects.rs:337:5\n    |\n LL |     1 + i;\n    |     ^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:258:5\n+  --> $DIR/arithmetic_side_effects.rs:338:5\n    |\n LL |     i * 2;\n    |     ^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:260:5\n+  --> $DIR/arithmetic_side_effects.rs:340:5\n    |\n LL |     i - 2 + 2 - i;\n    |     ^^^^^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:261:5\n+  --> $DIR/arithmetic_side_effects.rs:341:5\n    |\n LL |     -i;\n    |     ^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:262:5\n+  --> $DIR/arithmetic_side_effects.rs:342:5\n    |\n LL |     i >> 1;\n    |     ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:263:5\n+  --> $DIR/arithmetic_side_effects.rs:343:5\n    |\n LL |     i << 1;\n    |     ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:272:5\n+  --> $DIR/arithmetic_side_effects.rs:352:5\n    |\n LL |     i += 1;\n    |     ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:273:5\n+  --> $DIR/arithmetic_side_effects.rs:353:5\n    |\n LL |     i -= 1;\n    |     ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:274:5\n+  --> $DIR/arithmetic_side_effects.rs:354:5\n    |\n LL |     i *= 2;\n    |     ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:276:5\n+  --> $DIR/arithmetic_side_effects.rs:356:5\n    |\n LL |     i /= 0;\n    |     ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:278:5\n+  --> $DIR/arithmetic_side_effects.rs:358:5\n    |\n LL |     i /= var1;\n    |     ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:279:5\n+  --> $DIR/arithmetic_side_effects.rs:359:5\n    |\n LL |     i /= var2;\n    |     ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:281:5\n+  --> $DIR/arithmetic_side_effects.rs:361:5\n    |\n LL |     i %= 0;\n    |     ^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:283:5\n+  --> $DIR/arithmetic_side_effects.rs:363:5\n    |\n LL |     i %= var1;\n    |     ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:284:5\n+  --> $DIR/arithmetic_side_effects.rs:364:5\n    |\n LL |     i %= var2;\n    |     ^^^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:285:5\n+  --> $DIR/arithmetic_side_effects.rs:365:5\n    |\n LL |     i <<= 3;\n    |     ^^^^^^^\n \n error: arithmetic operation that can potentially result in unexpected side-effects\n-  --> $DIR/arithmetic_side_effects.rs:286:5\n+  --> $DIR/arithmetic_side_effects.rs:366:5\n    |\n LL |     i >>= 2;\n    |     ^^^^^^^\n \n-error: aborting due to 82 previous errors\n+error: aborting due to 99 previous errors\n "}]}