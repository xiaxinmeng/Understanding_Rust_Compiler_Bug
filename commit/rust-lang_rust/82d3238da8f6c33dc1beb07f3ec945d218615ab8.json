{"sha": "82d3238da8f6c33dc1beb07f3ec945d218615ab8", "node_id": "C_kwDOAAsO6NoAKDgyZDMyMzhkYThmNmMzM2RjMWJlYjA3ZjNlYzk0NWQyMTg2MTVhYjg", "commit": {"author": {"name": "Jeroen Vannevel", "email": "jer_vannevel@outlook.com", "date": "2022-01-14T00:39:44Z"}, "committer": {"name": "Jeroen Vannevel", "email": "jer_vannevel@outlook.com", "date": "2022-01-14T01:32:12Z"}, "message": "ParenPat", "tree": {"sha": "4249ff3bdd89ef8c02e732669d2c826addf90c37", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4249ff3bdd89ef8c02e732669d2c826addf90c37"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/82d3238da8f6c33dc1beb07f3ec945d218615ab8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCAAdFiEEEzoFOOQgvfPzrDpfeO9fUvOMSb0FAmHg0pwACgkQeO9fUvOM\nSb1qYQv+Pl6Jlx18yMHt6tCsalE8kwvp/fupIo4+f7HvWYBkLFoilkrlPRiZPvgk\nDErTXwqUhKRmi3ianFTwGuwymbVotMg+BHRRqVci0YdBTVPwTVkA04gv8c4vOa2m\nBfFr/3BTTAWGxQxwzD+ipFPdMGMETKYc40HaIoITj2DVS/QmSiPfMIgYqZwMyuhp\nKU3VR7pR4KB7cMxxmVgZCS+O3leBgfRPW5/OsWENfCudVSHz2ade/nl/gI6JlrMC\nJ4LpCI/8z6z5U/D0uYVwIG5PqW0NIyM84PZYnF1VOcu3xCWaa+Na4qrq8uB2J75D\nrcyLPx7SoIOeFmI1S0f0buEK5IKXixV+NtZc3Bl37KfSgdQIFhvE8xpvp0wIc3oc\nin8Ue5a8OKqgYhbvGEDE68araHKtB3Y/tixWlMkgph5IUSfwDqAAs9KcT/EVlycT\niD7FMhk6UV1WgQS5mETrVrCdnIaYfsq9CSz1FTB7tdHn0nk2Vq1KMX+4YWfWUQvg\n7L0wEc9j\n=IjMx\n-----END PGP SIGNATURE-----", "payload": "tree 4249ff3bdd89ef8c02e732669d2c826addf90c37\nparent c955ea11b42dc7c0ac91fe1a12427171b86be4b7\nauthor Jeroen Vannevel <jer_vannevel@outlook.com> 1642120784 +0000\ncommitter Jeroen Vannevel <jer_vannevel@outlook.com> 1642123932 +0000\n\nParenPat\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/82d3238da8f6c33dc1beb07f3ec945d218615ab8", "html_url": "https://github.com/rust-lang/rust/commit/82d3238da8f6c33dc1beb07f3ec945d218615ab8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/82d3238da8f6c33dc1beb07f3ec945d218615ab8/comments", "author": {"login": "Vannevelj", "id": 2777107, "node_id": "MDQ6VXNlcjI3NzcxMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2777107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vannevelj", "html_url": "https://github.com/Vannevelj", "followers_url": "https://api.github.com/users/Vannevelj/followers", "following_url": "https://api.github.com/users/Vannevelj/following{/other_user}", "gists_url": "https://api.github.com/users/Vannevelj/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vannevelj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vannevelj/subscriptions", "organizations_url": "https://api.github.com/users/Vannevelj/orgs", "repos_url": "https://api.github.com/users/Vannevelj/repos", "events_url": "https://api.github.com/users/Vannevelj/events{/privacy}", "received_events_url": "https://api.github.com/users/Vannevelj/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Vannevelj", "id": 2777107, "node_id": "MDQ6VXNlcjI3NzcxMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/2777107?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Vannevelj", "html_url": "https://github.com/Vannevelj", "followers_url": "https://api.github.com/users/Vannevelj/followers", "following_url": "https://api.github.com/users/Vannevelj/following{/other_user}", "gists_url": "https://api.github.com/users/Vannevelj/gists{/gist_id}", "starred_url": "https://api.github.com/users/Vannevelj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Vannevelj/subscriptions", "organizations_url": "https://api.github.com/users/Vannevelj/orgs", "repos_url": "https://api.github.com/users/Vannevelj/repos", "events_url": "https://api.github.com/users/Vannevelj/events{/privacy}", "received_events_url": "https://api.github.com/users/Vannevelj/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c955ea11b42dc7c0ac91fe1a12427171b86be4b7", "url": "https://api.github.com/repos/rust-lang/rust/commits/c955ea11b42dc7c0ac91fe1a12427171b86be4b7", "html_url": "https://github.com/rust-lang/rust/commit/c955ea11b42dc7c0ac91fe1a12427171b86be4b7"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "ecb7d4bf0799fe6d048cf561f77a2798a1062809", "filename": "crates/ide_assists/src/handlers/merge_match_arms.rs", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/82d3238da8f6c33dc1beb07f3ec945d218615ab8/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fmerge_match_arms.rs", "raw_url": "https://github.com/rust-lang/rust/raw/82d3238da8f6c33dc1beb07f3ec945d218615ab8/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fmerge_match_arms.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fmerge_match_arms.rs?ref=82d3238da8f6c33dc1beb07f3ec945d218615ab8", "patch": "@@ -143,6 +143,9 @@ fn get_arm_types(context: &AssistContext, arm: &MatchArm) -> HashMap<String, Opt\n                         }\n                     }\n                 }\n+                Some(ast::Pat::ParenPat(parentheses)) => {\n+                    recurse(&parentheses.pat(), map, ctx);\n+                }\n                 Some(ast::Pat::IdentPat(ident_pat)) => {\n                     if let Some(name) = ident_pat.name() {\n                         let pat_type = ctx.sema.type_of_pat(local_pat);\n@@ -727,6 +730,23 @@ fn func() {\n         (x, y) => $0\"\",\n         (y, x) => \"\",\n     };\n+}\n+        \"#,\n+        )\n+    }\n+\n+    #[test]\n+    fn merge_match_arms_parentheses() {\n+        check_assist_not_applicable(\n+            merge_match_arms,\n+            r#\"\n+fn func(x: i32) {\n+    let variable = 2;\n+    match x {\n+        1 => $0\"\",\n+        ((((variable)))) => \"\",\n+        _ => \"other\"\n+    };\n }\n         \"#,\n         )"}]}