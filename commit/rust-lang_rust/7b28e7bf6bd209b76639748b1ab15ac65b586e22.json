{"sha": "7b28e7bf6bd209b76639748b1ab15ac65b586e22", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdiMjhlN2JmNmJkMjA5Yjc2NjM5NzQ4YjFhYjE1YWM2NWI1ODZlMjI=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2020-07-22T23:34:48Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-22T23:34:48Z"}, "message": "Rollup merge of #74631 - petrochenkov:ehdr2, r=jonas-schievink\n\nrustc_target: Add a target spec option for disabling `--eh-frame-hdr`\n\nDisable `--eh-frame-hdr` for targets that use an `ld`-like linker, but don't support that option.\nDo it through a target spec option rather than through hard-coding in `linker.rs`.\nThe option is still enabled by default though.\n\ncc https://github.com/rust-lang/rust/pull/73564\nFixes https://github.com/rust-lang/rust/pull/73564#issuecomment-657011004\nFixes https://github.com/rust-lang/rust/pull/74625\nFixes https://github.com/rust-embedded/msp430-rt/issues/12", "tree": {"sha": "89b06396749dc670079d4ee47b6274710aa0a18a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/89b06396749dc670079d4ee47b6274710aa0a18a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7b28e7bf6bd209b76639748b1ab15ac65b586e22", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfGM0YCRBK7hj4Ov3rIwAAdHIIAKs1fEAxu3ZWfU5XHS+9IhbG\nwMbZ+tDHfaT7vdPfQ2n7ALPXaB0wNuptYaQWTjN80AeivAbeDZcDS2R6snR+Owo4\n9FJ3tTlp9jS2loNTttNUxJwjzqPcAdi3rzr3H8g/ta/jxWhzQntpSDgqaSM//HVl\n+TcOqHeNYJQnH24TeabWWAHGTaR1bEmMYRgTv0n8bqIJ7OOssok0VQwf21sYOCDj\nIvc93sJe3gO7HjgzOSCUiwnnUJukYyv2SnIYF2qgtVtYdLlfWSMLCmNNou4n2CBH\neXjlksmvV7UMmPqepTkePrjtQHoztKTpGlE33d0ERFtyGoIZpUQCu2OGXthg8S4=\n=3B/h\n-----END PGP SIGNATURE-----\n", "payload": "tree 89b06396749dc670079d4ee47b6274710aa0a18a\nparent 9ac2af1dfc3bac5cce7c731548ec8504bca283c5\nparent 49b9a6486ab0814f4c7d57c22c75216fdc1ebf14\nauthor Manish Goregaokar <manishsmail@gmail.com> 1595460888 -0700\ncommitter GitHub <noreply@github.com> 1595460888 -0700\n\nRollup merge of #74631 - petrochenkov:ehdr2, r=jonas-schievink\n\nrustc_target: Add a target spec option for disabling `--eh-frame-hdr`\n\nDisable `--eh-frame-hdr` for targets that use an `ld`-like linker, but don't support that option.\nDo it through a target spec option rather than through hard-coding in `linker.rs`.\nThe option is still enabled by default though.\n\ncc https://github.com/rust-lang/rust/pull/73564\nFixes https://github.com/rust-lang/rust/pull/73564#issuecomment-657011004\nFixes https://github.com/rust-lang/rust/pull/74625\nFixes https://github.com/rust-embedded/msp430-rt/issues/12\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7b28e7bf6bd209b76639748b1ab15ac65b586e22", "html_url": "https://github.com/rust-lang/rust/commit/7b28e7bf6bd209b76639748b1ab15ac65b586e22", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7b28e7bf6bd209b76639748b1ab15ac65b586e22/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9ac2af1dfc3bac5cce7c731548ec8504bca283c5", "url": "https://api.github.com/repos/rust-lang/rust/commits/9ac2af1dfc3bac5cce7c731548ec8504bca283c5", "html_url": "https://github.com/rust-lang/rust/commit/9ac2af1dfc3bac5cce7c731548ec8504bca283c5"}, {"sha": "49b9a6486ab0814f4c7d57c22c75216fdc1ebf14", "url": "https://api.github.com/repos/rust-lang/rust/commits/49b9a6486ab0814f4c7d57c22c75216fdc1ebf14", "html_url": "https://github.com/rust-lang/rust/commit/49b9a6486ab0814f4c7d57c22c75216fdc1ebf14"}], "stats": {"total": 32, "additions": 24, "deletions": 8}, "files": [{"sha": "9191c68d4537aac7f7a43a8596d5adaa3d505680", "filename": "src/librustc_codegen_ssa/back/link.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_codegen_ssa%2Fback%2Flink.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_codegen_ssa%2Fback%2Flink.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_ssa%2Fback%2Flink.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -1598,7 +1598,9 @@ fn linker_with_args<'a, B: ArchiveBuilder<'a>>(\n     }\n \n     // NO-OPT-OUT, OBJECT-FILES-NO, AUDIT-ORDER\n-    cmd.add_eh_frame_header();\n+    if sess.target.target.options.eh_frame_header {\n+        cmd.add_eh_frame_header();\n+    }\n \n     // NO-OPT-OUT, OBJECT-FILES-NO\n     if crt_objects_fallback {"}, {"sha": "d1ae9e372695fded7ad77293f052f541368ca746", "filename": "src/librustc_codegen_ssa/back/linker.rs", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_codegen_ssa%2Fback%2Flinker.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_codegen_ssa%2Fback%2Flinker.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_ssa%2Fback%2Flinker.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -619,13 +619,7 @@ impl<'a> Linker for GccLinker<'a> {\n     // Some versions of `gcc` add it implicitly, some (e.g. `musl-gcc`) don't,\n     // so we just always add it.\n     fn add_eh_frame_header(&mut self) {\n-        if !self.sess.target.target.options.is_like_osx\n-            && !self.sess.target.target.options.is_like_windows\n-            && !self.sess.target.target.options.is_like_solaris\n-            && self.sess.target.target.target_os != \"uefi\"\n-        {\n-            self.linker_arg(\"--eh-frame-hdr\");\n-        }\n+        self.linker_arg(\"--eh-frame-hdr\");\n     }\n }\n "}, {"sha": "e7b565ae9cad979a7741b6509713db4ae8157d9f", "filename": "src/librustc_target/spec/apple_base.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fapple_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fapple_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fapple_base.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -31,6 +31,7 @@ pub fn opts() -> TargetOptions {\n         has_elf_tls: version >= (10, 7),\n         abi_return_struct_as_int: true,\n         emit_debug_gdb_scripts: false,\n+        eh_frame_header: false,\n \n         // This environment variable is pretty magical but is intended for\n         // producing deterministic builds. This was first discovered to be used"}, {"sha": "c338856228dc66b607304672531fe61243f4b3ce", "filename": "src/librustc_target/spec/freestanding_base.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Ffreestanding_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Ffreestanding_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Ffreestanding_base.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -25,6 +25,7 @@ pub fn opts() -> TargetOptions {\n         has_rpath: false,\n         pre_link_args: args,\n         position_independent_executables: false,\n+        eh_frame_header: false,\n         ..Default::default()\n     }\n }"}, {"sha": "214142b88fc2c7721f6617ba6e999abdbb6d0c25", "filename": "src/librustc_target/spec/illumos_base.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fillumos_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fillumos_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fillumos_base.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -23,6 +23,7 @@ pub fn opts() -> TargetOptions {\n         is_like_solaris: true,\n         limit_rdylib_exports: false, // Linker doesn't support this\n         eliminate_frame_pointer: false,\n+        eh_frame_header: false,\n         late_link_args,\n \n         // While we support ELF TLS, rust requires a way to register"}, {"sha": "961a438fd233cc175c5019a5d984ab5a0eb2de58", "filename": "src/librustc_target/spec/mod.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fmod.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -988,6 +988,11 @@ pub struct TargetOptions {\n     /// Whether to use legacy .ctors initialization hooks rather than .init_array. Defaults\n     /// to false (uses .init_array).\n     pub use_ctors_section: bool,\n+\n+    /// Whether the linker is instructed to add a `GNU_EH_FRAME` ELF header\n+    /// used to locate unwinding information is passed\n+    /// (only has effect if the linker is `ld`-like).\n+    pub eh_frame_header: bool,\n }\n \n impl Default for TargetOptions {\n@@ -1079,6 +1084,7 @@ impl Default for TargetOptions {\n             relax_elf_relocations: false,\n             llvm_args: vec![],\n             use_ctors_section: false,\n+            eh_frame_header: true,\n         }\n     }\n }\n@@ -1471,6 +1477,7 @@ impl Target {\n         key!(relax_elf_relocations, bool);\n         key!(llvm_args, list);\n         key!(use_ctors_section, bool);\n+        key!(eh_frame_header, bool);\n \n         // NB: The old name is deprecated, but support for it is retained for\n         // compatibility.\n@@ -1708,6 +1715,7 @@ impl ToJson for Target {\n         target_option_val!(relax_elf_relocations);\n         target_option_val!(llvm_args);\n         target_option_val!(use_ctors_section);\n+        target_option_val!(eh_frame_header);\n \n         if default.unsupported_abis != self.options.unsupported_abis {\n             d.insert("}, {"sha": "f75697996ac7863870e02b78052bc5a09c613945", "filename": "src/librustc_target/spec/msp430_none_elf.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fmsp430_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fmsp430_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fmsp430_none_elf.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -56,6 +56,8 @@ pub fn target() -> TargetResult {\n             // See the thumb_base.rs file for an explanation of this value\n             emit_debug_gdb_scripts: false,\n \n+            eh_frame_header: false,\n+\n             ..Default::default()\n         },\n     })"}, {"sha": "5b5e342000b55d70d486a0bc508215ef983e3785", "filename": "src/librustc_target/spec/riscv32i_unknown_none_elf.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Friscv32i_unknown_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Friscv32i_unknown_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Friscv32i_unknown_none_elf.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -25,6 +25,7 @@ pub fn target() -> TargetResult {\n             relocation_model: RelocModel::Static,\n             emit_debug_gdb_scripts: false,\n             unsupported_abis: super::riscv_base::unsupported_abis(),\n+            eh_frame_header: false,\n             ..Default::default()\n         },\n     })"}, {"sha": "4cef5c42d8ddfc8c54d5036280a3fcd38402c563", "filename": "src/librustc_target/spec/riscv32imac_unknown_none_elf.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Friscv32imac_unknown_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Friscv32imac_unknown_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Friscv32imac_unknown_none_elf.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -25,6 +25,7 @@ pub fn target() -> TargetResult {\n             relocation_model: RelocModel::Static,\n             emit_debug_gdb_scripts: false,\n             unsupported_abis: super::riscv_base::unsupported_abis(),\n+            eh_frame_header: false,\n             ..Default::default()\n         },\n     })"}, {"sha": "8ad563e441de3183345e829804e9c2befbdf814a", "filename": "src/librustc_target/spec/riscv32imc_unknown_none_elf.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Friscv32imc_unknown_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Friscv32imc_unknown_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Friscv32imc_unknown_none_elf.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -25,6 +25,7 @@ pub fn target() -> TargetResult {\n             relocation_model: RelocModel::Static,\n             emit_debug_gdb_scripts: false,\n             unsupported_abis: super::riscv_base::unsupported_abis(),\n+            eh_frame_header: false,\n             ..Default::default()\n         },\n     })"}, {"sha": "3aeb3f3ca72b2beef3b33f89641cc4a398105bcf", "filename": "src/librustc_target/spec/riscv64gc_unknown_none_elf.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Friscv64gc_unknown_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Friscv64gc_unknown_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Friscv64gc_unknown_none_elf.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -26,6 +26,7 @@ pub fn target() -> TargetResult {\n             code_model: Some(CodeModel::Medium),\n             emit_debug_gdb_scripts: false,\n             unsupported_abis: super::riscv_base::unsupported_abis(),\n+            eh_frame_header: false,\n             ..Default::default()\n         },\n     })"}, {"sha": "d8144964dc913277ea849a163e7dd68a55c51baf", "filename": "src/librustc_target/spec/riscv64imac_unknown_none_elf.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Friscv64imac_unknown_none_elf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Friscv64imac_unknown_none_elf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Friscv64imac_unknown_none_elf.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -26,6 +26,7 @@ pub fn target() -> TargetResult {\n             code_model: Some(CodeModel::Medium),\n             emit_debug_gdb_scripts: false,\n             unsupported_abis: super::riscv_base::unsupported_abis(),\n+            eh_frame_header: false,\n             ..Default::default()\n         },\n     })"}, {"sha": "3d7f0034b8b10dd128f5311102e431d93dcc9f2b", "filename": "src/librustc_target/spec/solaris_base.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fsolaris_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fsolaris_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fsolaris_base.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -8,6 +8,7 @@ pub fn opts() -> TargetOptions {\n         target_family: Some(\"unix\".to_string()),\n         is_like_solaris: true,\n         limit_rdylib_exports: false, // Linker doesn't support this\n+        eh_frame_header: false,\n \n         ..Default::default()\n     }"}, {"sha": "69236e98e58d7890befe267b1076a2cfd6268f23", "filename": "src/librustc_target/spec/windows_gnu_base.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fwindows_gnu_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7b28e7bf6bd209b76639748b1ab15ac65b586e22/src%2Flibrustc_target%2Fspec%2Fwindows_gnu_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_target%2Fspec%2Fwindows_gnu_base.rs?ref=7b28e7bf6bd209b76639748b1ab15ac65b586e22", "patch": "@@ -91,6 +91,7 @@ pub fn opts() -> TargetOptions {\n         abi_return_struct_as_int: true,\n         emit_debug_gdb_scripts: false,\n         requires_uwtable: true,\n+        eh_frame_header: false,\n \n         ..Default::default()\n     }"}]}