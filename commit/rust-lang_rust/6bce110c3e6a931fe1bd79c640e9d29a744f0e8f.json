{"sha": "6bce110c3e6a931fe1bd79c640e9d29a744f0e8f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZiY2UxMTBjM2U2YTkzMWZlMWJkNzljNjQwZTlkMjlhNzQ0ZjBlOGY=", "commit": {"author": {"name": "Cyryl P\u0142otnicki-Chudyk", "email": "cyplo@cyplo.net", "date": "2016-05-08T08:00:36Z"}, "committer": {"name": "Cyryl P\u0142otnicki-Chudyk", "email": "cyplo@cyplo.net", "date": "2016-05-08T08:00:36Z"}, "message": "Remove sha256 file only if present.", "tree": {"sha": "fe550fa1d808db75eee50818c1dc53c00157e35c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe550fa1d808db75eee50818c1dc53c00157e35c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6bce110c3e6a931fe1bd79c640e9d29a744f0e8f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6bce110c3e6a931fe1bd79c640e9d29a744f0e8f", "html_url": "https://github.com/rust-lang/rust/commit/6bce110c3e6a931fe1bd79c640e9d29a744f0e8f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6bce110c3e6a931fe1bd79c640e9d29a744f0e8f/comments", "author": {"login": "cyplo", "id": 217899, "node_id": "MDQ6VXNlcjIxNzg5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/217899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyplo", "html_url": "https://github.com/cyplo", "followers_url": "https://api.github.com/users/cyplo/followers", "following_url": "https://api.github.com/users/cyplo/following{/other_user}", "gists_url": "https://api.github.com/users/cyplo/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyplo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyplo/subscriptions", "organizations_url": "https://api.github.com/users/cyplo/orgs", "repos_url": "https://api.github.com/users/cyplo/repos", "events_url": "https://api.github.com/users/cyplo/events{/privacy}", "received_events_url": "https://api.github.com/users/cyplo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cyplo", "id": 217899, "node_id": "MDQ6VXNlcjIxNzg5OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/217899?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cyplo", "html_url": "https://github.com/cyplo", "followers_url": "https://api.github.com/users/cyplo/followers", "following_url": "https://api.github.com/users/cyplo/following{/other_user}", "gists_url": "https://api.github.com/users/cyplo/gists{/gist_id}", "starred_url": "https://api.github.com/users/cyplo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cyplo/subscriptions", "organizations_url": "https://api.github.com/users/cyplo/orgs", "repos_url": "https://api.github.com/users/cyplo/repos", "events_url": "https://api.github.com/users/cyplo/events{/privacy}", "received_events_url": "https://api.github.com/users/cyplo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "15de207b9c79c603aa10c30ae54ca07b295aadaf", "url": "https://api.github.com/repos/rust-lang/rust/commits/15de207b9c79c603aa10c30ae54ca07b295aadaf", "html_url": "https://github.com/rust-lang/rust/commit/15de207b9c79c603aa10c30ae54ca07b295aadaf"}], "stats": {"total": 13, "additions": 8, "deletions": 5}, "files": [{"sha": "0ab5253ee723940a26d347fa7ce19b3d7a490d85", "filename": "src/bootstrap/bootstrap.py", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/6bce110c3e6a931fe1bd79c640e9d29a744f0e8f/src%2Fbootstrap%2Fbootstrap.py", "raw_url": "https://github.com/rust-lang/rust/raw/6bce110c3e6a931fe1bd79c640e9d29a744f0e8f/src%2Fbootstrap%2Fbootstrap.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap.py?ref=6bce110c3e6a931fe1bd79c640e9d29a744f0e8f", "patch": "@@ -33,11 +33,14 @@ def get(url, path, verbose=False):\n         print(\"moving \" + temp_path + \" to \" + path)\n         shutil.move(temp_path, path)\n     finally:\n-        print(\"removing \" + sha_path)\n-        os.unlink(sha_path)\n-        if os.path.isfile(temp_path):\n-            print(\"removing \" + temp_path)\n-            os.unlink(temp_path)\n+        delete_if_present(sha_path)\n+        delete_if_present(temp_path)\n+\n+\n+def delete_if_present(path):\n+    if os.path.isfile(path):\n+        print(\"removing \" + path)\n+        os.unlink(path)\n \n \n def download(path, url, verbose):"}]}