{"sha": "9cf2516251c5379d3e8429342e8a392df81b9aaa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjljZjI1MTYyNTFjNTM3OWQzZTg0MjkzNDJlOGEzOTJkZjgxYjlhYWE=", "commit": {"author": {"name": "William Woodruff", "email": "william@trailofbits.com", "date": "2020-12-10T22:47:28Z"}, "committer": {"name": "William Woodruff", "email": "william@trailofbits.com", "date": "2020-12-10T22:47:28Z"}, "message": "doc(array,vec): add notes about side effects when empty-initializing", "tree": {"sha": "c8cbb1c0e24fbaf766e25621594e7919103003f6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c8cbb1c0e24fbaf766e25621594e7919103003f6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9cf2516251c5379d3e8429342e8a392df81b9aaa", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE/eIgxqeZJjOKNfzocPcKOXndztMFAl/SpaIACgkQcPcKOXnd\nztMtmQ//TjFK1kGpPoeH5KzYMxJg9FtEnpu0qXM4dTdwGGmEraJ4bCCWy7GvqCfS\nsg3ilda0UNdLKPqcyTveVWqb+sLKyAQinLe/uXJC6PSWHJNx507fW2BIg9LbekcG\nz5NcXKsD3J8Do7BlewVd4HEDPjUUI7VhZcrhcyS44x9BOEl+ia4khxj8JrotssM8\nC8MyGBbd7lIB/usPCvXuu/bWJefu2AaNR7u2KZnVUHm7FgPQJM39ckbYeWc5b4Ks\ncU+O0huU8/GUNHV68lI1336zzzFKTXiDJeFMNbDJjCyN+fOHHSRyPYqVgNiP263d\nDgssFdFpRDiJSRiWaMcreJLC72VQaiXnuZwkmVHXWaPT4yhdDlJCSjbNOXCpyQFo\ntEfNlDrVInV/eVBA/MXiBWlg5i9zrFezprEPwgEImM1m1ZbQktl6UHqUmv9JH2cH\no/w22+R4VN+hREXzFCCjAZpOg4KexuZ9lWnDQA24sZMLedzuqY8wCpzNxRTW/Gbe\nNEEkeCI9+f+uZ82uqdul3gNEC1VYJPNrFqtUcf1qLChCNVgA+WPGd/LaRsqmZZ7J\ntKnziJcT7BgjrEZ6Nwkq3KlH5zGMm5fsgiE6G+VrXChwLiv1w6/WP+LR5IUNB/ZJ\n0AtNnBnRI/UsR0aR9/hRSIgPrs+rfV78gxyJTucaoED0EkDlMmA=\n=rtxf\n-----END PGP SIGNATURE-----", "payload": "tree c8cbb1c0e24fbaf766e25621594e7919103003f6\nparent d32c320d7eee56706486fef6be778495303afe9e\nauthor William Woodruff <william@trailofbits.com> 1607640448 -0500\ncommitter William Woodruff <william@trailofbits.com> 1607640448 -0500\n\ndoc(array,vec): add notes about side effects when empty-initializing\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9cf2516251c5379d3e8429342e8a392df81b9aaa", "html_url": "https://github.com/rust-lang/rust/commit/9cf2516251c5379d3e8429342e8a392df81b9aaa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9cf2516251c5379d3e8429342e8a392df81b9aaa/comments", "author": {"login": "woodruffw", "id": 3059210, "node_id": "MDQ6VXNlcjMwNTkyMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3059210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodruffw", "html_url": "https://github.com/woodruffw", "followers_url": "https://api.github.com/users/woodruffw/followers", "following_url": "https://api.github.com/users/woodruffw/following{/other_user}", "gists_url": "https://api.github.com/users/woodruffw/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodruffw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodruffw/subscriptions", "organizations_url": "https://api.github.com/users/woodruffw/orgs", "repos_url": "https://api.github.com/users/woodruffw/repos", "events_url": "https://api.github.com/users/woodruffw/events{/privacy}", "received_events_url": "https://api.github.com/users/woodruffw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "woodruffw", "id": 3059210, "node_id": "MDQ6VXNlcjMwNTkyMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3059210?v=4", "gravatar_id": "", "url": "https://api.github.com/users/woodruffw", "html_url": "https://github.com/woodruffw", "followers_url": "https://api.github.com/users/woodruffw/followers", "following_url": "https://api.github.com/users/woodruffw/following{/other_user}", "gists_url": "https://api.github.com/users/woodruffw/gists{/gist_id}", "starred_url": "https://api.github.com/users/woodruffw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/woodruffw/subscriptions", "organizations_url": "https://api.github.com/users/woodruffw/orgs", "repos_url": "https://api.github.com/users/woodruffw/repos", "events_url": "https://api.github.com/users/woodruffw/events{/privacy}", "received_events_url": "https://api.github.com/users/woodruffw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d32c320d7eee56706486fef6be778495303afe9e", "url": "https://api.github.com/repos/rust-lang/rust/commits/d32c320d7eee56706486fef6be778495303afe9e", "html_url": "https://github.com/rust-lang/rust/commit/d32c320d7eee56706486fef6be778495303afe9e"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "bbff1d3dc4d2ea5c48dca7dc33232ec0aae89ff0", "filename": "library/alloc/src/macros.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/9cf2516251c5379d3e8429342e8a392df81b9aaa/library%2Falloc%2Fsrc%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cf2516251c5379d3e8429342e8a392df81b9aaa/library%2Falloc%2Fsrc%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fmacros.rs?ref=9cf2516251c5379d3e8429342e8a392df81b9aaa", "patch": "@@ -29,6 +29,9 @@\n /// to the same boxed integer value, not five references pointing to independently\n /// boxed integers.\n ///\n+/// Also, note that `[T; 0]` is a valid initializer. This will initialize (or call)\n+/// `T` but not populate the vector with it, so be mindful of side effects.\n+///\n /// [`Vec`]: crate::vec::Vec\n #[cfg(not(test))]\n #[macro_export]"}, {"sha": "b22adbbe3d3566e90cb437d32e3035028e1d05da", "filename": "library/std/src/primitive_docs.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/9cf2516251c5379d3e8429342e8a392df81b9aaa/library%2Fstd%2Fsrc%2Fprimitive_docs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9cf2516251c5379d3e8429342e8a392df81b9aaa/library%2Fstd%2Fsrc%2Fprimitive_docs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fprimitive_docs.rs?ref=9cf2516251c5379d3e8429342e8a392df81b9aaa", "patch": "@@ -489,6 +489,9 @@ mod prim_pointer {}\n /// * A repeat expression `[x; N]`, which produces an array with `N` copies of `x`.\n ///   The type of `x` must be [`Copy`].\n ///\n+/// Note that `[x; 0]` is a valid repeat expression. This will produce an empty array\n+/// but will also initialize (or call) `x`, which may produce side effects.\n+///\n /// Arrays of *any* size implement the following traits if the element type allows it:\n ///\n /// - [`Copy`]"}]}