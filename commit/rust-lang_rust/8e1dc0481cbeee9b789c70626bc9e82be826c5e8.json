{"sha": "8e1dc0481cbeee9b789c70626bc9e82be826c5e8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhlMWRjMDQ4MWNiZWVlOWI3ODljNzA2MjZiYzllODJiZTgyNmM1ZTg=", "commit": {"author": {"name": "Carol (Nichols || Goulding)", "email": "carol.nichols@gmail.com", "date": "2016-06-08T23:58:29Z"}, "committer": {"name": "Carol (Nichols || Goulding)", "email": "carol.nichols@gmail.com", "date": "2016-06-08T23:58:29Z"}, "message": "Include `consts` in the approx_consts lint for easier copypasting\n\nIf you try to use `f64::PI`, it won't work-- you need to use\n`f64::consts::PI`, so suggest that in the lint message.", "tree": {"sha": "643fe798b3a48a5644cea50e592a56ec90c3c34e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/643fe798b3a48a5644cea50e592a56ec90c3c34e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8e1dc0481cbeee9b789c70626bc9e82be826c5e8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8e1dc0481cbeee9b789c70626bc9e82be826c5e8", "html_url": "https://github.com/rust-lang/rust/commit/8e1dc0481cbeee9b789c70626bc9e82be826c5e8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8e1dc0481cbeee9b789c70626bc9e82be826c5e8/comments", "author": {"login": "carols10cents", "id": 193874, "node_id": "MDQ6VXNlcjE5Mzg3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/193874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carols10cents", "html_url": "https://github.com/carols10cents", "followers_url": "https://api.github.com/users/carols10cents/followers", "following_url": "https://api.github.com/users/carols10cents/following{/other_user}", "gists_url": "https://api.github.com/users/carols10cents/gists{/gist_id}", "starred_url": "https://api.github.com/users/carols10cents/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carols10cents/subscriptions", "organizations_url": "https://api.github.com/users/carols10cents/orgs", "repos_url": "https://api.github.com/users/carols10cents/repos", "events_url": "https://api.github.com/users/carols10cents/events{/privacy}", "received_events_url": "https://api.github.com/users/carols10cents/received_events", "type": "User", "site_admin": false}, "committer": {"login": "carols10cents", "id": 193874, "node_id": "MDQ6VXNlcjE5Mzg3NA==", "avatar_url": "https://avatars.githubusercontent.com/u/193874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carols10cents", "html_url": "https://github.com/carols10cents", "followers_url": "https://api.github.com/users/carols10cents/followers", "following_url": "https://api.github.com/users/carols10cents/following{/other_user}", "gists_url": "https://api.github.com/users/carols10cents/gists{/gist_id}", "starred_url": "https://api.github.com/users/carols10cents/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carols10cents/subscriptions", "organizations_url": "https://api.github.com/users/carols10cents/orgs", "repos_url": "https://api.github.com/users/carols10cents/repos", "events_url": "https://api.github.com/users/carols10cents/events{/privacy}", "received_events_url": "https://api.github.com/users/carols10cents/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "94cc344b07382cdd18c4c95142aa8818e0d19557", "url": "https://api.github.com/repos/rust-lang/rust/commits/94cc344b07382cdd18c4c95142aa8818e0d19557", "html_url": "https://github.com/rust-lang/rust/commit/94cc344b07382cdd18c4c95142aa8818e0d19557"}], "stats": {"total": 40, "additions": 20, "deletions": 20}, "files": [{"sha": "6d842ce64fc2f83bb49b5e9c929f0c997c955d7d", "filename": "clippy_lints/src/approx_const.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8e1dc0481cbeee9b789c70626bc9e82be826c5e8/clippy_lints%2Fsrc%2Fapprox_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8e1dc0481cbeee9b789c70626bc9e82be826c5e8/clippy_lints%2Fsrc%2Fapprox_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fapprox_const.rs?ref=8e1dc0481cbeee9b789c70626bc9e82be826c5e8", "patch": "@@ -69,7 +69,7 @@ fn check_known_consts(cx: &LateContext, e: &Expr, s: &str, module: &str) {\n                 span_lint(cx,\n                           APPROX_CONSTANT,\n                           e.span,\n-                          &format!(\"approximate value of `{}::{}` found. Consider using it directly\", module, &name));\n+                          &format!(\"approximate value of `{}::consts::{}` found. Consider using it directly\", module, &name));\n                 return;\n             }\n         }"}, {"sha": "2240c3799a3c91e1ff141d61a92b35be9f73a15f", "filename": "tests/compile-fail/approx_const.rs", "status": "modified", "additions": 19, "deletions": 19, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/8e1dc0481cbeee9b789c70626bc9e82be826c5e8/tests%2Fcompile-fail%2Fapprox_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8e1dc0481cbeee9b789c70626bc9e82be826c5e8/tests%2Fcompile-fail%2Fapprox_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fapprox_const.rs?ref=8e1dc0481cbeee9b789c70626bc9e82be826c5e8", "patch": "@@ -4,54 +4,54 @@\n #[deny(approx_constant)]\n #[allow(unused, shadow_unrelated, similar_names)]\n fn main() {\n-    let my_e = 2.7182; //~ERROR approximate value of `f{32, 64}::E` found\n-    let almost_e = 2.718; //~ERROR approximate value of `f{32, 64}::E` found\n+    let my_e = 2.7182; //~ERROR approximate value of `f{32, 64}::consts::E` found\n+    let almost_e = 2.718; //~ERROR approximate value of `f{32, 64}::consts::E` found\n     let no_e = 2.71;\n \n-    let my_1_frac_pi = 0.3183; //~ERROR approximate value of `f{32, 64}::FRAC_1_PI` found\n+    let my_1_frac_pi = 0.3183; //~ERROR approximate value of `f{32, 64}::consts::FRAC_1_PI` found\n     let no_1_frac_pi = 0.31;\n \n-    let my_frac_1_sqrt_2 = 0.70710678; //~ERROR approximate value of `f{32, 64}::FRAC_1_SQRT_2` found\n-    let almost_frac_1_sqrt_2 = 0.70711; //~ERROR approximate value of `f{32, 64}::FRAC_1_SQRT_2` found\n+    let my_frac_1_sqrt_2 = 0.70710678; //~ERROR approximate value of `f{32, 64}::consts::FRAC_1_SQRT_2` found\n+    let almost_frac_1_sqrt_2 = 0.70711; //~ERROR approximate value of `f{32, 64}::consts::FRAC_1_SQRT_2` found\n     let my_frac_1_sqrt_2 = 0.707;\n \n-    let my_frac_2_pi = 0.63661977; //~ERROR approximate value of `f{32, 64}::FRAC_2_PI` found\n+    let my_frac_2_pi = 0.63661977; //~ERROR approximate value of `f{32, 64}::consts::FRAC_2_PI` found\n     let no_frac_2_pi = 0.636;\n \n-    let my_frac_2_sq_pi = 1.128379; //~ERROR approximate value of `f{32, 64}::FRAC_2_SQRT_PI` found\n+    let my_frac_2_sq_pi = 1.128379; //~ERROR approximate value of `f{32, 64}::consts::FRAC_2_SQRT_PI` found\n     let no_frac_2_sq_pi = 1.128;\n \n-    let my_frac_pi_2 = 1.57079632679; //~ERROR approximate value of `f{32, 64}::FRAC_PI_2` found\n+    let my_frac_pi_2 = 1.57079632679; //~ERROR approximate value of `f{32, 64}::consts::FRAC_PI_2` found\n     let no_frac_pi_2 = 1.5705;\n \n-    let my_frac_pi_3 = 1.04719755119; //~ERROR approximate value of `f{32, 64}::FRAC_PI_3` found\n+    let my_frac_pi_3 = 1.04719755119; //~ERROR approximate value of `f{32, 64}::consts::FRAC_PI_3` found\n     let no_frac_pi_3 = 1.047;\n \n-    let my_frac_pi_4 = 0.785398163397; //~ERROR approximate value of `f{32, 64}::FRAC_PI_4` found\n+    let my_frac_pi_4 = 0.785398163397; //~ERROR approximate value of `f{32, 64}::consts::FRAC_PI_4` found\n     let no_frac_pi_4 = 0.785;\n \n-    let my_frac_pi_6 = 0.523598775598; //~ERROR approximate value of `f{32, 64}::FRAC_PI_6` found\n+    let my_frac_pi_6 = 0.523598775598; //~ERROR approximate value of `f{32, 64}::consts::FRAC_PI_6` found\n     let no_frac_pi_6 = 0.523;\n \n-    let my_frac_pi_8 = 0.3926990816987; //~ERROR approximate value of `f{32, 64}::FRAC_PI_8` found\n+    let my_frac_pi_8 = 0.3926990816987; //~ERROR approximate value of `f{32, 64}::consts::FRAC_PI_8` found\n     let no_frac_pi_8 = 0.392;\n \n-    let my_ln_10 = 2.302585092994046; //~ERROR approximate value of `f{32, 64}::LN_10` found\n+    let my_ln_10 = 2.302585092994046; //~ERROR approximate value of `f{32, 64}::consts::LN_10` found\n     let no_ln_10 = 2.303;\n \n-    let my_ln_2 = 0.6931471805599453; //~ERROR approximate value of `f{32, 64}::LN_2` found\n+    let my_ln_2 = 0.6931471805599453; //~ERROR approximate value of `f{32, 64}::consts::LN_2` found\n     let no_ln_2 = 0.693;\n \n-    let my_log10_e = 0.43429448190325182; //~ERROR approximate value of `f{32, 64}::LOG10_E` found\n+    let my_log10_e = 0.43429448190325182; //~ERROR approximate value of `f{32, 64}::consts::LOG10_E` found\n     let no_log10_e = 0.434;\n \n-    let my_log2_e = 1.4426950408889634; //~ERROR approximate value of `f{32, 64}::LOG2_E` found\n+    let my_log2_e = 1.4426950408889634; //~ERROR approximate value of `f{32, 64}::consts::LOG2_E` found\n     let no_log2_e = 1.442;\n \n-    let my_pi = 3.1415; //~ERROR approximate value of `f{32, 64}::PI` found\n-    let almost_pi = 3.14; //~ERROR approximate value of `f{32, 64}::PI` found\n+    let my_pi = 3.1415; //~ERROR approximate value of `f{32, 64}::consts::PI` found\n+    let almost_pi = 3.14; //~ERROR approximate value of `f{32, 64}::consts::PI` found\n     let no_pi = 3.15;\n \n-    let my_sq2 = 1.4142; //~ERROR approximate value of `f{32, 64}::SQRT_2` found\n+    let my_sq2 = 1.4142; //~ERROR approximate value of `f{32, 64}::consts::SQRT_2` found\n     let no_sq2 = 1.414;\n }"}]}