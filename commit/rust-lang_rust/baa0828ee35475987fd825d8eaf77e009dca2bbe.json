{"sha": "baa0828ee35475987fd825d8eaf77e009dca2bbe", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJhYTA4MjhlZTM1NDc1OTg3ZmQ4MjVkOGVhZjc3ZTAwOWRjYTJiYmU=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-01-24T18:53:43Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-01-24T18:53:43Z"}, "message": "Fix --compare-mode=nll tests", "tree": {"sha": "cf3f9ad1fd2cc7b63d93ceb031e2c3b3673bec6a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cf3f9ad1fd2cc7b63d93ceb031e2c3b3673bec6a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/baa0828ee35475987fd825d8eaf77e009dca2bbe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/baa0828ee35475987fd825d8eaf77e009dca2bbe", "html_url": "https://github.com/rust-lang/rust/commit/baa0828ee35475987fd825d8eaf77e009dca2bbe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/baa0828ee35475987fd825d8eaf77e009dca2bbe/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "29e8e63c84a597886c10eef6d4f04a462238133a", "url": "https://api.github.com/repos/rust-lang/rust/commits/29e8e63c84a597886c10eef6d4f04a462238133a", "html_url": "https://github.com/rust-lang/rust/commit/29e8e63c84a597886c10eef6d4f04a462238133a"}], "stats": {"total": 632, "additions": 493, "deletions": 139}, "files": [{"sha": "59b5aba93cad4664d6554d1e27d364997f5eb38d", "filename": "src/test/ui/binop/binop-consume-args.nll.stderr", "status": "added", "additions": 253, "deletions": 0, "changes": 253, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fbinop%2Fbinop-consume-args.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fbinop%2Fbinop-consume-args.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbinop%2Fbinop-consume-args.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -0,0 +1,253 @@\n+error[E0382]: use of moved value: `lhs`\n+  --> $DIR/binop-consume-args.rs:7:10\n+   |\n+LL | fn add<A: Add<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |        -                        --- move occurs because `lhs` has type `A`, which does not implement the `Copy` trait\n+   |        |\n+   |        consider adding a `Copy` constraint to this type argument\n+LL |     lhs + rhs;\n+   |     --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `rhs`\n+  --> $DIR/binop-consume-args.rs:8:10\n+   |\n+LL | fn add<A: Add<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |                              -          --- move occurs because `rhs` has type `B`, which does not implement the `Copy` trait\n+   |                              |\n+   |                              consider adding a `Copy` constraint to this type argument\n+LL |     lhs + rhs;\n+   |           --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+LL |     drop(rhs);  //~ ERROR use of moved value: `rhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `lhs`\n+  --> $DIR/binop-consume-args.rs:13:10\n+   |\n+LL | fn sub<A: Sub<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |        -                        --- move occurs because `lhs` has type `A`, which does not implement the `Copy` trait\n+   |        |\n+   |        consider adding a `Copy` constraint to this type argument\n+LL |     lhs - rhs;\n+   |     --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `rhs`\n+  --> $DIR/binop-consume-args.rs:14:10\n+   |\n+LL | fn sub<A: Sub<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |                              -          --- move occurs because `rhs` has type `B`, which does not implement the `Copy` trait\n+   |                              |\n+   |                              consider adding a `Copy` constraint to this type argument\n+LL |     lhs - rhs;\n+   |           --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+LL |     drop(rhs);  //~ ERROR use of moved value: `rhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `lhs`\n+  --> $DIR/binop-consume-args.rs:19:10\n+   |\n+LL | fn mul<A: Mul<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |        -                        --- move occurs because `lhs` has type `A`, which does not implement the `Copy` trait\n+   |        |\n+   |        consider adding a `Copy` constraint to this type argument\n+LL |     lhs * rhs;\n+   |     --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `rhs`\n+  --> $DIR/binop-consume-args.rs:20:10\n+   |\n+LL | fn mul<A: Mul<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |                              -          --- move occurs because `rhs` has type `B`, which does not implement the `Copy` trait\n+   |                              |\n+   |                              consider adding a `Copy` constraint to this type argument\n+LL |     lhs * rhs;\n+   |           --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+LL |     drop(rhs);  //~ ERROR use of moved value: `rhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `lhs`\n+  --> $DIR/binop-consume-args.rs:25:10\n+   |\n+LL | fn div<A: Div<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |        -                        --- move occurs because `lhs` has type `A`, which does not implement the `Copy` trait\n+   |        |\n+   |        consider adding a `Copy` constraint to this type argument\n+LL |     lhs / rhs;\n+   |     --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `rhs`\n+  --> $DIR/binop-consume-args.rs:26:10\n+   |\n+LL | fn div<A: Div<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |                              -          --- move occurs because `rhs` has type `B`, which does not implement the `Copy` trait\n+   |                              |\n+   |                              consider adding a `Copy` constraint to this type argument\n+LL |     lhs / rhs;\n+   |           --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+LL |     drop(rhs);  //~ ERROR use of moved value: `rhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `lhs`\n+  --> $DIR/binop-consume-args.rs:31:10\n+   |\n+LL | fn rem<A: Rem<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |        -                        --- move occurs because `lhs` has type `A`, which does not implement the `Copy` trait\n+   |        |\n+   |        consider adding a `Copy` constraint to this type argument\n+LL |     lhs % rhs;\n+   |     --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `rhs`\n+  --> $DIR/binop-consume-args.rs:32:10\n+   |\n+LL | fn rem<A: Rem<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |                              -          --- move occurs because `rhs` has type `B`, which does not implement the `Copy` trait\n+   |                              |\n+   |                              consider adding a `Copy` constraint to this type argument\n+LL |     lhs % rhs;\n+   |           --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+LL |     drop(rhs);  //~ ERROR use of moved value: `rhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `lhs`\n+  --> $DIR/binop-consume-args.rs:37:10\n+   |\n+LL | fn bitand<A: BitAnd<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |           -                           --- move occurs because `lhs` has type `A`, which does not implement the `Copy` trait\n+   |           |\n+   |           consider adding a `Copy` constraint to this type argument\n+LL |     lhs & rhs;\n+   |     --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `rhs`\n+  --> $DIR/binop-consume-args.rs:38:10\n+   |\n+LL | fn bitand<A: BitAnd<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |                                    -          --- move occurs because `rhs` has type `B`, which does not implement the `Copy` trait\n+   |                                    |\n+   |                                    consider adding a `Copy` constraint to this type argument\n+LL |     lhs & rhs;\n+   |           --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+LL |     drop(rhs);  //~ ERROR use of moved value: `rhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `lhs`\n+  --> $DIR/binop-consume-args.rs:43:10\n+   |\n+LL | fn bitor<A: BitOr<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |          -                          --- move occurs because `lhs` has type `A`, which does not implement the `Copy` trait\n+   |          |\n+   |          consider adding a `Copy` constraint to this type argument\n+LL |     lhs | rhs;\n+   |     --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `rhs`\n+  --> $DIR/binop-consume-args.rs:44:10\n+   |\n+LL | fn bitor<A: BitOr<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |                                  -          --- move occurs because `rhs` has type `B`, which does not implement the `Copy` trait\n+   |                                  |\n+   |                                  consider adding a `Copy` constraint to this type argument\n+LL |     lhs | rhs;\n+   |           --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+LL |     drop(rhs);  //~ ERROR use of moved value: `rhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `lhs`\n+  --> $DIR/binop-consume-args.rs:49:10\n+   |\n+LL | fn bitxor<A: BitXor<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |           -                           --- move occurs because `lhs` has type `A`, which does not implement the `Copy` trait\n+   |           |\n+   |           consider adding a `Copy` constraint to this type argument\n+LL |     lhs ^ rhs;\n+   |     --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `rhs`\n+  --> $DIR/binop-consume-args.rs:50:10\n+   |\n+LL | fn bitxor<A: BitXor<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |                                    -          --- move occurs because `rhs` has type `B`, which does not implement the `Copy` trait\n+   |                                    |\n+   |                                    consider adding a `Copy` constraint to this type argument\n+LL |     lhs ^ rhs;\n+   |           --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+LL |     drop(rhs);  //~ ERROR use of moved value: `rhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `lhs`\n+  --> $DIR/binop-consume-args.rs:55:10\n+   |\n+LL | fn shl<A: Shl<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |        -                        --- move occurs because `lhs` has type `A`, which does not implement the `Copy` trait\n+   |        |\n+   |        consider adding a `Copy` constraint to this type argument\n+LL |     lhs << rhs;\n+   |     --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `rhs`\n+  --> $DIR/binop-consume-args.rs:56:10\n+   |\n+LL | fn shl<A: Shl<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |                              -          --- move occurs because `rhs` has type `B`, which does not implement the `Copy` trait\n+   |                              |\n+   |                              consider adding a `Copy` constraint to this type argument\n+LL |     lhs << rhs;\n+   |            --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+LL |     drop(rhs);  //~ ERROR use of moved value: `rhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `lhs`\n+  --> $DIR/binop-consume-args.rs:61:10\n+   |\n+LL | fn shr<A: Shr<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |        -                        --- move occurs because `lhs` has type `A`, which does not implement the `Copy` trait\n+   |        |\n+   |        consider adding a `Copy` constraint to this type argument\n+LL |     lhs >> rhs;\n+   |     --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+   |          ^^^ value used here after move\n+\n+error[E0382]: use of moved value: `rhs`\n+  --> $DIR/binop-consume-args.rs:62:10\n+   |\n+LL | fn shr<A: Shr<B, Output=()>, B>(lhs: A, rhs: B) {\n+   |                              -          --- move occurs because `rhs` has type `B`, which does not implement the `Copy` trait\n+   |                              |\n+   |                              consider adding a `Copy` constraint to this type argument\n+LL |     lhs >> rhs;\n+   |            --- value moved here\n+LL |     drop(lhs);  //~ ERROR use of moved value: `lhs`\n+LL |     drop(rhs);  //~ ERROR use of moved value: `rhs`\n+   |          ^^^ value used here after move\n+\n+error: aborting due to 20 previous errors\n+\n+For more information about this error, try `rustc --explain E0382`."}, {"sha": "7c84e8833a9e6dfb860094e54cb2887762721c6d", "filename": "src/test/ui/binop/binop-move-semantics.nll.stderr", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fbinop%2Fbinop-move-semantics.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fbinop%2Fbinop-move-semantics.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbinop%2Fbinop-move-semantics.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,24 +1,28 @@\n error[E0382]: use of moved value: `x`\n   --> $DIR/binop-move-semantics.rs:8:5\n    |\n+LL | fn double_move<T: Add<Output=()>>(x: T) {\n+   |                -                  - move occurs because `x` has type `T`, which does not implement the `Copy` trait\n+   |                |\n+   |                consider adding a `Copy` constraint to this type argument\n LL |     x\n    |     - value moved here\n LL |     +\n LL |     x;  //~ ERROR: use of moved value\n    |     ^ value used here after move\n-   |\n-   = note: move occurs because `x` has type `T`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/binop-move-semantics.rs:14:5\n    |\n+LL | fn move_then_borrow<T: Add<Output=()> + Clone>(x: T) {\n+   |                     -                          - move occurs because `x` has type `T`, which does not implement the `Copy` trait\n+   |                     |\n+   |                     consider adding a `Copy` constraint to this type argument\n LL |     x\n    |     - value moved here\n LL |     +\n LL |     x.clone();  //~ ERROR: use of moved value\n    |     ^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `T`, which does not implement the `Copy` trait\n \n error[E0505]: cannot move out of `x` because it is borrowed\n   --> $DIR/binop-move-semantics.rs:21:5"}, {"sha": "86e4832b3873ce49ae1bc09a2247e1b3e5af6fde", "filename": "src/test/ui/borrowck/borrowck-asm.ast.nll.stderr", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-asm.ast.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-asm.ast.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-asm.ast.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,13 +1,14 @@\n error[E0382]: use of moved value: `x`\n   --> $DIR/borrowck-asm.rs:27:17\n    |\n+LL |         let x = &mut 0isize;\n+   |             - move occurs because `x` has type `&mut isize`, which does not implement the `Copy` trait\n+LL |         unsafe {\n LL |             asm!(\"nop\" : : \"r\"(x));\n    |                                - value moved here\n LL |         }\n LL |         let z = x;  //[ast]~ ERROR use of moved value: `x`\n    |                 ^ value used here after move\n-   |\n-   = note: move occurs because `x` has type `&mut isize`, which does not implement the `Copy` trait\n \n error[E0503]: cannot use `x` because it was mutably borrowed\n   --> $DIR/borrowck-asm.rs:35:32\n@@ -66,12 +67,13 @@ LL |         let z = y;\n error[E0382]: use of moved value: `x`\n   --> $DIR/borrowck-asm.rs:86:40\n    |\n+LL |         let x = &mut 2;\n+   |             - move occurs because `x` has type `&mut i32`, which does not implement the `Copy` trait\n+LL |         unsafe {\n LL |             asm!(\"nop\" : : \"r\"(x), \"r\"(x) );    //[ast]~ ERROR use of moved value\n    |                                -       ^ value used here after move\n    |                                |\n    |                                value moved here\n-   |\n-   = note: move occurs because `x` has type `&mut i32`, which does not implement the `Copy` trait\n \n error: aborting due to 7 previous errors\n "}, {"sha": "ea7683a91adfe92d21d6bb8a2cd7e1cd79fcb954", "filename": "src/test/ui/borrowck/borrowck-consume-unsize-vec.nll.stderr", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-consume-unsize-vec.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-consume-unsize-vec.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-consume-unsize-vec.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -0,0 +1,13 @@\n+error[E0382]: use of moved value: `b`\n+  --> $DIR/borrowck-consume-unsize-vec.rs:8:13\n+   |\n+LL | fn foo(b: Box<[i32;5]>) {\n+   |        - move occurs because `b` has type `std::boxed::Box<[i32; 5]>`, which does not implement the `Copy` trait\n+LL |     consume(b);\n+   |             - value moved here\n+LL |     consume(b); //~ ERROR use of moved value\n+   |             ^ value used here after move\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0382`."}, {"sha": "15cf359326be96aea02e028e6ea26ba6a6d351c2", "filename": "src/test/ui/borrowck/borrowck-consume-upcast-box.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-consume-upcast-box.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-consume-upcast-box.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-consume-upcast-box.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: use of moved value: `b`\n   --> $DIR/borrowck-consume-upcast-box.rs:10:13\n    |\n+LL | fn foo(b: Box<Foo+Send>) {\n+   |        - move occurs because `b` has type `std::boxed::Box<dyn Foo + std::marker::Send>`, which does not implement the `Copy` trait\n LL |     consume(b);\n    |             - value moved here\n LL |     consume(b); //~ ERROR use of moved value\n    |             ^ value used here after move\n-   |\n-   = note: move occurs because `b` has type `std::boxed::Box<dyn Foo + std::marker::Send>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "095ae7f56b22e5643219552e332d6538596c2a4c", "filename": "src/test/ui/borrowck/borrowck-loan-in-overloaded-op.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-loan-in-overloaded-op.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-loan-in-overloaded-op.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-loan-in-overloaded-op.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: borrow of moved value: `x`\n   --> $DIR/borrowck-loan-in-overloaded-op.rs:21:20\n    |\n+LL |     let x = Foo(box 3);\n+   |         - move occurs because `x` has type `Foo`, which does not implement the `Copy` trait\n LL |     let _y = {x} + x.clone(); // the `{x}` forces a move to occur\n    |               -    ^ value borrowed here after move\n    |               |\n    |               value moved here\n-   |\n-   = note: move occurs because `x` has type `Foo`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "0789926563ce7fe6fdfcd07de377a7d2435cc185", "filename": "src/test/ui/borrowck/borrowck-move-moved-value-into-closure.ast.nll.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-move-moved-value-into-closure.ast.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-move-moved-value-into-closure.ast.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-move-moved-value-into-closure.ast.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,6 +1,9 @@\n error[E0382]: use of moved value: `t`\n   --> $DIR/borrowck-move-moved-value-into-closure.rs:14:12\n    |\n+LL |     let t: Box<_> = box 3;\n+   |         - move occurs because `t` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n+LL | \n LL |     call_f(move|| { *t + 1 });\n    |            ------    - variable moved due to use in closure\n    |            |\n@@ -9,8 +12,6 @@ LL |     call_f(move|| { *t + 1 }); //[ast]~ ERROR capture of moved value\n    |            ^^^^^^    - use occurs due to use in closure\n    |            |\n    |            value used here after move\n-   |\n-   = note: move occurs because `t` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "d0065a2e7dc3d817ee80f60761804a3b0403a91f", "filename": "src/test/ui/borrowck/borrowck-multiple-captures.nll.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-multiple-captures.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-multiple-captures.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-multiple-captures.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -29,28 +29,28 @@ LL |     borrow(&*p2);\n error[E0382]: use of moved value: `x1`\n   --> $DIR/borrowck-multiple-captures.rs:25:19\n    |\n+LL |     let x1: Box<_> = box 1;\n+   |         -- move occurs because `x1` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n LL |     drop(x1);\n    |          -- value moved here\n ...\n LL |     thread::spawn(move|| {\n    |                   ^^^^^^ value used here after move\n LL |         drop(x1); //~ ERROR capture of moved value: `x1`\n    |              -- use occurs due to use in closure\n-   |\n-   = note: move occurs because `x1` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `x2`\n   --> $DIR/borrowck-multiple-captures.rs:25:19\n    |\n+LL |     let x2: Box<_> = box 2;\n+   |         -- move occurs because `x2` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n LL |     drop(x2);\n    |          -- value moved here\n LL |     thread::spawn(move|| {\n    |                   ^^^^^^ value used here after move\n LL |         drop(x1); //~ ERROR capture of moved value: `x1`\n LL |         drop(x2); //~ ERROR capture of moved value: `x2`\n    |              -- use occurs due to use in closure\n-   |\n-   = note: move occurs because `x2` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `x`\n   --> $DIR/borrowck-multiple-captures.rs:36:14\n@@ -88,14 +88,14 @@ LL |         drop(x); //~ ERROR use of moved value: `x`\n error[E0382]: use of moved value: `x`\n   --> $DIR/borrowck-multiple-captures.rs:44:19\n    |\n+LL |     let x: Box<_> = box 1;\n+   |         - move occurs because `x` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n LL |     drop(x);\n    |          - value moved here\n LL |     thread::spawn(move|| {\n    |                   ^^^^^^ value used here after move\n LL |         drop(x); //~ ERROR capture of moved value: `x`\n    |              - use occurs due to use in closure\n-   |\n-   = note: move occurs because `x` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n \n error: aborting due to 8 previous errors\n "}, {"sha": "c5a4c4e005aa7d8177ee6e85b37b13ddd5766758", "filename": "src/test/ui/borrowck/borrowck-overloaded-call.nll.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-overloaded-call.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-overloaded-call.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-overloaded-call.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -20,12 +20,13 @@ LL |     s(3);   //~ ERROR cannot borrow immutable local variable `s` as mutable\n error[E0382]: use of moved value: `s`\n   --> $DIR/borrowck-overloaded-call.rs:75:5\n    |\n+LL |     let s = SFnOnce {\n+   |         - move occurs because `s` has type `SFnOnce`, which does not implement the `Copy` trait\n+...\n LL |     s(\" world\".to_string());\n    |     - value moved here\n LL |     s(\" world\".to_string());    //~ ERROR use of moved value: `s`\n    |     ^ value used here after move\n-   |\n-   = note: move occurs because `s` has type `SFnOnce`, which does not implement the `Copy` trait\n \n error: aborting due to 3 previous errors\n "}, {"sha": "de60067f1a613702080d4b60dccd47cbad3177bf", "filename": "src/test/ui/borrowck/borrowck-overloaded-index-move-index.nll.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-overloaded-index-move-index.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-overloaded-index-move-index.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-overloaded-index-move-index.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -25,13 +25,14 @@ LL |     use_mut(rs);\n error[E0382]: use of moved value: `s`\n   --> $DIR/borrowck-overloaded-index-move-index.rs:53:7\n    |\n+LL |     let mut s = \"hello\".to_string();\n+   |         ----- move occurs because `s` has type `std::string::String`, which does not implement the `Copy` trait\n+...\n LL |     println!(\"{}\", f[s]);\n    |                      - value moved here\n ...\n LL |     f[s] = 10;\n    |       ^ value used here after move\n-   |\n-   = note: move occurs because `s` has type `std::string::String`, which does not implement the `Copy` trait\n \n error: aborting due to 3 previous errors\n "}, {"sha": "65f2bd6cfbda9c1b113e6f511051aa3f7f2dd0f0", "filename": "src/test/ui/borrowck/borrowck-partial-reinit-1.nll.stderr", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-partial-reinit-1.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-partial-reinit-1.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-partial-reinit-1.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,22 +1,24 @@\n error[E0382]: assign of moved value: `t`\n   --> $DIR/borrowck-partial-reinit-1.rs:27:5\n    |\n+LL |     let mut t = Test2 { b: None };\n+   |         ----- move occurs because `t` has type `Test2`, which does not implement the `Copy` trait\n+LL |     let u = Test;\n LL |     drop(t);\n    |          - value moved here\n LL |     t.b = Some(u);\n    |     ^^^ value assigned here after move\n-   |\n-   = note: move occurs because `t` has type `Test2`, which does not implement the `Copy` trait\n \n error[E0382]: assign of moved value: `t`\n   --> $DIR/borrowck-partial-reinit-1.rs:33:5\n    |\n+LL |     let mut t = Test3(None);\n+   |         ----- move occurs because `t` has type `Test3`, which does not implement the `Copy` trait\n+LL |     let u = Test;\n LL |     drop(t);\n    |          - value moved here\n LL |     t.0 = Some(u);\n    |     ^^^ value assigned here after move\n-   |\n-   = note: move occurs because `t` has type `Test3`, which does not implement the `Copy` trait\n \n error: aborting due to 2 previous errors\n "}, {"sha": "36a871fbb12a18d2bc2ef5e59f113be8b3a6bd01", "filename": "src/test/ui/borrowck/borrowck-partial-reinit-2.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-partial-reinit-2.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-partial-reinit-2.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-partial-reinit-2.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: assign of moved value: `t`\n   --> $DIR/borrowck-partial-reinit-2.rs:15:5\n    |\n+LL |     let mut t = Test { a: 1, b: None};\n+   |         ----- move occurs because `t` has type `Test`, which does not implement the `Copy` trait\n LL |     let mut u = Test { a: 2, b: Some(Box::new(t))};\n    |                                               - value moved here\n LL |     t.b = Some(Box::new(u));\n    |     ^^^ value assigned here after move\n-   |\n-   = note: move occurs because `t` has type `Test`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "363a5a69a07e394db6db4c63cf3706125b45473a", "filename": "src/test/ui/borrowck/borrowck-unboxed-closures.nll.stderr", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-unboxed-closures.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-unboxed-closures.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-unboxed-closures.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -19,12 +19,14 @@ LL |     f(1, 2);    //~ ERROR cannot borrow immutable argument\n error[E0382]: use of moved value: `f`\n   --> $DIR/borrowck-unboxed-closures.rs:12:5\n    |\n+LL | fn c<F:FnOnce(isize, isize) -> isize>(f: F) {\n+   |      -                                - move occurs because `f` has type `F`, which does not implement the `Copy` trait\n+   |      |\n+   |      consider adding a `Copy` constraint to this type argument\n LL |     f(1, 2);\n    |     - value moved here\n LL |     f(1, 2);    //~ ERROR use of moved value\n    |     ^ value used here after move\n-   |\n-   = note: move occurs because `f` has type `F`, which does not implement the `Copy` trait\n \n error: aborting due to 3 previous errors\n "}, {"sha": "e59fef2dc0d2f181305f5869861ac55931ab58b2", "filename": "src/test/ui/borrowck/borrowck-union-move-assign.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-union-move-assign.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-union-move-assign.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-union-move-assign.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: use of moved value: `u`\n   --> $DIR/borrowck-union-move-assign.rs:17:21\n    |\n+LL |             let mut u = U { a: A };\n+   |                 ----- move occurs because `u` has type `U`, which does not implement the `Copy` trait\n LL |             let a = u.a;\n    |                     --- value moved here\n LL |             let a = u.a; //~ ERROR use of moved value: `u.a`\n    |                     ^^^ value used here after move\n-   |\n-   = note: move occurs because `u` has type `U`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "1392a7931c30a157bb0e3f5eaa4e384bebd484c2", "filename": "src/test/ui/borrowck/borrowck-union-move.nll.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-union-move.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-union-move.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Fborrowck-union-move.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,62 +1,62 @@\n error[E0382]: use of moved value: `u`\n   --> $DIR/borrowck-union-move.rs:26:21\n    |\n+LL |             let mut u = Unn { n1: NonCopy };\n+   |                 ----- move occurs because `u` has type `Unn`, which does not implement the `Copy` trait\n LL |             let a = u.n1;\n    |                     ---- value moved here\n LL |             let a = u.n1; //~ ERROR use of moved value: `u.n1`\n    |                     ^^^^ value used here after move\n-   |\n-   = note: move occurs because `u` has type `Unn`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `u`\n   --> $DIR/borrowck-union-move.rs:31:21\n    |\n+LL |             let mut u = Unn { n1: NonCopy };\n+   |                 ----- move occurs because `u` has type `Unn`, which does not implement the `Copy` trait\n LL |             let a = u.n1;\n    |                     ---- value moved here\n LL |             let a = u; //~ ERROR use of partially moved value: `u`\n    |                     ^ value used here after move\n-   |\n-   = note: move occurs because `u` has type `Unn`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `u`\n   --> $DIR/borrowck-union-move.rs:36:21\n    |\n+LL |             let mut u = Unn { n1: NonCopy };\n+   |                 ----- move occurs because `u` has type `Unn`, which does not implement the `Copy` trait\n LL |             let a = u.n1;\n    |                     ---- value moved here\n LL |             let a = u.n2; //~ ERROR use of moved value: `u.n2`\n    |                     ^^^^ value used here after move\n-   |\n-   = note: move occurs because `u` has type `Unn`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `u`\n   --> $DIR/borrowck-union-move.rs:63:21\n    |\n+LL |             let mut u = Ucn { c: Copy };\n+   |                 ----- move occurs because `u` has type `Ucn`, which does not implement the `Copy` trait\n LL |             let a = u.n;\n    |                     --- value moved here\n LL |             let a = u.n; //~ ERROR use of moved value: `u.n`\n    |                     ^^^ value used here after move\n-   |\n-   = note: move occurs because `u` has type `Ucn`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `u`\n   --> $DIR/borrowck-union-move.rs:68:21\n    |\n+LL |             let mut u = Ucn { c: Copy };\n+   |                 ----- move occurs because `u` has type `Ucn`, which does not implement the `Copy` trait\n LL |             let a = u.n;\n    |                     --- value moved here\n LL |             let a = u.c; //~ ERROR use of moved value: `u.c`\n    |                     ^^^ value used here after move\n-   |\n-   = note: move occurs because `u` has type `Ucn`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `u`\n   --> $DIR/borrowck-union-move.rs:83:21\n    |\n+LL |             let mut u = Ucn { c: Copy };\n+   |                 ----- move occurs because `u` has type `Ucn`, which does not implement the `Copy` trait\n LL |             let a = u.n;\n    |                     --- value moved here\n LL |             let a = u; //~ ERROR use of partially moved value: `u`\n    |                     ^ value used here after move\n-   |\n-   = note: move occurs because `u` has type `Ucn`, which does not implement the `Copy` trait\n \n error: aborting due to 6 previous errors\n "}, {"sha": "d026f81b7aad6f2ea7af7620f97c2f02dc0759f2", "filename": "src/test/ui/borrowck/two-phase-nonrecv-autoref.ast.nll.stderr", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Ftwo-phase-nonrecv-autoref.ast.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fborrowck%2Ftwo-phase-nonrecv-autoref.ast.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fborrowck%2Ftwo-phase-nonrecv-autoref.ast.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -10,6 +10,8 @@ LL |         f(f(10));\n error[E0382]: use of moved value: `*f`\n   --> $DIR/two-phase-nonrecv-autoref.rs:69:11\n    |\n+LL |     fn twice_ten_so<F: FnOnce(i32) -> i32>(f: Box<F>) {\n+   |                     - consider adding a `Copy` constraint to this type argument\n LL |         f(f(10));\n    |         - ^ value used here after move\n    |         |"}, {"sha": "3b8507a067ded31725ab9219b7ce445c9417ca9a", "filename": "src/test/ui/codemap_tests/tab_3.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fcodemap_tests%2Ftab_3.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fcodemap_tests%2Ftab_3.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcodemap_tests%2Ftab_3.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,13 +1,13 @@\n error[E0382]: borrow of moved value: `some_vec`\n   --> $DIR/tab_3.rs:7:20\n    |\n+LL |     let some_vec = vec![\"hi\"];\n+   |         -------- move occurs because `some_vec` has type `std::vec::Vec<&str>`, which does not implement the `Copy` trait\n LL |     some_vec.into_iter();\n    |     -------- value moved here\n LL |     {\n LL |         println!(\"{:?}\", some_vec); //~ ERROR use of moved\n    |                          ^^^^^^^^ value borrowed here after move\n-   |\n-   = note: move occurs because `some_vec` has type `std::vec::Vec<&str>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "20198f19dd5f54286075b5d9d4631ef28fbe6313", "filename": "src/test/ui/issues/issue-17385.nll.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fissues%2Fissue-17385.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fissues%2Fissue-17385.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-17385.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,23 +1,23 @@\n error[E0382]: use of moved value: `foo`\n   --> $DIR/issue-17385.rs:19:11\n    |\n+LL |     let foo = X(1);\n+   |         --- move occurs because `foo` has type `X`, which does not implement the `Copy` trait\n LL |     drop(foo);\n    |          --- value moved here\n LL |     match foo { //~ ERROR use of moved value\n LL |         X(1) => (),\n    |           ^ value used here after move\n-   |\n-   = note: move occurs because `foo` has type `X`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `e`\n   --> $DIR/issue-17385.rs:25:11\n    |\n+LL |     let e = Enum::Variant2;\n+   |         - move occurs because `e` has type `Enum`, which does not implement the `Copy` trait\n LL |     drop(e);\n    |          - value moved here\n LL |     match e { //~ ERROR use of moved value\n    |           ^ value used here after move\n-   |\n-   = note: move occurs because `e` has type `Enum`, which does not implement the `Copy` trait\n \n error: aborting due to 2 previous errors\n "}, {"sha": "310535434cd0807185a8e358cf98d7653b8fcba8", "filename": "src/test/ui/issues/issue-24357.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fissues%2Fissue-24357.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fissues%2Fissue-24357.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-24357.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,15 +1,15 @@\n error[E0382]: use of moved value: `x`\n   --> $DIR/issue-24357.rs:6:12\n    |\n+LL |    let x = NoCopy;\n+   |        - move occurs because `x` has type `NoCopy`, which does not implement the `Copy` trait\n LL |    let f = move || { let y = x; };\n    |            -------           - variable moved due to use in closure\n    |            |\n    |            value moved into closure here\n LL |    //~^ NOTE value moved (into closure) here\n LL |    let z = x;\n    |            ^ value used here after move\n-   |\n-   = note: move occurs because `x` has type `NoCopy`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "ba5403cca4d067f70f3507090e58158578d196a3", "filename": "src/test/ui/issues/issue-25700.nll.stderr", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fissues%2Fissue-25700.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fissues%2Fissue-25700.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-25700.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -0,0 +1,13 @@\n+error[E0382]: use of moved value: `t`\n+  --> $DIR/issue-25700.rs:13:10\n+   |\n+LL |     let t = S::<()>(None);\n+   |         - move occurs because `t` has type `S<()>`, which does not implement the `Copy` trait\n+LL |     drop(t);\n+   |          - value moved here\n+LL |     drop(t); //~ ERROR use of moved value\n+   |          ^ value used here after move\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0382`."}, {"sha": "23cc88bab52d54dd7e83d3d4828784cd48e72394", "filename": "src/test/ui/issues/issue-42796.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fissues%2Fissue-42796.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fissues%2Fissue-42796.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-42796.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,13 +1,13 @@\n error[E0382]: borrow of moved value: `s`\n   --> $DIR/issue-42796.rs:18:20\n    |\n+LL |     let s = \"Hello!\".to_owned();\n+   |         - move occurs because `s` has type `std::string::String`, which does not implement the `Copy` trait\n LL |     let mut s_copy = s;\n    |                      - value moved here\n ...\n LL |     println!(\"{}\", s); //~ ERROR use of moved value\n    |                    ^ value borrowed here after move\n-   |\n-   = note: move occurs because `s` has type `std::string::String`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "521304d560554850b7cfaa1498471c9c0a879774", "filename": "src/test/ui/liveness/liveness-move-call-arg.nll.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fliveness%2Fliveness-move-call-arg.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fliveness%2Fliveness-move-call-arg.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fliveness%2Fliveness-move-call-arg.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,10 +1,11 @@\n error[E0382]: use of moved value: `x`\n   --> $DIR/liveness-move-call-arg.rs:9:14\n    |\n+LL |     let x: Box<isize> = box 25;\n+   |         - move occurs because `x` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n+LL |     loop {\n LL |         take(x); //~ ERROR use of moved value: `x`\n    |              ^ value moved here, in previous iteration of loop\n-   |\n-   = note: move occurs because `x` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "b7e973bc9140d3ef3ef9d788a41ad2948247eede", "filename": "src/test/ui/liveness/liveness-move-in-loop.nll.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fliveness%2Fliveness-move-in-loop.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fliveness%2Fliveness-move-in-loop.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fliveness%2Fliveness-move-in-loop.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,10 +1,11 @@\n error[E0382]: use of moved value: `y`\n   --> $DIR/liveness-move-in-loop.rs:11:25\n    |\n+LL |     let y: Box<isize> = box 42;\n+   |         - move occurs because `y` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n+...\n LL |                     x = y; //~ ERROR use of moved value\n    |                         ^ value moved here, in previous iteration of loop\n-   |\n-   = note: move occurs because `y` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "167dcc6b6437207a70fdecfdee6ead7e7eacfab0", "filename": "src/test/ui/liveness/liveness-move-in-while.nll.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fliveness%2Fliveness-move-in-while.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fliveness%2Fliveness-move-in-while.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fliveness%2Fliveness-move-in-while.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,13 @@\n error[E0382]: borrow of moved value: `y`\n   --> $DIR/liveness-move-in-while.rs:7:24\n    |\n+LL |     let y: Box<isize> = box 42;\n+   |         - move occurs because `y` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n+...\n LL |         println!(\"{}\", y); //~ ERROR use of moved value: `y`\n    |                        ^ value borrowed here after move\n LL |         while true { while true { while true { x = y; x.clone(); } } }\n    |                                                    - value moved here, in previous iteration of loop\n-   |\n-   = note: move occurs because `y` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "36c25882ccd4f6ddfc75b36b44324f0cb957be57", "filename": "src/test/ui/liveness/liveness-use-after-move.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fliveness%2Fliveness-use-after-move.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fliveness%2Fliveness-use-after-move.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fliveness%2Fliveness-use-after-move.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: borrow of moved value: `x`\n   --> $DIR/liveness-use-after-move.rs:6:20\n    |\n+LL |     let x: Box<_> = box 5;\n+   |         - move occurs because `x` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n LL |     let y = x;\n    |             - value moved here\n LL |     println!(\"{}\", *x); //~ ERROR use of moved value: `*x`\n    |                    ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "d9367c871165a72d93bbe3714436f74bee56884d", "filename": "src/test/ui/liveness/liveness-use-after-send.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fliveness%2Fliveness-use-after-send.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fliveness%2Fliveness-use-after-send.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fliveness%2Fliveness-use-after-send.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: borrow of moved value: `message`\n   --> $DIR/liveness-use-after-send.rs:16:20\n    |\n+LL | fn test00_start(ch: Chan<Box<isize>>, message: Box<isize>, _count: Box<isize>) {\n+   |                                       ------- move occurs because `message` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n LL |     send(ch, message);\n    |              ------- value moved here\n LL |     println!(\"{}\", message); //~ ERROR use of moved value: `message`\n    |                    ^^^^^^^ value borrowed here after move\n-   |\n-   = note: move occurs because `message` has type `std::boxed::Box<isize>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "43f99cabcae947cc5a9cc7af43ea3f4179fd0ccf", "filename": "src/test/ui/moves/move-guard-same-consts.nll.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmove-guard-same-consts.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmove-guard-same-consts.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmoves%2Fmove-guard-same-consts.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -0,0 +1,14 @@\n+error[E0382]: use of moved value: `x`\n+  --> $DIR/move-guard-same-consts.rs:20:24\n+   |\n+LL |     let x: Box<_> = box 1;\n+   |         - move occurs because `x` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n+...\n+LL |         (1, 2) if take(x) => (),\n+   |                        - value moved here\n+LL |         (1, 2) if take(x) => (), //~ ERROR use of moved value: `x`\n+   |                        ^ value used here after move\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0382`."}, {"sha": "41abe6fa72a57abd163844617e1382191d636a8d", "filename": "src/test/ui/moves/move-in-guard-1.nll.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmove-in-guard-1.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmove-in-guard-1.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmoves%2Fmove-in-guard-1.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -0,0 +1,14 @@\n+error[E0382]: use of moved value: `x`\n+  --> $DIR/move-in-guard-1.rs:10:24\n+   |\n+LL |     let x: Box<_> = box 1;\n+   |         - move occurs because `x` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n+...\n+LL |         (1, _) if take(x) => (),\n+   |                        - value moved here\n+LL |         (_, 2) if take(x) => (), //~ ERROR use of moved value: `x`\n+   |                        ^ value used here after move\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0382`."}, {"sha": "0b14c1620d3cf17e5865486d1c69a57f53553fdc", "filename": "src/test/ui/moves/move-in-guard-2.nll.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmove-in-guard-2.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmove-in-guard-2.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmoves%2Fmove-in-guard-2.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,10 +1,11 @@\n error[E0382]: use of moved value: `x`\n   --> $DIR/move-in-guard-2.rs:10:24\n    |\n+LL |     let x: Box<_> = box 1;\n+   |         - move occurs because `x` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n+...\n LL |         (_, 2) if take(x) => (), //~ ERROR use of moved value: `x`\n    |                        ^ value moved here, in previous iteration of loop\n-   |\n-   = note: move occurs because `x` has type `std::boxed::Box<i32>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "20bfdc2bbac7202a5f0c2d118ea2ea32a48fa8a8", "filename": "src/test/ui/moves/move-into-dead-array-2.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmove-into-dead-array-2.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmove-into-dead-array-2.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmoves%2Fmove-into-dead-array-2.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: use of moved value: `a`\n   --> $DIR/move-into-dead-array-2.rs:14:5\n    |\n+LL | fn foo(mut a: [D; 4], i: usize) {\n+   |        ----- move occurs because `a` has type `[D; 4]`, which does not implement the `Copy` trait\n LL |     drop(a);\n    |          - value moved here\n LL |     a[i] = d(); //~ ERROR use of moved value: `a`\n    |     ^^^^ value used here after move\n-   |\n-   = note: move occurs because `a` has type `[D; 4]`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "6ad9a2d414c77027be2c0ba75dd86ea0d066a3bd", "filename": "src/test/ui/moves/moves-based-on-type-access-to-field.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-access-to-field.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-access-to-field.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-access-to-field.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-access-to-field.rs:11:12\n    |\n+LL |     let x = vec![\"hi\".to_string()];\n+   |         - move occurs because `x` has type `std::vec::Vec<std::string::String>`, which does not implement the `Copy` trait\n LL |     consume(x.into_iter().next().unwrap());\n    |             - value moved here\n LL |     touch(&x[0]); //~ ERROR use of moved value: `x`\n    |            ^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::vec::Vec<std::string::String>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "bed0ae7275cc525cd9d4960db3d77ee9f2775cf3", "filename": "src/test/ui/moves/moves-based-on-type-capture-clause-bad.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-capture-clause-bad.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-capture-clause-bad.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-capture-clause-bad.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,15 +1,15 @@\n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-capture-clause-bad.rs:8:20\n    |\n+LL |     let x = \"Hello world!\".to_string();\n+   |         - move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n LL |     thread::spawn(move|| {\n    |                   ------ value moved into closure here\n LL |         println!(\"{}\", x);\n    |                        - variable moved due to use in closure\n LL |     });\n LL |     println!(\"{}\", x); //~ ERROR use of moved value\n    |                    ^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "07f40274f9e310f129e823cb7ae4b1d478cc15de", "filename": "src/test/ui/moves/moves-based-on-type-distribute-copy-over-paren.nll.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-distribute-copy-over-paren.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-distribute-copy-over-paren.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-distribute-copy-over-paren.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,24 +1,24 @@\n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-distribute-copy-over-paren.rs:11:11\n    |\n+LL |     let x = \"hi\".to_string();\n+   |         - move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n LL |     let _y = Foo { f:x };\n    |                      - value moved here\n LL |     //~^ NOTE value moved here\n LL |     touch(&x); //~ ERROR use of moved value: `x`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-distribute-copy-over-paren.rs:20:11\n    |\n+LL |     let x = \"hi\".to_string();\n+   |         - move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n LL |     let _y = Foo { f:(((x))) };\n    |                      ------- value moved here\n LL |     //~^ NOTE value moved here\n LL |     touch(&x); //~ ERROR use of moved value: `x`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n \n error: aborting due to 2 previous errors\n "}, {"sha": "162aec45f5f5743453f616c7c965b00880c8d3ec", "filename": "src/test/ui/moves/moves-based-on-type-exprs.nll.stderr", "status": "modified", "additions": 27, "deletions": 22, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-exprs.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-exprs.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-exprs.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,117 +1,122 @@\n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-exprs.rs:12:11\n    |\n+LL |     let x = \"hi\".to_string();\n+   |         - move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n LL |     let _y = Foo { f:x };\n    |                      - value moved here\n LL |     touch(&x); //~ ERROR use of moved value: `x`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-exprs.rs:18:11\n    |\n+LL |     let x = \"hi\".to_string();\n+   |         - move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n LL |     let _y = (x, 3);\n    |               - value moved here\n LL |     touch(&x); //~ ERROR use of moved value: `x`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-exprs.rs:35:11\n    |\n+LL |     let x = \"hi\".to_string();\n+   |         - move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n+...\n LL |         x\n    |         - value moved here\n ...\n LL |     touch(&x); //~ ERROR use of moved value: `x`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `y`\n   --> $DIR/moves-based-on-type-exprs.rs:36:11\n    |\n+LL |     let y = \"ho\".to_string();\n+   |         - move occurs because `y` has type `std::string::String`, which does not implement the `Copy` trait\n+...\n LL |         y\n    |         - value moved here\n ...\n LL |     touch(&y); //~ ERROR use of moved value: `y`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `y` has type `std::string::String`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-exprs.rs:46:11\n    |\n+LL |     let x = \"hi\".to_string();\n+   |         - move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n+...\n LL |         true => x,\n    |                 - value moved here\n ...\n LL |     touch(&x); //~ ERROR use of moved value: `x`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `y`\n   --> $DIR/moves-based-on-type-exprs.rs:47:11\n    |\n+LL |     let y = \"ho\".to_string();\n+   |         - move occurs because `y` has type `std::string::String`, which does not implement the `Copy` trait\n+...\n LL |         false => y\n    |                  - value moved here\n ...\n LL |     touch(&y); //~ ERROR use of moved value: `y`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `y` has type `std::string::String`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-exprs.rs:58:11\n    |\n+LL |     let x = \"hi\".to_string();\n+   |         - move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n+...\n LL |         _ if guard(x) => 10,\n    |                    - value moved here\n ...\n LL |     touch(&x); //~ ERROR use of moved value: `x`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-exprs.rs:65:11\n    |\n+LL |     let x = \"hi\".to_string();\n+   |         - move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n LL |     let _y = [x];\n    |               - value moved here\n LL |     touch(&x); //~ ERROR use of moved value: `x`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-exprs.rs:71:11\n    |\n+LL |     let x = \"hi\".to_string();\n+   |         - move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n LL |     let _y = vec![x];\n    |                   - value moved here\n LL |     touch(&x); //~ ERROR use of moved value: `x`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-exprs.rs:77:11\n    |\n+LL |     let x = vec![\"hi\".to_string()];\n+   |         - move occurs because `x` has type `std::vec::Vec<std::string::String>`, which does not implement the `Copy` trait\n LL |     let _y = x.into_iter().next().unwrap();\n    |              - value moved here\n LL |     touch(&x); //~ ERROR use of moved value: `x`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::vec::Vec<std::string::String>`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/moves-based-on-type-exprs.rs:83:11\n    |\n+LL |     let x = vec![\"hi\".to_string()];\n+   |         - move occurs because `x` has type `std::vec::Vec<std::string::String>`, which does not implement the `Copy` trait\n LL |     let _y = [x.into_iter().next().unwrap(); 1];\n    |               - value moved here\n LL |     touch(&x); //~ ERROR use of moved value: `x`\n    |           ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::vec::Vec<std::string::String>`, which does not implement the `Copy` trait\n \n error: aborting due to 11 previous errors\n "}, {"sha": "391dd67dbf60aa469c7fad3a83c7afb5b57d74cf", "filename": "src/test/ui/moves/moves-based-on-type-no-recursive-stack-closure.nll.stderr", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-no-recursive-stack-closure.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-no-recursive-stack-closure.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmoves%2Fmoves-based-on-type-no-recursive-stack-closure.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -10,12 +10,14 @@ LL |                     (f.c)(f, true);\n error[E0382]: borrow of moved value: `f`\n   --> $DIR/moves-based-on-type-no-recursive-stack-closure.rs:32:5\n    |\n+LL | fn conspirator<F>(mut f: F) where F: FnMut(&mut R, bool) {\n+   |                -  ----- move occurs because `f` has type `F`, which does not implement the `Copy` trait\n+   |                |\n+   |                consider adding a `Copy` constraint to this type argument\n LL |     let mut r = R {c: Box::new(f)};\n    |                                - value moved here\n LL |     f(&mut r, false) //~ ERROR use of moved value\n    |     ^ value borrowed here after move\n-   |\n-   = note: move occurs because `f` has type `F`, which does not implement the `Copy` trait\n \n error: aborting due to 2 previous errors\n "}, {"sha": "476b6f75abb46b569595054dc363fae9dd51b168", "filename": "src/test/ui/no-capture-arc.nll.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fno-capture-arc.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fno-capture-arc.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fno-capture-arc.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,15 +1,16 @@\n error[E0382]: borrow of moved value: `arc_v`\n   --> $DIR/no-capture-arc.rs:14:18\n    |\n+LL |     let arc_v = Arc::new(v);\n+   |         ----- move occurs because `arc_v` has type `std::sync::Arc<std::vec::Vec<i32>>`, which does not implement the `Copy` trait\n+LL | \n LL |     thread::spawn(move|| {\n    |                   ------ value moved into closure here\n LL |         assert_eq!((*arc_v)[3], 4);\n    |                      ----- variable moved due to use in closure\n ...\n LL |     assert_eq!((*arc_v)[2], 3);\n    |                  ^^^^^ value borrowed here after move\n-   |\n-   = note: move occurs because `arc_v` has type `std::sync::Arc<std::vec::Vec<i32>>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "0b14f65a770733b8894a9fcefbe21bfc0fca7876", "filename": "src/test/ui/no-reuse-move-arc.nll.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fno-reuse-move-arc.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fno-reuse-move-arc.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fno-reuse-move-arc.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,15 +1,16 @@\n error[E0382]: borrow of moved value: `arc_v`\n   --> $DIR/no-reuse-move-arc.rs:12:18\n    |\n+LL |     let arc_v = Arc::new(v);\n+   |         ----- move occurs because `arc_v` has type `std::sync::Arc<std::vec::Vec<i32>>`, which does not implement the `Copy` trait\n+LL | \n LL |     thread::spawn(move|| {\n    |                   ------ value moved into closure here\n LL |         assert_eq!((*arc_v)[3], 4);\n    |                      ----- variable moved due to use in closure\n ...\n LL |     assert_eq!((*arc_v)[2], 3); //~ ERROR use of moved value: `arc_v`\n    |                  ^^^^^ value borrowed here after move\n-   |\n-   = note: move occurs because `arc_v` has type `std::sync::Arc<std::vec::Vec<i32>>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "ea53abc1b0f2d05d1551b94781a37ca227dbbc94", "filename": "src/test/ui/once-cant-call-twice-on-heap.nll.stderr", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fonce-cant-call-twice-on-heap.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fonce-cant-call-twice-on-heap.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fonce-cant-call-twice-on-heap.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -0,0 +1,15 @@\n+error[E0382]: use of moved value: `blk`\n+  --> $DIR/once-cant-call-twice-on-heap.rs:9:5\n+   |\n+LL | fn foo<F:FnOnce()>(blk: F) {\n+   |        -           --- move occurs because `blk` has type `F`, which does not implement the `Copy` trait\n+   |        |\n+   |        consider adding a `Copy` constraint to this type argument\n+LL |     blk();\n+   |     --- value moved here\n+LL |     blk(); //~ ERROR use of moved value\n+   |     ^^^ value used here after move\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0382`."}, {"sha": "bef8dcca921e61a2b20b9cfe3c62af8e46bde921", "filename": "src/test/ui/ref-suggestion.nll.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fref-suggestion.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fref-suggestion.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fref-suggestion.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,22 +1,22 @@\n error[E0382]: use of moved value: `x`\n   --> $DIR/ref-suggestion.rs:4:5\n    |\n+LL |     let x = vec![1];\n+   |         - move occurs because `x` has type `std::vec::Vec<i32>`, which does not implement the `Copy` trait\n LL |     let y = x;\n    |             - value moved here\n LL |     x; //~ ERROR use of moved value\n    |     ^ value used here after move\n-   |\n-   = note: move occurs because `x` has type `std::vec::Vec<i32>`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `x`\n   --> $DIR/ref-suggestion.rs:8:5\n    |\n+LL |     let x = vec![1];\n+   |         - move occurs because `x` has type `std::vec::Vec<i32>`, which does not implement the `Copy` trait\n LL |     let mut y = x;\n    |                 - value moved here\n LL |     x; //~ ERROR use of moved value\n    |     ^ value used here after move\n-   |\n-   = note: move occurs because `x` has type `std::vec::Vec<i32>`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `x`\n   --> $DIR/ref-suggestion.rs:16:5"}, {"sha": "5a730ad2be42c67bd8d8994949990bd5f2686baf", "filename": "src/test/ui/rfc-2361-dbg-macro/dbg-macro-move-semantics.nll.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Frfc-2361-dbg-macro%2Fdbg-macro-move-semantics.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Frfc-2361-dbg-macro%2Fdbg-macro-move-semantics.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2361-dbg-macro%2Fdbg-macro-move-semantics.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,13 @@\n error[E0382]: use of moved value: `a`\n   --> $DIR/dbg-macro-move-semantics.rs:9:18\n    |\n+LL |     let a = NoCopy(0);\n+   |         - move occurs because `a` has type `NoCopy`, which does not implement the `Copy` trait\n LL |     let _ = dbg!(a);\n    |             ------- value moved here\n LL |     let _ = dbg!(a); //~ ERROR use of moved value\n    |                  ^ value used here after move\n    |\n-   = note: move occurs because `a` has type `NoCopy`, which does not implement the `Copy` trait\n    = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n \n error: aborting due to previous error"}, {"sha": "29d161fe150e74b1fa856b6e8652161207327d53", "filename": "src/test/ui/union/union-borrow-move-parent-sibling.nll.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Funion%2Funion-borrow-move-parent-sibling.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Funion%2Funion-borrow-move-parent-sibling.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funion%2Funion-borrow-move-parent-sibling.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -13,12 +13,12 @@ LL |     use_borrow(a);\n error[E0382]: use of moved value: `u`\n   --> $DIR/union-borrow-move-parent-sibling.rs:22:13\n    |\n+LL |     let u = U { x: ((Vec::new(), Vec::new()), Vec::new()) };\n+   |         - move occurs because `u` has type `U`, which does not implement the `Copy` trait\n LL |     let a = u.x.0;\n    |             ----- value moved here\n LL |     let b = u.y; //~ ERROR use of moved value: `u.y`\n    |             ^^^ value used here after move\n-   |\n-   = note: move occurs because `u` has type `U`, which does not implement the `Copy` trait\n \n error[E0502]: cannot borrow `u` (via `u.y`) as immutable because it is also borrowed as mutable (via `u.x.0.0`)\n   --> $DIR/union-borrow-move-parent-sibling.rs:28:13\n@@ -35,12 +35,12 @@ LL |     use_borrow(a);\n error[E0382]: use of moved value: `u`\n   --> $DIR/union-borrow-move-parent-sibling.rs:35:13\n    |\n+LL |     let u = U { x: ((Vec::new(), Vec::new()), Vec::new()) };\n+   |         - move occurs because `u` has type `U`, which does not implement the `Copy` trait\n LL |     let a = (u.x.0).0;\n    |             --------- value moved here\n LL |     let b = u.y; //~ ERROR use of moved value: `u.y`\n    |             ^^^ value used here after move\n-   |\n-   = note: move occurs because `u` has type `U`, which does not implement the `Copy` trait\n \n error[E0502]: cannot borrow `u` (via `u.x`) as immutable because it is also borrowed as mutable (via `*u.y`)\n   --> $DIR/union-borrow-move-parent-sibling.rs:41:13\n@@ -57,12 +57,12 @@ LL |     use_borrow(a);\n error[E0382]: use of moved value: `u`\n   --> $DIR/union-borrow-move-parent-sibling.rs:48:13\n    |\n+LL |     let u = U { x: ((Vec::new(), Vec::new()), Vec::new()) };\n+   |         - move occurs because `u` has type `U`, which does not implement the `Copy` trait\n LL |     let a = *u.y;\n    |             ---- value moved here\n LL |     let b = u.x; //~ ERROR use of moved value: `u.x`\n    |             ^^^ value used here after move\n-   |\n-   = note: move occurs because `u` has type `U`, which does not implement the `Copy` trait\n \n error: aborting due to 6 previous errors\n "}, {"sha": "58953d55b1fbae40d7e1c903540c81f573843f4a", "filename": "src/test/ui/unop-move-semantics.nll.stderr", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Funop-move-semantics.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Funop-move-semantics.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funop-move-semantics.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,13 +1,15 @@\n error[E0382]: borrow of moved value: `x`\n   --> $DIR/unop-move-semantics.rs:8:5\n    |\n+LL | fn move_then_borrow<T: Not<Output=T> + Clone>(x: T) {\n+   |                     -                         - move occurs because `x` has type `T`, which does not implement the `Copy` trait\n+   |                     |\n+   |                     consider adding a `Copy` constraint to this type argument\n LL |     !x;\n    |      - value moved here\n LL | \n LL |     x.clone();  //~ ERROR: use of moved value\n    |     ^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `T`, which does not implement the `Copy` trait\n \n error[E0505]: cannot move out of `x` because it is borrowed\n   --> $DIR/unop-move-semantics.rs:15:6"}, {"sha": "0e6a6f6369a15f091dd93b15a782bf0ceb4f4ab3", "filename": "src/test/ui/unsized-locals/borrow-after-move.nll.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Funsized-locals%2Fborrow-after-move.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Funsized-locals%2Fborrow-after-move.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Fborrow-after-move.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -12,13 +12,13 @@ LL |         println!(\"{}\", &x);\n error[E0382]: borrow of moved value: `y`\n   --> $DIR/borrow-after-move.rs:22:24\n    |\n+LL |         let y = *x;\n+   |             - move occurs because `y` has type `str`, which does not implement the `Copy` trait\n LL |         drop_unsized(y);\n    |                      - value moved here\n ...\n LL |         println!(\"{}\", &y);\n    |                        ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `y` has type `str`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/borrow-after-move.rs:30:24\n@@ -34,13 +34,13 @@ LL |         println!(\"{}\", &x);\n error[E0382]: borrow of moved value: `y`\n   --> $DIR/borrow-after-move.rs:32:24\n    |\n+LL |         let y = *x;\n+   |             - move occurs because `y` has type `str`, which does not implement the `Copy` trait\n LL |         y.foo();\n    |         - value moved here\n ...\n LL |         println!(\"{}\", &y);\n    |                        ^^ value borrowed here after move\n-   |\n-   = note: move occurs because `y` has type `str`, which does not implement the `Copy` trait\n \n error[E0382]: borrow of moved value: `x`\n   --> $DIR/borrow-after-move.rs:39:24"}, {"sha": "e40289af5ad3d7487f5dc53f7105f4b6be83efdc", "filename": "src/test/ui/unsized-locals/double-move.nll.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Funsized-locals%2Fdouble-move.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Funsized-locals%2Fdouble-move.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funsized-locals%2Fdouble-move.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: use of moved value: `y`\n   --> $DIR/double-move.rs:20:22\n    |\n+LL |         let y = *x;\n+   |             - move occurs because `y` has type `str`, which does not implement the `Copy` trait\n LL |         drop_unsized(y);\n    |                      - value moved here\n LL |         drop_unsized(y); //~ERROR use of moved value\n    |                      ^ value used here after move\n-   |\n-   = note: move occurs because `y` has type `str`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `x`\n   --> $DIR/double-move.rs:26:22\n@@ -21,22 +21,22 @@ LL |         drop_unsized(x); //~ERROR use of moved value\n error[E0382]: use of moved value: `*x`\n   --> $DIR/double-move.rs:32:18\n    |\n+LL |         let x = \"hello\".to_owned().into_boxed_str();\n+   |             - move occurs because `x` has type `std::boxed::Box<str>`, which does not implement the `Copy` trait\n LL |         drop_unsized(x);\n    |                      - value moved here\n LL |         let _y = *x; //~ERROR use of moved value\n    |                  ^^ value used here after move\n-   |\n-   = note: move occurs because `x` has type `std::boxed::Box<str>`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `y`\n   --> $DIR/double-move.rs:39:9\n    |\n+LL |         let y = *x;\n+   |             - move occurs because `y` has type `str`, which does not implement the `Copy` trait\n LL |         y.foo();\n    |         - value moved here\n LL |         y.foo(); //~ERROR use of moved value\n    |         ^ value used here after move\n-   |\n-   = note: move occurs because `y` has type `str`, which does not implement the `Copy` trait\n \n error[E0382]: use of moved value: `*x`\n   --> $DIR/double-move.rs:45:9"}, {"sha": "8160ada9d62ea41d54136cb95d83d97a1a72a122", "filename": "src/test/ui/use/use-after-move-based-on-type.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-based-on-type.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-based-on-type.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-based-on-type.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: borrow of moved value: `x`\n   --> $DIR/use-after-move-based-on-type.rs:4:20\n    |\n+LL |     let x = \"Hello!\".to_string();\n+   |         - move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n LL |     let _y = x;\n    |              - value moved here\n LL |     println!(\"{}\", x); //~ ERROR use of moved value\n    |                    ^ value borrowed here after move\n-   |\n-   = note: move occurs because `x` has type `std::string::String`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "e16bca380679f5e982b409844d063f86f766dec7", "filename": "src/test/ui/use/use-after-move-implicity-coerced-object.nll.stderr", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-implicity-coerced-object.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-implicity-coerced-object.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-implicity-coerced-object.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,13 @@\n error[E0382]: borrow of moved value: `n`\n   --> $DIR/use-after-move-implicity-coerced-object.rs:28:13\n    |\n+LL |     let n: Box<_> = box Number { n: 42 };\n+   |         - move occurs because `n` has type `std::boxed::Box<Number>`, which does not implement the `Copy` trait\n+LL |     let mut l: Box<_> = box List { list: Vec::new() };\n LL |     l.push(n);\n    |            - value moved here\n LL |     let x = n.to_string();\n    |             ^ value borrowed here after move\n-   |\n-   = note: move occurs because `n` has type `std::boxed::Box<Number>`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "4119741d805cd43b24f66975a099fdb8508ba6ee", "filename": "src/test/ui/use/use-after-move-self-based-on-type.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-self-based-on-type.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-self-based-on-type.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-self-based-on-type.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: use of moved value: `self`\n   --> $DIR/use-after-move-self-based-on-type.rs:12:16\n    |\n+LL |     pub fn foo(self) -> isize {\n+   |                ---- move occurs because `self` has type `S`, which does not implement the `Copy` trait\n LL |         self.bar();\n    |         ---- value moved here\n LL |         return self.x;  //~ ERROR use of moved value: `self.x`\n    |                ^^^^^^ value used here after move\n-   |\n-   = note: move occurs because `self` has type `S`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "e2ce3690cb9046c89b0898fdfff7f4bdb6eb7e35", "filename": "src/test/ui/use/use-after-move-self.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-self.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-self.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fuse%2Fuse-after-move-self.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: use of moved value: `self`\n   --> $DIR/use-after-move-self.rs:10:16\n    |\n+LL |     pub fn foo(self) -> isize {\n+   |                ---- move occurs because `self` has type `S`, which does not implement the `Copy` trait\n LL |         self.bar();\n    |         ---- value moved here\n LL |         return *self.x;  //~ ERROR use of moved value: `*self.x`\n    |                ^^^^^^^ value used here after move\n-   |\n-   = note: move occurs because `self` has type `S`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}, {"sha": "2263747607b9c94243df3279e3e056992e64d697", "filename": "src/test/ui/walk-struct-literal-with.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fwalk-struct-literal-with.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/baa0828ee35475987fd825d8eaf77e009dca2bbe/src%2Ftest%2Fui%2Fwalk-struct-literal-with.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwalk-struct-literal-with.nll.stderr?ref=baa0828ee35475987fd825d8eaf77e009dca2bbe", "patch": "@@ -1,12 +1,12 @@\n error[E0382]: borrow of moved value: `start`\n   --> $DIR/walk-struct-literal-with.rs:16:20\n    |\n+LL |     let start = Mine{test:\"Foo\".to_string(), other_val:0};\n+   |         ----- move occurs because `start` has type `Mine`, which does not implement the `Copy` trait\n LL |     let end = Mine{other_val:1, ..start.make_string_bar()};\n    |                                   ----- value moved here\n LL |     println!(\"{}\", start.test); //~ ERROR use of moved value: `start.test`\n    |                    ^^^^^^^^^^ value borrowed here after move\n-   |\n-   = note: move occurs because `start` has type `Mine`, which does not implement the `Copy` trait\n \n error: aborting due to previous error\n "}]}