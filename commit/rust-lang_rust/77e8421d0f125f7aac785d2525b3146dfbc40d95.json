{"sha": "77e8421d0f125f7aac785d2525b3146dfbc40d95", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc3ZTg0MjFkMGYxMjVmN2FhYzc4NWQyNTI1YjMxNDZkZmJjNDBkOTU=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-09-17T19:21:07Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-09-17T19:21:57Z"}, "message": "internal: more local parsing tests for macros", "tree": {"sha": "b7de48e075b2cafa294f90602ae36673a2964365", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b7de48e075b2cafa294f90602ae36673a2964365"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/77e8421d0f125f7aac785d2525b3146dfbc40d95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/77e8421d0f125f7aac785d2525b3146dfbc40d95", "html_url": "https://github.com/rust-lang/rust/commit/77e8421d0f125f7aac785d2525b3146dfbc40d95", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/77e8421d0f125f7aac785d2525b3146dfbc40d95/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "073d5f7733983a59bcfce9cf56fd182893ffc7b0", "url": "https://api.github.com/repos/rust-lang/rust/commits/073d5f7733983a59bcfce9cf56fd182893ffc7b0", "html_url": "https://github.com/rust-lang/rust/commit/073d5f7733983a59bcfce9cf56fd182893ffc7b0"}], "stats": {"total": 295, "additions": 145, "deletions": 150}, "files": [{"sha": "0c52d5aadbf8bc49695ff6389e3e02cc739209bb", "filename": "crates/parser/src/grammar/items.rs", "status": "modified", "additions": 4, "deletions": 9, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fparser%2Fsrc%2Fgrammar%2Fitems.rs", "raw_url": "https://github.com/rust-lang/rust/raw/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fparser%2Fsrc%2Fgrammar%2Fitems.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Fsrc%2Fgrammar%2Fitems.rs?ref=77e8421d0f125f7aac785d2525b3146dfbc40d95", "patch": "@@ -249,14 +249,8 @@ fn opt_item_without_modifiers(p: &mut Parser, m: Marker) -> Result<(), Marker> {\n         T![enum] => adt::enum_(p, m),\n         IDENT if p.at_contextual_kw(\"union\") && p.nth(1) == IDENT => adt::union(p, m),\n \n-        // test pub_macro_def\n-        // pub macro m($:ident) {}\n-        T![macro] => {\n-            macro_def(p, m);\n-        }\n-        IDENT if p.at_contextual_kw(\"macro_rules\") && p.nth(1) == BANG => {\n-            macro_rules(p, m);\n-        }\n+        T![macro] => macro_def(p, m),\n+        IDENT if p.at_contextual_kw(\"macro_rules\") && p.nth(1) == BANG => macro_rules(p, m),\n \n         T![const] if (la == IDENT || la == T![_] || la == T![mut]) => consts::konst(p, m),\n         T![static] => consts::static_(p, m),\n@@ -413,12 +407,13 @@ fn macro_rules(p: &mut Parser, m: Marker) {\n }\n \n // test macro_def\n-// macro m { ($i:ident) => {} }\n // macro m($i:ident) {}\n fn macro_def(p: &mut Parser, m: Marker) {\n     p.expect(T![macro]);\n     name_r(p, ITEM_RECOVERY_SET);\n     if p.at(T!['{']) {\n+        // test macro_def_curly\n+        // macro m { ($i:ident) => {} }\n         token_tree(p);\n     } else if !p.at(T!['(']) {\n         p.error(\"unmatched `(`\");"}, {"sha": "4d7b78d5caa3a1b7dce73c9a29af70f3c0c05e72", "filename": "crates/syntax/test_data/parser/inline/ok/0147_macro_def.rast", "status": "modified", "additions": 15, "deletions": 41, "changes": 56, "blob_url": "https://github.com/rust-lang/rust/blob/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0147_macro_def.rast", "raw_url": "https://github.com/rust-lang/rust/raw/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0147_macro_def.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0147_macro_def.rast?ref=77e8421d0f125f7aac785d2525b3146dfbc40d95", "patch": "@@ -1,45 +1,19 @@\n-SOURCE_FILE@0..50\n-  MACRO_DEF@0..28\n+SOURCE_FILE@0..21\n+  MACRO_DEF@0..20\n     MACRO_KW@0..5 \"macro\"\n     WHITESPACE@5..6 \" \"\n     NAME@6..7\n       IDENT@6..7 \"m\"\n-    WHITESPACE@7..8 \" \"\n-    TOKEN_TREE@8..28\n-      L_CURLY@8..9 \"{\"\n-      WHITESPACE@9..10 \" \"\n-      TOKEN_TREE@10..20\n-        L_PAREN@10..11 \"(\"\n-        DOLLAR@11..12 \"$\"\n-        IDENT@12..13 \"i\"\n-        COLON@13..14 \":\"\n-        IDENT@14..19 \"ident\"\n-        R_PAREN@19..20 \")\"\n-      WHITESPACE@20..21 \" \"\n-      EQ@21..22 \"=\"\n-      R_ANGLE@22..23 \">\"\n-      WHITESPACE@23..24 \" \"\n-      TOKEN_TREE@24..26\n-        L_CURLY@24..25 \"{\"\n-        R_CURLY@25..26 \"}\"\n-      WHITESPACE@26..27 \" \"\n-      R_CURLY@27..28 \"}\"\n-  WHITESPACE@28..29 \"\\n\"\n-  MACRO_DEF@29..49\n-    MACRO_KW@29..34 \"macro\"\n-    WHITESPACE@34..35 \" \"\n-    NAME@35..36\n-      IDENT@35..36 \"m\"\n-    TOKEN_TREE@36..49\n-      TOKEN_TREE@36..46\n-        L_PAREN@36..37 \"(\"\n-        DOLLAR@37..38 \"$\"\n-        IDENT@38..39 \"i\"\n-        COLON@39..40 \":\"\n-        IDENT@40..45 \"ident\"\n-        R_PAREN@45..46 \")\"\n-      WHITESPACE@46..47 \" \"\n-      TOKEN_TREE@47..49\n-        L_CURLY@47..48 \"{\"\n-        R_CURLY@48..49 \"}\"\n-  WHITESPACE@49..50 \"\\n\"\n+    TOKEN_TREE@7..20\n+      TOKEN_TREE@7..17\n+        L_PAREN@7..8 \"(\"\n+        DOLLAR@8..9 \"$\"\n+        IDENT@9..10 \"i\"\n+        COLON@10..11 \":\"\n+        IDENT@11..16 \"ident\"\n+        R_PAREN@16..17 \")\"\n+      WHITESPACE@17..18 \" \"\n+      TOKEN_TREE@18..20\n+        L_CURLY@18..19 \"{\"\n+        R_CURLY@19..20 \"}\"\n+  WHITESPACE@20..21 \"\\n\""}, {"sha": "a014ae5464e5210421f7e58d9952b188bd7b8e71", "filename": "crates/syntax/test_data/parser/inline/ok/0147_macro_def.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0147_macro_def.rs", "raw_url": "https://github.com/rust-lang/rust/raw/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0147_macro_def.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0147_macro_def.rs?ref=77e8421d0f125f7aac785d2525b3146dfbc40d95", "patch": "@@ -1,2 +1 @@\n-macro m { ($i:ident) => {} }\n macro m($i:ident) {}"}, {"sha": "1c527f60b9c22e94745579e819cbc62d272ce215", "filename": "crates/syntax/test_data/parser/inline/ok/0148_pub_macro_def.rast", "status": "removed", "additions": 0, "deletions": 21, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/073d5f7733983a59bcfce9cf56fd182893ffc7b0/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0148_pub_macro_def.rast", "raw_url": "https://github.com/rust-lang/rust/raw/073d5f7733983a59bcfce9cf56fd182893ffc7b0/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0148_pub_macro_def.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0148_pub_macro_def.rast?ref=073d5f7733983a59bcfce9cf56fd182893ffc7b0", "patch": "@@ -1,21 +0,0 @@\n-SOURCE_FILE@0..24\n-  MACRO_DEF@0..23\n-    VISIBILITY@0..3\n-      PUB_KW@0..3 \"pub\"\n-    WHITESPACE@3..4 \" \"\n-    MACRO_KW@4..9 \"macro\"\n-    WHITESPACE@9..10 \" \"\n-    NAME@10..11\n-      IDENT@10..11 \"m\"\n-    TOKEN_TREE@11..23\n-      TOKEN_TREE@11..20\n-        L_PAREN@11..12 \"(\"\n-        DOLLAR@12..13 \"$\"\n-        COLON@13..14 \":\"\n-        IDENT@14..19 \"ident\"\n-        R_PAREN@19..20 \")\"\n-      WHITESPACE@20..21 \" \"\n-      TOKEN_TREE@21..23\n-        L_CURLY@21..22 \"{\"\n-        R_CURLY@22..23 \"}\"\n-  WHITESPACE@23..24 \"\\n\""}, {"sha": "3b2be597fd85232a558395cb85aa0993389a73ff", "filename": "crates/syntax/test_data/parser/inline/ok/0148_pub_macro_def.rs", "status": "removed", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/073d5f7733983a59bcfce9cf56fd182893ffc7b0/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0148_pub_macro_def.rs", "raw_url": "https://github.com/rust-lang/rust/raw/073d5f7733983a59bcfce9cf56fd182893ffc7b0/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0148_pub_macro_def.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0148_pub_macro_def.rs?ref=073d5f7733983a59bcfce9cf56fd182893ffc7b0", "patch": "@@ -1 +0,0 @@\n-pub macro m($:ident) {}"}, {"sha": "3ec00bf55a0ac850ff29269598cc3adcbf719f66", "filename": "crates/syntax/test_data/parser/inline/ok/0173_macro_def_curly.rast", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0173_macro_def_curly.rast", "raw_url": "https://github.com/rust-lang/rust/raw/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0173_macro_def_curly.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0173_macro_def_curly.rast?ref=77e8421d0f125f7aac785d2525b3146dfbc40d95", "patch": "@@ -0,0 +1,27 @@\n+SOURCE_FILE@0..29\n+  MACRO_DEF@0..28\n+    MACRO_KW@0..5 \"macro\"\n+    WHITESPACE@5..6 \" \"\n+    NAME@6..7\n+      IDENT@6..7 \"m\"\n+    WHITESPACE@7..8 \" \"\n+    TOKEN_TREE@8..28\n+      L_CURLY@8..9 \"{\"\n+      WHITESPACE@9..10 \" \"\n+      TOKEN_TREE@10..20\n+        L_PAREN@10..11 \"(\"\n+        DOLLAR@11..12 \"$\"\n+        IDENT@12..13 \"i\"\n+        COLON@13..14 \":\"\n+        IDENT@14..19 \"ident\"\n+        R_PAREN@19..20 \")\"\n+      WHITESPACE@20..21 \" \"\n+      EQ@21..22 \"=\"\n+      R_ANGLE@22..23 \">\"\n+      WHITESPACE@23..24 \" \"\n+      TOKEN_TREE@24..26\n+        L_CURLY@24..25 \"{\"\n+        R_CURLY@25..26 \"}\"\n+      WHITESPACE@26..27 \" \"\n+      R_CURLY@27..28 \"}\"\n+  WHITESPACE@28..29 \"\\n\""}, {"sha": "5ed0c777dc94227627cefb7bdc1fcc8df824ec6f", "filename": "crates/syntax/test_data/parser/inline/ok/0173_macro_def_curly.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0173_macro_def_curly.rs", "raw_url": "https://github.com/rust-lang/rust/raw/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0173_macro_def_curly.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0173_macro_def_curly.rs?ref=77e8421d0f125f7aac785d2525b3146dfbc40d95", "patch": "@@ -0,0 +1 @@\n+macro m { ($i:ident) => {} }"}, {"sha": "79dc9001a21650c35dd0fd4d28637b775b6dfff7", "filename": "crates/syntax/test_data/parser/ok/0012_visibility.rast", "status": "modified", "additions": 97, "deletions": 77, "changes": 174, "blob_url": "https://github.com/rust-lang/rust/blob/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Fok%2F0012_visibility.rast", "raw_url": "https://github.com/rust-lang/rust/raw/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Fok%2F0012_visibility.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Fok%2F0012_visibility.rast?ref=77e8421d0f125f7aac785d2525b3146dfbc40d95", "patch": "@@ -1,4 +1,4 @@\n-SOURCE_FILE@0..98\n+SOURCE_FILE@0..122\n   FN@0..9\n     FN_KW@0..2 \"fn\"\n     WHITESPACE@2..3 \" \"\n@@ -28,81 +28,101 @@ SOURCE_FILE@0..98\n       L_CURLY@21..22 \"{\"\n       R_CURLY@22..23 \"}\"\n   WHITESPACE@23..24 \"\\n\"\n-  FN@24..44\n-    VISIBILITY@24..34\n+  MACRO_DEF@24..47\n+    VISIBILITY@24..27\n       PUB_KW@24..27 \"pub\"\n-      L_PAREN@27..28 \"(\"\n-      PATH@28..33\n-        PATH_SEGMENT@28..33\n-          NAME_REF@28..33\n-            CRATE_KW@28..33 \"crate\"\n-      R_PAREN@33..34 \")\"\n-    WHITESPACE@34..35 \" \"\n-    FN_KW@35..37 \"fn\"\n-    WHITESPACE@37..38 \" \"\n-    NAME@38..39\n-      IDENT@38..39 \"c\"\n-    PARAM_LIST@39..41\n-      L_PAREN@39..40 \"(\"\n-      R_PAREN@40..41 \")\"\n-    WHITESPACE@41..42 \" \"\n-    BLOCK_EXPR@42..44\n-      L_CURLY@42..43 \"{\"\n-      R_CURLY@43..44 \"}\"\n-  WHITESPACE@44..45 \"\\n\"\n-  FN@45..65\n-    VISIBILITY@45..55\n-      PUB_KW@45..48 \"pub\"\n-      L_PAREN@48..49 \"(\"\n-      PATH@49..54\n-        PATH_SEGMENT@49..54\n-          NAME_REF@49..54\n-            SUPER_KW@49..54 \"super\"\n-      R_PAREN@54..55 \")\"\n-    WHITESPACE@55..56 \" \"\n-    FN_KW@56..58 \"fn\"\n+    WHITESPACE@27..28 \" \"\n+    MACRO_KW@28..33 \"macro\"\n+    WHITESPACE@33..34 \" \"\n+    NAME@34..35\n+      IDENT@34..35 \"m\"\n+    TOKEN_TREE@35..47\n+      TOKEN_TREE@35..44\n+        L_PAREN@35..36 \"(\"\n+        DOLLAR@36..37 \"$\"\n+        COLON@37..38 \":\"\n+        IDENT@38..43 \"ident\"\n+        R_PAREN@43..44 \")\"\n+      WHITESPACE@44..45 \" \"\n+      TOKEN_TREE@45..47\n+        L_CURLY@45..46 \"{\"\n+        R_CURLY@46..47 \"}\"\n+  WHITESPACE@47..48 \"\\n\"\n+  FN@48..68\n+    VISIBILITY@48..58\n+      PUB_KW@48..51 \"pub\"\n+      L_PAREN@51..52 \"(\"\n+      PATH@52..57\n+        PATH_SEGMENT@52..57\n+          NAME_REF@52..57\n+            CRATE_KW@52..57 \"crate\"\n+      R_PAREN@57..58 \")\"\n     WHITESPACE@58..59 \" \"\n-    NAME@59..60\n-      IDENT@59..60 \"d\"\n-    PARAM_LIST@60..62\n-      L_PAREN@60..61 \"(\"\n-      R_PAREN@61..62 \")\"\n-    WHITESPACE@62..63 \" \"\n-    BLOCK_EXPR@63..65\n-      L_CURLY@63..64 \"{\"\n-      R_CURLY@64..65 \"}\"\n-  WHITESPACE@65..66 \"\\n\"\n-  FN@66..97\n-    VISIBILITY@66..87\n-      PUB_KW@66..69 \"pub\"\n-      L_PAREN@69..70 \"(\"\n-      IN_KW@70..72 \"in\"\n-      WHITESPACE@72..73 \" \"\n-      PATH@73..86\n-        PATH@73..81\n-          PATH@73..76\n-            PATH_SEGMENT@73..76\n-              NAME_REF@73..76\n-                IDENT@73..76 \"foo\"\n-          COLON2@76..78 \"::\"\n-          PATH_SEGMENT@78..81\n-            NAME_REF@78..81\n-              IDENT@78..81 \"bar\"\n-        COLON2@81..83 \"::\"\n-        PATH_SEGMENT@83..86\n-          NAME_REF@83..86\n-            IDENT@83..86 \"baz\"\n-      R_PAREN@86..87 \")\"\n-    WHITESPACE@87..88 \" \"\n-    FN_KW@88..90 \"fn\"\n-    WHITESPACE@90..91 \" \"\n-    NAME@91..92\n-      IDENT@91..92 \"e\"\n-    PARAM_LIST@92..94\n-      L_PAREN@92..93 \"(\"\n-      R_PAREN@93..94 \")\"\n-    WHITESPACE@94..95 \" \"\n-    BLOCK_EXPR@95..97\n-      L_CURLY@95..96 \"{\"\n-      R_CURLY@96..97 \"}\"\n-  WHITESPACE@97..98 \"\\n\"\n+    FN_KW@59..61 \"fn\"\n+    WHITESPACE@61..62 \" \"\n+    NAME@62..63\n+      IDENT@62..63 \"c\"\n+    PARAM_LIST@63..65\n+      L_PAREN@63..64 \"(\"\n+      R_PAREN@64..65 \")\"\n+    WHITESPACE@65..66 \" \"\n+    BLOCK_EXPR@66..68\n+      L_CURLY@66..67 \"{\"\n+      R_CURLY@67..68 \"}\"\n+  WHITESPACE@68..69 \"\\n\"\n+  FN@69..89\n+    VISIBILITY@69..79\n+      PUB_KW@69..72 \"pub\"\n+      L_PAREN@72..73 \"(\"\n+      PATH@73..78\n+        PATH_SEGMENT@73..78\n+          NAME_REF@73..78\n+            SUPER_KW@73..78 \"super\"\n+      R_PAREN@78..79 \")\"\n+    WHITESPACE@79..80 \" \"\n+    FN_KW@80..82 \"fn\"\n+    WHITESPACE@82..83 \" \"\n+    NAME@83..84\n+      IDENT@83..84 \"d\"\n+    PARAM_LIST@84..86\n+      L_PAREN@84..85 \"(\"\n+      R_PAREN@85..86 \")\"\n+    WHITESPACE@86..87 \" \"\n+    BLOCK_EXPR@87..89\n+      L_CURLY@87..88 \"{\"\n+      R_CURLY@88..89 \"}\"\n+  WHITESPACE@89..90 \"\\n\"\n+  FN@90..121\n+    VISIBILITY@90..111\n+      PUB_KW@90..93 \"pub\"\n+      L_PAREN@93..94 \"(\"\n+      IN_KW@94..96 \"in\"\n+      WHITESPACE@96..97 \" \"\n+      PATH@97..110\n+        PATH@97..105\n+          PATH@97..100\n+            PATH_SEGMENT@97..100\n+              NAME_REF@97..100\n+                IDENT@97..100 \"foo\"\n+          COLON2@100..102 \"::\"\n+          PATH_SEGMENT@102..105\n+            NAME_REF@102..105\n+              IDENT@102..105 \"bar\"\n+        COLON2@105..107 \"::\"\n+        PATH_SEGMENT@107..110\n+          NAME_REF@107..110\n+            IDENT@107..110 \"baz\"\n+      R_PAREN@110..111 \")\"\n+    WHITESPACE@111..112 \" \"\n+    FN_KW@112..114 \"fn\"\n+    WHITESPACE@114..115 \" \"\n+    NAME@115..116\n+      IDENT@115..116 \"e\"\n+    PARAM_LIST@116..118\n+      L_PAREN@116..117 \"(\"\n+      R_PAREN@117..118 \")\"\n+    WHITESPACE@118..119 \" \"\n+    BLOCK_EXPR@119..121\n+      L_CURLY@119..120 \"{\"\n+      R_CURLY@120..121 \"}\"\n+  WHITESPACE@121..122 \"\\n\""}, {"sha": "129d486fae2aaf845e9dd5110e158ae01d07ab5f", "filename": "crates/syntax/test_data/parser/ok/0012_visibility.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Fok%2F0012_visibility.rs", "raw_url": "https://github.com/rust-lang/rust/raw/77e8421d0f125f7aac785d2525b3146dfbc40d95/crates%2Fsyntax%2Ftest_data%2Fparser%2Fok%2F0012_visibility.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Fok%2F0012_visibility.rs?ref=77e8421d0f125f7aac785d2525b3146dfbc40d95", "patch": "@@ -1,5 +1,6 @@\n fn a() {}\n pub fn b() {}\n+pub macro m($:ident) {}\n pub(crate) fn c() {}\n pub(super) fn d() {}\n pub(in foo::bar::baz) fn e() {}"}]}