{"sha": "313d6c53df9a2725ab62c653c8e87100ec45724f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMxM2Q2YzUzZGY5YTI3MjVhYjYyYzY1M2M4ZTg3MTAwZWM0NTcyNGY=", "commit": {"author": {"name": "David Cao", "email": "dcao@protonmail.com", "date": "2018-05-29T03:19:44Z"}, "committer": {"name": "David Cao", "email": "dcao@protonmail.com", "date": "2018-06-08T22:32:28Z"}, "message": "provide error message when using more than 65535 hash symbols for raw strings", "tree": {"sha": "89a420f70ab7d0e7b280f54731d041bc28fb5dd7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/89a420f70ab7d0e7b280f54731d041bc28fb5dd7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/313d6c53df9a2725ab62c653c8e87100ec45724f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/313d6c53df9a2725ab62c653c8e87100ec45724f", "html_url": "https://github.com/rust-lang/rust/commit/313d6c53df9a2725ab62c653c8e87100ec45724f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/313d6c53df9a2725ab62c653c8e87100ec45724f/comments", "author": null, "committer": null, "parents": [{"sha": "c40275b34f8a2b6a289181d1d5f376ff7c64f0c5", "url": "https://api.github.com/repos/rust-lang/rust/commits/c40275b34f8a2b6a289181d1d5f376ff7c64f0c5", "html_url": "https://github.com/rust-lang/rust/commit/c40275b34f8a2b6a289181d1d5f376ff7c64f0c5"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "893a907e786427dc9430604bddf06b351620e640", "filename": "src/libsyntax/parse/lexer/mod.rs", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/313d6c53df9a2725ab62c653c8e87100ec45724f/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/313d6c53df9a2725ab62c653c8e87100ec45724f/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Flexer%2Fmod.rs?ref=313d6c53df9a2725ab62c653c8e87100ec45724f", "patch": "@@ -1452,6 +1452,13 @@ impl<'a> StringReader<'a> {\n                 self.bump();\n                 let mut hash_count: u16 = 0;\n                 while self.ch_is('#') {\n+                    if hash_count == 65535 {\n+                        let bpos = self.next_pos;\n+                        self.fatal_span_(start_bpos,\n+                                         bpos,\n+                                         \"too many `#` symbols: raw strings may be \\\n+                                         delimited by up to 65535 `#` symbols\").raise();\n+                    }\n                     self.bump();\n                     hash_count += 1;\n                 }\n@@ -1682,6 +1689,13 @@ impl<'a> StringReader<'a> {\n         self.bump();\n         let mut hash_count = 0;\n         while self.ch_is('#') {\n+            if hash_count == 65535 {\n+                let bpos = self.next_pos;\n+                self.fatal_span_(start_bpos,\n+                                 bpos,\n+                                 \"too many `#` symbols: raw byte strings may be \\\n+                                 delimited by up to 65535 `#` symbols\").raise();\n+            }\n             self.bump();\n             hash_count += 1;\n         }"}]}