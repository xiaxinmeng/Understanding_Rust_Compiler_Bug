{"sha": "30734c4e6887f7167c01e2fef33d96f82d25b1b9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMwNzM0YzRlNjg4N2Y3MTY3YzAxZTJmZWYzM2Q5NmY4MmQyNWIxYjk=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2017-12-01T19:55:25Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2017-12-01T19:55:25Z"}, "message": "Fix deduplication of items", "tree": {"sha": "05eb49088ac79dfca066c61f59855250158d3d8d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/05eb49088ac79dfca066c61f59855250158d3d8d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/30734c4e6887f7167c01e2fef33d96f82d25b1b9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/30734c4e6887f7167c01e2fef33d96f82d25b1b9", "html_url": "https://github.com/rust-lang/rust/commit/30734c4e6887f7167c01e2fef33d96f82d25b1b9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/30734c4e6887f7167c01e2fef33d96f82d25b1b9/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6805b016efdfcd99e706003fab1336df73f6811b", "url": "https://api.github.com/repos/rust-lang/rust/commits/6805b016efdfcd99e706003fab1336df73f6811b", "html_url": "https://github.com/rust-lang/rust/commit/6805b016efdfcd99e706003fab1336df73f6811b"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "cea510de692743565b6a83f6f3f336bf97ec3dff", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/30734c4e6887f7167c01e2fef33d96f82d25b1b9/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/30734c4e6887f7167c01e2fef33d96f82d25b1b9/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=30734c4e6887f7167c01e2fef33d96f82d25b1b9", "patch": "@@ -720,6 +720,13 @@\n                 return false;\n             }\n \n+            function generateId(ty) {\n+                if (ty.parent && ty.parent.name) {\n+                    return itemTypes[ty.ty] + ty.path + ty.parent.name + ty.name;\n+                }\n+                return itemTypes[ty.ty] + ty.path + ty.name;\n+            }\n+\n             // quoted values mean literal search\n             var nSearchWords = searchWords.length;\n             if ((val.charAt(0) === \"\\\"\" || val.charAt(0) === \"'\") &&\n@@ -730,7 +737,7 @@\n                     var in_args = findArg(searchIndex[i], val, true);\n                     var returned = checkReturned(searchIndex[i], val, true);\n                     var ty = searchIndex[i];\n-                    var fullId = itemTypes[ty.ty] + ty.path + ty.name;\n+                    var fullId = generateId(ty);\n \n                     if (searchWords[i] === val.name) {\n                         // filter type: ... queries\n@@ -786,7 +793,7 @@\n                     if (!type) {\n                         continue;\n                     }\n-                    var fullId = itemTypes[ty.ty] + ty.path + ty.name;\n+                    var fullId = generateId(ty);\n \n                     // allow searching for void (no output) functions as well\n                     var typeOutput = type.output ? type.output.name : \"\";\n@@ -872,7 +879,7 @@\n                     var index = -1;\n                     // we want lev results to go lower than others\n                     var lev = MAX_LEV_DISTANCE + 1;\n-                    var fullId = itemTypes[ty.ty] + ty.path + ty.name;\n+                    var fullId = generateId(ty);\n \n                     if (searchWords[j].indexOf(split[i]) > -1 ||\n                         searchWords[j].indexOf(val) > -1 ||"}]}