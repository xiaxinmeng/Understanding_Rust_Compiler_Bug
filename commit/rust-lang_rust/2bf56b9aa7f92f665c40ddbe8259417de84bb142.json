{"sha": "2bf56b9aa7f92f665c40ddbe8259417de84bb142", "node_id": "C_kwDOAAsO6NoAKDJiZjU2YjlhYTdmOTJmNjY1YzQwZGRiZTgyNTk0MTdkZTg0YmIxNDI", "commit": {"author": {"name": "xFrednet", "email": "xFrednet@gmail.com", "date": "2022-02-26T10:32:07Z"}, "committer": {"name": "xFrednet", "email": "xFrednet@gmail.com", "date": "2022-02-26T10:36:31Z"}, "message": "Document that pre-expansion lint passes are deprecated", "tree": {"sha": "b8b63c7360c28f01822595aacdedb573c8eeac90", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b8b63c7360c28f01822595aacdedb573c8eeac90"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2bf56b9aa7f92f665c40ddbe8259417de84bb142", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEsfZNmu/fmIv8KDcv/Ny/Ka9k1gEFAmIaAq8ACgkQ/Ny/Ka9k\n1gHmIhAAlhueBqhI3vmd0UliuGw00ZpjnREy2x0/w5JEQu8sTamduioP+GmxJid2\nwhdAzUXnK+Q0bIJ7DQ2kRni/JZXeg3FMb9uFR2kTQ4DE0m0Q2KV6LQfoo06X2jqP\nXAiRPucfJf0yRTSdCqSuAM7D+5DgssjHwKIuUN+Aq+3frD+/4859q+tSsy31Qdfx\ngctfzjmptyR1ocomvE4QCevxc6JuYLucRs/4jIrBlzRxZ19lomEYAddblEHFSd3w\nZMb1UuQXV2ls3iNDVpZFPr/lF+Dl1o2syso58fTD9HI+Z8jxyIogGmcHS1bNvXif\nAd6majwWQid0nee2LJxV8SOiM6d/VzAuxyll7Fo5KrObZ4rDc106W8QFJa3UEFG3\nndUMchDMTnBzSLM9Zn9j4KqNUVBGWWRWYHsxzg87lLsguJ+khTav/hEdqzeL/Qo0\nawKmzisIaafaW6fZKETfepaW4v8LdXBcF4/fki+YC8Ilq8rSgLSrjGzP/e/mVMnp\nIPOVJ1kJaWQT20WU+4NFoLtvR8YCDBZ0/fQtuL+T8UhbszcaM6ERVuS+cIjg0hMa\nq8UKIFUavJlArq1YpuhZAiJ714gqj+rbSCuMD/8GiV/7DS70d2NbpZvM0f8KJ57L\nerblcLFsDK7qo3q65ExIJNSLmlll/rLHRSev0kP9MhFcll1T218=\n=sMQh\n-----END PGP SIGNATURE-----", "payload": "tree b8b63c7360c28f01822595aacdedb573c8eeac90\nparent d5a9bc947617babe3833458f3e09f3d6d5e3d736\nauthor xFrednet <xFrednet@gmail.com> 1645871527 +0100\ncommitter xFrednet <xFrednet@gmail.com> 1645871791 +0100\n\nDocument that pre-expansion lint passes are deprecated\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2bf56b9aa7f92f665c40ddbe8259417de84bb142", "html_url": "https://github.com/rust-lang/rust/commit/2bf56b9aa7f92f665c40ddbe8259417de84bb142", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2bf56b9aa7f92f665c40ddbe8259417de84bb142/comments", "author": {"login": "xFrednet", "id": 17087237, "node_id": "MDQ6VXNlcjE3MDg3MjM3", "avatar_url": "https://avatars.githubusercontent.com/u/17087237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xFrednet", "html_url": "https://github.com/xFrednet", "followers_url": "https://api.github.com/users/xFrednet/followers", "following_url": "https://api.github.com/users/xFrednet/following{/other_user}", "gists_url": "https://api.github.com/users/xFrednet/gists{/gist_id}", "starred_url": "https://api.github.com/users/xFrednet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xFrednet/subscriptions", "organizations_url": "https://api.github.com/users/xFrednet/orgs", "repos_url": "https://api.github.com/users/xFrednet/repos", "events_url": "https://api.github.com/users/xFrednet/events{/privacy}", "received_events_url": "https://api.github.com/users/xFrednet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xFrednet", "id": 17087237, "node_id": "MDQ6VXNlcjE3MDg3MjM3", "avatar_url": "https://avatars.githubusercontent.com/u/17087237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xFrednet", "html_url": "https://github.com/xFrednet", "followers_url": "https://api.github.com/users/xFrednet/followers", "following_url": "https://api.github.com/users/xFrednet/following{/other_user}", "gists_url": "https://api.github.com/users/xFrednet/gists{/gist_id}", "starred_url": "https://api.github.com/users/xFrednet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xFrednet/subscriptions", "organizations_url": "https://api.github.com/users/xFrednet/orgs", "repos_url": "https://api.github.com/users/xFrednet/repos", "events_url": "https://api.github.com/users/xFrednet/events{/privacy}", "received_events_url": "https://api.github.com/users/xFrednet/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d5a9bc947617babe3833458f3e09f3d6d5e3d736", "url": "https://api.github.com/repos/rust-lang/rust/commits/d5a9bc947617babe3833458f3e09f3d6d5e3d736", "html_url": "https://github.com/rust-lang/rust/commit/d5a9bc947617babe3833458f3e09f3d6d5e3d736"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "ad9a16fb39ae2d5fe3641ec255058e816c96a6e3", "filename": "compiler/rustc_lint/src/context.rs", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/2bf56b9aa7f92f665c40ddbe8259417de84bb142/compiler%2Frustc_lint%2Fsrc%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2bf56b9aa7f92f665c40ddbe8259417de84bb142/compiler%2Frustc_lint%2Fsrc%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Fcontext.rs?ref=2bf56b9aa7f92f665c40ddbe8259417de84bb142", "patch": "@@ -166,7 +166,12 @@ impl LintStore {\n         self.early_passes.push(Box::new(pass));\n     }\n \n-    /// Used by clippy.\n+    /// This lint pass is softly deprecated. It misses expanded code and has caused a few\n+    /// errors in the past. Currently, it is only used in Clippy. New implementations\n+    /// should avoid using this interface, as it might be removed in the future.\n+    ///\n+    /// * See [rust#69838](https://github.com/rust-lang/rust/pull/69838)\n+    /// * See [rust-clippy#5518](https://github.com/rust-lang/rust-clippy/pull/5518)\n     pub fn register_pre_expansion_pass(\n         &mut self,\n         pass: impl Fn() -> EarlyLintPassObject + 'static + sync::Send + sync::Sync,"}]}