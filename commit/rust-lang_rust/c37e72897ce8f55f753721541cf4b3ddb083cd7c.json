{"sha": "c37e72897ce8f55f753721541cf4b3ddb083cd7c", "node_id": "C_kwDOAAsO6NoAKGMzN2U3Mjg5N2NlOGY1NWY3NTM3MjE1NDFjZjRiM2RkYjA4M2NkN2M", "commit": {"author": {"name": "DaniPopes", "email": "57450786+DaniPopes@users.noreply.github.com", "date": "2023-04-11T12:04:50Z"}, "committer": {"name": "DaniPopes", "email": "57450786+DaniPopes@users.noreply.github.com", "date": "2023-04-11T12:04:50Z"}, "message": "rename maybe_delink to maybe_remove_mention", "tree": {"sha": "35382caafa3e7d94d5fb96a4c24c7b8624593769", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/35382caafa3e7d94d5fb96a4c24c7b8624593769"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c37e72897ce8f55f753721541cf4b3ddb083cd7c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEdOrdJNeWRt9kyFLLDwlkDdt6xpIFAmQ1TOIACgkQDwlkDdt6\nxpIQmBAAnwivw2ML3pXrmIwo3kROwCiMinTkAC2EdleK7redu3uF99XJ4HyT/XFg\ndjf2DMCE3heF7JouuE/BpGfRBxVDUz168EzsdMpCLtNfdrbF1wbppX25hJKm6eHZ\nQ/SOlL0J9CPHiu2lQovcqsrTYW+UGlDpvkj7Hh+TjFPzq/OSJ5qmfVjnOhrPVQi+\nXFxQ3wTS9PbLEP+QZ5a3CNWduUvdj5YwE6R44uMAneUqDgyvEE70at0w+dNIdUtW\nVfAIMWB+GoXs9IBa2uOUQG2waSP2LEUhB+wmPZIuDS7kR/m9yWgN/z8GOZ57aHYC\nGrKn+nqGKNa3AiDcGpfUxhX0jM/bn18D6g6exeHlioB1xVZ5FJKuPezTB4jr/Scw\nrVQ7VAweHARIP69ntd1ysJhRnQaNGTKCj5R0QrKppju+yE2lQj3Iv2EJVXuVmqb9\nrp4tGs4RiBTsytLL8SsCGiSnh1qc1+omlsTgYDxM2RdfPHoIQ3Vv/m+fGMOBCizt\na3hzTwTSeAX8Dxk0UGLPDIRvCXlD7fU1z7S6yQyRF9ta19Y0Hc6Uop2BkYN+jz9U\ne/AIY/zvK7OBAPidyj4lfX43rjrgAB43rNBLyppZZYqiaNcImsoLftfoZ+lU5sB0\nAaP87y6aPYvf+Lu+OSBTeo9AzFXfziRwS7s/kdbRrMFY6wuJhuk=\n=3pbz\n-----END PGP SIGNATURE-----", "payload": "tree 35382caafa3e7d94d5fb96a4c24c7b8624593769\nparent f470c299366c4598fe2477d3e7a846e220abb75e\nauthor DaniPopes <57450786+DaniPopes@users.noreply.github.com> 1681214690 +0200\ncommitter DaniPopes <57450786+DaniPopes@users.noreply.github.com> 1681214690 +0200\n\nrename maybe_delink to maybe_remove_mention\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c37e72897ce8f55f753721541cf4b3ddb083cd7c", "html_url": "https://github.com/rust-lang/rust/commit/c37e72897ce8f55f753721541cf4b3ddb083cd7c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c37e72897ce8f55f753721541cf4b3ddb083cd7c/comments", "author": {"login": "DaniPopes", "id": 57450786, "node_id": "MDQ6VXNlcjU3NDUwNzg2", "avatar_url": "https://avatars.githubusercontent.com/u/57450786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DaniPopes", "html_url": "https://github.com/DaniPopes", "followers_url": "https://api.github.com/users/DaniPopes/followers", "following_url": "https://api.github.com/users/DaniPopes/following{/other_user}", "gists_url": "https://api.github.com/users/DaniPopes/gists{/gist_id}", "starred_url": "https://api.github.com/users/DaniPopes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DaniPopes/subscriptions", "organizations_url": "https://api.github.com/users/DaniPopes/orgs", "repos_url": "https://api.github.com/users/DaniPopes/repos", "events_url": "https://api.github.com/users/DaniPopes/events{/privacy}", "received_events_url": "https://api.github.com/users/DaniPopes/received_events", "type": "User", "site_admin": false}, "committer": {"login": "DaniPopes", "id": 57450786, "node_id": "MDQ6VXNlcjU3NDUwNzg2", "avatar_url": "https://avatars.githubusercontent.com/u/57450786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DaniPopes", "html_url": "https://github.com/DaniPopes", "followers_url": "https://api.github.com/users/DaniPopes/followers", "following_url": "https://api.github.com/users/DaniPopes/following{/other_user}", "gists_url": "https://api.github.com/users/DaniPopes/gists{/gist_id}", "starred_url": "https://api.github.com/users/DaniPopes/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DaniPopes/subscriptions", "organizations_url": "https://api.github.com/users/DaniPopes/orgs", "repos_url": "https://api.github.com/users/DaniPopes/repos", "events_url": "https://api.github.com/users/DaniPopes/events{/privacy}", "received_events_url": "https://api.github.com/users/DaniPopes/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f470c299366c4598fe2477d3e7a846e220abb75e", "url": "https://api.github.com/repos/rust-lang/rust/commits/f470c299366c4598fe2477d3e7a846e220abb75e", "html_url": "https://github.com/rust-lang/rust/commit/f470c299366c4598fe2477d3e7a846e220abb75e"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "2018c239ba06803155352f9aa6689f36baf6795c", "filename": "src/tools/publish_toolstate.py", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c37e72897ce8f55f753721541cf4b3ddb083cd7c/src%2Ftools%2Fpublish_toolstate.py", "raw_url": "https://github.com/rust-lang/rust/raw/c37e72897ce8f55f753721541cf4b3ddb083cd7c/src%2Ftools%2Fpublish_toolstate.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fpublish_toolstate.py?ref=c37e72897ce8f55f753721541cf4b3ddb083cd7c", "patch": "@@ -86,7 +86,7 @@ def gh_url():\n     return os.environ['TOOLSTATE_ISSUES_API_URL']\n \n \n-def maybe_unlink(message):\n+def maybe_remove_mention(message):\n     # type: (str) -> str\n     if os.environ.get('TOOLSTATE_SKIP_MENTIONS') is not None:\n         return message.replace(\"@\", \"\")\n@@ -109,7 +109,7 @@ def issue(\n     else:\n         status_description = 'no longer builds'\n     request = json.dumps({\n-        'body': maybe_unlink(textwrap.dedent('''\\\n+        'body': maybe_remove_mention(textwrap.dedent('''\\\n         Hello, this is your friendly neighborhood mergebot.\n         After merging PR {}, I observed that the tool {} {}.\n         A follow-up PR to the repository {} is needed to fix the fallout.\n@@ -285,7 +285,7 @@ def update_latest(\n     issue_url = gh_url() + '/{}/comments'.format(number)\n     response = urllib2.urlopen(urllib2.Request(\n         issue_url,\n-        json.dumps({'body': maybe_unlink(message)}).encode(),\n+        json.dumps({'body': maybe_remove_mention(message)}).encode(),\n         {\n             'Authorization': 'token ' + github_token,\n             'Content-Type': 'application/json',"}]}