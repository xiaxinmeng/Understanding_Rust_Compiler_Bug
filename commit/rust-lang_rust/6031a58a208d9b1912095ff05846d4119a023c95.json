{"sha": "6031a58a208d9b1912095ff05846d4119a023c95", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYwMzFhNThhMjA4ZDliMTkxMjA5NWZmMDU4NDZkNDExOWEwMjNjOTU=", "commit": {"author": {"name": "Andrew Paseltiner", "email": "apaseltiner@gmail.com", "date": "2015-10-18T00:15:26Z"}, "committer": {"name": "Andrew Paseltiner", "email": "apaseltiner@gmail.com", "date": "2015-10-18T00:29:49Z"}, "message": "Remove some trivial `transmute`s\n\n`rbml::writer::Encoder::unsafe_clone` had no users across the entire\nrepo.", "tree": {"sha": "67ddb4f0664b6a179e3641160804878162ced756", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/67ddb4f0664b6a179e3641160804878162ced756"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6031a58a208d9b1912095ff05846d4119a023c95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6031a58a208d9b1912095ff05846d4119a023c95", "html_url": "https://github.com/rust-lang/rust/commit/6031a58a208d9b1912095ff05846d4119a023c95", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6031a58a208d9b1912095ff05846d4119a023c95/comments", "author": {"login": "apasel422", "id": 8644784, "node_id": "MDQ6VXNlcjg2NDQ3ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8644784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apasel422", "html_url": "https://github.com/apasel422", "followers_url": "https://api.github.com/users/apasel422/followers", "following_url": "https://api.github.com/users/apasel422/following{/other_user}", "gists_url": "https://api.github.com/users/apasel422/gists{/gist_id}", "starred_url": "https://api.github.com/users/apasel422/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apasel422/subscriptions", "organizations_url": "https://api.github.com/users/apasel422/orgs", "repos_url": "https://api.github.com/users/apasel422/repos", "events_url": "https://api.github.com/users/apasel422/events{/privacy}", "received_events_url": "https://api.github.com/users/apasel422/received_events", "type": "User", "site_admin": false}, "committer": {"login": "apasel422", "id": 8644784, "node_id": "MDQ6VXNlcjg2NDQ3ODQ=", "avatar_url": "https://avatars.githubusercontent.com/u/8644784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/apasel422", "html_url": "https://github.com/apasel422", "followers_url": "https://api.github.com/users/apasel422/followers", "following_url": "https://api.github.com/users/apasel422/following{/other_user}", "gists_url": "https://api.github.com/users/apasel422/gists{/gist_id}", "starred_url": "https://api.github.com/users/apasel422/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/apasel422/subscriptions", "organizations_url": "https://api.github.com/users/apasel422/orgs", "repos_url": "https://api.github.com/users/apasel422/repos", "events_url": "https://api.github.com/users/apasel422/events{/privacy}", "received_events_url": "https://api.github.com/users/apasel422/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "206af38e74ce7fa4b0e781ece7f1067c018c580e", "url": "https://api.github.com/repos/rust-lang/rust/commits/206af38e74ce7fa4b0e781ece7f1067c018c580e", "html_url": "https://github.com/rust-lang/rust/commit/206af38e74ce7fa4b0e781ece7f1067c018c580e"}], "stats": {"total": 25, "additions": 5, "deletions": 20}, "files": [{"sha": "4783b4339dac3af888633b490e6c2cea36b88e2c", "filename": "src/liballoc/boxed.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6031a58a208d9b1912095ff05846d4119a023c95/src%2Fliballoc%2Fboxed.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6031a58a208d9b1912095ff05846d4119a023c95/src%2Fliballoc%2Fboxed.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fboxed.rs?ref=6031a58a208d9b1912095ff05846d4119a023c95", "patch": "@@ -137,7 +137,7 @@ pub struct IntermediateBox<T: ?Sized> {\n \n impl<T> Place<T> for IntermediateBox<T> {\n     fn pointer(&mut self) -> *mut T {\n-        unsafe { ::core::mem::transmute(self.ptr) }\n+        self.ptr as *mut T\n     }\n }\n "}, {"sha": "1c6cb06d54ae4218530c3b3e22df155c442c83a6", "filename": "src/librbml/lib.rs", "status": "modified", "additions": 0, "deletions": 9, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6031a58a208d9b1912095ff05846d4119a023c95/src%2Flibrbml%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6031a58a208d9b1912095ff05846d4119a023c95/src%2Flibrbml%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrbml%2Flib.rs?ref=6031a58a208d9b1912095ff05846d4119a023c95", "patch": "@@ -932,15 +932,6 @@ pub mod writer {\n             }\n         }\n \n-        /// FIXME(pcwalton): Workaround for badness in trans. DO NOT USE ME.\n-        pub unsafe fn unsafe_clone(&self) -> Encoder<'a> {\n-            Encoder {\n-                writer: mem::transmute_copy(&self.writer),\n-                size_positions: self.size_positions.clone(),\n-                relax_limit: self.relax_limit,\n-            }\n-        }\n-\n         pub fn start_tag(&mut self, tag_id: usize) -> EncodeResult {\n             debug!(\"Start tag {:?}\", tag_id);\n             assert!(tag_id >= NUM_IMPLICIT_TAGS);"}, {"sha": "fe84cffa8c660cecf0540bd0f9c53892b67b4769", "filename": "src/librustc_llvm/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6031a58a208d9b1912095ff05846d4119a023c95/src%2Flibrustc_llvm%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6031a58a208d9b1912095ff05846d4119a023c95/src%2Flibrustc_llvm%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_llvm%2Flib.rs?ref=6031a58a208d9b1912095ff05846d4119a023c95", "patch": "@@ -60,7 +60,7 @@ pub use self::DLLStorageClassTypes::*;\n \n use std::ffi::CString;\n use std::cell::RefCell;\n-use std::{slice, mem};\n+use std::slice;\n use libc::{c_uint, c_ushort, uint64_t, c_int, size_t, c_char};\n use libc::{c_longlong, c_ulonglong, c_void};\n use debuginfo::{DIBuilderRef, DIDescriptor,\n@@ -2307,7 +2307,7 @@ pub unsafe extern \"C\" fn rust_llvm_string_write_impl(sr: RustStringRef,\n                                                      size: size_t) {\n     let slice = slice::from_raw_parts(ptr as *const u8, size as usize);\n \n-    let sr: RustStringRepr = mem::transmute(sr);\n+    let sr = sr as RustStringRepr;\n     (*sr).borrow_mut().push_all(slice);\n }\n "}, {"sha": "9bedc0cefb14c0d3a862803707d83cf31f9868b8", "filename": "src/librustc_trans/trans/base.rs", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/6031a58a208d9b1912095ff05846d4119a023c95/src%2Flibrustc_trans%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6031a58a208d9b1912095ff05846d4119a023c95/src%2Flibrustc_trans%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans%2Fbase.rs?ref=6031a58a208d9b1912095ff05846d4119a023c95", "patch": "@@ -89,7 +89,6 @@ use libc::c_uint;\n use std::ffi::{CStr, CString};\n use std::cell::{Cell, RefCell};\n use std::collections::{HashMap, HashSet};\n-use std::mem;\n use std::str;\n use std::{i8, i16, i32, i64};\n use syntax::abi::{Rust, RustCall, RustIntrinsic, PlatformIntrinsic, Abi};\n@@ -2661,11 +2660,7 @@ impl Iterator for ValueIter {\n     fn next(&mut self) -> Option<ValueRef> {\n         let old = self.cur;\n         if !old.is_null() {\n-            self.cur = unsafe {\n-                let step: unsafe extern \"C\" fn(ValueRef) -> ValueRef =\n-                    mem::transmute_copy(&self.step);\n-                step(old)\n-            };\n+            self.cur = unsafe { (self.step)(old) };\n             Some(old)\n         } else {\n             None"}, {"sha": "5629cba1e0b3c4675c1da38816e00e81a746414c", "filename": "src/libstd/dynamic_lib.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6031a58a208d9b1912095ff05846d4119a023c95/src%2Flibstd%2Fdynamic_lib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6031a58a208d9b1912095ff05846d4119a023c95/src%2Flibstd%2Fdynamic_lib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fdynamic_lib.rs?ref=6031a58a208d9b1912095ff05846d4119a023c95", "patch": "@@ -22,7 +22,6 @@ use prelude::v1::*;\n \n use env;\n use ffi::{CString, OsString};\n-use mem;\n use path::{Path, PathBuf};\n \n pub struct DynamicLibrary {\n@@ -114,7 +113,7 @@ impl DynamicLibrary {\n         // the destructor does not run.\n         match maybe_symbol_value {\n             Err(err) => Err(err),\n-            Ok(symbol_value) => Ok(mem::transmute(symbol_value))\n+            Ok(symbol_value) => Ok(symbol_value as *mut T)\n         }\n     }\n }"}]}