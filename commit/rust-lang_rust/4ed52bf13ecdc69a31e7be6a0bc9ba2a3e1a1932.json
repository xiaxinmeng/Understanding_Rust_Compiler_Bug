{"sha": "4ed52bf13ecdc69a31e7be6a0bc9ba2a3e1a1932", "node_id": "C_kwDOAAsO6NoAKDRlZDUyYmYxM2VjZGM2OWEzMWU3YmU2YTBiYzliYTJhM2UxYTE5MzI", "commit": {"author": {"name": "Serial", "email": "69764315+Serial-ATA@users.noreply.github.com", "date": "2022-05-05T22:27:56Z"}, "committer": {"name": "Serial", "email": "69764315+Serial-ATA@users.noreply.github.com", "date": "2022-05-05T22:27:56Z"}, "message": "Use CamelCase; Fix filter ranges", "tree": {"sha": "ff8dc5fec9ccef28c8a8b2c40aaccfdeb42b69b9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ff8dc5fec9ccef28c8a8b2c40aaccfdeb42b69b9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4ed52bf13ecdc69a31e7be6a0bc9ba2a3e1a1932", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4ed52bf13ecdc69a31e7be6a0bc9ba2a3e1a1932", "html_url": "https://github.com/rust-lang/rust/commit/4ed52bf13ecdc69a31e7be6a0bc9ba2a3e1a1932", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4ed52bf13ecdc69a31e7be6a0bc9ba2a3e1a1932/comments", "author": {"login": "Serial-ATA", "id": 69764315, "node_id": "MDQ6VXNlcjY5NzY0MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/69764315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Serial-ATA", "html_url": "https://github.com/Serial-ATA", "followers_url": "https://api.github.com/users/Serial-ATA/followers", "following_url": "https://api.github.com/users/Serial-ATA/following{/other_user}", "gists_url": "https://api.github.com/users/Serial-ATA/gists{/gist_id}", "starred_url": "https://api.github.com/users/Serial-ATA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Serial-ATA/subscriptions", "organizations_url": "https://api.github.com/users/Serial-ATA/orgs", "repos_url": "https://api.github.com/users/Serial-ATA/repos", "events_url": "https://api.github.com/users/Serial-ATA/events{/privacy}", "received_events_url": "https://api.github.com/users/Serial-ATA/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Serial-ATA", "id": 69764315, "node_id": "MDQ6VXNlcjY5NzY0MzE1", "avatar_url": "https://avatars.githubusercontent.com/u/69764315?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Serial-ATA", "html_url": "https://github.com/Serial-ATA", "followers_url": "https://api.github.com/users/Serial-ATA/followers", "following_url": "https://api.github.com/users/Serial-ATA/following{/other_user}", "gists_url": "https://api.github.com/users/Serial-ATA/gists{/gist_id}", "starred_url": "https://api.github.com/users/Serial-ATA/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Serial-ATA/subscriptions", "organizations_url": "https://api.github.com/users/Serial-ATA/orgs", "repos_url": "https://api.github.com/users/Serial-ATA/repos", "events_url": "https://api.github.com/users/Serial-ATA/events{/privacy}", "received_events_url": "https://api.github.com/users/Serial-ATA/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dd7bc86f227ca30f1c8a77955c60bced3a9c92db", "url": "https://api.github.com/repos/rust-lang/rust/commits/dd7bc86f227ca30f1c8a77955c60bced3a9c92db", "html_url": "https://github.com/rust-lang/rust/commit/dd7bc86f227ca30f1c8a77955c60bced3a9c92db"}], "stats": {"total": 54, "additions": 28, "deletions": 26}, "files": [{"sha": "11d99f39b5586db860d03cce63283da99f4ae3c2", "filename": "util/gh-pages/index.html", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/4ed52bf13ecdc69a31e7be6a0bc9ba2a3e1a1932/util%2Fgh-pages%2Findex.html", "raw_url": "https://github.com/rust-lang/rust/raw/4ed52bf13ecdc69a31e7be6a0bc9ba2a3e1a1932/util%2Fgh-pages%2Findex.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/util%2Fgh-pages%2Findex.html?ref=4ed52bf13ecdc69a31e7be6a0bc9ba2a3e1a1932", "patch": "@@ -435,7 +435,7 @@ <h1>Clippy Lints</h1>\n                                 <button type=\"button\" class=\"btn btn-default dropdown-toggle\">\n                                     Version\n                                     <span id=\"version-filter-count\" class=\"badge\">\n-                                        {{versionFilterCount(version_filters)}}\n+                                        {{versionFilterCount(versionFilters)}}\n                                     </span>\n                                     <span class=\"caret\"></span>\n                                 </button>\n@@ -447,15 +447,15 @@ <h1>Clippy Lints</h1>\n                                         </label>\n                                     </li>\n                                     <li role=\"separator\" class=\"divider\"></li>\n-                                    <li class=\"checkbox\" ng-repeat=\"(filter, vars) in version_filters\">\n+                                    <li class=\"checkbox\" ng-repeat=\"(filter, vars) in versionFilters\">\n                                         <label ng-attr-for=\"filter-{filter}\">{{filter}}</label>\n                                         <span>1.</span>\n                                         <input type=\"text\"\n                                                 ng-attr-id=\"filter-{filter}\"\n                                                 class=\"version-filter-input form-control filter-input\"\n                                                 maxlength=\"2\"\n                                                 placeholder=\"xx\"\n-                                                ng-model=\"version_filters[filter].minor_version\"\n+                                                ng-model=\"versionFilters[filter].minorVersion\"\n                                                 ng-model-options=\"{debounce: 50}\" />\n                                         <span>.0</span>\n                                     </li>\n@@ -536,4 +536,4 @@ <h2 class=\"panel-title\">\n     <script src=\"https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.12/angular.min.js\"></script>\n     <script src=\"script.js\"></script>\n </body>\n-</html>\n\\ No newline at end of file\n+</html>"}, {"sha": "8f6832aef539fa34d013ff7ffb17d12159e6d329", "filename": "util/gh-pages/script.js", "status": "modified", "additions": 24, "deletions": 22, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/4ed52bf13ecdc69a31e7be6a0bc9ba2a3e1a1932/util%2Fgh-pages%2Fscript.js", "raw_url": "https://github.com/rust-lang/rust/raw/4ed52bf13ecdc69a31e7be6a0bc9ba2a3e1a1932/util%2Fgh-pages%2Fscript.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/util%2Fgh-pages%2Fscript.js?ref=4ed52bf13ecdc69a31e7be6a0bc9ba2a3e1a1932", "patch": "@@ -136,13 +136,11 @@\n             };\n             $scope.themes = THEMES_DEFAULT;\n \n-            const DEFAULT_VERSION_FILTERS = {\n-                \"\u2265\": { enabled: false, minor_version: \"\" },\n-                \"\u2264\": { enabled: false, minor_version: \"\" },\n-                \"=\": { enabled: false, minor_version: \"\" },\n+            $scope.versionFilters = {\n+                \"\u2265\": {enabled: false, minorVersion: \"\"},\n+                \"\u2264\": {enabled: false, minorVersion: \"\"},\n+                \"=\": {enabled: false, minorVersion: \"\"},\n             };\n-            // Weird workaround to get a copy of the object\n-            $scope.version_filters = JSON.parse(JSON.stringify(DEFAULT_VERSION_FILTERS));\n \n             $scope.selectTheme = function (theme) {\n                 setTheme(theme, true);\n@@ -171,29 +169,31 @@\n             }\n \n             $scope.clearVersionFilters = function () {\n-                $scope.version_filters = JSON.parse(JSON.stringify(DEFAULT_VERSION_FILTERS));\n+                for (let filter in $scope.versionFilters) {\n+                    $scope.versionFilters[filter] = { enabled: false, minorVersion: \"\" };\n+                }\n             }\n \n             $scope.versionFilterCount = function(obj) {\n                 return Object.values(obj).filter(x => x.enabled).length;\n             }\n \n             $scope.byVersion = function(lint) {\n-                function validate_version_str(ver) {\n+                function validateVersionStr(ver) {\n                     return ver.length === 2 && !isNaN(ver);\n                 }\n \n-                let filters = $scope.version_filters;\n+                let filters = $scope.versionFilters;\n \n                 // Strip the \"pre \" prefix for pre 1.29.0 lints\n-                let lint_version = lint.version.startsWith(\"pre \") ? lint.version.substring(4, lint.version.length) : lint.version;\n-                let lint_minor_verison = lint_version.substring(2, 4);\n+                let lintVersion = lint.version.startsWith(\"pre \") ? lint.version.substring(4, lint.version.length) : lint.version;\n+                let lintMinorVersion = lintVersion.substring(2, 4);\n \n                 for (const filter in filters) {\n-                    let minor_version = filters[filter].minor_version;\n+                    let minorVersion = filters[filter].minorVersion;\n \n                     // Skip the work for version strings with invalid lengths or characters\n-                    if (!validate_version_str(minor_version)) {\n+                    if (!validateVersionStr(minorVersion)) {\n                         filters[filter].enabled = false;\n                         continue;\n                     }\n@@ -203,14 +203,14 @@\n                     let result;\n                     switch (filter) {\n                         case \"\u2265\":\n-                            result = (lint_minor_verison >= minor_version);\n+                            result = (lintMinorVersion >= minorVersion);\n                             break;\n                         case \"\u2264\":\n-                            result = (lint_minor_verison <= minor_version);\n+                            result = (lintMinorVersion <= minorVersion);\n                             break;\n                         // \"=\" gets the highest priority, since all filters are inclusive\n                         case \"=\":\n-                            return (lint_minor_verison === minor_version);\n+                            return (lintMinorVersion === minorVersion);\n                         default:\n                             return true\n                     }\n@@ -219,19 +219,21 @@\n                         return false;\n                     }\n \n-                    let cmp_filter;\n+                    let cmpFilter;\n                     if (filter === \"\u2265\") {\n-                        cmp_filter = \"\u2264\";\n+                        cmpFilter = \"\u2264\";\n                     } else {\n-                        cmp_filter = \"\u2265\";\n+                        cmpFilter = \"\u2265\";\n                     }\n \n-                    let cmp_minor_version = filters[cmp_filter].minor_version;\n-                    if (!filters[cmp_filter].enabled || !validate_version_str(cmp_minor_version)) {\n+                    let cmpMinorVersion = filters[cmpFilter].minorVersion;\n+                    if (!validateVersionStr(cmpMinorVersion)) {\n+                        filters[cmpFilter].enabled = false;\n                         return true;\n                     }\n \n-                    return (cmp_filter === \"\u2265\") ? (lint_minor_verison > minor_version) : (lint_minor_verison < minor_version);\n+                    filters[cmpFilter].enabled = true;\n+                    return (cmpFilter === \"\u2265\") ? (lintMinorVersion >= cmpMinorVersion) : (lintMinorVersion <= cmpMinorVersion);\n                 }\n \n                 return true;"}]}