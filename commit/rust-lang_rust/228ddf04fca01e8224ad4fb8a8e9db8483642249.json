{"sha": "228ddf04fca01e8224ad4fb8a8e9db8483642249", "node_id": "C_kwDOAAsO6NoAKDIyOGRkZjA0ZmNhMDFlODIyNGFkNGZiOGE4ZTlkYjg0ODM2NDIyNDk", "commit": {"author": {"name": "Lukas Markeffsky", "email": "@", "date": "2023-01-19T20:45:38Z"}, "committer": {"name": "Lukas Markeffsky", "email": "@", "date": "2023-01-20T19:16:37Z"}, "message": "fix overlapping spans for `clippy::uninlined_format_args`", "tree": {"sha": "0c103dc0343d7f3bdd74304173c855d9b54f0e97", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0c103dc0343d7f3bdd74304173c855d9b54f0e97"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/228ddf04fca01e8224ad4fb8a8e9db8483642249", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/228ddf04fca01e8224ad4fb8a8e9db8483642249", "html_url": "https://github.com/rust-lang/rust/commit/228ddf04fca01e8224ad4fb8a8e9db8483642249", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/228ddf04fca01e8224ad4fb8a8e9db8483642249/comments", "author": null, "committer": null, "parents": [{"sha": "e415e2f1a289f97d3b8ac4f4d2b7eb2b050b86cc", "url": "https://api.github.com/repos/rust-lang/rust/commits/e415e2f1a289f97d3b8ac4f4d2b7eb2b050b86cc", "html_url": "https://github.com/rust-lang/rust/commit/e415e2f1a289f97d3b8ac4f4d2b7eb2b050b86cc"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "bb7fa3087b7482a4480c0da7f8f510f37b508738", "filename": "src/tools/clippy/clippy_lints/src/format_args.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/228ddf04fca01e8224ad4fb8a8e9db8483642249/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fformat_args.rs", "raw_url": "https://github.com/rust-lang/rust/raw/228ddf04fca01e8224ad4fb8a8e9db8483642249/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fformat_args.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fformat_args.rs?ref=228ddf04fca01e8224ad4fb8a8e9db8483642249", "patch": "@@ -311,6 +311,10 @@ fn check_uninlined_args(\n     // in those cases, make the code suggestion hidden\n     let multiline_fix = fixes.iter().any(|(span, _)| cx.sess().source_map().is_multiline(*span));\n \n+    // Suggest removing each argument only once, for example in `format!(\"{0} {0}\", arg)`.\n+    fixes.sort_unstable_by_key(|(span, _)| *span);\n+    fixes.dedup_by_key(|(span, _)| *span);\n+\n     span_lint_and_then(\n         cx,\n         UNINLINED_FORMAT_ARGS,"}]}