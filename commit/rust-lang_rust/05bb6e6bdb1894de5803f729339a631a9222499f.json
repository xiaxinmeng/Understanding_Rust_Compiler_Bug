{"sha": "05bb6e6bdb1894de5803f729339a631a9222499f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA1YmI2ZTZiZGIxODk0ZGU1ODAzZjcyOTMzOWE2MzFhOTIyMjQ5OWY=", "commit": {"author": {"name": "JarredAllen", "email": "jarredallen73@gmail.com", "date": "2020-07-20T15:58:55Z"}, "committer": {"name": "JarredAllen", "email": "jarredallen73@gmail.com", "date": "2020-08-03T04:34:17Z"}, "message": "Create test for wanted behavior", "tree": {"sha": "8840a63248e0893c20e20c7c758ff499e2761441", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8840a63248e0893c20e20c7c758ff499e2761441"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/05bb6e6bdb1894de5803f729339a631a9222499f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/05bb6e6bdb1894de5803f729339a631a9222499f", "html_url": "https://github.com/rust-lang/rust/commit/05bb6e6bdb1894de5803f729339a631a9222499f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/05bb6e6bdb1894de5803f729339a631a9222499f/comments", "author": {"login": "JarredAllen", "id": 19656507, "node_id": "MDQ6VXNlcjE5NjU2NTA3", "avatar_url": "https://avatars.githubusercontent.com/u/19656507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JarredAllen", "html_url": "https://github.com/JarredAllen", "followers_url": "https://api.github.com/users/JarredAllen/followers", "following_url": "https://api.github.com/users/JarredAllen/following{/other_user}", "gists_url": "https://api.github.com/users/JarredAllen/gists{/gist_id}", "starred_url": "https://api.github.com/users/JarredAllen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JarredAllen/subscriptions", "organizations_url": "https://api.github.com/users/JarredAllen/orgs", "repos_url": "https://api.github.com/users/JarredAllen/repos", "events_url": "https://api.github.com/users/JarredAllen/events{/privacy}", "received_events_url": "https://api.github.com/users/JarredAllen/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JarredAllen", "id": 19656507, "node_id": "MDQ6VXNlcjE5NjU2NTA3", "avatar_url": "https://avatars.githubusercontent.com/u/19656507?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JarredAllen", "html_url": "https://github.com/JarredAllen", "followers_url": "https://api.github.com/users/JarredAllen/followers", "following_url": "https://api.github.com/users/JarredAllen/following{/other_user}", "gists_url": "https://api.github.com/users/JarredAllen/gists{/gist_id}", "starred_url": "https://api.github.com/users/JarredAllen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JarredAllen/subscriptions", "organizations_url": "https://api.github.com/users/JarredAllen/orgs", "repos_url": "https://api.github.com/users/JarredAllen/repos", "events_url": "https://api.github.com/users/JarredAllen/events{/privacy}", "received_events_url": "https://api.github.com/users/JarredAllen/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2e0f8b6cc61c1673991120639d6b104a195f755e", "url": "https://api.github.com/repos/rust-lang/rust/commits/2e0f8b6cc61c1673991120639d6b104a195f755e", "html_url": "https://github.com/rust-lang/rust/commit/2e0f8b6cc61c1673991120639d6b104a195f755e"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "1577e7a46edd513c53dfa2752924810babaf69d5", "filename": "tests/ui/needless_collect.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/05bb6e6bdb1894de5803f729339a631a9222499f/tests%2Fui%2Fneedless_collect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/05bb6e6bdb1894de5803f729339a631a9222499f/tests%2Fui%2Fneedless_collect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fneedless_collect.rs?ref=05bb6e6bdb1894de5803f729339a631a9222499f", "patch": "@@ -8,6 +8,9 @@ use std::collections::{BTreeSet, HashMap, HashSet};\n #[allow(unused_variables, clippy::iter_cloned_collect)]\n fn main() {\n     let sample = [1; 5];\n+    let indirect_with_into_iter = sample.iter().collect::<Vec<_>>();\n+    let indirect_with_iter = sample.iter().collect::<Vec<_>>();;\n+    let indirect_negative = sample.iter().collect::<Vec<_>>();;\n     let len = sample.iter().collect::<Vec<_>>().len();\n     if sample.iter().collect::<Vec<_>>().is_empty() {\n         // Empty\n@@ -18,4 +21,8 @@ fn main() {\n     sample.iter().collect::<HashSet<_>>().len();\n     // Neither should this\n     sample.iter().collect::<BTreeSet<_>>().len();\n+    indirect_with_into_iter.into_iter().map(|x| (x, x+1)).collect::<HashMap<_, _>>();\n+    indirect_with_iter.iter().map(|x| (x, x+1)).collect::<HashMap<_, _>>();\n+    indirect_negative.iter().map(|x| (x, x+1)).collect::<HashMap<_, _>>();\n+    indirect_negative.iter().map(|x| (x, x+1)).collect::<HashMap<_, _>>();\n }"}]}