{"sha": "1b8ca54002cec4affe363584ca0946568beeabf0", "node_id": "C_kwDOAAsO6NoAKDFiOGNhNTQwMDJjZWM0YWZmZTM2MzU4NGNhMDk0NjU2OGJlZWFiZjA", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-06-17T00:00:29Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-06-17T00:03:47Z"}, "message": "Add pp-exact test involving `where T:`\n\nCurrently fails.\n\n    ---- [pretty] src/test/pretty/where-clauses.rs stdout ----\n\n    error: pretty-printed source does not match expected source\n    expected:\n    ------------------------------------------\n    // pp-exact\n\n    fn f<'a, 'b, T>(t: T) -> isize where T: 'a, 'a: 'b, T: Eq { 0 }\n\n    // This is legal syntax, sometimes generated by macros. `where T: $($bound+)*`\n    fn zero_bounds<'a, T>() where 'a:, T: {}\n\n    fn main() {}\n\n    ------------------------------------------\n    actual:\n    ------------------------------------------\n    // pp-exact\n\n    fn f<'a, 'b, T>(t: T) -> isize where T: 'a, 'a: 'b, T: Eq { 0 }\n\n    // This is legal syntax, sometimes generated by macros. `where T: $($bound+)*`\n    fn zero_bounds<'a, T>() where 'a, T {}\n\n    fn main() {}\n\n    ------------------------------------------\n    diff:\n    ------------------------------------------\n    3\tfn f<'a, 'b, T>(t: T) -> isize where T: 'a, 'a: 'b, T: Eq { 0 }\n    4\n    5\t// This is legal syntax, sometimes generated by macros. `where T: $($bound+)*`\n    -\tfn zero_bounds<'a, T>() where 'a:, T: {}\n    +\tfn zero_bounds<'a, T>() where 'a, T {}\n    7\n    8\tfn main() {}\n    9", "tree": {"sha": "342fc56c8c77f24ff7eb97d9418dd640aab1ddcf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/342fc56c8c77f24ff7eb97d9418dd640aab1ddcf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1b8ca54002cec4affe363584ca0946568beeabf0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmKrxPYACgkQ+boUO5X/\nbYKZNRAAnLWPV6Dr2PBVdhpiBlaDIfNSkePu7kUqlRIbziyh8nLj9kViqsAStUyZ\nDUASP+Hm/GgPE+efFvacQyEpMbgkHfjO46OXJgwbXgI43FwNMVZZWj2hlBrFxwLm\nz520SoP/DittrEIwk68JctjmU5AnzWivO87aQd/uiNGGcUQYFhikpBHarMpfE4kc\npvaWCHDxIFw5c+dcT/YvdPxGinDA1IggDiLOJ4LMllOyewiD/62YeGWMtqiqEg2P\nEpXL4dT+v+xW9KyC7OiFf4K+B0E5BT8vWgs1tYaGYkza8eQHNCuftN070XK6BoGd\nbu8f525S2GB8S6ztmOjfaYzh8m//02jH+XJNamMtfHsBIvAtiPu5HhmZ6eGTsf/u\noqwxk79zAcyGgXF8sMLtpA374nLLek3Fgo5PRPDs0nzvXulH46/d+Crq5MZ5LEGy\n9+XLwCY0HqBdS5PT1xhBOgg3phZslQFRpxKaN96zhjiskYY1sD7ufXZ7ELb73NxM\nGL+sGH0aH016yiRdt6d6r19UG0TNeEP7lrKzXW0QnArb6vo2TD3Tw0JVJyyR0KoW\nifWjiwGcQ/aDN2zx6hp8CNcQ/QjF2/3xk9Ftuqs3n1jnN54p+A2a0QQEh7eEV1/w\ngWca5oMX5BZVz6u2YJoggcVsqR5YDifQNm/4GnU9/9mLDW+QGR8=\n=AHzg\n-----END PGP SIGNATURE-----", "payload": "tree 342fc56c8c77f24ff7eb97d9418dd640aab1ddcf\nparent 3bebee73397b692e84b9cc1b6af439fae78918c9\nauthor David Tolnay <dtolnay@gmail.com> 1655424029 -0700\ncommitter David Tolnay <dtolnay@gmail.com> 1655424227 -0700\n\nAdd pp-exact test involving `where T:`\n\nCurrently fails.\n\n    ---- [pretty] src/test/pretty/where-clauses.rs stdout ----\n\n    error: pretty-printed source does not match expected source\n    expected:\n    ------------------------------------------\n    // pp-exact\n\n    fn f<'a, 'b, T>(t: T) -> isize where T: 'a, 'a: 'b, T: Eq { 0 }\n\n    // This is legal syntax, sometimes generated by macros. `where T: $($bound+)*`\n    fn zero_bounds<'a, T>() where 'a:, T: {}\n\n    fn main() {}\n\n    ------------------------------------------\n    actual:\n    ------------------------------------------\n    // pp-exact\n\n    fn f<'a, 'b, T>(t: T) -> isize where T: 'a, 'a: 'b, T: Eq { 0 }\n\n    // This is legal syntax, sometimes generated by macros. `where T: $($bound+)*`\n    fn zero_bounds<'a, T>() where 'a, T {}\n\n    fn main() {}\n\n    ------------------------------------------\n    diff:\n    ------------------------------------------\n    3\tfn f<'a, 'b, T>(t: T) -> isize where T: 'a, 'a: 'b, T: Eq { 0 }\n    4\n    5\t// This is legal syntax, sometimes generated by macros. `where T: $($bound+)*`\n    -\tfn zero_bounds<'a, T>() where 'a:, T: {}\n    +\tfn zero_bounds<'a, T>() where 'a, T {}\n    7\n    8\tfn main() {}\n    9\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1b8ca54002cec4affe363584ca0946568beeabf0", "html_url": "https://github.com/rust-lang/rust/commit/1b8ca54002cec4affe363584ca0946568beeabf0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1b8ca54002cec4affe363584ca0946568beeabf0/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3bebee73397b692e84b9cc1b6af439fae78918c9", "url": "https://api.github.com/repos/rust-lang/rust/commits/3bebee73397b692e84b9cc1b6af439fae78918c9", "html_url": "https://github.com/rust-lang/rust/commit/3bebee73397b692e84b9cc1b6af439fae78918c9"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "4183799457b7fb0c744dc321fed0d1a92ee87185", "filename": "src/test/pretty/where-clauses.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/1b8ca54002cec4affe363584ca0946568beeabf0/src%2Ftest%2Fpretty%2Fwhere-clauses.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1b8ca54002cec4affe363584ca0946568beeabf0/src%2Ftest%2Fpretty%2Fwhere-clauses.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Fwhere-clauses.rs?ref=1b8ca54002cec4affe363584ca0946568beeabf0", "patch": "@@ -2,4 +2,7 @@\n \n fn f<'a, 'b, T>(t: T) -> isize where T: 'a, 'a: 'b, T: Eq { 0 }\n \n+// This is legal syntax, sometimes generated by macros. `where T: $($bound+)*`\n+fn zero_bounds<'a, T>() where 'a:, T: {}\n+\n fn main() {}"}]}