{"sha": "a50811a214b50d4a835ba1ad8eac546f9c7af9fa", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE1MDgxMWEyMTRiNTBkNGE4MzViYTFhZDhlYWM1NDZmOWM3YWY5ZmE=", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2020-07-30T19:11:30Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2020-12-10T20:31:52Z"}, "message": "Add safety note to library/std/src/sys/unix/fd.rs\n\nCo-authored-by: Elichai Turkel <elichai.turkel@gmail.com>", "tree": {"sha": "bf6f7cea3d11dc806c3edc219db1dad4e9c22a2d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bf6f7cea3d11dc806c3edc219db1dad4e9c22a2d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a50811a214b50d4a835ba1ad8eac546f9c7af9fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a50811a214b50d4a835ba1ad8eac546f9c7af9fa", "html_url": "https://github.com/rust-lang/rust/commit/a50811a214b50d4a835ba1ad8eac546f9c7af9fa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a50811a214b50d4a835ba1ad8eac546f9c7af9fa/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "59abdb6a7eef003b1a1b0711ceb9a1edb1d1b84c", "url": "https://api.github.com/repos/rust-lang/rust/commits/59abdb6a7eef003b1a1b0711ceb9a1edb1d1b84c", "html_url": "https://github.com/rust-lang/rust/commit/59abdb6a7eef003b1a1b0711ceb9a1edb1d1b84c"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "08c63444e2bb64d757f17abf96013921fb5ba542", "filename": "library/std/src/sys/unix/fd.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a50811a214b50d4a835ba1ad8eac546f9c7af9fa/library%2Fstd%2Fsrc%2Fsys%2Funix%2Ffd.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a50811a214b50d4a835ba1ad8eac546f9c7af9fa/library%2Fstd%2Fsrc%2Fsys%2Funix%2Ffd.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Ffd.rs?ref=a50811a214b50d4a835ba1ad8eac546f9c7af9fa", "patch": "@@ -69,6 +69,7 @@ const fn max_iov() -> usize {\n impl FileDesc {\n     pub fn new(fd: c_int) -> FileDesc {\n         assert_ne!(fd, -1);\n+        // SAFETY: we just asserted that the value is in the valid range and isn't `-1` (the only value bigger than `0xFF_FF_FF_FE` unsigned)\n         unsafe { FileDesc { fd } }\n     }\n "}]}