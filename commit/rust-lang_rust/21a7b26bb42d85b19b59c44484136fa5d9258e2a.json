{"sha": "21a7b26bb42d85b19b59c44484136fa5d9258e2a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIxYTdiMjZiYjQyZDg1YjE5YjU5YzQ0NDg0MTM2ZmE1ZDkyNThlMmE=", "commit": {"author": {"name": "Mark Simulacrum", "email": "mark.simulacrum@gmail.com", "date": "2017-07-18T15:41:37Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-07-18T15:41:37Z"}, "message": "Rollup merge of #43314 - alexcrichton:fail-curl, r=aidanhs\n\ntravis: Switch `curl -s` to `curl -f`\n\nI seem to have been a little too tired when I fixed up the container scripts,\napplying the wrong flag!", "tree": {"sha": "679d977c0d3ce718b64248ab092d9c03d17e87de", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/679d977c0d3ce718b64248ab092d9c03d17e87de"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/21a7b26bb42d85b19b59c44484136fa5d9258e2a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/21a7b26bb42d85b19b59c44484136fa5d9258e2a", "html_url": "https://github.com/rust-lang/rust/commit/21a7b26bb42d85b19b59c44484136fa5d9258e2a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/21a7b26bb42d85b19b59c44484136fa5d9258e2a/comments", "author": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fc7f0fd40a834bee9f6f30ad9470ebc38768eedd", "url": "https://api.github.com/repos/rust-lang/rust/commits/fc7f0fd40a834bee9f6f30ad9470ebc38768eedd", "html_url": "https://github.com/rust-lang/rust/commit/fc7f0fd40a834bee9f6f30ad9470ebc38768eedd"}, {"sha": "8340f74eb71bdc9b1fd9e456eee27a7e034f8805", "url": "https://api.github.com/repos/rust-lang/rust/commits/8340f74eb71bdc9b1fd9e456eee27a7e034f8805", "html_url": "https://github.com/rust-lang/rust/commit/8340f74eb71bdc9b1fd9e456eee27a7e034f8805"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "ec030496d393a4fb5f8285cc02feec096f8df32a", "filename": "src/ci/docker/scripts/android-ndk.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fandroid-ndk.sh", "raw_url": "https://github.com/rust-lang/rust/raw/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fandroid-ndk.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fandroid-ndk.sh?ref=21a7b26bb42d85b19b59c44484136fa5d9258e2a", "patch": "@@ -15,7 +15,7 @@ URL=https://dl.google.com/android/repository\n download_ndk() {\n     mkdir -p /android/ndk\n     cd /android/ndk\n-    curl -sO $URL/$1\n+    curl -fO $URL/$1\n     unzip -q $1\n     rm $1\n     mv android-ndk-* ndk"}, {"sha": "d343aae9dfb6839e85a4de88e1cc9dd3a31dee70", "filename": "src/ci/docker/scripts/android-sdk.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fandroid-sdk.sh", "raw_url": "https://github.com/rust-lang/rust/raw/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fandroid-sdk.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fandroid-sdk.sh?ref=21a7b26bb42d85b19b59c44484136fa5d9258e2a", "patch": "@@ -15,7 +15,7 @@ URL=https://dl.google.com/android/repository\n download_sdk() {\n     mkdir -p /android/sdk\n     cd /android/sdk\n-    curl -sO $URL/$1\n+    curl -fO $URL/$1\n     unzip -q $1\n     rm -rf $1\n }"}, {"sha": "79a5bc3bb4ac620c8b0f30c304a686e7822ed0a5", "filename": "src/ci/docker/scripts/crosstool-ng.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fcrosstool-ng.sh", "raw_url": "https://github.com/rust-lang/rust/raw/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fcrosstool-ng.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fcrosstool-ng.sh?ref=21a7b26bb42d85b19b59c44484136fa5d9258e2a", "patch": "@@ -11,7 +11,7 @@\n set -ex\n \n url=\"http://crosstool-ng.org/download/crosstool-ng/crosstool-ng-1.22.0.tar.bz2\"\n-curl -s $url | tar xjf -\n+curl -f $url | tar xjf -\n cd crosstool-ng\n ./configure --prefix=/usr/local\n make -j$(nproc)"}, {"sha": "42ecec6ba08dc6cd83c3ceb2ed4789ccb5defe4b", "filename": "src/ci/docker/scripts/dumb-init.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fdumb-init.sh", "raw_url": "https://github.com/rust-lang/rust/raw/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fdumb-init.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fdumb-init.sh?ref=21a7b26bb42d85b19b59c44484136fa5d9258e2a", "patch": "@@ -10,6 +10,6 @@\n \n set -ex\n \n-curl -sOL https://github.com/Yelp/dumb-init/releases/download/v1.2.0/dumb-init_1.2.0_amd64.deb\n+curl -fOL https://github.com/Yelp/dumb-init/releases/download/v1.2.0/dumb-init_1.2.0_amd64.deb\n dpkg -i dumb-init_*.deb\n rm dumb-init_*.deb"}, {"sha": "18499060a20f5fd9cec1fb6c7b434c4eb21ee9d0", "filename": "src/ci/docker/scripts/emscripten-wasm.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Femscripten-wasm.sh", "raw_url": "https://github.com/rust-lang/rust/raw/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Femscripten-wasm.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Femscripten-wasm.sh?ref=21a7b26bb42d85b19b59c44484136fa5d9258e2a", "patch": "@@ -28,7 +28,7 @@ exit 1\n }\n \n # Download last known good emscripten from WebAssembly waterfall\n-BUILD=$(curl -sL https://storage.googleapis.com/wasm-llvm/builds/linux/lkgr.json | \\\n+BUILD=$(curl -fL https://storage.googleapis.com/wasm-llvm/builds/linux/lkgr.json | \\\n     jq '.build | tonumber')\n curl -sL https://storage.googleapis.com/wasm-llvm/builds/linux/$BUILD/wasm-binaries.tbz2 | \\\n     hide_output tar xvkj"}, {"sha": "d32ed6b461d858394775710d657f2cbe26bbfff4", "filename": "src/ci/docker/scripts/emscripten.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Femscripten.sh", "raw_url": "https://github.com/rust-lang/rust/raw/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Femscripten.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Femscripten.sh?ref=21a7b26bb42d85b19b59c44484136fa5d9258e2a", "patch": "@@ -28,7 +28,7 @@ exit 1\n }\n \n cd /\n-curl -sL https://s3.amazonaws.com/mozilla-games/emscripten/releases/emsdk-portable.tar.gz | \\\n+curl -fL https://s3.amazonaws.com/mozilla-games/emscripten/releases/emsdk-portable.tar.gz | \\\n     tar -xz\n \n cd /emsdk-portable"}, {"sha": "ec6e046c96452e3ec25499850643febe6fac97b5", "filename": "src/ci/docker/scripts/make3.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fmake3.sh", "raw_url": "https://github.com/rust-lang/rust/raw/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fmake3.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fmake3.sh?ref=21a7b26bb42d85b19b59c44484136fa5d9258e2a", "patch": "@@ -10,7 +10,7 @@\n \n set -ex\n \n-curl -s https://ftp.gnu.org/gnu/make/make-3.81.tar.gz | tar xzf -\n+curl -f https://ftp.gnu.org/gnu/make/make-3.81.tar.gz | tar xzf -\n cd make-3.81\n ./configure --prefix=/usr\n make"}, {"sha": "98b0ed712c02a214736fffd9c0f980f1e7328d31", "filename": "src/ci/docker/scripts/sccache.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fsccache.sh", "raw_url": "https://github.com/rust-lang/rust/raw/21a7b26bb42d85b19b59c44484136fa5d9258e2a/src%2Fci%2Fdocker%2Fscripts%2Fsccache.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Fsccache.sh?ref=21a7b26bb42d85b19b59c44484136fa5d9258e2a", "patch": "@@ -10,7 +10,7 @@\n \n set -ex\n \n-curl -so /usr/local/bin/sccache \\\n+curl -fo /usr/local/bin/sccache \\\n   https://s3.amazonaws.com/rust-lang-ci/rust-ci-mirror/2017-05-12-sccache-x86_64-unknown-linux-musl\n \n chmod +x /usr/local/bin/sccache"}]}