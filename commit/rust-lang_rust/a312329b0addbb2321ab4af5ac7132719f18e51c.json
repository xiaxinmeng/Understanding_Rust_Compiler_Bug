{"sha": "a312329b0addbb2321ab4af5ac7132719f18e51c", "node_id": "C_kwDOAAsO6NoAKGEzMTIzMjliMGFkZGJiMjMyMWFiNGFmNWFjNzEzMjcxOWYxOGU1MWM", "commit": {"author": {"name": "Ben Kimock", "email": "kimockb@gmail.com", "date": "2022-11-23T03:22:47Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-11-23T03:22:47Z"}, "message": "Update src/machine.rs\n\nCo-authored-by: Ralf Jung <post@ralfj.de>", "tree": {"sha": "ffe6c373686f322298266f093fae994989f97aba", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ffe6c373686f322298266f093fae994989f97aba"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a312329b0addbb2321ab4af5ac7132719f18e51c", "comment_count": 0, "verification": {"verified": false, "reason": "invalid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjfZIHCRBK7hj4Ov3rIwAAk6wIAFAFvLJFM1wGouUeg1AoPTfb\nxxFOiwknnR8gj00WGgSaIaGTfADHP2JtauP1aISUqF6e69btFY1Qpbc1HauF9EBC\nY9Uyg+9I2+WuIt6Y26I2y3EJKhSTpTzHD5v2leqltuxwtZ+ktn/yDm8U2Z6Ig8Ns\nvCDuIpLfjpA89f31+6bXx5WEJEPnjPOupAsiYT4095y8oNtHUt1YM0bTPFx+fDjQ\nd5128al0aa8M6vARp3AP3saMAYOEJFDvvU7RDwi/sPKk/GZCHYYQlNVNY1hMMVdy\nRjmP1YWmoaFT2JK2TNb5bq8+iWlP/BYXz/S4zaKEFcKpLLb19YYOtC/ZpqS/xuo=\n=CKXn\n-----END PGP SIGNATURE-----\n", "payload": "tree ffe6c373686f322298266f093fae994989f97aba\nparent 1ca3c293b2c196e02e188faeddf0a0d776d39fd6\nauthor Ben Kimock <kimockb@gmail.com> 1669173767 -0500\ncommitter GitHub <noreply@github.com> 1669173767 -0500\n\nUpdate src/machine.rs\n\nCo-authored-by: Ralf Jung <post@ralfj.de>"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a312329b0addbb2321ab4af5ac7132719f18e51c", "html_url": "https://github.com/rust-lang/rust/commit/a312329b0addbb2321ab4af5ac7132719f18e51c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a312329b0addbb2321ab4af5ac7132719f18e51c/comments", "author": {"login": "saethlin", "id": 12105168, "node_id": "MDQ6VXNlcjEyMTA1MTY4", "avatar_url": "https://avatars.githubusercontent.com/u/12105168?v=4", "gravatar_id": "", "url": "https://api.github.com/users/saethlin", "html_url": "https://github.com/saethlin", "followers_url": "https://api.github.com/users/saethlin/followers", "following_url": "https://api.github.com/users/saethlin/following{/other_user}", "gists_url": "https://api.github.com/users/saethlin/gists{/gist_id}", "starred_url": "https://api.github.com/users/saethlin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/saethlin/subscriptions", "organizations_url": "https://api.github.com/users/saethlin/orgs", "repos_url": "https://api.github.com/users/saethlin/repos", "events_url": "https://api.github.com/users/saethlin/events{/privacy}", "received_events_url": "https://api.github.com/users/saethlin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1ca3c293b2c196e02e188faeddf0a0d776d39fd6", "url": "https://api.github.com/repos/rust-lang/rust/commits/1ca3c293b2c196e02e188faeddf0a0d776d39fd6", "html_url": "https://github.com/rust-lang/rust/commit/1ca3c293b2c196e02e188faeddf0a0d776d39fd6"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "b7f434b5557c6c2e17e92835d212dc9012140ea1", "filename": "src/tools/miri/src/machine.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a312329b0addbb2321ab4af5ac7132719f18e51c/src%2Ftools%2Fmiri%2Fsrc%2Fmachine.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a312329b0addbb2321ab4af5ac7132719f18e51c/src%2Ftools%2Fmiri%2Fsrc%2Fmachine.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Fsrc%2Fmachine.rs?ref=a312329b0addbb2321ab4af5ac7132719f18e51c", "patch": "@@ -1192,6 +1192,8 @@ impl<'mir, 'tcx> Machine<'mir, 'tcx> for MiriMachine<'mir, 'tcx> {\n         if frame.extra.is_user_relevant {\n             // All that we store is whether or not the frame we just removed is local, so now we\n             // have no idea where the next topmost local frame is. So we recompute it.\n+            // (If this ever becomes a bottleneck, we could have `push` store the previous\n+            // user-relevant frame and restore that here.)\n             ecx.active_thread_mut().recompute_top_user_relevant_frame();\n         }\n         let timing = frame.extra.timing.take();"}]}