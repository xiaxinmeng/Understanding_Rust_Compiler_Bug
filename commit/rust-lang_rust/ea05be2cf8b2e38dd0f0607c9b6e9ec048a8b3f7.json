{"sha": "ea05be2cf8b2e38dd0f0607c9b6e9ec048a8b3f7", "node_id": "C_kwDOAAsO6NoAKGVhMDViZTJjZjhiMmUzOGRkMGYwNjA3YzliNmU5ZWMwNDhhOGIzZjc", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-08-10T13:50:20Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-08-10T13:57:32Z"}, "message": "Update GUI test", "tree": {"sha": "975f55531d8494e7f93649a424e27dcb70415c1d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/975f55531d8494e7f93649a424e27dcb70415c1d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ea05be2cf8b2e38dd0f0607c9b6e9ec048a8b3f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ea05be2cf8b2e38dd0f0607c9b6e9ec048a8b3f7", "html_url": "https://github.com/rust-lang/rust/commit/ea05be2cf8b2e38dd0f0607c9b6e9ec048a8b3f7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ea05be2cf8b2e38dd0f0607c9b6e9ec048a8b3f7/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "107e039d9b92104e344b26716db29b9fc936e4cc", "url": "https://api.github.com/repos/rust-lang/rust/commits/107e039d9b92104e344b26716db29b9fc936e4cc", "html_url": "https://github.com/rust-lang/rust/commit/107e039d9b92104e344b26716db29b9fc936e4cc"}], "stats": {"total": 46, "additions": 14, "deletions": 32}, "files": [{"sha": "db4907924faf351827c37824d805c92a93d20649", "filename": "src/test/rustdoc-gui/search-result-display.goml", "status": "modified", "additions": 14, "deletions": 32, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/ea05be2cf8b2e38dd0f0607c9b6e9ec048a8b3f7/src%2Ftest%2Frustdoc-gui%2Fsearch-result-display.goml", "raw_url": "https://github.com/rust-lang/rust/raw/ea05be2cf8b2e38dd0f0607c9b6e9ec048a8b3f7/src%2Ftest%2Frustdoc-gui%2Fsearch-result-display.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsearch-result-display.goml?ref=ea05be2cf8b2e38dd0f0607c9b6e9ec048a8b3f7", "patch": "@@ -4,7 +4,7 @@ size: (900, 1000)\n write: (\".search-input\", \"test\")\n // To be SURE that the search will be run.\n press-key: 'Enter'\n-wait-for: \".search-results-title\"\n+wait-for: \"#crate-search\"\n // The width is returned by \"getComputedStyle\" which returns the exact number instead of the\n // CSS rule which is \"50%\"...\n assert-css: (\".search-results div.desc\", {\"width\": \"295px\"})\n@@ -17,36 +17,18 @@ assert-css: (\".search-results div.desc\", {\"width\": \"570px\"})\n // To do so we need to update the length of one of its `<option>`.\n size: (900, 900)\n \n-// First we check the current width and position.\n-assert-css: (\"#crate-search\", {\"width\": \"218px\"})\n-compare-elements-position-near: (\n-    \"#crate-search\",\n-    \".search-results-title\",\n-    {\"y\": 5},\n-)\n+// First we check the current width, height and position.\n+assert-css: (\"#crate-search\", {\"width\": \"223px\"})\n+assert-css: (\".search-results-title\", {\"height\": \"44px\", \"width\": \"336px\"})\n \n-// FIXME: Fix and re-enable these tests!\n+// Then we update the text of one of the `<option>`.\n+text: (\n+    \"#crate-search option\",\n+    \"sdjfaksdjfaksjdbfkadsbfkjsadbfkdsbkfbsadkjfbkdsabfkadsfkjdsafa\",\n+)\n \n-// // First we check the current width and position.\n-// assert-css: (\"#crate-search\", {\"width\": \"222px\"})\n-// compare-elements-position-near: (\n-//     \"#crate-search\",\n-//     \"#search-settings .search-results-title\",\n-//     {\"y\": 5},\n-// )\n-// \n-// // Then we update the text of one of the `<option>`.\n-// text: (\n-//     \"#crate-search option\",\n-//     \"sdjfaksdjfaksjdbfkadsbfkjsadbfkdsbkfbsadkjfbkdsabfkadsfkjdsafa\",\n-// )\n-// \n-// // Then we compare again.\n-// assert-css: (\"#crate-search\", {\"width\": \"640px\"})\n-// compare-elements-position-near-false: (\n-//     \"#crate-search\",\n-//     \"#search-settings .search-results-title\",\n-//     {\"y\": 5},\n-// )\n-// // And we check that the `<select>` isn't bigger than its container.\n-// assert-css: (\"#search\", {\"width\": \"640px\"})\n+// Then we compare again to confirm the height didn't change.\n+assert-css: (\"#crate-search\", {\"width\": \"527px\"})\n+assert-css: (\".search-results-title\", {\"height\": \"44px\", \"width\": \"640px\"})\n+// And we check that the `<select>` isn't bigger than its container (\".search-results-title\").\n+assert-css: (\"#search\", {\"width\": \"640px\"})"}]}