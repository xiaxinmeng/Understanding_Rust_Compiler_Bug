{"sha": "17380f2ac6d0d259ab6fd3685f9f107e368c01d3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE3MzgwZjJhYzZkMGQyNTlhYjZmZDM2ODVmOWYxMDdlMzY4YzAxZDM=", "commit": {"author": {"name": "Corey Farwell", "email": "coreyf@rwell.org", "date": "2017-12-24T19:29:13Z"}, "committer": {"name": "Corey Farwell", "email": "coreyf@rwell.org", "date": "2017-12-24T19:29:13Z"}, "message": "Minor rewrite of env::current_exe docs; clarify symlinks.\n\n- Update example in \u2018security\u2019 section to use hard links, like the\n  linked securityvulns.com example.\n- Weaken language on symbolic links \u2013 indicate behavior is\n  platform-specific\n\nFixes https://github.com/rust-lang/rust/issues/43617.", "tree": {"sha": "36b9c4771164be68ea6fdbd922b3a12277d624c4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/36b9c4771164be68ea6fdbd922b3a12277d624c4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/17380f2ac6d0d259ab6fd3685f9f107e368c01d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/17380f2ac6d0d259ab6fd3685f9f107e368c01d3", "html_url": "https://github.com/rust-lang/rust/commit/17380f2ac6d0d259ab6fd3685f9f107e368c01d3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/17380f2ac6d0d259ab6fd3685f9f107e368c01d3/comments", "author": {"login": "frewsxcv", "id": 416575, "node_id": "MDQ6VXNlcjQxNjU3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frewsxcv", "html_url": "https://github.com/frewsxcv", "followers_url": "https://api.github.com/users/frewsxcv/followers", "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}", "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions", "organizations_url": "https://api.github.com/users/frewsxcv/orgs", "repos_url": "https://api.github.com/users/frewsxcv/repos", "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}", "received_events_url": "https://api.github.com/users/frewsxcv/received_events", "type": "User", "site_admin": false}, "committer": {"login": "frewsxcv", "id": 416575, "node_id": "MDQ6VXNlcjQxNjU3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frewsxcv", "html_url": "https://github.com/frewsxcv", "followers_url": "https://api.github.com/users/frewsxcv/followers", "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}", "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions", "organizations_url": "https://api.github.com/users/frewsxcv/orgs", "repos_url": "https://api.github.com/users/frewsxcv/repos", "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}", "received_events_url": "https://api.github.com/users/frewsxcv/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "51b47dc4a1af3260738aa7c5d4e31e8d77c0c0b6", "url": "https://api.github.com/repos/rust-lang/rust/commits/51b47dc4a1af3260738aa7c5d4e31e8d77c0c0b6", "html_url": "https://github.com/rust-lang/rust/commit/51b47dc4a1af3260738aa7c5d4e31e8d77c0c0b6"}], "stats": {"total": 19, "additions": 11, "deletions": 8}, "files": [{"sha": "ed34c1204b3a1bd21e4c220c11cdf300b8eac0c4", "filename": "src/libstd/env.rs", "status": "modified", "additions": 11, "deletions": 8, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/17380f2ac6d0d259ab6fd3685f9f107e368c01d3/src%2Flibstd%2Fenv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17380f2ac6d0d259ab6fd3685f9f107e368c01d3/src%2Flibstd%2Fenv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fenv.rs?ref=17380f2ac6d0d259ab6fd3685f9f107e368c01d3", "patch": "@@ -571,8 +571,11 @@ pub fn temp_dir() -> PathBuf {\n \n /// Returns the full filesystem path of the current running executable.\n ///\n-/// The path returned is not necessarily a \"real path\" of the executable as\n-/// there may be intermediate symlinks.\n+/// # Platform-specific behavior\n+///\n+/// If the executable was invoked through a symbolic link, some platforms will\n+/// return the path of the symbolic link and other platforms will return the\n+/// path of the symbolic link\u2019s target.\n ///\n /// # Errors\n ///\n@@ -599,24 +602,24 @@ pub fn temp_dir() -> PathBuf {\n /// Ok(\"/home/alex/foo\")\n /// ```\n ///\n-/// And you make a symbolic link of the program:\n+/// And you make a hard link of the program:\n ///\n /// ```bash\n /// $ ln foo bar\n /// ```\n ///\n-/// When you run it, you won't get the original executable, you'll get the\n-/// symlink:\n+/// When you run it, you won\u2019t get the path of the original executable, you\u2019ll\n+/// get the path of the hard link:\n ///\n /// ```bash\n /// $ ./bar\n /// Ok(\"/home/alex/bar\")\n /// ```\n ///\n /// This sort of behavior has been known to [lead to privilege escalation] when\n-/// used incorrectly, for example.\n+/// used incorrectly.\n ///\n-/// [lead to privilege escalation]: http://securityvulns.com/Wdocument183.html\n+/// [lead to privilege escalation]: https://securityvulns.com/Wdocument183.html\n ///\n /// # Examples\n ///\n@@ -625,7 +628,7 @@ pub fn temp_dir() -> PathBuf {\n ///\n /// match env::current_exe() {\n ///     Ok(exe_path) => println!(\"Path of this executable is: {}\",\n-///                               exe_path.display()),\n+///                              exe_path.display()),\n ///     Err(e) => println!(\"failed to get current exe path: {}\", e),\n /// };\n /// ```"}]}