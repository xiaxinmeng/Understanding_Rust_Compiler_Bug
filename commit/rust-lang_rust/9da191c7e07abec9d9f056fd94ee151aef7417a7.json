{"sha": "9da191c7e07abec9d9f056fd94ee151aef7417a7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlkYTE5MWM3ZTA3YWJlYzlkOWYwNTZmZDk0ZWUxNTFhZWY3NDE3YTc=", "commit": {"author": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2021-04-05T20:12:40Z"}, "committer": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2021-04-06T08:45:34Z"}, "message": "Add Lifetime to DynTy", "tree": {"sha": "93b129a12ebb0c6f9890787d4bfda1e7d325bf68", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/93b129a12ebb0c6f9890787d4bfda1e7d325bf68"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9da191c7e07abec9d9f056fd94ee151aef7417a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9da191c7e07abec9d9f056fd94ee151aef7417a7", "html_url": "https://github.com/rust-lang/rust/commit/9da191c7e07abec9d9f056fd94ee151aef7417a7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9da191c7e07abec9d9f056fd94ee151aef7417a7/comments", "author": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "96756f1b1df4729fd00ca96a59971b3997c91934", "url": "https://api.github.com/repos/rust-lang/rust/commits/96756f1b1df4729fd00ca96a59971b3997c91934", "html_url": "https://github.com/rust-lang/rust/commit/96756f1b1df4729fd00ca96a59971b3997c91934"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "ff795377a82c479fccbbbad0f7e8192ea9747efb", "filename": "crates/hir_ty/src/lower.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9da191c7e07abec9d9f056fd94ee151aef7417a7/crates%2Fhir_ty%2Fsrc%2Flower.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9da191c7e07abec9d9f056fd94ee151aef7417a7/crates%2Fhir_ty%2Fsrc%2Flower.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Flower.rs?ref=9da191c7e07abec9d9f056fd94ee151aef7417a7", "patch": "@@ -200,7 +200,8 @@ impl<'a> TyLoweringContext<'a> {\n                     )\n                 });\n                 let bounds = crate::make_only_type_binders(1, bounds);\n-                TyKind::Dyn(DynTy { bounds }).intern(&Interner)\n+                TyKind::Dyn(DynTy { bounds, lifetime: LifetimeData::Static.intern(&Interner) })\n+                    .intern(&Interner)\n             }\n             TypeRef::ImplTrait(bounds) => {\n                 match self.impl_trait_mode {\n@@ -392,6 +393,7 @@ impl<'a> TyLoweringContext<'a> {\n                                 ))),\n                             ),\n                         ),\n+                        lifetime: LifetimeData::Static.intern(&Interner),\n                     };\n                     TyKind::Dyn(dyn_ty).intern(&Interner)\n                 };"}, {"sha": "791f342a14de9840fbbcace526a80df5f9fc933f", "filename": "crates/hir_ty/src/traits/chalk/mapping.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9da191c7e07abec9d9f056fd94ee151aef7417a7/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk%2Fmapping.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9da191c7e07abec9d9f056fd94ee151aef7417a7/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk%2Fmapping.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftraits%2Fchalk%2Fmapping.rs?ref=9da191c7e07abec9d9f056fd94ee151aef7417a7", "patch": "@@ -149,6 +149,7 @@ impl ToChalk for Ty {\n                         where_clauses.bounds.binders.clone(),\n                         crate::QuantifiedWhereClauses::from_iter(&Interner, bounds),\n                     ),\n+                    lifetime: LifetimeData::Static.intern(&Interner),\n                 })\n             }\n "}, {"sha": "844e5789690646b52898d77c6ef0d18a5a92c4dd", "filename": "crates/hir_ty/src/types.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9da191c7e07abec9d9f056fd94ee151aef7417a7/crates%2Fhir_ty%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9da191c7e07abec9d9f056fd94ee151aef7417a7/crates%2Fhir_ty%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftypes.rs?ref=9da191c7e07abec9d9f056fd94ee151aef7417a7", "patch": "@@ -40,6 +40,7 @@ impl ProjectionTy {\n pub struct DynTy {\n     /// The unknown self type.\n     pub bounds: Binders<QuantifiedWhereClauses>,\n+    pub lifetime: Lifetime,\n }\n \n #[derive(Clone, PartialEq, Eq, Debug, Hash)]"}]}