{"sha": "a9b746bb2371a39d77bcea431415fa0a6ddca548", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE5Yjc0NmJiMjM3MWEzOWQ3N2JjZWE0MzE0MTVmYTBhNmRkY2E1NDg=", "commit": {"author": {"name": "keatinge", "email": "willy.keatinge@gmail.com", "date": "2018-01-06T20:22:29Z"}, "committer": {"name": "keatinge", "email": "willy.keatinge@gmail.com", "date": "2018-01-06T20:22:29Z"}, "message": "Use span_suggestion instead of span_err_help", "tree": {"sha": "cf071fafaf0030e23fb6ab83568d8cc9ab47f0e7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cf071fafaf0030e23fb6ab83568d8cc9ab47f0e7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a9b746bb2371a39d77bcea431415fa0a6ddca548", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a9b746bb2371a39d77bcea431415fa0a6ddca548", "html_url": "https://github.com/rust-lang/rust/commit/a9b746bb2371a39d77bcea431415fa0a6ddca548", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a9b746bb2371a39d77bcea431415fa0a6ddca548/comments", "author": {"login": "keatinge", "id": 18511071, "node_id": "MDQ6VXNlcjE4NTExMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/18511071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keatinge", "html_url": "https://github.com/keatinge", "followers_url": "https://api.github.com/users/keatinge/followers", "following_url": "https://api.github.com/users/keatinge/following{/other_user}", "gists_url": "https://api.github.com/users/keatinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/keatinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keatinge/subscriptions", "organizations_url": "https://api.github.com/users/keatinge/orgs", "repos_url": "https://api.github.com/users/keatinge/repos", "events_url": "https://api.github.com/users/keatinge/events{/privacy}", "received_events_url": "https://api.github.com/users/keatinge/received_events", "type": "User", "site_admin": false}, "committer": {"login": "keatinge", "id": 18511071, "node_id": "MDQ6VXNlcjE4NTExMDcx", "avatar_url": "https://avatars.githubusercontent.com/u/18511071?v=4", "gravatar_id": "", "url": "https://api.github.com/users/keatinge", "html_url": "https://github.com/keatinge", "followers_url": "https://api.github.com/users/keatinge/followers", "following_url": "https://api.github.com/users/keatinge/following{/other_user}", "gists_url": "https://api.github.com/users/keatinge/gists{/gist_id}", "starred_url": "https://api.github.com/users/keatinge/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/keatinge/subscriptions", "organizations_url": "https://api.github.com/users/keatinge/orgs", "repos_url": "https://api.github.com/users/keatinge/repos", "events_url": "https://api.github.com/users/keatinge/events{/privacy}", "received_events_url": "https://api.github.com/users/keatinge/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8260209bb231cb92b1c9636ceded73f09edbc1c6", "url": "https://api.github.com/repos/rust-lang/rust/commits/8260209bb231cb92b1c9636ceded73f09edbc1c6", "html_url": "https://github.com/rust-lang/rust/commit/8260209bb231cb92b1c9636ceded73f09edbc1c6"}], "stats": {"total": 10, "additions": 4, "deletions": 6}, "files": [{"sha": "adaa5670e8092c43a5be180a6ac7b8fb8089f9c6", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a9b746bb2371a39d77bcea431415fa0a6ddca548/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9b746bb2371a39d77bcea431415fa0a6ddca548/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=a9b746bb2371a39d77bcea431415fa0a6ddca548", "patch": "@@ -3433,9 +3433,9 @@ impl<'a> Parser<'a> {\n             pats.push(self.parse_pat()?);\n \n             if self.token == token::OrOr {\n-                self.span_err_help(self.span,\n-                                   \"unexpected token `||` after pattern\",\n-                                   \"did you mean to use `|` to specify multiple patterns?\");\n+                let mut err = self.struct_span_err(self.span, \"unexpected token `||` after pattern\");\n+                err.span_suggestion(self.span, \"use a single `|` to specify multiple patterns\", \"|\".to_owned());\n+                err.emit();\n                 self.bump();\n             } else if self.check(&token::BinOp(token::Or)) {\n                 self.bump();"}, {"sha": "a35aa6f3d1c978e713ed4c4aa94ba2b124e3ce05", "filename": "src/test/ui/did_you_mean/multiple-pattern-typo.stderr", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a9b746bb2371a39d77bcea431415fa0a6ddca548/src%2Ftest%2Fui%2Fdid_you_mean%2Fmultiple-pattern-typo.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a9b746bb2371a39d77bcea431415fa0a6ddca548/src%2Ftest%2Fui%2Fdid_you_mean%2Fmultiple-pattern-typo.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdid_you_mean%2Fmultiple-pattern-typo.stderr?ref=a9b746bb2371a39d77bcea431415fa0a6ddca548", "patch": "@@ -2,9 +2,7 @@ error: unexpected token `||` after pattern\n   --> $DIR/multiple-pattern-typo.rs:14:15\n    |\n 14 |         1 | 2 || 3 => (), //~ ERROR unexpected token `||` after pattern\n-   |               ^^\n-   |\n-   = help: did you mean to use `|` to specify multiple patterns?\n+   |               ^^ help: use a single `|` to specify multiple patterns: `|`\n \n error: aborting due to previous error\n "}]}