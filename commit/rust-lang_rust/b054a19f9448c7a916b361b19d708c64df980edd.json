{"sha": "b054a19f9448c7a916b361b19d708c64df980edd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIwNTRhMTlmOTQ0OGM3YTkxNmIzNjFiMTlkNzA4YzY0ZGY5ODBlZGQ=", "commit": {"author": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-05-30T12:49:44Z"}, "committer": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-05-31T03:57:14Z"}, "message": "We don't need to check `SymbolExportLevel`", "tree": {"sha": "1c7d9b82703a8d41f3985dffb64fd8df5f5705a9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1c7d9b82703a8d41f3985dffb64fd8df5f5705a9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b054a19f9448c7a916b361b19d708c64df980edd", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niIsEABYIADMWIQRJ2jPMDdiQ+U4U42Z0+n/VuNoUuAUCYLRemxUceWQtaHVhbmdA\nb3V0bG9vay5jb20ACgkQdPp/1bjaFLj68gEA40I72JbvEPqWdKTeZ2TAcrG/wZTZ\nsRrlDaYbtt8GuHEBAIcVywNf8sYmyweodgfEKgEJk8SVWJEJExcuv1god6gB\n=bC6i\n-----END PGP SIGNATURE-----", "payload": "tree 1c7d9b82703a8d41f3985dffb64fd8df5f5705a9\nparent 382295cd4745cdf2f52794a16fd7083fef01d0b8\nauthor hyd-dev <yd-huang@outlook.com> 1622378984 +0800\ncommitter hyd-dev <yd-huang@outlook.com> 1622433434 +0800\n\nWe don't need to check `SymbolExportLevel`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b054a19f9448c7a916b361b19d708c64df980edd", "html_url": "https://github.com/rust-lang/rust/commit/b054a19f9448c7a916b361b19d708c64df980edd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b054a19f9448c7a916b361b19d708c64df980edd/comments", "author": null, "committer": null, "parents": [{"sha": "382295cd4745cdf2f52794a16fd7083fef01d0b8", "url": "https://api.github.com/repos/rust-lang/rust/commits/382295cd4745cdf2f52794a16fd7083fef01d0b8", "html_url": "https://github.com/rust-lang/rust/commit/382295cd4745cdf2f52794a16fd7083fef01d0b8"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "27f4bafdb0cb15b60db1c8d4a15121fad63dd13f", "filename": "src/shims/foreign_items.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b054a19f9448c7a916b361b19d708c64df980edd/src%2Fshims%2Fforeign_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b054a19f9448c7a916b361b19d708c64df980edd/src%2Fshims%2Fforeign_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Fforeign_items.rs?ref=b054a19f9448c7a916b361b19d708c64df980edd", "patch": "@@ -154,8 +154,9 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n                 |(num, &linkage)| (linkage != Linkage::NotLinked).then_some(CrateNum::new(num + 1)),\n             ))\n         {\n-            // FIXME: Do we need to check `SymbolExportLevel` (the `_` below)?\n-            for &(symbol, _) in tcx.exported_symbols(cnum) {\n+            // We can ignore `_export_level` here: we are a Rust crate, and everything is exported\n+            // from a Rust crate.\n+            for &(symbol, _export_level) in tcx.exported_symbols(cnum) {\n                 if let ExportedSymbol::NonGeneric(def_id) = symbol {\n                     let attrs = tcx.codegen_fn_attrs(def_id);\n                     let symbol_name = if let Some(export_name) = attrs.export_name {"}]}