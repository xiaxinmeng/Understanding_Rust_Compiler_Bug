{"sha": "4f58db485d82a8d4d4f03f9584ba6de347f704a5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRmNThkYjQ4NWQ4MmE4ZDRkNGYwM2Y5NTg0YmE2ZGUzNDdmNzA0YTU=", "commit": {"author": {"name": "Andy Caldwell", "email": "andrew.caldwell@metaswitch.com", "date": "2015-07-24T01:10:25Z"}, "committer": {"name": "Andy Caldwell", "email": "andrew.caldwell@metaswitch.com", "date": "2015-07-24T01:10:25Z"}, "message": "Make ICE an error and use a sensible error message", "tree": {"sha": "901a8f3499a45d1afcd5c477ef9b5e3275799438", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/901a8f3499a45d1afcd5c477ef9b5e3275799438"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4f58db485d82a8d4d4f03f9584ba6de347f704a5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4f58db485d82a8d4d4f03f9584ba6de347f704a5", "html_url": "https://github.com/rust-lang/rust/commit/4f58db485d82a8d4d4f03f9584ba6de347f704a5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4f58db485d82a8d4d4f03f9584ba6de347f704a5/comments", "author": {"login": "bossmc", "id": 1073983, "node_id": "MDQ6VXNlcjEwNzM5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1073983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bossmc", "html_url": "https://github.com/bossmc", "followers_url": "https://api.github.com/users/bossmc/followers", "following_url": "https://api.github.com/users/bossmc/following{/other_user}", "gists_url": "https://api.github.com/users/bossmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/bossmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bossmc/subscriptions", "organizations_url": "https://api.github.com/users/bossmc/orgs", "repos_url": "https://api.github.com/users/bossmc/repos", "events_url": "https://api.github.com/users/bossmc/events{/privacy}", "received_events_url": "https://api.github.com/users/bossmc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bossmc", "id": 1073983, "node_id": "MDQ6VXNlcjEwNzM5ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1073983?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bossmc", "html_url": "https://github.com/bossmc", "followers_url": "https://api.github.com/users/bossmc/followers", "following_url": "https://api.github.com/users/bossmc/following{/other_user}", "gists_url": "https://api.github.com/users/bossmc/gists{/gist_id}", "starred_url": "https://api.github.com/users/bossmc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bossmc/subscriptions", "organizations_url": "https://api.github.com/users/bossmc/orgs", "repos_url": "https://api.github.com/users/bossmc/repos", "events_url": "https://api.github.com/users/bossmc/events{/privacy}", "received_events_url": "https://api.github.com/users/bossmc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "610d1e312f4d8ec13755015c69d5ae410039b06a", "url": "https://api.github.com/repos/rust-lang/rust/commits/610d1e312f4d8ec13755015c69d5ae410039b06a", "html_url": "https://github.com/rust-lang/rust/commit/610d1e312f4d8ec13755015c69d5ae410039b06a"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "e29e0ab54d17ff2d1da2a00f38c77e706ffd36b1", "filename": "src/libsyntax/ext/tt/macro_rules.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4f58db485d82a8d4d4f03f9584ba6de347f704a5/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4f58db485d82a8d4d4f03f9584ba6de347f704a5/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Ftt%2Fmacro_rules.rs?ref=4f58db485d82a8d4d4f03f9584ba6de347f704a5", "patch": "@@ -302,8 +302,8 @@ fn check_lhs_nt_follows(cx: &mut ExtCtxt, lhs: &NamedMatch, sp: Span) {\n             tt @ &TtSequence(..) => {\n                 check_matcher(cx, Some(tt).into_iter(), &Eof);\n             },\n-            _ => cx.span_bug(sp, \"wrong-structured lhs for follow check (didn't find \\\n-            a TtDelimited or TtSequence)\")\n+            _ => cx.span_err(sp, \"Invalid macro matcher; matchers must be contained \\\n+               in balanced delimiters or a repetition indicator\")\n         },\n         _ => cx.span_bug(sp, \"wrong-structured lhs for follow check (didn't find a \\\n            MatchedNonterminal)\")"}]}