{"sha": "65c334ee8c1bb8ba9316f82a1cbcef3880cc5db2", "node_id": "C_kwDOAAsO6NoAKDY1YzMzNGVlOGMxYmI4YmE5MzE2ZjgyYTFjYmNlZjM4ODBjYzVkYjI", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2023-04-11T17:20:54Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2023-04-14T16:26:11Z"}, "message": "Fortify tests againts mir-opts.", "tree": {"sha": "71fbcc25db77307622c3ad651f2a66c77bb1f4b6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/71fbcc25db77307622c3ad651f2a66c77bb1f4b6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/65c334ee8c1bb8ba9316f82a1cbcef3880cc5db2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/65c334ee8c1bb8ba9316f82a1cbcef3880cc5db2", "html_url": "https://github.com/rust-lang/rust/commit/65c334ee8c1bb8ba9316f82a1cbcef3880cc5db2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/65c334ee8c1bb8ba9316f82a1cbcef3880cc5db2/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b0884a3528c45a5d575e182f407c759d243fdcba", "url": "https://api.github.com/repos/rust-lang/rust/commits/b0884a3528c45a5d575e182f407c759d243fdcba", "html_url": "https://github.com/rust-lang/rust/commit/b0884a3528c45a5d575e182f407c759d243fdcba"}], "stats": {"total": 31, "additions": 16, "deletions": 15}, "files": [{"sha": "507c0988fcc10936bf880f4ed2929c5dd9eb05e6", "filename": "tests/ui/enum-discriminant/issue-104519.rs", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/65c334ee8c1bb8ba9316f82a1cbcef3880cc5db2/tests%2Fui%2Fenum-discriminant%2Fissue-104519.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65c334ee8c1bb8ba9316f82a1cbcef3880cc5db2/tests%2Fui%2Fenum-discriminant%2Fissue-104519.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fenum-discriminant%2Fissue-104519.rs?ref=65c334ee8c1bb8ba9316f82a1cbcef3880cc5db2", "patch": "@@ -23,14 +23,4 @@ fn some_match(result: OpenResult) -> u8 {\n fn main() {\n     let result = OpenResult::Ok(());\n     assert_eq!(some_match(result), 0);\n-\n-    let result = OpenResult::Ok(());\n-    match result {\n-        OpenResult::Ok(()) => (),\n-        _ => unreachable!(\"message a\"),\n-    }\n-    match result {\n-        OpenResult::Ok(()) => (),\n-        _ => unreachable!(\"message b\"),\n-    }\n }"}, {"sha": "8a633a916c8388fda29282d64dfd5334ed655bf5", "filename": "tests/ui/enum-discriminant/issue-61696.rs", "status": "renamed", "additions": 16, "deletions": 5, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/65c334ee8c1bb8ba9316f82a1cbcef3880cc5db2/tests%2Fui%2Fenum-discriminant%2Fissue-61696.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65c334ee8c1bb8ba9316f82a1cbcef3880cc5db2/tests%2Fui%2Fenum-discriminant%2Fissue-61696.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fenum-discriminant%2Fissue-61696.rs?ref=65c334ee8c1bb8ba9316f82a1cbcef3880cc5db2", "patch": "@@ -55,12 +55,23 @@ pub enum E2<X> {\n     V4,\n }\n \n-fn main() {\n-    if let E1::V2 { .. } = (E1::V1 { f: true }) {\n-        unreachable!()\n+#[inline(never)]\n+fn match_e1(y: E1) -> u8 {\n+    match y {\n+        E1::V2 { .. } => 1,\n+        _ => 0,\n     }\n+}\n \n-    if let E2::V1 { .. } = E2::V3::<Infallible> {\n-        unreachable!()\n+#[inline(never)]\n+fn match_e2(y: E2<Infallible>) -> u8 {\n+    match y {\n+        E2::V1 { .. } => 1,\n+        _ => 0,\n     }\n }\n+\n+fn main() {\n+    assert_eq!(match_e1(E1::V1 { f: true }), 0);\n+    assert_eq!(match_e2(E2::V3), 0);\n+}", "previous_filename": "tests/ui/issues/issue-61696.rs"}]}