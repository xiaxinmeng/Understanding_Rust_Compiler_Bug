{"sha": "9c0c199e962ef90fe3bf152bc87ff96d5c2a9093", "node_id": "C_kwDOAAsO6NoAKDljMGMxOTllOTYyZWY5MGZlM2JmMTUyYmM4N2ZmOTZkNWMyYTkwOTM", "commit": {"author": {"name": "Kirill Bulatov", "email": "mail4score@gmail.com", "date": "2022-02-11T23:03:32Z"}, "committer": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2022-03-04T05:45:51Z"}, "message": "Clean up the redundant hints code and config", "tree": {"sha": "02b40df0d06692018347e4eb8828356657b54015", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/02b40df0d06692018347e4eb8828356657b54015"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9c0c199e962ef90fe3bf152bc87ff96d5c2a9093", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9c0c199e962ef90fe3bf152bc87ff96d5c2a9093", "html_url": "https://github.com/rust-lang/rust/commit/9c0c199e962ef90fe3bf152bc87ff96d5c2a9093", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9c0c199e962ef90fe3bf152bc87ff96d5c2a9093/comments", "author": {"login": "SomeoneToIgnore", "id": 2690773, "node_id": "MDQ6VXNlcjI2OTA3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2690773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomeoneToIgnore", "html_url": "https://github.com/SomeoneToIgnore", "followers_url": "https://api.github.com/users/SomeoneToIgnore/followers", "following_url": "https://api.github.com/users/SomeoneToIgnore/following{/other_user}", "gists_url": "https://api.github.com/users/SomeoneToIgnore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomeoneToIgnore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomeoneToIgnore/subscriptions", "organizations_url": "https://api.github.com/users/SomeoneToIgnore/orgs", "repos_url": "https://api.github.com/users/SomeoneToIgnore/repos", "events_url": "https://api.github.com/users/SomeoneToIgnore/events{/privacy}", "received_events_url": "https://api.github.com/users/SomeoneToIgnore/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0b69717ab6e5d1bd57faccbe741d947da9edbff3", "url": "https://api.github.com/repos/rust-lang/rust/commits/0b69717ab6e5d1bd57faccbe741d947da9edbff3", "html_url": "https://github.com/rust-lang/rust/commit/0b69717ab6e5d1bd57faccbe741d947da9edbff3"}], "stats": {"total": 100, "additions": 9, "deletions": 91}, "files": [{"sha": "8e6e4099adf413f354e479f312de1ceea3b78521", "filename": "crates/rust-analyzer/src/to_proto.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/9c0c199e962ef90fe3bf152bc87ff96d5c2a9093/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9c0c199e962ef90fe3bf152bc87ff96d5c2a9093/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs?ref=9c0c199e962ef90fe3bf152bc87ff96d5c2a9093", "patch": "@@ -414,11 +414,11 @@ pub(crate) fn inlay_hint(line_index: &LineIndex, inlay_hint: InlayHint) -> lsp_e\n     lsp_ext::InlayHint {\n         label: inlay_hint.label.to_string(),\n         position: position(line_index, inlay_hint.range.end()),\n-        kind: Some(match inlay_hint.kind {\n-            InlayKind::ParameterHint => lsp_ext::InlayHintKind::PARAMETER,\n-            InlayKind::TypeHint => lsp_ext::InlayHintKind::TYPE,\n-            InlayKind::ChainingHint => lsp_ext::InlayHintKind::TYPE,\n-        }),\n+        kind: match inlay_hint.kind {\n+            InlayKind::ParameterHint => Some(lsp_ext::InlayHintKind::PARAMETER),\n+            InlayKind::TypeHint => Some(lsp_ext::InlayHintKind::TYPE),\n+            InlayKind::ChainingHint => None,\n+        },\n         tooltip: Some(\"test description\".to_string()),\n         padding_left: Some(true),\n         padding_right: Some(true),"}, {"sha": "19a62f65144e893cacd3a5f2bb0d5775c2dbdcd8", "filename": "editors/code/package.json", "status": "modified", "additions": 3, "deletions": 84, "changes": 87, "blob_url": "https://github.com/rust-lang/rust/blob/9c0c199e962ef90fe3bf152bc87ff96d5c2a9093/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/9c0c199e962ef90fe3bf152bc87ff96d5c2a9093/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=9c0c199e962ef90fe3bf152bc87ff96d5c2a9093", "patch": "@@ -23,9 +23,7 @@\n     \"engines\": {\n         \"vscode\": \"^1.64.0\"\n     },\n-    \"enabledApiProposals\": [\n-        \"inlayHints\"\n-    ],\n+    \"enabledApiProposals\": [],\n     \"scripts\": {\n         \"vscode:prepublish\": \"npm run build-base -- --minify\",\n         \"package\": \"vsce package -o rust-analyzer.vsix\",\n@@ -35,8 +33,7 @@\n         \"lint\": \"tsfmt --verify && eslint -c .eslintrc.js --ext ts ./src ./tests\",\n         \"fix\": \" tsfmt -r       && eslint -c .eslintrc.js --ext ts ./src ./tests --fix\",\n         \"pretest\": \"tsc && npm run build\",\n-        \"test\": \"node ./out/tests/runTests.js\",\n-        \"postinstall\": \"vscode-dts dev\"\n+        \"test\": \"node ./out/tests/runTests.js\"\n     },\n     \"dependencies\": {\n         \"vscode-languageclient\": \"8.0.0-next.12\",\n@@ -54,8 +51,7 @@\n         \"tslib\": \"^2.3.0\",\n         \"typescript\": \"^4.5.5\",\n         \"typescript-formatter\": \"^7.2.2\",\n-        \"vsce\": \"^2.6.7\",\n-        \"vscode-dts\": \"^0.3.3\"\n+        \"vsce\": \"^2.6.7\"\n     },\n     \"activationEvents\": [\n         \"onLanguage:rust\",\n@@ -302,11 +298,6 @@\n                     \"default\": true,\n                     \"description\": \"Whether to show inlay hints.\"\n                 },\n-                \"rust-analyzer.inlayHints.smallerHints\": {\n-                    \"type\": \"boolean\",\n-                    \"default\": true,\n-                    \"description\": \"Whether inlay hints font size should be smaller than editor's font size.\"\n-                },\n                 \"rust-analyzer.server.path\": {\n                     \"type\": [\n                         \"null\",\n@@ -1087,78 +1078,6 @@\n             }\n         ],\n         \"colors\": [\n-            {\n-                \"id\": \"rust_analyzer.inlayHints.foreground\",\n-                \"description\": \"Foreground color of inlay hints (is overriden by more specific rust_analyzer.inlayHints.foreground.* configurations)\",\n-                \"defaults\": {\n-                    \"dark\": \"#A0A0A0F0\",\n-                    \"light\": \"#747474\",\n-                    \"highContrast\": \"#BEBEBE\"\n-                }\n-            },\n-            {\n-                \"id\": \"rust_analyzer.inlayHints.background\",\n-                \"description\": \"Background color of inlay hints (is overriden by more specific rust_analyzer.inlayHints.background.* configurations)\",\n-                \"defaults\": {\n-                    \"dark\": \"#11223300\",\n-                    \"light\": \"#11223300\",\n-                    \"highContrast\": \"#11223300\"\n-                }\n-            },\n-            {\n-                \"id\": \"rust_analyzer.inlayHints.foreground.typeHints\",\n-                \"description\": \"Foreground color of inlay type hints for variables (overrides rust_analyzer.inlayHints.foreground)\",\n-                \"defaults\": {\n-                    \"dark\": \"rust_analyzer.inlayHints.foreground\",\n-                    \"light\": \"rust_analyzer.inlayHints.foreground\",\n-                    \"highContrast\": \"rust_analyzer.inlayHints.foreground\"\n-                }\n-            },\n-            {\n-                \"id\": \"rust_analyzer.inlayHints.foreground.chainingHints\",\n-                \"description\": \"Foreground color of inlay type hints for method chains (overrides rust_analyzer.inlayHints.foreground)\",\n-                \"defaults\": {\n-                    \"dark\": \"rust_analyzer.inlayHints.foreground\",\n-                    \"light\": \"rust_analyzer.inlayHints.foreground\",\n-                    \"highContrast\": \"rust_analyzer.inlayHints.foreground\"\n-                }\n-            },\n-            {\n-                \"id\": \"rust_analyzer.inlayHints.foreground.parameterHints\",\n-                \"description\": \"Foreground color of function parameter name inlay hints at the call site (overrides rust_analyzer.inlayHints.foreground)\",\n-                \"defaults\": {\n-                    \"dark\": \"rust_analyzer.inlayHints.foreground\",\n-                    \"light\": \"rust_analyzer.inlayHints.foreground\",\n-                    \"highContrast\": \"rust_analyzer.inlayHints.foreground\"\n-                }\n-            },\n-            {\n-                \"id\": \"rust_analyzer.inlayHints.background.typeHints\",\n-                \"description\": \"Background color of inlay type hints for variables (overrides rust_analyzer.inlayHints.background)\",\n-                \"defaults\": {\n-                    \"dark\": \"rust_analyzer.inlayHints.background\",\n-                    \"light\": \"rust_analyzer.inlayHints.background\",\n-                    \"highContrast\": \"rust_analyzer.inlayHints.background\"\n-                }\n-            },\n-            {\n-                \"id\": \"rust_analyzer.inlayHints.background.chainingHints\",\n-                \"description\": \"Background color of inlay type hints for method chains (overrides rust_analyzer.inlayHints.background)\",\n-                \"defaults\": {\n-                    \"dark\": \"rust_analyzer.inlayHints.background\",\n-                    \"light\": \"rust_analyzer.inlayHints.background\",\n-                    \"highContrast\": \"rust_analyzer.inlayHints.background\"\n-                }\n-            },\n-            {\n-                \"id\": \"rust_analyzer.inlayHints.background.parameterHints\",\n-                \"description\": \"Background color of function parameter name inlay hints at the call site (overrides rust_analyzer.inlayHints.background)\",\n-                \"defaults\": {\n-                    \"dark\": \"rust_analyzer.inlayHints.background\",\n-                    \"light\": \"rust_analyzer.inlayHints.background\",\n-                    \"highContrast\": \"rust_analyzer.inlayHints.background\"\n-                }\n-            },\n             {\n                 \"id\": \"rust_analyzer.syntaxTreeBorder\",\n                 \"description\": \"Color of the border displayed in the Rust source code for the selected syntax node (see \\\"Show Syntax Tree\\\" command)\","}, {"sha": "7c4fbd21ebec706c675db5fbf51d612a55dd3524", "filename": "editors/code/tsconfig.json", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/9c0c199e962ef90fe3bf152bc87ff96d5c2a9093/editors%2Fcode%2Ftsconfig.json", "raw_url": "https://github.com/rust-lang/rust/raw/9c0c199e962ef90fe3bf152bc87ff96d5c2a9093/editors%2Fcode%2Ftsconfig.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Ftsconfig.json?ref=9c0c199e962ef90fe3bf152bc87ff96d5c2a9093", "patch": "@@ -22,7 +22,6 @@\n     ],\n     \"include\": [\n         \"src\",\n-        \"tests\",\n-        \"vscode.proposed.inlayHints.d.ts\"\n+        \"tests\"\n     ]\n }"}]}