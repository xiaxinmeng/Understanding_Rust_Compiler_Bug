{"sha": "1057eea7ac124da94479b4903d5df29c6f6c0660", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwNTdlZWE3YWMxMjRkYTk0NDc5YjQ5MDNkNWRmMjljNmY2YzA2NjA=", "commit": {"author": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-01-31T21:48:14Z"}, "committer": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-02-01T04:13:55Z"}, "message": "drop the StdMap implementation from SmallIntMap", "tree": {"sha": "8ff901a9d20588853f4ca8c15eda1f7dd2085393", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8ff901a9d20588853f4ca8c15eda1f7dd2085393"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1057eea7ac124da94479b4903d5df29c6f6c0660", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1057eea7ac124da94479b4903d5df29c6f6c0660", "html_url": "https://github.com/rust-lang/rust/commit/1057eea7ac124da94479b4903d5df29c6f6c0660", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1057eea7ac124da94479b4903d5df29c6f6c0660/comments", "author": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "274e75cd82ac8b94c655e1cba9194f82c47f73d7", "url": "https://api.github.com/repos/rust-lang/rust/commits/274e75cd82ac8b94c655e1cba9194f82c47f73d7", "html_url": "https://github.com/rust-lang/rust/commit/274e75cd82ac8b94c655e1cba9194f82c47f73d7"}], "stats": {"total": 10, "additions": 1, "deletions": 9}, "files": [{"sha": "d13c6d26d5b9dddbfbc10388019d142588121c4c", "filename": "src/libstd/smallintmap.rs", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/1057eea7ac124da94479b4903d5df29c6f6c0660/src%2Flibstd%2Fsmallintmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1057eea7ac124da94479b4903d5df29c6f6c0660/src%2Flibstd%2Fsmallintmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsmallintmap.rs?ref=1057eea7ac124da94479b4903d5df29c6f6c0660", "patch": "@@ -14,8 +14,6 @@\n  */\n #[forbid(deprecated_mode)];\n \n-use map::StdMap;\n-\n use core::container::{Container, Mutable, Map, Set};\n use core::dvec::DVec;\n use core::ops;\n@@ -98,8 +96,7 @@ impl<V> SmallIntMap<V>: Container {\n }\n \n /// Implements the map::map interface for smallintmap\n-impl<V: Copy> SmallIntMap<V>: StdMap<uint, V> {\n-    pure fn size() -> uint { self.len() }\n+impl<V: Copy> SmallIntMap<V> {\n     #[inline(always)]\n     fn insert(key: uint, value: V) -> bool {\n         let exists = contains_key(self, key);\n@@ -172,11 +169,6 @@ impl<V: Copy> SmallIntMap<V>: ops::Index<uint, V> {\n     }\n }\n \n-/// Cast the given smallintmap to a map::map\n-pub fn as_map<V: Copy>(s: SmallIntMap<V>) -> StdMap<uint, V> {\n-    s as StdMap::<uint, V>\n-}\n-\n #[cfg(test)]\n mod tests {\n     use smallintmap::{mk, SmallIntMap};"}]}