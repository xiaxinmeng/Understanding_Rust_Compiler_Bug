{"sha": "63406ac771c08597c870cc7b01ca8d8098ea3a2b", "node_id": "C_kwDOAAsO6NoAKDYzNDA2YWM3NzFjMDg1OTdjODcwY2M3YjAxY2E4ZDgwOThlYTNhMmI", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-01-21T22:20:17Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-02-03T18:59:34Z"}, "message": "Support offsetting the most recent break", "tree": {"sha": "5e98c5b7e43ed1b8fc729843a472731ab5a5acd0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5e98c5b7e43ed1b8fc729843a472731ab5a5acd0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/63406ac771c08597c870cc7b01ca8d8098ea3a2b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmH8JhYACgkQ+boUO5X/\nbYL+uxAAnPMQZLX9P5IowWvsVlzexL/tIt3b/N+m739ukNmp+jxcx4h1Kio21Tgz\nNu/cvFiagtCT6ZDRq2SPMI2ImEHJVTKmpYfpUVO0sXSgSONwsthSmlcAPdjVzBHr\nxUr+O+rCIsKHSD4Rmh1G+y0HxGofEKiJWK2SJ/2gVFRzoTx5tct8pPIVcgHIh74F\n1QLZix6oEIayCjmQKijaYjWTW1/Ez5C+endz4+2a5gXYaJMmUkBiO/oVdySftVK2\nlduH9v/ZxOLKSzKAbM8PAJiCBG3hjfJ61WNvGUkuM64CFC+UepBli2Ta7Pt/o4QQ\nLiBnNdszz8U9o7zYzl1kKP99RyZBch88OpeV2bcOUCxYKonBsuufaFKZDNs6JHzM\nBQZkWnutM7373hXo9ffzlr5CxKmlvllJOJnYSJYWTM1v8bfR5xmAtmIXLIpozqLb\n1uk+f6lnXNwf8/5QltuUuplqvcSX2dwv5l8LlpAydZ+59kBcdyuFNKuEnFDdREIZ\nX4vvlFKEDCgM4vwjrVxdSadr7G20OvhT6ZE7PaBVCIwo2a3KKC+DxP798me1L4AO\ntuqaVV+Uc/gD0oKB0DHM3sE0FPb1gaqmz5KZmLPrklPEtkzXSFY6kysA5cXpmKB3\ndQMt40l/pRoWb+0u3Rn9X2KF7j7kCOWASUVrtYCdLFajNidYIms=\n=Uvt9\n-----END PGP SIGNATURE-----", "payload": "tree 5e98c5b7e43ed1b8fc729843a472731ab5a5acd0\nparent 8bdf08fbed2fba60e41dadb3be9714b4c0441f72\nauthor David Tolnay <dtolnay@gmail.com> 1642803617 -0800\ncommitter David Tolnay <dtolnay@gmail.com> 1643914774 -0800\n\nSupport offsetting the most recent break\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/63406ac771c08597c870cc7b01ca8d8098ea3a2b", "html_url": "https://github.com/rust-lang/rust/commit/63406ac771c08597c870cc7b01ca8d8098ea3a2b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/63406ac771c08597c870cc7b01ca8d8098ea3a2b/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8bdf08fbed2fba60e41dadb3be9714b4c0441f72", "url": "https://api.github.com/repos/rust-lang/rust/commits/8bdf08fbed2fba60e41dadb3be9714b4c0441f72", "html_url": "https://github.com/rust-lang/rust/commit/8bdf08fbed2fba60e41dadb3be9714b4c0441f72"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "ddce86f216538fc0732ae216bfadccf336e65889", "filename": "compiler/rustc_ast_pretty/src/pp.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/63406ac771c08597c870cc7b01ca8d8098ea3a2b/compiler%2Frustc_ast_pretty%2Fsrc%2Fpp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/63406ac771c08597c870cc7b01ca8d8098ea3a2b/compiler%2Frustc_ast_pretty%2Fsrc%2Fpp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_pretty%2Fsrc%2Fpp.rs?ref=63406ac771c08597c870cc7b01ca8d8098ea3a2b", "patch": "@@ -314,6 +314,12 @@ impl Printer {\n         }\n     }\n \n+    pub fn offset(&mut self, offset: isize) {\n+        if let Some(BufEntry { token: Token::Break(token), .. }) = &mut self.buf.last_mut() {\n+            token.offset += offset;\n+        }\n+    }\n+\n     fn check_stream(&mut self) {\n         while self.right_total - self.left_total > self.space {\n             if *self.scan_stack.front().unwrap() == self.buf.index_of_first() {"}]}