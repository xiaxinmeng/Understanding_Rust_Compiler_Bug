{"sha": "f2ec71fe74ca9db59dbcc43983d689ca31139779", "node_id": "C_kwDOAAsO6NoAKGYyZWM3MWZlNzRjYTlkYjU5ZGJjYzQzOTgzZDY4OWNhMzExMzk3Nzk", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2021-10-04T06:13:18Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-10-04T06:13:18Z"}, "message": "Rollup merge of #88286 - LeSeulArtichaut:unnecessary-unsafe-block-std, r=dtolnay\n\nRemove unnecessary unsafe block in `process_unix`\n\nBecause it's nested under this unsafe fn!\n\nThis block isn't detected as unnecessary because of a bug in the compiler: #88260.", "tree": {"sha": "8b3dc512a526daaeb3ea3c8d09abe2f8d865d286", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8b3dc512a526daaeb3ea3c8d09abe2f8d865d286"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f2ec71fe74ca9db59dbcc43983d689ca31139779", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhWpt+CRBK7hj4Ov3rIwAATO4IABsiYZK67iAf1QWjdO/H4KI/\n1qEZT54i3k3Cagfz+bv6wT4+aIiDE0pCqzU4hdodixU1nimM+BPNezfxhDVjMlT+\neGQ+NNXdKNOYXsXFsBA8BhjFK4GOltppMjlphtIrEXWUSekjBcP8Q9+dlUuEa5qz\nd0+XeACO5GiJvh2mrBQjgnbENwwUHfbXWsycRi3M86wxukvMWSBK1EEz9+iMAjnW\ndpst/451GhuPf25iQJn8BiUdBF+Es6oqEN7uol4srF1PCyW8vVzdVDPU1QrG0NtX\n/D59sAG4PkjvCxdMDdhW7v/c/F4HJrvy3nlFQnQY0bTjlKfe2BhLbGW7bkbHeL4=\n=ZDXK\n-----END PGP SIGNATURE-----\n", "payload": "tree 8b3dc512a526daaeb3ea3c8d09abe2f8d865d286\nparent e500f1c1e9de96edc3ac1ce1bccc0f241fa41c0a\nparent 22112e439092e26536a9c9aaa35e892ce36afbea\nauthor Manish Goregaokar <manishsmail@gmail.com> 1633327998 -0700\ncommitter GitHub <noreply@github.com> 1633327998 -0700\n\nRollup merge of #88286 - LeSeulArtichaut:unnecessary-unsafe-block-std, r=dtolnay\n\nRemove unnecessary unsafe block in `process_unix`\n\nBecause it's nested under this unsafe fn!\n\nThis block isn't detected as unnecessary because of a bug in the compiler: #88260.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f2ec71fe74ca9db59dbcc43983d689ca31139779", "html_url": "https://github.com/rust-lang/rust/commit/f2ec71fe74ca9db59dbcc43983d689ca31139779", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f2ec71fe74ca9db59dbcc43983d689ca31139779/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e500f1c1e9de96edc3ac1ce1bccc0f241fa41c0a", "url": "https://api.github.com/repos/rust-lang/rust/commits/e500f1c1e9de96edc3ac1ce1bccc0f241fa41c0a", "html_url": "https://github.com/rust-lang/rust/commit/e500f1c1e9de96edc3ac1ce1bccc0f241fa41c0a"}, {"sha": "22112e439092e26536a9c9aaa35e892ce36afbea", "url": "https://api.github.com/repos/rust-lang/rust/commits/22112e439092e26536a9c9aaa35e892ce36afbea", "html_url": "https://github.com/rust-lang/rust/commit/22112e439092e26536a9c9aaa35e892ce36afbea"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "c4215e2c78d777c9e3f05b0fb06d72603a70228b", "filename": "library/std/src/sys/unix/process/process_unix.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f2ec71fe74ca9db59dbcc43983d689ca31139779/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2ec71fe74ca9db59dbcc43983d689ca31139779/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix.rs?ref=f2ec71fe74ca9db59dbcc43983d689ca31139779", "patch": "@@ -552,8 +552,7 @@ impl Process {\n         use crate::os::unix::io::FromRawFd;\n         use crate::sys_common::FromInner;\n         // Safety: If `pidfd` is nonnegative, we assume it's valid and otherwise unowned.\n-        let pidfd = (pidfd >= 0)\n-            .then(|| PidFd::from_inner(unsafe { sys::fd::FileDesc::from_raw_fd(pidfd) }));\n+        let pidfd = (pidfd >= 0).then(|| PidFd::from_inner(sys::fd::FileDesc::from_raw_fd(pidfd)));\n         Process { pid, status: None, pidfd }\n     }\n "}]}