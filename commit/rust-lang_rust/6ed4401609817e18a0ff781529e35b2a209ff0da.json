{"sha": "6ed4401609817e18a0ff781529e35b2a209ff0da", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZlZDQ0MDE2MDk4MTdlMThhMGZmNzgxNTI5ZTM1YjJhMjA5ZmYwZGE=", "commit": {"author": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2019-02-12T13:48:53Z"}, "committer": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2019-02-12T13:48:53Z"}, "message": "Permit issue posting to have network failures", "tree": {"sha": "22855f7a502434fb63130f0c0363740de4939c04", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/22855f7a502434fb63130f0c0363740de4939c04"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6ed4401609817e18a0ff781529e35b2a209ff0da", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6ed4401609817e18a0ff781529e35b2a209ff0da", "html_url": "https://github.com/rust-lang/rust/commit/6ed4401609817e18a0ff781529e35b2a209ff0da", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6ed4401609817e18a0ff781529e35b2a209ff0da/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "488f16a85041e57ce5934df44ed64ffe5303be03", "url": "https://api.github.com/repos/rust-lang/rust/commits/488f16a85041e57ce5934df44ed64ffe5303be03", "html_url": "https://github.com/rust-lang/rust/commit/488f16a85041e57ce5934df44ed64ffe5303be03"}], "stats": {"total": 16, "additions": 12, "deletions": 4}, "files": [{"sha": "6f3f409b8feb6f91cec20893e4b1ae0a9eebe9e4", "filename": "src/tools/publish_toolstate.py", "status": "modified", "additions": 12, "deletions": 4, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/6ed4401609817e18a0ff781529e35b2a209ff0da/src%2Ftools%2Fpublish_toolstate.py", "raw_url": "https://github.com/rust-lang/rust/raw/6ed4401609817e18a0ff781529e35b2a209ff0da/src%2Ftools%2Fpublish_toolstate.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fpublish_toolstate.py?ref=6ed4401609817e18a0ff781529e35b2a209ff0da", "patch": "@@ -145,10 +145,18 @@ def update_latest(\n                         build_failed = True\n \n             if build_failed:\n-                issue(\n-                    tool, MAINTAINERS.get(tool),\n-                    relevant_pr_number, relevant_pr_user, pr_reviewer,\n-                )\n+                try:\n+                    issue(\n+                        tool, MAINTAINERS.get(tool),\n+                        relevant_pr_number, relevant_pr_user, pr_reviewer,\n+                    )\n+                except IOError as (errno, strerror):\n+                    # network errors will simply end up not creating an issue, but that's better\n+                    # than failing the entire build job\n+                    print \"I/O error({0}): {1}\".format(errno, strerror)\n+                except:\n+                    print \"Unexpected error:\", sys.exc_info()[0]\n+                    raise\n \n             if changed:\n                 status['commit'] = current_commit"}]}