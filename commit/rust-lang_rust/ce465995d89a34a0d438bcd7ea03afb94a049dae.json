{"sha": "ce465995d89a34a0d438bcd7ea03afb94a049dae", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlNDY1OTk1ZDg5YTM0YTBkNDM4YmNkN2VhMDNhZmI5NGEwNDlkYWU=", "commit": {"author": {"name": "Philipp Krones", "email": "hello@philkrones.com", "date": "2021-07-28T13:06:26Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-07-28T13:06:26Z"}, "message": "Rollup merge of #7279 - xFrednet:7172-adapt-website-to-new-format, r=flip1995\n\nAdapting the lint list to Clippy's new metadata format\n\nThis is close to the end of a long living project to rewrite the lint metadata collection for Clippy. Progress on this has been tracked in #7172. This PR adds one of the last missing puzzle pieces, the actual display of all the changes that have been done in the background. A preview can be seen here: [Clippy's lint list](https://xfrednet.github.io/rust-clippy/master/index.html)\n\nThe styling has been discussed on [zulip](https://rust-lang.zulipchat.com/#narrow/stream/257328-clippy/topic/Styling.20feedback.20for.20Clippy's.20lint.20list/near/239601067) but is still open to suggestion.\n\nSide note: It has been fun working on the website where we don't have unit tests and everything is just tested by playing around. However, it's good that this chaos is contained into this one part of Clippy. :bug:\n\n---\n\nCloses: #1303\nCloses: #4310\n\nThis actually closes fewer things than I thought it would...\n\nchangelog: Reworked Clippy's [website](https://rust-lang.github.io/rust-clippy/master/index.html):\nchangelog: * Added applicability information about lints\nchangelog: * Added a link to jump to the specific lint implementation\nchangelog: * Adapted some styling and improved loading time\n\nr? `@flip1995`", "tree": {"sha": "d247636c7466c3b474f3618ac51809bf506eff01", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d247636c7466c3b474f3618ac51809bf506eff01"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ce465995d89a34a0d438bcd7ea03afb94a049dae", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhAVZSCRBK7hj4Ov3rIwAAp8AIAD0CUT9Y5YePQa/jpiG5X0Xh\nsQNxmQ6zUGZghBui25bKl8jF5oyZyfd0OIPIy/To/NQQsXmkZRpAHK0hrg9IpNgc\ndoRthVlHV7e1HXNaR9OXpWOf3NojDGooRDtj7xSZitIwQIOlN5/ixXsiCw4vo3L8\ny1OHhS04olti9JvoRM6BA9cH349p2e8eN8L5N0D0omZkMsRZOuN899VRUSwgrw1U\nzI9xSHxK+MBUYdG+1hbb9/j6U/+hEp8oS7LEC74/GgzUqNZk5Ap3ltpV2WJe/Q4w\nCUB671658DTshwUCaMWxCYZmmmw5sCI3twvXog6kz+CkblvlgiKWpaMYL3N7dkM=\n=1Ysi\n-----END PGP SIGNATURE-----\n", "payload": "tree d247636c7466c3b474f3618ac51809bf506eff01\nparent ac0fd99194141f189b3fc41ef2d8925e6fa359c2\nparent 322a768c7709005e2e996b65594b579c3966301f\nauthor Philipp Krones <hello@philkrones.com> 1627477586 +0200\ncommitter GitHub <noreply@github.com> 1627477586 +0200\n\nRollup merge of #7279 - xFrednet:7172-adapt-website-to-new-format, r=flip1995\n\nAdapting the lint list to Clippy's new metadata format\n\nThis is close to the end of a long living project to rewrite the lint metadata collection for Clippy. Progress on this has been tracked in #7172. This PR adds one of the last missing puzzle pieces, the actual display of all the changes that have been done in the background. A preview can be seen here: [Clippy's lint list](https://xfrednet.github.io/rust-clippy/master/index.html)\n\nThe styling has been discussed on [zulip](https://rust-lang.zulipchat.com/#narrow/stream/257328-clippy/topic/Styling.20feedback.20for.20Clippy's.20lint.20list/near/239601067) but is still open to suggestion.\n\nSide note: It has been fun working on the website where we don't have unit tests and everything is just tested by playing around. However, it's good that this chaos is contained into this one part of Clippy. :bug:\n\n---\n\nCloses: #1303\nCloses: #4310\n\nThis actually closes fewer things than I thought it would...\n\nchangelog: Reworked Clippy's [website](https://rust-lang.github.io/rust-clippy/master/index.html):\nchangelog: * Added applicability information about lints\nchangelog: * Added a link to jump to the specific lint implementation\nchangelog: * Adapted some styling and improved loading time\n\nr? `@flip1995`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ce465995d89a34a0d438bcd7ea03afb94a049dae", "html_url": "https://github.com/rust-lang/rust/commit/ce465995d89a34a0d438bcd7ea03afb94a049dae", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ce465995d89a34a0d438bcd7ea03afb94a049dae/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ac0fd99194141f189b3fc41ef2d8925e6fa359c2", "url": "https://api.github.com/repos/rust-lang/rust/commits/ac0fd99194141f189b3fc41ef2d8925e6fa359c2", "html_url": "https://github.com/rust-lang/rust/commit/ac0fd99194141f189b3fc41ef2d8925e6fa359c2"}, {"sha": "322a768c7709005e2e996b65594b579c3966301f", "url": "https://api.github.com/repos/rust-lang/rust/commits/322a768c7709005e2e996b65594b579c3966301f", "html_url": "https://github.com/rust-lang/rust/commit/322a768c7709005e2e996b65594b579c3966301f"}], "stats": {"total": 235, "additions": 172, "deletions": 63}, "files": [{"sha": "c9234a85dd2a6cdbe22f37ba44aee5e77fb8b98b", "filename": "clippy_lints/src/utils/internal_lints/metadata_collector.rs", "status": "modified", "additions": 26, "deletions": 10, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/ce465995d89a34a0d438bcd7ea03afb94a049dae/clippy_lints%2Fsrc%2Futils%2Finternal_lints%2Fmetadata_collector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce465995d89a34a0d438bcd7ea03afb94a049dae/clippy_lints%2Fsrc%2Futils%2Finternal_lints%2Fmetadata_collector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finternal_lints%2Fmetadata_collector.rs?ref=ce465995d89a34a0d438bcd7ea03afb94a049dae", "patch": "@@ -114,6 +114,8 @@ const DEPRECATED_LINT_TYPE: [&str; 3] = [\"clippy_lints\", \"deprecated_lints\", \"Cl\n \n /// The index of the applicability name of `paths::APPLICABILITY_VALUES`\n const APPLICABILITY_NAME_INDEX: usize = 2;\n+/// This applicability will be set for unresolved applicability values.\n+const APPLICABILITY_UNRESOLVED_STR: &str = \"Unresolved\";\n \n declare_clippy_lint! {\n     /// **What it does:** Collects metadata about clippy lints for the website.\n@@ -192,7 +194,7 @@ impl Drop for MetadataCollector {\n         let mut lints = std::mem::take(&mut self.lints).into_sorted_vec();\n         lints\n             .iter_mut()\n-            .for_each(|x| x.applicability = applicability_info.remove(&x.id));\n+            .for_each(|x| x.applicability = Some(applicability_info.remove(&x.id).unwrap_or_default()));\n \n         // Outputting\n         if Path::new(OUTPUT_FILE).exists() {\n@@ -208,7 +210,7 @@ struct LintMetadata {\n     id: String,\n     id_span: SerializableSpan,\n     group: String,\n-    level: &'static str,\n+    level: String,\n     docs: String,\n     /// This field is only used in the output and will only be\n     /// mapped shortly before the actual output.\n@@ -221,7 +223,7 @@ impl LintMetadata {\n             id,\n             id_span,\n             group,\n-            level,\n+            level: level.to_string(),\n             docs,\n             applicability: None,\n         }\n@@ -269,14 +271,16 @@ impl Serialize for ApplicabilityInfo {\n     where\n         S: Serializer,\n     {\n-        let index = self.applicability.unwrap_or_default();\n-\n         let mut s = serializer.serialize_struct(\"ApplicabilityInfo\", 2)?;\n         s.serialize_field(\"is_multi_part_suggestion\", &self.is_multi_part_suggestion)?;\n-        s.serialize_field(\n-            \"applicability\",\n-            &paths::APPLICABILITY_VALUES[index][APPLICABILITY_NAME_INDEX],\n-        )?;\n+        if let Some(index) = self.applicability {\n+            s.serialize_field(\n+                \"applicability\",\n+                &paths::APPLICABILITY_VALUES[index][APPLICABILITY_NAME_INDEX],\n+            )?;\n+        } else {\n+            s.serialize_field(\"applicability\", APPLICABILITY_UNRESOLVED_STR)?;\n+        }\n         s.end()\n     }\n }\n@@ -486,6 +490,13 @@ fn extract_attr_docs_or_lint(cx: &LateContext<'_>, item: &Item<'_>) -> Option<St\n /// ```\n ///\n /// Would result in `Hello world!\\n=^.^=\\n`\n+///\n+/// ---\n+///\n+/// This function may modify the doc comment to ensure that the string can be displayed using a\n+/// markdown viewer in Clippy's lint list. The following modifications could be applied:\n+/// * Removal of leading space after a new line. (Important to display tables)\n+/// * Ensures that code blocks only contain language information\n fn extract_attr_docs(cx: &LateContext<'_>, item: &Item<'_>) -> Option<String> {\n     let attrs = cx.tcx.hir().attrs(item.hir_id());\n     let mut lines = attrs.iter().filter_map(ast::Attribute::doc_str);\n@@ -510,7 +521,12 @@ fn extract_attr_docs(cx: &LateContext<'_>, item: &Item<'_>) -> Option<String> {\n                 continue;\n             }\n         }\n-        docs.push_str(line);\n+        // This removes the leading space that the macro translation introduces\n+        if let Some(stripped_doc) = line.strip_prefix(' ') {\n+            docs.push_str(stripped_doc);\n+        } else if !line.is_empty() {\n+            docs.push_str(line);\n+        }\n     }\n     Some(docs)\n }"}, {"sha": "48421150a549fa4db6fc01dff272331a980b1a27", "filename": "util/gh-pages/index.html", "status": "modified", "additions": 146, "deletions": 53, "changes": 199, "blob_url": "https://github.com/rust-lang/rust/blob/ce465995d89a34a0d438bcd7ea03afb94a049dae/util%2Fgh-pages%2Findex.html", "raw_url": "https://github.com/rust-lang/rust/raw/ce465995d89a34a0d438bcd7ea03afb94a049dae/util%2Fgh-pages%2Findex.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/util%2Fgh-pages%2Findex.html?ref=ce465995d89a34a0d438bcd7ea03afb94a049dae", "patch": "@@ -1,10 +1,17 @@\n <!DOCTYPE html>\n+<!--\n+Welcome to a Clippy's lint list, at least the source code of it. If you are\n+interested in contributing to this website checkout `util/gh-pages/index.html`\n+inside the rust-clippy repository.\n+\n+Otherwise, have a great day =^.^=\n+-->\n <html lang=\"en\">\n <head>\n     <meta charset=\"UTF-8\"/>\n     <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"/>\n \n-    <title>ALL the Clippy Lints</title>\n+    <title>Clippy Lints</title>\n \n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css\"/>\n     <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/github.min.css\"/>\n@@ -22,15 +29,95 @@\n \n         .panel-heading { cursor: pointer; }\n \n-        .panel-title { display: flex; }\n+        .panel-title { display: flex; flex-wrap: wrap;}\n         .panel-title .label { display: inline-block; }\n \n-        .panel-title-name { flex: 1; }\n+        .panel-title-name { flex: 1; min-width: 400px;}\n         .panel-title-name span { vertical-align: bottom; }\n \n         .panel .panel-title-name .anchor { display: none; }\n         .panel:hover .panel-title-name .anchor { display: inline;}\n \n+        .label {\n+            padding-top: 0.3em;\n+            padding-bottom: 0.3em;\n+        }\n+\n+        .label-lint-group {\n+            min-width: 8em;\n+        }\n+        .label-lint-level {\n+            min-width: 4em;\n+        }\n+\n+        .label-lint-level-allow {\n+            background-color: #5cb85c;\n+        }\n+        .label-lint-level-warn {\n+            background-color: #f0ad4e;\n+        }\n+        .label-lint-level-deny {\n+            background-color: #d9534f;\n+        }\n+        .label-lint-level-none {\n+            background-color: #777777;\n+            opacity: 0.5;\n+        }\n+\n+        .label-group-deprecated {\n+            opacity: 0.5;\n+        }\n+\n+        .label-doc-folding {\n+            color: #000;\n+            background-color: #fff;\n+            border: 1px solid var(--theme-popup-border);\n+        }\n+        .label-doc-folding:hover {\n+            background-color: #e6e6e6;\n+        }\n+\n+        .lint-doc-md > h3 {\n+            border-top: 1px solid var(--theme-popup-border);\n+            padding: 10px 15px;\n+            margin: 0 -15px;\n+            font-size: 18px;\n+        }\n+        .lint-doc-md > h3:first-child {\n+            border-top: none;\n+            padding-top: 0px;\n+        }\n+\n+        @media (max-width:749px) {\n+            .lint-additional-info-container {\n+                display: flex;\n+                flex-flow: column;\n+            }\n+            .lint-additional-info-item + .lint-additional-info-item {\n+                border-top: 1px solid var(--theme-popup-border);\n+            }\n+        }\n+        @media (min-width:750px) {\n+            .lint-additional-info-container {\n+                display: flex;\n+                flex-flow: row;\n+            }\n+            .lint-additional-info-item + .lint-additional-info-item {\n+                border-left: 1px solid var(--theme-popup-border);\n+            }\n+        }\n+\n+        .lint-additional-info-item {\n+            display: inline-flex;\n+            min-width: 200px;\n+            flex-grow: 1;\n+            padding: 9px 5px 5px 15px;\n+        }\n+\n+        .label-applicability {\n+            background-color: #777777;\n+            margin: auto 5px;\n+        }\n     </style>\n     <style>\n         /* Expanding the mdBoom theme*/\n@@ -159,7 +246,7 @@\n \n     <div class=\"container\" ng-app=\"clippy\" ng-controller=\"lintList\">\n         <div class=\"page-header\">\n-            <h1>ALL the Clippy Lints</h1>\n+            <h1>Clippy Lints</h1>\n         </div>\n \n         <noscript>\n@@ -181,9 +268,12 @@ <h1>ALL the Clippy Lints</h1>\n                 <div class=\"panel-body row filter-panel\">\n                     <div class=\"col-md-6 form-inline\">\n                         <div class=\"form-group form-group-lg\">\n-                            <p class=\"h4\">Lint levels</p>\n+                            <p class=\"h4\">\n+                                Lint levels\n+                                <a href=\"https://doc.rust-lang.org/rustc/lints/levels.html\">(?)</a>\n+                            </p>\n                             <div class=\"checkbox\" ng-repeat=\"(level, enabled) in levels\">\n-                                <label>\n+                                <label class=\"text-capitalize\">\n                                     <input type=\"checkbox\" ng-model=\"levels[level]\" />\n                                     {{level}}\n                                 </label>\n@@ -192,7 +282,10 @@ <h1>ALL the Clippy Lints</h1>\n                     </div>\n                     <div class=\"col-md-6 form-inline\">\n                         <div class=\"form-group form-group-lg\">\n-                            <p class=\"h4\">Lint groups</p>\n+                            <p class=\"h4\">\n+                                Lint groups\n+                                <a href=\"https://github.com/rust-lang/rust-clippy/#clippy\">(?)</a>\n+                            </p>\n                             <div class=\"checkbox\" ng-repeat=\"(group, enabled) in groups\">\n                                 <label class=\"text-capitalize\">\n                                     <input type=\"checkbox\" ng-model=\"groups[group]\" />\n@@ -216,9 +309,8 @@ <h1>ALL the Clippy Lints</h1>\n                     </div>\n                 </div>\n             </div>\n-\n-            <article class=\"panel panel-default\" id=\"{{lint.id}}\"\n-                ng-repeat=\"lint in data | filter:byLevels | filter:byGroups | filter:bySearch | orderBy:'id' track by lint.id\">\n+            <!-- The order of the filters should be from most likely to remove a lint to least likely to improve performance. -->\n+            <article class=\"panel panel-default\" id=\"{{lint.id}}\" ng-repeat=\"lint in data | filter:bySearch | filter:byGroups | filter:byLevels\">\n                 <header class=\"panel-heading\" ng-click=\"open[lint.id] = !open[lint.id]\">\n                     <h2 class=\"panel-title\">\n                         <div class=\"panel-title-name\">\n@@ -227,29 +319,36 @@ <h2 class=\"panel-title\">\n                         </div>\n \n                         <div class=\"panel-title-addons\">\n-                            <span class=\"label label-default text-capitalize\">{{lint.group}}</span>\n+                            <span class=\"label label-lint-group label-default label-group-{{lint.group}}\">{{lint.group}}</span>\n+\n+                            <span class=\"label label-lint-level label-lint-level-{{lint.level}}\">{{lint.level}}</span>\n \n-                            <span ng-if=\"lint.level == 'Allow'\" class=\"label label-success\">Allow</span>\n-                            <span ng-if=\"lint.level == 'Warn'\" class=\"label label-warning\">Warn</span>\n-                            <span ng-if=\"lint.level == 'Deny'\" class=\"label label-danger\">Deny</span>\n-                            <span ng-if=\"lint.level == 'Deprecated'\" class=\"label label-default\">Deprecated</span>\n \n-                            <button class=\"btn btn-default btn-xs\">\n-                                <span ng-show=\"open[lint.id]\">&minus;</span>\n-                                <span ng-hide=\"open[lint.id]\">&plus;</span>\n-                            </button>\n+                            <span class=\"label label-doc-folding\" ng-show=\"open[lint.id]\">&minus;</span>\n+                            <span class=\"label label-doc-folding\" ng-hide=\"open[lint.id]\">&plus;</span>\n                         </div>\n                     </h2>\n                 </header>\n \n-                <ul class=\"list-group lint-docs\" ng-if=\"lint.docs\" ng-class=\"{collapse: true, in: open[lint.id]}\">\n-                    <li class=\"list-group-item\" ng-repeat=\"(title, text) in lint.docs\">\n-                        <h4 class=\"list-group-item-heading\">\n-                            {{title}}\n-                        </h4>\n-                        <div class=\"list-group-item-text\" ng-bind-html=\"text | markdown\"></div>\n-                        <a ng-if=\"title == 'Known problems'\" href=\"https://github.com/rust-lang/rust-clippy/issues?q=is%3Aissue+is%3Aopen+{{lint.id}}\">Search on GitHub</a>\n-                    </li>\n+                <ul class=\"list-group lint-docs\" ng-class=\"{collapse: true, in: open[lint.id]}\">\n+                    <div class=\"list-group-item lint-doc-md\" ng-bind-html=\"lint.docs | markdown\"></div>\n+                    <div class=\"lint-additional-info-container\">\n+                        <!-- Applicability -->\n+                        <div class=\"lint-additional-info-item\">\n+                            <span> Applicability: </span>\n+                            <span class=\"label label-default label-applicability\">{{lint.applicability.applicability}}</span>\n+                            <a href=\"https://doc.rust-lang.org/nightly/nightly-rustc/rustc_lint_defs/enum.Applicability.html#variants\">(?)</a>\n+                        </div>\n+                        <!-- TODO xFrednet 2021-05-19: Somehow collect and show the version See rust-clippy#6492 -->\n+                        <!-- Open related issues -->\n+                        <div class=\"lint-additional-info-item\">\n+                            <a href=\"https://github.com/rust-lang/rust-clippy/issues?q=is%3Aissue+{{lint.id}}\">Related Issues</a>\n+                        </div>\n+                        <!-- Jump to source -->\n+                        <div class=\"lint-additional-info-item\">\n+                            <a href=\"https://github.com/rust-lang/rust-clippy/blob/{{docVersion}}/clippy_lints/{{lint.id_span.path}}#L{{lint.id_span.line}}\">View Source</a>\n+                        </div>\n+                    </div>\n                 </ul>\n             </article>\n         </div>\n@@ -310,22 +409,6 @@ <h4 class=\"list-group-item-heading\">\n             }\n         }\n \n-        function searchLint(lint, term) {\n-            for (const field in lint.docs) {\n-                // Continue if it's not a property\n-                if (!lint.docs.hasOwnProperty(field)) {\n-                    continue;\n-                }\n-\n-                // Return if not found\n-                if (lint.docs[field].toLowerCase().indexOf(term) !== -1) {\n-                    return true;\n-                }\n-            }\n-\n-            return false;\n-        }\n-\n         angular.module(\"clippy\", [])\n         .filter('markdown', function ($sce) {\n             return function (text) {\n@@ -350,13 +433,25 @@ <h4 class=\"list-group-item-heading\">\n         })\n         .controller(\"lintList\", function ($scope, $http, $timeout) {\n             // Level filter\n-            var LEVEL_FILTERS_DEFAULT = {Allow: true, Warn: true, Deny: true, Deprecated: true};\n+            var LEVEL_FILTERS_DEFAULT = {allow: true, warn: true, deny: true, none: true};\n             $scope.levels = LEVEL_FILTERS_DEFAULT;\n             $scope.byLevels = function (lint) {\n                 return $scope.levels[lint.level];\n             };\n \n-            $scope.groups = {};\n+            var GROUPS_FILTER_DEFAULT = {\n+                cargo: true,\n+                complexity: true,\n+                correctness: true,\n+                deprecated: false,\n+                nursery: true,\n+                pedantic: true,\n+                perf: true,\n+                restriction: true,\n+                style: true,\n+                suspicious: true,\n+            };\n+            $scope.groups = GROUPS_FILTER_DEFAULT;\n             $scope.byGroups = function (lint) {\n                 return $scope.groups[lint.group];\n             };\n@@ -377,12 +472,14 @@ <h4 class=\"list-group-item-heading\">\n                 // Search the description\n                 // The use of `for`-loops instead of `foreach` enables us to return early\n                 let terms = searchStr.split(\" \");\n+                let docsLowerCase = lint.docs.toLowerCase();\n                 for (index = 0; index < terms.length; index++) {\n-                    if (lint.id.indexOf(terms[index]) !== -1) {\n+                    // This is more likely and will therefor be checked first\n+                    if (docsLowerCase.indexOf(terms[index]) !== -1) {\n                         continue;\n                     }\n \n-                    if (searchLint(lint, terms[index])) {\n+                    if (lint.id.indexOf(terms[index]) !== -1) {\n                         continue;\n                     }\n \n@@ -395,6 +492,8 @@ <h4 class=\"list-group-item-heading\">\n             // Get data\n             $scope.open = {};\n             $scope.loading = true;\n+            // This will be used to jump into the source code of the version that this documentation is for.\n+            $scope.docVersion = window.location.pathname.split('/')[2] || \"master\";\n \n             if (window.location.hash.length > 1) {\n                 $scope.search = window.location.hash.slice(1);\n@@ -407,12 +506,6 @@ <h4 class=\"list-group-item-heading\">\n                 $scope.data = data;\n                 $scope.loading = false;\n \n-                // Initialize lint groups (the same structure is also used to enable filtering)\n-                $scope.groups = data.reduce(function (result, val) {\n-                    result[val.group] = true;\n-                    return result;\n-                }, {});\n-\n                 var selectedGroup = getQueryVariable(\"sel\");\n                 if (selectedGroup) {\n                     selectGroup($scope, selectedGroup.toLowerCase());"}]}