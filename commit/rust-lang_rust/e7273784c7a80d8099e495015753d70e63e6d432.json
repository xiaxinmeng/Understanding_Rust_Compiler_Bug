{"sha": "e7273784c7a80d8099e495015753d70e63e6d432", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU3MjczNzg0YzdhODBkODA5OWU0OTUwMTU3NTNkNzBlNjNlNmQ0MzI=", "commit": {"author": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2015-02-13T22:55:10Z"}, "committer": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2015-02-14T00:02:02Z"}, "message": "add an associated `Item` type to `IntoIterator`", "tree": {"sha": "6e96958f2a8eaa48e8ac3e42781ab941e5c02dfc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6e96958f2a8eaa48e8ac3e42781ab941e5c02dfc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e7273784c7a80d8099e495015753d70e63e6d432", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e7273784c7a80d8099e495015753d70e63e6d432", "html_url": "https://github.com/rust-lang/rust/commit/e7273784c7a80d8099e495015753d70e63e6d432", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e7273784c7a80d8099e495015753d70e63e6d432/comments", "author": null, "committer": null, "parents": [{"sha": "cf636c233dfeef5abf0de8fb35e23c0a161810d2", "url": "https://api.github.com/repos/rust-lang/rust/commits/cf636c233dfeef5abf0de8fb35e23c0a161810d2", "html_url": "https://github.com/rust-lang/rust/commit/cf636c233dfeef5abf0de8fb35e23c0a161810d2"}], "stats": {"total": 441, "additions": 441, "deletions": 0}, "files": [{"sha": "e786027d73b861c10927c30aa2f2b0b8bc57ad59", "filename": "src/libcollections/binary_heap.rs", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fbinary_heap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fbinary_heap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fbinary_heap.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -655,6 +655,8 @@ impl<T: Ord> FromIterator<T> for BinaryHeap<T> {\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<T: Ord> IntoIterator for BinaryHeap<T> {\n     type IntoIter = IntoIter<T>;\n \n@@ -663,6 +665,18 @@ impl<T: Ord> IntoIterator for BinaryHeap<T> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<T: Ord> IntoIterator for BinaryHeap<T> {\n+    type Item = T;\n+    type IntoIter = IntoIter<T>;\n+\n+    fn into_iter(self) -> IntoIter<T> {\n+        self.into_iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, T> IntoIterator for &'a BinaryHeap<T> where T: Ord {\n     type IntoIter = Iter<'a, T>;\n \n@@ -671,6 +685,16 @@ impl<'a, T> IntoIterator for &'a BinaryHeap<T> where T: Ord {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, T> IntoIterator for &'a BinaryHeap<T> where T: Ord {\n+    type Item = &'a T;\n+    type IntoIter = Iter<'a, T>;\n+\n+    fn into_iter(self) -> Iter<'a, T> {\n+        self.iter()\n+    }\n+}\n+\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n impl<T: Ord> Extend<T> for BinaryHeap<T> {\n     fn extend<Iter: Iterator<Item=T>>(&mut self, iter: Iter) {"}, {"sha": "ca598a8d4d29255145f51abefe7056be6fb50109", "filename": "src/libcollections/bit.rs", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fbit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fbit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fbit.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -1070,6 +1070,8 @@ impl<'a> RandomAccessIterator for Iter<'a> {\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a> IntoIterator for &'a Bitv {\n     type IntoIter = Iter<'a>;\n \n@@ -1078,6 +1080,16 @@ impl<'a> IntoIterator for &'a Bitv {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a> IntoIterator for &'a Bitv {\n+    type Item = bool;\n+    type IntoIter = Iter<'a>;\n+\n+    fn into_iter(self) -> Iter<'a> {\n+        self.iter()\n+    }\n+}\n+\n /// An implementation of a set using a bit vector as an underlying\n /// representation for holding unsigned numerical elements.\n ///\n@@ -1882,6 +1894,8 @@ impl<'a> Iterator for SymmetricDifference<'a> {\n     #[inline] fn size_hint(&self) -> (usize, Option<usize>) { self.0.size_hint() }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a> IntoIterator for &'a BitvSet {\n     type IntoIter = SetIter<'a>;\n \n@@ -1890,6 +1904,16 @@ impl<'a> IntoIterator for &'a BitvSet {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a> IntoIterator for &'a BitvSet {\n+    type Item = usize;\n+    type IntoIter = SetIter<'a>;\n+\n+    fn into_iter(self) -> SetIter<'a> {\n+        self.iter()\n+    }\n+}\n+\n #[cfg(test)]\n mod tests {\n     use prelude::*;"}, {"sha": "e83ba478ada62e5918459fcac6c54e510a443a14", "filename": "src/libcollections/btree/map.rs", "status": "modified", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fbtree%2Fmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fbtree%2Fmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fbtree%2Fmap.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -462,6 +462,8 @@ impl<K: Ord, V> BTreeMap<K, V> {\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<K, V> IntoIterator for BTreeMap<K, V> {\n     type IntoIter = IntoIter<K, V>;\n \n@@ -470,6 +472,18 @@ impl<K, V> IntoIterator for BTreeMap<K, V> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<K, V> IntoIterator for BTreeMap<K, V> {\n+    type Item = (K, V);\n+    type IntoIter = IntoIter<K, V>;\n+\n+    fn into_iter(self) -> IntoIter<K, V> {\n+        self.into_iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, K, V> IntoIterator for &'a BTreeMap<K, V> {\n     type IntoIter = Iter<'a, K, V>;\n \n@@ -478,6 +492,18 @@ impl<'a, K, V> IntoIterator for &'a BTreeMap<K, V> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, K, V> IntoIterator for &'a BTreeMap<K, V> {\n+    type Item = (&'a K, &'a V);\n+    type IntoIter = Iter<'a, K, V>;\n+\n+    fn into_iter(self) -> Iter<'a, K, V> {\n+        self.iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, K, V> IntoIterator for &'a mut BTreeMap<K, V> {\n     type IntoIter = IterMut<'a, K, V>;\n \n@@ -486,6 +512,16 @@ impl<'a, K, V> IntoIterator for &'a mut BTreeMap<K, V> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, K, V> IntoIterator for &'a mut BTreeMap<K, V> {\n+    type Item = (&'a K, &'a mut V);\n+    type IntoIter = IterMut<'a, K, V>;\n+\n+    fn into_iter(mut self) -> IterMut<'a, K, V> {\n+        self.iter_mut()\n+    }\n+}\n+\n /// A helper enum useful for deciding whether to continue a loop since we can't\n /// return from a closure\n enum Continuation<A, B> {"}, {"sha": "ac2168db69941caa59af2e623bd72be4adb0abc5", "filename": "src/libcollections/btree/set.rs", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fbtree%2Fset.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fbtree%2Fset.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fbtree%2Fset.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -480,6 +480,8 @@ impl<T: Ord> FromIterator<T> for BTreeSet<T> {\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<T> IntoIterator for BTreeSet<T> {\n     type IntoIter = IntoIter<T>;\n \n@@ -488,6 +490,18 @@ impl<T> IntoIterator for BTreeSet<T> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<T> IntoIterator for BTreeSet<T> {\n+    type Item = T;\n+    type IntoIter = IntoIter<T>;\n+\n+    fn into_iter(self) -> IntoIter<T> {\n+        self.into_iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, T> IntoIterator for &'a BTreeSet<T> {\n     type IntoIter = Iter<'a, T>;\n \n@@ -496,6 +510,16 @@ impl<'a, T> IntoIterator for &'a BTreeSet<T> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, T> IntoIterator for &'a BTreeSet<T> {\n+    type Item = &'a T;\n+    type IntoIter = Iter<'a, T>;\n+\n+    fn into_iter(self) -> Iter<'a, T> {\n+        self.iter()\n+    }\n+}\n+\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n impl<T: Ord> Extend<T> for BTreeSet<T> {\n     #[inline]"}, {"sha": "a6219a8faeb3e6e0e1a140cad64e9fe3402bdd32", "filename": "src/libcollections/dlist.rs", "status": "modified", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fdlist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fdlist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fdlist.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -830,6 +830,8 @@ impl<A> FromIterator<A> for DList<A> {\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<T> IntoIterator for DList<T> {\n     type IntoIter = IntoIter<T>;\n \n@@ -838,15 +840,49 @@ impl<T> IntoIterator for DList<T> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<T> IntoIterator for DList<T> {\n+    type Item = T;\n+    type IntoIter = IntoIter<T>;\n+\n+    fn into_iter(self) -> IntoIter<T> {\n+        self.into_iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n+impl<'a, T> IntoIterator for &'a DList<T> {\n+    type IntoIter = Iter<'a, T>;\n+\n+    fn into_iter(self) -> Iter<'a, T> {\n+        self.iter()\n+    }\n+}\n+\n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n impl<'a, T> IntoIterator for &'a DList<T> {\n+    type Item = &'a T;\n     type IntoIter = Iter<'a, T>;\n \n     fn into_iter(self) -> Iter<'a, T> {\n         self.iter()\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n+impl<'a, T> IntoIterator for &'a mut DList<T> {\n+    type IntoIter = IterMut<'a, T>;\n+\n+    fn into_iter(mut self) -> IterMut<'a, T> {\n+        self.iter_mut()\n+    }\n+}\n+\n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n impl<'a, T> IntoIterator for &'a mut DList<T> {\n+    type Item = &'a mut T;\n     type IntoIter = IterMut<'a, T>;\n \n     fn into_iter(mut self) -> IterMut<'a, T> {"}, {"sha": "5c37be188fea4c972859790ba405362e53663a98", "filename": "src/libcollections/enum_set.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fenum_set.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fenum_set.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fenum_set.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -257,6 +257,8 @@ impl<E:CLike> FromIterator<E> for EnumSet<E> {\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, E> IntoIterator for &'a EnumSet<E> where E: CLike {\n     type IntoIter = Iter<E>;\n \n@@ -265,6 +267,16 @@ impl<'a, E> IntoIterator for &'a EnumSet<E> where E: CLike {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, E> IntoIterator for &'a EnumSet<E> where E: CLike {\n+    type Item = E;\n+    type IntoIter = Iter<E>;\n+\n+    fn into_iter(self) -> Iter<E> {\n+        self.iter()\n+    }\n+}\n+\n impl<E:CLike> Extend<E> for EnumSet<E> {\n     fn extend<I: Iterator<Item=E>>(&mut self, iterator: I) {\n         for element in iterator {"}, {"sha": "5d3a9e500b2323e9c9ae69838c7e3342ad743692", "filename": "src/libcollections/ring_buf.rs", "status": "modified", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fring_buf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fring_buf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fring_buf.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -1607,6 +1607,8 @@ impl<A> FromIterator<A> for RingBuf<A> {\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<T> IntoIterator for RingBuf<T> {\n     type IntoIter = IntoIter<T>;\n \n@@ -1615,6 +1617,18 @@ impl<T> IntoIterator for RingBuf<T> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<T> IntoIterator for RingBuf<T> {\n+    type Item = T;\n+    type IntoIter = IntoIter<T>;\n+\n+    fn into_iter(self) -> IntoIter<T> {\n+        self.into_iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, T> IntoIterator for &'a RingBuf<T> {\n     type IntoIter = Iter<'a, T>;\n \n@@ -1623,6 +1637,18 @@ impl<'a, T> IntoIterator for &'a RingBuf<T> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, T> IntoIterator for &'a RingBuf<T> {\n+    type Item = &'a T;\n+    type IntoIter = Iter<'a, T>;\n+\n+    fn into_iter(self) -> Iter<'a, T> {\n+        self.iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, T> IntoIterator for &'a mut RingBuf<T> {\n     type IntoIter = IterMut<'a, T>;\n \n@@ -1631,6 +1657,16 @@ impl<'a, T> IntoIterator for &'a mut RingBuf<T> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, T> IntoIterator for &'a mut RingBuf<T> {\n+    type Item = &'a mut T;\n+    type IntoIter = IterMut<'a, T>;\n+\n+    fn into_iter(mut self) -> IterMut<'a, T> {\n+        self.iter_mut()\n+    }\n+}\n+\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n impl<A> Extend<A> for RingBuf<A> {\n     fn extend<T: Iterator<Item=A>>(&mut self, iterator: T) {"}, {"sha": "20cdf7e0b96015f205d8f662049d05d6fce75c52", "filename": "src/libcollections/vec.rs", "status": "modified", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fvec.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -1393,6 +1393,8 @@ impl<T> FromIterator<T> for Vec<T> {\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<T> IntoIterator for Vec<T> {\n     type IntoIter = IntoIter<T>;\n \n@@ -1401,6 +1403,18 @@ impl<T> IntoIterator for Vec<T> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<T> IntoIterator for Vec<T> {\n+    type Item = T;\n+    type IntoIter = IntoIter<T>;\n+\n+    fn into_iter(self) -> IntoIter<T> {\n+        self.into_iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, T> IntoIterator for &'a Vec<T> {\n     type IntoIter = slice::Iter<'a, T>;\n \n@@ -1409,7 +1423,29 @@ impl<'a, T> IntoIterator for &'a Vec<T> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, T> IntoIterator for &'a Vec<T> {\n+    type Item = &'a T;\n+    type IntoIter = slice::Iter<'a, T>;\n+\n+    fn into_iter(self) -> slice::Iter<'a, T> {\n+        self.iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n+impl<'a, T> IntoIterator for &'a mut Vec<T> {\n+    type IntoIter = slice::IterMut<'a, T>;\n+\n+    fn into_iter(mut self) -> slice::IterMut<'a, T> {\n+        self.iter_mut()\n+    }\n+}\n+\n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n impl<'a, T> IntoIterator for &'a mut Vec<T> {\n+    type Item = &'a mut T;\n     type IntoIter = slice::IterMut<'a, T>;\n \n     fn into_iter(mut self) -> slice::IterMut<'a, T> {"}, {"sha": "7f9484c58a18575994e941a7ce4e1ce2f8400bb1", "filename": "src/libcollections/vec_map.rs", "status": "modified", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fvec_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcollections%2Fvec_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fvec_map.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -668,6 +668,8 @@ impl<V> FromIterator<(usize, V)> for VecMap<V> {\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<T> IntoIterator for VecMap<T> {\n     type IntoIter = IntoIter<T>;\n \n@@ -676,15 +678,49 @@ impl<T> IntoIterator for VecMap<T> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<T> IntoIterator for VecMap<T> {\n+    type Item = (usize, T);\n+    type IntoIter = IntoIter<T>;\n+\n+    fn into_iter(self) -> IntoIter<T> {\n+        self.into_iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n+impl<'a, T> IntoIterator for &'a VecMap<T> {\n+    type IntoIter = Iter<'a, T>;\n+\n+    fn into_iter(self) -> Iter<'a, T> {\n+        self.iter()\n+    }\n+}\n+\n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n impl<'a, T> IntoIterator for &'a VecMap<T> {\n+    type Item = (usize, &'a T);\n     type IntoIter = Iter<'a, T>;\n \n     fn into_iter(self) -> Iter<'a, T> {\n         self.iter()\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n+impl<'a, T> IntoIterator for &'a mut VecMap<T> {\n+    type IntoIter = IterMut<'a, T>;\n+\n+    fn into_iter(mut self) -> IterMut<'a, T> {\n+        self.iter_mut()\n+    }\n+}\n+\n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n impl<'a, T> IntoIterator for &'a mut VecMap<T> {\n+    type Item = (usize, &'a mut T);\n     type IntoIter = IterMut<'a, T>;\n \n     fn into_iter(mut self) -> IterMut<'a, T> {"}, {"sha": "abaa7594d04780678661e93ecb0087070baa9170", "filename": "src/libcore/array.rs", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcore%2Farray.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcore%2Farray.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Farray.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -48,6 +48,8 @@ macro_rules! array_impls {\n                 }\n             }\n \n+            // NOTE(stage0): remove impl after a snapshot\n+            #[cfg(stage0)]\n             impl<'a, T> IntoIterator for &'a [T; $N] {\n                 type IntoIter = Iter<'a, T>;\n \n@@ -56,7 +58,29 @@ macro_rules! array_impls {\n                 }\n             }\n \n+            #[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+            impl<'a, T> IntoIterator for &'a [T; $N] {\n+                type Item = &'a T;\n+                type IntoIter = Iter<'a, T>;\n+\n+                fn into_iter(self) -> Iter<'a, T> {\n+                    self.iter()\n+                }\n+            }\n+\n+            // NOTE(stage0): remove impl after a snapshot\n+            #[cfg(stage0)]\n+            impl<'a, T> IntoIterator for &'a mut [T; $N] {\n+                type IntoIter = IterMut<'a, T>;\n+\n+                fn into_iter(self) -> IterMut<'a, T> {\n+                    self.iter_mut()\n+                }\n+            }\n+\n+            #[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n             impl<'a, T> IntoIterator for &'a mut [T; $N] {\n+                type Item = &'a mut T;\n                 type IntoIter = IterMut<'a, T>;\n \n                 fn into_iter(self) -> IterMut<'a, T> {"}, {"sha": "9bd94fb06a29f3c8594a169c14d273f02b075aef", "filename": "src/libcore/iter.rs", "status": "modified", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcore%2Fiter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcore%2Fiter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fiter.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -118,6 +118,8 @@ pub trait FromIterator<A> {\n     fn from_iter<T: Iterator<Item=A>>(iterator: T) -> Self;\n }\n \n+// NOTE(stage0): remove trait after a snapshot\n+#[cfg(stage0)]\n /// Conversion into an `Iterator`\n pub trait IntoIterator {\n     type IntoIter: Iterator;\n@@ -127,6 +129,19 @@ pub trait IntoIterator {\n     fn into_iter(self) -> Self::IntoIter;\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+/// Conversion into an `Iterator`\n+pub trait IntoIterator {\n+    type Item;\n+    type IntoIter: Iterator<Item=Self::Item>;\n+\n+    /// Consumes `Self` and returns an iterator over it\n+    #[stable(feature = \"rust1\", since = \"1.0.0\")]\n+    fn into_iter(self) -> Self::IntoIter;\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<I> IntoIterator for I where I: Iterator {\n     type IntoIter = I;\n \n@@ -135,6 +150,16 @@ impl<I> IntoIterator for I where I: Iterator {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<I: Iterator> IntoIterator for I {\n+    type Item = I::Item;\n+    type IntoIter = I;\n+\n+    fn into_iter(self) -> I {\n+        self\n+    }\n+}\n+\n /// A type growable from an `Iterator` implementation\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n pub trait Extend<A> {"}, {"sha": "41721dacfb86f4d2d327b5318fff07d234421897", "filename": "src/libcore/slice.rs", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcore%2Fslice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibcore%2Fslice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fslice.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -626,6 +626,8 @@ impl<'a, T> Default for &'a [T] {\n // Iterators\n //\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, T> IntoIterator for &'a [T] {\n     type IntoIter = Iter<'a, T>;\n \n@@ -634,7 +636,29 @@ impl<'a, T> IntoIterator for &'a [T] {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, T> IntoIterator for &'a [T] {\n+    type Item = &'a T;\n+    type IntoIter = Iter<'a, T>;\n+\n+    fn into_iter(self) -> Iter<'a, T> {\n+        self.iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n+impl<'a, T> IntoIterator for &'a mut [T] {\n+    type IntoIter = IterMut<'a, T>;\n+\n+    fn into_iter(self) -> IterMut<'a, T> {\n+        self.iter_mut()\n+    }\n+}\n+\n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n impl<'a, T> IntoIterator for &'a mut [T] {\n+    type Item = &'a mut T;\n     type IntoIter = IterMut<'a, T>;\n \n     fn into_iter(self) -> IterMut<'a, T> {"}, {"sha": "e27e7a80246858058081618883503e7c0b5daa74", "filename": "src/librustc/middle/subst.rs", "status": "modified", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibrustc%2Fmiddle%2Fsubst.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibrustc%2Fmiddle%2Fsubst.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fsubst.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -530,6 +530,8 @@ impl<'a,T> Iterator for EnumeratedItems<'a,T> {\n     }\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<T> IntoIterator for VecPerParamSpace<T> {\n     type IntoIter = IntoIter<T>;\n \n@@ -538,7 +540,29 @@ impl<T> IntoIterator for VecPerParamSpace<T> {\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<T> IntoIterator for VecPerParamSpace<T> {\n+    type Item = T;\n+    type IntoIter = IntoIter<T>;\n+\n+    fn into_iter(self) -> IntoIter<T> {\n+        self.into_vec().into_iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n+impl<'a,T> IntoIterator for &'a VecPerParamSpace<T> {\n+    type IntoIter = Iter<'a, T>;\n+\n+    fn into_iter(self) -> Iter<'a, T> {\n+        self.as_slice().into_iter()\n+    }\n+}\n+\n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n impl<'a,T> IntoIterator for &'a VecPerParamSpace<T> {\n+    type Item = &'a T;\n     type IntoIter = Iter<'a, T>;\n \n     fn into_iter(self) -> Iter<'a, T> {"}, {"sha": "241e409910f366b859af95528b99f87ac85afb43", "filename": "src/libstd/collections/hash/map.rs", "status": "modified", "additions": 48, "deletions": 0, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibstd%2Fcollections%2Fhash%2Fmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibstd%2Fcollections%2Fhash%2Fmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fcollections%2Fhash%2Fmap.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -1372,6 +1372,8 @@ enum VacantEntryState<K, V, M> {\n     NoElem(EmptyBucket<K, V, M>),\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, K, V, S, H> IntoIterator for &'a HashMap<K, V, S>\n     where K: Eq + Hash<H>,\n           S: HashState<Hasher=H>,\n@@ -1384,6 +1386,22 @@ impl<'a, K, V, S, H> IntoIterator for &'a HashMap<K, V, S>\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, K, V, S, H> IntoIterator for &'a HashMap<K, V, S>\n+    where K: Eq + Hash<H>,\n+          S: HashState<Hasher=H>,\n+          H: hash::Hasher<Output=u64>\n+{\n+    type Item = (&'a K, &'a V);\n+    type IntoIter = Iter<'a, K, V>;\n+\n+    fn into_iter(self) -> Iter<'a, K, V> {\n+        self.iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, K, V, S, H> IntoIterator for &'a mut HashMap<K, V, S>\n     where K: Eq + Hash<H>,\n           S: HashState<Hasher=H>,\n@@ -1396,6 +1414,22 @@ impl<'a, K, V, S, H> IntoIterator for &'a mut HashMap<K, V, S>\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, K, V, S, H> IntoIterator for &'a mut HashMap<K, V, S>\n+    where K: Eq + Hash<H>,\n+          S: HashState<Hasher=H>,\n+          H: hash::Hasher<Output=u64>\n+{\n+    type Item = (&'a K, &'a mut V);\n+    type IntoIter = IterMut<'a, K, V>;\n+\n+    fn into_iter(mut self) -> IterMut<'a, K, V> {\n+        self.iter_mut()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<K, V, S, H> IntoIterator for HashMap<K, V, S>\n     where K: Eq + Hash<H>,\n           S: HashState<Hasher=H>,\n@@ -1408,6 +1442,20 @@ impl<K, V, S, H> IntoIterator for HashMap<K, V, S>\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<K, V, S, H> IntoIterator for HashMap<K, V, S>\n+    where K: Eq + Hash<H>,\n+          S: HashState<Hasher=H>,\n+          H: hash::Hasher<Output=u64>\n+{\n+    type Item = (K, V);\n+    type IntoIter = IntoIter<K, V>;\n+\n+    fn into_iter(self) -> IntoIter<K, V> {\n+        self.into_iter()\n+    }\n+}\n+\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n impl<'a, K, V> Iterator for Iter<'a, K, V> {\n     type Item = (&'a K, &'a V);"}, {"sha": "7d735201beaa1c5928972d3d6ccf0c293fc43dcb", "filename": "src/libstd/collections/hash/set.rs", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibstd%2Fcollections%2Fhash%2Fset.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7273784c7a80d8099e495015753d70e63e6d432/src%2Flibstd%2Fcollections%2Fhash%2Fset.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fcollections%2Fhash%2Fset.rs?ref=e7273784c7a80d8099e495015753d70e63e6d432", "patch": "@@ -835,6 +835,8 @@ pub struct Union<'a, T: 'a, S: 'a> {\n     iter: Chain<Iter<'a, T>, Difference<'a, T, S>>\n }\n \n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n impl<'a, T, S, H> IntoIterator for &'a HashSet<T, S>\n     where T: Eq + Hash<H>,\n           S: HashState<Hasher=H>,\n@@ -847,11 +849,41 @@ impl<'a, T, S, H> IntoIterator for &'a HashSet<T, S>\n     }\n }\n \n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n+impl<'a, T, S, H> IntoIterator for &'a HashSet<T, S>\n+    where T: Eq + Hash<H>,\n+          S: HashState<Hasher=H>,\n+          H: hash::Hasher<Output=u64>\n+{\n+    type Item = &'a T;\n+    type IntoIter = Iter<'a, T>;\n+\n+    fn into_iter(self) -> Iter<'a, T> {\n+        self.iter()\n+    }\n+}\n+\n+// NOTE(stage0): remove impl after a snapshot\n+#[cfg(stage0)]\n+impl<T, S, H> IntoIterator for HashSet<T, S>\n+    where T: Eq + Hash<H>,\n+          S: HashState<Hasher=H>,\n+          H: hash::Hasher<Output=u64>\n+{\n+    type IntoIter = IntoIter<T>;\n+\n+    fn into_iter(self) -> IntoIter<T> {\n+        self.into_iter()\n+    }\n+}\n+\n+#[cfg(not(stage0))]  // NOTE(stage0): remove cfg after a snapshot\n impl<T, S, H> IntoIterator for HashSet<T, S>\n     where T: Eq + Hash<H>,\n           S: HashState<Hasher=H>,\n           H: hash::Hasher<Output=u64>\n {\n+    type Item = T;\n     type IntoIter = IntoIter<T>;\n \n     fn into_iter(self) -> IntoIter<T> {"}]}