{"sha": "4b4f48283bdd71fa106f1e2ce80c6d2a0d2aff36", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRiNGY0ODI4M2JkZDcxZmExMDZmMWUyY2U4MGM2ZDJhMGQyYWZmMzY=", "commit": {"author": {"name": "Young-il Choi", "email": "duddlf.choi@samsung.com", "date": "2013-03-20T11:24:39Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-04-11T01:49:50Z"}, "message": "rustllvm: followup latest LLVM", "tree": {"sha": "f8d9fccd92c445630a6201f7e78ba91897043c49", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f8d9fccd92c445630a6201f7e78ba91897043c49"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4b4f48283bdd71fa106f1e2ce80c6d2a0d2aff36", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4b4f48283bdd71fa106f1e2ce80c6d2a0d2aff36", "html_url": "https://github.com/rust-lang/rust/commit/4b4f48283bdd71fa106f1e2ce80c6d2a0d2aff36", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4b4f48283bdd71fa106f1e2ce80c6d2a0d2aff36/comments", "author": {"login": "yichoi", "id": 3222276, "node_id": "MDQ6VXNlcjMyMjIyNzY=", "avatar_url": "https://avatars.githubusercontent.com/u/3222276?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yichoi", "html_url": "https://github.com/yichoi", "followers_url": "https://api.github.com/users/yichoi/followers", "following_url": "https://api.github.com/users/yichoi/following{/other_user}", "gists_url": "https://api.github.com/users/yichoi/gists{/gist_id}", "starred_url": "https://api.github.com/users/yichoi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yichoi/subscriptions", "organizations_url": "https://api.github.com/users/yichoi/orgs", "repos_url": "https://api.github.com/users/yichoi/repos", "events_url": "https://api.github.com/users/yichoi/events{/privacy}", "received_events_url": "https://api.github.com/users/yichoi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a9741bd33d7e55401f506bb82b99411d03ce7e3f", "url": "https://api.github.com/repos/rust-lang/rust/commits/a9741bd33d7e55401f506bb82b99411d03ce7e3f", "html_url": "https://github.com/rust-lang/rust/commit/a9741bd33d7e55401f506bb82b99411d03ce7e3f"}], "stats": {"total": 22, "additions": 13, "deletions": 9}, "files": [{"sha": "68483b0280f4a5622c63ce8b242f26328cb1d678", "filename": "src/rustllvm/RustWrapper.cpp", "status": "modified", "additions": 13, "deletions": 7, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/4b4f48283bdd71fa106f1e2ce80c6d2a0d2aff36/src%2Frustllvm%2FRustWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/4b4f48283bdd71fa106f1e2ce80c6d2a0d2aff36/src%2Frustllvm%2FRustWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2FRustWrapper.cpp?ref=4b4f48283bdd71fa106f1e2ce80c6d2a0d2aff36", "patch": "@@ -15,14 +15,12 @@\n //\n //===----------------------------------------------------------------------===\n \n-#include \"llvm/InlineAsm.h\"\n-#include \"llvm/LLVMContext.h\"\n #include \"llvm/Linker.h\"\n #include \"llvm/PassManager.h\"\n+#include \"llvm/IR/InlineAsm.h\"\n+#include \"llvm/IR/LLVMContext.h\"\n #include \"llvm/Analysis/Verifier.h\"\n #include \"llvm/Analysis/Passes.h\"\n-#include \"llvm/Transforms/Scalar.h\"\n-#include \"llvm/Transforms/IPO.h\"\n #include \"llvm/ADT/Triple.h\"\n #include \"llvm/ADT/DenseSet.h\"\n #include \"llvm/Assembly/Parser.h\"\n@@ -31,11 +29,9 @@\n #include \"llvm/Support/FormattedStream.h\"\n #include \"llvm/Support/Timer.h\"\n #include \"llvm/Support/raw_ostream.h\"\n-#include \"llvm/Target/TargetMachine.h\"\n #include \"llvm/Support/TargetSelect.h\"\n #include \"llvm/Support/TargetRegistry.h\"\n #include \"llvm/Support/SourceMgr.h\"\n-#include \"llvm/Target/TargetOptions.h\"\n #include \"llvm/Support/Host.h\"\n #include \"llvm/Support/Debug.h\"\n #include \"llvm/Support/DynamicLibrary.h\"\n@@ -45,6 +41,10 @@\n #include \"llvm/ExecutionEngine/JITMemoryManager.h\"\n #include \"llvm/ExecutionEngine/MCJIT.h\"\n #include \"llvm/ExecutionEngine/Interpreter.h\"\n+#include \"llvm/Target/TargetMachine.h\"\n+#include \"llvm/Target/TargetOptions.h\"\n+#include \"llvm/Transforms/Scalar.h\"\n+#include \"llvm/Transforms/IPO.h\"\n #include \"llvm-c/Core.h\"\n #include \"llvm-c/BitReader.h\"\n #include \"llvm-c/Object.h\"\n@@ -218,6 +218,12 @@ class RustMCJITMemoryManager : public JITMemoryManager {\n   virtual void deallocateExceptionTable(void *ET) {\n     llvm_unreachable(\"Unimplemented call\");\n   }\n+  virtual uint8_t* allocateDataSection(uintptr_t, unsigned int, unsigned int, bool) {\n+    llvm_unreachable(\"Unimplemented call\");\n+  }\n+  virtual bool applyPermissions(std::string*) {\n+    llvm_unreachable(\"Unimplemented call\");\n+  }\n };\n \n bool RustMCJITMemoryManager::loadCrate(const char* file, std::string* err) {\n@@ -481,7 +487,7 @@ extern \"C\" LLVMModuleRef LLVMRustParseAssemblyFile(const char *Filename) {\n   if (m) {\n     return wrap(m);\n   } else {\n-    LLVMRustError = d.getMessage().c_str();\n+    LLVMRustError = d.getMessage().data();\n     return NULL;\n   }\n }"}, {"sha": "73bf1af90cd3437ed887772627c9692fa5d3fbcd", "filename": "src/rustllvm/rustllvm.def.in", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4b4f48283bdd71fa106f1e2ce80c6d2a0d2aff36/src%2Frustllvm%2Frustllvm.def.in", "raw_url": "https://github.com/rust-lang/rust/raw/4b4f48283bdd71fa106f1e2ce80c6d2a0d2aff36/src%2Frustllvm%2Frustllvm.def.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2Frustllvm.def.in?ref=4b4f48283bdd71fa106f1e2ce80c6d2a0d2aff36", "patch": "@@ -383,8 +383,6 @@ LLVMInitializeInstCombine\n LLVMInitializeScalarOpts\n LLVMInitializeTarget\n LLVMInitializeTransformUtils\n-LLVMInitializeARMAsmLexer\n-LLVMInitializeX86AsmLexer\n LLVMInitializeARMAsmParser\n LLVMInitializeMipsAsmParser\n LLVMInitializeX86AsmParser"}]}