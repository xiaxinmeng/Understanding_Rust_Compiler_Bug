{"sha": "8005092cf0dcb05665c7e7f06fa29dfb45d3c529", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgwMDUwOTJjZjBkY2IwNTY2NWM3ZTdmMDZmYTI5ZGZiNDVkM2M1Mjk=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-02-21T13:25:12Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-02-21T13:25:12Z"}, "message": "Add rustdoc gui tests", "tree": {"sha": "5dd524dee434eecd9aeef9bc0f4b9627c4aaa90b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5dd524dee434eecd9aeef9bc0f4b9627c4aaa90b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8005092cf0dcb05665c7e7f06fa29dfb45d3c529", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8005092cf0dcb05665c7e7f06fa29dfb45d3c529", "html_url": "https://github.com/rust-lang/rust/commit/8005092cf0dcb05665c7e7f06fa29dfb45d3c529", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fa131845bc668e5a8535882a03eab2ec8d2e23aa", "url": "https://api.github.com/repos/rust-lang/rust/commits/fa131845bc668e5a8535882a03eab2ec8d2e23aa", "html_url": "https://github.com/rust-lang/rust/commit/fa131845bc668e5a8535882a03eab2ec8d2e23aa"}], "stats": {"total": 100, "additions": 100, "deletions": 0}, "files": [{"sha": "8da465662547a6afcb532f44a4ebcf472158571a", "filename": "src/test/rustdoc-gui/basic-code.goml", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Fbasic-code.goml", "raw_url": "https://github.com/rust-lang/rust/raw/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Fbasic-code.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fbasic-code.goml?ref=8005092cf0dcb05665c7e7f06fa29dfb45d3c529", "patch": "@@ -0,0 +1,3 @@\n+goto: file://|DOC_PATH|/index.html\n+click: \".srclink\"\n+assert: (\".line-numbers\", 1)"}, {"sha": "ed23300860b706ccf235e281913fc7bd32fdc27d", "filename": "src/test/rustdoc-gui/basic.goml", "status": "added", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Fbasic.goml", "raw_url": "https://github.com/rust-lang/rust/raw/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Fbasic.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fbasic.goml?ref=8005092cf0dcb05665c7e7f06fa29dfb45d3c529", "patch": "@@ -0,0 +1,4 @@\n+goto: file://|DOC_PATH|/index.html\n+assert: (\"#functions\")\n+goto: ./struct.Foo.html\n+assert: (\"div.type-decl\")"}, {"sha": "69fc860244b7b113f24bb9f6031dbbf579a7ef5f", "filename": "src/test/rustdoc-gui/code-sidebar-toggle.goml", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Fcode-sidebar-toggle.goml", "raw_url": "https://github.com/rust-lang/rust/raw/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Fcode-sidebar-toggle.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fcode-sidebar-toggle.goml?ref=8005092cf0dcb05665c7e7f06fa29dfb45d3c529", "patch": "@@ -0,0 +1,6 @@\n+goto: file://|DOC_PATH|/index.html\n+click: \".srclink\"\n+click: \"#sidebar-toggle\"\n+wait-for: 500\n+fail: true\n+assert: (\"#source-sidebar\", { \"left\": \"-300px\" })"}, {"sha": "3c996f5b65c92d54c12dbceee12ed4158feb248e", "filename": "src/test/rustdoc-gui/lib.rs", "status": "added", "additions": 67, "deletions": 0, "changes": 67, "blob_url": "https://github.com/rust-lang/rust/blob/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Flib.rs?ref=8005092cf0dcb05665c7e7f06fa29dfb45d3c529", "patch": "@@ -0,0 +1,67 @@\n+//! The point of this crate is to be able to have enough different \"kinds\" of\n+//! documentation generated so we can test each different features.\n+\n+#![crate_name = \"test_docs\"]\n+\n+use std::fmt;\n+\n+/// Basic function with some code examples:\n+///\n+/// ```\n+/// println!(\"nothing fancy\");\n+/// ```\n+///\n+/// A failing to compile one:\n+///\n+/// ```compile_fail\n+/// println!(\"where did my argument {} go? :'(\");\n+/// ```\n+///\n+/// An ignored one:\n+///\n+/// ```ignore (it's a test)\n+/// Let's say I'm just some text will ya?\n+/// ```\n+pub fn foo() {}\n+\n+/// Just a normal struct.\n+pub struct Foo;\n+\n+/// Just a normal enum.\n+pub enum WhoLetTheDogOut {\n+    /// Woof!\n+    Woof,\n+    /// Meoooooooow...\n+    Meow,\n+}\n+\n+/// Who doesn't love to wrap a `format!` call?\n+pub fn some_more_function<T: fmt::Debug>(t: &T) -> String {\n+    format!(\"{:?}\", t)\n+}\n+\n+/// Woohoo! A trait!\n+pub trait AnotherOne {\n+    /// Some func 1.\n+    fn func1();\n+\n+    /// Some func 2.\n+    fn func2();\n+\n+    /// Some func 3.\n+    fn func3();\n+}\n+\n+/// Check for \"i\" signs in lists!\n+///\n+/// 1. elem 1\n+/// 2.test 1\n+///   ```compile_fail\n+///   fn foo() {}\n+///   ```\n+/// 3. elem 3\n+/// 4. ```ignore (it's a test)\n+///    fn foo() {}\n+///    ```\n+/// 5. elem 5\n+pub fn check_list_code_block() {}"}, {"sha": "6f2465a5587f2a6674a82e9aebeb2ec8a3fa26e7", "filename": "src/test/rustdoc-gui/list_code_block.goml", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Flist_code_block.goml", "raw_url": "https://github.com/rust-lang/rust/raw/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Flist_code_block.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Flist_code_block.goml?ref=8005092cf0dcb05665c7e7f06fa29dfb45d3c529", "patch": "@@ -0,0 +1,3 @@\n+goto: file://|DOC_PATH|/index.html\n+goto: ./fn.check_list_code_block.html\n+assert: (\"pre.rust.fn\")"}, {"sha": "5bd65f61f49050fa302935a8b96af317662b2b65", "filename": "src/test/rustdoc-gui/theme-change.goml", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Ftheme-change.goml", "raw_url": "https://github.com/rust-lang/rust/raw/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Ftheme-change.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ftheme-change.goml?ref=8005092cf0dcb05665c7e7f06fa29dfb45d3c529", "patch": "@@ -0,0 +1,10 @@\n+goto: file://|DOC_PATH|/index.html\n+click: \"#theme-picker\"\n+click: \"#theme-choices > button:first-child\"\n+wait-for: 500\n+// should be the ayu theme so let's check the color\n+assert: (\"body\", { \"background-color\": \"rgb(15, 20, 25)\" })\n+click: \"#theme-choices > button:last-child\"\n+wait-for: 500\n+// should be the light theme so let's check the color\n+assert: (\"body\", { \"background-color\": \"rgb(255, 255, 255)\" })"}, {"sha": "1ded33f659d3c6fb1e5de86eddc5f48cb0e11115", "filename": "src/test/rustdoc-gui/toggle-docs.goml", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Ftoggle-docs.goml", "raw_url": "https://github.com/rust-lang/rust/raw/8005092cf0dcb05665c7e7f06fa29dfb45d3c529/src%2Ftest%2Frustdoc-gui%2Ftoggle-docs.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ftoggle-docs.goml?ref=8005092cf0dcb05665c7e7f06fa29dfb45d3c529", "patch": "@@ -0,0 +1,7 @@\n+goto: file://|DOC_PATH|/index.html\n+click: \"#toggle-all-docs\"\n+wait-for: 5000\n+assert: (\"#main > div.docblock.hidden-by-usual-hider\")\n+click: \"#toggle-all-docs\"\n+wait-for: 5000\n+assert: (\"#main > div.docblock.hidden-by-usual-hider\", 0)"}]}