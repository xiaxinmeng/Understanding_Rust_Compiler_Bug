{"sha": "cc0932641a58e262338d6372ecb102a5db88938a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNjMDkzMjY0MWE1OGUyNjIzMzhkNjM3MmVjYjEwMmE1ZGI4ODkzOGE=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2021-07-06T13:18:37Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2021-07-07T09:30:08Z"}, "message": "Fix inconsistency on visibility display for typedefs", "tree": {"sha": "ab82fc528bf2b5305408c543c845faf4b6e7a2eb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ab82fc528bf2b5305408c543c845faf4b6e7a2eb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cc0932641a58e262338d6372ecb102a5db88938a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cc0932641a58e262338d6372ecb102a5db88938a", "html_url": "https://github.com/rust-lang/rust/commit/cc0932641a58e262338d6372ecb102a5db88938a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cc0932641a58e262338d6372ecb102a5db88938a/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e948e8de79cdb4a178239a8932b11601a81eca56", "url": "https://api.github.com/repos/rust-lang/rust/commits/e948e8de79cdb4a178239a8932b11601a81eca56", "html_url": "https://github.com/rust-lang/rust/commit/e948e8de79cdb4a178239a8932b11601a81eca56"}], "stats": {"total": 13, "additions": 11, "deletions": 2}, "files": [{"sha": "f7073a8751fa18723622c06d15c6e26a29adae86", "filename": "src/librustdoc/html/render/print_item.rs", "status": "modified", "additions": 11, "deletions": 2, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/cc0932641a58e262338d6372ecb102a5db88938a/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cc0932641a58e262338d6372ecb102a5db88938a/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs?ref=cc0932641a58e262338d6372ecb102a5db88938a", "patch": "@@ -133,7 +133,7 @@ pub(super) fn print_item(cx: &Context<'_>, item: &clean::Item, buf: &mut Buffer,\n         clean::StructItem(ref s) => item_struct(buf, cx, item, s),\n         clean::UnionItem(ref s) => item_union(buf, cx, item, s),\n         clean::EnumItem(ref e) => item_enum(buf, cx, item, e),\n-        clean::TypedefItem(ref t, _) => item_typedef(buf, cx, item, t),\n+        clean::TypedefItem(ref t, is_associated) => item_typedef(buf, cx, item, t, is_associated),\n         clean::MacroItem(ref m) => item_macro(buf, cx, item, m),\n         clean::ProcMacroItem(ref m) => item_proc_macro(buf, cx, item, m),\n         clean::PrimitiveItem(_) => item_primitive(buf, cx, item),\n@@ -837,9 +837,18 @@ fn item_opaque_ty(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean:\n     render_assoc_items(w, cx, it, it.def_id.expect_def_id(), AssocItemRender::All)\n }\n \n-fn item_typedef(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Typedef) {\n+fn item_typedef(\n+    w: &mut Buffer,\n+    cx: &Context<'_>,\n+    it: &clean::Item,\n+    t: &clean::Typedef,\n+    is_associated: bool,\n+) {\n     w.write_str(\"<pre class=\\\"rust typedef\\\">\");\n     render_attributes_in_pre(w, it, \"\");\n+    if !is_associated {\n+        write!(w, \"{}\", it.visibility.print_with_space(it.def_id, cx));\n+    }\n     write!(\n         w,\n         \"type {}{}{where_clause} = {type_};</pre>\","}]}