{"sha": "f863e4cc301c7ab7c97b86ad142474989789badc", "node_id": "C_kwDOAAsO6NoAKGY4NjNlNGNjMzAxYzdhYjdjOTdiODZhZDE0MjQ3NDk4OTc4OWJhZGM", "commit": {"author": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2021-11-02T13:07:52Z"}, "committer": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2021-11-02T13:07:52Z"}, "message": "Add a template for target-specific documentation", "tree": {"sha": "183eaa1c3d58ad398767099ac573b8bf1f4823ed", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/183eaa1c3d58ad398767099ac573b8bf1f4823ed"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f863e4cc301c7ab7c97b86ad142474989789badc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f863e4cc301c7ab7c97b86ad142474989789badc", "html_url": "https://github.com/rust-lang/rust/commit/f863e4cc301c7ab7c97b86ad142474989789badc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f863e4cc301c7ab7c97b86ad142474989789badc/comments", "author": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "committer": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "10420ef94514b6319ab87442bfbc7fd465c3394b", "url": "https://api.github.com/repos/rust-lang/rust/commits/10420ef94514b6319ab87442bfbc7fd465c3394b", "html_url": "https://github.com/rust-lang/rust/commit/10420ef94514b6319ab87442bfbc7fd465c3394b"}], "stats": {"total": 58, "additions": 56, "deletions": 2}, "files": [{"sha": "0bf5c9b3de31e80a69238360a252167ebd0f404d", "filename": "src/doc/rustc/src/SUMMARY.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f863e4cc301c7ab7c97b86ad142474989789badc/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md", "raw_url": "https://github.com/rust-lang/rust/raw/f863e4cc301c7ab7c97b86ad142474989789badc/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md?ref=f863e4cc301c7ab7c97b86ad142474989789badc", "patch": "@@ -13,6 +13,7 @@\n - [JSON Output](json.md)\n - [Tests](tests/index.md)\n - [Platform Support](platform-support.md)\n+    - [Template for target-specific documentation](platform-support/TEMPLATE.md)\n     - [aarch64-apple-ios-sim](platform-support/aarch64-apple-ios-sim.md)\n     - [\\*-kmc-solid_\\*](platform-support/kmc-solid.md)\n - [Target Tier Policy](target-tier-policy.md)"}, {"sha": "e64783fcf194abe4d401d78d6eb5529c88d79305", "filename": "src/doc/rustc/src/platform-support/TEMPLATE.md", "status": "added", "additions": 52, "deletions": 0, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/f863e4cc301c7ab7c97b86ad142474989789badc/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2FTEMPLATE.md", "raw_url": "https://github.com/rust-lang/rust/raw/f863e4cc301c7ab7c97b86ad142474989789badc/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2FTEMPLATE.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2FTEMPLATE.md?ref=f863e4cc301c7ab7c97b86ad142474989789badc", "patch": "@@ -0,0 +1,52 @@\n+# `target-name-here`\n+\n+**Tier: 3**\n+\n+One-sentence description of the target (e.g. CPU, OS)\n+\n+## Target maintainers\n+\n+- Some Person, `email@example.org`, https://github.com/...\n+\n+## Requirements\n+\n+Does the target support host tools, or only cross-compilation? Does the target\n+support std, or alloc (either with a default allocator, or if the user supplies\n+an allocator)?\n+\n+Document the expectations of binaries built for the target. Do they assume\n+specific minimum features beyond the baseline of the CPU/environment/etc? What\n+version of the OS or environment do they expect?\n+\n+Are there notable `#[target_feature(...)]` or `-C target-feature=` values that\n+programs may wish to use?\n+\n+What calling convention does `extern \"C\"` use on the target?\n+\n+What format do binaries use by default? ELF, PE, something else?\n+\n+## Building the target\n+\n+If Rust doesn't build the target by default, how can users build it? Can users\n+just add it to the `target` list in `config.toml`?\n+\n+## Building Rust programs\n+\n+Rust does not yet ship pre-compiled artifacts for this target. To compile for\n+this target, you will either need to build Rust with the target enabled (see\n+\"Building the target\" above), or build your own copy of `core` by using\n+`build-std` or similar.\n+\n+## Testing\n+\n+Does the target support running binaries, or do binaries have varying\n+expectations that prevent having a standard way to run them? If users can run\n+binaries, can they do so in some common emulator, or do they need native\n+hardware? Does the target support running the Rust testsuite?\n+\n+## Cross-compilation toolchains and C code\n+\n+Does the target support C code? If so, what toolchain target should users use\n+to build compatible C code? (This may match the target triple, or it may be a\n+toolchain for a different target triple, potentially with specific options or\n+caveats.)"}, {"sha": "53d0470fa8135c491b119abeaa858c96405e7953", "filename": "src/doc/rustc/src/target-tier-policy.md", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f863e4cc301c7ab7c97b86ad142474989789badc/src%2Fdoc%2Frustc%2Fsrc%2Ftarget-tier-policy.md", "raw_url": "https://github.com/rust-lang/rust/raw/f863e4cc301c7ab7c97b86ad142474989789badc/src%2Fdoc%2Frustc%2Fsrc%2Ftarget-tier-policy.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Ftarget-tier-policy.md?ref=f863e4cc301c7ab7c97b86ad142474989789badc", "patch": "@@ -74,8 +74,9 @@ For a list of all supported targets and their corresponding tiers (\"tier 3\",\n Several parts of this policy require providing target-specific documentation.\n Such documentation should typically appear in a subdirectory of the\n platform-support section of this rustc manual, with a link from the target's\n-entry in [platform support](platform-support.md). See other documentation in\n-that directory for examples.\n+entry in [platform support](platform-support.md). Use\n+[TEMPLATE.md](platform-support/TEMPLATE.md) as a base, and see other\n+documentation in that directory for examples.\n \n Note that a target must have already received approval for the next lower tier,\n and spent a reasonable amount of time at that tier, before making a proposal"}]}