{"sha": "7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc2OTNiYjllMWQxMjJiZWExYjA2NDVkY2MyMDFjNmVkNzljOTEwZTI=", "commit": {"author": {"name": "Reese Williams", "email": "rtwill722@gmail.com", "date": "2019-12-03T02:52:04Z"}, "committer": {"name": "Reese Williams", "email": "rtwill722@gmail.com", "date": "2019-12-03T03:01:27Z"}, "message": "Add long error for E0631 and update ui tests.", "tree": {"sha": "743cd8c89aabb51017a1492df875695172fcb540", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/743cd8c89aabb51017a1492df875695172fcb540"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "html_url": "https://github.com/rust-lang/rust/commit/7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/comments", "author": {"login": "reese", "id": 26661872, "node_id": "MDQ6VXNlcjI2NjYxODcy", "avatar_url": "https://avatars.githubusercontent.com/u/26661872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reese", "html_url": "https://github.com/reese", "followers_url": "https://api.github.com/users/reese/followers", "following_url": "https://api.github.com/users/reese/following{/other_user}", "gists_url": "https://api.github.com/users/reese/gists{/gist_id}", "starred_url": "https://api.github.com/users/reese/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reese/subscriptions", "organizations_url": "https://api.github.com/users/reese/orgs", "repos_url": "https://api.github.com/users/reese/repos", "events_url": "https://api.github.com/users/reese/events{/privacy}", "received_events_url": "https://api.github.com/users/reese/received_events", "type": "User", "site_admin": false}, "committer": {"login": "reese", "id": 26661872, "node_id": "MDQ6VXNlcjI2NjYxODcy", "avatar_url": "https://avatars.githubusercontent.com/u/26661872?v=4", "gravatar_id": "", "url": "https://api.github.com/users/reese", "html_url": "https://github.com/reese", "followers_url": "https://api.github.com/users/reese/followers", "following_url": "https://api.github.com/users/reese/following{/other_user}", "gists_url": "https://api.github.com/users/reese/gists{/gist_id}", "starred_url": "https://api.github.com/users/reese/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/reese/subscriptions", "organizations_url": "https://api.github.com/users/reese/orgs", "repos_url": "https://api.github.com/users/reese/repos", "events_url": "https://api.github.com/users/reese/events{/privacy}", "received_events_url": "https://api.github.com/users/reese/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2da942f32802c8233a09744024dfbc34431adf65", "url": "https://api.github.com/repos/rust-lang/rust/commits/2da942f32802c8233a09744024dfbc34431adf65", "html_url": "https://github.com/rust-lang/rust/commit/2da942f32802c8233a09744024dfbc34431adf65"}], "stats": {"total": 57, "additions": 49, "deletions": 8}, "files": [{"sha": "9e4b704170b9b38271269b01e42f5e8068002484", "filename": "src/librustc_error_codes/error_codes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Flibrustc_error_codes%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Flibrustc_error_codes%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_error_codes%2Ferror_codes.rs?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -347,6 +347,7 @@ E0622: include_str!(\"./error_codes/E0622.md\"),\n E0623: include_str!(\"./error_codes/E0623.md\"),\n E0624: include_str!(\"./error_codes/E0624.md\"),\n E0626: include_str!(\"./error_codes/E0626.md\"),\n+E0631: include_str!(\"./error_codes/E0631.md\"),\n E0633: include_str!(\"./error_codes/E0633.md\"),\n E0635: include_str!(\"./error_codes/E0635.md\"),\n E0636: include_str!(\"./error_codes/E0636.md\"),\n@@ -580,7 +581,6 @@ E0745: include_str!(\"./error_codes/E0745.md\"),\n     // rustc_const_unstable attribute must be paired with stable/unstable\n     // attribute\n     E0630,\n-    E0631, // type mismatch in closure arguments\n     E0632, // cannot provide explicit generic arguments when `impl Trait` is\n            // used in argument position\n     E0634, // type has conflicting packed representaton hints"}, {"sha": "ad419f82250ccc205f561f2064e5758d431b1008", "filename": "src/librustc_error_codes/error_codes/E0631.md", "status": "added", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Flibrustc_error_codes%2Ferror_codes%2FE0631.md", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Flibrustc_error_codes%2Ferror_codes%2FE0631.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_error_codes%2Ferror_codes%2FE0631.md?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -0,0 +1,29 @@\n+This error indicates a type mismatch in closure arguments.\n+\n+Erroneous code example:\n+\n+```compile_fail,E0631\n+fn test_strings(string_vec: Vec<String>) -> Vec<bool> {\n+  string_vec\n+    .iter()\n+    .map(|arg: &i32| arg.eq(\"Test String\"))\n+    .collect()\n+}\n+```\n+\n+The closure passed to `map` expects a `&String` argument, since `some_vec`\n+has the type `Vec<String>`.\n+However, the closure argument is annotated as an `&i32`, which does not match\n+the type of the iterable.\n+\n+This can be resolved by changing the type annotation or removing it entirely\n+if it can be inferred.\n+\n+```\n+fn test_strings(string_vec: Vec<String>) -> Vec<bool> {\n+  string_vec\n+    .iter()\n+    .map(|arg| arg.eq(\"Test String\"))\n+    .collect()\n+}\n+```"}, {"sha": "c6d9a61bdd95aa82047d312cba5edc7d4e69b238", "filename": "src/test/ui/anonymous-higher-ranked-lifetime.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fanonymous-higher-ranked-lifetime.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fanonymous-higher-ranked-lifetime.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fanonymous-higher-ranked-lifetime.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -121,3 +121,4 @@ LL | fn h2<F>(_: F) where F: for<'t0> Fn(&(), Box<dyn Fn(&())>, &'t0 (), fn(&(),\n \n error: aborting due to 11 previous errors\n \n+For more information about this error, try `rustc --explain E0631`."}, {"sha": "003339584681529f296a311586e29e05d6c8f1d4", "filename": "src/test/ui/closure-expected-type/expect-fn-supply-fn.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fclosure-expected-type%2Fexpect-fn-supply-fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fclosure-expected-type%2Fexpect-fn-supply-fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fclosure-expected-type%2Fexpect-fn-supply-fn.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -77,4 +77,5 @@ LL |     with_closure_expecting_fn_with_bound_region(|x: Foo<'_>, y| {\n \n error: aborting due to 5 previous errors\n \n-For more information about this error, try `rustc --explain E0308`.\n+Some errors have detailed explanations: E0308, E0631.\n+For more information about an error, try `rustc --explain E0308`."}, {"sha": "1c6564ee426e50b3b7dfcad2746fbaa21a769f8e", "filename": "src/test/ui/closure-expected-type/expect-infer-var-appearing-twice.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fclosure-expected-type%2Fexpect-infer-var-appearing-twice.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fclosure-expected-type%2Fexpect-infer-var-appearing-twice.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fclosure-expected-type%2Fexpect-infer-var-appearing-twice.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -13,3 +13,4 @@ LL |     with_closure(|x: u32, y: i32| {\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0631`."}, {"sha": "2f2871e9f0e90c89e1cfe7a6cbad4d9e544b278f", "filename": "src/test/ui/closures/issue-41366.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fclosures%2Fissue-41366.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fclosures%2Fissue-41366.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fclosures%2Fissue-41366.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -19,4 +19,5 @@ LL |     (&|_|()) as &dyn for<'x> Fn(<u32 as T<'x>>::V);\n \n error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0271`.\n+Some errors have detailed explanations: E0271, E0631.\n+For more information about an error, try `rustc --explain E0271`."}, {"sha": "d90eb53f9006ffe8d2d651257d41e05a9aba2d9c", "filename": "src/test/ui/issues/issue-43623.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fissues%2Fissue-43623.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fissues%2Fissue-43623.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-43623.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -25,4 +25,5 @@ LL |     break_me::<Type, fn(_)>;\n \n error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0271`.\n+Some errors have detailed explanations: E0271, E0631.\n+For more information about an error, try `rustc --explain E0271`."}, {"sha": "d13dcd54a479aa079dde0093cee5101c7e57d786", "filename": "src/test/ui/issues/issue-60283.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fissues%2Fissue-60283.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fissues%2Fissue-60283.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-60283.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -27,4 +27,5 @@ LL |     foo((), drop)\n \n error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0271`.\n+Some errors have detailed explanations: E0271, E0631.\n+For more information about an error, try `rustc --explain E0271`."}, {"sha": "06f5c058f81f541a7fb62d1f172f05078382f2be", "filename": "src/test/ui/mismatched_types/E0631.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2FE0631.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2FE0631.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2FE0631.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -46,3 +46,4 @@ LL |     bar(f);\n \n error: aborting due to 4 previous errors\n \n+For more information about this error, try `rustc --explain E0631`."}, {"sha": "ed5028247124f6e70ae74cbeacf4f71067327800", "filename": "src/test/ui/mismatched_types/closure-arg-type-mismatch.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-arg-type-mismatch.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-arg-type-mismatch.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-arg-type-mismatch.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -45,4 +45,5 @@ LL |     baz(f);\n \n error: aborting due to 5 previous errors\n \n-For more information about this error, try `rustc --explain E0271`.\n+Some errors have detailed explanations: E0271, E0631.\n+For more information about an error, try `rustc --explain E0271`."}, {"sha": "f3874c0907be033cb4980cba19d4244bff2e58ab", "filename": "src/test/ui/mismatched_types/closure-mismatch.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-mismatch.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-mismatch.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Fclosure-mismatch.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -24,4 +24,5 @@ LL |     baz(|_| ());\n \n error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0271`.\n+Some errors have detailed explanations: E0271, E0631.\n+For more information about an error, try `rustc --explain E0271`."}, {"sha": "88c92661994cbac367324c1398f1adf1f13ae32b", "filename": "src/test/ui/mismatched_types/fn-variance-1.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2Ffn-variance-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2Ffn-variance-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Ffn-variance-1.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -24,3 +24,4 @@ LL |     apply(&mut 3, takes_imm);\n \n error: aborting due to 2 previous errors\n \n+For more information about this error, try `rustc --explain E0631`."}, {"sha": "da018aa89482c58cdf9a4318973389713ee0e213", "filename": "src/test/ui/mismatched_types/issue-36053-2.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-36053-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-36053-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Fissue-36053-2.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -18,4 +18,5 @@ LL |     once::<&str>(\"str\").fuse().filter(|a: &str| true).count();\n \n error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0599`.\n+Some errors have detailed explanations: E0599, E0631.\n+For more information about an error, try `rustc --explain E0599`."}, {"sha": "3c999f200d9c7c113837402fd5824dd726e39823", "filename": "src/test/ui/mismatched_types/unboxed-closures-vtable-mismatch.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2Funboxed-closures-vtable-mismatch.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7693bb9e1d122bea1b0645dcc201c6ed79c910e2/src%2Ftest%2Fui%2Fmismatched_types%2Funboxed-closures-vtable-mismatch.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmismatched_types%2Funboxed-closures-vtable-mismatch.stderr?ref=7693bb9e1d122bea1b0645dcc201c6ed79c910e2", "patch": "@@ -12,3 +12,4 @@ LL |     let z = call_it(3, f);\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0631`."}]}