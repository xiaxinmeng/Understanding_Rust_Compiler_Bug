{"sha": "07f37c88fbad77c37e0043e477e5d9571d48bea9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA3ZjM3Yzg4ZmJhZDc3YzM3ZTAwNDNlNDc3ZTVkOTU3MWQ0OGJlYTk=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-05-21T04:50:53Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-06-22T23:29:29Z"}, "message": "let_chains: Account for const generics in validation tests.", "tree": {"sha": "a3ca8b848d4c0f05762017b161383a0745260794", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a3ca8b848d4c0f05762017b161383a0745260794"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/07f37c88fbad77c37e0043e477e5d9571d48bea9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/07f37c88fbad77c37e0043e477e5d9571d48bea9", "html_url": "https://github.com/rust-lang/rust/commit/07f37c88fbad77c37e0043e477e5d9571d48bea9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/07f37c88fbad77c37e0043e477e5d9571d48bea9/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a80aa3495167adf791a46059be78e7b377c98606", "url": "https://api.github.com/repos/rust-lang/rust/commits/a80aa3495167adf791a46059be78e7b377c98606", "html_url": "https://github.com/rust-lang/rust/commit/a80aa3495167adf791a46059be78e7b377c98606"}], "stats": {"total": 177, "additions": 123, "deletions": 54}, "files": [{"sha": "2977b71e5965ba0b7af6eb8bc9a95788f5e9057a", "filename": "src/test/ui/rfc-2497-if-let-chains/disallowed-positions.rs", "status": "modified", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/07f37c88fbad77c37e0043e477e5d9571d48bea9/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07f37c88fbad77c37e0043e477e5d9571d48bea9/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.rs?ref=07f37c88fbad77c37e0043e477e5d9571d48bea9", "patch": "@@ -17,6 +17,8 @@\n //\n // To that end, we check some positions which is not part of the language above.\n \n+#![feature(const_generics)] //~ WARN the feature `const_generics` is incomplete\n+\n #![allow(irrefutable_let_patterns)]\n \n use std::ops::Range;\n@@ -157,3 +159,31 @@ fn outside_if_and_while_expr() {\n     &let 0 = 0\n     //~^ ERROR `let` expressions are not supported here\n }\n+\n+// Let's make sure that `let` inside const generic arguments are considered.\n+fn inside_const_generic_arguments() {\n+    struct A<const B: bool>;\n+    impl<const B: bool> A<{B}> { const O: u32 = 5; }\n+\n+    if let A::<{\n+        true && let 1 = 1 //~ ERROR `let` expressions are not supported here\n+    }>::O = 5 {}\n+\n+    while let A::<{\n+        true && let 1 = 1 //~ ERROR `let` expressions are not supported here\n+    }>::O = 5 {}\n+\n+    if A::<{\n+        true && let 1 = 1 //~ ERROR `let` expressions are not supported here\n+    }>::O == 5 {}\n+\n+    // In the cases above we have `ExprKind::Block` to help us out.\n+    // Below however, we would not have a block and so an implementation might go\n+    // from visiting expressions to types without banning `let` expressions down the tree.\n+    // This tests ensures that we are not caught by surprise should the parser\n+    // admit non-IDENT expressions in const generic arguments.\n+\n+    if A::<\n+        true && let 1 = 1 //~ ERROR expected one of `,` or `>`, found `&&`\n+    >::O == 5 {}\n+}"}, {"sha": "bfd55af69c97ae6c4966a54ab396a7ab753603b1", "filename": "src/test/ui/rfc-2497-if-let-chains/disallowed-positions.stderr", "status": "modified", "additions": 93, "deletions": 54, "changes": 147, "blob_url": "https://github.com/rust-lang/rust/blob/07f37c88fbad77c37e0043e477e5d9571d48bea9/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/07f37c88fbad77c37e0043e477e5d9571d48bea9/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2497-if-let-chains%2Fdisallowed-positions.stderr?ref=07f37c88fbad77c37e0043e477e5d9571d48bea9", "patch": "@@ -1,5 +1,17 @@\n+error: expected one of `,` or `>`, found `&&`\n+  --> $DIR/disallowed-positions.rs:187:14\n+   |\n+LL |         true && let 1 = 1\n+   |              ^^ expected one of `,` or `>` here\n+\n+warning: the feature `const_generics` is incomplete and may cause the compiler to crash\n+  --> $DIR/disallowed-positions.rs:20:12\n+   |\n+LL | #![feature(const_generics)]\n+   |            ^^^^^^^^^^^^^^\n+\n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:27:9\n+  --> $DIR/disallowed-positions.rs:29:9\n    |\n LL |     if &let 0 = 0 {}\n    |         ^^^^^^^^^\n@@ -8,7 +20,7 @@ LL |     if &let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:30:9\n+  --> $DIR/disallowed-positions.rs:32:9\n    |\n LL |     if !let 0 = 0 {}\n    |         ^^^^^^^^^\n@@ -17,7 +29,7 @@ LL |     if !let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:31:9\n+  --> $DIR/disallowed-positions.rs:33:9\n    |\n LL |     if *let 0 = 0 {}\n    |         ^^^^^^^^^\n@@ -26,7 +38,7 @@ LL |     if *let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:32:9\n+  --> $DIR/disallowed-positions.rs:34:9\n    |\n LL |     if -let 0 = 0 {}\n    |         ^^^^^^^^^\n@@ -35,7 +47,7 @@ LL |     if -let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:38:9\n+  --> $DIR/disallowed-positions.rs:40:9\n    |\n LL |     if (let 0 = 0)? {}\n    |         ^^^^^^^^^\n@@ -44,7 +56,7 @@ LL |     if (let 0 = 0)? {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:40:16\n+  --> $DIR/disallowed-positions.rs:42:16\n    |\n LL |     if true || let 0 = 0 {}\n    |                ^^^^^^^^^\n@@ -53,7 +65,7 @@ LL |     if true || let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:41:17\n+  --> $DIR/disallowed-positions.rs:43:17\n    |\n LL |     if (true || let 0 = 0) {}\n    |                 ^^^^^^^^^\n@@ -62,7 +74,7 @@ LL |     if (true || let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:42:25\n+  --> $DIR/disallowed-positions.rs:44:25\n    |\n LL |     if true && (true || let 0 = 0) {}\n    |                         ^^^^^^^^^\n@@ -71,7 +83,7 @@ LL |     if true && (true || let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:43:25\n+  --> $DIR/disallowed-positions.rs:45:25\n    |\n LL |     if true || (true && let 0 = 0) {}\n    |                         ^^^^^^^^^\n@@ -80,7 +92,7 @@ LL |     if true || (true && let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:46:12\n+  --> $DIR/disallowed-positions.rs:48:12\n    |\n LL |     if x = let 0 = 0 {}\n    |            ^^^^^^^^^\n@@ -89,7 +101,7 @@ LL |     if x = let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:48:15\n+  --> $DIR/disallowed-positions.rs:50:15\n    |\n LL |     if true..(let 0 = 0) {}\n    |               ^^^^^^^^^\n@@ -98,7 +110,7 @@ LL |     if true..(let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:49:11\n+  --> $DIR/disallowed-positions.rs:51:11\n    |\n LL |     if ..(let 0 = 0) {}\n    |           ^^^^^^^^^\n@@ -107,7 +119,7 @@ LL |     if ..(let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:50:9\n+  --> $DIR/disallowed-positions.rs:52:9\n    |\n LL |     if (let 0 = 0).. {}\n    |         ^^^^^^^^^\n@@ -116,7 +128,7 @@ LL |     if (let 0 = 0).. {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:53:8\n+  --> $DIR/disallowed-positions.rs:55:8\n    |\n LL |     if let Range { start: _, end: _ } = true..true && false {}\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -125,7 +137,7 @@ LL |     if let Range { start: _, end: _ } = true..true && false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:55:8\n+  --> $DIR/disallowed-positions.rs:57:8\n    |\n LL |     if let Range { start: _, end: _ } = true..true || false {}\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -134,7 +146,7 @@ LL |     if let Range { start: _, end: _ } = true..true || false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:60:8\n+  --> $DIR/disallowed-positions.rs:62:8\n    |\n LL |     if let Range { start: F, end } = F..|| true {}\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -143,7 +155,7 @@ LL |     if let Range { start: F, end } = F..|| true {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:65:8\n+  --> $DIR/disallowed-positions.rs:67:8\n    |\n LL |     if let Range { start: true, end } = t..&&false {}\n    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -152,7 +164,7 @@ LL |     if let Range { start: true, end } = t..&&false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:68:19\n+  --> $DIR/disallowed-positions.rs:70:19\n    |\n LL |     if let true = let true = true {}\n    |                   ^^^^^^^^^^^^^^^\n@@ -161,7 +173,7 @@ LL |     if let true = let true = true {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:72:12\n+  --> $DIR/disallowed-positions.rs:74:12\n    |\n LL |     while &let 0 = 0 {}\n    |            ^^^^^^^^^\n@@ -170,7 +182,7 @@ LL |     while &let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:74:12\n+  --> $DIR/disallowed-positions.rs:76:12\n    |\n LL |     while !let 0 = 0 {}\n    |            ^^^^^^^^^\n@@ -179,7 +191,7 @@ LL |     while !let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:75:12\n+  --> $DIR/disallowed-positions.rs:77:12\n    |\n LL |     while *let 0 = 0 {}\n    |            ^^^^^^^^^\n@@ -188,7 +200,7 @@ LL |     while *let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:76:12\n+  --> $DIR/disallowed-positions.rs:78:12\n    |\n LL |     while -let 0 = 0 {}\n    |            ^^^^^^^^^\n@@ -197,7 +209,7 @@ LL |     while -let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:82:12\n+  --> $DIR/disallowed-positions.rs:84:12\n    |\n LL |     while (let 0 = 0)? {}\n    |            ^^^^^^^^^\n@@ -206,7 +218,7 @@ LL |     while (let 0 = 0)? {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:84:19\n+  --> $DIR/disallowed-positions.rs:86:19\n    |\n LL |     while true || let 0 = 0 {}\n    |                   ^^^^^^^^^\n@@ -215,7 +227,7 @@ LL |     while true || let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:85:20\n+  --> $DIR/disallowed-positions.rs:87:20\n    |\n LL |     while (true || let 0 = 0) {}\n    |                    ^^^^^^^^^\n@@ -224,7 +236,7 @@ LL |     while (true || let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:86:28\n+  --> $DIR/disallowed-positions.rs:88:28\n    |\n LL |     while true && (true || let 0 = 0) {}\n    |                            ^^^^^^^^^\n@@ -233,7 +245,7 @@ LL |     while true && (true || let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:87:28\n+  --> $DIR/disallowed-positions.rs:89:28\n    |\n LL |     while true || (true && let 0 = 0) {}\n    |                            ^^^^^^^^^\n@@ -242,7 +254,7 @@ LL |     while true || (true && let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:90:15\n+  --> $DIR/disallowed-positions.rs:92:15\n    |\n LL |     while x = let 0 = 0 {}\n    |               ^^^^^^^^^\n@@ -251,7 +263,7 @@ LL |     while x = let 0 = 0 {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:92:18\n+  --> $DIR/disallowed-positions.rs:94:18\n    |\n LL |     while true..(let 0 = 0) {}\n    |                  ^^^^^^^^^\n@@ -260,7 +272,7 @@ LL |     while true..(let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:93:14\n+  --> $DIR/disallowed-positions.rs:95:14\n    |\n LL |     while ..(let 0 = 0) {}\n    |              ^^^^^^^^^\n@@ -269,7 +281,7 @@ LL |     while ..(let 0 = 0) {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:94:12\n+  --> $DIR/disallowed-positions.rs:96:12\n    |\n LL |     while (let 0 = 0).. {}\n    |            ^^^^^^^^^\n@@ -278,7 +290,7 @@ LL |     while (let 0 = 0).. {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:97:11\n+  --> $DIR/disallowed-positions.rs:99:11\n    |\n LL |     while let Range { start: _, end: _ } = true..true && false {}\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -287,7 +299,7 @@ LL |     while let Range { start: _, end: _ } = true..true && false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:99:11\n+  --> $DIR/disallowed-positions.rs:101:11\n    |\n LL |     while let Range { start: _, end: _ } = true..true || false {}\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -296,7 +308,7 @@ LL |     while let Range { start: _, end: _ } = true..true || false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:104:11\n+  --> $DIR/disallowed-positions.rs:106:11\n    |\n LL |     while let Range { start: F, end } = F..|| true {}\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -305,7 +317,7 @@ LL |     while let Range { start: F, end } = F..|| true {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:109:11\n+  --> $DIR/disallowed-positions.rs:111:11\n    |\n LL |     while let Range { start: true, end } = t..&&false {}\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -314,7 +326,7 @@ LL |     while let Range { start: true, end } = t..&&false {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:112:22\n+  --> $DIR/disallowed-positions.rs:114:22\n    |\n LL |     while let true = let true = true {}\n    |                      ^^^^^^^^^^^^^^^\n@@ -323,7 +335,7 @@ LL |     while let true = let true = true {}\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:126:6\n+  --> $DIR/disallowed-positions.rs:128:6\n    |\n LL |     &let 0 = 0;\n    |      ^^^^^^^^^\n@@ -332,7 +344,7 @@ LL |     &let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:128:6\n+  --> $DIR/disallowed-positions.rs:130:6\n    |\n LL |     !let 0 = 0;\n    |      ^^^^^^^^^\n@@ -341,7 +353,7 @@ LL |     !let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:129:6\n+  --> $DIR/disallowed-positions.rs:131:6\n    |\n LL |     *let 0 = 0;\n    |      ^^^^^^^^^\n@@ -350,7 +362,7 @@ LL |     *let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:130:6\n+  --> $DIR/disallowed-positions.rs:132:6\n    |\n LL |     -let 0 = 0;\n    |      ^^^^^^^^^\n@@ -359,7 +371,7 @@ LL |     -let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:136:6\n+  --> $DIR/disallowed-positions.rs:138:6\n    |\n LL |     (let 0 = 0)?;\n    |      ^^^^^^^^^\n@@ -368,7 +380,7 @@ LL |     (let 0 = 0)?;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:138:13\n+  --> $DIR/disallowed-positions.rs:140:13\n    |\n LL |     true || let 0 = 0;\n    |             ^^^^^^^^^\n@@ -377,7 +389,7 @@ LL |     true || let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:139:14\n+  --> $DIR/disallowed-positions.rs:141:14\n    |\n LL |     (true || let 0 = 0);\n    |              ^^^^^^^^^\n@@ -386,7 +398,7 @@ LL |     (true || let 0 = 0);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:140:22\n+  --> $DIR/disallowed-positions.rs:142:22\n    |\n LL |     true && (true || let 0 = 0);\n    |                      ^^^^^^^^^\n@@ -395,7 +407,7 @@ LL |     true && (true || let 0 = 0);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:143:9\n+  --> $DIR/disallowed-positions.rs:145:9\n    |\n LL |     x = let 0 = 0;\n    |         ^^^^^^^^^\n@@ -404,7 +416,7 @@ LL |     x = let 0 = 0;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:145:12\n+  --> $DIR/disallowed-positions.rs:147:12\n    |\n LL |     true..(let 0 = 0);\n    |            ^^^^^^^^^\n@@ -413,7 +425,7 @@ LL |     true..(let 0 = 0);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:146:8\n+  --> $DIR/disallowed-positions.rs:148:8\n    |\n LL |     ..(let 0 = 0);\n    |        ^^^^^^^^^\n@@ -422,7 +434,7 @@ LL |     ..(let 0 = 0);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:147:6\n+  --> $DIR/disallowed-positions.rs:149:6\n    |\n LL |     (let 0 = 0)..;\n    |      ^^^^^^^^^\n@@ -431,7 +443,7 @@ LL |     (let 0 = 0)..;\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:149:6\n+  --> $DIR/disallowed-positions.rs:151:6\n    |\n LL |     (let Range { start: _, end: _ } = true..true || false);\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -440,7 +452,7 @@ LL |     (let Range { start: _, end: _ } = true..true || false);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:152:6\n+  --> $DIR/disallowed-positions.rs:154:6\n    |\n LL |     (let true = let true = true);\n    |      ^^^^^^^^^^^^^^^^^^^^^^^^^^\n@@ -449,7 +461,7 @@ LL |     (let true = let true = true);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:152:17\n+  --> $DIR/disallowed-positions.rs:154:17\n    |\n LL |     (let true = let true = true);\n    |                 ^^^^^^^^^^^^^^^\n@@ -458,19 +470,46 @@ LL |     (let true = let true = true);\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n error: `let` expressions are not supported here\n-  --> $DIR/disallowed-positions.rs:157:6\n+  --> $DIR/disallowed-positions.rs:159:6\n    |\n LL |     &let 0 = 0\n    |      ^^^^^^^^^\n    |\n    = note: only supported directly in conditions of `if`- and `while`-expressions\n    = note: as well as when nested within `&&` and parenthesis in those conditions\n \n+error: `let` expressions are not supported here\n+  --> $DIR/disallowed-positions.rs:169:17\n+   |\n+LL |         true && let 1 = 1\n+   |                 ^^^^^^^^^\n+   |\n+   = note: only supported directly in conditions of `if`- and `while`-expressions\n+   = note: as well as when nested within `&&` and parenthesis in those conditions\n+\n+error: `let` expressions are not supported here\n+  --> $DIR/disallowed-positions.rs:173:17\n+   |\n+LL |         true && let 1 = 1\n+   |                 ^^^^^^^^^\n+   |\n+   = note: only supported directly in conditions of `if`- and `while`-expressions\n+   = note: as well as when nested within `&&` and parenthesis in those conditions\n+\n+error: `let` expressions are not supported here\n+  --> $DIR/disallowed-positions.rs:177:17\n+   |\n+LL |         true && let 1 = 1\n+   |                 ^^^^^^^^^\n+   |\n+   = note: only supported directly in conditions of `if`- and `while`-expressions\n+   = note: as well as when nested within `&&` and parenthesis in those conditions\n+\n error: `let` expressions only supported in `if`\n-  --> $DIR/disallowed-positions.rs:27:9\n+  --> $DIR/disallowed-positions.rs:29:9\n    |\n LL |     if &let 0 = 0 {}\n    |         ^^^^^^^^^\n \n-error: aborting due to 53 previous errors\n+error: aborting due to 57 previous errors\n "}]}