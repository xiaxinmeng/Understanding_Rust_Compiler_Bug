{"sha": "03ddc8fdd358b0785a6bb635277336812ddbcc6a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAzZGRjOGZkZDM1OGIwNzg1YTZiYjYzNTI3NzMzNjgxMmRkYmNjNmE=", "commit": {"author": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2011-08-31T20:46:46Z"}, "committer": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2011-08-31T20:46:46Z"}, "message": "Don't check arguments types if there are an incorrect number of args. Closes #871.", "tree": {"sha": "2d8a4f8bb561b870f1aca8901a610963d8d1ac38", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2d8a4f8bb561b870f1aca8901a610963d8d1ac38"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/03ddc8fdd358b0785a6bb635277336812ddbcc6a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/03ddc8fdd358b0785a6bb635277336812ddbcc6a", "html_url": "https://github.com/rust-lang/rust/commit/03ddc8fdd358b0785a6bb635277336812ddbcc6a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/03ddc8fdd358b0785a6bb635277336812ddbcc6a/comments", "author": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7c02517f758a20e8d5893c8b2024fbf87f7a0447", "url": "https://api.github.com/repos/rust-lang/rust/commits/7c02517f758a20e8d5893c8b2024fbf87f7a0447", "html_url": "https://github.com/rust-lang/rust/commit/7c02517f758a20e8d5893c8b2024fbf87f7a0447"}], "stats": {"total": 8, "additions": 3, "deletions": 5}, "files": [{"sha": "3962f84916300d2bd4d74149c672f2557ed4832d", "filename": "src/comp/middle/typeck.rs", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/03ddc8fdd358b0785a6bb635277336812ddbcc6a/src%2Fcomp%2Fmiddle%2Ftypeck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/03ddc8fdd358b0785a6bb635277336812ddbcc6a/src%2Fcomp%2Fmiddle%2Ftypeck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftypeck.rs?ref=03ddc8fdd358b0785a6bb635277336812ddbcc6a", "patch": "@@ -1606,12 +1606,10 @@ fn check_expr_with_unifier(fcx: &@fn_ctxt, expr: &@ast::expr, unify: &unifier,\n                       if supplied_arg_count == 1u {\n                           ~\" was\"\n                       } else { ~\"s were\" }]);\n-            // HACK: extend the arguments list with dummy arguments to\n+            // HACK: build an arguments list with dummy arguments to\n             // check against\n-            let dummy = {mode: ty::mo_val, ty: ty::mk_nil(fcx.ccx.tcx)};\n-            while vec::len(arg_tys) < supplied_arg_count {\n-                arg_tys += [dummy];\n-            }\n+            let dummy = {mode: ty::mo_val, ty: ty::mk_bot(fcx.ccx.tcx)};\n+            arg_tys = vec::init_elt(dummy, supplied_arg_count);\n         }\n \n         // Check the arguments."}]}