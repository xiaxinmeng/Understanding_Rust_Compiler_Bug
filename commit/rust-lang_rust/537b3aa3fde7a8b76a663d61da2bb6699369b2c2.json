{"sha": "537b3aa3fde7a8b76a663d61da2bb6699369b2c2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUzN2IzYWEzZmRlN2E4Yjc2YTY2M2Q2MWRhMmJiNjY5OTM2OWIyYzI=", "commit": {"author": {"name": "Jeremy Soller", "email": "jackpot51@gmail.com", "date": "2017-01-03T22:42:41Z"}, "committer": {"name": "Jeremy Soller", "email": "jackpot51@gmail.com", "date": "2017-01-03T22:42:41Z"}, "message": "Remove -lc, -lm from the target spec - the cross compiler will link those", "tree": {"sha": "9a3055d8fd629355b0e69951fe5fe19900dc7310", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9a3055d8fd629355b0e69951fe5fe19900dc7310"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/537b3aa3fde7a8b76a663d61da2bb6699369b2c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/537b3aa3fde7a8b76a663d61da2bb6699369b2c2", "html_url": "https://github.com/rust-lang/rust/commit/537b3aa3fde7a8b76a663d61da2bb6699369b2c2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/537b3aa3fde7a8b76a663d61da2bb6699369b2c2/comments", "author": {"login": "jackpot51", "id": 7741236, "node_id": "MDQ6VXNlcjc3NDEyMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/7741236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackpot51", "html_url": "https://github.com/jackpot51", "followers_url": "https://api.github.com/users/jackpot51/followers", "following_url": "https://api.github.com/users/jackpot51/following{/other_user}", "gists_url": "https://api.github.com/users/jackpot51/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackpot51/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackpot51/subscriptions", "organizations_url": "https://api.github.com/users/jackpot51/orgs", "repos_url": "https://api.github.com/users/jackpot51/repos", "events_url": "https://api.github.com/users/jackpot51/events{/privacy}", "received_events_url": "https://api.github.com/users/jackpot51/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jackpot51", "id": 7741236, "node_id": "MDQ6VXNlcjc3NDEyMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/7741236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackpot51", "html_url": "https://github.com/jackpot51", "followers_url": "https://api.github.com/users/jackpot51/followers", "following_url": "https://api.github.com/users/jackpot51/following{/other_user}", "gists_url": "https://api.github.com/users/jackpot51/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackpot51/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackpot51/subscriptions", "organizations_url": "https://api.github.com/users/jackpot51/orgs", "repos_url": "https://api.github.com/users/jackpot51/repos", "events_url": "https://api.github.com/users/jackpot51/events{/privacy}", "received_events_url": "https://api.github.com/users/jackpot51/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "57950faeb68754451f94062c11e3fcf830392025", "url": "https://api.github.com/repos/rust-lang/rust/commits/57950faeb68754451f94062c11e3fcf830392025", "html_url": "https://github.com/rust-lang/rust/commit/57950faeb68754451f94062c11e3fcf830392025"}], "stats": {"total": 54, "additions": 23, "deletions": 31}, "files": [{"sha": "484cb79be4d33cb47d578ec4efee7d511b5a20d8", "filename": "src/Cargo.lock", "status": "modified", "additions": 22, "deletions": 22, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/537b3aa3fde7a8b76a663d61da2bb6699369b2c2/src%2FCargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/537b3aa3fde7a8b76a663d61da2bb6699369b2c2/src%2FCargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FCargo.lock?ref=537b3aa3fde7a8b76a663d61da2bb6699369b2c2", "patch": "@@ -19,7 +19,7 @@ version = \"0.0.0\"\n dependencies = [\n  \"build_helper 0.1.0\",\n  \"core 0.0.0\",\n- \"gcc 0.3.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"gcc 0.3.41 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.0.0\",\n ]\n \n@@ -40,13 +40,13 @@ name = \"bootstrap\"\n version = \"0.0.0\"\n dependencies = [\n  \"build_helper 0.1.0\",\n- \"cmake 0.1.18 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cmake 0.1.20 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"filetime 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"gcc 0.3.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"gcc 0.3.41 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"getopts 0.2.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.17 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.18 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num_cpus 0.2.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-serialize 0.3.19 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-serialize 0.3.22 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.1.30 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -60,10 +60,10 @@ version = \"0.1.0\"\n \n [[package]]\n name = \"cmake\"\n-version = \"0.1.18\"\n+version = \"0.1.20\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"gcc 0.3.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"gcc 0.3.41 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -80,7 +80,7 @@ name = \"compiler_builtins\"\n version = \"0.0.0\"\n dependencies = [\n  \"core 0.0.0\",\n- \"gcc 0.3.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"gcc 0.3.41 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -113,15 +113,15 @@ name = \"filetime\"\n version = \"0.1.10\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.17 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.18 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"flate\"\n version = \"0.0.0\"\n dependencies = [\n  \"build_helper 0.1.0\",\n- \"gcc 0.3.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"gcc 0.3.41 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -130,7 +130,7 @@ version = \"0.0.0\"\n \n [[package]]\n name = \"gcc\"\n-version = \"0.3.40\"\n+version = \"0.3.41\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n@@ -155,7 +155,7 @@ dependencies = [\n \n [[package]]\n name = \"libc\"\n-version = \"0.2.17\"\n+version = \"0.2.18\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n@@ -176,7 +176,7 @@ name = \"num_cpus\"\n version = \"0.2.13\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.17 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.18 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -266,7 +266,7 @@ dependencies = [\n \n [[package]]\n name = \"rustc-serialize\"\n-version = \"0.3.19\"\n+version = \"0.3.22\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n@@ -402,7 +402,7 @@ name = \"rustc_llvm\"\n version = \"0.0.0\"\n dependencies = [\n  \"build_helper 0.1.0\",\n- \"gcc 0.3.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"gcc 0.3.41 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc_bitflags 0.0.0\",\n ]\n \n@@ -551,7 +551,7 @@ version = \"0.0.0\"\n dependencies = [\n  \"arena 0.0.0\",\n  \"build_helper 0.1.0\",\n- \"gcc 0.3.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"gcc 0.3.41 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.0.0\",\n  \"rustc 0.0.0\",\n  \"rustc_back 0.0.0\",\n@@ -587,7 +587,7 @@ dependencies = [\n  \"collections 0.0.0\",\n  \"compiler_builtins 0.0.0\",\n  \"core 0.0.0\",\n- \"gcc 0.3.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"gcc 0.3.41 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.0.0\",\n  \"panic_abort 0.0.0\",\n  \"panic_unwind 0.0.0\",\n@@ -670,17 +670,17 @@ name = \"toml\"\n version = \"0.1.30\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"rustc-serialize 0.3.19 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-serialize 0.3.22 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [metadata]\n-\"checksum cmake 0.1.18 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0e5bcf27e097a184c1df4437654ed98df3d7a516e8508a6ba45d8b092bbdf283\"\n+\"checksum cmake 0.1.20 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a3a6805df695087e7c1bcd9a82e03ad6fb864c8e67ac41b1348229ce5b7f0407\"\n \"checksum env_logger 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"15abd780e45b3ea4f76b4e9a26ff4843258dd8a3eed2775a0e7368c2e7936c2f\"\n \"checksum filetime 0.1.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5363ab8e4139b8568a6237db5248646e5a8a2f89bd5ccb02092182b11fd3e922\"\n-\"checksum gcc 0.3.40 (registry+https://github.com/rust-lang/crates.io-index)\" = \"872db9e59486ef2b14f8e8c10e9ef02de2bccef6363d7f34835dedb386b3d950\"\n+\"checksum gcc 0.3.41 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3689e1982a563af74960ae3a4758aa632bb8fd984cfc3cc3b60ee6109477ab6e\"\n \"checksum getopts 0.2.14 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d9047cfbd08a437050b363d35ef160452c5fe8ea5187ae0a624708c91581d685\"\n-\"checksum libc 0.2.17 (registry+https://github.com/rust-lang/crates.io-index)\" = \"044d1360593a78f5c8e5e710beccdc24ab71d1f01bc19a29bcacdba22e8475d8\"\n+\"checksum libc 0.2.18 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a51822fc847e7a8101514d1d44e354ba2ffa7d4c194dcab48870740e327cac70\"\n \"checksum log 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ab83497bf8bf4ed2a74259c1c802351fcd67a65baa86394b6ba73c36f4838054\"\n \"checksum num_cpus 0.2.13 (registry+https://github.com/rust-lang/crates.io-index)\" = \"cee7e88156f3f9e19bdd598f8d6c9db7bf4078f99f8381f43a55b09648d1a6e3\"\n-\"checksum rustc-serialize 0.3.19 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6159e4e6e559c81bd706afe9c8fd68f547d3e851ce12e76b1de7914bab61691b\"\n+\"checksum rustc-serialize 0.3.22 (registry+https://github.com/rust-lang/crates.io-index)\" = \"237546c689f20bb44980270c73c3b9edd0891c1be49cc1274406134a66d3957b\"\n \"checksum toml 0.1.30 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0590d72182e50e879c4da3b11c6488dae18fccb1ae0c7a3eda18e16795844796\""}, {"sha": "c5e1e107753ffa80c56b543d5e04e29daa5c689b", "filename": "src/librustc_back/target/redox_base.rs", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/537b3aa3fde7a8b76a663d61da2bb6699369b2c2/src%2Flibrustc_back%2Ftarget%2Fredox_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/537b3aa3fde7a8b76a663d61da2bb6699369b2c2/src%2Flibrustc_back%2Ftarget%2Fredox_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fredox_base.rs?ref=537b3aa3fde7a8b76a663d61da2bb6699369b2c2", "patch": "@@ -25,22 +25,14 @@ pub fn opts() -> TargetOptions {\n             \"-Wl,--as-needed\".to_string(),\n \n             // Always enable NX protection when it is available\n-            \"-Wl,-z,noexecstack\".to_string(),\n-\n-            // Static link\n-            \"-static\".to_string()\n-        ],\n-        late_link_args: vec![\n-            \"-lc\".to_string(),\n-            \"-lm\".to_string()\n+            \"-Wl,-z,noexecstack\".to_string()\n         ],\n         executables: true,\n         relocation_model: \"static\".to_string(),\n         disable_redzone: true,\n         eliminate_frame_pointer: false,\n         target_family: None,\n         linker_is_gnu: true,\n-        no_default_libraries: true,\n         lib_allocation_crate: \"alloc_system\".to_string(),\n         exe_allocation_crate: \"alloc_system\".to_string(),\n         has_elf_tls: true,"}]}