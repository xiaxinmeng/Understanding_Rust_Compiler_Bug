{"sha": "2cad8bb659066b42fc518c95def384956126bd3f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJjYWQ4YmI2NTkwNjZiNDJmYzUxOGM5NWRlZjM4NDk1NjEyNmJkM2Y=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-11-19T07:49:54Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-11-19T07:49:54Z"}, "message": "Auto merge of #66206 - PotHix:master, r=estebank\n\nSuggest `#[repr(C)]` instead of `#[repr(C, packed, ...)]`\n\nThe code was previously suggesting `#[repr(C, packed, ...)]` for incorrect uses of `repr` (e.g. `#[repr = \"C\"]`). This change suggests the usage of `#[repr(C)]` instead.\n\nr? @estebank\n\nRef: #61286.", "tree": {"sha": "6e4528f58f0e26bd7c8346df3ecfb80de4b1eb1c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6e4528f58f0e26bd7c8346df3ecfb80de4b1eb1c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2cad8bb659066b42fc518c95def384956126bd3f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2cad8bb659066b42fc518c95def384956126bd3f", "html_url": "https://github.com/rust-lang/rust/commit/2cad8bb659066b42fc518c95def384956126bd3f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2cad8bb659066b42fc518c95def384956126bd3f/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d1da8023dafd3e277b5a4c5475aa2cb199a176b9", "url": "https://api.github.com/repos/rust-lang/rust/commits/d1da8023dafd3e277b5a4c5475aa2cb199a176b9", "html_url": "https://github.com/rust-lang/rust/commit/d1da8023dafd3e277b5a4c5475aa2cb199a176b9"}, {"sha": "3fa8692a5e5f69133464dabb52f549a46529ffe6", "url": "https://api.github.com/repos/rust-lang/rust/commits/3fa8692a5e5f69133464dabb52f549a46529ffe6", "html_url": "https://github.com/rust-lang/rust/commit/3fa8692a5e5f69133464dabb52f549a46529ffe6"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "57dae23f0dc22dcce2d2be7f59d86e0b61dfdcbf", "filename": "src/libsyntax/feature_gate/builtin_attrs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2cad8bb659066b42fc518c95def384956126bd3f/src%2Flibsyntax%2Ffeature_gate%2Fbuiltin_attrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2cad8bb659066b42fc518c95def384956126bd3f/src%2Flibsyntax%2Ffeature_gate%2Fbuiltin_attrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate%2Fbuiltin_attrs.rs?ref=2cad8bb659066b42fc518c95def384956126bd3f", "patch": "@@ -231,7 +231,7 @@ pub const BUILTIN_ATTRIBUTES: &[BuiltinAttribute] = &[\n     ),\n     ungated!(link_name, Whitelisted, template!(NameValueStr: \"name\")),\n     ungated!(no_link, Normal, template!(Word)),\n-    ungated!(repr, Normal, template!(List: \"C, packed, ...\")),\n+    ungated!(repr, Normal, template!(List: \"C\")),\n     ungated!(export_name, Whitelisted, template!(NameValueStr: \"name\")),\n     ungated!(link_section, Whitelisted, template!(NameValueStr: \"name\")),\n     ungated!(no_mangle, Whitelisted, template!(Word)),"}, {"sha": "37e56168c1d64db1fe1ad416a0f0c095f87373cc", "filename": "src/test/ui/issues/issue-43988.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2cad8bb659066b42fc518c95def384956126bd3f/src%2Ftest%2Fui%2Fissues%2Fissue-43988.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2cad8bb659066b42fc518c95def384956126bd3f/src%2Ftest%2Fui%2Fissues%2Fissue-43988.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-43988.stderr?ref=2cad8bb659066b42fc518c95def384956126bd3f", "patch": "@@ -2,13 +2,13 @@ error: malformed `repr` attribute input\n   --> $DIR/issue-43988.rs:24:5\n    |\n LL |     #[repr]\n-   |     ^^^^^^^ help: must be of the form: `#[repr(C, packed, ...)]`\n+   |     ^^^^^^^ help: must be of the form: `#[repr(C)]`\n \n error: malformed `repr` attribute input\n   --> $DIR/issue-43988.rs:35:14\n    |\n LL |     let _z = #[repr] 1;\n-   |              ^^^^^^^ help: must be of the form: `#[repr(C, packed, ...)]`\n+   |              ^^^^^^^ help: must be of the form: `#[repr(C)]`\n \n error[E0518]: attribute should be applied to function or closure\n   --> $DIR/issue-43988.rs:5:5"}, {"sha": "e0bec666381cf02cf4923b44f759d1f1236e5932", "filename": "src/test/ui/repr.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/2cad8bb659066b42fc518c95def384956126bd3f/src%2Ftest%2Fui%2Frepr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2cad8bb659066b42fc518c95def384956126bd3f/src%2Ftest%2Fui%2Frepr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frepr.stderr?ref=2cad8bb659066b42fc518c95def384956126bd3f", "patch": "@@ -2,19 +2,19 @@ error: malformed `repr` attribute input\n   --> $DIR/repr.rs:1:1\n    |\n LL | #[repr]\n-   | ^^^^^^^ help: must be of the form: `#[repr(C, packed, ...)]`\n+   | ^^^^^^^ help: must be of the form: `#[repr(C)]`\n \n error: malformed `repr` attribute input\n   --> $DIR/repr.rs:4:1\n    |\n LL | #[repr = \"B\"]\n-   | ^^^^^^^^^^^^^ help: must be of the form: `#[repr(C, packed, ...)]`\n+   | ^^^^^^^^^^^^^ help: must be of the form: `#[repr(C)]`\n \n error: malformed `repr` attribute input\n   --> $DIR/repr.rs:7:1\n    |\n LL | #[repr = \"C\"]\n-   | ^^^^^^^^^^^^^ help: must be of the form: `#[repr(C, packed, ...)]`\n+   | ^^^^^^^^^^^^^ help: must be of the form: `#[repr(C)]`\n \n error: aborting due to 3 previous errors\n "}]}