{"sha": "74a4c679b37ee687cba88534c1e2b22da55f55be", "node_id": "C_kwDOAAsO6NoAKDc0YTRjNjc5YjM3ZWU2ODdjYmE4ODUzNGMxZTJiMjJkYTU1ZjU1YmU", "commit": {"author": {"name": "Dylan DPC", "email": "99973273+Dylan-DPC@users.noreply.github.com", "date": "2022-10-26T12:02:56Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-10-26T12:02:56Z"}, "message": "Rollup merge of #103554 - notriddle:notriddle/summary-focus-visible, r=jsha\n\nrustdoc: add visible focus outline to rustdoc-toggle\n\nThe change in opacity is inconsistent with most of rustdoc, which uses default browser styles for the focus outline. Unfortunately, just using the default focus outline here won't work, because it gets applied to the summary itself instead of the pseudo-element \"real button.\"\n\nPreview: https://notriddle.com/notriddle-rustdoc-demos/focus-outline/test_dingus/fn.test.html\n\n## Screenshots\n\n### light\n\n![image](https://user-images.githubusercontent.com/1593513/197903818-61ce09e2-024e-4ca9-9aba-764039561d0a.png)\n\n### dark\n\n![image](https://user-images.githubusercontent.com/1593513/197903765-76e428ea-71e8-4724-ad21-7a4f9d923ea2.png)\n\n### ayu\n\n![image](https://user-images.githubusercontent.com/1593513/197903790-322e22ae-64b5-4138-b931-9ff3ff54f3b0.png)", "tree": {"sha": "fbf5434dd75597c3e999c2f6a1dd7ef288897a6b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fbf5434dd75597c3e999c2f6a1dd7ef288897a6b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/74a4c679b37ee687cba88534c1e2b22da55f55be", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjWSHwCRBK7hj4Ov3rIwAA1BQIAIAzGfQQixsISg0+JW4sQDtC\nuofJa/wFZExRSAA8kObt91qOOD97KvCjQVGnzLaRoIN7xSwLKsIuJ0zRED/KT+XO\nyHErk34jjdteFQSdJB/Gk269ieo2s47au1r7Up9UKwYEJuqZMVc2RTvo061giCkb\ndLuNC7HxsXnTTpxx6mnLv3iFcmVe9vRRn30JTefvOmm7nZIz8kuNKrAz3T7a4bPn\n6lqBjEIdgvyITES1PY9nEvTTyF3pD+kLtruEw2gf403fQCBscZ5lJmBEmK8ZsWkv\nAaOyY5C1GEA21Fuxm79xlfnlxm4fCp+AR+LwWYsGNYUmXGFCsstWcXcEzFOsU8w=\n=4fCN\n-----END PGP SIGNATURE-----\n", "payload": "tree fbf5434dd75597c3e999c2f6a1dd7ef288897a6b\nparent 709462bfe113c20ed780e6ca2d8fe3516be2d124\nparent b857138d3bad1372618cb925963a9e1fb512fd8e\nauthor Dylan DPC <99973273+Dylan-DPC@users.noreply.github.com> 1666785776 +0530\ncommitter GitHub <noreply@github.com> 1666785776 +0530\n\nRollup merge of #103554 - notriddle:notriddle/summary-focus-visible, r=jsha\n\nrustdoc: add visible focus outline to rustdoc-toggle\n\nThe change in opacity is inconsistent with most of rustdoc, which uses default browser styles for the focus outline. Unfortunately, just using the default focus outline here won't work, because it gets applied to the summary itself instead of the pseudo-element \"real button.\"\n\nPreview: https://notriddle.com/notriddle-rustdoc-demos/focus-outline/test_dingus/fn.test.html\n\n## Screenshots\n\n### light\n\n![image](https://user-images.githubusercontent.com/1593513/197903818-61ce09e2-024e-4ca9-9aba-764039561d0a.png)\n\n### dark\n\n![image](https://user-images.githubusercontent.com/1593513/197903765-76e428ea-71e8-4724-ad21-7a4f9d923ea2.png)\n\n### ayu\n\n![image](https://user-images.githubusercontent.com/1593513/197903790-322e22ae-64b5-4138-b931-9ff3ff54f3b0.png)\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/74a4c679b37ee687cba88534c1e2b22da55f55be", "html_url": "https://github.com/rust-lang/rust/commit/74a4c679b37ee687cba88534c1e2b22da55f55be", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/74a4c679b37ee687cba88534c1e2b22da55f55be/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "709462bfe113c20ed780e6ca2d8fe3516be2d124", "url": "https://api.github.com/repos/rust-lang/rust/commits/709462bfe113c20ed780e6ca2d8fe3516be2d124", "html_url": "https://github.com/rust-lang/rust/commit/709462bfe113c20ed780e6ca2d8fe3516be2d124"}, {"sha": "b857138d3bad1372618cb925963a9e1fb512fd8e", "url": "https://api.github.com/repos/rust-lang/rust/commits/b857138d3bad1372618cb925963a9e1fb512fd8e", "html_url": "https://github.com/rust-lang/rust/commit/b857138d3bad1372618cb925963a9e1fb512fd8e"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "8424b2c4e2932a6766c2bfe0202c8b3673d9396f", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/74a4c679b37ee687cba88534c1e2b22da55f55be/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/74a4c679b37ee687cba88534c1e2b22da55f55be/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=74a4c679b37ee687cba88534c1e2b22da55f55be", "patch": "@@ -1585,6 +1585,15 @@ details.rustdoc-toggle > summary:hover::before {\n \topacity: 1;\n }\n \n+details.rustdoc-toggle > summary:focus-visible::before {\n+\t/* The SVG is black, and gets turned white using a filter in the dark themes.\n+\t   Do the same with the outline.\n+\t   The dotted 1px style is copied from Firefox's focus ring style.\n+\t*/\n+\toutline: 1px dotted #000;\n+\toutline-offset: 1px;\n+}\n+\n details.rustdoc-toggle.top-doc > summary,\n details.rustdoc-toggle.top-doc > summary::before,\n details.rustdoc-toggle.non-exhaustive > summary,"}]}