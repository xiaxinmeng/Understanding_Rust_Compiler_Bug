{"sha": "0e43e8ccc8e67dbccbfdbc0c8300a41e43d8b0cf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlNDNlOGNjYzhlNjdkYmNjYmZkYmMwYzgzMDBhNDFlNDNkOGIwY2Y=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-05-07T22:14:56Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-05-07T22:15:13Z"}, "message": "That awkward moment when you forget to add your final changes\n\nFixes build breakage.", "tree": {"sha": "ba1cc548b45409cbebf84e476f68ba7894daa899", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ba1cc548b45409cbebf84e476f68ba7894daa899"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0e43e8ccc8e67dbccbfdbc0c8300a41e43d8b0cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0e43e8ccc8e67dbccbfdbc0c8300a41e43d8b0cf", "html_url": "https://github.com/rust-lang/rust/commit/0e43e8ccc8e67dbccbfdbc0c8300a41e43d8b0cf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0e43e8ccc8e67dbccbfdbc0c8300a41e43d8b0cf/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1e6da7b38dfac0ce0c59d966f242ca57a7dc9bf9", "url": "https://api.github.com/repos/rust-lang/rust/commits/1e6da7b38dfac0ce0c59d966f242ca57a7dc9bf9", "html_url": "https://github.com/rust-lang/rust/commit/1e6da7b38dfac0ce0c59d966f242ca57a7dc9bf9"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "0b86f62eeb952940bb8e58081957947ee6b09747", "filename": "src/rustc/middle/kind.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/0e43e8ccc8e67dbccbfdbc0c8300a41e43d8b0cf/src%2Frustc%2Fmiddle%2Fkind.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0e43e8ccc8e67dbccbfdbc0c8300a41e43d8b0cf/src%2Frustc%2Fmiddle%2Fkind.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Fkind.rs?ref=0e43e8ccc8e67dbccbfdbc0c8300a41e43d8b0cf", "patch": "@@ -4,6 +4,7 @@ import syntax::codemap::span;\n import ty::{kind, kind_copyable, kind_sendable, kind_noncopyable};\n import driver::session::session;\n import std::map::hashmap;\n+import util::ppaux::{ty_to_str, tys_to_str};\n import syntax::print::pprust::expr_to_str;\n import freevars::freevar_entry;\n \n@@ -267,8 +268,8 @@ fn check_expr(e: @expr, cx: ctx, v: visit::vt<ctx>) {\n               // Fail earlier to make debugging easier\n               fail #fmt(\"Internal error: in kind::check_expr, length \\\n                   mismatch between actual and declared bounds: actual = \\\n-                  %s (%u tys), declared = %s (%u tys)\", ts, ts.len(),\n-                        *bounds, bounds.len());\n+                  %s (%u tys), declared = %? (%u tys)\",\n+                  tys_to_str(cx.tcx, ts), ts.len(), *bounds, (*bounds).len());\n             }\n             vec::iter2(ts, *bounds) {|ty, bound|\n                 check_bounds(cx, e.span, ty, bound)"}]}