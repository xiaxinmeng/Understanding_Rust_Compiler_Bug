{"sha": "7c362732dc49d7ab6d3fcf973922337dae53dd5c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdjMzYyNzMyZGM0OWQ3YWI2ZDNmY2Y5NzM5MjIzMzdkYWU1M2RkNWM=", "commit": {"author": {"name": "Edward Yang", "email": "edward.yang6771@gmail.com", "date": "2017-05-30T02:44:09Z"}, "committer": {"name": "Edward Yang", "email": "edward.yang6771@gmail.com", "date": "2017-05-30T02:50:23Z"}, "message": "Add RLS to .pkg installer", "tree": {"sha": "8587917eccd3f2f202b82082ac0c779f15b05dcb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8587917eccd3f2f202b82082ac0c779f15b05dcb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7c362732dc49d7ab6d3fcf973922337dae53dd5c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7c362732dc49d7ab6d3fcf973922337dae53dd5c", "html_url": "https://github.com/rust-lang/rust/commit/7c362732dc49d7ab6d3fcf973922337dae53dd5c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7c362732dc49d7ab6d3fcf973922337dae53dd5c/comments", "author": {"login": "efyang", "id": 10342494, "node_id": "MDQ6VXNlcjEwMzQyNDk0", "avatar_url": "https://avatars.githubusercontent.com/u/10342494?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efyang", "html_url": "https://github.com/efyang", "followers_url": "https://api.github.com/users/efyang/followers", "following_url": "https://api.github.com/users/efyang/following{/other_user}", "gists_url": "https://api.github.com/users/efyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/efyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efyang/subscriptions", "organizations_url": "https://api.github.com/users/efyang/orgs", "repos_url": "https://api.github.com/users/efyang/repos", "events_url": "https://api.github.com/users/efyang/events{/privacy}", "received_events_url": "https://api.github.com/users/efyang/received_events", "type": "User", "site_admin": false}, "committer": {"login": "efyang", "id": 10342494, "node_id": "MDQ6VXNlcjEwMzQyNDk0", "avatar_url": "https://avatars.githubusercontent.com/u/10342494?v=4", "gravatar_id": "", "url": "https://api.github.com/users/efyang", "html_url": "https://github.com/efyang", "followers_url": "https://api.github.com/users/efyang/followers", "following_url": "https://api.github.com/users/efyang/following{/other_user}", "gists_url": "https://api.github.com/users/efyang/gists{/gist_id}", "starred_url": "https://api.github.com/users/efyang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/efyang/subscriptions", "organizations_url": "https://api.github.com/users/efyang/orgs", "repos_url": "https://api.github.com/users/efyang/repos", "events_url": "https://api.github.com/users/efyang/events{/privacy}", "received_events_url": "https://api.github.com/users/efyang/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eeebfd667bd1524476229ecb910f9751405e85c7", "url": "https://api.github.com/repos/rust-lang/rust/commits/eeebfd667bd1524476229ecb910f9751405e85c7", "html_url": "https://github.com/rust-lang/rust/commit/eeebfd667bd1524476229ecb910f9751405e85c7"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "14f467ecc5511c2c8d7db37bd4a0063f345c9e3a", "filename": "src/bootstrap/dist.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/7c362732dc49d7ab6d3fcf973922337dae53dd5c/src%2Fbootstrap%2Fdist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7c362732dc49d7ab6d3fcf973922337dae53dd5c/src%2Fbootstrap%2Fdist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdist.rs?ref=7c362732dc49d7ab6d3fcf973922337dae53dd5c", "patch": "@@ -899,6 +899,8 @@ pub fn extended(build: &Build, stage: u32, target: &str) {\n         t!(fs::create_dir_all(pkg.join(\"cargo\")));\n         t!(fs::create_dir_all(pkg.join(\"rust-docs\")));\n         t!(fs::create_dir_all(pkg.join(\"rust-std\")));\n+        t!(fs::create_dir_all(pkg.join(\"rls\")));\n+        t!(fs::create_dir_all(pkg.join(\"rust-analysis\")));\n \n         cp_r(&work.join(&format!(\"{}-{}\", pkgname(build, \"rustc\"), target)),\n              &pkg.join(\"rustc\"));\n@@ -908,11 +910,17 @@ pub fn extended(build: &Build, stage: u32, target: &str) {\n              &pkg.join(\"rust-docs\"));\n         cp_r(&work.join(&format!(\"{}-{}\", pkgname(build, \"rust-std\"), target)),\n              &pkg.join(\"rust-std\"));\n+        cp_r(&work.join(&format!(\"{}-{}\", pkgname(build, \"rls\"), target)),\n+             &pkg.join(\"rls\"));\n+        cp_r(&work.join(&format!(\"{}-{}\", pkgname(build, \"rust-analysis\"), target)),\n+             &pkg.join(\"rust-analysis\"));\n \n         install(&etc.join(\"pkg/postinstall\"), &pkg.join(\"rustc\"), 0o755);\n         install(&etc.join(\"pkg/postinstall\"), &pkg.join(\"cargo\"), 0o755);\n         install(&etc.join(\"pkg/postinstall\"), &pkg.join(\"rust-docs\"), 0o755);\n         install(&etc.join(\"pkg/postinstall\"), &pkg.join(\"rust-std\"), 0o755);\n+        install(&etc.join(\"pkg/postinstall\"), &pkg.join(\"rls\"), 0o755);\n+        install(&etc.join(\"pkg/postinstall\"), &pkg.join(\"rust-analysis\"), 0o755);\n \n         let pkgbuild = |component: &str| {\n             let mut cmd = Command::new(\"pkgbuild\");\n@@ -926,6 +934,8 @@ pub fn extended(build: &Build, stage: u32, target: &str) {\n         pkgbuild(\"cargo\");\n         pkgbuild(\"rust-docs\");\n         pkgbuild(\"rust-std\");\n+        pkgbuild(\"rls\");\n+        pkgbuild(\"rust-analysis\");\n \n         // create an 'uninstall' package\n         install(&etc.join(\"pkg/postinstall\"), &pkg.join(\"uninstall\"), 0o755);"}, {"sha": "fd09f7b0a67d30dd18697f4b99bf8127f30bee5d", "filename": "src/etc/installer/pkg/Distribution.xml", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/7c362732dc49d7ab6d3fcf973922337dae53dd5c/src%2Fetc%2Finstaller%2Fpkg%2FDistribution.xml", "raw_url": "https://github.com/rust-lang/rust/raw/7c362732dc49d7ab6d3fcf973922337dae53dd5c/src%2Fetc%2Finstaller%2Fpkg%2FDistribution.xml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Finstaller%2Fpkg%2FDistribution.xml?ref=7c362732dc49d7ab6d3fcf973922337dae53dd5c", "patch": "@@ -16,6 +16,7 @@\n     <line choice=\"rust-std\"/>\n \t<line choice=\"cargo\"/>\n \t<line choice=\"rust-docs\"/>\n+\t<line choice=\"rls\"/>\n       </line>\n       <line choice=\"uninstall\" />\n     </choices-outline>\n@@ -61,10 +62,20 @@\n \t    >\n         <pkg-ref id=\"org.rust-lang.rust-docs\"/>\n     </choice>\n+    <choice id=\"rls\" visible=\"true\"\n+\t    title=\"RLS\" description=\"RLS, the Rust Language Server\"\n+\t    selected=\"(!choices.uninstall.selected &amp;&amp; choices['rls'].selected) || (choices.uninstall.selected &amp;&amp; choices.install.selected)\"\n+        start_selected=\"false\"\n+\t    >\n+        <pkg-ref id=\"org.rust-lang.rls\"/>\n+        <pkg-ref id=\"org.rust-lang.rust-analysis\"/>\n+    </choice>\n     <pkg-ref id=\"org.rust-lang.rustc\" version=\"0\" onConclusion=\"none\">rustc.pkg</pkg-ref>\n     <pkg-ref id=\"org.rust-lang.cargo\" version=\"0\" onConclusion=\"none\">cargo.pkg</pkg-ref>\n     <pkg-ref id=\"org.rust-lang.rust-docs\" version=\"0\" onConclusion=\"none\">rust-docs.pkg</pkg-ref>\n     <pkg-ref id=\"org.rust-lang.rust-std\" version=\"0\" onConclusion=\"none\">rust-std.pkg</pkg-ref>\n+    <pkg-ref id=\"org.rust-lang.rls\" version=\"0\" onConclusion=\"none\">rls.pkg</pkg-ref>\n+    <pkg-ref id=\"org.rust-lang.rust-analysis\" version=\"0\" onConclusion=\"none\">rust-analysis.pkg</pkg-ref>\n     <pkg-ref id=\"org.rust-lang.uninstall\" version=\"0\" onConclusion=\"none\">uninstall.pkg</pkg-ref>\n     <background file=\"rust-logo.png\" mime-type=\"image/png\"\n                 alignment=\"bottomleft\"/>"}]}