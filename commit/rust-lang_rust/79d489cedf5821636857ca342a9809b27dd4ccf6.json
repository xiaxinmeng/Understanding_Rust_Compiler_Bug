{"sha": "79d489cedf5821636857ca342a9809b27dd4ccf6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5ZDQ4OWNlZGY1ODIxNjM2ODU3Y2EzNDJhOTgwOWIyN2RkNGNjZjY=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-01-11T21:12:34Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-01-11T21:12:45Z"}, "message": "discuss joinable tasks", "tree": {"sha": "5eec2cf5ea253cc63ce54124b88902a88f56270e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5eec2cf5ea253cc63ce54124b88902a88f56270e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/79d489cedf5821636857ca342a9809b27dd4ccf6", "comment_count": 1, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/79d489cedf5821636857ca342a9809b27dd4ccf6", "html_url": "https://github.com/rust-lang/rust/commit/79d489cedf5821636857ca342a9809b27dd4ccf6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/79d489cedf5821636857ca342a9809b27dd4ccf6/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "46664c1af2c22f4bd578ebfb53ce7c759ceada64", "url": "https://api.github.com/repos/rust-lang/rust/commits/46664c1af2c22f4bd578ebfb53ce7c759ceada64", "html_url": "https://github.com/rust-lang/rust/commit/46664c1af2c22f4bd578ebfb53ce7c759ceada64"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "123ee46e8334f0b050ba276cfa94b9ae7e25051c", "filename": "doc/tutorial/task.md", "status": "modified", "additions": 20, "deletions": 1, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/79d489cedf5821636857ca342a9809b27dd4ccf6/doc%2Ftutorial%2Ftask.md", "raw_url": "https://github.com/rust-lang/rust/raw/79d489cedf5821636857ca342a9809b27dd4ccf6/doc%2Ftutorial%2Ftask.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Ftutorial%2Ftask.md?ref=79d489cedf5821636857ca342a9809b27dd4ccf6", "patch": "@@ -14,7 +14,7 @@ somewhat.  The tutorial documents the API as it exists today.\n ## Spawning a task\n \n Spawning a task is done using the various spawn functions in the\n-module task.  Let's begin with the simplest one, `task::spawn()`, and\n+module `task`.  We will Let's begin with the simplest one, `task::spawn()`, and\n later move on to the others:\n \n     let some_value = 22;\n@@ -122,4 +122,23 @@ addition to the task id of the child, this record defines two fields,\n respectively for communicating with the child.  Those fields are used\n here to send and receive three messages from the child task.\n \n+## Joining a task\n+\n+The function `spawn_joinable()` is used to spawn a task that can later\n+be joined.  This is implemented by having the child task send a\n+message when it has completed (either successfully or by failing).\n+Therefore, `spawn_joinable()` returns a structure containing both the\n+task ID and the port where this message will be sent---this structure\n+type is called `task::joinable_task`.  The structure can be passed to\n+`task::join()`, which simply blocks on the port, waiting to receive\n+the message from the child task.\n+\n+## The supervisor relationship\n+\n+By default, failures in Rust propagate upward through the task tree.\n+We say that each task is supervised by its parent, meaning that if the\n+task fails, that failure is propagated to the parent task, which will\n+fail sometime later.  This propagation can be disabled by using the\n+function `task::unsupervise()`, which disables error propagation from\n+the current task to its parent.\n "}]}