{"sha": "c27fad73531d00abd123517846a56a60350fe2d4", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMyN2ZhZDczNTMxZDAwYWJkMTIzNTE3ODQ2YTU2YTYwMzUwZmUyZDQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-04-11T07:31:03Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-04-11T07:31:03Z"}, "message": "auto merge of #5811 : sanxiyn/rust/parse-uint, r=catamorphism\n\nIt does not handle signs.", "tree": {"sha": "0adc598f23b88b69572c0ab6ec1583e37aa10e3d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0adc598f23b88b69572c0ab6ec1583e37aa10e3d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c27fad73531d00abd123517846a56a60350fe2d4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c27fad73531d00abd123517846a56a60350fe2d4", "html_url": "https://github.com/rust-lang/rust/commit/c27fad73531d00abd123517846a56a60350fe2d4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c27fad73531d00abd123517846a56a60350fe2d4/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5b457c1469704b69a569724e03667f337fcb4749", "url": "https://api.github.com/repos/rust-lang/rust/commits/5b457c1469704b69a569724e03667f337fcb4749", "html_url": "https://github.com/rust-lang/rust/commit/5b457c1469704b69a569724e03667f337fcb4749"}, {"sha": "df5555aa6742afe93805a1e36444b5ff6cd304a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/df5555aa6742afe93805a1e36444b5ff6cd304a5", "html_url": "https://github.com/rust-lang/rust/commit/df5555aa6742afe93805a1e36444b5ff6cd304a5"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "8f75f1bd4c2c81564c469374b4fb843797e41f99", "filename": "src/librustc/metadata/tydecode.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/c27fad73531d00abd123517846a56a60350fe2d4/src%2Flibrustc%2Fmetadata%2Ftydecode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c27fad73531d00abd123517846a56a60350fe2d4/src%2Flibrustc%2Fmetadata%2Ftydecode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Ftydecode.rs?ref=c27fad73531d00abd123517846a56a60350fe2d4", "patch": "@@ -171,7 +171,7 @@ fn parse_vstore(st: @mut PState) -> ty::vstore {\n \n     let c = peek(st);\n     if '0' <= c && c <= '9' {\n-        let n = parse_int(st) as uint;\n+        let n = parse_uint(st);\n         assert!(next(st) == '|');\n         return ty::vstore_fixed(n);\n     }\n@@ -214,13 +214,13 @@ fn parse_bound_region(st: @mut PState) -> ty::bound_region {\n     match next(st) {\n       's' => ty::br_self,\n       'a' => {\n-        let id = parse_int(st) as uint;\n+        let id = parse_uint(st);\n         assert!(next(st) == '|');\n         ty::br_anon(id)\n       }\n       '[' => ty::br_named(st.tcx.sess.ident_of(parse_str(st, ']'))),\n       'c' => {\n-        let id = parse_int(st);\n+        let id = parse_uint(st) as int;\n         assert!(next(st) == '|');\n         ty::br_cap_avoid(id, @parse_bound_region(st))\n       },\n@@ -235,14 +235,14 @@ fn parse_region(st: @mut PState) -> ty::Region {\n       }\n       'f' => {\n         assert!(next(st) == '[');\n-        let id = parse_int(st);\n+        let id = parse_uint(st) as int;\n         assert!(next(st) == '|');\n         let br = parse_bound_region(st);\n         assert!(next(st) == ']');\n         ty::re_free(id, br)\n       }\n       's' => {\n-        let id = parse_int(st);\n+        let id = parse_uint(st) as int;\n         assert!(next(st) == '|');\n         ty::re_scope(id)\n       }\n@@ -318,7 +318,7 @@ fn parse_ty(st: @mut PState, conv: conv_did) -> ty::t {\n       'p' => {\n         let did = parse_def(st, TypeParameter, conv);\n         debug!(\"parsed ty_param: did=%?\", did);\n-        return ty::mk_param(st.tcx, parse_int(st) as uint, did);\n+        return ty::mk_param(st.tcx, parse_uint(st), did);\n       }\n       's' => {\n         let did = parse_def(st, TypeParameter, conv);\n@@ -413,14 +413,14 @@ fn parse_def(st: @mut PState, source: DefIdSource,\n     return conv(source, parse_def_id(def));\n }\n \n-fn parse_int(st: @mut PState) -> int {\n+fn parse_uint(st: @mut PState) -> uint {\n     let mut n = 0;\n     loop {\n         let cur = peek(st);\n         if cur < '0' || cur > '9' { return n; }\n         st.pos = st.pos + 1u;\n         n *= 10;\n-        n += (cur as int) - ('0' as int);\n+        n += (cur as uint) - ('0' as uint);\n     };\n }\n "}]}