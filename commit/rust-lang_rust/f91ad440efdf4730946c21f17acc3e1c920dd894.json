{"sha": "f91ad440efdf4730946c21f17acc3e1c920dd894", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY5MWFkNDQwZWZkZjQ3MzA5NDZjMjFmMTdhY2MzZTFjOTIwZGQ4OTQ=", "commit": {"author": {"name": "iirelu", "email": "anna@bawk.space", "date": "2018-09-09T11:23:34Z"}, "committer": {"name": "iirelu", "email": "anna@bawk.space", "date": "2018-09-09T11:23:34Z"}, "message": "Add docs on `extern` keyword", "tree": {"sha": "05441f7d89107290498fc27a4fdf1019553aeea0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/05441f7d89107290498fc27a4fdf1019553aeea0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f91ad440efdf4730946c21f17acc3e1c920dd894", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f91ad440efdf4730946c21f17acc3e1c920dd894", "html_url": "https://github.com/rust-lang/rust/commit/f91ad440efdf4730946c21f17acc3e1c920dd894", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f91ad440efdf4730946c21f17acc3e1c920dd894/comments", "author": {"login": "iirelu", "id": 3432543, "node_id": "MDQ6VXNlcjM0MzI1NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3432543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iirelu", "html_url": "https://github.com/iirelu", "followers_url": "https://api.github.com/users/iirelu/followers", "following_url": "https://api.github.com/users/iirelu/following{/other_user}", "gists_url": "https://api.github.com/users/iirelu/gists{/gist_id}", "starred_url": "https://api.github.com/users/iirelu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iirelu/subscriptions", "organizations_url": "https://api.github.com/users/iirelu/orgs", "repos_url": "https://api.github.com/users/iirelu/repos", "events_url": "https://api.github.com/users/iirelu/events{/privacy}", "received_events_url": "https://api.github.com/users/iirelu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iirelu", "id": 3432543, "node_id": "MDQ6VXNlcjM0MzI1NDM=", "avatar_url": "https://avatars.githubusercontent.com/u/3432543?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iirelu", "html_url": "https://github.com/iirelu", "followers_url": "https://api.github.com/users/iirelu/followers", "following_url": "https://api.github.com/users/iirelu/following{/other_user}", "gists_url": "https://api.github.com/users/iirelu/gists{/gist_id}", "starred_url": "https://api.github.com/users/iirelu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iirelu/subscriptions", "organizations_url": "https://api.github.com/users/iirelu/orgs", "repos_url": "https://api.github.com/users/iirelu/repos", "events_url": "https://api.github.com/users/iirelu/events{/privacy}", "received_events_url": "https://api.github.com/users/iirelu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f15a1ec45dbc0f24bdc2eef3e4d7d5a16fa4af1a", "url": "https://api.github.com/repos/rust-lang/rust/commits/f15a1ec45dbc0f24bdc2eef3e4d7d5a16fa4af1a", "html_url": "https://github.com/rust-lang/rust/commit/f15a1ec45dbc0f24bdc2eef3e4d7d5a16fa4af1a"}], "stats": {"total": 42, "additions": 42, "deletions": 0}, "files": [{"sha": "a09917afbad0a86baf634c4774c5f87c9f808763", "filename": "src/libstd/keyword_docs.rs", "status": "modified", "additions": 42, "deletions": 0, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/f91ad440efdf4730946c21f17acc3e1c920dd894/src%2Flibstd%2Fkeyword_docs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f91ad440efdf4730946c21f17acc3e1c920dd894/src%2Flibstd%2Fkeyword_docs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fkeyword_docs.rs?ref=f91ad440efdf4730946c21f17acc3e1c920dd894", "patch": "@@ -179,6 +179,48 @@ mod crate_keyword { }\n /// [Reference]: https://doc.rust-lang.org/reference/items/enumerations.html\n mod enum_keyword { }\n \n+#[doc(keyword = \"extern\")]\n+//\n+/// For external connections in Rust code.\n+///\n+/// The `extern` keyword is used in two places in Rust. One is in conjunction with the [`crate`]\n+/// keyword to make your Rust code aware of other Rust crates in your project, i.e. `extern crate\n+/// lazy_static;`. The other use is in foreign function interfaces (FFI).\n+///\n+/// `extern` is used in two different contexts within FFI. The first is in the form of external\n+/// blcoks, for declaring function interfaces that Rust code can call foreign code by.\n+///\n+/// ```rust ignore\n+/// #[link(name = \"my_c_library\")]\n+/// extern \"C\" {\n+///     fn my_c_function(x: i32) -> bool;\n+/// }\n+/// ```\n+///\n+/// This code would attempt to link with libmy_c_library.so on unix-like systems and\n+/// my_c_library.dll on Windows at runtime, and panic if it can't find something to link to. Rust\n+/// code could then use `my_c_function` as if it were any other unsafe Rust function. Working with\n+/// non-Rust languages and FFI is inherently unsafe, so wrappers are usually built around C APIs.\n+///\n+/// The mirror use case of FFI is also done via the `extern` keyword:\n+///\n+/// ```rust\n+/// # #![allow(private_no_mangle_fns)]\n+/// #[no_mangle]\n+/// pub extern fn callable_from_c(x: i32) -> bool {\n+///     x % 3 == 0\n+/// }\n+/// ```\n+///\n+/// If compiled as a dylib, the resulting .so could then be linked to from a C library, and the\n+/// function could be used as if it was from any other library.\n+///\n+/// For more information on FFI, check the [Rust book] or the [Reference].\n+///\n+/// [Rust book]: https://doc.rust-lang.org/book/second-edition/ch19-01-unsafe-rust.html#using-extern-functions-to-call-external-code\n+/// [Reference]: https://doc.rust-lang.org/reference/items/external-blocks.html\n+mod extern_keyword { }\n+\n #[doc(keyword = \"fn\")]\n //\n /// The `fn` keyword."}]}