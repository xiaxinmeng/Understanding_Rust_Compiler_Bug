{"sha": "8f73fe91f5db7de6e42ad7824a00b9729d2925b2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhmNzNmZTkxZjVkYjdkZTZlNDJhZDc4MjRhMDBiOTcyOWQyOTI1YjI=", "commit": {"author": {"name": "Sean Cross", "email": "sean@xobs.io", "date": "2021-04-03T07:00:10Z"}, "committer": {"name": "Sean Cross", "email": "sean@xobs.io", "date": "2021-04-03T07:00:10Z"}, "message": "compiler: run `python3 ./x.py fmt`\n\nThis fixes a build issue with formatting as part of #83800.\n\nSigned-off-by: Sean Cross <sean@xobs.io>", "tree": {"sha": "9056378f9f44c4e3e8de88912b37ceae5e1c1074", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9056378f9f44c4e3e8de88912b37ceae5e1c1074"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8f73fe91f5db7de6e42ad7824a00b9729d2925b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8f73fe91f5db7de6e42ad7824a00b9729d2925b2", "html_url": "https://github.com/rust-lang/rust/commit/8f73fe91f5db7de6e42ad7824a00b9729d2925b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8f73fe91f5db7de6e42ad7824a00b9729d2925b2/comments", "author": {"login": "xobs", "id": 238325, "node_id": "MDQ6VXNlcjIzODMyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/238325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xobs", "html_url": "https://github.com/xobs", "followers_url": "https://api.github.com/users/xobs/followers", "following_url": "https://api.github.com/users/xobs/following{/other_user}", "gists_url": "https://api.github.com/users/xobs/gists{/gist_id}", "starred_url": "https://api.github.com/users/xobs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xobs/subscriptions", "organizations_url": "https://api.github.com/users/xobs/orgs", "repos_url": "https://api.github.com/users/xobs/repos", "events_url": "https://api.github.com/users/xobs/events{/privacy}", "received_events_url": "https://api.github.com/users/xobs/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xobs", "id": 238325, "node_id": "MDQ6VXNlcjIzODMyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/238325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xobs", "html_url": "https://github.com/xobs", "followers_url": "https://api.github.com/users/xobs/followers", "following_url": "https://api.github.com/users/xobs/following{/other_user}", "gists_url": "https://api.github.com/users/xobs/gists{/gist_id}", "starred_url": "https://api.github.com/users/xobs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xobs/subscriptions", "organizations_url": "https://api.github.com/users/xobs/orgs", "repos_url": "https://api.github.com/users/xobs/repos", "events_url": "https://api.github.com/users/xobs/events{/privacy}", "received_events_url": "https://api.github.com/users/xobs/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6f1ac8d756a7a7c22641020926458058a51d5dd3", "url": "https://api.github.com/repos/rust-lang/rust/commits/6f1ac8d756a7a7c22641020926458058a51d5dd3", "html_url": "https://github.com/rust-lang/rust/commit/6f1ac8d756a7a7c22641020926458058a51d5dd3"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "65be14e3510c7e97dec33178a7204aa988c8a872", "filename": "compiler/rustc_session/src/config.rs", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/8f73fe91f5db7de6e42ad7824a00b9729d2925b2/compiler%2Frustc_session%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8f73fe91f5db7de6e42ad7824a00b9729d2925b2/compiler%2Frustc_session%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_session%2Fsrc%2Fconfig.rs?ref=8f73fe91f5db7de6e42ad7824a00b9729d2925b2", "patch": "@@ -927,8 +927,13 @@ pub fn build_configuration(sess: &Session, mut user_cfg: CrateConfig) -> CrateCo\n     user_cfg\n }\n \n-pub fn build_target_config(opts: &Options, target_override: Option<Target>, sysroot: &PathBuf) -> Target {\n-    let target_result = target_override.map_or_else(|| Target::search(&opts.target_triple, sysroot), Ok);\n+pub fn build_target_config(\n+    opts: &Options,\n+    target_override: Option<Target>,\n+    sysroot: &PathBuf,\n+) -> Target {\n+    let target_result =\n+        target_override.map_or_else(|| Target::search(&opts.target_triple, sysroot), Ok);\n     let target = target_result.unwrap_or_else(|e| {\n         early_error(\n             opts.error_format,"}, {"sha": "72b2d089ebc3a7f68717ab3ccf87e53d707c7808", "filename": "compiler/rustc_target/src/spec/mod.rs", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/8f73fe91f5db7de6e42ad7824a00b9729d2925b2/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8f73fe91f5db7de6e42ad7824a00b9729d2925b2/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_target%2Fsrc%2Fspec%2Fmod.rs?ref=8f73fe91f5db7de6e42ad7824a00b9729d2925b2", "patch": "@@ -1791,11 +1791,8 @@ impl Target {\n \n                 // Additionally look in the sysroot under `lib/rustlib/<triple>/target.json`\n                 // as a fallback.\n-                let p = sysroot\n-                    .join(\"lib\")\n-                    .join(\"rustlib\")\n-                    .join(&target_triple)\n-                    .join(\"target.json\");\n+                let p =\n+                    sysroot.join(\"lib\").join(\"rustlib\").join(&target_triple).join(\"target.json\");\n                 if p.is_file() {\n                     return load_file(&p);\n                 }"}]}