{"sha": "cbb40cd0f2157b93f6c7774d11bc9aa5a9882352", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNiYjQwY2QwZjIxNTdiOTNmNmM3Nzc0ZDExYmM5YWE1YTk4ODIzNTI=", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2021-07-07T03:17:40Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-07-07T03:17:40Z"}, "message": "Rollup merge of #86819 - GuillaumeGomez:cleanup-rustdoc-ids, r=jyn514\n\nClean up rustdoc IDs\n\nI cherry-picked the commit from https://github.com/rust-lang/rust/pull/86178. It adds missing rustdoc IDs (for the HTML) and remove unused ones.\n\ncc `@camelid`\n\nr? `@jyn514`", "tree": {"sha": "a5c4633411f8ce8dd9ac9e1c05107184e10df39f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a5c4633411f8ce8dd9ac9e1c05107184e10df39f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cbb40cd0f2157b93f6c7774d11bc9aa5a9882352", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJg5RzUCRBK7hj4Ov3rIwAAD5UIAAvsui80u9sQJLx/qbc3OXu6\nfTkuUkyhQ507zIsY0UwiafDEx7XCWjtsyr9RYsfI9jypwIZRrAFK/TE0ew2xHWVc\nz2kPYX51Pe1PV6Lq3A24maPunDWI/PFRp1E5+RGMRVmOlVNWe20sWNg16QsE1sIY\nAzSd2Ym546cwZfuIbyqkfgdT9mmLDzqZaZzCt5dCDlwAygTwZvQtximtL7fOR1pa\nvHLu2c8a/2+KUH675vioYDwN/KRvy8GqNinnZ+yi6vvuxY0BnGe7YH+7+ICF73jI\n5uiXsM87cWqAsaNji888OELIb8Yr/mbUOF4/RSqLKSTMv0wJf4/8/gyl9nxKksg=\n=gWgz\n-----END PGP SIGNATURE-----\n", "payload": "tree a5c4633411f8ce8dd9ac9e1c05107184e10df39f\nparent 7e95290caab37233eebc323351d353ecdb3ce782\nparent 8c2a37a04abd3a921ee315aa5e1b62f3c52570a7\nauthor Yuki Okushi <jtitor@2k36.org> 1625627860 +0900\ncommitter GitHub <noreply@github.com> 1625627860 +0900\n\nRollup merge of #86819 - GuillaumeGomez:cleanup-rustdoc-ids, r=jyn514\n\nClean up rustdoc IDs\n\nI cherry-picked the commit from https://github.com/rust-lang/rust/pull/86178. It adds missing rustdoc IDs (for the HTML) and remove unused ones.\n\ncc `@camelid`\n\nr? `@jyn514`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cbb40cd0f2157b93f6c7774d11bc9aa5a9882352", "html_url": "https://github.com/rust-lang/rust/commit/cbb40cd0f2157b93f6c7774d11bc9aa5a9882352", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cbb40cd0f2157b93f6c7774d11bc9aa5a9882352/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7e95290caab37233eebc323351d353ecdb3ce782", "url": "https://api.github.com/repos/rust-lang/rust/commits/7e95290caab37233eebc323351d353ecdb3ce782", "html_url": "https://github.com/rust-lang/rust/commit/7e95290caab37233eebc323351d353ecdb3ce782"}, {"sha": "8c2a37a04abd3a921ee315aa5e1b62f3c52570a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/8c2a37a04abd3a921ee315aa5e1b62f3c52570a7", "html_url": "https://github.com/rust-lang/rust/commit/8c2a37a04abd3a921ee315aa5e1b62f3c52570a7"}], "stats": {"total": 15, "additions": 11, "deletions": 4}, "files": [{"sha": "9fff508165a1010f9fbb5afda2ef55c68f9189cd", "filename": "src/librustdoc/html/markdown.rs", "status": "modified", "additions": 11, "deletions": 4, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/cbb40cd0f2157b93f6c7774d11bc9aa5a9882352/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cbb40cd0f2157b93f6c7774d11bc9aa5a9882352/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs?ref=cbb40cd0f2157b93f6c7774d11bc9aa5a9882352", "patch": "@@ -1358,7 +1358,10 @@ pub struct IdMap {\n \n fn init_id_map() -> FxHashMap<String, usize> {\n     let mut map = FxHashMap::default();\n-    // This is the list of IDs used by rustdoc templates.\n+    // This is the list of IDs used in Javascript.\n+    map.insert(\"help\".to_owned(), 1);\n+    // This is the list of IDs used in HTML generated in Rust (including the ones\n+    // used in tera template files).\n     map.insert(\"mainThemeStyle\".to_owned(), 1);\n     map.insert(\"themeStyle\".to_owned(), 1);\n     map.insert(\"theme-picker\".to_owned(), 1);\n@@ -1375,14 +1378,14 @@ fn init_id_map() -> FxHashMap<String, usize> {\n     map.insert(\"rustdoc-vars\".to_owned(), 1);\n     map.insert(\"sidebar-vars\".to_owned(), 1);\n     map.insert(\"copy-path\".to_owned(), 1);\n-    map.insert(\"help\".to_owned(), 1);\n     map.insert(\"TOC\".to_owned(), 1);\n-    map.insert(\"render-detail\".to_owned(), 1);\n-    // This is the list of IDs used by rustdoc sections.\n+    // This is the list of IDs used by rustdoc sections (but still generated by\n+    // rustdoc).\n     map.insert(\"fields\".to_owned(), 1);\n     map.insert(\"variants\".to_owned(), 1);\n     map.insert(\"implementors-list\".to_owned(), 1);\n     map.insert(\"synthetic-implementors-list\".to_owned(), 1);\n+    map.insert(\"foreign-impls\".to_owned(), 1);\n     map.insert(\"implementations\".to_owned(), 1);\n     map.insert(\"trait-implementations\".to_owned(), 1);\n     map.insert(\"synthetic-implementations\".to_owned(), 1);\n@@ -1393,6 +1396,10 @@ fn init_id_map() -> FxHashMap<String, usize> {\n     map.insert(\"provided-methods\".to_owned(), 1);\n     map.insert(\"implementors\".to_owned(), 1);\n     map.insert(\"synthetic-implementors\".to_owned(), 1);\n+    map.insert(\"trait-implementations-list\".to_owned(), 1);\n+    map.insert(\"synthetic-implementations-list\".to_owned(), 1);\n+    map.insert(\"blanket-implementations-list\".to_owned(), 1);\n+    map.insert(\"deref-methods\".to_owned(), 1);\n     map\n }\n "}]}