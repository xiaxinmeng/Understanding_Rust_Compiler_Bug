{"sha": "e1f1a1204ad3a68a90490fcad69ab2c3e6be4086", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUxZjFhMTIwNGFkM2E2OGE5MDQ5MGZjYWQ2OWFiMmMzZTZiZTQwODY=", "commit": {"author": {"name": "Erick Tryzelaar", "email": "erick.tryzelaar@gmail.com", "date": "2013-01-13T19:15:14Z"}, "committer": {"name": "Erick Tryzelaar", "email": "erick.tryzelaar@gmail.com", "date": "2013-01-15T02:14:16Z"}, "message": "change ast::ty_param into a struct.", "tree": {"sha": "99dd5fde4f690f4b1f399f5e1ea7cad309b3e6bc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/99dd5fde4f690f4b1f399f5e1ea7cad309b3e6bc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086", "html_url": "https://github.com/rust-lang/rust/commit/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/comments", "author": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "df7d376d257858debdc29c954c6d2fb3d9ef2334", "url": "https://api.github.com/repos/rust-lang/rust/commits/df7d376d257858debdc29c954c6d2fb3d9ef2334", "html_url": "https://github.com/rust-lang/rust/commit/df7d376d257858debdc29c954c6d2fb3d9ef2334"}], "stats": {"total": 24, "additions": 14, "deletions": 10}, "files": [{"sha": "a6e66cbf46a21fe1b3250114d3f77dd24307ca80", "filename": "src/libsyntax/ast.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fast.rs?ref=e1f1a1204ad3a68a90490fcad69ab2c3e6be4086", "patch": "@@ -121,7 +121,11 @@ enum ty_param_bound {\n \n #[auto_encode]\n #[auto_decode]\n-type ty_param = {ident: ident, id: node_id, bounds: @~[ty_param_bound]};\n+struct ty_param {\n+    ident: ident,\n+    id: node_id,\n+    bounds: @~[ty_param_bound]\n+}\n \n #[auto_encode]\n #[auto_decode]"}, {"sha": "a80a56fe4f135f7984bfadf24898ba487acfb51d", "filename": "src/libsyntax/ext/auto_encode.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Fext%2Fauto_encode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Fext%2Fauto_encode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fauto_encode.rs?ref=e1f1a1204ad3a68a90490fcad69ab2c3e6be4086", "patch": "@@ -251,7 +251,7 @@ priv impl ext_ctxt {\n             span: span,\n         });\n \n-        {\n+        ast::ty_param {\n             ident: ident,\n             id: self.next_id(),\n             bounds: @vec::append(~[bound], *bounds)\n@@ -425,7 +425,7 @@ fn mk_impl(\n                 span: span,\n             });\n \n-            {\n+            ast::ty_param {\n                 ident: tp.ident,\n                 id: cx.next_id(),\n                 bounds: @vec::append(~[t_bound], *tp.bounds)"}, {"sha": "9160a8b0a33e290086c77307eb970a099baf79ed", "filename": "src/libsyntax/ext/build.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Fext%2Fbuild.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Fext%2Fbuild.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fbuild.rs?ref=e1f1a1204ad3a68a90490fcad69ab2c3e6be4086", "patch": "@@ -313,6 +313,6 @@ fn mk_ty_param(cx: ext_ctxt,\n                ident: ast::ident,\n                bounds: @~[ast::ty_param_bound])\n             -> ast::ty_param {\n-    { ident: ident, id: cx.next_id(), bounds: bounds }\n+    ast::ty_param { ident: ident, id: cx.next_id(), bounds: bounds }\n }\n "}, {"sha": "a6063b033cb58fc3b94b03c478cd243359071c8e", "filename": "src/libsyntax/ext/pipes/ast_builder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Fext%2Fpipes%2Fast_builder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Fext%2Fpipes%2Fast_builder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fext%2Fpipes%2Fast_builder.rs?ref=e1f1a1204ad3a68a90490fcad69ab2c3e6be4086", "patch": "@@ -177,7 +177,7 @@ impl ext_ctxt: ext_ctxt_ast_builder {\n     fn ty_param(id: ast::ident, +bounds: ~[ast::ty_param_bound])\n         -> ast::ty_param\n     {\n-        {ident: id, id: self.next_id(), bounds: @bounds}\n+        ast::ty_param { ident: id, id: self.next_id(), bounds: @bounds }\n     }\n \n     fn arg(name: ident, ty: @ast::Ty) -> ast::arg {"}, {"sha": "2a832fc5f12e2f7f07fac417c7adf0e1db069161", "filename": "src/libsyntax/fold.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Ffold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Ffold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffold.rs?ref=e1f1a1204ad3a68a90490fcad69ab2c3e6be4086", "patch": "@@ -148,13 +148,13 @@ fn fold_ty_param_bound(tpb: ty_param_bound, fld: ast_fold) -> ty_param_bound {\n }\n \n fn fold_ty_param(tp: ty_param, fld: ast_fold) -> ty_param {\n-    {ident: /* FIXME (#2543) */ copy tp.ident,\n-     id: fld.new_id(tp.id),\n-     bounds: @vec::map(*tp.bounds, |x| fold_ty_param_bound(*x, fld) )}\n+    ast::ty_param { ident: /* FIXME (#2543) */ copy tp.ident,\n+                    id: fld.new_id(tp.id),\n+                    bounds: @tp.bounds.map(|x| fold_ty_param_bound(*x, fld) )}\n }\n \n fn fold_ty_params(tps: ~[ty_param], fld: ast_fold) -> ~[ty_param] {\n-    vec::map(tps, |x| fold_ty_param(*x, fld) )\n+    tps.map(|x| fold_ty_param(*x, fld))\n }\n \n fn noop_fold_crate(c: crate_, fld: ast_fold) -> crate_ {"}, {"sha": "2a8014a218cc3943c248b64f35afac3ad636d9e9", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e1f1a1204ad3a68a90490fcad69ab2c3e6be4086/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=e1f1a1204ad3a68a90490fcad69ab2c3e6be4086", "patch": "@@ -2458,7 +2458,7 @@ impl Parser {\n     fn parse_ty_param() -> ty_param {\n         let ident = self.parse_ident();\n         let bounds = self.parse_optional_ty_param_bounds();\n-        return {ident: ident, id: self.get_id(), bounds: bounds};\n+        ast::ty_param { ident: ident, id: self.get_id(), bounds: bounds }\n     }\n \n     fn parse_ty_params() -> ~[ty_param] {"}]}