{"sha": "ea178e47b95119fc626b88f0b61187242b3ae487", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVhMTc4ZTQ3Yjk1MTE5ZmM2MjZiODhmMGI2MTE4NzI0MmIzYWU0ODc=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-05-04T01:26:52Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-05-04T01:26:52Z"}, "message": "Enforce sorting of accepted and removed features.", "tree": {"sha": "f06572f3d608d8177b1a2ac5fe28fe4b495c5d69", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f06572f3d608d8177b1a2ac5fe28fe4b495c5d69"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ea178e47b95119fc626b88f0b61187242b3ae487", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ea178e47b95119fc626b88f0b61187242b3ae487", "html_url": "https://github.com/rust-lang/rust/commit/ea178e47b95119fc626b88f0b61187242b3ae487", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ea178e47b95119fc626b88f0b61187242b3ae487/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a3404557c54ea48fb8efc805d93c450beb3364d4", "url": "https://api.github.com/repos/rust-lang/rust/commits/a3404557c54ea48fb8efc805d93c450beb3364d4", "html_url": "https://github.com/rust-lang/rust/commit/a3404557c54ea48fb8efc805d93c450beb3364d4"}], "stats": {"total": 39, "additions": 31, "deletions": 8}, "files": [{"sha": "40cf181543f4e6b9522721f5e45d847f52dfc5b6", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 31, "deletions": 8, "changes": 39, "blob_url": "https://github.com/rust-lang/rust/blob/ea178e47b95119fc626b88f0b61187242b3ae487/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ea178e47b95119fc626b88f0b61187242b3ae487/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=ea178e47b95119fc626b88f0b61187242b3ae487", "patch": "@@ -108,8 +108,8 @@ macro_rules! declare_features {\n // was set. This is most important for knowing when a particular feature became\n // stable (active).\n //\n-// Note that the features should be grouped into internal/user-facing\n-// and then sorted by version inside those groups. This is inforced with tidy.\n+// Note that the features are grouped into internal/user-facing and then\n+// sorted by version inside those groups. This is inforced with tidy.\n //\n // N.B., `tools/tidy/src/features.rs` parses this information directly out of the\n // source, so take care when modifying it.\n@@ -197,9 +197,6 @@ declare_features! (\n     // Allows using `#[unsafe_destructor_blind_to_params]` (RFC 1238).\n     (active, dropck_parametricity, \"1.3.0\", Some(28498), None),\n \n-    // FIXME(Centril): Investigate whether this gate actually has any effect.\n-    (active, needs_allocator, \"1.4.0\", Some(27389), None),\n-\n     // no tracking issue START\n \n     // Allows using `#[omit_gdb_pretty_printer_section]`.\n@@ -567,6 +564,10 @@ const INCOMPLETE_FEATURES: &[&str] = &[\n ];\n \n declare_features! (\n+    // -------------------------------------------------------------------------\n+    // feature-group-start: removed features\n+    // -------------------------------------------------------------------------\n+\n     (removed, import_shadowing, \"1.0.0\", None, None, None),\n     (removed, managed_boxes, \"1.0.0\", None, None, None),\n     // Allows use of unary negate on unsigned integers, e.g., -e for e: u8\n@@ -581,14 +582,16 @@ declare_features! (\n     (removed, unsafe_no_drop_flag, \"1.0.0\", None, None, None),\n     // Allows using items which are missing stability attributes\n     (removed, unmarked_api, \"1.0.0\", None, None, None),\n-    (removed, pushpop_unsafe, \"1.2.0\", None, None, None),\n     (removed, allocator, \"1.0.0\", None, None, None),\n     (removed, simd, \"1.0.0\", Some(27731), None,\n      Some(\"removed in favor of `#[repr(simd)]`\")),\n     (removed, advanced_slice_patterns, \"1.0.0\", Some(23121), None,\n      Some(\"merged into `#![feature(slice_patterns)]`\")),\n     (removed, macro_reexport, \"1.0.0\", Some(29638), None,\n      Some(\"subsumed by `pub use`\")),\n+    (removed, pushpop_unsafe, \"1.2.0\", None, None, None),\n+    (removed, needs_allocator, \"1.4.0\", Some(27389), None,\n+     Some(\"subsumed by `#![feature(allocator_internals)]`\")),\n     (removed, proc_macro_mod, \"1.27.0\", Some(54727), None,\n      Some(\"subsumed by `#![feature(proc_macro_hygiene)]`\")),\n     (removed, proc_macro_expr, \"1.27.0\", Some(54727), None,\n@@ -600,26 +603,42 @@ declare_features! (\n     (removed, panic_implementation, \"1.28.0\", Some(44489), None,\n      Some(\"subsumed by `#[panic_handler]`\")),\n     // Allows the use of `#[derive(Anything)]` as sugar for `#[derive_Anything]`.\n-    (removed, custom_derive, \"1.0.0\", Some(29644), None,\n+    (removed, custom_derive, \"1.32.0\", Some(29644), None,\n      Some(\"subsumed by `#[proc_macro_derive]`\")),\n     // Paths of the form: `extern::foo::bar`\n     (removed, extern_in_paths, \"1.33.0\", Some(55600), None,\n      Some(\"subsumed by `::foo::bar` paths\")),\n-    (removed, quote, \"1.0.0\", Some(29601), None, None),\n+    (removed, quote, \"1.33.0\", Some(29601), None, None),\n+\n+    // -------------------------------------------------------------------------\n+    // feature-group-end: removed features\n+    // -------------------------------------------------------------------------\n );\n \n declare_features! (\n     (stable_removed, no_stack_check, \"1.0.0\", None, None),\n );\n \n declare_features! (\n+    // -------------------------------------------------------------------------\n+    // feature-group-start: for testing purposes\n+    // -------------------------------------------------------------------------\n+\n     // A temporary feature gate used to enable parser extensions needed\n     // to bootstrap fix for #5723.\n     (accepted, issue_5723_bootstrap, \"1.0.0\", None, None),\n     // These are used to test this portion of the compiler,\n     // they don't actually mean anything.\n     (accepted, test_accepted_feature, \"1.0.0\", None, None),\n \n+    // -------------------------------------------------------------------------\n+    // feature-group-end: for testing purposes\n+    // -------------------------------------------------------------------------\n+\n+    // -------------------------------------------------------------------------\n+    // feature-group-start: accepted features\n+    // -------------------------------------------------------------------------\n+\n     // Allows using associated `type`s in `trait`s.\n     (accepted, associated_types, \"1.0.0\", None, None),\n     // Allows using assigning a default type to type parameters in algebraic data type definitions.\n@@ -809,6 +828,10 @@ declare_features! (\n     (accepted, extern_crate_self, \"1.34.0\", Some(56409), None),\n     // Allows arbitrary delimited token streams in non-macro attributes.\n     (accepted, unrestricted_attribute_tokens, \"1.34.0\", Some(55208), None),\n+\n+    // -------------------------------------------------------------------------\n+    // feature-group-end: accepted features\n+    // -------------------------------------------------------------------------\n );\n \n // If you change this, please modify `src/doc/unstable-book` as well. You must"}]}