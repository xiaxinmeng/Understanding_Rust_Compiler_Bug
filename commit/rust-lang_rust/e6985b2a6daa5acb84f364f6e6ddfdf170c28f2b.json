{"sha": "e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU2OTg1YjJhNmRhYTVhY2I4NGYzNjRmNmU2ZGRmZGYxNzBjMjhmMmI=", "commit": {"author": {"name": "Ahmed Charles", "email": "acharles@outlook.com", "date": "2016-08-13T06:38:17Z"}, "committer": {"name": "Ahmed Charles", "email": "acharles@outlook.com", "date": "2016-10-06T05:42:40Z"}, "message": "rustbuild: Add install target. #34675\n\nIt just prints to the screen currently.", "tree": {"sha": "3c5cf03b61417c8dddb214a3faf6a2a0c0af5c15", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3c5cf03b61417c8dddb214a3faf6a2a0c0af5c15"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b", "html_url": "https://github.com/rust-lang/rust/commit/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b/comments", "author": {"login": "ahmedcharles", "id": 3112514, "node_id": "MDQ6VXNlcjMxMTI1MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3112514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahmedcharles", "html_url": "https://github.com/ahmedcharles", "followers_url": "https://api.github.com/users/ahmedcharles/followers", "following_url": "https://api.github.com/users/ahmedcharles/following{/other_user}", "gists_url": "https://api.github.com/users/ahmedcharles/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahmedcharles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahmedcharles/subscriptions", "organizations_url": "https://api.github.com/users/ahmedcharles/orgs", "repos_url": "https://api.github.com/users/ahmedcharles/repos", "events_url": "https://api.github.com/users/ahmedcharles/events{/privacy}", "received_events_url": "https://api.github.com/users/ahmedcharles/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ahmedcharles", "id": 3112514, "node_id": "MDQ6VXNlcjMxMTI1MTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3112514?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ahmedcharles", "html_url": "https://github.com/ahmedcharles", "followers_url": "https://api.github.com/users/ahmedcharles/followers", "following_url": "https://api.github.com/users/ahmedcharles/following{/other_user}", "gists_url": "https://api.github.com/users/ahmedcharles/gists{/gist_id}", "starred_url": "https://api.github.com/users/ahmedcharles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ahmedcharles/subscriptions", "organizations_url": "https://api.github.com/users/ahmedcharles/orgs", "repos_url": "https://api.github.com/users/ahmedcharles/repos", "events_url": "https://api.github.com/users/ahmedcharles/events{/privacy}", "received_events_url": "https://api.github.com/users/ahmedcharles/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "46957f05771a427545c792f69b37f8e05dcbb15d", "url": "https://api.github.com/repos/rust-lang/rust/commits/46957f05771a427545c792f69b37f8e05dcbb15d", "html_url": "https://github.com/rust-lang/rust/commit/46957f05771a427545c792f69b37f8e05dcbb15d"}], "stats": {"total": 41, "additions": 37, "deletions": 4}, "files": [{"sha": "8bad3dfb41e1270229cf0f5f3e476df8d1080352", "filename": "src/bootstrap/install.rs", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b/src%2Fbootstrap%2Finstall.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b/src%2Fbootstrap%2Finstall.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Finstall.rs?ref=e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b", "patch": "@@ -0,0 +1,22 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+//! Implementation of the install aspects of the compiler.\n+//!\n+//! This module is responsible for installing the standard library,\n+//! compiler, and documentation.\n+\n+use Build;\n+\n+/// Installs everything.\n+pub fn install(_: &Build, stage: u32, host: &str) {\n+    println!(\"Install everything stage{} ({})\", stage, host);\n+    println!(\"Note: install currently does nothing.\");\n+}"}, {"sha": "9ffc433cd78e9c1c519aa4f28e0ae0de085a272a", "filename": "src/bootstrap/lib.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b/src%2Fbootstrap%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b/src%2Fbootstrap%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Flib.rs?ref=e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b", "patch": "@@ -62,6 +62,7 @@ mod config;\n mod dist;\n mod doc;\n mod flags;\n+mod install;\n mod native;\n mod sanity;\n mod step;\n@@ -453,6 +454,8 @@ impl Build {\n                 DistStd { compiler } => dist::std(self, &compiler, target.target),\n                 DistSrc { _dummy } => dist::rust_src(self),\n \n+                Install { stage } => install::install(self, stage, target.target),\n+\n                 DebuggerScripts { stage } => {\n                     let compiler = Compiler::new(stage, target.target);\n                     dist::debugger_scripts(self,"}, {"sha": "61d0e2540741d15df75f8820a9699c9c466b2901", "filename": "src/bootstrap/mk/Makefile.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b/src%2Fbootstrap%2Fmk%2FMakefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b/src%2Fbootstrap%2Fmk%2FMakefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fmk%2FMakefile.in?ref=e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b", "patch": "@@ -51,6 +51,8 @@ check-cargotest:\n \t$(Q)$(BOOTSTRAP) --step check-cargotest\n dist:\n \t$(Q)$(BOOTSTRAP) --step dist\n+install:\n+\t$(Q)$(BOOTSTRAP) --step install\n tidy:\n \t$(Q)$(BOOTSTRAP) --step check-tidy --stage 0\n "}, {"sha": "22539b31ef2bdef4aee2de0eff566b4be179af20", "filename": "src/bootstrap/step.rs", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b/src%2Fbootstrap%2Fstep.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b/src%2Fbootstrap%2Fstep.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fstep.rs?ref=e6985b2a6daa5acb84f364f6e6ddfdf170c28f2b", "patch": "@@ -140,6 +140,9 @@ macro_rules! targets {\n             (dist_std, DistStd { compiler: Compiler<'a> }),\n             (dist_src, DistSrc { _dummy: () }),\n \n+            // install target\n+            (install, Install { stage: u32 }),\n+\n             // Misc targets\n             (android_copy_libs, AndroidCopyLibs { compiler: Compiler<'a> }),\n         }\n@@ -249,8 +252,7 @@ fn top_level(build: &Build) -> Vec<Step> {\n         }\n     }\n \n-    return targets\n-\n+    targets\n }\n \n fn add_steps<'a>(build: &'a Build,\n@@ -467,7 +469,7 @@ impl<'a> Step<'a> {\n                         self.dist(stage),\n                     ]);\n                 }\n-                return base\n+                base\n             }\n             Source::CheckLinkcheck { stage } => {\n                 vec![self.tool_linkchecker(stage), self.doc(stage)]\n@@ -590,7 +592,11 @@ impl<'a> Step<'a> {\n                         base.push(target.dist_std(compiler));\n                     }\n                 }\n-                return base\n+                base\n+            }\n+\n+            Source::Install { stage } => {\n+                vec![self.dist(stage)]\n             }\n \n             Source::AndroidCopyLibs { compiler } => {"}]}