{"sha": "73a68cdba0d6e5ee28c9ef1ae80ec473f16cd9e9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjczYTY4Y2RiYTBkNmU1ZWUyOGM5ZWYxYWU4MGVjNDczZjE2Y2Q5ZTk=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-05-15T05:06:50Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-05-15T05:06:50Z"}, "message": "auto merge of #14133 : db48x/rust/ord-for-mut-refs, r=alexcrichton\n\nAlso Show, which is useful in assertions. Fixes #14074", "tree": {"sha": "32a053690faa53d61b9b603854f0940e00f6dc57", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/32a053690faa53d61b9b603854f0940e00f6dc57"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/73a68cdba0d6e5ee28c9ef1ae80ec473f16cd9e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/73a68cdba0d6e5ee28c9ef1ae80ec473f16cd9e9", "html_url": "https://github.com/rust-lang/rust/commit/73a68cdba0d6e5ee28c9ef1ae80ec473f16cd9e9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/73a68cdba0d6e5ee28c9ef1ae80ec473f16cd9e9/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e10fd317211511c3fb4656aee10eb4fd17dc8586", "url": "https://api.github.com/repos/rust-lang/rust/commits/e10fd317211511c3fb4656aee10eb4fd17dc8586", "html_url": "https://github.com/rust-lang/rust/commit/e10fd317211511c3fb4656aee10eb4fd17dc8586"}, {"sha": "9eb723d00081938ebc6306a7cb73209e45140c95", "url": "https://api.github.com/repos/rust-lang/rust/commits/9eb723d00081938ebc6306a7cb73209e45140c95", "html_url": "https://github.com/rust-lang/rust/commit/9eb723d00081938ebc6306a7cb73209e45140c95"}], "stats": {"total": 37, "additions": 36, "deletions": 1}, "files": [{"sha": "52df7e71727ee2c8baa2b4216c2a6e22237be612", "filename": "src/libcore/cmp.rs", "status": "modified", "additions": 33, "deletions": 1, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/73a68cdba0d6e5ee28c9ef1ae80ec473f16cd9e9/src%2Flibcore%2Fcmp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/73a68cdba0d6e5ee28c9ef1ae80ec473f16cd9e9/src%2Flibcore%2Fcmp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcmp.rs?ref=73a68cdba0d6e5ee28c9ef1ae80ec473f16cd9e9", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2012-2013 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2012-2014 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -217,6 +217,29 @@ mod impls {\n     }\n     impl<'a, T: TotalEq> TotalEq for &'a T {}\n \n+    // &mut pointers\n+    impl<'a, T: Eq> Eq for &'a mut T {\n+        #[inline]\n+        fn eq(&self, other: &&'a mut T) -> bool { **self == *(*other) }\n+        #[inline]\n+        fn ne(&self, other: &&'a mut T) -> bool { **self != *(*other) }\n+    }\n+    impl<'a, T: Ord> Ord for &'a mut T {\n+        #[inline]\n+        fn lt(&self, other: &&'a mut T) -> bool { **self < **other }\n+        #[inline]\n+        fn le(&self, other: &&'a mut T) -> bool { **self <= **other }\n+        #[inline]\n+        fn ge(&self, other: &&'a mut T) -> bool { **self >= **other }\n+        #[inline]\n+        fn gt(&self, other: &&'a mut T) -> bool { **self > **other }\n+    }\n+    impl<'a, T: TotalOrd> TotalOrd for &'a mut T {\n+        #[inline]\n+        fn cmp(&self, other: &&'a mut T) -> Ordering { (**self).cmp(*other) }\n+    }\n+    impl<'a, T: TotalEq> TotalEq for &'a mut T {}\n+\n     // @ pointers\n     impl<T:Eq> Eq for @T {\n         #[inline]\n@@ -254,6 +277,15 @@ mod test {\n         assert_eq!(12u.cmp(-5), Greater);\n     }\n \n+    #[test]\n+    fn test_mut_int_totalord() {\n+        assert_eq!((&mut 5u).cmp(&10), Less);\n+        assert_eq!((&mut 10u).cmp(&5), Greater);\n+        assert_eq!((&mut 5u).cmp(&5), Equal);\n+        assert_eq!((&mut -5u).cmp(&12), Less);\n+        assert_eq!((&mut 12u).cmp(-5), Greater);\n+    }\n+\n     #[test]\n     fn test_ordering_order() {\n         assert!(Less < Equal);"}, {"sha": "d4f12f590ae7516c0e064c2c7395f471d44facd1", "filename": "src/libstd/fmt/mod.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/73a68cdba0d6e5ee28c9ef1ae80ec473f16cd9e9/src%2Flibstd%2Ffmt%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/73a68cdba0d6e5ee28c9ef1ae80ec473f16cd9e9/src%2Flibstd%2Ffmt%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Ffmt%2Fmod.rs?ref=73a68cdba0d6e5ee28c9ef1ae80ec473f16cd9e9", "patch": "@@ -1138,6 +1138,9 @@ impl<T: Show> Show for Box<T> {\n impl<'a, T: Show> Show for &'a T {\n     fn fmt(&self, f: &mut Formatter) -> Result { secret_show(*self, f) }\n }\n+impl<'a, T: Show> Show for &'a mut T {\n+    fn fmt(&self, f: &mut Formatter) -> Result { secret_show(*self, f) }\n+}\n \n impl Bool for bool {\n     fn fmt(&self, f: &mut Formatter) -> Result {"}]}