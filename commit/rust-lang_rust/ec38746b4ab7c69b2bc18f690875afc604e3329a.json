{"sha": "ec38746b4ab7c69b2bc18f690875afc604e3329a", "node_id": "C_kwDOAAsO6NoAKGVjMzg3NDZiNGFiN2M2OWIyYmMxOGY2OTA4NzVhZmM2MDRlMzMyOWE", "commit": {"author": {"name": "flip1995", "email": "philipp.krones@embecosm.com", "date": "2021-09-28T09:53:11Z"}, "committer": {"name": "flip1995", "email": "philipp.krones@embecosm.com", "date": "2021-09-28T16:07:51Z"}, "message": "Allow internal lint INVALID_PATHS for itertools path\n\nSince clippy_utils doesn't depend on the itertools crate anymore, the\nlint can't find the path.", "tree": {"sha": "9f23cac0008c69a1b6e395f364f5fcfb23803156", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9f23cac0008c69a1b6e395f364f5fcfb23803156"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ec38746b4ab7c69b2bc18f690875afc604e3329a", "comment_count": 0, "verification": {"verified": false, "reason": "bad_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEij1UXJ/PQTcb99vTHKDfKvWdaKUFAmFTPdcACgkQHKDfKvWd\naKU5cQ//Wj+9OsrST9F2s8UyGaTQ/DIv7GAo8f8/DISNnWvBjPaUNPZFhPQzgtR9\nfTbD95obcCWE+Ee7aTR84sEYnlLETcoQs4oKPRs+MSiPtfM6j7hHmtlotml60vig\nn5oDy68tisFmFyhawgSj1jtNJcpi/u3CIVURpl3bi+spmFH5aa1DtX6sJWqvpkok\nptNbAketIxdiPg1cEJ88jEh+uKb/eqtAMd9iBzJi2iLNKJXb03hFqIwqMhSk+iJo\nEUJ3WgoovogNzCts2GmzgFPxsBqJI46Zg0F9oJwNJuKyia4JLVupUddlZUFgL4IE\nlE1Nc2w0ATDCWECenamRBbhgWnYKpf3q5aKa3eP/cF8b0KivVkdrQ4VmXwTeXsWC\ndCPmpOsF5hP48t70uG/NFoBGdc6DC9WoShB7iNSJXZDWOQEo3EfKpBBDR7jL5yrf\nNurnn2dq4rAXpOdBUarvE4EHaK5udvADiMHhbXHAB1Ws79fIusiPSaG3beoMcMGQ\nWC84yZiNZ+/+Au2etsP39CEGmkYowQ/I92BUFHKa6tb/ZCHi6fGAJ8zFzom8HcfW\n46G9jAyxzEZR4G0Vbnk8/STikYjb6GdzP8MIJraLy1esKjW1DajaSNZVX1DXiHTk\nQ/rnMhoXei5V9v8ZLwBprhDVSrYi0+jmV+o0D2NT61gNJLmdcJI=\n=Lwg8\n-----END PGP SIGNATURE-----", "payload": "tree 9f23cac0008c69a1b6e395f364f5fcfb23803156\nparent 707494eca9527a47c84900ddcaac74b6006dc733\nauthor flip1995 <philipp.krones@embecosm.com> 1632822791 +0100\ncommitter flip1995 <philipp.krones@embecosm.com> 1632845271 +0100\n\nAllow internal lint INVALID_PATHS for itertools path\n\nSince clippy_utils doesn't depend on the itertools crate anymore, the\nlint can't find the path.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ec38746b4ab7c69b2bc18f690875afc604e3329a", "html_url": "https://github.com/rust-lang/rust/commit/ec38746b4ab7c69b2bc18f690875afc604e3329a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ec38746b4ab7c69b2bc18f690875afc604e3329a/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "707494eca9527a47c84900ddcaac74b6006dc733", "url": "https://api.github.com/repos/rust-lang/rust/commits/707494eca9527a47c84900ddcaac74b6006dc733", "html_url": "https://github.com/rust-lang/rust/commit/707494eca9527a47c84900ddcaac74b6006dc733"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "a626e4f2a336445ab1758b87351169a3f985ab72", "filename": "clippy_lints/src/utils/internal_lints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec38746b4ab7c69b2bc18f690875afc604e3329a/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec38746b4ab7c69b2bc18f690875afc604e3329a/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs?ref=ec38746b4ab7c69b2bc18f690875afc604e3329a", "patch": "@@ -892,7 +892,7 @@ impl<'tcx> LateLintPass<'tcx> for InvalidPaths {\n                 }).collect();\n             if !check_path(cx, &path[..]);\n             then {\n-                span_lint(cx, CLIPPY_LINTS_INTERNAL, item.span, \"invalid path\");\n+                span_lint(cx, INVALID_PATHS, item.span, \"invalid path\");\n             }\n         }\n     }"}, {"sha": "7a8208c12c0d1e3226923ddaffcd2bc128e9c3c5", "filename": "clippy_utils/src/paths.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ec38746b4ab7c69b2bc18f690875afc604e3329a/clippy_utils%2Fsrc%2Fpaths.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec38746b4ab7c69b2bc18f690875afc604e3329a/clippy_utils%2Fsrc%2Fpaths.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Fpaths.rs?ref=ec38746b4ab7c69b2bc18f690875afc604e3329a", "patch": "@@ -68,6 +68,7 @@ pub const IO_WRITE: [&str; 3] = [\"std\", \"io\", \"Write\"];\n pub const IPADDR_V4: [&str; 5] = [\"std\", \"net\", \"ip\", \"IpAddr\", \"V4\"];\n pub const IPADDR_V6: [&str; 5] = [\"std\", \"net\", \"ip\", \"IpAddr\", \"V6\"];\n pub const ITER_REPEAT: [&str; 5] = [\"core\", \"iter\", \"sources\", \"repeat\", \"repeat\"];\n+#[allow(clippy::invalid_paths)] // internal lints do not know about all external crates\n pub const ITERTOOLS_NEXT_TUPLE: [&str; 3] = [\"itertools\", \"Itertools\", \"next_tuple\"];\n #[cfg(feature = \"internal-lints\")]\n pub const KW_MODULE: [&str; 3] = [\"rustc_span\", \"symbol\", \"kw\"];"}, {"sha": "20aa81b98a080c1b01478d2466910e4ceb5c9a5c", "filename": "tests/ui-internal/invalid_paths.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec38746b4ab7c69b2bc18f690875afc604e3329a/tests%2Fui-internal%2Finvalid_paths.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ec38746b4ab7c69b2bc18f690875afc604e3329a/tests%2Fui-internal%2Finvalid_paths.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-internal%2Finvalid_paths.stderr?ref=ec38746b4ab7c69b2bc18f690875afc604e3329a", "patch": "@@ -4,7 +4,7 @@ error: invalid path\n LL |     pub const BAD_CRATE_PATH: [&str; 2] = [\"bad\", \"path\"];\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n-   = note: `-D clippy::clippy-lints-internal` implied by `-D warnings`\n+   = note: `-D clippy::invalid-paths` implied by `-D warnings`\n \n error: invalid path\n   --> $DIR/invalid_paths.rs:20:5"}]}