{"sha": "fed5ea8b10c4461ada9b4a121556bb7e0c05a3b2", "node_id": "C_kwDOAAsO6NoAKGZlZDVlYThiMTBjNDQ2MWFkYTliNGExMjE1NTZiYjdlMGMwNWEzYjI", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-06-20T09:43:06Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2022-06-20T16:00:49Z"}, "message": "Manual adjustments", "tree": {"sha": "a39cb60740128d4b7d0154b351568161dadf78e2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a39cb60740128d4b7d0154b351568161dadf78e2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fed5ea8b10c4461ada9b4a121556bb7e0c05a3b2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmKwmbEACgkQ+boUO5X/\nbYLoYQ/9GH439pv4BetQDCNx2VVUcc8tdm8oB2IS5zswlXS8G9G5NTnOdKsSkdZl\nlm5WaoV1gboMq+5M/y6C104Lm13DBygSogwIiYXu6HTzO8kZCb2o+Tc0mHxqk357\noSm8C74vG3USUToEnacomqmt+B6LlzHzv+xcrPkYFt2SOS5LfnOLyZk4u/1wFQG3\neIPkwzONtilLe0X+zE9S5aIJswnLYiN/NmLR6Zzit5bPQ6XafCGxmTgeNvb54oNX\n9sZAEJCxxfRULyQzUix5W0Cj05NWkletgHIBJZyOu2DNMkZjzJKt2+qhsMXSKV8/\nEGggWXU2pe81ZN6QTCjvfIkUwtdstOxHQJCGBxUv9wB2vlOmLwtn3VBEhFm4L7/O\nUXZFmtHXVffdGDC6NuddAbhtuIPEInfJaXdKAiNX7VjPhd6CCfhCZG6ra4UVp1vB\nIIXPOEvXN9an2UQW4/ogNb0VAk84l/T00YZ/+Lh91UbcGtPZSXrLMMJ6HpSfTTji\npw/+1OQBUU/UC+Wz1ytf0SUXapZZdE5od9s/Z6zOUCUOKvE7nRI9Rfee6fVM03BP\ncYCnNqJPXu1YLzrILqoB8AFo0x7pTnfugo3ktzWUa8V1vYCs1zw2paotSBnPQdOZ\neAWNxrdaqXD5b2LAVxCx1nQNOvsmLiVVBnWazQKU3120z4T7fV4=\n=5SIg\n-----END PGP SIGNATURE-----", "payload": "tree a39cb60740128d4b7d0154b351568161dadf78e2\nparent ee132c8d07b2de26e2d078c39980a93045759920\nauthor David Tolnay <dtolnay@gmail.com> 1655718186 -0700\ncommitter David Tolnay <dtolnay@gmail.com> 1655740849 -0700\n\nManual adjustments\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fed5ea8b10c4461ada9b4a121556bb7e0c05a3b2", "html_url": "https://github.com/rust-lang/rust/commit/fed5ea8b10c4461ada9b4a121556bb7e0c05a3b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fed5ea8b10c4461ada9b4a121556bb7e0c05a3b2/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ee132c8d07b2de26e2d078c39980a93045759920", "url": "https://api.github.com/repos/rust-lang/rust/commits/ee132c8d07b2de26e2d078c39980a93045759920", "html_url": "https://github.com/rust-lang/rust/commit/ee132c8d07b2de26e2d078c39980a93045759920"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "0b055c9b96ec0c759ff4f92764f76b866aac70d4", "filename": "tests/fail/data_race/atomic_write_na_read_race2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/fed5ea8b10c4461ada9b4a121556bb7e0c05a3b2/tests%2Ffail%2Fdata_race%2Fatomic_write_na_read_race2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fed5ea8b10c4461ada9b4a121556bb7e0c05a3b2/tests%2Ffail%2Fdata_race%2Fatomic_write_na_read_race2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fatomic_write_na_read_race2.rs?ref=fed5ea8b10c4461ada9b4a121556bb7e0c05a3b2", "patch": "@@ -16,7 +16,9 @@ pub fn main() {\n     let b = &mut a as *mut AtomicUsize;\n     let c = EvilSend(b);\n     unsafe {\n-        let j1 = spawn(move || *(c.0 as *mut usize));\n+        let j1 = spawn(move || {\n+            let _val = *(c.0 as *mut usize);\n+        });\n \n         let j2 = spawn(move || {\n             //Equivalent to: (&*c.0).store(32, Ordering::SeqCst)"}, {"sha": "9197912ef2e9dbd5c23cd8826e2fb8d9115dc151", "filename": "tests/fail/data_race/read_write_race.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/fed5ea8b10c4461ada9b4a121556bb7e0c05a3b2/tests%2Ffail%2Fdata_race%2Fread_write_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fed5ea8b10c4461ada9b4a121556bb7e0c05a3b2/tests%2Ffail%2Fdata_race%2Fread_write_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fread_write_race.rs?ref=fed5ea8b10c4461ada9b4a121556bb7e0c05a3b2", "patch": "@@ -13,7 +13,9 @@ pub fn main() {\n     let b = &mut a as *mut u32;\n     let c = EvilSend(b);\n     unsafe {\n-        let j1 = spawn(move || *c.0);\n+        let j1 = spawn(move || {\n+            let _val = *c.0;\n+        });\n \n         let j2 = spawn(move || {\n             *c.0 = 64; //~ ERROR Data race detected between Write on Thread(id = 2) and Read on Thread(id = 1)"}]}