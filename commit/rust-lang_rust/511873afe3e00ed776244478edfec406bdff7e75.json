{"sha": "511873afe3e00ed776244478edfec406bdff7e75", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUxMTg3M2FmZTNlMDBlZDc3NjI0NDQ3OGVkZmVjNDA2YmRmZjdlNzU=", "commit": {"author": {"name": "Jeff Olson", "email": "olson.jeffery@gmail.com", "date": "2012-06-12T15:38:22Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-06-29T22:41:55Z"}, "message": "rt: add remaining ip string parser/formatter helpers from uv", "tree": {"sha": "350a3f23d272fce7d3eb8d513a66201a314c96e5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/350a3f23d272fce7d3eb8d513a66201a314c96e5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/511873afe3e00ed776244478edfec406bdff7e75", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/511873afe3e00ed776244478edfec406bdff7e75", "html_url": "https://github.com/rust-lang/rust/commit/511873afe3e00ed776244478edfec406bdff7e75", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/511873afe3e00ed776244478edfec406bdff7e75/comments", "author": {"login": "olsonjeffery", "id": 10408, "node_id": "MDQ6VXNlcjEwNDA4", "avatar_url": "https://avatars.githubusercontent.com/u/10408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olsonjeffery", "html_url": "https://github.com/olsonjeffery", "followers_url": "https://api.github.com/users/olsonjeffery/followers", "following_url": "https://api.github.com/users/olsonjeffery/following{/other_user}", "gists_url": "https://api.github.com/users/olsonjeffery/gists{/gist_id}", "starred_url": "https://api.github.com/users/olsonjeffery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olsonjeffery/subscriptions", "organizations_url": "https://api.github.com/users/olsonjeffery/orgs", "repos_url": "https://api.github.com/users/olsonjeffery/repos", "events_url": "https://api.github.com/users/olsonjeffery/events{/privacy}", "received_events_url": "https://api.github.com/users/olsonjeffery/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "708b5d986e37eeb61a98b2a7f29ba02f517e7d39", "url": "https://api.github.com/repos/rust-lang/rust/commits/708b5d986e37eeb61a98b2a7f29ba02f517e7d39", "html_url": "https://github.com/rust-lang/rust/commit/708b5d986e37eeb61a98b2a7f29ba02f517e7d39"}], "stats": {"total": 24, "additions": 24, "deletions": 0}, "files": [{"sha": "7e719a5f4500553ff49d230a53b6578324944d28", "filename": "src/rt/rust_uv.cpp", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/511873afe3e00ed776244478edfec406bdff7e75/src%2Frt%2Frust_uv.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/511873afe3e00ed776244478edfec406bdff7e75/src%2Frt%2Frust_uv.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_uv.cpp?ref=511873afe3e00ed776244478edfec406bdff7e75", "patch": "@@ -301,6 +301,10 @@ rust_uv_helper_sockaddr_in_size() {\n     return sizeof(sockaddr_in);\n }\n extern \"C\" size_t\n+rust_uv_helper_sockaddr_in6_size() {\n+    return sizeof(sockaddr_in6);\n+}\n+extern \"C\" size_t\n rust_uv_helper_uv_async_t_size() {\n     return sizeof(uv_async_t);\n }\n@@ -441,6 +445,22 @@ rust_uv_ip4_addr(const char* ip, int port) {\n     LOG(task, stdlib, \"after creating .. port: %d\", addr.sin_port);\n     return addr;\n }\n+extern \"C\" struct sockaddr_in6\n+rust_uv_ip6_addr(const char* ip, int port) {\n+    rust_task* task = rust_get_current_task();\n+    LOG(task, stdlib, \"before creating addr_ptr.. ip %s\" \\\n+        \"port %d\", ip, port);\n+    struct sockaddr_in6 addr = uv_ip6_addr(ip, port);\n+    return addr;\n+}\n+extern \"C\" int\n+rust_uv_ip4_name(struct sockaddr_in* src, char* dst, size_t size) {\n+\treturn uv_ip4_name(src, dst, size);\n+}\n+extern \"C\" int\n+rust_uv_ip6_name(struct sockaddr_in6* src, char* dst, size_t size) {\n+\treturn uv_ip6_name(src, dst, size);\n+}\n \n extern \"C\" uintptr_t*\n rust_uv_get_kernel_global_chan_ptr() {"}, {"sha": "b8086531ac7d598962990ceb5f8f14def01fd3e4", "filename": "src/rt/rustrt.def.in", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/511873afe3e00ed776244478edfec406bdff7e75/src%2Frt%2Frustrt.def.in", "raw_url": "https://github.com/rust-lang/rust/raw/511873afe3e00ed776244478edfec406bdff7e75/src%2Frt%2Frustrt.def.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frustrt.def.in?ref=511873afe3e00ed776244478edfec406bdff7e75", "patch": "@@ -111,6 +111,9 @@ rust_uv_last_error\n rust_uv_strerror\n rust_uv_err_name\n rust_uv_ip4_addr\n+rust_uv_ip4_name\n+rust_uv_ip6_addr\n+rust_uv_ip6_name\n rust_uv_tcp_connect\n rust_uv_tcp_bind\n rust_uv_listen\n@@ -126,6 +129,7 @@ rust_uv_helper_uv_buf_t_size\n rust_uv_helper_uv_write_t_size\n rust_uv_helper_uv_err_t_size\n rust_uv_helper_sockaddr_in_size\n+rust_uv_helper_sockaddr_in6_size\n rust_uv_helper_uv_async_t_size\n rust_uv_helper_uv_timer_t_size\n rust_uv_get_stream_handle_from_connect_req"}]}