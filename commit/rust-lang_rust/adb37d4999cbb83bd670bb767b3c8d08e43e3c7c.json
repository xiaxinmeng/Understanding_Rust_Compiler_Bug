{"sha": "adb37d4999cbb83bd670bb767b3c8d08e43e3c7c", "node_id": "C_kwDOAAsO6NoAKGFkYjM3ZDQ5OTljYmI4M2JkNjcwYmI3NjdiM2M4ZDA4ZTQzZTNjN2M", "commit": {"author": {"name": "Scott McMurray", "email": "scottmcm@users.noreply.github.com", "date": "2023-06-02T01:52:11Z"}, "committer": {"name": "Scott McMurray", "email": "scottmcm@users.noreply.github.com", "date": "2023-06-02T01:52:11Z"}, "message": "Clarify when MIR `Div`/`Rem` trigger UB", "tree": {"sha": "112db173cbd4ffce8d7686114d5bd4197ecbe0e5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/112db173cbd4ffce8d7686114d5bd4197ecbe0e5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/adb37d4999cbb83bd670bb767b3c8d08e43e3c7c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/adb37d4999cbb83bd670bb767b3c8d08e43e3c7c", "html_url": "https://github.com/rust-lang/rust/commit/adb37d4999cbb83bd670bb767b3c8d08e43e3c7c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/adb37d4999cbb83bd670bb767b3c8d08e43e3c7c/comments", "author": {"login": "scottmcm", "id": 18526288, "node_id": "MDQ6VXNlcjE4NTI2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottmcm", "html_url": "https://github.com/scottmcm", "followers_url": "https://api.github.com/users/scottmcm/followers", "following_url": "https://api.github.com/users/scottmcm/following{/other_user}", "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions", "organizations_url": "https://api.github.com/users/scottmcm/orgs", "repos_url": "https://api.github.com/users/scottmcm/repos", "events_url": "https://api.github.com/users/scottmcm/events{/privacy}", "received_events_url": "https://api.github.com/users/scottmcm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "scottmcm", "id": 18526288, "node_id": "MDQ6VXNlcjE4NTI2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottmcm", "html_url": "https://github.com/scottmcm", "followers_url": "https://api.github.com/users/scottmcm/followers", "following_url": "https://api.github.com/users/scottmcm/following{/other_user}", "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions", "organizations_url": "https://api.github.com/users/scottmcm/orgs", "repos_url": "https://api.github.com/users/scottmcm/repos", "events_url": "https://api.github.com/users/scottmcm/events{/privacy}", "received_events_url": "https://api.github.com/users/scottmcm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "73f104b6d6d5ae058a06a0f8eec3f370093e91a4", "url": "https://api.github.com/repos/rust-lang/rust/commits/73f104b6d6d5ae058a06a0f8eec3f370093e91a4", "html_url": "https://github.com/rust-lang/rust/commit/73f104b6d6d5ae058a06a0f8eec3f370093e91a4"}], "stats": {"total": 13, "additions": 9, "deletions": 4}, "files": [{"sha": "94a1e9ced772d0a6922b16a9f65b6deaad3b3e2c", "filename": "compiler/rustc_middle/src/mir/syntax.rs", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/adb37d4999cbb83bd670bb767b3c8d08e43e3c7c/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fsyntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/adb37d4999cbb83bd670bb767b3c8d08e43e3c7c/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fsyntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fsyntax.rs?ref=adb37d4999cbb83bd670bb767b3c8d08e43e3c7c", "patch": "@@ -1272,13 +1272,18 @@ pub enum BinOp {\n     Mul,\n     /// The `/` operator (division)\n     ///\n-    /// Division by zero is UB, because the compiler should have inserted checks\n-    /// prior to this.\n+    /// For integer types, division by zero is UB, as is `MIN / -1` for signed.\n+    /// The compiler should have inserted checks prior to this.\n+    ///\n+    /// Floating-point division by zero is safe, and does not need guards.\n     Div,\n     /// The `%` operator (modulus)\n     ///\n-    /// Using zero as the modulus (second operand) is UB, because the compiler\n-    /// should have inserted checks prior to this.\n+    /// For integer types, using zero as the modulus (second operand) is UB,\n+    /// as is `MIN % -1` for signed.\n+    /// The compiler should have inserted checks prior to this.\n+    ///\n+    /// Floating-point remainder by zero is safe, and does not need guards.\n     Rem,\n     /// The `^` operator (bitwise xor)\n     BitXor,"}]}