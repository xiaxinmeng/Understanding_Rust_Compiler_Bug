{"sha": "c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "node_id": "C_kwDOAAsO6NoAKGMxYjRkMDc1YTJlNTMwNDQzNzc2OWJjMzg0N2ViYjFkNWRiMmMzZmE", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-06-14T16:10:30Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-06-14T16:10:30Z"}, "message": "Rollup merge of #112506 - compiler-errors:const-infer-ice, r=b-naber\n\nProperly check associated consts for infer placeholders\n\nWe only reported an error if it was in a \"suggestable\" position (according to `is_suggestable_infer_ty`) -- this isn't correct for infer tys that can show up in other places in the constant's type, like behind a dyn trait.\n\nfixes #112491", "tree": {"sha": "161f24e23d3f258ee5919a077ac174b8ad9c2f76", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/161f24e23d3f258ee5919a077ac174b8ad9c2f76"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkieZ2CRBK7hj4Ov3rIwAA/WAIAJlRupK0RWKrYRcv0YqWHI/p\nx1EowlcsuPLs1KNdYppCEVxDWAXeh5h5B4E7sOjg5+OBAvn3BKNdHsAzhjTyr8H1\nbf5jKAqbk1Uyy3ji0HFEAaeSh4E3H4ExfMhtajb6QqF5dsl8CgYB50PqVHe+RBga\nPuefJaDVKeUXE2izUZQrujfVU7jP+YjvvQrhZCSFl6jWr5jbg8JXXJlvxW5pUp5R\n9GXcGUe3spWrv93qHKCaDJc9uvphmZdN6TFFsQPUU4+m/iMMhrfyNvxqEFBhOObP\nGU2RNc2PJKXI6GJhzaZVTpESWJvOGKPIomVZWSpYRvBjRHQAV3aAn4KT2nYDyuA=\n=KgBv\n-----END PGP SIGNATURE-----\n", "payload": "tree 161f24e23d3f258ee5919a077ac174b8ad9c2f76\nparent 38ed4e5a5cf1820ed76bcba235b70dcb29f8118d\nparent 2b40268f8bed4ba1d916a216a4431bb2ec7b2d41\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1686759030 +0200\ncommitter GitHub <noreply@github.com> 1686759030 +0200\n\nRollup merge of #112506 - compiler-errors:const-infer-ice, r=b-naber\n\nProperly check associated consts for infer placeholders\n\nWe only reported an error if it was in a \"suggestable\" position (according to `is_suggestable_infer_ty`) -- this isn't correct for infer tys that can show up in other places in the constant's type, like behind a dyn trait.\n\nfixes #112491\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "html_url": "https://github.com/rust-lang/rust/commit/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "38ed4e5a5cf1820ed76bcba235b70dcb29f8118d", "url": "https://api.github.com/repos/rust-lang/rust/commits/38ed4e5a5cf1820ed76bcba235b70dcb29f8118d", "html_url": "https://github.com/rust-lang/rust/commit/38ed4e5a5cf1820ed76bcba235b70dcb29f8118d"}, {"sha": "2b40268f8bed4ba1d916a216a4431bb2ec7b2d41", "url": "https://api.github.com/repos/rust-lang/rust/commits/2b40268f8bed4ba1d916a216a4431bb2ec7b2d41", "html_url": "https://github.com/rust-lang/rust/commit/2b40268f8bed4ba1d916a216a4431bb2ec7b2d41"}], "stats": {"total": 111, "additions": 77, "deletions": 34}, "files": [{"sha": "8b5c1791fc13902ed3c96e948fdb2a5babac90fe", "filename": "compiler/rustc_hir_analysis/src/collect.rs", "status": "modified", "additions": 16, "deletions": 11, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect.rs?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -666,17 +666,15 @@ fn convert_trait_item(tcx: TyCtxt<'_>, trait_item_id: hir::TraitItemId) {\n             tcx.ensure().fn_sig(def_id);\n         }\n \n-        hir::TraitItemKind::Const(.., Some(_)) => {\n+        hir::TraitItemKind::Const(ty, body_id) => {\n             tcx.ensure().type_of(def_id);\n-        }\n-\n-        hir::TraitItemKind::Const(hir_ty, _) => {\n-            tcx.ensure().type_of(def_id);\n-            // Account for `const C: _;`.\n-            let mut visitor = HirPlaceholderCollector::default();\n-            visitor.visit_trait_item(trait_item);\n-            if !tcx.sess.diagnostic().has_stashed_diagnostic(hir_ty.span, StashKey::ItemNoType) {\n-                placeholder_type_error(tcx, None, visitor.0, false, None, \"constant\");\n+            if !tcx.sess.diagnostic().has_stashed_diagnostic(ty.span, StashKey::ItemNoType)\n+                && !(is_suggestable_infer_ty(ty) && body_id.is_some())\n+            {\n+                // Account for `const C: _;`.\n+                let mut visitor = HirPlaceholderCollector::default();\n+                visitor.visit_trait_item(trait_item);\n+                placeholder_type_error(tcx, None, visitor.0, false, None, \"associated constant\");\n             }\n         }\n \n@@ -721,7 +719,14 @@ fn convert_impl_item(tcx: TyCtxt<'_>, impl_item_id: hir::ImplItemId) {\n \n             placeholder_type_error(tcx, None, visitor.0, false, None, \"associated type\");\n         }\n-        hir::ImplItemKind::Const(..) => {}\n+        hir::ImplItemKind::Const(ty, _) => {\n+            // Account for `const T: _ = ..;`\n+            if !is_suggestable_infer_ty(ty) {\n+                let mut visitor = HirPlaceholderCollector::default();\n+                visitor.visit_impl_item(impl_item);\n+                placeholder_type_error(tcx, None, visitor.0, false, None, \"associated constant\");\n+            }\n+        }\n     }\n }\n "}, {"sha": "318d0d0c22397ced4b55064ade489339fd060925", "filename": "compiler/rustc_hir_analysis/src/collect/type_of.rs", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Ftype_of.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Ftype_of.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Ftype_of.rs?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -341,7 +341,12 @@ pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: LocalDefId) -> ty::EarlyBinder<Ty\n                 .and_then(|body_id| {\n                     is_suggestable_infer_ty(ty).then(|| {\n                         infer_placeholder_type(\n-                            tcx, def_id, body_id, ty.span, item.ident, \"constant\",\n+                            tcx,\n+                            def_id,\n+                            body_id,\n+                            ty.span,\n+                            item.ident,\n+                            \"associated constant\",\n                         )\n                     })\n                 })\n@@ -359,7 +364,14 @@ pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: LocalDefId) -> ty::EarlyBinder<Ty\n             }\n             ImplItemKind::Const(ty, body_id) => {\n                 if is_suggestable_infer_ty(ty) {\n-                    infer_placeholder_type(tcx, def_id, body_id, ty.span, item.ident, \"constant\")\n+                    infer_placeholder_type(\n+                        tcx,\n+                        def_id,\n+                        body_id,\n+                        ty.span,\n+                        item.ident,\n+                        \"associated constant\",\n+                    )\n                 } else {\n                     icx.to_ty(ty)\n                 }"}, {"sha": "40896c32e1113a3e37c786d0706d5b286d2ef565", "filename": "tests/ui/associated-consts/infer-placeholder-in-non-suggestable-pos.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Fassociated-consts%2Finfer-placeholder-in-non-suggestable-pos.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Fassociated-consts%2Finfer-placeholder-in-non-suggestable-pos.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fassociated-consts%2Finfer-placeholder-in-non-suggestable-pos.rs?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -0,0 +1,10 @@\n+trait Trait {\n+    const ASSOC: i32;\n+}\n+\n+impl Trait for () {\n+    const ASSOC: &dyn Fn(_) = 1i32;\n+    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated constants\n+}\n+\n+fn main() {}"}, {"sha": "993a08faba9902e6328fb1da8778d334161e7a2c", "filename": "tests/ui/associated-consts/infer-placeholder-in-non-suggestable-pos.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Fassociated-consts%2Finfer-placeholder-in-non-suggestable-pos.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Fassociated-consts%2Finfer-placeholder-in-non-suggestable-pos.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fassociated-consts%2Finfer-placeholder-in-non-suggestable-pos.stderr?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -0,0 +1,9 @@\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n+  --> $DIR/infer-placeholder-in-non-suggestable-pos.rs:6:26\n+   |\n+LL |     const ASSOC: &dyn Fn(_) = 1i32;\n+   |                          ^ not allowed in type signatures\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0121`."}, {"sha": "cd852a269435e90684a4ce4fb79e153c540be34c", "filename": "tests/ui/const-generics/generic_arg_infer/in-signature.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Fconst-generics%2Fgeneric_arg_infer%2Fin-signature.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Fconst-generics%2Fgeneric_arg_infer%2Fin-signature.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fconst-generics%2Fgeneric_arg_infer%2Fin-signature.rs?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -33,15 +33,15 @@ static TY_STATIC_MIXED: Bar<_, _> = Bar::<i32, 3>(0);\n //~^ ERROR the placeholder `_` is not allowed within types on item signatures for static variables\n trait ArrAssocConst {\n     const ARR: [u8; _];\n-    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for constants\n+    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated constants\n }\n trait TyAssocConst {\n     const ARR: Bar<i32, _>;\n-    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for constants\n+    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated constants\n }\n trait TyAssocConstMixed {\n     const ARR: Bar<_, _>;\n-    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for constants\n+    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated constants\n }\n \n trait AssocTy {"}, {"sha": "b32018a6a2d22de4772d7a3ec44b093215c69fd1", "filename": "tests/ui/const-generics/generic_arg_infer/in-signature.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Fconst-generics%2Fgeneric_arg_infer%2Fin-signature.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Fconst-generics%2Fgeneric_arg_infer%2Fin-signature.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fconst-generics%2Fgeneric_arg_infer%2Fin-signature.stderr?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -74,19 +74,19 @@ LL | static TY_STATIC_MIXED: Bar<_, _> = Bar::<i32, 3>(0);\n    |                         not allowed in type signatures\n    |                         help: replace with the correct type: `Bar<i32, 3>`\n \n-error[E0121]: the placeholder `_` is not allowed within types on item signatures for constants\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n   --> $DIR/in-signature.rs:35:21\n    |\n LL |     const ARR: [u8; _];\n    |                     ^ not allowed in type signatures\n \n-error[E0121]: the placeholder `_` is not allowed within types on item signatures for constants\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n   --> $DIR/in-signature.rs:39:25\n    |\n LL |     const ARR: Bar<i32, _>;\n    |                         ^ not allowed in type signatures\n \n-error[E0121]: the placeholder `_` is not allowed within types on item signatures for constants\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n   --> $DIR/in-signature.rs:43:20\n    |\n LL |     const ARR: Bar<_, _>;"}, {"sha": "bbb95a5798af5eca6afd1f6f9260be70a3a6c428", "filename": "tests/ui/typeck/type-placeholder-fn-in-const.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftype-placeholder-fn-in-const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftype-placeholder-fn-in-const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftypeck%2Ftype-placeholder-fn-in-const.rs?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -3,12 +3,13 @@ struct MyStruct;\n trait Test {\n     const TEST: fn() -> _;\n     //~^ ERROR: the placeholder `_` is not allowed within types on item signatures for functions [E0121]\n-    //~| ERROR: the placeholder `_` is not allowed within types on item signatures for constants [E0121]\n+    //~| ERROR: the placeholder `_` is not allowed within types on item signatures for associated constants [E0121]\n }\n \n impl Test for MyStruct {\n     const TEST: fn() -> _ = 42;\n     //~^ ERROR: the placeholder `_` is not allowed within types on item signatures for functions [E0121]\n+    //~| ERROR: the placeholder `_` is not allowed within types on item signatures for associated constants [E0121]\n }\n \n fn main() {}"}, {"sha": "302359d2500c98c436002cff69c828313b0e142e", "filename": "tests/ui/typeck/type-placeholder-fn-in-const.stderr", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftype-placeholder-fn-in-const.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftype-placeholder-fn-in-const.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftypeck%2Ftype-placeholder-fn-in-const.stderr?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -4,7 +4,7 @@ error[E0121]: the placeholder `_` is not allowed within types on item signatures\n LL |     const TEST: fn() -> _;\n    |                         ^ not allowed in type signatures\n \n-error[E0121]: the placeholder `_` is not allowed within types on item signatures for constants\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n   --> $DIR/type-placeholder-fn-in-const.rs:4:25\n    |\n LL |     const TEST: fn() -> _;\n@@ -16,6 +16,12 @@ error[E0121]: the placeholder `_` is not allowed within types on item signatures\n LL |     const TEST: fn() -> _ = 42;\n    |                         ^ not allowed in type signatures\n \n-error: aborting due to 3 previous errors\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n+  --> $DIR/type-placeholder-fn-in-const.rs:10:25\n+   |\n+LL |     const TEST: fn() -> _ = 42;\n+   |                         ^ not allowed in type signatures\n+\n+error: aborting due to 4 previous errors\n \n For more information about this error, try `rustc --explain E0121`."}, {"sha": "4eba14f5a93fb34bf092d849a17726dad7de804d", "filename": "tests/ui/typeck/typeck_type_placeholder_item.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.rs?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -190,9 +190,9 @@ trait Qux {\n     type B = _;\n     //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated types\n     const C: _;\n-    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for constants\n+    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated constants\n     const D: _ = 42;\n-    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for constants\n+    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated constants\n     // type E: _; // FIXME: make the parser propagate the existence of `B`\n     type F: std::ops::Fn(_);\n     //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated types\n@@ -203,10 +203,10 @@ impl Qux for Struct {\n     type B = _;\n     //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated types\n     const C: _;\n-    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for constants\n+    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated constants\n     //~| ERROR associated constant in `impl` without body\n     const D: _ = 42;\n-    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for constants\n+    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated constants\n }\n \n fn map<T>(_: fn() -> Option<&'static T>) -> Option<T> {"}, {"sha": "0c5e7e3cecb193145c0503598775615d3ec25eed", "filename": "tests/ui/typeck/typeck_type_placeholder_item.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item.stderr?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -525,13 +525,13 @@ error[E0121]: the placeholder `_` is not allowed within types on item signatures\n LL |     type B = _;\n    |              ^ not allowed in type signatures\n \n-error[E0121]: the placeholder `_` is not allowed within types on item signatures for constants\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n   --> $DIR/typeck_type_placeholder_item.rs:192:14\n    |\n LL |     const C: _;\n    |              ^ not allowed in type signatures\n \n-error[E0121]: the placeholder `_` is not allowed within types on item signatures for constants\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n   --> $DIR/typeck_type_placeholder_item.rs:194:14\n    |\n LL |     const D: _ = 42;\n@@ -642,13 +642,13 @@ error[E0121]: the placeholder `_` is not allowed within types on item signatures\n LL |     type B = _;\n    |              ^ not allowed in type signatures\n \n-error[E0121]: the placeholder `_` is not allowed within types on item signatures for constants\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n   --> $DIR/typeck_type_placeholder_item.rs:205:14\n    |\n LL |     const C: _;\n    |              ^ not allowed in type signatures\n \n-error[E0121]: the placeholder `_` is not allowed within types on item signatures for constants\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n   --> $DIR/typeck_type_placeholder_item.rs:208:14\n    |\n LL |     const D: _ = 42;"}, {"sha": "914f8a2b28b343f1d1428ea700a31ffcb401c7ba", "filename": "tests/ui/typeck/typeck_type_placeholder_item_help.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.rs?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -16,14 +16,14 @@ const TEST4: fn() -> _ = 42;\n \n trait Test5 {\n     const TEST5: _ = 42;\n-    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for constants\n+    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated constants\n }\n \n struct Test6;\n \n impl Test6 {\n     const TEST6: _ = 13;\n-    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for constants\n+    //~^ ERROR the placeholder `_` is not allowed within types on item signatures for associated constants\n }\n \n pub fn main() {"}, {"sha": "ed6f4088019f7acc10bfadd32dd039d026f5b8bc", "filename": "tests/ui/typeck/typeck_type_placeholder_item_help.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/c1b4d075a2e5304437769bc3847ebb1d5db2c3fa/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftypeck%2Ftypeck_type_placeholder_item_help.stderr?ref=c1b4d075a2e5304437769bc3847ebb1d5db2c3fa", "patch": "@@ -37,7 +37,7 @@ error[E0121]: the placeholder `_` is not allowed within types on item signatures\n LL | const TEST4: fn() -> _ = 42;\n    |                      ^ not allowed in type signatures\n \n-error[E0121]: the placeholder `_` is not allowed within types on item signatures for constants\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n   --> $DIR/typeck_type_placeholder_item_help.rs:18:18\n    |\n LL |     const TEST5: _ = 42;\n@@ -46,7 +46,7 @@ LL |     const TEST5: _ = 42;\n    |                  not allowed in type signatures\n    |                  help: replace with the correct type: `i32`\n \n-error[E0121]: the placeholder `_` is not allowed within types on item signatures for constants\n+error[E0121]: the placeholder `_` is not allowed within types on item signatures for associated constants\n   --> $DIR/typeck_type_placeholder_item_help.rs:25:18\n    |\n LL |     const TEST6: _ = 13;"}]}