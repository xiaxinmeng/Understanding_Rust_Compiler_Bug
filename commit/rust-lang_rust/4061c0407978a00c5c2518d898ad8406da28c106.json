{"sha": "4061c0407978a00c5c2518d898ad8406da28c106", "node_id": "C_kwDOAAsO6NoAKDQwNjFjMDQwNzk3OGEwMGM1YzI1MThkODk4YWQ4NDA2ZGEyOGMxMDY", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-11-04T06:54:21Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-11-04T06:54:21Z"}, "message": "Auto merge of #87467 - inquisitivecrystal:ref-unwind, r=dtolnay\n\nImplement `RefUnwindSafe` for `Rc<T>`\n\nThis PR implements `RefUnwindSafe` for `Rc<T>`, where `T: RefUnwindSafe`.\n\nThis impl was omitted by an apparent oversight. `Rc<T>` already implements `UnwindSafe`. `Arc<T>` implements both `UnwindSafe` and `RefUnwindSafe`. There is no reason why an `&Rc<T>` is any less unwind safe than a `Rc<T>` or an `&Arc<T>`, so this should be safe to add.\n\nResolves #45924.", "tree": {"sha": "2603c5786d9883b83d87158779993b8f8ab5fccf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2603c5786d9883b83d87158779993b8f8ab5fccf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4061c0407978a00c5c2518d898ad8406da28c106", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4061c0407978a00c5c2518d898ad8406da28c106", "html_url": "https://github.com/rust-lang/rust/commit/4061c0407978a00c5c2518d898ad8406da28c106", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4061c0407978a00c5c2518d898ad8406da28c106/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0b4ac62ddaf9ee01b8aaf9dd7097f1f541d64551", "url": "https://api.github.com/repos/rust-lang/rust/commits/0b4ac62ddaf9ee01b8aaf9dd7097f1f541d64551", "html_url": "https://github.com/rust-lang/rust/commit/0b4ac62ddaf9ee01b8aaf9dd7097f1f541d64551"}, {"sha": "bd194da4c2116e2461f8dfee51c12d343a62f53e", "url": "https://api.github.com/repos/rust-lang/rust/commits/bd194da4c2116e2461f8dfee51c12d343a62f53e", "html_url": "https://github.com/rust-lang/rust/commit/bd194da4c2116e2461f8dfee51c12d343a62f53e"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "4fb2f0c8530d7e983aad7e7dc57c8071d5589f30", "filename": "library/alloc/src/rc.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4061c0407978a00c5c2518d898ad8406da28c106/library%2Falloc%2Fsrc%2Frc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4061c0407978a00c5c2518d898ad8406da28c106/library%2Falloc%2Fsrc%2Frc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Frc.rs?ref=4061c0407978a00c5c2518d898ad8406da28c106", "patch": "@@ -318,6 +318,8 @@ impl<T: ?Sized> !marker::Sync for Rc<T> {}\n \n #[stable(feature = \"catch_unwind\", since = \"1.9.0\")]\n impl<T: RefUnwindSafe + ?Sized> UnwindSafe for Rc<T> {}\n+#[stable(feature = \"rc_ref_unwind_safe\", since = \"1.58.0\")]\n+impl<T: RefUnwindSafe + ?Sized> RefUnwindSafe for Rc<T> {}\n \n #[unstable(feature = \"coerce_unsized\", issue = \"27732\")]\n impl<T: ?Sized + Unsize<U>, U: ?Sized> CoerceUnsized<Rc<U>> for Rc<T> {}"}]}