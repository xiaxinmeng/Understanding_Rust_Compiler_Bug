{"sha": "cc51b6b57649986c209e5316234471cb7839d2e6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNjNTFiNmI1NzY0OTk4NmMyMDllNTMxNjIzNDQ3MWNiNzgzOWQyZTY=", "commit": {"author": {"name": "Yasuhiro Fujii", "email": "y-fujii@mimosa-pudica.net", "date": "2012-10-05T10:55:42Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-10-05T19:41:00Z"}, "message": "fix escape", "tree": {"sha": "95f5547b7b1189eaf49644551c641e84611c579b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/95f5547b7b1189eaf49644551c641e84611c579b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cc51b6b57649986c209e5316234471cb7839d2e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cc51b6b57649986c209e5316234471cb7839d2e6", "html_url": "https://github.com/rust-lang/rust/commit/cc51b6b57649986c209e5316234471cb7839d2e6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cc51b6b57649986c209e5316234471cb7839d2e6/comments", "author": {"login": "y-fujii", "id": 2093578, "node_id": "MDQ6VXNlcjIwOTM1Nzg=", "avatar_url": "https://avatars.githubusercontent.com/u/2093578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/y-fujii", "html_url": "https://github.com/y-fujii", "followers_url": "https://api.github.com/users/y-fujii/followers", "following_url": "https://api.github.com/users/y-fujii/following{/other_user}", "gists_url": "https://api.github.com/users/y-fujii/gists{/gist_id}", "starred_url": "https://api.github.com/users/y-fujii/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/y-fujii/subscriptions", "organizations_url": "https://api.github.com/users/y-fujii/orgs", "repos_url": "https://api.github.com/users/y-fujii/repos", "events_url": "https://api.github.com/users/y-fujii/events{/privacy}", "received_events_url": "https://api.github.com/users/y-fujii/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "016875b1b18b8d96a9e48ade55ce6d3ae7fd3680", "url": "https://api.github.com/repos/rust-lang/rust/commits/016875b1b18b8d96a9e48ade55ce6d3ae7fd3680", "html_url": "https://github.com/rust-lang/rust/commit/016875b1b18b8d96a9e48ade55ce6d3ae7fd3680"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "3a1e60ec42311f91da90401ddbdda2fb74ade2cd", "filename": "doc/prep.js", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/cc51b6b57649986c209e5316234471cb7839d2e6/doc%2Fprep.js", "raw_url": "https://github.com/rust-lang/rust/raw/cc51b6b57649986c209e5316234471cb7839d2e6/doc%2Fprep.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Fprep.js?ref=cc51b6b57649986c209e5316234471cb7839d2e6", "patch": "@@ -60,9 +60,10 @@ while ((line = lines[cur++]) != null) {\n       var html = '<pre class=\"cm-s-default\">', curstr = \"\", curstyle = null;\n       function add(str, style) {\n         if (style != curstyle) {\n-          if (curstyle) html += '<span class=\"cm-' + curstyle + '\">' + curstr\n-            + \"</span>\";\n-          else if (curstr) html += curstr;\n+          if (curstyle) html +=\n+            '<span class=\"cm-' + CodeMirror.htmlEscape(curstyle) + '\">' +\n+            CodeMirror.htmlEscape(curstr) + \"</span>\";\n+          else if (curstr) html += CodeMirror.htmlEscape(curstr);\n           curstr = str; curstyle = style;\n         } else curstr += str;\n       }"}]}