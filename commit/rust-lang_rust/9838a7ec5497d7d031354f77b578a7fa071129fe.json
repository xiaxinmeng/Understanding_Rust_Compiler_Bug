{"sha": "9838a7ec5497d7d031354f77b578a7fa071129fe", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk4MzhhN2VjNTQ5N2Q3ZDAzMTM1NGY3N2I1NzhhN2ZhMDcxMTI5ZmU=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-03-11T04:38:03Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-03-11T04:38:03Z"}, "message": "Tweak some test cases and add a few new ones", "tree": {"sha": "423e9b9ccf7d5b88c3d2525c10917a126169d59f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/423e9b9ccf7d5b88c3d2525c10917a126169d59f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9838a7ec5497d7d031354f77b578a7fa071129fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9838a7ec5497d7d031354f77b578a7fa071129fe", "html_url": "https://github.com/rust-lang/rust/commit/9838a7ec5497d7d031354f77b578a7fa071129fe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9838a7ec5497d7d031354f77b578a7fa071129fe/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eb9d0e89d19477e89fadf55c0de8376b5ba6dd5c", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb9d0e89d19477e89fadf55c0de8376b5ba6dd5c", "html_url": "https://github.com/rust-lang/rust/commit/eb9d0e89d19477e89fadf55c0de8376b5ba6dd5c"}], "stats": {"total": 69, "additions": 61, "deletions": 8}, "files": [{"sha": "da0069212671b691a7957c4f1b012ab45e2015b0", "filename": "src/test/compile-fail/block-must-not-have-result-do.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Fcompile-fail%2Fblock-must-not-have-result-do.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Fcompile-fail%2Fblock-must-not-have-result-do.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fblock-must-not-have-result-do.rs?ref=9838a7ec5497d7d031354f77b578a7fa071129fe", "patch": "@@ -1,7 +1,7 @@\n // error-pattern:mismatched types: expected `()` but found `bool`\n \n fn main() {\n-    do {\n+    loop {\n         true\n-    } while true;\n+    }\n }\n\\ No newline at end of file"}, {"sha": "7f172998c2859391f39ef55c2dad022d72e163ad", "filename": "src/test/compile-fail/block-must-not-have-result-while.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Fcompile-fail%2Fblock-must-not-have-result-while.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Fcompile-fail%2Fblock-must-not-have-result-while.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fblock-must-not-have-result-while.rs?ref=9838a7ec5497d7d031354f77b578a7fa071129fe", "patch": "@@ -1,7 +1,7 @@\n // error-pattern:mismatched types: expected `()` but found `bool`\n \n fn main() {\n-    loop {\n+    while true {\n         true\n     }\n }\n\\ No newline at end of file"}, {"sha": "a9153338123221dcba0b725bce9978f97d461f47", "filename": "src/test/compile-fail/do-while-constraints.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Fcompile-fail%2Fdo-while-constraints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Fcompile-fail%2Fdo-while-constraints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fdo-while-constraints.rs?ref=9838a7ec5497d7d031354f77b578a7fa071129fe", "patch": "@@ -3,8 +3,8 @@ fn main() {\n \n     let y: int = 42;\n     let x: int;\n-    do  {\n+    loop {\n         log(debug, y);\n         do  { do  { do  { x <- y; } while true } while true } while true\n-    } while true\n+    }\n }"}, {"sha": "03d00dd02e8f31ab236e66ecd6cecda843e1a785", "filename": "src/test/compile-fail/do-while-pred-constraints.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Fcompile-fail%2Fdo-while-pred-constraints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Fcompile-fail%2Fdo-while-pred-constraints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fdo-while-pred-constraints.rs?ref=9838a7ec5497d7d031354f77b578a7fa071129fe", "patch": "@@ -7,8 +7,8 @@ pure fn even(y: int) -> bool { true }\n fn main() {\n     let y: int = 42;\n     check (even(y));\n-    do  {\n+    loop {\n         print_even(y);\n         do  { do  { do  { y += 1; } while false } while false } while false\n-    } while true\n+    }\n }"}, {"sha": "e2ecb6713725a57d409340b8ccba31806d4e0478", "filename": "src/test/compile-fail/unreachable-code.rs", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Fcompile-fail%2Funreachable-code.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Fcompile-fail%2Funreachable-code.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funreachable-code.rs?ref=9838a7ec5497d7d031354f77b578a7fa071129fe", "patch": "@@ -0,0 +1,6 @@\n+// error-pattern:unreachable statement\n+fn main() {\n+  loop{}\n+             // red herring to make sure compilation fails\n+  log(error, 42 == 'c');\n+}\n\\ No newline at end of file"}, {"sha": "b2cd8641f223e192e36522d7e482232eeda24d86", "filename": "src/test/run-pass/loop-break-cont-1.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Frun-pass%2Floop-break-cont-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Frun-pass%2Floop-break-cont-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Floop-break-cont-1.rs?ref=9838a7ec5497d7d031354f77b578a7fa071129fe", "patch": "@@ -0,0 +1,7 @@\n+fn main() {\n+  let i = 0u;\n+  loop {\n+    break;\n+  }\n+  assert true;\n+}\n\\ No newline at end of file"}, {"sha": "c40bfb7bfedb55212082c6a6d42d40c79f9ef619", "filename": "src/test/run-pass/loop-break-cont.rs", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Frun-pass%2Floop-break-cont.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Frun-pass%2Floop-break-cont.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Floop-break-cont.rs?ref=9838a7ec5497d7d031354f77b578a7fa071129fe", "patch": "@@ -0,0 +1,40 @@\n+// xfail-test\n+// runs forever for some reason -- investigating\n+fn main() {\n+  let i = 0u;\n+  loop {\n+    log(error, \"a\");\n+    i += 1u;\n+    if i == 10u {\n+      break;\n+    }\n+  }\n+  assert (i == 10u);\n+  let is_even = false;\n+  loop {\n+    log(error, \"b\");\n+    is_even = false;\n+    i += 1u;\n+    if i % 2u != 0u {\n+        cont;\n+    }\n+    is_even = true;\n+    if i == 21u {\n+        break;\n+    }\n+  }\n+  assert !is_even;\n+  loop {\n+    log(error, \"c\");\n+    is_even = false;\n+    if i == 22u {\n+        break;\n+    }\n+    i += 1u;\n+    if i % 2u != 0u {\n+        cont;\n+    }\n+    is_even = true;\n+  }\n+  assert is_even;\n+}\n\\ No newline at end of file"}, {"sha": "90c51e984c0c54692aad779731d75dffea95d742", "filename": "src/test/run-pass/terminate-in-initializer.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Frun-pass%2Fterminate-in-initializer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9838a7ec5497d7d031354f77b578a7fa071129fe/src%2Ftest%2Frun-pass%2Fterminate-in-initializer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fterminate-in-initializer.rs?ref=9838a7ec5497d7d031354f77b578a7fa071129fe", "patch": "@@ -1,6 +1,6 @@\n // xfail-win32 leaks\n // Issue #787\n-// Don't try to clean up uninitizaed locals\n+// Don't try to clean up uninitialized locals\n \n use std;\n "}]}