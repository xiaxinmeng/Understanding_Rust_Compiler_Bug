{"sha": "20021bb4c798fe081e45aba5f6b32fa05a2423fa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIwMDIxYmI0Yzc5OGZlMDgxZTQ1YWJhNWY2YjMyZmEwNWEyNDIzZmE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-08-05T08:00:39Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-08-05T08:00:39Z"}, "message": "Auto merge of #4333 - phansch:rustfix_decimal_literal_representation, r=flip1995\n\nAdd run-rustfix for decimal_literal_representation lint\n\nchangelog: none\n\ncc #3630", "tree": {"sha": "f37a1bcf07a7c9a272b528a3002e1d093ffff08b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f37a1bcf07a7c9a272b528a3002e1d093ffff08b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/20021bb4c798fe081e45aba5f6b32fa05a2423fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/20021bb4c798fe081e45aba5f6b32fa05a2423fa", "html_url": "https://github.com/rust-lang/rust/commit/20021bb4c798fe081e45aba5f6b32fa05a2423fa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/20021bb4c798fe081e45aba5f6b32fa05a2423fa/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "495a571f098b0756122efe0f9eec7a756d487167", "url": "https://api.github.com/repos/rust-lang/rust/commits/495a571f098b0756122efe0f9eec7a756d487167", "html_url": "https://github.com/rust-lang/rust/commit/495a571f098b0756122efe0f9eec7a756d487167"}, {"sha": "a332febb04b3a05c72530712bba9bb5b0aab75c8", "url": "https://api.github.com/repos/rust-lang/rust/commits/a332febb04b3a05c72530712bba9bb5b0aab75c8", "html_url": "https://github.com/rust-lang/rust/commit/a332febb04b3a05c72530712bba9bb5b0aab75c8"}], "stats": {"total": 38, "additions": 33, "deletions": 5}, "files": [{"sha": "959481540045df620b30d40cf60b2a3c6d9e6257", "filename": "tests/ui/decimal_literal_representation.fixed", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/20021bb4c798fe081e45aba5f6b32fa05a2423fa/tests%2Fui%2Fdecimal_literal_representation.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/20021bb4c798fe081e45aba5f6b32fa05a2423fa/tests%2Fui%2Fdecimal_literal_representation.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdecimal_literal_representation.fixed?ref=20021bb4c798fe081e45aba5f6b32fa05a2423fa", "patch": "@@ -0,0 +1,25 @@\n+// run-rustfix\n+\n+#[warn(clippy::decimal_literal_representation)]\n+#[allow(unused_variables)]\n+#[rustfmt::skip]\n+fn main() {\n+    let good = (       // Hex:\n+        127,           // 0x7F\n+        256,           // 0x100\n+        511,           // 0x1FF\n+        2048,          // 0x800\n+        4090,          // 0xFFA\n+        16_371,        // 0x3FF3\n+        61_683,        // 0xF0F3\n+        2_131_750_925, // 0x7F0F_F00D\n+    );\n+    let bad = (        // Hex:\n+        0x8005,        // 0x8005\n+        0xFF00,        // 0xFF00\n+        0x7F0F_F00F, // 0x7F0F_F00F\n+        0x7FFF_FFFF, // 0x7FFF_FFFF\n+        #[allow(overflowing_literals)]\n+        0xF0F0_F0F0, // 0xF0F0_F0F0\n+    );\n+}"}, {"sha": "3f73ebc6e516e9b5924ce3a7c937e54faf3a0de9", "filename": "tests/ui/decimal_literal_representation.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/20021bb4c798fe081e45aba5f6b32fa05a2423fa/tests%2Fui%2Fdecimal_literal_representation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/20021bb4c798fe081e45aba5f6b32fa05a2423fa/tests%2Fui%2Fdecimal_literal_representation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdecimal_literal_representation.rs?ref=20021bb4c798fe081e45aba5f6b32fa05a2423fa", "patch": "@@ -1,3 +1,5 @@\n+// run-rustfix\n+\n #[warn(clippy::decimal_literal_representation)]\n #[allow(unused_variables)]\n #[rustfmt::skip]\n@@ -17,6 +19,7 @@ fn main() {\n         65_280,        // 0xFF00\n         2_131_750_927, // 0x7F0F_F00F\n         2_147_483_647, // 0x7FFF_FFFF\n+        #[allow(overflowing_literals)]\n         4_042_322_160, // 0xF0F0_F0F0\n     );\n }"}, {"sha": "862b193cec276cafcb677a2ed767807ca1a04b9f", "filename": "tests/ui/decimal_literal_representation.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/20021bb4c798fe081e45aba5f6b32fa05a2423fa/tests%2Fui%2Fdecimal_literal_representation.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/20021bb4c798fe081e45aba5f6b32fa05a2423fa/tests%2Fui%2Fdecimal_literal_representation.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdecimal_literal_representation.stderr?ref=20021bb4c798fe081e45aba5f6b32fa05a2423fa", "patch": "@@ -1,31 +1,31 @@\n error: integer literal has a better hexadecimal representation\n-  --> $DIR/decimal_literal_representation.rs:16:9\n+  --> $DIR/decimal_literal_representation.rs:18:9\n    |\n LL |         32_773,        // 0x8005\n    |         ^^^^^^ help: consider: `0x8005`\n    |\n    = note: `-D clippy::decimal-literal-representation` implied by `-D warnings`\n \n error: integer literal has a better hexadecimal representation\n-  --> $DIR/decimal_literal_representation.rs:17:9\n+  --> $DIR/decimal_literal_representation.rs:19:9\n    |\n LL |         65_280,        // 0xFF00\n    |         ^^^^^^ help: consider: `0xFF00`\n \n error: integer literal has a better hexadecimal representation\n-  --> $DIR/decimal_literal_representation.rs:18:9\n+  --> $DIR/decimal_literal_representation.rs:20:9\n    |\n LL |         2_131_750_927, // 0x7F0F_F00F\n    |         ^^^^^^^^^^^^^ help: consider: `0x7F0F_F00F`\n \n error: integer literal has a better hexadecimal representation\n-  --> $DIR/decimal_literal_representation.rs:19:9\n+  --> $DIR/decimal_literal_representation.rs:21:9\n    |\n LL |         2_147_483_647, // 0x7FFF_FFFF\n    |         ^^^^^^^^^^^^^ help: consider: `0x7FFF_FFFF`\n \n error: integer literal has a better hexadecimal representation\n-  --> $DIR/decimal_literal_representation.rs:20:9\n+  --> $DIR/decimal_literal_representation.rs:23:9\n    |\n LL |         4_042_322_160, // 0xF0F0_F0F0\n    |         ^^^^^^^^^^^^^ help: consider: `0xF0F0_F0F0`"}]}