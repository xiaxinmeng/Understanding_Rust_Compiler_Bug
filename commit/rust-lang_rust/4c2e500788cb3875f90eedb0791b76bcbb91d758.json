{"sha": "4c2e500788cb3875f90eedb0791b76bcbb91d758", "node_id": "C_kwDOAAsO6NoAKDRjMmU1MDA3ODhjYjM4NzVmOTBlZWRiMDc5MWI3NmJjYmI5MWQ3NTg", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-09-18T06:03:22Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-09-18T06:03:22Z"}, "message": "Auto merge of #101816 - raldone01:cleanup/select_nth_unstable, r=Mark-Simulacrum\n\nCleanup slice sort related closures in core and alloc", "tree": {"sha": "76edaf4afe99e73e8298f4879d3e10e37a5a11eb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/76edaf4afe99e73e8298f4879d3e10e37a5a11eb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4c2e500788cb3875f90eedb0791b76bcbb91d758", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4c2e500788cb3875f90eedb0791b76bcbb91d758", "html_url": "https://github.com/rust-lang/rust/commit/4c2e500788cb3875f90eedb0791b76bcbb91d758", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4c2e500788cb3875f90eedb0791b76bcbb91d758/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "65c16dc3a83e34de0360c4667a0dac7f0e217e2b", "url": "https://api.github.com/repos/rust-lang/rust/commits/65c16dc3a83e34de0360c4667a0dac7f0e217e2b", "html_url": "https://github.com/rust-lang/rust/commit/65c16dc3a83e34de0360c4667a0dac7f0e217e2b"}, {"sha": "59fe291cec5b4ac80a9770dd3af63264f3a1b54b", "url": "https://api.github.com/repos/rust-lang/rust/commits/59fe291cec5b4ac80a9770dd3af63264f3a1b54b", "html_url": "https://github.com/rust-lang/rust/commit/59fe291cec5b4ac80a9770dd3af63264f3a1b54b"}], "stats": {"total": 13, "additions": 5, "deletions": 8}, "files": [{"sha": "8c9783fe19430f1c8911c29b14263826eb32a6a3", "filename": "library/alloc/src/slice.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4c2e500788cb3875f90eedb0791b76bcbb91d758/library%2Falloc%2Fsrc%2Fslice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4c2e500788cb3875f90eedb0791b76bcbb91d758/library%2Falloc%2Fsrc%2Fslice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fslice.rs?ref=4c2e500788cb3875f90eedb0791b76bcbb91d758", "patch": "@@ -205,7 +205,7 @@ impl<T> [T] {\n     where\n         T: Ord,\n     {\n-        merge_sort(self, |a, b| a.lt(b));\n+        merge_sort(self, T::lt);\n     }\n \n     /// Sorts the slice with a comparator function."}, {"sha": "ff601137ff6599661a4dfee6816aeff81df14800", "filename": "library/core/src/slice/mod.rs", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/4c2e500788cb3875f90eedb0791b76bcbb91d758/library%2Fcore%2Fsrc%2Fslice%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4c2e500788cb3875f90eedb0791b76bcbb91d758/library%2Fcore%2Fsrc%2Fslice%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fslice%2Fmod.rs?ref=4c2e500788cb3875f90eedb0791b76bcbb91d758", "patch": "@@ -2540,7 +2540,7 @@ impl<T> [T] {\n     where\n         T: Ord,\n     {\n-        sort::quicksort(self, |a, b| a.lt(b));\n+        sort::quicksort(self, T::lt);\n     }\n \n     /// Sorts the slice with a comparator function, but might not preserve the order of equal\n@@ -2679,8 +2679,7 @@ impl<T> [T] {\n     where\n         T: Ord,\n     {\n-        let mut f = |a: &T, b: &T| a.lt(b);\n-        sort::partition_at_index(self, index, &mut f)\n+        sort::partition_at_index(self, index, T::lt)\n     }\n \n     /// Reorder the slice with a comparator function such that the element at `index` is at its\n@@ -2731,8 +2730,7 @@ impl<T> [T] {\n     where\n         F: FnMut(&T, &T) -> Ordering,\n     {\n-        let mut f = |a: &T, b: &T| compare(a, b) == Less;\n-        sort::partition_at_index(self, index, &mut f)\n+        sort::partition_at_index(self, index, |a: &T, b: &T| compare(a, b) == Less)\n     }\n \n     /// Reorder the slice with a key extraction function such that the element at `index` is at its\n@@ -2784,8 +2782,7 @@ impl<T> [T] {\n         F: FnMut(&T) -> K,\n         K: Ord,\n     {\n-        let mut g = |a: &T, b: &T| f(a).lt(&f(b));\n-        sort::partition_at_index(self, index, &mut g)\n+        sort::partition_at_index(self, index, |a: &T, b: &T| f(a).lt(&f(b)))\n     }\n \n     /// Moves all consecutive repeated elements to the end of the slice according to the"}]}