{"sha": "49931fda56dc6268ba3c104b64768f551cfc4636", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ5OTMxZmRhNTZkYzYyNjhiYTNjMTA0YjY0NzY4ZjU1MWNmYzQ2MzY=", "commit": {"author": {"name": "Denys Zariaiev", "email": "denys.zariaiev@gmail.com", "date": "2019-01-29T20:00:07Z"}, "committer": {"name": "Denys Zariaiev", "email": "denys.zariaiev@gmail.com", "date": "2019-01-29T20:00:07Z"}, "message": "Use correct CI test image for WASM and NVPTX", "tree": {"sha": "ff345dbd112adb285525d8f5955605acb31a8cb7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ff345dbd112adb285525d8f5955605acb31a8cb7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/49931fda56dc6268ba3c104b64768f551cfc4636", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/49931fda56dc6268ba3c104b64768f551cfc4636", "html_url": "https://github.com/rust-lang/rust/commit/49931fda56dc6268ba3c104b64768f551cfc4636", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/49931fda56dc6268ba3c104b64768f551cfc4636/comments", "author": {"login": "denzp", "id": 747869, "node_id": "MDQ6VXNlcjc0Nzg2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/747869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denzp", "html_url": "https://github.com/denzp", "followers_url": "https://api.github.com/users/denzp/followers", "following_url": "https://api.github.com/users/denzp/following{/other_user}", "gists_url": "https://api.github.com/users/denzp/gists{/gist_id}", "starred_url": "https://api.github.com/users/denzp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denzp/subscriptions", "organizations_url": "https://api.github.com/users/denzp/orgs", "repos_url": "https://api.github.com/users/denzp/repos", "events_url": "https://api.github.com/users/denzp/events{/privacy}", "received_events_url": "https://api.github.com/users/denzp/received_events", "type": "User", "site_admin": false}, "committer": {"login": "denzp", "id": 747869, "node_id": "MDQ6VXNlcjc0Nzg2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/747869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/denzp", "html_url": "https://github.com/denzp", "followers_url": "https://api.github.com/users/denzp/followers", "following_url": "https://api.github.com/users/denzp/following{/other_user}", "gists_url": "https://api.github.com/users/denzp/gists{/gist_id}", "starred_url": "https://api.github.com/users/denzp/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/denzp/subscriptions", "organizations_url": "https://api.github.com/users/denzp/orgs", "repos_url": "https://api.github.com/users/denzp/repos", "events_url": "https://api.github.com/users/denzp/events{/privacy}", "received_events_url": "https://api.github.com/users/denzp/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3f624456e6e284f918d4e189e766e357911b49e2", "url": "https://api.github.com/repos/rust-lang/rust/commits/3f624456e6e284f918d4e189e766e357911b49e2", "html_url": "https://github.com/rust-lang/rust/commit/3f624456e6e284f918d4e189e766e357911b49e2"}], "stats": {"total": 22, "additions": 1, "deletions": 21}, "files": [{"sha": "7985b6c0e191f770815fc37d4ee7a7f4ce154020", "filename": ".travis.yml", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/49931fda56dc6268ba3c104b64768f551cfc4636/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/49931fda56dc6268ba3c104b64768f551cfc4636/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=49931fda56dc6268ba3c104b64768f551cfc4636", "patch": "@@ -168,7 +168,7 @@ matrix:\n       if: branch = auto\n     - env: IMAGE=i686-gnu-nopt\n       if: branch = auto\n-    - env: IMAGE=wasm32-unknown\n+    - env: IMAGE=test-various\n       if: branch = auto\n     - env: IMAGE=x86_64-gnu\n       if: branch = auto\n@@ -186,8 +186,6 @@ matrix:\n       if: branch = auto\n     - env: IMAGE=mingw-check\n       if: type = pull_request OR branch = auto\n-    - env: IMAGE=nvptx-cuda\n-      if: branch = auto\n \n     - stage: publish toolstate\n       if: branch = master AND type = push"}, {"sha": "c7c3ca6bc5417cb89a3816652011827e095dd8f7", "filename": "src/ci/docker/nvptx-cuda/Dockerfile", "status": "removed", "additions": 0, "deletions": 18, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/3f624456e6e284f918d4e189e766e357911b49e2/src%2Fci%2Fdocker%2Fnvptx-cuda%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/3f624456e6e284f918d4e189e766e357911b49e2/src%2Fci%2Fdocker%2Fnvptx-cuda%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fnvptx-cuda%2FDockerfile?ref=3f624456e6e284f918d4e189e766e357911b49e2", "patch": "@@ -1,18 +0,0 @@\n-FROM ubuntu:18.04\n-\n-RUN apt-get update\n-RUN apt-get install -y --no-install-recommends \\\n-    g++ make file curl ca-certificates python git \\\n-    cmake sudo gdb\n-\n-# FIXME: setup `ptx-linker` CI for automatic binary releases.\n-RUN curl -sL https://github.com/denzp/rust-ptx-linker/releases/download/v0.9.0-alpha.1/rust-ptx-linker.linux64.tar.gz | \\\n-    tar -xzvC /usr/bin\n-\n-COPY scripts/sccache.sh /scripts/\n-RUN sh /scripts/sccache.sh\n-\n-ENV TARGETS=nvptx64-nvidia-cuda\n-\n-ENV SCRIPT python2.7 /checkout/x.py test --target $TARGETS \\\n-    src/test/run-make"}]}