{"sha": "220a9db64215df07f730cd01322a0c8b658629cd", "node_id": "C_kwDOAAsO6NoAKDIyMGE5ZGI2NDIxNWRmMDdmNzMwY2QwMTMyMmEwYzhiNjU4NjI5Y2Q", "commit": {"author": {"name": "Icxolu", "email": "10486322+Icxolu@users.noreply.github.com", "date": "2023-05-01T18:12:34Z"}, "committer": {"name": "Icxolu", "email": "10486322+Icxolu@users.noreply.github.com", "date": "2023-05-01T18:12:34Z"}, "message": "fixed span and corrected test output", "tree": {"sha": "fe0aa475855f3cc34c250a88beff3d418dd740d2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe0aa475855f3cc34c250a88beff3d418dd740d2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/220a9db64215df07f730cd01322a0c8b658629cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/220a9db64215df07f730cd01322a0c8b658629cd", "html_url": "https://github.com/rust-lang/rust/commit/220a9db64215df07f730cd01322a0c8b658629cd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/220a9db64215df07f730cd01322a0c8b658629cd/comments", "author": {"login": "Icxolu", "id": 10486322, "node_id": "MDQ6VXNlcjEwNDg2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/10486322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Icxolu", "html_url": "https://github.com/Icxolu", "followers_url": "https://api.github.com/users/Icxolu/followers", "following_url": "https://api.github.com/users/Icxolu/following{/other_user}", "gists_url": "https://api.github.com/users/Icxolu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Icxolu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Icxolu/subscriptions", "organizations_url": "https://api.github.com/users/Icxolu/orgs", "repos_url": "https://api.github.com/users/Icxolu/repos", "events_url": "https://api.github.com/users/Icxolu/events{/privacy}", "received_events_url": "https://api.github.com/users/Icxolu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Icxolu", "id": 10486322, "node_id": "MDQ6VXNlcjEwNDg2MzIy", "avatar_url": "https://avatars.githubusercontent.com/u/10486322?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Icxolu", "html_url": "https://github.com/Icxolu", "followers_url": "https://api.github.com/users/Icxolu/followers", "following_url": "https://api.github.com/users/Icxolu/following{/other_user}", "gists_url": "https://api.github.com/users/Icxolu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Icxolu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Icxolu/subscriptions", "organizations_url": "https://api.github.com/users/Icxolu/orgs", "repos_url": "https://api.github.com/users/Icxolu/repos", "events_url": "https://api.github.com/users/Icxolu/events{/privacy}", "received_events_url": "https://api.github.com/users/Icxolu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "032bc11fd482cc99fd3f85f053855b3e3e6ad18a", "url": "https://api.github.com/repos/rust-lang/rust/commits/032bc11fd482cc99fd3f85f053855b3e3e6ad18a", "html_url": "https://github.com/rust-lang/rust/commit/032bc11fd482cc99fd3f85f053855b3e3e6ad18a"}], "stats": {"total": 26, "additions": 13, "deletions": 13}, "files": [{"sha": "d261cdd44a56eef8e011a6da3ee2404f5178d60b", "filename": "clippy_lints/src/default_constructed_unit_struct.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/220a9db64215df07f730cd01322a0c8b658629cd/clippy_lints%2Fsrc%2Fdefault_constructed_unit_struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/220a9db64215df07f730cd01322a0c8b658629cd/clippy_lints%2Fsrc%2Fdefault_constructed_unit_struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdefault_constructed_unit_struct.rs?ref=220a9db64215df07f730cd01322a0c8b658629cd", "patch": "@@ -54,7 +54,7 @@ impl LateLintPass<'_> for DefaultConstructedUnitStruct {\n                 span_lint_and_sugg(\n                     cx,\n                     DEFAULT_CONSTRUCTED_UNIT_STRUCT,\n-                    qpath.last_segment_span(),\n+                    expr.span.with_lo(qpath.qself_span().hi()),\n                     \"use of `default` to create a unit struct\",\n                     \"remove this call to `default`\",\n                     String::new(),"}, {"sha": "952d4019644912099c636e2c62968c4331ee68f4", "filename": "tests/ui/default_constructed_unit_struct.stderr", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/220a9db64215df07f730cd01322a0c8b658629cd/tests%2Fui%2Fdefault_constructed_unit_struct.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/220a9db64215df07f730cd01322a0c8b658629cd/tests%2Fui%2Fdefault_constructed_unit_struct.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdefault_constructed_unit_struct.stderr?ref=220a9db64215df07f730cd01322a0c8b658629cd", "patch": "@@ -1,28 +1,28 @@\n-error: Use of `default` to create a unit struct.\n-  --> $DIR/default_constructed_unit_struct.rs:39:33\n+error: use of `default` to create a unit struct\n+  --> $DIR/default_constructed_unit_struct.rs:39:31\n    |\n LL |             inner: PhantomData::default(),\n-   |                                 ^^^^^^^ help: remove this call to `default`\n+   |                               ^^^^^^^^^^^ help: remove this call to `default`\n    |\n    = note: `-D clippy::default-constructed-unit-struct` implied by `-D warnings`\n \n-error: Use of `default` to create a unit struct.\n-  --> $DIR/default_constructed_unit_struct.rs:62:35\n+error: use of `default` to create a unit struct\n+  --> $DIR/default_constructed_unit_struct.rs:62:33\n    |\n LL |     let _ = PhantomData::<usize>::default();\n-   |                                   ^^^^^^^ help: remove this call to `default`\n+   |                                 ^^^^^^^^^^^ help: remove this call to `default`\n \n-error: Use of `default` to create a unit struct.\n-  --> $DIR/default_constructed_unit_struct.rs:63:44\n+error: use of `default` to create a unit struct\n+  --> $DIR/default_constructed_unit_struct.rs:63:42\n    |\n LL |     let _: PhantomData<i32> = PhantomData::default();\n-   |                                            ^^^^^^^ help: remove this call to `default`\n+   |                                          ^^^^^^^^^^^ help: remove this call to `default`\n \n-error: Use of `default` to create a unit struct.\n-  --> $DIR/default_constructed_unit_struct.rs:64:25\n+error: use of `default` to create a unit struct\n+  --> $DIR/default_constructed_unit_struct.rs:64:23\n    |\n LL |     let _ = UnitStruct::default();\n-   |                         ^^^^^^^ help: remove this call to `default`\n+   |                       ^^^^^^^^^^^ help: remove this call to `default`\n \n error: aborting due to 4 previous errors\n "}]}