{"sha": "bb06b13131d71eabfd7c4cecac9c10032715e9bd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJiMDZiMTMxMzFkNzFlYWJmZDdjNGNlY2FjOWMxMDAzMjcxNWU5YmQ=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2021-02-10T03:24:18Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-02-10T03:24:18Z"}, "message": "Rollup merge of #79849 - Digital-Chaos:sleep-zero, r=m-ou-se\n\nClarify docs regarding sleep of zero duration\n\nClarify that the behaviour of sleep() when given a duration of zero is actually platform specific.", "tree": {"sha": "81f0279bf07e6e060f2a0dd0de020bfe30adfbec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/81f0279bf07e6e060f2a0dd0de020bfe30adfbec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bb06b13131d71eabfd7c4cecac9c10032715e9bd", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgI1HiCRBK7hj4Ov3rIwAAdHIIAKv39gPzIhdciJZNB216JnSS\nV/qEuw+Fj76oekEfjL86vyOATsPrC1fh1wubck4YM/iUpBEKguqSV4jg5z2sqaun\ngto05elU+4Neqe7GHVZxOo3J0cVlpX8etgaae/S2g29jNgV4AsNrWuVSqYAZ+ohZ\nV+RnUVlFJRM5KsxF5fjcM6gn1AEZVoAm7htKhRJN3qpqlUR+KyLQRroQviOWlQmo\nOhl1bFt4p1At9hbZVloHuNcs0BBZ+KBw3yN0PBf0NnMBZ57jKRTmU0Xo84tEEn/z\nADtDdLzr80o1+Vjnd9/yoOu4ttvhWJXctwhuNuUVcTwkJDmmkHuv7fxjSdz5C44=\n=s29J\n-----END PGP SIGNATURE-----\n", "payload": "tree 81f0279bf07e6e060f2a0dd0de020bfe30adfbec\nparent ca98712ff92c56506442cd5a500547f2f0cba0c3\nparent bb2a27ba4f5880d9842d4f2af2bf02a7253f303a\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1612927458 +0900\ncommitter GitHub <noreply@github.com> 1612927458 +0900\n\nRollup merge of #79849 - Digital-Chaos:sleep-zero, r=m-ou-se\n\nClarify docs regarding sleep of zero duration\n\nClarify that the behaviour of sleep() when given a duration of zero is actually platform specific.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bb06b13131d71eabfd7c4cecac9c10032715e9bd", "html_url": "https://github.com/rust-lang/rust/commit/bb06b13131d71eabfd7c4cecac9c10032715e9bd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bb06b13131d71eabfd7c4cecac9c10032715e9bd/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ca98712ff92c56506442cd5a500547f2f0cba0c3", "url": "https://api.github.com/repos/rust-lang/rust/commits/ca98712ff92c56506442cd5a500547f2f0cba0c3", "html_url": "https://github.com/rust-lang/rust/commit/ca98712ff92c56506442cd5a500547f2f0cba0c3"}, {"sha": "bb2a27ba4f5880d9842d4f2af2bf02a7253f303a", "url": "https://api.github.com/repos/rust-lang/rust/commits/bb2a27ba4f5880d9842d4f2af2bf02a7253f303a", "html_url": "https://github.com/rust-lang/rust/commit/bb2a27ba4f5880d9842d4f2af2bf02a7253f303a"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "0ef848ff0c4c1a3269f7bac5bcf10ebd707d20ff", "filename": "library/std/src/thread/mod.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/bb06b13131d71eabfd7c4cecac9c10032715e9bd/library%2Fstd%2Fsrc%2Fthread%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bb06b13131d71eabfd7c4cecac9c10032715e9bd/library%2Fstd%2Fsrc%2Fthread%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fthread%2Fmod.rs?ref=bb06b13131d71eabfd7c4cecac9c10032715e9bd", "patch": "@@ -775,6 +775,15 @@ pub fn sleep_ms(ms: u32) {\n /// Platforms which do not support nanosecond precision for sleeping will\n /// have `dur` rounded up to the nearest granularity of time they can sleep for.\n ///\n+/// Currently, specifying a zero duration on Unix platforms returns immediately\n+/// without invoking the underlying [`nanosleep`] syscall, whereas on Windows\n+/// platforms the underlying [`Sleep`] syscall is always invoked.\n+/// If the intention is to yield the current time-slice you may want to use\n+/// [`yield_now`] instead.\n+///\n+/// [`nanosleep`]: https://linux.die.net/man/2/nanosleep\n+/// [`Sleep`]: https://docs.microsoft.com/en-us/windows/win32/api/synchapi/nf-synchapi-sleep\n+///\n /// # Examples\n ///\n /// ```no_run"}]}