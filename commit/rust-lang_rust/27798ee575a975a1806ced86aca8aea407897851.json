{"sha": "27798ee575a975a1806ced86aca8aea407897851", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI3Nzk4ZWU1NzVhOTc1YTE4MDZjZWQ4NmFjYThhZWE0MDc4OTc4NTE=", "commit": {"author": {"name": "Tim", "email": "tim@glacyr.com", "date": "2020-10-06T20:11:18Z"}, "committer": {"name": "Tim", "email": "tim@glacyr.com", "date": "2020-10-06T20:28:13Z"}, "message": "Added unit test for negative number literals in macros.", "tree": {"sha": "ba8f5239277b6e87576775d03ca6ce9fb0df181c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ba8f5239277b6e87576775d03ca6ce9fb0df181c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/27798ee575a975a1806ced86aca8aea407897851", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEw4lU9EedwW3wHp5Oa2yysYYPHLoFAl98010ACgkQa2yysYYP\nHLqhFhAAiRsD9TIXvK2aRDDAv/rLTpmKAXurlJPZRnPFyI1CAFJSCExv+ioyvsNi\nO8Kca+AhP/nONlEkX0Mc5aw59dqrOHjULTvO10yHQ5F7SKqHf/KvsEPnkUoVRSBP\nxttclNp7ms+ur101pVco8i1a4Odi+30MzjsdO4XOO+l1O9ws2VPLnzthnlTTMEMO\n2q87EteszkxKnYjMZ7FjV81MdyD89tPzE5Effjdg7+x5SStyTVEBSloGZSq0EG6x\nVzpB32zdHB/SpJm9hiHHPshIpP8Q/6Rawrf1JiFUa9sD+Ic2SlYadnBf9jPDjx0S\nO57KLNYDQTdmIlEw7JYWfKvBdcsPs4YSHRpCwOCdIIKJ/V0q5BlqamXPEQV11G3D\nWW7RgOsiEdtyo5K2DofTQQOD1HIAHfUWe5RjhTll05tpFlY1+eJm041qE/zfoz9W\ny4ZUvovv+O4ZN0RyLue+ffBcCKqvQC5je1IlOXTZC3M8rj6AmzmUTlVevemewAKz\nhWl45tvoXZAq6/DHriQ0xUlI9NgHNN9Dx+A2KF3n1NlddIPhG7QRL+BV5HVtpJ/A\njDYnFCKUCz5v1z1F3zSVElaNzjjhTWDHZYtSWwLvDNMSiCtPFRhxtXO7tBTZk5mF\nMSeTR5aCVtPh3PS5hg0v/sfuIpFuT7Xhe2hv0zlQ0zizvOkO0so=\n=aM/5\n-----END PGP SIGNATURE-----", "payload": "tree ba8f5239277b6e87576775d03ca6ce9fb0df181c\nparent 8cf93629840aa0130abae003d1436040f1852144\nauthor Tim <tim@glacyr.com> 1602015078 +0200\ncommitter Tim <tim@glacyr.com> 1602016093 +0200\n\nAdded unit test for negative number literals in macros.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/27798ee575a975a1806ced86aca8aea407897851", "html_url": "https://github.com/rust-lang/rust/commit/27798ee575a975a1806ced86aca8aea407897851", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/27798ee575a975a1806ced86aca8aea407897851/comments", "author": {"login": "cutsoy", "id": 70574780, "node_id": "MDQ6VXNlcjcwNTc0Nzgw", "avatar_url": "https://avatars.githubusercontent.com/u/70574780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cutsoy", "html_url": "https://github.com/cutsoy", "followers_url": "https://api.github.com/users/cutsoy/followers", "following_url": "https://api.github.com/users/cutsoy/following{/other_user}", "gists_url": "https://api.github.com/users/cutsoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/cutsoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cutsoy/subscriptions", "organizations_url": "https://api.github.com/users/cutsoy/orgs", "repos_url": "https://api.github.com/users/cutsoy/repos", "events_url": "https://api.github.com/users/cutsoy/events{/privacy}", "received_events_url": "https://api.github.com/users/cutsoy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cutsoy", "id": 70574780, "node_id": "MDQ6VXNlcjcwNTc0Nzgw", "avatar_url": "https://avatars.githubusercontent.com/u/70574780?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cutsoy", "html_url": "https://github.com/cutsoy", "followers_url": "https://api.github.com/users/cutsoy/followers", "following_url": "https://api.github.com/users/cutsoy/following{/other_user}", "gists_url": "https://api.github.com/users/cutsoy/gists{/gist_id}", "starred_url": "https://api.github.com/users/cutsoy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cutsoy/subscriptions", "organizations_url": "https://api.github.com/users/cutsoy/orgs", "repos_url": "https://api.github.com/users/cutsoy/repos", "events_url": "https://api.github.com/users/cutsoy/events{/privacy}", "received_events_url": "https://api.github.com/users/cutsoy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8cf93629840aa0130abae003d1436040f1852144", "url": "https://api.github.com/repos/rust-lang/rust/commits/8cf93629840aa0130abae003d1436040f1852144", "html_url": "https://github.com/rust-lang/rust/commit/8cf93629840aa0130abae003d1436040f1852144"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "226dc3bec820c9d3bc92ec0b46658411b54b0995", "filename": "crates/mbe/src/subtree_source.rs", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/27798ee575a975a1806ced86aca8aea407897851/crates%2Fmbe%2Fsrc%2Fsubtree_source.rs", "raw_url": "https://github.com/rust-lang/rust/raw/27798ee575a975a1806ced86aca8aea407897851/crates%2Fmbe%2Fsrc%2Fsubtree_source.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fmbe%2Fsrc%2Fsubtree_source.rs?ref=27798ee575a975a1806ced86aca8aea407897851", "patch": "@@ -202,3 +202,24 @@ fn convert_leaf(leaf: &tt::Leaf) -> TtToken {\n         tt::Leaf::Punct(punct) => convert_punct(*punct),\n     }\n }\n+\n+#[cfg(test)]\n+mod tests {\n+    use super::{convert_literal, TtToken};\n+    use syntax::{SmolStr, SyntaxKind};\n+\n+    #[test]\n+    fn test_negative_literal() {\n+        assert_eq!(\n+            convert_literal(&tt::Literal {\n+                id: tt::TokenId::unspecified(),\n+                text: SmolStr::new(\"-42.0\")\n+            }),\n+            TtToken {\n+                kind: SyntaxKind::FLOAT_NUMBER,\n+                is_joint_to_next: false,\n+                text: SmolStr::new(\"-42.0\")\n+            }\n+        );\n+    }\n+}"}]}