{"sha": "4f71270d7b6910ddd123432da5ace0c167006c27", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRmNzEyNzBkN2I2OTEwZGRkMTIzNDMyZGE1YWNlMGMxNjcwMDZjMjc=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-02-22T13:13:07Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-02-22T13:13:07Z"}, "message": "Rollup merge of #69354 - MichaelMcDonnell:duration_overflow_test, r=Centril\n\nTest `Duration::new` panics on overflow\n\nA `Duration` is created from a second and nanoseconds variable. The\ndocumentation says: \"This constructor will panic if the carry from the\nnanoseconds overflows the seconds counter\". This was, however, not tested\nin the tests. I doubt the behavior will ever regress, but it is usually a\ngood idea to test all documented behavior.", "tree": {"sha": "a06f4d710ab707d02dda46c37eb70ba81f3bccc5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a06f4d710ab707d02dda46c37eb70ba81f3bccc5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4f71270d7b6910ddd123432da5ace0c167006c27", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeUSjjCRBK7hj4Ov3rIwAAdHIIAH1QZYZ1PLJwi1FDQfMl8ymH\nhWfvPEsUc5svxgn5QG8/dHuHTlhc14nrO5DBjh/vvcTX9Hnmc86HOiM/Mjf7hOjF\nW7K8ziWvkaRYdLYpD9vnHBBAg7hnDpfuvD5PHGVmpm+Mx96Plg9pTsGIw6MM2ix2\nmCEhk7jJmdc5TDqDBamHo/ORyiKYleiIr9NBD4IEx4e2fFPfsWKIiqsnHvdGBazY\nDfd65HQUxv+XpClCWq7EDJiPGMVTPQ0uog1eOlxGdcjRSG0sV/Rw3pTKs9rjd3+m\n8+K29b0es+FfMBlkiAzHuY4as6/mMeDQ6IQNocRUvBxNY3vH/YGFMS8OgU5U0Ds=\n=CMrh\n-----END PGP SIGNATURE-----\n", "payload": "tree a06f4d710ab707d02dda46c37eb70ba81f3bccc5\nparent 541b407c140bd8848fdeeba3448bc94ed72fd6a7\nparent e1c8c8cf63b48c798c1954749e58e99c6cc50093\nauthor Dylan DPC <dylan.dpc@gmail.com> 1582377187 +0530\ncommitter GitHub <noreply@github.com> 1582377187 +0530\n\nRollup merge of #69354 - MichaelMcDonnell:duration_overflow_test, r=Centril\n\nTest `Duration::new` panics on overflow\n\nA `Duration` is created from a second and nanoseconds variable. The\ndocumentation says: \"This constructor will panic if the carry from the\nnanoseconds overflows the seconds counter\". This was, however, not tested\nin the tests. I doubt the behavior will ever regress, but it is usually a\ngood idea to test all documented behavior.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4f71270d7b6910ddd123432da5ace0c167006c27", "html_url": "https://github.com/rust-lang/rust/commit/4f71270d7b6910ddd123432da5ace0c167006c27", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4f71270d7b6910ddd123432da5ace0c167006c27/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "541b407c140bd8848fdeeba3448bc94ed72fd6a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/541b407c140bd8848fdeeba3448bc94ed72fd6a7", "html_url": "https://github.com/rust-lang/rust/commit/541b407c140bd8848fdeeba3448bc94ed72fd6a7"}, {"sha": "e1c8c8cf63b48c798c1954749e58e99c6cc50093", "url": "https://api.github.com/repos/rust-lang/rust/commits/e1c8c8cf63b48c798c1954749e58e99c6cc50093", "html_url": "https://github.com/rust-lang/rust/commit/e1c8c8cf63b48c798c1954749e58e99c6cc50093"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "c1fbdf7df76fc1f3784b652ada5c29f9ae011194", "filename": "src/libcore/tests/time.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/4f71270d7b6910ddd123432da5ace0c167006c27/src%2Flibcore%2Ftests%2Ftime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4f71270d7b6910ddd123432da5ace0c167006c27/src%2Flibcore%2Ftests%2Ftime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ftests%2Ftime.rs?ref=4f71270d7b6910ddd123432da5ace0c167006c27", "patch": "@@ -11,6 +11,12 @@ fn creation() {\n     assert_eq!(Duration::from_millis(4000), Duration::new(4, 0));\n }\n \n+#[test]\n+#[should_panic]\n+fn new_overflow() {\n+    let _ = Duration::new(::core::u64::MAX, 1_000_000_000);\n+}\n+\n #[test]\n fn secs() {\n     assert_eq!(Duration::new(0, 0).as_secs(), 0);"}]}