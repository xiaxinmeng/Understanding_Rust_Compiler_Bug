{"sha": "e1be8b0318b6f5647ff385dce75e9eb8e958c116", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUxYmU4YjAzMThiNmY1NjQ3ZmYzODVkY2U3NWU5ZWI4ZTk1OGMxMTY=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-03-11T01:03:59Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-03-23T20:05:30Z"}, "message": "Swap primary/secondary spans for E0458", "tree": {"sha": "29dcc330681f36b85739bf4f7c8922f892982fd8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/29dcc330681f36b85739bf4f7c8922f892982fd8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e1be8b0318b6f5647ff385dce75e9eb8e958c116", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e1be8b0318b6f5647ff385dce75e9eb8e958c116", "html_url": "https://github.com/rust-lang/rust/commit/e1be8b0318b6f5647ff385dce75e9eb8e958c116", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e1be8b0318b6f5647ff385dce75e9eb8e958c116/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8e043950c8d8f8fa6df777a896286e0768f73b4a", "url": "https://api.github.com/repos/rust-lang/rust/commits/8e043950c8d8f8fa6df777a896286e0768f73b4a", "html_url": "https://github.com/rust-lang/rust/commit/8e043950c8d8f8fa6df777a896286e0768f73b4a"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "cb1af932ce067a2b03e2fb7112357ddff401c85b", "filename": "src/librustc_metadata/native_libs.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/e1be8b0318b6f5647ff385dce75e9eb8e958c116/src%2Flibrustc_metadata%2Fnative_libs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e1be8b0318b6f5647ff385dce75e9eb8e958c116/src%2Flibrustc_metadata%2Fnative_libs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Fnative_libs.rs?ref=e1be8b0318b6f5647ff385dce75e9eb8e958c116", "patch": "@@ -74,9 +74,10 @@ impl<'a, 'tcx> ItemLikeVisitor<'tcx> for Collector<'a, 'tcx> {\n                         \"dylib\" => cstore::NativeUnknown,\n                         \"framework\" => cstore::NativeFramework,\n                         k => {\n-                            struct_span_err!(self.tcx.sess, m.span, E0458,\n+                            struct_span_err!(self.tcx.sess, item.span, E0458,\n                                       \"unknown kind: `{}`\", k)\n-                                .span_label(item.span(), \"unknown kind\").emit();\n+                                .span_label(item.span(), \"unknown kind\")\n+                                .span_label(m.span, \"\").emit();\n                             cstore::NativeUnknown\n                         }\n                     };"}, {"sha": "a77f5f9f4383fb2f94b9b0d3caee0a9591d01a2a", "filename": "src/test/ui/bad/bad-extern-link-attrs.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e1be8b0318b6f5647ff385dce75e9eb8e958c116/src%2Ftest%2Fui%2Fbad%2Fbad-extern-link-attrs.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1be8b0318b6f5647ff385dce75e9eb8e958c116/src%2Ftest%2Fui%2Fbad%2Fbad-extern-link-attrs.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fbad%2Fbad-extern-link-attrs.stderr?ref=e1be8b0318b6f5647ff385dce75e9eb8e958c116", "patch": "@@ -11,10 +11,10 @@ LL | #[link(name = \"\")]\n    | ^^^^^^^^^^^^^^^^^^ empty name given\n \n error[E0458]: unknown kind: `bar`\n-  --> $DIR/bad-extern-link-attrs.rs:4:1\n+  --> $DIR/bad-extern-link-attrs.rs:4:22\n    |\n LL | #[link(name = \"foo\", kind = \"bar\")]\n-   | ^^^^^^^^^^^^^^^^^^^^^------------^^\n+   | ---------------------^^^^^^^^^^^^--\n    |                      |\n    |                      unknown kind\n "}, {"sha": "154e0b121797d4e9ef07ba8aa4ab3098223e8180", "filename": "src/test/ui/error-codes/E0458.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e1be8b0318b6f5647ff385dce75e9eb8e958c116/src%2Ftest%2Fui%2Ferror-codes%2FE0458.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e1be8b0318b6f5647ff385dce75e9eb8e958c116/src%2Ftest%2Fui%2Ferror-codes%2FE0458.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0458.stderr?ref=e1be8b0318b6f5647ff385dce75e9eb8e958c116", "patch": "@@ -1,8 +1,8 @@\n error[E0458]: unknown kind: `wonderful_unicorn`\n-  --> $DIR/E0458.rs:1:1\n+  --> $DIR/E0458.rs:1:8\n    |\n LL | #[link(kind = \"wonderful_unicorn\")] extern {}\n-   | ^^^^^^^--------------------------^^\n+   | -------^^^^^^^^^^^^^^^^^^^^^^^^^^--\n    |        |\n    |        unknown kind\n "}]}