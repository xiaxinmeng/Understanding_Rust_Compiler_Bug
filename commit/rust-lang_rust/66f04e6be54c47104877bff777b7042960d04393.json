{"sha": "66f04e6be54c47104877bff777b7042960d04393", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY2ZjA0ZTZiZTU0YzQ3MTA0ODc3YmZmNzc3YjcwNDI5NjBkMDQzOTM=", "commit": {"author": {"name": "Frizi", "email": "frizi09@gmail.com", "date": "2019-11-24T16:36:30Z"}, "committer": {"name": "Frizi", "email": "frizi09@gmail.com", "date": "2019-11-24T16:45:30Z"}, "message": "Show missing struct fields in the error message", "tree": {"sha": "b616cf0f4c10015f1bd8394daa96cec9a67a04e9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b616cf0f4c10015f1bd8394daa96cec9a67a04e9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/66f04e6be54c47104877bff777b7042960d04393", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/66f04e6be54c47104877bff777b7042960d04393", "html_url": "https://github.com/rust-lang/rust/commit/66f04e6be54c47104877bff777b7042960d04393", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/66f04e6be54c47104877bff777b7042960d04393/comments", "author": {"login": "Frizi", "id": 919491, "node_id": "MDQ6VXNlcjkxOTQ5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/919491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Frizi", "html_url": "https://github.com/Frizi", "followers_url": "https://api.github.com/users/Frizi/followers", "following_url": "https://api.github.com/users/Frizi/following{/other_user}", "gists_url": "https://api.github.com/users/Frizi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Frizi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Frizi/subscriptions", "organizations_url": "https://api.github.com/users/Frizi/orgs", "repos_url": "https://api.github.com/users/Frizi/repos", "events_url": "https://api.github.com/users/Frizi/events{/privacy}", "received_events_url": "https://api.github.com/users/Frizi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Frizi", "id": 919491, "node_id": "MDQ6VXNlcjkxOTQ5MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/919491?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Frizi", "html_url": "https://github.com/Frizi", "followers_url": "https://api.github.com/users/Frizi/followers", "following_url": "https://api.github.com/users/Frizi/following{/other_user}", "gists_url": "https://api.github.com/users/Frizi/gists{/gist_id}", "starred_url": "https://api.github.com/users/Frizi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Frizi/subscriptions", "organizations_url": "https://api.github.com/users/Frizi/orgs", "repos_url": "https://api.github.com/users/Frizi/repos", "events_url": "https://api.github.com/users/Frizi/events{/privacy}", "received_events_url": "https://api.github.com/users/Frizi/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ac9ba5eb32073c16608acaa04324e7dc46d303d6", "url": "https://api.github.com/repos/rust-lang/rust/commits/ac9ba5eb32073c16608acaa04324e7dc46d303d6", "html_url": "https://github.com/rust-lang/rust/commit/ac9ba5eb32073c16608acaa04324e7dc46d303d6"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "6db499e06003d889148b166bc03ee8b0d9d4bb42", "filename": "crates/ra_hir/src/diagnostics.rs", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/66f04e6be54c47104877bff777b7042960d04393/crates%2Fra_hir%2Fsrc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66f04e6be54c47104877bff777b7042960d04393/crates%2Fra_hir%2Fsrc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fdiagnostics.rs?ref=66f04e6be54c47104877bff777b7042960d04393", "patch": "@@ -39,7 +39,12 @@ pub struct MissingFields {\n \n impl Diagnostic for MissingFields {\n     fn message(&self) -> String {\n-        \"fill structure fields\".to_string()\n+        use std::fmt::Write;\n+        let mut message = String::from(\"Missing structure fields:\\n\");\n+        for field in &self.missed_fields {\n+            write!(message, \"- {}\\n\", field).unwrap();\n+        }\n+        message\n     }\n     fn source(&self) -> Source<SyntaxNodePtr> {\n         Source { file_id: self.file, value: self.field_list.into() }"}, {"sha": "98eb863cb906cb9562896ce4f2e1425453bfb863", "filename": "crates/ra_hir/src/ty/tests.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/66f04e6be54c47104877bff777b7042960d04393/crates%2Fra_hir%2Fsrc%2Fty%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/66f04e6be54c47104877bff777b7042960d04393/crates%2Fra_hir%2Fsrc%2Fty%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty%2Ftests.rs?ref=66f04e6be54c47104877bff777b7042960d04393", "patch": "@@ -4832,7 +4832,8 @@ fn no_such_field_diagnostics() {\n \n     assert_snapshot!(diagnostics, @r###\"\n     \"baz: 62\": no such field\n-    \"{\\n            foo: 92,\\n            baz: 62,\\n        }\": fill structure fields\n+    \"{\\n            foo: 92,\\n            baz: 62,\\n        }\": Missing structure fields:\n+    - bar\n     \"###\n     );\n }"}]}