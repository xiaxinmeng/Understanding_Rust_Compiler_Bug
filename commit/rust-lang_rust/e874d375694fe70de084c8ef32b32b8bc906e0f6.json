{"sha": "e874d375694fe70de084c8ef32b32b8bc906e0f6", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU4NzRkMzc1Njk0ZmU3MGRlMDg0YzhlZjMyYjMyYjhiYzkwNmUwZjY=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-09-15T20:37:35Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2012-09-15T20:37:35Z"}, "message": "add some debug!'s to help diagnose failure of issue-1763.rs", "tree": {"sha": "125b5561bd4a6013e5874a9508e3327c9a68fce1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/125b5561bd4a6013e5874a9508e3327c9a68fce1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e874d375694fe70de084c8ef32b32b8bc906e0f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e874d375694fe70de084c8ef32b32b8bc906e0f6", "html_url": "https://github.com/rust-lang/rust/commit/e874d375694fe70de084c8ef32b32b8bc906e0f6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e874d375694fe70de084c8ef32b32b8bc906e0f6/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4cad58c4645c7e2247e0655d4c1d7d70ae75339b", "url": "https://api.github.com/repos/rust-lang/rust/commits/4cad58c4645c7e2247e0655d4c1d7d70ae75339b", "html_url": "https://github.com/rust-lang/rust/commit/4cad58c4645c7e2247e0655d4c1d7d70ae75339b"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "206bbc0c68ef8230de10866e78e4a31143f2cf28", "filename": "src/rustc/middle/typeck/check.rs", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/e874d375694fe70de084c8ef32b32b8bc906e0f6/src%2Frustc%2Fmiddle%2Ftypeck%2Fcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e874d375694fe70de084c8ef32b32b8bc906e0f6/src%2Frustc%2Fmiddle%2Ftypeck%2Fcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftypeck%2Fcheck.rs?ref=e874d375694fe70de084c8ef32b32b8bc906e0f6", "patch": "@@ -488,6 +488,11 @@ fn check_struct(ccx: @crate_ctxt, struct_def: @ast::struct_def,\n }\n \n fn check_item(ccx: @crate_ctxt, it: @ast::item) {\n+    debug!(\"check_item(it.id=%d, it.ident=%s)\",\n+           it.id,\n+           ty::item_path_str(ccx.tcx, local_def(it.id)));\n+    let _indenter = indenter();\n+\n     match it.node {\n       ast::item_const(_, e) => check_const(ccx, it.span, e, it.id),\n       ast::item_enum(enum_definition, _) => {\n@@ -2525,6 +2530,9 @@ fn check_bounds_are_used(ccx: @crate_ctxt,\n                          span: span,\n                          tps: ~[ast::ty_param],\n                          ty: ty::t) {\n+    debug!(\"check_bounds_are_used(n_tps=%u, ty=%s)\",\n+           tps.len(), ty_to_str(ccx.tcx, ty));\n+\n     // make a vector of booleans initially false, set to true when used\n     if tps.len() == 0u { return; }\n     let tps_used = vec::to_mut(vec::from_elem(tps.len(), false));\n@@ -2534,7 +2542,10 @@ fn check_bounds_are_used(ccx: @crate_ctxt,\n         |_r| {},\n         |t| {\n             match ty::get(t).sty {\n-              ty::ty_param({idx, _}) => { tps_used[idx] = true; }\n+              ty::ty_param({idx, _}) => {\n+                  debug!(\"Found use of ty param #%u\", idx);\n+                  tps_used[idx] = true;\n+              }\n               _ => ()\n             }\n             true"}]}