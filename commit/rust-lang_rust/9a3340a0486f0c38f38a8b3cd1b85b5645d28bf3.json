{"sha": "9a3340a0486f0c38f38a8b3cd1b85b5645d28bf3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlhMzM0MGEwNDg2ZjBjMzhmMzhhOGIzY2QxYjg1YjU2NDVkMjhiZjM=", "commit": {"author": {"name": "Robin Kruppe", "email": "robin.kruppe@gmail.com", "date": "2016-12-06T16:23:04Z"}, "committer": {"name": "Robin Kruppe", "email": "robin.kruppe@gmail.com", "date": "2016-12-06T16:23:04Z"}, "message": "[LLVM 4.0] test/run-make/llvm-pass/", "tree": {"sha": "61c932fcfb292c0fd6df17b0ffe5a8aa44f7449d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/61c932fcfb292c0fd6df17b0ffe5a8aa44f7449d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9a3340a0486f0c38f38a8b3cd1b85b5645d28bf3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9a3340a0486f0c38f38a8b3cd1b85b5645d28bf3", "html_url": "https://github.com/rust-lang/rust/commit/9a3340a0486f0c38f38a8b3cd1b85b5645d28bf3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9a3340a0486f0c38f38a8b3cd1b85b5645d28bf3/comments", "author": null, "committer": null, "parents": [{"sha": "692d7cfb0ce5ba43311ae553a3debcf09755b6b9", "url": "https://api.github.com/repos/rust-lang/rust/commits/692d7cfb0ce5ba43311ae553a3debcf09755b6b9", "html_url": "https://github.com/rust-lang/rust/commit/692d7cfb0ce5ba43311ae553a3debcf09755b6b9"}], "stats": {"total": 14, "additions": 12, "deletions": 2}, "files": [{"sha": "880c9bce5628f4a3b4d377bcb42a101ff23198c5", "filename": "src/test/run-make/llvm-pass/llvm-function-pass.so.cc", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9a3340a0486f0c38f38a8b3cd1b85b5645d28bf3/src%2Ftest%2Frun-make%2Fllvm-pass%2Fllvm-function-pass.so.cc", "raw_url": "https://github.com/rust-lang/rust/raw/9a3340a0486f0c38f38a8b3cd1b85b5645d28bf3/src%2Ftest%2Frun-make%2Fllvm-pass%2Fllvm-function-pass.so.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fllvm-pass%2Fllvm-function-pass.so.cc?ref=9a3340a0486f0c38f38a8b3cd1b85b5645d28bf3", "patch": "@@ -28,7 +28,12 @@ namespace {\n \n     bool runOnFunction(Function &F) override;\n \n-    const char *getPassName() const override {\n+#if LLVM_VERSION_MAJOR >= 4\n+    StringRef\n+#else\n+    const char *\n+#endif\n+    getPassName() const override {\n       return \"Some LLVM pass\";\n     }\n "}, {"sha": "280eca7e8f0155fe2c26f3960f6cf195c87a1eb9", "filename": "src/test/run-make/llvm-pass/llvm-module-pass.so.cc", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9a3340a0486f0c38f38a8b3cd1b85b5645d28bf3/src%2Ftest%2Frun-make%2Fllvm-pass%2Fllvm-module-pass.so.cc", "raw_url": "https://github.com/rust-lang/rust/raw/9a3340a0486f0c38f38a8b3cd1b85b5645d28bf3/src%2Ftest%2Frun-make%2Fllvm-pass%2Fllvm-module-pass.so.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fllvm-pass%2Fllvm-module-pass.so.cc?ref=9a3340a0486f0c38f38a8b3cd1b85b5645d28bf3", "patch": "@@ -27,7 +27,12 @@ namespace {\n \n     bool runOnModule(Module &M) override;\n \n-    const char *getPassName() const override {\n+#if LLVM_VERSION_MAJOR >= 4\n+    StringRef\n+#else\n+    const char *\n+#endif\n+    getPassName() const override {\n       return \"Some LLVM pass\";\n     }\n "}]}