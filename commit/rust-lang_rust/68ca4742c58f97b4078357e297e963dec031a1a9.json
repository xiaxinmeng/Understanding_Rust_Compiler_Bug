{"sha": "68ca4742c58f97b4078357e297e963dec031a1a9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY4Y2E0NzQyYzU4Zjk3YjQwNzgzNTdlMjk3ZTk2M2RlYzAzMWExYTk=", "commit": {"author": {"name": "Cassandra Fridkin", "email": "cass@swag.lgbt", "date": "2020-10-05T23:35:06Z"}, "committer": {"name": "Cassandra Fridkin", "email": "cass@swag.lgbt", "date": "2020-10-05T23:35:06Z"}, "message": "Clean up pre-commit.sh", "tree": {"sha": "52dee938c228746cda8549dd097c6f790699d53e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/52dee938c228746cda8549dd097c6f790699d53e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/68ca4742c58f97b4078357e297e963dec031a1a9", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEdn8arGOPUN7UUjx9sGOAzKYTMzoFAl97rbEACgkQsGOAzKYT\nMzqPehAAg5TTsvFhOC4EX2S5b2Psn0KfrppKa6JPpY8FA/RB7rKclfKLCkkqenP3\nfHynZHBciRAFmSob1TI/bER6AO+vigNI9MOSwDva2244oQN2L1Pg0Fm0rChHHOnC\nCfD0+iUCOvsPhG00bAoCAXRg53pk9+gO7Lt8aODwW70ysHlfz6+M7VvwCDdvJMMf\n6OSyGRn97edRCQdDfNo/Fx8zLTFT2PLbMgVIx7sebY7nhadhxTKBnrDZbE5b+RWK\nGJehtD+SiGiuqifJmMTAdaqDtUBfcA4FyhZoF5M7vKXeowEXNF+ck2BgztJQiYdn\n2iMIGUk8VJnT7KYpw8jA+3ptR9bOKXryBusVfvqYqDxZrXkWZleBcEE8MqNz9I65\nrEGzBmBeBtF8v+u1uN7jiel3dusTSZRSmoFgjixTzeLFd93hGzu7gASorvT6//fU\nJSGpsKlRtTk4YvFpizb6WDB1kxT3Gkc9KCM5RDH/0R3nqXLupRLhVjZ00EfVjDCl\n5mA8MEMCbdLBli2OvDiUdnQDtu95LVOLtIWCLPra1EKyBGDki08wCdCVRoeiY51D\nQlchxvl2iEjGT4NGXNQI9Cj9rVWGWQbSiANubCblIafazhKzw2XE88vP0h+w39T8\nGTt0trjy4tClOBRumBudPZuEtgUolwrfDVNrX1rMjsoxagp2y4I=\n=1Yco\n-----END PGP SIGNATURE-----", "payload": "tree 52dee938c228746cda8549dd097c6f790699d53e\nparent f53d43663814f63f1979c27085abb27aa9a183df\nauthor Cassandra Fridkin <cass@swag.lgbt> 1601940906 -0400\ncommitter Cassandra Fridkin <cass@swag.lgbt> 1601940906 -0400\n\nClean up pre-commit.sh\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/68ca4742c58f97b4078357e297e963dec031a1a9", "html_url": "https://github.com/rust-lang/rust/commit/68ca4742c58f97b4078357e297e963dec031a1a9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/68ca4742c58f97b4078357e297e963dec031a1a9/comments", "author": {"login": "caass", "id": 25358963, "node_id": "MDQ6VXNlcjI1MzU4OTYz", "avatar_url": "https://avatars.githubusercontent.com/u/25358963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caass", "html_url": "https://github.com/caass", "followers_url": "https://api.github.com/users/caass/followers", "following_url": "https://api.github.com/users/caass/following{/other_user}", "gists_url": "https://api.github.com/users/caass/gists{/gist_id}", "starred_url": "https://api.github.com/users/caass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caass/subscriptions", "organizations_url": "https://api.github.com/users/caass/orgs", "repos_url": "https://api.github.com/users/caass/repos", "events_url": "https://api.github.com/users/caass/events{/privacy}", "received_events_url": "https://api.github.com/users/caass/received_events", "type": "User", "site_admin": false}, "committer": {"login": "caass", "id": 25358963, "node_id": "MDQ6VXNlcjI1MzU4OTYz", "avatar_url": "https://avatars.githubusercontent.com/u/25358963?v=4", "gravatar_id": "", "url": "https://api.github.com/users/caass", "html_url": "https://github.com/caass", "followers_url": "https://api.github.com/users/caass/followers", "following_url": "https://api.github.com/users/caass/following{/other_user}", "gists_url": "https://api.github.com/users/caass/gists{/gist_id}", "starred_url": "https://api.github.com/users/caass/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/caass/subscriptions", "organizations_url": "https://api.github.com/users/caass/orgs", "repos_url": "https://api.github.com/users/caass/repos", "events_url": "https://api.github.com/users/caass/events{/privacy}", "received_events_url": "https://api.github.com/users/caass/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f53d43663814f63f1979c27085abb27aa9a183df", "url": "https://api.github.com/repos/rust-lang/rust/commits/f53d43663814f63f1979c27085abb27aa9a183df", "html_url": "https://github.com/rust-lang/rust/commit/f53d43663814f63f1979c27085abb27aa9a183df"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "5c5922a7e63ecafd514e3110b7d63442ac808378", "filename": "src/etc/pre-commit.sh", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/68ca4742c58f97b4078357e297e963dec031a1a9/src%2Fetc%2Fpre-commit.sh", "raw_url": "https://github.com/rust-lang/rust/raw/68ca4742c58f97b4078357e297e963dec031a1a9/src%2Fetc%2Fpre-commit.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fpre-commit.sh?ref=68ca4742c58f97b4078357e297e963dec031a1a9", "patch": "@@ -1,12 +1,9 @@\n-#!/bin/env bash\n+#!/usr/bin/env bash\n #\n # Call `tidy --bless` before each commit\n # Copy this scripts to .git/hooks to activate,\n # and remove it from .git/hooks to deactivate.\n #\n-# For help running bash scripts on Windows,\n-# see https://stackoverflow.com/a/6413405/6894799\n-#\n \n set -Eeuo pipefail\n \n@@ -17,6 +14,8 @@ if [[ \"$OSTYPE\" == \"msys\" || \"$OSTYPE\" == \"win32\" ]]; then\n   COMMAND=\"python $COMMAND\"\n fi\n \n-echo \"Running pre-commit script $COMMAND\";\n+echo \"Running pre-commit script '$COMMAND'\";\n+\n+cd \"$ROOT_DIR\"\n \n $COMMAND;"}]}