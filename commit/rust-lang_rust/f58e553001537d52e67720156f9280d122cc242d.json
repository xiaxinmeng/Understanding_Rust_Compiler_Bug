{"sha": "f58e553001537d52e67720156f9280d122cc242d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY1OGU1NTMwMDE1MzdkNTJlNjc3MjAxNTZmOTI4MGQxMjJjYzI0MmQ=", "commit": {"author": {"name": "Robin Kruppe", "email": "robin.kruppe@gmail.com", "date": "2016-12-07T16:02:34Z"}, "committer": {"name": "Robin Kruppe", "email": "robin.kruppe@gmail.com", "date": "2016-12-07T16:09:34Z"}, "message": "printf type correctness\n\nThe %.*s format specifier requires an int for the maximum size, but StringRef::size is a size_t\n\ncc @shepmaster", "tree": {"sha": "cb24c8b927fcd98bb2d4963b3cc8aa265d97920e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cb24c8b927fcd98bb2d4963b3cc8aa265d97920e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f58e553001537d52e67720156f9280d122cc242d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f58e553001537d52e67720156f9280d122cc242d", "html_url": "https://github.com/rust-lang/rust/commit/f58e553001537d52e67720156f9280d122cc242d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f58e553001537d52e67720156f9280d122cc242d/comments", "author": null, "committer": null, "parents": [{"sha": "85dc08e525622365909cdaae27f4b89179321a92", "url": "https://api.github.com/repos/rust-lang/rust/commits/85dc08e525622365909cdaae27f4b89179321a92", "html_url": "https://github.com/rust-lang/rust/commit/85dc08e525622365909cdaae27f4b89179321a92"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "c45d1c2d0888eac555c0f48ff328314722e3170c", "filename": "src/rustllvm/PassWrapper.cpp", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f58e553001537d52e67720156f9280d122cc242d/src%2Frustllvm%2FPassWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/f58e553001537d52e67720156f9280d122cc242d/src%2Frustllvm%2FPassWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2FPassWrapper.cpp?ref=f58e553001537d52e67720156f9280d122cc242d", "patch": "@@ -533,8 +533,11 @@ LLVMRustPrintPasses() {\n             StringRef PassArg = info->getPassArgument();\n             StringRef PassName = info->getPassName();\n             if (!PassArg.empty()) {\n-                printf(\"%15.*s - %.*s\\n\", PassArg.size(), PassArg.data(),\n-                       PassName.size(), PassName.data());\n+                // These unsigned->signed casts could theoretically overflow, but\n+                // realistically never will (and even if, the result is implementation\n+                // defined rather plain UB).\n+                printf(\"%15.*s - %.*s\\n\", (int)PassArg.size(), PassArg.data(),\n+                       (int)PassName.size(), PassName.data());\n             }\n #else\n             if (info->getPassArgument() && *info->getPassArgument()) {"}]}