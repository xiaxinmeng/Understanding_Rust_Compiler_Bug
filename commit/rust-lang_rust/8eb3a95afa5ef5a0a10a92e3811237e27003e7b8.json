{"sha": "8eb3a95afa5ef5a0a10a92e3811237e27003e7b8", "node_id": "C_kwDOAAsO6NoAKDhlYjNhOTVhZmE1ZWY1YTBhMTBhOTJlMzgxMTIzN2UyNzAwM2U3Yjg", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2021-10-05T01:19:58Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2021-10-05T01:19:58Z"}, "message": "Fix rustdoc test case", "tree": {"sha": "a4743af4a3cd1d2da55622a9d67c81dc41982060", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a4743af4a3cd1d2da55622a9d67c81dc41982060"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8eb3a95afa5ef5a0a10a92e3811237e27003e7b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8eb3a95afa5ef5a0a10a92e3811237e27003e7b8", "html_url": "https://github.com/rust-lang/rust/commit/8eb3a95afa5ef5a0a10a92e3811237e27003e7b8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8eb3a95afa5ef5a0a10a92e3811237e27003e7b8/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9ee696e79151915193db8a3a3754b2bdd9fd0c62", "url": "https://api.github.com/repos/rust-lang/rust/commits/9ee696e79151915193db8a3a3754b2bdd9fd0c62", "html_url": "https://github.com/rust-lang/rust/commit/9ee696e79151915193db8a3a3754b2bdd9fd0c62"}], "stats": {"total": 18, "additions": 6, "deletions": 12}, "files": [{"sha": "efc3b21e6da99952af08845e512d4d689c828595", "filename": "src/test/rustdoc/macro_rules-matchers.rs", "status": "modified", "additions": 6, "deletions": 12, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/8eb3a95afa5ef5a0a10a92e3811237e27003e7b8/src%2Ftest%2Frustdoc%2Fmacro_rules-matchers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8eb3a95afa5ef5a0a10a92e3811237e27003e7b8/src%2Ftest%2Frustdoc%2Fmacro_rules-matchers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fmacro_rules-matchers.rs?ref=8eb3a95afa5ef5a0a10a92e3811237e27003e7b8", "patch": "@@ -6,37 +6,31 @@\n // @has 'foo/macro.todo.html'\n // @has - '//span[@class=\"macro\"]' 'macro_rules!'\n // @has - '//span[@class=\"ident\"]' 'todo'\n-// Note: count = 2 * ('=' + '>') + '+' = 2 * (1 + 1) + 1 = 5\n-// @count - '//pre[@class=\"rust macro\"]//span[@class=\"op\"]' 5\n+// Note: the only op is the `+`\n+// @count - '//pre[@class=\"rust macro\"]//span[@class=\"op\"]' 1\n \n-// @has - '{ ()'\n-// @has - '//span[@class=\"op\"]' '='\n-// @has - '//span[@class=\"op\"]' '>'\n-// @has - '{ ... };'\n-\n-// @has - '($('\n+// @has - '{ () =&gt; { ... }; ($('\n // @has - '//span[@class=\"macro-nonterminal\"]' '$'\n // @has - '//span[@class=\"macro-nonterminal\"]' 'arg'\n // @has - ':'\n // @has - '//span[@class=\"ident\"]' 'tt'\n // @has - '),'\n // @has - '//span[@class=\"op\"]' '+'\n-// @has - ')'\n+// @has - ') =&gt; { ... }; }'\n pub use std::todo;\n \n mod mod1 {\n     // @has 'foo/macro.macro1.html'\n     // @has - 'macro_rules!'\n     // @has - 'macro1'\n-    // @has - '{ ()'\n-    // @has - '($('\n+    // @has - '{ () =&gt; { ... }; ($('\n     // @has - '//span[@class=\"macro-nonterminal\"]' '$'\n     // @has - '//span[@class=\"macro-nonterminal\"]' 'arg'\n     // @has - ':'\n     // @has - 'expr'\n     // @has - '),'\n     // @has - '+'\n-    // @has - ')'\n+    // @has - ') =&gt; { ... }; }'\n     #[macro_export]\n     macro_rules! macro1 {\n         () => {};"}]}