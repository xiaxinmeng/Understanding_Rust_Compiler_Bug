{"sha": "00e62fabf101571c337fdce24544e94b0e0fda9c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAwZTYyZmFiZjEwMTU3MWMzMzdmZGNlMjQ1NDRlOTRiMGUwZmRhOWM=", "commit": {"author": {"name": "oli", "email": "github35764891676564198441@oli-obk.de", "date": "2021-01-16T18:05:51Z"}, "committer": {"name": "oli", "email": "github35764891676564198441@oli-obk.de", "date": "2021-01-23T11:33:45Z"}, "message": "Adjust wording of a diagnostic", "tree": {"sha": "0798185b9c00a055bc49904bf27bb737912bc434", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0798185b9c00a055bc49904bf27bb737912bc434"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/00e62fabf101571c337fdce24544e94b0e0fda9c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/00e62fabf101571c337fdce24544e94b0e0fda9c", "html_url": "https://github.com/rust-lang/rust/commit/00e62fabf101571c337fdce24544e94b0e0fda9c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/00e62fabf101571c337fdce24544e94b0e0fda9c/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3cd0b46baca1848b577f2172935a139663697643", "url": "https://api.github.com/repos/rust-lang/rust/commits/3cd0b46baca1848b577f2172935a139663697643", "html_url": "https://github.com/rust-lang/rust/commit/3cd0b46baca1848b577f2172935a139663697643"}], "stats": {"total": 36, "additions": 18, "deletions": 18}, "files": [{"sha": "6e7262151777f47682a25b3cf489bfff6ee65ba9", "filename": "compiler/rustc_mir/src/transform/check_consts/ops.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/00e62fabf101571c337fdce24544e94b0e0fda9c/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/00e62fabf101571c337fdce24544e94b0e0fda9c/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs?ref=00e62fabf101571c337fdce24544e94b0e0fda9c", "patch": "@@ -298,7 +298,7 @@ impl NonConstOp for MutBorrow {\n             ccx.tcx.sess,\n             span,\n             E0764,\n-            \"{}mutable references are not allowed in final value of {}s\",\n+            \"{}mutable references are not allowed in the final value of {}s\",\n             raw,\n             ccx.const_kind(),\n         );"}, {"sha": "a32a94c1315ab01446fffdf56781a17b112dbd73", "filename": "src/test/ui/check-static-immutable-mut-slices.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fcheck-static-immutable-mut-slices.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fcheck-static-immutable-mut-slices.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcheck-static-immutable-mut-slices.stderr?ref=00e62fabf101571c337fdce24544e94b0e0fda9c", "patch": "@@ -1,4 +1,4 @@\n-error[E0764]: mutable references are not allowed in final value of statics\n+error[E0764]: mutable references are not allowed in the final value of statics\n   --> $DIR/check-static-immutable-mut-slices.rs:3:37\n    |\n LL | static TEST: &'static mut [isize] = &mut [];"}, {"sha": "57bf5f7395de46621868253f439f58042db0eece", "filename": "src/test/ui/consts/const-mut-refs/mut_ref_in_final.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fconsts%2Fconst-mut-refs%2Fmut_ref_in_final.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fconsts%2Fconst-mut-refs%2Fmut_ref_in_final.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-mut-refs%2Fmut_ref_in_final.stderr?ref=00e62fabf101571c337fdce24544e94b0e0fda9c", "patch": "@@ -1,4 +1,4 @@\n-error[E0764]: mutable references are not allowed in final value of constants\n+error[E0764]: mutable references are not allowed in the final value of constants\n   --> $DIR/mut_ref_in_final.rs:10:21\n    |\n LL | const B: *mut i32 = &mut 4;"}, {"sha": "ce60aaa0797f819ea1b6b2fa52d6a050c4e14ee7", "filename": "src/test/ui/consts/issue-17718-const-bad-values.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fconsts%2Fissue-17718-const-bad-values.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fconsts%2Fissue-17718-const-bad-values.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fissue-17718-const-bad-values.stderr?ref=00e62fabf101571c337fdce24544e94b0e0fda9c", "patch": "@@ -1,4 +1,4 @@\n-error[E0764]: mutable references are not allowed in final value of constants\n+error[E0764]: mutable references are not allowed in the final value of constants\n   --> $DIR/issue-17718-const-bad-values.rs:1:34\n    |\n LL | const C1: &'static mut [usize] = &mut [];"}, {"sha": "3ee50907461cac7a573ada158576c62c6539d0d3", "filename": "src/test/ui/consts/write_to_mut_ref_dest.mut_refs.stderr", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fconsts%2Fwrite_to_mut_ref_dest.mut_refs.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fconsts%2Fwrite_to_mut_ref_dest.mut_refs.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fwrite_to_mut_ref_dest.mut_refs.stderr?ref=00e62fabf101571c337fdce24544e94b0e0fda9c", "patch": "@@ -1,5 +1,5 @@\n error[E0658]: dereferencing raw pointers in constants is unstable\n-  --> $DIR/projection_qualif.rs:11:18\n+  --> $DIR/write_to_mut_ref_dest.rs:11:18\n    |\n LL |         unsafe { *b = 5; }\n    |                  ^^^^^^", "previous_filename": "src/test/ui/consts/projection_qualif.mut_refs.stderr"}, {"sha": "2b6d1d3267b619ebc6769d85f2710c8ff3cb159d", "filename": "src/test/ui/consts/write_to_mut_ref_dest.stock.stderr", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fconsts%2Fwrite_to_mut_ref_dest.stock.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fconsts%2Fwrite_to_mut_ref_dest.stock.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fwrite_to_mut_ref_dest.stock.stderr?ref=00e62fabf101571c337fdce24544e94b0e0fda9c", "patch": "@@ -1,5 +1,5 @@\n error[E0658]: mutable references are not allowed in constants\n-  --> $DIR/projection_qualif.rs:10:27\n+  --> $DIR/write_to_mut_ref_dest.rs:10:27\n    |\n LL |         let b: *mut u32 = &mut a;\n    |                           ^^^^^^\n@@ -8,7 +8,7 @@ LL |         let b: *mut u32 = &mut a;\n    = help: add `#![feature(const_mut_refs)]` to the crate attributes to enable\n \n error[E0658]: dereferencing raw pointers in constants is unstable\n-  --> $DIR/projection_qualif.rs:11:18\n+  --> $DIR/write_to_mut_ref_dest.rs:11:18\n    |\n LL |         unsafe { *b = 5; }\n    |                  ^^^^^^", "previous_filename": "src/test/ui/consts/projection_qualif.stock.stderr"}, {"sha": "d19e998d6173660556543109760f55487df9ef54", "filename": "src/test/ui/consts/write_to_static_via_mut_ref.stderr", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fconsts%2Fwrite_to_static_via_mut_ref.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fconsts%2Fwrite_to_static_via_mut_ref.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fwrite_to_static_via_mut_ref.stderr?ref=00e62fabf101571c337fdce24544e94b0e0fda9c", "patch": "@@ -1,11 +1,11 @@\n-error[E0764]: mutable references are not allowed in final value of statics\n-  --> $DIR/read_from_static_mut_ref.rs:4:26\n+error[E0764]: mutable references are not allowed in the final value of statics\n+  --> $DIR/write_to_static_via_mut_ref.rs:4:26\n    |\n LL | static OH_NO: &mut i32 = &mut 42;\n    |                          ^^^^^^^\n \n error[E0594]: cannot assign to `*OH_NO`, as `OH_NO` is an immutable static item\n-  --> $DIR/read_from_static_mut_ref.rs:7:5\n+  --> $DIR/write_to_static_via_mut_ref.rs:7:5\n    |\n LL |     *OH_NO = 43;\n    |     ^^^^^^^^^^^ cannot assign", "previous_filename": "src/test/ui/consts/read_from_static_mut_ref.stderr"}, {"sha": "7d959b6d148ed22a7b093c1548d33aee494e938b", "filename": "src/test/ui/error-codes/E0017.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Ferror-codes%2FE0017.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Ferror-codes%2FE0017.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0017.stderr?ref=00e62fabf101571c337fdce24544e94b0e0fda9c", "patch": "@@ -13,7 +13,7 @@ note: `const` item defined here\n LL | const C: i32 = 2;\n    | ^^^^^^^^^^^^^^^^^\n \n-error[E0764]: mutable references are not allowed in final value of constants\n+error[E0764]: mutable references are not allowed in the final value of constants\n   --> $DIR/E0017.rs:5:30\n    |\n LL | const CR: &'static mut i32 = &mut C;\n@@ -28,7 +28,7 @@ LL | static STATIC_REF: &'static mut i32 = &mut X;\n    = note: see issue #57349 <https://github.com/rust-lang/rust/issues/57349> for more information\n    = help: add `#![feature(const_mut_refs)]` to the crate attributes to enable\n \n-error[E0764]: mutable references are not allowed in final value of statics\n+error[E0764]: mutable references are not allowed in the final value of statics\n   --> $DIR/E0017.rs:7:39\n    |\n LL | static STATIC_REF: &'static mut i32 = &mut X;\n@@ -54,13 +54,13 @@ note: `const` item defined here\n LL | const C: i32 = 2;\n    | ^^^^^^^^^^^^^^^^^\n \n-error[E0764]: mutable references are not allowed in final value of statics\n+error[E0764]: mutable references are not allowed in the final value of statics\n   --> $DIR/E0017.rs:11:38\n    |\n LL | static CONST_REF: &'static mut i32 = &mut C;\n    |                                      ^^^^^^\n \n-error[E0764]: mutable references are not allowed in final value of statics\n+error[E0764]: mutable references are not allowed in the final value of statics\n   --> $DIR/E0017.rs:13:52\n    |\n LL | static STATIC_MUT_REF: &'static mut i32 = unsafe { &mut M };"}, {"sha": "4886a156d2ea597e9478e44815e1c6414c0b1b47", "filename": "src/test/ui/error-codes/E0388.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Ferror-codes%2FE0388.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Ferror-codes%2FE0388.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0388.stderr?ref=00e62fabf101571c337fdce24544e94b0e0fda9c", "patch": "@@ -13,7 +13,7 @@ note: `const` item defined here\n LL | const C: i32 = 2;\n    | ^^^^^^^^^^^^^^^^^\n \n-error[E0764]: mutable references are not allowed in final value of constants\n+error[E0764]: mutable references are not allowed in the final value of constants\n   --> $DIR/E0388.rs:4:30\n    |\n LL | const CR: &'static mut i32 = &mut C;\n@@ -28,7 +28,7 @@ LL | static STATIC_REF: &'static mut i32 = &mut X;\n    = note: see issue #57349 <https://github.com/rust-lang/rust/issues/57349> for more information\n    = help: add `#![feature(const_mut_refs)]` to the crate attributes to enable\n \n-error[E0764]: mutable references are not allowed in final value of statics\n+error[E0764]: mutable references are not allowed in the final value of statics\n   --> $DIR/E0388.rs:6:39\n    |\n LL | static STATIC_REF: &'static mut i32 = &mut X;\n@@ -54,7 +54,7 @@ note: `const` item defined here\n LL | const C: i32 = 2;\n    | ^^^^^^^^^^^^^^^^^\n \n-error[E0764]: mutable references are not allowed in final value of statics\n+error[E0764]: mutable references are not allowed in the final value of statics\n   --> $DIR/E0388.rs:10:38\n    |\n LL | static CONST_REF: &'static mut i32 = &mut C;"}, {"sha": "7faa2d79ba4835baf2f7b502896017b2afaee78b", "filename": "src/test/ui/issues/issue-46604.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fissues%2Fissue-46604.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/00e62fabf101571c337fdce24544e94b0e0fda9c/src%2Ftest%2Fui%2Fissues%2Fissue-46604.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-46604.stderr?ref=00e62fabf101571c337fdce24544e94b0e0fda9c", "patch": "@@ -1,4 +1,4 @@\n-error[E0764]: mutable references are not allowed in final value of statics\n+error[E0764]: mutable references are not allowed in the final value of statics\n   --> $DIR/issue-46604.rs:1:25\n    |\n LL | static buf: &mut [u8] = &mut [1u8,2,3,4,5,7];"}]}