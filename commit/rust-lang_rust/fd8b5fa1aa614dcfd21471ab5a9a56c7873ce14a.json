{"sha": "fd8b5fa1aa614dcfd21471ab5a9a56c7873ce14a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZkOGI1ZmExYWE2MTRkY2ZkMjE0NzFhYjVhOWE1NmM3ODczY2UxNGE=", "commit": {"author": {"name": "daxpedda", "email": "daxpedda@gmail.com", "date": "2021-02-06T17:29:07Z"}, "committer": {"name": "daxpedda", "email": "daxpedda@gmail.com", "date": "2021-02-06T17:29:07Z"}, "message": "Confused about my own explanation.", "tree": {"sha": "5e22f5d24a7a1bdfb2740b74057e6090693b02db", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5e22f5d24a7a1bdfb2740b74057e6090693b02db"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fd8b5fa1aa614dcfd21471ab5a9a56c7873ce14a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE3qx/rJh59vdc2+v9Q9YqPqOI5G8FAmAe0eMACgkQQ9YqPqOI\n5G9Y5A/+N3d1UfkitA+BThBXcToC0aeIMmXdXH+xFYBuzB0PNxqE4F9WzIBRh9e7\nV9JB1BJR+EHCl5zdLnkMSQQDYXSGWxasrU1xPwfRqimyogIEIJD/2uVjVow6qEqD\n06GXoBRsd+4Jhd5WNRV6QLvmH2jbz5HdDi420Vej2YVhdpwBg2SBr1gt1Q1Hg7sO\n2C7Q2ruv3VERkQaErbZexxDID5/DTCxppAkkgi04npUwxenKlJd6ScpjeTn03E1d\nkS1qWr7gWQRRwiRRue3IgCxPXND3thhkBUoFegVwyW+/8yMv69Q0K6BuZwhsWsMJ\ny6hrQ4XL+eAgh4JjfuB8yCaaqf/xtVRAUuTuZtpPYbd/H5Q8FQGdiB+ikURXrTCa\nPSxumg02/21zeUnTa4VkU+ofuixuVMDMdYEPL9Bthgu5BO+zI+yleWlPAi/Bjoaw\nzM2xl9dYFxu/tmGICQx5J0Aqk1ui1KOEacg6Q8XlaN5np+1Er7SB78P69MdTZFS7\nUUX4As4R4O1ToAcCGGfE0Zj1zG2QvgrP0T6/yW4OkgA93Ota/CqcxckxlLfg34gb\niNFRHxcDSmX0tlJtmxcsArQA2ymxXNoB2DFFR4FNjyldVYSCNB6rCtWM0CVGVzo5\nmBG/F0obBVJmJ0yjajmkY8xbQEL1iIfqtobJlG6JWV5JBo1gnG4=\n=o/Yv\n-----END PGP SIGNATURE-----", "payload": "tree 5e22f5d24a7a1bdfb2740b74057e6090693b02db\nparent ea0b8324d6457c4a380a6c30e41414f863ff7897\nauthor daxpedda <daxpedda@gmail.com> 1612632547 +0100\ncommitter daxpedda <daxpedda@gmail.com> 1612632547 +0100\n\nConfused about my own explanation.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fd8b5fa1aa614dcfd21471ab5a9a56c7873ce14a", "html_url": "https://github.com/rust-lang/rust/commit/fd8b5fa1aa614dcfd21471ab5a9a56c7873ce14a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fd8b5fa1aa614dcfd21471ab5a9a56c7873ce14a/comments", "author": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "committer": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ea0b8324d6457c4a380a6c30e41414f863ff7897", "url": "https://api.github.com/repos/rust-lang/rust/commits/ea0b8324d6457c4a380a6c30e41414f863ff7897", "html_url": "https://github.com/rust-lang/rust/commit/ea0b8324d6457c4a380a6c30e41414f863ff7897"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "cc2869ab495c8ab9245d66d9503ffdbc0f44a94e", "filename": "clippy_lints/src/cargo_common_metadata.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/fd8b5fa1aa614dcfd21471ab5a9a56c7873ce14a/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fd8b5fa1aa614dcfd21471ab5a9a56c7873ce14a/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs?ref=fd8b5fa1aa614dcfd21471ab5a9a56c7873ce14a", "patch": "@@ -93,7 +93,8 @@ impl LateLintPass<'_> for CargoCommonMetadata {\n         let metadata = unwrap_cargo_metadata!(cx, CARGO_COMMON_METADATA, false);\n \n         for package in metadata.packages {\n-            // we want to skip the lint if publish is `None` (`publish = false`) or if the vector is empty (`publish = []`)\n+            // only run the lint if publish is `None` (`publish = true` or skipped entirely)\n+            // or if the vector isn't empty (`publish = [\"something\"]`)\n             if package.publish.as_ref().filter(|publish| publish.is_empty()).is_none() || self.ignore_publish {\n                 if is_empty_vec(&package.authors) {\n                     missing_warning(cx, &package, \"package.authors\");"}]}