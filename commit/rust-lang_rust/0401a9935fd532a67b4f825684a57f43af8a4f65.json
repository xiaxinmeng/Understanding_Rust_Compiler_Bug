{"sha": "0401a9935fd532a67b4f825684a57f43af8a4f65", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA0MDFhOTkzNWZkNTMyYTY3YjRmODI1Njg0YTU3ZjQzYWY4YTRmNjU=", "commit": {"author": {"name": "Tristan Dannenberg", "email": "dtristan@hotmail.de", "date": "2021-01-12T16:29:47Z"}, "committer": {"name": "Tristan Dannenberg", "email": "dtristan@hotmail.de", "date": "2021-01-12T16:59:57Z"}, "message": "Update help message and add regression test", "tree": {"sha": "cedb77747c2cf9002ba010a46c277927064960a6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cedb77747c2cf9002ba010a46c277927064960a6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0401a9935fd532a67b4f825684a57f43af8a4f65", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0401a9935fd532a67b4f825684a57f43af8a4f65", "html_url": "https://github.com/rust-lang/rust/commit/0401a9935fd532a67b4f825684a57f43af8a4f65", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0401a9935fd532a67b4f825684a57f43af8a4f65/comments", "author": {"login": "teryror", "id": 10688271, "node_id": "MDQ6VXNlcjEwNjg4Mjcx", "avatar_url": "https://avatars.githubusercontent.com/u/10688271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teryror", "html_url": "https://github.com/teryror", "followers_url": "https://api.github.com/users/teryror/followers", "following_url": "https://api.github.com/users/teryror/following{/other_user}", "gists_url": "https://api.github.com/users/teryror/gists{/gist_id}", "starred_url": "https://api.github.com/users/teryror/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teryror/subscriptions", "organizations_url": "https://api.github.com/users/teryror/orgs", "repos_url": "https://api.github.com/users/teryror/repos", "events_url": "https://api.github.com/users/teryror/events{/privacy}", "received_events_url": "https://api.github.com/users/teryror/received_events", "type": "User", "site_admin": false}, "committer": {"login": "teryror", "id": 10688271, "node_id": "MDQ6VXNlcjEwNjg4Mjcx", "avatar_url": "https://avatars.githubusercontent.com/u/10688271?v=4", "gravatar_id": "", "url": "https://api.github.com/users/teryror", "html_url": "https://github.com/teryror", "followers_url": "https://api.github.com/users/teryror/followers", "following_url": "https://api.github.com/users/teryror/following{/other_user}", "gists_url": "https://api.github.com/users/teryror/gists{/gist_id}", "starred_url": "https://api.github.com/users/teryror/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/teryror/subscriptions", "organizations_url": "https://api.github.com/users/teryror/orgs", "repos_url": "https://api.github.com/users/teryror/repos", "events_url": "https://api.github.com/users/teryror/events{/privacy}", "received_events_url": "https://api.github.com/users/teryror/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b18a426fb4f28493f8777cef6a146ac8731eb43e", "url": "https://api.github.com/repos/rust-lang/rust/commits/b18a426fb4f28493f8777cef6a146ac8731eb43e", "html_url": "https://github.com/rust-lang/rust/commit/b18a426fb4f28493f8777cef6a146ac8731eb43e"}], "stats": {"total": 14, "additions": 8, "deletions": 6}, "files": [{"sha": "efcb006870c5a76f4b8010bbe5c39d5f474165c4", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/0401a9935fd532a67b4f825684a57f43af8a4f65/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0401a9935fd532a67b4f825684a57f43af8a4f65/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=0401a9935fd532a67b4f825684a57f43af8a4f65", "patch": "@@ -412,12 +412,7 @@ fn opts() -> Vec<RustcOptGroup> {\n             )\n         }),\n         unstable(\"test-builder\", |o| {\n-            o.optopt(\n-                \"\",\n-                \"test-builder\",\n-                \"specifies the rustc-like binary to use as the test builder\",\n-                \"PATH\",\n-            )\n+            o.optopt(\"\", \"test-builder\", \"The rustc-like binary to use as the test builder\", \"PATH\")\n         }),\n         unstable(\"check\", |o| o.optflag(\"\", \"check\", \"Run rustdoc checks\")),\n     ]"}, {"sha": "26f9a56b50eebc916c64bcaebbcf70cb07d64432", "filename": "src/test/rustdoc/issue-80893.rs", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/0401a9935fd532a67b4f825684a57f43af8a4f65/src%2Ftest%2Frustdoc%2Fissue-80893.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0401a9935fd532a67b4f825684a57f43af8a4f65/src%2Ftest%2Frustdoc%2Fissue-80893.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-80893.rs?ref=0401a9935fd532a67b4f825684a57f43af8a4f65", "patch": "@@ -0,0 +1,7 @@\n+// compile-flags: --test -Z unstable-options --test-builder true --runtool true\n+\n+/// ```\n+/// This does not compile, but specifying a custom --test-builder should let this pass anyway\n+/// `true` does not generate an output file to run, so we also specify it as a runtool\n+/// ```\n+pub struct Foo;"}]}