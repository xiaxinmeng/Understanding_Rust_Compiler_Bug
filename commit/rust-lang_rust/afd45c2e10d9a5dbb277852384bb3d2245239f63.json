{"sha": "afd45c2e10d9a5dbb277852384bb3d2245239f63", "node_id": "C_kwDOAAsO6NoAKGFmZDQ1YzJlMTBkOWE1ZGJiMjc3ODUyMzg0YmIzZDIyNDUyMzlmNjM", "commit": {"author": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2023-04-08T05:24:16Z"}, "committer": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2023-04-10T08:24:23Z"}, "message": "Stabilize IsTerminal\n\ncloses: https://github.com/rust-lang/rust/issues/98070", "tree": {"sha": "3939a586085accf7e880b83345ab5c1209a01053", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3939a586085accf7e880b83345ab5c1209a01053"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/afd45c2e10d9a5dbb277852384bb3d2245239f63", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/afd45c2e10d9a5dbb277852384bb3d2245239f63", "html_url": "https://github.com/rust-lang/rust/commit/afd45c2e10d9a5dbb277852384bb3d2245239f63", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/afd45c2e10d9a5dbb277852384bb3d2245239f63/comments", "author": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "committer": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f0dc292641cb29f441e979ea26f10e1402b931f", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f0dc292641cb29f441e979ea26f10e1402b931f", "html_url": "https://github.com/rust-lang/rust/commit/0f0dc292641cb29f441e979ea26f10e1402b931f"}], "stats": {"total": 21, "additions": 6, "deletions": 15}, "files": [{"sha": "ba5873d79a2997d35bf4c9c01562fd07d45efe9d", "filename": "compiler/rustc_driver_impl/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/compiler%2Frustc_driver_impl%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/compiler%2Frustc_driver_impl%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_driver_impl%2Fsrc%2Flib.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -5,7 +5,6 @@\n //! This API is completely unstable and subject to change.\n \n #![doc(html_root_url = \"https://doc.rust-lang.org/nightly/nightly-rustc/\")]\n-#![feature(is_terminal)]\n #![feature(lazy_cell)]\n #![feature(decl_macro)]\n #![recursion_limit = \"256\"]"}, {"sha": "cee62d2375441d9bc816584736284a772e1fbfea", "filename": "compiler/rustc_errors/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/compiler%2Frustc_errors%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/compiler%2Frustc_errors%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Flib.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -6,7 +6,6 @@\n #![feature(array_windows)]\n #![feature(drain_filter)]\n #![feature(if_let_guard)]\n-#![feature(is_terminal)]\n #![feature(adt_const_params)]\n #![feature(let_chains)]\n #![feature(never_type)]"}, {"sha": "3cbb2c21e289e9c72c7f4cc7559dd0abc329f081", "filename": "compiler/rustc_log/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/compiler%2Frustc_log%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/compiler%2Frustc_log%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_log%2Fsrc%2Flib.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -40,7 +40,6 @@\n \n #![deny(rustc::untranslatable_diagnostic)]\n #![deny(rustc::diagnostic_outside_of_impl)]\n-#![feature(is_terminal)]\n \n use std::env::{self, VarError};\n use std::fmt::{self, Display};"}, {"sha": "020c723925aebc412dc79328350ca7c2d8244fcc", "filename": "library/std/src/io/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Fstd%2Fsrc%2Fio%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Fstd%2Fsrc%2Fio%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fio%2Fmod.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -268,7 +268,7 @@ pub(crate) use self::stdio::attempt_print_to_stderr;\n #[unstable(feature = \"internal_output_capture\", issue = \"none\")]\n #[doc(no_inline, hidden)]\n pub use self::stdio::set_output_capture;\n-#[unstable(feature = \"is_terminal\", issue = \"98070\")]\n+#[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n pub use self::stdio::IsTerminal;\n #[unstable(feature = \"print_internals\", issue = \"none\")]\n pub use self::stdio::{_eprint, _print};"}, {"sha": "b2c57b8ddc78e6bdda75a95a16d1488ef5318bd9", "filename": "library/std/src/io/stdio.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Fstd%2Fsrc%2Fio%2Fstdio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Fstd%2Fsrc%2Fio%2Fstdio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fio%2Fstdio.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -1047,7 +1047,7 @@ pub(crate) fn attempt_print_to_stderr(args: fmt::Arguments<'_>) {\n }\n \n /// Trait to determine if a descriptor/handle refers to a terminal/tty.\n-#[unstable(feature = \"is_terminal\", issue = \"98070\")]\n+#[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n pub trait IsTerminal: crate::sealed::Sealed {\n     /// Returns `true` if the descriptor/handle refers to a terminal/tty.\n     ///\n@@ -1063,6 +1063,7 @@ pub trait IsTerminal: crate::sealed::Sealed {\n     /// Note that this [may change in the future][changes].\n     ///\n     /// [changes]: io#platform-specific-behavior\n+    #[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n     fn is_terminal(&self) -> bool;\n }\n \n@@ -1071,7 +1072,7 @@ macro_rules! impl_is_terminal {\n         #[unstable(feature = \"sealed\", issue = \"none\")]\n         impl crate::sealed::Sealed for $t {}\n \n-        #[unstable(feature = \"is_terminal\", issue = \"98070\")]\n+        #[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n         impl IsTerminal for $t {\n             #[inline]\n             fn is_terminal(&self) -> bool {"}, {"sha": "71f3576c93d4b440ec4b0f4100f49000b7862168", "filename": "library/std/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Fstd%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Fstd%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Flib.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -254,7 +254,6 @@\n #![feature(exhaustive_patterns)]\n #![feature(if_let_guard)]\n #![feature(intra_doc_pointers)]\n-#![feature(is_terminal)]\n #![feature(lang_items)]\n #![feature(let_chains)]\n #![feature(linkage)]"}, {"sha": "6a6e6f33158fc5c654ca4d250958a5a3c22cf64e", "filename": "library/std/src/os/fd/owned.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fowned.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fowned.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fowned.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -201,7 +201,7 @@ macro_rules! impl_is_terminal {\n         #[unstable(feature = \"sealed\", issue = \"none\")]\n         impl crate::sealed::Sealed for $t {}\n \n-        #[unstable(feature = \"is_terminal\", issue = \"98070\")]\n+        #[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n         impl crate::io::IsTerminal for $t {\n             #[inline]\n             fn is_terminal(&self) -> bool {"}, {"sha": "f6622874625fcfc8e15b3a5c2a6dd6d387104190", "filename": "library/std/src/os/windows/io/handle.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio%2Fhandle.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio%2Fhandle.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio%2Fhandle.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -389,7 +389,7 @@ macro_rules! impl_is_terminal {\n         #[unstable(feature = \"sealed\", issue = \"none\")]\n         impl crate::sealed::Sealed for $t {}\n \n-        #[unstable(feature = \"is_terminal\", issue = \"98070\")]\n+        #[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n         impl crate::io::IsTerminal for $t {\n             #[inline]\n             fn is_terminal(&self) -> bool {"}, {"sha": "9fb31ed7663d051722c6192a0f845a613012e9b2", "filename": "library/test/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Ftest%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/library%2Ftest%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Ftest%2Fsrc%2Flib.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -17,7 +17,6 @@\n #![unstable(feature = \"test\", issue = \"50297\")]\n #![doc(test(attr(deny(warnings))))]\n #![feature(internal_output_capture)]\n-#![feature(is_terminal)]\n #![feature(staged_api)]\n #![feature(process_exitcode_internals)]\n #![feature(panic_can_unwind)]"}, {"sha": "8ab212099e344b4966b24c7b351657f058c0d7a7", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -7,7 +7,6 @@\n #![feature(assert_matches)]\n #![feature(box_patterns)]\n #![feature(drain_filter)]\n-#![feature(is_terminal)]\n #![feature(let_chains)]\n #![feature(test)]\n #![feature(never_type)]"}, {"sha": "dcdec0627b7092ad581799864efe166b40be2a52", "filename": "src/tools/miri/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/src%2Ftools%2Fmiri%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/src%2Ftools%2Fmiri%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Fsrc%2Flib.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -7,7 +7,6 @@\n #![feature(yeet_expr)]\n #![feature(nonzero_ops)]\n #![feature(local_key_cell_methods)]\n-#![feature(is_terminal)]\n #![feature(round_ties_even)]\n // Configure clippy and other lints\n #![allow("}, {"sha": "e379288de01cbf06911c97cfa4e90446b137b803", "filename": "src/tools/miri/tests/pass/shims/fs.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Ffs.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -3,7 +3,6 @@\n \n #![feature(io_error_more)]\n #![feature(io_error_uncategorized)]\n-#![feature(is_terminal)]\n \n use std::collections::HashMap;\n use std::ffi::{c_char, OsString};"}, {"sha": "295723957a4265fe55f08986076a9597f6c13392", "filename": "src/tools/miri/tests/pass/shims/io.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/afd45c2e10d9a5dbb277852384bb3d2245239f63/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Fio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afd45c2e10d9a5dbb277852384bb3d2245239f63/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Fio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Fio.rs?ref=afd45c2e10d9a5dbb277852384bb3d2245239f63", "patch": "@@ -1,5 +1,3 @@\n-#![feature(is_terminal)]\n-\n use std::io::IsTerminal;\n \n fn main() {"}]}