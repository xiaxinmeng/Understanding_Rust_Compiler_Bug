{"sha": "9d3e79ad3728f6723f8e49908696e66a68d7db95", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlkM2U3OWFkMzcyOGY2NzIzZjhlNDk5MDg2OTZlNjZhNjhkN2RiOTU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-10-10T22:39:35Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-10-10T22:39:35Z"}, "message": "Auto merge of #28941 - jcaudle:rustfmt/librand-distributions-normal, r=nrc\n\nThis is my first PR to rust and first collaboration on a rust project, but I think the formatting looked ok. If this works out, I hope to go through more of librand.", "tree": {"sha": "2a7ae87ccb9d7cd466f79a9d8b9e4fa4c0b25891", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2a7ae87ccb9d7cd466f79a9d8b9e4fa4c0b25891"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9d3e79ad3728f6723f8e49908696e66a68d7db95", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9d3e79ad3728f6723f8e49908696e66a68d7db95", "html_url": "https://github.com/rust-lang/rust/commit/9d3e79ad3728f6723f8e49908696e66a68d7db95", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9d3e79ad3728f6723f8e49908696e66a68d7db95/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f0ae44ab93b1716caa4951b53b0df42722a6ccd7", "url": "https://api.github.com/repos/rust-lang/rust/commits/f0ae44ab93b1716caa4951b53b0df42722a6ccd7", "html_url": "https://github.com/rust-lang/rust/commit/f0ae44ab93b1716caa4951b53b0df42722a6ccd7"}, {"sha": "928e4b2541ce3dabc9f5e6d799542bb96a02284d", "url": "https://api.github.com/repos/rust-lang/rust/commits/928e4b2541ce3dabc9f5e6d799542bb96a02284d", "html_url": "https://github.com/rust-lang/rust/commit/928e4b2541ce3dabc9f5e6d799542bb96a02284d"}], "stats": {"total": 38, "additions": 23, "deletions": 15}, "files": [{"sha": "7fe8b6e8806e9950073c52d65b2b9187ebf8466e", "filename": "src/librand/distributions/normal.rs", "status": "modified", "additions": 23, "deletions": 15, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/9d3e79ad3728f6723f8e49908696e66a68d7db95/src%2Flibrand%2Fdistributions%2Fnormal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d3e79ad3728f6723f8e49908696e66a68d7db95/src%2Flibrand%2Fdistributions%2Fnormal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrand%2Fdistributions%2Fnormal.rs?ref=9d3e79ad3728f6723f8e49908696e66a68d7db95", "patch": "@@ -32,13 +32,13 @@ use distributions::{ziggurat, ziggurat_tables, Sample, IndependentSample};\n pub struct StandardNormal(pub f64);\n \n impl Rand for StandardNormal {\n-    fn rand<R:Rng>(rng: &mut R) -> StandardNormal {\n+    fn rand<R: Rng>(rng: &mut R) -> StandardNormal {\n         #[inline]\n         fn pdf(x: f64) -> f64 {\n-            (-x*x/2.0).exp()\n+            (-x * x / 2.0).exp()\n         }\n         #[inline]\n-        fn zero_case<R:Rng>(rng: &mut R, u: f64) -> f64 {\n+        fn zero_case<R: Rng>(rng: &mut R, u: f64) -> f64 {\n             // compute a random number in the tail by hand\n \n             // strange initial conditions, because the loop is not\n@@ -56,15 +56,19 @@ impl Rand for StandardNormal {\n                 y = y_.ln();\n             }\n \n-            if u < 0.0 { x - ziggurat_tables::ZIG_NORM_R } else { ziggurat_tables::ZIG_NORM_R - x }\n+            if u < 0.0 {\n+                x - ziggurat_tables::ZIG_NORM_R\n+            } else {\n+                ziggurat_tables::ZIG_NORM_R - x\n+            }\n         }\n \n-        StandardNormal(ziggurat(\n-            rng,\n-            true, // this is symmetric\n-            &ziggurat_tables::ZIG_NORM_X,\n-            &ziggurat_tables::ZIG_NORM_F,\n-            pdf, zero_case))\n+        StandardNormal(ziggurat(rng,\n+                                true, // this is symmetric\n+                                &ziggurat_tables::ZIG_NORM_X,\n+                                &ziggurat_tables::ZIG_NORM_F,\n+                                pdf,\n+                                zero_case))\n     }\n }\n \n@@ -89,12 +93,14 @@ impl Normal {\n         assert!(std_dev >= 0.0, \"Normal::new called with `std_dev` < 0\");\n         Normal {\n             mean: mean,\n-            std_dev: std_dev\n+            std_dev: std_dev,\n         }\n     }\n }\n impl Sample<f64> for Normal {\n-    fn sample<R: Rng>(&mut self, rng: &mut R) -> f64 { self.ind_sample(rng) }\n+    fn sample<R: Rng>(&mut self, rng: &mut R) -> f64 {\n+        self.ind_sample(rng)\n+    }\n }\n impl IndependentSample<f64> for Normal {\n     fn ind_sample<R: Rng>(&self, rng: &mut R) -> f64 {\n@@ -110,7 +116,7 @@ impl IndependentSample<f64> for Normal {\n /// std_dev**2)` distributed.\n #[derive(Copy, Clone)]\n pub struct LogNormal {\n-    norm: Normal\n+    norm: Normal,\n }\n \n impl LogNormal {\n@@ -126,7 +132,9 @@ impl LogNormal {\n     }\n }\n impl Sample<f64> for LogNormal {\n-    fn sample<R: Rng>(&mut self, rng: &mut R) -> f64 { self.ind_sample(rng) }\n+    fn sample<R: Rng>(&mut self, rng: &mut R) -> f64 {\n+        self.ind_sample(rng)\n+    }\n }\n impl IndependentSample<f64> for LogNormal {\n     fn ind_sample<R: Rng>(&self, rng: &mut R) -> f64 {\n@@ -179,7 +187,7 @@ mod bench {\n     use std::prelude::v1::*;\n     use self::test::Bencher;\n     use std::mem::size_of;\n-    use distributions::{Sample};\n+    use distributions::Sample;\n     use super::Normal;\n \n     #[bench]"}]}