{"sha": "193b748d5fa1f056263be641e42f2b4b1801387d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE5M2I3NDhkNWZhMWYwNTYyNjNiZTY0MWU0MmYyYjRiMTgwMTM4N2Q=", "commit": {"author": {"name": "varkor", "email": "github@varkor.com", "date": "2019-05-13T20:24:00Z"}, "committer": {"name": "varkor", "email": "github@varkor.com", "date": "2019-05-28T20:35:20Z"}, "message": "Remove FixedArraySize error", "tree": {"sha": "9964ca301ee7eddbdca6b54fb92e9ea0904d4085", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9964ca301ee7eddbdca6b54fb92e9ea0904d4085"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/193b748d5fa1f056263be641e42f2b4b1801387d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/193b748d5fa1f056263be641e42f2b4b1801387d", "html_url": "https://github.com/rust-lang/rust/commit/193b748d5fa1f056263be641e42f2b4b1801387d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/193b748d5fa1f056263be641e42f2b4b1801387d/comments", "author": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d5c6cb87784ea5c82177beb2662ccdc6c4751388", "url": "https://api.github.com/repos/rust-lang/rust/commits/d5c6cb87784ea5c82177beb2662ccdc6c4751388", "html_url": "https://github.com/rust-lang/rust/commit/d5c6cb87784ea5c82177beb2662ccdc6c4751388"}], "stats": {"total": 11, "additions": 2, "deletions": 9}, "files": [{"sha": "220b7b5fa67feeb45eb52358ab561c00929e6a59", "filename": "src/librustc/infer/opaque_types/mod.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/193b748d5fa1f056263be641e42f2b4b1801387d/src%2Flibrustc%2Finfer%2Fopaque_types%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/193b748d5fa1f056263be641e42f2b4b1801387d/src%2Flibrustc%2Finfer%2Fopaque_types%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Finfer%2Fopaque_types%2Fmod.rs?ref=193b748d5fa1f056263be641e42f2b4b1801387d", "patch": "@@ -284,6 +284,8 @@ impl<'a, 'gcx, 'tcx> InferCtxt<'a, 'gcx, 'tcx> {\n         debug!(\"constrain_opaque_type: def_id={:?}\", def_id);\n         debug!(\"constrain_opaque_type: opaque_defn={:#?}\", opaque_defn);\n \n+        let tcx = self.tcx;\n+\n         let concrete_ty = self.resolve_vars_if_possible(&opaque_defn.concrete_ty);\n \n         debug!(\"constrain_opaque_type: concrete_ty={:?}\", concrete_ty);"}, {"sha": "9bf1dbe29588743e4f324afa67d04fdd5ae06628", "filename": "src/librustc/ty/error.rs", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/193b748d5fa1f056263be641e42f2b4b1801387d/src%2Flibrustc%2Fty%2Ferror.rs", "raw_url": "https://github.com/rust-lang/rust/raw/193b748d5fa1f056263be641e42f2b4b1801387d/src%2Flibrustc%2Fty%2Ferror.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Ferror.rs?ref=193b748d5fa1f056263be641e42f2b4b1801387d", "patch": "@@ -23,7 +23,6 @@ pub enum TypeError<'tcx> {\n     AbiMismatch(ExpectedFound<abi::Abi>),\n     Mutability,\n     TupleSize(ExpectedFound<usize>),\n-    FixedArraySize(ExpectedFound<u64>),\n     ArgCount,\n \n     RegionsDoesNotOutlive(Region<'tcx>, Region<'tcx>),\n@@ -94,12 +93,6 @@ impl<'tcx> fmt::Display for TypeError<'tcx> {\n                        values.found)\n             }\n             Mutability => write!(f, \"types differ in mutability\"),\n-            FixedArraySize(values) => {\n-                write!(f, \"expected an array with a fixed size of {} elements, \\\n-                           found one with {} elements\",\n-                       values.expected,\n-                       values.found)\n-            }\n             TupleSize(values) => {\n                 write!(f, \"expected a tuple with {} elements, \\\n                            found one with {} elements\","}, {"sha": "b0062f20e7f6e9bafff339c334e36b9c9935d2f5", "filename": "src/librustc/ty/structural_impls.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/193b748d5fa1f056263be641e42f2b4b1801387d/src%2Flibrustc%2Fty%2Fstructural_impls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/193b748d5fa1f056263be641e42f2b4b1801387d/src%2Flibrustc%2Fty%2Fstructural_impls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Fstructural_impls.rs?ref=193b748d5fa1f056263be641e42f2b4b1801387d", "patch": "@@ -716,7 +716,6 @@ impl<'a, 'tcx> Lift<'tcx> for ty::error::TypeError<'a> {\n             AbiMismatch(x) => AbiMismatch(x),\n             Mutability => Mutability,\n             TupleSize(x) => TupleSize(x),\n-            FixedArraySize(x) => FixedArraySize(x),\n             ArgCount => ArgCount,\n             RegionsDoesNotOutlive(a, b) => {\n                 return tcx.lift(&(a, b)).map(|(a, b)| RegionsDoesNotOutlive(a, b))\n@@ -1295,7 +1294,6 @@ EnumTypeFoldableImpl! {\n         (ty::error::TypeError::AbiMismatch)(x),\n         (ty::error::TypeError::Mutability),\n         (ty::error::TypeError::TupleSize)(x),\n-        (ty::error::TypeError::FixedArraySize)(x),\n         (ty::error::TypeError::ArgCount),\n         (ty::error::TypeError::RegionsDoesNotOutlive)(a, b),\n         (ty::error::TypeError::RegionsInsufficientlyPolymorphic)(a, b),"}]}