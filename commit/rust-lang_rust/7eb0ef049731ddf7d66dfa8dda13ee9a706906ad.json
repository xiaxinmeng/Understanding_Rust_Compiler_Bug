{"sha": "7eb0ef049731ddf7d66dfa8dda13ee9a706906ad", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdlYjBlZjA0OTczMWRkZjdkNjZkZmE4ZGRhMTNlZTlhNzA2OTA2YWQ=", "commit": {"author": {"name": "toidiu", "email": "apoorv@toidiu.com", "date": "2018-09-09T04:16:57Z"}, "committer": {"name": "toidiu", "email": "apoorv@toidiu.com", "date": "2018-09-09T04:16:57Z"}, "message": "simplify ordering for Kind", "tree": {"sha": "1611b93e1d5ea9d736e68b217f3f611536d524e9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1611b93e1d5ea9d736e68b217f3f611536d524e9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7eb0ef049731ddf7d66dfa8dda13ee9a706906ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7eb0ef049731ddf7d66dfa8dda13ee9a706906ad", "html_url": "https://github.com/rust-lang/rust/commit/7eb0ef049731ddf7d66dfa8dda13ee9a706906ad", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7eb0ef049731ddf7d66dfa8dda13ee9a706906ad/comments", "author": {"login": "toidiu", "id": 4350690, "node_id": "MDQ6VXNlcjQzNTA2OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4350690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toidiu", "html_url": "https://github.com/toidiu", "followers_url": "https://api.github.com/users/toidiu/followers", "following_url": "https://api.github.com/users/toidiu/following{/other_user}", "gists_url": "https://api.github.com/users/toidiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/toidiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toidiu/subscriptions", "organizations_url": "https://api.github.com/users/toidiu/orgs", "repos_url": "https://api.github.com/users/toidiu/repos", "events_url": "https://api.github.com/users/toidiu/events{/privacy}", "received_events_url": "https://api.github.com/users/toidiu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "toidiu", "id": 4350690, "node_id": "MDQ6VXNlcjQzNTA2OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/4350690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/toidiu", "html_url": "https://github.com/toidiu", "followers_url": "https://api.github.com/users/toidiu/followers", "following_url": "https://api.github.com/users/toidiu/following{/other_user}", "gists_url": "https://api.github.com/users/toidiu/gists{/gist_id}", "starred_url": "https://api.github.com/users/toidiu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/toidiu/subscriptions", "organizations_url": "https://api.github.com/users/toidiu/orgs", "repos_url": "https://api.github.com/users/toidiu/repos", "events_url": "https://api.github.com/users/toidiu/events{/privacy}", "received_events_url": "https://api.github.com/users/toidiu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0198a1ea45e29af00d92423aa6d2ac876410c3f9", "url": "https://api.github.com/repos/rust-lang/rust/commits/0198a1ea45e29af00d92423aa6d2ac876410c3f9", "html_url": "https://github.com/rust-lang/rust/commit/0198a1ea45e29af00d92423aa6d2ac876410c3f9"}], "stats": {"total": 14, "additions": 2, "deletions": 12}, "files": [{"sha": "696c4d0043c14993dd374c9c10fc943d339174cc", "filename": "src/librustc/ty/subst.rs", "status": "modified", "additions": 2, "deletions": 12, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/7eb0ef049731ddf7d66dfa8dda13ee9a706906ad/src%2Flibrustc%2Fty%2Fsubst.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7eb0ef049731ddf7d66dfa8dda13ee9a706906ad/src%2Flibrustc%2Fty%2Fsubst.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Fsubst.rs?ref=7eb0ef049731ddf7d66dfa8dda13ee9a706906ad", "patch": "@@ -42,7 +42,7 @@ const TAG_MASK: usize = 0b11;\n const TYPE_TAG: usize = 0b00;\n const REGION_TAG: usize = 0b01;\n \n-#[derive(Debug, RustcEncodable, RustcDecodable)]\n+#[derive(Debug, RustcEncodable, RustcDecodable, PartialEq, Eq, PartialOrd, Ord)]\n pub enum UnpackedKind<'tcx> {\n     Lifetime(ty::Region<'tcx>),\n     Type(Ty<'tcx>),\n@@ -74,17 +74,7 @@ impl<'tcx> UnpackedKind<'tcx> {\n \n impl<'tcx> Ord for Kind<'tcx> {\n     fn cmp(&self, other: &Kind) -> Ordering {\n-        match (self.unpack(), other.unpack()) {\n-            (UnpackedKind::Type(_), UnpackedKind::Lifetime(_)) => Ordering::Greater,\n-\n-            (UnpackedKind::Type(ty1), UnpackedKind::Type(ty2)) => {\n-                ty1.sty.cmp(&ty2.sty)\n-            }\n-\n-            (UnpackedKind::Lifetime(reg1), UnpackedKind::Lifetime(reg2)) => reg1.cmp(reg2),\n-\n-            (UnpackedKind::Lifetime(_), UnpackedKind::Type(_))  => Ordering::Less,\n-        }\n+        self.unpack().cmp(&other.unpack())\n     }\n }\n "}]}