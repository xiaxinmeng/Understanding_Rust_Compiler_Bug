{"sha": "68fb218f22bca72eb0f898090ab544d93081a81d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY4ZmIyMThmMjJiY2E3MmViMGY4OTgwOTBhYjU0NGQ5MzA4MWE4MWQ=", "commit": {"author": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2019-12-01T18:11:31Z"}, "committer": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2019-12-03T17:19:17Z"}, "message": "Fix UI tests for new locations", "tree": {"sha": "84fbd10a47a59ee3a1ecda72a11c8090fa03eea1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/84fbd10a47a59ee3a1ecda72a11c8090fa03eea1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/68fb218f22bca72eb0f898090ab544d93081a81d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/68fb218f22bca72eb0f898090ab544d93081a81d", "html_url": "https://github.com/rust-lang/rust/commit/68fb218f22bca72eb0f898090ab544d93081a81d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/68fb218f22bca72eb0f898090ab544d93081a81d/comments", "author": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "42c4ae0d4bada3ae2096a197e59474485459f2a9", "url": "https://api.github.com/repos/rust-lang/rust/commits/42c4ae0d4bada3ae2096a197e59474485459f2a9", "html_url": "https://github.com/rust-lang/rust/commit/42c4ae0d4bada3ae2096a197e59474485459f2a9"}], "stats": {"total": 27, "additions": 15, "deletions": 12}, "files": [{"sha": "e9ef58f29a8f57837539bacb0a13b54854dc8d0e", "filename": "src/test/ui-fulldeps/auxiliary/issue-40001-plugin.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fissue-40001-plugin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fissue-40001-plugin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Fissue-40001-plugin.rs?ref=68fb218f22bca72eb0f898090ab544d93081a81d", "patch": "@@ -1,8 +1,8 @@\n #![feature(box_syntax, plugin, plugin_registrar, rustc_private)]\n #![crate_type = \"dylib\"]\n \n-#[macro_use]\n-extern crate rustc;\n+#[macro_use] extern crate rustc;\n+#[macro_use] extern crate rustc_session;\n extern crate rustc_driver;\n extern crate syntax;\n "}, {"sha": "118ba1711191b3f086b9fe5dc73efb62c9d92ba4", "filename": "src/test/ui-fulldeps/auxiliary/lint-for-crate-rpass.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-for-crate-rpass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-for-crate-rpass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-for-crate-rpass.rs?ref=68fb218f22bca72eb0f898090ab544d93081a81d", "patch": "@@ -2,8 +2,8 @@\n \n #![feature(plugin_registrar, rustc_private)]\n #![feature(box_syntax)]\n-\n #[macro_use] extern crate rustc;\n+#[macro_use] extern crate rustc_session;\n extern crate rustc_driver;\n extern crate syntax;\n "}, {"sha": "49ca43d471ba932b24a50b7673c190a9397c7aa9", "filename": "src/test/ui-fulldeps/auxiliary/lint-for-crate.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-for-crate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-for-crate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-for-crate.rs?ref=68fb218f22bca72eb0f898090ab544d93081a81d", "patch": "@@ -4,6 +4,7 @@\n #![feature(box_syntax)]\n \n #[macro_use] extern crate rustc;\n+#[macro_use] extern crate rustc_session;\n extern crate rustc_driver;\n extern crate syntax;\n "}, {"sha": "839c65a6107556af69d37f45bec30c96ba7da701", "filename": "src/test/ui-fulldeps/auxiliary/lint-group-plugin-test.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-group-plugin-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-group-plugin-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-group-plugin-test.rs?ref=68fb218f22bca72eb0f898090ab544d93081a81d", "patch": "@@ -4,8 +4,8 @@\n #![feature(box_syntax, rustc_private)]\n \n // Load rustc as a plugin to get macros.\n-#[macro_use]\n-extern crate rustc;\n+#[macro_use] extern crate rustc;\n+#[macro_use] extern crate rustc_session;\n extern crate rustc_driver;\n \n use rustc::hir;"}, {"sha": "bb96dba21fc2ee6c92594c5601f5be1ec4da8515", "filename": "src/test/ui-fulldeps/auxiliary/lint-plugin-test.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-plugin-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-plugin-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-plugin-test.rs?ref=68fb218f22bca72eb0f898090ab544d93081a81d", "patch": "@@ -6,8 +6,8 @@\n extern crate syntax;\n \n // Load rustc as a plugin to get macros\n-#[macro_use]\n-extern crate rustc;\n+#[macro_use] extern crate rustc;\n+#[macro_use] extern crate rustc_session;\n extern crate rustc_driver;\n \n use rustc::lint::{EarlyContext, LintContext, LintPass, EarlyLintPass, LintArray};"}, {"sha": "170490981379794306608a1f633e6b62db4a6511", "filename": "src/test/ui-fulldeps/auxiliary/lint-tool-test.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-tool-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-tool-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fauxiliary%2Flint-tool-test.rs?ref=68fb218f22bca72eb0f898090ab544d93081a81d", "patch": "@@ -4,8 +4,8 @@\n extern crate syntax;\n \n // Load rustc as a plugin to get macros\n-#[macro_use]\n-extern crate rustc;\n+#[macro_use] extern crate rustc;\n+#[macro_use] extern crate rustc_session;\n extern crate rustc_driver;\n \n use rustc::lint::{EarlyContext, EarlyLintPass, LintArray, LintContext, LintPass, LintId};"}, {"sha": "7ce2a1dd9a62dfe780d8d69d15c0b5733fe8459e", "filename": "src/test/ui-fulldeps/internal-lints/lint_pass_impl_without_macro.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Finternal-lints%2Flint_pass_impl_without_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Finternal-lints%2Flint_pass_impl_without_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Finternal-lints%2Flint_pass_impl_without_macro.rs?ref=68fb218f22bca72eb0f898090ab544d93081a81d", "patch": "@@ -4,9 +4,11 @@\n #![deny(rustc::lint_pass_impl_without_macro)]\n \n extern crate rustc;\n+extern crate rustc_session;\n \n use rustc::lint::{LintArray, LintPass};\n-use rustc::{declare_lint, declare_lint_pass, impl_lint_pass};\n+use rustc::{declare_lint_pass, impl_lint_pass};\n+use rustc_session::declare_lint;\n \n declare_lint! {\n     pub TEST_LINT,"}, {"sha": "ad8670c6c83c8b92bbec2074738abbad9e608608", "filename": "src/test/ui-fulldeps/internal-lints/lint_pass_impl_without_macro.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Finternal-lints%2Flint_pass_impl_without_macro.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/68fb218f22bca72eb0f898090ab544d93081a81d/src%2Ftest%2Fui-fulldeps%2Finternal-lints%2Flint_pass_impl_without_macro.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Finternal-lints%2Flint_pass_impl_without_macro.stderr?ref=68fb218f22bca72eb0f898090ab544d93081a81d", "patch": "@@ -1,5 +1,5 @@\n error: implementing `LintPass` by hand\n-  --> $DIR/lint_pass_impl_without_macro.rs:19:6\n+  --> $DIR/lint_pass_impl_without_macro.rs:21:6\n    |\n LL | impl LintPass for Foo {\n    |      ^^^^^^^^\n@@ -12,7 +12,7 @@ LL | #![deny(rustc::lint_pass_impl_without_macro)]\n    = help: try using `declare_lint_pass!` or `impl_lint_pass!` instead\n \n error: implementing `LintPass` by hand\n-  --> $DIR/lint_pass_impl_without_macro.rs:29:14\n+  --> $DIR/lint_pass_impl_without_macro.rs:31:14\n    |\n LL |         impl LintPass for Custom {\n    |              ^^^^^^^^"}]}