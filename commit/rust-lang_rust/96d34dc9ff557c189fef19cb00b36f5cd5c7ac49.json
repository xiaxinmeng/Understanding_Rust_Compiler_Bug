{"sha": "96d34dc9ff557c189fef19cb00b36f5cd5c7ac49", "node_id": "C_kwDOAAsO6NoAKDk2ZDM0ZGM5ZmY1NTdjMTg5ZmVmMTljYjAwYjM2ZjVjZDVjN2FjNDk", "commit": {"author": {"name": "Katherine Philip", "email": "kurerunoshikaku@yahoo.com", "date": "2022-07-14T00:28:11Z"}, "committer": {"name": "Katherine Philip", "email": "kurerunoshikaku@yahoo.com", "date": "2022-07-14T00:28:11Z"}, "message": "Update tests", "tree": {"sha": "175d93232dbe21f07a16cbb8159e5d2ec69d8c83", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/175d93232dbe21f07a16cbb8159e5d2ec69d8c83"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49", "html_url": "https://github.com/rust-lang/rust/commit/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49/comments", "author": {"login": "atsuzaki", "id": 16256974, "node_id": "MDQ6VXNlcjE2MjU2OTc0", "avatar_url": "https://avatars.githubusercontent.com/u/16256974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atsuzaki", "html_url": "https://github.com/atsuzaki", "followers_url": "https://api.github.com/users/atsuzaki/followers", "following_url": "https://api.github.com/users/atsuzaki/following{/other_user}", "gists_url": "https://api.github.com/users/atsuzaki/gists{/gist_id}", "starred_url": "https://api.github.com/users/atsuzaki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atsuzaki/subscriptions", "organizations_url": "https://api.github.com/users/atsuzaki/orgs", "repos_url": "https://api.github.com/users/atsuzaki/repos", "events_url": "https://api.github.com/users/atsuzaki/events{/privacy}", "received_events_url": "https://api.github.com/users/atsuzaki/received_events", "type": "User", "site_admin": false}, "committer": {"login": "atsuzaki", "id": 16256974, "node_id": "MDQ6VXNlcjE2MjU2OTc0", "avatar_url": "https://avatars.githubusercontent.com/u/16256974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/atsuzaki", "html_url": "https://github.com/atsuzaki", "followers_url": "https://api.github.com/users/atsuzaki/followers", "following_url": "https://api.github.com/users/atsuzaki/following{/other_user}", "gists_url": "https://api.github.com/users/atsuzaki/gists{/gist_id}", "starred_url": "https://api.github.com/users/atsuzaki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/atsuzaki/subscriptions", "organizations_url": "https://api.github.com/users/atsuzaki/orgs", "repos_url": "https://api.github.com/users/atsuzaki/repos", "events_url": "https://api.github.com/users/atsuzaki/events{/privacy}", "received_events_url": "https://api.github.com/users/atsuzaki/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "083bd7cb1ddf02820caf6cd3e04330458d0624b8", "url": "https://api.github.com/repos/rust-lang/rust/commits/083bd7cb1ddf02820caf6cd3e04330458d0624b8", "html_url": "https://github.com/rust-lang/rust/commit/083bd7cb1ddf02820caf6cd3e04330458d0624b8"}], "stats": {"total": 17, "additions": 10, "deletions": 7}, "files": [{"sha": "79e9834b54ed2c4b4b9b9514641a32471b7b5db2", "filename": "src/test/ui/const-generics/generic_const_exprs/object-safety-ok-infer-err.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fobject-safety-ok-infer-err.rs", "raw_url": "https://github.com/rust-lang/rust/raw/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fobject-safety-ok-infer-err.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fobject-safety-ok-infer-err.rs?ref=96d34dc9ff557c189fef19cb00b36f5cd5c7ac49", "patch": "@@ -16,7 +16,6 @@ fn use_dyn<const N: usize>(v: &dyn Foo<N>) where [u8; N + 1]: Sized {\n }\n \n fn main() {\n-    // FIXME(generic_const_exprs): Improve the error message here.\n     use_dyn(&());\n     //~^ ERROR type annotations needed\n }"}, {"sha": "59e9fee1eaf41317d10e801fcbc8264a5d6bfc52", "filename": "src/test/ui/const-generics/generic_const_exprs/object-safety-ok-infer-err.stderr", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fobject-safety-ok-infer-err.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fobject-safety-ok-infer-err.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fgeneric_const_exprs%2Fobject-safety-ok-infer-err.stderr?ref=96d34dc9ff557c189fef19cb00b36f5cd5c7ac49", "patch": "@@ -1,14 +1,18 @@\n-error[E0284]: type annotations needed: cannot satisfy `the constant `use_dyn::<{_: usize}>::{constant#0}` can be evaluated`\n-  --> $DIR/object-safety-ok-infer-err.rs:20:5\n+error[E0284]: type annotations needed\n+  --> $DIR/object-safety-ok-infer-err.rs:19:5\n    |\n LL |     use_dyn(&());\n-   |     ^^^^^^^ cannot satisfy `the constant `use_dyn::<{_: usize}>::{constant#0}` can be evaluated`\n+   |     ^^^^^^^ cannot infer the value of the const parameter `N` declared on the function `use_dyn`\n    |\n note: required by a bound in `use_dyn`\n   --> $DIR/object-safety-ok-infer-err.rs:14:55\n    |\n LL | fn use_dyn<const N: usize>(v: &dyn Foo<N>) where [u8; N + 1]: Sized {\n    |                                                       ^^^^^ required by this bound in `use_dyn`\n+help: consider specifying the generic argument\n+   |\n+LL |     use_dyn::<N>(&());\n+   |            +++++\n \n error: aborting due to previous error\n "}, {"sha": "7a78e0f109ca74e0c8073996bbc789dfcd5fdcb5", "filename": "src/test/ui/const-generics/parent_generics_of_encoding_impl_trait.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49/src%2Ftest%2Fui%2Fconst-generics%2Fparent_generics_of_encoding_impl_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49/src%2Ftest%2Fui%2Fconst-generics%2Fparent_generics_of_encoding_impl_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fparent_generics_of_encoding_impl_trait.rs?ref=96d34dc9ff557c189fef19cb00b36f5cd5c7ac49", "patch": "@@ -7,5 +7,5 @@ extern crate generics_of_parent_impl_trait;\n fn main() {\n     // check for `impl Trait<{ const }>` which has a parent of a `DefKind::TyParam`\n     generics_of_parent_impl_trait::foo([()]);\n-    //~^ error: type annotations needed:\n+    //~^ error: type annotations needed\n }"}, {"sha": "87ff7babe71c09793f46f1e2a2d3069771188cb7", "filename": "src/test/ui/const-generics/parent_generics_of_encoding_impl_trait.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49/src%2Ftest%2Fui%2Fconst-generics%2Fparent_generics_of_encoding_impl_trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/96d34dc9ff557c189fef19cb00b36f5cd5c7ac49/src%2Ftest%2Fui%2Fconst-generics%2Fparent_generics_of_encoding_impl_trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fparent_generics_of_encoding_impl_trait.stderr?ref=96d34dc9ff557c189fef19cb00b36f5cd5c7ac49", "patch": "@@ -1,8 +1,8 @@\n-error[E0284]: type annotations needed: cannot satisfy `the constant `foo::{opaque#0}::{constant#0}` can be evaluated`\n+error[E0284]: type annotations needed\n   --> $DIR/parent_generics_of_encoding_impl_trait.rs:9:5\n    |\n LL |     generics_of_parent_impl_trait::foo([()]);\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ cannot satisfy `the constant `foo::{opaque#0}::{constant#0}` can be evaluated`\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ cannot infer the value of const parameter `N` declared on the function `foo`\n    |\n note: required by a bound in `foo`\n   --> $DIR/auxiliary/generics_of_parent_impl_trait.rs:6:48"}]}