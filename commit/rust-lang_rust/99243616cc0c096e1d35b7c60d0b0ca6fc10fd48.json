{"sha": "99243616cc0c096e1d35b7c60d0b0ca6fc10fd48", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk5MjQzNjE2Y2MwYzA5NmUxZDM1YjdjNjBkMGIwY2E2ZmMxMGZkNDg=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2019-11-04T09:09:58Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2019-11-05T13:59:29Z"}, "message": "Review feedback: alpha-rename field from `copy_derives` to `containers_derving_copy`.", "tree": {"sha": "80bfdae51470698a6a593481d41fd51214ada4dd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/80bfdae51470698a6a593481d41fd51214ada4dd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/99243616cc0c096e1d35b7c60d0b0ca6fc10fd48", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/99243616cc0c096e1d35b7c60d0b0ca6fc10fd48", "html_url": "https://github.com/rust-lang/rust/commit/99243616cc0c096e1d35b7c60d0b0ca6fc10fd48", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/99243616cc0c096e1d35b7c60d0b0ca6fc10fd48/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0dfe0ed8e1b2b8596a8cabee0afdae23e343ee69", "url": "https://api.github.com/repos/rust-lang/rust/commits/0dfe0ed8e1b2b8596a8cabee0afdae23e343ee69", "html_url": "https://github.com/rust-lang/rust/commit/0dfe0ed8e1b2b8596a8cabee0afdae23e343ee69"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "5c996bffb9ad9431c46cdc08fbbb320d274513af", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/99243616cc0c096e1d35b7c60d0b0ca6fc10fd48/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99243616cc0c096e1d35b7c60d0b0ca6fc10fd48/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=99243616cc0c096e1d35b7c60d0b0ca6fc10fd48", "patch": "@@ -936,7 +936,7 @@ pub struct Resolver<'a> {\n     /// `derive(Copy)` marks items they are applied to so they are treated specially later.\n     /// Derive macros cannot modify the item themselves and have to store the markers in the global\n     /// context, so they attach the markers to derive container IDs using this resolver table.\n-    copy_derives: FxHashSet<ExpnId>,\n+    containers_deriving_copy: FxHashSet<ExpnId>,\n     /// Parent scopes in which the macros were invoked.\n     /// FIXME: `derives` are missing in these parent scopes and need to be taken from elsewhere.\n     invocation_parent_scopes: FxHashMap<ExpnId, ParentScope<'a>>,\n@@ -1219,7 +1219,7 @@ impl<'a> Resolver<'a> {\n             single_segment_macro_resolutions: Default::default(),\n             multi_segment_macro_resolutions: Default::default(),\n             builtin_attrs: Default::default(),\n-            copy_derives: Default::default(),\n+            containers_deriving_copy: Default::default(),\n             active_features:\n                 features.declared_lib_features.iter().map(|(feat, ..)| *feat)\n                     .chain(features.declared_lang_features.iter().map(|(feat, ..)| *feat))"}, {"sha": "0fbd6b0e5d3062b642549a83ac0b4b45cf2ad65a", "filename": "src/librustc_resolve/macros.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/99243616cc0c096e1d35b7c60d0b0ca6fc10fd48/src%2Flibrustc_resolve%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/99243616cc0c096e1d35b7c60d0b0ca6fc10fd48/src%2Flibrustc_resolve%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fmacros.rs?ref=99243616cc0c096e1d35b7c60d0b0ca6fc10fd48", "patch": "@@ -255,11 +255,11 @@ impl<'a> base::Resolver for Resolver<'a> {\n     }\n \n     fn has_derive_copy(&self, expn_id: ExpnId) -> bool {\n-        self.copy_derives.contains(&expn_id)\n+        self.containers_deriving_copy.contains(&expn_id)\n     }\n \n     fn add_derive_copy(&mut self, expn_id: ExpnId) {\n-        self.copy_derives.insert(expn_id);\n+        self.containers_deriving_copy.insert(expn_id);\n     }\n }\n "}]}