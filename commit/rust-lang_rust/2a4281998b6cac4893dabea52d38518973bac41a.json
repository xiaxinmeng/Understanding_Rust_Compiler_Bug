{"sha": "2a4281998b6cac4893dabea52d38518973bac41a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJhNDI4MTk5OGI2Y2FjNDg5M2RhYmVhNTJkMzg1MTg5NzNiYWM0MWE=", "commit": {"author": {"name": "TheGoddessInari", "email": "thegoddessinari@gmail.com", "date": "2019-03-26T15:46:41Z"}, "committer": {"name": "TheGoddessInari", "email": "thegoddessinari@gmail.com", "date": "2019-03-26T15:56:32Z"}, "message": "Remove the block on natvis for lld-link.", "tree": {"sha": "14b1086aab5f4f8ba3aca0d62640ca9fb1e14f09", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/14b1086aab5f4f8ba3aca0d62640ca9fb1e14f09"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2a4281998b6cac4893dabea52d38518973bac41a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEyDi/qfCbex9EKB6wASCbG3Yy1poFAlyaS7YACgkQASCbG3Yy\n1pqkMQ/9HmfCVr9Fqn4KlX01EEiXWUUDjjWod8S5RCVu4XvCjcDaavYouZ1kn4zU\nwsIz/WIE8sMvhDLsnedmTGsigXZQFRdN4i9SOxm5/QWehSIHOW1Mszx/CxfAg22n\nZxZs19L9plgyfgQHVvHKDVzBI557H9mVQdRhw8kFKqNPKUIyazcraVOay6EJYu+Y\noQ9XZBj+D67Wtx9eue2oAxfTq3XEL4C/gJ6WAD2UmGc25mv0vgkhBHL1x2tJ2DcR\nDovKYMuTkFcnCuRtZGbTJM3hvI5caqoBNXepifZCn7IQfQCpEv9cyn9CFf4VVEES\nJkRHvLCS1df0XlSpxrQhdNQAL6b2Udvmgz+GDNB5ni54IyZR1bejJcYRTxWLqwS9\nw2nUs1E+mRmvjylokL7ARwgXVDYHC1xR9yHcsDi7Qm/esiI4zH9Rrief1M1L0oXH\nKLI6bInUp8CB4uisTmw6EpUsukV3kbiKIOHIdjynh8e/0pHisccuz8zhDphlLXYP\nLnL1FvrOkkT5yycbmPuXmNuVJc8nyQ+Ido91gMzU4/slv9gzvsMvd5OsdJ+rIZlU\nDacFCaZQqxQMVxl7L7qCvPWEpNGBViCHW2j6+H//hzSxRt45GTWx8DZ30aHYvjj+\nvKyIK1Qhoi69AocjU0MjHDf9jxxoEzI2br+P6zpPXUz8E9iKtxE=\n=gmEb\n-----END PGP SIGNATURE-----", "payload": "tree 14b1086aab5f4f8ba3aca0d62640ca9fb1e14f09\nparent 54479c624cc24bb852291d83e11cc19389dcb21b\nauthor TheGoddessInari <thegoddessinari@gmail.com> 1553615201 -0700\ncommitter TheGoddessInari <thegoddessinari@gmail.com> 1553615792 -0700\n\nRemove the block on natvis for lld-link.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2a4281998b6cac4893dabea52d38518973bac41a", "html_url": "https://github.com/rust-lang/rust/commit/2a4281998b6cac4893dabea52d38518973bac41a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2a4281998b6cac4893dabea52d38518973bac41a/comments", "author": {"login": "TheGoddessInari", "id": 38739324, "node_id": "MDQ6VXNlcjM4NzM5MzI0", "avatar_url": "https://avatars.githubusercontent.com/u/38739324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheGoddessInari", "html_url": "https://github.com/TheGoddessInari", "followers_url": "https://api.github.com/users/TheGoddessInari/followers", "following_url": "https://api.github.com/users/TheGoddessInari/following{/other_user}", "gists_url": "https://api.github.com/users/TheGoddessInari/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheGoddessInari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheGoddessInari/subscriptions", "organizations_url": "https://api.github.com/users/TheGoddessInari/orgs", "repos_url": "https://api.github.com/users/TheGoddessInari/repos", "events_url": "https://api.github.com/users/TheGoddessInari/events{/privacy}", "received_events_url": "https://api.github.com/users/TheGoddessInari/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TheGoddessInari", "id": 38739324, "node_id": "MDQ6VXNlcjM4NzM5MzI0", "avatar_url": "https://avatars.githubusercontent.com/u/38739324?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TheGoddessInari", "html_url": "https://github.com/TheGoddessInari", "followers_url": "https://api.github.com/users/TheGoddessInari/followers", "following_url": "https://api.github.com/users/TheGoddessInari/following{/other_user}", "gists_url": "https://api.github.com/users/TheGoddessInari/gists{/gist_id}", "starred_url": "https://api.github.com/users/TheGoddessInari/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TheGoddessInari/subscriptions", "organizations_url": "https://api.github.com/users/TheGoddessInari/orgs", "repos_url": "https://api.github.com/users/TheGoddessInari/repos", "events_url": "https://api.github.com/users/TheGoddessInari/events{/privacy}", "received_events_url": "https://api.github.com/users/TheGoddessInari/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "54479c624cc24bb852291d83e11cc19389dcb21b", "url": "https://api.github.com/repos/rust-lang/rust/commits/54479c624cc24bb852291d83e11cc19389dcb21b", "html_url": "https://github.com/rust-lang/rust/commit/54479c624cc24bb852291d83e11cc19389dcb21b"}], "stats": {"total": 12, "additions": 0, "deletions": 12}, "files": [{"sha": "244505976b6c289804383cd3d251a5ba2bd0a92f", "filename": "src/librustc_codegen_ssa/back/linker.rs", "status": "modified", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/2a4281998b6cac4893dabea52d38518973bac41a/src%2Flibrustc_codegen_ssa%2Fback%2Flinker.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2a4281998b6cac4893dabea52d38518973bac41a/src%2Flibrustc_codegen_ssa%2Fback%2Flinker.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_ssa%2Fback%2Flinker.rs?ref=2a4281998b6cac4893dabea52d38518973bac41a", "patch": "@@ -596,18 +596,6 @@ impl<'a> Linker for MsvcLinker<'a> {\n         // This will cause the Microsoft linker to embed .natvis info into the PDB file\n         let natvis_dir_path = self.sess.sysroot.join(\"lib\\\\rustlib\\\\etc\");\n         if let Ok(natvis_dir) = fs::read_dir(&natvis_dir_path) {\n-            // LLVM 5.0.0's lld-link frontend doesn't yet recognize, and chokes\n-            // on, the /NATVIS:... flags.  LLVM 6 (or earlier) should at worst ignore\n-            // them, eventually mooting this workaround, per this landed patch:\n-            // https://github.com/llvm-mirror/lld/commit/27b9c4285364d8d76bb43839daa100\n-            if let Some(ref linker_path) = self.sess.opts.cg.linker {\n-                if let Some(linker_name) = Path::new(&linker_path).file_stem() {\n-                    if linker_name.to_str().unwrap().to_lowercase() == \"lld-link\" {\n-                        self.sess.warn(\"not embedding natvis: lld-link may not support the flag\");\n-                        return;\n-                    }\n-                }\n-            }\n             for entry in natvis_dir {\n                 match entry {\n                     Ok(entry) => {"}]}