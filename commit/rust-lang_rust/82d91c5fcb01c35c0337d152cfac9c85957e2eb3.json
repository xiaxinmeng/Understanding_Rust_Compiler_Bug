{"sha": "82d91c5fcb01c35c0337d152cfac9c85957e2eb3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyZDkxYzVmY2IwMWMzNWMwMzM3ZDE1MmNmYWM5Yzg1OTU3ZTJlYjM=", "commit": {"author": {"name": "Pascal Hertleif", "email": "killercup@gmail.com", "date": "2018-01-04T11:37:47Z"}, "committer": {"name": "Pascal Hertleif", "email": "killercup@gmail.com", "date": "2018-01-04T11:46:26Z"}, "message": "Add auto-fixable `println!()` suggestion\n\nFixes #2319", "tree": {"sha": "238baec53625ec20c5ca834cf107efbec70b19bd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/238baec53625ec20c5ca834cf107efbec70b19bd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/82d91c5fcb01c35c0337d152cfac9c85957e2eb3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/82d91c5fcb01c35c0337d152cfac9c85957e2eb3", "html_url": "https://github.com/rust-lang/rust/commit/82d91c5fcb01c35c0337d152cfac9c85957e2eb3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/82d91c5fcb01c35c0337d152cfac9c85957e2eb3/comments", "author": {"login": "killercup", "id": 20063, "node_id": "MDQ6VXNlcjIwMDYz", "avatar_url": "https://avatars.githubusercontent.com/u/20063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/killercup", "html_url": "https://github.com/killercup", "followers_url": "https://api.github.com/users/killercup/followers", "following_url": "https://api.github.com/users/killercup/following{/other_user}", "gists_url": "https://api.github.com/users/killercup/gists{/gist_id}", "starred_url": "https://api.github.com/users/killercup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/killercup/subscriptions", "organizations_url": "https://api.github.com/users/killercup/orgs", "repos_url": "https://api.github.com/users/killercup/repos", "events_url": "https://api.github.com/users/killercup/events{/privacy}", "received_events_url": "https://api.github.com/users/killercup/received_events", "type": "User", "site_admin": false}, "committer": {"login": "killercup", "id": 20063, "node_id": "MDQ6VXNlcjIwMDYz", "avatar_url": "https://avatars.githubusercontent.com/u/20063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/killercup", "html_url": "https://github.com/killercup", "followers_url": "https://api.github.com/users/killercup/followers", "following_url": "https://api.github.com/users/killercup/following{/other_user}", "gists_url": "https://api.github.com/users/killercup/gists{/gist_id}", "starred_url": "https://api.github.com/users/killercup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/killercup/subscriptions", "organizations_url": "https://api.github.com/users/killercup/orgs", "repos_url": "https://api.github.com/users/killercup/repos", "events_url": "https://api.github.com/users/killercup/events{/privacy}", "received_events_url": "https://api.github.com/users/killercup/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ca3d6dd51a4a6af727a8990ca168ad87b6dfa240", "url": "https://api.github.com/repos/rust-lang/rust/commits/ca3d6dd51a4a6af727a8990ca168ad87b6dfa240", "html_url": "https://github.com/rust-lang/rust/commit/ca3d6dd51a4a6af727a8990ca168ad87b6dfa240"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "451b27033ea326664b306f66e800af2e26df72f6", "filename": "clippy_lints/src/print.rs", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/82d91c5fcb01c35c0337d152cfac9c85957e2eb3/clippy_lints%2Fsrc%2Fprint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/82d91c5fcb01c35c0337d152cfac9c85957e2eb3/clippy_lints%2Fsrc%2Fprint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fprint.rs?ref=82d91c5fcb01c35c0337d152cfac9c85957e2eb3", "patch": "@@ -5,7 +5,7 @@ use rustc::lint::*;\n use syntax::ast::LitKind;\n use syntax::symbol::InternedString;\n use syntax_pos::Span;\n-use utils::{is_expn_of, match_def_path, match_path, resolve_node, span_lint};\n+use utils::{is_expn_of, match_def_path, match_path, resolve_node, span_lint, span_lint_and_sugg};\n use utils::{opt_def_id, paths};\n \n /// **What it does:** This lint warns when you using `println!(\"\")` to\n@@ -182,8 +182,14 @@ fn check_println<'a, 'tcx>(cx: &LateContext<'a, 'tcx>, span: Span, fmtstr: Inter\n         if let Ok(snippet) = cx.sess().codemap().span_to_snippet(span);\n         if snippet.contains(\"\\\"\\\"\");\n         then {\n-            span_lint(cx, PRINT_WITH_NEWLINE, span,\n-                      \"using `println!(\\\"\\\")`, consider using `println!()` instead\");\n+            span_lint_and_sugg(\n+                cx,\n+                PRINT_WITH_NEWLINE,\n+                span,\n+                \"using `println!(\\\"\\\")`\",\n+                \"replace it with\",\n+                \"println!()\".to_string(),\n+            );\n          }\n     }\n }"}, {"sha": "2036d7d976bff26198c9b8b857d7928a66a8bb15", "filename": "tests/ui/println_empty_string.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/82d91c5fcb01c35c0337d152cfac9c85957e2eb3/tests%2Fui%2Fprintln_empty_string.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/82d91c5fcb01c35c0337d152cfac9c85957e2eb3/tests%2Fui%2Fprintln_empty_string.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fprintln_empty_string.stderr?ref=82d91c5fcb01c35c0337d152cfac9c85957e2eb3", "patch": "@@ -1,8 +1,8 @@\n-error: using `println!(\"\")`, consider using `println!()` instead\n+error: using `println!(\"\")`\n  --> $DIR/println_empty_string.rs:3:5\n   |\n 3 |     println!(\"\");\n-  |     ^^^^^^^^^^^^^\n+  |     ^^^^^^^^^^^^^ help: replace it with: `println!()`\n   |\n   = note: `-D print-with-newline` implied by `-D warnings`\n "}]}