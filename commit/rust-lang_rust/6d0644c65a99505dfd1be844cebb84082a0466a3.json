{"sha": "6d0644c65a99505dfd1be844cebb84082a0466a3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZkMDY0NGM2NWE5OTUwNWRmZDFiZTg0NGNlYmI4NDA4MmEwNDY2YTM=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2018-07-06T10:33:38Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-07-06T10:33:38Z"}, "message": "tweak comment", "tree": {"sha": "a93e3c5ed509ad79a17573ea5180907c8898ed88", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a93e3c5ed509ad79a17573ea5180907c8898ed88"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6d0644c65a99505dfd1be844cebb84082a0466a3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbP0WCCRBK7hj4Ov3rIwAAdHIIAFzfYlr/IV7vy/AR8tA33N2j\nPScEFY3UCA5NUyFMnhbfrwynn+q23LSHg+2Z6OHEzNVIiS71iSDdUDnfvnxB22LD\n5yNw67/YDKXQz6kaAMmGu+278hVwh8hcD+ENk6e9RRtK0YRYt385esqdZmHsczAJ\nMLfcSYs7eHnUw3+pib2cD5J6jT1xuzcsZI8KhQa9gAi2ZP5zymiwZCBR6opMpWOQ\nWyKxVAZaA+ePYK63rPMXDx0CVc85SKS57wBpw/Mjclw5HFmQzD6kh7826YOn493i\n8Ox0/Eew0oWGe5s1F18pSCfYIm3Q5hAdZtq1qVX7O8kAVEMgmfLWM8JsM0dp79o=\n=1hvF\n-----END PGP SIGNATURE-----\n", "payload": "tree a93e3c5ed509ad79a17573ea5180907c8898ed88\nparent f247a3e49059472a275cbe4f482b9582022e8ca4\nauthor Niko Matsakis <niko@alum.mit.edu> 1530873218 -0400\ncommitter GitHub <noreply@github.com> 1530873218 -0400\n\ntweak comment"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6d0644c65a99505dfd1be844cebb84082a0466a3", "html_url": "https://github.com/rust-lang/rust/commit/6d0644c65a99505dfd1be844cebb84082a0466a3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6d0644c65a99505dfd1be844cebb84082a0466a3/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f247a3e49059472a275cbe4f482b9582022e8ca4", "url": "https://api.github.com/repos/rust-lang/rust/commits/f247a3e49059472a275cbe4f482b9582022e8ca4", "html_url": "https://github.com/rust-lang/rust/commit/f247a3e49059472a275cbe4f482b9582022e8ca4"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "a9eec53fd94b28a2c4d7a7a70577ceda4484e3fe", "filename": "src/librustc_mir/borrow_check/places_conflict.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/6d0644c65a99505dfd1be844cebb84082a0466a3/src%2Flibrustc_mir%2Fborrow_check%2Fplaces_conflict.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d0644c65a99505dfd1be844cebb84082a0466a3/src%2Flibrustc_mir%2Fborrow_check%2Fplaces_conflict.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fplaces_conflict.rs?ref=6d0644c65a99505dfd1be844cebb84082a0466a3", "patch": "@@ -425,9 +425,10 @@ fn place_element_conflict<'a, 'gcx: 'tcx, 'tcx>(\n                        offset: offset_from_begin, min_length: min_length2, from_end: false }) => {\n                     // both patterns matched so it must be at least the greater of the two\n                     let min_length = max(min_length1, min_length2);\n-                    // offset_from_end can be in range [1..min_length], -1 for last and min_length\n-                    // for first, min_length - offset_from_end gives minimal possible offset from\n-                    // the beginning\n+                    // `offset_from_end` can be in range `[1..min_length]`, 1 indicates the last\n+                    // element (like -1 in Python) and `min_length` the first.\n+                    // Therefore, `min_length - offset_from_end` gives the minimal possible\n+                    // offset from the beginning\n                     if *offset_from_begin >= min_length - offset_from_end {\n                         debug!(\"place_element_conflict: DISJOINT-OR-EQ-ARRAY-CONSTANT-INDEX-FE\");\n                         Overlap::EqualOrDisjoint"}]}