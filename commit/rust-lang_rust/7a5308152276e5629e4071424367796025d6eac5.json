{"sha": "7a5308152276e5629e4071424367796025d6eac5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdhNTMwODE1MjI3NmU1NjI5ZTQwNzE0MjQzNjc3OTYwMjVkNmVhYzU=", "commit": {"author": {"name": "Liigo Zhuang", "email": "com.liigo@gmail.com", "date": "2015-04-22T16:50:19Z"}, "committer": {"name": "Liigo Zhuang", "email": "com.liigo@gmail.com", "date": "2015-04-22T17:37:01Z"}, "message": "rustdoc: toggle collapse/expand all docs using the same link", "tree": {"sha": "f53acdb90eb63dc43fd0c7ff4b953b82f89c1457", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f53acdb90eb63dc43fd0c7ff4b953b82f89c1457"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7a5308152276e5629e4071424367796025d6eac5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7a5308152276e5629e4071424367796025d6eac5", "html_url": "https://github.com/rust-lang/rust/commit/7a5308152276e5629e4071424367796025d6eac5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7a5308152276e5629e4071424367796025d6eac5/comments", "author": {"login": "liigo", "id": 346530, "node_id": "MDQ6VXNlcjM0NjUzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/346530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liigo", "html_url": "https://github.com/liigo", "followers_url": "https://api.github.com/users/liigo/followers", "following_url": "https://api.github.com/users/liigo/following{/other_user}", "gists_url": "https://api.github.com/users/liigo/gists{/gist_id}", "starred_url": "https://api.github.com/users/liigo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liigo/subscriptions", "organizations_url": "https://api.github.com/users/liigo/orgs", "repos_url": "https://api.github.com/users/liigo/repos", "events_url": "https://api.github.com/users/liigo/events{/privacy}", "received_events_url": "https://api.github.com/users/liigo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "liigo", "id": 346530, "node_id": "MDQ6VXNlcjM0NjUzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/346530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liigo", "html_url": "https://github.com/liigo", "followers_url": "https://api.github.com/users/liigo/followers", "following_url": "https://api.github.com/users/liigo/following{/other_user}", "gists_url": "https://api.github.com/users/liigo/gists{/gist_id}", "starred_url": "https://api.github.com/users/liigo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liigo/subscriptions", "organizations_url": "https://api.github.com/users/liigo/orgs", "repos_url": "https://api.github.com/users/liigo/repos", "events_url": "https://api.github.com/users/liigo/events{/privacy}", "received_events_url": "https://api.github.com/users/liigo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "50cd2e84d5d0c73a4dcda291b898c1f8ae0ddc8c", "url": "https://api.github.com/repos/rust-lang/rust/commits/50cd2e84d5d0c73a4dcda291b898c1f8ae0ddc8c", "html_url": "https://github.com/rust-lang/rust/commit/50cd2e84d5d0c73a4dcda291b898c1f8ae0ddc8c"}], "stats": {"total": 35, "additions": 20, "deletions": 15}, "files": [{"sha": "1993f03efd1fabbc8e7539be2ec4b93f57fe9e55", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/7a5308152276e5629e4071424367796025d6eac5/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a5308152276e5629e4071424367796025d6eac5/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=7a5308152276e5629e4071424367796025d6eac5", "patch": "@@ -1460,7 +1460,7 @@ impl<'a> fmt::Display for Item<'a> {\n         try!(write!(fmt, \"<span class='out-of-band'>\"));\n         try!(write!(fmt,\n         r##\"<span id='render-detail'>\n-            <a id=\"collapse-all\" href=\"#\">[-]</a>&nbsp;<a id=\"expand-all\" href=\"#\">[+]</a>\n+            <a id=\"toggle-all-docs\" href=\"#\" title=\"collapse all docs\">[-]</a>\n         </span>\"##));\n \n         // Write `src` tag\n@@ -1473,8 +1473,8 @@ impl<'a> fmt::Display for Item<'a> {\n             match self.href(self.cx) {\n                 Some(l) => {\n                     try!(write!(fmt, \"<a id='src-{}' class='srclink' \\\n-                                       href='{}'>[src]</a>\",\n-                                self.item.def_id.node, l));\n+                                       href='{}' title='{}'>[src]</a>\",\n+                                self.item.def_id.node, l, \"goto source code\"));\n                 }\n                 None => {}\n             }"}, {"sha": "9e00a64d3f5a63ce88928851dcffffcbf36b10d1", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 17, "deletions": 12, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/7a5308152276e5629e4071424367796025d6eac5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/7a5308152276e5629e4071424367796025d6eac5/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=7a5308152276e5629e4071424367796025d6eac5", "patch": "@@ -806,18 +806,23 @@\n         window.location = $('.srclink').attr('href');\n     }\n \n-    $(\"#expand-all\").on(\"click\", function() {\n-        $(\".docblock\").show();\n-        $(\".toggle-label\").hide();\n-        $(\".toggle-wrapper\").removeClass(\"collapsed\");\n-        $(\".collapse-toggle\").children(\".inner\").html(\"-\");\n-    });\n-\n-    $(\"#collapse-all\").on(\"click\", function() {\n-        $(\".docblock\").hide();\n-        $(\".toggle-label\").show();\n-        $(\".toggle-wrapper\").addClass(\"collapsed\");\n-        $(\".collapse-toggle\").children(\".inner\").html(\"+\");\n+    $(\"#toggle-all-docs\").on(\"click\", function() {\n+        var toggle = $(\"#toggle-all-docs\");\n+        if (toggle.html() == \"[-]\") {\n+            toggle.html(\"[+]\");\n+            toggle.attr(\"title\", \"expand all docs\");\n+            $(\".docblock\").hide();\n+            $(\".toggle-label\").show();\n+            $(\".toggle-wrapper\").addClass(\"collapsed\");\n+            $(\".collapse-toggle\").children(\".inner\").html(\"+\");\n+        } else {\n+            toggle.html(\"[-]\");\n+            toggle.attr(\"title\", \"collapse all docs\");\n+            $(\".docblock\").show();\n+            $(\".toggle-label\").hide();\n+            $(\".toggle-wrapper\").removeClass(\"collapsed\");\n+            $(\".collapse-toggle\").children(\".inner\").html(\"-\");\n+        }\n     });\n \n     $(document).on(\"click\", \".collapse-toggle\", function() {"}]}