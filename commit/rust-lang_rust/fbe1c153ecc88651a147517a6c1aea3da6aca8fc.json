{"sha": "fbe1c153ecc88651a147517a6c1aea3da6aca8fc", "node_id": "C_kwDOAAsO6NoAKGZiZTFjMTUzZWNjODg2NTFhMTQ3NTE3YTZjMWFlYTNkYTZhY2E4ZmM", "commit": {"author": {"name": "Lo\u00efc BRANSTETT", "email": "lolo.branstett@numericable.fr", "date": "2022-02-19T23:04:10Z"}, "committer": {"name": "Lo\u00efc BRANSTETT", "email": "lolo.branstett@numericable.fr", "date": "2022-02-22T21:59:16Z"}, "message": "Add test for well known names defined by rustc", "tree": {"sha": "87c5ce84dec99e316f584613e77ee6d4381d0e74", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/87c5ce84dec99e316f584613e77ee6d4381d0e74"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fbe1c153ecc88651a147517a6c1aea3da6aca8fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fbe1c153ecc88651a147517a6c1aea3da6aca8fc", "html_url": "https://github.com/rust-lang/rust/commit/fbe1c153ecc88651a147517a6c1aea3da6aca8fc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fbe1c153ecc88651a147517a6c1aea3da6aca8fc/comments", "author": {"login": "Urgau", "id": 3616612, "node_id": "MDQ6VXNlcjM2MTY2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3616612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Urgau", "html_url": "https://github.com/Urgau", "followers_url": "https://api.github.com/users/Urgau/followers", "following_url": "https://api.github.com/users/Urgau/following{/other_user}", "gists_url": "https://api.github.com/users/Urgau/gists{/gist_id}", "starred_url": "https://api.github.com/users/Urgau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Urgau/subscriptions", "organizations_url": "https://api.github.com/users/Urgau/orgs", "repos_url": "https://api.github.com/users/Urgau/repos", "events_url": "https://api.github.com/users/Urgau/events{/privacy}", "received_events_url": "https://api.github.com/users/Urgau/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Urgau", "id": 3616612, "node_id": "MDQ6VXNlcjM2MTY2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3616612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Urgau", "html_url": "https://github.com/Urgau", "followers_url": "https://api.github.com/users/Urgau/followers", "following_url": "https://api.github.com/users/Urgau/following{/other_user}", "gists_url": "https://api.github.com/users/Urgau/gists{/gist_id}", "starred_url": "https://api.github.com/users/Urgau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Urgau/subscriptions", "organizations_url": "https://api.github.com/users/Urgau/orgs", "repos_url": "https://api.github.com/users/Urgau/repos", "events_url": "https://api.github.com/users/Urgau/events{/privacy}", "received_events_url": "https://api.github.com/users/Urgau/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "da896d35f471a27eb7b9385d6eadf50a5f761265", "url": "https://api.github.com/repos/rust-lang/rust/commits/da896d35f471a27eb7b9385d6eadf50a5f761265", "html_url": "https://github.com/rust-lang/rust/commit/da896d35f471a27eb7b9385d6eadf50a5f761265"}], "stats": {"total": 49, "additions": 49, "deletions": 0}, "files": [{"sha": "a66568a2ffdc98efe62dc3830e52eab824e49fe2", "filename": "src/test/ui/check-cfg/well-known-names.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/fbe1c153ecc88651a147517a6c1aea3da6aca8fc/src%2Ftest%2Fui%2Fcheck-cfg%2Fwell-known-names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fbe1c153ecc88651a147517a6c1aea3da6aca8fc/src%2Ftest%2Fui%2Fcheck-cfg%2Fwell-known-names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcheck-cfg%2Fwell-known-names.rs?ref=fbe1c153ecc88651a147517a6c1aea3da6aca8fc", "patch": "@@ -0,0 +1,27 @@\n+// This test checks that we lint on non well known names and that we don't lint on well known names\n+//\n+// check-pass\n+// compile-flags: --check-cfg=names() -Z unstable-options\n+\n+#[cfg(target_oz = \"linux\")]\n+//~^ WARNING unexpected `cfg` condition name\n+fn target_os_misspell() {}\n+\n+#[cfg(target_os = \"linux\")]\n+fn target_os() {}\n+\n+#[cfg(features = \"foo\")]\n+//~^ WARNING unexpected `cfg` condition name\n+fn feature_misspell() {}\n+\n+#[cfg(feature = \"foo\")]\n+fn feature() {}\n+\n+#[cfg(uniw)]\n+//~^ WARNING unexpected `cfg` condition name\n+fn unix_misspell() {}\n+\n+#[cfg(unix)]\n+fn unix() {}\n+\n+fn main() {}"}, {"sha": "a6b9a77dc8d9a8419ea4c5e6fc6f497edfd67a26", "filename": "src/test/ui/check-cfg/well-known-names.stderr", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/fbe1c153ecc88651a147517a6c1aea3da6aca8fc/src%2Ftest%2Fui%2Fcheck-cfg%2Fwell-known-names.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/fbe1c153ecc88651a147517a6c1aea3da6aca8fc/src%2Ftest%2Fui%2Fcheck-cfg%2Fwell-known-names.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcheck-cfg%2Fwell-known-names.stderr?ref=fbe1c153ecc88651a147517a6c1aea3da6aca8fc", "patch": "@@ -0,0 +1,22 @@\n+warning: unexpected `cfg` condition name\n+  --> $DIR/well-known-names.rs:6:7\n+   |\n+LL | #[cfg(target_oz = \"linux\")]\n+   |       ^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: `#[warn(unexpected_cfgs)]` on by default\n+\n+warning: unexpected `cfg` condition name\n+  --> $DIR/well-known-names.rs:13:7\n+   |\n+LL | #[cfg(features = \"foo\")]\n+   |       ^^^^^^^^^^^^^^^^\n+\n+warning: unexpected `cfg` condition name\n+  --> $DIR/well-known-names.rs:20:7\n+   |\n+LL | #[cfg(uniw)]\n+   |       ^^^^\n+\n+warning: 3 warnings emitted\n+"}]}