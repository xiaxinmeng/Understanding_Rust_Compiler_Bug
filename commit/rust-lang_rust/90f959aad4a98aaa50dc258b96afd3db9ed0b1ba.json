{"sha": "90f959aad4a98aaa50dc258b96afd3db9ed0b1ba", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkwZjk1OWFhZDRhOThhYWE1MGRjMjU4Yjk2YWZkM2RiOWVkMGIxYmE=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-09-29T01:29:31Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2012-09-29T02:26:24Z"}, "message": "Fix graph500-bfs", "tree": {"sha": "7177765539bf39483b8b49f4f0a331fafa4590ba", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7177765539bf39483b8b49f4f0a331fafa4590ba"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/90f959aad4a98aaa50dc258b96afd3db9ed0b1ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/90f959aad4a98aaa50dc258b96afd3db9ed0b1ba", "html_url": "https://github.com/rust-lang/rust/commit/90f959aad4a98aaa50dc258b96afd3db9ed0b1ba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/90f959aad4a98aaa50dc258b96afd3db9ed0b1ba/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c9fb1b19aab4f2cb1d447b1943159e462f6ffe2d", "url": "https://api.github.com/repos/rust-lang/rust/commits/c9fb1b19aab4f2cb1d447b1943159e462f6ffe2d", "html_url": "https://github.com/rust-lang/rust/commit/c9fb1b19aab4f2cb1d447b1943159e462f6ffe2d"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "f35a3ce735fee877b6d492a26bc2bbf21898d8b3", "filename": "src/test/bench/graph500-bfs.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/90f959aad4a98aaa50dc258b96afd3db9ed0b1ba/src%2Ftest%2Fbench%2Fgraph500-bfs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/90f959aad4a98aaa50dc258b96afd3db9ed0b1ba/src%2Ftest%2Fbench%2Fgraph500-bfs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fgraph500-bfs.rs?ref=90f959aad4a98aaa50dc258b96afd3db9ed0b1ba", "patch": "@@ -238,11 +238,11 @@ fn pbfs(&&graph: arc::ARC<graph>, key: node_id) -> bfs_result {\n         }\n     }\n \n-    let mut i = 0u;\n+    let mut i = 0;\n     while par::any(colors, is_gray) {\n         // Do the BFS.\n         log(info, fmt!(\"PBFS iteration %?\", i));\n-        i += 1u;\n+        i += 1;\n         let old_len = colors.len();\n \n         let color = arc::ARC(colors);\n@@ -264,7 +264,7 @@ fn pbfs(&&graph: arc::ARC<graph>, key: node_id) -> bfs_result {\n                     let mut color = white;\n \n                     do neighbors.each() |k| {\n-                        if is_gray(colors[*k]) {\n+                        if is_gray(&colors[*k]) {\n                             color = gray(*k);\n                             false\n                         }\n@@ -370,11 +370,11 @@ fn validate(edges: ~[(node_id, node_id)],\n \n     let status = do par::alli(tree) |u, v| {\n         let u = u as node_id;\n-        if v == -1i64 || u == root {\n+        if *v == -1i64 || u == root {\n             true\n         }\n         else {\n-            edges.contains(&(u, v)) || edges.contains(&(v, u))\n+            edges.contains(&(u, *v)) || edges.contains(&(*v, u))\n         }\n     };\n "}]}