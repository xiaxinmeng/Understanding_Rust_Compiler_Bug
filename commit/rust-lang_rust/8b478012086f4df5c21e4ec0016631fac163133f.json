{"sha": "8b478012086f4df5c21e4ec0016631fac163133f", "node_id": "C_kwDOAAsO6NoAKDhiNDc4MDEyMDg2ZjRkZjVjMjFlNGVjMDAxNjYzMWZhYzE2MzEzM2Y", "commit": {"author": {"name": "bjorn3", "email": "17426603+bjorn3@users.noreply.github.com", "date": "2022-12-16T15:45:07Z"}, "committer": {"name": "bjorn3", "email": "17426603+bjorn3@users.noreply.github.com", "date": "2022-12-16T15:45:07Z"}, "message": "Don't ICE on C-cmse-nonsecure-call either", "tree": {"sha": "a60237ffc92dfc73ed91f06e299144799020cf04", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a60237ffc92dfc73ed91f06e299144799020cf04"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8b478012086f4df5c21e4ec0016631fac163133f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8b478012086f4df5c21e4ec0016631fac163133f", "html_url": "https://github.com/rust-lang/rust/commit/8b478012086f4df5c21e4ec0016631fac163133f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8b478012086f4df5c21e4ec0016631fac163133f/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ee05e4d5ab76a94f46705e9afb01357d138fd519", "url": "https://api.github.com/repos/rust-lang/rust/commits/ee05e4d5ab76a94f46705e9afb01357d138fd519", "html_url": "https://github.com/rust-lang/rust/commit/ee05e4d5ab76a94f46705e9afb01357d138fd519"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "3c34585d4191e6ef1eaa80b82dd06dc578972e9a", "filename": "src/abi/mod.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/8b478012086f4df5c21e4ec0016631fac163133f/src%2Fabi%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8b478012086f4df5c21e4ec0016631fac163133f/src%2Fabi%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fabi%2Fmod.rs?ref=8b478012086f4df5c21e4ec0016631fac163133f", "patch": "@@ -49,9 +49,11 @@ pub(crate) fn conv_to_call_conv(sess: &Session, c: Conv, default_call_conv: Call\n         Conv::X86Intr => sess.fatal(\"x86-interrupt call conv not yet implemented\"),\n \n         Conv::ArmAapcs => sess.fatal(\"aapcs call conv not yet implemented\"),\n+        Conv::CCmseNonSecureCall => {\n+            sess.fatal(\"C-cmse-nonsecure-call call conv is not yet implemented\");\n+        }\n \n-        Conv::CCmseNonSecureCall\n-        | Conv::Msp430Intr\n+        Conv::Msp430Intr\n         | Conv::PtxKernel\n         | Conv::AmdGpuKernel\n         | Conv::AvrInterrupt"}]}