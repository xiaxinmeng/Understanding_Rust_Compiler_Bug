{"sha": "c8f056a6db1b145845c687aac1fd40cd62b0d6fe", "node_id": "C_kwDOAAsO6NoAKGM4ZjA1NmE2ZGIxYjE0NTg0NWM2ODdhYWMxZmQ0MGNkNjJiMGQ2ZmU", "commit": {"author": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2022-02-09T07:19:57Z"}, "committer": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2022-02-09T07:19:57Z"}, "message": "Revert \"Revert \"Bump dashmap\"\"\n\nThis reverts commit 39674cd35054f4905691bb0c3d1eca7b97063aa7.", "tree": {"sha": "3b8f808850273d1f2a2f47c172e8f2036e39540e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3b8f808850273d1f2a2f47c172e8f2036e39540e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c8f056a6db1b145845c687aac1fd40cd62b0d6fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c8f056a6db1b145845c687aac1fd40cd62b0d6fe", "html_url": "https://github.com/rust-lang/rust/commit/c8f056a6db1b145845c687aac1fd40cd62b0d6fe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c8f056a6db1b145845c687aac1fd40cd62b0d6fe/comments", "author": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bde624d5abfa8d4f8f90c570654a4eeb2bf180ca", "url": "https://api.github.com/repos/rust-lang/rust/commits/bde624d5abfa8d4f8f90c570654a4eeb2bf180ca", "html_url": "https://github.com/rust-lang/rust/commit/bde624d5abfa8d4f8f90c570654a4eeb2bf180ca"}], "stats": {"total": 118, "additions": 102, "deletions": 16}, "files": [{"sha": "320671d5f5e7713a9e5a245d9e93dafb2aaf8540", "filename": "Cargo.lock", "status": "modified", "additions": 90, "deletions": 11, "changes": 101, "blob_url": "https://github.com/rust-lang/rust/blob/c8f056a6db1b145845c687aac1fd40cd62b0d6fe/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/c8f056a6db1b145845c687aac1fd40cd62b0d6fe/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=c8f056a6db1b145845c687aac1fd40cd62b0d6fe", "patch": "@@ -227,7 +227,7 @@ version = \"3.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"03746e0c6dd9b5d2d9132ffe0bede35fb5f815604fd371bb42599fd37bc8e483\"\n dependencies = [\n- \"dashmap\",\n+ \"dashmap 4.0.2\",\n  \"once_cell\",\n  \"rustc-hash\",\n ]\n@@ -301,6 +301,17 @@ dependencies = [\n  \"num_cpus\",\n ]\n \n+[[package]]\n+name = \"dashmap\"\n+version = \"5.1.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"c0834a35a3fce649144119e18da2a4d8ed12ef3862f47183fd46f625d072d96c\"\n+dependencies = [\n+ \"cfg-if\",\n+ \"num_cpus\",\n+ \"parking_lot 0.12.0\",\n+]\n+\n [[package]]\n name = \"derive_arbitrary\"\n version = \"1.0.2\"\n@@ -496,7 +507,7 @@ dependencies = [\n  \"base_db\",\n  \"cfg\",\n  \"cov-mark\",\n- \"dashmap\",\n+ \"dashmap 5.1.0\",\n  \"drop_bomb\",\n  \"either\",\n  \"expect-test\",\n@@ -506,8 +517,10 @@ dependencies = [\n  \"itertools\",\n  \"la-arena\",\n  \"limit\",\n+ \"lock_api\",\n  \"mbe\",\n  \"once_cell\",\n+ \"parking_lot 0.12.0\",\n  \"profile\",\n  \"rustc-hash\",\n  \"smallvec\",\n@@ -987,7 +1000,7 @@ version = \"0.4.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"a7377f7792b3afb6a3cba68daa54ca23c032137010460d667fda53a8d66be00e\"\n dependencies = [\n- \"windows-sys\",\n+ \"windows-sys 0.28.0\",\n ]\n \n [[package]]\n@@ -1065,7 +1078,17 @@ checksum = \"7d17b78036a60663b797adeaee46f5c9dfebb86948d1255007a1d6be0271ff99\"\n dependencies = [\n  \"instant\",\n  \"lock_api\",\n- \"parking_lot_core\",\n+ \"parking_lot_core 0.8.5\",\n+]\n+\n+[[package]]\n+name = \"parking_lot\"\n+version = \"0.12.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"87f5ec2493a61ac0506c0f4199f99070cbe83857b0337006a30f3e6719b8ef58\"\n+dependencies = [\n+ \"lock_api\",\n+ \"parking_lot_core 0.9.1\",\n ]\n \n [[package]]\n@@ -1082,6 +1105,19 @@ dependencies = [\n  \"winapi\",\n ]\n \n+[[package]]\n+name = \"parking_lot_core\"\n+version = \"0.9.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"28141e0cc4143da2443301914478dc976a61ffdb3f043058310c70df2fed8954\"\n+dependencies = [\n+ \"cfg-if\",\n+ \"libc\",\n+ \"redox_syscall\",\n+ \"smallvec\",\n+ \"windows-sys 0.32.0\",\n+]\n+\n [[package]]\n name = \"parser\"\n version = \"0.0.0\"\n@@ -1357,7 +1393,7 @@ dependencies = [\n  \"mimalloc\",\n  \"num_cpus\",\n  \"oorandom\",\n- \"parking_lot\",\n+ \"parking_lot 0.12.0\",\n  \"proc_macro_api\",\n  \"proc_macro_srv\",\n  \"profile\",\n@@ -1423,7 +1459,7 @@ dependencies = [\n  \"lock_api\",\n  \"log\",\n  \"oorandom\",\n- \"parking_lot\",\n+ \"parking_lot 0.11.2\",\n  \"rustc-hash\",\n  \"salsa-macros\",\n  \"smallvec\",\n@@ -1931,11 +1967,24 @@ version = \"0.28.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"82ca39602d5cbfa692c4b67e3bcbb2751477355141c1ed434c94da4186836ff6\"\n dependencies = [\n- \"windows_aarch64_msvc\",\n- \"windows_i686_gnu\",\n- \"windows_i686_msvc\",\n- \"windows_x86_64_gnu\",\n- \"windows_x86_64_msvc\",\n+ \"windows_aarch64_msvc 0.28.0\",\n+ \"windows_i686_gnu 0.28.0\",\n+ \"windows_i686_msvc 0.28.0\",\n+ \"windows_x86_64_gnu 0.28.0\",\n+ \"windows_x86_64_msvc 0.28.0\",\n+]\n+\n+[[package]]\n+name = \"windows-sys\"\n+version = \"0.32.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"3df6e476185f92a12c072be4a189a0210dcdcf512a1891d6dff9edb874deadc6\"\n+dependencies = [\n+ \"windows_aarch64_msvc 0.32.0\",\n+ \"windows_i686_gnu 0.32.0\",\n+ \"windows_i686_msvc 0.32.0\",\n+ \"windows_x86_64_gnu 0.32.0\",\n+ \"windows_x86_64_msvc 0.32.0\",\n ]\n \n [[package]]\n@@ -1944,30 +1993,60 @@ version = \"0.28.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"52695a41e536859d5308cc613b4a022261a274390b25bd29dfff4bf08505f3c2\"\n \n+[[package]]\n+name = \"windows_aarch64_msvc\"\n+version = \"0.32.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"d8e92753b1c443191654ec532f14c199742964a061be25d77d7a96f09db20bf5\"\n+\n [[package]]\n name = \"windows_i686_gnu\"\n version = \"0.28.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"f54725ac23affef038fecb177de6c9bf065787c2f432f79e3c373da92f3e1d8a\"\n \n+[[package]]\n+name = \"windows_i686_gnu\"\n+version = \"0.32.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"6a711c68811799e017b6038e0922cb27a5e2f43a2ddb609fe0b6f3eeda9de615\"\n+\n [[package]]\n name = \"windows_i686_msvc\"\n version = \"0.28.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"51d5158a43cc43623c0729d1ad6647e62fa384a3d135fd15108d37c683461f64\"\n \n+[[package]]\n+name = \"windows_i686_msvc\"\n+version = \"0.32.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"146c11bb1a02615db74680b32a68e2d61f553cc24c4eb5b4ca10311740e44172\"\n+\n [[package]]\n name = \"windows_x86_64_gnu\"\n version = \"0.28.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"bc31f409f565611535130cfe7ee8e6655d3fa99c1c61013981e491921b5ce954\"\n \n+[[package]]\n+name = \"windows_x86_64_gnu\"\n+version = \"0.32.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"c912b12f7454c6620635bbff3450962753834be2a594819bd5e945af18ec64bc\"\n+\n [[package]]\n name = \"windows_x86_64_msvc\"\n version = \"0.28.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"3f2b8c7cbd3bfdddd9ab98769f9746a7fad1bca236554cd032b78d768bc0e89f\"\n \n+[[package]]\n+name = \"windows_x86_64_msvc\"\n+version = \"0.32.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"504a2476202769977a040c6364301a3f65d0cc9e3fb08600b2bda150a0488316\"\n+\n [[package]]\n name = \"write-json\"\n version = \"0.1.2\""}, {"sha": "794f92b2333fcd80e64004a520227659d2aefef8", "filename": "crates/hir_def/Cargo.toml", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c8f056a6db1b145845c687aac1fd40cd62b0d6fe/crates%2Fhir_def%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/c8f056a6db1b145845c687aac1fd40cd62b0d6fe/crates%2Fhir_def%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2FCargo.toml?ref=c8f056a6db1b145845c687aac1fd40cd62b0d6fe", "patch": "@@ -11,7 +11,9 @@ doctest = false\n \n [dependencies]\n cov-mark = \"2.0.0-pre.1\"\n-dashmap = { version = \"4.0.2\", features = [\"raw-api\"] }\n+dashmap = { version = \"5.0\", features = [\"raw-api\"] }\n+lock_api = \"0.4\"\n+parking_lot = \"0.12\"\n tracing = \"0.1\"\n once_cell = \"1.3.1\"\n rustc-hash = \"1.1.0\""}, {"sha": "f5a4f5ec4e38c3336867582bacaf83d99ba7c5b4", "filename": "crates/hir_def/src/intern.rs", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/c8f056a6db1b145845c687aac1fd40cd62b0d6fe/crates%2Fhir_def%2Fsrc%2Fintern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c8f056a6db1b145845c687aac1fd40cd62b0d6fe/crates%2Fhir_def%2Fsrc%2Fintern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2Fsrc%2Fintern.rs?ref=c8f056a6db1b145845c687aac1fd40cd62b0d6fe", "patch": "@@ -10,15 +10,20 @@ use std::{\n     sync::Arc,\n };\n \n-use dashmap::{lock::RwLockWriteGuard, DashMap, SharedValue};\n+use dashmap::{DashMap, SharedValue};\n+use lock_api::RwLockWriteGuard;\n use once_cell::sync::OnceCell;\n+use parking_lot::RawRwLock;\n use rustc_hash::FxHasher;\n \n use crate::generics::GenericParams;\n \n type InternMap<T> = DashMap<Arc<T>, (), BuildHasherDefault<FxHasher>>;\n-type Guard<T> =\n-    RwLockWriteGuard<'static, HashMap<Arc<T>, SharedValue<()>, BuildHasherDefault<FxHasher>>>;\n+type Guard<T> = RwLockWriteGuard<\n+    'static,\n+    RawRwLock,\n+    HashMap<Arc<T>, SharedValue<()>, BuildHasherDefault<FxHasher>>,\n+>;\n \n pub struct Interned<T: Internable + ?Sized> {\n     arc: Arc<T>,"}, {"sha": "a1db6f59a6179b66c41b7090941a5b606fac2fa9", "filename": "crates/rust-analyzer/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c8f056a6db1b145845c687aac1fd40cd62b0d6fe/crates%2Frust-analyzer%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/c8f056a6db1b145845c687aac1fd40cd62b0d6fe/crates%2Frust-analyzer%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2FCargo.toml?ref=c8f056a6db1b145845c687aac1fd40cd62b0d6fe", "patch": "@@ -23,7 +23,7 @@ crossbeam-channel = \"0.5.0\"\n dissimilar = \"1.0.2\"\n itertools = \"0.10.0\"\n lsp-types = { version = \"0.91\", features = [\"proposed\"] }\n-parking_lot = \"0.11.0\"\n+parking_lot = \"0.12\"\n xflags = \"0.2.1\"\n oorandom = \"11.1.2\"\n rustc-hash = \"1.1.0\""}]}