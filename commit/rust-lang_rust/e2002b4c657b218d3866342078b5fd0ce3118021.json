{"sha": "e2002b4c657b218d3866342078b5fd0ce3118021", "node_id": "C_kwDOAAsO6NoAKGUyMDAyYjRjNjU3YjIxOGQzODY2MzQyMDc4YjVmZDBjZTMxMTgwMjE", "commit": {"author": {"name": "Andy Wang", "email": "cbeuw.andy@gmail.com", "date": "2022-05-16T23:14:30Z"}, "committer": {"name": "Andy Wang", "email": "cbeuw.andy@gmail.com", "date": "2022-06-06T18:15:55Z"}, "message": "Amend experimental thread support warnings", "tree": {"sha": "b41f14ab73b40f7b3a618314b7c2bf69fee54bab", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b41f14ab73b40f7b3a618314b7c2bf69fee54bab"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e2002b4c657b218d3866342078b5fd0ce3118021", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE7dcbcBMl24/h63ldGBtJ+fOPM3QFAmKeRFsACgkQGBtJ+fOP\nM3RtFgv/WHDYJdlKETiFLMM0AdT3YmcYbLuuVG1kRbpQH/CySGf2irEO7X10dsdY\nZDouhZwphK//976NGVrN5LB1aXTRn2pEc3HMnughEYN3sirwvsGZ2MeRSHAEDRbx\nTHaltz1cmYo1pGxyiPQTSHpdUDbNUvlGBbytU37C5biqhtq+tD6CNekq9w2pqGHR\nQoz1Y+J4nRRjL9uUuQbzTRD7tVBcsRHTmciG6x8p5TXXaH0bnS0tDBYyqWF4xDIS\nY5QTmWYRtvDIFllcCsehAH39/GyxkF26Uhd3mMTcBYLSy8uncvXRCgxg2tTPJrFA\ncBl7Q9alWSWeNFwjN+cEyS0tsugKlmpbe9KhDh418WnrG988fcRgkq+9IUsVn+ch\nne35S3CsBZZ2Iw35bFabJic0+dCh5u/HLafMUEV6po74//JZQvDF7Rf86+rX2Bvj\nDPA5p8CxIjQtJRdvpTyhIXVP1X/WOq9wPsQL4gM0ZMdmSSaWIbJBmuDov1U7e0Dd\nqjntHf7z\n=G0qS\n-----END PGP SIGNATURE-----", "payload": "tree b41f14ab73b40f7b3a618314b7c2bf69fee54bab\nparent 92145373c350d1e41b852aa0332218f614a85bc3\nauthor Andy Wang <cbeuw.andy@gmail.com> 1652742870 +0100\ncommitter Andy Wang <cbeuw.andy@gmail.com> 1654539355 +0100\n\nAmend experimental thread support warnings\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e2002b4c657b218d3866342078b5fd0ce3118021", "html_url": "https://github.com/rust-lang/rust/commit/e2002b4c657b218d3866342078b5fd0ce3118021", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e2002b4c657b218d3866342078b5fd0ce3118021/comments", "author": {"login": "cbeuw", "id": 7034308, "node_id": "MDQ6VXNlcjcwMzQzMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/7034308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cbeuw", "html_url": "https://github.com/cbeuw", "followers_url": "https://api.github.com/users/cbeuw/followers", "following_url": "https://api.github.com/users/cbeuw/following{/other_user}", "gists_url": "https://api.github.com/users/cbeuw/gists{/gist_id}", "starred_url": "https://api.github.com/users/cbeuw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cbeuw/subscriptions", "organizations_url": "https://api.github.com/users/cbeuw/orgs", "repos_url": "https://api.github.com/users/cbeuw/repos", "events_url": "https://api.github.com/users/cbeuw/events{/privacy}", "received_events_url": "https://api.github.com/users/cbeuw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cbeuw", "id": 7034308, "node_id": "MDQ6VXNlcjcwMzQzMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/7034308?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cbeuw", "html_url": "https://github.com/cbeuw", "followers_url": "https://api.github.com/users/cbeuw/followers", "following_url": "https://api.github.com/users/cbeuw/following{/other_user}", "gists_url": "https://api.github.com/users/cbeuw/gists{/gist_id}", "starred_url": "https://api.github.com/users/cbeuw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cbeuw/subscriptions", "organizations_url": "https://api.github.com/users/cbeuw/orgs", "repos_url": "https://api.github.com/users/cbeuw/repos", "events_url": "https://api.github.com/users/cbeuw/events{/privacy}", "received_events_url": "https://api.github.com/users/cbeuw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "92145373c350d1e41b852aa0332218f614a85bc3", "url": "https://api.github.com/repos/rust-lang/rust/commits/92145373c350d1e41b852aa0332218f614a85bc3", "html_url": "https://github.com/rust-lang/rust/commit/92145373c350d1e41b852aa0332218f614a85bc3"}], "stats": {"total": 32, "additions": 16, "deletions": 16}, "files": [{"sha": "812cb7376b71cd30cd2beb9e6420e66eb34fad66", "filename": "src/shims/unix/thread.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/src%2Fshims%2Funix%2Fthread.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/src%2Fshims%2Funix%2Fthread.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Funix%2Fthread.rs?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -14,7 +14,7 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n         let this = self.eval_context_mut();\n \n         this.tcx.sess.warn(\n-            \"thread support is experimental and incomplete: weak memory effects are not emulated.\",\n+            \"thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\",\n         );\n \n         // Create the new thread"}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/pass/concurrency/channels.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fchannels.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fchannels.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fchannels.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/pass/concurrency/concurrent_caller_location.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fconcurrent_caller_location.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fconcurrent_caller_location.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fconcurrent_caller_location.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/pass/concurrency/data_race.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fdata_race.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fdata_race.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fdata_race.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/pass/concurrency/disable_data_race_detector.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fdisable_data_race_detector.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fdisable_data_race_detector.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fdisable_data_race_detector.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/pass/concurrency/issue1643.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fissue1643.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fissue1643.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fissue1643.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/pass/concurrency/linux-futex.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Flinux-futex.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Flinux-futex.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Flinux-futex.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}, {"sha": "386dc922691ab676afbb74b3de34594c7e11d9ab", "filename": "tests/pass/concurrency/simple.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fsimple.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fsimple.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fsimple.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,4 +1,4 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n \n thread '<unnamed>' panicked at 'Hello!', $DIR/simple.rs:LL:CC\n note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace"}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/pass/concurrency/sync.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fsync.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fsync.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fsync.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/pass/concurrency/thread_locals.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fthread_locals.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Fthread_locals.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fthread_locals.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/pass/concurrency/tls_lib_drop.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Ftls_lib_drop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fconcurrency%2Ftls_lib_drop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Ftls_lib_drop.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/pass/libc.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Flibc.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Flibc.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Flibc.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}, {"sha": "0d4a409dfecf665418ff0e8b467b96003143cf7d", "filename": "tests/pass/panic/concurrent-panic.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fpanic%2Fconcurrent-panic.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fpanic%2Fconcurrent-panic.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fpanic%2Fconcurrent-panic.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,4 +1,4 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n \n Thread 1 starting, will block on mutex\n Thread 1 reported it has started"}, {"sha": "9205eb70b207312ced23c91f603b7d3a423a6da9", "filename": "tests/pass/threadleak_ignored.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fthreadleak_ignored.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Fpass%2Fthreadleak_ignored.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fthreadleak_ignored.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,3 +1,3 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n \n Dropping 0"}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/run-pass/weak_memory/consistency.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Frun-pass%2Fweak_memory%2Fconsistency.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Frun-pass%2Fweak_memory%2Fconsistency.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Fweak_memory%2Fconsistency.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}, {"sha": "1d0ce4b3853dacd1621931ea3bf13724cf6fee68", "filename": "tests/run-pass/weak_memory/weak.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Frun-pass%2Fweak_memory%2Fweak.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e2002b4c657b218d3866342078b5fd0ce3118021/tests%2Frun-pass%2Fweak_memory%2Fweak.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Fweak_memory%2Fweak.stderr?ref=e2002b4c657b218d3866342078b5fd0ce3118021", "patch": "@@ -1,2 +1,2 @@\n-warning: thread support is experimental and incomplete: weak memory effects are not emulated.\n+warning: thread support is experimental: weak memory effects are not fully compatible with the Rust atomics memory model.\n "}]}