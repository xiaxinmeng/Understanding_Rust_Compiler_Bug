{"sha": "d9ea475feb309e72bec1a2ac95ae9882a17eb068", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ5ZWE0NzVmZWIzMDllNzJiZWMxYTJhYzk1YWU5ODgyYTE3ZWIwNjg=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-12-11T16:16:06Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-12-16T06:17:59Z"}, "message": "Register new snapshots\n\nUnderstand 'pkgid' in stage0. As a bonus, the snapshot now contains now metadata\n(now that those changes have landed), and the snapshot download is half as large\nas it used to be!", "tree": {"sha": "76d55e85ab909864c33e847e55e9d456c80c2f6a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/76d55e85ab909864c33e847e55e9d456c80c2f6a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d9ea475feb309e72bec1a2ac95ae9882a17eb068", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d9ea475feb309e72bec1a2ac95ae9882a17eb068", "html_url": "https://github.com/rust-lang/rust/commit/d9ea475feb309e72bec1a2ac95ae9882a17eb068", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d9ea475feb309e72bec1a2ac95ae9882a17eb068/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9eb89a6c6e60b0ed844258b6c00a68973828b0ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/9eb89a6c6e60b0ed844258b6c00a68973828b0ba", "html_url": "https://github.com/rust-lang/rust/commit/9eb89a6c6e60b0ed844258b6c00a68973828b0ba"}], "stats": {"total": 83, "additions": 20, "deletions": 63}, "files": [{"sha": "8e739809b8787bae7d61fe5c02602d3d33280515", "filename": "src/libextra/lib.rs", "status": "modified", "additions": 4, "deletions": 12, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibextra%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibextra%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibextra%2Flib.rs?ref=d9ea475feb309e72bec1a2ac95ae9882a17eb068", "patch": "@@ -20,22 +20,14 @@ Rust extras are part of the standard Rust distribution.\n \n */\n \n-#[pkgid=\"extra#0.9-pre\"];\n-// NOTE: remove after the next snapshot\n-#[link(name = \"extra\",\n-       package_id = \"extra\",\n-       vers = \"0.9-pre\",\n-       uuid = \"122bed0b-c19b-4b82-b0b7-7ae8aead7297\",\n-       url = \"https://github.com/mozilla/rust/tree/master/src/libextra\")];\n-\n-#[doc(html_logo_url = \"http://www.rust-lang.org/logos/rust-logo-128x128-blk.png\",\n-      html_favicon_url = \"http://www.rust-lang.org/favicon.ico\",\n-      html_root_url = \"http://static.rust-lang.org/doc/master\")];\n-\n+#[pkgid = \"extra#0.9-pre\"];\n #[comment = \"Rust extras\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"rlib\"];\n #[crate_type = \"dylib\"];\n+#[doc(html_logo_url = \"http://www.rust-lang.org/logos/rust-logo-128x128-blk.png\",\n+      html_favicon_url = \"http://www.rust-lang.org/favicon.ico\",\n+      html_root_url = \"http://static.rust-lang.org/doc/master\")];\n \n #[feature(macro_rules, globs, managed_boxes)];\n "}, {"sha": "f2f729561cf27db19dea8fe0f99cd0bac4246ab8", "filename": "src/librustc/front/test.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibrustc%2Ffront%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibrustc%2Ffront%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ffront%2Ftest.rs?ref=d9ea475feb309e72bec1a2ac95ae9882a17eb068", "patch": "@@ -375,9 +375,8 @@ fn mk_tests(cx: &TestCtxt) -> @ast::item {\n }\n \n fn is_extra(crate: &ast::Crate) -> bool {\n-    let items = attr::find_linkage_metas(crate.attrs);\n-    match attr::last_meta_item_value_str_by_name(items, \"name\") {\n-        Some(s) if \"extra\" == s => true,\n+    match attr::find_pkgid(crate.attrs) {\n+        Some(ref s) if \"extra\" == s.name => true,\n         _ => false\n     }\n }"}, {"sha": "a26fd9f5af2dddfaafa7d42b4f192db31a8f1a7a", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=d9ea475feb309e72bec1a2ac95ae9882a17eb068", "patch": "@@ -8,14 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#[pkgid=\"rustc#0.9-pre\"];\n-// NOTE: remove after the next snapshot\n-#[link(name = \"rustc\",\n-       package_id = \"rustc\",\n-       vers = \"0.9-pre\",\n-       uuid = \"0ce89b41-2f92-459e-bbc1-8f5fe32f16cf\",\n-       url = \"https://github.com/mozilla/rust/tree/master/src/rustc\")];\n-\n+#[pkgid = \"rustc#0.9-pre\"];\n #[comment = \"The Rust compiler\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"dylib\"];"}, {"sha": "0727c04f44e3634173b17e29e3249c96383d0d09", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=d9ea475feb309e72bec1a2ac95ae9882a17eb068", "patch": "@@ -8,14 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#[pkgid=\"rustdoc#0.9-pre\"];\n-// NOTE: remove after the next snapshot\n-#[link(name = \"rustdoc\",\n-       package_id = \"rustdoc\",\n-       vers = \"0.9-pre\",\n-       uuid = \"8c6e4598-1596-4aa5-a24c-b811914bbbc6\",\n-       url = \"https://github.com/mozilla/rust/tree/master/src/librustdoc\")];\n-\n+#[pkgid = \"rustdoc#0.9-pre\"];\n #[desc = \"rustdoc, the Rust documentation extractor\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"dylib\"];"}, {"sha": "14c5966aabd519c928979227c85eb9f191554ac7", "filename": "src/librustpkg/lib.rs", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibrustpkg%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibrustpkg%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustpkg%2Flib.rs?ref=d9ea475feb309e72bec1a2ac95ae9882a17eb068", "patch": "@@ -10,14 +10,7 @@\n \n // rustpkg - a package manager and build system for Rust\n \n-#[pkgid=\"rustpkg#0.9-pre\"];\n-// NOTE: remove after the next snapshot\n-#[link(name = \"rustpkg\",\n-       package_id = \"rustpkg\",\n-       vers = \"0.9-pre\",\n-       uuid = \"25de5e6e-279e-4a20-845c-4cabae92daaf\",\n-       url = \"https://github.com/mozilla/rust/tree/master/src/librustpkg\")];\n-\n+#[pkgid = \"rustpkg#0.9-pre\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"dylib\"];\n "}, {"sha": "34d36b486b364b76a8652e235553e3cf1f19a9ba", "filename": "src/librustuv/lib.rs", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibrustuv%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibrustuv%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustuv%2Flib.rs?ref=d9ea475feb309e72bec1a2ac95ae9882a17eb068", "patch": "@@ -34,14 +34,7 @@ via `close` and `delete` methods.\n \n */\n \n-#[pkgid=\"rustuv#0.9-pre\"];\n-// NOTE: remove after the next snapshot\n-#[link(name = \"rustuv\",\n-       package_id = \"rustuv\",\n-       vers = \"0.9-pre\",\n-       uuid = \"f3719011-0459-9b86-b11c-29265c0d0864\",\n-       url = \"https://github.com/mozilla/rust/tree/master/src/librustuv\")];\n-\n+#[pkgid = \"rustuv#0.9-pre\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"rlib\"];\n #[crate_type = \"dylib\"];"}, {"sha": "3ac91a67d7ec017949943cd2a18f7c0035625577", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 1, "deletions": 9, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=d9ea475feb309e72bec1a2ac95ae9882a17eb068", "patch": "@@ -43,19 +43,11 @@\n //!\n //!     use std::prelude::*;\n \n-#[pkgid=\"std#0.9-pre\"];\n-// NOTE: remove after the next snapshot\n-#[link(name = \"std\",\n-       package_id = \"std\",\n-       vers = \"0.9-pre\",\n-       uuid = \"c70c24a7-5551-4f73-8e37-380b11d80be8\",\n-       url = \"https://github.com/mozilla/rust/tree/master/src/libstd\")];\n-\n+#[pkgid = \"std#0.9-pre\"];\n #[comment = \"The Rust standard library\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"rlib\"];\n #[crate_type = \"dylib\"];\n-\n #[doc(html_logo_url = \"http://www.rust-lang.org/logos/rust-logo-128x128-blk.png\",\n       html_favicon_url = \"http://www.rust-lang.org/favicon.ico\",\n       html_root_url = \"http://static.rust-lang.org/doc/master\")];"}, {"sha": "9599f27af04c8d6d810ae84d3818671d1625c860", "filename": "src/libsyntax/lib.rs", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibsyntax%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Flibsyntax%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Flib.rs?ref=d9ea475feb309e72bec1a2ac95ae9882a17eb068", "patch": "@@ -13,13 +13,7 @@\n  *  macros.\n  */\n \n-#[pkgid=\"syntax#0.9-pre\"];\n-// NOTE: remove after the next snapshot\n-#[link(name = \"syntax\",\n-       package_id = \"syntax\",\n-       vers = \"0.9-pre\",\n-       uuid = \"9311401b-d6ea-4cd9-a1d9-61f89499c645\")];\n-\n+#[pkgid = \"syntax#0.9-pre\"];\n #[license = \"MIT/ASL2\"];\n #[crate_type = \"dylib\"];\n #[crate_type = \"rlib\"];"}, {"sha": "c2c5512eaef31a0a4d1bcb79af0eca426b7b338f", "filename": "src/snapshots.txt", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Fsnapshots.txt", "raw_url": "https://github.com/rust-lang/rust/raw/d9ea475feb309e72bec1a2ac95ae9882a17eb068/src%2Fsnapshots.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsnapshots.txt?ref=d9ea475feb309e72bec1a2ac95ae9882a17eb068", "patch": "@@ -1,3 +1,11 @@\n+S 2013-12-10 b8b16ae\n+  freebsd-x86_64 08d28a3a47f4263dc0a005374e59d30b1b942ab2\n+  linux-i386 4cd5d8b80014a69dea9744fd12c8cdab6269d263\n+  linux-x86_64 b68c106f377b226ebd17210fbce84423e3ffa6c2\n+  macos-i386 797b3e01c5ed9fbd3549d75300a005e4a987a84c\n+  macos-x86_64 b5f33edc57378ef1533dea258ac04c3bbe0e71da\n+  winnt-i386 656ffae4528290f942acf4ac5af515fb802d6bd9\n+\n S 2013-12-09 b485e2b\n   freebsd-x86_64 424f1504e7dfe43d1238a8b6e6abea8879297fa2\n   linux-i386 214dc3cb3224f7ad6ef02e684cf6505113e5dc9a"}]}