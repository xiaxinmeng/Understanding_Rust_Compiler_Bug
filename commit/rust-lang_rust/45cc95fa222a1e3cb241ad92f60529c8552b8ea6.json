{"sha": "45cc95fa222a1e3cb241ad92f60529c8552b8ea6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ1Y2M5NWZhMjIyYTFlM2NiMjQxYWQ5MmY2MDUyOWM4NTUyYjhlYTY=", "commit": {"author": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2012-06-08T01:05:12Z"}, "committer": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2012-06-08T01:05:12Z"}, "message": "Remove a bunch of old \"remove after snapshot\" code.", "tree": {"sha": "5d3747c32952a30ef5865c513bc2080f08c7879d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5d3747c32952a30ef5865c513bc2080f08c7879d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/45cc95fa222a1e3cb241ad92f60529c8552b8ea6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/45cc95fa222a1e3cb241ad92f60529c8552b8ea6", "html_url": "https://github.com/rust-lang/rust/commit/45cc95fa222a1e3cb241ad92f60529c8552b8ea6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/45cc95fa222a1e3cb241ad92f60529c8552b8ea6/comments", "author": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bf0d6a77c5a54c5fb8747ba6dbdde0d2e35f1af9", "url": "https://api.github.com/repos/rust-lang/rust/commits/bf0d6a77c5a54c5fb8747ba6dbdde0d2e35f1af9", "html_url": "https://github.com/rust-lang/rust/commit/bf0d6a77c5a54c5fb8747ba6dbdde0d2e35f1af9"}], "stats": {"total": 20, "additions": 0, "deletions": 20}, "files": [{"sha": "c6442add9d703283f3e2a50a026fc7599bd191ed", "filename": "src/rt/rust_shape.h", "status": "modified", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/45cc95fa222a1e3cb241ad92f60529c8552b8ea6/src%2Frt%2Frust_shape.h", "raw_url": "https://github.com/rust-lang/rust/raw/45cc95fa222a1e3cb241ad92f60529c8552b8ea6/src%2Frt%2Frust_shape.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_shape.h?ref=45cc95fa222a1e3cb241ad92f60529c8552b8ea6", "patch": "@@ -45,14 +45,12 @@ const uint8_t SHAPE_F64 = 9u;\n const uint8_t SHAPE_BOX = 10u;\n const uint8_t SHAPE_VEC = 11u;\n const uint8_t SHAPE_TAG = 12u;\n-const uint8_t SHAPE_BOX_OLD = 13u; // remove after snapshot\n const uint8_t SHAPE_STRUCT = 17u;\n const uint8_t SHAPE_BOX_FN = 18u;\n const uint8_t SHAPE_OBJ = 19u;\n const uint8_t SHAPE_RES = 20u;\n const uint8_t SHAPE_VAR = 21u;\n const uint8_t SHAPE_UNIQ = 22u;\n-const uint8_t SHAPE_IFACE_OLD = 24u;\n const uint8_t SHAPE_UNIQ_FN = 25u;\n const uint8_t SHAPE_STACK_FN = 26u;\n const uint8_t SHAPE_BARE_FN = 27u;\n@@ -372,12 +370,10 @@ ctxt<T>::walk() {\n     case SHAPE_VEC:      walk_vec0();             break;\n     case SHAPE_TAG:      walk_tag0();             break;\n     case SHAPE_BOX:      walk_box0();             break;\n-    case SHAPE_BOX_OLD:  walk_box_old0();         break;\n     case SHAPE_STRUCT:   walk_struct0();          break;\n     case SHAPE_RES:      walk_res0();             break;\n     case SHAPE_VAR:      walk_var0();             break;\n     case SHAPE_UNIQ:     walk_uniq0();            break;\n-    case SHAPE_IFACE_OLD: WALK_SIMPLE(walk_iface1);    break;\n     case SHAPE_BOX_FN:\n     case SHAPE_UNIQ_FN:\n     case SHAPE_STACK_FN:\n@@ -487,18 +483,6 @@ ctxt<T>::walk_box0() {\n     static_cast<T *>(this)->walk_box1();\n }\n \n-template<typename T>\n-void\n-ctxt<T>::walk_box_old0() {\n-    // remove after snapshot\n-    uint16_t sp_size = get_u16_bump(sp);\n-    const uint8_t *end_sp = sp + sp_size;\n-\n-    static_cast<T *>(this)->walk_box1();\n-\n-    sp = end_sp;\n-}\n-\n template<typename T>\n void\n ctxt<T>::walk_uniq0() {"}, {"sha": "f523f82a4f5fd93f8efe7651518b9c4d03dd29da", "filename": "src/rt/rust_upcall.cpp", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/45cc95fa222a1e3cb241ad92f60529c8552b8ea6/src%2Frt%2Frust_upcall.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/45cc95fa222a1e3cb241ad92f60529c8552b8ea6/src%2Frt%2Frust_upcall.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_upcall.cpp?ref=45cc95fa222a1e3cb241ad92f60529c8552b8ea6", "patch": "@@ -330,8 +330,6 @@ upcall_str_new_uniq(const char *cstr, size_t len) {\n     return args.retval;\n }\n \n-// FIXME: this is an old compatibility-name for upcall_str_new_uniq\n-// can remove after next snapshot.\n extern \"C\" CDECL rust_str*\n upcall_str_new(const char *cstr, size_t len) {\n     s_str_new_uniq_args args = { cstr, len, 0 };"}, {"sha": "72eda246db2733c4271a5b065f88ec8166e17f8f", "filename": "src/rustc/middle/trans/shape.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/45cc95fa222a1e3cb241ad92f60529c8552b8ea6/src%2Frustc%2Fmiddle%2Ftrans%2Fshape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/45cc95fa222a1e3cb241ad92f60529c8552b8ea6/src%2Frustc%2Fmiddle%2Ftrans%2Fshape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftrans%2Fshape.rs?ref=45cc95fa222a1e3cb241ad92f60529c8552b8ea6", "patch": "@@ -81,10 +81,8 @@ const shape_f64: u8 = 9u8;\n const shape_box: u8 = 10u8;\n const shape_vec: u8 = 11u8;\n const shape_enum: u8 = 12u8;\n-const shape_box_old: u8 = 13u8; // deprecated, remove after snapshot\n const shape_struct: u8 = 17u8;\n const shape_box_fn: u8 = 18u8;\n-const shape_UNUSED: u8 = 19u8;\n const shape_res: u8 = 20u8;\n const shape_var: u8 = 21u8;\n const shape_uniq: u8 = 22u8;"}]}