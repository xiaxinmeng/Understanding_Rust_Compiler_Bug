{"sha": "9ae89bd404803be6b820189d8e0480b3395d05ee", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlhZTg5YmQ0MDQ4MDNiZTZiODIwMTg5ZDhlMDQ4MGIzMzk1ZDA1ZWU=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-02-15T20:20:30Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2011-02-15T20:20:30Z"}, "message": "Add _mutable unop.", "tree": {"sha": "bc9fb10220f1d2275f02731a866cf9a177abef3d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bc9fb10220f1d2275f02731a866cf9a177abef3d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9ae89bd404803be6b820189d8e0480b3395d05ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9ae89bd404803be6b820189d8e0480b3395d05ee", "html_url": "https://github.com/rust-lang/rust/commit/9ae89bd404803be6b820189d8e0480b3395d05ee", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9ae89bd404803be6b820189d8e0480b3395d05ee/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2bba49a9feed613c2f018d5aa751df3c7a49a3d6", "url": "https://api.github.com/repos/rust-lang/rust/commits/2bba49a9feed613c2f018d5aa751df3c7a49a3d6", "html_url": "https://github.com/rust-lang/rust/commit/2bba49a9feed613c2f018d5aa751df3c7a49a3d6"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "03ccc216e2ee91c51225acb7fe328062d05497a3", "filename": "src/comp/front/ast.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9ae89bd404803be6b820189d8e0480b3395d05ee/src%2Fcomp%2Ffront%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9ae89bd404803be6b820189d8e0480b3395d05ee/src%2Fcomp%2Ffront%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Ffront%2Fast.rs?ref=9ae89bd404803be6b820189d8e0480b3395d05ee", "patch": "@@ -106,6 +106,7 @@ tag unop {\n     bitnot;\n     not;\n     neg;\n+    _mutable;\n }\n \n tag mode {"}, {"sha": "8acc88972540015ce91a765e3cd0db0152f7ef72", "filename": "src/comp/front/parser.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/9ae89bd404803be6b820189d8e0480b3395d05ee/src%2Fcomp%2Ffront%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9ae89bd404803be6b820189d8e0480b3395d05ee/src%2Fcomp%2Ffront%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Ffront%2Fparser.rs?ref=9ae89bd404803be6b820189d8e0480b3395d05ee", "patch": "@@ -811,6 +811,13 @@ impure fn parse_prefix_expr(parser p) -> @ast.expr {\n             ex = ast.expr_unary(ast.box, e, ast.ann_none);\n         }\n \n+        case (token.MUTABLE) {\n+            p.bump();\n+            auto e = parse_prefix_expr(p);\n+            hi = e.span;\n+            ex = ast.expr_unary(ast._mutable, e, ast.ann_none);\n+        }\n+\n         case (_) {\n             ret parse_dot_or_call_expr(p);\n         }"}, {"sha": "72a4fe5ca9839ed1a08791cd4d8131e466526d1e", "filename": "src/comp/middle/trans.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/9ae89bd404803be6b820189d8e0480b3395d05ee/src%2Fcomp%2Fmiddle%2Ftrans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9ae89bd404803be6b820189d8e0480b3395d05ee/src%2Fcomp%2Fmiddle%2Ftrans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans.rs?ref=9ae89bd404803be6b820189d8e0480b3395d05ee", "patch": "@@ -1834,6 +1834,9 @@ fn trans_unary(@block_ctxt cx, ast.unop op,\n             }\n             ret res(sub.bcx, val);\n         }\n+        case (ast._mutable) {\n+            ret trans_expr(cx, e);\n+        }\n     }\n     fail;\n }"}, {"sha": "e1b8d464cf5645f343412bf8b46928d57622bbc5", "filename": "src/comp/middle/typeck.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/9ae89bd404803be6b820189d8e0480b3395d05ee/src%2Fcomp%2Fmiddle%2Ftypeck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9ae89bd404803be6b820189d8e0480b3395d05ee/src%2Fcomp%2Fmiddle%2Ftypeck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftypeck.rs?ref=9ae89bd404803be6b820189d8e0480b3395d05ee", "patch": "@@ -1229,6 +1229,9 @@ fn check_expr(&@fn_ctxt fcx, @ast.expr expr) -> @ast.expr {\n                         }\n                     }\n                 }\n+                case (ast._mutable) {\n+                    oper_t = @rec(mut=ast.mut with *oper_t);\n+                }\n                 case (_) { oper_t = strip_boxes(oper_t); }\n             }\n             ret @fold.respan[ast.expr_](expr.span,"}]}