{"sha": "f4ef36ee4269644ca97907a06c924b5d8be36b89", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY0ZWYzNmVlNDI2OTY0NGNhOTc5MDdhMDZjOTI0YjVkOGJlMzZiODk=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-07-27T22:41:15Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-07-27T22:41:15Z"}, "message": "auto merge of #16031 : arielb1/rust/remove_unneeded_fixme, r=kballard\n\nThe issue was fixed a month ago - remove the workaround.", "tree": {"sha": "381016e942b6362f842f2b3d55628b2d31b21b20", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/381016e942b6362f842f2b3d55628b2d31b21b20"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f4ef36ee4269644ca97907a06c924b5d8be36b89", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f4ef36ee4269644ca97907a06c924b5d8be36b89", "html_url": "https://github.com/rust-lang/rust/commit/f4ef36ee4269644ca97907a06c924b5d8be36b89", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f4ef36ee4269644ca97907a06c924b5d8be36b89/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "79e9f14abf50eecb7d3c53f10ad900615bb2d397", "url": "https://api.github.com/repos/rust-lang/rust/commits/79e9f14abf50eecb7d3c53f10ad900615bb2d397", "html_url": "https://github.com/rust-lang/rust/commit/79e9f14abf50eecb7d3c53f10ad900615bb2d397"}, {"sha": "c6b992a53f6a9f3eee0883640adc270910dc9d87", "url": "https://api.github.com/repos/rust-lang/rust/commits/c6b992a53f6a9f3eee0883640adc270910dc9d87", "html_url": "https://github.com/rust-lang/rust/commit/c6b992a53f6a9f3eee0883640adc270910dc9d87"}], "stats": {"total": 20, "additions": 8, "deletions": 12}, "files": [{"sha": "fdf9125e6e14d2cca5a46993ff394bf9d93569c8", "filename": "src/librustc/middle/typeck/coherence.rs", "status": "modified", "additions": 8, "deletions": 12, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/f4ef36ee4269644ca97907a06c924b5d8be36b89/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f4ef36ee4269644ca97907a06c924b5d8be36b89/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcoherence.rs?ref=f4ef36ee4269644ca97907a06c924b5d8be36b89", "patch": "@@ -60,29 +60,25 @@ fn get_base_type(inference_context: &InferCtxt,\n                  span: Span,\n                  original_type: t)\n                  -> Option<t> {\n-    let resolved_type;\n-    match resolve_type(inference_context,\n-                       Some(span),\n-                       original_type,\n-                       resolve_ivar) {\n-        Ok(resulting_type) if !type_is_ty_var(resulting_type) => {\n-            resolved_type = resulting_type;\n-        }\n+    let resolved_type = match resolve_type(inference_context,\n+                                           Some(span),\n+                                           original_type,\n+                                           resolve_ivar) {\n+        Ok(resulting_type) if !type_is_ty_var(resulting_type) => resulting_type,\n         _ => {\n             inference_context.tcx.sess.span_fatal(span,\n                                                   \"the type of this value must be known in order \\\n                                                    to determine the base type\");\n         }\n-    }\n+    };\n \n     match get(resolved_type).sty {\n         ty_enum(..) | ty_struct(..) | ty_unboxed_closure(..) => {\n             debug!(\"(getting base type) found base type\");\n             Some(resolved_type)\n         }\n-        // FIXME(14865) I would prefere to use `_` here, but that causes a\n-        // compiler error.\n-        ty_uniq(_) | ty_rptr(_, _) | ty_trait(..) if ty::type_is_trait(resolved_type) => {\n+\n+        _ if ty::type_is_trait(resolved_type) => {\n             debug!(\"(getting base type) found base type (trait)\");\n             Some(resolved_type)\n         }"}]}