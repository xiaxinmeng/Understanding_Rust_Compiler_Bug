{"sha": "af2ed1b51887ede4d766ee123d3fa216970d1fdd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFmMmVkMWI1MTg4N2VkZTRkNzY2ZWUxMjNkM2ZhMjE2OTcwZDFmZGQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-05-21T13:46:04Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-05-21T13:46:04Z"}, "message": "Auto merge of #85482 - scottmcm:more-try-bootstrap, r=yaahc\n\n`#[cfg(bootstrap)]` out `NoneError` and other v1 try_trait stuff\n\nCloses #46871\n\nr? `@yaahc`", "tree": {"sha": "4d2cc28c3fd45f0f33fa1d29e04528185363e3c5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4d2cc28c3fd45f0f33fa1d29e04528185363e3c5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/af2ed1b51887ede4d766ee123d3fa216970d1fdd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/af2ed1b51887ede4d766ee123d3fa216970d1fdd", "html_url": "https://github.com/rust-lang/rust/commit/af2ed1b51887ede4d766ee123d3fa216970d1fdd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/af2ed1b51887ede4d766ee123d3fa216970d1fdd/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fc81ad22c453776de16acf9938976930cf8c9401", "url": "https://api.github.com/repos/rust-lang/rust/commits/fc81ad22c453776de16acf9938976930cf8c9401", "html_url": "https://github.com/rust-lang/rust/commit/fc81ad22c453776de16acf9938976930cf8c9401"}, {"sha": "58a85d55e84637fd8abf35cf1686bb46ac3e1825", "url": "https://api.github.com/repos/rust-lang/rust/commits/58a85d55e84637fd8abf35cf1686bb46ac3e1825", "html_url": "https://github.com/rust-lang/rust/commit/58a85d55e84637fd8abf35cf1686bb46ac3e1825"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "f99eb9777d8ac00a81fe4a83747be5803d366e5f", "filename": "library/core/src/ops/control_flow.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Fsrc%2Fops%2Fcontrol_flow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Fsrc%2Fops%2Fcontrol_flow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fops%2Fcontrol_flow.rs?ref=af2ed1b51887ede4d766ee123d3fa216970d1fdd", "patch": "@@ -63,6 +63,7 @@ pub enum ControlFlow<B, C = ()> {\n }\n \n #[unstable(feature = \"control_flow_enum\", reason = \"new API\", issue = \"75744\")]\n+#[cfg(bootstrap)]\n impl<B, C> ops::TryV1 for ControlFlow<B, C> {\n     type Output = C;\n     type Error = B;"}, {"sha": "139a8c0eec9cb9da438da6bba1d5f7d09e926f62", "filename": "library/core/src/ops/mod.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Fsrc%2Fops%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Fsrc%2Fops%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fops%2Fmod.rs?ref=af2ed1b51887ede4d766ee123d3fa216970d1fdd", "patch": "@@ -147,6 +147,7 @@ mod function;\n mod generator;\n mod index;\n mod range;\n+#[cfg(bootstrap)]\n mod r#try;\n mod try_trait;\n mod unsize;\n@@ -187,6 +188,7 @@ pub use self::range::{Bound, RangeBounds, RangeInclusive, RangeToInclusive};\n pub use self::r#try::Try;\n \n #[unstable(feature = \"try_trait_transition\", reason = \"for bootstrap\", issue = \"none\")]\n+#[cfg(bootstrap)]\n pub(crate) use self::r#try::Try as TryV1;\n \n #[unstable(feature = \"try_trait_v2\", issue = \"84277\")]"}, {"sha": "cfb73ed0395e7df05c5487c1336ee857b2f7e310", "filename": "library/core/src/option.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Fsrc%2Foption.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Fsrc%2Foption.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Foption.rs?ref=af2ed1b51887ede4d766ee123d3fa216970d1fdd", "patch": "@@ -1641,9 +1641,11 @@ impl<A, V: FromIterator<A>> FromIterator<Option<A>> for Option<V> {\n #[rustc_diagnostic_item = \"none_error\"]\n #[unstable(feature = \"try_trait\", issue = \"42327\")]\n #[derive(Clone, Copy, PartialEq, PartialOrd, Eq, Ord, Debug, Hash)]\n+#[cfg(bootstrap)]\n pub struct NoneError;\n \n #[unstable(feature = \"try_trait\", issue = \"42327\")]\n+#[cfg(bootstrap)]\n impl<T> ops::TryV1 for Option<T> {\n     type Output = T;\n     type Error = NoneError;"}, {"sha": "babd0a0b5528ee3f5fd1495ebc28570eaa990a39", "filename": "library/core/src/result.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Fsrc%2Fresult.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Fsrc%2Fresult.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fresult.rs?ref=af2ed1b51887ede4d766ee123d3fa216970d1fdd", "patch": "@@ -1627,6 +1627,7 @@ impl<A, E, V: FromIterator<A>> FromIterator<Result<A, E>> for Result<V, E> {\n }\n \n #[unstable(feature = \"try_trait\", issue = \"42327\")]\n+#[cfg(bootstrap)]\n impl<T, E> ops::TryV1 for Result<T, E> {\n     type Output = T;\n     type Error = E;"}, {"sha": "9cf89623d888e2d30227f0d8185837157bef6478", "filename": "library/core/src/task/poll.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Fsrc%2Ftask%2Fpoll.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Fsrc%2Ftask%2Fpoll.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Ftask%2Fpoll.rs?ref=af2ed1b51887ede4d766ee123d3fa216970d1fdd", "patch": "@@ -129,6 +129,7 @@ impl<T> From<T> for Poll<T> {\n }\n \n #[stable(feature = \"futures_api\", since = \"1.36.0\")]\n+#[cfg(bootstrap)]\n impl<T, E> ops::TryV1 for Poll<Result<T, E>> {\n     type Output = Poll<T>;\n     type Error = E;\n@@ -184,6 +185,7 @@ impl<T, E, F: From<E>> ops::FromResidual<Result<convert::Infallible, E>> for Pol\n }\n \n #[stable(feature = \"futures_api\", since = \"1.36.0\")]\n+#[cfg(bootstrap)]\n impl<T, E> ops::TryV1 for Poll<Option<Result<T, E>>> {\n     type Output = Poll<Option<T>>;\n     type Error = E;"}, {"sha": "16bce6e35fe83cf56a910c3c43c028a35165ec90", "filename": "library/core/tests/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/af2ed1b51887ede4d766ee123d3fa216970d1fdd/library%2Fcore%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Flib.rs?ref=af2ed1b51887ede4d766ee123d3fa216970d1fdd", "patch": "@@ -44,7 +44,6 @@\n #![feature(str_internals)]\n #![feature(test)]\n #![feature(trusted_len)]\n-#![feature(try_trait)]\n #![feature(try_trait_v2)]\n #![feature(slice_internals)]\n #![feature(slice_partition_dedup)]"}]}