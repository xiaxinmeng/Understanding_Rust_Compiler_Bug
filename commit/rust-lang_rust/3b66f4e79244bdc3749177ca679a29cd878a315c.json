{"sha": "3b66f4e79244bdc3749177ca679a29cd878a315c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNiNjZmNGU3OTI0NGJkYzM3NDkxNzdjYTY3OWEyOWNkODc4YTMxNWM=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-01-02T02:39:11Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-01-04T18:03:27Z"}, "message": "split hir/mod.rs -> hir.rs & hir/hir.rs", "tree": {"sha": "ac08d12d49ca4e04c923fc7dc792cacbc9e7588e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ac08d12d49ca4e04c923fc7dc792cacbc9e7588e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3b66f4e79244bdc3749177ca679a29cd878a315c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3b66f4e79244bdc3749177ca679a29cd878a315c", "html_url": "https://github.com/rust-lang/rust/commit/3b66f4e79244bdc3749177ca679a29cd878a315c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3b66f4e79244bdc3749177ca679a29cd878a315c/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "72241ad348442b44e115bbb8657b5514ff61c39b", "url": "https://api.github.com/repos/rust-lang/rust/commits/72241ad348442b44e115bbb8657b5514ff61c39b", "html_url": "https://github.com/rust-lang/rust/commit/72241ad348442b44e115bbb8657b5514ff61c39b"}], "stats": {"total": 65, "additions": 41, "deletions": 24}, "files": [{"sha": "149f6ca10c5ec28fed0275822f01986a8368a442", "filename": "src/librustc/hir.rs", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir.rs?ref=3b66f4e79244bdc3749177ca679a29cd878a315c", "patch": "@@ -0,0 +1,30 @@\n+//! HIR datatypes. See the [rustc guide] for more info.\n+//!\n+//! [rustc guide]: https://rust-lang.github.io/rustc-guide/hir.html\n+\n+pub mod check_attr;\n+pub mod def;\n+pub use rustc_hir::def_id;\n+pub use rustc_hir::hir_id::*;\n+pub mod intravisit;\n+pub mod itemlikevisit;\n+pub mod map;\n+pub mod pat_util;\n+pub mod print;\n+pub mod upvars;\n+\n+mod hir;\n+pub use hir::BlockCheckMode::*;\n+pub use hir::FunctionRetTy::*;\n+pub use hir::PrimTy::*;\n+pub use hir::UnOp::*;\n+pub use hir::UnsafeSource::*;\n+pub use hir::*;\n+\n+use crate::ty::query::Providers;\n+\n+pub fn provide(providers: &mut Providers<'_>) {\n+    check_attr::provide(providers);\n+    map::provide(providers);\n+    upvars::provide(providers);\n+}"}, {"sha": "08d4163add7327b9c36ec4c7ed79c5b76886fff8", "filename": "src/librustc/hir/check_attr.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir%2Fcheck_attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir%2Fcheck_attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fcheck_attr.rs?ref=3b66f4e79244bdc3749177ca679a29cd878a315c", "patch": "@@ -7,14 +7,15 @@\n use crate::hir::def_id::DefId;\n use crate::hir::intravisit::{self, NestedVisitorMap, Visitor};\n use crate::hir::DUMMY_HIR_ID;\n-use crate::hir::{self, Attribute, HirId, Item, ItemKind, TraitItem, TraitItemKind};\n+use crate::hir::{self, HirId, Item, ItemKind, TraitItem, TraitItemKind};\n use crate::lint::builtin::UNUSED_ATTRIBUTES;\n use crate::ty::query::Providers;\n use crate::ty::TyCtxt;\n \n use rustc_error_codes::*;\n use rustc_span::symbol::sym;\n use rustc_span::Span;\n+use syntax::ast::Attribute;\n use syntax::attr;\n \n use std::fmt::{self, Display};"}, {"sha": "0c719c3db8271ead1bb6882244eeccbf1a6ee7e5", "filename": "src/librustc/hir/hir.rs", "status": "renamed", "additions": 4, "deletions": 19, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir%2Fhir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir%2Fhir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fhir.rs?ref=3b66f4e79244bdc3749177ca679a29cd878a315c", "patch": "@@ -9,12 +9,14 @@ pub use self::UnOp::*;\n pub use self::UnsafeSource::*;\n \n use crate::hir::def::{DefKind, Res};\n-use crate::hir::def_id::{DefId, DefIndex};\n-use crate::ty::query::Providers;\n+use crate::hir::def_id::DefId;\n+use crate::hir::itemlikevisit;\n+use crate::hir::print;\n \n use errors::FatalError;\n use rustc_data_structures::fx::FxHashSet;\n use rustc_data_structures::sync::{par_for_each_in, Send, Sync};\n+use rustc_hir::hir_id::*;\n use rustc_macros::HashStable;\n use rustc_session::node_id::NodeMap;\n use rustc_span::source_map::{SourceMap, Spanned};\n@@ -31,17 +33,6 @@ pub use syntax::ast::{CaptureBy, Constness, Movability, Mutability, Unsafety};\n use syntax::tokenstream::TokenStream;\n use syntax::util::parser::ExprPrecedence;\n \n-pub mod check_attr;\n-pub mod def;\n-pub use rustc_hir::def_id;\n-pub use rustc_hir::hir_id::*;\n-pub mod intravisit;\n-pub mod itemlikevisit;\n-pub mod map;\n-pub mod pat_util;\n-pub mod print;\n-pub mod upvars;\n-\n #[derive(Copy, Clone, RustcEncodable, RustcDecodable, HashStable)]\n pub struct Lifetime {\n     pub hir_id: HirId,\n@@ -2581,12 +2572,6 @@ pub type TraitMap = NodeMap<Vec<TraitCandidate>>;\n // imported.\n pub type GlobMap = NodeMap<FxHashSet<Name>>;\n \n-pub fn provide(providers: &mut Providers<'_>) {\n-    check_attr::provide(providers);\n-    map::provide(providers);\n-    upvars::provide(providers);\n-}\n-\n #[derive(Copy, Clone, Debug)]\n pub enum Node<'hir> {\n     Param(&'hir Param<'hir>),", "previous_filename": "src/librustc/hir/mod.rs"}, {"sha": "12fe1f70370692de64b9fe9a3b3335c6d62a4c99", "filename": "src/librustc/hir/intravisit.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir%2Fintravisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir%2Fintravisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fintravisit.rs?ref=3b66f4e79244bdc3749177ca679a29cd878a315c", "patch": "@@ -37,7 +37,7 @@ use crate::hir::map::Map;\n use crate::hir::*;\n \n use rustc_span::Span;\n-use syntax::ast::{Attribute, Ident, Name};\n+use syntax::ast::{Attribute, Ident, Label, Name};\n \n #[derive(Copy, Clone)]\n pub enum FnKind<'a> {"}, {"sha": "25083281ce9d188fe8478b2ecdd3e6a34a262d72", "filename": "src/librustc/hir/map/collector.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir%2Fmap%2Fcollector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir%2Fmap%2Fcollector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmap%2Fcollector.rs?ref=3b66f4e79244bdc3749177ca679a29cd878a315c", "patch": "@@ -1,7 +1,7 @@\n use super::*;\n use crate::dep_graph::{DepGraph, DepKind, DepNodeIndex};\n use crate::hir;\n-use crate::hir::def_id::{CrateNum, LOCAL_CRATE};\n+use crate::hir::def_id::{CrateNum, DefIndex, LOCAL_CRATE};\n use crate::hir::intravisit::{NestedVisitorMap, Visitor};\n use crate::hir::map::HirEntryMap;\n use crate::ich::Fingerprint;"}, {"sha": "92547bbe038dd2d22cf426f51975abd323e7f7f9", "filename": "src/librustc/hir/map/mod.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir%2Fmap%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3b66f4e79244bdc3749177ca679a29cd878a315c/src%2Flibrustc%2Fhir%2Fmap%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmap%2Fmod.rs?ref=3b66f4e79244bdc3749177ca679a29cd878a315c", "patch": "@@ -4,10 +4,10 @@ pub use self::definitions::{\n };\n \n use crate::dep_graph::{DepGraph, DepKind, DepNode, DepNodeIndex};\n-use crate::hir::def_id::{DefId, LocalDefId, CRATE_DEF_INDEX};\n+use crate::hir::def::{DefKind, Res};\n+use crate::hir::def_id::{DefId, DefIndex, LocalDefId, CRATE_DEF_INDEX};\n use crate::hir::itemlikevisit::ItemLikeVisitor;\n use crate::hir::print::Nested;\n-use crate::hir::DefKind;\n use crate::hir::*;\n use crate::middle::cstore::CrateStoreDyn;\n use crate::ty::query::Providers;\n@@ -18,6 +18,7 @@ use rustc_data_structures::svh::Svh;\n use rustc_index::vec::IndexVec;\n use rustc_span::hygiene::MacroKind;\n use rustc_span::source_map::Spanned;\n+use rustc_span::symbol::kw;\n use rustc_span::{Span, DUMMY_SP};\n use rustc_target::spec::abi::Abi;\n use syntax::ast::{self, Name, NodeId};"}]}