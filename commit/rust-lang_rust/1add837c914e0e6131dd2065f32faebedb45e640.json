{"sha": "1add837c914e0e6131dd2065f32faebedb45e640", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFhZGQ4MzdjOTE0ZTBlNjEzMWRkMjA2NWYzMmZhZWJlZGI0NWU2NDA=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-09-13T02:45:18Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-09-13T02:45:18Z"}, "message": "Auto merge of #88517 - smoelius:without-patch-versions, r=flip1995\n\nUpdate Clippy dependencies without patch versions\n\nTrial run for https://github.com/rust-lang/rust-clippy/pull/7606", "tree": {"sha": "38310e78c6996ada5de270bcc310e2014438e8b4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/38310e78c6996ada5de270bcc310e2014438e8b4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1add837c914e0e6131dd2065f32faebedb45e640", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1add837c914e0e6131dd2065f32faebedb45e640", "html_url": "https://github.com/rust-lang/rust/commit/1add837c914e0e6131dd2065f32faebedb45e640", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1add837c914e0e6131dd2065f32faebedb45e640/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "00d45fe5b7915ce58a1c4a64871af09fbdc39494", "url": "https://api.github.com/repos/rust-lang/rust/commits/00d45fe5b7915ce58a1c4a64871af09fbdc39494", "html_url": "https://github.com/rust-lang/rust/commit/00d45fe5b7915ce58a1c4a64871af09fbdc39494"}, {"sha": "43ed2065cc9916f9d27140c825ab8e9321d580f0", "url": "https://api.github.com/repos/rust-lang/rust/commits/43ed2065cc9916f9d27140c825ab8e9321d580f0", "html_url": "https://github.com/rust-lang/rust/commit/43ed2065cc9916f9d27140c825ab8e9321d580f0"}], "stats": {"total": 80, "additions": 36, "deletions": 44}, "files": [{"sha": "40aaa5924df5b391862f379c8fd159920f5b061d", "filename": "Cargo.toml", "status": "modified", "additions": 10, "deletions": 12, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/1add837c914e0e6131dd2065f32faebedb45e640/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/1add837c914e0e6131dd2065f32faebedb45e640/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=1add837c914e0e6131dd2065f32faebedb45e640", "patch": "@@ -21,37 +21,35 @@ name = \"clippy-driver\"\n path = \"src/driver.rs\"\n \n [dependencies]\n-# begin automatic update\n-clippy_lints = { version = \"0.1.50\", path = \"clippy_lints\" }\n-# end automatic update\n+clippy_lints = { version = \"0.1\", path = \"clippy_lints\" }\n semver = \"0.11\"\n-rustc_tools_util = { version = \"0.2.0\", path = \"rustc_tools_util\" }\n-tempfile = { version = \"3.1.0\", optional = true }\n+rustc_tools_util = { version = \"0.2\", path = \"rustc_tools_util\" }\n+tempfile = { version = \"3.2\", optional = true }\n \n [dev-dependencies]\n cargo_metadata = \"0.12\"\n-compiletest_rs = { version = \"0.6.0\", features = [\"tmp\"] }\n+compiletest_rs = { version = \"0.7\", features = [\"tmp\"] }\n tester = \"0.9\"\n-regex = \"1.4\"\n+regex = \"1.5\"\n # This is used by the `collect-metadata` alias.\n filetime = \"0.2\"\n \n # A noop dependency that changes in the Rust repository, it's a bit of a hack.\n # See the `src/tools/rustc-workspace-hack/README.md` file in `rust-lang/rust`\n # for more information.\n-rustc-workspace-hack = \"1.0.0\"\n+rustc-workspace-hack = \"1.0\"\n \n # UI test dependencies\n clippy_utils = { path = \"clippy_utils\" }\n derive-new = \"0.5\"\n if_chain = \"1.0\"\n-itertools = \"0.10.1\"\n-quote = \"1\"\n+itertools = \"0.10\"\n+quote = \"1.0\"\n serde = { version = \"1.0\", features = [\"derive\"] }\n-syn = { version = \"1\", features = [\"full\"] }\n+syn = { version = \"1.0\", features = [\"full\"] }\n \n [build-dependencies]\n-rustc_tools_util = { version = \"0.2.0\", path = \"rustc_tools_util\" }\n+rustc_tools_util = { version = \"0.2\", path = \"rustc_tools_util\" }\n \n [features]\n deny-warnings = [\"clippy_lints/deny-warnings\"]"}, {"sha": "d7d2655026b4bc941ea2d54bf219bc173e091083", "filename": "clippy_dev/Cargo.toml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/1add837c914e0e6131dd2065f32faebedb45e640/clippy_dev%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/1add837c914e0e6131dd2065f32faebedb45e640/clippy_dev%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2FCargo.toml?ref=1add837c914e0e6131dd2065f32faebedb45e640", "patch": "@@ -6,11 +6,11 @@ edition = \"2018\"\n [dependencies]\n bytecount = \"0.6\"\n clap = \"2.33\"\n-itertools = \"0.9\"\n+itertools = \"0.10\"\n opener = \"0.5\"\n-regex = \"1\"\n+regex = \"1.5\"\n shell-escape = \"0.1\"\n-walkdir = \"2\"\n+walkdir = \"2.3\"\n \n [features]\n deny-warnings = []"}, {"sha": "c206a1eb07b500a28c114936e7a27af2879cd3a0", "filename": "clippy_dummy/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1add837c914e0e6131dd2065f32faebedb45e640/clippy_dummy%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/1add837c914e0e6131dd2065f32faebedb45e640/clippy_dummy%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dummy%2FCargo.toml?ref=1add837c914e0e6131dd2065f32faebedb45e640", "patch": "@@ -13,4 +13,4 @@ keywords = [\"clippy\", \"lint\", \"plugin\"]\n categories = [\"development-tools\", \"development-tools::cargo-plugins\"]\n \n [build-dependencies]\n-term = \"0.6\"\n+term = \"0.7\""}, {"sha": "e59175a55e184e9eaedfaecd76c79580c4d55383", "filename": "clippy_lints/Cargo.toml", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/1add837c914e0e6131dd2065f32faebedb45e640/clippy_lints%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/1add837c914e0e6131dd2065f32faebedb45e640/clippy_lints%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2FCargo.toml?ref=1add837c914e0e6131dd2065f32faebedb45e640", "patch": "@@ -11,21 +11,21 @@ edition = \"2018\"\n [dependencies]\n cargo_metadata = \"0.12\"\n clippy_utils = { path = \"../clippy_utils\" }\n-if_chain = \"1.0.0\"\n-itertools = \"0.9\"\n+if_chain = \"1.0\"\n+itertools = \"0.10\"\n pulldown-cmark = { version = \"0.8\", default-features = false }\n-quine-mc_cluskey = \"0.2.2\"\n+quine-mc_cluskey = \"0.2\"\n regex-syntax = \"0.6\"\n serde = { version = \"1.0\", features = [\"derive\"] }\n serde_json = { version = \"1.0\", optional = true }\n-toml = \"0.5.3\"\n+toml = \"0.5\"\n unicode-normalization = \"0.1\"\n-unicode-script = { version = \"0.5.3\", default-features = false }\n+unicode-script = { version = \"0.5\", default-features = false }\n semver = \"0.11\"\n-rustc-semver = \"1.1.0\"\n+rustc-semver = \"1.1\"\n # NOTE: cargo requires serde feat in its url dep\n # see <https://github.com/rust-lang/rust/pull/63587#issuecomment-522343864>\n-url = { version = \"2.1.0\", features = [\"serde\"] }\n+url = { version = \"2.2\", features = [\"serde\"] }\n \n [features]\n deny-warnings = [\"clippy_utils/deny-warnings\"]"}, {"sha": "162911b77d6153b6f02fc7b8d6e5ada56fcfe2a1", "filename": "clippy_lints/src/cargo_common_metadata.rs", "status": "modified", "additions": 4, "deletions": 10, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/1add837c914e0e6131dd2065f32faebedb45e640/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1add837c914e0e6131dd2065f32faebedb45e640/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcargo_common_metadata.rs?ref=1add837c914e0e6131dd2065f32faebedb45e640", "patch": "@@ -1,7 +1,5 @@\n //! lint on missing cargo common metadata\n \n-use std::path::PathBuf;\n-\n use clippy_utils::{diagnostics::span_lint, is_lint_allowed};\n use rustc_hir::{hir_id::CRATE_HIR_ID, Crate};\n use rustc_lint::{LateContext, LateLintPass};\n@@ -69,12 +67,8 @@ fn missing_warning(cx: &LateContext<'_>, package: &cargo_metadata::Package, fiel\n     span_lint(cx, CARGO_COMMON_METADATA, DUMMY_SP, &message);\n }\n \n-fn is_empty_str(value: &Option<String>) -> bool {\n-    value.as_ref().map_or(true, String::is_empty)\n-}\n-\n-fn is_empty_path(value: &Option<PathBuf>) -> bool {\n-    value.as_ref().and_then(|x| x.to_str()).map_or(true, str::is_empty)\n+fn is_empty_str<T: AsRef<std::ffi::OsStr>>(value: &Option<T>) -> bool {\n+    value.as_ref().map_or(true, |s| s.as_ref().is_empty())\n }\n \n fn is_empty_vec(value: &[String]) -> bool {\n@@ -98,15 +92,15 @@ impl LateLintPass<'_> for CargoCommonMetadata {\n                     missing_warning(cx, &package, \"package.description\");\n                 }\n \n-                if is_empty_str(&package.license) && is_empty_path(&package.license_file) {\n+                if is_empty_str(&package.license) && is_empty_str(&package.license_file) {\n                     missing_warning(cx, &package, \"either package.license or package.license_file\");\n                 }\n \n                 if is_empty_str(&package.repository) {\n                     missing_warning(cx, &package, \"package.repository\");\n                 }\n \n-                if is_empty_path(&package.readme) {\n+                if is_empty_str(&package.readme) {\n                     missing_warning(cx, &package, \"package.readme\");\n                 }\n "}, {"sha": "7c24e830e71dc406e2c081b77dcc09a47eb08d57", "filename": "clippy_utils/Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1add837c914e0e6131dd2065f32faebedb45e640/clippy_utils%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/1add837c914e0e6131dd2065f32faebedb45e640/clippy_utils%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2FCargo.toml?ref=1add837c914e0e6131dd2065f32faebedb45e640", "patch": "@@ -5,8 +5,8 @@ edition = \"2018\"\n publish = false\n \n [dependencies]\n-if_chain = \"1.0.0\"\n-rustc-semver=\"1.1.0\"\n+if_chain = \"1.0\"\n+rustc-semver = \"1.1\"\n \n [features]\n deny-warnings = []"}, {"sha": "f33f1b65eabdba1a45c3859f9ea941c18cd7bf4e", "filename": "lintcheck/Cargo.toml", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/1add837c914e0e6131dd2065f32faebedb45e640/lintcheck%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/1add837c914e0e6131dd2065f32faebedb45e640/lintcheck%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/lintcheck%2FCargo.toml?ref=1add837c914e0e6131dd2065f32faebedb45e640", "patch": "@@ -11,15 +11,15 @@ publish = false\n \n [dependencies]\n clap = \"2.33\"\n-flate2 = {version = \"1.0.19\"}\n-fs_extra = {version = \"1.2.0\"}\n-rayon = {version = \"1.5.0\"}\n-serde = {version = \"1.0\", features = [\"derive\"]}\n-serde_json = {version = \"1.0\"}\n-tar = {version = \"0.4.30\"}\n-toml = {version = \"0.5\"}\n-ureq = {version = \"2.0.0-rc3\"}\n-walkdir = {version = \"2.3.2\"}\n+flate2 = \"1.0\"\n+fs_extra = \"1.2\"\n+rayon = \"1.5\"\n+serde = { version = \"1.0\", features = [\"derive\"] }\n+serde_json = \"1.0\"\n+tar = \"0.4\"\n+toml = \"0.5\"\n+ureq = \"2.2\"\n+walkdir = \"2.3\"\n \n [features]\n deny-warnings = []"}]}