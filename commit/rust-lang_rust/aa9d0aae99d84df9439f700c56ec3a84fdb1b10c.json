{"sha": "aa9d0aae99d84df9439f700c56ec3a84fdb1b10c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFhOWQwYWFlOTlkODRkZjk0MzlmNzAwYzU2ZWMzYTg0ZmRiMWIxMGM=", "commit": {"author": {"name": "matt rice", "email": "ratmice@gmail.com", "date": "2017-10-29T16:10:07Z"}, "committer": {"name": "matt rice", "email": "ratmice@gmail.com", "date": "2017-11-03T17:52:36Z"}, "message": "issue #45357 set clippy build condition to extended.", "tree": {"sha": "bdadb8a6a7e6c525e138df8bcc4bd87c7ac9bb8e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bdadb8a6a7e6c525e138df8bcc4bd87c7ac9bb8e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aa9d0aae99d84df9439f700c56ec3a84fdb1b10c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aa9d0aae99d84df9439f700c56ec3a84fdb1b10c", "html_url": "https://github.com/rust-lang/rust/commit/aa9d0aae99d84df9439f700c56ec3a84fdb1b10c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aa9d0aae99d84df9439f700c56ec3a84fdb1b10c/comments", "author": {"login": "ratmice", "id": 5338, "node_id": "MDQ6VXNlcjUzMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/5338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ratmice", "html_url": "https://github.com/ratmice", "followers_url": "https://api.github.com/users/ratmice/followers", "following_url": "https://api.github.com/users/ratmice/following{/other_user}", "gists_url": "https://api.github.com/users/ratmice/gists{/gist_id}", "starred_url": "https://api.github.com/users/ratmice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ratmice/subscriptions", "organizations_url": "https://api.github.com/users/ratmice/orgs", "repos_url": "https://api.github.com/users/ratmice/repos", "events_url": "https://api.github.com/users/ratmice/events{/privacy}", "received_events_url": "https://api.github.com/users/ratmice/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ratmice", "id": 5338, "node_id": "MDQ6VXNlcjUzMzg=", "avatar_url": "https://avatars.githubusercontent.com/u/5338?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ratmice", "html_url": "https://github.com/ratmice", "followers_url": "https://api.github.com/users/ratmice/followers", "following_url": "https://api.github.com/users/ratmice/following{/other_user}", "gists_url": "https://api.github.com/users/ratmice/gists{/gist_id}", "starred_url": "https://api.github.com/users/ratmice/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ratmice/subscriptions", "organizations_url": "https://api.github.com/users/ratmice/orgs", "repos_url": "https://api.github.com/users/ratmice/repos", "events_url": "https://api.github.com/users/ratmice/events{/privacy}", "received_events_url": "https://api.github.com/users/ratmice/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0cd03bf5f33751497444b03e51d1b4598dc46a7d", "url": "https://api.github.com/repos/rust-lang/rust/commits/0cd03bf5f33751497444b03e51d1b4598dc46a7d", "html_url": "https://github.com/rust-lang/rust/commit/0cd03bf5f33751497444b03e51d1b4598dc46a7d"}], "stats": {"total": 6, "additions": 2, "deletions": 4}, "files": [{"sha": "7175fed5410bace13bc25fe55caa7d2e65106079", "filename": "src/bootstrap/tool.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/aa9d0aae99d84df9439f700c56ec3a84fdb1b10c/src%2Fbootstrap%2Ftool.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aa9d0aae99d84df9439f700c56ec3a84fdb1b10c/src%2Fbootstrap%2Ftool.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftool.rs?ref=aa9d0aae99d84df9439f700c56ec3a84fdb1b10c", "patch": "@@ -415,10 +415,8 @@ impl Step for Clippy {\n     const ONLY_HOSTS: bool = true;\n \n     fn should_run(run: ShouldRun) -> ShouldRun {\n-        match run.builder.top_stage {\n-            1 => run.never(),\n-            _ => run.path(\"src/tools/clippy\"),\n-        }\n+        let builder = run.builder;\n+        run.path(\"src/tools/clippy\").default_condition(builder.build.config.extended)\n     }\n \n     fn make_run(run: RunConfig) {"}]}