{"sha": "5bdbc45ae579e7b8f4187bc791abd67924cb626b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViZGJjNDVhZTU3OWU3YjhmNDE4N2JjNzkxYWJkNjc5MjRjYjYyNmI=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-06-07T01:07:48Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-06-07T01:07:48Z"}, "message": "Rustup to rust-lang/rust#71796", "tree": {"sha": "9098c8b087f6e07e9b6e3aab71081f8dbc6b9a8f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9098c8b087f6e07e9b6e3aab71081f8dbc6b9a8f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5bdbc45ae579e7b8f4187bc791abd67924cb626b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqv54U47RUUXZfOLnLO/Nsn7QvnkFAl7cPeQACgkQLO/Nsn7Q\nvnkGpA//bCIW1yv+8KbYqhCkHnYFfoidFpX7c0P/CBhSy641PZ53gaaRxR804az/\n6wojGFYwzFDe6cCnv5oX1PaObD8BEH/120URwKJk5mEuQxisblzvnvSgrjVKpvCs\nBW6ztJzl3+V33Y7VdXmK7nDustCW3OsDRFAXuY9zRnPJHWMwU/KKQAihQPIbrIwL\n5njSaLd8/GhqZFsJKkGZU3WxoRuNAPpxROxbNjWFXY4X+qjJeTu8crunCPqewBlb\nMrEQi+JZlnLZxyd0JgYOwkbLCRcIqXTQDO7mL8weEAlqbz2Zww1fYqGJqZbmAwIA\n06kJtfC1Q6fuHYG8G1JWBMaiVYCuyrtuM2bdgg8/xuLcoAO4wesLiHoin5tHwXFv\nTh5RUXlgyla5xHtQSzj2nOxuI5bOw+J340HxzeRhtofwpzUGi2asgv7kbxBrgGKi\nlTIiNjUQOcG2Tw0AHRXrK+LjdLFOiuQPLKVQBig1kKp0Nt1eL1wlh0egYKmMxoku\nWhpJmbO4Aape/zmTvq740y1fPM2pQJ/435LE6RQhRzUcoHCr5CTK7hW00RC18CjU\neKtU7/0NXVkN9ez06aTXRqP20Q2n2fxQ2VTqmWCZD2MlkJvXcYxGON0l8WX7HinP\nwQEA1tSbqmZrCJH/VBN6YeCMLvFXYVa/2V/VpkMjxX46xrokZL4=\n=iubO\n-----END PGP SIGNATURE-----", "payload": "tree 9098c8b087f6e07e9b6e3aab71081f8dbc6b9a8f\nparent 1a8a69d0123fd89e9fecaf5a93b099c737e7010a\nauthor flip1995 <hello@philkrones.com> 1591492068 +0200\ncommitter flip1995 <hello@philkrones.com> 1591492068 +0200\n\nRustup to rust-lang/rust#71796\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5bdbc45ae579e7b8f4187bc791abd67924cb626b", "html_url": "https://github.com/rust-lang/rust/commit/5bdbc45ae579e7b8f4187bc791abd67924cb626b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5bdbc45ae579e7b8f4187bc791abd67924cb626b/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1a8a69d0123fd89e9fecaf5a93b099c737e7010a", "url": "https://api.github.com/repos/rust-lang/rust/commits/1a8a69d0123fd89e9fecaf5a93b099c737e7010a", "html_url": "https://github.com/rust-lang/rust/commit/1a8a69d0123fd89e9fecaf5a93b099c737e7010a"}], "stats": {"total": 22, "additions": 17, "deletions": 5}, "files": [{"sha": "2045ffdb5f09d38996c36d57ffc9c56967859d96", "filename": "tests/ui/or_fun_call.fixed", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5bdbc45ae579e7b8f4187bc791abd67924cb626b/tests%2Fui%2For_fun_call.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/5bdbc45ae579e7b8f4187bc791abd67924cb626b/tests%2Fui%2For_fun_call.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2For_fun_call.fixed?ref=5bdbc45ae579e7b8f4187bc791abd67924cb626b", "patch": "@@ -29,7 +29,7 @@ fn or_fun_call() {\n     with_enum.unwrap_or(Enum::A(5));\n \n     let with_const_fn = Some(Duration::from_secs(1));\n-    with_const_fn.unwrap_or(Duration::from_secs(5));\n+    with_const_fn.unwrap_or_else(|| Duration::from_secs(5));\n \n     let with_constructor = Some(vec![1]);\n     with_constructor.unwrap_or_else(make);\n@@ -94,7 +94,7 @@ fn test_or_with_ctors() {\n \n     let b = \"b\".to_string();\n     let _ = Some(Bar(\"a\".to_string(), Duration::from_secs(1)))\n-        .or(Some(Bar(b, Duration::from_secs(2))));\n+        .or_else(|| Some(Bar(b, Duration::from_secs(2))));\n \n     let vec = vec![\"foo\"];\n     let _ = opt.ok_or(vec.len());"}, {"sha": "bc5978b538f16f69901c7d59576e840a95f95e23", "filename": "tests/ui/or_fun_call.stderr", "status": "modified", "additions": 15, "deletions": 3, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/5bdbc45ae579e7b8f4187bc791abd67924cb626b/tests%2Fui%2For_fun_call.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5bdbc45ae579e7b8f4187bc791abd67924cb626b/tests%2Fui%2For_fun_call.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2For_fun_call.stderr?ref=5bdbc45ae579e7b8f4187bc791abd67924cb626b", "patch": "@@ -1,10 +1,16 @@\n+error: use of `unwrap_or` followed by a function call\n+  --> $DIR/or_fun_call.rs:32:19\n+   |\n+LL |     with_const_fn.unwrap_or(Duration::from_secs(5));\n+   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `unwrap_or_else(|| Duration::from_secs(5))`\n+   |\n+   = note: `-D clippy::or-fun-call` implied by `-D warnings`\n+\n error: use of `unwrap_or` followed by a function call\n   --> $DIR/or_fun_call.rs:35:22\n    |\n LL |     with_constructor.unwrap_or(make());\n    |                      ^^^^^^^^^^^^^^^^^ help: try this: `unwrap_or_else(make)`\n-   |\n-   = note: `-D clippy::or-fun-call` implied by `-D warnings`\n \n error: use of `unwrap_or` followed by a call to `new`\n   --> $DIR/or_fun_call.rs:38:5\n@@ -78,5 +84,11 @@ error: use of `or` followed by a function call\n LL |     let _ = Some(\"a\".to_string()).or(Some(\"b\".to_string()));\n    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `or_else(|| Some(\"b\".to_string()))`\n \n-error: aborting due to 13 previous errors\n+error: use of `or` followed by a function call\n+  --> $DIR/or_fun_call.rs:97:10\n+   |\n+LL |         .or(Some(Bar(b, Duration::from_secs(2))));\n+   |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try this: `or_else(|| Some(Bar(b, Duration::from_secs(2))))`\n+\n+error: aborting due to 15 previous errors\n "}]}