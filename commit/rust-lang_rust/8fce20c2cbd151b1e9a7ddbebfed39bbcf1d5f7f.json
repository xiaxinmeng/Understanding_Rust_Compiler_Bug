{"sha": "8fce20c2cbd151b1e9a7ddbebfed39bbcf1d5f7f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhmY2UyMGMyY2JkMTUxYjFlOWE3ZGRiZWJmZWQzOWJiY2YxZDVmN2Y=", "commit": {"author": {"name": "Arjan Topolovec", "email": "arjan.top@gmail.com", "date": "2014-06-28T18:20:49Z"}, "committer": {"name": "Arjan Topolovec", "email": "arjan.top@gmail.com", "date": "2014-06-28T18:28:04Z"}, "message": "Implementation of common traits for MaybeOwnedVector", "tree": {"sha": "490c31c3b7fbbbe8c8b151ca6dcb8034400fe474", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/490c31c3b7fbbbe8c8b151ca6dcb8034400fe474"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8fce20c2cbd151b1e9a7ddbebfed39bbcf1d5f7f", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8fce20c2cbd151b1e9a7ddbebfed39bbcf1d5f7f", "html_url": "https://github.com/rust-lang/rust/commit/8fce20c2cbd151b1e9a7ddbebfed39bbcf1d5f7f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8fce20c2cbd151b1e9a7ddbebfed39bbcf1d5f7f/comments", "author": {"login": "arjantop", "id": 52403, "node_id": "MDQ6VXNlcjUyNDAz", "avatar_url": "https://avatars.githubusercontent.com/u/52403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arjantop", "html_url": "https://github.com/arjantop", "followers_url": "https://api.github.com/users/arjantop/followers", "following_url": "https://api.github.com/users/arjantop/following{/other_user}", "gists_url": "https://api.github.com/users/arjantop/gists{/gist_id}", "starred_url": "https://api.github.com/users/arjantop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arjantop/subscriptions", "organizations_url": "https://api.github.com/users/arjantop/orgs", "repos_url": "https://api.github.com/users/arjantop/repos", "events_url": "https://api.github.com/users/arjantop/events{/privacy}", "received_events_url": "https://api.github.com/users/arjantop/received_events", "type": "User", "site_admin": false}, "committer": {"login": "arjantop", "id": 52403, "node_id": "MDQ6VXNlcjUyNDAz", "avatar_url": "https://avatars.githubusercontent.com/u/52403?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arjantop", "html_url": "https://github.com/arjantop", "followers_url": "https://api.github.com/users/arjantop/followers", "following_url": "https://api.github.com/users/arjantop/following{/other_user}", "gists_url": "https://api.github.com/users/arjantop/gists{/gist_id}", "starred_url": "https://api.github.com/users/arjantop/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arjantop/subscriptions", "organizations_url": "https://api.github.com/users/arjantop/orgs", "repos_url": "https://api.github.com/users/arjantop/repos", "events_url": "https://api.github.com/users/arjantop/events{/privacy}", "received_events_url": "https://api.github.com/users/arjantop/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b47f2226a25654c5b781d27a91f2fa5274b3a347", "url": "https://api.github.com/repos/rust-lang/rust/commits/b47f2226a25654c5b781d27a91f2fa5274b3a347", "html_url": "https://github.com/rust-lang/rust/commit/b47f2226a25654c5b781d27a91f2fa5274b3a347"}], "stats": {"total": 57, "additions": 57, "deletions": 0}, "files": [{"sha": "026db9d96f676e86ab54fcbf5fe81994d7c81f4e", "filename": "src/libgraphviz/maybe_owned_vec.rs", "status": "modified", "additions": 57, "deletions": 0, "changes": 57, "blob_url": "https://github.com/rust-lang/rust/blob/8fce20c2cbd151b1e9a7ddbebfed39bbcf1d5f7f/src%2Flibgraphviz%2Fmaybe_owned_vec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8fce20c2cbd151b1e9a7ddbebfed39bbcf1d5f7f/src%2Flibgraphviz%2Fmaybe_owned_vec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibgraphviz%2Fmaybe_owned_vec.rs?ref=8fce20c2cbd151b1e9a7ddbebfed39bbcf1d5f7f", "patch": "@@ -8,8 +8,11 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+use std::collections::Collection;\n+use std::default::Default;\n use std::fmt;\n use std::iter::FromIterator;\n+use std::path::BytesContainer;\n use std::slice;\n \n // Note 1: It is not clear whether the flexibility of providing both\n@@ -61,6 +64,32 @@ impl<'a,T> MaybeOwnedVector<'a,T> {\n     }\n }\n \n+impl<'a, T: PartialEq> PartialEq for MaybeOwnedVector<'a, T> {\n+    fn eq(&self, other: &MaybeOwnedVector<T>) -> bool {\n+        self.as_slice() == other.as_slice()\n+    }\n+}\n+\n+impl<'a, T: Eq> Eq for MaybeOwnedVector<'a, T> {}\n+\n+impl<'a, T: PartialOrd> PartialOrd for MaybeOwnedVector<'a, T> {\n+    fn lt(&self, other: &MaybeOwnedVector<T>) -> bool {\n+        self.as_slice().lt(&other.as_slice())\n+    }\n+}\n+\n+impl<'a, T: Ord> Ord for MaybeOwnedVector<'a, T> {\n+    fn cmp(&self, other: &MaybeOwnedVector<T>) -> Ordering {\n+        self.as_slice().cmp(&other.as_slice())\n+    }\n+}\n+\n+impl<'a, T: PartialEq, V: Vector<T>> Equiv<V> for MaybeOwnedVector<'a, T> {\n+    fn equiv(&self, other: &V) -> bool {\n+        self.as_slice() == other.as_slice()\n+    }\n+}\n+\n // The `Vector` trait is provided in the prelude and is implemented on\n // both `&'a [T]` and `Vec<T>`, so it makes sense to try to support it\n // seamlessly.  The other vector related traits from the prelude do\n@@ -108,6 +137,34 @@ impl<'a,T:Clone> CloneableVector<T> for MaybeOwnedVector<'a,T> {\n     }\n }\n \n+impl<'a, T: Clone> Clone for MaybeOwnedVector<'a, T> {\n+    fn clone(&self) -> MaybeOwnedVector<'a, T> {\n+        match *self {\n+            Growable(ref v) => Growable(v.to_owned()),\n+            Borrowed(v) => Borrowed(v)\n+        }\n+    }\n+}\n+\n+\n+impl<'a, T> Default for MaybeOwnedVector<'a, T> {\n+    fn default() -> MaybeOwnedVector<'a, T> {\n+        Growable(Vec::new())\n+    }\n+}\n+\n+impl<'a, T> Collection for MaybeOwnedVector<'a, T> {\n+    fn len(&self) -> uint {\n+        self.as_slice().len()\n+    }\n+}\n+\n+impl<'a> BytesContainer for MaybeOwnedVector<'a, u8> {\n+    fn container_as_bytes<'a>(&'a self) -> &'a [u8] {\n+        self.as_slice()\n+    }\n+}\n+\n impl<'a,T:Clone> MaybeOwnedVector<'a,T> {\n     /// Convert `self` into a growable `Vec`, not making a copy if possible.\n     pub fn into_vec(self) -> Vec<T> {"}]}