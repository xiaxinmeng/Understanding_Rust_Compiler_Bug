{"sha": "425a70a460abac1182a792c6c2af6dff69663c3c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQyNWE3MGE0NjBhYmFjMTE4MmE3OTJjNmMyYWY2ZGZmNjk2NjNjM2M=", "commit": {"author": {"name": "Giles Cope", "email": "gilescope@gmail.com", "date": "2021-01-26T11:26:58Z"}, "committer": {"name": "Giles Cope", "email": "gilescope@gmail.com", "date": "2021-01-26T11:26:58Z"}, "message": "Removing if so it's more like the previous implementation.", "tree": {"sha": "d6dd12b002dc99773e0cd68f81d4e42c8433a106", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d6dd12b002dc99773e0cd68f81d4e42c8433a106"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/425a70a460abac1182a792c6c2af6dff69663c3c", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEElfpt1fswGixBWxap34UWHa4P82sFAmAP/IIACgkQ34UWHa4P\n82tA/w//d/INtGFurjmxF+8cor7J/yRPldH+wXcf2G1vHIa3XTXRGd/tyAnsHMZP\nAxSxi2KiLiPnYn5MLpU8605xFGG3DQWU0tFv1kkV2rdrjxt7KVSIallVOSRxsSHz\n6sThEGw90EU2ic/fTsjY5RSqbnyOOKpmr/j7GKtiTqs6UWSGPPDrcomTVWspZtoH\nNZVeWJ6cS4YfFhfYNHgbo2vIiVhQWegjJG9lBYvONVyfCd9FoQAWoWGbhIXVh8oM\nYLjK+pxO1R4Sdvi6SAReT4FBzlFR74eFIdsvo1Ffn5nrHp5dUZ2e4mQ5YWs/2wWW\nPJ/MAttepNGo59+YfzjnxSysrv8y8IID1p4hksPhbK5blRTHrRLNG/NbOgm/dtOK\n7BTt4iRQIY7wfXaNduOaVus83P54Wl49g6q1nJiJm7wS/0tIz/BU7Eydoqyt/+e1\nkIINlUZnBx3kKsqtWQMg2TkMxUFzNyA8UchpGOvSKXgEu+uU9dSpGkhzTDC0jYf9\nY8GITpochOUp/3Q3iLmgWn6dhw3lYKz1EcQmx38gZAV+Gderz8lrmYC7rTUJz+7U\nU36GenO7tAlSxku1qdNljdHhHtDcIQWdWHzfRDNj5uU/yRWEQRv4Do4VDhumsuxR\nPWBkdm5Dq22n84DkxiXbVhSD7FxxL6Gy5DjYy+VnL07pnnK13mY=\n=Bg9w\n-----END PGP SIGNATURE-----", "payload": "tree d6dd12b002dc99773e0cd68f81d4e42c8433a106\nparent 328abfb9431c486ab2d0b9ebd7f6115805f613de\nauthor Giles Cope <gilescope@gmail.com> 1611660418 +0000\ncommitter Giles Cope <gilescope@gmail.com> 1611660418 +0000\n\nRemoving if so it's more like the previous implementation.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/425a70a460abac1182a792c6c2af6dff69663c3c", "html_url": "https://github.com/rust-lang/rust/commit/425a70a460abac1182a792c6c2af6dff69663c3c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/425a70a460abac1182a792c6c2af6dff69663c3c/comments", "author": {"login": "gilescope", "id": 803976, "node_id": "MDQ6VXNlcjgwMzk3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/803976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gilescope", "html_url": "https://github.com/gilescope", "followers_url": "https://api.github.com/users/gilescope/followers", "following_url": "https://api.github.com/users/gilescope/following{/other_user}", "gists_url": "https://api.github.com/users/gilescope/gists{/gist_id}", "starred_url": "https://api.github.com/users/gilescope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gilescope/subscriptions", "organizations_url": "https://api.github.com/users/gilescope/orgs", "repos_url": "https://api.github.com/users/gilescope/repos", "events_url": "https://api.github.com/users/gilescope/events{/privacy}", "received_events_url": "https://api.github.com/users/gilescope/received_events", "type": "User", "site_admin": false}, "committer": {"login": "gilescope", "id": 803976, "node_id": "MDQ6VXNlcjgwMzk3Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/803976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/gilescope", "html_url": "https://github.com/gilescope", "followers_url": "https://api.github.com/users/gilescope/followers", "following_url": "https://api.github.com/users/gilescope/following{/other_user}", "gists_url": "https://api.github.com/users/gilescope/gists{/gist_id}", "starred_url": "https://api.github.com/users/gilescope/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/gilescope/subscriptions", "organizations_url": "https://api.github.com/users/gilescope/orgs", "repos_url": "https://api.github.com/users/gilescope/repos", "events_url": "https://api.github.com/users/gilescope/events{/privacy}", "received_events_url": "https://api.github.com/users/gilescope/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "328abfb9431c486ab2d0b9ebd7f6115805f613de", "url": "https://api.github.com/repos/rust-lang/rust/commits/328abfb9431c486ab2d0b9ebd7f6115805f613de", "html_url": "https://github.com/rust-lang/rust/commit/328abfb9431c486ab2d0b9ebd7f6115805f613de"}], "stats": {"total": 4, "additions": 1, "deletions": 3}, "files": [{"sha": "34c31d599a3184dee804d069aca97868258a0235", "filename": "library/core/src/str/iter.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/425a70a460abac1182a792c6c2af6dff69663c3c/library%2Fcore%2Fsrc%2Fstr%2Fiter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/425a70a460abac1182a792c6c2af6dff69663c3c/library%2Fcore%2Fsrc%2Fstr%2Fiter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fstr%2Fiter.rs?ref=425a70a460abac1182a792c6c2af6dff69663c3c", "patch": "@@ -49,9 +49,7 @@ impl<'a> Iterator for Chars<'a> {\n         // length in `char` is equal to the number of non-continuation bytes\n         let mut char_count = 0;\n         for &byte in self.iter {\n-            if !utf8_is_cont_byte(byte) {\n-                char_count += 1;\n-            }\n+            char_count += !utf8_is_cont_byte(byte) as usize;\n         }\n         char_count\n     }"}]}