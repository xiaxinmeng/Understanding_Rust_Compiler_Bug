{"sha": "2ab1f0a850f4e02c5dacf882c040b3acee57f86a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJhYjFmMGE4NTBmNGUwMmM1ZGFjZjg4MmMwNDBiM2FjZWU1N2Y4NmE=", "commit": {"author": {"name": "petevine", "email": "petevine@users.noreply.github.com", "date": "2016-03-18T23:04:27Z"}, "committer": {"name": "petevine", "email": "petevine@users.noreply.github.com", "date": "2016-03-18T23:04:27Z"}, "message": "Use explicit -march flags in the i586 mk file\n\n`-march` should definitely go last, after the environment C(XX)FLAGS, or it's back to square one.\r\nThis fixes cross-compilation issues on x86_64.", "tree": {"sha": "946fdf3d02719d75f6db8d4c566b71cee5a66cab", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/946fdf3d02719d75f6db8d4c566b71cee5a66cab"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2ab1f0a850f4e02c5dacf882c040b3acee57f86a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2ab1f0a850f4e02c5dacf882c040b3acee57f86a", "html_url": "https://github.com/rust-lang/rust/commit/2ab1f0a850f4e02c5dacf882c040b3acee57f86a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2ab1f0a850f4e02c5dacf882c040b3acee57f86a/comments", "author": {"login": "petevine", "id": 24399620, "node_id": "MDQ6VXNlcjI0Mzk5NjIw", "avatar_url": "https://avatars.githubusercontent.com/u/24399620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petevine", "html_url": "https://github.com/petevine", "followers_url": "https://api.github.com/users/petevine/followers", "following_url": "https://api.github.com/users/petevine/following{/other_user}", "gists_url": "https://api.github.com/users/petevine/gists{/gist_id}", "starred_url": "https://api.github.com/users/petevine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petevine/subscriptions", "organizations_url": "https://api.github.com/users/petevine/orgs", "repos_url": "https://api.github.com/users/petevine/repos", "events_url": "https://api.github.com/users/petevine/events{/privacy}", "received_events_url": "https://api.github.com/users/petevine/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petevine", "id": 24399620, "node_id": "MDQ6VXNlcjI0Mzk5NjIw", "avatar_url": "https://avatars.githubusercontent.com/u/24399620?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petevine", "html_url": "https://github.com/petevine", "followers_url": "https://api.github.com/users/petevine/followers", "following_url": "https://api.github.com/users/petevine/following{/other_user}", "gists_url": "https://api.github.com/users/petevine/gists{/gist_id}", "starred_url": "https://api.github.com/users/petevine/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petevine/subscriptions", "organizations_url": "https://api.github.com/users/petevine/orgs", "repos_url": "https://api.github.com/users/petevine/repos", "events_url": "https://api.github.com/users/petevine/events{/privacy}", "received_events_url": "https://api.github.com/users/petevine/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fc9e1d0f55f721461b73628f12cf64de31be55af", "url": "https://api.github.com/repos/rust-lang/rust/commits/fc9e1d0f55f721461b73628f12cf64de31be55af", "html_url": "https://github.com/rust-lang/rust/commit/fc9e1d0f55f721461b73628f12cf64de31be55af"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "2b28550320d85b2b31ec74495dee6c1dbf24dc53", "filename": "mk/cfg/i586-unknown-linux-gnu.mk", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/2ab1f0a850f4e02c5dacf882c040b3acee57f86a/mk%2Fcfg%2Fi586-unknown-linux-gnu.mk", "raw_url": "https://github.com/rust-lang/rust/raw/2ab1f0a850f4e02c5dacf882c040b3acee57f86a/mk%2Fcfg%2Fi586-unknown-linux-gnu.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fi586-unknown-linux-gnu.mk?ref=2ab1f0a850f4e02c5dacf882c040b3acee57f86a", "patch": "@@ -7,9 +7,9 @@ CFG_LIB_NAME_i586-unknown-linux-gnu=lib$(1).so\n CFG_STATIC_LIB_NAME_i586-unknown-linux-gnu=lib$(1).a\n CFG_LIB_GLOB_i586-unknown-linux-gnu=lib$(1)-*.so\n CFG_LIB_DSYM_GLOB_i586-unknown-linux-gnu=lib$(1)-*.dylib.dSYM\n-CFG_JEMALLOC_CFLAGS_i586-unknown-linux-gnu := -m32 $(CFLAGS)\n-CFG_GCCISH_CFLAGS_i586-unknown-linux-gnu := -Wall -Werror -g -fPIC -m32 $(CFLAGS)\n-CFG_GCCISH_CXXFLAGS_i586-unknown-linux-gnu := -fno-rtti $(CXXFLAGS)\n+CFG_JEMALLOC_CFLAGS_i586-unknown-linux-gnu := -m32 $(CFLAGS) -march=pentium\n+CFG_GCCISH_CFLAGS_i586-unknown-linux-gnu := -Wall -Werror -g -fPIC -m32 $(CFLAGS) -march=pentium\n+CFG_GCCISH_CXXFLAGS_i586-unknown-linux-gnu := -fno-rtti $(CXXFLAGS) -march=pentium\n CFG_GCCISH_LINK_FLAGS_i586-unknown-linux-gnu := -shared -fPIC -ldl -pthread  -lrt -g -m32\n CFG_GCCISH_DEF_FLAG_i586-unknown-linux-gnu := -Wl,--export-dynamic,--dynamic-list=\n CFG_LLC_FLAGS_i586-unknown-linux-gnu :="}]}