{"sha": "955fdaea4a187ab629266ff8fe88a1e3432fb592", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk1NWZkYWVhNGExODdhYjYyOTI2NmZmOGZlODhhMWUzNDMyZmI1OTI=", "commit": {"author": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2021-03-28T02:46:50Z"}, "committer": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2021-05-09T03:11:59Z"}, "message": "Rename `Parser::span_fatal_err` -> `Parser::span_err`\n\nThe name was misleading, it wasn't actually a fatal error.", "tree": {"sha": "ca5c74c2266526d2afb3d5a88416f7231470e49b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ca5c74c2266526d2afb3d5a88416f7231470e49b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/955fdaea4a187ab629266ff8fe88a1e3432fb592", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/955fdaea4a187ab629266ff8fe88a1e3432fb592", "html_url": "https://github.com/rust-lang/rust/commit/955fdaea4a187ab629266ff8fe88a1e3432fb592", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/955fdaea4a187ab629266ff8fe88a1e3432fb592/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d6d028369be9eb02d219506c0dd662a2f863fc18", "url": "https://api.github.com/repos/rust-lang/rust/commits/d6d028369be9eb02d219506c0dd662a2f863fc18", "html_url": "https://github.com/rust-lang/rust/commit/d6d028369be9eb02d219506c0dd662a2f863fc18"}], "stats": {"total": 12, "additions": 4, "deletions": 8}, "files": [{"sha": "72fdc78c30cbc3a101a0f9b81e74beaed2123407", "filename": "compiler/rustc_parse/src/parser/diagnostics.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/955fdaea4a187ab629266ff8fe88a1e3432fb592/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/955fdaea4a187ab629266ff8fe88a1e3432fb592/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs?ref=955fdaea4a187ab629266ff8fe88a1e3432fb592", "patch": "@@ -144,11 +144,7 @@ impl AttemptLocalParseRecovery {\n }\n \n impl<'a> Parser<'a> {\n-    pub(super) fn span_fatal_err<S: Into<MultiSpan>>(\n-        &self,\n-        sp: S,\n-        err: Error,\n-    ) -> DiagnosticBuilder<'a> {\n+    pub(super) fn span_err<S: Into<MultiSpan>>(&self, sp: S, err: Error) -> DiagnosticBuilder<'a> {\n         err.span_err(sp, self.diagnostic())\n     }\n "}, {"sha": "553ffda814fe995eeb091a21cfb78b29aa058011", "filename": "compiler/rustc_parse/src/parser/item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/955fdaea4a187ab629266ff8fe88a1e3432fb592/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/955fdaea4a187ab629266ff8fe88a1e3432fb592/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs?ref=955fdaea4a187ab629266ff8fe88a1e3432fb592", "patch": "@@ -1326,7 +1326,7 @@ impl<'a> Parser<'a> {\n             token::CloseDelim(token::Brace) => {}\n             token::DocComment(..) => {\n                 let previous_span = self.prev_token.span;\n-                let mut err = self.span_fatal_err(self.token.span, Error::UselessDocComment);\n+                let mut err = self.span_err(self.token.span, Error::UselessDocComment);\n                 self.bump(); // consume the doc comment\n                 let comma_after_doc_seen = self.eat(&token::Comma);\n                 // `seen_comma` is always false, because we are inside doc block"}, {"sha": "ec11f2d3add925b073600bd68517e8af96386c7f", "filename": "compiler/rustc_parse/src/parser/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/955fdaea4a187ab629266ff8fe88a1e3432fb592/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/955fdaea4a187ab629266ff8fe88a1e3432fb592/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fmod.rs?ref=955fdaea4a187ab629266ff8fe88a1e3432fb592", "patch": "@@ -525,7 +525,7 @@ impl<'a> Parser<'a> {\n     fn ident_or_err(&mut self) -> PResult<'a, (Ident, /* is_raw */ bool)> {\n         self.token.ident().ok_or_else(|| match self.prev_token.kind {\n             TokenKind::DocComment(..) => {\n-                self.span_fatal_err(self.prev_token.span, Error::UselessDocComment)\n+                self.span_err(self.prev_token.span, Error::UselessDocComment)\n             }\n             _ => self.expected_ident_found(),\n         })"}, {"sha": "b40eed8c5d118752a4b075b59fff080e3bced2ce", "filename": "compiler/rustc_parse/src/parser/stmt.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/955fdaea4a187ab629266ff8fe88a1e3432fb592/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fstmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/955fdaea4a187ab629266ff8fe88a1e3432fb592/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fstmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fstmt.rs?ref=955fdaea4a187ab629266ff8fe88a1e3432fb592", "patch": "@@ -168,7 +168,7 @@ impl<'a> Parser<'a> {\n     fn error_outer_attrs(&self, attrs: &[Attribute]) {\n         if let [.., last] = attrs {\n             if last.is_doc_comment() {\n-                self.span_fatal_err(last.span, Error::UselessDocComment).emit();\n+                self.span_err(last.span, Error::UselessDocComment).emit();\n             } else if attrs.iter().any(|a| a.style == AttrStyle::Outer) {\n                 self.struct_span_err(last.span, \"expected statement after outer attribute\").emit();\n             }"}]}