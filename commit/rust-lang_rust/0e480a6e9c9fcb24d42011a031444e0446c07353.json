{"sha": "0e480a6e9c9fcb24d42011a031444e0446c07353", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlNDgwYTZlOWM5ZmNiMjRkNDIwMTFhMDMxNDQ0ZTA0NDZjMDczNTM=", "commit": {"author": {"name": "Basti Ortiz", "email": "39114273+Some-Dood@users.noreply.github.com", "date": "2021-08-10T14:30:08Z"}, "committer": {"name": "Basti Ortiz", "email": "39114273+Some-Dood@users.noreply.github.com", "date": "2021-08-10T14:30:08Z"}, "message": "Chore: add comments to explicitly express two-step check\n\nSee https://github.com/rust-analyzer/rust-analyzer/pull/9836#discussion_r685953381", "tree": {"sha": "8aebf0c368b89de3604e01bfb39a285cff7577b2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8aebf0c368b89de3604e01bfb39a285cff7577b2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0e480a6e9c9fcb24d42011a031444e0446c07353", "comment_count": 0, "verification": {"verified": false, "reason": "bad_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqA0bdqgj8CYCkkcsFALVyxf0jhsFAmESje0ACgkQFALVyxf0\njhs3/g/+JNCOBZWXoyTQkf12W4lo2uLmYwSCdHuEL1E7lS1hhfFcZWzTI1W1sk4d\nBOy08RtkL/r+aABQij6HyQgzsI68/x0S3C214wx9KnpSs4Ho9EwMVHTRjLqDnzaq\nnSQ9RBOvfPlx04qJUPRNjqMTNEiul/BLKbx+w6ko2UHPuH71FcdkOYp1t1GddDmq\n3a1HA0qundEyIHIXdRjGXSwMooq0blzZaEcxLQBV29ZWxTVcIK1oUHDTykA30LQO\nxP2vWdZIMAHVcOowXa4UexEb0GWDIXMgVl3ksOAdElkg4zP84nfJ0Tq2hfyPYgK1\nQKVqHjYSgrH4qyMpuGb5lOAj/doRcqHybiO41NTY3YLeb7MXsxo05Vb9AaI1Y0n9\n7tc7Hp2VJpPcFhh1Uoo+boiyOY/mqtrLVegmHv6nCVN1mjG+QOGPfDR1QZz0DkqF\nz5OX7/MSJCpfIymc5ER0D+lSeNfuhEdZeqDY3l1YwbOCj7sQyWn/Kdzn0oSkC0T5\nnH8f1hmnF5V/Yz2X0yHzfTYEIUTOWWnexggqtwDZ71zj5FkHoGQRqVW1tskqz2zJ\n4nIOgIFdZL1vuz5G6d6NenxKITTzVm6Oafz5tZEXSgje7tt3qXmDAuyrXW/c07ss\n5X74h45w7EtYM9ESatROIRsZzKdymR2440CQRo0bHHHGqIBY0r8=\n=QqyB\n-----END PGP SIGNATURE-----", "payload": "tree 8aebf0c368b89de3604e01bfb39a285cff7577b2\nparent ae1288eeed72c2b2a1ad638c1b9d99fa35035f91\nauthor Basti Ortiz <39114273+Some-Dood@users.noreply.github.com> 1628605808 +0800\ncommitter Basti Ortiz <39114273+Some-Dood@users.noreply.github.com> 1628605808 +0800\n\nChore: add comments to explicitly express two-step check\n\nSee https://github.com/rust-analyzer/rust-analyzer/pull/9836#discussion_r685953381\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0e480a6e9c9fcb24d42011a031444e0446c07353", "html_url": "https://github.com/rust-lang/rust/commit/0e480a6e9c9fcb24d42011a031444e0446c07353", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0e480a6e9c9fcb24d42011a031444e0446c07353/comments", "author": {"login": "BastiDood", "id": 39114273, "node_id": "MDQ6VXNlcjM5MTE0Mjcz", "avatar_url": "https://avatars.githubusercontent.com/u/39114273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BastiDood", "html_url": "https://github.com/BastiDood", "followers_url": "https://api.github.com/users/BastiDood/followers", "following_url": "https://api.github.com/users/BastiDood/following{/other_user}", "gists_url": "https://api.github.com/users/BastiDood/gists{/gist_id}", "starred_url": "https://api.github.com/users/BastiDood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BastiDood/subscriptions", "organizations_url": "https://api.github.com/users/BastiDood/orgs", "repos_url": "https://api.github.com/users/BastiDood/repos", "events_url": "https://api.github.com/users/BastiDood/events{/privacy}", "received_events_url": "https://api.github.com/users/BastiDood/received_events", "type": "User", "site_admin": false}, "committer": {"login": "BastiDood", "id": 39114273, "node_id": "MDQ6VXNlcjM5MTE0Mjcz", "avatar_url": "https://avatars.githubusercontent.com/u/39114273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/BastiDood", "html_url": "https://github.com/BastiDood", "followers_url": "https://api.github.com/users/BastiDood/followers", "following_url": "https://api.github.com/users/BastiDood/following{/other_user}", "gists_url": "https://api.github.com/users/BastiDood/gists{/gist_id}", "starred_url": "https://api.github.com/users/BastiDood/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/BastiDood/subscriptions", "organizations_url": "https://api.github.com/users/BastiDood/orgs", "repos_url": "https://api.github.com/users/BastiDood/repos", "events_url": "https://api.github.com/users/BastiDood/events{/privacy}", "received_events_url": "https://api.github.com/users/BastiDood/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ae1288eeed72c2b2a1ad638c1b9d99fa35035f91", "url": "https://api.github.com/repos/rust-lang/rust/commits/ae1288eeed72c2b2a1ad638c1b9d99fa35035f91", "html_url": "https://github.com/rust-lang/rust/commit/ae1288eeed72c2b2a1ad638c1b9d99fa35035f91"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "5959ce2ce79a66c742eceae9bbc97b02c1121e36", "filename": "crates/vfs/src/loader.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0e480a6e9c9fcb24d42011a031444e0446c07353/crates%2Fvfs%2Fsrc%2Floader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0e480a6e9c9fcb24d42011a031444e0446c07353/crates%2Fvfs%2Fsrc%2Floader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fvfs%2Fsrc%2Floader.rs?ref=0e480a6e9c9fcb24d42011a031444e0446c07353", "patch": "@@ -136,10 +136,13 @@ impl Entry {\n impl Directories {\n     /// Returns `true` if `path` is included in `self`.\n     pub fn contains_file(&self, path: &AbsPath) -> bool {\n+        // First, check the file extension...\n         let ext = path.extension().unwrap_or_default();\n         if self.extensions.iter().all(|it| it.as_str() != ext) {\n             return false;\n         }\n+\n+        // Then, check for path inclusion...\n         self.includes_path(path)\n     }\n "}]}