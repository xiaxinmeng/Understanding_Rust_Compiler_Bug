{"sha": "93056599220db45a67e3ba82484af4718456fefa", "node_id": "C_kwDOAAsO6NoAKDkzMDU2NTk5MjIwZGI0NWE2N2UzYmE4MjQ4NGFmNDcxODQ1NmZlZmE", "commit": {"author": {"name": "Philipp Krones", "email": "hello@philkrones.com", "date": "2022-06-06T11:12:53Z"}, "committer": {"name": "Philipp Krones", "email": "hello@philkrones.com", "date": "2022-06-06T14:17:58Z"}, "message": "Book: Improve chapter on CI\n\nRecommend the -Dwarnings and --all-targets/--all-features more strongly.", "tree": {"sha": "9f0271f54d6b5e53d763967d0a86f014162c2a8e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9f0271f54d6b5e53d763967d0a86f014162c2a8e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/93056599220db45a67e3ba82484af4718456fefa", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEij1UXJ/PQTcb99vTHKDfKvWdaKUFAmKeDJYACgkQHKDfKvWd\naKVRBQ//fheZU2ytGT/mxkoaLauEf/kbJaH5aT8J6kUZSg6ZQ5LTZ/g5/6Ewnswp\nUtqI1YcsRoNfKF66IAhwhHEjavYglZZ6nXBcP6DMVUPAbVxVGa4Rt5HID4R8wynX\nBXEPBYMp7qHIjlBCr2k6gQc3gPGSR24fjXlXxJP7g/bKl9qOt+OY68KlUcDq42g9\nw6t5kUo1cH/czFx8Wf9I8+bFTCxaewNYYe/c1ZoX8BiYpTBUbFyVDbSKpFaHM3BB\n0tLXbQJga1ECFnDQduZMpQFGCNnE4Vz1c/5or5+rkGAD7KVoUrPd17DbeuKevlIN\nhZ65GuW/yzzpyvTdJ0ZVvu1zDwF8LCDc5XGeAMsaexNvIiszFU+1b0BR/j24AnVm\nnsaTDWBmnPwu0K3V1wYkfNsqtcqjxoBUMzBADUU3A072RKODAeTyOIDUoCc96LLL\nS9GcRUXa0MRR55LZ29VtXgcR39p0+6JnuWOiW9eb6dZ7yAOuIZTQRYJeBS0eOf9V\nJ1vVxyEoyRZTF8vTNti9z5PG1kE6N486bbDJZBwH1jZ2/iFENTGdDL4eJMGIPNGr\niA1+lDF99hR7u3PxWW3PN+d6Cps04ho3EsFkz9qGZpq1tL9PLNaFglSEh5ZTFk+/\n6ro2RbWWwqLYrQJ1GnhiGbromVw0F9Ba1DDJwl5fohbiKfv0r8U=\n=IkWM\n-----END PGP SIGNATURE-----", "payload": "tree 9f0271f54d6b5e53d763967d0a86f014162c2a8e\nparent 1f11cd17ac4a6d143ef36d4d82358283626afd08\nauthor Philipp Krones <hello@philkrones.com> 1654513973 +0200\ncommitter Philipp Krones <hello@philkrones.com> 1654525078 +0200\n\nBook: Improve chapter on CI\n\nRecommend the -Dwarnings and --all-targets/--all-features more strongly.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/93056599220db45a67e3ba82484af4718456fefa", "html_url": "https://github.com/rust-lang/rust/commit/93056599220db45a67e3ba82484af4718456fefa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/93056599220db45a67e3ba82484af4718456fefa/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1f11cd17ac4a6d143ef36d4d82358283626afd08", "url": "https://api.github.com/repos/rust-lang/rust/commits/1f11cd17ac4a6d143ef36d4d82358283626afd08", "html_url": "https://github.com/rust-lang/rust/commit/1f11cd17ac4a6d143ef36d4d82358283626afd08"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "e5c3673bde451f9c7b792c70c9f2b47227ce6282", "filename": "book/src/continuous_integration/README.md", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/93056599220db45a67e3ba82484af4718456fefa/book%2Fsrc%2Fcontinuous_integration%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/93056599220db45a67e3ba82484af4718456fefa/book%2Fsrc%2Fcontinuous_integration%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/book%2Fsrc%2Fcontinuous_integration%2FREADME.md?ref=93056599220db45a67e3ba82484af4718456fefa", "patch": "@@ -1,7 +1,8 @@\n # Continuous Integration\n \n-It is recommended to run Clippy on CI, preferably with `-Dwarnings`, so that\n-Clippy lints prevent CI from passing.\n+It is recommended to run Clippy on CI with `-Dwarnings`, so that Clippy lints\n+prevent CI from passing. To enforce errors on warnings on all `cargo` commands\n+not just `cargo clippy`, you can set the env var `RUSTFLAGS=\"-Dwarnings\"`.\n \n We recommend to use Clippy from the same toolchain, that you use for compiling\n your crate for maximum compatibility. E.g. if your crate is compiled with the"}, {"sha": "42a43ef1380166baa78ede87652b6ba4292f239f", "filename": "book/src/continuous_integration/github_actions.md", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/93056599220db45a67e3ba82484af4718456fefa/book%2Fsrc%2Fcontinuous_integration%2Fgithub_actions.md", "raw_url": "https://github.com/rust-lang/rust/raw/93056599220db45a67e3ba82484af4718456fefa/book%2Fsrc%2Fcontinuous_integration%2Fgithub_actions.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/book%2Fsrc%2Fcontinuous_integration%2Fgithub_actions.md?ref=93056599220db45a67e3ba82484af4718456fefa", "patch": "@@ -6,11 +6,16 @@ pre-installed. So all you have to do is to run `cargo clippy`.\n ```yml\n on: push\n name: Clippy check\n+\n+# Make sure CI fails on all warnings, including Clippy lints\n+env:\n+  RUSTFLAGS: \"-Dwarnings\"\n+\n jobs:\n   clippy_check:\n     runs-on: ubuntu-latest\n     steps:\n       - uses: actions/checkout@v1\n       - name: Run Clippy\n-        run: cargo clippy\n+        run: cargo clippy --all-targets --all-features\n ```"}]}