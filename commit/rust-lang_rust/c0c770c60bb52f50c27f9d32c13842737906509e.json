{"sha": "c0c770c60bb52f50c27f9d32c13842737906509e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMwYzc3MGM2MGJiNTJmNTBjMjdmOWQzMmMxMzg0MjczNzkwNjUwOWU=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-09-20T08:37:39Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-09-20T08:37:39Z"}, "message": "Merge pull request #3201 from phansch/rust_master_in_contributing_docs\n\nMention how to install master Rust in CONTRIBUTING", "tree": {"sha": "8195974ce83445126ff575d5e6b0a69cad69b8d0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8195974ce83445126ff575d5e6b0a69cad69b8d0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c0c770c60bb52f50c27f9d32c13842737906509e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbo1xTCRBK7hj4Ov3rIwAAdHIIAJ6rUx0otOnXFkSDT+eVG7k3\ngLl+E04VA5+1zVcg1ybmf4nhzUEQGdDBndjrtSB1gjaS0BI7mxZZHcDeDlbc/Lec\ntNkZLeLy6AaF35N+yP3kiRPv972Qw4RW1HVLVM/OAJmki6cbRoAAp+3MzZjOhVje\naOY7R569vJFCbZYDVa0p5zhLEEWPpr6BOEyOevggJIbTOBBB9hGyqphMTFT/QDlt\nuGOlmlUV0D2Owg6wVEIMP6Ph1Vk1AaL3jDM7BbySC87T15kQCaa+6cgR0N6QZ5yZ\nTZG3iy1BrurH4le+1oL98w/XDrTw3e8XeQjDChcjcCUVnQpJe2Ofna8phUfjep8=\n=crAI\n-----END PGP SIGNATURE-----\n", "payload": "tree 8195974ce83445126ff575d5e6b0a69cad69b8d0\nparent 3fee6d64384347539bcd5cad5c02d2a06fb3ad67\nparent f72cfc2985d1db30d351e425ec7f45f6b0a328a5\nauthor Philipp Hansch <dev@phansch.net> 1537432659 +0100\ncommitter GitHub <noreply@github.com> 1537432659 +0100\n\nMerge pull request #3201 from phansch/rust_master_in_contributing_docs\n\nMention how to install master Rust in CONTRIBUTING"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c0c770c60bb52f50c27f9d32c13842737906509e", "html_url": "https://github.com/rust-lang/rust/commit/c0c770c60bb52f50c27f9d32c13842737906509e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c0c770c60bb52f50c27f9d32c13842737906509e/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3fee6d64384347539bcd5cad5c02d2a06fb3ad67", "url": "https://api.github.com/repos/rust-lang/rust/commits/3fee6d64384347539bcd5cad5c02d2a06fb3ad67", "html_url": "https://github.com/rust-lang/rust/commit/3fee6d64384347539bcd5cad5c02d2a06fb3ad67"}, {"sha": "f72cfc2985d1db30d351e425ec7f45f6b0a328a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/f72cfc2985d1db30d351e425ec7f45f6b0a328a5", "html_url": "https://github.com/rust-lang/rust/commit/f72cfc2985d1db30d351e425ec7f45f6b0a328a5"}], "stats": {"total": 26, "additions": 21, "deletions": 5}, "files": [{"sha": "1341ca30ebdf8d6277a2a290380ba127ae8e774f", "filename": "CONTRIBUTING.md", "status": "modified", "additions": 21, "deletions": 5, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/c0c770c60bb52f50c27f9d32c13842737906509e/CONTRIBUTING.md", "raw_url": "https://github.com/rust-lang/rust/raw/c0c770c60bb52f50c27f9d32c13842737906509e/CONTRIBUTING.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CONTRIBUTING.md?ref=c0c770c60bb52f50c27f9d32c13842737906509e", "patch": "@@ -19,7 +19,7 @@ All contributors are expected to follow the [Rust Code of Conduct](http://www.ru\n   * [Running test suite](#running-test-suite)\n   * [Testing manually](#testing-manually)\n   * [How Clippy works](#how-clippy-works)\n-  * [Fixing nightly build failures](#fixing-nightly-build-failures)\n+  * [Fixing nightly build failures](#fixing-build-failures-caused-by-rust)\n * [Contributions](#contributions)\n \n ## Getting started\n@@ -202,16 +202,30 @@ The difference between `EarlyLintPass` and `LateLintPass` is that the methods of\n \n That's why the `else_if_without_else` example uses the `register_early_lint_pass` function. Because the [actual lint logic][else_if_without_else] does not depend on any type information.\n \n-### Fixing nightly build failures\n+### Fixing build failures caused by Rust\n \n-Clippy will sometimes break with new nightly version releases. This is expected because Clippy still depends on nightly Rust. Most of the times we have to adapt to the changes and only very rarely there's an actual bug in rust.\n+Clippy will sometimes break because it still depends on unstable internal Rust features. Most of the times we have to adapt to the changes and only very rarely there's an actual bug in Rust. Fixing build failures caused by Rust updates, can be a good way to learn about Rust internals.\n \n-In order to find out why Clippy does not work properly with a new nightly version, you can use the [rust-toolstate commit history][toolstate_commit_history].\n+In order to find out why Clippy does not work properly with a new Rust commit, you can use the [rust-toolstate commit history][toolstate_commit_history].\n You will then have to look for the last commit that contains `test-pass -> build-fail` or `test-pass` -> `test-fail` for the `clippy-driver` component. [Here][toolstate_commit] is an example.\n \n The commit message contains a link to the PR. The PRs are usually small enough to discover the breaking API change and if they are bigger, they likely include some discussion that may help you to fix Clippy.\n \n-Fixing nightly build failures is also a good way to learn about actual rustc internals.\n+To check if Clippy is available for a specific target platform, you can check\n+the [rustup component history][rustup_component_history].\n+\n+If you decide to make Clippy work again with a Rust commit that breaks it,\n+you probably want to install the latest Rust from master locally and run Clippy\n+using that version of Rust.\n+\n+You can use [rustup-toolchain-install-master][rtim] to do that:\n+\n+```\n+cargo install rustup-toolchain-install-master\n+rustup-toolchain-install-master -n master --force\n+rustup override set master\n+cargo test\n+```\n \n ## Contributions\n \n@@ -235,3 +249,5 @@ All code in this repository is under the [Mozilla Public License, 2.0](https://w\n [late_lint_pass]: https://doc.rust-lang.org/nightly/nightly-rustc/rustc/lint/trait.LateLintPass.html\n [toolstate_commit_history]: https://github.com/rust-lang-nursery/rust-toolstate/commits/master\n [toolstate_commit]: https://github.com/rust-lang-nursery/rust-toolstate/commit/6ce0459f6bfa7c528ae1886492a3e0b5ef0ee547\n+[rtim]: https://github.com/kennytm/rustup-toolchain-install-master\n+[rustup_component_history]: https://mexus.github.io/rustup-components-history"}]}