{"sha": "29c6093ef0b54f4918e83eefce8069ea273dc6ba", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI5YzYwOTNlZjBiNTRmNDkxOGU4M2VlZmNlODA2OWVhMjczZGM2YmE=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2018-01-04T12:08:54Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-01-04T12:08:54Z"}, "message": "Merge pull request #2324 from killercup/feature/2319-suggest-empty-println\n\nAdd auto-fixable `println!()` suggestion", "tree": {"sha": "238baec53625ec20c5ca834cf107efbec70b19bd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/238baec53625ec20c5ca834cf107efbec70b19bd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/29c6093ef0b54f4918e83eefce8069ea273dc6ba", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJaThlWCRBK7hj4Ov3rIwAAdHIIAIcCbDBV9TE/ZfwoPqTwwp93\nNdpRU2Y5HGhToqErvEu/eT2uYYOUxYQM3FSyQ7r/VrljHQovVXLoqrVf/tB7oY8g\nHpeWISR2PjcOSNhVi4gBQaDwF9BGZrroarrqDNkI8e6OdD2U5zC69IT1/diMmKMo\nmhG0AgzlqAPtcRlQ1SBIswi3EHg0GsIFUWMcPnIyMdyWxK5ExO7Ku28Ll9VO2ItA\nlFKg4dBsd6iJWq+t4e0TUvE8afCC4fGuQ2pvwbVyrx8FRlQsfEKEHb/WfVHphLY8\n8YTylq3KQ2iJgQ3f0eP83z7zGN0phJG5pTuKrC/c/VcD3D39V9vKcQPWhLo1/lw=\n=Amo6\n-----END PGP SIGNATURE-----\n", "payload": "tree 238baec53625ec20c5ca834cf107efbec70b19bd\nparent ca3d6dd51a4a6af727a8990ca168ad87b6dfa240\nparent 82d91c5fcb01c35c0337d152cfac9c85957e2eb3\nauthor Manish Goregaokar <manishsmail@gmail.com> 1515067734 +0000\ncommitter GitHub <noreply@github.com> 1515067734 +0000\n\nMerge pull request #2324 from killercup/feature/2319-suggest-empty-println\n\nAdd auto-fixable `println!()` suggestion"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/29c6093ef0b54f4918e83eefce8069ea273dc6ba", "html_url": "https://github.com/rust-lang/rust/commit/29c6093ef0b54f4918e83eefce8069ea273dc6ba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/29c6093ef0b54f4918e83eefce8069ea273dc6ba/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ca3d6dd51a4a6af727a8990ca168ad87b6dfa240", "url": "https://api.github.com/repos/rust-lang/rust/commits/ca3d6dd51a4a6af727a8990ca168ad87b6dfa240", "html_url": "https://github.com/rust-lang/rust/commit/ca3d6dd51a4a6af727a8990ca168ad87b6dfa240"}, {"sha": "82d91c5fcb01c35c0337d152cfac9c85957e2eb3", "url": "https://api.github.com/repos/rust-lang/rust/commits/82d91c5fcb01c35c0337d152cfac9c85957e2eb3", "html_url": "https://github.com/rust-lang/rust/commit/82d91c5fcb01c35c0337d152cfac9c85957e2eb3"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "451b27033ea326664b306f66e800af2e26df72f6", "filename": "clippy_lints/src/print.rs", "status": "modified", "additions": 9, "deletions": 3, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/29c6093ef0b54f4918e83eefce8069ea273dc6ba/clippy_lints%2Fsrc%2Fprint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29c6093ef0b54f4918e83eefce8069ea273dc6ba/clippy_lints%2Fsrc%2Fprint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fprint.rs?ref=29c6093ef0b54f4918e83eefce8069ea273dc6ba", "patch": "@@ -5,7 +5,7 @@ use rustc::lint::*;\n use syntax::ast::LitKind;\n use syntax::symbol::InternedString;\n use syntax_pos::Span;\n-use utils::{is_expn_of, match_def_path, match_path, resolve_node, span_lint};\n+use utils::{is_expn_of, match_def_path, match_path, resolve_node, span_lint, span_lint_and_sugg};\n use utils::{opt_def_id, paths};\n \n /// **What it does:** This lint warns when you using `println!(\"\")` to\n@@ -182,8 +182,14 @@ fn check_println<'a, 'tcx>(cx: &LateContext<'a, 'tcx>, span: Span, fmtstr: Inter\n         if let Ok(snippet) = cx.sess().codemap().span_to_snippet(span);\n         if snippet.contains(\"\\\"\\\"\");\n         then {\n-            span_lint(cx, PRINT_WITH_NEWLINE, span,\n-                      \"using `println!(\\\"\\\")`, consider using `println!()` instead\");\n+            span_lint_and_sugg(\n+                cx,\n+                PRINT_WITH_NEWLINE,\n+                span,\n+                \"using `println!(\\\"\\\")`\",\n+                \"replace it with\",\n+                \"println!()\".to_string(),\n+            );\n          }\n     }\n }"}, {"sha": "2036d7d976bff26198c9b8b857d7928a66a8bb15", "filename": "tests/ui/println_empty_string.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/29c6093ef0b54f4918e83eefce8069ea273dc6ba/tests%2Fui%2Fprintln_empty_string.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/29c6093ef0b54f4918e83eefce8069ea273dc6ba/tests%2Fui%2Fprintln_empty_string.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fprintln_empty_string.stderr?ref=29c6093ef0b54f4918e83eefce8069ea273dc6ba", "patch": "@@ -1,8 +1,8 @@\n-error: using `println!(\"\")`, consider using `println!()` instead\n+error: using `println!(\"\")`\n  --> $DIR/println_empty_string.rs:3:5\n   |\n 3 |     println!(\"\");\n-  |     ^^^^^^^^^^^^^\n+  |     ^^^^^^^^^^^^^ help: replace it with: `println!()`\n   |\n   = note: `-D print-with-newline` implied by `-D warnings`\n "}]}