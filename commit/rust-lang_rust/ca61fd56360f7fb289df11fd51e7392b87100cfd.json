{"sha": "ca61fd56360f7fb289df11fd51e7392b87100cfd", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNhNjFmZDU2MzYwZjdmYjI4OWRmMTFmZDUxZTczOTJiODcxMDBjZmQ=", "commit": {"author": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2020-04-19T21:17:32Z"}, "committer": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2020-04-20T00:19:12Z"}, "message": "Update pattern docs.", "tree": {"sha": "d11a7b103872c87f81690c33c2d9b85f8b3b1f4f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d11a7b103872c87f81690c33c2d9b85f8b3b1f4f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ca61fd56360f7fb289df11fd51e7392b87100cfd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ca61fd56360f7fb289df11fd51e7392b87100cfd", "html_url": "https://github.com/rust-lang/rust/commit/ca61fd56360f7fb289df11fd51e7392b87100cfd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ca61fd56360f7fb289df11fd51e7392b87100cfd/comments", "author": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b7dec9e449bb00c7901577abbded39738652b51", "url": "https://api.github.com/repos/rust-lang/rust/commits/1b7dec9e449bb00c7901577abbded39738652b51", "html_url": "https://github.com/rust-lang/rust/commit/1b7dec9e449bb00c7901577abbded39738652b51"}], "stats": {"total": 187, "additions": 150, "deletions": 37}, "files": [{"sha": "2c11d5cd25759f7d3386719a8d32e4fa83ae6786", "filename": "src/libcore/str/mod.rs", "status": "modified", "additions": 115, "deletions": 36, "changes": 151, "blob_url": "https://github.com/rust-lang/rust/blob/ca61fd56360f7fb289df11fd51e7392b87100cfd/src%2Flibcore%2Fstr%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca61fd56360f7fb289df11fd51e7392b87100cfd/src%2Flibcore%2Fstr%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fstr%2Fmod.rs?ref=ca61fd56360f7fb289df11fd51e7392b87100cfd", "patch": "@@ -3010,6 +3010,12 @@ impl str {\n     ///\n     /// Returns `false` if it does not.\n     ///\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n+    ///\n     /// # Examples\n     ///\n     /// Basic usage:\n@@ -3031,6 +3037,12 @@ impl str {\n     ///\n     /// Returns `false` if it does not.\n     ///\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n+    ///\n     /// # Examples\n     ///\n     /// Basic usage:\n@@ -3051,6 +3063,12 @@ impl str {\n     ///\n     /// Returns `false` if it does not.\n     ///\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n+    ///\n     /// # Examples\n     ///\n     /// Basic usage:\n@@ -3074,10 +3092,12 @@ impl str {\n     ///\n     /// Returns [`None`] if the pattern doesn't match.\n     ///\n-    /// The pattern can be a `&str`, [`char`], or a closure that determines if\n-    /// a character matches.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n     ///\n     /// [`None`]: option/enum.Option.html#variant.None\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Examples\n     ///\n@@ -3121,10 +3141,12 @@ impl str {\n     ///\n     /// Returns [`None`] if the pattern doesn't match.\n     ///\n-    /// The pattern can be a `&str`, [`char`], or a closure that determines if\n-    /// a character matches.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n     ///\n     /// [`None`]: option/enum.Option.html#variant.None\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Examples\n     ///\n@@ -3166,8 +3188,11 @@ impl str {\n     /// An iterator over substrings of this string slice, separated by\n     /// characters matched by a pattern.\n     ///\n-    /// The pattern can be any type that implements the Pattern trait. Notable\n-    /// examples are `&str`, [`char`], and closures that determines the split.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Iterator behavior\n     ///\n@@ -3285,6 +3310,12 @@ impl str {\n     /// `split` in that `split_inclusive` leaves the matched part as the\n     /// terminator of the substring.\n     ///\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n+    ///\n     /// # Examples\n     ///\n     /// ```\n@@ -3319,8 +3350,11 @@ impl str {\n     /// An iterator over substrings of the given string slice, separated by\n     /// characters matched by a pattern and yielded in reverse order.\n     ///\n-    /// The pattern can be any type that implements the Pattern trait. Notable\n-    /// examples are `&str`, [`char`], and closures that determines the split.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Iterator behavior\n     ///\n@@ -3370,8 +3404,11 @@ impl str {\n     /// An iterator over substrings of the given string slice, separated by\n     /// characters matched by a pattern.\n     ///\n-    /// The pattern can be any type that implements the Pattern trait. Notable\n-    /// examples are `&str`, [`char`], and closures that determines the split.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// Equivalent to [`split`], except that the trailing substring\n     /// is skipped if empty.\n@@ -3414,10 +3451,11 @@ impl str {\n     /// An iterator over substrings of `self`, separated by characters\n     /// matched by a pattern and yielded in reverse order.\n     ///\n-    /// The pattern can be any type that implements the Pattern trait. Notable\n-    /// examples are `&str`, [`char`], and closures that determines the split.\n-    /// Additional libraries might provide more complex patterns like\n-    /// regular expressions.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// Equivalent to [`split`], except that the trailing substring is\n     /// skipped if empty.\n@@ -3462,8 +3500,11 @@ impl str {\n     /// If `n` substrings are returned, the last substring (the `n`th substring)\n     /// will contain the remainder of the string.\n     ///\n-    /// The pattern can be any type that implements the Pattern trait. Notable\n-    /// examples are `&str`, [`char`], and closures that determines the split.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Iterator behavior\n     ///\n@@ -3512,8 +3553,11 @@ impl str {\n     /// If `n` substrings are returned, the last substring (the `n`th substring)\n     /// will contain the remainder of the string.\n     ///\n-    /// The pattern can be any type that implements the Pattern trait. Notable\n-    /// examples are `&str`, [`char`], and closures that determines the split.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Iterator behavior\n     ///\n@@ -3557,8 +3601,11 @@ impl str {\n     /// An iterator over the disjoint matches of a pattern within the given string\n     /// slice.\n     ///\n-    /// The pattern can be a `&str`, [`char`], or a closure that determines if\n-    /// a character matches.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Iterator behavior\n     ///\n@@ -3593,8 +3640,11 @@ impl str {\n     /// An iterator over the disjoint matches of a pattern within this string slice,\n     /// yielded in reverse order.\n     ///\n-    /// The pattern can be a `&str`, [`char`], or a closure that determines if\n-    /// a character matches.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Iterator behavior\n     ///\n@@ -3634,8 +3684,11 @@ impl str {\n     /// For matches of `pat` within `self` that overlap, only the indices\n     /// corresponding to the first match are returned.\n     ///\n-    /// The pattern can be a `&str`, [`char`], or a closure that determines\n-    /// if a character matches.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Iterator behavior\n     ///\n@@ -3676,8 +3729,11 @@ impl str {\n     /// For matches of `pat` within `self` that overlap, only the indices\n     /// corresponding to the last match are returned.\n     ///\n-    /// The pattern can be a `&str`, [`char`], or a closure that determines if a\n-    /// character matches.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Iterator behavior\n     ///\n@@ -3894,8 +3950,11 @@ impl str {\n     /// Returns a string slice with all prefixes and suffixes that match a\n     /// pattern repeatedly removed.\n     ///\n-    /// The pattern can be a [`char`] or a closure that determines if a\n-    /// character matches.\n+    /// The [pattern] can be a [`char`], a slice of [`char`]s, or a function\n+    /// or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Examples\n     ///\n@@ -3939,8 +3998,11 @@ impl str {\n     /// Returns a string slice with all prefixes that match a pattern\n     /// repeatedly removed.\n     ///\n-    /// The pattern can be a `&str`, [`char`], or a closure that determines if\n-    /// a character matches.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Text directionality\n     ///\n@@ -3981,6 +4043,12 @@ impl str {\n     ///\n     /// If the string does not start with `prefix`, `None` is returned.\n     ///\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n+    ///\n     /// # Examples\n     ///\n     /// ```\n@@ -4005,6 +4073,12 @@ impl str {\n     ///\n     /// If the string does not end with `suffix`, `None` is returned.\n     ///\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n+    ///\n     /// # Examples\n     ///\n     /// ```\n@@ -4027,8 +4101,11 @@ impl str {\n     /// Returns a string slice with all suffixes that match a pattern\n     /// repeatedly removed.\n     ///\n-    /// The pattern can be a `&str`, [`char`], or a closure that\n-    /// determines if a character matches.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n+    ///\n+    /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Text directionality\n     ///\n@@ -4073,10 +4150,11 @@ impl str {\n     /// Returns a string slice with all prefixes that match a pattern\n     /// repeatedly removed.\n     ///\n-    /// The pattern can be a `&str`, [`char`], or a closure that determines if\n-    /// a character matches.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n     ///\n     /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Text directionality\n     ///\n@@ -4109,10 +4187,11 @@ impl str {\n     /// Returns a string slice with all suffixes that match a pattern\n     /// repeatedly removed.\n     ///\n-    /// The pattern can be a `&str`, [`char`], or a closure that\n-    /// determines if a character matches.\n+    /// The [pattern] can be a `&str`, [`char`], a slice of [`char`]s, or a\n+    /// function or closure that determines if a character matches.\n     ///\n     /// [`char`]: primitive.char.html\n+    /// [pattern]: str/pattern/index.html\n     ///\n     /// # Text directionality\n     ///"}, {"sha": "2377536c156fa815ea9d0c7979b202c5983ba632", "filename": "src/libcore/str/pattern.rs", "status": "modified", "additions": 35, "deletions": 1, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/ca61fd56360f7fb289df11fd51e7392b87100cfd/src%2Flibcore%2Fstr%2Fpattern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ca61fd56360f7fb289df11fd51e7392b87100cfd/src%2Flibcore%2Fstr%2Fpattern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fstr%2Fpattern.rs?ref=ca61fd56360f7fb289df11fd51e7392b87100cfd", "patch": "@@ -1,7 +1,41 @@\n //! The string Pattern API.\n //!\n+//! The Pattern API provides a generic mechanism for using different pattern\n+//! types when searching through a string.\n+//!\n //! For more details, see the traits [`Pattern`], [`Searcher`],\n //! [`ReverseSearcher`], and [`DoubleEndedSearcher`].\n+//!\n+//! Although this API is unstable, it is exposed via stable APIs on the\n+//! [`str`] type.\n+//!\n+//! # Examples\n+//!\n+//! [`Pattern`] is [implemented][pattern-impls] in the stable API for\n+//! [`&str`], [`char`], slices of [`char`], and functions and closures\n+//! implementing `FnMut(char) -> bool`.\n+//!\n+//! ```\n+//! let s = \"Can you find a needle in a haystack?\";\n+//!\n+//! // &str pattern\n+//! assert_eq!(s.find(\"you\"), Some(4));\n+//! // char pattern\n+//! assert_eq!(s.find('n'), Some(2));\n+//! // slice of chars pattern\n+//! assert_eq!(s.find(&['a', 'e', 'i', 'o', 'u'][..]), Some(1));\n+//! // closure pattern\n+//! assert_eq!(s.find(|c: char| c.is_ascii_punctuation()), Some(35));\n+//! ```\n+//!\n+//! [`&str`]: ../../../std/primitive.str.html\n+//! [`char`]: ../../../std/primitive.char.html\n+//! [`str`]: ../../../std/primitive.str.html\n+//! [`DoubleEndedSearcher`]: trait.DoubleEndedSearcher.html\n+//! [`Pattern`]: trait.Pattern.html\n+//! [`ReverseSearcher`]: trait.ReverseSearcher.html\n+//! [`Searcher`]: trait.Searcher.html\n+//! [pattern-impls]: trait.Pattern.html#implementors\n \n #![unstable(\n     feature = \"pattern\",\n@@ -702,7 +736,7 @@ unsafe impl<'a, 'b> ReverseSearcher<'a> for CharSliceSearcher<'a, 'b> {\n \n impl<'a, 'b> DoubleEndedSearcher<'a> for CharSliceSearcher<'a, 'b> {}\n \n-/// Searches for chars that are equal to any of the chars in the array.\n+/// Searches for chars that are equal to any of the chars in the slice.\n ///\n /// # Examples\n ///"}]}