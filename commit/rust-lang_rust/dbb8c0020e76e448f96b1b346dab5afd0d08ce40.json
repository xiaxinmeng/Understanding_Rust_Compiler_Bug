{"sha": "dbb8c0020e76e448f96b1b346dab5afd0d08ce40", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRiYjhjMDAyMGU3NmU0NDhmOTZiMWIzNDZkYWI1YWZkMGQwOGNlNDA=", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2020-12-18T20:26:41Z"}, "committer": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2021-01-23T01:18:11Z"}, "message": "cargo dev crater: save all warnings into a file", "tree": {"sha": "46d787b5874f0dfe91023427c81974f8fe8dc634", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/46d787b5874f0dfe91023427c81974f8fe8dc634"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dbb8c0020e76e448f96b1b346dab5afd0d08ce40", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dbb8c0020e76e448f96b1b346dab5afd0d08ce40", "html_url": "https://github.com/rust-lang/rust/commit/dbb8c0020e76e448f96b1b346dab5afd0d08ce40", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dbb8c0020e76e448f96b1b346dab5afd0d08ce40/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "73141337223bfa55d03f2d1097af6a036a6cbbc5", "url": "https://api.github.com/repos/rust-lang/rust/commits/73141337223bfa55d03f2d1097af6a036a6cbbc5", "html_url": "https://github.com/rust-lang/rust/commit/73141337223bfa55d03f2d1097af6a036a6cbbc5"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "3fb130cc594caf742c45f65e75831431afc6dbf8", "filename": "clippy_dev/src/crater.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/dbb8c0020e76e448f96b1b346dab5afd0d08ce40/clippy_dev%2Fsrc%2Fcrater.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dbb8c0020e76e448f96b1b346dab5afd0d08ce40/clippy_dev%2Fsrc%2Fcrater.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fcrater.rs?ref=dbb8c0020e76e448f96b1b346dab5afd0d08ce40", "patch": "@@ -98,6 +98,7 @@ impl Krate {\n                     .expect(\"clippy output did not contain \\\"warning: \\\"\");\n                 let mut new = line[0..pos].to_string();\n                 new.push_str(&line[pos + remove_pat.len()..]);\n+                new.push('\\n');\n                 new\n             })\n             .collect();\n@@ -142,6 +143,7 @@ pub fn run() {\n \n     let all_warnings: Vec<String> = clippy_lint_results.into_iter().flatten().collect();\n \n-    // TODO: save these into a file\n-    all_warnings.iter().for_each(|l| println!(\"{}\", l));\n+    // save the text into mini-crater/logs.txt\n+    let text = all_warnings.join(\"\");\n+    std::fs::write(\"mini-crater/logs.txt\", text).unwrap();\n }"}]}