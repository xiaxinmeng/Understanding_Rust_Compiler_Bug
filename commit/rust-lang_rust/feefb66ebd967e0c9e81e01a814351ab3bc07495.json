{"sha": "feefb66ebd967e0c9e81e01a814351ab3bc07495", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZlZWZiNjZlYmQ5NjdlMGM5ZTgxZTAxYTgxNDM1MWFiM2JjMDc0OTU=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-11-03T12:30:54Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-11-03T12:30:54Z"}, "message": "recursively drop Box<Box<...Box<T>...>>", "tree": {"sha": "d67697ffdace5882d257ff2a66ab0105cca9e101", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d67697ffdace5882d257ff2a66ab0105cca9e101"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/feefb66ebd967e0c9e81e01a814351ab3bc07495", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJYGy3+AAoJEFbW7qD8Z6xGfvsP/R+VXilnYaxLJUJ8hbXKs4yx\n3Q+9MPMVJKYbEs1MdwAeHpJZm2DQXGoKweBIMo7hV63viqV+8wBeHeVdMvPJ3j/9\nWKo3hM5dHYAY9pgkbAURtotxxBLpQzwEHUjCSXf0sTDOH885/Ai+ZJRH/q8HmqPh\ndp8uiRtJk3UoJ2jsjhSkQEGNI5cScaaRmSqBcQNhjh7ov60c8jq9ie9HJ21fdXve\nclsUIjErlCvTOOYk/3L3M8blv/NyIDQRQqh2kvDb4HDK74MaoACZg+IgymSyaCAs\nFZaGM/Y9fqdxF0ZbtCIii2Dq816ObV73i00sg+pxmpuZ4OeSvNfBZKOnEv2TzawU\nnnGZOXqLh4820NxyOkMpJGR92vbUafFE44Fu4wCD9ykry1/6CEGqczQ0nGjXpGdk\nDJwBWQCarVekE24cweRJd93EgWZNgmEgt2rtX2ELu5YxZgT8GqmIyv3bwVH2qZ46\nN+HB+u6LnTRh5O8UxD/gZ+u6bCIs0BWlcUGoG/r5WZD68XbubAYsjCE4VdP3s5AB\nNNJgiEWtBVIlafmVu/pp9+zLEKoY6swW8GeNgjV6D+SuPcb+zQd6aVI8mWEfsMcy\nrTDcCUnr47nmflnAuyGqKUTF7vLuj3M4BQKRdqhJHF2kC7EOJv1YjWwnyxrnaEPW\nLslEIeKQn1iewnu2uDWw\n=QVHm\n-----END PGP SIGNATURE-----", "payload": "tree d67697ffdace5882d257ff2a66ab0105cca9e101\nparent a1acd9405dbe2a3cd6a477a349c38513ddbdde4e\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1478176254 +0100\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1478176254 +0100\n\nrecursively drop Box<Box<...Box<T>...>>"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/feefb66ebd967e0c9e81e01a814351ab3bc07495", "html_url": "https://github.com/rust-lang/rust/commit/feefb66ebd967e0c9e81e01a814351ab3bc07495", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/feefb66ebd967e0c9e81e01a814351ab3bc07495/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a1acd9405dbe2a3cd6a477a349c38513ddbdde4e", "url": "https://api.github.com/repos/rust-lang/rust/commits/a1acd9405dbe2a3cd6a477a349c38513ddbdde4e", "html_url": "https://github.com/rust-lang/rust/commit/a1acd9405dbe2a3cd6a477a349c38513ddbdde4e"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "aad6238fdf8ce01b873a7d2bb75026b7f4182ba5", "filename": "src/interpreter/terminator/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/feefb66ebd967e0c9e81e01a814351ab3bc07495/src%2Finterpreter%2Fterminator%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/feefb66ebd967e0c9e81e01a814351ab3bc07495/src%2Finterpreter%2Fterminator%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Finterpreter%2Fterminator%2Fmod.rs?ref=feefb66ebd967e0c9e81e01a814351ab3bc07495", "patch": "@@ -478,9 +478,9 @@ impl<'a, 'tcx> EvalContext<'a, 'tcx> {\n         // TODO(solson): Call user-defined Drop::drop impls.\n \n         match ty.sty {\n-            ty::TyBox(_contents_ty) => {\n+            ty::TyBox(contents_ty) => {\n                 let contents_ptr = val.read_ptr(&self.memory)?;\n-                // self.drop(contents_ptr, contents_ty)?;\n+                self.drop(Value::ByRef(contents_ptr), contents_ty)?;\n                 trace!(\"-deallocating box\");\n                 self.memory.deallocate(contents_ptr)?;\n             }"}]}