{"sha": "19e9766c29e3e958409d7232eb0c23b3734988aa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE5ZTk3NjZjMjllM2U5NTg0MDlkNzIzMmViMGMyM2IzNzM0OTg4YWE=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-10-05T04:16:54Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2013-10-05T04:16:54Z"}, "message": "Don't fail when unpacking the windows snapshot\n\nNewly having a third-party directory was throwing off the unpack script", "tree": {"sha": "9504ee8020f2b32efcdac90e67e6c6d1a5cba397", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9504ee8020f2b32efcdac90e67e6c6d1a5cba397"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/19e9766c29e3e958409d7232eb0c23b3734988aa", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/19e9766c29e3e958409d7232eb0c23b3734988aa", "html_url": "https://github.com/rust-lang/rust/commit/19e9766c29e3e958409d7232eb0c23b3734988aa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/19e9766c29e3e958409d7232eb0c23b3734988aa/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1996a11bb29b61802d18830ba1eabdf4f99582ae", "url": "https://api.github.com/repos/rust-lang/rust/commits/1996a11bb29b61802d18830ba1eabdf4f99582ae", "html_url": "https://github.com/rust-lang/rust/commit/1996a11bb29b61802d18830ba1eabdf4f99582ae"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "2e547dbbcd18556e9ae33f355928f31908c3e4ec", "filename": "src/etc/get-snapshot.py", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/19e9766c29e3e958409d7232eb0c23b3734988aa/src%2Fetc%2Fget-snapshot.py", "raw_url": "https://github.com/rust-lang/rust/raw/19e9766c29e3e958409d7232eb0c23b3734988aa/src%2Fetc%2Fget-snapshot.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fget-snapshot.py?ref=19e9766c29e3e958409d7232eb0c23b3734988aa", "patch": "@@ -26,6 +26,8 @@ def unpack_snapshot(triple, dl_path):\n     print(\"extracting \" + p)\n     tar.extract(p, download_unpack_base)\n     tp = os.path.join(download_unpack_base, p)\n+    if os.path.isdir(tp) and os.path.exists(fp):\n+        continue\n     shutil.move(tp, fp)\n   tar.close()\n   shutil.rmtree(download_unpack_base)"}]}