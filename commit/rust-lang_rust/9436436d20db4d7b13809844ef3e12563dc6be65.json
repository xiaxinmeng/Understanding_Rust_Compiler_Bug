{"sha": "9436436d20db4d7b13809844ef3e12563dc6be65", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk0MzY0MzZkMjBkYjRkN2IxMzgwOTg0NGVmM2UxMjU2M2RjNmJlNjU=", "commit": {"author": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2021-03-17T17:35:17Z"}, "committer": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2021-03-17T17:35:17Z"}, "message": "Improve test", "tree": {"sha": "daca310d9e603096737b5da12cdd573fdaf1d530", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/daca310d9e603096737b5da12cdd573fdaf1d530"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9436436d20db4d7b13809844ef3e12563dc6be65", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9436436d20db4d7b13809844ef3e12563dc6be65", "html_url": "https://github.com/rust-lang/rust/commit/9436436d20db4d7b13809844ef3e12563dc6be65", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9436436d20db4d7b13809844ef3e12563dc6be65/comments", "author": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ba0e4c745d60ea1a0e32d1469648394410f6c450", "url": "https://api.github.com/repos/rust-lang/rust/commits/ba0e4c745d60ea1a0e32d1469648394410f6c450", "html_url": "https://github.com/rust-lang/rust/commit/ba0e4c745d60ea1a0e32d1469648394410f6c450"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "3909ad35450a2faa2433d5f94cc49a6e96623af6", "filename": "crates/hir_ty/src/diagnostics/expr.rs", "status": "modified", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/9436436d20db4d7b13809844ef3e12563dc6be65/crates%2Fhir_ty%2Fsrc%2Fdiagnostics%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9436436d20db4d7b13809844ef3e12563dc6be65/crates%2Fhir_ty%2Fsrc%2Fdiagnostics%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Fdiagnostics%2Fexpr.rs?ref=9436436d20db4d7b13809844ef3e12563dc6be65", "patch": "@@ -720,8 +720,29 @@ fn main() {\n             r#\"\n fn foo(#[cfg(NEVER)] x: ()) {}\n \n+struct S;\n+\n+impl S {\n+    fn method(#[cfg(NEVER)] self) {}\n+    fn method2(#[cfg(NEVER)] self, arg: u8) {}\n+    fn method3(self, #[cfg(NEVER)] arg: u8) {}\n+}\n+\n+extern \"C\" {\n+    fn fixed(fixed: u8, #[cfg(NEVER)] ...);\n+    fn varargs(#[cfg(not(NEVER))] ...);\n+}\n+\n fn main() {\n     foo();\n+    S::method();\n+    S::method2(0);\n+    S::method3(S);\n+    S.method3();\n+    unsafe {\n+        fixed(0);\n+        varargs(1, 2, 3);\n+    }\n }\n             \"#,\n         )"}]}