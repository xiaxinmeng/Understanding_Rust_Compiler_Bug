{"sha": "da9aa2dd55b69a4c902af9b953904911e9cffb77", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRhOWFhMmRkNTViNjlhNGM5MDJhZjliOTUzOTA0OTExZTljZmZiNzc=", "commit": {"author": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2020-04-22T12:23:06Z"}, "committer": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2020-04-23T21:07:36Z"}, "message": "Adjust name of never typed const test", "tree": {"sha": "f4426d82131335cfdeba5ac599c75cff5c4dd805", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f4426d82131335cfdeba5ac599c75cff5c4dd805"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/da9aa2dd55b69a4c902af9b953904911e9cffb77", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIyBAABCAAdFiEEF0ntrgrd9qf9uuThgTGiTgx5768FAl6iA5gACgkQgTGiTgx5\n768FcQ/3VI5gnqtsGfplk97eeZf8Dizi65wK8k0Ml/fiY42bIvWtu+yRdIuzsoJE\nCDFJh3QdCeaqbj3w1UDThHa3Y/MMulFvPP81MOMLXC09eVQ7tWXtz7uK6zHdbYQc\nonPIyjYC84DELLCstNc1fx4KztrQwhtpefGTLUSanhRQYR9drgFP0bAuVJrUyeRV\nVV+IJqfJVA76KzYciY0EFgIfVL8jBT/vv1fP37fGdfLnp2PwX0HlHYgtnPdNzi5R\nm07d733Y4NRxN5eY0lSP42bEq6c1NAkg3AqRMbEpT8awKlkhMJIWg1wY4/A9RSMK\nPjNF4jTArHsJqE7yQs6X2y00NfEOx2LECAoxdICz0dv10jXr4wYUVsya5GvPDnh3\nl/Fdz8ssTSmYeHKIwtq6xA1/qtAfcTULbosaMMX9PuaC6lid6bUAYw4abeVXNuwc\nQvSH9JOsBy66bPJhTvp20AOMernnidEGma2LNX0eNnjm7NiBo28EHytasaDGEjEx\nbtYjY+MUXdklu8gJGuPoA+1yDItyiHw3yKApupr/uOW+lcuh1yhMy9nKqISA9oDs\nthMRGARdfsoehRzAv5N3Ert98ofSK/lDhkvHdnRlPqIymN4cw/qrM3mqjezn45vD\nImPX5DAW9HwsSX/uj3f25/e506+kp/NOIofSnfT77uFcIPi2cQ==\n=zL0c\n-----END PGP SIGNATURE-----", "payload": "tree f4426d82131335cfdeba5ac599c75cff5c4dd805\nparent 39be0b5b6caa0090eaf91c797e2895a007e76354\nauthor Santiago Pastorino <spastorino@gmail.com> 1587558186 -0300\ncommitter Santiago Pastorino <spastorino@gmail.com> 1587676056 -0300\n\nAdjust name of never typed const test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/da9aa2dd55b69a4c902af9b953904911e9cffb77", "html_url": "https://github.com/rust-lang/rust/commit/da9aa2dd55b69a4c902af9b953904911e9cffb77", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/da9aa2dd55b69a4c902af9b953904911e9cffb77/comments", "author": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "committer": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "39be0b5b6caa0090eaf91c797e2895a007e76354", "url": "https://api.github.com/repos/rust-lang/rust/commits/39be0b5b6caa0090eaf91c797e2895a007e76354", "html_url": "https://github.com/rust-lang/rust/commit/39be0b5b6caa0090eaf91c797e2895a007e76354"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "b2d4f14aa4cd8ae8286e7cf41c1435ea284fcb54", "filename": "src/test/mir-opt/remove-never-const.rs", "status": "renamed", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/da9aa2dd55b69a4c902af9b953904911e9cffb77/src%2Ftest%2Fmir-opt%2Fremove-never-const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/da9aa2dd55b69a4c902af9b953904911e9cffb77/src%2Ftest%2Fmir-opt%2Fremove-never-const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fremove-never-const.rs?ref=da9aa2dd55b69a4c902af9b953904911e9cffb77", "patch": "@@ -1,5 +1,6 @@\n-// Regression test for #66975 - ensure that we don't keep unevaluated\n-// `!`-typed constants until codegen.\n+// This was originally a regression test for #66975 - ensure that we do not generate never typed\n+// consts in codegen. We also have tests for this that catches the error, see\n+// src/test/ui/consts/const-eval/index-out-of-bounds-never-type.rs.\n \n // Force generation of optimized mir for functions that do not reach codegen.\n // compile-flags: --emit mir,link", "previous_filename": "src/test/mir-opt/retain-never-const.rs"}, {"sha": "1cc2138f19e37736ae2ba883d651fe34a1ec7cfc", "filename": "src/test/mir-opt/remove-never-const/rustc.no_codegen.PreCodegen.after.mir", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/da9aa2dd55b69a4c902af9b953904911e9cffb77/src%2Ftest%2Fmir-opt%2Fremove-never-const%2Frustc.no_codegen.PreCodegen.after.mir", "raw_url": "https://github.com/rust-lang/rust/raw/da9aa2dd55b69a4c902af9b953904911e9cffb77/src%2Ftest%2Fmir-opt%2Fremove-never-const%2Frustc.no_codegen.PreCodegen.after.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fremove-never-const%2Frustc.no_codegen.PreCodegen.after.mir?ref=da9aa2dd55b69a4c902af9b953904911e9cffb77", "patch": "@@ -1,11 +1,11 @@\n // MIR for `no_codegen` after PreCodegen\n \n fn no_codegen() -> () {\n-    let mut _0: ();                      // return place in scope 0 at $DIR/retain-never-const.rs:18:20: 18:20\n+    let mut _0: ();                      // return place in scope 0 at $DIR/remove-never-const.rs:19:20: 19:20\n     scope 1 {\n     }\n \n     bb0: {\n-        unreachable;                     // bb0[0]: scope 0 at $DIR/retain-never-const.rs:19:13: 19:33\n+        unreachable;                     // bb0[0]: scope 0 at $DIR/remove-never-const.rs:20:13: 20:33\n     }\n }", "previous_filename": "src/test/mir-opt/retain-never-const/rustc.no_codegen.PreCodegen.after.mir"}]}