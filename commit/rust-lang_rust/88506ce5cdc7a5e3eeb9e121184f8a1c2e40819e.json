{"sha": "88506ce5cdc7a5e3eeb9e121184f8a1c2e40819e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg4NTA2Y2U1Y2RjN2E1ZTNlZWI5ZTEyMTE4NGY4YTFjMmU0MDgxOWU=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2016-03-22T16:33:36Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2016-03-22T16:33:36Z"}, "message": "std: Store flowinfo/scope_id in host byte order\n\nApparently these aren't supposed to be stored in network byte order, so doing so\nends up causing failures when it would otherwise succeed when stored in the host\nbyte order.\n\nCloses #32424", "tree": {"sha": "b7bb03284377663fb7b4710c44cf27c2e44c9311", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b7bb03284377663fb7b4710c44cf27c2e44c9311"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/88506ce5cdc7a5e3eeb9e121184f8a1c2e40819e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/88506ce5cdc7a5e3eeb9e121184f8a1c2e40819e", "html_url": "https://github.com/rust-lang/rust/commit/88506ce5cdc7a5e3eeb9e121184f8a1c2e40819e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/88506ce5cdc7a5e3eeb9e121184f8a1c2e40819e/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0168dc7c5904701983c280cb4fa0fb0c0fa692c5", "url": "https://api.github.com/repos/rust-lang/rust/commits/0168dc7c5904701983c280cb4fa0fb0c0fa692c5", "html_url": "https://github.com/rust-lang/rust/commit/0168dc7c5904701983c280cb4fa0fb0c0fa692c5"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "649094a7493a65c7e1c094d294662aed5542147a", "filename": "src/libstd/net/addr.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/88506ce5cdc7a5e3eeb9e121184f8a1c2e40819e/src%2Flibstd%2Fnet%2Faddr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/88506ce5cdc7a5e3eeb9e121184f8a1c2e40819e/src%2Flibstd%2Fnet%2Faddr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnet%2Faddr.rs?ref=88506ce5cdc7a5e3eeb9e121184f8a1c2e40819e", "patch": "@@ -143,8 +143,8 @@ impl SocketAddrV6 {\n                 sin6_family: c::AF_INET6 as c::sa_family_t,\n                 sin6_port: hton(port),\n                 sin6_addr: *ip.as_inner(),\n-                sin6_flowinfo: hton(flowinfo),\n-                sin6_scope_id: hton(scope_id),\n+                sin6_flowinfo: flowinfo,\n+                sin6_scope_id: scope_id,\n                 .. unsafe { mem::zeroed() }\n             },\n         }\n@@ -173,23 +173,23 @@ impl SocketAddrV6 {\n     /// Returns the flow information associated with this address,\n     /// corresponding to the `sin6_flowinfo` field in C.\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-    pub fn flowinfo(&self) -> u32 { ntoh(self.inner.sin6_flowinfo) }\n+    pub fn flowinfo(&self) -> u32 { self.inner.sin6_flowinfo }\n \n     /// Change the flow information associated with this socket address.\n     #[unstable(feature = \"sockaddr_setters\", reason = \"recent addition\", issue = \"31572\")]\n     pub fn set_flowinfo(&mut self, new_flowinfo: u32) {\n-        self.inner.sin6_flowinfo = hton(new_flowinfo)\n+        self.inner.sin6_flowinfo = new_flowinfo;\n     }\n \n     /// Returns the scope ID associated with this address,\n     /// corresponding to the `sin6_scope_id` field in C.\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-    pub fn scope_id(&self) -> u32 { ntoh(self.inner.sin6_scope_id) }\n+    pub fn scope_id(&self) -> u32 { self.inner.sin6_scope_id }\n \n     /// Change the scope ID associated with this socket address.\n     #[unstable(feature = \"sockaddr_setters\", reason = \"recent addition\", issue = \"31572\")]\n     pub fn set_scope_id(&mut self, new_scope_id: u32) {\n-        self.inner.sin6_scope_id = hton(new_scope_id)\n+        self.inner.sin6_scope_id = new_scope_id;\n     }\n }\n "}]}