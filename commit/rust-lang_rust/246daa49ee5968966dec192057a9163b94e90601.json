{"sha": "246daa49ee5968966dec192057a9163b94e90601", "node_id": "C_kwDOAAsO6NoAKDI0NmRhYTQ5ZWU1OTY4OTY2ZGVjMTkyMDU3YTkxNjNiOTRlOTA2MDE", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2023-01-19T10:19:35Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-01-19T10:19:35Z"}, "message": "Rollup merge of #106931 - Ezrashaw:docs-e0208, r=compiler-errors\n\ndocument + UI test `E0208` and make its output more user-friendly\n\nCleans up `E0208`'s output a lot. It could actually be useful for someone learning about variance now. I also added a UI test for it in `tests/ui/error-codes/` and wrote some docs for it.\n\nr? `@GuillaumeGomez` another error code, can't be bothered to find the issue :P. Obviously there's some compiler stuff, so you'll have to hand it off.\n\nPart of https://github.com/rust-lang/rust/issues/61137.", "tree": {"sha": "a027b982018ccbdca2c3dc29496e5cb57a9d9e8e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a027b982018ccbdca2c3dc29496e5cb57a9d9e8e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/246daa49ee5968966dec192057a9163b94e90601", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjyRk3CRBK7hj4Ov3rIwAAEEMIAJewWdhw1mDqXT0OyIx5LDhd\nhvOuVwicWGRCBpxu2vDP67VZhBBNkNW9XLmpcBft6Tx2drGdgevgwcH/Rwnfp4f+\nvbg5ZGzbGFle8La9E1TW56ocS2KN6R2Q44xVBARJ8a+F711uuF6IVzfj50aDRniL\nWj0WJ7HRtsJOR8cT11WjjSWP9Q+RxZqCN2DSUjugr6aTccO+4LhAHcN5WgrBKT1B\ncVHB+rYqOQg6CaRwmdsOi7I3aRe66EkQZZIjrt6Qj0T/ebyPqfFPvB6PZ0DvMPJA\nKKQtj0AQJtlOQ4xbRhHcQ//ArOzqE4eauoAOEGKoGjIYDXc5slhUmyN7IDVr01o=\n=mYgJ\n-----END PGP SIGNATURE-----\n", "payload": "tree a027b982018ccbdca2c3dc29496e5cb57a9d9e8e\nparent 1a878df2b8d92c702548cb00bcf47b0af8176a97\nparent 708861e5b77d2600da523dc817bc831f7d7d7733\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1674123575 +0100\ncommitter GitHub <noreply@github.com> 1674123575 +0100\n\nRollup merge of #106931 - Ezrashaw:docs-e0208, r=compiler-errors\n\ndocument + UI test `E0208` and make its output more user-friendly\n\nCleans up `E0208`'s output a lot. It could actually be useful for someone learning about variance now. I also added a UI test for it in `tests/ui/error-codes/` and wrote some docs for it.\n\nr? `@GuillaumeGomez` another error code, can't be bothered to find the issue :P. Obviously there's some compiler stuff, so you'll have to hand it off.\n\nPart of https://github.com/rust-lang/rust/issues/61137.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/246daa49ee5968966dec192057a9163b94e90601", "html_url": "https://github.com/rust-lang/rust/commit/246daa49ee5968966dec192057a9163b94e90601", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/246daa49ee5968966dec192057a9163b94e90601/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1a878df2b8d92c702548cb00bcf47b0af8176a97", "url": "https://api.github.com/repos/rust-lang/rust/commits/1a878df2b8d92c702548cb00bcf47b0af8176a97", "html_url": "https://github.com/rust-lang/rust/commit/1a878df2b8d92c702548cb00bcf47b0af8176a97"}, {"sha": "708861e5b77d2600da523dc817bc831f7d7d7733", "url": "https://api.github.com/repos/rust-lang/rust/commits/708861e5b77d2600da523dc817bc831f7d7d7733", "html_url": "https://github.com/rust-lang/rust/commit/708861e5b77d2600da523dc817bc831f7d7d7733"}], "stats": {"total": 142, "additions": 96, "deletions": 46}, "files": [{"sha": "1ae01106f2014c4362d29d3a4a306dde7f091bd0", "filename": "compiler/rustc_error_codes/src/error_codes/E0208.md", "status": "modified", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0208.md", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0208.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0208.md?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -1 +1,46 @@\n #### This error code is internal to the compiler and will not be emitted with normal Rust code.\n+#### Note: this error code is no longer emitted by the compiler.\n+\n+This error code shows the variance of a type's generic parameters.\n+\n+Erroneous code example:\n+\n+```compile_fail\n+// NOTE: this feature is perma-unstable and should *only* be used for\n+//       testing purposes.\n+#![feature(rustc_attrs)]\n+\n+#[rustc_variance]\n+struct Foo<'a, T> { // error: deliberate error to display type's variance\n+    t: &'a mut T,\n+}\n+```\n+\n+which produces the following error:\n+\n+```text\n+error: [-, o]\n+ --> <anon>:4:1\n+  |\n+4 | struct Foo<'a, T> {\n+  | ^^^^^^^^^^^^^^^^^\n+```\n+\n+*Note that while `#[rustc_variance]` still exists and is used within the*\n+*compiler, it no longer is marked as `E0208` and instead has no error code.*\n+\n+This error is deliberately triggered with the `#[rustc_variance]` attribute\n+(`#![feature(rustc_attrs)]` must be enabled) and helps to show you the variance\n+of the type's generic parameters. You can read more about variance and\n+subtyping in [this section of the Rustnomicon]. For a more in depth look at\n+variance (including a more complete list of common variances) see\n+[this section of the Reference]. For information on how variance is implemented\n+in the compiler, see [this section of `rustc-dev-guide`].\n+\n+This error can be easily fixed by removing the `#[rustc_variance]` attribute,\n+the compiler's suggestion to comment it out can be applied automatically with\n+`rustfix`.\n+\n+[this section of the Rustnomicon]: https://doc.rust-lang.org/nomicon/subtyping.html\n+[this section of the Reference]: https://doc.rust-lang.org/reference/subtyping.html#variance\n+[this section of `rustc-dev-guide`]: https://rustc-dev-guide.rust-lang.org/variance.html"}, {"sha": "5feeb92d3378251e9e551acf2a435c9c24134c62", "filename": "compiler/rustc_hir_analysis/src/variance/test.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Ftest.rs?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -1,4 +1,3 @@\n-use rustc_errors::struct_span_err;\n use rustc_middle::ty::TyCtxt;\n use rustc_span::symbol::sym;\n \n@@ -8,8 +7,8 @@ pub fn test_variance(tcx: TyCtxt<'_>) {\n     for id in tcx.hir().items() {\n         if tcx.has_attr(id.owner_id.to_def_id(), sym::rustc_variance) {\n             let variances_of = tcx.variances_of(id.owner_id);\n-            struct_span_err!(tcx.sess, tcx.def_span(id.owner_id), E0208, \"{:?}\", variances_of)\n-                .emit();\n+\n+            tcx.sess.struct_span_err(tcx.def_span(id.owner_id), format!(\"{variances_of:?}\")).emit();\n         }\n     }\n }"}, {"sha": "5b84b51a035d4141ccd80a1d3cafd6522182fd5a", "filename": "src/tools/tidy/src/error_codes.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Ferror_codes.rs?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -27,8 +27,7 @@ const ERROR_DOCS_PATH: &str = \"compiler/rustc_error_codes/src/error_codes/\";\n const ERROR_TESTS_PATH: &str = \"tests/ui/error-codes/\";\n \n // Error codes that (for some reason) can't have a doctest in their explanation. Error codes are still expected to provide a code example, even if untested.\n-const IGNORE_DOCTEST_CHECK: &[&str] =\n-    &[\"E0208\", \"E0464\", \"E0570\", \"E0601\", \"E0602\", \"E0640\", \"E0717\"];\n+const IGNORE_DOCTEST_CHECK: &[&str] = &[\"E0464\", \"E0570\", \"E0601\", \"E0602\", \"E0640\", \"E0717\"];\n \n // Error codes that don't yet have a UI test. This list will eventually be removed.\n const IGNORE_UI_TEST_CHECK: &[&str] ="}, {"sha": "c67d42889d69b3c7bb32b2128bdcf777146309a0", "filename": "tests/ui/error-codes/E0208.rs", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Ferror-codes%2FE0208.rs", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Ferror-codes%2FE0208.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ferror-codes%2FE0208.rs?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -0,0 +1,8 @@\n+#![feature(rustc_attrs)]\n+\n+#[rustc_variance]\n+struct Foo<'a, T> { //~ ERROR [-, o]\n+    t: &'a mut T,\n+}\n+\n+fn main() {}"}, {"sha": "dbbb41e79500cbcd5b5fc862d64e915f0073ff46", "filename": "tests/ui/error-codes/E0208.stderr", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Ferror-codes%2FE0208.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Ferror-codes%2FE0208.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ferror-codes%2FE0208.stderr?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -0,0 +1,8 @@\n+error: [-, o]\n+  --> $DIR/E0208.rs:4:1\n+   |\n+LL | struct Foo<'a, T> {\n+   | ^^^^^^^^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "4df2d8da3d6806ca5fa44b440f906204b1d329b0", "filename": "tests/ui/variance/variance-associated-consts.stderr", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-associated-consts.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-associated-consts.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-associated-consts.stderr?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -1,9 +1,8 @@\n-error[E0208]: [o]\n+error: [o]\n   --> $DIR/variance-associated-consts.rs:13:1\n    |\n LL | struct Foo<T: Trait> {\n    | ^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "51f17c7c2288720941d54229652087e97efdc416", "filename": "tests/ui/variance/variance-associated-types.stderr", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-associated-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-associated-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-associated-types.stderr?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -1,15 +1,14 @@\n-error[E0208]: [-, +]\n+error: [-, +]\n   --> $DIR/variance-associated-types.rs:13:1\n    |\n LL | struct Foo<'a, T : Trait<'a>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o, o]\n+error: [o, o]\n   --> $DIR/variance-associated-types.rs:18:1\n    |\n LL | struct Bar<'a, T : Trait<'a>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "55a760425ee592e6ab24d38560e0967796b1c86e", "filename": "tests/ui/variance/variance-object-types.stderr", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-object-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-object-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-object-types.stderr?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -1,9 +1,8 @@\n-error[E0208]: [o]\n+error: [o]\n   --> $DIR/variance-object-types.rs:7:1\n    |\n LL | struct Foo<'a> {\n    | ^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "eda02e9b03bb89b49fd1f3ea81c5fb6071c022d9", "filename": "tests/ui/variance/variance-regions-direct.stderr", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-regions-direct.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-regions-direct.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-regions-direct.stderr?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -1,45 +1,44 @@\n-error[E0208]: [-, -, -]\n+error: [-, -, -]\n   --> $DIR/variance-regions-direct.rs:9:1\n    |\n LL | struct Test2<'a, 'b, 'c> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, +, +]\n+error: [+, +, +]\n   --> $DIR/variance-regions-direct.rs:18:1\n    |\n LL | struct Test3<'a, 'b, 'c> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [-, o]\n+error: [-, o]\n   --> $DIR/variance-regions-direct.rs:27:1\n    |\n LL | struct Test4<'a, 'b:'a> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, o]\n+error: [+, o]\n   --> $DIR/variance-regions-direct.rs:35:1\n    |\n LL | struct Test5<'a, 'b:'a> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [-, o]\n+error: [-, o]\n   --> $DIR/variance-regions-direct.rs:45:1\n    |\n LL | struct Test6<'a, 'b:'a> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [*]\n+error: [*]\n   --> $DIR/variance-regions-direct.rs:52:1\n    |\n LL | struct Test7<'a> {\n    | ^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, -, o]\n+error: [+, -, o]\n   --> $DIR/variance-regions-direct.rs:59:1\n    |\n LL | enum Test8<'a, 'b, 'c:'b> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 7 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "fa2f4d507f3d53ff11391a7a520182ef1b2e9ca6", "filename": "tests/ui/variance/variance-regions-indirect.stderr", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-regions-indirect.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-regions-indirect.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-regions-indirect.stderr?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -1,33 +1,32 @@\n-error[E0208]: [+, -, o, *]\n+error: [+, -, o, *]\n   --> $DIR/variance-regions-indirect.rs:8:1\n    |\n LL | enum Base<'a, 'b, 'c:'b, 'd> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [*, o, -, +]\n+error: [*, o, -, +]\n   --> $DIR/variance-regions-indirect.rs:15:1\n    |\n LL | struct Derived1<'w, 'x:'y, 'y, 'z> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o, o, *]\n+error: [o, o, *]\n   --> $DIR/variance-regions-indirect.rs:20:1\n    |\n LL | struct Derived2<'a, 'b:'a, 'c> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o, -, *]\n+error: [o, -, *]\n   --> $DIR/variance-regions-indirect.rs:25:1\n    |\n LL | struct Derived3<'a:'b, 'b, 'c> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, -, o]\n+error: [+, -, o]\n   --> $DIR/variance-regions-indirect.rs:30:1\n    |\n LL | struct Derived4<'a, 'b, 'c:'b> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 5 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "5a73e541c3a173d047232305e99b7fcb65a8c1a6", "filename": "tests/ui/variance/variance-trait-bounds.stderr", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-trait-bounds.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-trait-bounds.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-trait-bounds.stderr?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -1,27 +1,26 @@\n-error[E0208]: [+, +]\n+error: [+, +]\n   --> $DIR/variance-trait-bounds.rs:16:1\n    |\n LL | struct TestStruct<U,T:Setter<U>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [*, +]\n+error: [*, +]\n   --> $DIR/variance-trait-bounds.rs:21:1\n    |\n LL | enum TestEnum<U,T:Setter<U>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [*, +]\n+error: [*, +]\n   --> $DIR/variance-trait-bounds.rs:26:1\n    |\n LL | struct TestContraStruct<U,T:Setter<U>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [*, +]\n+error: [*, +]\n   --> $DIR/variance-trait-bounds.rs:31:1\n    |\n LL | struct TestBox<U,T:Getter<U>+Setter<U>> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 4 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "7c46b553f43949459b0417b3dcf3d9e325e43ef5", "filename": "tests/ui/variance/variance-trait-object-bound.stderr", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-trait-object-bound.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-trait-object-bound.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-trait-object-bound.stderr?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -1,9 +1,8 @@\n-error[E0208]: [-]\n+error: [-]\n   --> $DIR/variance-trait-object-bound.rs:14:1\n    |\n LL | struct TOption<'a> {\n    | ^^^^^^^^^^^^^^^^^^\n \n error: aborting due to previous error\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "bb81644347693b4eb710565fffd2457f8a746ffb", "filename": "tests/ui/variance/variance-types-bounds.stderr", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-types-bounds.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-types-bounds.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-types-bounds.stderr?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -1,33 +1,32 @@\n-error[E0208]: [+, +]\n+error: [+, +]\n   --> $DIR/variance-types-bounds.rs:7:1\n    |\n LL | struct TestImm<A, B> {\n    | ^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, o]\n+error: [+, o]\n   --> $DIR/variance-types-bounds.rs:13:1\n    |\n LL | struct TestMut<A, B:'static> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, o]\n+error: [+, o]\n   --> $DIR/variance-types-bounds.rs:19:1\n    |\n LL | struct TestIndirect<A:'static, B:'static> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o, o]\n+error: [o, o]\n   --> $DIR/variance-types-bounds.rs:24:1\n    |\n LL | struct TestIndirect2<A:'static, B:'static> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o, o]\n+error: [o, o]\n   --> $DIR/variance-types-bounds.rs:38:1\n    |\n LL | struct TestObject<A, R> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 5 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}, {"sha": "9f7f1d9b0e332fcbfde63357d01fcf9a1440d0f9", "filename": "tests/ui/variance/variance-types.stderr", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/246daa49ee5968966dec192057a9163b94e90601/tests%2Fui%2Fvariance%2Fvariance-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fvariance%2Fvariance-types.stderr?ref=246daa49ee5968966dec192057a9163b94e90601", "patch": "@@ -1,39 +1,38 @@\n-error[E0208]: [-, o, o]\n+error: [-, o, o]\n   --> $DIR/variance-types.rs:10:1\n    |\n LL | struct InvariantMut<'a,A:'a,B:'a> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o]\n+error: [o]\n   --> $DIR/variance-types.rs:15:1\n    |\n LL | struct InvariantCell<A> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [o]\n+error: [o]\n   --> $DIR/variance-types.rs:20:1\n    |\n LL | struct InvariantIndirect<A> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+]\n+error: [+]\n   --> $DIR/variance-types.rs:25:1\n    |\n LL | struct Covariant<A> {\n    | ^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [-]\n+error: [-]\n   --> $DIR/variance-types.rs:30:1\n    |\n LL | struct Contravariant<A> {\n    | ^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0208]: [+, -, o]\n+error: [+, -, o]\n   --> $DIR/variance-types.rs:35:1\n    |\n LL | enum Enum<A,B,C> {\n    | ^^^^^^^^^^^^^^^^\n \n error: aborting due to 6 previous errors\n \n-For more information about this error, try `rustc --explain E0208`."}]}