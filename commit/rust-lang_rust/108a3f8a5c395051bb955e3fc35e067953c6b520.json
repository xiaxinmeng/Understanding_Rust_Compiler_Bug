{"sha": "108a3f8a5c395051bb955e3fc35e067953c6b520", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwOGEzZjhhNWMzOTUwNTFiYjk1NWUzZmMzNWUwNjc5NTNjNmI1MjA=", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2020-08-21T23:08:04Z"}, "committer": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2020-08-21T23:08:04Z"}, "message": "bootstrap: fix a couple of clippy lint warnings\n\nclippy::print_literal\nclippy::clone_on_copy\nclippy::single_char_pattern\nclippy::into_iter_on_ref\nclippy::match_like_matches_macro", "tree": {"sha": "6d8946a7e7bfe01f93743674842b28cba06949a6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6d8946a7e7bfe01f93743674842b28cba06949a6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/108a3f8a5c395051bb955e3fc35e067953c6b520", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/108a3f8a5c395051bb955e3fc35e067953c6b520", "html_url": "https://github.com/rust-lang/rust/commit/108a3f8a5c395051bb955e3fc35e067953c6b520", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/108a3f8a5c395051bb955e3fc35e067953c6b520/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "de521cbb303c08febd9fa3755caccd4f3e491ea3", "url": "https://api.github.com/repos/rust-lang/rust/commits/de521cbb303c08febd9fa3755caccd4f3e491ea3", "html_url": "https://github.com/rust-lang/rust/commit/de521cbb303c08febd9fa3755caccd4f3e491ea3"}], "stats": {"total": 22, "additions": 8, "deletions": 14}, "files": [{"sha": "8b8b01b11532731342b1413a0adcf86fb219252a", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=108a3f8a5c395051bb955e3fc35e067953c6b520", "patch": "@@ -527,7 +527,7 @@ impl Config {\n \n         let build = toml.build.clone().unwrap_or_default();\n         // set by bootstrap.py\n-        config.hosts.push(config.build.clone());\n+        config.hosts.push(config.build);\n         for host in build.host.iter().map(|h| TargetSelection::from_user(h)) {\n             if !config.hosts.contains(&host) {\n                 config.hosts.push(host);"}, {"sha": "2a8f43950db3c2faab179cf77c9aeee5f68aefcd", "filename": "src/bootstrap/doc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdoc.rs?ref=108a3f8a5c395051bb955e3fc35e067953c6b520", "patch": "@@ -96,7 +96,7 @@ fn is_explicit_request(builder: &Builder<'_>, path: &str) -> bool {\n         .paths\n         .iter()\n         .map(components_simplified)\n-        .any(|requested| requested.iter().copied().eq(path.split(\"/\")))\n+        .any(|requested| requested.iter().copied().eq(path.split('/')))\n }\n \n #[derive(Debug, Copy, Clone, Hash, PartialEq, Eq)]"}, {"sha": "38b3a32e3b5fbecd2dc01d9077145e9c0db10f13", "filename": "src/bootstrap/flags.rs", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Fflags.rs", "raw_url": "https://github.com/rust-lang/rust/raw/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Fflags.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fflags.rs?ref=108a3f8a5c395051bb955e3fc35e067953c6b520", "patch": "@@ -505,14 +505,11 @@ Arguments:\n \n         if let Subcommand::Check { .. } = &cmd {\n             if matches.opt_str(\"stage\").is_some() {\n-                println!(\"{}\", \"--stage not supported for x.py check, always treated as stage 0\");\n+                println!(\"--stage not supported for x.py check, always treated as stage 0\");\n                 process::exit(1);\n             }\n             if matches.opt_str(\"keep-stage\").is_some() {\n-                println!(\n-                    \"{}\",\n-                    \"--keep-stage not supported for x.py check, only one stage available\"\n-                );\n+                println!(\"--keep-stage not supported for x.py check, only one stage available\");\n                 process::exit(1);\n             }\n         }"}, {"sha": "6f93082e6752f01c559b572dcf85ff95873e8270", "filename": "src/bootstrap/format.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fformat.rs?ref=108a3f8a5c395051bb955e3fc35e067953c6b520", "patch": "@@ -87,7 +87,7 @@ pub fn format(build: &Build, check: bool) {\n                 .lines()\n                 .filter(|entry| entry.starts_with(\"??\"))\n                 .map(|entry| {\n-                    entry.split(\" \").nth(1).expect(\"every git status entry should list a path\")\n+                    entry.split(' ').nth(1).expect(\"every git status entry should list a path\")\n                 });\n             for untracked_path in untracked_paths {\n                 eprintln!(\"skip untracked path {} during rustfmt invocations\", untracked_path);"}, {"sha": "a42ee11bd6fe50df3f8dd0f8797b7ad17c39a54a", "filename": "src/bootstrap/lib.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Flib.rs?ref=108a3f8a5c395051bb955e3fc35e067953c6b520", "patch": "@@ -323,10 +323,7 @@ pub enum Mode {\n \n impl Mode {\n     pub fn is_tool(&self) -> bool {\n-        match self {\n-            Mode::ToolBootstrap | Mode::ToolRustc | Mode::ToolStd => true,\n-            _ => false,\n-        }\n+        matches!(self, Mode::ToolBootstrap | Mode::ToolRustc | Mode::ToolStd)\n     }\n }\n "}, {"sha": "97d9dbdd63fb2f53809da3824b753c7f1fb74bd7", "filename": "src/bootstrap/native.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Fnative.rs", "raw_url": "https://github.com/rust-lang/rust/raw/108a3f8a5c395051bb955e3fc35e067953c6b520/src%2Fbootstrap%2Fnative.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fnative.rs?ref=108a3f8a5c395051bb955e3fc35e067953c6b520", "patch": "@@ -767,7 +767,7 @@ fn supported_sanitizers(\n ) -> Vec<SanitizerRuntime> {\n     let darwin_libs = |os: &str, components: &[&str]| -> Vec<SanitizerRuntime> {\n         components\n-            .into_iter()\n+            .iter()\n             .map(move |c| SanitizerRuntime {\n                 cmake_target: format!(\"clang_rt.{}_{}_dynamic\", c, os),\n                 path: out_dir\n@@ -779,7 +779,7 @@ fn supported_sanitizers(\n \n     let common_libs = |os: &str, arch: &str, components: &[&str]| -> Vec<SanitizerRuntime> {\n         components\n-            .into_iter()\n+            .iter()\n             .map(move |c| SanitizerRuntime {\n                 cmake_target: format!(\"clang_rt.{}-{}\", c, arch),\n                 path: out_dir.join(&format!(\"build/lib/{}/libclang_rt.{}-{}.a\", os, c, arch)),"}]}