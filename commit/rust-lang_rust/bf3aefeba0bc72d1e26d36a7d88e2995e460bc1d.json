{"sha": "bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJmM2FlZmViYTBiYzcyZDFlMjZkMzZhN2Q4OGUyOTk1ZTQ2MGJjMWQ=", "commit": {"author": {"name": "Lukas Kalbertodt", "email": "lukas.kalbertodt@gmail.com", "date": "2016-04-14T14:07:53Z"}, "committer": {"name": "Lukas Kalbertodt", "email": "lukas.kalbertodt@gmail.com", "date": "2016-04-14T14:07:53Z"}, "message": "Add `contains` to `VecDeque` and `LinkedList` (+ tests)", "tree": {"sha": "4bb3d864cb0bc446bba733f777e81b0796624bc9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4bb3d864cb0bc446bba733f777e81b0796624bc9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d", "html_url": "https://github.com/rust-lang/rust/commit/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d/comments", "author": {"login": "LukasKalbertodt", "id": 7419664, "node_id": "MDQ6VXNlcjc0MTk2NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7419664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LukasKalbertodt", "html_url": "https://github.com/LukasKalbertodt", "followers_url": "https://api.github.com/users/LukasKalbertodt/followers", "following_url": "https://api.github.com/users/LukasKalbertodt/following{/other_user}", "gists_url": "https://api.github.com/users/LukasKalbertodt/gists{/gist_id}", "starred_url": "https://api.github.com/users/LukasKalbertodt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LukasKalbertodt/subscriptions", "organizations_url": "https://api.github.com/users/LukasKalbertodt/orgs", "repos_url": "https://api.github.com/users/LukasKalbertodt/repos", "events_url": "https://api.github.com/users/LukasKalbertodt/events{/privacy}", "received_events_url": "https://api.github.com/users/LukasKalbertodt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "LukasKalbertodt", "id": 7419664, "node_id": "MDQ6VXNlcjc0MTk2NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7419664?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LukasKalbertodt", "html_url": "https://github.com/LukasKalbertodt", "followers_url": "https://api.github.com/users/LukasKalbertodt/followers", "following_url": "https://api.github.com/users/LukasKalbertodt/following{/other_user}", "gists_url": "https://api.github.com/users/LukasKalbertodt/gists{/gist_id}", "starred_url": "https://api.github.com/users/LukasKalbertodt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LukasKalbertodt/subscriptions", "organizations_url": "https://api.github.com/users/LukasKalbertodt/orgs", "repos_url": "https://api.github.com/users/LukasKalbertodt/repos", "events_url": "https://api.github.com/users/LukasKalbertodt/events{/privacy}", "received_events_url": "https://api.github.com/users/LukasKalbertodt/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "28c9fdafc06a259c25c1b889044fd49b4dfc69e2", "url": "https://api.github.com/repos/rust-lang/rust/commits/28c9fdafc06a259c25c1b889044fd49b4dfc69e2", "html_url": "https://github.com/rust-lang/rust/commit/28c9fdafc06a259c25c1b889044fd49b4dfc69e2"}], "stats": {"total": 49, "additions": 49, "deletions": 0}, "files": [{"sha": "17d3dbc10c4e19d6495bc6d4d9a4659b84cc539c", "filename": "src/libcollections/linked_list.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d/src%2Flibcollections%2Flinked_list.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d/src%2Flibcollections%2Flinked_list.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Flinked_list.rs?ref=bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d", "patch": "@@ -401,6 +401,16 @@ impl<T> LinkedList<T> {\n         *self = LinkedList::new()\n     }\n \n+    /// Returns `true` if the `LinkedList` contains an element equal to the\n+    /// given value.\n+    #[unstable(feature = \"linked_list_contains\", reason = \"recently added\",\n+               issue = \"32630\")]\n+    pub fn contains(&self, x: &T) -> bool\n+        where T: PartialEq<T>\n+    {\n+        self.iter().any(|e| e == x)\n+    }\n+\n     /// Provides a reference to the front element, or `None` if the list is\n     /// empty.\n     ///"}, {"sha": "45b4f0c958be12e8fcc412ce607a37e2aaa6b635", "filename": "src/libcollections/vec_deque.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d/src%2Flibcollections%2Fvec_deque.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d/src%2Flibcollections%2Fvec_deque.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fvec_deque.rs?ref=bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d", "patch": "@@ -872,6 +872,17 @@ impl<T> VecDeque<T> {\n         self.drain(..);\n     }\n \n+    /// Returns `true` if the `VecDeque` contains an element equal to the\n+    /// given value.\n+    #[unstable(feature = \"vec_deque_contains\", reason = \"recently added\",\n+               issue = \"32630\")]\n+    pub fn contains(&self, x: &T) -> bool\n+        where T: PartialEq<T>\n+    {\n+        let (a, b) = self.as_slices();\n+        a.contains(x) || b.contains(x)\n+    }\n+\n     /// Provides a reference to the front element, or `None` if the sequence is\n     /// empty.\n     ///"}, {"sha": "ba7e5c50bf8944898f4e387f90ae5b71f959621d", "filename": "src/libcollectionstest/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d/src%2Flibcollectionstest%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d/src%2Flibcollectionstest%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollectionstest%2Flib.rs?ref=bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d", "patch": "@@ -21,6 +21,7 @@\n #![feature(fn_traits)]\n #![feature(enumset)]\n #![feature(iter_arith)]\n+#![feature(linked_list_contains)]\n #![feature(map_entry_keys)]\n #![feature(map_values_mut)]\n #![feature(pattern)]\n@@ -32,6 +33,7 @@\n #![feature(test)]\n #![feature(unboxed_closures)]\n #![feature(unicode)]\n+#![feature(vec_deque_contains)]\n \n extern crate collections;\n extern crate test;"}, {"sha": "8aa9f9c1d3e2444a9c3f8bb8ebe4a8816cb4a969", "filename": "src/libcollectionstest/linked_list.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d/src%2Flibcollectionstest%2Flinked_list.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d/src%2Flibcollectionstest%2Flinked_list.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollectionstest%2Flinked_list.rs?ref=bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d", "patch": "@@ -413,3 +413,16 @@ fn bench_iter_mut_rev(b: &mut test::Bencher) {\n         assert!(m.iter_mut().rev().count() == 128);\n     })\n }\n+\n+#[test]\n+fn test_contains() {\n+    let mut l = LinkedList::new();\n+    l.extend(&[2, 3, 4]);\n+\n+    assert!(l.contains(&3));\n+    assert!(!l.contains(&1));\n+\n+    l.clear();\n+\n+    assert!(!l.contains(&3));\n+}"}, {"sha": "05af9bd704dc819ee6152b7066c04654b15a44e7", "filename": "src/libcollectionstest/vec_deque.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d/src%2Flibcollectionstest%2Fvec_deque.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d/src%2Flibcollectionstest%2Fvec_deque.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollectionstest%2Fvec_deque.rs?ref=bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d", "patch": "@@ -959,3 +959,16 @@ fn test_extend_ref() {\n     assert_eq!(v[4], 5);\n     assert_eq!(v[5], 6);\n }\n+\n+#[test]\n+fn test_contains() {\n+    let mut v = VecDeque::new();\n+    v.extend(&[2, 3, 4]);\n+\n+    assert!(v.contains(&3));\n+    assert!(!v.contains(&1));\n+\n+    v.clear();\n+\n+    assert!(!v.contains(&3));\n+}"}]}