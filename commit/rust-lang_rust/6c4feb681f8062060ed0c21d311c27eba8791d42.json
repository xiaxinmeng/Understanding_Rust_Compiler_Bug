{"sha": "6c4feb681f8062060ed0c21d311c27eba8791d42", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZjNGZlYjY4MWY4MDYyMDYwZWQwYzIxZDMxMWMyN2ViYTg3OTFkNDI=", "commit": {"author": {"name": "Matthew Jasper", "email": "mjjasper1@gmail.com", "date": "2020-07-25T14:14:12Z"}, "committer": {"name": "Matthew Jasper", "email": "mjjasper1@gmail.com", "date": "2020-10-06T10:19:32Z"}, "message": "Fix bootstrap", "tree": {"sha": "a248a0bf367c98c8d4299d6bbd4a7b5e34bf221b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a248a0bf367c98c8d4299d6bbd4a7b5e34bf221b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6c4feb681f8062060ed0c21d311c27eba8791d42", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6c4feb681f8062060ed0c21d311c27eba8791d42", "html_url": "https://github.com/rust-lang/rust/commit/6c4feb681f8062060ed0c21d311c27eba8791d42", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6c4feb681f8062060ed0c21d311c27eba8791d42/comments", "author": {"login": "matthewjasper", "id": 20113453, "node_id": "MDQ6VXNlcjIwMTEzNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewjasper", "html_url": "https://github.com/matthewjasper", "followers_url": "https://api.github.com/users/matthewjasper/followers", "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}", "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions", "organizations_url": "https://api.github.com/users/matthewjasper/orgs", "repos_url": "https://api.github.com/users/matthewjasper/repos", "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewjasper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthewjasper", "id": 20113453, "node_id": "MDQ6VXNlcjIwMTEzNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewjasper", "html_url": "https://github.com/matthewjasper", "followers_url": "https://api.github.com/users/matthewjasper/followers", "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}", "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions", "organizations_url": "https://api.github.com/users/matthewjasper/orgs", "repos_url": "https://api.github.com/users/matthewjasper/repos", "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewjasper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ed324825341dbc763a8044f769eb0544afe87f08", "url": "https://api.github.com/repos/rust-lang/rust/commits/ed324825341dbc763a8044f769eb0544afe87f08", "html_url": "https://github.com/rust-lang/rust/commit/ed324825341dbc763a8044f769eb0544afe87f08"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "518719d76d4f64ed66ff58bc335949d5212e05d6", "filename": "compiler/rustc_trait_selection/src/traits/project.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6c4feb681f8062060ed0c21d311c27eba8791d42/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fproject.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6c4feb681f8062060ed0c21d311c27eba8791d42/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fproject.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fproject.rs?ref=6c4feb681f8062060ed0c21d311c27eba8791d42", "patch": "@@ -978,7 +978,9 @@ fn assemble_candidates_from_predicates<'cx, 'tcx>(\n             if is_match {\n                 candidate_set.push_candidate(ctor(data));\n \n-                if potentially_unnormalized_candidates && !obligation.predicate.needs_infer() {\n+                if potentially_unnormalized_candidates\n+                    && !obligation.predicate.has_infer_types_or_consts()\n+                {\n                     // HACK: Pick the first trait def candidate for a fully\n                     // inferred predicate. This is to allow duplicates that\n                     // differ only in normalization."}, {"sha": "038ba431c47d3be42145c1b674418810dd519b69", "filename": "compiler/rustc_trait_selection/src/traits/select/candidate_assembly.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6c4feb681f8062060ed0c21d311c27eba8791d42/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fcandidate_assembly.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6c4feb681f8062060ed0c21d311c27eba8791d42/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fcandidate_assembly.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fcandidate_assembly.rs?ref=6c4feb681f8062060ed0c21d311c27eba8791d42", "patch": "@@ -165,7 +165,7 @@ impl<'cx, 'tcx> SelectionContext<'cx, 'tcx> {\n \n         debug!(\"winnowed to {} candidates for {:?}: {:?}\", candidates.len(), stack, candidates);\n \n-        let needs_infer = stack.obligation.predicate.needs_infer();\n+        let needs_infer = stack.obligation.predicate.has_infer_types_or_consts();\n \n         // If there are STILL multiple candidates, we can further\n         // reduce the list by dropping duplicates -- including"}, {"sha": "c63b1544a5379d691feded61395b8610448b04b6", "filename": "src/test/ui/issues/issue-60283.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6c4feb681f8062060ed0c21d311c27eba8791d42/src%2Ftest%2Fui%2Fissues%2Fissue-60283.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6c4feb681f8062060ed0c21d311c27eba8791d42/src%2Ftest%2Fui%2Fissues%2Fissue-60283.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-60283.rs?ref=6c4feb681f8062060ed0c21d311c27eba8791d42", "patch": "@@ -16,5 +16,5 @@ where\n fn main() {\n     foo((), drop)\n     //~^ ERROR type mismatch in function arguments\n-    //~| ERROR the size for values of type `<() as Trait<'_>>::Item` cannot be known at compilation time\n+    //~| ERROR size for values of type `<() as Trait<'_>>::Item` cannot be known at compilation time\n }"}, {"sha": "574be0eb0a2570b83813969e277e0f3a2f0d27fa", "filename": "src/test/ui/type-alias-impl-trait/bounds-are-checked.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6c4feb681f8062060ed0c21d311c27eba8791d42/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fbounds-are-checked.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6c4feb681f8062060ed0c21d311c27eba8791d42/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fbounds-are-checked.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fbounds-are-checked.stderr?ref=6c4feb681f8062060ed0c21d311c27eba8791d42", "patch": "@@ -12,8 +12,8 @@ error[E0308]: mismatched types\n LL | type X<'a> = impl Into<&'static str> + From<&'a str>;\n    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ lifetime mismatch\n    |\n-   = note: expected type `std::convert::From<&'a str>`\n-              found type `std::convert::From<&'static str>`\n+   = note: expected trait `std::convert::From<&'a str>`\n+              found trait `std::convert::From<&'static str>`\n note: the lifetime `'a` as defined on the item at 6:8...\n   --> $DIR/bounds-are-checked.rs:6:8\n    |"}]}