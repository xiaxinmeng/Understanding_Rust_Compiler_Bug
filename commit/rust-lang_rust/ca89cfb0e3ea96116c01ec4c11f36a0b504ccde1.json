{"sha": "ca89cfb0e3ea96116c01ec4c11f36a0b504ccde1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNhODljZmIwZTNlYTk2MTE2YzAxZWM0YzExZjM2YTBiNTA0Y2NkZTE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-08-08T16:21:10Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-08-08T16:21:10Z"}, "message": "auto merge of #16255 : steveklabnik/rust/guide_methods, r=nikomatsakis\n\nShifting some things around here, as I think this is a better order.", "tree": {"sha": "f10bd30231675402ea43bde6235ba81e0ed75c5b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f10bd30231675402ea43bde6235ba81e0ed75c5b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ca89cfb0e3ea96116c01ec4c11f36a0b504ccde1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ca89cfb0e3ea96116c01ec4c11f36a0b504ccde1", "html_url": "https://github.com/rust-lang/rust/commit/ca89cfb0e3ea96116c01ec4c11f36a0b504ccde1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ca89cfb0e3ea96116c01ec4c11f36a0b504ccde1/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "86decf638e95f93b60f2325263005c60e7d3183e", "url": "https://api.github.com/repos/rust-lang/rust/commits/86decf638e95f93b60f2325263005c60e7d3183e", "html_url": "https://github.com/rust-lang/rust/commit/86decf638e95f93b60f2325263005c60e7d3183e"}, {"sha": "50ffe0ccabd9b67ded2116e6b428dfbfedce9f23", "url": "https://api.github.com/repos/rust-lang/rust/commits/50ffe0ccabd9b67ded2116e6b428dfbfedce9f23", "html_url": "https://github.com/rust-lang/rust/commit/50ffe0ccabd9b67ded2116e6b428dfbfedce9f23"}], "stats": {"total": 88, "additions": 88, "deletions": 0}, "files": [{"sha": "c3dfa93cda36a5bc20a6265150a2cafb9d685df1", "filename": "src/doc/guide.md", "status": "modified", "additions": 88, "deletions": 0, "changes": 88, "blob_url": "https://github.com/rust-lang/rust/blob/ca89cfb0e3ea96116c01ec4c11f36a0b504ccde1/src%2Fdoc%2Fguide.md", "raw_url": "https://github.com/rust-lang/rust/raw/ca89cfb0e3ea96116c01ec4c11f36a0b504ccde1/src%2Fdoc%2Fguide.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fguide.md?ref=ca89cfb0e3ea96116c01ec4c11f36a0b504ccde1", "patch": "@@ -3614,6 +3614,94 @@ guide](http://doc.rust-lang.org/guide-pointers.html#rc-and-arc).\n \n # Patterns\n \n+# Method Syntax\n+\n+Functions are great, but if you want to call a bunch of them on some data, it\n+can be awkward. Consider this code:\n+\n+```{rust,ignore}\n+baz(bar(foo(x)));\n+```\n+\n+We would read this left-to right, and so we see 'baz bar foo.' But this isn't the\n+order that the functions would get called in, that's inside-out: 'foo bar baz.'\n+Wouldn't it be nice if we could do this instead?\n+\n+```{rust,ignore}\n+x.foo().bar().baz();\n+```\n+\n+Luckily, as you may have guessed with the leading question, you can! Rust provides\n+the ability to use this **method call syntax** via the `impl` keyword.\n+\n+Here's how it works:\n+\n+```\n+struct Circle {\n+    x: f64,\n+    y: f64,\n+    radius: f64,\n+}\n+\n+impl Circle {\n+    fn area(&self) -> f64 {\n+        std::f64::consts::PI * (self.radius * self.radius)\n+    }\n+}\n+\n+fn main() {\n+    let c = Circle { x: 0.0, y: 0.0, radius: 2.0 };\n+    println!(\"{}\", c.area());\n+}\n+```\n+\n+This will print `12.566371`.\n+\n+We've made a struct that represents a circle. We then write an `impl` block,\n+and inside it, define a method, `area`. Methods take a  special first\n+parameter, `&self`. There are three variants: `self`, `&self`, and `&mut self`.\n+You can think of this first parameter as being the `x` in `x.foo()`. The three\n+variants correspond to the three kinds of thing `x` could be: `self` if it's\n+just a value on the stack, `&self` if it's a reference, and `&mut self` if it's\n+a mutable reference. We should default to using `&self`, as it's the most\n+common.\n+\n+Finally, as you may remember, the value of the area of a circle is `\u03c0*r\u00b2`.\n+Because we took the `&self` parameter to `area`, we can use it just like any\n+other parameter. Because we know it's a `Circle`, we can access the `radius`\n+just like we would with any other struct. An import of \u03c0 and some\n+multiplications later, and we have our area.\n+\n+You can also define methods that do not take a `self` parameter. Here's a\n+pattern that's very common in Rust code:\n+\n+```\n+struct Circle {\n+    x: f64,\n+    y: f64,\n+    radius: f64,\n+}\n+\n+impl Circle {\n+    fn new(x: f64, y: f64, radius: f64) -> Circle {\n+        Circle {\n+            x: x,\n+            y: y,\n+            radius: radius,\n+        }\n+    }\n+}\n+\n+fn main() {\n+    let c = Circle::new(0.0, 0.0, 2.0);\n+}\n+```\n+\n+This **static method** builds a new `Circle` for us. Note that static methods\n+are called with the `Struct::method()` syntax, rather than the `ref.method()`\n+syntax.\n+\n+\n # Closures\n \n So far, we've made lots of functions in Rust. But we've given them all names."}]}