{"sha": "1270f8e77a53b5be5ea3de10440c79394c0ad025", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEyNzBmOGU3N2E1M2I1YmU1ZWEzZGUxMDQ0MGM3OTM5NGMwYWQwMjU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-10-18T02:37:16Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-10-18T02:37:16Z"}, "message": "auto merge of #17955 : rjz/rust/tweak-tasks-guide, r=brson", "tree": {"sha": "4fdb303f7069fd4c49cb63656656a60dd09fd334", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4fdb303f7069fd4c49cb63656656a60dd09fd334"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1270f8e77a53b5be5ea3de10440c79394c0ad025", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1270f8e77a53b5be5ea3de10440c79394c0ad025", "html_url": "https://github.com/rust-lang/rust/commit/1270f8e77a53b5be5ea3de10440c79394c0ad025", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1270f8e77a53b5be5ea3de10440c79394c0ad025/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "222ae8b9bb34b7f7b4fda11a4c6b643252ae5a8a", "url": "https://api.github.com/repos/rust-lang/rust/commits/222ae8b9bb34b7f7b4fda11a4c6b643252ae5a8a", "html_url": "https://github.com/rust-lang/rust/commit/222ae8b9bb34b7f7b4fda11a4c6b643252ae5a8a"}, {"sha": "a35c53d65ba7d5fe6caed4bd9c94fbf01df2211d", "url": "https://api.github.com/repos/rust-lang/rust/commits/a35c53d65ba7d5fe6caed4bd9c94fbf01df2211d", "html_url": "https://github.com/rust-lang/rust/commit/a35c53d65ba7d5fe6caed4bd9c94fbf01df2211d"}], "stats": {"total": 26, "additions": 13, "deletions": 13}, "files": [{"sha": "1d1e9171b8f500ccd577082d4bcd20891809e316", "filename": "src/doc/guide-tasks.md", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/1270f8e77a53b5be5ea3de10440c79394c0ad025/src%2Fdoc%2Fguide-tasks.md", "raw_url": "https://github.com/rust-lang/rust/raw/1270f8e77a53b5be5ea3de10440c79394c0ad025/src%2Fdoc%2Fguide-tasks.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fguide-tasks.md?ref=1270f8e77a53b5be5ea3de10440c79394c0ad025", "patch": "@@ -41,7 +41,7 @@ concurrency: particularly, ownership. The language leaves the implementation\n details to the standard library.\n \n The `spawn` function has a very simple type signature: `fn spawn(f: proc():\n-Send)`.  Because it accepts only procs, and procs contain only owned data,\n+Send)`. Because it accepts only procs, and procs contain only owned data,\n `spawn` can safely move the entire proc and all its associated state into an\n entirely different task for execution. Like any closure, the function passed to\n `spawn` may capture an environment that it carries across tasks.\n@@ -213,7 +213,7 @@ println!(\"fib(50) = {}\", delayed_fib.get())\n # }\n ```\n \n-The call to `future::spawn` returns immediately a `future` object regardless of\n+The call to `future::spawn` immediately returns a `future` object regardless of\n how long it takes to run `fib(50)`. You can then make yourself a sandwich while\n the computation of `fib` is running. The result of the execution of the method\n is obtained by calling `get` on the future. This call will block until the\n@@ -297,7 +297,7 @@ let numbers_arc = Arc::new(numbers);\n ```\n \n and a clone is captured for each task via a procedure. This only copies\n-the wrapper and not it's contents. Within the task's procedure, the captured\n+the wrapper and not its contents. Within the task's procedure, the captured\n Arc reference can be used as a shared reference to the underlying vector as\n if it were local.\n \n@@ -323,20 +323,20 @@ Rust has a built-in mechanism for raising exceptions. The `fail!()` macro\n (which can also be written with an error string as an argument: `fail!(\n ~reason)`) and the `assert!` construct (which effectively calls `fail!()` if a\n boolean expression is false) are both ways to raise exceptions. When a task\n-raises an exception the task unwinds its stack---running destructors and\n-freeing memory along the way---and then exits. Unlike exceptions in C++,\n+raises an exception, the task unwinds its stack\u2014running destructors and\n+freeing memory along the way\u2014and then exits. Unlike exceptions in C++,\n exceptions in Rust are unrecoverable within a single task: once a task fails,\n there is no way to \"catch\" the exception.\n \n While it isn't possible for a task to recover from failure, tasks may notify\n each other of failure. The simplest way of handling task failure is with the\n-`try` function, which is similar to `spawn`, but immediately blocks waiting for\n-the child task to finish. `try` returns a value of type `Result<T, Box<Any +\n-Send>>`.  `Result` is an `enum` type with two variants: `Ok` and `Err`. In this\n-case, because the type arguments to `Result` are `int` and `()`, callers can\n-pattern-match on a result to check whether it's an `Ok` result with an `int`\n-field (representing a successful result) or an `Err` result (representing\n-termination with an error).\n+`try` function, which is similar to `spawn`, but immediately blocks and waits\n+for the child task to finish. `try` returns a value of type\n+`Result<T, Box<Any + Send>>`. `Result` is an `enum` type with two variants:\n+`Ok` and `Err`. In this case, because the type arguments to `Result` are `int`\n+and `()`, callers can pattern-match on a result to check whether it's an `Ok`\n+result with an `int` field (representing a successful result) or an `Err` result\n+(representing termination with an error).\n \n ```{rust}\n # use std::task;\n@@ -369,4 +369,4 @@ the entire program (perhaps you're writing an assert which, if it trips,\n indicates an unrecoverable logic error); in other cases you might want to\n contain the failure at a certain boundary (perhaps a small piece of input from\n the outside world, which you happen to be processing in parallel, is malformed\n-and its processing task can't proceed).\n+such that the processing task cannot proceed)."}]}