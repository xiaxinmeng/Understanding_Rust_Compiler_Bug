{"sha": "9e8a270681aa22b56cdb41f5e2537dace5c7fe75", "node_id": "MDY6Q29tbWl0NzI0NzEyOjllOGEyNzA2ODFhYTIyYjU2Y2RiNDFmNWUyNTM3ZGFjZTVjN2ZlNzU=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-04-15T13:41:27Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-04-16T02:47:03Z"}, "message": "test: Un-ignore smallest-hello-world.rs\n\nRebased through the ages to bring the test up to date.\n\nCloses #8538", "tree": {"sha": "ecf23f9d4ddda884f62eb41fde3d53450ae16b07", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ecf23f9d4ddda884f62eb41fde3d53450ae16b07"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9e8a270681aa22b56cdb41f5e2537dace5c7fe75", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9e8a270681aa22b56cdb41f5e2537dace5c7fe75", "html_url": "https://github.com/rust-lang/rust/commit/9e8a270681aa22b56cdb41f5e2537dace5c7fe75", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9e8a270681aa22b56cdb41f5e2537dace5c7fe75/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c8f5b701dcf0b7dc4d78ef0d29f10e4f080b2517", "url": "https://api.github.com/repos/rust-lang/rust/commits/c8f5b701dcf0b7dc4d78ef0d29f10e4f080b2517", "html_url": "https://github.com/rust-lang/rust/commit/c8f5b701dcf0b7dc4d78ef0d29f10e4f080b2517"}], "stats": {"total": 23, "additions": 7, "deletions": 16}, "files": [{"sha": "0ec1ec79a60c6e79e2c19b1f59831ff5845fd573", "filename": "src/test/run-pass/smallest-hello-world.rs", "status": "modified", "additions": 7, "deletions": 16, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/9e8a270681aa22b56cdb41f5e2537dace5c7fe75/src%2Ftest%2Frun-pass%2Fsmallest-hello-world.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9e8a270681aa22b56cdb41f5e2537dace5c7fe75/src%2Ftest%2Frun-pass%2Fsmallest-hello-world.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fsmallest-hello-world.rs?ref=9e8a270681aa22b56cdb41f5e2537dace5c7fe75", "patch": "@@ -8,30 +8,21 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// ignore-test - FIXME(#8538) some kind of problem linking induced by extern \"C\" fns\n-\n // Smallest hello world with no runtime\n \n #![no_std]\n \n-// This is an unfortunate thing to have to do on linux :(\n-#[cfg(target_os = \"linux\")]\n-#[doc(hidden)]\n-pub mod linkhack {\n-    #[link_args=\"-lrustrt -lrt\"]\n-    extern {}\n-}\n+extern crate libc;\n \n-extern {\n-    fn puts(s: *u8);\n-}\n+extern { fn puts(s: *u8); }\n+extern \"rust-intrinsic\" { fn transmute<T, U>(t: T) -> U; }\n \n-extern \"rust-intrinsic\" {\n-    fn transmute<T, U>(t: T) -> U;\n-}\n+#[no_mangle]\n+pub extern fn rust_stack_exhausted() {}\n \n #[start]\n-pub fn main(_: int, _: **u8, _: *u8) -> int {\n+#[no_split_stack]\n+fn main(_: int, _: **u8) -> int {\n     unsafe {\n         let (ptr, _): (*u8, uint) = transmute(\"Hello!\");\n         puts(ptr);"}]}