{"sha": "6e9954d12e0f6ea5bd1ebe306694edf004de003f", "node_id": "C_kwDOAAsO6NoAKDZlOTk1NGQxMmUwZjZlYTViZDFlYmUzMDY2OTRlZGYwMDRkZTAwM2Y", "commit": {"author": {"name": "cynecx", "email": "me@cynecx.net", "date": "2021-10-24T20:41:48Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2021-11-29T10:13:40Z"}, "message": "rustdoc: show logo in source sub nav", "tree": {"sha": "7f05f00f4059ac3eb2bed5e9902eb15cc099ad5c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7f05f00f4059ac3eb2bed5e9902eb15cc099ad5c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6e9954d12e0f6ea5bd1ebe306694edf004de003f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6e9954d12e0f6ea5bd1ebe306694edf004de003f", "html_url": "https://github.com/rust-lang/rust/commit/6e9954d12e0f6ea5bd1ebe306694edf004de003f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6e9954d12e0f6ea5bd1ebe306694edf004de003f/comments", "author": {"login": "cynecx", "id": 5961244, "node_id": "MDQ6VXNlcjU5NjEyNDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/5961244?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cynecx", "html_url": "https://github.com/cynecx", "followers_url": "https://api.github.com/users/cynecx/followers", "following_url": "https://api.github.com/users/cynecx/following{/other_user}", "gists_url": "https://api.github.com/users/cynecx/gists{/gist_id}", "starred_url": "https://api.github.com/users/cynecx/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cynecx/subscriptions", "organizations_url": "https://api.github.com/users/cynecx/orgs", "repos_url": "https://api.github.com/users/cynecx/repos", "events_url": "https://api.github.com/users/cynecx/events{/privacy}", "received_events_url": "https://api.github.com/users/cynecx/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dc2c9723343c985740be09919236a6e96c4e4433", "url": "https://api.github.com/repos/rust-lang/rust/commits/dc2c9723343c985740be09919236a6e96c4e4433", "html_url": "https://github.com/rust-lang/rust/commit/dc2c9723343c985740be09919236a6e96c4e4433"}], "stats": {"total": 127, "additions": 87, "deletions": 40}, "files": [{"sha": "59ac80ec0af82a06b8d6f4756abad5cf46cb9f89", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/6e9954d12e0f6ea5bd1ebe306694edf004de003f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/6e9954d12e0f6ea5bd1ebe306694edf004de003f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=6e9954d12e0f6ea5bd1ebe306694edf004de003f", "patch": "@@ -321,6 +321,27 @@ nav.sub {\n \ttext-transform: uppercase;\n }\n \n+.sub-container {\n+\tdisplay: flex;\n+\tflex-direction: row;\n+\tflex-wrap: nowrap;\n+}\n+\n+.sub-logo-container {\n+\tdisplay: none;\n+\tmargin-right: 20px;\n+}\n+\n+.source .sub-logo-container {\n+\tdisplay: block;\n+}\n+\n+.source .sub-logo-container > img {\n+\theight: 60px;\n+\twidth: 60px;\n+\tobject-fit: contain;\n+}\n+\n .sidebar {\n \twidth: 200px;\n \toverflow-y: scroll;\n@@ -742,6 +763,7 @@ nav.sub {\n }\n \n nav:not(.sidebar) {\n+\tflex-grow: 1;\n \tborder-bottom: 1px solid;\n \tpadding-bottom: 10px;\n \tmargin-bottom: 25px;\n@@ -2017,6 +2039,19 @@ details.rustdoc-toggle[open] > summary.hideme::after {\n \t.docblock code {\n \t\toverflow-wrap: anywhere;\n \t}\n+\n+\t.sub-container {\n+\t\tflex-direction: column;\n+\t}\n+\n+\t.sub-logo-container {\n+\t\talign-self: center;\n+\t}\n+\n+\t.source .sub-logo-container > img {\n+\t\theight: 35px;\n+\t\twidth: 35px;\n+\t}\n }\n \n "}, {"sha": "f4f654f4745268ddb78dc9a270e359898e7846b0", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6e9954d12e0f6ea5bd1ebe306694edf004de003f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/6e9954d12e0f6ea5bd1ebe306694edf004de003f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=6e9954d12e0f6ea5bd1ebe306694edf004de003f", "patch": "@@ -61,7 +61,7 @@ pre, .rustdoc.source .example-wrap {\n \tbackground-color: #14191f;\n }\n \n-.logo-container.rust-logo > img {\n+.rust-logo > img {\n \tfilter: drop-shadow(1px 0 0px #fff)\n \t\tdrop-shadow(0 1px 0 #fff)\n \t\tdrop-shadow(-1px 0 0 #fff)"}, {"sha": "b10b80203802938682ff7fe8c56c698b3a86b200", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6e9954d12e0f6ea5bd1ebe306694edf004de003f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/6e9954d12e0f6ea5bd1ebe306694edf004de003f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=6e9954d12e0f6ea5bd1ebe306694edf004de003f", "patch": "@@ -32,7 +32,7 @@ pre, .rustdoc.source .example-wrap {\n \tbackground-color: #505050;\n }\n \n-.logo-container.rust-logo > img {\n+.rust-logo > img {\n \tfilter: drop-shadow(1px 0 0px #fff)\n \t\tdrop-shadow(0 1px 0 #fff)\n \t\tdrop-shadow(-1px 0 0 #fff)"}, {"sha": "97f32ac1f7de37b47368fc65c091b7d5a0e8437b", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6e9954d12e0f6ea5bd1ebe306694edf004de003f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/6e9954d12e0f6ea5bd1ebe306694edf004de003f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=6e9954d12e0f6ea5bd1ebe306694edf004de003f", "patch": "@@ -43,7 +43,7 @@ pre, .rustdoc.source .example-wrap {\n \tscrollbar-color: rgba(36, 37, 39, 0.6) #d9d9d9;\n }\n \n-.logo-container.rust-logo > img {\n+.rust-logo > img {\n \t/* No need for a border in here! */\n }\n "}, {"sha": "b94a632f109ff36428b7b2d435f0fe4f2421e238", "filename": "src/librustdoc/html/templates/page.html", "status": "modified", "additions": 49, "deletions": 37, "changes": 86, "blob_url": "https://github.com/rust-lang/rust/blob/6e9954d12e0f6ea5bd1ebe306694edf004de003f/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "raw_url": "https://github.com/rust-lang/rust/raw/6e9954d12e0f6ea5bd1ebe306694edf004de003f/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html?ref=6e9954d12e0f6ea5bd1ebe306694edf004de003f", "patch": "@@ -70,50 +70,62 @@\n         <div class=\"sidebar-menu\" role=\"button\">&#9776;</div> {#- -#}\n         <a class=\"sidebar-logo\" href='{{page.root_path | safe}}{{krate_with_trailing_slash | safe}}index.html'> {#- -#}\n             <div class='logo-container rust-logo'> {#- -#}\n-            <img src='\n-                {%- if layout.logo -%}\n-                {{layout.logo}}\n-                {%- else -%}\n-                {{static_root_path | safe}}rust-logo{{page.resource_suffix}}.png\n-                {%- endif -%}\n-                ' alt='logo'> {#- -#}\n+                <img src='\n+                    {%- if layout.logo -%}\n+                    {{layout.logo}}\n+                    {%- else -%}\n+                    {{static_root_path | safe}}rust-logo{{page.resource_suffix}}.png\n+                    {%- endif -%}\n+                    ' alt='logo'> {#- -#}\n             </div> {#- -#}\n         </a> {#- -#}\n         {{- sidebar | safe -}}\n     </nav> {#- -#}\n     <main> {#- -#}\n         <div class=\"main-inner\"> {#- -#}\n-            <nav class=\"sub\"> {#- -#}\n-                <div class=\"theme-picker\"> {#- -#}\n-                    <button id=\"theme-picker\" aria-label=\"Pick another theme!\" aria-haspopup=\"menu\" title=\"themes\"> {#- -#}\n-                        <img width=\"18\" height=\"18\" alt=\"Pick another theme!\" {# -#}\n-                         src=\"{{static_root_path | safe}}brush{{page.resource_suffix}}.svg\"> {#- -#}\n-                    </button> {#- -#}\n-                    <div id=\"theme-choices\" role=\"menu\"></div> {#- -#}\n-                </div> {#- -#}\n-                <form class=\"search-form\"> {#- -#}\n-                    <div class=\"search-container\"> {#- -#}\n-                        <div>{%- if layout.generate_search_filter -%}\n-                            <select id=\"crate-search\"> {#- -#}\n-                                <option value=\"All crates\">All crates</option> {#- -#}\n-                            </select> {#- -#}\n-                            {%- endif -%}\n-                            <input {# -#}\n-                                class=\"search-input\" {# -#}\n-                                name=\"search\" {# -#}\n-                                autocomplete=\"off\" {# -#}\n-                                spellcheck=\"false\" {# -#}\n-                                placeholder=\"Click or press \u2018S\u2019 to search, \u2018?\u2019 for more options\u2026\" {# -#}\n-                                type=\"search\"> {#- -#}\n-                        </div> {#- -#}\n-                        <button type=\"button\" id=\"help-button\" title=\"help\">?</button> {#- -#}\n-                        <a id=\"settings-menu\" href=\"{{page.root_path | safe}}settings.html\" title=\"settings\"> {#- -#}\n-                            <img width=\"18\" height=\"18\" alt=\"Change settings\" {# -#}\n-                                 src=\"{{static_root_path | safe}}wheel{{page.resource_suffix}}.svg\"> {#- -#}\n-                        </a> {#- -#}\n+            <div class=\"sub-container\"> {#- -#}\n+                <a class=\"sub-logo-container rust-logo\" href='{{page.root_path | safe}}{{krate_with_trailing_slash | safe}}index.html'> {#- -#}\n+                    <img src='\n+                        {%- if layout.logo -%}\n+                        {{layout.logo}}\n+                        {%- else -%}\n+                        {{static_root_path | safe}}rust-logo{{page.resource_suffix}}.png\n+                        {%- endif -%}\n+                        ' alt='logo'> {#- -#}\n+                </a> {#- -#}\n+                <nav class=\"sub\"> {#- -#}\n+                    <div class=\"theme-picker\"> {#- -#}\n+                        <button id=\"theme-picker\" aria-label=\"Pick another theme!\" aria-haspopup=\"menu\" title=\"themes\"> {#- -#}\n+                            <img width=\"18\" height=\"18\" alt=\"Pick another theme!\" {# -#}\n+                             src=\"{{static_root_path | safe}}brush{{page.resource_suffix}}.svg\"> {#- -#}\n+                        </button> {#- -#}\n+                        <div id=\"theme-choices\" role=\"menu\"></div> {#- -#}\n                     </div> {#- -#}\n-                </form> {#- -#}\n-            </nav> {#- -#}\n+                    <form class=\"search-form\"> {#- -#}\n+                        <div class=\"search-container\"> {#- -#}\n+                            <div>{%- if layout.generate_search_filter -%}\n+                                <select id=\"crate-search\"> {#- -#}\n+                                    <option value=\"All crates\">All crates</option> {#- -#}\n+                                </select> {#- -#}\n+                                {%- endif -%}\n+                                <input {# -#}\n+                                    class=\"search-input\" {# -#}\n+                                    name=\"search\" {# -#}\n+                                    disabled {# -#}\n+                                    autocomplete=\"off\" {# -#}\n+                                    spellcheck=\"false\" {# -#}\n+                                    placeholder=\"Click or press \u2018S\u2019 to search, \u2018?\u2019 for more options\u2026\" {# -#}\n+                                    type=\"search\"> {#- -#}\n+                            </div> {#- -#}\n+                            <button type=\"button\" id=\"help-button\" title=\"help\">?</button> {#- -#}\n+                            <a id=\"settings-menu\" href=\"{{page.root_path | safe}}settings.html\" title=\"settings\"> {#- -#}\n+                                <img width=\"18\" height=\"18\" alt=\"Change settings\" {# -#}\n+                                     src=\"{{static_root_path | safe}}wheel{{page.resource_suffix}}.svg\"> {#- -#}\n+                            </a> {#- -#}\n+                        </div> {#- -#}\n+                    </form> {#- -#}\n+                </nav> {#- -#}\n+            </div> {#- -#}\n             <section id=\"main\" class=\"content\">{{- content | safe -}}</section> {#- -#}\n             <section id=\"search\" class=\"content hidden\"></section> {#- -#}\n         </div> {#- -#}"}]}