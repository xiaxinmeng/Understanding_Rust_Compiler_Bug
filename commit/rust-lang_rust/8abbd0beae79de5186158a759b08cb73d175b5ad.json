{"sha": "8abbd0beae79de5186158a759b08cb73d175b5ad", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhhYmJkMGJlYWU3OWRlNTE4NjE1OGE3NTliMDhjYjczZDE3NWI1YWQ=", "commit": {"author": {"name": "Jorge Aparicio", "email": "jorge.aparicio@ferrous-systems.com", "date": "2020-01-21T16:18:37Z"}, "committer": {"name": "Jorge Aparicio", "email": "jorge.aparicio@ferrous-systems.com", "date": "2020-01-21T16:18:37Z"}, "message": "for now, do not build rust-std for the armv7a-none-eabihf target\n\nit needs some upstream changes in the build script of the compiler-builtins\ncrate", "tree": {"sha": "0ce577841e22473acee6652338a7890231f78e7b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0ce577841e22473acee6652338a7890231f78e7b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8abbd0beae79de5186158a759b08cb73d175b5ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8abbd0beae79de5186158a759b08cb73d175b5ad", "html_url": "https://github.com/rust-lang/rust/commit/8abbd0beae79de5186158a759b08cb73d175b5ad", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8abbd0beae79de5186158a759b08cb73d175b5ad/comments", "author": {"login": "japaric", "id": 5018213, "node_id": "MDQ6VXNlcjUwMTgyMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/japaric", "html_url": "https://github.com/japaric", "followers_url": "https://api.github.com/users/japaric/followers", "following_url": "https://api.github.com/users/japaric/following{/other_user}", "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}", "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/japaric/subscriptions", "organizations_url": "https://api.github.com/users/japaric/orgs", "repos_url": "https://api.github.com/users/japaric/repos", "events_url": "https://api.github.com/users/japaric/events{/privacy}", "received_events_url": "https://api.github.com/users/japaric/received_events", "type": "User", "site_admin": false}, "committer": {"login": "japaric", "id": 5018213, "node_id": "MDQ6VXNlcjUwMTgyMTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5018213?v=4", "gravatar_id": "", "url": "https://api.github.com/users/japaric", "html_url": "https://github.com/japaric", "followers_url": "https://api.github.com/users/japaric/followers", "following_url": "https://api.github.com/users/japaric/following{/other_user}", "gists_url": "https://api.github.com/users/japaric/gists{/gist_id}", "starred_url": "https://api.github.com/users/japaric/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/japaric/subscriptions", "organizations_url": "https://api.github.com/users/japaric/orgs", "repos_url": "https://api.github.com/users/japaric/repos", "events_url": "https://api.github.com/users/japaric/events{/privacy}", "received_events_url": "https://api.github.com/users/japaric/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a3a077610028c773bffc7a74e6a15faa10d2360d", "url": "https://api.github.com/repos/rust-lang/rust/commits/a3a077610028c773bffc7a74e6a15faa10d2360d", "html_url": "https://github.com/rust-lang/rust/commit/a3a077610028c773bffc7a74e6a15faa10d2360d"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "2a68a25be21b3342642d51b6ee7f8494dfbedd6f", "filename": "src/ci/docker/dist-various-1/Dockerfile", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/8abbd0beae79de5186158a759b08cb73d175b5ad/src%2Fci%2Fdocker%2Fdist-various-1%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/8abbd0beae79de5186158a759b08cb73d175b5ad/src%2Fci%2Fdocker%2Fdist-various-1%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-various-1%2FDockerfile?ref=8abbd0beae79de5186158a759b08cb73d175b5ad", "patch": "@@ -161,7 +161,6 @@ ENV TARGETS=$TARGETS,armv7r-none-eabi\n ENV TARGETS=$TARGETS,armv7r-none-eabihf\n ENV TARGETS=$TARGETS,thumbv7neon-unknown-linux-gnueabihf\n ENV TARGETS=$TARGETS,armv7a-none-eabi\n-ENV TARGETS=$TARGETS,armv7a-none-eabihf\n \n # riscv targets currently do not need a C compiler, as compiler_builtins\n # doesn't currently have it enabled, and the riscv gcc compiler is not\n@@ -177,6 +176,8 @@ ENV CC_mipsel_unknown_linux_musl=mipsel-openwrt-linux-gcc \\\n     CXX_thumbv7neon_unknown_linux_gnueabihf=arm-linux-gnueabihf-g++ \\\n     CC_armv7a_none_eabi=arm-none-eabi-gcc \\\n     CC_armv7a_none_eabihf=arm-none-eabi-gcc \\\n+    CFLAGS_armv7a_none_eabi=-march=armv7-a \\\n+    CFLAGS_armv7a_none_eabihf=-march=armv7-a+vfpv3 \\\n     CC_riscv64gc_unknown_linux_gnu=riscv64-unknown-linux-gnu-gcc \\\n     AR_riscv64gc_unknown_linux_gnu=riscv64-unknown-linux-gnu-ar \\\n     CXX_riscv64gc_unknown_linux_gnu=riscv64-unknown-linux-gnu-g++ \\"}, {"sha": "c8d6580f7a1a58a8d23acd19fbbc4bb7c91e7e7d", "filename": "src/tools/build-manifest/src/main.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8abbd0beae79de5186158a759b08cb73d175b5ad/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8abbd0beae79de5186158a759b08cb73d175b5ad/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fbuild-manifest%2Fsrc%2Fmain.rs?ref=8abbd0beae79de5186158a759b08cb73d175b5ad", "patch": "@@ -70,7 +70,6 @@ static TARGETS: &[&str] = &[\n     \"armv7-unknown-linux-gnueabi\",\n     \"armv7-unknown-linux-gnueabihf\",\n     \"armv7a-none-eabi\",\n-    \"armv7a-none-eabihf\",\n     \"thumbv7neon-unknown-linux-gnueabihf\",\n     \"armv7-unknown-linux-musleabi\",\n     \"armv7-unknown-linux-musleabihf\","}]}