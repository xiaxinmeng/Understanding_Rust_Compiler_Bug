{"sha": "d61d7b59791703325d476942bafa5f2d218552f7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ2MWQ3YjU5NzkxNzAzMzI1ZDQ3Njk0MmJhZmE1ZjJkMjE4NTUyZjc=", "commit": {"author": {"name": "Paul Stansifer", "email": "paul.stansifer@gmail.com", "date": "2012-07-17T23:15:37Z"}, "committer": {"name": "Paul Stansifer", "email": "paul.stansifer@gmail.com", "date": "2012-07-17T23:17:05Z"}, "message": "Add a badge to the tutorial and reference docs indicating which Rust version they pertain to.", "tree": {"sha": "eca4a289f23d2b9e87984e6fd895263c7ecc4429", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/eca4a289f23d2b9e87984e6fd895263c7ecc4429"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d61d7b59791703325d476942bafa5f2d218552f7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d61d7b59791703325d476942bafa5f2d218552f7", "html_url": "https://github.com/rust-lang/rust/commit/d61d7b59791703325d476942bafa5f2d218552f7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d61d7b59791703325d476942bafa5f2d218552f7/comments", "author": {"login": "paulstansifer", "id": 1431, "node_id": "MDQ6VXNlcjE0MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulstansifer", "html_url": "https://github.com/paulstansifer", "followers_url": "https://api.github.com/users/paulstansifer/followers", "following_url": "https://api.github.com/users/paulstansifer/following{/other_user}", "gists_url": "https://api.github.com/users/paulstansifer/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulstansifer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulstansifer/subscriptions", "organizations_url": "https://api.github.com/users/paulstansifer/orgs", "repos_url": "https://api.github.com/users/paulstansifer/repos", "events_url": "https://api.github.com/users/paulstansifer/events{/privacy}", "received_events_url": "https://api.github.com/users/paulstansifer/received_events", "type": "User", "site_admin": false}, "committer": {"login": "paulstansifer", "id": 1431, "node_id": "MDQ6VXNlcjE0MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulstansifer", "html_url": "https://github.com/paulstansifer", "followers_url": "https://api.github.com/users/paulstansifer/followers", "following_url": "https://api.github.com/users/paulstansifer/following{/other_user}", "gists_url": "https://api.github.com/users/paulstansifer/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulstansifer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulstansifer/subscriptions", "organizations_url": "https://api.github.com/users/paulstansifer/orgs", "repos_url": "https://api.github.com/users/paulstansifer/repos", "events_url": "https://api.github.com/users/paulstansifer/events{/privacy}", "received_events_url": "https://api.github.com/users/paulstansifer/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f4ef0dc3d344bd704258ac4d395709f012b41bde", "url": "https://api.github.com/repos/rust-lang/rust/commits/f4ef0dc3d344bd704258ac4d395709f012b41bde", "html_url": "https://github.com/rust-lang/rust/commit/f4ef0dc3d344bd704258ac4d395709f012b41bde"}], "stats": {"total": 42, "additions": 40, "deletions": 2}, "files": [{"sha": "24aa25a1ca4220c4dfe8516fb542b5bff31a8da2", "filename": "Makefile.in", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d61d7b59791703325d476942bafa5f2d218552f7/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/d61d7b59791703325d476942bafa5f2d218552f7/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=d61d7b59791703325d476942bafa5f2d218552f7", "patch": "@@ -136,6 +136,8 @@ ifneq ($(wildcard $(CFG_GIT)),)\n ifneq ($(wildcard $(CFG_GIT_DIR)),)\n     CFG_VERSION += $(shell git --git-dir=$(CFG_GIT_DIR) log -1 \\\n                      --pretty=format:'(%h %ci)')\n+    CFG_VER_HASH = $(shell git --git-dir=$(CFG_GIT_DIR) log -1 \\\n+                     --pretty=format:'%H')\n endif\n endif\n "}, {"sha": "c884acfb697ae413237d8be68ff83103eaa7677e", "filename": "doc/rust.css", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/d61d7b59791703325d476942bafa5f2d218552f7/doc%2Frust.css", "raw_url": "https://github.com/rust-lang/rust/raw/d61d7b59791703325d476942bafa5f2d218552f7/doc%2Frust.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Frust.css?ref=d61d7b59791703325d476942bafa5f2d218552f7", "patch": "@@ -2,6 +2,8 @@ body {\n   padding: 1em;\n   margin: 0;\n   font-family: \"Helvetica Neue\", Helvetica, sans-serif;\n+  background-color: white;\n+  color: black;\n }\n \n body {\n@@ -58,6 +60,22 @@ h1.title {\n   background-position: right;\n }\n \n+#versioninfo {\n+  position: fixed;\n+  bottom: 0px;\n+  right: 0px;\n+\n+  background-color: white;\n+  border-left: solid 1px black;\n+  border-top: solid 1px black;\n+  padding: 0.5em;\n+}\n+\n+a.lessimportant {\n+  color: gray;\n+  font-size: 60%;\n+}\n+\n blockquote {\n     color: black;\n     border-left: solid 1px silver;"}, {"sha": "9376b29bcdf636e6731dbf8859e5aeb80f0b98d1", "filename": "doc/version_info_template.html", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/d61d7b59791703325d476942bafa5f2d218552f7/doc%2Fversion_info_template.html", "raw_url": "https://github.com/rust-lang/rust/raw/d61d7b59791703325d476942bafa5f2d218552f7/doc%2Fversion_info_template.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Fversion_info_template.html?ref=d61d7b59791703325d476942bafa5f2d218552f7", "patch": "@@ -0,0 +1,10 @@\n+<div id='versioninfo'>\n+  <center>\n+    <img src=\"http://www.rust-lang.org/logos/rust-logo-32x32-blk.png\"> <br>\n+    <a href=\"http://rust-lang.org\">Rust</a> VERSION <br>\n+    <a href=\"http://github.com/mozilla/rust/commit/STAMP\"\n+       class='lessimportant'>SHORT_HASH</a>\n+  </center>\n+\n+</div>\n+"}, {"sha": "742918f3d5b28e5d88b24ff1130f2e6f0a5f6232", "filename": "mk/docs.mk", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/d61d7b59791703325d476942bafa5f2d218552f7/mk%2Fdocs.mk", "raw_url": "https://github.com/rust-lang/rust/raw/d61d7b59791703325d476942bafa5f2d218552f7/mk%2Fdocs.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdocs.mk?ref=d61d7b59791703325d476942bafa5f2d218552f7", "patch": "@@ -21,7 +21,7 @@ doc/rust.css: rust.css\n \t$(Q)cp -a $< $@ 2> /dev/null\n \n DOCS += doc/rust.html\n-doc/rust.html: rust.md doc/version.md doc/rust.css\n+doc/rust.html: rust.md doc/version_info.html doc/rust.css\n \t@$(call E, pandoc: $@)\n \t$(Q)$(CFG_NODE) $(S)doc/prep.js --highlight $< | \\\n \t\"$(CFG_PANDOC)\" \\\n@@ -30,6 +30,7 @@ doc/rust.html: rust.md doc/version.md doc/rust.css\n          --number-sections \\\n          --from=markdown --to=html \\\n          --css=rust.css \\\n+\t --include-before-body=doc/version_info.html \\\n          --output=$@\n   endif\n \n@@ -72,12 +73,13 @@ doc/rust.pdf: doc/rust.tex\n   else\n \n DOCS += doc/tutorial.html\n-doc/tutorial.html: tutorial.md doc/rust.css\n+doc/tutorial.html: tutorial.md doc/version_info.html doc/rust.css\n \t@$(call E, pandoc: $@)\n \t$(Q)$(CFG_NODE) $(S)doc/prep.js --highlight $< | \\\n           $(CFG_PANDOC) --standalone --toc \\\n            --section-divs --number-sections \\\n            --from=markdown --to=html --css=rust.css \\\n+\t   --include-before-body=doc/version_info.html \\\n            --output=$@\n \n   endif\n@@ -145,6 +147,12 @@ doc/version.md: $(MKFILE_DEPS) rust.md\n \t@$(call E, version-stamp: $@)\n \t$(Q)echo \"$(CFG_VERSION)\" >$@\n \n+doc/version_info.html: version_info_template.html\n+\t@$(call E, version-info: $@)\n+\tsed -e \"s/VERSION/$(CFG_RELEASE)/; s/SHORT_HASH/$(shell echo \\\n+                    $(CFG_VER_HASH) | head --bytes=8)/;\\\n+\t            s/STAMP/$(CFG_VER_HASH)/;\" $< >$@\n+\n GENERATED += doc/version.md\n \n docs: $(DOCS)"}]}