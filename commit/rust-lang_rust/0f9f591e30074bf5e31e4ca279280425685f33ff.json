{"sha": "0f9f591e30074bf5e31e4ca279280425685f33ff", "node_id": "C_kwDOAAsO6NoAKDBmOWY1OTFlMzAwNzRiZjVlMzFlNGNhMjc5MjgwNDI1Njg1ZjMzZmY", "commit": {"author": {"name": "Nathaniel Hamovitz", "email": "18648574+nhamovitz@users.noreply.github.com", "date": "2021-10-19T21:33:43Z"}, "committer": {"name": "Nathaniel Hamovitz", "email": "18648574+nhamovitz@users.noreply.github.com", "date": "2021-10-19T21:33:43Z"}, "message": "Rename lint", "tree": {"sha": "d994f3503411ee3111892fd1e469d9cf1dc409eb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d994f3503411ee3111892fd1e469d9cf1dc409eb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0f9f591e30074bf5e31e4ca279280425685f33ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0f9f591e30074bf5e31e4ca279280425685f33ff", "html_url": "https://github.com/rust-lang/rust/commit/0f9f591e30074bf5e31e4ca279280425685f33ff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0f9f591e30074bf5e31e4ca279280425685f33ff/comments", "author": {"login": "nhamovitz", "id": 18648574, "node_id": "MDQ6VXNlcjE4NjQ4NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/18648574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nhamovitz", "html_url": "https://github.com/nhamovitz", "followers_url": "https://api.github.com/users/nhamovitz/followers", "following_url": "https://api.github.com/users/nhamovitz/following{/other_user}", "gists_url": "https://api.github.com/users/nhamovitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nhamovitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nhamovitz/subscriptions", "organizations_url": "https://api.github.com/users/nhamovitz/orgs", "repos_url": "https://api.github.com/users/nhamovitz/repos", "events_url": "https://api.github.com/users/nhamovitz/events{/privacy}", "received_events_url": "https://api.github.com/users/nhamovitz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nhamovitz", "id": 18648574, "node_id": "MDQ6VXNlcjE4NjQ4NTc0", "avatar_url": "https://avatars.githubusercontent.com/u/18648574?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nhamovitz", "html_url": "https://github.com/nhamovitz", "followers_url": "https://api.github.com/users/nhamovitz/followers", "following_url": "https://api.github.com/users/nhamovitz/following{/other_user}", "gists_url": "https://api.github.com/users/nhamovitz/gists{/gist_id}", "starred_url": "https://api.github.com/users/nhamovitz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nhamovitz/subscriptions", "organizations_url": "https://api.github.com/users/nhamovitz/orgs", "repos_url": "https://api.github.com/users/nhamovitz/repos", "events_url": "https://api.github.com/users/nhamovitz/events{/privacy}", "received_events_url": "https://api.github.com/users/nhamovitz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "60da4c9cb683a41eca4707ab7a533c5759b52485", "url": "https://api.github.com/repos/rust-lang/rust/commits/60da4c9cb683a41eca4707ab7a533c5759b52485", "html_url": "https://github.com/rust-lang/rust/commit/60da4c9cb683a41eca4707ab7a533c5759b52485"}], "stats": {"total": 44, "additions": 22, "deletions": 22}, "files": [{"sha": "49499324ea0fb1de7e34690ca698349e1c37c80e", "filename": "CHANGELOG.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f9f591e30074bf5e31e4ca279280425685f33ff/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/0f9f591e30074bf5e31e4ca279280425685f33ff/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=0f9f591e30074bf5e31e4ca279280425685f33ff", "patch": "@@ -3021,7 +3021,7 @@ Released 2018-09-13\n [`too_many_arguments`]: https://rust-lang.github.io/rust-clippy/master/index.html#too_many_arguments\n [`too_many_lines`]: https://rust-lang.github.io/rust-clippy/master/index.html#too_many_lines\n [`toplevel_ref_arg`]: https://rust-lang.github.io/rust-clippy/master/index.html#toplevel_ref_arg\n-[`trailing_zero_sized_array_without_repr`]: https://rust-lang.github.io/rust-clippy/master/index.html#trailing_zero_sized_array_without_repr\n+[`trailing_empty_array`]: https://rust-lang.github.io/rust-clippy/master/index.html#trailing_empty_array\n [`trait_duplication_in_bounds`]: https://rust-lang.github.io/rust-clippy/master/index.html#trait_duplication_in_bounds\n [`transmute_bytes_to_str`]: https://rust-lang.github.io/rust-clippy/master/index.html#transmute_bytes_to_str\n [`transmute_float_to_int`]: https://rust-lang.github.io/rust-clippy/master/index.html#transmute_float_to_int"}, {"sha": "37d8d7f422fdc6e968001ab29760eb0ee443d9d7", "filename": "clippy_lints/src/lib.register_lints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f9f591e30074bf5e31e4ca279280425685f33ff/clippy_lints%2Fsrc%2Flib.register_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f9f591e30074bf5e31e4ca279280425685f33ff/clippy_lints%2Fsrc%2Flib.register_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.register_lints.rs?ref=0f9f591e30074bf5e31e4ca279280425685f33ff", "patch": "@@ -443,7 +443,7 @@ store.register_lints(&[\n     temporary_assignment::TEMPORARY_ASSIGNMENT,\n     to_digit_is_some::TO_DIGIT_IS_SOME,\n     to_string_in_display::TO_STRING_IN_DISPLAY,\n-    trailing_zero_sized_array_without_repr::TRAILING_ZERO_SIZED_ARRAY_WITHOUT_REPR,\n+    trailing_empty_array::TRAILING_EMPTY_ARRAY,\n     trait_bounds::TRAIT_DUPLICATION_IN_BOUNDS,\n     trait_bounds::TYPE_REPETITION_IN_BOUNDS,\n     transmute::CROSSPOINTER_TRANSMUTE,"}, {"sha": "1e54482a8dafdc7b5f73d3798f5fd5a04864cc2b", "filename": "clippy_lints/src/lib.register_nursery.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f9f591e30074bf5e31e4ca279280425685f33ff/clippy_lints%2Fsrc%2Flib.register_nursery.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f9f591e30074bf5e31e4ca279280425685f33ff/clippy_lints%2Fsrc%2Flib.register_nursery.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.register_nursery.rs?ref=0f9f591e30074bf5e31e4ca279280425685f33ff", "patch": "@@ -25,7 +25,7 @@ store.register_group(true, \"clippy::nursery\", Some(\"clippy_nursery\"), vec![\n     LintId::of(regex::TRIVIAL_REGEX),\n     LintId::of(strings::STRING_LIT_AS_BYTES),\n     LintId::of(suspicious_operation_groupings::SUSPICIOUS_OPERATION_GROUPINGS),\n-    LintId::of(trailing_zero_sized_array_without_repr::TRAILING_ZERO_SIZED_ARRAY_WITHOUT_REPR),\n+    LintId::of(trailing_empty_array::TRAILING_EMPTY_ARRAY),\n     LintId::of(transmute::USELESS_TRANSMUTE),\n     LintId::of(use_self::USE_SELF),\n ])"}, {"sha": "58e4c061892d6797b663ef89819c232dc04e87c7", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f9f591e30074bf5e31e4ca279280425685f33ff/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f9f591e30074bf5e31e4ca279280425685f33ff/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=0f9f591e30074bf5e31e4ca279280425685f33ff", "patch": "@@ -355,7 +355,7 @@ mod tabs_in_doc_comments;\n mod temporary_assignment;\n mod to_digit_is_some;\n mod to_string_in_display;\n-mod trailing_zero_sized_array_without_repr;\n+mod trailing_empty_array;\n mod trait_bounds;\n mod transmute;\n mod transmuting_null;\n@@ -778,7 +778,7 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n     store.register_late_pass(move || Box::new(undocumented_unsafe_blocks::UndocumentedUnsafeBlocks::default()));\n     store.register_late_pass(|| Box::new(match_str_case_mismatch::MatchStrCaseMismatch));\n     store.register_late_pass(move || Box::new(format_args::FormatArgs));\n-    store.register_late_pass(|| Box::new(trailing_zero_sized_array_without_repr::TrailingZeroSizedArrayWithoutRepr));\n+    store.register_late_pass(|| Box::new(trailing_empty_array::TrailingEmptyArray));\n \n }\n "}, {"sha": "c216a1f81ea547630840e7403bd0f8ebe4820204", "filename": "clippy_lints/src/trailing_empty_array.rs", "status": "renamed", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/0f9f591e30074bf5e31e4ca279280425685f33ff/clippy_lints%2Fsrc%2Ftrailing_empty_array.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f9f591e30074bf5e31e4ca279280425685f33ff/clippy_lints%2Fsrc%2Ftrailing_empty_array.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftrailing_empty_array.rs?ref=0f9f591e30074bf5e31e4ca279280425685f33ff", "patch": "@@ -28,18 +28,18 @@ declare_clippy_lint! {\n     ///     last: [u32; 0],\n     /// }\n     /// ```\n-    pub TRAILING_ZERO_SIZED_ARRAY_WITHOUT_REPR,\n+    pub TRAILING_EMPTY_ARRAY,\n     nursery,\n     \"struct with a trailing zero-sized array but without `#[repr(C)]` or another `repr` attribute\"\n }\n-declare_lint_pass!(TrailingZeroSizedArrayWithoutRepr => [TRAILING_ZERO_SIZED_ARRAY_WITHOUT_REPR]);\n+declare_lint_pass!(TrailingEmptyArray => [TRAILING_EMPTY_ARRAY]);\n \n-impl<'tcx> LateLintPass<'tcx> for TrailingZeroSizedArrayWithoutRepr {\n+impl<'tcx> LateLintPass<'tcx> for TrailingEmptyArray {\n     fn check_item(&mut self, cx: &LateContext<'tcx>, item: &'tcx Item<'tcx>) {\n         if is_struct_with_trailing_zero_sized_array(cx, item) && !has_repr_attr(cx, item.hir_id()) {\n             span_lint_and_help(\n                 cx,\n-                TRAILING_ZERO_SIZED_ARRAY_WITHOUT_REPR,\n+                TRAILING_EMPTY_ARRAY,\n                 item.span,\n                 \"trailing zero-sized array in a struct which is not marked with a `repr` attribute\",\n                 None,", "previous_filename": "clippy_lints/src/trailing_zero_sized_array_without_repr.rs"}, {"sha": "501c9eb7651f8320b7e0d914de982b879ab382a3", "filename": "tests/ui/trailing_empty_array.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f9f591e30074bf5e31e4ca279280425685f33ff/tests%2Fui%2Ftrailing_empty_array.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f9f591e30074bf5e31e4ca279280425685f33ff/tests%2Fui%2Ftrailing_empty_array.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftrailing_empty_array.rs?ref=0f9f591e30074bf5e31e4ca279280425685f33ff", "patch": "@@ -1,4 +1,4 @@\n-#![warn(clippy::trailing_zero_sized_array_without_repr)]\n+#![warn(clippy::trailing_empty_array)]\n #![feature(const_generics_defaults)]\n \n // Do lint:", "previous_filename": "tests/ui/trailing_zero_sized_array_without_repr.rs"}, {"sha": "d88aa0504b537b39f2176d4346a261aa0be1e9f4", "filename": "tests/ui/trailing_empty_array.stderr", "status": "renamed", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/0f9f591e30074bf5e31e4ca279280425685f33ff/tests%2Fui%2Ftrailing_empty_array.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0f9f591e30074bf5e31e4ca279280425685f33ff/tests%2Fui%2Ftrailing_empty_array.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftrailing_empty_array.stderr?ref=0f9f591e30074bf5e31e4ca279280425685f33ff", "patch": "@@ -1,17 +1,17 @@\n error: trailing zero-sized array in a struct which is not marked with a `repr` attribute\n-  --> $DIR/trailing_zero_sized_array_without_repr.rs:6:1\n+  --> $DIR/trailing_empty_array.rs:6:1\n    |\n LL | / struct RarelyUseful {\n LL | |     field: i32,\n LL | |     last: [usize; 0],\n LL | | }\n    | |_^\n    |\n-   = note: `-D clippy::trailing-zero-sized-array-without-repr` implied by `-D warnings`\n+   = note: `-D clippy::trailing-empty-array` implied by `-D warnings`\n    = help: consider annotating `RarelyUseful` with `#[repr(C)]` or another `repr` attribute\n \n error: trailing zero-sized array in a struct which is not marked with a `repr` attribute\n-  --> $DIR/trailing_zero_sized_array_without_repr.rs:11:1\n+  --> $DIR/trailing_empty_array.rs:11:1\n    |\n LL | / struct OnlyField {\n LL | |     first_and_last: [usize; 0],\n@@ -21,7 +21,7 @@ LL | | }\n    = help: consider annotating `OnlyField` with `#[repr(C)]` or another `repr` attribute\n \n error: trailing zero-sized array in a struct which is not marked with a `repr` attribute\n-  --> $DIR/trailing_zero_sized_array_without_repr.rs:15:1\n+  --> $DIR/trailing_empty_array.rs:15:1\n    |\n LL | / struct GenericArrayType<T> {\n LL | |     field: i32,\n@@ -32,7 +32,7 @@ LL | | }\n    = help: consider annotating `GenericArrayType` with `#[repr(C)]` or another `repr` attribute\n \n error: trailing zero-sized array in a struct which is not marked with a `repr` attribute\n-  --> $DIR/trailing_zero_sized_array_without_repr.rs:21:1\n+  --> $DIR/trailing_empty_array.rs:21:1\n    |\n LL | / struct OnlyAnotherAttribute {\n LL | |     field: i32,\n@@ -43,7 +43,7 @@ LL | | }\n    = help: consider annotating `OnlyAnotherAttribute` with `#[repr(C)]` or another `repr` attribute\n \n error: trailing zero-sized array in a struct which is not marked with a `repr` attribute\n-  --> $DIR/trailing_zero_sized_array_without_repr.rs:29:1\n+  --> $DIR/trailing_empty_array.rs:27:1\n    |\n LL | / struct OnlyADeriveAttribute {\n LL | |     field: i32,\n@@ -54,7 +54,7 @@ LL | | }\n    = help: consider annotating `OnlyADeriveAttribute` with `#[repr(C)]` or another `repr` attribute\n \n error: trailing zero-sized array in a struct which is not marked with a `repr` attribute\n-  --> $DIR/trailing_zero_sized_array_without_repr.rs:35:1\n+  --> $DIR/trailing_empty_array.rs:33:1\n    |\n LL | / struct ZeroSizedWithConst {\n LL | |     field: i32,\n@@ -65,7 +65,7 @@ LL | | }\n    = help: consider annotating `ZeroSizedWithConst` with `#[repr(C)]` or another `repr` attribute\n \n error: trailing zero-sized array in a struct which is not marked with a `repr` attribute\n-  --> $DIR/trailing_zero_sized_array_without_repr.rs:44:1\n+  --> $DIR/trailing_empty_array.rs:42:1\n    |\n LL | / struct ZeroSizedWithConstFunction {\n LL | |     field: i32,\n@@ -76,7 +76,7 @@ LL | | }\n    = help: consider annotating `ZeroSizedWithConstFunction` with `#[repr(C)]` or another `repr` attribute\n \n error: trailing zero-sized array in a struct which is not marked with a `repr` attribute\n-  --> $DIR/trailing_zero_sized_array_without_repr.rs:52:1\n+  --> $DIR/trailing_empty_array.rs:50:1\n    |\n LL | / struct ZeroSizedWithConstFunction2 {\n LL | |     field: i32,\n@@ -87,23 +87,23 @@ LL | | }\n    = help: consider annotating `ZeroSizedWithConstFunction2` with `#[repr(C)]` or another `repr` attribute\n \n error: trailing zero-sized array in a struct which is not marked with a `repr` attribute\n-  --> $DIR/trailing_zero_sized_array_without_repr.rs:57:1\n+  --> $DIR/trailing_empty_array.rs:55:1\n    |\n LL | struct ZeroSizedArrayWrapper([usize; 0]);\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: consider annotating `ZeroSizedArrayWrapper` with `#[repr(C)]` or another `repr` attribute\n \n error: trailing zero-sized array in a struct which is not marked with a `repr` attribute\n-  --> $DIR/trailing_zero_sized_array_without_repr.rs:59:1\n+  --> $DIR/trailing_empty_array.rs:57:1\n    |\n LL | struct TupleStruct(i32, [usize; 0]);\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: consider annotating `TupleStruct` with `#[repr(C)]` or another `repr` attribute\n \n error: trailing zero-sized array in a struct which is not marked with a `repr` attribute\n-  --> $DIR/trailing_zero_sized_array_without_repr.rs:61:1\n+  --> $DIR/trailing_empty_array.rs:59:1\n    |\n LL | / struct LotsOfFields {\n LL | |     f1: u32,", "previous_filename": "tests/ui/trailing_zero_sized_array_without_repr.stderr"}]}