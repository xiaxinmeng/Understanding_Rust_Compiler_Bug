{"sha": "e3606b2b0298be6122d002257b50ba42f0b4d4d2", "node_id": "C_kwDOAAsO6NoAKGUzNjA2YjJiMDI5OGJlNjEyMmQwMDIyNTdiNTBiYTQyZjBiNGQ0ZDI", "commit": {"author": {"name": "Andreas Molzer", "email": "andreas.molzer@nebumind.com", "date": "2022-10-21T12:34:16Z"}, "committer": {"name": "Andreas Molzer", "email": "andreas.molzer@nebumind.com", "date": "2022-10-21T12:49:29Z"}, "message": "Reduce mutability in std-use of with_metadata_of", "tree": {"sha": "0cf9d29484e6b72f26334ecd46e643763ae700c0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0cf9d29484e6b72f26334ecd46e643763ae700c0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e3606b2b0298be6122d002257b50ba42f0b4d4d2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e3606b2b0298be6122d002257b50ba42f0b4d4d2", "html_url": "https://github.com/rust-lang/rust/commit/e3606b2b0298be6122d002257b50ba42f0b4d4d2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e3606b2b0298be6122d002257b50ba42f0b4d4d2/comments", "author": null, "committer": null, "parents": [{"sha": "71c39dea4d18373e4da35838332071562ea44d33", "url": "https://api.github.com/repos/rust-lang/rust/commits/71c39dea4d18373e4da35838332071562ea44d33", "html_url": "https://github.com/rust-lang/rust/commit/71c39dea4d18373e4da35838332071562ea44d33"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "9c229665c7e91b4169e2976342df87e7b2356b90", "filename": "library/alloc/src/rc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e3606b2b0298be6122d002257b50ba42f0b4d4d2/library%2Falloc%2Fsrc%2Frc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3606b2b0298be6122d002257b50ba42f0b4d4d2/library%2Falloc%2Fsrc%2Frc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Frc.rs?ref=e3606b2b0298be6122d002257b50ba42f0b4d4d2", "patch": "@@ -1386,7 +1386,7 @@ impl<T: ?Sized> Rc<T> {\n             Self::allocate_for_layout(\n                 Layout::for_value(&*ptr),\n                 |layout| Global.allocate(layout),\n-                |mem| mem.with_metadata_of(ptr as *mut RcBox<T>),\n+                |mem| mem.with_metadata_of(ptr as *const RcBox<T>),\n             )\n         }\n     }"}, {"sha": "e8d9de4fb3ce505750a281a734ecd20a1505cea0", "filename": "library/alloc/src/sync.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e3606b2b0298be6122d002257b50ba42f0b4d4d2/library%2Falloc%2Fsrc%2Fsync.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e3606b2b0298be6122d002257b50ba42f0b4d4d2/library%2Falloc%2Fsrc%2Fsync.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fsync.rs?ref=e3606b2b0298be6122d002257b50ba42f0b4d4d2", "patch": "@@ -1204,7 +1204,7 @@ impl<T: ?Sized> Arc<T> {\n             Self::allocate_for_layout(\n                 Layout::for_value(&*ptr),\n                 |layout| Global.allocate(layout),\n-                |mem| mem.with_metadata_of(ptr as *mut ArcInner<T>),\n+                |mem| mem.with_metadata_of(ptr as *const ArcInner<T>),\n             )\n         }\n     }"}]}