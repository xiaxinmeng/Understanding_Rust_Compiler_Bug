{"sha": "aabdeedc7c812388b30575a5f53292128f4f7464", "node_id": "C_kwDOAAsO6NoAKGFhYmRlZWRjN2M4MTIzODhiMzA1NzVhNWY1MzI5MjEyOGY0Zjc0NjQ", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2023-05-31T01:39:20Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2023-06-06T18:43:20Z"}, "message": "bless coherence test", "tree": {"sha": "555fa20756158000b645d964a36ee33bcedecc73", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/555fa20756158000b645d964a36ee33bcedecc73"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aabdeedc7c812388b30575a5f53292128f4f7464", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aabdeedc7c812388b30575a5f53292128f4f7464", "html_url": "https://github.com/rust-lang/rust/commit/aabdeedc7c812388b30575a5f53292128f4f7464", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aabdeedc7c812388b30575a5f53292128f4f7464/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3d4da98273553b2307d8ce3a03c476e459aa3f45", "url": "https://api.github.com/repos/rust-lang/rust/commits/3d4da98273553b2307d8ce3a03c476e459aa3f45", "html_url": "https://github.com/rust-lang/rust/commit/3d4da98273553b2307d8ce3a03c476e459aa3f45"}], "stats": {"total": 33, "additions": 31, "deletions": 2}, "files": [{"sha": "578db0cc65e8928b8d46e4b2b4f78f99f138972c", "filename": "tests/ui/specialization/specialization-default-items-drop-coherence.coherence.stderr", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/aabdeedc7c812388b30575a5f53292128f4f7464/tests%2Fui%2Fspecialization%2Fspecialization-default-items-drop-coherence.coherence.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aabdeedc7c812388b30575a5f53292128f4f7464/tests%2Fui%2Fspecialization%2Fspecialization-default-items-drop-coherence.coherence.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fspecialization%2Fspecialization-default-items-drop-coherence.coherence.stderr?ref=aabdeedc7c812388b30575a5f53292128f4f7464", "patch": "@@ -0,0 +1,12 @@\n+error[E0119]: conflicting implementations of trait `Overlap` for type `u32`\n+  --> $DIR/specialization-default-items-drop-coherence.rs:29:1\n+   |\n+LL | impl Overlap for u32 {\n+   | -------------------- first implementation here\n+...\n+LL | impl Overlap for <u32 as Default>::Id {\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ conflicting implementation for `u32`\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0119`."}, {"sha": "578db0cc65e8928b8d46e4b2b4f78f99f138972c", "filename": "tests/ui/specialization/specialization-default-items-drop-coherence.next.stderr", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/aabdeedc7c812388b30575a5f53292128f4f7464/tests%2Fui%2Fspecialization%2Fspecialization-default-items-drop-coherence.next.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aabdeedc7c812388b30575a5f53292128f4f7464/tests%2Fui%2Fspecialization%2Fspecialization-default-items-drop-coherence.next.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fspecialization%2Fspecialization-default-items-drop-coherence.next.stderr?ref=aabdeedc7c812388b30575a5f53292128f4f7464", "patch": "@@ -0,0 +1,12 @@\n+error[E0119]: conflicting implementations of trait `Overlap` for type `u32`\n+  --> $DIR/specialization-default-items-drop-coherence.rs:29:1\n+   |\n+LL | impl Overlap for u32 {\n+   | -------------------- first implementation here\n+...\n+LL | impl Overlap for <u32 as Default>::Id {\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ conflicting implementation for `u32`\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0119`."}, {"sha": "44c598f19cb9bc3c27f4d5b159252c69caef7a5b", "filename": "tests/ui/specialization/specialization-default-items-drop-coherence.rs", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/aabdeedc7c812388b30575a5f53292128f4f7464/tests%2Fui%2Fspecialization%2Fspecialization-default-items-drop-coherence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aabdeedc7c812388b30575a5f53292128f4f7464/tests%2Fui%2Fspecialization%2Fspecialization-default-items-drop-coherence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fspecialization%2Fspecialization-default-items-drop-coherence.rs?ref=aabdeedc7c812388b30575a5f53292128f4f7464", "patch": "@@ -1,5 +1,8 @@\n-// check-pass\n-// known-bug: #105782\n+// revisions: classic coherence next\n+//[next] compile-flags: -Ztrait-solver=next\n+//[coherence] compile-flags: -Ztrait-solver=next-coherence\n+//[classic] check-pass\n+//[classic] known-bug: #105782\n \n // Should fail. Default items completely drop candidates instead of ambiguity,\n // which is unsound during coherence, since coherence requires completeness.\n@@ -24,6 +27,8 @@ impl Overlap for u32 {\n }\n \n impl Overlap for <u32 as Default>::Id {\n+   //[coherence]~^ ERROR conflicting implementations of trait `Overlap` for type `u32`\n+   //[next]~^^ ERROR conflicting implementations of trait `Overlap` for type `u32`\n    type Assoc = Box<usize>;\n }\n "}]}