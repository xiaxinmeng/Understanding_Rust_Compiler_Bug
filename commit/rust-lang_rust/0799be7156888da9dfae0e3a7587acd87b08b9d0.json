{"sha": "0799be7156888da9dfae0e3a7587acd87b08b9d0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA3OTliZTcxNTY4ODhkYTlkZmFlMGUzYTc1ODdhY2Q4N2IwOGI5ZDA=", "commit": {"author": {"name": "Philipp Krones", "email": "hello@philkrones.com", "date": "2020-06-23T12:39:45Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-06-23T12:39:45Z"}, "message": "Rollup merge of #5712 - ijijn:master, r=flip1995\n\nRemove `bar` from blacklisted names\n\nchangelog: Remove `bar` from blacklisted names\nfixes #5225", "tree": {"sha": "9a99265e151bc7b3459f3b695e9e2842f87cd513", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9a99265e151bc7b3459f3b695e9e2842f87cd513"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0799be7156888da9dfae0e3a7587acd87b08b9d0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJe8fgRCRBK7hj4Ov3rIwAAdHIIAFmH7TY6/Bh0emBKefy+7UFQ\nq6XyJEw03zu3R5YWuiUnq3dm+wZi1CcBVgyGdauFNpqRrbLSiJp6jDe8EMUi8Kwx\nbvrmjKTd9ClRw+TKdxgzhMbpkHvjAgGmzU3FNLSTGJj0EkrvsG97UMDgM/lIcsLE\ncaLEp5HGyU3KJit187/uaN/1zt+Q09whb47BZgAR5Bm7vySuLLg1co5y/8c+WuEg\nu90IFeYmTlDqGD/O4SAaaheZQvuz56e+c0k81Fx011DaOqHpoP80cOLTOiBdFfMI\nQ0s2blaFgkcLXfpCkQ2Yiu/tN59ydLTRhixjgu25bKgs8MZKPZfbDdF/ZB5eelI=\n=iqo2\n-----END PGP SIGNATURE-----\n", "payload": "tree 9a99265e151bc7b3459f3b695e9e2842f87cd513\nparent 24b77ea72fa50184afde9b628e8c0b1585ef8730\nparent 454ed47acf462c847956464ac3811546b733bd5b\nauthor Philipp Krones <hello@philkrones.com> 1592915985 +0200\ncommitter GitHub <noreply@github.com> 1592915985 +0200\n\nRollup merge of #5712 - ijijn:master, r=flip1995\n\nRemove `bar` from blacklisted names\n\nchangelog: Remove `bar` from blacklisted names\nfixes #5225\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0799be7156888da9dfae0e3a7587acd87b08b9d0", "html_url": "https://github.com/rust-lang/rust/commit/0799be7156888da9dfae0e3a7587acd87b08b9d0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0799be7156888da9dfae0e3a7587acd87b08b9d0/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "24b77ea72fa50184afde9b628e8c0b1585ef8730", "url": "https://api.github.com/repos/rust-lang/rust/commits/24b77ea72fa50184afde9b628e8c0b1585ef8730", "html_url": "https://github.com/rust-lang/rust/commit/24b77ea72fa50184afde9b628e8c0b1585ef8730"}, {"sha": "454ed47acf462c847956464ac3811546b733bd5b", "url": "https://api.github.com/repos/rust-lang/rust/commits/454ed47acf462c847956464ac3811546b733bd5b", "html_url": "https://github.com/rust-lang/rust/commit/454ed47acf462c847956464ac3811546b733bd5b"}], "stats": {"total": 101, "additions": 53, "deletions": 48}, "files": [{"sha": "c41befbf147b8c2e1567b86f50262ec0c9359009", "filename": "clippy_lints/src/utils/conf.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0799be7156888da9dfae0e3a7587acd87b08b9d0/clippy_lints%2Fsrc%2Futils%2Fconf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0799be7156888da9dfae0e3a7587acd87b08b9d0/clippy_lints%2Fsrc%2Futils%2Fconf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fconf.rs?ref=0799be7156888da9dfae0e3a7587acd87b08b9d0", "patch": "@@ -106,8 +106,8 @@ macro_rules! define_Conf {\n \n pub use self::helpers::Conf;\n define_Conf! {\n-    /// Lint: BLACKLISTED_NAME. The list of blacklisted names to lint about\n-    (blacklisted_names, \"blacklisted_names\": Vec<String>, [\"foo\", \"bar\", \"baz\", \"quux\"].iter().map(ToString::to_string).collect()),\n+    /// Lint: BLACKLISTED_NAME. The list of blacklisted names to lint about. NB: `bar` is not here since it has legitimate uses\n+    (blacklisted_names, \"blacklisted_names\": Vec<String>, [\"foo\", \"baz\", \"quux\"].iter().map(ToString::to_string).collect()),\n     /// Lint: COGNITIVE_COMPLEXITY. The maximum cognitive complexity a function can have\n     (cognitive_complexity_threshold, \"cognitive_complexity_threshold\": u64, 25),\n     /// DEPRECATED LINT: CYCLOMATIC_COMPLEXITY. Use the Cognitive Complexity lint instead."}, {"sha": "cb15bdd2f1b2d4cca8383b2967a535ee3d3ae20f", "filename": "tests/ui/blacklisted_name.rs", "status": "modified", "additions": 15, "deletions": 10, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/0799be7156888da9dfae0e3a7587acd87b08b9d0/tests%2Fui%2Fblacklisted_name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0799be7156888da9dfae0e3a7587acd87b08b9d0/tests%2Fui%2Fblacklisted_name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fblacklisted_name.rs?ref=0799be7156888da9dfae0e3a7587acd87b08b9d0", "patch": "@@ -12,29 +12,34 @@ fn test(foo: ()) {}\n \n fn main() {\n     let foo = 42;\n-    let bar = 42;\n     let baz = 42;\n+    let quux = 42;\n+    // Unlike these others, `bar` is actually considered an acceptable name.\n+    // Among many other legitimate uses, bar commonly refers to a period of time in music.\n+    // See https://github.com/rust-lang/rust-clippy/issues/5225.\n+    let bar = 42;\n \n-    let barb = 42;\n-    let barbaric = 42;\n+    let food = 42;\n+    let foodstuffs = 42;\n+    let bazaar = 42;\n \n     match (42, Some(1337), Some(0)) {\n-        (foo, Some(bar), baz @ Some(_)) => (),\n+        (foo, Some(baz), quux @ Some(_)) => (),\n         _ => (),\n     }\n }\n \n fn issue_1647(mut foo: u8) {\n-    let mut bar = 0;\n-    if let Some(mut baz) = Some(42) {}\n+    let mut baz = 0;\n+    if let Some(mut quux) = Some(42) {}\n }\n \n fn issue_1647_ref() {\n-    let ref bar = 0;\n-    if let Some(ref baz) = Some(42) {}\n+    let ref baz = 0;\n+    if let Some(ref quux) = Some(42) {}\n }\n \n fn issue_1647_ref_mut() {\n-    let ref mut bar = 0;\n-    if let Some(ref mut baz) = Some(42) {}\n+    let ref mut baz = 0;\n+    if let Some(ref mut quux) = Some(42) {}\n }"}, {"sha": "70dbdaece8b6bb37083a79cb0d0bafc9b6c00a86", "filename": "tests/ui/blacklisted_name.stderr", "status": "modified", "additions": 36, "deletions": 36, "changes": 72, "blob_url": "https://github.com/rust-lang/rust/blob/0799be7156888da9dfae0e3a7587acd87b08b9d0/tests%2Fui%2Fblacklisted_name.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/0799be7156888da9dfae0e3a7587acd87b08b9d0/tests%2Fui%2Fblacklisted_name.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fblacklisted_name.stderr?ref=0799be7156888da9dfae0e3a7587acd87b08b9d0", "patch": "@@ -12,77 +12,77 @@ error: use of a blacklisted/placeholder name `foo`\n LL |     let foo = 42;\n    |         ^^^\n \n-error: use of a blacklisted/placeholder name `bar`\n+error: use of a blacklisted/placeholder name `baz`\n   --> $DIR/blacklisted_name.rs:15:9\n    |\n-LL |     let bar = 42;\n+LL |     let baz = 42;\n    |         ^^^\n \n-error: use of a blacklisted/placeholder name `baz`\n+error: use of a blacklisted/placeholder name `quux`\n   --> $DIR/blacklisted_name.rs:16:9\n    |\n-LL |     let baz = 42;\n-   |         ^^^\n+LL |     let quux = 42;\n+   |         ^^^^\n \n error: use of a blacklisted/placeholder name `foo`\n-  --> $DIR/blacklisted_name.rs:22:10\n+  --> $DIR/blacklisted_name.rs:27:10\n    |\n-LL |         (foo, Some(bar), baz @ Some(_)) => (),\n+LL |         (foo, Some(baz), quux @ Some(_)) => (),\n    |          ^^^\n \n-error: use of a blacklisted/placeholder name `bar`\n-  --> $DIR/blacklisted_name.rs:22:20\n+error: use of a blacklisted/placeholder name `baz`\n+  --> $DIR/blacklisted_name.rs:27:20\n    |\n-LL |         (foo, Some(bar), baz @ Some(_)) => (),\n+LL |         (foo, Some(baz), quux @ Some(_)) => (),\n    |                    ^^^\n \n-error: use of a blacklisted/placeholder name `baz`\n-  --> $DIR/blacklisted_name.rs:22:26\n+error: use of a blacklisted/placeholder name `quux`\n+  --> $DIR/blacklisted_name.rs:27:26\n    |\n-LL |         (foo, Some(bar), baz @ Some(_)) => (),\n-   |                          ^^^\n+LL |         (foo, Some(baz), quux @ Some(_)) => (),\n+   |                          ^^^^\n \n error: use of a blacklisted/placeholder name `foo`\n-  --> $DIR/blacklisted_name.rs:27:19\n+  --> $DIR/blacklisted_name.rs:32:19\n    |\n LL | fn issue_1647(mut foo: u8) {\n    |                   ^^^\n \n-error: use of a blacklisted/placeholder name `bar`\n-  --> $DIR/blacklisted_name.rs:28:13\n+error: use of a blacklisted/placeholder name `baz`\n+  --> $DIR/blacklisted_name.rs:33:13\n    |\n-LL |     let mut bar = 0;\n+LL |     let mut baz = 0;\n    |             ^^^\n \n-error: use of a blacklisted/placeholder name `baz`\n-  --> $DIR/blacklisted_name.rs:29:21\n+error: use of a blacklisted/placeholder name `quux`\n+  --> $DIR/blacklisted_name.rs:34:21\n    |\n-LL |     if let Some(mut baz) = Some(42) {}\n-   |                     ^^^\n+LL |     if let Some(mut quux) = Some(42) {}\n+   |                     ^^^^\n \n-error: use of a blacklisted/placeholder name `bar`\n-  --> $DIR/blacklisted_name.rs:33:13\n+error: use of a blacklisted/placeholder name `baz`\n+  --> $DIR/blacklisted_name.rs:38:13\n    |\n-LL |     let ref bar = 0;\n+LL |     let ref baz = 0;\n    |             ^^^\n \n-error: use of a blacklisted/placeholder name `baz`\n-  --> $DIR/blacklisted_name.rs:34:21\n+error: use of a blacklisted/placeholder name `quux`\n+  --> $DIR/blacklisted_name.rs:39:21\n    |\n-LL |     if let Some(ref baz) = Some(42) {}\n-   |                     ^^^\n+LL |     if let Some(ref quux) = Some(42) {}\n+   |                     ^^^^\n \n-error: use of a blacklisted/placeholder name `bar`\n-  --> $DIR/blacklisted_name.rs:38:17\n+error: use of a blacklisted/placeholder name `baz`\n+  --> $DIR/blacklisted_name.rs:43:17\n    |\n-LL |     let ref mut bar = 0;\n+LL |     let ref mut baz = 0;\n    |                 ^^^\n \n-error: use of a blacklisted/placeholder name `baz`\n-  --> $DIR/blacklisted_name.rs:39:25\n+error: use of a blacklisted/placeholder name `quux`\n+  --> $DIR/blacklisted_name.rs:44:25\n    |\n-LL |     if let Some(ref mut baz) = Some(42) {}\n-   |                         ^^^\n+LL |     if let Some(ref mut quux) = Some(42) {}\n+   |                         ^^^^\n \n error: aborting due to 14 previous errors\n "}]}