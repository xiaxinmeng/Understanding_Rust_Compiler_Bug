{"sha": "43e1ea29c4e92dfa2ba716fc878984605897fb13", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQzZTFlYTI5YzRlOTJkZmEyYmE3MTZmYzg3ODk4NDYwNTg5N2ZiMTM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-02-07T08:09:58Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-02-07T08:09:58Z"}, "message": "Auto merge of #81498 - thomaseizinger:ice-workaround-56935-rustc-index, r=matthewjasper\n\nApply workaround from #72003 for #56935 to allow for cross-compilation of `rustc_index` crate\n\nThis patch applies the same workaround as #72003 to the `rustc_index` crate. This allows recent versions of rustfmt to compile to wasm again.\n\nRelated: #72017.", "tree": {"sha": "8346308b6b382b4c1ba576c23c96547cb5a5baf3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8346308b6b382b4c1ba576c23c96547cb5a5baf3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/43e1ea29c4e92dfa2ba716fc878984605897fb13", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/43e1ea29c4e92dfa2ba716fc878984605897fb13", "html_url": "https://github.com/rust-lang/rust/commit/43e1ea29c4e92dfa2ba716fc878984605897fb13", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/43e1ea29c4e92dfa2ba716fc878984605897fb13/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "323fb7113bc64886205047c97423882a7f8162f2", "url": "https://api.github.com/repos/rust-lang/rust/commits/323fb7113bc64886205047c97423882a7f8162f2", "html_url": "https://github.com/rust-lang/rust/commit/323fb7113bc64886205047c97423882a7f8162f2"}, {"sha": "ff00ef4d6656af5708958dee3ca9ed1918648b6d", "url": "https://api.github.com/repos/rust-lang/rust/commits/ff00ef4d6656af5708958dee3ca9ed1918648b6d", "html_url": "https://github.com/rust-lang/rust/commit/ff00ef4d6656af5708958dee3ca9ed1918648b6d"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "995034e81da289ed07796017ef783a35861981d2", "filename": "compiler/rustc_index/src/lib.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/43e1ea29c4e92dfa2ba716fc878984605897fb13/compiler%2Frustc_index%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/43e1ea29c4e92dfa2ba716fc878984605897fb13/compiler%2Frustc_index%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_index%2Fsrc%2Flib.rs?ref=43e1ea29c4e92dfa2ba716fc878984605897fb13", "patch": "@@ -8,3 +8,7 @@\n \n pub mod bit_set;\n pub mod vec;\n+\n+// FIXME(#56935): Work around ICEs during cross-compilation.\n+#[allow(unused)]\n+extern crate rustc_macros;"}]}