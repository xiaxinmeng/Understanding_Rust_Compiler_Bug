{"sha": "74470a04634d868335c5d26feb35bc9ee69029a2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc0NDcwYTA0NjM0ZDg2ODMzNWM1ZDI2ZmViMzViYzllZTY5MDI5YTI=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-08-10T09:21:32Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-08-10T09:21:32Z"}, "message": "Merge #9832\n\n9832: vscode extension: use esbuild instead of rollup. r=matklad a=yaymukund\n\nThis shaves a couple seconds off our build & trims npm dependencies. I tested it using VSCode's \"Install [Extension] from VSIX\" option and it seems to work. Note that it changes the root of the package from `out/src/main \u2192 out/main`.\r\n\r\nFell out of the discussion in #9179 \n\nCo-authored-by: Mukund Lakshman <yaymukund@gmail.com>", "tree": {"sha": "481bc6ea598baff4d2413ae72f2dadcd77f4e1df", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/481bc6ea598baff4d2413ae72f2dadcd77f4e1df"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/74470a04634d868335c5d26feb35bc9ee69029a2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhEkUcCRBK7hj4Ov3rIwAAB/AIAHYcfewCGNDTqRToIHfqXVPT\nhDZiZUZJJh8Qm7wUN37/Tgk2fLRoqjfirKP15tUpVrSSwSDwuRixR7W2pWeAYyZk\n02y/wY/lkdcpX9mWddDwLfn4llHpiqgVNDttfTzzNU8+6SucVLcxFNVTX+QP5M+A\n2BiOX3Tu5nzhIf/q4enCi3vdtM6JaBc+DdKHd4gq3CspIeanx1RYT4yb7TivojeH\nwttlMycCg+nV0Lv4GIyMbO0NY8wV5tIr205L7mRszCQ+934qtzF+PFGYN00g8IVo\nmPnw2C/lb0aAASQmiEAsbAx0VSRzeVnkYF/T1ucICWVKguC2h/fKuMxJysTF2K8=\n=LNXu\n-----END PGP SIGNATURE-----\n", "payload": "tree 481bc6ea598baff4d2413ae72f2dadcd77f4e1df\nparent 0d2b423f4056b64737b2e969e13887e8e97d7619\nparent 463860439f2c02187793c2d43b649c184a270a9f\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1628587292 +0000\ncommitter GitHub <noreply@github.com> 1628587292 +0000\n\nMerge #9832\n\n9832: vscode extension: use esbuild instead of rollup. r=matklad a=yaymukund\n\nThis shaves a couple seconds off our build & trims npm dependencies. I tested it using VSCode's \"Install [Extension] from VSIX\" option and it seems to work. Note that it changes the root of the package from `out/src/main \u2192 out/main`.\r\n\r\nFell out of the discussion in #9179 \n\nCo-authored-by: Mukund Lakshman <yaymukund@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/74470a04634d868335c5d26feb35bc9ee69029a2", "html_url": "https://github.com/rust-lang/rust/commit/74470a04634d868335c5d26feb35bc9ee69029a2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/74470a04634d868335c5d26feb35bc9ee69029a2/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0d2b423f4056b64737b2e969e13887e8e97d7619", "url": "https://api.github.com/repos/rust-lang/rust/commits/0d2b423f4056b64737b2e969e13887e8e97d7619", "html_url": "https://github.com/rust-lang/rust/commit/0d2b423f4056b64737b2e969e13887e8e97d7619"}, {"sha": "463860439f2c02187793c2d43b649c184a270a9f", "url": "https://api.github.com/repos/rust-lang/rust/commits/463860439f2c02187793c2d43b649c184a270a9f", "html_url": "https://github.com/rust-lang/rust/commit/463860439f2c02187793c2d43b649c184a270a9f"}], "stats": {"total": 397, "additions": 24, "deletions": 373}, "files": [{"sha": "3a1e8e186f5dc0d1d5e6a0b604ebfe72c5a699a4", "filename": "editors/code/.eslintignore", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/74470a04634d868335c5d26feb35bc9ee69029a2/editors%2Fcode%2F.eslintignore", "raw_url": "https://github.com/rust-lang/rust/raw/74470a04634d868335c5d26feb35bc9ee69029a2/editors%2Fcode%2F.eslintignore", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2F.eslintignore?ref=74470a04634d868335c5d26feb35bc9ee69029a2", "patch": "@@ -1,3 +1,2 @@\n node_modules\n .eslintrc.js\n-rollup.config.js\n\\ No newline at end of file"}, {"sha": "3aabc45a38981bac09f024d3186d54394c07097e", "filename": "editors/code/package-lock.json", "status": "modified", "additions": 17, "deletions": 342, "changes": 359, "blob_url": "https://github.com/rust-lang/rust/blob/74470a04634d868335c5d26feb35bc9ee69029a2/editors%2Fcode%2Fpackage-lock.json", "raw_url": "https://github.com/rust-lang/rust/raw/74470a04634d868335c5d26feb35bc9ee69029a2/editors%2Fcode%2Fpackage-lock.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage-lock.json?ref=74470a04634d868335c5d26feb35bc9ee69029a2", "patch": "@@ -14,19 +14,17 @@\n                 \"vscode-languageclient\": \"^7.1.0-next.5\"\n             },\n             \"devDependencies\": {\n-                \"@rollup/plugin-commonjs\": \"^17.0.0\",\n-                \"@rollup/plugin-node-resolve\": \"^13.0.0\",\n                 \"@types/glob\": \"^7.1.4\",\n                 \"@types/mocha\": \"^8.2.3\",\n                 \"@types/node\": \"~14.17.5\",\n                 \"@types/node-fetch\": \"^2.5.11\",\n                 \"@types/vscode\": \"^1.57.0\",\n                 \"@typescript-eslint/eslint-plugin\": \"^4.28.2\",\n                 \"@typescript-eslint/parser\": \"^4.28.2\",\n+                \"esbuild\": \"^0.12.19\",\n                 \"eslint\": \"^7.30.0\",\n                 \"glob\": \"^7.1.6\",\n                 \"mocha\": \"^9.0.2\",\n-                \"rollup\": \"^2.51.1\",\n                 \"tslib\": \"^2.3.0\",\n                 \"typescript\": \"^4.3.5\",\n                 \"typescript-formatter\": \"^7.2.2\",\n@@ -209,70 +207,6 @@\n                 \"node\": \">= 8\"\n             }\n         },\n-        \"node_modules/@rollup/plugin-commonjs\": {\n-            \"version\": \"17.1.0\",\n-            \"resolved\": \"https://registry.npmjs.org/@rollup/plugin-commonjs/-/plugin-commonjs-17.1.0.tgz\",\n-            \"integrity\": \"sha512-PoMdXCw0ZyvjpCMT5aV4nkL0QywxP29sODQsSGeDpr/oI49Qq9tRtAsb/LbYbDzFlOydVEqHmmZWFtXJEAX9ew==\",\n-            \"dev\": true,\n-            \"dependencies\": {\n-                \"@rollup/pluginutils\": \"^3.1.0\",\n-                \"commondir\": \"^1.0.1\",\n-                \"estree-walker\": \"^2.0.1\",\n-                \"glob\": \"^7.1.6\",\n-                \"is-reference\": \"^1.2.1\",\n-                \"magic-string\": \"^0.25.7\",\n-                \"resolve\": \"^1.17.0\"\n-            },\n-            \"engines\": {\n-                \"node\": \">= 8.0.0\"\n-            },\n-            \"peerDependencies\": {\n-                \"rollup\": \"^2.30.0\"\n-            }\n-        },\n-        \"node_modules/@rollup/plugin-node-resolve\": {\n-            \"version\": \"13.0.0\",\n-            \"resolved\": \"https://registry.npmjs.org/@rollup/plugin-node-resolve/-/plugin-node-resolve-13.0.0.tgz\",\n-            \"integrity\": \"sha512-41X411HJ3oikIDivT5OKe9EZ6ud6DXudtfNrGbC4nniaxx2esiWjkLOzgnZsWq1IM8YIeL2rzRGLZLBjlhnZtQ==\",\n-            \"dev\": true,\n-            \"dependencies\": {\n-                \"@rollup/pluginutils\": \"^3.1.0\",\n-                \"@types/resolve\": \"1.17.1\",\n-                \"builtin-modules\": \"^3.1.0\",\n-                \"deepmerge\": \"^4.2.2\",\n-                \"is-module\": \"^1.0.0\",\n-                \"resolve\": \"^1.19.0\"\n-            },\n-            \"engines\": {\n-                \"node\": \">= 10.0.0\"\n-            },\n-            \"peerDependencies\": {\n-                \"rollup\": \"^2.42.0\"\n-            }\n-        },\n-        \"node_modules/@rollup/pluginutils\": {\n-            \"version\": \"3.1.0\",\n-            \"resolved\": \"https://registry.npmjs.org/@rollup/pluginutils/-/pluginutils-3.1.0.tgz\",\n-            \"integrity\": \"sha512-GksZ6pr6TpIjHm8h9lSQ8pi8BE9VeubNT0OMJ3B5uZJ8pz73NPiqOtCog/x2/QzM1ENChPKxMDhiQuRHsqc+lg==\",\n-            \"dev\": true,\n-            \"dependencies\": {\n-                \"@types/estree\": \"0.0.39\",\n-                \"estree-walker\": \"^1.0.1\",\n-                \"picomatch\": \"^2.2.2\"\n-            },\n-            \"engines\": {\n-                \"node\": \">= 8.0.0\"\n-            },\n-            \"peerDependencies\": {\n-                \"rollup\": \"^1.20.0||^2.0.0\"\n-            }\n-        },\n-        \"node_modules/@rollup/pluginutils/node_modules/estree-walker\": {\n-            \"version\": \"1.0.1\",\n-            \"resolved\": \"https://registry.npmjs.org/estree-walker/-/estree-walker-1.0.1.tgz\",\n-            \"integrity\": \"sha512-1fMXF3YP4pZZVozF8j/ZLfvnR8NSIljt56UhbZ5PeeDmmGHpgpdwQt7ITlGvYaQukCvuBRMLEiKiYC+oeIg4cg==\",\n-            \"dev\": true\n-        },\n         \"node_modules/@tootallnate/once\": {\n             \"version\": \"1.1.2\",\n             \"resolved\": \"https://registry.npmjs.org/@tootallnate/once/-/once-1.1.2.tgz\",\n@@ -282,12 +216,6 @@\n                 \"node\": \">= 6\"\n             }\n         },\n-        \"node_modules/@types/estree\": {\n-            \"version\": \"0.0.39\",\n-            \"resolved\": \"https://registry.npmjs.org/@types/estree/-/estree-0.0.39.tgz\",\n-            \"integrity\": \"sha512-EYNwp3bU+98cpU4lAWYYL7Zz+2gryWH1qbdDTidVd6hkiR6weksdbMadyXKXNPEkQFhXM+hVO9ZygomHXp+AIw==\",\n-            \"dev\": true\n-        },\n         \"node_modules/@types/glob\": {\n             \"version\": \"7.1.4\",\n             \"resolved\": \"https://registry.npmjs.org/@types/glob/-/glob-7.1.4.tgz\",\n@@ -332,15 +260,6 @@\n                 \"form-data\": \"^3.0.0\"\n             }\n         },\n-        \"node_modules/@types/resolve\": {\n-            \"version\": \"1.17.1\",\n-            \"resolved\": \"https://registry.npmjs.org/@types/resolve/-/resolve-1.17.1.tgz\",\n-            \"integrity\": \"sha512-yy7HuzQhj0dhGpD8RLXSZWEkLsV9ibvxvi6EiJ3bkqLAO1RGo0WbkWQiwpRlSFymTJRz0d3k5LM3kkx8ArDbLw==\",\n-            \"dev\": true,\n-            \"dependencies\": {\n-                \"@types/node\": \"*\"\n-            }\n-        },\n         \"node_modules/@types/vscode\": {\n             \"version\": \"1.58.0\",\n             \"resolved\": \"https://registry.npmjs.org/@types/vscode/-/vscode-1.58.0.tgz\",\n@@ -745,18 +664,6 @@\n                 \"node\": \">=0.2.0\"\n             }\n         },\n-        \"node_modules/builtin-modules\": {\n-            \"version\": \"3.2.0\",\n-            \"resolved\": \"https://registry.npmjs.org/builtin-modules/-/builtin-modules-3.2.0.tgz\",\n-            \"integrity\": \"sha512-lGzLKcioL90C7wMczpkY0n/oART3MbBa8R9OFGE1rJxoVI86u4WAGfEk8Wjv10eKSyTHVGkSo3bvBylCEtk7LA==\",\n-            \"dev\": true,\n-            \"engines\": {\n-                \"node\": \">=6\"\n-            },\n-            \"funding\": {\n-                \"url\": \"https://github.com/sponsors/sindresorhus\"\n-            }\n-        },\n         \"node_modules/call-bind\": {\n             \"version\": \"1.0.2\",\n             \"resolved\": \"https://registry.npmjs.org/call-bind/-/call-bind-1.0.2.tgz\",\n@@ -927,12 +834,6 @@\n             \"integrity\": \"sha512-aE2Y4MTFJ870NuB/+2z1cXBhSBBzRydVVjzhFC4gtenEhpnj15yu0qptWGJsO9YGrcPZ3ezX8AWb1VA391MKpQ==\",\n             \"dev\": true\n         },\n-        \"node_modules/commondir\": {\n-            \"version\": \"1.0.1\",\n-            \"resolved\": \"https://registry.npmjs.org/commondir/-/commondir-1.0.1.tgz\",\n-            \"integrity\": \"sha1-3dgA2gxmEnOTzKWVDqloo6rxJTs=\",\n-            \"dev\": true\n-        },\n         \"node_modules/concat-map\": {\n             \"version\": \"0.0.1\",\n             \"resolved\": \"https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz\",\n@@ -1020,15 +921,6 @@\n             \"integrity\": \"sha1-s2nW+128E+7PUk+RsHD+7cNXzzQ=\",\n             \"dev\": true\n         },\n-        \"node_modules/deepmerge\": {\n-            \"version\": \"4.2.2\",\n-            \"resolved\": \"https://registry.npmjs.org/deepmerge/-/deepmerge-4.2.2.tgz\",\n-            \"integrity\": \"sha512-FJ3UgI4gIl+PHZm53knsuSFpE+nESMr7M4v9QcgB7S63Kj/6WqMiFQJpBBYz1Pt+66bZpP3Q7Lye0Oo9MPKEdg==\",\n-            \"dev\": true,\n-            \"engines\": {\n-                \"node\": \">=0.10.0\"\n-            }\n-        },\n         \"node_modules/delayed-stream\": {\n             \"version\": \"1.0.0\",\n             \"resolved\": \"https://registry.npmjs.org/delayed-stream/-/delayed-stream-1.0.0.tgz\",\n@@ -1205,6 +1097,16 @@\n                 \"url\": \"https://github.com/fb55/entities?sponsor=1\"\n             }\n         },\n+        \"node_modules/esbuild\": {\n+            \"version\": \"0.12.19\",\n+            \"resolved\": \"https://registry.npmjs.org/esbuild/-/esbuild-0.12.19.tgz\",\n+            \"integrity\": \"sha512-5NuT1G6THW7l3fsSCDkcPepn24R0XtyPjKoqKHD8LfhqMXzCdz0mrS9HgO6hIhzVT7zt0T+JGbzCqF5AH8hS9w==\",\n+            \"dev\": true,\n+            \"hasInstallScript\": true,\n+            \"bin\": {\n+                \"esbuild\": \"bin/esbuild\"\n+            }\n+        },\n         \"node_modules/escalade\": {\n             \"version\": \"3.1.1\",\n             \"resolved\": \"https://registry.npmjs.org/escalade/-/escalade-3.1.1.tgz\",\n@@ -1434,12 +1336,6 @@\n                 \"node\": \">=4.0\"\n             }\n         },\n-        \"node_modules/estree-walker\": {\n-            \"version\": \"2.0.2\",\n-            \"resolved\": \"https://registry.npmjs.org/estree-walker/-/estree-walker-2.0.2.tgz\",\n-            \"integrity\": \"sha512-Rfkk/Mp/DL7JVje3u18FxFujQlTNR2q6QfMSMB7AvCBx91NGj/ba3kCfza0f6dVDbw7YlRf/nDrn7pQrCCyQ/w==\",\n-            \"dev\": true\n-        },\n         \"node_modules/esutils\": {\n             \"version\": \"2.0.3\",\n             \"resolved\": \"https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz\",\n@@ -1905,18 +1801,6 @@\n                 \"node\": \">=8\"\n             }\n         },\n-        \"node_modules/is-core-module\": {\n-            \"version\": \"2.4.0\",\n-            \"resolved\": \"https://registry.npmjs.org/is-core-module/-/is-core-module-2.4.0.tgz\",\n-            \"integrity\": \"sha512-6A2fkfq1rfeQZjxrZJGerpLCTHRNEBiSgnu0+obeJpEPZRUooHgsizvzv0ZjJwOz3iWIHdJtVWJ/tmPr3D21/A==\",\n-            \"dev\": true,\n-            \"dependencies\": {\n-                \"has\": \"^1.0.3\"\n-            },\n-            \"funding\": {\n-                \"url\": \"https://github.com/sponsors/ljharb\"\n-            }\n-        },\n         \"node_modules/is-extglob\": {\n             \"version\": \"2.1.1\",\n             \"resolved\": \"https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz\",\n@@ -1947,12 +1831,6 @@\n                 \"node\": \">=0.10.0\"\n             }\n         },\n-        \"node_modules/is-module\": {\n-            \"version\": \"1.0.0\",\n-            \"resolved\": \"https://registry.npmjs.org/is-module/-/is-module-1.0.0.tgz\",\n-            \"integrity\": \"sha1-Mlj7afeMFNW4FdZkM2tM/7ZEFZE=\",\n-            \"dev\": true\n-        },\n         \"node_modules/is-number\": {\n             \"version\": \"7.0.0\",\n             \"resolved\": \"https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz\",\n@@ -1971,15 +1849,6 @@\n                 \"node\": \">=8\"\n             }\n         },\n-        \"node_modules/is-reference\": {\n-            \"version\": \"1.2.1\",\n-            \"resolved\": \"https://registry.npmjs.org/is-reference/-/is-reference-1.2.1.tgz\",\n-            \"integrity\": \"sha512-U82MsXXiFIrjCK4otLT+o2NA2Cd2g5MLoOVXUZjIOhLurrRxpEXzI8O0KZHr3IjLvlAH1kTPYSuqer5T9ZVBKQ==\",\n-            \"dev\": true,\n-            \"dependencies\": {\n-                \"@types/estree\": \"*\"\n-            }\n-        },\n         \"node_modules/is-unicode-supported\": {\n             \"version\": \"0.1.0\",\n             \"resolved\": \"https://registry.npmjs.org/is-unicode-supported/-/is-unicode-supported-0.1.0.tgz\",\n@@ -2138,15 +2007,6 @@\n                 \"node\": \">=10\"\n             }\n         },\n-        \"node_modules/magic-string\": {\n-            \"version\": \"0.25.7\",\n-            \"resolved\": \"https://registry.npmjs.org/magic-string/-/magic-string-0.25.7.tgz\",\n-            \"integrity\": \"sha512-4CrMT5DOHTDk4HYDlzmwu4FVCcIYI8gauveasrdCu2IKIFOJ3f0v/8MDGJCDL9oD2ppz/Av1b0Nj345H9M+XIA==\",\n-            \"dev\": true,\n-            \"dependencies\": {\n-                \"sourcemap-codec\": \"^1.4.4\"\n-            }\n-        },\n         \"node_modules/markdown-it\": {\n             \"version\": \"10.0.0\",\n             \"resolved\": \"https://registry.npmjs.org/markdown-it/-/markdown-it-10.0.0.tgz\",\n@@ -2565,12 +2425,6 @@\n                 \"node\": \">=8\"\n             }\n         },\n-        \"node_modules/path-parse\": {\n-            \"version\": \"1.0.7\",\n-            \"resolved\": \"https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz\",\n-            \"integrity\": \"sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==\",\n-            \"dev\": true\n-        },\n         \"node_modules/path-type\": {\n             \"version\": \"4.0.0\",\n             \"resolved\": \"https://registry.npmjs.org/path-type/-/path-type-4.0.0.tgz\",\n@@ -2756,19 +2610,6 @@\n                 \"node\": \">=0.10.0\"\n             }\n         },\n-        \"node_modules/resolve\": {\n-            \"version\": \"1.20.0\",\n-            \"resolved\": \"https://registry.npmjs.org/resolve/-/resolve-1.20.0.tgz\",\n-            \"integrity\": \"sha512-wENBPt4ySzg4ybFQW2TT1zMQucPK95HSh/nq2CFTZVOGut2+pQvSsgtda4d26YrYcr067wjbmzOG8byDPBX63A==\",\n-            \"dev\": true,\n-            \"dependencies\": {\n-                \"is-core-module\": \"^2.2.0\",\n-                \"path-parse\": \"^1.0.6\"\n-            },\n-            \"funding\": {\n-                \"url\": \"https://github.com/sponsors/ljharb\"\n-            }\n-        },\n         \"node_modules/resolve-from\": {\n             \"version\": \"4.0.0\",\n             \"resolved\": \"https://registry.npmjs.org/resolve-from/-/resolve-from-4.0.0.tgz\",\n@@ -2803,21 +2644,6 @@\n                 \"url\": \"https://github.com/sponsors/isaacs\"\n             }\n         },\n-        \"node_modules/rollup\": {\n-            \"version\": \"2.51.1\",\n-            \"resolved\": \"https://registry.npmjs.org/rollup/-/rollup-2.51.1.tgz\",\n-            \"integrity\": \"sha512-8xfDbAtBleXotb6qKEHWuo/jkn94a9dVqGc7Rwl3sqspCVlnCfbRek7ldhCARSi7h32H0xR4QThm1t9zHN+3uw==\",\n-            \"dev\": true,\n-            \"bin\": {\n-                \"rollup\": \"dist/bin/rollup\"\n-            },\n-            \"engines\": {\n-                \"node\": \">=10.0.0\"\n-            },\n-            \"optionalDependencies\": {\n-                \"fsevents\": \"~2.3.1\"\n-            }\n-        },\n         \"node_modules/run-parallel\": {\n             \"version\": \"1.2.0\",\n             \"resolved\": \"https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz\",\n@@ -2957,12 +2783,6 @@\n                 \"url\": \"https://github.com/chalk/slice-ansi?sponsor=1\"\n             }\n         },\n-        \"node_modules/sourcemap-codec\": {\n-            \"version\": \"1.4.8\",\n-            \"resolved\": \"https://registry.npmjs.org/sourcemap-codec/-/sourcemap-codec-1.4.8.tgz\",\n-            \"integrity\": \"sha512-9NykojV5Uih4lgo5So5dtw+f0JgJX30KCNI8gwhz2J9A15wD0Ml6tjHKwf6fTSa6fAdVBdZeNOs9eJ71qCk8vA==\",\n-            \"dev\": true\n-        },\n         \"node_modules/sprintf-js\": {\n             \"version\": \"1.0.3\",\n             \"resolved\": \"https://registry.npmjs.org/sprintf-js/-/sprintf-js-1.0.3.tgz\",\n@@ -3780,66 +3600,12 @@\n                 \"fastq\": \"^1.6.0\"\n             }\n         },\n-        \"@rollup/plugin-commonjs\": {\n-            \"version\": \"17.1.0\",\n-            \"resolved\": \"https://registry.npmjs.org/@rollup/plugin-commonjs/-/plugin-commonjs-17.1.0.tgz\",\n-            \"integrity\": \"sha512-PoMdXCw0ZyvjpCMT5aV4nkL0QywxP29sODQsSGeDpr/oI49Qq9tRtAsb/LbYbDzFlOydVEqHmmZWFtXJEAX9ew==\",\n-            \"dev\": true,\n-            \"requires\": {\n-                \"@rollup/pluginutils\": \"^3.1.0\",\n-                \"commondir\": \"^1.0.1\",\n-                \"estree-walker\": \"^2.0.1\",\n-                \"glob\": \"^7.1.6\",\n-                \"is-reference\": \"^1.2.1\",\n-                \"magic-string\": \"^0.25.7\",\n-                \"resolve\": \"^1.17.0\"\n-            }\n-        },\n-        \"@rollup/plugin-node-resolve\": {\n-            \"version\": \"13.0.0\",\n-            \"resolved\": \"https://registry.npmjs.org/@rollup/plugin-node-resolve/-/plugin-node-resolve-13.0.0.tgz\",\n-            \"integrity\": \"sha512-41X411HJ3oikIDivT5OKe9EZ6ud6DXudtfNrGbC4nniaxx2esiWjkLOzgnZsWq1IM8YIeL2rzRGLZLBjlhnZtQ==\",\n-            \"dev\": true,\n-            \"requires\": {\n-                \"@rollup/pluginutils\": \"^3.1.0\",\n-                \"@types/resolve\": \"1.17.1\",\n-                \"builtin-modules\": \"^3.1.0\",\n-                \"deepmerge\": \"^4.2.2\",\n-                \"is-module\": \"^1.0.0\",\n-                \"resolve\": \"^1.19.0\"\n-            }\n-        },\n-        \"@rollup/pluginutils\": {\n-            \"version\": \"3.1.0\",\n-            \"resolved\": \"https://registry.npmjs.org/@rollup/pluginutils/-/pluginutils-3.1.0.tgz\",\n-            \"integrity\": \"sha512-GksZ6pr6TpIjHm8h9lSQ8pi8BE9VeubNT0OMJ3B5uZJ8pz73NPiqOtCog/x2/QzM1ENChPKxMDhiQuRHsqc+lg==\",\n-            \"dev\": true,\n-            \"requires\": {\n-                \"@types/estree\": \"0.0.39\",\n-                \"estree-walker\": \"^1.0.1\",\n-                \"picomatch\": \"^2.2.2\"\n-            },\n-            \"dependencies\": {\n-                \"estree-walker\": {\n-                    \"version\": \"1.0.1\",\n-                    \"resolved\": \"https://registry.npmjs.org/estree-walker/-/estree-walker-1.0.1.tgz\",\n-                    \"integrity\": \"sha512-1fMXF3YP4pZZVozF8j/ZLfvnR8NSIljt56UhbZ5PeeDmmGHpgpdwQt7ITlGvYaQukCvuBRMLEiKiYC+oeIg4cg==\",\n-                    \"dev\": true\n-                }\n-            }\n-        },\n         \"@tootallnate/once\": {\n             \"version\": \"1.1.2\",\n             \"resolved\": \"https://registry.npmjs.org/@tootallnate/once/-/once-1.1.2.tgz\",\n             \"integrity\": \"sha512-RbzJvlNzmRq5c3O09UipeuXno4tA1FE6ikOjxZK0tuxVv3412l64l5t1W5pj4+rJq9vpkm/kwiR07aZXnsKPxw==\",\n             \"dev\": true\n         },\n-        \"@types/estree\": {\n-            \"version\": \"0.0.39\",\n-            \"resolved\": \"https://registry.npmjs.org/@types/estree/-/estree-0.0.39.tgz\",\n-            \"integrity\": \"sha512-EYNwp3bU+98cpU4lAWYYL7Zz+2gryWH1qbdDTidVd6hkiR6weksdbMadyXKXNPEkQFhXM+hVO9ZygomHXp+AIw==\",\n-            \"dev\": true\n-        },\n         \"@types/glob\": {\n             \"version\": \"7.1.4\",\n             \"resolved\": \"https://registry.npmjs.org/@types/glob/-/glob-7.1.4.tgz\",\n@@ -3884,15 +3650,6 @@\n                 \"form-data\": \"^3.0.0\"\n             }\n         },\n-        \"@types/resolve\": {\n-            \"version\": \"1.17.1\",\n-            \"resolved\": \"https://registry.npmjs.org/@types/resolve/-/resolve-1.17.1.tgz\",\n-            \"integrity\": \"sha512-yy7HuzQhj0dhGpD8RLXSZWEkLsV9ibvxvi6EiJ3bkqLAO1RGo0WbkWQiwpRlSFymTJRz0d3k5LM3kkx8ArDbLw==\",\n-            \"dev\": true,\n-            \"requires\": {\n-                \"@types/node\": \"*\"\n-            }\n-        },\n         \"@types/vscode\": {\n             \"version\": \"1.58.0\",\n             \"resolved\": \"https://registry.npmjs.org/@types/vscode/-/vscode-1.58.0.tgz\",\n@@ -4169,12 +3926,6 @@\n             \"integrity\": \"sha1-skV5w77U1tOWru5tmorn9Ugqt7s=\",\n             \"dev\": true\n         },\n-        \"builtin-modules\": {\n-            \"version\": \"3.2.0\",\n-            \"resolved\": \"https://registry.npmjs.org/builtin-modules/-/builtin-modules-3.2.0.tgz\",\n-            \"integrity\": \"sha512-lGzLKcioL90C7wMczpkY0n/oART3MbBa8R9OFGE1rJxoVI86u4WAGfEk8Wjv10eKSyTHVGkSo3bvBylCEtk7LA==\",\n-            \"dev\": true\n-        },\n         \"call-bind\": {\n             \"version\": \"1.0.2\",\n             \"resolved\": \"https://registry.npmjs.org/call-bind/-/call-bind-1.0.2.tgz\",\n@@ -4307,12 +4058,6 @@\n             \"integrity\": \"sha512-aE2Y4MTFJ870NuB/+2z1cXBhSBBzRydVVjzhFC4gtenEhpnj15yu0qptWGJsO9YGrcPZ3ezX8AWb1VA391MKpQ==\",\n             \"dev\": true\n         },\n-        \"commondir\": {\n-            \"version\": \"1.0.1\",\n-            \"resolved\": \"https://registry.npmjs.org/commondir/-/commondir-1.0.1.tgz\",\n-            \"integrity\": \"sha1-3dgA2gxmEnOTzKWVDqloo6rxJTs=\",\n-            \"dev\": true\n-        },\n         \"concat-map\": {\n             \"version\": \"0.0.1\",\n             \"resolved\": \"https://registry.npmjs.org/concat-map/-/concat-map-0.0.1.tgz\",\n@@ -4374,12 +4119,6 @@\n             \"integrity\": \"sha1-s2nW+128E+7PUk+RsHD+7cNXzzQ=\",\n             \"dev\": true\n         },\n-        \"deepmerge\": {\n-            \"version\": \"4.2.2\",\n-            \"resolved\": \"https://registry.npmjs.org/deepmerge/-/deepmerge-4.2.2.tgz\",\n-            \"integrity\": \"sha512-FJ3UgI4gIl+PHZm53knsuSFpE+nESMr7M4v9QcgB7S63Kj/6WqMiFQJpBBYz1Pt+66bZpP3Q7Lye0Oo9MPKEdg==\",\n-            \"dev\": true\n-        },\n         \"delayed-stream\": {\n             \"version\": \"1.0.0\",\n             \"resolved\": \"https://registry.npmjs.org/delayed-stream/-/delayed-stream-1.0.0.tgz\",\n@@ -4519,6 +4258,12 @@\n             \"integrity\": \"sha512-p92if5Nz619I0w+akJrLZH0MX0Pb5DX39XOwQTtXSdQQOaYH03S1uIQp4mhOZtAXrxq4ViO67YTiLBo2638o9A==\",\n             \"dev\": true\n         },\n+        \"esbuild\": {\n+            \"version\": \"0.12.19\",\n+            \"resolved\": \"https://registry.npmjs.org/esbuild/-/esbuild-0.12.19.tgz\",\n+            \"integrity\": \"sha512-5NuT1G6THW7l3fsSCDkcPepn24R0XtyPjKoqKHD8LfhqMXzCdz0mrS9HgO6hIhzVT7zt0T+JGbzCqF5AH8hS9w==\",\n+            \"dev\": true\n+        },\n         \"escalade\": {\n             \"version\": \"3.1.1\",\n             \"resolved\": \"https://registry.npmjs.org/escalade/-/escalade-3.1.1.tgz\",\n@@ -4688,12 +4433,6 @@\n             \"integrity\": \"sha512-39nnKffWz8xN1BU/2c79n9nB9HDzo0niYUqx6xyqUnyoAnQyyWpOTdZEeiCch8BBu515t4wp9ZmgVfVhn9EBpw==\",\n             \"dev\": true\n         },\n-        \"estree-walker\": {\n-            \"version\": \"2.0.2\",\n-            \"resolved\": \"https://registry.npmjs.org/estree-walker/-/estree-walker-2.0.2.tgz\",\n-            \"integrity\": \"sha512-Rfkk/Mp/DL7JVje3u18FxFujQlTNR2q6QfMSMB7AvCBx91NGj/ba3kCfza0f6dVDbw7YlRf/nDrn7pQrCCyQ/w==\",\n-            \"dev\": true\n-        },\n         \"esutils\": {\n             \"version\": \"2.0.3\",\n             \"resolved\": \"https://registry.npmjs.org/esutils/-/esutils-2.0.3.tgz\",\n@@ -5047,15 +4786,6 @@\n                 \"binary-extensions\": \"^2.0.0\"\n             }\n         },\n-        \"is-core-module\": {\n-            \"version\": \"2.4.0\",\n-            \"resolved\": \"https://registry.npmjs.org/is-core-module/-/is-core-module-2.4.0.tgz\",\n-            \"integrity\": \"sha512-6A2fkfq1rfeQZjxrZJGerpLCTHRNEBiSgnu0+obeJpEPZRUooHgsizvzv0ZjJwOz3iWIHdJtVWJ/tmPr3D21/A==\",\n-            \"dev\": true,\n-            \"requires\": {\n-                \"has\": \"^1.0.3\"\n-            }\n-        },\n         \"is-extglob\": {\n             \"version\": \"2.1.1\",\n             \"resolved\": \"https://registry.npmjs.org/is-extglob/-/is-extglob-2.1.1.tgz\",\n@@ -5077,12 +4807,6 @@\n                 \"is-extglob\": \"^2.1.1\"\n             }\n         },\n-        \"is-module\": {\n-            \"version\": \"1.0.0\",\n-            \"resolved\": \"https://registry.npmjs.org/is-module/-/is-module-1.0.0.tgz\",\n-            \"integrity\": \"sha1-Mlj7afeMFNW4FdZkM2tM/7ZEFZE=\",\n-            \"dev\": true\n-        },\n         \"is-number\": {\n             \"version\": \"7.0.0\",\n             \"resolved\": \"https://registry.npmjs.org/is-number/-/is-number-7.0.0.tgz\",\n@@ -5095,15 +4819,6 @@\n             \"integrity\": \"sha512-YWnfyRwxL/+SsrWYfOpUtz5b3YD+nyfkHvjbcanzk8zgyO4ASD67uVMRt8k5bM4lLMDnXfriRhOpemw+NfT1eA==\",\n             \"dev\": true\n         },\n-        \"is-reference\": {\n-            \"version\": \"1.2.1\",\n-            \"resolved\": \"https://registry.npmjs.org/is-reference/-/is-reference-1.2.1.tgz\",\n-            \"integrity\": \"sha512-U82MsXXiFIrjCK4otLT+o2NA2Cd2g5MLoOVXUZjIOhLurrRxpEXzI8O0KZHr3IjLvlAH1kTPYSuqer5T9ZVBKQ==\",\n-            \"dev\": true,\n-            \"requires\": {\n-                \"@types/estree\": \"*\"\n-            }\n-        },\n         \"is-unicode-supported\": {\n             \"version\": \"0.1.0\",\n             \"resolved\": \"https://registry.npmjs.org/is-unicode-supported/-/is-unicode-supported-0.1.0.tgz\",\n@@ -5232,15 +4947,6 @@\n                 \"yallist\": \"^4.0.0\"\n             }\n         },\n-        \"magic-string\": {\n-            \"version\": \"0.25.7\",\n-            \"resolved\": \"https://registry.npmjs.org/magic-string/-/magic-string-0.25.7.tgz\",\n-            \"integrity\": \"sha512-4CrMT5DOHTDk4HYDlzmwu4FVCcIYI8gauveasrdCu2IKIFOJ3f0v/8MDGJCDL9oD2ppz/Av1b0Nj345H9M+XIA==\",\n-            \"dev\": true,\n-            \"requires\": {\n-                \"sourcemap-codec\": \"^1.4.4\"\n-            }\n-        },\n         \"markdown-it\": {\n             \"version\": \"10.0.0\",\n             \"resolved\": \"https://registry.npmjs.org/markdown-it/-/markdown-it-10.0.0.tgz\",\n@@ -5564,12 +5270,6 @@\n             \"integrity\": \"sha512-ojmeN0qd+y0jszEtoY48r0Peq5dwMEkIlCOu6Q5f41lfkswXuKtYrhgoTpLnyIcHm24Uhqx+5Tqm2InSwLhE6Q==\",\n             \"dev\": true\n         },\n-        \"path-parse\": {\n-            \"version\": \"1.0.7\",\n-            \"resolved\": \"https://registry.npmjs.org/path-parse/-/path-parse-1.0.7.tgz\",\n-            \"integrity\": \"sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==\",\n-            \"dev\": true\n-        },\n         \"path-type\": {\n             \"version\": \"4.0.0\",\n             \"resolved\": \"https://registry.npmjs.org/path-type/-/path-type-4.0.0.tgz\",\n@@ -5701,16 +5401,6 @@\n             \"integrity\": \"sha512-Xf0nWe6RseziFMu+Ap9biiUbmplq6S9/p+7w7YXP/JBHhrUDDUhwa+vANyubuqfZWTveU//DYVGsDG7RKL/vEw==\",\n             \"dev\": true\n         },\n-        \"resolve\": {\n-            \"version\": \"1.20.0\",\n-            \"resolved\": \"https://registry.npmjs.org/resolve/-/resolve-1.20.0.tgz\",\n-            \"integrity\": \"sha512-wENBPt4ySzg4ybFQW2TT1zMQucPK95HSh/nq2CFTZVOGut2+pQvSsgtda4d26YrYcr067wjbmzOG8byDPBX63A==\",\n-            \"dev\": true,\n-            \"requires\": {\n-                \"is-core-module\": \"^2.2.0\",\n-                \"path-parse\": \"^1.0.6\"\n-            }\n-        },\n         \"resolve-from\": {\n             \"version\": \"4.0.0\",\n             \"resolved\": \"https://registry.npmjs.org/resolve-from/-/resolve-from-4.0.0.tgz\",\n@@ -5732,15 +5422,6 @@\n                 \"glob\": \"^7.1.3\"\n             }\n         },\n-        \"rollup\": {\n-            \"version\": \"2.51.1\",\n-            \"resolved\": \"https://registry.npmjs.org/rollup/-/rollup-2.51.1.tgz\",\n-            \"integrity\": \"sha512-8xfDbAtBleXotb6qKEHWuo/jkn94a9dVqGc7Rwl3sqspCVlnCfbRek7ldhCARSi7h32H0xR4QThm1t9zHN+3uw==\",\n-            \"dev\": true,\n-            \"requires\": {\n-                \"fsevents\": \"~2.3.1\"\n-            }\n-        },\n         \"run-parallel\": {\n             \"version\": \"1.2.0\",\n             \"resolved\": \"https://registry.npmjs.org/run-parallel/-/run-parallel-1.2.0.tgz\",\n@@ -5828,12 +5509,6 @@\n                 \"is-fullwidth-code-point\": \"^3.0.0\"\n             }\n         },\n-        \"sourcemap-codec\": {\n-            \"version\": \"1.4.8\",\n-            \"resolved\": \"https://registry.npmjs.org/sourcemap-codec/-/sourcemap-codec-1.4.8.tgz\",\n-            \"integrity\": \"sha512-9NykojV5Uih4lgo5So5dtw+f0JgJX30KCNI8gwhz2J9A15wD0Ml6tjHKwf6fTSa6fAdVBdZeNOs9eJ71qCk8vA==\",\n-            \"dev\": true\n-        },\n         \"sprintf-js\": {\n             \"version\": \"1.0.3\",\n             \"resolved\": \"https://registry.npmjs.org/sprintf-js/-/sprintf-js-1.0.3.tgz\","}, {"sha": "48b2eddd101f307f2b57ffafeb3f84f0db17c725", "filename": "editors/code/package.json", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/74470a04634d868335c5d26feb35bc9ee69029a2/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/74470a04634d868335c5d26feb35bc9ee69029a2/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=74470a04634d868335c5d26feb35bc9ee69029a2", "patch": "@@ -25,13 +25,14 @@\n     },\n     \"enableProposedApi\": true,\n     \"scripts\": {\n-        \"vscode:prepublish\": \"tsc && rollup -c\",\n+        \"vscode:prepublish\": \"npm run build-base -- --minify\",\n         \"package\": \"vsce package -o rust-analyzer.vsix\",\n-        \"build\": \"tsc\",\n-        \"watch\": \"tsc --watch\",\n+        \"build-base\": \"esbuild ./src/main.ts --bundle --outfile=out/main.js --external:vscode --format=cjs --platform=node\",\n+        \"build\": \"npm run build-base -- --sourcemap\",\n+        \"watch\": \"npm run build-base -- --sourcemap --watch\",\n         \"lint\": \"tsfmt --verify && eslint -c .eslintrc.js --ext ts ./src ./tests\",\n         \"fix\": \" tsfmt -r       && eslint -c .eslintrc.js --ext ts ./src ./tests --fix\",\n-        \"pretest\": \"npm run build\",\n+        \"pretest\": \"tsc && npm run build\",\n         \"test\": \"node ./out/tests/runTests.js\"\n     },\n     \"dependencies\": {\n@@ -40,19 +41,17 @@\n         \"vscode-languageclient\": \"^7.1.0-next.5\"\n     },\n     \"devDependencies\": {\n-        \"@rollup/plugin-commonjs\": \"^17.0.0\",\n-        \"@rollup/plugin-node-resolve\": \"^13.0.0\",\n         \"@types/glob\": \"^7.1.4\",\n         \"@types/mocha\": \"^8.2.3\",\n         \"@types/node\": \"~14.17.5\",\n         \"@types/node-fetch\": \"^2.5.11\",\n         \"@types/vscode\": \"^1.57.0\",\n         \"@typescript-eslint/eslint-plugin\": \"^4.28.2\",\n         \"@typescript-eslint/parser\": \"^4.28.2\",\n+        \"esbuild\": \"^0.12.19\",\n         \"eslint\": \"^7.30.0\",\n         \"glob\": \"^7.1.6\",\n         \"mocha\": \"^9.0.2\",\n-        \"rollup\": \"^2.51.1\",\n         \"tslib\": \"^2.3.0\",\n         \"typescript\": \"^4.3.5\",\n         \"typescript-formatter\": \"^7.2.2\",\n@@ -66,7 +65,7 @@\n         \"onCommand:rust-analyzer.reloadWorkspace\",\n         \"workspaceContains:**/Cargo.toml\"\n     ],\n-    \"main\": \"./out/src/main\",\n+    \"main\": \"./out/main\",\n     \"contributes\": {\n         \"taskDefinitions\": [\n             {"}, {"sha": "70f60f4cd9c43a18f7f46bf4db79d48abe571d3d", "filename": "editors/code/rollup.config.js", "status": "removed", "additions": 0, "deletions": 22, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/0d2b423f4056b64737b2e969e13887e8e97d7619/editors%2Fcode%2Frollup.config.js", "raw_url": "https://github.com/rust-lang/rust/raw/0d2b423f4056b64737b2e969e13887e8e97d7619/editors%2Fcode%2Frollup.config.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Frollup.config.js?ref=0d2b423f4056b64737b2e969e13887e8e97d7619", "patch": "@@ -1,22 +0,0 @@\n-// @ts-check\n-\n-import resolve from '@rollup/plugin-node-resolve';\n-import commonjs from '@rollup/plugin-commonjs';\n-import nodeBuiltins from 'builtin-modules';\n-\n-/** @type { import('rollup').RollupOptions } */\n-export default {\n-    input: 'out/src/main.js',\n-    plugins: [\n-        resolve({\n-            preferBuiltins: true\n-        }),\n-        commonjs()\n-    ],\n-    external: [...nodeBuiltins, 'vscode'],\n-    output: {\n-        file: './out/src/main.js',\n-        format: 'cjs',\n-        exports: 'default'\n-    }\n-};"}]}