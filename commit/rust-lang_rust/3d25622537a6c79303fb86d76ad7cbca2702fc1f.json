{"sha": "3d25622537a6c79303fb86d76ad7cbca2702fc1f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkMjU2MjI1MzdhNmM3OTMwM2ZiODZkNzZhZDdjYmNhMjcwMmZjMWY=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-03-17T02:05:16Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-03-17T02:05:16Z"}, "message": "Rollup merge of #70000 - petrochenkov:rawkeypars, r=davidtwco\n\nresolve: Fix regression in resolution of raw keywords in paths\n\nFixes https://github.com/rust-lang/rust/issues/63882.", "tree": {"sha": "663d9f335bb2df385984099ac3753437fe89b844", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/663d9f335bb2df385984099ac3753437fe89b844"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3d25622537a6c79303fb86d76ad7cbca2702fc1f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJecDBcCRBK7hj4Ov3rIwAAdHIIAJlRTuRhqIOuw/eZTxxTKRNL\n6uESibNpx+aNwzjYHBVjaNZ0+5UuZ7YjkUEyKMMpAI2/L+BfiM0M2ed8hja/9a1B\nX8uEyXfV2FUwA0wKNcdgYRe1SDhj5IbQ9hymv83mbrnAzDPYFlBGzzN37nh3ocIn\nXFSnkV/MNIJB4N7G5lBi4nre7EDlDPav3yx/VMANI1WEDgQOIN/lAsDNVxpmg4ar\nDJzKk4JyJqmwQsDrndyYJL5dRqv/Pw/Elo2RME5qow9+peGZfeHQFVt10cqRwCil\nftYD9r7KmSgDk/DI+EfRmJ1PzIb0GP7vdscombEPDdB+H9BBn98QNQ8iXoEtayA=\n=c+aw\n-----END PGP SIGNATURE-----\n", "payload": "tree 663d9f335bb2df385984099ac3753437fe89b844\nparent 1b0c73bafff841c5d51f0b5cd12d4463c19ac888\nparent e80cb2032cac39db2226ba940fad05b5adb17e62\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1584410716 +0100\ncommitter GitHub <noreply@github.com> 1584410716 +0100\n\nRollup merge of #70000 - petrochenkov:rawkeypars, r=davidtwco\n\nresolve: Fix regression in resolution of raw keywords in paths\n\nFixes https://github.com/rust-lang/rust/issues/63882.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3d25622537a6c79303fb86d76ad7cbca2702fc1f", "html_url": "https://github.com/rust-lang/rust/commit/3d25622537a6c79303fb86d76ad7cbca2702fc1f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3d25622537a6c79303fb86d76ad7cbca2702fc1f/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b0c73bafff841c5d51f0b5cd12d4463c19ac888", "url": "https://api.github.com/repos/rust-lang/rust/commits/1b0c73bafff841c5d51f0b5cd12d4463c19ac888", "html_url": "https://github.com/rust-lang/rust/commit/1b0c73bafff841c5d51f0b5cd12d4463c19ac888"}, {"sha": "e80cb2032cac39db2226ba940fad05b5adb17e62", "url": "https://api.github.com/repos/rust-lang/rust/commits/e80cb2032cac39db2226ba940fad05b5adb17e62", "html_url": "https://github.com/rust-lang/rust/commit/e80cb2032cac39db2226ba940fad05b5adb17e62"}], "stats": {"total": 39, "additions": 29, "deletions": 10}, "files": [{"sha": "1ad4fb78e0820e8dd89adc2b1da8d88cc985e783", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=3d25622537a6c79303fb86d76ad7cbca2702fc1f", "patch": "@@ -2188,11 +2188,8 @@ impl<'a> Resolver<'a> {\n                                     Applicability::MaybeIncorrect,\n                                 )),\n                             )\n-                        } else if !ident.is_reserved() {\n-                            (format!(\"maybe a missing crate `{}`?\", ident), None)\n                         } else {\n-                            // the parser will already have complained about the keyword being used\n-                            return PathResult::NonModule(PartialRes::new(Res::Err));\n+                            (format!(\"maybe a missing crate `{}`?\", ident), None)\n                         }\n                     } else if i == 0 {\n                         (format!(\"use of undeclared type or module `{}`\", ident), None)"}, {"sha": "4bd8efeaa3b97514c6573170bbb7540b6c09c4f5", "filename": "src/test/rustdoc-ui/issue-61732.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Frustdoc-ui%2Fissue-61732.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Frustdoc-ui%2Fissue-61732.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fissue-61732.rs?ref=3d25622537a6c79303fb86d76ad7cbca2702fc1f", "patch": "@@ -1,4 +1,4 @@\n // This previously triggered an ICE.\n \n pub(in crate::r#mod) fn main() {}\n-//~^ ERROR expected module, found unresolved item\n+//~^ ERROR failed to resolve: maybe a missing crate `r#mod`"}, {"sha": "8213422491120fd6b410ea2121f0be8a99bf1ff3", "filename": "src/test/rustdoc-ui/issue-61732.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Frustdoc-ui%2Fissue-61732.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Frustdoc-ui%2Fissue-61732.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Fissue-61732.stderr?ref=3d25622537a6c79303fb86d76ad7cbca2702fc1f", "patch": "@@ -1,11 +1,11 @@\n-error[E0577]: expected module, found unresolved item `crate::r#mod`\n-  --> $DIR/issue-61732.rs:3:8\n+error[E0433]: failed to resolve: maybe a missing crate `r#mod`?\n+  --> $DIR/issue-61732.rs:3:15\n    |\n LL | pub(in crate::r#mod) fn main() {}\n-   |        ^^^^^^^^^^^^ not a module\n+   |               ^^^^^ maybe a missing crate `r#mod`?\n \n error: Compilation failed, aborting rustdoc\n \n error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0577`.\n+For more information about this error, try `rustc --explain E0433`."}, {"sha": "a46ce67d40d5a709d60fbba06c2e7a3adc612286", "filename": "src/test/ui/keyword/extern/keyword-extern-as-identifier-use.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Fui%2Fkeyword%2Fextern%2Fkeyword-extern-as-identifier-use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Fui%2Fkeyword%2Fextern%2Fkeyword-extern-as-identifier-use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fkeyword%2Fextern%2Fkeyword-extern-as-identifier-use.rs?ref=3d25622537a6c79303fb86d76ad7cbca2702fc1f", "patch": "@@ -1,3 +1,4 @@\n use extern::foo; //~ ERROR expected identifier, found keyword `extern`\n+                 //~| ERROR unresolved import `r#extern`\n \n fn main() {}"}, {"sha": "edbb36452b6ce0139ff8239a8f962323af289e68", "filename": "src/test/ui/keyword/extern/keyword-extern-as-identifier-use.stderr", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Fui%2Fkeyword%2Fextern%2Fkeyword-extern-as-identifier-use.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Fui%2Fkeyword%2Fextern%2Fkeyword-extern-as-identifier-use.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fkeyword%2Fextern%2Fkeyword-extern-as-identifier-use.stderr?ref=3d25622537a6c79303fb86d76ad7cbca2702fc1f", "patch": "@@ -9,5 +9,12 @@ help: you can escape reserved keywords to use them as identifiers\n LL | use r#extern::foo;\n    |     ^^^^^^^^\n \n-error: aborting due to previous error\n+error[E0432]: unresolved import `r#extern`\n+  --> $DIR/keyword-extern-as-identifier-use.rs:1:5\n+   |\n+LL | use extern::foo;\n+   |     ^^^^^^ maybe a missing crate `r#extern`?\n+\n+error: aborting due to 2 previous errors\n \n+For more information about this error, try `rustc --explain E0432`."}, {"sha": "1bcbef594374103c48081eb7dab0af0e6121deb6", "filename": "src/test/ui/resolve/raw-ident-in-path.rs", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Fui%2Fresolve%2Fraw-ident-in-path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Fui%2Fresolve%2Fraw-ident-in-path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fraw-ident-in-path.rs?ref=3d25622537a6c79303fb86d76ad7cbca2702fc1f", "patch": "@@ -0,0 +1,5 @@\n+// Regression test for issue #63882.\n+\n+type A = crate::r#break; //~ ERROR cannot find type `r#break` in module `crate`\n+\n+fn main() {}"}, {"sha": "f2efcbc8e85863e7318fc33664ba908ee22ae675", "filename": "src/test/ui/resolve/raw-ident-in-path.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Fui%2Fresolve%2Fraw-ident-in-path.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3d25622537a6c79303fb86d76ad7cbca2702fc1f/src%2Ftest%2Fui%2Fresolve%2Fraw-ident-in-path.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fraw-ident-in-path.stderr?ref=3d25622537a6c79303fb86d76ad7cbca2702fc1f", "patch": "@@ -0,0 +1,9 @@\n+error[E0412]: cannot find type `r#break` in module `crate`\n+  --> $DIR/raw-ident-in-path.rs:3:17\n+   |\n+LL | type A = crate::r#break;\n+   |                 ^^^^^^^ not found in `crate`\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0412`."}]}