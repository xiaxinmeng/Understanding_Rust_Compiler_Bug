{"sha": "8d620999de52ed62c16f6417d407b0f966e912fd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhkNjIwOTk5ZGU1MmVkNjJjMTZmNjQxN2Q0MDdiMGY5NjZlOTEyZmQ=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-06-11T17:04:12Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-06-11T17:04:12Z"}, "message": "Rollup merge of #73097 - Mark-Simulacrum:clippy-fail, r=oli-obk\n\nTry_run must only be used if toolstate is populated\n\nClippy's tests were failing the build, but that failure was ignored in favor of checking toolstate. This is the correct behavior for toolstate-checked tools, but Clippy no longer updates its toolstate status as it should always build.\n\nThe previous PR of this kind didn't catch this as I expected x.py failures to always lead to a non-successful build in CI, but that's not the case specifically for tool testing.", "tree": {"sha": "b8ca9ca49ca5befb47e7a389bedd1d3904be047f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b8ca9ca49ca5befb47e7a389bedd1d3904be047f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8d620999de52ed62c16f6417d407b0f966e912fd", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJe4mQMCRBK7hj4Ov3rIwAAdHIIAGXty225R6m0JUWAHlHvzMHZ\n7pDIYh7BpdTKDJLjuv8SQm8QXU/VWYvLAhzq/54akUTE0e545jlJn6EIegsyzGA/\n4tOT8TEpD6daWg/+E3Pv7wTaK0xU5U3XdEWYnPE2L7HE3eoIIZ9tty3+h8hbBX74\nQY1/v6FNSTTu+Vnz5eUK7uIt6+oN1ea4od73NfwwVtruris98J1Z0NjgCQu7fhKn\nTkMbH7s1y32e0R32mFEOrhlWf/m7QrJoGWpZT2007lFSm9o+PJuCSwg/j3nx6/wK\nDZyG2fZYOV0V/+5SIYF5S3px8UFwTfVTyrOyb5wLwE/MGz9PdUwDilxIfKM7IO8=\n=BIDr\n-----END PGP SIGNATURE-----\n", "payload": "tree b8ca9ca49ca5befb47e7a389bedd1d3904be047f\nparent 80fce3693df76bed3e21f998f1d287f1eee99d68\nparent 6f015768c28a6e4cf163967cb62b70c645791858\nauthor Dylan DPC <dylan.dpc@gmail.com> 1591895052 +0200\ncommitter GitHub <noreply@github.com> 1591895052 +0200\n\nRollup merge of #73097 - Mark-Simulacrum:clippy-fail, r=oli-obk\n\nTry_run must only be used if toolstate is populated\n\nClippy's tests were failing the build, but that failure was ignored in favor of checking toolstate. This is the correct behavior for toolstate-checked tools, but Clippy no longer updates its toolstate status as it should always build.\n\nThe previous PR of this kind didn't catch this as I expected x.py failures to always lead to a non-successful build in CI, but that's not the case specifically for tool testing.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8d620999de52ed62c16f6417d407b0f966e912fd", "html_url": "https://github.com/rust-lang/rust/commit/8d620999de52ed62c16f6417d407b0f966e912fd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8d620999de52ed62c16f6417d407b0f966e912fd/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "80fce3693df76bed3e21f998f1d287f1eee99d68", "url": "https://api.github.com/repos/rust-lang/rust/commits/80fce3693df76bed3e21f998f1d287f1eee99d68", "html_url": "https://github.com/rust-lang/rust/commit/80fce3693df76bed3e21f998f1d287f1eee99d68"}, {"sha": "6f015768c28a6e4cf163967cb62b70c645791858", "url": "https://api.github.com/repos/rust-lang/rust/commits/6f015768c28a6e4cf163967cb62b70c645791858", "html_url": "https://github.com/rust-lang/rust/commit/6f015768c28a6e4cf163967cb62b70c645791858"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "163132f563425bcfdb58775948bb3abff3a37367", "filename": "src/bootstrap/test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8d620999de52ed62c16f6417d407b0f966e912fd/src%2Fbootstrap%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8d620999de52ed62c16f6417d407b0f966e912fd/src%2Fbootstrap%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Ftest.rs?ref=8d620999de52ed62c16f6417d407b0f966e912fd", "patch": "@@ -553,7 +553,7 @@ impl Step for Clippy {\n \n         builder.add_rustc_lib_path(compiler, &mut cargo);\n \n-        try_run(builder, &mut cargo.into());\n+        builder.run(&mut cargo.into());\n     }\n }\n "}]}