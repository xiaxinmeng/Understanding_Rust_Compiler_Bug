{"sha": "05ffc2d05743c0cc4ad5e551c147dc8385e67bac", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA1ZmZjMmQwNTc0M2MwY2M0YWQ1ZTU1MWMxNDdkYzgzODVlNjdiYWM=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-10-16T18:58:00Z"}, "committer": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-10-16T18:58:00Z"}, "message": "Fix dogfood\n\n`expect_fun_call` causes a false-positive, so I disabled it for now.", "tree": {"sha": "8d756cadee0bdf40ad6ce6dce6b8f0095b911889", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8d756cadee0bdf40ad6ce6dce6b8f0095b911889"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/05ffc2d05743c0cc4ad5e551c147dc8385e67bac", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEvUKv4zqIn2RHUgCKtvoGpuDiZlsFAlvGNNoACgkQtvoGpuDi\nZluqLw/+ORv5xEdE7UmjsTjwMuzc2b4hP8HvBq2HXWQcBuygGtdC7pXHZCJU5ugC\n8JAVX0hKLRHi0id0XBu2z/UfnuIeE3XceDz0opGcSHu3NkOJTzFOFePHkeKSR+lK\nLwI7FlJuVUqWjauQUHrbHkLHLeNKhdLJ4FnVW/eK6nbrTR8fDiCyes8ZCt3nnOpc\niXo9iO0L4W+XwjRjjkOBgq7LRtJ+cTUZbjv6lN4JLLAZWAOcJmgPOGK9qwtfcLKB\nATN/2KyG5LfGRLLymsX3TTJmr99HupIBfH62PczFEiUtkKPSUo9efr7uCGqopDpj\nbl2E1qBPmjTzfc7CTZLPSNxDn1YE9uCox3CR1QRsQID/9KkIpa/hp6jS+yz7CEhT\nyi/OLVPZRotOOPqMLM4Ivz1p58AU1Vax/lDugt6CgttHlmDgOuhtjYtBRr+95DgS\nYa5M1XG+leZe/+RPR5BDvsOAKa9NP8sRueJ3ldDcobaenw5iCuOefo+gS+tA8rki\nJasQ9KnyyyZwVI+zYxMBTl//4WxRxtzzfgL9Ukysp3rQ9RHruyUjP9Xp29jQ9L30\nMi8IcGi4OG0T6WV09CLo68WplgbBRh1SI+gEBmNUYCIdLoucp9kkOOfcDbKg8dDl\nSU1U4YKMZRfhk2Kl8NybFMt1orXLGwRB/1b9rtLSzr9REhRljQw=\n=bKMg\n-----END PGP SIGNATURE-----", "payload": "tree 8d756cadee0bdf40ad6ce6dce6b8f0095b911889\nparent 956987f43e3012c3487973cc0dd47f7c4eaa7942\nauthor Philipp Hansch <dev@phansch.net> 1539716280 +0200\ncommitter Philipp Hansch <dev@phansch.net> 1539716280 +0200\n\nFix dogfood\n\n`expect_fun_call` causes a false-positive, so I disabled it for now.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/05ffc2d05743c0cc4ad5e551c147dc8385e67bac", "html_url": "https://github.com/rust-lang/rust/commit/05ffc2d05743c0cc4ad5e551c147dc8385e67bac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/05ffc2d05743c0cc4ad5e551c147dc8385e67bac/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "956987f43e3012c3487973cc0dd47f7c4eaa7942", "url": "https://api.github.com/repos/rust-lang/rust/commits/956987f43e3012c3487973cc0dd47f7c4eaa7942", "html_url": "https://github.com/rust-lang/rust/commit/956987f43e3012c3487973cc0dd47f7c4eaa7942"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "dcb2de2b1f8ee005326f49979aa540d5aaa13615", "filename": "clippy_dev/src/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/05ffc2d05743c0cc4ad5e551c147dc8385e67bac/clippy_dev%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/05ffc2d05743c0cc4ad5e551c147dc8385e67bac/clippy_dev%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Flib.rs?ref=05ffc2d05743c0cc4ad5e551c147dc8385e67bac", "patch": "@@ -106,6 +106,7 @@ fn lint_files() -> impl Iterator<Item=walkdir::DirEntry> {\n /// `path` is the relative path to the file on which you want to perform the replacement.\n ///\n /// See `replace_region_in_text` for documentation of the other options.\n+#[allow(clippy::expect_fun_call)]\n pub fn replace_region_in_file<F>(path: &str, start: &str, end: &str, replace_start: bool, replacements: F) where F: Fn() -> Vec<String> {\n     let mut f = fs::File::open(path).expect(&format!(\"File not found: {}\", path));\n     let mut contents = String::new();\n@@ -116,7 +117,7 @@ pub fn replace_region_in_file<F>(path: &str, start: &str, end: &str, replace_sta\n     f.write_all(replaced.as_bytes()).expect(\"Unable to write file\");\n     // Ensure we write the changes with a trailing newline so that\n     // the file has the proper line endings.\n-    f.write(b\"\\n\").expect(\"Unable to write file\");\n+    f.write_all(b\"\\n\").expect(\"Unable to write file\");\n }\n \n /// Replace a region in a text delimited by two lines matching regexes."}]}