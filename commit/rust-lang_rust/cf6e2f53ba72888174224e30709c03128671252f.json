{"sha": "cf6e2f53ba72888174224e30709c03128671252f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNmNmUyZjUzYmE3Mjg4ODE3NDIyNGUzMDcwOWMwMzEyODY3MTI1MmY=", "commit": {"author": {"name": "boats", "email": "boats@mozilla.com", "date": "2018-02-20T21:28:51Z"}, "committer": {"name": "boats", "email": "boats@mozilla.com", "date": "2018-02-20T21:28:51Z"}, "message": "Add nonstandard_style alias for bad_style.", "tree": {"sha": "0777792d5899685cb6eff33521020fc48f897ad6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0777792d5899685cb6eff33521020fc48f897ad6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cf6e2f53ba72888174224e30709c03128671252f", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYIAB0WIQSrtBlUz85gHk4onJKSU3shEQpoSwUCWoyTHAAKCRCSU3shEQpo\nS/KeAQDjmdkn/CvI3wHRpcXOoqa1IwUFWtQ/5ipNq02OFRWlhgEAkgugXIvTUYIc\nDnFni8Wt5nK1J6lw3qPFbOsdnK4+JAU=\n=7b8/\n-----END PGP SIGNATURE-----", "payload": "tree 0777792d5899685cb6eff33521020fc48f897ad6\nparent 27a046e9338fb0455c33b13e8fe28da78212dedc\nauthor boats <boats@mozilla.com> 1519162131 -0800\ncommitter boats <boats@mozilla.com> 1519162131 -0800\n\nAdd nonstandard_style alias for bad_style.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cf6e2f53ba72888174224e30709c03128671252f", "html_url": "https://github.com/rust-lang/rust/commit/cf6e2f53ba72888174224e30709c03128671252f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cf6e2f53ba72888174224e30709c03128671252f/comments", "author": null, "committer": null, "parents": [{"sha": "27a046e9338fb0455c33b13e8fe28da78212dedc", "url": "https://api.github.com/repos/rust-lang/rust/commits/27a046e9338fb0455c33b13e8fe28da78212dedc", "html_url": "https://github.com/rust-lang/rust/commit/27a046e9338fb0455c33b13e8fe28da78212dedc"}], "stats": {"total": 109, "additions": 109, "deletions": 0}, "files": [{"sha": "f3c6ff2f2b3a10ba8aeb720eb8adabb67e4bc157", "filename": "src/librustc_lint/lib.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/cf6e2f53ba72888174224e30709c03128671252f/src%2Flibrustc_lint%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf6e2f53ba72888174224e30709c03128671252f/src%2Flibrustc_lint%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_lint%2Flib.rs?ref=cf6e2f53ba72888174224e30709c03128671252f", "patch": "@@ -152,6 +152,12 @@ pub fn register_builtins(store: &mut lint::LintStore, sess: Option<&Session>) {\n                     NON_SNAKE_CASE,\n                     NON_UPPER_CASE_GLOBALS);\n \n+    add_lint_group!(sess,\n+                    \"nonstandard_style\",\n+                    NON_CAMEL_CASE_TYPES,\n+                    NON_SNAKE_CASE,\n+                    NON_UPPER_CASE_GLOBALS);\n+\n     add_lint_group!(sess,\n                     \"unused\",\n                     UNUSED_IMPORTS,"}, {"sha": "14fcf6d821a969216ef9c2b6b2bccbe845176767", "filename": "src/test/ui/lint/lint-group-nonstandard-style.rs", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/cf6e2f53ba72888174224e30709c03128671252f/src%2Ftest%2Fui%2Flint%2Flint-group-nonstandard-style.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf6e2f53ba72888174224e30709c03128671252f/src%2Ftest%2Fui%2Flint%2Flint-group-nonstandard-style.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-group-nonstandard-style.rs?ref=cf6e2f53ba72888174224e30709c03128671252f", "patch": "@@ -0,0 +1,36 @@\n+// Copyright 2014\u20132017 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![deny(nonstandard_style)]\n+#![allow(dead_code)]\n+\n+fn CamelCase() {} //~ ERROR should have a snake\n+\n+#[allow(bad_style)]\n+mod test {\n+    fn CamelCase() {}\n+\n+    #[forbid(bad_style)]\n+    mod bad {\n+        fn CamelCase() {} //~ ERROR should have a snake\n+\n+        static bad: isize = 1; //~ ERROR should have an upper\n+    }\n+\n+    mod warn {\n+        #![warn(bad_style)]\n+\n+        fn CamelCase() {} //~ WARN should have a snake\n+\n+        struct snake_case; //~ WARN should have a camel\n+    }\n+}\n+\n+fn main() {}"}, {"sha": "3466bee74061f49c6ddef5a9a8adce0219d50f1d", "filename": "src/test/ui/lint/lint-group-nonstandard-style.stderr", "status": "added", "additions": 67, "deletions": 0, "changes": 67, "blob_url": "https://github.com/rust-lang/rust/blob/cf6e2f53ba72888174224e30709c03128671252f/src%2Ftest%2Fui%2Flint%2Flint-group-nonstandard-style.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cf6e2f53ba72888174224e30709c03128671252f/src%2Ftest%2Fui%2Flint%2Flint-group-nonstandard-style.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-group-nonstandard-style.stderr?ref=cf6e2f53ba72888174224e30709c03128671252f", "patch": "@@ -0,0 +1,67 @@\n+error: function `CamelCase` should have a snake case name such as `camel_case`\n+  --> $DIR/lint-group-style.rs:14:1\n+   |\n+14 | fn CamelCase() {} //~ ERROR should have a snake\n+   | ^^^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/lint-group-style.rs:11:9\n+   |\n+11 | #![deny(nonstandard_style)]\n+   |         ^^^^^^^^^\n+   = note: #[deny(non_snake_case)] implied by #[deny(nonstandard_style)]\n+\n+error: function `CamelCase` should have a snake case name such as `camel_case`\n+  --> $DIR/lint-group-style.rs:22:9\n+   |\n+22 |         fn CamelCase() {} //~ ERROR should have a snake\n+   |         ^^^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/lint-group-style.rs:20:14\n+   |\n+20 |     #[forbid(nonstandard_style)]\n+   |              ^^^^^^^^^\n+   = note: #[forbid(non_snake_case)] implied by #[forbid(nonstandard_style)]\n+\n+error: static variable `bad` should have an upper case name such as `BAD`\n+  --> $DIR/lint-group-style.rs:24:9\n+   |\n+24 |         static bad: isize = 1; //~ ERROR should have an upper\n+   |         ^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/lint-group-style.rs:20:14\n+   |\n+20 |     #[forbid(nonstandard_style)]\n+   |              ^^^^^^^^^\n+   = note: #[forbid(non_upper_case_globals)] implied by #[forbid(nonstandard_style)]\n+\n+warning: function `CamelCase` should have a snake case name such as `camel_case`\n+  --> $DIR/lint-group-style.rs:30:9\n+   |\n+30 |         fn CamelCase() {} //~ WARN should have a snake\n+   |         ^^^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/lint-group-style.rs:28:17\n+   |\n+28 |         #![warn(nonstandard_style)]\n+   |                 ^^^^^^^^^\n+   = note: #[warn(non_snake_case)] implied by #[warn(nonstandard_style)]\n+\n+warning: type `snake_case` should have a camel case name such as `SnakeCase`\n+  --> $DIR/lint-group-style.rs:32:9\n+   |\n+32 |         struct snake_case; //~ WARN should have a camel\n+   |         ^^^^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/lint-group-style.rs:28:17\n+   |\n+28 |         #![warn(nonstandard_style)]\n+   |                 ^^^^^^^^^\n+   = note: #[warn(non_camel_case_types)] implied by #[warn(nonstandard_style)]\n+\n+error: aborting due to 3 previous errors\n+"}]}