{"sha": "4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRkMmEzYmIxM2JiMDRkM2FkNmMwYTNhZGQ0ODgzYzY0MjAwZmE5NmM=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-03-31T22:10:48Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-04-03T17:18:07Z"}, "message": "Deny internal lints on librustc_typeck", "tree": {"sha": "bbd2f16feb39758a92758a42ee742ad7e6e41a1f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bbd2f16feb39758a92758a42ee742ad7e6e41a1f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAlyk6s8ACgkQaTCGhp1Q\nZjc7Kg/+PlrsN5ERcwAj21SHG2O9n7BqUWgrxYzcZWuY3isdSC0umH8EEZ7v77Y+\nIARPt2Z+HLQDix9/ETTW+Xu2toHeZeUZtDM1ZHVnH9A96m8z6WRyNX1hPpMyp23R\naMO+d279eSsW0I/TDEyfBnAVgOB/ZfHFOa0Fl/6aDNsCZXbL7IIHKU6yuJiQOIG7\nuvby3EPAOwESrOglSU1/3ujQH9veASBDTeXfDbqXUh17TY/Y6LzS21Os3XreFiD+\naciTOehnTNMMBIZUJvoS8rCJe8fBsPnbhdx8iCZ2zW6H/LFzugoM4C5ZmVSxyl7L\nKoyku3PF8zzQjr3dQ2wQyr4WzFrYSo1JZQuEr2nvzy+TKr+PhZz0HPg4YS44QUZ+\njDGkF2g4bOw1pdXaqpcEl2YtekU4IstGMuCMf3bh0RqpIxe2cHKYTXsNOdhSsOGm\n5DEQNQTQIoy4h1+WkahmqMZPCTYnBQHvLhQ57+wUeo5AvVWVT4ngVP5sTZSqO6Nu\nAD9C9369AXHFZ0cVEqzhxlJ4hI3WqhqSgOKgqMv4e3SzZwyJfuBNSG/EBN/acaVk\nOXp/l0Ggxye/eZITK8X5gz1kZwGENn4y5ukDoP7/OZvZo1l8mfusa2/yQgVbX3ts\n/dkkOW3T+OCVgE3yHgZzBaI+o24tL3N0JlEfxVY1FjuKJrDBWAk=\n=gs++\n-----END PGP SIGNATURE-----", "payload": "tree bbd2f16feb39758a92758a42ee742ad7e6e41a1f\nparent e4b87f5edb3b5b0442a5fbe887bfc85068b6a4ef\nauthor flip1995 <hello@philkrones.com> 1554070248 +0200\ncommitter flip1995 <hello@philkrones.com> 1554311887 +0200\n\nDeny internal lints on librustc_typeck\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c", "html_url": "https://github.com/rust-lang/rust/commit/4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e4b87f5edb3b5b0442a5fbe887bfc85068b6a4ef", "url": "https://api.github.com/repos/rust-lang/rust/commits/e4b87f5edb3b5b0442a5fbe887bfc85068b6a4ef", "html_url": "https://github.com/rust-lang/rust/commit/e4b87f5edb3b5b0442a5fbe887bfc85068b6a4ef"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "fba6a607eef06bc6d57e808f480cbe17508432b5", "filename": "src/librustc_typeck/astconv.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c/src%2Flibrustc_typeck%2Fastconv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c/src%2Flibrustc_typeck%2Fastconv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fastconv.rs?ref=4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c", "patch": "@@ -102,6 +102,7 @@ enum GenericArgPosition {\n /// Dummy type used for the `Self` of a `TraitRef` created for converting\n /// a trait object, and which gets removed in `ExistentialTraitRef`.\n /// This type must not appear anywhere in other converted types.\n+#[cfg_attr(not(stage0), allow(usage_of_ty_tykind))]\n const TRAIT_OBJECT_DUMMY_SELF: ty::TyKind<'static> = ty::Infer(ty::FreshTy(0));\n \n impl<'o, 'gcx: 'tcx, 'tcx> dyn AstConv<'gcx, 'tcx> + 'o {"}, {"sha": "d108e7c3107afdde3fa02294f7979fa5e63d21b6", "filename": "src/librustc_typeck/check/wfcheck.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fwfcheck.rs?ref=4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c", "patch": "@@ -3,7 +3,7 @@ use crate::constrained_generic_params::{identify_constrained_generic_params, Par\n \n use crate::hir::def_id::DefId;\n use rustc::traits::{self, ObligationCauseCode};\n-use rustc::ty::{self, Lift, Ty, TyCtxt, TyKind, GenericParamDefKind, TypeFoldable, ToPredicate};\n+use rustc::ty::{self, Lift, Ty, TyCtxt, GenericParamDefKind, TypeFoldable, ToPredicate};\n use rustc::ty::subst::{Subst, InternalSubsts};\n use rustc::util::nodemap::{FxHashSet, FxHashMap};\n use rustc::mir::interpret::ConstValue;\n@@ -354,7 +354,7 @@ fn check_item_type<'a, 'tcx>(\n \n         let mut forbid_unsized = true;\n         if allow_foreign_ty {\n-            if let TyKind::Foreign(_) = fcx.tcx.struct_tail(item_ty).sty {\n+            if let ty::Foreign(_) = fcx.tcx.struct_tail(item_ty).sty {\n                 forbid_unsized = false;\n             }\n         }"}, {"sha": "4a7b1e67366e8359a389e7fa83a1504bb2a24776", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=4d2a3bb13bb04d3ad6c0a3add4883c64200fa96c", "patch": "@@ -71,6 +71,7 @@ This API is completely unstable and subject to change.\n #![recursion_limit=\"256\"]\n \n #![deny(rust_2018_idioms)]\n+#![cfg_attr(not(stage0), deny(internal))]\n #![allow(explicit_outlives_requirements)]\n \n #[macro_use] extern crate log;"}]}