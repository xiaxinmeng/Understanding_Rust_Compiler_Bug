{"sha": "ce0be229d7fe5935d50368d43229ba8fe9de6795", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlMGJlMjI5ZDdmZTU5MzVkNTAzNjhkNDMyMjliYThmZTlkZTY3OTU=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2019-09-07T18:07:55Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2019-09-08T17:18:17Z"}, "message": "Use upstream cranelift", "tree": {"sha": "5546a5aed8d600aed91d6a7d8842c8215049abdd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5546a5aed8d600aed91d6a7d8842c8215049abdd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ce0be229d7fe5935d50368d43229ba8fe9de6795", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ce0be229d7fe5935d50368d43229ba8fe9de6795", "html_url": "https://github.com/rust-lang/rust/commit/ce0be229d7fe5935d50368d43229ba8fe9de6795", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ce0be229d7fe5935d50368d43229ba8fe9de6795/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b0e5c78ad2c4e0b7fba996e77972268c5a33a011", "url": "https://api.github.com/repos/rust-lang/rust/commits/b0e5c78ad2c4e0b7fba996e77972268c5a33a011", "html_url": "https://github.com/rust-lang/rust/commit/b0e5c78ad2c4e0b7fba996e77972268c5a33a011"}], "stats": {"total": 210, "additions": 101, "deletions": 109}, "files": [{"sha": "bbf2431db3d1dfa9fc93cf7281c4125aca0b4bce", "filename": "Cargo.lock", "status": "modified", "additions": 79, "deletions": 79, "changes": 158, "blob_url": "https://github.com/rust-lang/rust/blob/ce0be229d7fe5935d50368d43229ba8fe9de6795/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/ce0be229d7fe5935d50368d43229ba8fe9de6795/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=ce0be229d7fe5935d50368d43229ba8fe9de6795", "patch": "@@ -69,104 +69,104 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"cranelift\"\n-version = \"0.36.0\"\n-source = \"git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128#e1f9de3c2b631933e79419bd5626c3f49abaebe1\"\n+version = \"0.42.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#08475219ca1aa1d23c80e89534f35fbc99fbe0d7\"\n dependencies = [\n- \"cranelift-codegen 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"cranelift-frontend 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n+ \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-frontend 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n ]\n \n [[package]]\n name = \"cranelift-bforest\"\n-version = \"0.36.0\"\n-source = \"git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128#e1f9de3c2b631933e79419bd5626c3f49abaebe1\"\n+version = \"0.42.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#08475219ca1aa1d23c80e89534f35fbc99fbe0d7\"\n dependencies = [\n- \"cranelift-entity 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n+ \"cranelift-entity 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n ]\n \n [[package]]\n name = \"cranelift-codegen\"\n-version = \"0.36.0\"\n-source = \"git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128#e1f9de3c2b631933e79419bd5626c3f49abaebe1\"\n+version = \"0.42.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#08475219ca1aa1d23c80e89534f35fbc99fbe0d7\"\n dependencies = [\n- \"cranelift-bforest 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"cranelift-codegen-meta 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"cranelift-entity 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n+ \"cranelift-bforest 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-codegen-meta 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-entity 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure_derive 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"target-lexicon 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"target-lexicon 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"cranelift-codegen-meta\"\n-version = \"0.36.0\"\n-source = \"git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128#e1f9de3c2b631933e79419bd5626c3f49abaebe1\"\n+version = \"0.42.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#08475219ca1aa1d23c80e89534f35fbc99fbe0d7\"\n dependencies = [\n- \"cranelift-entity 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n+ \"cranelift-entity 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n ]\n \n [[package]]\n name = \"cranelift-entity\"\n-version = \"0.36.0\"\n-source = \"git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128#e1f9de3c2b631933e79419bd5626c3f49abaebe1\"\n+version = \"0.42.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#08475219ca1aa1d23c80e89534f35fbc99fbe0d7\"\n \n [[package]]\n name = \"cranelift-faerie\"\n-version = \"0.36.0\"\n-source = \"git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128#e1f9de3c2b631933e79419bd5626c3f49abaebe1\"\n+version = \"0.42.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#08475219ca1aa1d23c80e89534f35fbc99fbe0d7\"\n dependencies = [\n- \"cranelift-codegen 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"cranelift-module 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"faerie 0.10.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-module 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"faerie 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"goblin 0.0.22 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"target-lexicon 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"goblin 0.0.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"target-lexicon 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"cranelift-frontend\"\n-version = \"0.36.0\"\n-source = \"git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128#e1f9de3c2b631933e79419bd5626c3f49abaebe1\"\n+version = \"0.42.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#08475219ca1aa1d23c80e89534f35fbc99fbe0d7\"\n dependencies = [\n- \"cranelift-codegen 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n+ \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"log 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"target-lexicon 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"target-lexicon 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"cranelift-module\"\n-version = \"0.36.0\"\n-source = \"git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128#e1f9de3c2b631933e79419bd5626c3f49abaebe1\"\n+version = \"0.42.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#08475219ca1aa1d23c80e89534f35fbc99fbe0d7\"\n dependencies = [\n- \"cranelift-codegen 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"cranelift-entity 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n+ \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-entity 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"cranelift-native\"\n-version = \"0.36.0\"\n-source = \"git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128#e1f9de3c2b631933e79419bd5626c3f49abaebe1\"\n+version = \"0.42.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#08475219ca1aa1d23c80e89534f35fbc99fbe0d7\"\n dependencies = [\n- \"cranelift-codegen 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n+ \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"raw-cpuid 6.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"target-lexicon 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"target-lexicon 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"cranelift-simplejit\"\n-version = \"0.36.0\"\n-source = \"git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128#e1f9de3c2b631933e79419bd5626c3f49abaebe1\"\n+version = \"0.42.0\"\n+source = \"git+https://github.com/CraneStation/cranelift.git#08475219ca1aa1d23c80e89534f35fbc99fbe0d7\"\n dependencies = [\n- \"cranelift-codegen 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"cranelift-module 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"cranelift-native 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n+ \"cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-module 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-native 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"errno 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.62 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"region 2.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"target-lexicon 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"target-lexicon 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -199,16 +199,16 @@ dependencies = [\n \n [[package]]\n name = \"faerie\"\n-version = \"0.10.2\"\n+version = \"0.11.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"goblin 0.0.23 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"goblin 0.0.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"indexmap 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"scroll 0.9.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"string-interner 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"target-lexicon 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"string-interner 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"target-lexicon 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -286,17 +286,7 @@ dependencies = [\n \n [[package]]\n name = \"goblin\"\n-version = \"0.0.22\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"log 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"plain 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"scroll 0.9.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"goblin\"\n-version = \"0.0.23\"\n+version = \"0.0.24\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"log 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -498,17 +488,17 @@ dependencies = [\n  \"ar 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"bitflags 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"byteorder 1.3.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cranelift 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"cranelift-faerie 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"cranelift-module 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"cranelift-simplejit 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n- \"faerie 0.10.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-faerie 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-module 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"cranelift-simplejit 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\",\n+ \"faerie 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"gimli 0.19.0 (git+https://github.com/gimli-rs/gimli.git)\",\n  \"indexmap 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.62 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libloading 0.5.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"object 0.12.0 (git+https://github.com/gimli-rs/object.git)\",\n- \"target-lexicon 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"target-lexicon 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"tempfile 3.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -579,7 +569,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"string-interner\"\n-version = \"0.6.3\"\n+version = \"0.7.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"serde 1.0.99 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -616,6 +606,16 @@ dependencies = [\n  \"serde_json 1.0.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n+[[package]]\n+name = \"target-lexicon\"\n+version = \"0.8.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+dependencies = [\n+ \"failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"failure_derive 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n+]\n+\n [[package]]\n name = \"tempfile\"\n version = \"3.1.0\"\n@@ -674,20 +674,20 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum c2-chacha 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7d64d04786e0f528460fc884753cf8dddcc466be308f6026f8e355c41a0e4101\"\n \"checksum cc 1.0.40 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b548a4ee81fccb95919d4e22cfea83c7693ebfd78f0495493178db20b3139da7\"\n \"checksum cfg-if 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b486ce3ccf7ffd79fdeb678eac06a9e6c09fc88d33836340becb8fffe87c5e33\"\n-\"checksum cranelift 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\" = \"<none>\"\n-\"checksum cranelift-bforest 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\" = \"<none>\"\n-\"checksum cranelift-codegen 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\" = \"<none>\"\n-\"checksum cranelift-codegen-meta 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\" = \"<none>\"\n-\"checksum cranelift-entity 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\" = \"<none>\"\n-\"checksum cranelift-faerie 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\" = \"<none>\"\n-\"checksum cranelift-frontend 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\" = \"<none>\"\n-\"checksum cranelift-module 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\" = \"<none>\"\n-\"checksum cranelift-native 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\" = \"<none>\"\n-\"checksum cranelift-simplejit 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\" = \"<none>\"\n+\"checksum cranelift 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-bforest 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-codegen 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-codegen-meta 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-entity 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-faerie 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-frontend 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-module 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-native 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n+\"checksum cranelift-simplejit 0.42.0 (git+https://github.com/CraneStation/cranelift.git)\" = \"<none>\"\n \"checksum crc32fast 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ba125de2af0df55319f41944744ad91c71113bf74a4646efff39afe1f6842db1\"\n \"checksum errno 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c2a071601ed01b988f896ab14b95e67335d1eeb50190932a1320f7fe3cadc84e\"\n \"checksum errno-dragonfly 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"14ca354e36190500e1e1fb267c647932382b54053c50b14970856c0b00a35067\"\n-\"checksum faerie 0.10.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1d2467155f3071b96447d53af110805cadbe9162f5be6c300792fb76c0e54051\"\n+\"checksum faerie 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"875d78b92b2a4d9e1e2c7eeccfa30a327d2ee6434db3beb8fd6fd92f41898bc4\"\n \"checksum failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"795bd83d3abeb9220f257e597aa0080a508b27533824adf336529648f6abf7e2\"\n \"checksum failure_derive 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ea1063915fd7ef4309e222a5a07cf9c319fb9c7836b1f89b85458672dbb127e1\"\n \"checksum fallible-iterator 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4443176a9f2c162692bd3d352d745ef9413eec5782a80d8fd6f8a1ac692a07f7\"\n@@ -696,8 +696,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum getrandom 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fc344b02d3868feb131e8b5fe2b9b0a1cc42942679af493061fc13b853243872\"\n \"checksum gimli 0.19.0 (git+https://github.com/gimli-rs/gimli.git)\" = \"<none>\"\n \"checksum goblin 0.0.22 (git+https://github.com/m4b/goblin?rev=e57f2d4e3a089dca89c63bcfc0dbde3e6d647f83)\" = \"<none>\"\n-\"checksum goblin 0.0.22 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7f55d53401eb2fd30afd025c570b1946b6966344acf21b42e31286f3bf89e6a8\"\n-\"checksum goblin 0.0.23 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ac56b4753b6b8c2e052ca30717e5a09acf1b02a2c1681bf3d883bd660e5d22bd\"\n+\"checksum goblin 0.0.24 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e3fa261d919c1ae9d1e4533c4a2f99e10938603c4208d56c05bec7a872b661b0\"\n \"checksum indexmap 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a4d6d89e0948bf10c08b9ecc8ac5b83f07f857ebe2c0cbe38de15b4e4f510356\"\n \"checksum itoa 0.4.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"501266b7edd0174f8530248f87f99c88fbe60ca4ef3dd486835b8d8d53136f7f\"\n \"checksum lazy_static 1.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e2abad23fbc42b3700f2f279844dc832adb2b2eb069b2df918f455c4e18cc646\"\n@@ -732,10 +731,11 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum serde 1.0.99 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fec2851eb56d010dc9a21b89ca53ee75e6528bab60c11e89d38390904982da9f\"\n \"checksum serde_json 1.0.40 (registry+https://github.com/rust-lang/crates.io-index)\" = \"051c49229f282f7c6f3813f8286cc1e3323e8051823fce42c7ea80fe13521704\"\n \"checksum stable_deref_trait 1.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"dba1a27d3efae4351c8051072d619e3ade2820635c3958d826bfea39d59b54c8\"\n-\"checksum string-interner 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"abb38a0d8fe673c40b10b6b75abcb076a958cc10fb894f14993d9737c4c87000\"\n+\"checksum string-interner 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fd710eadff449a1531351b0e43eb81ea404336fa2f56c777427ab0e32a4cf183\"\n \"checksum syn 0.15.44 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9ca4b3b69a77cbe1ffc9e198781b7acb0c7365a883670e8f1c1bc66fba79a5c5\"\n \"checksum synstructure 0.10.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"02353edf96d6e4dc81aea2d8490a7e9db177bf8acb0e951c24940bf866cb313f\"\n \"checksum target-lexicon 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1b0ab4982b8945c35cc1c46a83a9094c414f6828a099ce5dcaa8ee2b04642dcb\"\n+\"checksum target-lexicon 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7975cb2c6f37d77b190bc5004a2bb015971464756fde9514651a525ada2a741a\"\n \"checksum tempfile 3.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7a6e24d9338a0a5be79593e2fa15a648add6138caa803e2d5bc782c371732ca9\"\n \"checksum unicode-xid 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fc72304796d0818e357ead4e000d19c9c174ab23dc11093ac919054d20a6a7fc\"\n \"checksum uuid 0.7.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"90dbc611eb48397705a6b0f6e917da23ae517e4d127123d2cf7674206627d32a\""}, {"sha": "823279d56f5dce7e471e3e77820c1d33b0e3b559", "filename": "Cargo.toml", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ce0be229d7fe5935d50368d43229ba8fe9de6795/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/ce0be229d7fe5935d50368d43229ba8fe9de6795/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=ce0be229d7fe5935d50368d43229ba8fe9de6795", "patch": "@@ -14,8 +14,8 @@ crate-type = [\"dylib\"]\n cranelift = { git = \"https://github.com/CraneStation/cranelift.git\" }\n cranelift-module = { git = \"https://github.com/CraneStation/cranelift.git\" }\n cranelift-faerie = { git = \"https://github.com/CraneStation/cranelift.git\" }\n-target-lexicon = \"0.4.0\"\n-faerie = \"0.10.2\"\n+target-lexicon = \"0.8.1\"\n+faerie = \"0.11.0\"\n \n #goblin = \"0.0.17\"\n ar = \"0.8.0\"\n@@ -28,12 +28,6 @@ indexmap = \"1.0.2\"\n object = \"0.12.0\"\n libloading = \"0.5.1\"\n \n-[patch.\"https://github.com/CraneStation/cranelift.git\"]\n-cranelift = { git = \"https://github.com/bjorn3/cretonne.git\", branch = \"do_not_remove_cg_clif_i128\" }\n-cranelift-module = { git = \"https://github.com/bjorn3/cretonne.git\", branch = \"do_not_remove_cg_clif_i128\" }\n-cranelift-simplejit = { git = \"https://github.com/bjorn3/cretonne.git\", branch = \"do_not_remove_cg_clif_i128\" }\n-cranelift-faerie = { git = \"https://github.com/bjorn3/cretonne.git\", branch = \"do_not_remove_cg_clif_i128\" }\n-\n # Uncomment to use local checkout of cranelift\n #[patch.\"https://github.com/CraneStation/cranelift.git\"]\n #cranelift = { path = \"../cranelift/cranelift-umbrella\" }"}, {"sha": "d4a1f1a49faf59bd222c52a9b1e8e1421cc88ff2", "filename": "src/allocator.rs", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Fallocator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Fallocator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fallocator.rs?ref=ce0be229d7fe5935d50368d43229ba8fe9de6795", "patch": "@@ -73,10 +73,8 @@ pub fn codegen_inner(module: &mut Module<impl Backend + 'static>, kind: Allocato\n             .unwrap();\n \n         let mut ctx = Context::new();\n-        ctx.func = Function::with_name_signature(ExternalName::user(0, 0), sig.clone());\n-        {\n-            let mut func_ctx = FunctionBuilderContext::new();\n-            let mut bcx = FunctionBuilder::new(&mut ctx.func, &mut func_ctx);\n+        ctx.func = {\n+            let mut bcx = FunctionBuilder::new(Function::with_name_signature(ExternalName::user(0, 0), sig.clone()));\n \n             let ebb = bcx.create_ebb();\n             bcx.switch_to_block(ebb);\n@@ -92,8 +90,9 @@ pub fn codegen_inner(module: &mut Module<impl Backend + 'static>, kind: Allocato\n             let results = bcx.inst_results(call_inst).to_vec(); // Clone to prevent borrow error\n             bcx.ins().return_(&results);\n             bcx.seal_all_blocks();\n-            bcx.finalize();\n-        }\n+            bcx.finalize()\n+        };\n+\n         module.define_function(func_id, &mut ctx).unwrap();\n     }\n }"}, {"sha": "81735ef7a6275f8bb1aa68ae4cf628d693a75800", "filename": "src/base.rs", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbase.rs?ref=ce0be229d7fe5935d50368d43229ba8fe9de6795", "patch": "@@ -19,10 +19,8 @@ pub fn trans_fn<'clif, 'tcx, B: Backend + 'static>(\n         .as_mut()\n         .map(|debug_context| FunctionDebugContext::new(tcx, debug_context, mir, &name, &sig));\n \n-    // Make FunctionBuilder\n-    let mut func = Function::with_name_signature(ExternalName::user(0, 0), sig);\n-    let mut func_ctx = FunctionBuilderContext::new();\n-    let mut bcx = FunctionBuilder::new(&mut func, &mut func_ctx);\n+    // FIXME reuse Function and FunctionBuilder between multiple trans_fn calls\n+    let mut bcx = FunctionBuilder::new(Function::with_name_signature(ExternalName::user(0, 0), sig));\n \n     // Predefine ebb's\n     let start_ebb = bcx.create_ebb();\n@@ -58,6 +56,9 @@ pub fn trans_fn<'clif, 'tcx, B: Backend + 'static>(\n         codegen_fn_content(&mut fx);\n     });\n \n+    fx.bcx.seal_all_blocks();\n+    let func = fx.bcx.finalize();\n+\n     // Recover all necessary data from fx, before accessing func will prevent future access to it.\n     let instance = fx.instance;\n     let clif_comments = fx.clif_comments;\n@@ -238,9 +239,6 @@ fn codegen_fn_content(fx: &mut FunctionCx<'_, '_, impl Backend>) {\n             }\n         };\n     }\n-\n-    fx.bcx.seal_all_blocks();\n-    fx.bcx.finalize();\n }\n \n fn trans_stmt<'tcx>("}, {"sha": "2d2aa7e1a1d71d573d9992cab4b2789c177ea3ba", "filename": "src/codegen_i128.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Fcodegen_i128.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Fcodegen_i128.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcodegen_i128.rs?ref=ce0be229d7fe5935d50368d43229ba8fe9de6795", "patch": "@@ -98,7 +98,7 @@ pub fn maybe_codegen<'tcx>(\n             // Optimize `val >> 64`, because compiler_builtins uses it to deconstruct an 128bit\n             // integer into its lsb and msb.\n             // https://github.com/rust-lang-nursery/compiler-builtins/blob/79a6a1603d5672cbb9187ff41ff4d9b5048ac1cb/src/int/mod.rs#L217\n-            if let Some(64) = resolve_value_imm(fx.bcx.func, rhs_val) {\n+            if let Some(64) = resolve_value_imm(&fx.bcx.func, rhs_val) {\n                 let (lhs_lsb, lhs_msb) = fx.bcx.ins().isplit(lhs_val);\n                 let all_zeros = fx.bcx.ins().iconst(types::I64, 0);\n                 let val = match (bin_op, is_signed) {"}, {"sha": "fbb60713bd0d95f3804379a397c2457e6d915e34", "filename": "src/common.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcommon.rs?ref=ce0be229d7fe5935d50368d43229ba8fe9de6795", "patch": "@@ -269,7 +269,7 @@ pub struct FunctionCx<'clif, 'tcx, B: Backend + 'static> {\n     pub instance: Instance<'tcx>,\n     pub mir: &'tcx Body<'tcx>,\n \n-    pub bcx: FunctionBuilder<'clif>,\n+    pub bcx: FunctionBuilder,\n     pub ebb_map: HashMap<BasicBlock, Ebb>,\n     pub local_map: HashMap<Local, CPlace<'tcx>>,\n "}, {"sha": "ae2e16690b764bcf0bf20b0189604b605891980b", "filename": "src/main_shim.rs", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Fmain_shim.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Fmain_shim.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmain_shim.rs?ref=ce0be229d7fe5935d50368d43229ba8fe9de6795", "patch": "@@ -56,10 +56,10 @@ pub fn maybe_create_entry_wrapper(tcx: TyCtxt<'_>, module: &mut Module<impl Back\n             .unwrap();\n \n         let mut ctx = Context::new();\n-        ctx.func = Function::with_name_signature(ExternalName::user(0, 0), cmain_sig.clone());\n-        {\n-            let mut func_ctx = FunctionBuilderContext::new();\n-            let mut bcx: FunctionBuilder = FunctionBuilder::new(&mut ctx.func, &mut func_ctx);\n+        ctx.func = {\n+            let mut bcx: FunctionBuilder = FunctionBuilder::new(\n+                Function::with_name_signature(ExternalName::user(0, 0), cmain_sig.clone())\n+            );\n \n             let ebb = bcx.create_ebb();\n             bcx.switch_to_block(ebb);\n@@ -93,8 +93,9 @@ pub fn maybe_create_entry_wrapper(tcx: TyCtxt<'_>, module: &mut Module<impl Back\n             let result = bcx.inst_results(call_inst)[0];\n             bcx.ins().return_(&[result]);\n             bcx.seal_all_blocks();\n-            bcx.finalize();\n-        }\n+            bcx.finalize()\n+        };\n+\n         m.define_function(cmain_func_id, &mut ctx).unwrap();\n     }\n }"}, {"sha": "849c5325109c5d57e6b831ba110f55cefc61b0e3", "filename": "src/trap.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Ftrap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce0be229d7fe5935d50368d43229ba8fe9de6795/src%2Ftrap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftrap.rs?ref=ce0be229d7fe5935d50368d43229ba8fe9de6795", "patch": "@@ -36,7 +36,7 @@ fn codegen_print(fx: &mut FunctionCx<'_, '_, impl cranelift_module::Backend>, ms\n     // Ignore DuplicateDefinition error, as the data will be the same\n     let _ = fx.module.define_data(msg_id, &data_ctx);\n \n-    let local_msg_id = fx.module.declare_data_in_func(msg_id, fx.bcx.func);\n+    let local_msg_id = fx.module.declare_data_in_func(msg_id, &mut fx.bcx.func);\n     #[cfg(debug_assertions)]\n     {\n         fx.add_entity_comment(local_msg_id, msg);"}]}