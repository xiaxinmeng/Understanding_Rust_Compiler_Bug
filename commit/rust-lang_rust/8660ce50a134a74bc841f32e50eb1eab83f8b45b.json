{"sha": "8660ce50a134a74bc841f32e50eb1eab83f8b45b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg2NjBjZTUwYTEzNGE3NGJjODQxZjMyZTUwZWIxZWFiODNmOGI0NWI=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-07-02T23:27:39Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-07-02T23:27:39Z"}, "message": "Merge branch 'master' of git@github.com:graydon/rust into exterior_and_mutable_types", "tree": {"sha": "aeb7795b09c1d2507198cfa8642ef797d685bc8f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/aeb7795b09c1d2507198cfa8642ef797d685bc8f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8660ce50a134a74bc841f32e50eb1eab83f8b45b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8660ce50a134a74bc841f32e50eb1eab83f8b45b", "html_url": "https://github.com/rust-lang/rust/commit/8660ce50a134a74bc841f32e50eb1eab83f8b45b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8660ce50a134a74bc841f32e50eb1eab83f8b45b/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "026cdf97474402f206a8627a533809c4751abe8b", "url": "https://api.github.com/repos/rust-lang/rust/commits/026cdf97474402f206a8627a533809c4751abe8b", "html_url": "https://github.com/rust-lang/rust/commit/026cdf97474402f206a8627a533809c4751abe8b"}, {"sha": "5a07e98c5d8f61ff5d1efd28c36337a30d6e86d6", "url": "https://api.github.com/repos/rust-lang/rust/commits/5a07e98c5d8f61ff5d1efd28c36337a30d6e86d6", "html_url": "https://github.com/rust-lang/rust/commit/5a07e98c5d8f61ff5d1efd28c36337a30d6e86d6"}], "stats": {"total": 35, "additions": 23, "deletions": 12}, "files": [{"sha": "fa02a2a228afacc5bb0ea5abdb1fe1a1fa138669", "filename": "src/Makefile", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/8660ce50a134a74bc841f32e50eb1eab83f8b45b/src%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/8660ce50a134a74bc841f32e50eb1eab83f8b45b/src%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FMakefile?ref=8660ce50a134a74bc841f32e50eb1eab83f8b45b", "patch": "@@ -325,7 +325,7 @@ TEST_XFAILS_X86 :=  test/run-pass/mlist-cycle.rs \\\n                     test/run-pass/vec-slice.rs \\\n                     test/run-pass/fn-lval.rs \\\n                     test/run-pass/generic-fn-infer.rs \\\n-                    test/run-pass/generic-obj.rs \\\n+                    test/run-pass/generic-fn-twice.rs \\\n                     test/run-pass/generic-recursive-tag.rs \\\n                     test/run-pass/mutable-alias-vec.rs \\\n                     test/run-pass/mutable-vec-drop.rs \\\n@@ -372,6 +372,7 @@ TEST_XFAILS_LLVM := $(addprefix test/run-pass/, \\\n                       generic-drop-glue.rs \\\n                       generic-exterior-box.rs \\\n                       generic-fn-infer.rs \\\n+                      generic-fn-twice.rs \\\n                       generic-fn.rs \\\n                       generic-obj-with-derived-type.rs \\\n                       generic-obj.rs \\"}, {"sha": "641df88443ad40384f1853ef4cea43c7bb850fe9", "filename": "src/boot/me/resolve.ml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8660ce50a134a74bc841f32e50eb1eab83f8b45b/src%2Fboot%2Fme%2Fresolve.ml", "raw_url": "https://github.com/rust-lang/rust/raw/8660ce50a134a74bc841f32e50eb1eab83f8b45b/src%2Fboot%2Fme%2Fresolve.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Fresolve.ml?ref=8660ce50a134a74bc841f32e50eb1eab83f8b45b", "patch": "@@ -931,7 +931,7 @@ let pattern_resolving_visitor\n         Ast.PAT_tag (lval, pats) ->\n           let lval_nm = lval_to_name lval in\n           let lval_id = lval_base_id lval in\n-          let tag_ctor_id = lval_to_referent cx lval_id in\n+          let tag_ctor_id = (lval_item cx lval).id in\n             if referent_is_item cx tag_ctor_id\n \n             (* FIXME (issue #76): we should actually check here that the"}, {"sha": "8d2ed8ac5ea51aac5260f10f61dc8b14fdd8c835", "filename": "src/boot/me/semant.ml", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/8660ce50a134a74bc841f32e50eb1eab83f8b45b/src%2Fboot%2Fme%2Fsemant.ml", "raw_url": "https://github.com/rust-lang/rust/raw/8660ce50a134a74bc841f32e50eb1eab83f8b45b/src%2Fboot%2Fme%2Fsemant.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Fme%2Fsemant.ml?ref=8660ce50a134a74bc841f32e50eb1eab83f8b45b", "patch": "@@ -432,15 +432,15 @@ let fn_output_ty (fn_ty:Ast.ty) : Ast.ty =\n (* name of tag constructor function -> name for indexing in the ty_tag *)\n let rec tag_ctor_name_to_tag_name (name:Ast.name) : Ast.name =\n   match name with\n-      Ast.NAME_base nb ->\n-        begin\n-          match nb with\n-              Ast.BASE_ident _ -> name\n-            | Ast.BASE_app (id, _) -> Ast.NAME_base (Ast.BASE_ident id)\n-            | _ ->\n-                bug () \"tag_or_iso_ty_tup_by_name with non-tag-ctor name\"\n-        end\n-    | Ast.NAME_ext (inner_name, _) -> tag_ctor_name_to_tag_name inner_name\n+      Ast.NAME_base (Ast.BASE_ident _) -> name\n+    | Ast.NAME_base (Ast.BASE_app (id, _)) ->\n+        Ast.NAME_base (Ast.BASE_ident id)\n+\n+    | Ast.NAME_ext (_, Ast.COMP_ident id)\n+    | Ast.NAME_ext (_, Ast.COMP_app (id, _)) ->\n+        Ast.NAME_base (Ast.BASE_ident id)\n+\n+    | _ -> bug () \"tag_or_iso_ty_tup_by_name with non-tag-ctor name\"\n ;;\n \n let tag_or_iso_ty_tup_by_name (ty:Ast.ty) (name:Ast.name) : Ast.ty_tup ="}, {"sha": "0c6257f887411fb4f3cbedc33ed756f595c791a2", "filename": "src/test/run-pass/generic-fn-twice.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/8660ce50a134a74bc841f32e50eb1eab83f8b45b/src%2Ftest%2Frun-pass%2Fgeneric-fn-twice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8660ce50a134a74bc841f32e50eb1eab83f8b45b/src%2Ftest%2Frun-pass%2Fgeneric-fn-twice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fgeneric-fn-twice.rs?ref=8660ce50a134a74bc841f32e50eb1eab83f8b45b", "patch": "@@ -0,0 +1,10 @@\n+// -*- rust -*-\n+\n+mod foomod {\n+  fn foo[T]() {}\n+}\n+\n+fn main() {\n+  foomod.foo[int]();\n+  foomod.foo[int]();\n+}"}, {"sha": "1ff7d180a7f67e64b5fc1956e44a37283e4adff9", "filename": "src/test/run-pass/generic-obj.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8660ce50a134a74bc841f32e50eb1eab83f8b45b/src%2Ftest%2Frun-pass%2Fgeneric-obj.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8660ce50a134a74bc841f32e50eb1eab83f8b45b/src%2Ftest%2Frun-pass%2Fgeneric-obj.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fgeneric-obj.rs?ref=8660ce50a134a74bc841f32e50eb1eab83f8b45b", "patch": "@@ -11,7 +11,7 @@ obj buf[T](tup(T,T,T) data) {\n     }\n   }\n \n-  fn take(T t) {}\n+  fn take(&T t) {}\n }\n \n fn main() {"}]}