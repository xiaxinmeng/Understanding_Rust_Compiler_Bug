{"sha": "e2d32b74ecedc3f603def4d5130c0c300edce7d1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUyZDMyYjc0ZWNlZGMzZjYwM2RlZjRkNTEzMGMwYzMwMGVkY2U3ZDE=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2015-03-20T00:00:28Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2015-03-20T07:13:11Z"}, "message": "Rollup merge of #23525 - steveklabnik:test_tasks, r=alexcrichton\n\n We don't use 'task' anymore, these are now threads.\n\nBecause this changes the name of a compiler option, this is\n\n[breaking-change]\n\nI think this is small enough to not need an RFC, nor a period of accepting both. If we want to take both for a while, I can change the patch.", "tree": {"sha": "71701d461401f85bf055d2db4593fe2b48399230", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/71701d461401f85bf055d2db4593fe2b48399230"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e2d32b74ecedc3f603def4d5130c0c300edce7d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e2d32b74ecedc3f603def4d5130c0c300edce7d1", "html_url": "https://github.com/rust-lang/rust/commit/e2d32b74ecedc3f603def4d5130c0c300edce7d1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e2d32b74ecedc3f603def4d5130c0c300edce7d1/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3e433738fb1ab9f353c943d60061d72024c6af07", "url": "https://api.github.com/repos/rust-lang/rust/commits/3e433738fb1ab9f353c943d60061d72024c6af07", "html_url": "https://github.com/rust-lang/rust/commit/3e433738fb1ab9f353c943d60061d72024c6af07"}, {"sha": "7cbc42849f7586d3c567d7ac8f202839f9b968e8", "url": "https://api.github.com/repos/rust-lang/rust/commits/7cbc42849f7586d3c567d7ac8f202839f9b968e8", "html_url": "https://github.com/rust-lang/rust/commit/7cbc42849f7586d3c567d7ac8f202839f9b968e8"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "153092d26f656721fb11734a0f3dce0920813240", "filename": "Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2d32b74ecedc3f603def4d5130c0c300edce7d1/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/e2d32b74ecedc3f603def4d5130c0c300edce7d1/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=e2d32b74ecedc3f603def4d5130c0c300edce7d1", "patch": "@@ -97,7 +97,7 @@\n #     make check-stage1-rpass TESTNAME=my-shiny-new-test\n #\n #     // Having trouble figuring out which test is failing? Turn off parallel tests\n-#     make check-stage1-std RUST_TEST_TASKS=1\n+#     make check-stage1-std RUST_TEST_THREADS=1\n #\n # This is hardly all there is to know of The Rust Build System's\n # mysteries. The tale continues on the wiki[1]."}, {"sha": "01c4e99b77c70a25daa503a95ac2f1d45a093f0d", "filename": "src/compiletest/compiletest.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e2d32b74ecedc3f603def4d5130c0c300edce7d1/src%2Fcompiletest%2Fcompiletest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2d32b74ecedc3f603def4d5130c0c300edce7d1/src%2Fcompiletest%2Fcompiletest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcompiletest%2Fcompiletest.rs?ref=e2d32b74ecedc3f603def4d5130c0c300edce7d1", "patch": "@@ -224,15 +224,15 @@ pub fn run_tests(config: &Config) {\n         // android debug-info test uses remote debugger\n         // so, we test 1 task at once.\n         // also trying to isolate problems with adb_run_wrapper.sh ilooping\n-        env::set_var(\"RUST_TEST_TASKS\",\"1\");\n+        env::set_var(\"RUST_TEST_THREADS\",\"1\");\n     }\n \n     match config.mode {\n         DebugInfoLldb => {\n             // Some older versions of LLDB seem to have problems with multiple\n             // instances running in parallel, so only run one test task at a\n             // time.\n-            env::set_var(\"RUST_TEST_TASKS\", \"1\");\n+            env::set_var(\"RUST_TEST_THREADS\", \"1\");\n         }\n         _ => { /* proceed */ }\n     }"}, {"sha": "6899fa13974e9e4282bafd0fda4021ec4223765e", "filename": "src/compiletest/header.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2d32b74ecedc3f603def4d5130c0c300edce7d1/src%2Fcompiletest%2Fheader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2d32b74ecedc3f603def4d5130c0c300edce7d1/src%2Fcompiletest%2Fheader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcompiletest%2Fheader.rs?ref=e2d32b74ecedc3f603def4d5130c0c300edce7d1", "patch": "@@ -131,7 +131,7 @@ pub fn load_props(testfile: &Path) -> TestProps {\n         true\n     });\n \n-    for key in vec![\"RUST_TEST_NOCAPTURE\", \"RUST_TEST_TASKS\"] {\n+    for key in vec![\"RUST_TEST_NOCAPTURE\", \"RUST_TEST_THREADS\"] {\n         match env::var(key) {\n             Ok(val) =>\n                 if exec_env.iter().find(|&&(ref x, _)| *x == key.to_string()).is_none() {"}, {"sha": "e4ccd49e807acfb1f803e25819ccb35c14a653ec", "filename": "src/libtest/lib.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e2d32b74ecedc3f603def4d5130c0c300edce7d1/src%2Flibtest%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2d32b74ecedc3f603def4d5130c0c300edce7d1/src%2Flibtest%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Flib.rs?ref=e2d32b74ecedc3f603def4d5130c0c300edce7d1", "patch": "@@ -338,7 +338,7 @@ The FILTER regex is tested against the name of all tests to run, and\n only those tests that match are run.\n \n By default, all tests are run in parallel. This can be altered with the\n-RUST_TEST_TASKS environment variable when running tests (set it to 1).\n+RUST_TEST_THRADS environment variable when running tests (set it to 1).\n \n All tests have their standard output and standard error captured by default.\n This can be overridden with the --nocapture flag or the RUST_TEST_NOCAPTURE=1\n@@ -843,12 +843,12 @@ fn run_tests<F>(opts: &TestOpts,\n \n fn get_concurrency() -> uint {\n     use std::rt;\n-    match env::var(\"RUST_TEST_TASKS\") {\n+    match env::var(\"RUST_TEST_THREADS\") {\n         Ok(s) => {\n             let opt_n: Option<uint> = s.parse().ok();\n             match opt_n {\n                 Some(n) if n > 0 => n,\n-                _ => panic!(\"RUST_TEST_TASKS is `{}`, should be a positive integer.\", s)\n+                _ => panic!(\"RUST_TEST_THREADS is `{}`, should be a positive integer.\", s)\n             }\n         }\n         Err(..) => {"}, {"sha": "94ed641c79c9372cabcf34a107356b5e2bc780cc", "filename": "src/test/run-fail/test-tasks-invalid-value.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e2d32b74ecedc3f603def4d5130c0c300edce7d1/src%2Ftest%2Frun-fail%2Ftest-tasks-invalid-value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2d32b74ecedc3f603def4d5130c0c300edce7d1/src%2Ftest%2Frun-fail%2Ftest-tasks-invalid-value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Ftest-tasks-invalid-value.rs?ref=e2d32b74ecedc3f603def4d5130c0c300edce7d1", "patch": "@@ -8,12 +8,12 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// This checks that RUST_TEST_TASKS not being 1, 2, ... is detected\n+// This checks that RUST_TEST_THREADS not being 1, 2, ... is detected\n // properly.\n \n // error-pattern:should be a positive integer\n // compile-flags: --test\n-// exec-env:RUST_TEST_TASKS=foo\n+// exec-env:RUST_TEST_THREADS=foo\n // ignore-pretty: does not work well with `--test`\n \n #[test]"}, {"sha": "5462a996f73d974d071a4ca31b6845cc68228dc1", "filename": "src/test/run-pass/tcp-connect-timeouts.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e2d32b74ecedc3f603def4d5130c0c300edce7d1/src%2Ftest%2Frun-pass%2Ftcp-connect-timeouts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2d32b74ecedc3f603def4d5130c0c300edce7d1/src%2Ftest%2Frun-pass%2Ftcp-connect-timeouts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftcp-connect-timeouts.rs?ref=e2d32b74ecedc3f603def4d5130c0c300edce7d1", "patch": "@@ -10,7 +10,7 @@\n \n // ignore-pretty\n // compile-flags:--test\n-// exec-env:RUST_TEST_TASKS=1\n+// exec-env:RUST_TEST_THREADS=1\n \n // Tests for the connect_timeout() function on a TcpStream. This runs with only\n // one test task to ensure that errors are timeouts, not file descriptor"}]}