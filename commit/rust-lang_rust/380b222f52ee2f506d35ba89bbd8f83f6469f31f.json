{"sha": "380b222f52ee2f506d35ba89bbd8f83f6469f31f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4MGIyMjJmNTJlZTJmNTA2ZDM1YmE4OWJiZDhmODNmNjQ2OWYzMWY=", "commit": {"author": {"name": "Eyal Kalderon", "email": "ebkalderon@gmail.com", "date": "2020-09-15T02:21:59Z"}, "committer": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2020-11-12T16:13:05Z"}, "message": "Consider mutable ident binding patterns to be simple\n\nThis should fix `rustdoc` rendering of by-value mutable arguments in\n`async fn` contexts.", "tree": {"sha": "238594d35b95da49c94eaf1edeabba2e55a77c2c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/238594d35b95da49c94eaf1edeabba2e55a77c2c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/380b222f52ee2f506d35ba89bbd8f83f6469f31f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/380b222f52ee2f506d35ba89bbd8f83f6469f31f", "html_url": "https://github.com/rust-lang/rust/commit/380b222f52ee2f506d35ba89bbd8f83f6469f31f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/380b222f52ee2f506d35ba89bbd8f83f6469f31f/comments", "author": {"login": "ebkalderon", "id": 322831, "node_id": "MDQ6VXNlcjMyMjgzMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/322831?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ebkalderon", "html_url": "https://github.com/ebkalderon", "followers_url": "https://api.github.com/users/ebkalderon/followers", "following_url": "https://api.github.com/users/ebkalderon/following{/other_user}", "gists_url": "https://api.github.com/users/ebkalderon/gists{/gist_id}", "starred_url": "https://api.github.com/users/ebkalderon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ebkalderon/subscriptions", "organizations_url": "https://api.github.com/users/ebkalderon/orgs", "repos_url": "https://api.github.com/users/ebkalderon/repos", "events_url": "https://api.github.com/users/ebkalderon/events{/privacy}", "received_events_url": "https://api.github.com/users/ebkalderon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7f5a42b073dc2bee2aa625052eb066ee07072048", "url": "https://api.github.com/repos/rust-lang/rust/commits/7f5a42b073dc2bee2aa625052eb066ee07072048", "html_url": "https://github.com/rust-lang/rust/commit/7f5a42b073dc2bee2aa625052eb066ee07072048"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "0cfcd843dddc36762fa122a795fa50eba3519793", "filename": "compiler/rustc_ast_lowering/src/item.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/380b222f52ee2f506d35ba89bbd8f83f6469f31f/compiler%2Frustc_ast_lowering%2Fsrc%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/380b222f52ee2f506d35ba89bbd8f83f6469f31f/compiler%2Frustc_ast_lowering%2Fsrc%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_lowering%2Fsrc%2Fitem.rs?ref=380b222f52ee2f506d35ba89bbd8f83f6469f31f", "patch": "@@ -1096,9 +1096,12 @@ impl<'hir> LoweringContext<'_, 'hir> {\n                 // Check if this is a binding pattern, if so, we can optimize and avoid adding a\n                 // `let <pat> = __argN;` statement. In this case, we do not rename the parameter.\n                 let (ident, is_simple_parameter) = match parameter.pat.kind {\n-                    hir::PatKind::Binding(hir::BindingAnnotation::Unannotated, _, ident, _) => {\n-                        (ident, true)\n-                    }\n+                    hir::PatKind::Binding(\n+                        hir::BindingAnnotation::Unannotated | hir::BindingAnnotation::Mutable,\n+                        _,\n+                        ident,\n+                        _,\n+                    ) => (ident, true),\n                     _ => {\n                         // Replace the ident for bindings that aren't simple.\n                         let name = format!(\"__arg{}\", index);"}]}