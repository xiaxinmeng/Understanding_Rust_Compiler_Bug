{"sha": "8a543ffc76eea08db59cffbd6f8be7926bdb78c2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhhNTQzZmZjNzZlZWEwOGRiNTljZmZiZDZmOGJlNzkyNmJkYjc4YzI=", "commit": {"author": {"name": "Cameron Zwarich", "email": "zwarich@mozilla.com", "date": "2014-06-07T09:20:44Z"}, "committer": {"name": "Cameron Zwarich", "email": "zwarich@mozilla.com", "date": "2014-06-07T09:31:01Z"}, "message": "Make borrowck test functions better match their names\n\nA number of borrowck field-sensitivity tests perform more moves and\ncopies than their naming scheme would indicate. This is only necessary\nfor borrowed pointers (to ensure that the borrowws stay alive in the\nnear future when borrow liveness is tracked), but all other test\nfunctions should be changed to match their name more closely.", "tree": {"sha": "4ca5e5706528283a98ce1d48a81343f359fa4816", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4ca5e5706528283a98ce1d48a81343f359fa4816"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8a543ffc76eea08db59cffbd6f8be7926bdb78c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8a543ffc76eea08db59cffbd6f8be7926bdb78c2", "html_url": "https://github.com/rust-lang/rust/commit/8a543ffc76eea08db59cffbd6f8be7926bdb78c2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8a543ffc76eea08db59cffbd6f8be7926bdb78c2/comments", "author": null, "committer": null, "parents": [{"sha": "53198ffda6cb39721afab0fc35941b4379ecae1f", "url": "https://api.github.com/repos/rust-lang/rust/commits/53198ffda6cb39721afab0fc35941b4379ecae1f", "html_url": "https://github.com/rust-lang/rust/commit/53198ffda6cb39721afab0fc35941b4379ecae1f"}], "stats": {"total": 26, "additions": 8, "deletions": 18}, "files": [{"sha": "202df70f5d2fdb96693d7961bb70a7e399755c74", "filename": "src/test/run-pass/borrowck-field-sensitivity.rs", "status": "modified", "additions": 8, "deletions": 18, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/8a543ffc76eea08db59cffbd6f8be7926bdb78c2/src%2Ftest%2Frun-pass%2Fborrowck-field-sensitivity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8a543ffc76eea08db59cffbd6f8be7926bdb78c2/src%2Ftest%2Frun-pass%2Fborrowck-field-sensitivity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fborrowck-field-sensitivity.rs?ref=8a543ffc76eea08db59cffbd6f8be7926bdb78c2", "patch": "@@ -28,15 +28,13 @@ fn move_after_fu_copy() {\n fn fu_move_after_copy() {\n     let x = A { a: 1, b: box 2 };\n     drop(x.a);\n-    let y = A { a: 3, .. x };\n-    drop(y.b);\n+    let _y = A { a: 3, .. x };\n }\n \n fn fu_move_after_fu_copy() {\n     let x = A { a: 1, b: box 2 };\n     let _y = A { b: box 3, .. x };\n-    let z = A { a: 4, .. x };\n-    drop(z.b);\n+    let _z = A { a: 4, .. x };\n }\n \n fn copy_after_move() {\n@@ -49,7 +47,6 @@ fn copy_after_fu_move() {\n     let x = A { a: 1, b: box 2 };\n     let y = A { a: 3, .. x };\n     drop(x.a);\n-    drop(y.b);\n }\n \n fn fu_copy_after_move() {\n@@ -60,9 +57,8 @@ fn fu_copy_after_move() {\n \n fn fu_copy_after_fu_move() {\n     let x = A { a: 1, b: box 2 };\n-    let y = A { a: 3, .. x };\n+    let _y = A { a: 3, .. x };\n     let _z = A { b: box 3, .. x };\n-    drop(y.b);\n }\n \n fn borrow_after_move() {\n@@ -73,9 +69,8 @@ fn borrow_after_move() {\n \n fn borrow_after_fu_move() {\n     let x = A { a: 1, b: box 2 };\n-    let y = A { a: 3, .. x };\n+    let _y = A { a: 3, .. x };\n     borrow(&x.a);\n-    drop(y.b);\n }\n \n fn move_after_borrow() {\n@@ -87,8 +82,7 @@ fn move_after_borrow() {\n fn fu_move_after_borrow() {\n     let x = A { a: 1, b: box 2 };\n     borrow(&x.a);\n-    let y = A { a: 3, .. x };\n-    drop(y.b);\n+    let _y = A { a: 3, .. x };\n }\n \n fn mut_borrow_after_mut_borrow() {\n@@ -109,7 +103,6 @@ fn move_after_fu_move() {\n     let x = B { a: box 1, b: box 2 };\n     let y = B { a: box 3, .. x };\n     drop(x.a);\n-    drop(y.b);\n }\n \n fn fu_move_after_move() {\n@@ -121,10 +114,8 @@ fn fu_move_after_move() {\n \n fn fu_move_after_fu_move() {\n     let x = B { a: box 1, b: box 2 };\n-    let y = B { b: box 3, .. x };\n-    let z = B { a: box 4, .. x };\n-    drop(y.a);\n-    drop(z.b);\n+    let _y = B { b: box 3, .. x };\n+    let _z = B { a: box 4, .. x };\n }\n \n fn copy_after_assign_after_move() {\n@@ -157,10 +148,9 @@ fn borrow_after_field_assign_after_move() {\n \n fn move_after_assign_after_move() {\n     let mut x = A { a: 1, b: box 2 };\n-    let y = x.b;\n+    let _y = x.b;\n     x = A { a: 3, b: box 4 };\n     drop(x.b);\n-    drop(y);\n }\n \n fn move_after_field_assign_after_move() {"}]}