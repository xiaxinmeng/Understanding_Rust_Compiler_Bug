{"sha": "d5ca345c36b037c4cdfe1a9f165464e7f815e2c1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ1Y2EzNDVjMzZiMDM3YzRjZGZlMWE5ZjE2NTQ2NGU3ZjgxNWUyYzE=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-07-23T21:26:25Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-07-23T21:26:25Z"}, "message": "remove redundant tests / flags", "tree": {"sha": "a4ed16b5ee65fb34f3884b08f426d0f919eea7b7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a4ed16b5ee65fb34f3884b08f426d0f919eea7b7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d5ca345c36b037c4cdfe1a9f165464e7f815e2c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d5ca345c36b037c4cdfe1a9f165464e7f815e2c1", "html_url": "https://github.com/rust-lang/rust/commit/d5ca345c36b037c4cdfe1a9f165464e7f815e2c1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d5ca345c36b037c4cdfe1a9f165464e7f815e2c1/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3c1ab7819698b374d833e8818e39ef011a48eb83", "url": "https://api.github.com/repos/rust-lang/rust/commits/3c1ab7819698b374d833e8818e39ef011a48eb83", "html_url": "https://github.com/rust-lang/rust/commit/3c1ab7819698b374d833e8818e39ef011a48eb83"}], "stats": {"total": 25, "additions": 1, "deletions": 24}, "files": [{"sha": "4e12a8a9e25e18ee872c5bd9c99aaf7609069ac8", "filename": "tests/compile-fail/intptrcast_alignment_check.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d5ca345c36b037c4cdfe1a9f165464e7f815e2c1/tests%2Fcompile-fail%2Fintptrcast_alignment_check.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d5ca345c36b037c4cdfe1a9f165464e7f815e2c1/tests%2Fcompile-fail%2Fintptrcast_alignment_check.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fintptrcast_alignment_check.rs?ref=d5ca345c36b037c4cdfe1a9f165464e7f815e2c1", "patch": "@@ -1,5 +1,5 @@\n // Validation makes this fail in the wrong place\n-// compile-flags: -Zmiri-disable-validation -Zmiri-seed=0000000000000000\n+// compile-flags: -Zmiri-disable-validation\n \n // Even with intptrcast and without validation, we want to be *sure* to catch bugs\n // that arise from pointers being insufficiently aligned. The only way to achieve"}, {"sha": "f4064cf92e2ca47f89214a821e86bb54ec51817d", "filename": "tests/compile-fail/intptrcast_cast_int_to_fn_ptr.rs", "status": "removed", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3c1ab7819698b374d833e8818e39ef011a48eb83/tests%2Fcompile-fail%2Fintptrcast_cast_int_to_fn_ptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c1ab7819698b374d833e8818e39ef011a48eb83/tests%2Fcompile-fail%2Fintptrcast_cast_int_to_fn_ptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fintptrcast_cast_int_to_fn_ptr.rs?ref=3c1ab7819698b374d833e8818e39ef011a48eb83", "patch": "@@ -1,10 +0,0 @@\n-// Validation makes this fail in the wrong place\n-// compile-flags: -Zmiri-disable-validation -Zmiri-seed=0000000000000000\n-\n-fn main() {\n-    let g = unsafe {\n-        std::mem::transmute::<usize, fn(i32)>(42)\n-    };\n-\n-    g(42) //~ ERROR dangling pointer was dereferenced\n-}"}, {"sha": "0c5d46609cf83ac71ac4277a5365b3d82ab87e99", "filename": "tests/compile-fail/intptrcast_null_pointer_deref.rs", "status": "removed", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3c1ab7819698b374d833e8818e39ef011a48eb83/tests%2Fcompile-fail%2Fintptrcast_null_pointer_deref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c1ab7819698b374d833e8818e39ef011a48eb83/tests%2Fcompile-fail%2Fintptrcast_null_pointer_deref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fintptrcast_null_pointer_deref.rs?ref=3c1ab7819698b374d833e8818e39ef011a48eb83", "patch": "@@ -1,6 +0,0 @@\n-// compile-flags: -Zmiri-seed=0000000000000000\n-\n-fn main() {\n-    let x: i32 = unsafe { *std::ptr::null() }; //~ ERROR invalid use of NULL pointer\n-    panic!(\"this should never print: {}\", x);\n-}"}, {"sha": "2ee664eb68bd3da356da1fbecce54d0bdb94b15f", "filename": "tests/compile-fail/intptrcast_wild_pointer_deref.rs", "status": "removed", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/3c1ab7819698b374d833e8818e39ef011a48eb83/tests%2Fcompile-fail%2Fintptrcast_wild_pointer_deref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c1ab7819698b374d833e8818e39ef011a48eb83/tests%2Fcompile-fail%2Fintptrcast_wild_pointer_deref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fintptrcast_wild_pointer_deref.rs?ref=3c1ab7819698b374d833e8818e39ef011a48eb83", "patch": "@@ -1,7 +0,0 @@\n-// compile-flags: -Zmiri-seed=0000000000000000\n-\n-fn main() {\n-    let p = 44 as *const i32;\n-    let x = unsafe { *p }; //~ ERROR dangling pointer was dereferenced\n-    panic!(\"this should never print: {}\", x);\n-}"}]}