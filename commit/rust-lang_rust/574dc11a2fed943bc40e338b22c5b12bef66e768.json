{"sha": "574dc11a2fed943bc40e338b22c5b12bef66e768", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU3NGRjMTFhMmZlZDk0M2JjNDBlMzM4YjIyYzViMTJiZWY2NmU3Njg=", "commit": {"author": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-13T22:31:23Z"}, "committer": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-13T22:33:12Z"}, "message": "vscode: removed nested errors as per matklad", "tree": {"sha": "6bbf4cd86ac33f9ac1481d957ecab06bae1afa00", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6bbf4cd86ac33f9ac1481d957ecab06bae1afa00"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/574dc11a2fed943bc40e338b22c5b12bef66e768", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/574dc11a2fed943bc40e338b22c5b12bef66e768", "html_url": "https://github.com/rust-lang/rust/commit/574dc11a2fed943bc40e338b22c5b12bef66e768", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/574dc11a2fed943bc40e338b22c5b12bef66e768/comments", "author": null, "committer": null, "parents": [{"sha": "da6ae3b6e0700acf80eeb27b513abdd381c50916", "url": "https://api.github.com/repos/rust-lang/rust/commits/da6ae3b6e0700acf80eeb27b513abdd381c50916", "html_url": "https://github.com/rust-lang/rust/commit/da6ae3b6e0700acf80eeb27b513abdd381c50916"}], "stats": {"total": 13, "additions": 3, "deletions": 10}, "files": [{"sha": "5c056463e080a283e34941d001a3867da018711d", "filename": "editors/code/package-lock.json", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/574dc11a2fed943bc40e338b22c5b12bef66e768/editors%2Fcode%2Fpackage-lock.json", "raw_url": "https://github.com/rust-lang/rust/raw/574dc11a2fed943bc40e338b22c5b12bef66e768/editors%2Fcode%2Fpackage-lock.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage-lock.json?ref=574dc11a2fed943bc40e338b22c5b12bef66e768", "patch": "@@ -753,11 +753,6 @@\n                 \"os-tmpdir\": \"~1.0.1\"\n             }\n         },\n-        \"ts-nested-error\": {\n-            \"version\": \"1.1.3\",\n-            \"resolved\": \"https://registry.npmjs.org/ts-nested-error/-/ts-nested-error-1.1.3.tgz\",\n-            \"integrity\": \"sha512-CJSRAhXr6phdkuu65U/ctkY/TBzjkg2g1sL9juSG/PP3ONQNCbeksMy54OfCBTUt13hSpHNbnTO1OBPunOHj/Q==\"\n-        },\n         \"tslib\": {\n             \"version\": \"1.10.0\",\n             \"resolved\": \"https://registry.npmjs.org/tslib/-/tslib-1.10.0.tgz\","}, {"sha": "f687eb8d458822fc9e591f8d63c5f672c57fc319", "filename": "editors/code/package.json", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/574dc11a2fed943bc40e338b22c5b12bef66e768/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/574dc11a2fed943bc40e338b22c5b12bef66e768/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=574dc11a2fed943bc40e338b22c5b12bef66e768", "patch": "@@ -27,7 +27,6 @@\n         \"jsonc-parser\": \"^2.1.0\",\n         \"node-fetch\": \"^2.6.0\",\n         \"throttle-debounce\": \"^2.1.0\",\n-        \"ts-nested-error\": \"^1.1.3\",\n         \"vscode-languageclient\": \"^6.1.0\"\n     },\n     \"devDependencies\": {"}, {"sha": "d154f4816c7a65aa1fdcf34ce18dacd7acf65d8e", "filename": "editors/code/src/installation/download_file.ts", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/574dc11a2fed943bc40e338b22c5b12bef66e768/editors%2Fcode%2Fsrc%2Finstallation%2Fdownload_file.ts", "raw_url": "https://github.com/rust-lang/rust/raw/574dc11a2fed943bc40e338b22c5b12bef66e768/editors%2Fcode%2Fsrc%2Finstallation%2Fdownload_file.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Finstallation%2Fdownload_file.ts?ref=574dc11a2fed943bc40e338b22c5b12bef66e768", "patch": "@@ -3,7 +3,6 @@ import * as fs from \"fs\";\n import * as stream from \"stream\";\n import * as util from \"util\";\n import { strict as assert } from \"assert\";\n-import { NestedError } from \"ts-nested-error\";\n \n const pipeline = util.promisify(stream.pipeline);\n \n@@ -19,13 +18,13 @@ export async function downloadFile(\n     destFilePermissions: number,\n     onProgress: (readBytes: number, totalBytes: number) => void\n ): Promise<void> {\n-    const res = await fetch(url).catch(NestedError.rethrow(\"Failed at initial fetch\"));\n+    const res = await fetch(url);\n \n     if (!res.ok) {\n         console.log(\"Error\", res.status, \"while downloading file from\", url);\n         console.dir({ body: await res.text(), headers: res.headers }, { depth: 3 });\n \n-        throw new NestedError(`Got response ${res.status}`);\n+        throw new Error(`Got response ${res.status} when trying to download a file.`);\n     }\n \n     const totalBytes = Number(res.headers.get('content-length'));\n@@ -41,7 +40,7 @@ export async function downloadFile(\n \n     const destFileStream = fs.createWriteStream(destFilePath, { mode: destFilePermissions });\n \n-    await pipeline(res.body, destFileStream).catch(NestedError.rethrow(\"Piping file error\"));\n+    await pipeline(res.body, destFileStream);\n     return new Promise<void>(resolve => {\n         destFileStream.on(\"close\", resolve);\n         destFileStream.destroy();"}]}