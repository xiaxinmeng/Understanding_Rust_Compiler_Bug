{"sha": "f6e8da81f184efb4036db16940ef3bfc84a29984", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY2ZThkYTgxZjE4NGVmYjQwMzZkYjE2OTQwZWYzYmZjODRhMjk5ODQ=", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2020-04-01T19:15:21Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2020-04-01T19:15:39Z"}, "message": "Update option_option ui test", "tree": {"sha": "dc411ed81e8a4e90ff92d9c25dd152312f68cfa4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dc411ed81e8a4e90ff92d9c25dd152312f68cfa4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f6e8da81f184efb4036db16940ef3bfc84a29984", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAl6E6FsACgkQ+boUO5X/\nbYJGdg//YEL99f2Y1qXYRpk43jfWLX4P9UDAoRf2i+qAe1AdWVAFpYqg3lFzmmul\nhP29dLBi+xmfwwnoQVOPv7DbXrqqyZYsfnYx3478jRzAK5h6nCKOdBeI0mM0YLj3\n/WUOqamRNwONyAuYtNm1OQiSpCl8pD71zhdGcFmt40dX96dxeQNfo8PZEf/DNkST\ngyYUV2IdVFeIzboYlL+mnupOTG64HxuBXojAey41B6n/BvE/xk3pqkEH82ihdYPh\nk/HkJlETXoQiLVKL8t+jVtxkJuPBemK/wT0TT1jwmnF/Zf0uav3/RErFK0NgdApK\nYIvqWsu8BJhC8FfG+7bi3jffwouJEgaBi7J8liB2Vx0pIvrCCiHeOLUZPqVKzPuo\n0FeFH6sPGP5MNiM0DWpCvTYqHYJXD84dGspnc4PGZAKHg3hmShPV2PjZGpxraV+J\nRs5zg8FBJSZg3nrm9T92OFS8zLmn1tvN1MJ7vNxZAzg0hYXny+d+y0qnlKXsemJv\nCln7DEnbOzWWBG40djv6u8Rm3bFblvHTD7AfuDvotAz8NK8hS0cmbyitGSERxf1G\ny/yh3Ndr2h97LoTU8+GJ7G2zeYI9x1HXPhCD9rEkcpSx9tZ/I7BIE0cCLd04kA9o\n6am6oQOjs75QNmQrLWiif0lWz3sWYdp3/yMGDQo3GfpjGXAqiJI=\n=yZZZ\n-----END PGP SIGNATURE-----", "payload": "tree dc411ed81e8a4e90ff92d9c25dd152312f68cfa4\nparent 86b0dd419752788c8e63313c9c3ae19d27b3e8e4\nauthor David Tolnay <dtolnay@gmail.com> 1585768521 -0700\ncommitter David Tolnay <dtolnay@gmail.com> 1585768539 -0700\n\nUpdate option_option ui test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f6e8da81f184efb4036db16940ef3bfc84a29984", "html_url": "https://github.com/rust-lang/rust/commit/f6e8da81f184efb4036db16940ef3bfc84a29984", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f6e8da81f184efb4036db16940ef3bfc84a29984/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "86b0dd419752788c8e63313c9c3ae19d27b3e8e4", "url": "https://api.github.com/repos/rust-lang/rust/commits/86b0dd419752788c8e63313c9c3ae19d27b3e8e4", "html_url": "https://github.com/rust-lang/rust/commit/86b0dd419752788c8e63313c9c3ae19d27b3e8e4"}], "stats": {"total": 26, "additions": 16, "deletions": 10}, "files": [{"sha": "904c50e14039a4067cce2899b7b1f5a7e7232fb0", "filename": "tests/ui/option_option.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f6e8da81f184efb4036db16940ef3bfc84a29984/tests%2Fui%2Foption_option.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6e8da81f184efb4036db16940ef3bfc84a29984/tests%2Fui%2Foption_option.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Foption_option.rs?ref=f6e8da81f184efb4036db16940ef3bfc84a29984", "patch": "@@ -1,3 +1,5 @@\n+#![deny(clippy::option_option)]\n+\n fn input(_: Option<Option<u8>>) {}\n \n fn output() -> Option<Option<u8>> {"}, {"sha": "79db186d7ea77128aef51c329c99711a4f0e8752", "filename": "tests/ui/option_option.stderr", "status": "modified", "additions": 14, "deletions": 10, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/f6e8da81f184efb4036db16940ef3bfc84a29984/tests%2Fui%2Foption_option.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f6e8da81f184efb4036db16940ef3bfc84a29984/tests%2Fui%2Foption_option.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Foption_option.stderr?ref=f6e8da81f184efb4036db16940ef3bfc84a29984", "patch": "@@ -1,55 +1,59 @@\n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:1:13\n+  --> $DIR/option_option.rs:3:13\n    |\n LL | fn input(_: Option<Option<u8>>) {}\n    |             ^^^^^^^^^^^^^^^^^^\n    |\n-   = note: `-D clippy::option-option` implied by `-D warnings`\n+note: the lint level is defined here\n+  --> $DIR/option_option.rs:1:9\n+   |\n+LL | #![deny(clippy::option_option)]\n+   |         ^^^^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:3:16\n+  --> $DIR/option_option.rs:5:16\n    |\n LL | fn output() -> Option<Option<u8>> {\n    |                ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:7:27\n+  --> $DIR/option_option.rs:9:27\n    |\n LL | fn output_nested() -> Vec<Option<Option<u8>>> {\n    |                           ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:12:30\n+  --> $DIR/option_option.rs:14:30\n    |\n LL | fn output_nested_nested() -> Option<Option<Option<u8>>> {\n    |                              ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:17:8\n+  --> $DIR/option_option.rs:19:8\n    |\n LL |     x: Option<Option<u8>>,\n    |        ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:21:23\n+  --> $DIR/option_option.rs:23:23\n    |\n LL |     fn struct_fn() -> Option<Option<u8>> {\n    |                       ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:27:22\n+  --> $DIR/option_option.rs:29:22\n    |\n LL |     fn trait_fn() -> Option<Option<u8>>;\n    |                      ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:31:11\n+  --> $DIR/option_option.rs:33:11\n    |\n LL |     Tuple(Option<Option<u8>>),\n    |           ^^^^^^^^^^^^^^^^^^\n \n error: consider using `Option<T>` instead of `Option<Option<T>>` or a custom enum if you need to distinguish all 3 cases\n-  --> $DIR/option_option.rs:32:17\n+  --> $DIR/option_option.rs:34:17\n    |\n LL |     Struct { x: Option<Option<u8>> },\n    |                 ^^^^^^^^^^^^^^^^^^"}]}