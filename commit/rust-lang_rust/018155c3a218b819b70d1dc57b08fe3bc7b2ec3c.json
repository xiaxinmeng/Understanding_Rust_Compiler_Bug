{"sha": "018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "node_id": "C_kwDOAAsO6NoAKDAxODE1NWMzYTIxOGI4MTliNzBkMWRjNTdiMDhmZTNiYzdiMmVjM2M", "commit": {"author": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-07-11T07:51:19Z"}, "committer": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-07-11T07:51:19Z"}, "message": "rename a method", "tree": {"sha": "2ebe8ab227bd73c12a0445f6706a7179f75e904e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2ebe8ab227bd73c12a0445f6706a7179f75e904e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "html_url": "https://github.com/rust-lang/rust/commit/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/comments", "author": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "12d11e9a35ccb380388c0568ed1d8735d89f51c3", "url": "https://api.github.com/repos/rust-lang/rust/commits/12d11e9a35ccb380388c0568ed1d8735d89f51c3", "html_url": "https://github.com/rust-lang/rust/commit/12d11e9a35ccb380388c0568ed1d8735d89f51c3"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "687ff0fb505802dbd332318feeb20509c67b75ab", "filename": "compiler/rustc_borrowck/src/diagnostics/conflict_errors.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs?ref=018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "patch": "@@ -309,7 +309,7 @@ impl<'cx, 'tcx> MirBorrowckCtxt<'cx, 'tcx> {\n                 ));\n \n                 // Check first whether the source is accessible (issue #87060)\n-                if self.infcx.tcx.sess.source_map().is_accessible_span(deref_target) {\n+                if self.infcx.tcx.sess.source_map().is_span_accessible(deref_target) {\n                     err.span_note(deref_target, \"deref defined here\");\n                 }\n             }"}, {"sha": "a3094a34ad7f38cd5ee81a305f41edc73e07d7ff", "filename": "compiler/rustc_borrowck/src/diagnostics/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmod.rs?ref=018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "patch": "@@ -975,7 +975,7 @@ impl<'cx, 'tcx> MirBorrowckCtxt<'cx, 'tcx> {\n                     if self.fn_self_span_reported.insert(fn_span) {\n                         err.span_note(\n                             // Check whether the source is accessible\n-                            if self.infcx.tcx.sess.source_map().is_accessible_span(self_arg.span) {\n+                            if self.infcx.tcx.sess.source_map().is_span_accessible(self_arg.span) {\n                                 self_arg.span\n                             } else {\n                                 fn_call_span"}, {"sha": "1d083b0bf8268b011cab72d22a78e66227bf6f07", "filename": "compiler/rustc_const_eval/src/transform/check_consts/ops.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fops.rs?ref=018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "patch": "@@ -299,7 +299,7 @@ impl<'tcx> NonConstOp<'tcx> for FnCallNonConst<'tcx> {\n                 err.note(&format!(\"attempting to deref into `{}`\", deref_target_ty));\n \n                 // Check first whether the source is accessible (issue #87060)\n-                if tcx.sess.source_map().is_accessible_span(deref_target) {\n+                if tcx.sess.source_map().is_span_accessible(deref_target) {\n                     err.span_note(deref_target, \"deref defined here\");\n                 }\n "}, {"sha": "e59a74e380ae392f2beacf52fa60a2dfb72b3f49", "filename": "compiler/rustc_errors/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_errors%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_errors%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Flib.rs?ref=018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "patch": "@@ -1558,7 +1558,7 @@ pub fn add_elided_lifetime_in_path_suggestion(\n     insertion_span: Span,\n ) {\n     diag.span_label(path_span, format!(\"expected lifetime parameter{}\", pluralize!(n)));\n-    if !source_map.is_accessible_span(insertion_span) {\n+    if !source_map.is_span_accessible(insertion_span) {\n         // Do not try to suggest anything if generated by a proc-macro.\n         return;\n     }"}, {"sha": "75fd156ebfdf379d5f39998355af4731c9d6171d", "filename": "compiler/rustc_mir_build/src/thir/pattern/check_match.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fcheck_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fcheck_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fpattern%2Fcheck_match.rs?ref=018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "patch": "@@ -432,7 +432,7 @@ impl<'p, 'tcx> MatchVisitor<'_, 'p, 'tcx> {\n                 \"`let` bindings require an \\\"irrefutable pattern\\\", like a `struct` or \\\n                  an `enum` with only one variant\",\n             );\n-            if self.tcx.sess.source_map().is_accessible_span(span) {\n+            if self.tcx.sess.source_map().is_span_accessible(span) {\n                 let semi_span = span.shrink_to_hi().with_lo(span.hi() - BytePos(1));\n                 let start_span = span.shrink_to_lo();\n                 let end_span = semi_span.shrink_to_lo();"}, {"sha": "a75ca3a8a2e7211458865f0675abc8bc3bc3d59f", "filename": "compiler/rustc_resolve/src/diagnostics.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_resolve%2Fsrc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_resolve%2Fsrc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Fdiagnostics.rs?ref=018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "patch": "@@ -1650,7 +1650,7 @@ impl<'a> Resolver<'a> {\n \n     fn binding_description(&self, b: &NameBinding<'_>, ident: Ident, from_prelude: bool) -> String {\n         let res = b.res();\n-        if b.span.is_dummy() || !self.session.source_map().is_accessible_span(b.span) {\n+        if b.span.is_dummy() || !self.session.source_map().is_span_accessible(b.span) {\n             // These already contain the \"built-in\" prefix or look bad with it.\n             let add_built_in =\n                 !matches!(b.res(), Res::NonMacroAttr(..) | Res::PrimTy(..) | Res::ToolMod);"}, {"sha": "afbb88e92336049d30357fd4b322988a2d0177e0", "filename": "compiler/rustc_span/src/source_map.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_span%2Fsrc%2Fsource_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_span%2Fsrc%2Fsource_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Fsource_map.rs?ref=018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "patch": "@@ -597,7 +597,7 @@ impl SourceMap {\n         local_begin.sf.src.is_some() && local_end.sf.src.is_some()\n     }\n \n-    pub fn is_accessible_span(&self, sp: Span) -> bool {\n+    pub fn is_span_accessible(&self, sp: Span) -> bool {\n         self.span_to_source(sp, |src, start_index, end_index| {\n             Ok(src.get(start_index..end_index).is_some())\n         })"}, {"sha": "34876a0748fac01d569cdc7730568be43499d616", "filename": "compiler/rustc_typeck/src/check/demand.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fdemand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fdemand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Fdemand.rs?ref=018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "patch": "@@ -760,7 +760,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                     if let Some(call_span) =\n                         iter::successors(Some(expr.span), |s| s.parent_callsite())\n                             .find(|&s| sp.contains(s))\n-                        && sm.is_accessible_span(call_span)\n+                        && sm.is_span_accessible(call_span)\n                     {\n                         return Some((\n                             sp.with_hi(call_span.lo()),\n@@ -773,7 +773,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                     return None;\n                 }\n                 if sp.contains(expr.span)\n-                    && sm.is_accessible_span(expr.span)\n+                    && sm.is_span_accessible(expr.span)\n                 {\n                     return Some((\n                         sp.with_hi(expr.span.lo()),"}, {"sha": "f1caa2a1ca0686da5210e2011857c39592a76f0c", "filename": "compiler/rustc_typeck/src/structured_errors/wrong_number_of_generic_args.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_typeck%2Fsrc%2Fstructured_errors%2Fwrong_number_of_generic_args.rs", "raw_url": "https://github.com/rust-lang/rust/raw/018155c3a218b819b70d1dc57b08fe3bc7b2ec3c/compiler%2Frustc_typeck%2Fsrc%2Fstructured_errors%2Fwrong_number_of_generic_args.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fstructured_errors%2Fwrong_number_of_generic_args.rs?ref=018155c3a218b819b70d1dc57b08fe3bc7b2ec3c", "patch": "@@ -812,7 +812,7 @@ impl<'a, 'tcx> WrongNumberOfGenericArgs<'a, 'tcx> {\n     /// Builds the `type defined here` message.\n     fn show_definition(&self, err: &mut Diagnostic) {\n         let mut spans: MultiSpan = if let Some(def_span) = self.tcx.def_ident_span(self.def_id) {\n-            if self.tcx.sess.source_map().is_accessible_span(def_span) {\n+            if self.tcx.sess.source_map().is_span_accessible(def_span) {\n                 def_span.into()\n             } else {\n                 return;"}]}