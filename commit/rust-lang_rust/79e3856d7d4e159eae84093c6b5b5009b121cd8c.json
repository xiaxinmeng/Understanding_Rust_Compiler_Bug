{"sha": "79e3856d7d4e159eae84093c6b5b5009b121cd8c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc5ZTM4NTZkN2Q0ZTE1OWVhZTg0MDkzYzZiNWI1MDA5YjEyMWNkOGM=", "commit": {"author": {"name": "Michael Bebenita", "email": "mbebenita@mozilla.com", "date": "2010-09-08T01:01:35Z"}, "committer": {"name": "Michael Bebenita", "email": "mbebenita@mozilla.com", "date": "2010-09-08T01:41:07Z"}, "message": "Small updates to test cases.", "tree": {"sha": "862f752a2dfdf613faf59ae919f528f860d15a7e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/862f752a2dfdf613faf59ae919f528f860d15a7e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/79e3856d7d4e159eae84093c6b5b5009b121cd8c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/79e3856d7d4e159eae84093c6b5b5009b121cd8c", "html_url": "https://github.com/rust-lang/rust/commit/79e3856d7d4e159eae84093c6b5b5009b121cd8c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/79e3856d7d4e159eae84093c6b5b5009b121cd8c/comments", "author": {"login": "mbebenita", "id": 311082, "node_id": "MDQ6VXNlcjMxMTA4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/311082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbebenita", "html_url": "https://github.com/mbebenita", "followers_url": "https://api.github.com/users/mbebenita/followers", "following_url": "https://api.github.com/users/mbebenita/following{/other_user}", "gists_url": "https://api.github.com/users/mbebenita/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbebenita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbebenita/subscriptions", "organizations_url": "https://api.github.com/users/mbebenita/orgs", "repos_url": "https://api.github.com/users/mbebenita/repos", "events_url": "https://api.github.com/users/mbebenita/events{/privacy}", "received_events_url": "https://api.github.com/users/mbebenita/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mbebenita", "id": 311082, "node_id": "MDQ6VXNlcjMxMTA4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/311082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mbebenita", "html_url": "https://github.com/mbebenita", "followers_url": "https://api.github.com/users/mbebenita/followers", "following_url": "https://api.github.com/users/mbebenita/following{/other_user}", "gists_url": "https://api.github.com/users/mbebenita/gists{/gist_id}", "starred_url": "https://api.github.com/users/mbebenita/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mbebenita/subscriptions", "organizations_url": "https://api.github.com/users/mbebenita/orgs", "repos_url": "https://api.github.com/users/mbebenita/repos", "events_url": "https://api.github.com/users/mbebenita/events{/privacy}", "received_events_url": "https://api.github.com/users/mbebenita/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f8ff013e3cc737b92b5a140dfd0ddcc5ab6773d9", "url": "https://api.github.com/repos/rust-lang/rust/commits/f8ff013e3cc737b92b5a140dfd0ddcc5ab6773d9", "html_url": "https://github.com/rust-lang/rust/commit/f8ff013e3cc737b92b5a140dfd0ddcc5ab6773d9"}], "stats": {"total": 12, "additions": 9, "deletions": 3}, "files": [{"sha": "786f7428f7bb90032f90c906541c4ea70a224b88", "filename": "src/test/run-fail/task-comm-14.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/79e3856d7d4e159eae84093c6b5b5009b121cd8c/src%2Ftest%2Frun-fail%2Ftask-comm-14.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79e3856d7d4e159eae84093c6b5b5009b121cd8c/src%2Ftest%2Frun-fail%2Ftask-comm-14.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Ftask-comm-14.rs?ref=79e3856d7d4e159eae84093c6b5b5009b121cd8c", "patch": "@@ -9,6 +9,9 @@ io fn main() {\n         i = i - 1;\n     }\n \n+    // Spawned tasks are likely killed before they get a chance to send \n+    // anything back, so we deadlock here.\n+    \n     i = 10;\n     let int value = 0;\n     while (i > 0) {"}, {"sha": "ceb6ba017293bd53f1fd77e881423e41b9f164c0", "filename": "src/test/run-pass/task-comm-12.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/79e3856d7d4e159eae84093c6b5b5009b121cd8c/src%2Ftest%2Frun-pass%2Ftask-comm-12.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79e3856d7d4e159eae84093c6b5b5009b121cd8c/src%2Ftest%2Frun-pass%2Ftask-comm-12.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftask-comm-12.rs?ref=79e3856d7d4e159eae84093c6b5b5009b121cd8c", "patch": "@@ -11,7 +11,7 @@ fn start(int task_number) {\n     \n fn test00() {    \n     let int i = 0;\n-    let task t = spawn thread start(i);\n+    let task t = spawn thread \"child\" start(i);\n     \n     // Sleep long enough for the task to finish.\n     _task.sleep(10000u);"}, {"sha": "70680e248ba473d40fecb3a0f6477c17bd45cb91", "filename": "src/test/run-pass/task-comm-15.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/79e3856d7d4e159eae84093c6b5b5009b121cd8c/src%2Ftest%2Frun-pass%2Ftask-comm-15.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79e3856d7d4e159eae84093c6b5b5009b121cd8c/src%2Ftest%2Frun-pass%2Ftask-comm-15.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftask-comm-15.rs?ref=79e3856d7d4e159eae84093c6b5b5009b121cd8c", "patch": "@@ -9,6 +9,10 @@ io fn start(chan[int] c, int n) {\n \n io fn main() {\n     let port[int] p = port();\n+    // Spawn a task that sends us back messages. The parent task\n+    // is likely to terminate before the child completes, so from\n+    // the child's point of view the receiver may die. We should\n+    // drop messages on the floor in this case, and not crash!\n     auto child = spawn thread \"child\" start(chan(p), 10);\n     auto c <- p;\n }\n\\ No newline at end of file"}, {"sha": "aa6e763fd0edb1a8fbb6b613307f3334d474f5d0", "filename": "src/test/run-pass/threads.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/79e3856d7d4e159eae84093c6b5b5009b121cd8c/src%2Ftest%2Frun-pass%2Fthreads.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79e3856d7d4e159eae84093c6b5b5009b121cd8c/src%2Ftest%2Frun-pass%2Fthreads.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fthreads.rs?ref=79e3856d7d4e159eae84093c6b5b5009b121cd8c", "patch": "@@ -1,10 +1,9 @@\n // -*- rust -*-\n \n fn main() {\n-  let port[int] p = port();\n   let int i = 10;\n   while (i > 0) {\n-    spawn thread child(i);\n+    spawn thread \"child\" child(i);\n     i = i - 1;\n   }\n   log \"main thread exiting\";"}]}