{"sha": "e01d944c6c33a76cdbd1a257743d8c41a8203e89", "node_id": "C_kwDOAAsO6NoAKGUwMWQ5NDRjNmMzM2E3NmNkYmQxYTI1Nzc0M2Q4YzQxYTgyMDNlODk", "commit": {"author": {"name": "Erik Desjardins", "email": "erikdesjardins@users.noreply.github.com", "date": "2022-12-09T00:33:14Z"}, "committer": {"name": "Erik Desjardins", "email": "erikdesjardins@users.noreply.github.com", "date": "2022-12-09T00:33:14Z"}, "message": "disable mergefunc instead of making fns unique", "tree": {"sha": "59bef2113c8984d401f3c79cdb1d994192da904b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/59bef2113c8984d401f3c79cdb1d994192da904b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e01d944c6c33a76cdbd1a257743d8c41a8203e89", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e01d944c6c33a76cdbd1a257743d8c41a8203e89", "html_url": "https://github.com/rust-lang/rust/commit/e01d944c6c33a76cdbd1a257743d8c41a8203e89", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e01d944c6c33a76cdbd1a257743d8c41a8203e89/comments", "author": {"login": "erikdesjardins", "id": 7673145, "node_id": "MDQ6VXNlcjc2NzMxNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/7673145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erikdesjardins", "html_url": "https://github.com/erikdesjardins", "followers_url": "https://api.github.com/users/erikdesjardins/followers", "following_url": "https://api.github.com/users/erikdesjardins/following{/other_user}", "gists_url": "https://api.github.com/users/erikdesjardins/gists{/gist_id}", "starred_url": "https://api.github.com/users/erikdesjardins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erikdesjardins/subscriptions", "organizations_url": "https://api.github.com/users/erikdesjardins/orgs", "repos_url": "https://api.github.com/users/erikdesjardins/repos", "events_url": "https://api.github.com/users/erikdesjardins/events{/privacy}", "received_events_url": "https://api.github.com/users/erikdesjardins/received_events", "type": "User", "site_admin": false}, "committer": {"login": "erikdesjardins", "id": 7673145, "node_id": "MDQ6VXNlcjc2NzMxNDU=", "avatar_url": "https://avatars.githubusercontent.com/u/7673145?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erikdesjardins", "html_url": "https://github.com/erikdesjardins", "followers_url": "https://api.github.com/users/erikdesjardins/followers", "following_url": "https://api.github.com/users/erikdesjardins/following{/other_user}", "gists_url": "https://api.github.com/users/erikdesjardins/gists{/gist_id}", "starred_url": "https://api.github.com/users/erikdesjardins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erikdesjardins/subscriptions", "organizations_url": "https://api.github.com/users/erikdesjardins/orgs", "repos_url": "https://api.github.com/users/erikdesjardins/repos", "events_url": "https://api.github.com/users/erikdesjardins/events{/privacy}", "received_events_url": "https://api.github.com/users/erikdesjardins/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a99e97af97f5f86e1892ec2bf633105384ed8bee", "url": "https://api.github.com/repos/rust-lang/rust/commits/a99e97af97f5f86e1892ec2bf633105384ed8bee", "html_url": "https://github.com/rust-lang/rust/commit/a99e97af97f5f86e1892ec2bf633105384ed8bee"}], "stats": {"total": 12, "additions": 4, "deletions": 8}, "files": [{"sha": "54f6e7f992fe65f3bdbdfa3d953ada730ab4b3dd", "filename": "src/test/codegen/dst-vtable-align-nonzero.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e01d944c6c33a76cdbd1a257743d8c41a8203e89/src%2Ftest%2Fcodegen%2Fdst-vtable-align-nonzero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e01d944c6c33a76cdbd1a257743d8c41a8203e89/src%2Ftest%2Fcodegen%2Fdst-vtable-align-nonzero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fdst-vtable-align-nonzero.rs?ref=e01d944c6c33a76cdbd1a257743d8c41a8203e89", "patch": "@@ -1,4 +1,4 @@\n-// compile-flags: -O\n+// compile-flags: -O -Z merge-functions=disabled\n \n #![crate_type = \"lib\"]\n #![feature(core_intrinsics)]\n@@ -55,9 +55,7 @@ pub fn align_load_from_align_of_val(x: &dyn Trait) -> usize {\n pub unsafe fn align_load_from_vtable_align_intrinsic(x: &dyn Trait) -> usize {\n     let (data, vtable): (*const (), *const ()) = core::mem::transmute(x);\n     // CHECK: {{%[0-9]+}} = load [[USIZE]], {{.+}} !range [[RANGE_META]]\n-    let align = core::intrinsics::vtable_align(vtable);\n-    // make this function unique so it doesn't get merged with the previous\n-    align + 1\n+    core::intrinsics::vtable_align(vtable)\n }\n \n // CHECK: [[RANGE_META]] = !{[[USIZE]] 1, [[USIZE]] 0}"}, {"sha": "671c8abdebd275ba60960fa7033a55308740e025", "filename": "src/test/codegen/dst-vtable-size-range.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e01d944c6c33a76cdbd1a257743d8c41a8203e89/src%2Ftest%2Fcodegen%2Fdst-vtable-size-range.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e01d944c6c33a76cdbd1a257743d8c41a8203e89/src%2Ftest%2Fcodegen%2Fdst-vtable-size-range.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fdst-vtable-size-range.rs?ref=e01d944c6c33a76cdbd1a257743d8c41a8203e89", "patch": "@@ -1,4 +1,4 @@\n-// compile-flags: -O\n+// compile-flags: -O -Z merge-functions=disabled\n \n #![crate_type = \"lib\"]\n #![feature(core_intrinsics)]\n@@ -29,9 +29,7 @@ pub fn size_load_from_size_of_val(x: &dyn Trait) -> usize {\n pub unsafe fn size_load_from_vtable_size_intrinsic(x: &dyn Trait) -> usize {\n     let (data, vtable): (*const (), *const ()) = core::mem::transmute(x);\n     // CHECK: {{%[0-9]+}} = load [[USIZE]], {{.+}} !range [[RANGE_META]]\n-    let size = core::intrinsics::vtable_size(vtable);\n-    // make this function unique so it doesn't get merged with the previous\n-    size + 1\n+    core::intrinsics::vtable_size(vtable)\n }\n \n // CHECK: [[RANGE_META]] = !{[[USIZE]] 0, [[USIZE]] [[EXCLUSIVE_BOUND]]}"}]}