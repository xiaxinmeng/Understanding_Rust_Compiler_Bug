{"sha": "796d7d28246521b858d4bced4ba87f610babfef3", "node_id": "C_kwDOAAsO6NoAKDc5NmQ3ZDI4MjQ2NTIxYjg1OGQ0YmNlZDRiYTg3ZjYxMGJhYmZlZjM", "commit": {"author": {"name": "Sean Cross", "email": "sean@xobs.io", "date": "2022-05-31T08:38:25Z"}, "committer": {"name": "Sean Cross", "email": "sean@xobs.io", "date": "2022-06-04T10:47:27Z"}, "message": "platform-support: add riscv32imac-unknown-xous-elf\n\nSigned-off-by: Sean Cross <sean@xobs.io>", "tree": {"sha": "ad063a728f0a2ca8c96c5b1b35927c1a8ef25860", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad063a728f0a2ca8c96c5b1b35927c1a8ef25860"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/796d7d28246521b858d4bced4ba87f610babfef3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/796d7d28246521b858d4bced4ba87f610babfef3", "html_url": "https://github.com/rust-lang/rust/commit/796d7d28246521b858d4bced4ba87f610babfef3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/796d7d28246521b858d4bced4ba87f610babfef3/comments", "author": {"login": "xobs", "id": 238325, "node_id": "MDQ6VXNlcjIzODMyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/238325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xobs", "html_url": "https://github.com/xobs", "followers_url": "https://api.github.com/users/xobs/followers", "following_url": "https://api.github.com/users/xobs/following{/other_user}", "gists_url": "https://api.github.com/users/xobs/gists{/gist_id}", "starred_url": "https://api.github.com/users/xobs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xobs/subscriptions", "organizations_url": "https://api.github.com/users/xobs/orgs", "repos_url": "https://api.github.com/users/xobs/repos", "events_url": "https://api.github.com/users/xobs/events{/privacy}", "received_events_url": "https://api.github.com/users/xobs/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xobs", "id": 238325, "node_id": "MDQ6VXNlcjIzODMyNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/238325?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xobs", "html_url": "https://github.com/xobs", "followers_url": "https://api.github.com/users/xobs/followers", "following_url": "https://api.github.com/users/xobs/following{/other_user}", "gists_url": "https://api.github.com/users/xobs/gists{/gist_id}", "starred_url": "https://api.github.com/users/xobs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xobs/subscriptions", "organizations_url": "https://api.github.com/users/xobs/orgs", "repos_url": "https://api.github.com/users/xobs/repos", "events_url": "https://api.github.com/users/xobs/events{/privacy}", "received_events_url": "https://api.github.com/users/xobs/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9f6e6872c21a467af8946381e40b9021cf18066c", "url": "https://api.github.com/repos/rust-lang/rust/commits/9f6e6872c21a467af8946381e40b9021cf18066c", "html_url": "https://github.com/rust-lang/rust/commit/9f6e6872c21a467af8946381e40b9021cf18066c"}], "stats": {"total": 52, "additions": 52, "deletions": 0}, "files": [{"sha": "8e2d44c1812150c5defee80e0e4c403357411a77", "filename": "src/doc/rustc/src/SUMMARY.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/796d7d28246521b858d4bced4ba87f610babfef3/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md", "raw_url": "https://github.com/rust-lang/rust/raw/796d7d28246521b858d4bced4ba87f610babfef3/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2FSUMMARY.md?ref=796d7d28246521b858d4bced4ba87f610babfef3", "patch": "@@ -22,6 +22,7 @@\n     - [m68k-unknown-linux-gnu](platform-support/m68k-unknown-linux-gnu.md)\n     - [mips64-openwrt-linux-musl](platform-support/mips64-openwrt-linux-musl.md)\n     - [nvptx64-nvidia-cuda](platform-support/nvptx64-nvidia-cuda.md)\n+    - [riscv32imac-unknown-xous-elf](platform-support/riscv32imac-unknown-xous-elf.md)\n     - [*-pc-windows-gnullvm](platform-support/pc-windows-gnullvm.md)\n     - [*-unknown-openbsd](platform-support/openbsd.md)\n     - [wasm64-unknown-unknown](platform-support/wasm64-unknown-unknown.md)"}, {"sha": "4ac09711b0a09e8872dd4eeaee5d6d05478a1149", "filename": "src/doc/rustc/src/platform-support.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/796d7d28246521b858d4bced4ba87f610babfef3/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md", "raw_url": "https://github.com/rust-lang/rust/raw/796d7d28246521b858d4bced4ba87f610babfef3/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support.md?ref=796d7d28246521b858d4bced4ba87f610babfef3", "patch": "@@ -275,6 +275,7 @@ target | std | host | notes\n `riscv32gc-unknown-linux-gnu` |   |   | RISC-V Linux (kernel 5.4, glibc 2.33)\n `riscv32gc-unknown-linux-musl` |   |   | RISC-V Linux (kernel 5.4, musl + RISCV32 support patches)\n `riscv32im-unknown-none-elf` | * |  | Bare RISC-V (RV32IM ISA)\n+[`riscv32imac-unknown-xous-elf`](platform-support/riscv32imac-unknown-xous-elf.md) | ? |  | RISC-V Xous (RV32IMAC ISA)\n `riscv32imc-esp-espidf` | \u2713 |  | RISC-V ESP-IDF\n `riscv64gc-unknown-freebsd` |   |   | RISC-V FreeBSD\n `riscv64gc-unknown-linux-musl` |   |   | RISC-V Linux (kernel 4.20, musl 1.2.0)"}, {"sha": "f024cd25bf7e1c7531eed61a78465517530c4de8", "filename": "src/doc/rustc/src/platform-support/riscv32imac-unknown-xous-elf.md", "status": "added", "additions": 50, "deletions": 0, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/796d7d28246521b858d4bced4ba87f610babfef3/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Friscv32imac-unknown-xous-elf.md", "raw_url": "https://github.com/rust-lang/rust/raw/796d7d28246521b858d4bced4ba87f610babfef3/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Friscv32imac-unknown-xous-elf.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustc%2Fsrc%2Fplatform-support%2Friscv32imac-unknown-xous-elf.md?ref=796d7d28246521b858d4bced4ba87f610babfef3", "patch": "@@ -0,0 +1,50 @@\n+# riscv32imac-unknown-xous-elf\n+\n+**Tier: 3**\n+\n+Xous microkernel, message-based operating system that powers devices such as Precursor and Betrusted. The operating system is written entirely in Rust, so no additional software is required to compile programs for Xous.\n+\n+## Target maintainers\n+\n+- [@xobs](https://github.com/xobs)\n+\n+## Requirements\n+\n+\n+Building the target itself requires a RISC-V compiler that is supported by `cc-rs`. For example, you can use the prebuilt [xPack](https://github.com/xpack-dev-tools/riscv-none-elf-gcc-xpack/releases/latest) toolchain.\n+\n+Cross-compiling programs does not require any additional software beyond the toolchain. Prebuilt versions of the toolchain are available [from Betrusted](https://github.com/betrusted-io/rust/releases).\n+\n+## Building the target\n+\n+The target can be built by enabling it for a `rustc` build.\n+\n+```toml\n+[build]\n+target = [\"riscv32imac-unknown-xous-elf\"]\n+```\n+\n+Make sure your C compiler is included in `$PATH`, then add it to the `config.toml`:\n+\n+```toml\n+[target.riscv32imac-unknown-xous-elf]\n+cc = \"riscv-none-elf-gcc\"\n+ar = \"riscv-none-elf-ar\"\n+```\n+\n+## Building Rust programs\n+\n+Rust does not yet ship pre-compiled artifacts for this target. To compile for\n+this target, you will need to do one of the following:\n+\n+* Build Rust with the target enabled (see \"Building the target\" above)\n+* Build your own copy of `core` by using `build-std` or similar\n+* Download a prebuilt toolchain [from Betrusted](https://github.com/betrusted-io/rust/releases)\n+\n+## Cross-compilation\n+\n+This target can be cross-compiled from any host.\n+\n+## Testing\n+\n+Currently there is no support to run the rustc test suite for this target."}]}