{"sha": "9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlmOGI5ZDY4NDdhYjAyZjdmMWMyOGM4NDk4OGNlYWU0YzBhMTBmMjY=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2015-02-18T22:31:42Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2015-02-18T22:31:42Z"}, "message": "Update tests to use #[feature(rustc_attrs)]", "tree": {"sha": "107fb0189251884bc5c1975ae5afb7e10bad716f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/107fb0189251884bc5c1975ae5afb7e10bad716f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26", "html_url": "https://github.com/rust-lang/rust/commit/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cc61f9c1d5baa29209b29a51cb9c553dcb2fb725", "url": "https://api.github.com/repos/rust-lang/rust/commits/cc61f9c1d5baa29209b29a51cb9c553dcb2fb725", "html_url": "https://github.com/rust-lang/rust/commit/cc61f9c1d5baa29209b29a51cb9c553dcb2fb725"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "88b50058b6580d81bf5a8c98e2683bb1a9e0e5b2", "filename": "src/test/compile-fail/variance-trait-bounds.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-trait-bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-trait-bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fvariance-trait-bounds.rs?ref=9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26", "patch": "@@ -10,6 +10,7 @@\n \n #![deny(bivariance)]\n #![allow(dead_code)]\n+#![feature(rustc_attrs)]\n \n // Check that bounds on type parameters (other than `Self`) do not\n // influence variance."}, {"sha": "d53e4cd76105b9f6b6c96388117971c497f6a730", "filename": "src/test/compile-fail/variance-types-bounds.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-types-bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-types-bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fvariance-types-bounds.rs?ref=9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26", "patch": "@@ -11,6 +11,8 @@\n // Test that we correctly infer variance for type parameters in\n // various types and traits.\n \n+#![feature(rustc_attrs)]\n+\n #[rustc_variance]\n struct TestImm<A, B> { //~ ERROR types=[[+, +];[];[]]\n     x: A,"}, {"sha": "e407ebe345a5b2e5f3ac6e21989b52803c991832", "filename": "src/test/compile-fail/variance-types.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fvariance-types.rs?ref=9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26", "patch": "@@ -10,6 +10,7 @@\n \n #![deny(bivariance)]\n #![allow(dead_code)]\n+#![feature(rustc_attrs)]\n \n use std::cell::Cell;\n "}, {"sha": "d2fd2978750e7c922b26f139ee8bd27bec982c9d", "filename": "src/test/compile-fail/variance-use-contravariant-struct-1.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-use-contravariant-struct-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-use-contravariant-struct-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fvariance-use-contravariant-struct-1.rs?ref=9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26", "patch": "@@ -11,6 +11,8 @@\n // Test various uses of structs with distint variances to make sure\n // they permit lifetimes to be approximated as expected.\n \n+#![feature(rustc_attrs)]\n+\n struct SomeStruct<T>(fn(T));\n \n fn foo<'min,'max>(v: SomeStruct<&'max ()>)"}, {"sha": "b38fd0e9ffcc6e8882093e95245648f58fe438b9", "filename": "src/test/compile-fail/variance-use-contravariant-struct-2.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-use-contravariant-struct-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-use-contravariant-struct-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fvariance-use-contravariant-struct-2.rs?ref=9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26", "patch": "@@ -12,6 +12,7 @@\n // they permit lifetimes to be approximated as expected.\n \n #![allow(dead_code)]\n+#![feature(rustc_attrs)]\n \n struct SomeStruct<T>(fn(T));\n "}, {"sha": "d8e1a5f5f1c54f127282d3c4e02aff0c41ce4c7c", "filename": "src/test/compile-fail/variance-use-covariant-struct-2.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-use-covariant-struct-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-use-covariant-struct-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fvariance-use-covariant-struct-2.rs?ref=9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26", "patch": "@@ -12,6 +12,7 @@\n // be shortened.\n \n #![allow(dead_code)]\n+#![feature(rustc_attrs)]\n \n struct SomeStruct<T>(T);\n "}, {"sha": "c89436b20949c571a260c11e937ab7ebb74ef1d8", "filename": "src/test/compile-fail/variance-use-invariant-struct-1.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-use-invariant-struct-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26/src%2Ftest%2Fcompile-fail%2Fvariance-use-invariant-struct-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fvariance-use-invariant-struct-1.rs?ref=9f8b9d6847ab02f7f1c28c84988ceae4c0a10f26", "patch": "@@ -11,6 +11,8 @@\n // Test various uses of structs with distint variances to make sure\n // they permit lifetimes to be approximated as expected.\n \n+#![feature(rustc_attrs)]\n+\n struct SomeStruct<T>(*mut T);\n \n fn foo<'min,'max>(v: SomeStruct<&'max ()>)"}]}