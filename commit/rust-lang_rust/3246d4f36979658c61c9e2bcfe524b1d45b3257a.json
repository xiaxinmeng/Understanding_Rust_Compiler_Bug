{"sha": "3246d4f36979658c61c9e2bcfe524b1d45b3257a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMyNDZkNGYzNjk3OTY1OGM2MWM5ZTJiY2ZlNTI0YjFkNDViMzI1N2E=", "commit": {"author": {"name": "Steven Fackler", "email": "sfackler@gmail.com", "date": "2014-12-06T23:16:38Z"}, "committer": {"name": "Steven Fackler", "email": "sfackler@gmail.com", "date": "2014-12-06T23:16:38Z"}, "message": "Change from message to expected", "tree": {"sha": "463d18f8ea566a7fce6bee4a5b5cb3f2e537544a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/463d18f8ea566a7fce6bee4a5b5cb3f2e537544a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3246d4f36979658c61c9e2bcfe524b1d45b3257a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3246d4f36979658c61c9e2bcfe524b1d45b3257a", "html_url": "https://github.com/rust-lang/rust/commit/3246d4f36979658c61c9e2bcfe524b1d45b3257a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3246d4f36979658c61c9e2bcfe524b1d45b3257a/comments", "author": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "616af6eb83630b76bb3a9bde57a00f5ebe5dbd6c", "url": "https://api.github.com/repos/rust-lang/rust/commits/616af6eb83630b76bb3a9bde57a00f5ebe5dbd6c", "html_url": "https://github.com/rust-lang/rust/commit/616af6eb83630b76bb3a9bde57a00f5ebe5dbd6c"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "ca2f190ce76be103d77930c3cab5e1750fa0f4d1", "filename": "src/libsyntax/test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3246d4f36979658c61c9e2bcfe524b1d45b3257a/src%2Flibsyntax%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3246d4f36979658c61c9e2bcfe524b1d45b3257a/src%2Flibsyntax%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ftest.rs?ref=3246d4f36979658c61c9e2bcfe524b1d45b3257a", "patch": "@@ -369,7 +369,7 @@ fn should_fail(i: &ast::Item) -> ShouldFail {\n     match i.attrs.iter().find(|attr| attr.check_name(\"should_fail\")) {\n         Some(attr) => {\n             let msg = attr.meta_item_list()\n-                .and_then(|list| list.iter().find(|mi| mi.check_name(\"message\")))\n+                .and_then(|list| list.iter().find(|mi| mi.check_name(\"expected\")))\n                 .and_then(|mi| mi.value_str());\n             ShouldFail::Yes(msg)\n         }"}, {"sha": "0c71dcee2e59bde1e2a3ae10b550e01c7155aae5", "filename": "src/libtest/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3246d4f36979658c61c9e2bcfe524b1d45b3257a/src%2Flibtest%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3246d4f36979658c61c9e2bcfe524b1d45b3257a/src%2Flibtest%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibtest%2Flib.rs?ref=3246d4f36979658c61c9e2bcfe524b1d45b3257a", "patch": "@@ -374,7 +374,7 @@ Test Attributes:\n     #[should_fail] - This function (also labeled with #[test]) will only pass if\n                      the code causes a failure (an assertion failure or panic!)\n                      A message may be provided, which the failure string must\n-                     contain: #[should_fail(message = \"foo\")].\n+                     contain: #[should_fail(expected = \"foo\")].\n     #[ignore]      - When applied to a function which is already attributed as a\n                      test, then the test runner will ignore these tests during\n                      normal test runs. Running with --ignored will run these"}, {"sha": "76a5022e3be81e67f08513771f70abe41d9b83c8", "filename": "src/test/run-fail/test-should-fail-bad-message.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3246d4f36979658c61c9e2bcfe524b1d45b3257a/src%2Ftest%2Frun-fail%2Ftest-should-fail-bad-message.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3246d4f36979658c61c9e2bcfe524b1d45b3257a/src%2Ftest%2Frun-fail%2Ftest-should-fail-bad-message.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Ftest-should-fail-bad-message.rs?ref=3246d4f36979658c61c9e2bcfe524b1d45b3257a", "patch": "@@ -14,7 +14,7 @@\n // ignore-pretty: does not work well with `--test`\n \n #[test]\n-#[should_fail(message = \"foobar\")]\n+#[should_fail(expected = \"foobar\")]\n fn test_foo() {\n     panic!(\"blah\")\n }"}, {"sha": "dcb2fe6dfc07660a78be9646655e93b5df4bf3c8", "filename": "src/test/run-pass/test-should-fail-good-message.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3246d4f36979658c61c9e2bcfe524b1d45b3257a/src%2Ftest%2Frun-pass%2Ftest-should-fail-good-message.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3246d4f36979658c61c9e2bcfe524b1d45b3257a/src%2Ftest%2Frun-pass%2Ftest-should-fail-good-message.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftest-should-fail-good-message.rs?ref=3246d4f36979658c61c9e2bcfe524b1d45b3257a", "patch": "@@ -12,13 +12,13 @@\n // ignore-pretty: does not work well with `--test`\n \n #[test]\n-#[should_fail(message = \"foo\")]\n+#[should_fail(expected = \"foo\")]\n fn test_foo() {\n     panic!(\"foo bar\")\n }\n \n #[test]\n-#[should_fail(message = \"foo\")]\n+#[should_fail(expected = \"foo\")]\n fn test_foo_dynamic() {\n     panic!(\"{} bar\", \"foo\")\n }"}]}