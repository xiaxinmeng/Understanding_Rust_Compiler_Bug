{"sha": "031b528052d97ef217748e4d0f0a6503426de229", "node_id": "C_kwDOAAsO6NoAKDAzMWI1MjgwNTJkOTdlZjIxNzc0OGU0ZDBmMGE2NTAzNDI2ZGUyMjk", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-03-08T20:24:52Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-03-08T20:24:52Z"}, "message": "Rollup merge of #108884 - compiler-errors:tweak-illegal-copy-impl-message, r=WaffleLapkin\n\nTweak illegal `Copy` impl message\n\nThe phrase \"may not\" can both mean \"is not able to\" and \"possibly does not\". Disambiguate this by just using \"cannot\".\n``@Lokathor`` expressed being annoyed by this [here](https://twitter.com/Lokathor/status/1633200313544089602?s=20).\n\nAlso drive-by fix for this extremely noisy message: https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=6a37275bc810f7846bfe191845b7d11d.\n\nr? diagnostics", "tree": {"sha": "2539f068e38a3617bc833ad39d97c9e5a5069153", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2539f068e38a3617bc833ad39d97c9e5a5069153"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/031b528052d97ef217748e4d0f0a6503426de229", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkCO8UCRBK7hj4Ov3rIwAAZ+IIAA2Ujl6qvYptIurpxHo5ubeE\n9LeWhMFmZHhWj0dndFIlzRy7ePA4n5X26snBqavbb9nOR8gSxQxV/tzXP0r2xU7g\nq1kOYyPcmeLSZnxN7vYGaY809y9MO5tkISBwg7Gkg9aG9nDbXeC1/n/URvHw5jTZ\nRF6WPZUFL4YdakPLKLPxm3yHEGG9/XsYyK/VZmHK/yQAFPu4MsH8oJ+DSUNAho6M\n43ZI6IT6V7wg4BSBczX9x5J/oW6+G9n5INyCQ3ayRyQiazGg8pSOtLXoW+Y0/tmV\nEbw6NA2XjRQCdxL4gjJrfw0G64anJ6RJZ3Ao6xMSY7jkTHBUySUXTXPdhPG52ow=\n=+htp\n-----END PGP SIGNATURE-----\n", "payload": "tree 2539f068e38a3617bc833ad39d97c9e5a5069153\nparent f6b8a9f6dbfad6dc0e7651cbb5372ac8f5b593c6\nparent 0f4255ece2e2ff5e0ab7467513cd45d3cdecb27d\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1678307092 +0100\ncommitter GitHub <noreply@github.com> 1678307092 +0100\n\nRollup merge of #108884 - compiler-errors:tweak-illegal-copy-impl-message, r=WaffleLapkin\n\nTweak illegal `Copy` impl message\n\nThe phrase \"may not\" can both mean \"is not able to\" and \"possibly does not\". Disambiguate this by just using \"cannot\".\n``@Lokathor`` expressed being annoyed by this [here](https://twitter.com/Lokathor/status/1633200313544089602?s=20).\n\nAlso drive-by fix for this extremely noisy message: https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=6a37275bc810f7846bfe191845b7d11d.\n\nr? diagnostics\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/031b528052d97ef217748e4d0f0a6503426de229", "html_url": "https://github.com/rust-lang/rust/commit/031b528052d97ef217748e4d0f0a6503426de229", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/031b528052d97ef217748e4d0f0a6503426de229/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f6b8a9f6dbfad6dc0e7651cbb5372ac8f5b593c6", "url": "https://api.github.com/repos/rust-lang/rust/commits/f6b8a9f6dbfad6dc0e7651cbb5372ac8f5b593c6", "html_url": "https://github.com/rust-lang/rust/commit/f6b8a9f6dbfad6dc0e7651cbb5372ac8f5b593c6"}, {"sha": "0f4255ece2e2ff5e0ab7467513cd45d3cdecb27d", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f4255ece2e2ff5e0ab7467513cd45d3cdecb27d", "html_url": "https://github.com/rust-lang/rust/commit/0f4255ece2e2ff5e0ab7467513cd45d3cdecb27d"}], "stats": {"total": 124, "additions": 62, "deletions": 62}, "files": [{"sha": "3c62529442c3f8fa107ea5c659ef2c0cd6f5d8ce", "filename": "compiler/rustc_hir_analysis/locales/en-US.ftl", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/compiler%2Frustc_hir_analysis%2Flocales%2Fen-US.ftl", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/compiler%2Frustc_hir_analysis%2Flocales%2Fen-US.ftl", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Flocales%2Fen-US.ftl?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -89,14 +89,14 @@ hir_analysis_missing_type_params =\n     .note = because of the default `Self` reference, type parameters must be specified on object types\n \n hir_analysis_copy_impl_on_type_with_dtor =\n-    the trait `Copy` may not be implemented for this type; the type has a destructor\n+    the trait `Copy` cannot be implemented for this type; the type has a destructor\n     .label = `Copy` not allowed on types with destructors\n \n hir_analysis_multiple_relaxed_default_bounds =\n     type parameter has more than one relaxed default bound, only one is supported\n \n hir_analysis_copy_impl_on_non_adt =\n-    the trait `Copy` may not be implemented for this type\n+    the trait `Copy` cannot be implemented for this type\n     .label = type is not a structure or enumeration\n \n hir_analysis_const_impl_for_non_const_trait ="}, {"sha": "8294d92c9364e170403b2beada30b71fd8a00793", "filename": "compiler/rustc_hir_analysis/src/coherence/builtin.rs", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Fbuiltin.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -2,6 +2,7 @@\n //! up data structures required by type-checking/codegen.\n \n use crate::errors::{CopyImplOnNonAdt, CopyImplOnTypeWithDtor, DropImplOnWrongItem};\n+use rustc_data_structures::fx::FxHashSet;\n use rustc_errors::{struct_span_err, MultiSpan};\n use rustc_hir as hir;\n use rustc_hir::def_id::{DefId, LocalDefId};\n@@ -86,15 +87,22 @@ fn visit_implementation_of_copy(tcx: TyCtxt<'_>, impl_did: LocalDefId) {\n                 tcx.sess,\n                 span,\n                 E0204,\n-                \"the trait `Copy` may not be implemented for this type\"\n+                \"the trait `Copy` cannot be implemented for this type\"\n             );\n \n             // We'll try to suggest constraining type parameters to fulfill the requirements of\n             // their `Copy` implementation.\n             let mut errors: BTreeMap<_, Vec<_>> = Default::default();\n             let mut bounds = vec![];\n \n+            let mut seen_tys = FxHashSet::default();\n+\n             for (field, ty, reason) in fields {\n+                // Only report an error once per type.\n+                if !seen_tys.insert(ty) {\n+                    continue;\n+                }\n+\n                 let field_span = tcx.def_span(field.did);\n                 err.span_label(field_span, \"this field does not implement `Copy`\");\n "}, {"sha": "2c537bf4064ae9b7c5645423c879ca0f091fc893", "filename": "compiler/rustc_hir_typeck/locales/en-US.ftl", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/compiler%2Frustc_hir_typeck%2Flocales%2Fen-US.ftl", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/compiler%2Frustc_hir_typeck%2Flocales%2Fen-US.ftl", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Flocales%2Fen-US.ftl?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -4,14 +4,14 @@ hir_typeck_field_multiply_specified_in_initializer =\n     .previous_use_label = first use of `{$ident}`\n \n hir_typeck_copy_impl_on_type_with_dtor =\n-    the trait `Copy` may not be implemented for this type; the type has a destructor\n+    the trait `Copy` cannot be implemented for this type; the type has a destructor\n     .label = `Copy` not allowed on types with destructors\n \n hir_typeck_multiple_relaxed_default_bounds =\n     type parameter has more than one relaxed default bound, only one is supported\n \n hir_typeck_copy_impl_on_non_adt =\n-    the trait `Copy` may not be implemented for this type\n+    the trait `Copy` cannot be implemented for this type\n     .label = type is not a structure or enumeration\n \n hir_typeck_trait_object_declared_with_no_traits ="}, {"sha": "427146941ade87e5ce86130fd71c9976eabb2611", "filename": "library/core/src/marker.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/library%2Fcore%2Fsrc%2Fmarker.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/library%2Fcore%2Fsrc%2Fmarker.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fmarker.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -324,7 +324,7 @@ pub trait StructuralEq {\n /// attempt to derive a `Copy` implementation, we'll get an error:\n ///\n /// ```text\n-/// the trait `Copy` may not be implemented for this type; field `points` does not implement `Copy`\n+/// the trait `Copy` cannot be implemented for this type; field `points` does not implement `Copy`\n /// ```\n ///\n /// Shared references (`&T`) are also `Copy`, so a type can be `Copy`, even when it holds"}, {"sha": "21dbc606321ff07fee620f694f2aec59d72bc005", "filename": "tests/ui/coherence/coherence-impls-copy.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fcoherence%2Fcoherence-impls-copy.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fcoherence%2Fcoherence-impls-copy.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcoherence%2Fcoherence-impls-copy.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -52,19 +52,19 @@ LL | impl Copy for [MyType] {}\n    |\n    = note: define and implement a trait or new type instead\n \n-error[E0206]: the trait `Copy` may not be implemented for this type\n+error[E0206]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/coherence-impls-copy.rs:21:15\n    |\n LL | impl Copy for &'static mut MyType {}\n    |               ^^^^^^^^^^^^^^^^^^^ type is not a structure or enumeration\n \n-error[E0206]: the trait `Copy` may not be implemented for this type\n+error[E0206]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/coherence-impls-copy.rs:25:15\n    |\n LL | impl Copy for (MyType, MyType) {}\n    |               ^^^^^^^^^^^^^^^^ type is not a structure or enumeration\n \n-error[E0206]: the trait `Copy` may not be implemented for this type\n+error[E0206]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/coherence-impls-copy.rs:30:15\n    |\n LL | impl Copy for [MyType] {}"}, {"sha": "97fd3f719bfbfdd474f430b218bacc5eaca60265", "filename": "tests/ui/coherence/deep-bad-copy-reason.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fcoherence%2Fdeep-bad-copy-reason.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fcoherence%2Fdeep-bad-copy-reason.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcoherence%2Fdeep-bad-copy-reason.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -31,7 +31,7 @@ impl<'tcx, T> Clone for List<'tcx, T> {\n }\n \n impl<'tcx, T> Copy for List<'tcx, T> {}\n-//~^ ERROR the trait `Copy` may not be implemented for this type\n+//~^ ERROR the trait `Copy` cannot be implemented for this type\n \n fn assert_is_copy<T: Copy>() {}\n "}, {"sha": "7b6dd4b380f6f27b75e327e173606f8fb6a7c5f4", "filename": "tests/ui/coherence/deep-bad-copy-reason.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fcoherence%2Fdeep-bad-copy-reason.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fcoherence%2Fdeep-bad-copy-reason.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fcoherence%2Fdeep-bad-copy-reason.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/deep-bad-copy-reason.rs:33:24\n    |\n LL | pub struct List<'tcx, T>(Interned<'tcx, ListS<T>>);"}, {"sha": "52f1f30a4087df73abaf2393ce99115bbd0963c8", "filename": "tests/ui/error-codes/E0184.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ferror-codes%2FE0184.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ferror-codes%2FE0184.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ferror-codes%2FE0184.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0184]: the trait `Copy` may not be implemented for this type; the type has a destructor\n+error[E0184]: the trait `Copy` cannot be implemented for this type; the type has a destructor\n   --> $DIR/E0184.rs:1:10\n    |\n LL | #[derive(Copy)]"}, {"sha": "74738d81015ebed089cf52325b2c23b841b315b7", "filename": "tests/ui/error-codes/E0206.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ferror-codes%2FE0206.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ferror-codes%2FE0206.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ferror-codes%2FE0206.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -2,7 +2,7 @@\n struct Bar;\n \n impl Copy for &'static mut Bar { }\n-//~^ ERROR the trait `Copy` may not be implemented for this type\n+//~^ ERROR the trait `Copy` cannot be implemented for this type\n \n fn main() {\n }"}, {"sha": "60d8d7bfe983d36047028ad494aa429300fcaa49", "filename": "tests/ui/error-codes/E0206.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ferror-codes%2FE0206.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ferror-codes%2FE0206.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ferror-codes%2FE0206.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0206]: the trait `Copy` may not be implemented for this type\n+error[E0206]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/E0206.rs:4:15\n    |\n LL | impl Copy for &'static mut Bar { }"}, {"sha": "210ecaed7567d6c276c686b827d9fe9a871c9389", "filename": "tests/ui/exclusive-drop-and-copy.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fexclusive-drop-and-copy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fexclusive-drop-and-copy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fexclusive-drop-and-copy.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,13 +1,13 @@\n // issue #20126\n \n-#[derive(Copy, Clone)] //~ ERROR the trait `Copy` may not be implemented\n+#[derive(Copy, Clone)] //~ ERROR the trait `Copy` cannot be implemented\n struct Foo;\n \n impl Drop for Foo {\n     fn drop(&mut self) {}\n }\n \n-#[derive(Copy, Clone)] //~ ERROR the trait `Copy` may not be implemented\n+#[derive(Copy, Clone)] //~ ERROR the trait `Copy` cannot be implemented\n struct Bar<T>(::std::marker::PhantomData<T>);\n \n impl<T> Drop for Bar<T> {"}, {"sha": "546079422a7330b68675868eeb29a1a71630155e", "filename": "tests/ui/exclusive-drop-and-copy.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fexclusive-drop-and-copy.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fexclusive-drop-and-copy.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fexclusive-drop-and-copy.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,12 +1,12 @@\n-error[E0184]: the trait `Copy` may not be implemented for this type; the type has a destructor\n+error[E0184]: the trait `Copy` cannot be implemented for this type; the type has a destructor\n   --> $DIR/exclusive-drop-and-copy.rs:3:10\n    |\n LL | #[derive(Copy, Clone)]\n    |          ^^^^ `Copy` not allowed on types with destructors\n    |\n    = note: this error originates in the derive macro `Copy` (in Nightly builds, run with -Z macro-backtrace for more info)\n \n-error[E0184]: the trait `Copy` may not be implemented for this type; the type has a destructor\n+error[E0184]: the trait `Copy` cannot be implemented for this type; the type has a destructor\n   --> $DIR/exclusive-drop-and-copy.rs:10:10\n    |\n LL | #[derive(Copy, Clone)]"}, {"sha": "aff37d95a3f3eb3f2719d751405d76d5503f11f9", "filename": "tests/ui/issues/issue-27340.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fissues%2Fissue-27340.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fissues%2Fissue-27340.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fissues%2Fissue-27340.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,6 +1,6 @@\n struct Foo;\n #[derive(Copy, Clone)]\n-//~^ ERROR the trait `Copy` may not be implemented for this type\n+//~^ ERROR the trait `Copy` cannot be implemented for this type\n struct Bar(Foo);\n \n fn main() {}"}, {"sha": "9caaffd9c9a215cff7a8c20ad354870a6b7af48e", "filename": "tests/ui/issues/issue-27340.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fissues%2Fissue-27340.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fissues%2Fissue-27340.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fissues%2Fissue-27340.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/issue-27340.rs:2:10\n    |\n LL | #[derive(Copy, Clone)]"}, {"sha": "d0257b5745d8baa0a70639f40263e6a6100cb8d9", "filename": "tests/ui/opt-in-copy.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fopt-in-copy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fopt-in-copy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fopt-in-copy.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -5,7 +5,7 @@ struct IWantToCopyThis {\n }\n \n impl Copy for IWantToCopyThis {}\n-//~^ ERROR the trait `Copy` may not be implemented for this type\n+//~^ ERROR the trait `Copy` cannot be implemented for this type\n \n enum CantCopyThisEither {\n     A,\n@@ -17,6 +17,6 @@ enum IWantToCopyThisToo {\n }\n \n impl Copy for IWantToCopyThisToo {}\n-//~^ ERROR the trait `Copy` may not be implemented for this type\n+//~^ ERROR the trait `Copy` cannot be implemented for this type\n \n fn main() {}"}, {"sha": "258ff16e6e485decff9032d1d6a46c9605893244", "filename": "tests/ui/opt-in-copy.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fopt-in-copy.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fopt-in-copy.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fopt-in-copy.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/opt-in-copy.rs:7:15\n    |\n LL |     but_i_cant: CantCopyThis,\n@@ -7,7 +7,7 @@ LL |     but_i_cant: CantCopyThis,\n LL | impl Copy for IWantToCopyThis {}\n    |               ^^^^^^^^^^^^^^^\n \n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/opt-in-copy.rs:19:15\n    |\n LL |     ButICant(CantCopyThisEither),"}, {"sha": "0829fc2ce9b8c8ced24c899e2df9d10ca2eb66a8", "filename": "tests/ui/range/range_traits-2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Frange%2Frange_traits-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Frange%2Frange_traits-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frange%2Frange_traits-2.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/range_traits-2.rs:3:10\n    |\n LL | #[derive(Copy, Clone)]"}, {"sha": "db19d1baec994b060ffee1924e934a14677a84e3", "filename": "tests/ui/range/range_traits-3.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Frange%2Frange_traits-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Frange%2Frange_traits-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frange%2Frange_traits-3.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/range_traits-3.rs:3:10\n    |\n LL | #[derive(Copy, Clone)]"}, {"sha": "dfc74f87ca715bf807d400b1d114c45e95af3bc7", "filename": "tests/ui/range/range_traits-6.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Frange%2Frange_traits-6.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Frange%2Frange_traits-6.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frange%2Frange_traits-6.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/range_traits-6.rs:3:10\n    |\n LL | #[derive(Copy, Clone)]"}, {"sha": "8793a05c8a85a986f52e598d767e10d354d5f594", "filename": "tests/ui/span/E0204.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fspan%2FE0204.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fspan%2FE0204.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fspan%2FE0204.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -2,9 +2,9 @@ struct Foo {\n     foo: Vec<u32>,\n }\n \n-impl Copy for Foo { } //~ ERROR may not be implemented for this type\n+impl Copy for Foo { } //~ ERROR cannot be implemented for this type\n \n-#[derive(Copy)] //~ ERROR may not be implemented for this type\n+#[derive(Copy)] //~ ERROR cannot be implemented for this type\n struct Foo2<'a> {\n     ty: &'a mut bool,\n }\n@@ -14,9 +14,9 @@ enum EFoo {\n     Baz,\n }\n \n-impl Copy for EFoo { } //~ ERROR may not be implemented for this type\n+impl Copy for EFoo { } //~ ERROR cannot be implemented for this type\n \n-#[derive(Copy)] //~ ERROR may not be implemented for this type\n+#[derive(Copy)] //~ ERROR cannot be implemented for this type\n enum EFoo2<'a> {\n     Bar(&'a mut bool),\n     Baz,"}, {"sha": "3a0afb541ba8de5413f88f28e2c4d700f780244f", "filename": "tests/ui/span/E0204.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fspan%2FE0204.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fspan%2FE0204.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fspan%2FE0204.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/E0204.rs:5:15\n    |\n LL |     foo: Vec<u32>,\n@@ -7,7 +7,7 @@ LL |     foo: Vec<u32>,\n LL | impl Copy for Foo { }\n    |               ^^^\n \n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/E0204.rs:7:10\n    |\n LL | #[derive(Copy)]\n@@ -18,7 +18,7 @@ LL |     ty: &'a mut bool,\n    |\n    = note: this error originates in the derive macro `Copy` (in Nightly builds, run with -Z macro-backtrace for more info)\n \n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/E0204.rs:17:15\n    |\n LL |     Bar { x: Vec<u32> },\n@@ -27,7 +27,7 @@ LL |     Bar { x: Vec<u32> },\n LL | impl Copy for EFoo { }\n    |               ^^^^\n \n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/E0204.rs:19:10\n    |\n LL | #[derive(Copy)]"}, {"sha": "47b35b412c037fbd62f078a27ab499feacebe229", "filename": "tests/ui/suggestions/missing-bound-in-derive-copy-impl-3.fixed", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl-3.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl-3.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl-3.fixed?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -7,7 +7,7 @@ pub struct Vector2<T: Debug + Copy + Clone>{\n     pub y: T\n }\n \n-#[derive(Debug, Copy, Clone)] //~ ERROR the trait `Copy` may not be implemented for this type\n+#[derive(Debug, Copy, Clone)] //~ ERROR the trait `Copy` cannot be implemented for this type\n pub struct AABB<K: Copy + Debug>{\n     pub loc: Vector2<K>,\n     pub size: Vector2<K>"}, {"sha": "771e9105c6211e3174ac4599af9a21ad98da115c", "filename": "tests/ui/suggestions/missing-bound-in-derive-copy-impl-3.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl-3.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -7,7 +7,7 @@ pub struct Vector2<T: Debug + Copy + Clone>{\n     pub y: T\n }\n \n-#[derive(Debug, Copy, Clone)] //~ ERROR the trait `Copy` may not be implemented for this type\n+#[derive(Debug, Copy, Clone)] //~ ERROR the trait `Copy` cannot be implemented for this type\n pub struct AABB<K: Copy>{\n     pub loc: Vector2<K>,\n     pub size: Vector2<K>"}, {"sha": "09696e0613e7c467d0d14fc55d9bd42aca446f9f", "filename": "tests/ui/suggestions/missing-bound-in-derive-copy-impl-3.stderr", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl-3.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,21 +1,17 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/missing-bound-in-derive-copy-impl-3.rs:10:17\n    |\n LL | #[derive(Debug, Copy, Clone)]\n    |                 ^^^^\n LL | pub struct AABB<K: Copy>{\n LL |     pub loc: Vector2<K>,\n    |     ------------------- this field does not implement `Copy`\n-LL |     pub size: Vector2<K>\n-   |     -------------------- this field does not implement `Copy`\n    |\n note: the `Copy` impl for `Vector2<K>` requires that `K: Debug`\n   --> $DIR/missing-bound-in-derive-copy-impl-3.rs:12:14\n    |\n LL |     pub loc: Vector2<K>,\n    |              ^^^^^^^^^^\n-LL |     pub size: Vector2<K>\n-   |               ^^^^^^^^^^\n    = note: this error originates in the derive macro `Copy` (in Nightly builds, run with -Z macro-backtrace for more info)\n help: consider further restricting this bound\n    |"}, {"sha": "9c7b7ba099c43c3acf05e198bd760a26d70a8a6f", "filename": "tests/ui/suggestions/missing-bound-in-derive-copy-impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -6,7 +6,7 @@ pub struct Vector2<T: Debug + Copy + Clone>{\n     pub y: T\n }\n \n-#[derive(Debug, Copy, Clone)] //~ ERROR the trait `Copy` may not be implemented for this type\n+#[derive(Debug, Copy, Clone)] //~ ERROR the trait `Copy` cannot be implemented for this type\n pub struct AABB<K>{\n     pub loc: Vector2<K>,\n     pub size: Vector2<K>"}, {"sha": "8585fe47bf345bda1ff7796fc9ea19cdb219f788", "filename": "tests/ui/suggestions/missing-bound-in-derive-copy-impl.stderr", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-derive-copy-impl.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,21 +1,17 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/missing-bound-in-derive-copy-impl.rs:9:17\n    |\n LL | #[derive(Debug, Copy, Clone)]\n    |                 ^^^^\n LL | pub struct AABB<K>{\n LL |     pub loc: Vector2<K>,\n    |     ------------------- this field does not implement `Copy`\n-LL |     pub size: Vector2<K>\n-   |     -------------------- this field does not implement `Copy`\n    |\n note: the `Copy` impl for `Vector2<K>` requires that `K: Debug`\n   --> $DIR/missing-bound-in-derive-copy-impl.rs:11:14\n    |\n LL |     pub loc: Vector2<K>,\n    |              ^^^^^^^^^^\n-LL |     pub size: Vector2<K>\n-   |               ^^^^^^^^^^\n    = note: this error originates in the derive macro `Copy` (in Nightly builds, run with -Z macro-backtrace for more info)\n help: consider restricting type parameter `K`\n    |"}, {"sha": "f32c61a99bb8cb4a23d51989288f0e26a6416309", "filename": "tests/ui/suggestions/missing-bound-in-manual-copy-impl-2.fixed", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl-2.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl-2.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl-2.fixed?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -14,6 +14,6 @@ impl<T: std::fmt::Display> Clone for OnlyCopyIfDisplay<T> {\n impl<T: std::fmt::Display> Copy for OnlyCopyIfDisplay<T> {}\n \n impl<S: std::fmt::Display> Copy for Wrapper<OnlyCopyIfDisplay<S>> {}\n-//~^ ERROR the trait `Copy` may not be implemented for this type\n+//~^ ERROR the trait `Copy` cannot be implemented for this type\n \n fn main() {}"}, {"sha": "d7725f4a3743d2dab6f0fcf0d4954fc099ccb5a2", "filename": "tests/ui/suggestions/missing-bound-in-manual-copy-impl-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl-2.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -14,6 +14,6 @@ impl<T: std::fmt::Display> Clone for OnlyCopyIfDisplay<T> {\n impl<T: std::fmt::Display> Copy for OnlyCopyIfDisplay<T> {}\n \n impl<S> Copy for Wrapper<OnlyCopyIfDisplay<S>> {}\n-//~^ ERROR the trait `Copy` may not be implemented for this type\n+//~^ ERROR the trait `Copy` cannot be implemented for this type\n \n fn main() {}"}, {"sha": "856d8db381bd8ba3bfd703881d4078c9f4e90aa7", "filename": "tests/ui/suggestions/missing-bound-in-manual-copy-impl-2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl-2.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/missing-bound-in-manual-copy-impl-2.rs:16:18\n    |\n LL | struct Wrapper<T>(T);"}, {"sha": "1139b315313fca8c8a8d235e76c7f8ae319f1217", "filename": "tests/ui/suggestions/missing-bound-in-manual-copy-impl.fixed", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl.fixed?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -4,6 +4,6 @@\n struct Wrapper<T>(T);\n \n impl<S: Copy> Copy for Wrapper<S> {}\n-//~^ ERROR the trait `Copy` may not be implemented for this type\n+//~^ ERROR the trait `Copy` cannot be implemented for this type\n \n fn main() {}"}, {"sha": "19549248efc23d734bd97f9713c9c074da7cc79b", "filename": "tests/ui/suggestions/missing-bound-in-manual-copy-impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -4,6 +4,6 @@\n struct Wrapper<T>(T);\n \n impl<S> Copy for Wrapper<S> {}\n-//~^ ERROR the trait `Copy` may not be implemented for this type\n+//~^ ERROR the trait `Copy` cannot be implemented for this type\n \n fn main() {}"}, {"sha": "ec3e4f23a649ead61e22825f709751018e18bc9d", "filename": "tests/ui/suggestions/missing-bound-in-manual-copy-impl.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuggestions%2Fmissing-bound-in-manual-copy-impl.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/missing-bound-in-manual-copy-impl.rs:6:18\n    |\n LL | struct Wrapper<T>(T);"}, {"sha": "130425211841351ea2c61a825df6ac77c6f138a0", "filename": "tests/ui/traits/copy-is-not-modulo-regions.not_static.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ftraits%2Fcopy-is-not-modulo-regions.not_static.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ftraits%2Fcopy-is-not-modulo-regions.not_static.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftraits%2Fcopy-is-not-modulo-regions.not_static.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/copy-is-not-modulo-regions.rs:13:21\n    |\n LL | struct Bar<'lt>(Foo<'lt>);"}, {"sha": "b899083747afa84fc2379e2c7439e3e09779a6bb", "filename": "tests/ui/traits/copy-is-not-modulo-regions.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ftraits%2Fcopy-is-not-modulo-regions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ftraits%2Fcopy-is-not-modulo-regions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftraits%2Fcopy-is-not-modulo-regions.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -11,7 +11,7 @@ struct Bar<'lt>(Foo<'lt>);\n \n #[cfg(not_static)]\n impl<'any> Copy for Bar<'any> {}\n-//[not_static]~^ the trait `Copy` may not be implemented for this type\n+//[not_static]~^ the trait `Copy` cannot be implemented for this type\n \n #[cfg(yes_static)]\n impl<'any> Copy for Bar<'static> {}"}, {"sha": "683a85a32c1c6667194c701321bee15c6407eb7c", "filename": "tests/ui/traits/issue-50480.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ftraits%2Fissue-50480.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ftraits%2Fissue-50480.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftraits%2Fissue-50480.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,13 +1,13 @@\n #[derive(Clone, Copy)]\n-//~^ ERROR the trait `Copy` may not be implemented for this type\n+//~^ ERROR the trait `Copy` cannot be implemented for this type\n struct Foo(N, NotDefined, <i32 as Iterator>::Item, Vec<i32>, String);\n //~^ ERROR cannot find type `NotDefined` in this scope\n //~| ERROR cannot find type `NotDefined` in this scope\n //~| ERROR cannot find type `N` in this scope\n //~| ERROR cannot find type `N` in this scope\n \n #[derive(Clone, Copy)]\n-//~^ ERROR the trait `Copy` may not be implemented for this type\n+//~^ ERROR the trait `Copy` cannot be implemented for this type\n struct Bar<T>(T, N, NotDefined, <i32 as Iterator>::Item, Vec<i32>, String);\n //~^ ERROR cannot find type `NotDefined` in this scope\n //~| ERROR cannot find type `N` in this scope"}, {"sha": "4f72db60a164770233ddf2f779d01834b9159718", "filename": "tests/ui/traits/issue-50480.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ftraits%2Fissue-50480.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Ftraits%2Fissue-50480.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftraits%2Fissue-50480.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -60,7 +60,7 @@ error[E0412]: cannot find type `NotDefined` in this scope\n LL | struct Bar<T>(T, N, NotDefined, <i32 as Iterator>::Item, Vec<i32>, String);\n    |                     ^^^^^^^^^^ not found in this scope\n \n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/issue-50480.rs:1:17\n    |\n LL | #[derive(Clone, Copy)]\n@@ -73,7 +73,7 @@ LL | struct Foo(N, NotDefined, <i32 as Iterator>::Item, Vec<i32>, String);\n    |\n    = note: this error originates in the derive macro `Copy` (in Nightly builds, run with -Z macro-backtrace for more info)\n \n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/issue-50480.rs:9:17\n    |\n LL | #[derive(Clone, Copy)]"}, {"sha": "7ad0a11c6ac6e99e933218ecf491c252bf620a3e", "filename": "tests/ui/union/union-copy.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Funion%2Funion-copy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Funion%2Funion-copy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funion%2Funion-copy.rs?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -9,6 +9,6 @@ union W {\n }\n \n impl Copy for U {} // OK\n-impl Copy for W {} //~ ERROR the trait `Copy` may not be implemented for this type\n+impl Copy for W {} //~ ERROR the trait `Copy` cannot be implemented for this type\n \n fn main() {}"}, {"sha": "ff6fa48db90fd6530738d62eb66f3b0cc7f494d4", "filename": "tests/ui/union/union-copy.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Funion%2Funion-copy.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/031b528052d97ef217748e4d0f0a6503426de229/tests%2Fui%2Funion%2Funion-copy.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funion%2Funion-copy.stderr?ref=031b528052d97ef217748e4d0f0a6503426de229", "patch": "@@ -1,4 +1,4 @@\n-error[E0204]: the trait `Copy` may not be implemented for this type\n+error[E0204]: the trait `Copy` cannot be implemented for this type\n   --> $DIR/union-copy.rs:12:15\n    |\n LL |     a: std::mem::ManuallyDrop<String>"}]}