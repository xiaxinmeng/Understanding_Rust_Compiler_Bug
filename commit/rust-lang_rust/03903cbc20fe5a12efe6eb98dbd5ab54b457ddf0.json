{"sha": "03903cbc20fe5a12efe6eb98dbd5ab54b457ddf0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAzOTAzY2JjMjBmZTVhMTJlZmU2ZWI5OGRiZDVhYjU0YjQ1N2RkZjA=", "commit": {"author": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-12-18T22:45:39Z"}, "committer": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-12-18T23:25:10Z"}, "message": "Prettify MIR graphviz output\n\nOne will look at graphviz often when working with MIR, so may as well make the tables a bit more\npretty :)", "tree": {"sha": "c411fe07363d997fd4ba472a41702e8a317321bc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c411fe07363d997fd4ba472a41702e8a317321bc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/03903cbc20fe5a12efe6eb98dbd5ab54b457ddf0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/03903cbc20fe5a12efe6eb98dbd5ab54b457ddf0", "html_url": "https://github.com/rust-lang/rust/commit/03903cbc20fe5a12efe6eb98dbd5ab54b457ddf0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/03903cbc20fe5a12efe6eb98dbd5ab54b457ddf0/comments", "author": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "de62f9d885623318206620ddd2856a288ccd3ee4", "url": "https://api.github.com/repos/rust-lang/rust/commits/de62f9d885623318206620ddd2856a288ccd3ee4", "html_url": "https://github.com/rust-lang/rust/commit/de62f9d885623318206620ddd2856a288ccd3ee4"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "d5da606d76e80906f8b71efc0ebf5eb93c553c60", "filename": "src/librustc_mir/graphviz/mod.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/03903cbc20fe5a12efe6eb98dbd5ab54b457ddf0/src%2Flibrustc_mir%2Fgraphviz%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/03903cbc20fe5a12efe6eb98dbd5ab54b457ddf0/src%2Flibrustc_mir%2Fgraphviz%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fgraphviz%2Fmod.rs?ref=03903cbc20fe5a12efe6eb98dbd5ab54b457ddf0", "patch": "@@ -34,24 +34,24 @@ impl<'a,'tcx> dot::Labeller<'a, BasicBlock, EdgeIndex> for Mir<'tcx> {\n \n     fn node_label(&'a self, &n: &BasicBlock) -> dot::LabelText<'a> {\n         let mut buffer = String::new();\n-        buffer.push_str(\"<TABLE ALIGN=\\\"LEFT\\\">\");\n+        buffer.push_str(\"<table border=\\\"0\\\" cellborder=\\\"1\\\" cellspacing=\\\"0\\\">\");\n \n-        buffer.push_str(\"<TR><TD>\");\n-        buffer.push_str(&format!(\"{:?}\", n));\n-        buffer.push_str(\"</TD></TR>\");\n+        buffer.push_str(\"<tr><td><b>\");\n+        buffer.push_str(&escape(format!(\"{:?}\", n)));\n+        buffer.push_str(\"</b></td></tr>\");\n \n         let data = self.basic_block_data(n);\n         for statement in &data.statements {\n-            buffer.push_str(\"<TR><TD>\");\n+            buffer.push_str(\"<tr><td align=\\\"left\\\">\");\n             buffer.push_str(&escape(format!(\"{:?}\", statement)));\n-            buffer.push_str(\"</TD></TR>\");\n+            buffer.push_str(\"</td></tr>\");\n         }\n \n-        buffer.push_str(\"<TR><TD>\");\n+        buffer.push_str(\"<tr><td align=\\\"left\\\" bgcolor=\\\"cornsilk\\\">\");\n         buffer.push_str(&escape(format!(\"{:?}\", &data.terminator)));\n-        buffer.push_str(\"</TD></TR>\");\n+        buffer.push_str(\"</td></tr>\");\n \n-        buffer.push_str(\"</TABLE>\");\n+        buffer.push_str(\"</table>\");\n \n         dot::LabelText::html(buffer)\n     }"}]}