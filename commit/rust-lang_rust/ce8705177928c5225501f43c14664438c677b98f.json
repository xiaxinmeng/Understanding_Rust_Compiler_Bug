{"sha": "ce8705177928c5225501f43c14664438c677b98f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlODcwNTE3NzkyOGM1MjI1NTAxZjQzYzE0NjY0NDM4YzY3N2I5OGY=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-04-05T20:21:19Z"}, "committer": {"name": "Matthew Kraai", "email": "kraai@ftbfs.org", "date": "2019-04-17T13:51:21Z"}, "message": "Fix lint_without_lint_pass internal lint", "tree": {"sha": "296ae5296e5399c26638b529edcec26e4470840c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/296ae5296e5399c26638b529edcec26e4470840c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ce8705177928c5225501f43c14664438c677b98f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ce8705177928c5225501f43c14664438c677b98f", "html_url": "https://github.com/rust-lang/rust/commit/ce8705177928c5225501f43c14664438c677b98f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ce8705177928c5225501f43c14664438c677b98f/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kraai", "id": 552646, "node_id": "MDQ6VXNlcjU1MjY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/552646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kraai", "html_url": "https://github.com/kraai", "followers_url": "https://api.github.com/users/kraai/followers", "following_url": "https://api.github.com/users/kraai/following{/other_user}", "gists_url": "https://api.github.com/users/kraai/gists{/gist_id}", "starred_url": "https://api.github.com/users/kraai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kraai/subscriptions", "organizations_url": "https://api.github.com/users/kraai/orgs", "repos_url": "https://api.github.com/users/kraai/repos", "events_url": "https://api.github.com/users/kraai/events{/privacy}", "received_events_url": "https://api.github.com/users/kraai/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3e760cc93a4820c1f8fbb0d5e125567e065776d3", "url": "https://api.github.com/repos/rust-lang/rust/commits/3e760cc93a4820c1f8fbb0d5e125567e065776d3", "html_url": "https://github.com/rust-lang/rust/commit/3e760cc93a4820c1f8fbb0d5e125567e065776d3"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "b71d5000c6b25b3041e1e677a2d4512a6b749c80", "filename": "clippy_lints/src/utils/internal_lints.rs", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ce8705177928c5225501f43c14664438c677b98f/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce8705177928c5225501f43c14664438c677b98f/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs?ref=ce8705177928c5225501f43c14664438c677b98f", "patch": "@@ -150,7 +150,13 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for LintWithoutLintPass {\n                         output: &mut self.registered_lints,\n                         cx,\n                     };\n-                    let body_id = cx.tcx.hir().body_owned_by(impl_item_refs[0].id.hir_id);\n+                    let body_id = cx.tcx.hir().body_owned_by(\n+                        impl_item_refs\n+                            .iter()\n+                            .find(|iiref| iiref.ident.as_str() == \"get_lints\")\n+                            .expect(\"LintPass needs to implement get_lints\")\n+                            .id.hir_id\n+                    );\n                     collector.visit_expr(&cx.tcx.hir().body(body_id).value);\n                 }\n             }"}]}