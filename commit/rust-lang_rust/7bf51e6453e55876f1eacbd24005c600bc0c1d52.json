{"sha": "7bf51e6453e55876f1eacbd24005c600bc0c1d52", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdiZjUxZTY0NTNlNTU4NzZmMWVhY2JkMjQwMDVjNjAwYmMwYzFkNTI=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-07-12T13:02:16Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-07-12T13:02:16Z"}, "message": "Merge pull request #399 from RalfJung/readme\n\nupdate debugging instructions in the README", "tree": {"sha": "e4c7416c7933349275092c315f306754538850b1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e4c7416c7933349275092c315f306754538850b1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7bf51e6453e55876f1eacbd24005c600bc0c1d52", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbR1FYCRBK7hj4Ov3rIwAAdHIIAEJ//C80q0DvoZUfjILPKJo4\nY5VeBYA+6Bz2zP+abzf3lHiF9RyD4SyOwEckQkHUIdxXhm8agtdIYkpH8jen+3TS\n47Fiwq97mVxagkGEow7FgX/r7x0N9btYlpvyXSNJFZHKJVi4+CD4GKqWpUQXHT3p\n9+kB+YV0RM2xFeVxSbITNwUy69g6Z7MN30qOD09riWkLMjQI8jqHaVJOgaiY9c27\nU2nYuBI2ePuiks/SdLQkpotnY27+LD4DNr0ZYLQH7AzTOKLQoQabRe81OL5zyhch\nPtsl7EAQ0VUw1+yA24XcrFw2BShQMTH1Y/e2ZMpDCGMuhzJHiNPHcxBBaFaRe4M=\n=zFq1\n-----END PGP SIGNATURE-----\n", "payload": "tree e4c7416c7933349275092c315f306754538850b1\nparent 8a5161ea9d2313114d6313680551e7af85218bb2\nparent 105f7e7fb28041a7e0fb13123d5caadbaf881f24\nauthor Ralf Jung <post@ralfj.de> 1531400536 +0200\ncommitter GitHub <noreply@github.com> 1531400536 +0200\n\nMerge pull request #399 from RalfJung/readme\n\nupdate debugging instructions in the README"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7bf51e6453e55876f1eacbd24005c600bc0c1d52", "html_url": "https://github.com/rust-lang/rust/commit/7bf51e6453e55876f1eacbd24005c600bc0c1d52", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7bf51e6453e55876f1eacbd24005c600bc0c1d52/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8a5161ea9d2313114d6313680551e7af85218bb2", "url": "https://api.github.com/repos/rust-lang/rust/commits/8a5161ea9d2313114d6313680551e7af85218bb2", "html_url": "https://github.com/rust-lang/rust/commit/8a5161ea9d2313114d6313680551e7af85218bb2"}, {"sha": "105f7e7fb28041a7e0fb13123d5caadbaf881f24", "url": "https://api.github.com/repos/rust-lang/rust/commits/105f7e7fb28041a7e0fb13123d5caadbaf881f24", "html_url": "https://github.com/rust-lang/rust/commit/105f7e7fb28041a7e0fb13123d5caadbaf881f24"}], "stats": {"total": 20, "additions": 16, "deletions": 4}, "files": [{"sha": "d0ae5ec46ff9d9eb498bec9701177fc193a39174", "filename": "README.md", "status": "modified", "additions": 16, "deletions": 4, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/7bf51e6453e55876f1eacbd24005c600bc0c1d52/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/7bf51e6453e55876f1eacbd24005c600bc0c1d52/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=7bf51e6453e55876f1eacbd24005c600bc0c1d52", "patch": "@@ -42,10 +42,22 @@ cargo run --bin miri tests/run-pass-fullmir/vecs.rs # Or whatever test you like.\n \n ## Debugging\n \n-You can get detailed, statement-by-statement traces by setting the `MIRI_LOG`\n-environment variable to `trace`. These traces are indented based on call stack\n-depth. You can get a much less verbose set of information with other logging\n-levels such as `warn`.\n+Since the heart of miri (the main interpreter engine) lives in rustc, tracing\n+the interpreter requires a version of rustc compiled with tracing.  To this\n+end, you will have to compile your own rustc:\n+```\n+git clone https://github.com/rust-lang/rust/ rustc\n+cd rustc\n+cp config.toml.example config.toml\n+# Now edit `config.toml` and set `debug-assertions = true`\n+./x.py build\n+rustup toolchain link custom build/x86_64-unknown-linux-gnu/stage2\n+```\n+The `build` step can take 30 to 60 minutes.\n+\n+Now, in the miri directory, you can `rustup override set custom` and re-build\n+everything.  Finally, if you now set `RUST_LOG=rustc_mir::interpret=trace` as\n+environment variable, you will get detailed step-by-step tracing information.\n \n ## Running miri on your own project('s test suite)\n "}]}