{"sha": "aba0bed46606d49b910cd6b44f161d549f9c1a8c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFiYTBiZWQ0NjYwNmQ0OWI5MTBjZDZiNDRmMTYxZDU0OWY5YzFhOGM=", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2021-06-21T15:00:40Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-06-21T15:00:40Z"}, "message": "Rollup merge of #86349 - yerke:add-test-for-issue-78632, r=Mark-Simulacrum\n\nAdd regression test for issue #78632\n\nAdd regression test for issue #78632\n\nCloses #78632\n\nTook this test from #78632 (what was committed to glacier in https://github.com/rust-lang/rust/issues/78632#issuecomment-731843345).\n\nTested that the we get ICE on 1.52.1 on the playground (https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=b86d51fee4cded9d24b50d8ecbc48c6a).", "tree": {"sha": "2e43187de83169ee665fb2cdac280783a7ba2529", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2e43187de83169ee665fb2cdac280783a7ba2529"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aba0bed46606d49b910cd6b44f161d549f9c1a8c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJg0KmYCRBK7hj4Ov3rIwAAx5YIAA4mjNZ2bzITxlOYffb4uhCQ\ncVjuQO9j27Nu8a5c8bKzKDmFKfL03W7zp7Jg2d+KcEJUFMxW5NdynDEoZ5NaB1uP\nOovYf6+ty8qhoajlT2OMWcaMtEhi7AGwqi8twBtC9WbYKoZpx8nijg2xjYH/9s6/\nj7q1KkYCqc3Wf4XD7xXAxc36KYl5ZsVJeVIukpZYd6ua6h9NqM9ENC6KwljOrN5m\nGGYcagabDo1X7mqVdqJ1enTIJjPX9qARxM/3bZqR5peW/D+v9toxW9/PkevqMXaH\n/JfnYpU8MDkFyWeQX297OZz2vB7nlRtWvqPKOHcmqOGT46E0cnzrdKNvM+gYXRU=\n=aaN1\n-----END PGP SIGNATURE-----\n", "payload": "tree 2e43187de83169ee665fb2cdac280783a7ba2529\nparent 58e7411092f6db30b982f485238d7cfc2875b00e\nparent 782824c48f79d5fbe6732484e4b5cc4ab9892e41\nauthor Yuki Okushi <jtitor@2k36.org> 1624287640 +0900\ncommitter GitHub <noreply@github.com> 1624287640 +0900\n\nRollup merge of #86349 - yerke:add-test-for-issue-78632, r=Mark-Simulacrum\n\nAdd regression test for issue #78632\n\nAdd regression test for issue #78632\n\nCloses #78632\n\nTook this test from #78632 (what was committed to glacier in https://github.com/rust-lang/rust/issues/78632#issuecomment-731843345).\n\nTested that the we get ICE on 1.52.1 on the playground (https://play.rust-lang.org/?version=stable&mode=debug&edition=2018&gist=b86d51fee4cded9d24b50d8ecbc48c6a).\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aba0bed46606d49b910cd6b44f161d549f9c1a8c", "html_url": "https://github.com/rust-lang/rust/commit/aba0bed46606d49b910cd6b44f161d549f9c1a8c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aba0bed46606d49b910cd6b44f161d549f9c1a8c/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "58e7411092f6db30b982f485238d7cfc2875b00e", "url": "https://api.github.com/repos/rust-lang/rust/commits/58e7411092f6db30b982f485238d7cfc2875b00e", "html_url": "https://github.com/rust-lang/rust/commit/58e7411092f6db30b982f485238d7cfc2875b00e"}, {"sha": "782824c48f79d5fbe6732484e4b5cc4ab9892e41", "url": "https://api.github.com/repos/rust-lang/rust/commits/782824c48f79d5fbe6732484e4b5cc4ab9892e41", "html_url": "https://github.com/rust-lang/rust/commit/782824c48f79d5fbe6732484e4b5cc4ab9892e41"}], "stats": {"total": 59, "additions": 59, "deletions": 0}, "files": [{"sha": "c72a2aef4900f6f08d224c581644ee8c3d9e56a9", "filename": "src/test/ui/traits/issue-78632.rs", "status": "added", "additions": 59, "deletions": 0, "changes": 59, "blob_url": "https://github.com/rust-lang/rust/blob/aba0bed46606d49b910cd6b44f161d549f9c1a8c/src%2Ftest%2Fui%2Ftraits%2Fissue-78632.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aba0bed46606d49b910cd6b44f161d549f9c1a8c/src%2Ftest%2Fui%2Ftraits%2Fissue-78632.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Fissue-78632.rs?ref=aba0bed46606d49b910cd6b44f161d549f9c1a8c", "patch": "@@ -0,0 +1,59 @@\n+// check-pass\n+//\n+// Regression test for issue #78632\n+\n+#![crate_type = \"lib\"]\n+\n+pub trait Corge<T> {\n+    type Fred;\n+}\n+\n+impl Corge<u8> for () {\n+    type Fred = u32;\n+}\n+\n+pub trait Waldo {\n+    type Quax;\n+}\n+\n+impl Waldo for u32 {\n+    type Quax = u8;\n+}\n+\n+pub trait Grault\n+where\n+    (): Corge<Self::Thud>,\n+{\n+    type Thud;\n+    fn bar(_: <() as Corge<Self::Thud>>::Fred) {}\n+}\n+\n+impl<T> Grault for T\n+where\n+    T: Waldo,\n+    (): Corge<T::Quax>,\n+    <() as Corge<T::Quax>>::Fred: Waldo,\n+{\n+    type Thud = u8;\n+}\n+\n+pub trait Plugh<I> {\n+    fn baz();\n+}\n+\n+#[derive(Copy, Clone, Debug)]\n+pub struct Qiz<T> {\n+    foo: T,\n+}\n+\n+impl<T> Plugh<<() as Corge<T::Thud>>::Fred> for Qiz<T>\n+where\n+    T: Grault,\n+    (): Corge<T::Thud>,\n+{\n+    fn baz() {}\n+}\n+\n+pub fn test() {\n+    <Qiz<u32> as Plugh<u32>>::baz();\n+}"}]}