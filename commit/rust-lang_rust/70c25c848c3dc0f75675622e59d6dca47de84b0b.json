{"sha": "70c25c848c3dc0f75675622e59d6dca47de84b0b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwYzI1Yzg0OGMzZGMwZjc1Njc1NjIyZTU5ZDZkY2E0N2RlODRiMGI=", "commit": {"author": {"name": "Ariel Ben-Yehuda", "email": "ariel.byd@gmail.com", "date": "2016-06-05T16:38:22Z"}, "committer": {"name": "Ariel Ben-Yehuda", "email": "ariel.byd@gmail.com", "date": "2016-06-08T20:58:53Z"}, "message": "remove the librustc_trans -> librustc_mir dependency", "tree": {"sha": "465d4062804d369cf7c5d620e88c6e62a3556df4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/465d4062804d369cf7c5d620e88c6e62a3556df4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/70c25c848c3dc0f75675622e59d6dca47de84b0b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/70c25c848c3dc0f75675622e59d6dca47de84b0b", "html_url": "https://github.com/rust-lang/rust/commit/70c25c848c3dc0f75675622e59d6dca47de84b0b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/70c25c848c3dc0f75675622e59d6dca47de84b0b/comments", "author": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "committer": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0c5930ef256131f8d0e4f020a5029a89944cf250", "url": "https://api.github.com/repos/rust-lang/rust/commits/0c5930ef256131f8d0e4f020a5029a89944cf250", "html_url": "https://github.com/rust-lang/rust/commit/0c5930ef256131f8d0e4f020a5029a89944cf250"}], "stats": {"total": 29, "additions": 11, "deletions": 18}, "files": [{"sha": "2b168b8f0e448e2d265550a6928f87204abce5c7", "filename": "mk/crates.mk", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/mk%2Fcrates.mk", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/mk%2Fcrates.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcrates.mk?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -109,7 +109,7 @@ DEPS_rustc := syntax fmt_macros flate arena serialize getopts rbml \\\n               log graphviz rustc_llvm rustc_back rustc_data_structures\\\n \t\t  \t  rustc_const_math\n DEPS_rustc_back := std syntax flate log libc\n-DEPS_rustc_borrowck := rustc rustc_mir log graphviz syntax\n+DEPS_rustc_borrowck := rustc log graphviz syntax rustc_mir\n DEPS_rustc_data_structures := std log serialize\n DEPS_rustc_driver := arena flate getopts graphviz libc rustc rustc_back rustc_borrowck \\\n                      rustc_typeck rustc_mir rustc_resolve log syntax serialize rustc_llvm \\\n@@ -123,9 +123,9 @@ DEPS_rustc_passes := syntax rustc core rustc_const_eval\n DEPS_rustc_mir := rustc syntax rustc_const_math rustc_const_eval rustc_bitflags\n DEPS_rustc_resolve := arena rustc log syntax\n DEPS_rustc_platform_intrinsics := std\n-DEPS_rustc_plugin := rustc rustc_metadata syntax rustc_mir\n+DEPS_rustc_plugin := rustc rustc_metadata syntax\n DEPS_rustc_privacy := rustc log syntax\n-DEPS_rustc_trans := arena flate getopts graphviz libc rustc rustc_back rustc_mir \\\n+DEPS_rustc_trans := arena flate getopts graphviz libc rustc rustc_back \\\n                     log syntax serialize rustc_llvm rustc_platform_intrinsics \\\n                     rustc_const_math rustc_const_eval rustc_incremental\n DEPS_rustc_incremental := rbml rustc serialize rustc_data_structures"}, {"sha": "301c6e3dd1c4ab2425b8d01d75ed5a4790d8d259", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -106,6 +106,7 @@ pub mod mir {\n     pub mod tcx;\n     pub mod visit;\n     pub mod transform;\n+    pub mod traversal;\n     pub mod mir_map;\n }\n "}, {"sha": "c4e4936df954194885af2c7d4f56539782fb8290", "filename": "src/librustc/mir/traversal.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc%2Fmir%2Ftraversal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc%2Fmir%2Ftraversal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Ftraversal.rs?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -12,7 +12,7 @@ use std::vec;\n \n use rustc_data_structures::bitvec::BitVector;\n \n-use rustc::mir::repr::*;\n+use super::repr::*;\n \n /// Preorder traversal of a graph.\n ///", "previous_filename": "src/librustc_mir/traversal.rs"}, {"sha": "3d1ef31bd5c2af89f87ff4834f61101130e0d2e8", "filename": "src/librustc_mir/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_mir%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_mir%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Flib.rs?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -49,4 +49,3 @@ mod hair;\n pub mod mir_map;\n pub mod pretty;\n pub mod transform;\n-pub mod traversal;"}, {"sha": "987f12ab71b4a039d4d34f6bd7ecf1c06c1e53b4", "filename": "src/librustc_mir/transform/add_call_guards.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_mir%2Ftransform%2Fadd_call_guards.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_mir%2Ftransform%2Fadd_call_guards.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fadd_call_guards.rs?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -11,11 +11,9 @@\n use rustc::ty::TyCtxt;\n use rustc::mir::repr::*;\n use rustc::mir::transform::{MirPass, MirSource, Pass};\n-\n+use rustc::mir::traversal;\n use pretty;\n \n-use traversal;\n-\n pub struct AddCallGuards;\n \n /**"}, {"sha": "985bc9ac2d8d730328fca521b63e0c863f5e18cc", "filename": "src/librustc_mir/transform/promote_consts.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_mir%2Ftransform%2Fpromote_consts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_mir%2Ftransform%2Fpromote_consts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fpromote_consts.rs?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -24,11 +24,11 @@\n \n use rustc::mir::repr::*;\n use rustc::mir::visit::{LvalueContext, MutVisitor, Visitor};\n+use rustc::mir::traversal::ReversePostorder;\n use rustc::ty::{self, TyCtxt};\n use syntax::codemap::Span;\n \n use build::Location;\n-use traversal::ReversePostorder;\n \n use std::mem;\n "}, {"sha": "bce096deea131a423bb26ff3856db232e63d3be8", "filename": "src/librustc_mir/transform/qualify_consts.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_mir%2Ftransform%2Fqualify_consts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_mir%2Ftransform%2Fqualify_consts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fqualify_consts.rs?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -25,6 +25,7 @@ use rustc::ty::cast::CastTy;\n use rustc::mir::repr::*;\n use rustc::mir::mir_map::MirMap;\n use rustc::mir::transform::{Pass, MirMapPass, MirSource};\n+use rustc::mir::traversal::{self, ReversePostorder};\n use rustc::mir::visit::{LvalueContext, Visitor};\n use rustc::util::nodemap::DefIdMap;\n use syntax::abi::Abi;\n@@ -35,7 +36,6 @@ use std::collections::hash_map::Entry;\n use std::fmt;\n \n use build::Location;\n-use traversal::{self, ReversePostorder};\n \n use super::promote_consts::{self, Candidate, TempState};\n "}, {"sha": "3a0055c564febccfcae401db5ddb38a591f9a742", "filename": "src/librustc_mir/transform/simplify_cfg.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_mir%2Ftransform%2Fsimplify_cfg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_mir%2Ftransform%2Fsimplify_cfg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fsimplify_cfg.rs?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -13,13 +13,12 @@ use rustc::middle::const_val::ConstVal;\n use rustc::ty::TyCtxt;\n use rustc::mir::repr::*;\n use rustc::mir::transform::{MirPass, MirSource, Pass};\n+use rustc::mir::traversal;\n use pretty;\n use std::mem;\n \n use super::remove_dead_blocks::RemoveDeadBlocks;\n \n-use traversal;\n-\n pub struct SimplifyCfg;\n \n impl SimplifyCfg {"}, {"sha": "6acd1e76ff2c27da3274ebff7130d253c47b7b14", "filename": "src/librustc_plugin/Cargo.toml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_plugin%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_plugin%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_plugin%2FCargo.toml?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -14,5 +14,4 @@ rustc = { path = \"../librustc\" }\n rustc_back = { path = \"../librustc_back\" }\n rustc_bitflags = { path = \"../librustc_bitflags\" }\n rustc_metadata = { path = \"../librustc_metadata\" }\n-rustc_mir = { path = \"../librustc_mir\" }\n syntax = { path = \"../libsyntax\" }"}, {"sha": "7ef628e8f9b1688f869df965f761cbf774720535", "filename": "src/librustc_plugin/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_plugin%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_plugin%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_plugin%2Flib.rs?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -70,7 +70,6 @@\n extern crate rustc;\n extern crate rustc_back;\n extern crate rustc_metadata;\n-extern crate rustc_mir;\n \n pub use self::registry::Registry;\n "}, {"sha": "749ceda3db094c8adcd4310411da13f632d87f5a", "filename": "src/librustc_trans/Cargo.toml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_trans%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_trans%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2FCargo.toml?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -21,7 +21,6 @@ rustc_const_math = { path = \"../librustc_const_math\" }\n rustc_data_structures = { path = \"../librustc_data_structures\" }\n rustc_incremental = { path = \"../librustc_incremental\" }\n rustc_llvm = { path = \"../librustc_llvm\" }\n-rustc_mir = { path = \"../librustc_mir\" }\n rustc_platform_intrinsics = { path = \"../librustc_platform_intrinsics\" }\n serialize = { path = \"../libserialize\" }\n syntax = { path = \"../libsyntax\" }"}, {"sha": "8724945ed901bd1baf7c4710c9c7d93f5130199a", "filename": "src/librustc_trans/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_trans%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_trans%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Flib.rs?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -48,7 +48,6 @@ extern crate rustc_back;\n extern crate rustc_data_structures;\n extern crate rustc_incremental;\n pub extern crate rustc_llvm as llvm;\n-extern crate rustc_mir;\n extern crate rustc_platform_intrinsics as intrinsics;\n extern crate serialize;\n extern crate rustc_const_math;"}, {"sha": "4476163a7f1083de9ae6fb19439f7842ece51114", "filename": "src/librustc_trans/mir/analyze.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_trans%2Fmir%2Fanalyze.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_trans%2Fmir%2Fanalyze.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fmir%2Fanalyze.rs?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -15,7 +15,7 @@ use rustc_data_structures::bitvec::BitVector;\n use rustc::mir::repr as mir;\n use rustc::mir::repr::TerminatorKind;\n use rustc::mir::visit::{Visitor, LvalueContext};\n-use rustc_mir::traversal;\n+use rustc::mir::traversal;\n use common::{self, Block, BlockAndBuilder};\n use super::rvalue;\n "}, {"sha": "cd2060653b58e5ef9394b6860e2058e3eff88fa6", "filename": "src/librustc_trans/mir/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_trans%2Fmir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70c25c848c3dc0f75675622e59d6dca47de84b0b/src%2Flibrustc_trans%2Fmir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fmir%2Fmod.rs?ref=70c25c848c3dc0f75675622e59d6dca47de84b0b", "patch": "@@ -34,7 +34,7 @@ use rustc_data_structures::bitvec::BitVector;\n pub use self::constant::trans_static_initializer;\n \n use self::lvalue::{LvalueRef, get_dataptr, get_meta};\n-use rustc_mir::traversal;\n+use rustc::mir::traversal;\n \n use self::operand::{OperandRef, OperandValue};\n "}]}