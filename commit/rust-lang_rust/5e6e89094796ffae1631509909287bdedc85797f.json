{"sha": "5e6e89094796ffae1631509909287bdedc85797f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVlNmU4OTA5NDc5NmZmYWUxNjMxNTA5OTA5Mjg3YmRlZGM4NTc5N2Y=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-01-18T10:30:43Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-01-18T10:30:43Z"}, "message": "Merge #7317\n\n7317: Add profile call r=matklad a=matklad\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "8da5e7988373b87010689497007a2740fab83f6b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8da5e7988373b87010689497007a2740fab83f6b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5e6e89094796ffae1631509909287bdedc85797f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgBWNTCRBK7hj4Ov3rIwAAdHIIADphVoKbs63X/wAtKuKT1N/d\nFNYjJEFmVdEn0VC2H9iFThOATD1xfvOvDV6mBkK7DEGRGJDPCbA3WzbTWvd+1Ghb\nCJRsrghfr6tJnhH/kJWzYFmsoNHZVfaSm0LLGo3BWnCd98NyW9mYser+wDwDR1Ra\nLYRJ1et3mkEfGGm+29KnJhWVTFWIj5HDy3Vs4+n3yZOJl1A6YGFymz45e60q90mv\n8FVKaUeZQiDzlD1mIDaozbHu4nkuJSJRx2KboFLNnWhjPdLB7LaMplGwBrsNwZwh\nbrab1/rsz9dYVAWj4ti8y9sD6vfDx6K9fyUIWs3mUNyKk/GRlo77qj7ZhI0E7+k=\n=gxw/\n-----END PGP SIGNATURE-----\n", "payload": "tree 8da5e7988373b87010689497007a2740fab83f6b\nparent 9eb37fbdeb4695eec4b30bfda1a9016b74b0d029\nparent e13065b8aca98f99553b61129e776ae3688dbdfc\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1610965843 +0000\ncommitter GitHub <noreply@github.com> 1610965843 +0000\n\nMerge #7317\n\n7317: Add profile call r=matklad a=matklad\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5e6e89094796ffae1631509909287bdedc85797f", "html_url": "https://github.com/rust-lang/rust/commit/5e6e89094796ffae1631509909287bdedc85797f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5e6e89094796ffae1631509909287bdedc85797f/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9eb37fbdeb4695eec4b30bfda1a9016b74b0d029", "url": "https://api.github.com/repos/rust-lang/rust/commits/9eb37fbdeb4695eec4b30bfda1a9016b74b0d029", "html_url": "https://github.com/rust-lang/rust/commit/9eb37fbdeb4695eec4b30bfda1a9016b74b0d029"}, {"sha": "e13065b8aca98f99553b61129e776ae3688dbdfc", "url": "https://api.github.com/repos/rust-lang/rust/commits/e13065b8aca98f99553b61129e776ae3688dbdfc", "html_url": "https://github.com/rust-lang/rust/commit/e13065b8aca98f99553b61129e776ae3688dbdfc"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "46f26282e186c2169ad164da49ac460b69179269", "filename": "Cargo.lock", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5e6e89094796ffae1631509909287bdedc85797f/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/5e6e89094796ffae1631509909287bdedc85797f/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=5e6e89094796ffae1631509909287bdedc85797f", "patch": "@@ -1231,6 +1231,7 @@ dependencies = [\n  \"log\",\n  \"paths\",\n  \"proc_macro_api\",\n+ \"profile\",\n  \"rustc-hash\",\n  \"serde\",\n  \"serde_json\","}, {"sha": "293cb5bfe1016234996bb0622b8d29c7cb80bc28", "filename": "crates/project_model/Cargo.toml", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5e6e89094796ffae1631509909287bdedc85797f/crates%2Fproject_model%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5e6e89094796ffae1631509909287bdedc85797f/crates%2Fproject_model%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproject_model%2FCargo.toml?ref=5e6e89094796ffae1631509909287bdedc85797f", "patch": "@@ -25,3 +25,4 @@ toolchain = { path = \"../toolchain\", version = \"0.0.0\" }\n proc_macro_api =  { path = \"../proc_macro_api\", version = \"0.0.0\" }\n paths =  { path = \"../paths\", version = \"0.0.0\" }\n stdx =  { path = \"../stdx\", version = \"0.0.0\" }\n+profile =  { path = \"../profile\", version = \"0.0.0\" }"}, {"sha": "c511320d70398ee11910cad1344a94d63951a73c", "filename": "crates/project_model/src/workspace.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5e6e89094796ffae1631509909287bdedc85797f/crates%2Fproject_model%2Fsrc%2Fworkspace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e6e89094796ffae1631509909287bdedc85797f/crates%2Fproject_model%2Fsrc%2Fworkspace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproject_model%2Fsrc%2Fworkspace.rs?ref=5e6e89094796ffae1631509909287bdedc85797f", "patch": "@@ -207,6 +207,7 @@ impl ProjectWorkspace {\n         proc_macro_client: Option<&ProcMacroClient>,\n         load: &mut dyn FnMut(&AbsPath) -> Option<FileId>,\n     ) -> CrateGraph {\n+        let _p = profile::span(\"ProjectWorkspace::to_crate_graph\");\n         let proc_macro_loader = |path: &Path| match proc_macro_client {\n             Some(client) => client.by_dylib_path(path),\n             None => Vec::new(),\n@@ -299,6 +300,7 @@ fn cargo_to_crate_graph(\n     sysroot: &Sysroot,\n     rustc: &Option<CargoWorkspace>,\n ) -> CrateGraph {\n+    let _p = profile::span(\"cargo_to_crate_graph\");\n     let mut crate_graph = CrateGraph::default();\n     let (public_deps, libproc_macro) =\n         sysroot_to_crate_graph(&mut crate_graph, sysroot, target, load);\n@@ -493,6 +495,7 @@ fn sysroot_to_crate_graph(\n     target: Option<&str>,\n     load: &mut dyn FnMut(&AbsPath) -> Option<FileId>,\n ) -> (Vec<(CrateName, CrateId)>, Option<CrateId>) {\n+    let _p = profile::span(\"sysroot_to_crate_graph\");\n     let mut cfg_options = CfgOptions::default();\n     cfg_options.extend(get_rustc_cfg_options(target));\n     let sysroot_crates: FxHashMap<SysrootCrate, CrateId> = sysroot"}, {"sha": "34e3cfe682eff12e39429696410fcf2b513113bf", "filename": "crates/rust-analyzer/src/reload.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5e6e89094796ffae1631509909287bdedc85797f/crates%2Frust-analyzer%2Fsrc%2Freload.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e6e89094796ffae1631509909287bdedc85797f/crates%2Frust-analyzer%2Fsrc%2Freload.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Freload.rs?ref=5e6e89094796ffae1631509909287bdedc85797f", "patch": "@@ -274,6 +274,7 @@ impl GlobalState {\n     }\n \n     fn reload_flycheck(&mut self) {\n+        let _p = profile::span(\"GlobalState::reload_flycheck\");\n         let config = match self.config.flycheck() {\n             Some(it) => it,\n             None => {"}]}