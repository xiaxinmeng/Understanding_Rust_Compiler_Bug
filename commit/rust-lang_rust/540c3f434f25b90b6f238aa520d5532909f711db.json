{"sha": "540c3f434f25b90b6f238aa520d5532909f711db", "node_id": "C_kwDOAAsO6NoAKDU0MGMzZjQzNGYyNWI5MGI2ZjIzOGFhNTIwZDU1MzI5MDlmNzExZGI", "commit": {"author": {"name": "Ezra Shaw", "email": "ezrasure@outlook.com", "date": "2022-12-18T09:00:35Z"}, "committer": {"name": "Ezra Shaw", "email": "ezrasure@outlook.com", "date": "2022-12-18T19:55:08Z"}, "message": "docs: add long-form error-code docs for E0457", "tree": {"sha": "c9fe25e6d3df0c93f36a97e8128a5589a9e75b8b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c9fe25e6d3df0c93f36a97e8128a5589a9e75b8b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/540c3f434f25b90b6f238aa520d5532909f711db", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEINUdoc4Vb1yVx04IZ6vxb7Ds2HAFAmOfcBwACgkQZ6vxb7Ds\n2HBDVRAAx94bmr020eV3IB6WtZfYM1C+0WiH5fIdg1e2n7DzyzpRiBHnpAcKGTaj\nPpYQbGoj31QF04sMI32uAEbx1s5CAbn/CV9gTFuYgtU/g7nBHuTYl82bqNLI8euC\nhCSAq1yWTAd6Uuu/I7AhMIQZZ8R4iPLAWvVLykbGAwM8Jm8VkFSsampvlaOAhbgn\nc+PreP8JOmVd+Lo/o09sHI82mAarWlxZelZWLLONN+HQa2FxJQdy+yhrjd9jy1qU\njxG7/8ON41wQcDdk9o7gcSR6Etg1h+SHj6VcZPh3nTtK0Dg17YkUhPz/YhlA9a4e\nKx5r5Cct7XdT+H4XXabuF93LiEle7d0GUZVVS6bos7CyYoHiYALCaNokhMZkOTKu\n2ZGY40MWl5NiVpTpb08i/AYSOB+tnh2AZXxAsNsa/MH7wDPL4eKdTxfL+xNlbYf4\nlMPF4b8KK6nmJJnDykKVCWdub66G0GXQ7uxsn+KzVKKav6WRrEvSv/3h3mlKuzwY\n+hCph9wom7kNFNl1Sh05U6wOwxhWE0NYr1kJKX6xJ0C7FSJotKGxbuIWJAG0gVKf\nDChwUuL9CSHlq5QkDIf4zGGLjosi61N+dmhDy4jFiY1cJOZwnBpVLB/GT2x1vZl5\nvK6GG7fVkoLoc+t+Wp/dk4L/Ah4B6RhLBNAUE2xP4jKNHBNCl4k=\n=ldkY\n-----END PGP SIGNATURE-----", "payload": "tree c9fe25e6d3df0c93f36a97e8128a5589a9e75b8b\nparent 7e66d451ad49aa69dd830ea22943e6ffdc92eddd\nauthor Ezra Shaw <ezrasure@outlook.com> 1671354035 +1300\ncommitter Ezra Shaw <ezrasure@outlook.com> 1671393308 +1300\n\ndocs: add long-form error-code docs for E0457\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/540c3f434f25b90b6f238aa520d5532909f711db", "html_url": "https://github.com/rust-lang/rust/commit/540c3f434f25b90b6f238aa520d5532909f711db", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/540c3f434f25b90b6f238aa520d5532909f711db/comments", "author": {"login": "Ezrashaw", "id": 38062690, "node_id": "MDQ6VXNlcjM4MDYyNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/38062690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ezrashaw", "html_url": "https://github.com/Ezrashaw", "followers_url": "https://api.github.com/users/Ezrashaw/followers", "following_url": "https://api.github.com/users/Ezrashaw/following{/other_user}", "gists_url": "https://api.github.com/users/Ezrashaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ezrashaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ezrashaw/subscriptions", "organizations_url": "https://api.github.com/users/Ezrashaw/orgs", "repos_url": "https://api.github.com/users/Ezrashaw/repos", "events_url": "https://api.github.com/users/Ezrashaw/events{/privacy}", "received_events_url": "https://api.github.com/users/Ezrashaw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Ezrashaw", "id": 38062690, "node_id": "MDQ6VXNlcjM4MDYyNjkw", "avatar_url": "https://avatars.githubusercontent.com/u/38062690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ezrashaw", "html_url": "https://github.com/Ezrashaw", "followers_url": "https://api.github.com/users/Ezrashaw/followers", "following_url": "https://api.github.com/users/Ezrashaw/following{/other_user}", "gists_url": "https://api.github.com/users/Ezrashaw/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ezrashaw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ezrashaw/subscriptions", "organizations_url": "https://api.github.com/users/Ezrashaw/orgs", "repos_url": "https://api.github.com/users/Ezrashaw/repos", "events_url": "https://api.github.com/users/Ezrashaw/events{/privacy}", "received_events_url": "https://api.github.com/users/Ezrashaw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7e66d451ad49aa69dd830ea22943e6ffdc92eddd", "url": "https://api.github.com/repos/rust-lang/rust/commits/7e66d451ad49aa69dd830ea22943e6ffdc92eddd", "html_url": "https://github.com/rust-lang/rust/commit/7e66d451ad49aa69dd830ea22943e6ffdc92eddd"}], "stats": {"total": 39, "additions": 38, "deletions": 1}, "files": [{"sha": "883a4bbe8e8237cad9d960fddc7f4ba57001c577", "filename": "compiler/rustc_error_codes/src/error_codes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/540c3f434f25b90b6f238aa520d5532909f711db/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/540c3f434f25b90b6f238aa520d5532909f711db/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs?ref=540c3f434f25b90b6f238aa520d5532909f711db", "patch": "@@ -239,6 +239,7 @@ E0452: include_str!(\"./error_codes/E0452.md\"),\n E0453: include_str!(\"./error_codes/E0453.md\"),\n E0454: include_str!(\"./error_codes/E0454.md\"),\n E0455: include_str!(\"./error_codes/E0455.md\"),\n+E0457: include_str!(\"./error_codes/E0457.md\"),\n E0458: include_str!(\"./error_codes/E0458.md\"),\n E0459: include_str!(\"./error_codes/E0459.md\"),\n E0460: include_str!(\"./error_codes/E0460.md\"),\n@@ -593,7 +594,6 @@ E0791: include_str!(\"./error_codes/E0791.md\"),\n //  E0421, // merged into 531\n //  E0427, // merged into 530\n //  E0456, // plugin `..` is not available for triple `..`\n-    E0457, // plugin `..` only found in rlib format, but must be available...\n     E0461, // couldn't find crate `..` with expected target triple ..\n     E0462, // found staticlib `..` instead of rlib or dylib\n     E0465, // multiple .. candidates for `..` found"}, {"sha": "53d384d36c4267c7b42db39ee6a268e292deefc4", "filename": "compiler/rustc_error_codes/src/error_codes/E0457.md", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/540c3f434f25b90b6f238aa520d5532909f711db/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0457.md", "raw_url": "https://github.com/rust-lang/rust/raw/540c3f434f25b90b6f238aa520d5532909f711db/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0457.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0457.md?ref=540c3f434f25b90b6f238aa520d5532909f711db", "patch": "@@ -0,0 +1,36 @@\n+Plugin `..` only found in rlib format, but must be available in dylib format.\n+\n+Erroronous code example:\n+\n+`rlib-plugin.rs`\n+```ignore (needs-linkage-with-other-tests)\n+#![crate_type = \"rlib\"]\n+#![feature(rustc_private)]\n+\n+extern crate rustc_middle;\n+extern crate rustc_driver;\n+\n+use rustc_driver::plugin::Registry;\n+\n+#[no_mangle]\n+fn __rustc_plugin_registrar(_: &mut Registry) {}\n+```\n+\n+`main.rs`\n+```ignore (needs-linkage-with-other-tests)\n+#![feature(plugin)]\n+#![plugin(rlib_plugin)] // error: plugin `rlib_plugin` only found in rlib\n+                        //        format, but must be available in dylib\n+\n+fn main() {}\n+```\n+\n+The compiler exposes a plugin interface to allow altering the compile process\n+(adding lints, etc). Plugins must be defined in their own crates (similar to\n+[proc-macro](../reference/procedural-macros.html) isolation) and then compiled\n+and linked to another crate. Plugin crates *must* be compiled to the\n+dynamically-linked dylib format, and not the statically-linked rlib format.\n+Learn more about different output types in\n+[this section](../reference/linkage.html) of the Rust reference.\n+\n+This error is easily fixed by recompiling the plugin crate in the dylib format."}, {"sha": "9c2b992b7655849d0096cc789b83ef1d2d3c2296", "filename": "src/test/ui-fulldeps/macro-crate-rlib.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/540c3f434f25b90b6f238aa520d5532909f711db/src%2Ftest%2Fui-fulldeps%2Fmacro-crate-rlib.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/540c3f434f25b90b6f238aa520d5532909f711db/src%2Ftest%2Fui-fulldeps%2Fmacro-crate-rlib.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fmacro-crate-rlib.stderr?ref=540c3f434f25b90b6f238aa520d5532909f711db", "patch": "@@ -6,3 +6,4 @@ LL | #![plugin(rlib_crate_test)]\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0457`."}]}