{"sha": "4e2cd4104a39c1e0562c3fb00085a1a3f4f22291", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRlMmNkNDEwNGEzOWMxZTA1NjJjM2ZiMDAwODVhMWEzZjRmMjIyOTE=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2018-04-25T21:51:06Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2018-04-25T21:55:25Z"}, "message": "Approximate -> Applicability", "tree": {"sha": "3aabdc094914974ed92e6dfba6747d17b1323e0a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3aabdc094914974ed92e6dfba6747d17b1323e0a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291", "html_url": "https://github.com/rust-lang/rust/commit/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b9c44ebd3f3048ff3630868d15051eb00086637a", "url": "https://api.github.com/repos/rust-lang/rust/commits/b9c44ebd3f3048ff3630868d15051eb00086637a", "html_url": "https://github.com/rust-lang/rust/commit/b9c44ebd3f3048ff3630868d15051eb00086637a"}], "stats": {"total": 68, "additions": 34, "deletions": 34}, "files": [{"sha": "08bb5ed97a459e26b44c7fcc8843377b36826848", "filename": "src/librustc/session/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustc%2Fsession%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustc%2Fsession%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fconfig.rs?ref=4e2cd4104a39c1e0562c3fb00085a1a3f4f22291", "patch": "@@ -1270,7 +1270,7 @@ options! {DebuggingOptions, DebuggingSetter, basic_debugging_options,\n     dep_info_omit_d_target: bool = (false, parse_bool, [TRACKED],\n         \"in dep-info output, omit targets for tracking dependencies of the dep-info files \\\n          themselves\"),\n-    approximate_suggestions: bool = (false, parse_bool, [UNTRACKED],\n+    suggestion_applicability: bool = (false, parse_bool, [UNTRACKED],\n         \"include machine-applicability of suggestions in JSON output\"),\n     unpretty: Option<String> = (None, parse_unpretty, [UNTRACKED],\n         \"Present the input source, unstable (and less-pretty) variants;"}, {"sha": "5c0e66ffc7e2b4667b9acfd62b137eac3ac5d435", "filename": "src/librustc/session/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustc%2Fsession%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustc%2Fsession%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fmod.rs?ref=4e2cd4104a39c1e0562c3fb00085a1a3f4f22291", "patch": "@@ -1002,7 +1002,7 @@ pub fn build_session_with_codemap(\n                     Some(registry),\n                     codemap.clone(),\n                     pretty,\n-                    sopts.debugging_opts.approximate_suggestions,\n+                    sopts.debugging_opts.suggestion_applicability,\n                 ).ui_testing(sopts.debugging_opts.ui_testing),\n             ),\n             (config::ErrorOutputType::Json(pretty), Some(dst)) => Box::new(\n@@ -1011,7 +1011,7 @@ pub fn build_session_with_codemap(\n                     Some(registry),\n                     codemap.clone(),\n                     pretty,\n-                    sopts.debugging_opts.approximate_suggestions,\n+                    sopts.debugging_opts.suggestion_applicability,\n                 ).ui_testing(sopts.debugging_opts.ui_testing),\n             ),\n             (config::ErrorOutputType::Short(color_config), None) => Box::new("}, {"sha": "75401f21862b67a683b9fab3450f082061d77432", "filename": "src/librustc_errors/diagnostic.rs", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustc_errors%2Fdiagnostic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustc_errors%2Fdiagnostic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Fdiagnostic.rs?ref=4e2cd4104a39c1e0562c3fb00085a1a3f4f22291", "patch": "@@ -11,7 +11,7 @@\n use CodeSuggestion;\n use SubstitutionPart;\n use Substitution;\n-use SuggestionApproximate;\n+use Applicability;\n use Level;\n use std::fmt;\n use syntax_pos::{MultiSpan, Span};\n@@ -223,7 +223,7 @@ impl Diagnostic {\n             }],\n             msg: msg.to_owned(),\n             show_code_when_inline: false,\n-            approximate: SuggestionApproximate::Unspecified,\n+            applicability: Applicability::Unspecified,\n         });\n         self\n     }\n@@ -254,7 +254,7 @@ impl Diagnostic {\n             }],\n             msg: msg.to_owned(),\n             show_code_when_inline: true,\n-            approximate: SuggestionApproximate::Unspecified,\n+            applicability: Applicability::Unspecified,\n         });\n         self\n     }\n@@ -270,16 +270,16 @@ impl Diagnostic {\n             }).collect(),\n             msg: msg.to_owned(),\n             show_code_when_inline: true,\n-            approximate: SuggestionApproximate::Unspecified,\n+            applicability: Applicability::Unspecified,\n         });\n         self\n     }\n \n     /// This is a suggestion that may contain mistakes or fillers and should\n     /// be read and understood by a human.\n-    pub fn span_approximate_suggestion(&mut self, sp: Span, msg: &str,\n+    pub fn span_suggestion_with_applicability(&mut self, sp: Span, msg: &str,\n                                        suggestion: String,\n-                                       approximate: SuggestionApproximate) -> &mut Self {\n+                                       applicability: Applicability) -> &mut Self {\n         self.suggestions.push(CodeSuggestion {\n             substitutions: vec![Substitution {\n                 parts: vec![SubstitutionPart {\n@@ -289,14 +289,14 @@ impl Diagnostic {\n             }],\n             msg: msg.to_owned(),\n             show_code_when_inline: true,\n-            approximate,\n+            applicability,\n         });\n         self\n     }\n \n-    pub fn span_approximate_suggestions(&mut self, sp: Span, msg: &str,\n+    pub fn span_suggestions_with_applicability(&mut self, sp: Span, msg: &str,\n                                         suggestions: Vec<String>,\n-                                        approximate: SuggestionApproximate) -> &mut Self {\n+                                        applicability: Applicability) -> &mut Self {\n         self.suggestions.push(CodeSuggestion {\n             substitutions: suggestions.into_iter().map(|snippet| Substitution {\n                 parts: vec![SubstitutionPart {\n@@ -306,7 +306,7 @@ impl Diagnostic {\n             }).collect(),\n             msg: msg.to_owned(),\n             show_code_when_inline: true,\n-            approximate,\n+            applicability,\n         });\n         self\n     }"}, {"sha": "7e9ca8633a53e4ea119fb8a0832cccae45c19137", "filename": "src/librustc_errors/diagnostic_builder.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustc_errors%2Fdiagnostic_builder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustc_errors%2Fdiagnostic_builder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Fdiagnostic_builder.rs?ref=4e2cd4104a39c1e0562c3fb00085a1a3f4f22291", "patch": "@@ -11,7 +11,7 @@\n use Diagnostic;\n use DiagnosticId;\n use DiagnosticStyledString;\n-use SuggestionApproximate;\n+use Applicability;\n \n use Level;\n use Handler;\n@@ -188,17 +188,17 @@ impl<'a> DiagnosticBuilder<'a> {\n                                      msg: &str,\n                                      suggestions: Vec<String>)\n                                      -> &mut Self);\n-    forward!(pub fn span_approximate_suggestion(&mut self,\n+    forward!(pub fn span_suggestion_with_applicability(&mut self,\n                                                 sp: Span,\n                                                 msg: &str,\n                                                 suggestion: String,\n-                                                approximate: SuggestionApproximate)\n+                                                applicability: Applicability)\n                                                 -> &mut Self);\n-    forward!(pub fn span_approximate_suggestions(&mut self,\n+    forward!(pub fn span_suggestions_with_applicability(&mut self,\n                                                  sp: Span,\n                                                  msg: &str,\n                                                  suggestions: Vec<String>,\n-                                                 approximate: SuggestionApproximate)\n+                                                 applicability: Applicability)\n                                                  -> &mut Self);\n     forward!(pub fn set_span<S: Into<MultiSpan>>(&mut self, sp: S) -> &mut Self);\n     forward!(pub fn code(&mut self, s: DiagnosticId) -> &mut Self);"}, {"sha": "c2b442e949758a19c64f4b2aa73dc8d7264f6282", "filename": "src/librustc_errors/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustc_errors%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustc_errors%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_errors%2Flib.rs?ref=4e2cd4104a39c1e0562c3fb00085a1a3f4f22291", "patch": "@@ -57,7 +57,7 @@ mod lock;\n use syntax_pos::{BytePos, Loc, FileLinesResult, FileMap, FileName, MultiSpan, Span, NO_EXPANSION};\n \n #[derive(Copy, Clone, Debug, PartialEq, Hash, RustcEncodable, RustcDecodable)]\n-pub enum SuggestionApproximate {\n+pub enum Applicability {\n     MachineApplicable,\n     HasPlaceholders,\n     MaybeIncorrect,\n@@ -95,7 +95,7 @@ pub struct CodeSuggestion {\n     /// Sometimes we may show suggestions with placeholders,\n     /// which are useful for users but not useful for\n     /// tools like rustfix\n-    pub approximate: SuggestionApproximate,\n+    pub applicability: Applicability,\n }\n \n #[derive(Clone, Debug, PartialEq, Hash, RustcEncodable, RustcDecodable)]"}, {"sha": "65b442c8bb892b6c8282e7f572e35809d64828ee", "filename": "src/librustdoc/core.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustdoc%2Fcore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibrustdoc%2Fcore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fcore.rs?ref=4e2cd4104a39c1e0562c3fb00085a1a3f4f22291", "patch": "@@ -177,7 +177,7 @@ pub fn run_core(search_paths: SearchPaths,\n                 None,\n                 codemap.clone(),\n                 pretty,\n-                sessopts.debugging_opts.approximate_suggestions,\n+                sessopts.debugging_opts.suggestion_applicability,\n             ).ui_testing(sessopts.debugging_opts.ui_testing)\n         ),\n         ErrorOutputType::Short(color_config) => Box::new("}, {"sha": "2f15e75093b10ae040a233f83d10f10c7c8697f6", "filename": "src/libsyntax/json.rs", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibsyntax%2Fjson.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e2cd4104a39c1e0562c3fb00085a1a3f4f22291/src%2Flibsyntax%2Fjson.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fjson.rs?ref=4e2cd4104a39c1e0562c3fb00085a1a3f4f22291", "patch": "@@ -23,7 +23,7 @@ use codemap::{CodeMap, FilePathMapping};\n use syntax_pos::{self, MacroBacktrace, Span, SpanLabel, MultiSpan};\n use errors::registry::Registry;\n use errors::{DiagnosticBuilder, SubDiagnostic, CodeSuggestion, CodeMapper};\n-use errors::{DiagnosticId, SuggestionApproximate};\n+use errors::{DiagnosticId, Applicability};\n use errors::emitter::{Emitter, EmitterWriter};\n \n use rustc_data_structures::sync::{self, Lrc};\n@@ -39,21 +39,21 @@ pub struct JsonEmitter {\n     cm: Lrc<CodeMapper + sync::Send + sync::Sync>,\n     pretty: bool,\n     /// Whether \"approximate suggestions\" are enabled in the config\n-    approximate_suggestions: bool,\n+    suggestion_applicability: bool,\n     ui_testing: bool,\n }\n \n impl JsonEmitter {\n     pub fn stderr(registry: Option<Registry>,\n                   code_map: Lrc<CodeMap>,\n                   pretty: bool,\n-                  approximate_suggestions: bool) -> JsonEmitter {\n+                  suggestion_applicability: bool) -> JsonEmitter {\n         JsonEmitter {\n             dst: Box::new(io::stderr()),\n             registry,\n             cm: code_map,\n             pretty,\n-            approximate_suggestions,\n+            suggestion_applicability,\n             ui_testing: false,\n         }\n     }\n@@ -68,13 +68,13 @@ impl JsonEmitter {\n                registry: Option<Registry>,\n                code_map: Lrc<CodeMap>,\n                pretty: bool,\n-               approximate_suggestions: bool) -> JsonEmitter {\n+               suggestion_applicability: bool) -> JsonEmitter {\n         JsonEmitter {\n             dst,\n             registry,\n             cm: code_map,\n             pretty,\n-            approximate_suggestions,\n+            suggestion_applicability,\n             ui_testing: false,\n         }\n     }\n@@ -138,7 +138,7 @@ struct DiagnosticSpan {\n     suggested_replacement: Option<String>,\n     /// If the suggestion is approximate\n     #[rustc_serialize_exclude_null]\n-    suggestion_approximate: Option<SuggestionApproximate>,\n+    suggestion_applicability: Option<Applicability>,\n     /// Macro invocations that created the code at this span, if any.\n     expansion: Option<Box<DiagnosticSpanMacroExpansion>>,\n }\n@@ -239,7 +239,7 @@ impl Diagnostic {\n \n impl DiagnosticSpan {\n     fn from_span_label(span: SpanLabel,\n-                       suggestion: Option<(&String, SuggestionApproximate)>,\n+                       suggestion: Option<(&String, Applicability)>,\n                        je: &JsonEmitter)\n                        -> DiagnosticSpan {\n         Self::from_span_etc(span.span,\n@@ -252,7 +252,7 @@ impl DiagnosticSpan {\n     fn from_span_etc(span: Span,\n                      is_primary: bool,\n                      label: Option<String>,\n-                     suggestion: Option<(&String, SuggestionApproximate)>,\n+                     suggestion: Option<(&String, Applicability)>,\n                      je: &JsonEmitter)\n                      -> DiagnosticSpan {\n         // obtain the full backtrace from the `macro_backtrace`\n@@ -272,7 +272,7 @@ impl DiagnosticSpan {\n     fn from_span_full(span: Span,\n                       is_primary: bool,\n                       label: Option<String>,\n-                      suggestion: Option<(&String, SuggestionApproximate)>,\n+                      suggestion: Option<(&String, Applicability)>,\n                       mut backtrace: vec::IntoIter<MacroBacktrace>,\n                       je: &JsonEmitter)\n                       -> DiagnosticSpan {\n@@ -301,7 +301,7 @@ impl DiagnosticSpan {\n             })\n         });\n \n-        let suggestion_approximate = if je.approximate_suggestions {\n+        let suggestion_applicability = if je.suggestion_applicability {\n              suggestion.map(|x| x.1)\n         } else {\n             None\n@@ -318,7 +318,7 @@ impl DiagnosticSpan {\n             is_primary,\n             text: DiagnosticSpanLine::from_span(span, je),\n             suggested_replacement: suggestion.map(|x| x.0.clone()),\n-            suggestion_approximate,\n+            suggestion_applicability,\n             expansion: backtrace_step,\n             label,\n         }\n@@ -344,7 +344,7 @@ impl DiagnosticSpan {\n                               };\n                               DiagnosticSpan::from_span_label(span_label,\n                                                               Some((&suggestion_inner.snippet,\n-                                                                   suggestion.approximate)),\n+                                                                   suggestion.applicability)),\n                                                               je)\n                           })\n                       })"}]}