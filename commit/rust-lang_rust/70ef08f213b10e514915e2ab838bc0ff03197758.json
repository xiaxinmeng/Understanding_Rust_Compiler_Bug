{"sha": "70ef08f213b10e514915e2ab838bc0ff03197758", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwZWYwOGYyMTNiMTBlNTE0OTE1ZTJhYjgzOGJjMGZmMDMxOTc3NTg=", "commit": {"author": {"name": "Basile Desloges", "email": "basile.desloges@gmail.com", "date": "2017-09-21T14:13:03Z"}, "committer": {"name": "Basile Desloges", "email": "basile.desloges@gmail.com", "date": "2017-09-21T14:42:30Z"}, "message": "mir-borrowck: Add method to MIR borrowck context to retrieve the span of a given borrow", "tree": {"sha": "67cc7a19f152cd1759c1544ee2574b3e7cc79cea", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/67cc7a19f152cd1759c1544ee2574b3e7cc79cea"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/70ef08f213b10e514915e2ab838bc0ff03197758", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/70ef08f213b10e514915e2ab838bc0ff03197758", "html_url": "https://github.com/rust-lang/rust/commit/70ef08f213b10e514915e2ab838bc0ff03197758", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/70ef08f213b10e514915e2ab838bc0ff03197758/comments", "author": {"login": "zilbuz", "id": 434964, "node_id": "MDQ6VXNlcjQzNDk2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/434964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zilbuz", "html_url": "https://github.com/zilbuz", "followers_url": "https://api.github.com/users/zilbuz/followers", "following_url": "https://api.github.com/users/zilbuz/following{/other_user}", "gists_url": "https://api.github.com/users/zilbuz/gists{/gist_id}", "starred_url": "https://api.github.com/users/zilbuz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zilbuz/subscriptions", "organizations_url": "https://api.github.com/users/zilbuz/orgs", "repos_url": "https://api.github.com/users/zilbuz/repos", "events_url": "https://api.github.com/users/zilbuz/events{/privacy}", "received_events_url": "https://api.github.com/users/zilbuz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "zilbuz", "id": 434964, "node_id": "MDQ6VXNlcjQzNDk2NA==", "avatar_url": "https://avatars.githubusercontent.com/u/434964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zilbuz", "html_url": "https://github.com/zilbuz", "followers_url": "https://api.github.com/users/zilbuz/followers", "following_url": "https://api.github.com/users/zilbuz/following{/other_user}", "gists_url": "https://api.github.com/users/zilbuz/gists{/gist_id}", "starred_url": "https://api.github.com/users/zilbuz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zilbuz/subscriptions", "organizations_url": "https://api.github.com/users/zilbuz/orgs", "repos_url": "https://api.github.com/users/zilbuz/repos", "events_url": "https://api.github.com/users/zilbuz/events{/privacy}", "received_events_url": "https://api.github.com/users/zilbuz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "35edf7d8cbd49aa4ea516c6b60615927a722dfd6", "url": "https://api.github.com/repos/rust-lang/rust/commits/35edf7d8cbd49aa4ea516c6b60615927a722dfd6", "html_url": "https://github.com/rust-lang/rust/commit/35edf7d8cbd49aa4ea516c6b60615927a722dfd6"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "127ef1f0e0e5f6398d6b1dfbfe57c395bbc3272a", "filename": "src/librustc_mir/borrow_check.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/70ef08f213b10e514915e2ab838bc0ff03197758/src%2Flibrustc_mir%2Fborrow_check.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70ef08f213b10e514915e2ab838bc0ff03197758/src%2Flibrustc_mir%2Fborrow_check.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check.rs?ref=70ef08f213b10e514915e2ab838bc0ff03197758", "patch": "@@ -1024,6 +1024,13 @@ impl<'c, 'b, 'a: 'b+'c, 'gcx, 'tcx: 'a> MirBorrowckCtxt<'c, 'b, 'a, 'gcx, 'tcx>\n             }\n         }\n     }\n+\n+    // Retrieve span of given borrow from the current MIR representation\n+    fn retrieve_borrow_span(&self, borrow: &BorrowData) -> Span {\n+        self.mir.basic_blocks()[borrow.location.block]\n+            .statements[borrow.location.statement_index]\n+            .source_info.span\n+    }\n }\n \n impl<'c, 'b, 'a: 'b+'c, 'gcx, 'tcx: 'a> MirBorrowckCtxt<'c, 'b, 'a, 'gcx, 'tcx> {"}]}