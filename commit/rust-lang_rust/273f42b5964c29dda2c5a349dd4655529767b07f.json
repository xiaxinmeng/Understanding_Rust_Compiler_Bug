{"sha": "273f42b5964c29dda2c5a349dd4655529767b07f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI3M2Y0MmI1OTY0YzI5ZGRhMmM1YTM0OWRkNDY1NTUyOTc2N2IwN2Y=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-07-21T18:59:36Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-07-21T18:59:36Z"}, "message": "Auto merge of #62856 - pietroalbini:fix-awscli, r=Mark-Simulacrum\n\nci: pin awscli dependencies\n\ndocutils 0.15, a dependency of awscli, broke our CI since it's not compatible with Python 2 due to a bug. This pins all the dependencies of awscli with docutils 0.14, to make sure this kind of regressions doesn't happen again.\n\nr? @Mark-Simulacrum @alexcrichton", "tree": {"sha": "02a637ddb88f414cb69775a7235ef851a33d1bfe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/02a637ddb88f414cb69775a7235ef851a33d1bfe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/273f42b5964c29dda2c5a349dd4655529767b07f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/273f42b5964c29dda2c5a349dd4655529767b07f", "html_url": "https://github.com/rust-lang/rust/commit/273f42b5964c29dda2c5a349dd4655529767b07f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/273f42b5964c29dda2c5a349dd4655529767b07f/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "83dfe7b27cf2debecebedd3b038f9a1c2e05e051", "url": "https://api.github.com/repos/rust-lang/rust/commits/83dfe7b27cf2debecebedd3b038f9a1c2e05e051", "html_url": "https://github.com/rust-lang/rust/commit/83dfe7b27cf2debecebedd3b038f9a1c2e05e051"}, {"sha": "ace3684286530b06d464893b935f967736ae049f", "url": "https://api.github.com/repos/rust-lang/rust/commits/ace3684286530b06d464893b935f967736ae049f", "html_url": "https://github.com/rust-lang/rust/commit/ace3684286530b06d464893b935f967736ae049f"}], "stats": {"total": 17, "additions": 15, "deletions": 2}, "files": [{"sha": "0b3e2376349337b2b6a4fc704dd628b2d85c5faa", "filename": ".azure-pipelines/steps/run.yml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/273f42b5964c29dda2c5a349dd4655529767b07f/.azure-pipelines%2Fsteps%2Frun.yml", "raw_url": "https://github.com/rust-lang/rust/raw/273f42b5964c29dda2c5a349dd4655529767b07f/.azure-pipelines%2Fsteps%2Frun.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.azure-pipelines%2Fsteps%2Frun.yml?ref=273f42b5964c29dda2c5a349dd4655529767b07f", "patch": "@@ -142,11 +142,11 @@ steps:\n     set -e\n     source src/ci/shared.sh\n     sudo apt-get install -y python3-setuptools\n-    retry pip3 install awscli --upgrade --user\n+    retry pip3 install -r src/ci/awscli-requirements.txt --upgrade --user\n     echo \"##vso[task.prependpath]$HOME/.local/bin\"\n   displayName: Install awscli (Linux)\n   condition: and(succeeded(), not(variables.SKIP_JOB), eq(variables['Agent.OS'], 'Linux'))\n-- script: pip install awscli\n+- script: pip install -r src/ci/awscli-requirements.txt\n   displayName: Install awscli (non-Linux)\n   condition: and(succeeded(), not(variables.SKIP_JOB), ne(variables['Agent.OS'], 'Linux'))\n "}, {"sha": "c1ffa525a1b41509a20416831ce605c4670f2815", "filename": "src/ci/awscli-requirements.txt", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/273f42b5964c29dda2c5a349dd4655529767b07f/src%2Fci%2Fawscli-requirements.txt", "raw_url": "https://github.com/rust-lang/rust/raw/273f42b5964c29dda2c5a349dd4655529767b07f/src%2Fci%2Fawscli-requirements.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fawscli-requirements.txt?ref=273f42b5964c29dda2c5a349dd4655529767b07f", "patch": "@@ -0,0 +1,13 @@\n+awscli==1.16.201\n+botocore==1.12.191\n+colorama==0.3.9\n+docutils==0.14\n+jmespath==0.9.4\n+pyasn1==0.4.5\n+python-dateutil==2.8.0\n+PyYAML==5.1\n+rsa==3.4.2\n+s3transfer==0.2.1\n+six==1.12.0\n+urllib3==1.25.3\n+futures==3.3.0; python_version < '3.0'"}]}