{"sha": "eb594da409e3a6dfd68b99133064b2dc43c4d1ff", "node_id": "MDY6Q29tbWl0NzI0NzEyOmViNTk0ZGE0MDllM2E2ZGZkNjhiOTkxMzMwNjRiMmRjNDNjNGQxZmY=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-09-15T14:12:36Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-09-15T14:12:36Z"}, "message": "forbid warnings only in the actual run-pass tests, not in the miri-pass tests", "tree": {"sha": "f9a6714bdc38ade4da076b8be5d68a5a1bfc2d65", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f9a6714bdc38ade4da076b8be5d68a5a1bfc2d65"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eb594da409e3a6dfd68b99133064b2dc43c4d1ff", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJX2qxUAAoJEFbW7qD8Z6xGqicP/RNpLG1iC24j1vT6FDN4Chp2\nk49NWytbBUYIREHw7TStU+QNAW1f/A6z5UfyC2z29wYK3UGmDZXNDsrgNiGY7z0R\nlH9QDcGsAENlZ+LfnM7sD9bzBkwgQQLYUHWEPOro+KDyl5NdBtc2V5tvjqb8kFHS\nWIt6oG5bQMme4BTkC/t57idrXZ+H01YcqWS3G9lDPSabJ9qJxIJ+E3SKJwn4aPJ1\nWOxTdjMuBtelw+GI3ANWlMI8U5mVbCbQhszQH5GZ6SqRaYvlaYa3RzIjC8oIu8ks\n+nXP+ok3I1DNYORfPGrdJxDWGiPoi6bNvvpUIDd7PS6MyHdyBOxz9SSlodc71CG/\n3QCEW4HjFkgiizeUhWWD/0AF5OMFGoFYHc3JNoPWCiBZQl2Kksl/OyrsSh/Ildnf\nC/GheTyGFsaw77OhtphLDygmIPV4/Nyg5VUaq/H/U9NkPKzv+DGPS5nBUDlNAMSp\nVkM1hVnW1W+Ckwlg1Q5GKA2kfEhM+5BOaLahLwGu9iH+WAI5FoOiRopSZWkI1rVn\neWlPMOh0Swh1jhObwzZ8/om1Ot7D9QJl4mlPQ2RiU49vybvVqWzyHpKPrBeq48Pf\nNfZsApEzHWzzM1p3nm6Z7p6JVgsnhSytZYscgGuaWP/AhBeZK3JuhTI1bn17PUjd\nSA7ev0fVM5md/ueJEPI9\n=K9Pz\n-----END PGP SIGNATURE-----", "payload": "tree f9a6714bdc38ade4da076b8be5d68a5a1bfc2d65\nparent 00bd255fe0df118c9fb43426654a7d5deec1c237\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1473948756 +0200\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1473948756 +0200\n\nforbid warnings only in the actual run-pass tests, not in the miri-pass tests"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eb594da409e3a6dfd68b99133064b2dc43c4d1ff", "html_url": "https://github.com/rust-lang/rust/commit/eb594da409e3a6dfd68b99133064b2dc43c4d1ff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eb594da409e3a6dfd68b99133064b2dc43c4d1ff/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "00bd255fe0df118c9fb43426654a7d5deec1c237", "url": "https://api.github.com/repos/rust-lang/rust/commits/00bd255fe0df118c9fb43426654a7d5deec1c237", "html_url": "https://github.com/rust-lang/rust/commit/00bd255fe0df118c9fb43426654a7d5deec1c237"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "00c7e7c454bf5bd55ae4264553cd23f047525124", "filename": "tests/compiletest.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/eb594da409e3a6dfd68b99133064b2dc43c4d1ff/tests%2Fcompiletest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb594da409e3a6dfd68b99133064b2dc43c4d1ff/tests%2Fcompiletest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompiletest.rs?ref=eb594da409e3a6dfd68b99133064b2dc43c4d1ff", "patch": "@@ -22,6 +22,8 @@ fn run_pass() {\n     let mut config = compiletest::default_config();\n     config.mode = \"run-pass\".parse().expect(\"Invalid mode\");\n     config.src_base = PathBuf::from(\"tests/run-pass\".to_string());\n+    config.target_rustcflags = Some(\"-Dwarnings\".to_string());\n+    config.host_rustcflags = Some(\"-Dwarnings\".to_string());\n     compiletest::run_tests(&config);\n }\n \n@@ -67,7 +69,6 @@ fn compile_test() {\n             write!(stderr.lock(), \"test [miri-pass] {} ... \", path.display()).unwrap();\n             let mut cmd = std::process::Command::new(\"target/debug/miri\");\n             cmd.arg(path);\n-            cmd.arg(\"-Dwarnings\");\n             cmd.arg(format!(\"--target={}\", target));\n             let libs = Path::new(&sysroot).join(\"lib\");\n             let sysroot = libs.join(\"rustlib\").join(&target).join(\"lib\");"}]}