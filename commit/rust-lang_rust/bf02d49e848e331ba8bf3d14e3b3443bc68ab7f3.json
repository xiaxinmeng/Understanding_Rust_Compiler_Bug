{"sha": "bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJmMDJkNDllODQ4ZTMzMWJhOGJmM2QxNGUzYjM0NDNiYzY4YWI3ZjM=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-10-08T10:59:59Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-10-16T08:59:54Z"}, "message": "move SeqSep to parser.rs", "tree": {"sha": "5650df816441c05dd0416fcd347957f851d6f0af", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5650df816441c05dd0416fcd347957f851d6f0af"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3", "html_url": "https://github.com/rust-lang/rust/commit/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d420d719c4c44c3c6d02b5fafba4f2cf5e837dba", "url": "https://api.github.com/repos/rust-lang/rust/commits/d420d719c4c44c3c6d02b5fafba4f2cf5e837dba", "html_url": "https://github.com/rust-lang/rust/commit/d420d719c4c44c3c6d02b5fafba4f2cf5e837dba"}], "stats": {"total": 61, "additions": 31, "deletions": 30}, "files": [{"sha": "e6b794a6a990e89bb2c52437ac2a650fa046c717", "filename": "src/libsyntax/parse/mod.rs", "status": "modified", "additions": 1, "deletions": 25, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3/src%2Flibsyntax%2Fparse%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3/src%2Flibsyntax%2Fparse%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fmod.rs?ref=bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3", "patch": "@@ -2,7 +2,7 @@\n \n use crate::ast;\n use crate::parse::parser::{Parser, emit_unclosed_delims};\n-use crate::parse::token::{Nonterminal, TokenKind};\n+use crate::parse::token::Nonterminal;\n use crate::tokenstream::{self, TokenStream, TokenTree};\n use crate::print::pprust;\n use crate::sess::ParseSess;\n@@ -271,30 +271,6 @@ pub fn stream_to_parser_with_base_dir<'a>(\n     Parser::new(sess, stream, Some(base_dir), true, false, None)\n }\n \n-/// A sequence separator.\n-pub struct SeqSep {\n-    /// The separator token.\n-    pub sep: Option<TokenKind>,\n-    /// `true` if a trailing separator is allowed.\n-    pub trailing_sep_allowed: bool,\n-}\n-\n-impl SeqSep {\n-    pub fn trailing_allowed(t: TokenKind) -> SeqSep {\n-        SeqSep {\n-            sep: Some(t),\n-            trailing_sep_allowed: true,\n-        }\n-    }\n-\n-    pub fn none() -> SeqSep {\n-        SeqSep {\n-            sep: None,\n-            trailing_sep_allowed: false,\n-        }\n-    }\n-}\n-\n // NOTE(Centril): The following probably shouldn't be here but it acknowledges the\n // fact that architecturally, we are using parsing (read on below to understand why).\n "}, {"sha": "79901177d18735f8a680147e0a57bd09c6cadf10", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 25, "deletions": 1, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3", "patch": "@@ -15,7 +15,7 @@ use crate::ast::{\n     self, DUMMY_NODE_ID, AttrStyle, Attribute, CrateSugar, Ident,\n     IsAsync, MacDelimiter, Mutability, StrStyle, Visibility, VisibilityKind, Unsafety,\n };\n-use crate::parse::{PResult, Directory, DirectoryOwnership, SeqSep};\n+use crate::parse::{PResult, Directory, DirectoryOwnership};\n use crate::parse::lexer::UnmatchedBrace;\n use crate::parse::lexer::comments::{doc_comment_style, strip_doc_comment_decoration};\n use crate::parse::token::{self, Token, TokenKind, DelimToken};\n@@ -329,6 +329,30 @@ enum TokenExpectType {\n     NoExpect,\n }\n \n+/// A sequence separator.\n+struct SeqSep {\n+    /// The separator token.\n+    sep: Option<TokenKind>,\n+    /// `true` if a trailing separator is allowed.\n+    trailing_sep_allowed: bool,\n+}\n+\n+impl SeqSep {\n+    fn trailing_allowed(t: TokenKind) -> SeqSep {\n+        SeqSep {\n+            sep: Some(t),\n+            trailing_sep_allowed: true,\n+        }\n+    }\n+\n+    fn none() -> SeqSep {\n+        SeqSep {\n+            sep: None,\n+            trailing_sep_allowed: false,\n+        }\n+    }\n+}\n+\n impl<'a> Parser<'a> {\n     pub fn new(\n         sess: &'a ParseSess,"}, {"sha": "463629de7a15ec792cd50070575e43efd36ac720", "filename": "src/libsyntax/parse/parser/attr.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3/src%2Flibsyntax%2Fparse%2Fparser%2Fattr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3/src%2Flibsyntax%2Fparse%2Fparser%2Fattr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser%2Fattr.rs?ref=bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3", "patch": "@@ -1,8 +1,7 @@\n+use super::{SeqSep, PResult, Parser, TokenType, PathStyle};\n use crate::attr;\n use crate::ast;\n-use crate::parse::{SeqSep, PResult};\n use crate::parse::token::{self, Nonterminal, DelimToken};\n-use crate::parse::parser::{Parser, TokenType, PathStyle};\n use crate::tokenstream::{TokenStream, TokenTree};\n use crate::source_map::Span;\n "}, {"sha": "6a4a6c0f16f9515f311a912bc14c380c998d8a6d", "filename": "src/libsyntax/parse/parser/diagnostics.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3/src%2Flibsyntax%2Fparse%2Fparser%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3/src%2Flibsyntax%2Fparse%2Fparser%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser%2Fdiagnostics.rs?ref=bf02d49e848e331ba8bf3d14e3b3443bc68ab7f3", "patch": "@@ -1,9 +1,11 @@\n+use super::{\n+    BlockMode, PathStyle, SemiColonMode, TokenType, TokenExpectType,\n+    SeqSep, PResult, Parser\n+};\n use crate::ast::{\n     self, Param, BinOpKind, BindingMode, BlockCheckMode, Expr, ExprKind, Ident, Item, ItemKind,\n     Mutability, Pat, PatKind, PathSegment, QSelf, Ty, TyKind,\n };\n-use crate::parse::{SeqSep, PResult, Parser};\n-use crate::parse::parser::{BlockMode, PathStyle, SemiColonMode, TokenType, TokenExpectType};\n use crate::parse::token::{self, TokenKind};\n use crate::print::pprust;\n use crate::ptr::P;"}]}