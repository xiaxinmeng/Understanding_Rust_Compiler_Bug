{"sha": "f2aba34eea86a1e3c1ebdd0b8f7adfc730169518", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYyYWJhMzRlZWE4NmExZTNjMWViZGQwYjhmN2FkZmM3MzAxNjk1MTg=", "commit": {"author": {"name": "Wesley Wiser", "email": "wesleywiser@microsoft.com", "date": "2021-06-29T21:04:23Z"}, "committer": {"name": "Wesley Wiser", "email": "wesleywiser@microsoft.com", "date": "2021-07-08T16:55:49Z"}, "message": "Add natvis for Range types", "tree": {"sha": "0348b760bf4529d0ff1568dc873c67198c08dea1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0348b760bf4529d0ff1568dc873c67198c08dea1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f2aba34eea86a1e3c1ebdd0b8f7adfc730169518", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f2aba34eea86a1e3c1ebdd0b8f7adfc730169518", "html_url": "https://github.com/rust-lang/rust/commit/f2aba34eea86a1e3c1ebdd0b8f7adfc730169518", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f2aba34eea86a1e3c1ebdd0b8f7adfc730169518/comments", "author": {"login": "wesleywiser", "id": 831192, "node_id": "MDQ6VXNlcjgzMTE5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/831192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wesleywiser", "html_url": "https://github.com/wesleywiser", "followers_url": "https://api.github.com/users/wesleywiser/followers", "following_url": "https://api.github.com/users/wesleywiser/following{/other_user}", "gists_url": "https://api.github.com/users/wesleywiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/wesleywiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wesleywiser/subscriptions", "organizations_url": "https://api.github.com/users/wesleywiser/orgs", "repos_url": "https://api.github.com/users/wesleywiser/repos", "events_url": "https://api.github.com/users/wesleywiser/events{/privacy}", "received_events_url": "https://api.github.com/users/wesleywiser/received_events", "type": "User", "site_admin": false}, "committer": {"login": "wesleywiser", "id": 831192, "node_id": "MDQ6VXNlcjgzMTE5Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/831192?v=4", "gravatar_id": "", "url": "https://api.github.com/users/wesleywiser", "html_url": "https://github.com/wesleywiser", "followers_url": "https://api.github.com/users/wesleywiser/followers", "following_url": "https://api.github.com/users/wesleywiser/following{/other_user}", "gists_url": "https://api.github.com/users/wesleywiser/gists{/gist_id}", "starred_url": "https://api.github.com/users/wesleywiser/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/wesleywiser/subscriptions", "organizations_url": "https://api.github.com/users/wesleywiser/orgs", "repos_url": "https://api.github.com/users/wesleywiser/repos", "events_url": "https://api.github.com/users/wesleywiser/events{/privacy}", "received_events_url": "https://api.github.com/users/wesleywiser/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8f1eec37545c276b0cfaa60d38b4778e1bba7214", "url": "https://api.github.com/repos/rust-lang/rust/commits/8f1eec37545c276b0cfaa60d38b4778e1bba7214", "html_url": "https://github.com/rust-lang/rust/commit/8f1eec37545c276b0cfaa60d38b4778e1bba7214"}], "stats": {"total": 52, "additions": 35, "deletions": 17}, "files": [{"sha": "624495fb5acbc458e84610f61d9527f4538cfcb0", "filename": "src/etc/natvis/libcore.natvis", "status": "modified", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/f2aba34eea86a1e3c1ebdd0b8f7adfc730169518/src%2Fetc%2Fnatvis%2Flibcore.natvis", "raw_url": "https://github.com/rust-lang/rust/raw/f2aba34eea86a1e3c1ebdd0b8f7adfc730169518/src%2Fetc%2Fnatvis%2Flibcore.natvis", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fnatvis%2Flibcore.natvis?ref=f2aba34eea86a1e3c1ebdd0b8f7adfc730169518", "patch": "@@ -75,6 +75,22 @@\n     <DisplayString>{__0}</DisplayString>\n   </Type>\n \n+  <Type Name=\"core::ops::range::Range&lt;*&gt;\">\n+    <DisplayString>({start}..{end})</DisplayString>\n+  </Type>\n+  <Type Name=\"core::ops::range::RangeFrom&lt;*&gt;\">\n+    <DisplayString>({start}..)</DisplayString>\n+  </Type>\n+  <Type Name=\"core::ops::range::RangeInclusive&lt;*&gt;\">\n+    <DisplayString>({start}..={end})</DisplayString>\n+  </Type>\n+  <Type Name=\"core::ops::range::RangeTo&lt;*&gt;\">\n+    <DisplayString>(..{end})</DisplayString>\n+  </Type>\n+  <Type Name=\"core::ops::range::RangeToInclusive&lt;*&gt;\">\n+    <DisplayString>(..={end})</DisplayString>\n+  </Type>\n+\n   <Type Name=\"core::ptr::non_null::NonNull&lt;*&gt;\">\n     <DisplayString>NonNull({(void*) pointer}: {pointer})</DisplayString>\n     <Expand>"}, {"sha": "7362a50a0301510e79e706103f11a7d76a130b68", "filename": "src/test/debuginfo/range-types.rs", "status": "modified", "additions": 19, "deletions": 17, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/f2aba34eea86a1e3c1ebdd0b8f7adfc730169518/src%2Ftest%2Fdebuginfo%2Frange-types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2aba34eea86a1e3c1ebdd0b8f7adfc730169518/src%2Ftest%2Fdebuginfo%2Frange-types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Frange-types.rs?ref=f2aba34eea86a1e3c1ebdd0b8f7adfc730169518", "patch": "@@ -9,38 +9,40 @@\n // cdb-command: g\n \n // cdb-command: dx r1,d\n-// cdb-check:r1,d             [Type: core::ops::range::Range<i32>]\n-// cdb-check:    [...] start            : 3 [Type: int]\n-// cdb-check:    [...] end              : 5 [Type: int]\n+// cdb-check:r1,d             : (3..5) [Type: core::ops::range::Range<i32>]\n+// cdb-check:    [<Raw View>]     [Type: core::ops::range::Range<i32>]\n \n // cdb-command: dx r2,d\n-// cdb-check:r2,d             [Type: core::ops::range::RangeFrom<i32>]\n-// cdb-check:    [...] start            : 2 [Type: int]\n+// cdb-check:r2,d             : (2..) [Type: core::ops::range::RangeFrom<i32>]\n+// cdb-check:    [<Raw View>]     [Type: core::ops::range::RangeFrom<i32>]\n \n // cdb-command: dx r3,d\n-// cdb-check:r3,d             [Type: core::ops::range::RangeInclusive<i32>]\n-// cdb-check:    [...] start            : 1 [Type: int]\n-// cdb-check:    [...] end              : 4 [Type: int]\n-// cdb-check:    [...] exhausted        : false [Type: bool]\n+// cdb-check:r3,d             : (1..=4) [Type: core::ops::range::RangeInclusive<i32>]\n+// cdb-check:    [<Raw View>]     [Type: core::ops::range::RangeInclusive<i32>]\n \n // cdb-command: dx r4,d\n-// cdb-check:r4,d             [Type: core::ops::range::RangeToInclusive<i32>]\n-// cdb-check:    [...] end              : 3 [Type: int]\n+// cdb-check:r4,d             : (..10) [Type: core::ops::range::RangeTo<i32>]\n+// cdb-check:    [<Raw View>]     [Type: core::ops::range::RangeTo<i32>]\n \n // cdb-command: dx r5,d\n-// cdb-check:r5,d             [Type: core::ops::range::RangeFull]\n+// cdb-check:r5,d             : (..=3) [Type: core::ops::range::RangeToInclusive<i32>]\n+// cdb-check:    [<Raw View>]     [Type: core::ops::range::RangeToInclusive<i32>]\n+\n+// cdb-command: dx r6,d\n+// cdb-check:r6,d             [Type: core::ops::range::RangeFull]\n \n #[allow(unused_variables)]\n \n use std::ops::{Range, RangeFrom, RangeFull, RangeInclusive, RangeToInclusive};\n \n fn main()\n {\n-    let r1 = Range{start: 3, end: 5};\n-    let r2 = RangeFrom{start: 2};\n-    let r3 = RangeInclusive::new(1, 4);\n-    let r4 = RangeToInclusive{end: 3};\n-    let r5 = RangeFull{};\n+    let r1 = (3..5);\n+    let r2 = (2..);\n+    let r3 = (1..=4);\n+    let r4 = (..10);\n+    let r5 = (..=3);\n+    let r6 = (..);\n     zzz(); // #break\n }\n "}]}