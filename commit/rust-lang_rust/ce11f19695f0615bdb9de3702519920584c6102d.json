{"sha": "ce11f19695f0615bdb9de3702519920584c6102d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlMTFmMTk2OTVmMDYxNWJkYjlkZTM3MDI1MTk5MjA1ODRjNjEwMmQ=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2014-05-15T03:55:16Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2014-05-16T18:41:27Z"}, "message": "librustuv: Remove all uses of `~str` from `librustuv`", "tree": {"sha": "d6842985ad63ceba42debe000d5b339289a6a99d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d6842985ad63ceba42debe000d5b339289a6a99d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ce11f19695f0615bdb9de3702519920584c6102d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ce11f19695f0615bdb9de3702519920584c6102d", "html_url": "https://github.com/rust-lang/rust/commit/ce11f19695f0615bdb9de3702519920584c6102d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ce11f19695f0615bdb9de3702519920584c6102d/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "78bc758c94ae9c99b8e4e82f7d18b6733c8eb949", "url": "https://api.github.com/repos/rust-lang/rust/commits/78bc758c94ae9c99b8e4e82f7d18b6733c8eb949", "html_url": "https://github.com/rust-lang/rust/commit/78bc758c94ae9c99b8e4e82f7d18b6733c8eb949"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "a9b449e63be4c710628d123718cd93416c700755", "filename": "src/librustuv/lib.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ce11f19695f0615bdb9de3702519920584c6102d/src%2Flibrustuv%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce11f19695f0615bdb9de3702519920584c6102d/src%2Flibrustuv%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustuv%2Flib.rs?ref=ce11f19695f0615bdb9de3702519920584c6102d", "patch": "@@ -353,21 +353,21 @@ impl Loop {\n pub struct UvError(c_int);\n \n impl UvError {\n-    pub fn name(&self) -> ~str {\n+    pub fn name(&self) -> StrBuf {\n         unsafe {\n             let inner = match self { &UvError(a) => a };\n             let name_str = uvll::uv_err_name(inner);\n             assert!(name_str.is_not_null());\n-            from_c_str(name_str)\n+            from_c_str(name_str).to_strbuf()\n         }\n     }\n \n-    pub fn desc(&self) -> ~str {\n+    pub fn desc(&self) -> StrBuf {\n         unsafe {\n             let inner = match self { &UvError(a) => a };\n             let desc_str = uvll::uv_strerror(inner);\n             assert!(desc_str.is_not_null());\n-            from_c_str(desc_str)\n+            from_c_str(desc_str).to_strbuf()\n         }\n     }\n "}, {"sha": "0b31010020be15e362364111fe240b0861165661", "filename": "src/librustuv/net.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ce11f19695f0615bdb9de3702519920584c6102d/src%2Flibrustuv%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce11f19695f0615bdb9de3702519920584c6102d/src%2Flibrustuv%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustuv%2Fnet.rs?ref=ce11f19695f0615bdb9de3702519920584c6102d", "patch": "@@ -851,15 +851,15 @@ mod test {\n     fn connect_close_ip4() {\n         match TcpWatcher::connect(local_loop(), next_test_ip4(), None) {\n             Ok(..) => fail!(),\n-            Err(e) => assert_eq!(e.name(), \"ECONNREFUSED\".to_owned()),\n+            Err(e) => assert_eq!(e.name(), \"ECONNREFUSED\".to_strbuf()),\n         }\n     }\n \n     #[test]\n     fn connect_close_ip6() {\n         match TcpWatcher::connect(local_loop(), next_test_ip6(), None) {\n             Ok(..) => fail!(),\n-            Err(e) => assert_eq!(e.name(), \"ECONNREFUSED\".to_owned()),\n+            Err(e) => assert_eq!(e.name(), \"ECONNREFUSED\".to_strbuf()),\n         }\n     }\n "}, {"sha": "cf3035c742c36d6e8ab1fc73235e622982d7174c", "filename": "src/librustuv/pipe.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ce11f19695f0615bdb9de3702519920584c6102d/src%2Flibrustuv%2Fpipe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ce11f19695f0615bdb9de3702519920584c6102d/src%2Flibrustuv%2Fpipe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustuv%2Fpipe.rs?ref=ce11f19695f0615bdb9de3702519920584c6102d", "patch": "@@ -338,7 +338,7 @@ mod tests {\n     fn bind_err() {\n         match PipeListener::bind(local_loop(), &\"path/to/nowhere\".to_c_str()) {\n             Ok(..) => fail!(),\n-            Err(e) => assert_eq!(e.name(), \"EACCES\".to_owned()),\n+            Err(e) => assert_eq!(e.name(), \"EACCES\".to_strbuf()),\n         }\n     }\n "}]}