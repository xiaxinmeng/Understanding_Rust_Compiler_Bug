{"sha": "c15127fe3ece95eacc9839458710d6e72bd014af", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMxNTEyN2ZlM2VjZTk1ZWFjYzk4Mzk0NTg3MTBkNmU3MmJkMDE0YWY=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-02-27T07:07:03Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-02-27T07:07:03Z"}, "message": "rustdoc: Do all maps as util::anymap", "tree": {"sha": "00ba5b5836ca10cbc4448dfe2dab2c8863c5f875", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/00ba5b5836ca10cbc4448dfe2dab2c8863c5f875"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c15127fe3ece95eacc9839458710d6e72bd014af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c15127fe3ece95eacc9839458710d6e72bd014af", "html_url": "https://github.com/rust-lang/rust/commit/c15127fe3ece95eacc9839458710d6e72bd014af", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c15127fe3ece95eacc9839458710d6e72bd014af/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a11638f0d9e75881a567979a3274d8514e9cf46c", "url": "https://api.github.com/repos/rust-lang/rust/commits/a11638f0d9e75881a567979a3274d8514e9cf46c", "html_url": "https://github.com/rust-lang/rust/commit/a11638f0d9e75881a567979a3274d8514e9cf46c"}], "stats": {"total": 46, "additions": 23, "deletions": 23}, "files": [{"sha": "64c63e3d969735e91e733f194d750428b421ec00", "filename": "src/rustdoc/attr_pass.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fattr_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fattr_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fattr_pass.rs?ref=c15127fe3ece95eacc9839458710d6e72bd014af", "patch": "@@ -154,7 +154,7 @@ fn merge_arg_attrs(\n     docs: [doc::argdoc],\n     attrs: [attr_parser::arg_attrs]\n ) -> [doc::argdoc] {\n-    vec::map(docs) {|doc|\n+    util::anymap(docs) {|doc|\n         alt vec::find(attrs) {|attr|\n             attr.name == doc.name\n         } {\n@@ -239,7 +239,7 @@ fn fold_enum(\n     let doc = fold::default_seq_fold_enum(fold, doc);\n \n     {\n-        variants: vec::map(doc.variants) {|variant|\n+        variants: util::anymap(doc.variants) {|variant|\n             let attrs = astsrv::exec(srv) {|ctxt|\n                 alt check ctxt.ast_map.get(doc.id()) {\n                   ast_map::node_item(@{\n@@ -288,7 +288,7 @@ fn fold_res(\n     let attrs = parse_item_attrs(srv, doc.id(), attr_parser::parse_res);\n \n     {\n-        args: vec::map(doc.args) {|doc|\n+        args: util::anymap(doc.args) {|doc|\n             alt vec::find(attrs.args) {|attr|\n                 attr.name == doc.name\n             } {\n@@ -349,7 +349,7 @@ fn merge_method_attrs(\n           ast_map::node_item(@{\n             node: ast::item_iface(_, methods), _\n           }, _) {\n-            vec::map(methods) {|method|\n+            util::seqmap(methods) {|method|\n                 (method.ident,\n                  (attr_parser::parse_basic(method.attrs),\n                   attr_parser::parse_method(method.attrs)\n@@ -359,7 +359,7 @@ fn merge_method_attrs(\n           ast_map::node_item(@{\n             node: ast::item_impl(_, _, _, methods), _\n           }, _) {\n-            vec::map(methods) {|method|\n+            util::seqmap(methods) {|method|\n                 (method.ident,\n                  (attr_parser::parse_basic(method.attrs),\n                   attr_parser::parse_method(method.attrs)"}, {"sha": "876147c7dd6910ef5a062161ca0dd3e62b780392", "filename": "src/rustdoc/desc_pass.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fdesc_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fdesc_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fdesc_pass.rs?ref=c15127fe3ece95eacc9839458710d6e72bd014af", "patch": "@@ -45,7 +45,7 @@ fn fold_fn(fold: fold::fold<op>, doc: doc::fndoc) -> doc::fndoc {\n     let doc = fold::default_seq_fold_fn(fold, doc);\n \n     {\n-        args: vec::map(doc.args) {|doc|\n+        args: util::anymap(doc.args) {|doc|\n             {\n                 desc: maybe_apply_op(fold.ctxt, doc.desc)\n                 with doc\n@@ -64,7 +64,7 @@ fn fold_enum(fold: fold::fold<op>, doc: doc::enumdoc) -> doc::enumdoc {\n     let doc = fold::default_seq_fold_enum(fold, doc);\n \n     {\n-        variants: vec::map(doc.variants) {|variant|\n+        variants: util::anymap(doc.variants) {|variant|\n             {\n                 desc: maybe_apply_op(fold.ctxt, variant.desc)\n                 with variant\n@@ -78,7 +78,7 @@ fn fold_res(fold: fold::fold<op>, doc: doc::resdoc) -> doc::resdoc {\n     let doc = fold::default_seq_fold_res(fold, doc);\n \n     {\n-        args: vec::map(doc.args) {|arg|\n+        args: util::anymap(doc.args) {|arg|\n             {\n                 desc: maybe_apply_op(fold.ctxt, arg.desc)\n                 with arg\n@@ -98,11 +98,11 @@ fn fold_iface(fold: fold::fold<op>, doc: doc::ifacedoc) -> doc::ifacedoc {\n }\n \n fn apply_to_methods(op: op, docs: [doc::methoddoc]) -> [doc::methoddoc] {\n-    vec::map(docs) {|doc|\n+    util::anymap(docs) {|doc|\n         {\n             brief: maybe_apply_op(op, doc.brief),\n             desc: maybe_apply_op(op, doc.desc),\n-            args: vec::map(doc.args) {|doc|\n+            args: util::anymap(doc.args) {|doc|\n                 {\n                     desc: maybe_apply_op(op, doc.desc)\n                     with doc"}, {"sha": "ad20bf31b5df7aa0d46b514a31092c3f3d976408", "filename": "src/rustdoc/desc_to_brief_pass.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fdesc_to_brief_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fdesc_to_brief_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fdesc_to_brief_pass.rs?ref=c15127fe3ece95eacc9839458710d6e72bd014af", "patch": "@@ -41,7 +41,7 @@ fn fold_iface(fold: fold::fold<()>, doc: doc::ifacedoc) -> doc::ifacedoc {\n     let doc =fold::default_seq_fold_iface(fold, doc);\n \n     {\n-        methods: vec::map(doc.methods) {|doc|\n+        methods: util::anymap(doc.methods) {|doc|\n             let (brief, desc) = modify(doc.brief, doc.desc);\n \n             {\n@@ -58,7 +58,7 @@ fn fold_impl(fold: fold::fold<()>, doc: doc::impldoc) -> doc::impldoc {\n     let doc =fold::default_seq_fold_impl(fold, doc);\n \n     {\n-        methods: vec::map(doc.methods) {|doc|\n+        methods: util::anymap(doc.methods) {|doc|\n             let (brief, desc) = modify(doc.brief, doc.desc);\n \n             {"}, {"sha": "c953ea275c8e9f119b06b48e0c506730963bf3af", "filename": "src/rustdoc/extract.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fextract.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fextract.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fextract.rs?ref=c15127fe3ece95eacc9839458710d6e72bd014af", "patch": "@@ -112,7 +112,7 @@ fn nmoddoc_from_mod(\n ) -> doc::nmoddoc {\n     {\n         item: itemdoc,\n-        fns: vec::map(module.items) {|item|\n+        fns: util::seqmap(module.items) {|item|\n             let itemdoc = mk_itemdoc(item.id, item.ident);\n             alt item.node {\n               ast::native_item_fn(decl, _) {\n@@ -150,7 +150,7 @@ fn should_extract_fn_args() {\n }\n \n fn argdocs_from_args(args: [ast::arg]) -> [doc::argdoc] {\n-    vec::map(args, argdoc_from_arg)\n+    util::seqmap(args, argdoc_from_arg)\n }\n \n fn argdoc_from_arg(arg: ast::arg) -> doc::argdoc {\n@@ -188,7 +188,7 @@ fn enumdoc_from_enum(\n fn variantdocs_from_variants(\n     variants: [ast::variant]\n ) -> [doc::variantdoc] {\n-    vec::map(variants, variantdoc_from_variant)\n+    util::seqmap(variants, variantdoc_from_variant)\n }\n \n fn variantdoc_from_variant(variant: ast::variant) -> doc::variantdoc {\n@@ -242,7 +242,7 @@ fn ifacedoc_from_iface(\n ) -> doc::ifacedoc {\n     {\n         item: itemdoc,\n-        methods: vec::map(methods) {|method|\n+        methods: util::seqmap(methods) {|method|\n             {\n                 name: method.ident,\n                 brief: none,\n@@ -285,7 +285,7 @@ fn impldoc_from_impl(\n         item: itemdoc,\n         iface_ty: none,\n         self_ty: none,\n-        methods: vec::map(methods) {|method|\n+        methods: util::seqmap(methods) {|method|\n             {\n                 name: method.ident,\n                 brief: none,"}, {"sha": "cb01fd4b2866c52d2392905158d84149730b00b1", "filename": "src/rustdoc/markdown_pass.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fmarkdown_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fmarkdown_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fmarkdown_pass.rs?ref=c15127fe3ece95eacc9839458710d6e72bd014af", "patch": "@@ -228,7 +228,7 @@ fn write_sig(ctxt: ctxt, sig: option<str>) {\n \n fn code_block_indent(s: str) -> str {\n     let lines = str::lines_any(s);\n-    let indented = vec::map(lines, { |line| #fmt(\"    %s\", line) });\n+    let indented = util::anymap(lines, { |line| #fmt(\"    %s\", line) });\n     str::connect(indented, \"\\n\")\n }\n "}, {"sha": "c6db2b8f7a599a32b0e456b48bee004b2d86dc22", "filename": "src/rustdoc/prune_undoc_details_pass.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fprune_undoc_details_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Fprune_undoc_details_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fprune_undoc_details_pass.rs?ref=c15127fe3ece95eacc9839458710d6e72bd014af", "patch": "@@ -105,7 +105,7 @@ fn fold_iface(\n }\n \n fn prune_methods(docs: [doc::methoddoc]) -> [doc::methoddoc] {\n-    vec::map(docs) {|doc|\n+    util::anymap(docs) {|doc|\n         {\n             args: prune_args(doc.args),\n             return: prune_return(doc.return)"}, {"sha": "302a59611daba2947a41a0bd444d06d010422db8", "filename": "src/rustdoc/tystr_pass.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Ftystr_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Ftystr_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Ftystr_pass.rs?ref=c15127fe3ece95eacc9839458710d6e72bd014af", "patch": "@@ -165,7 +165,7 @@ fn get_arg_tys(srv: astsrv::srv, fn_id: doc::ast_id) -> [(str, str)] {\n }\n \n fn decl_arg_tys(decl: ast::fn_decl) -> [(str, str)] {\n-    vec::map(decl.inputs) {|arg|\n+    util::seqmap(decl.inputs) {|arg|\n         (arg.ident, pprust::ty_to_str(arg.ty))\n     }\n }\n@@ -217,7 +217,7 @@ fn fold_enum(\n     let srv = fold.ctxt;\n \n     {\n-        variants: vec::map(doc.variants) {|variant|\n+        variants: util::anymap(doc.variants) {|variant|\n             let sig = astsrv::exec(srv) {|ctxt|\n                 alt check ctxt.ast_map.get(doc.id()) {\n                   ast_map::node_item(@{\n@@ -296,7 +296,7 @@ fn merge_methods(\n     item_id: doc::ast_id,\n     docs: [doc::methoddoc]\n ) -> [doc::methoddoc] {\n-    vec::map(docs) {|doc|\n+    util::anymap(docs) {|doc|\n         {\n             args: merge_method_arg_tys(\n                 srv,"}, {"sha": "71f0c9eacb6f95730bf166bbcf21f46771c66359", "filename": "src/rustdoc/unindent_pass.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Funindent_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c15127fe3ece95eacc9839458710d6e72bd014af/src%2Frustdoc%2Funindent_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Funindent_pass.rs?ref=c15127fe3ece95eacc9839458710d6e72bd014af", "patch": "@@ -63,7 +63,7 @@ fn unindent(s: str) -> str {\n \n     if check vec::is_not_empty(lines) {\n         let unindented = [str::trim(vec::head(lines))]\n-            + vec::map(vec::tail(lines)) {|line|\n+            + util::anymap(vec::tail(lines)) {|line|\n             if str::is_whitespace(line) {\n                 line\n             } else {"}]}