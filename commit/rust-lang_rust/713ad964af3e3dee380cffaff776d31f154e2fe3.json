{"sha": "713ad964af3e3dee380cffaff776d31f154e2fe3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcxM2FkOTY0YWYzZTNkZWUzODBjZmZhZmY3NzZkMzFmMTU0ZTJmZTM=", "commit": {"author": {"name": "Philipp Krones", "email": "hello@philkrones.com", "date": "2019-08-05T08:50:03Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-08-05T08:50:03Z"}, "message": "Rollup merge of #4329 - phansch:doctests_pedantic, r=flip1995\n\nDoctests: Enable running doc tests for pedantic lints\n\nchangelog: none\n\nmaster: 202 passed; 0 failed; 122 ignored; 0 measured; 0 filtered out\nthis PR: 254 passed; 0 failed; 131 ignored; 0 measured; 0 filtered out\n\ncc #4319", "tree": {"sha": "ed5ef0e62fff7a01248dc3305a189e2ac706f30d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ed5ef0e62fff7a01248dc3305a189e2ac706f30d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/713ad964af3e3dee380cffaff776d31f154e2fe3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdR+27CRBK7hj4Ov3rIwAAdHIIADBaj0gXmJqucgo905ia7VEy\nsfDHo74WqFjLxgV/6OfKOo++leL2ZhLudh2yzs7aHQgCMZOpBJhoNEAQIJP6rkm8\ngCdRVm7ItDmheNvNQmH8FVvAzor1hSWQivnsvgmYL0dOYSJQvJkrSvMqoGSHWB5l\naRYR5d2uCTFNAncM0OHHpA7x8rw1jPAFRYpSZxiCXAea0iAE6CfoZQyUpCrS0HDj\ne/L79Go8oxjxk6uDD3fEBOaEqIMURMG0ZQohpOBlEBfhbwD6KT6hqlqgu7HQWJkV\nEyaeUKGM0bQX8XRBtsJggMpdM0CPiC/llyCqjnDQ6cSI7ak6F3SuiuVlhiEU6T0=\n=obZM\n-----END PGP SIGNATURE-----\n", "payload": "tree ed5ef0e62fff7a01248dc3305a189e2ac706f30d\nparent 20021bb4c798fe081e45aba5f6b32fa05a2423fa\nparent 1dc9a5012e1ace8024a6b6920e0af3a376a644fe\nauthor Philipp Krones <hello@philkrones.com> 1564995003 +0200\ncommitter GitHub <noreply@github.com> 1564995003 +0200\n\nRollup merge of #4329 - phansch:doctests_pedantic, r=flip1995\n\nDoctests: Enable running doc tests for pedantic lints\n\nchangelog: none\n\nmaster: 202 passed; 0 failed; 122 ignored; 0 measured; 0 filtered out\nthis PR: 254 passed; 0 failed; 131 ignored; 0 measured; 0 filtered out\n\ncc #4319\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/713ad964af3e3dee380cffaff776d31f154e2fe3", "html_url": "https://github.com/rust-lang/rust/commit/713ad964af3e3dee380cffaff776d31f154e2fe3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/713ad964af3e3dee380cffaff776d31f154e2fe3/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "20021bb4c798fe081e45aba5f6b32fa05a2423fa", "url": "https://api.github.com/repos/rust-lang/rust/commits/20021bb4c798fe081e45aba5f6b32fa05a2423fa", "html_url": "https://github.com/rust-lang/rust/commit/20021bb4c798fe081e45aba5f6b32fa05a2423fa"}, {"sha": "1dc9a5012e1ace8024a6b6920e0af3a376a644fe", "url": "https://api.github.com/repos/rust-lang/rust/commits/1dc9a5012e1ace8024a6b6920e0af3a376a644fe", "html_url": "https://github.com/rust-lang/rust/commit/1dc9a5012e1ace8024a6b6920e0af3a376a644fe"}], "stats": {"total": 100, "additions": 73, "deletions": 27}, "files": [{"sha": "10ba0b9bf5612fb259c7993e505d78cb5209a774", "filename": "clippy_lints/src/checked_conversions.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fchecked_conversions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fchecked_conversions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fchecked_conversions.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -27,6 +27,8 @@ declare_clippy_lint! {\n     /// Could be written:\n     ///\n     /// ```rust\n+    /// # use std::convert::TryFrom;\n+    /// # let foo = 1;\n     /// # let _ =\n     /// i32::try_from(foo).is_ok()\n     /// # ;"}, {"sha": "3c2a328b9acbf75752976b96fb60e019dcdd8a4a", "filename": "clippy_lints/src/copy_iterator.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fcopy_iterator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fcopy_iterator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcopy_iterator.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -13,7 +13,7 @@ declare_clippy_lint! {\n     /// **Known problems:** None.\n     ///\n     /// **Example:**\n-    /// ```rust\n+    /// ```rust,ignore\n     /// #[derive(Copy, Clone)]\n     /// struct Countdown(u8);\n     ///"}, {"sha": "d50a47f8fc5f69e7ec33584e1a5c882f1cd37ae8", "filename": "clippy_lints/src/derive.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fderive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fderive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fderive.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -49,12 +49,12 @@ declare_clippy_lint! {\n     /// **Known problems:** Bounds of generic types are sometimes wrong: https://github.com/rust-lang/rust/issues/26925\n     ///\n     /// **Example:**\n-    /// ```rust\n+    /// ```rust,ignore\n     /// #[derive(Copy)]\n     /// struct Foo;\n     ///\n     /// impl Clone for Foo {\n-    ///     ..\n+    ///     // ..\n     /// }\n     /// ```\n     pub EXPL_IMPL_CLONE_ON_COPY,"}, {"sha": "4950212a4b5d145f2e5c41ebd6413a3e8c76b2e6", "filename": "clippy_lints/src/doc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdoc.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -27,7 +27,7 @@ declare_clippy_lint! {\n     /// /// Do something with the foo_bar parameter. See also\n     /// /// that::other::module::foo.\n     /// // ^ `foo_bar` and `that::other::module::foo` should be ticked.\n-    /// fn doit(foo_bar) { .. }\n+    /// fn doit(foo_bar: usize) {}\n     /// ```\n     pub DOC_MARKDOWN,\n     pedantic,"}, {"sha": "af9647dc0d692da629f3b7324129d26ad2005ff3", "filename": "clippy_lints/src/if_not_else.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fif_not_else.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fif_not_else.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fif_not_else.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -17,6 +17,9 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n+    /// # let v: Vec<usize> = vec![];\n+    /// # fn a() {}\n+    /// # fn b() {}\n     /// if !v.is_empty() {\n     ///     a()\n     /// } else {\n@@ -27,6 +30,9 @@ declare_clippy_lint! {\n     /// Could be written:\n     ///\n     /// ```rust\n+    /// # let v: Vec<usize> = vec![];\n+    /// # fn a() {}\n+    /// # fn b() {}\n     /// if v.is_empty() {\n     ///     b()\n     /// } else {"}, {"sha": "48767aa2710d6d12a0ba3d1c4d7db60807a7bed6", "filename": "clippy_lints/src/infinite_iter.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Finfinite_iter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Finfinite_iter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finfinite_iter.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -34,7 +34,8 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n-    /// [0..].iter().zip(infinite_iter.take_while(|x| x > 5))\n+    /// let infinite_iter = 0..;\n+    /// [0..].iter().zip(infinite_iter.take_while(|x| *x > 5));\n     /// ```\n     pub MAYBE_INFINITE_ITER,\n     pedantic,"}, {"sha": "31b18ec9bd7a9dac56a6388282c1963419d01031", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -110,7 +110,7 @@ macro_rules! declare_clippy_lint {\n     };\n     { $(#[$attr:meta])* pub $name:tt, pedantic, $description:tt } => {\n         declare_tool_lint! {\n-            pub clippy::$name, Allow, $description, report_in_external_macro: true\n+            $(#[$attr])* pub clippy::$name, Allow, $description, report_in_external_macro: true\n         }\n     };\n     { $(#[$attr:meta])* pub $name:tt, restriction, $description:tt } => {"}, {"sha": "7a5ac47b6e75291299a1bcd640b98e20b024213d", "filename": "clippy_lints/src/loops.rs", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Floops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Floops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -91,16 +91,18 @@ declare_clippy_lint! {\n     /// types.\n     ///\n     /// **Example:**\n-    /// ```ignore\n+    /// ```rust\n     /// // with `y` a `Vec` or slice:\n+    /// # let y = vec![1];\n     /// for x in y.iter() {\n-    ///     ..\n+    ///     // ..\n     /// }\n     /// ```\n     /// can be rewritten to\n     /// ```rust\n+    /// # let y = vec![1];\n     /// for x in &y {\n-    ///     ..\n+    ///     // ..\n     /// }\n     /// ```\n     pub EXPLICIT_ITER_LOOP,\n@@ -117,16 +119,18 @@ declare_clippy_lint! {\n     /// **Known problems:** None\n     ///\n     /// **Example:**\n-    /// ```ignore\n+    /// ```rust\n+    /// # let y = vec![1];\n     /// // with `y` a `Vec` or slice:\n     /// for x in y.into_iter() {\n-    ///     ..\n+    ///     // ..\n     /// }\n     /// ```\n     /// can be rewritten to\n-    /// ```ignore\n+    /// ```rust\n+    /// # let y = vec![1];\n     /// for x in y {\n-    ///     ..\n+    ///     // ..\n     /// }\n     /// ```\n     pub EXPLICIT_INTO_ITER_LOOP,"}, {"sha": "6558a254878124c48ec8b4d12d26a8e92aae8c74", "filename": "clippy_lints/src/matches.rs", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fmatches.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fmatches.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatches.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -53,19 +53,25 @@ declare_clippy_lint! {\n     /// Using `match`:\n     ///\n     /// ```rust\n+    /// # fn bar(foo: &usize) {}\n+    /// # let other_ref: usize = 1;\n+    /// # let x: Option<&usize> = Some(&1);\n     /// match x {\n     ///     Some(ref foo) => bar(foo),\n-    ///     _ => bar(other_ref),\n+    ///     _ => bar(&other_ref),\n     /// }\n     /// ```\n     ///\n     /// Using `if let` with `else`:\n     ///\n     /// ```rust\n+    /// # fn bar(foo: &usize) {}\n+    /// # let other_ref: usize = 1;\n+    /// # let x: Option<&usize> = Some(&1);\n     /// if let Some(ref foo) = x {\n     ///     bar(foo);\n     /// } else {\n-    ///     bar(other_ref);\n+    ///     bar(&other_ref);\n     /// }\n     /// ```\n     pub SINGLE_MATCH_ELSE,"}, {"sha": "bfdd3e0859161d7620ad06e2cf18fbc880219102", "filename": "clippy_lints/src/methods/mod.rs", "status": "modified", "additions": 13, "deletions": 6, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -179,7 +179,8 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n-    /// x.map(|a| a + 1).unwrap_or(0)\n+    /// # let x = Some(1);\n+    /// x.map(|a| a + 1).unwrap_or(0);\n     /// ```\n     pub OPTION_MAP_UNWRAP_OR,\n     pedantic,\n@@ -196,7 +197,9 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n-    /// x.map(|a| a + 1).unwrap_or_else(some_function)\n+    /// # let x = Some(1);\n+    /// # fn some_function() -> usize { 1 }\n+    /// x.map(|a| a + 1).unwrap_or_else(some_function);\n     /// ```\n     pub OPTION_MAP_UNWRAP_OR_ELSE,\n     pedantic,\n@@ -213,7 +216,9 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n-    /// x.map(|a| a + 1).unwrap_or_else(some_function)\n+    /// # let x: Result<usize, ()> = Ok(1);\n+    /// # fn some_function(foo: ()) -> usize { 1 }\n+    /// x.map(|a| a + 1).unwrap_or_else(some_function);\n     /// ```\n     pub RESULT_MAP_UNWRAP_OR_ELSE,\n     pedantic,\n@@ -265,7 +270,8 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n-    /// iter.map(|x| x.iter()).flatten()\n+    /// let vec = vec![vec![1]];\n+    /// vec.iter().map(|x| x.iter()).flatten();\n     /// ```\n     pub MAP_FLATTEN,\n     pedantic,\n@@ -284,7 +290,8 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n-    /// iter.filter(|x| x == 0).map(|x| x * 2)\n+    /// let vec = vec![1];\n+    /// vec.iter().filter(|x| **x == 0).map(|x| *x * 2);\n     /// ```\n     pub FILTER_MAP,\n     pedantic,\n@@ -324,7 +331,7 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n-    ///  (0..3).find(|x| x == 2).map(|x| x * 2);\n+    ///  (0..3).find(|x| *x == 2).map(|x| x * 2);\n     /// ```\n     /// Can be written as\n     /// ```rust"}, {"sha": "decc684b66778bc5b1e022f1f2efc89fb5073afa", "filename": "clippy_lints/src/mut_mut.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fmut_mut.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fmut_mut.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmut_mut.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -16,6 +16,7 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n+    /// # let mut y = 1;\n     /// let x = &mut &mut y;\n     /// ```\n     pub MUT_MUT,"}, {"sha": "a5c0652b265b72457d5b5cf235af6a37a43440b1", "filename": "clippy_lints/src/needless_continue.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fneedless_continue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fneedless_continue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_continue.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -57,6 +57,9 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n+    /// # fn condition() -> bool { false }\n+    /// # fn update_condition() {}\n+    /// # let x = false;\n     /// while condition() {\n     ///     update_condition();\n     ///     if x {\n@@ -71,6 +74,9 @@ declare_clippy_lint! {\n     /// Could be rewritten as\n     ///\n     /// ```rust\n+    /// # fn condition() -> bool { false }\n+    /// # fn update_condition() {}\n+    /// # let x = false;\n     /// while condition() {\n     ///     update_condition();\n     ///     if x {\n@@ -83,22 +89,26 @@ declare_clippy_lint! {\n     /// As another example, the following code\n     ///\n     /// ```rust\n+    /// # fn waiting() -> bool { false }\n     /// loop {\n     ///     if waiting() {\n     ///         continue;\n     ///     } else {\n     ///         // Do something useful\n     ///     }\n+    ///     # break;\n     /// }\n     /// ```\n     /// Could be rewritten as\n     ///\n     /// ```rust\n+    /// # fn waiting() -> bool { false }\n     /// loop {\n     ///     if waiting() {\n     ///         continue;\n     ///     }\n     ///     // Do something useful\n+    ///     # break;\n     /// }\n     /// ```\n     pub NEEDLESS_CONTINUE,"}, {"sha": "eaca9c42afb93fdcacecee64b32ceb4b05145b2b", "filename": "clippy_lints/src/needless_pass_by_value.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -40,6 +40,9 @@ declare_clippy_lint! {\n     /// fn foo(v: Vec<i32>) {\n     ///     assert_eq!(v.len(), 42);\n     /// }\n+    /// ```\n+    ///\n+    /// ```rust\n     /// // should be\n     /// fn foo(v: &[i32]) {\n     ///     assert_eq!(v.len(), 42);"}, {"sha": "0dbc7f0551780576e7e66751de10999dbdde9c0c", "filename": "clippy_lints/src/replace_consts.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Freplace_consts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Freplace_consts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Freplace_consts.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -16,12 +16,14 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n+    /// # use core::sync::atomic::{ATOMIC_ISIZE_INIT, AtomicIsize};\n     /// static FOO: AtomicIsize = ATOMIC_ISIZE_INIT;\n     /// ```\n     ///\n     /// Could be written:\n     ///\n     /// ```rust\n+    /// # use core::sync::atomic::AtomicIsize;\n     /// static FOO: AtomicIsize = AtomicIsize::new(0);\n     /// ```\n     pub REPLACE_CONSTS,"}, {"sha": "45d6a7f71a90699d45e32ea29a2f5e98f3fcf59a", "filename": "clippy_lints/src/shadow.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fshadow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Fshadow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fshadow.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -67,6 +67,8 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n+    /// # let y = 1;\n+    /// # let z = 2;\n     /// let x = y;\n     /// let x = z; // shadows the earlier binding\n     /// ```"}, {"sha": "80bd8328ccd2a1ab961cb4a3c597568567f74b6d", "filename": "clippy_lints/src/types.rs", "status": "modified", "additions": 8, "deletions": 6, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/713ad964af3e3dee380cffaff776d31f154e2fe3/clippy_lints%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes.rs?ref=713ad964af3e3dee380cffaff776d31f154e2fe3", "patch": "@@ -133,7 +133,8 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n-    /// let x = LinkedList::new();\n+    /// # use std::collections::LinkedList;\n+    /// let x: LinkedList<usize> = LinkedList::new();\n     /// ```\n     pub LINKEDLIST,\n     pedantic,\n@@ -660,8 +661,8 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n-    /// let x = u64::MAX;\n-    /// x as f64\n+    /// let x = std::u64::MAX;\n+    /// x as f64;\n     /// ```\n     pub CAST_PRECISION_LOSS,\n     pedantic,\n@@ -682,7 +683,7 @@ declare_clippy_lint! {\n     /// **Example:**\n     /// ```rust\n     /// let y: i8 = -1;\n-    /// y as u128 // will return 18446744073709551615\n+    /// y as u128; // will return 18446744073709551615\n     /// ```\n     pub CAST_SIGN_LOSS,\n     pedantic,\n@@ -727,7 +728,7 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n-    /// u32::MAX as i32 // will yield a value of `-1`\n+    /// std::u32::MAX as i32; // will yield a value of `-1`\n     /// ```\n     pub CAST_POSSIBLE_WRAP,\n     pedantic,\n@@ -1689,7 +1690,8 @@ declare_clippy_lint! {\n     ///\n     /// **Example:**\n     /// ```rust\n-    /// let x : u8 = ...; (x as u32) > 300\n+    /// let x: u8 = 1;\n+    /// (x as u32) > 300;\n     /// ```\n     pub INVALID_UPCAST_COMPARISONS,\n     pedantic,"}]}