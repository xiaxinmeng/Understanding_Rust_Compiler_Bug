{"sha": "daa6620c95f0c3817b1a344a607edce1faa3e48f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRhYTY2MjBjOTVmMGMzODE3YjFhMzQ0YTYwN2VkY2UxZmFhM2U0OGY=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-08-21T17:48:29Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-08-24T11:56:57Z"}, "message": "Unconfuse Unpin docs a bit\n\n* Don't say that Unpin is used to prevent moves, because it is used\n  to *allow* moves\n* Be more precise about kindedness of things, it is\n  `Pin<Pointer<Data>>`, rather than just `Pin<Pointer>`.", "tree": {"sha": "c709ca167b5734e1907b49a7137eb539fcb5d4d5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c709ca167b5734e1907b49a7137eb539fcb5d4d5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/daa6620c95f0c3817b1a344a607edce1faa3e48f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/daa6620c95f0c3817b1a344a607edce1faa3e48f", "html_url": "https://github.com/rust-lang/rust/commit/daa6620c95f0c3817b1a344a607edce1faa3e48f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/daa6620c95f0c3817b1a344a607edce1faa3e48f/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b51651ae9d0161967617be930415705b2e4d5faf", "url": "https://api.github.com/repos/rust-lang/rust/commits/b51651ae9d0161967617be930415705b2e4d5faf", "html_url": "https://github.com/rust-lang/rust/commit/b51651ae9d0161967617be930415705b2e4d5faf"}], "stats": {"total": 28, "additions": 14, "deletions": 14}, "files": [{"sha": "b44ca95b00230b712fbff11bb805057ed0ba42f6", "filename": "library/core/src/marker.rs", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/daa6620c95f0c3817b1a344a607edce1faa3e48f/library%2Fcore%2Fsrc%2Fmarker.rs", "raw_url": "https://github.com/rust-lang/rust/raw/daa6620c95f0c3817b1a344a607edce1faa3e48f/library%2Fcore%2Fsrc%2Fmarker.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fmarker.rs?ref=daa6620c95f0c3817b1a344a607edce1faa3e48f", "patch": "@@ -728,23 +728,23 @@ unsafe impl<T: ?Sized> Freeze for &mut T {}\n \n /// Types that can be safely moved after being pinned.\n ///\n-/// Since Rust itself has no notion of immovable types, and considers moves\n-/// (e.g., through assignment or [`mem::replace`]) to always be safe,\n-/// this trait cannot prevent types from moving by itself.\n+/// Rust itself has no notion of immovable types, and considers moves (e.g.,\n+/// through assignment or [`mem::replace`]) to always be safe.\n ///\n-/// Instead it is used to prevent moves through the type system,\n-/// by controlling the behavior of pointers `P` wrapped in the [`Pin<P>`] wrapper,\n-/// which \"pin\" the type in place by not allowing it to be moved out of them.\n-/// See the [`pin module`] documentation for more information on pinning.\n+/// The [`Pin`][Pin] type is used instead to prevent moves through the type\n+/// system. Pointers `P<T>` wrapped in the [`Pin<P<T>>`][Pin] wrapper can't be\n+/// moved out of. See the [`pin module`] documentation for more information on\n+/// pinning.\n ///\n-/// Implementing this trait lifts the restrictions of pinning off a type,\n-/// which then allows it to move out with functions such as [`mem::replace`].\n+/// Implementing the `Unpin` trait for `T` lifts the restrictions of pinning off\n+/// the type, which then allows moving `T` out of [`Pin<P<T>>`][Pin] with\n+/// functions such as [`mem::replace`].\n ///\n /// `Unpin` has no consequence at all for non-pinned data. In particular,\n /// [`mem::replace`] happily moves `!Unpin` data (it works for any `&mut T`, not\n-/// just when `T: Unpin`). However, you cannot use\n-/// [`mem::replace`] on data wrapped inside a [`Pin<P>`] because you cannot get the\n-/// `&mut T` you need for that, and *that* is what makes this system work.\n+/// just when `T: Unpin`). However, you cannot use [`mem::replace`] on data\n+/// wrapped inside a [`Pin<P<T>>`][Pin] because you cannot get the `&mut T` you\n+/// need for that, and *that* is what makes this system work.\n ///\n /// So this, for example, can only be done on types implementing `Unpin`:\n ///\n@@ -765,8 +765,8 @@ unsafe impl<T: ?Sized> Freeze for &mut T {}\n /// This trait is automatically implemented for almost every type.\n ///\n /// [`mem::replace`]: ../../std/mem/fn.replace.html\n-/// [`Pin<P>`]: ../pin/struct.Pin.html\n-/// [`pin module`]: ../../std/pin/index.html\n+/// [Pin]: crate::pin::Pin\n+/// [`pin module`]: crate::pin\n #[stable(feature = \"pin\", since = \"1.33.0\")]\n #[rustc_on_unimplemented(\n     on(_Self = \"std::future::Future\", note = \"consider using `Box::pin`\",),"}]}