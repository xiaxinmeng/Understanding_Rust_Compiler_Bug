{"sha": "bc8e8fabbff6c3c481b980dc42f0afd8ff3c2e10", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJjOGU4ZmFiYmZmNmMzYzQ4MWI5ODBkYzQyZjBhZmQ4ZmYzYzJlMTA=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-12-01T17:38:58Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-12-01T17:38:58Z"}, "message": "Rollup merge of #46387 - chrisduerr:master, r=QuietMisdreavus\n\nFix rustdoc item summaries that are headers\n\nRustoc item summaries that are headers were not displayed at all because\nthey started with whitespace.\n\nThis PR fixes this and now removes the whitespace and then displays the\nblock.\n\nI'm not sure if the rustdoc test is written correctly, if there's anything to improve, just let me know. :)\n\nThis fixes #46377.\n\nThis is how it looks when rendered out now:\n![Rendered](https://i.imgur.com/7u8jUAM.png)", "tree": {"sha": "16edcbb6659a47d7e65f0bca6d9dfc4e1d59387d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/16edcbb6659a47d7e65f0bca6d9dfc4e1d59387d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bc8e8fabbff6c3c481b980dc42f0afd8ff3c2e10", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bc8e8fabbff6c3c481b980dc42f0afd8ff3c2e10", "html_url": "https://github.com/rust-lang/rust/commit/bc8e8fabbff6c3c481b980dc42f0afd8ff3c2e10", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bc8e8fabbff6c3c481b980dc42f0afd8ff3c2e10/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ae243662511cf35b4d3e0053ba2515483ce8ccaa", "url": "https://api.github.com/repos/rust-lang/rust/commits/ae243662511cf35b4d3e0053ba2515483ce8ccaa", "html_url": "https://github.com/rust-lang/rust/commit/ae243662511cf35b4d3e0053ba2515483ce8ccaa"}, {"sha": "91a41069115c70f95509fadae70e67c0effbed93", "url": "https://api.github.com/repos/rust-lang/rust/commits/91a41069115c70f95509fadae70e67c0effbed93", "html_url": "https://github.com/rust-lang/rust/commit/91a41069115c70f95509fadae70e67c0effbed93"}], "stats": {"total": 17, "additions": 16, "deletions": 1}, "files": [{"sha": "41918dfd3c31599051591390c436bf3338c2b236", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bc8e8fabbff6c3c481b980dc42f0afd8ff3c2e10/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bc8e8fabbff6c3c481b980dc42f0afd8ff3c2e10/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=bc8e8fabbff6c3c481b980dc42f0afd8ff3c2e10", "patch": "@@ -1819,7 +1819,9 @@ fn full_path(cx: &Context, item: &clean::Item) -> String {\n \n fn shorter<'a>(s: Option<&'a str>) -> String {\n     match s {\n-        Some(s) => s.lines().take_while(|line|{\n+        Some(s) => s.lines()\n+            .skip_while(|s| s.chars().all(|c| c.is_whitespace()))\n+            .take_while(|line|{\n             (*line).chars().any(|chr|{\n                 !chr.is_whitespace()\n             })"}, {"sha": "db8c7660df1d893e525609fbb9b5128edb2bdf8d", "filename": "src/test/rustdoc/issue-46377.rs", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/bc8e8fabbff6c3c481b980dc42f0afd8ff3c2e10/src%2Ftest%2Frustdoc%2Fissue-46377.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bc8e8fabbff6c3c481b980dc42f0afd8ff3c2e10/src%2Ftest%2Frustdoc%2Fissue-46377.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fissue-46377.rs?ref=bc8e8fabbff6c3c481b980dc42f0afd8ff3c2e10", "patch": "@@ -0,0 +1,13 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// @has 'issue_46377/index.html' '//*[@class=\"docblock-short\"]' 'Check out this struct!'\n+/// # Check out this struct!\n+pub struct SomeStruct;"}]}