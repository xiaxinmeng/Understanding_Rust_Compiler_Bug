{"sha": "f034cb431d88a89984eb75bdea120e34fabfc798", "node_id": "C_kwDOAAsO6NoAKGYwMzRjYjQzMWQ4OGE4OTk4NGViNzViZGVhMTIwZTM0ZmFiZmM3OTg", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-12-17T20:59:23Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-12-17T20:59:25Z"}, "message": "print argument name in arg mismatch if possible", "tree": {"sha": "74156527ae72555c50752aeb59108aebe2055b78", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/74156527ae72555c50752aeb59108aebe2055b78"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f034cb431d88a89984eb75bdea120e34fabfc798", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f034cb431d88a89984eb75bdea120e34fabfc798", "html_url": "https://github.com/rust-lang/rust/commit/f034cb431d88a89984eb75bdea120e34fabfc798", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f034cb431d88a89984eb75bdea120e34fabfc798/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "984eab57f708e62c09b3d708033fe620130b5f39", "url": "https://api.github.com/repos/rust-lang/rust/commits/984eab57f708e62c09b3d708033fe620130b5f39", "html_url": "https://github.com/rust-lang/rust/commit/984eab57f708e62c09b3d708033fe620130b5f39"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "829697c4b9a6b6dca70f08c5fb92cf461e9f8395", "filename": "compiler/rustc_hir_typeck/src/fn_ctxt/checks.rs", "status": "modified", "additions": 8, "deletions": 1, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/f034cb431d88a89984eb75bdea120e34fabfc798/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2Fchecks.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f034cb431d88a89984eb75bdea120e34fabfc798/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2Fchecks.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2Fchecks.rs?ref=f034cb431d88a89984eb75bdea120e34fabfc798", "patch": "@@ -28,7 +28,7 @@ use rustc_middle::ty::adjustment::AllowTwoPhase;\n use rustc_middle::ty::visit::TypeVisitable;\n use rustc_middle::ty::{self, DefIdTree, IsSuggestable, Ty, TypeSuperVisitable, TypeVisitor};\n use rustc_session::Session;\n-use rustc_span::symbol::Ident;\n+use rustc_span::symbol::{kw, Ident};\n use rustc_span::{self, sym, Span};\n use rustc_trait_selection::traits::{self, ObligationCauseCode, SelectionContext};\n \n@@ -1141,6 +1141,13 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                         \"()\".to_string()\n                     } else if expected_ty.is_suggestable(tcx, false) {\n                         format!(\"/* {} */\", expected_ty)\n+                    } else if let Some(fn_def_id) = fn_def_id\n+                        && self.tcx.def_kind(fn_def_id).is_fn_like()\n+                        && let self_implicit = matches!(call_expr.kind, hir::ExprKind::MethodCall(..)) as usize\n+                        && let Some(arg) = self.tcx.fn_arg_names(fn_def_id).get(expected_idx.as_usize() + self_implicit)\n+                        && arg.name != kw::SelfLower\n+                    {\n+                        format!(\"/* {} */\", arg.name)\n                     } else {\n                         \"/* value */\".to_string()\n                     }"}, {"sha": "062b3768858dda362aa894cc03428c42b283e495", "filename": "src/test/ui/argument-suggestions/basic.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f034cb431d88a89984eb75bdea120e34fabfc798/src%2Ftest%2Fui%2Fargument-suggestions%2Fbasic.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f034cb431d88a89984eb75bdea120e34fabfc798/src%2Ftest%2Fui%2Fargument-suggestions%2Fbasic.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fargument-suggestions%2Fbasic.stderr?ref=f034cb431d88a89984eb75bdea120e34fabfc798", "patch": "@@ -94,8 +94,8 @@ LL |     let closure = |x| x;\n    |                   ^^^\n help: provide the argument\n    |\n-LL |     closure(/* value */);\n-   |            ~~~~~~~~~~~~~\n+LL |     closure(/* x */);\n+   |            ~~~~~~~~~\n \n error: aborting due to 6 previous errors\n "}, {"sha": "163737895fea2219c7cd6b70687f3bd7ecd78abc", "filename": "src/test/ui/error-codes/E0057.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f034cb431d88a89984eb75bdea120e34fabfc798/src%2Ftest%2Fui%2Ferror-codes%2FE0057.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f034cb431d88a89984eb75bdea120e34fabfc798/src%2Ftest%2Fui%2Ferror-codes%2FE0057.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0057.stderr?ref=f034cb431d88a89984eb75bdea120e34fabfc798", "patch": "@@ -11,8 +11,8 @@ LL |     let f = |x| x * 3;\n    |             ^^^\n help: provide the argument\n    |\n-LL |     let a = f(/* value */);\n-   |              ~~~~~~~~~~~~~\n+LL |     let a = f(/* x */);\n+   |              ~~~~~~~~~\n \n error[E0057]: this function takes 1 argument but 2 arguments were supplied\n   --> $DIR/E0057.rs:5:13"}, {"sha": "0f051be2128b0486cfcda81f474e94ac8f563db3", "filename": "src/test/ui/higher-rank-trait-bounds/issue-58451.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f034cb431d88a89984eb75bdea120e34fabfc798/src%2Ftest%2Fui%2Fhigher-rank-trait-bounds%2Fissue-58451.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f034cb431d88a89984eb75bdea120e34fabfc798/src%2Ftest%2Fui%2Fhigher-rank-trait-bounds%2Fissue-58451.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhigher-rank-trait-bounds%2Fissue-58451.stderr?ref=f034cb431d88a89984eb75bdea120e34fabfc798", "patch": "@@ -11,8 +11,8 @@ LL | fn f<I>(i: I)\n    |    ^    ----\n help: provide the argument\n    |\n-LL |     f(&[f(/* value */)]);\n-   |          ~~~~~~~~~~~~~\n+LL |     f(&[f(/* i */)]);\n+   |          ~~~~~~~~~\n \n error: aborting due to previous error\n "}, {"sha": "1232b83c39171af52a5702476cc7823ef1e50816", "filename": "src/test/ui/issues/issue-3044.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f034cb431d88a89984eb75bdea120e34fabfc798/src%2Ftest%2Fui%2Fissues%2Fissue-3044.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f034cb431d88a89984eb75bdea120e34fabfc798/src%2Ftest%2Fui%2Fissues%2Fissue-3044.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-3044.stderr?ref=f034cb431d88a89984eb75bdea120e34fabfc798", "patch": "@@ -13,7 +13,7 @@ help: provide the argument\n    |\n LL ~     needlesArr.iter().fold(|x, y| {\n LL +\n-LL ~     }, /* value */);\n+LL ~     }, /* f */);\n    |\n \n error: aborting due to previous error"}]}