{"sha": "e22a3cf7e12b622b143694942504c66a544dc4c5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUyMmEzY2Y3ZTEyYjYyMmIxNDM2OTQ5NDI1MDRjNjZhNTQ0ZGM0YzU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-09-04T04:30:12Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-09-04T04:30:12Z"}, "message": "Auto merge of #44268 - kennytm:fix-python-bootstrap-test, r=Mark-Simulacrum\n\nrustbuild: Remove invalid doctest from bootstrap.py", "tree": {"sha": "4f52d74bce6cfed085b89a72b817dd064c0ca093", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4f52d74bce6cfed085b89a72b817dd064c0ca093"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e22a3cf7e12b622b143694942504c66a544dc4c5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e22a3cf7e12b622b143694942504c66a544dc4c5", "html_url": "https://github.com/rust-lang/rust/commit/e22a3cf7e12b622b143694942504c66a544dc4c5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e22a3cf7e12b622b143694942504c66a544dc4c5/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a3beb8fe61cb73c2eb3a2d47c87d3945a6f52865", "url": "https://api.github.com/repos/rust-lang/rust/commits/a3beb8fe61cb73c2eb3a2d47c87d3945a6f52865", "html_url": "https://github.com/rust-lang/rust/commit/a3beb8fe61cb73c2eb3a2d47c87d3945a6f52865"}, {"sha": "4d06185688aa2bc533776669b53a2479e2cf3e8c", "url": "https://api.github.com/repos/rust-lang/rust/commits/4d06185688aa2bc533776669b53a2479e2cf3e8c", "html_url": "https://github.com/rust-lang/rust/commit/4d06185688aa2bc533776669b53a2479e2cf3e8c"}], "stats": {"total": 10, "additions": 4, "deletions": 6}, "files": [{"sha": "4ef6d70e820ea9d4f3f54bc4814e5c716c387a51", "filename": "src/bootstrap/bootstrap.py", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e22a3cf7e12b622b143694942504c66a544dc4c5/src%2Fbootstrap%2Fbootstrap.py", "raw_url": "https://github.com/rust-lang/rust/raw/e22a3cf7e12b622b143694942504c66a544dc4c5/src%2Fbootstrap%2Fbootstrap.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap.py?ref=e22a3cf7e12b622b143694942504c66a544dc4c5", "patch": "@@ -523,10 +523,6 @@ def program_config(self, program):\n         >>> rb.config_toml = 'rustc = \"rustc\"\\\\n'\n         >>> rb.program_config('rustc')\n         'rustc'\n-        >>> cargo_path = rb.program_config('cargo')\n-        >>> cargo_path.rstrip(\".exe\") == os.path.join(\"/tmp/rust\",\n-        ... \"bin\", \"cargo\")\n-        True\n         >>> rb.config_toml = ''\n         >>> cargo_path = rb.program_config('cargo')\n         >>> cargo_path.rstrip(\".exe\") == os.path.join(rb.bin_root(),"}, {"sha": "32ea4b4abe638b51cfc95d898e800922962ce792", "filename": "src/bootstrap/bootstrap_test.py", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e22a3cf7e12b622b143694942504c66a544dc4c5/src%2Fbootstrap%2Fbootstrap_test.py", "raw_url": "https://github.com/rust-lang/rust/raw/e22a3cf7e12b622b143694942504c66a544dc4c5/src%2Fbootstrap%2Fbootstrap_test.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap_test.py?ref=e22a3cf7e12b622b143694942504c66a544dc4c5", "patch": "@@ -15,6 +15,7 @@\n import unittest\n import tempfile\n import hashlib\n+import sys\n \n from shutil import rmtree\n \n@@ -110,5 +111,6 @@ def test_same_dates(self):\n         TEST_LOADER.loadTestsFromTestCase(VerifyTestCase),\n         TEST_LOADER.loadTestsFromTestCase(ProgramOutOfDate)])\n \n-    RUNNER = unittest.TextTestRunner(verbosity=2)\n-    RUNNER.run(SUITE)\n+    RUNNER = unittest.TextTestRunner(stream=sys.stdout, verbosity=2)\n+    result = RUNNER.run(SUITE)\n+    sys.exit(0 if result.wasSuccessful() else 1)"}]}