{"sha": "869b7bc5e7534acc2a38d0f389e1ef0ef2bb44e6", "node_id": "C_kwDOAAsO6NoAKDg2OWI3YmM1ZTc1MzRhY2MyYTM4ZDBmMzg5ZTFlZjBlZjJiYjQ0ZTY", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-01-17T05:08:10Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-01-17T05:08:10Z"}, "message": "Rollup merge of #92795 - jsha:link-to-top, r=GuillaumeGomez\n\nLink sidebar \"location\" heading to top of page\n\nThis makes it easy, when you are scrolled far down in a page, to jump back to the top.\n\nDemo: https://rustdoc.crud.net/jsha/link-to-top/std/string/struct.String.html\n\nr? ``@GuillaumeGomez``", "tree": {"sha": "c98256951e85caa0c08e90e29e8b175055052a91", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c98256951e85caa0c08e90e29e8b175055052a91"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/869b7bc5e7534acc2a38d0f389e1ef0ef2bb44e6", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJh5Pm6CRBK7hj4Ov3rIwAA1lkIABjVC2lI4Ev6F7uxZ6RIN510\nx5fqkJ+nUTAM1hwt43fXNv3Hrp6Viltz+FwXuqJRQcJ6mBRd+Z+HoXFbp1mm9FEn\nqBKHCBcB64G8HGQtTwTIcCy/IIMhFrobAn+meCrLpPdQ1WOFOv2DcBZE/SFuc/Me\nx1LKzRcSPlShFLx1bQF8xpb4D3Es5MZkacsWF7Gn+w1yQQm7DE2gfhRZR3OmHyG8\n4/VZgwT6f2kanobe3DB3rEDjpy7KraJCjGsdRtxIpoLoXm2w5pGbCjIRjrAhLr95\nYPJLlnDtDFQKbib44bw93lGb6jeKvwEWeRNzN/uHFEFecz7MFYbTVbPr+QKOxDk=\n=eXk1\n-----END PGP SIGNATURE-----\n", "payload": "tree c98256951e85caa0c08e90e29e8b175055052a91\nparent 1fbd6aedb3474d2a5d70839a42c80d869749d8ff\nparent 7781636fc7bd2edc6bf314dc15eb8e9d5cb60ce6\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1642396090 +0100\ncommitter GitHub <noreply@github.com> 1642396090 +0100\n\nRollup merge of #92795 - jsha:link-to-top, r=GuillaumeGomez\n\nLink sidebar \"location\" heading to top of page\n\nThis makes it easy, when you are scrolled far down in a page, to jump back to the top.\n\nDemo: https://rustdoc.crud.net/jsha/link-to-top/std/string/struct.String.html\n\nr? ``@GuillaumeGomez``\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/869b7bc5e7534acc2a38d0f389e1ef0ef2bb44e6", "html_url": "https://github.com/rust-lang/rust/commit/869b7bc5e7534acc2a38d0f389e1ef0ef2bb44e6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/869b7bc5e7534acc2a38d0f389e1ef0ef2bb44e6/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1fbd6aedb3474d2a5d70839a42c80d869749d8ff", "url": "https://api.github.com/repos/rust-lang/rust/commits/1fbd6aedb3474d2a5d70839a42c80d869749d8ff", "html_url": "https://github.com/rust-lang/rust/commit/1fbd6aedb3474d2a5d70839a42c80d869749d8ff"}, {"sha": "7781636fc7bd2edc6bf314dc15eb8e9d5cb60ce6", "url": "https://api.github.com/repos/rust-lang/rust/commits/7781636fc7bd2edc6bf314dc15eb8e9d5cb60ce6", "html_url": "https://github.com/rust-lang/rust/commit/7781636fc7bd2edc6bf314dc15eb8e9d5cb60ce6"}], "stats": {"total": 9, "additions": 8, "deletions": 1}, "files": [{"sha": "7f3e5d15de1921728d66e04d497cd4fa331a7c0e", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/869b7bc5e7534acc2a38d0f389e1ef0ef2bb44e6/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/869b7bc5e7534acc2a38d0f389e1ef0ef2bb44e6/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=869b7bc5e7534acc2a38d0f389e1ef0ef2bb44e6", "patch": "@@ -1736,7 +1736,7 @@ fn print_sidebar(cx: &Context<'_>, it: &clean::Item, buffer: &mut Buffer) {\n     {\n         write!(\n             buffer,\n-            \"<h2 class=\\\"location\\\">{}{}</h2>\",\n+            \"<h2 class=\\\"location\\\"><a href=\\\"#\\\">{}{}</a></h2>\",\n             match *it.kind {\n                 clean::StructItem(..) => \"Struct \",\n                 clean::TraitItem(..) => \"Trait \","}, {"sha": "9289244f6f8bbf53a30ed6e2aeaeeb58e3dcf251", "filename": "src/test/rustdoc-gui/sidebar.goml", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/869b7bc5e7534acc2a38d0f389e1ef0ef2bb44e6/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml", "raw_url": "https://github.com/rust-lang/rust/raw/869b7bc5e7534acc2a38d0f389e1ef0ef2bb44e6/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml?ref=869b7bc5e7534acc2a38d0f389e1ef0ef2bb44e6", "patch": "@@ -22,6 +22,13 @@ click: \"#structs + .item-table .item-left > a\"\n assert-count: (\".sidebar .location\", 2)\n // We check that there is no crate listed outside of the top level.\n assert-false: \".sidebar-elems > .crate\"\n+\n+click: \".sidebar-links a\"\n+assert-property: (\"html\", {\"scrollTop\": \"389\"})\n+\n+click: \".sidebar h2.location\"\n+assert-property: (\"html\", {\"scrollTop\": \"0\"})\n+\n // We now go back to the crate page to click on the \"lib2\" crate link.\n goto: file://|DOC_PATH|/test_docs/index.html\n click: \".sidebar-elems .crate > ul > li:first-child > a\""}]}