{"sha": "0c9d4246b0826430d287936f9041a13ab5581710", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjOWQ0MjQ2YjA4MjY0MzBkMjg3OTM2ZjkwNDFhMTNhYjU1ODE3MTA=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2019-11-03T14:36:16Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2019-11-07T18:06:12Z"}, "message": "rustc_metadata: Move cstore_impl into mod decoder", "tree": {"sha": "d45dc1a31161cff14ff421760e02f5ac1110146f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d45dc1a31161cff14ff421760e02f5ac1110146f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0c9d4246b0826430d287936f9041a13ab5581710", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0c9d4246b0826430d287936f9041a13ab5581710", "html_url": "https://github.com/rust-lang/rust/commit/0c9d4246b0826430d287936f9041a13ab5581710", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0c9d4246b0826430d287936f9041a13ab5581710/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8e1ae56bc612a888bbd0336255bdb431249b8c74", "url": "https://api.github.com/repos/rust-lang/rust/commits/8e1ae56bc612a888bbd0336255bdb431249b8c74", "html_url": "https://github.com/rust-lang/rust/commit/8e1ae56bc612a888bbd0336255bdb431249b8c74"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "656ece79add9239787da1769c736ef1847b0c713", "filename": "src/librustc_metadata/cstore.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0c9d4246b0826430d287936f9041a13ab5581710/src%2Flibrustc_metadata%2Fcstore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9d4246b0826430d287936f9041a13ab5581710/src%2Flibrustc_metadata%2Fcstore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Fcstore.rs?ref=0c9d4246b0826430d287936f9041a13ab5581710", "patch": "@@ -17,7 +17,7 @@ use syntax_expand::base::SyntaxExtension;\n use syntax_pos;\n use proc_macro::bridge::client::ProcMacro;\n \n-pub use crate::cstore_impl::{provide, provide_extern};\n+pub use crate::schema::{provide, provide_extern};\n \n // A map from external crate numbers (as decoded from some crate file) to\n // local crate numbers (as generated during this session). Each external"}, {"sha": "516f9feb945736469256f242d66699a648d4e689", "filename": "src/librustc_metadata/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0c9d4246b0826430d287936f9041a13ab5581710/src%2Flibrustc_metadata%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9d4246b0826430d287936f9041a13ab5581710/src%2Flibrustc_metadata%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Flib.rs?ref=0c9d4246b0826430d287936f9041a13ab5581710", "patch": "@@ -27,7 +27,6 @@ extern crate rustc_data_structures;\n pub mod error_codes;\n \n mod dependency_format;\n-mod cstore_impl;\n mod foreign_modules;\n mod link_args;\n mod native_libs;"}, {"sha": "e7b56fed50a5f601b5c9521f10c5a2b0cf6c2d92", "filename": "src/librustc_metadata/schema.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0c9d4246b0826430d287936f9041a13ab5581710/src%2Flibrustc_metadata%2Fschema.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9d4246b0826430d287936f9041a13ab5581710/src%2Flibrustc_metadata%2Fschema.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Fschema.rs?ref=0c9d4246b0826430d287936f9041a13ab5581710", "patch": "@@ -23,6 +23,7 @@ use syntax_pos::{self, Span};\n use std::marker::PhantomData;\n use std::num::NonZeroUsize;\n \n+pub use decoder::{provide, provide_extern};\n crate use encoder::encode_metadata;\n \n mod decoder;"}, {"sha": "2264cd3804e0d48b850e6b5a769f1bf762c8dc3b", "filename": "src/librustc_metadata/schema/decoder.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0c9d4246b0826430d287936f9041a13ab5581710/src%2Flibrustc_metadata%2Fschema%2Fdecoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9d4246b0826430d287936f9041a13ab5581710/src%2Flibrustc_metadata%2Fschema%2Fdecoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Fschema%2Fdecoder.rs?ref=0c9d4246b0826430d287936f9041a13ab5581710", "patch": "@@ -40,6 +40,10 @@ use syntax_pos::symbol::{Symbol, sym};\n use log::debug;\n use proc_macro::bridge::client::ProcMacro;\n \n+pub use cstore_impl::{provide, provide_extern};\n+\n+mod cstore_impl;\n+\n crate struct DecodeContext<'a, 'tcx> {\n     opaque: opaque::Decoder<'a>,\n     cdata: Option<&'a CrateMetadata>,"}, {"sha": "2d3a6f4fa9f22a9bc20564e24071c9231678fe71", "filename": "src/librustc_metadata/schema/decoder/cstore_impl.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/0c9d4246b0826430d287936f9041a13ab5581710/src%2Flibrustc_metadata%2Fschema%2Fdecoder%2Fcstore_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c9d4246b0826430d287936f9041a13ab5581710/src%2Flibrustc_metadata%2Fschema%2Fdecoder%2Fcstore_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_metadata%2Fschema%2Fdecoder%2Fcstore_impl.rs?ref=0c9d4246b0826430d287936f9041a13ab5581710", "previous_filename": "src/librustc_metadata/cstore_impl.rs"}]}