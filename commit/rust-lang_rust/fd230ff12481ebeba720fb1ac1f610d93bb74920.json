{"sha": "fd230ff12481ebeba720fb1ac1f610d93bb74920", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZkMjMwZmYxMjQ4MWViZWJhNzIwZmIxYWMxZjYxMGQ5M2JiNzQ5MjA=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-09-13T00:01:28Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-09-13T00:01:28Z"}, "message": "Auto merge of #28370 - ranma42:slow_pat_gen, r=alexcrichton\n\nCommit 9104a902c052c1ad7fd5c1245cb1e03f88aa2f70 fixed the generated\r\nfiles, but that change would be lost (or require additional manual\r\nintervention) if they are re-generated of if new architectures are\r\nadded.\r\n\r\ncc #28273", "tree": {"sha": "8b06a122842f00a7fb0b95f3479b2695cda2f2b5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8b06a122842f00a7fb0b95f3479b2695cda2f2b5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fd230ff12481ebeba720fb1ac1f610d93bb74920", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fd230ff12481ebeba720fb1ac1f610d93bb74920", "html_url": "https://github.com/rust-lang/rust/commit/fd230ff12481ebeba720fb1ac1f610d93bb74920", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fd230ff12481ebeba720fb1ac1f610d93bb74920/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f710aae2eff6a738caa5991e62267c3a5f70b1c9", "url": "https://api.github.com/repos/rust-lang/rust/commits/f710aae2eff6a738caa5991e62267c3a5f70b1c9", "html_url": "https://github.com/rust-lang/rust/commit/f710aae2eff6a738caa5991e62267c3a5f70b1c9"}, {"sha": "9aa1289a67b6682568b94c6de74d411cdf87d9ee", "url": "https://api.github.com/repos/rust-lang/rust/commits/9aa1289a67b6682568b94c6de74d411cdf87d9ee", "html_url": "https://github.com/rust-lang/rust/commit/9aa1289a67b6682568b94c6de74d411cdf87d9ee"}], "stats": {"total": 11, "additions": 10, "deletions": 1}, "files": [{"sha": "e3aa4e688d38beea06fa567826570c3bccc0f3a8", "filename": "src/etc/platform-intrinsics/generator.py", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/fd230ff12481ebeba720fb1ac1f610d93bb74920/src%2Fetc%2Fplatform-intrinsics%2Fgenerator.py", "raw_url": "https://github.com/rust-lang/rust/raw/fd230ff12481ebeba720fb1ac1f610d93bb74920/src%2Fetc%2Fplatform-intrinsics%2Fgenerator.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fplatform-intrinsics%2Fgenerator.py?ref=fd230ff12481ebeba720fb1ac1f610d93bb74920", "patch": "@@ -737,6 +737,9 @@ def open(self, platform):\n use IntrinsicDef::Named;\n use rustc::middle::ty;\n \n+// The default inlining settings trigger a pathological behaviour in\n+// LLVM, which causes makes compilation very slow. See #28273.\n+#[inline(never)]\n pub fn find<'tcx>(_tcx: &ty::ctxt<'tcx>, name: &str) -> Option<Intrinsic> {{\n     if !name.starts_with(\"{0}\") {{ return None }}\n     Some(match &name[\"{0}\".len()..] {{'''.format(platform.intrinsic_prefix())"}, {"sha": "fda65554cd2f23f4df334a0e061a636fe1e1e05f", "filename": "src/librustc_platform_intrinsics/aarch64.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fd230ff12481ebeba720fb1ac1f610d93bb74920/src%2Flibrustc_platform_intrinsics%2Faarch64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fd230ff12481ebeba720fb1ac1f610d93bb74920/src%2Flibrustc_platform_intrinsics%2Faarch64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Faarch64.rs?ref=fd230ff12481ebeba720fb1ac1f610d93bb74920", "patch": "@@ -17,6 +17,8 @@ use {Intrinsic, i, i_, u, u_, f, v, v_, agg, p, void};\n use IntrinsicDef::Named;\n use rustc::middle::ty;\n \n+// The default inlining settings trigger a pathological behaviour in\n+// LLVM, which causes makes compilation very slow. See #28273.\n #[inline(never)]\n pub fn find<'tcx>(_tcx: &ty::ctxt<'tcx>, name: &str) -> Option<Intrinsic> {\n     if !name.starts_with(\"aarch64_v\") { return None }"}, {"sha": "166bf66d819c77c2eb8f5608a0a4c112269d95d7", "filename": "src/librustc_platform_intrinsics/arm.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/fd230ff12481ebeba720fb1ac1f610d93bb74920/src%2Flibrustc_platform_intrinsics%2Farm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fd230ff12481ebeba720fb1ac1f610d93bb74920/src%2Flibrustc_platform_intrinsics%2Farm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Farm.rs?ref=fd230ff12481ebeba720fb1ac1f610d93bb74920", "patch": "@@ -13,10 +13,12 @@\n \n #![allow(unused_imports)]\n \n-use {Intrinsic, i, i_, u, u_, f, v, agg, p};\n+use {Intrinsic, i, i_, u, u_, f, v, v_, agg, p, void};\n use IntrinsicDef::Named;\n use rustc::middle::ty;\n \n+// The default inlining settings trigger a pathological behaviour in\n+// LLVM, which causes makes compilation very slow. See #28273.\n #[inline(never)]\n pub fn find<'tcx>(_tcx: &ty::ctxt<'tcx>, name: &str) -> Option<Intrinsic> {\n     if !name.starts_with(\"arm_v\") { return None }"}, {"sha": "144fd5f4e761b1ac53f0464cd2d5707abddca71c", "filename": "src/librustc_platform_intrinsics/x86.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fd230ff12481ebeba720fb1ac1f610d93bb74920/src%2Flibrustc_platform_intrinsics%2Fx86.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fd230ff12481ebeba720fb1ac1f610d93bb74920/src%2Flibrustc_platform_intrinsics%2Fx86.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Fx86.rs?ref=fd230ff12481ebeba720fb1ac1f610d93bb74920", "patch": "@@ -17,6 +17,8 @@ use {Intrinsic, i, i_, u, u_, f, v, v_, agg, p, void};\n use IntrinsicDef::Named;\n use rustc::middle::ty;\n \n+// The default inlining settings trigger a pathological behaviour in\n+// LLVM, which causes makes compilation very slow. See #28273.\n #[inline(never)]\n pub fn find<'tcx>(_tcx: &ty::ctxt<'tcx>, name: &str) -> Option<Intrinsic> {\n     if !name.starts_with(\"x86_mm\") { return None }"}]}