{"sha": "67759b74f44f4d119625115525b5375416e5f8d8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY3NzU5Yjc0ZjQ0ZjRkMTE5NjI1MTE1NTI1YjUzNzU0MTZlNWY4ZDg=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-05-23T17:10:00Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-05-23T17:10:00Z"}, "message": "Rollup merge of #72446 - dtolnay:ord, r=petrochenkov\n\nImpl Ord for proc_macro::LineColumn\n\n```rust\nimpl Ord for LineColumn {...}\nimpl PartialOrd for LineColumn {...}\n```\n\nfor https://doc.rust-lang.org/nightly/proc_macro/struct.LineColumn.html.\n\nThe ordering is the natural one you would get by writing one line after another, where we compare line first, then compare columns within the same line.", "tree": {"sha": "a4258c27e56053adbed7c32ef19c50c7f8e8f0f0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a4258c27e56053adbed7c32ef19c50c7f8e8f0f0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/67759b74f44f4d119625115525b5375416e5f8d8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeyVjoCRBK7hj4Ov3rIwAAdHIIAAx6qkxRQNMHwucB5M+ng0iE\ny0AAbsPXpoehhIZQeu1JrsB/Aj09oVSKmsQx+omoM0gIJFA6H9rX3Tk3+VJonjo4\nROwjQ3V74v0J4jBfbiEQGFYxbOMiigCyrwk9ha4tPmYFO3Jz02PZaNSdLyJCgnzv\nTRJz7uGTQPWRHki0SDeZwaaiWFhK1T8caZ1HPzAjY3jkksb59X9nUoJQ9a2c+OUg\nk3BzoF18mKqTl0hnXukM1HrqcGCzaX5ArUkiKoixUa/42I5ZSyRyhSoMFH6mQmyv\nnV9qm7seeXR9sFE+Alv+ySeNFSzQV12l2LJNHWMNxiiQ3xb22CFbNQhpEZ331ZY=\n=z02c\n-----END PGP SIGNATURE-----\n", "payload": "tree a4258c27e56053adbed7c32ef19c50c7f8e8f0f0\nparent d5e3009bd8a2eb934415a1ed1b19b031b6f9c4e2\nparent 5a4bf448c764696be75eafb6631e182d95064e72\nauthor Dylan DPC <dylan.dpc@gmail.com> 1590253800 +0200\ncommitter GitHub <noreply@github.com> 1590253800 +0200\n\nRollup merge of #72446 - dtolnay:ord, r=petrochenkov\n\nImpl Ord for proc_macro::LineColumn\n\n```rust\nimpl Ord for LineColumn {...}\nimpl PartialOrd for LineColumn {...}\n```\n\nfor https://doc.rust-lang.org/nightly/proc_macro/struct.LineColumn.html.\n\nThe ordering is the natural one you would get by writing one line after another, where we compare line first, then compare columns within the same line.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/67759b74f44f4d119625115525b5375416e5f8d8", "html_url": "https://github.com/rust-lang/rust/commit/67759b74f44f4d119625115525b5375416e5f8d8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/67759b74f44f4d119625115525b5375416e5f8d8/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d5e3009bd8a2eb934415a1ed1b19b031b6f9c4e2", "url": "https://api.github.com/repos/rust-lang/rust/commits/d5e3009bd8a2eb934415a1ed1b19b031b6f9c4e2", "html_url": "https://github.com/rust-lang/rust/commit/d5e3009bd8a2eb934415a1ed1b19b031b6f9c4e2"}, {"sha": "5a4bf448c764696be75eafb6631e182d95064e72", "url": "https://api.github.com/repos/rust-lang/rust/commits/5a4bf448c764696be75eafb6631e182d95064e72", "html_url": "https://github.com/rust-lang/rust/commit/5a4bf448c764696be75eafb6631e182d95064e72"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "2d5bd7e872bd5923856cbb0dbfbf256f899ea4c3", "filename": "src/libproc_macro/lib.rs", "status": "modified", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/67759b74f44f4d119625115525b5375416e5f8d8/src%2Flibproc_macro%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/67759b74f44f4d119625115525b5375416e5f8d8/src%2Flibproc_macro%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibproc_macro%2Flib.rs?ref=67759b74f44f4d119625115525b5375416e5f8d8", "patch": "@@ -39,6 +39,7 @@ mod diagnostic;\n #[unstable(feature = \"proc_macro_diagnostic\", issue = \"54140\")]\n pub use diagnostic::{Diagnostic, Level, MultiSpan};\n \n+use std::cmp::Ordering;\n use std::ops::{Bound, RangeBounds};\n use std::path::PathBuf;\n use std::str::FromStr;\n@@ -420,6 +421,20 @@ impl !Send for LineColumn {}\n #[unstable(feature = \"proc_macro_span\", issue = \"54725\")]\n impl !Sync for LineColumn {}\n \n+#[unstable(feature = \"proc_macro_span\", issue = \"54725\")]\n+impl Ord for LineColumn {\n+    fn cmp(&self, other: &Self) -> Ordering {\n+        self.line.cmp(&other.line).then(self.column.cmp(&other.column))\n+    }\n+}\n+\n+#[unstable(feature = \"proc_macro_span\", issue = \"54725\")]\n+impl PartialOrd for LineColumn {\n+    fn partial_cmp(&self, other: &Self) -> Option<Ordering> {\n+        Some(self.cmp(other))\n+    }\n+}\n+\n /// The source file of a given `Span`.\n #[unstable(feature = \"proc_macro_span\", issue = \"54725\")]\n #[derive(Clone)]"}, {"sha": "331b330cf29f06326d9c34b621cceb41c20d4465", "filename": "src/libproc_macro/tests/test.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/67759b74f44f4d119625115525b5375416e5f8d8/src%2Flibproc_macro%2Ftests%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/67759b74f44f4d119625115525b5375416e5f8d8/src%2Flibproc_macro%2Ftests%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibproc_macro%2Ftests%2Ftest.rs?ref=67759b74f44f4d119625115525b5375416e5f8d8", "patch": "@@ -0,0 +1,12 @@\n+#![feature(proc_macro_span)]\n+\n+use proc_macro::LineColumn;\n+\n+#[test]\n+fn test_line_column_ord() {\n+    let line0_column0 = LineColumn { line: 0, column: 0 };\n+    let line0_column1 = LineColumn { line: 0, column: 1 };\n+    let line1_column0 = LineColumn { line: 1, column: 0 };\n+    assert!(line0_column0 < line0_column1);\n+    assert!(line0_column1 < line1_column0);\n+}"}]}