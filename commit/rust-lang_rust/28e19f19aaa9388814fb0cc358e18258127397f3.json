{"sha": "28e19f19aaa9388814fb0cc358e18258127397f3", "node_id": "C_kwDOAAsO6NoAKDI4ZTE5ZjE5YWFhOTM4ODgxNGZiMGNjMzU4ZTE4MjU4MTI3Mzk3ZjM", "commit": {"author": {"name": "blyxyas", "email": "blyxyas@gmail.com", "date": "2023-04-05T21:36:40Z"}, "committer": {"name": "blyxyas", "email": "blyxyas@gmail.com", "date": "2023-04-09T11:04:59Z"}, "message": "Add little `is_test_crate` function", "tree": {"sha": "f41ffd83d921e4a4129ced5cfd26c90ecfe1483c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f41ffd83d921e4a4129ced5cfd26c90ecfe1483c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/28e19f19aaa9388814fb0cc358e18258127397f3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEM3aofraJSaf7CtgpTTgXC1ovwzQFAmQym9sACgkQTTgXC1ov\nwzQ8NRAAsG09+RIppYRqwEcpA0QHM6izRDIvJPc1VbirsJf0pp4xNis4CTV/u6Od\nlU8/ZRr3loRwaLjO15lLdNHj2oOhLONGn2oYbh+LYVhXe2EtuJLRqbfiYs6KW7KE\nI3+zDX4/2n/6Po51IOb4pHH2jlwTfAY6oXoGEx8e6w7mPHay+k1KY6OVVLM079uU\n2xTwHVkS1Xpz4gRaQIPMCR6mpmWlSzZYQLFWsfjai7dYzMpg8LBHnk1jNQeWH3WH\noJcU7hSwVoqbeabMN4HH8XQIpN5gOH/ds62wl63VfrDGZpuvNlnT/mAV+JZYDItm\nUUL53bugbVYK8C3xs9oG6rxjkyIWBBu8sEBPN7cXwGvheg9txI4O7wZHUbf9wdc+\nXsQmkRJYqYtjVtTyjvdxy0QlB0lcsY47+706oTJJplweIlV2Z0OHs1aR7tadgve+\nbMgRsV0oxoIScwrciMHgNjXjFBsr+swn3lH8ih2FS4jYZP5i7alo5bLejpvUeHRm\n5OOZG5P34YaFAYRBG8DXgEw0wsS9oGAPKfF1U3d4zCEFwTL2bENaJLK4v20+xPE3\nLZ5BGu6D3W+QeJCw4oTE4LX/1OO0KSuz4cZ94I0vMtd2wpn6kO9hHf1791Vk2q0R\nGlSefEPUyrkcuiJW127aMjkpBA+5AF2tygq943nc3jUVi/FExno=\n=SNmu\n-----END PGP SIGNATURE-----", "payload": "tree f41ffd83d921e4a4129ced5cfd26c90ecfe1483c\nparent 709a97fffec5e09cb5feca894c394ee80c2680ba\nauthor blyxyas <blyxyas@gmail.com> 1680730600 +0200\ncommitter blyxyas <blyxyas@gmail.com> 1681038299 +0200\n\nAdd little `is_test_crate` function\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/28e19f19aaa9388814fb0cc358e18258127397f3", "html_url": "https://github.com/rust-lang/rust/commit/28e19f19aaa9388814fb0cc358e18258127397f3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/28e19f19aaa9388814fb0cc358e18258127397f3/comments", "author": {"login": "blyxyas", "id": 73757586, "node_id": "MDQ6VXNlcjczNzU3NTg2", "avatar_url": "https://avatars.githubusercontent.com/u/73757586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blyxyas", "html_url": "https://github.com/blyxyas", "followers_url": "https://api.github.com/users/blyxyas/followers", "following_url": "https://api.github.com/users/blyxyas/following{/other_user}", "gists_url": "https://api.github.com/users/blyxyas/gists{/gist_id}", "starred_url": "https://api.github.com/users/blyxyas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blyxyas/subscriptions", "organizations_url": "https://api.github.com/users/blyxyas/orgs", "repos_url": "https://api.github.com/users/blyxyas/repos", "events_url": "https://api.github.com/users/blyxyas/events{/privacy}", "received_events_url": "https://api.github.com/users/blyxyas/received_events", "type": "User", "site_admin": false}, "committer": {"login": "blyxyas", "id": 73757586, "node_id": "MDQ6VXNlcjczNzU3NTg2", "avatar_url": "https://avatars.githubusercontent.com/u/73757586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blyxyas", "html_url": "https://github.com/blyxyas", "followers_url": "https://api.github.com/users/blyxyas/followers", "following_url": "https://api.github.com/users/blyxyas/following{/other_user}", "gists_url": "https://api.github.com/users/blyxyas/gists{/gist_id}", "starred_url": "https://api.github.com/users/blyxyas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blyxyas/subscriptions", "organizations_url": "https://api.github.com/users/blyxyas/orgs", "repos_url": "https://api.github.com/users/blyxyas/repos", "events_url": "https://api.github.com/users/blyxyas/events{/privacy}", "received_events_url": "https://api.github.com/users/blyxyas/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "709a97fffec5e09cb5feca894c394ee80c2680ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/709a97fffec5e09cb5feca894c394ee80c2680ba", "html_url": "https://github.com/rust-lang/rust/commit/709a97fffec5e09cb5feca894c394ee80c2680ba"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "340bb158e1791e593e97b7185cb6de22fbc913e2", "filename": "compiler/rustc_session/src/session.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/28e19f19aaa9388814fb0cc358e18258127397f3/compiler%2Frustc_session%2Fsrc%2Fsession.rs", "raw_url": "https://github.com/rust-lang/rust/raw/28e19f19aaa9388814fb0cc358e18258127397f3/compiler%2Frustc_session%2Fsrc%2Fsession.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_session%2Fsrc%2Fsession.rs?ref=28e19f19aaa9388814fb0cc358e18258127397f3", "patch": "@@ -294,6 +294,11 @@ impl Session {\n         self.crate_types.get().unwrap().as_slice()\n     }\n \n+    /// Returns true if the crate is a testing one.\n+    pub fn is_test_crate(&self) -> bool {\n+        self.opts.test\n+    }\n+\n     pub fn needs_crate_hash(&self) -> bool {\n         // Why is the crate hash needed for these configurations?\n         // - debug_assertions: for the \"fingerprint the result\" check in"}]}