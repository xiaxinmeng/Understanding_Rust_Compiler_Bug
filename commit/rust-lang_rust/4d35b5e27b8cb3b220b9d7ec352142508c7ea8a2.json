{"sha": "4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2", "node_id": "C_kwDOAAsO6NoAKDRkMzViNWUyN2I4Y2IzYjIyMGI5ZDdlYzM1MjE0MjUwOGM3ZWE4YTI", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-04-19T17:24:44Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-04-19T17:24:44Z"}, "message": "Auto merge of #10668 - xFrednet:changelog-1-69, r=flip1995\n\nChangelog for Rust 1.69 :cherry_blossom:\n\nRoses are blue,\nViolets are red,\nSomething is wrong,\nWe still commit!\n\n---\n\nchangelog: none", "tree": {"sha": "9d022b956bbd16f8218c4c985707ee211628d253", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9d022b956bbd16f8218c4c985707ee211628d253"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2", "html_url": "https://github.com/rust-lang/rust/commit/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f1a552ccec9b5cc648162220b38cb3c552800909", "url": "https://api.github.com/repos/rust-lang/rust/commits/f1a552ccec9b5cc648162220b38cb3c552800909", "html_url": "https://github.com/rust-lang/rust/commit/f1a552ccec9b5cc648162220b38cb3c552800909"}, {"sha": "6ce346c942ceba67d1b609dc297f061cff5f1041", "url": "https://api.github.com/repos/rust-lang/rust/commits/6ce346c942ceba67d1b609dc297f061cff5f1041", "html_url": "https://github.com/rust-lang/rust/commit/6ce346c942ceba67d1b609dc297f061cff5f1041"}], "stats": {"total": 129, "additions": 122, "deletions": 7}, "files": [{"sha": "10dd28a8f6af2c4d6e86a61e5da06efcd84079ee", "filename": "CHANGELOG.md", "status": "modified", "additions": 117, "deletions": 2, "changes": 119, "blob_url": "https://github.com/rust-lang/rust/blob/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2", "patch": "@@ -6,11 +6,126 @@ document.\n \n ## Unreleased / Beta / In Rust Nightly\n \n-[7f27e2e7...master](https://github.com/rust-lang/rust-clippy/compare/7f27e2e7...master)\n+[149392b0...master](https://github.com/rust-lang/rust-clippy/compare/149392b0...master)\n+\n+## Rust 1.69\n+\n+Current stable, released 2023-04-20\n+\n+[7f27e2e7...149392b0](https://github.com/rust-lang/rust-clippy/compare/7f27e2e7...149392b0)\n+\n+### New Lints\n+\n+* [`no_mangle_with_rust_abi`]\n+  [#10369](https://github.com/rust-lang/rust-clippy/pull/10369)\n+* [`significant_drop_tightening`]\n+  [#10163](https://github.com/rust-lang/rust-clippy/pull/10163)\n+* [`suspicious_command_arg_space`]\n+  [#10317](https://github.com/rust-lang/rust-clippy/pull/10317)\n+* [`let_underscore_untyped`]\n+  [#10356](https://github.com/rust-lang/rust-clippy/pull/10356)\n+* [`question_mark_used`]\n+  [#10342](https://github.com/rust-lang/rust-clippy/pull/10342)\n+* [`extra_unused_type_parameters`]\n+  [#10028](https://github.com/rust-lang/rust-clippy/pull/10028)\n+* [`impl_trait_in_params`]\n+  [10197](https://github.com/rust-lang/rust-clippy/pull/10197)\n+* [`transmute_int_to_non_zero`]\n+  [#10360](https://github.com/rust-lang/rust-clippy/pull/10360)\n+* [`multiple_unsafe_ops_per_block`]\n+  [#10206](https://github.com/rust-lang/rust-clippy/pull/10206)\n+\n+### Moves and Deprecations\n+\n+* Moved [`uninlined_format_args`] to `pedantic` (Now allow-by-default)\n+  [#10265](https://github.com/rust-lang/rust-clippy/pull/10265)\n+* Moved [`unchecked_duration_subtraction`] to `pedantic` (Now allow-by-default)\n+  [#10194](https://github.com/rust-lang/rust-clippy/pull/10194)\n+\n+### Enhancements\n+\n+* [`arithmetic_side_effects`]: No longer lints, if safe constant values are used.\n+  [#10310](https://github.com/rust-lang/rust-clippy/pull/10310)\n+* [`needless_lifetimes`]: Now works in local macros\n+  [#10257](https://github.com/rust-lang/rust-clippy/pull/10257)\n+* [`unused_io_amount`]: Now detects usages of `is_ok` and `is_err`\n+  [#10225](https://github.com/rust-lang/rust-clippy/pull/10225)\n+* [`missing_docs_in_private_items`]: Added new configuration `missing-docs-in-crate-items` to lint\n+  on items visible within the current crate. For example, `pub(crate)` items.\n+  [#10303](https://github.com/rust-lang/rust-clippy/pull/10303)\n+* [`almost_swapped`]: Now detects almost swaps using `let` statements\n+  [#10177](https://github.com/rust-lang/rust-clippy/pull/10177)\n+* [`wildcard_enum_match_arm`]: Now lints missing private variants, for local enums\n+  [#10250](https://github.com/rust-lang/rust-clippy/pull/10250)\n+\n+### False Positive Fixes\n+\n+* [`explicit_auto_deref`]: Now considers projections, when determining if auto deref is applicable\n+  [#10386](https://github.com/rust-lang/rust-clippy/pull/10386)\n+* [`manual_let_else`]: Now considers side effects of branches, before linting \n+  [#10336](https://github.com/rust-lang/rust-clippy/pull/10336)\n+* [`uninlined_format_args`]: No longer lints for arguments with generic parameters\n+  [#10343](https://github.com/rust-lang/rust-clippy/pull/10343)\n+* [`needless_lifetimes`]: No longer lints signatures in macros, if the lifetime is a metavariable\n+  [#10380](https://github.com/rust-lang/rust-clippy/pull/10380)\n+* [`len_without_is_empty`]: No longer lints, if `len` as a non-default signature\n+  [#10255](https://github.com/rust-lang/rust-clippy/pull/10255)\n+* [`unusual_byte_groupings`]: Relaxed the required restrictions for specific sizes, to reduce false\n+  positives\n+  [#10353](https://github.com/rust-lang/rust-clippy/pull/10353)\n+* [`manual_let_else`]: No longer lints `if-else` blocks if they can divergent\n+  [#10332](https://github.com/rust-lang/rust-clippy/pull/10332)\n+* [`expect_used`], [`unwrap_used`], [`dbg_macro`], [`print_stdout`], [`print_stderr`]: No longer lint\n+  in test functions, if `allow-expect-in-tests` is set\n+  [#10391](https://github.com/rust-lang/rust-clippy/pull/10391)\n+* [`unnecessary_safety_comment`]: No longer lints code inside macros\n+  [#10106](https://github.com/rust-lang/rust-clippy/pull/10106)\n+* [`never_loop`]: No longer lints, for statements following break statements for outer blocks.\n+  [#10311](https://github.com/rust-lang/rust-clippy/pull/10311)\n+\n+### Suggestion Fixes/Improvements\n+\n+* [`box_default`]: The suggestion now includes the type for trait objects, when needed\n+  [#10382](https://github.com/rust-lang/rust-clippy/pull/10382)\n+* [`cast_possible_truncation`]: Now suggests using `try_from` or allowing the lint\n+  [#10038](https://github.com/rust-lang/rust-clippy/pull/10038)\n+* [`invalid_regex`]: Regex errors for non-literals or regular strings containing escape sequences will\n+  now show the complete error\n+  [#10231](https://github.com/rust-lang/rust-clippy/pull/10231)\n+* [`transmutes_expressible_as_ptr_casts`]: The suggestion now works, if the base type is borrowed\n+  [#10193](https://github.com/rust-lang/rust-clippy/pull/10193)\n+* [`needless_return`]: Now removes all semicolons on the same line\n+  [#10187](https://github.com/rust-lang/rust-clippy/pull/10187)\n+* [`suspicious_to_owned`]: The suggestion now shows all options clearly\n+  [#10295](https://github.com/rust-lang/rust-clippy/pull/10295)\n+* [`bytes_nth`]: Now suggests the correct replacement based on the context\n+  [#10361](https://github.com/rust-lang/rust-clippy/pull/10361)\n+* [`bool_assert_comparison`]: The suggestion is now machine applicable\n+  [#10218](https://github.com/rust-lang/rust-clippy/pull/10218)\n+* [`cast_possible_truncation`]: Corrected the lint name in the help message\n+  [#10330](https://github.com/rust-lang/rust-clippy/pull/10330)\n+* [`needless_return`]: The suggestion now works on if sequences\n+  [#10345](https://github.com/rust-lang/rust-clippy/pull/10345)\n+* [`needless_lifetimes`]: The suggestion is now machine applicable\n+  [#10222](https://github.com/rust-lang/rust-clippy/pull/10222)\n+* [`map_entry`]: The suggestion no longer expands macros\n+  [#10346](https://github.com/rust-lang/rust-clippy/pull/10346)\n+\n+### ICE Fixes\n+\n+* [`needless_pass_by_value`]: Fixed an ICE, caused by how late bounds were handled\n+  [#10328](https://github.com/rust-lang/rust-clippy/pull/10328)\n+* [`needless_borrow`]: No longer panics on ambiguous projections\n+  [#10403](https://github.com/rust-lang/rust-clippy/pull/10403)\n+\n+### Documentation Improvements\n+\n+* All configurations are now documented in the Clippy Book\n+  [#10199](https://github.com/rust-lang/rust-clippy/pull/10199)\n \n ## Rust 1.68\n \n-Current stable, released 2023-03-09\n+Released 2023-03-09\n \n [d822110d...7f27e2e7](https://github.com/rust-lang/rust-clippy/compare/d822110d...7f27e2e7)\n "}, {"sha": "ac2d253fe8340007880cc53a1cc283994ddf3c72", "filename": "clippy_lints/src/functions/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/clippy_lints%2Fsrc%2Ffunctions%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/clippy_lints%2Fsrc%2Ffunctions%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ffunctions%2Fmod.rs?ref=4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2", "patch": "@@ -348,7 +348,7 @@ declare_clippy_lint! {\n     /// \t// [...]\n     /// }\n     /// ```\n-    #[clippy::version = \"1.68.0\"]\n+    #[clippy::version = \"1.69.0\"]\n     pub IMPL_TRAIT_IN_PARAMS,\n     restriction,\n     \"`impl Trait` is used in the function's parameters\""}, {"sha": "9cafbc2e5f5a6d048c2672e98ee8e868ed4257a8", "filename": "clippy_lints/src/methods/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs?ref=4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2", "patch": "@@ -3185,7 +3185,7 @@ declare_clippy_lint! {\n     /// ```rust\n     /// std::process::Command::new(\"echo\").args([\"-n\", \"hello\"]).spawn().unwrap();\n     /// ```\n-    #[clippy::version = \"1.67.0\"]\n+    #[clippy::version = \"1.69.0\"]\n     pub SUSPICIOUS_COMMAND_ARG_SPACE,\n     suspicious,\n     \"single command line argument that looks like it should be multiple arguments\""}, {"sha": "2abdfacd27634297b81caf66da2d10a80cb5bad2", "filename": "clippy_lints/src/multiple_unsafe_ops_per_block.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/clippy_lints%2Fsrc%2Fmultiple_unsafe_ops_per_block.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/clippy_lints%2Fsrc%2Fmultiple_unsafe_ops_per_block.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmultiple_unsafe_ops_per_block.rs?ref=4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2", "patch": "@@ -59,7 +59,7 @@ declare_clippy_lint! {\n     ///     unsafe { char::from_u32_unchecked(int_value) }\n     /// }\n     /// ```\n-    #[clippy::version = \"1.68.0\"]\n+    #[clippy::version = \"1.69.0\"]\n     pub MULTIPLE_UNSAFE_OPS_PER_BLOCK,\n     restriction,\n     \"more than one unsafe operation per `unsafe` block\""}, {"sha": "ff66b8a0095316c52bfbef26064bb98437f22526", "filename": "clippy_lints/src/question_mark_used.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/clippy_lints%2Fsrc%2Fquestion_mark_used.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/clippy_lints%2Fsrc%2Fquestion_mark_used.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fquestion_mark_used.rs?ref=4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2", "patch": "@@ -24,7 +24,7 @@ declare_clippy_lint! {\n     /// ```ignore\n     /// utility_macro!(expr);\n     /// ```\n-    #[clippy::version = \"pre 1.29.0\"]\n+    #[clippy::version = \"1.69.0\"]\n     pub QUESTION_MARK_USED,\n     restriction,\n     \"complains if the question mark operator is used\""}, {"sha": "003c5e7d1510346f5be9b148c3712021f3b720df", "filename": "clippy_lints/src/significant_drop_tightening.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/clippy_lints%2Fsrc%2Fsignificant_drop_tightening.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2/clippy_lints%2Fsrc%2Fsignificant_drop_tightening.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fsignificant_drop_tightening.rs?ref=4d35b5e27b8cb3b220b9d7ec352142508c7ea8a2", "patch": "@@ -46,7 +46,7 @@ declare_clippy_lint! {\n     ///     do_heavy_computation_that_takes_time(owned_rslt);\n     /// }\n     /// ```\n-    #[clippy::version = \"1.67.0\"]\n+    #[clippy::version = \"1.69.0\"]\n     pub SIGNIFICANT_DROP_TIGHTENING,\n     nursery,\n     \"Searches for elements marked with `#[clippy::has_significant_drop]` that could be early dropped but are in fact dropped at the end of their scopes\""}]}