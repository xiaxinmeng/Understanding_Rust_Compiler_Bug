{"sha": "3790aa3d5d14ef79b27776767985716844861f33", "node_id": "C_kwDOAAsO6NoAKDM3OTBhYTNkNWQxNGVmNzliMjc3NzY3Njc5ODU3MTY4NDQ4NjFmMzM", "commit": {"author": {"name": "hrxi", "email": "hrrrxi@gmail.com", "date": "2022-11-10T18:42:20Z"}, "committer": {"name": "hrxi", "email": "hrrrxi@gmail.com", "date": "2022-11-10T18:42:20Z"}, "message": "Make `bool_to_int_with_if` a pedantic lint\n\nIn all the cases I've observed, it did not make the code clearer. Using\nbools as integer is frowned upon in some languages, in others it's\nsimply not possible.\n\nYou can find comments on the original pull request #8131 that agree with\nthis point of view.", "tree": {"sha": "c3c2dfd68985f61030658ed62c5b99fd4075c335", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c3c2dfd68985f61030658ed62c5b99fd4075c335"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3790aa3d5d14ef79b27776767985716844861f33", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3790aa3d5d14ef79b27776767985716844861f33", "html_url": "https://github.com/rust-lang/rust/commit/3790aa3d5d14ef79b27776767985716844861f33", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3790aa3d5d14ef79b27776767985716844861f33/comments", "author": {"login": "hrxi", "id": 24882852, "node_id": "MDQ6VXNlcjI0ODgyODUy", "avatar_url": "https://avatars.githubusercontent.com/u/24882852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hrxi", "html_url": "https://github.com/hrxi", "followers_url": "https://api.github.com/users/hrxi/followers", "following_url": "https://api.github.com/users/hrxi/following{/other_user}", "gists_url": "https://api.github.com/users/hrxi/gists{/gist_id}", "starred_url": "https://api.github.com/users/hrxi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hrxi/subscriptions", "organizations_url": "https://api.github.com/users/hrxi/orgs", "repos_url": "https://api.github.com/users/hrxi/repos", "events_url": "https://api.github.com/users/hrxi/events{/privacy}", "received_events_url": "https://api.github.com/users/hrxi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hrxi", "id": 24882852, "node_id": "MDQ6VXNlcjI0ODgyODUy", "avatar_url": "https://avatars.githubusercontent.com/u/24882852?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hrxi", "html_url": "https://github.com/hrxi", "followers_url": "https://api.github.com/users/hrxi/followers", "following_url": "https://api.github.com/users/hrxi/following{/other_user}", "gists_url": "https://api.github.com/users/hrxi/gists{/gist_id}", "starred_url": "https://api.github.com/users/hrxi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hrxi/subscriptions", "organizations_url": "https://api.github.com/users/hrxi/orgs", "repos_url": "https://api.github.com/users/hrxi/repos", "events_url": "https://api.github.com/users/hrxi/events{/privacy}", "received_events_url": "https://api.github.com/users/hrxi/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4f1698db60e309884e9a7ccdc85e5dad7b84a28a", "url": "https://api.github.com/repos/rust-lang/rust/commits/4f1698db60e309884e9a7ccdc85e5dad7b84a28a", "html_url": "https://github.com/rust-lang/rust/commit/4f1698db60e309884e9a7ccdc85e5dad7b84a28a"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "bdb3a011602729b5119024893cda47203588c74e", "filename": "clippy_lints/src/bool_to_int_with_if.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3790aa3d5d14ef79b27776767985716844861f33/clippy_lints%2Fsrc%2Fbool_to_int_with_if.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3790aa3d5d14ef79b27776767985716844861f33/clippy_lints%2Fsrc%2Fbool_to_int_with_if.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fbool_to_int_with_if.rs?ref=3790aa3d5d14ef79b27776767985716844861f33", "patch": "@@ -13,7 +13,7 @@ declare_clippy_lint! {\n     /// this lint suggests using a `from()` function or an `as` coercion.\n     ///\n     /// ### Why is this bad?\n-    /// Coercion or `from()` is idiomatic way to convert bool to a number.\n+    /// Coercion or `from()` is another way to convert bool to a number.\n     /// Both methods are guaranteed to return 1 for true, and 0 for false.\n     ///\n     /// See https://doc.rust-lang.org/std/primitive.bool.html#impl-From%3Cbool%3E\n@@ -39,7 +39,7 @@ declare_clippy_lint! {\n     /// ```\n     #[clippy::version = \"1.65.0\"]\n     pub BOOL_TO_INT_WITH_IF,\n-    style,\n+    pedantic,\n     \"using if to convert bool to int\"\n }\n declare_lint_pass!(BoolToIntWithIf => [BOOL_TO_INT_WITH_IF]);"}]}