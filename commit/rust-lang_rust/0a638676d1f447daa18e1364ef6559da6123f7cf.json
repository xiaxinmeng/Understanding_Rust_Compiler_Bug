{"sha": "0a638676d1f447daa18e1364ef6559da6123f7cf", "node_id": "C_kwDOAAsO6NoAKDBhNjM4Njc2ZDFmNDQ3ZGFhMThlMTM2NGVmNjU1OWRhNjEyM2Y3Y2Y", "commit": {"author": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2023-04-11T17:35:43Z"}, "committer": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2023-04-11T17:35:43Z"}, "message": "Fix faulty variable extraction", "tree": {"sha": "48503b03cdcbae5cbb8b3353915c4b0ce3fcbf5c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/48503b03cdcbae5cbb8b3353915c4b0ce3fcbf5c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0a638676d1f447daa18e1364ef6559da6123f7cf", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEkSbsQIURluxz4rzf4laYqTBYYXEFAmQ1m0IACgkQ4laYqTBY\nYXHh8g//XVf0gvzMTZlyPGF7JSsHEmqgkrMuzeLhHrpPQPYuVzGGauTIYLV1rFcU\ne1zEDfAMUdieFVm/v9lB7FYinxeIWfKzUtnyhKo0V0pXGjMnBMVstAY0cQ+xcS/A\n6tiO+mz7u4RAmtZD9H+nk+cHF+IPIOIOsK/SMWXBYwgJZosHWLf4ZJcRI0tonWlu\n/9EFD9LCA5WNx1d/Tfui9H7fgIRaFnQ9PQbyel8Ma2gCBiA4jcY/ydRA6mBe55nt\nutzcrG6VG/hL6IDQE3US++inW+D+sjugics1CHUaHwMeX7ngE5OpyvQcNPriwpdd\nntKXkPO0GJ7uzBBdzPQWMMhjdD/rslXGCN6FqundMTonhlwKIVjRW5bTX2D/+pJv\nF8E32IkQLzF6xoZffjWNT6bk/B2sj+Euh/O5Op01+8qbJLfHHW9c+3Q7gT0GOhc5\n3foMI2Uxok+b3g3T4TPpZhF00ffTqV4Y0MHbo6CozYOXa8dmhJv57AxquSQp1ULX\nKePnBsXL28oqLek05/Q/8LL1Q3B/sRrrE6bX8OI0bkNNJmM1lzunaHsWI4sGaTFP\nIUMBPbwwL/oHsTmNpLklSG4kPMTbtaB+cBqcyqR9zLfnqe7lXBzsxknpHuLOpIa/\nuxHu9ClKg0ZoEO2ckaBHEn6RIVvZVlESseOnoRj5NAcIuPXaCGA=\n=6q+8\n-----END PGP SIGNATURE-----", "payload": "tree 48503b03cdcbae5cbb8b3353915c4b0ce3fcbf5c\nparent e6e48728da1c4500304e022d6dfe29bb5afb0699\nauthor Ryo Yoshida <low.ryoshida@gmail.com> 1681234543 +0900\ncommitter Ryo Yoshida <low.ryoshida@gmail.com> 1681234543 +0900\n\nFix faulty variable extraction\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0a638676d1f447daa18e1364ef6559da6123f7cf", "html_url": "https://github.com/rust-lang/rust/commit/0a638676d1f447daa18e1364ef6559da6123f7cf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0a638676d1f447daa18e1364ef6559da6123f7cf/comments", "author": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e6e48728da1c4500304e022d6dfe29bb5afb0699", "url": "https://api.github.com/repos/rust-lang/rust/commits/e6e48728da1c4500304e022d6dfe29bb5afb0699", "html_url": "https://github.com/rust-lang/rust/commit/e6e48728da1c4500304e022d6dfe29bb5afb0699"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "49f97d7a4ce88802cd40a5b7ec0cff734362918e", "filename": "crates/ide-completion/src/completions/flyimport.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/0a638676d1f447daa18e1364ef6559da6123f7cf/crates%2Fide-completion%2Fsrc%2Fcompletions%2Fflyimport.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a638676d1f447daa18e1364ef6559da6123f7cf/crates%2Fide-completion%2Fsrc%2Fcompletions%2Fflyimport.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide-completion%2Fsrc%2Fcompletions%2Fflyimport.rs?ref=0a638676d1f447daa18e1364ef6559da6123f7cf", "patch": "@@ -267,10 +267,10 @@ fn import_on_the_fly(\n             .into_iter()\n             .filter(ns_filter)\n             .filter(|import| {\n-                let item = &import.item_to_import;\n-                !ctx.is_item_hidden(item)\n-                    && !ctx.is_item_hidden(item)\n-                    && ctx.check_stability(item.attrs(ctx.db).as_deref())\n+                let original_item = &import.original_item;\n+                !ctx.is_item_hidden(&import.item_to_import)\n+                    && !ctx.is_item_hidden(original_item)\n+                    && ctx.check_stability(original_item.attrs(ctx.db).as_deref())\n             })\n             .sorted_by_key(|located_import| {\n                 compute_fuzzy_completion_order_key(\n@@ -317,10 +317,10 @@ fn import_on_the_fly_pat_(\n             .into_iter()\n             .filter(ns_filter)\n             .filter(|import| {\n-                let item = &import.item_to_import;\n-                !ctx.is_item_hidden(item)\n-                    && !ctx.is_item_hidden(item)\n-                    && ctx.check_stability(item.attrs(ctx.db).as_deref())\n+                let original_item = &import.original_item;\n+                !ctx.is_item_hidden(&import.item_to_import)\n+                    && !ctx.is_item_hidden(original_item)\n+                    && ctx.check_stability(original_item.attrs(ctx.db).as_deref())\n             })\n             .sorted_by_key(|located_import| {\n                 compute_fuzzy_completion_order_key("}]}