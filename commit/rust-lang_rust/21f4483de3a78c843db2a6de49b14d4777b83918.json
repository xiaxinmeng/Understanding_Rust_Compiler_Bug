{"sha": "21f4483de3a78c843db2a6de49b14d4777b83918", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIxZjQ0ODNkZTNhNzhjODQzZGIyYTZkZTQ5YjE0ZDQ3NzdiODM5MTg=", "commit": {"author": {"name": "Kevin Yap", "email": "me@kevinyap.ca", "date": "2015-01-18T22:52:59Z"}, "committer": {"name": "Kevin Yap", "email": "me@kevinyap.ca", "date": "2015-01-18T22:52:59Z"}, "message": "Use 'in' instead of 'find()' in tidy.py\n\n'x in y' is more Pythonic and faster than 'y.find(x) != -1'.", "tree": {"sha": "da5d391732654600c263b5901398af8eb674efcd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/da5d391732654600c263b5901398af8eb674efcd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/21f4483de3a78c843db2a6de49b14d4777b83918", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/21f4483de3a78c843db2a6de49b14d4777b83918", "html_url": "https://github.com/rust-lang/rust/commit/21f4483de3a78c843db2a6de49b14d4777b83918", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/21f4483de3a78c843db2a6de49b14d4777b83918/comments", "author": {"login": "iKevinY", "id": 2434728, "node_id": "MDQ6VXNlcjI0MzQ3Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/2434728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iKevinY", "html_url": "https://github.com/iKevinY", "followers_url": "https://api.github.com/users/iKevinY/followers", "following_url": "https://api.github.com/users/iKevinY/following{/other_user}", "gists_url": "https://api.github.com/users/iKevinY/gists{/gist_id}", "starred_url": "https://api.github.com/users/iKevinY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iKevinY/subscriptions", "organizations_url": "https://api.github.com/users/iKevinY/orgs", "repos_url": "https://api.github.com/users/iKevinY/repos", "events_url": "https://api.github.com/users/iKevinY/events{/privacy}", "received_events_url": "https://api.github.com/users/iKevinY/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iKevinY", "id": 2434728, "node_id": "MDQ6VXNlcjI0MzQ3Mjg=", "avatar_url": "https://avatars.githubusercontent.com/u/2434728?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iKevinY", "html_url": "https://github.com/iKevinY", "followers_url": "https://api.github.com/users/iKevinY/followers", "following_url": "https://api.github.com/users/iKevinY/following{/other_user}", "gists_url": "https://api.github.com/users/iKevinY/gists{/gist_id}", "starred_url": "https://api.github.com/users/iKevinY/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iKevinY/subscriptions", "organizations_url": "https://api.github.com/users/iKevinY/orgs", "repos_url": "https://api.github.com/users/iKevinY/repos", "events_url": "https://api.github.com/users/iKevinY/events{/privacy}", "received_events_url": "https://api.github.com/users/iKevinY/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dcaeb6aa23ecba2dc2af870668a9239136d20fa3", "url": "https://api.github.com/repos/rust-lang/rust/commits/dcaeb6aa23ecba2dc2af870668a9239136d20fa3", "html_url": "https://github.com/rust-lang/rust/commit/dcaeb6aa23ecba2dc2af870668a9239136d20fa3"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "68b276559c5c47e4818d3f1d2ebd611989b53dcb", "filename": "src/etc/tidy.py", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/21f4483de3a78c843db2a6de49b14d4777b83918/src%2Fetc%2Ftidy.py", "raw_url": "https://github.com/rust-lang/rust/raw/21f4483de3a78c843db2a6de49b14d4777b83918/src%2Fetc%2Ftidy.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Ftidy.py?ref=21f4483de3a78c843db2a6de49b14d4777b83918", "patch": "@@ -58,14 +58,14 @@ def do_license_check(name, contents):\n     for line in fileinput.input(file_names,\n                                 openhook=fileinput.hook_encoded(\"utf-8\")):\n \n-        if fileinput.filename().find(\"tidy.py\") == -1:\n-            if line.find(cr_flag) != -1:\n+        if \"tidy.py\" not in fileinput.filename():\n+            if cr_flag in line:\n                 check_cr = False\n-            if line.find(tab_flag) != -1:\n+            if tab_flag in line:\n                 check_tab = False\n-            if line.find(linelength_flag) != -1:\n+            if linelength_flag in line:\n                 check_linelength = False\n-            if line.find(\"TODO\") != -1:\n+            if \"TODO\" in line:\n                 report_err(\"TODO is deprecated; use FIXME\")\n             match = re.match(r'^.*/(\\*|/!?)\\s*XXX', line)\n             if match:\n@@ -86,10 +86,10 @@ def do_license_check(name, contents):\n                 if \"SNAP\" in line:\n                     report_warn(\"unmatched SNAP line: \" + line)\n \n-        if check_tab and (line.find('\\t') != -1 and\n-            fileinput.filename().find(\"Makefile\") == -1):\n+        if check_tab and ('\\t' in line and\n+            \"Makefile\" not in fileinput.filename()):\n             report_err(\"tab character\")\n-        if check_cr and not autocrlf and line.find('\\r') != -1:\n+        if check_cr and not autocrlf and '\\r' in line:\n             report_err(\"CR character\")\n         if line.endswith(\" \\n\") or line.endswith(\"\\t\\n\"):\n             report_err(\"trailing whitespace\")"}]}