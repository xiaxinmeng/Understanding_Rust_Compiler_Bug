{"sha": "0918348eaf27f20bb998942533f38c99d99155e7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA5MTgzNDhlYWYyN2YyMGJiOTk4OTQyNTMzZjM4Yzk5ZDk5MTU1ZTc=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-05-20T15:56:57Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-05-20T15:56:57Z"}, "message": "Rollup merge of #85507 - GuillaumeGomez:extend-escape-key-check, r=jsha\n\nExtend escape key check\n\nSince #84462 has been merged, we can now extend the `escape-key` test.\n\nr? `@jsha`", "tree": {"sha": "80e49e9cf39164e51249b0576e3599570e584e9a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/80e49e9cf39164e51249b0576e3599570e584e9a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0918348eaf27f20bb998942533f38c99d99155e7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgpobJCRBK7hj4Ov3rIwAAcl8IAFF+Us/dkodo4oqW1SC4SnLS\nEDv944RYoTker3YhRWHk2v3umULZ1j1mxUphCwidhmPLo2zhrj/1EMO6KEmjpFUP\n+Ak927tDU8jvmqc+NCil6Y3FpTxDNcJS3JdmLcMBsI2v7l3ollMTMoqOd3SYrYle\nV2CH7IANPux01voEIGrt3D57goCk0ehP5gxLgInsYvsN4SoC19LfDWEuubK/gWIT\nkIRKaDrE31OJzqCGQOBizItr07zGtrSJGCiQSwu38c5JGt2xmkE2GJLBvNqC7Myg\nbli79BNhtXTHRa2Ha4/RAdFy+hbHcTnOQMduH0hUnRsY/Sdkie5T5JP/sn3G/W4=\n=xBgE\n-----END PGP SIGNATURE-----\n", "payload": "tree 80e49e9cf39164e51249b0576e3599570e584e9a\nparent 67d5435695fa2a62d7a075c50b42ea83a5d19f0d\nparent 792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1621526217 +0200\ncommitter GitHub <noreply@github.com> 1621526217 +0200\n\nRollup merge of #85507 - GuillaumeGomez:extend-escape-key-check, r=jsha\n\nExtend escape key check\n\nSince #84462 has been merged, we can now extend the `escape-key` test.\n\nr? `@jsha`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0918348eaf27f20bb998942533f38c99d99155e7", "html_url": "https://github.com/rust-lang/rust/commit/0918348eaf27f20bb998942533f38c99d99155e7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0918348eaf27f20bb998942533f38c99d99155e7/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "67d5435695fa2a62d7a075c50b42ea83a5d19f0d", "url": "https://api.github.com/repos/rust-lang/rust/commits/67d5435695fa2a62d7a075c50b42ea83a5d19f0d", "html_url": "https://github.com/rust-lang/rust/commit/67d5435695fa2a62d7a075c50b42ea83a5d19f0d"}, {"sha": "792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a", "url": "https://api.github.com/repos/rust-lang/rust/commits/792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a", "html_url": "https://github.com/rust-lang/rust/commit/792d4cf21f1f3ee5e42ee48b7fb3bdd5abdfbb0a"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "ec034f52c972c07be40e7b0f4159da6930242fd3", "filename": "src/test/rustdoc-gui/escape-key.goml", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/0918348eaf27f20bb998942533f38c99d99155e7/src%2Ftest%2Frustdoc-gui%2Fescape-key.goml", "raw_url": "https://github.com/rust-lang/rust/raw/0918348eaf27f20bb998942533f38c99d99155e7/src%2Ftest%2Frustdoc-gui%2Fescape-key.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fescape-key.goml?ref=0918348eaf27f20bb998942533f38c99d99155e7", "patch": "@@ -22,6 +22,13 @@ assert: (\"#help\", \"class\", \"hidden\")\n assert: (\"#search\", \"class\", \"content\")\n assert: (\"#main\", \"class\", \"content hidden\")\n \n-// FIXME: Once https://github.com/rust-lang/rust/pull/84462 is merged, add check to ensure\n-// that Escape hides the search results when a result is focused.\n-// press-key: \"ArrowDown\"\n+// Check that Escape hides the search results when a search result is focused.\n+focus: \".search-input\"\n+assert: \".search-input:focus\"\n+press-key: \"ArrowDown\"\n+assert-false: \".search-input:focus\"\n+assert: \"#results a:focus\"\n+press-key: \"Escape\"\n+assert: (\"#help\", \"class\", \"hidden\")\n+assert: (\"#search\", \"class\", \"content hidden\")\n+assert: (\"#main\", \"class\", \"content\")"}]}