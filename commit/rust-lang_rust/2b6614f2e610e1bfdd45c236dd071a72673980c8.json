{"sha": "2b6614f2e610e1bfdd45c236dd071a72673980c8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJiNjYxNGYyZTYxMGUxYmZkZDQ1YzIzNmRkMDcxYTcyNjczOTgwYzg=", "commit": {"author": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-03-15T18:14:03Z"}, "committer": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2013-03-15T18:14:03Z"}, "message": "treemap: use each_mut instead of mutate", "tree": {"sha": "c8fb043b03c0a3ecac261e9a2518ece8d2bf015e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c8fb043b03c0a3ecac261e9a2518ece8d2bf015e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2b6614f2e610e1bfdd45c236dd071a72673980c8", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2b6614f2e610e1bfdd45c236dd071a72673980c8", "html_url": "https://github.com/rust-lang/rust/commit/2b6614f2e610e1bfdd45c236dd071a72673980c8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2b6614f2e610e1bfdd45c236dd071a72673980c8/comments", "author": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "88278f9c353b36762adbe4f67078f681a756b752", "url": "https://api.github.com/repos/rust-lang/rust/commits/88278f9c353b36762adbe4f67078f681a756b752", "html_url": "https://github.com/rust-lang/rust/commit/88278f9c353b36762adbe4f67078f681a756b752"}], "stats": {"total": 13, "additions": 6, "deletions": 7}, "files": [{"sha": "8e204014975b50f3fb26fc32343e0bdc761d5a1b", "filename": "src/libstd/treemap.rs", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/2b6614f2e610e1bfdd45c236dd071a72673980c8/src%2Flibstd%2Ftreemap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2b6614f2e610e1bfdd45c236dd071a72673980c8/src%2Flibstd%2Ftreemap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Ftreemap.rs?ref=2b6614f2e610e1bfdd45c236dd071a72673980c8", "patch": "@@ -636,14 +636,13 @@ fn remove<K: TotalOrd, V>(node: &mut Option<~TreeNode<K, V>>,\n     fn heir_swap<K: TotalOrd, V>(node: &mut ~TreeNode<K, V>,\n                             child: &mut Option<~TreeNode<K, V>>) {\n         // *could* be done without recursion, but it won't borrow check\n-        do child.mutate |mut child| {\n-            if child.right.is_some() {\n-                heir_swap(node, &mut child.right);\n+        for child.each_mut |x| {\n+            if x.right.is_some() {\n+                heir_swap(node, &mut x.right);\n             } else {\n-                node.key <-> child.key;\n-                node.value <-> child.value;\n+                node.key <-> x.key;\n+                node.value <-> x.value;\n             }\n-            child\n         }\n     }\n \n@@ -689,7 +688,7 @@ fn remove<K: TotalOrd, V>(node: &mut Option<~TreeNode<K, V>>,\n                 save.level -= 1;\n \n                 if right_level > save.level {\n-                    do save.right.mutate |mut x| { x.level = save.level; x }\n+                    for save.right.each_mut |x| { x.level = save.level }\n                 }\n \n                 skew(save);"}]}