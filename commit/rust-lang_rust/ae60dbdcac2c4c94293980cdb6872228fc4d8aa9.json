{"sha": "ae60dbdcac2c4c94293980cdb6872228fc4d8aa9", "node_id": "C_kwDOAAsO6NoAKGFlNjBkYmRjYWMyYzRjOTQyOTM5ODBjZGI2ODcyMjI4ZmM0ZDhhYTk", "commit": {"author": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-07-06T15:36:52Z"}, "committer": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-07-06T15:36:52Z"}, "message": "Use `rtabort!` instead of `process::abort`", "tree": {"sha": "0a42514d5c38d1253261d0e379bb6034da793371", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0a42514d5c38d1253261d0e379bb6034da793371"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ae60dbdcac2c4c94293980cdb6872228fc4d8aa9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE+p/jD6jrzmnSIWJLcTRy8vRWJ94FAmLFrBQACgkQcTRy8vRW\nJ94+Qw/+IFoqGvMGrrEvFwMLOhEzg8f6dNWWd+TSUHRIRVIx+wclfhIX2zLlWghi\nW0AyNfYueeS9LFAxTUGlR74LYweqTPzwQ9AfjUfFrVGSZdkv4w2tOzOA9ILUyurr\nt/Dx9fN1dBtNPCcXVXl7+WbsdWcAcH0DAUXtlm68LKFS+cIYQgW/yV2Onl+p1Hcw\nX0A3ZzU46QJX250VUZxs0sOeIl3QHk2ZVko7JTaU2lGZg6d0kj+QipYCqGBTeIET\nIKcgn5PdRthVh5vSfqziFBoKy8L2eMvGAJsAHbgmxwV4m1YWeC9RtOtxxnzKe00g\n6sxkixOeJSwYDdxmnUpoQIH2aLDcUTiGfnuzJ1PeKRpRsFgJ05gVVJf/1SWeB2gs\n1pkD/kKxwGGHSUsBOs/5XQLelafcEP+Ui0FBJWbWXMDAr82MjDNdjwrdxZS3Yo6W\n/zIGQSukOyvR+6dj+ZnC9gxK9BHmnfyIGA5KocW6Sy6aWU9LpWgwWHKQFjTHxJFb\nxI8AfNYv+Ni00jTanoQepKs/pe54XUxl2qRwpztHUGbgh+/c+rwzSwKO+W9ATlXK\nHUYXfs4kqg2Ph8yoDARtwfC/X1vZi8bQ2lbpmsFgJNIBrSDMWYCJoccBmEjFjvtj\ndp8a9d2CaGEyu9ZAMKXQTagFdQO7c38KroHJWpdlQvvFHVwTGlk=\n=0ayq\n-----END PGP SIGNATURE-----", "payload": "tree 0a42514d5c38d1253261d0e379bb6034da793371\nparent 54f79babae06d3772c067f696e5b12db822ae25f\nauthor Chris Denton <christophersdenton@gmail.com> 1657121812 +0100\ncommitter Chris Denton <christophersdenton@gmail.com> 1657121812 +0100\n\nUse `rtabort!` instead of `process::abort`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ae60dbdcac2c4c94293980cdb6872228fc4d8aa9", "html_url": "https://github.com/rust-lang/rust/commit/ae60dbdcac2c4c94293980cdb6872228fc4d8aa9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ae60dbdcac2c4c94293980cdb6872228fc4d8aa9/comments", "author": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "54f79babae06d3772c067f696e5b12db822ae25f", "url": "https://api.github.com/repos/rust-lang/rust/commits/54f79babae06d3772c067f696e5b12db822ae25f", "html_url": "https://github.com/rust-lang/rust/commit/54f79babae06d3772c067f696e5b12db822ae25f"}], "stats": {"total": 9, "additions": 2, "deletions": 7}, "files": [{"sha": "cea04549d3d90ab981c1875643435569761c1971", "filename": "library/std/src/sys/windows/handle.rs", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/ae60dbdcac2c4c94293980cdb6872228fc4d8aa9/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fhandle.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ae60dbdcac2c4c94293980cdb6872228fc4d8aa9/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fhandle.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fhandle.rs?ref=ae60dbdcac2c4c94293980cdb6872228fc4d8aa9", "patch": "@@ -252,10 +252,7 @@ impl Handle {\n             // If the operation has not completed then abort the process.\n             // Doing otherwise means that the buffer and stack may be written to\n             // after this function returns.\n-            c::STATUS_PENDING => {\n-                eprintln!(\"I/O error: operation failed to complete synchronously\");\n-                crate::process::abort();\n-            }\n+            c::STATUS_PENDING => rtabort!(\"I/O error: operation failed to complete synchronously\"),\n \n             // Return `Ok(0)` when there's nothing more to read.\n             c::STATUS_END_OF_FILE => Ok(0),\n@@ -298,9 +295,7 @@ impl Handle {\n             // If the operation has not completed then abort the process.\n             // Doing otherwise means that the buffer may be read and the stack\n             // written to after this function returns.\n-            c::STATUS_PENDING => {\n-                rtabort!(\"I/O error: operation failed to complete synchronously\");\n-            }\n+            c::STATUS_PENDING => rtabort!(\"I/O error: operation failed to complete synchronously\"),\n \n             // Success!\n             status if c::nt_success(status) => Ok(io_status.Information),"}]}