{"sha": "ab17f445fe999bf7edf22d09b16ac7b7fd1155be", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFiMTdmNDQ1ZmU5OTliZjdlZGYyMmQwOWIxNmFjN2I3ZmQxMTU1YmU=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2014-02-14T08:10:06Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2014-02-15T01:45:54Z"}, "message": "mk: Add NO_MKFILE_DEPS for turning off rebuild from makefile changes", "tree": {"sha": "c1c9e82c2719b17f8c30e85936ca4e3e06dde11a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c1c9e82c2719b17f8c30e85936ca4e3e06dde11a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ab17f445fe999bf7edf22d09b16ac7b7fd1155be", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ab17f445fe999bf7edf22d09b16ac7b7fd1155be", "html_url": "https://github.com/rust-lang/rust/commit/ab17f445fe999bf7edf22d09b16ac7b7fd1155be", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ab17f445fe999bf7edf22d09b16ac7b7fd1155be/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2852fea61e51752a0a7f6c2aeb8fe798a2890c4e", "url": "https://api.github.com/repos/rust-lang/rust/commits/2852fea61e51752a0a7f6c2aeb8fe798a2890c4e", "html_url": "https://github.com/rust-lang/rust/commit/2852fea61e51752a0a7f6c2aeb8fe798a2890c4e"}], "stats": {"total": 5, "additions": 5, "deletions": 0}, "files": [{"sha": "1d828f6ee4c457329e242584412ee0c5696b4420", "filename": "Makefile.in", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ab17f445fe999bf7edf22d09b16ac7b7fd1155be/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/ab17f445fe999bf7edf22d09b16ac7b7fd1155be/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=ab17f445fe999bf7edf22d09b16ac7b7fd1155be", "patch": "@@ -37,6 +37,7 @@\n #                          (may require `CFG_ENABLE_VALGRIND`)\n # * `NO_REBUILD=1` - Don't rebootstrap when testing std\n #                    (and possibly other crates)\n+# * `NO_MKFILE_DEPS=1` - Don rebuild for modified .mk files\n # * `SAVE_TEMPS=1` - Use `--save-temps` flag on all `rustc` invocations\n # * `ASM_COMMENTS=1` - Use `-Z asm-comments`\n # * `TIME_PASSES=1` - Use `-Z time-passes`"}, {"sha": "723f659b7fdabfd2d25488f892a26d7b6cd1670b", "filename": "mk/main.mk", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ab17f445fe999bf7edf22d09b16ac7b7fd1155be/mk%2Fmain.mk", "raw_url": "https://github.com/rust-lang/rust/raw/ab17f445fe999bf7edf22d09b16ac7b7fd1155be/mk%2Fmain.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fmain.mk?ref=ab17f445fe999bf7edf22d09b16ac7b7fd1155be", "patch": "@@ -12,7 +12,11 @@\n # and include all of the .d files in one fell swoop.\n ALL_OBJ_FILES :=\n \n+ifneq ($(NO_MAKEFILE_DEPS),)\n+MKFILE_DEPS :=\n+else\n MKFILE_DEPS := config.stamp $(call rwildcard,$(CFG_SRC_DIR)mk/,*)\n+endif\n NON_BUILD_HOST = $(filter-out $(CFG_BUILD),$(CFG_HOST))\n NON_BUILD_TARGET = $(filter-out $(CFG_BUILD),$(CFG_TARGET))\n "}]}