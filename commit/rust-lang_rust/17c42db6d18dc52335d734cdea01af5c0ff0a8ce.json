{"sha": "17c42db6d18dc52335d734cdea01af5c0ff0a8ce", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE3YzQyZGI2ZDE4ZGM1MjMzNWQ3MzRjZGVhMDFhZjVjMGZmMGE4Y2U=", "commit": {"author": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2014-01-28T14:31:59Z"}, "committer": {"name": "Daniel Micay", "email": "danielmicay@gmail.com", "date": "2014-01-28T14:31:59Z"}, "message": "mk: remove -fno-omit-frame-pointer\n\nThis is still used for Rust code (`Options.NoFramePointerElim = true`).", "tree": {"sha": "f2f07bf572ce23c1bdb561f1d1f070e680204b68", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f2f07bf572ce23c1bdb561f1d1f070e680204b68"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/17c42db6d18dc52335d734cdea01af5c0ff0a8ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/17c42db6d18dc52335d734cdea01af5c0ff0a8ce", "html_url": "https://github.com/rust-lang/rust/commit/17c42db6d18dc52335d734cdea01af5c0ff0a8ce", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/17c42db6d18dc52335d734cdea01af5c0ff0a8ce/comments", "author": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thestinger", "id": 1505226, "node_id": "MDQ6VXNlcjE1MDUyMjY=", "avatar_url": "https://avatars.githubusercontent.com/u/1505226?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thestinger", "html_url": "https://github.com/thestinger", "followers_url": "https://api.github.com/users/thestinger/followers", "following_url": "https://api.github.com/users/thestinger/following{/other_user}", "gists_url": "https://api.github.com/users/thestinger/gists{/gist_id}", "starred_url": "https://api.github.com/users/thestinger/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thestinger/subscriptions", "organizations_url": "https://api.github.com/users/thestinger/orgs", "repos_url": "https://api.github.com/users/thestinger/repos", "events_url": "https://api.github.com/users/thestinger/events{/privacy}", "received_events_url": "https://api.github.com/users/thestinger/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cd8ee786f98352e78d9688948d3d0a325f45bb2d", "url": "https://api.github.com/repos/rust-lang/rust/commits/cd8ee786f98352e78d9688948d3d0a325f45bb2d", "html_url": "https://github.com/rust-lang/rust/commit/cd8ee786f98352e78d9688948d3d0a325f45bb2d"}], "stats": {"total": 7, "additions": 0, "deletions": 7}, "files": [{"sha": "49da1ee24460e879d85a606ce92dc30e5ecbc8b1", "filename": "mk/platform.mk", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/17c42db6d18dc52335d734cdea01af5c0ff0a8ce/mk%2Fplatform.mk", "raw_url": "https://github.com/rust-lang/rust/raw/17c42db6d18dc52335d734cdea01af5c0ff0a8ce/mk%2Fplatform.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fplatform.mk?ref=17c42db6d18dc52335d734cdea01af5c0ff0a8ce", "patch": "@@ -26,11 +26,6 @@ endef\n $(foreach t,$(CFG_TARGET),$(eval $(call DEF_OSTYPE_VAR,$(t))))\n $(foreach t,$(CFG_TARGET),$(info cfg: os for $(t) is $(OSTYPE_$(t))))\n \n-# FIXME: no-omit-frame-pointer is just so that task_start_wrapper\n-# has a frame pointer and the stack walker can understand it. Turning off\n-# frame pointers everywhere is overkill\n-CFG_GCCISH_CFLAGS += -fno-omit-frame-pointer\n-\n # On Darwin, we need to run dsymutil so the debugging information ends\n # up in the right place.  On other platforms, it automatically gets\n # embedded into the executable, so use a no-op command.\n@@ -160,7 +155,6 @@ CFG_DEF_SUFFIX_x86_64-unknown-linux-gnu := .linux.def\n CFG_LLC_FLAGS_x86_64-unknown-linux-gnu :=\n CFG_INSTALL_NAME_x86_64-unknown-linux-gnu =\n CFG_LIBUV_LINK_FLAGS_x86_64-unknown-linux-gnu =\n-CFG_LLVM_BUILD_ENV_x86_64-unknown-linux-gnu=\"CXXFLAGS=-fno-omit-frame-pointer\"\n CFG_EXE_SUFFIX_x86_64-unknown-linux-gnu =\n CFG_WINDOWSY_x86_64-unknown-linux-gnu :=\n CFG_UNIXY_x86_64-unknown-linux-gnu := 1\n@@ -188,7 +182,6 @@ CFG_DEF_SUFFIX_i686-unknown-linux-gnu := .linux.def\n CFG_LLC_FLAGS_i686-unknown-linux-gnu :=\n CFG_INSTALL_NAME_i686-unknown-linux-gnu =\n CFG_LIBUV_LINK_FLAGS_i686-unknown-linux-gnu =\n-CFG_LLVM_BUILD_ENV_i686-unknown-linux-gnu=\"CXXFLAGS=-fno-omit-frame-pointer\"\n CFG_EXE_SUFFIX_i686-unknown-linux-gnu =\n CFG_WINDOWSY_i686-unknown-linux-gnu :=\n CFG_UNIXY_i686-unknown-linux-gnu := 1"}]}