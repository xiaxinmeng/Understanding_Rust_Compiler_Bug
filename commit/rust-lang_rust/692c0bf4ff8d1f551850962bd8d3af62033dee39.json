{"sha": "692c0bf4ff8d1f551850962bd8d3af62033dee39", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY5MmMwYmY0ZmY4ZDFmNTUxODUwOTYyYmQ4ZDNhZjYyMDMzZGVlMzk=", "commit": {"author": {"name": "Joel Galenson", "email": "jgalenson@google.com", "date": "2019-08-13T16:12:06Z"}, "committer": {"name": "Joel Galenson", "email": "jgalenson@google.com", "date": "2019-08-13T16:12:06Z"}, "message": "Do not track the sysroot.\n\nAs suggested by @alexcrichton, the sysroot only loads libraries that\nare themselves tracked.", "tree": {"sha": "096c38b0d50174e7034ae12af03e41909bf9e743", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/096c38b0d50174e7034ae12af03e41909bf9e743"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/692c0bf4ff8d1f551850962bd8d3af62033dee39", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/692c0bf4ff8d1f551850962bd8d3af62033dee39", "html_url": "https://github.com/rust-lang/rust/commit/692c0bf4ff8d1f551850962bd8d3af62033dee39", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/692c0bf4ff8d1f551850962bd8d3af62033dee39/comments", "author": {"login": "jgalenson", "id": 505819, "node_id": "MDQ6VXNlcjUwNTgxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/505819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgalenson", "html_url": "https://github.com/jgalenson", "followers_url": "https://api.github.com/users/jgalenson/followers", "following_url": "https://api.github.com/users/jgalenson/following{/other_user}", "gists_url": "https://api.github.com/users/jgalenson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgalenson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgalenson/subscriptions", "organizations_url": "https://api.github.com/users/jgalenson/orgs", "repos_url": "https://api.github.com/users/jgalenson/repos", "events_url": "https://api.github.com/users/jgalenson/events{/privacy}", "received_events_url": "https://api.github.com/users/jgalenson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jgalenson", "id": 505819, "node_id": "MDQ6VXNlcjUwNTgxOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/505819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jgalenson", "html_url": "https://github.com/jgalenson", "followers_url": "https://api.github.com/users/jgalenson/followers", "following_url": "https://api.github.com/users/jgalenson/following{/other_user}", "gists_url": "https://api.github.com/users/jgalenson/gists{/gist_id}", "starred_url": "https://api.github.com/users/jgalenson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jgalenson/subscriptions", "organizations_url": "https://api.github.com/users/jgalenson/orgs", "repos_url": "https://api.github.com/users/jgalenson/repos", "events_url": "https://api.github.com/users/jgalenson/events{/privacy}", "received_events_url": "https://api.github.com/users/jgalenson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e9e45c59a7a5a1ea500fd667a56c0d0ab101365a", "url": "https://api.github.com/repos/rust-lang/rust/commits/e9e45c59a7a5a1ea500fd667a56c0d0ab101365a", "html_url": "https://github.com/rust-lang/rust/commit/e9e45c59a7a5a1ea500fd667a56c0d0ab101365a"}], "stats": {"total": 9, "additions": 1, "deletions": 8}, "files": [{"sha": "8e3b910e0da3a89a0b8c8c56baa192f4adbc4d63", "filename": "src/librustc/session/config.rs", "status": "modified", "additions": 1, "deletions": 8, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/692c0bf4ff8d1f551850962bd8d3af62033dee39/src%2Flibrustc%2Fsession%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/692c0bf4ff8d1f551850962bd8d3af62033dee39/src%2Flibrustc%2Fsession%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fconfig.rs?ref=692c0bf4ff8d1f551850962bd8d3af62033dee39", "patch": "@@ -396,7 +396,6 @@ top_level_options!(\n         search_paths: Vec<SearchPath> [UNTRACKED],\n         libs: Vec<(String, Option<String>, Option<cstore::NativeLibraryKind>)> [TRACKED],\n         maybe_sysroot: Option<PathBuf> [UNTRACKED],\n-        maybe_sysroot_remapped: Option<PathBuf> [TRACKED],\n \n         target_triple: TargetTriple [TRACKED],\n \n@@ -611,7 +610,6 @@ impl Default for Options {\n             output_types: OutputTypes(BTreeMap::new()),\n             search_paths: vec![],\n             maybe_sysroot: None,\n-            maybe_sysroot_remapped: None,\n             target_triple: TargetTriple::from_triple(host_triple()),\n             test: false,\n             incremental: None,\n@@ -2455,7 +2453,7 @@ pub fn build_session_options_and_crate_config(\n \n     let crate_name = matches.opt_str(\"crate-name\");\n \n-    let remap_path_prefix: Vec<(PathBuf, PathBuf)> = matches\n+    let remap_path_prefix = matches\n         .opt_strs(\"remap-path-prefix\")\n         .into_iter()\n         .map(|remap| {\n@@ -2472,10 +2470,6 @@ pub fn build_session_options_and_crate_config(\n         })\n         .collect();\n \n-    let sysroot_remapped_opt = sysroot_opt\n-        .clone()\n-        .map(|sysroot| FilePathMapping::new(remap_path_prefix.clone()).map_prefix(sysroot).0);\n-\n     (\n         Options {\n             crate_types,\n@@ -2487,7 +2481,6 @@ pub fn build_session_options_and_crate_config(\n             output_types: OutputTypes(output_types),\n             search_paths,\n             maybe_sysroot: sysroot_opt,\n-            maybe_sysroot_remapped: sysroot_remapped_opt,\n             target_triple,\n             test,\n             incremental,"}]}