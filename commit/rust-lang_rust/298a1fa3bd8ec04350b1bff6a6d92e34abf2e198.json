{"sha": "298a1fa3bd8ec04350b1bff6a6d92e34abf2e198", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI5OGExZmEzYmQ4ZWMwNDM1MGIxYmZmNmE2ZDkyZTM0YWJmMmUxOTg=", "commit": {"author": {"name": "Christian Duerr", "email": "contact@christianduerr.com", "date": "2020-06-26T15:03:10Z"}, "committer": {"name": "Christian Duerr", "email": "contact@christianduerr.com", "date": "2020-07-10T13:20:00Z"}, "message": "Move range_minus_one to pedantic\n\nThis moves the range_minus_one lint to the pedantic category, so there\nwill not be any warnings emitted by default. This should work around\nproblems where the suggestion is impossible to resolve due to the range\nconsumer only accepting a specific range implementation, rather than the\n`RangeBounds` trait (see #3307).\n\nWhile it is possible to work around this by extracting the boundary into\na variable, I don't think clippy should encourage people to disable or\nwork around lints, but instead the lints should be fixable. So hopefully\nthis will help until a proper implementation checks what the range is\nused for.", "tree": {"sha": "ae8b74a1573eec463246095f124c3e570aeabab8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ae8b74a1573eec463246095f124c3e570aeabab8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/298a1fa3bd8ec04350b1bff6a6d92e34abf2e198", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEETapnqeqLkfzBW2mchc2uPBZLp7QFAl8IawAACgkQhc2uPBZL\np7TkPggAnVIWh21HzNfL5/nn85mIBt0pOBYR6AHLuNrAotcogLUyW5oTU/Ne0mnv\nFjkJeCK3x1atpN0bbCS85qHlgozbPl2nz5nfr9eR+0QCkoUos7O8NyiIGB8caPOV\nWtrN7t2vdg9prpdluX6h9N8nnajV/WoeoiyLpk/DpScJwqVXQ1bqHL6tnJqryWxH\ntJCGrUcF9jY24Li2HNyxqtGfI2X0UOWllyHzA64fpMR3kBA10jrD90F/qub4GiwD\n+qUPPBHMVXd2qAOXDVvVS/0V98jZ9n0JzKfYRvGu8qzvFxVFLRVHS5GXbjalzfei\nlhre7KkVAWL44VFwBd6YmXSJa+eaaA==\n=4Ue+\n-----END PGP SIGNATURE-----", "payload": "tree ae8b74a1573eec463246095f124c3e570aeabab8\nparent be8812203998042783b4ea9850cd8cfa3fd26242\nauthor Christian Duerr <contact@christianduerr.com> 1593183790 +0200\ncommitter Christian Duerr <contact@christianduerr.com> 1594387200 +0200\n\nMove range_minus_one to pedantic\n\nThis moves the range_minus_one lint to the pedantic category, so there\nwill not be any warnings emitted by default. This should work around\nproblems where the suggestion is impossible to resolve due to the range\nconsumer only accepting a specific range implementation, rather than the\n`RangeBounds` trait (see #3307).\n\nWhile it is possible to work around this by extracting the boundary into\na variable, I don't think clippy should encourage people to disable or\nwork around lints, but instead the lints should be fixable. So hopefully\nthis will help until a proper implementation checks what the range is\nused for.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/298a1fa3bd8ec04350b1bff6a6d92e34abf2e198", "html_url": "https://github.com/rust-lang/rust/commit/298a1fa3bd8ec04350b1bff6a6d92e34abf2e198", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/298a1fa3bd8ec04350b1bff6a6d92e34abf2e198/comments", "author": {"login": "chrisduerr", "id": 8886672, "node_id": "MDQ6VXNlcjg4ODY2NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8886672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisduerr", "html_url": "https://github.com/chrisduerr", "followers_url": "https://api.github.com/users/chrisduerr/followers", "following_url": "https://api.github.com/users/chrisduerr/following{/other_user}", "gists_url": "https://api.github.com/users/chrisduerr/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisduerr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisduerr/subscriptions", "organizations_url": "https://api.github.com/users/chrisduerr/orgs", "repos_url": "https://api.github.com/users/chrisduerr/repos", "events_url": "https://api.github.com/users/chrisduerr/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisduerr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chrisduerr", "id": 8886672, "node_id": "MDQ6VXNlcjg4ODY2NzI=", "avatar_url": "https://avatars.githubusercontent.com/u/8886672?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chrisduerr", "html_url": "https://github.com/chrisduerr", "followers_url": "https://api.github.com/users/chrisduerr/followers", "following_url": "https://api.github.com/users/chrisduerr/following{/other_user}", "gists_url": "https://api.github.com/users/chrisduerr/gists{/gist_id}", "starred_url": "https://api.github.com/users/chrisduerr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chrisduerr/subscriptions", "organizations_url": "https://api.github.com/users/chrisduerr/orgs", "repos_url": "https://api.github.com/users/chrisduerr/repos", "events_url": "https://api.github.com/users/chrisduerr/events{/privacy}", "received_events_url": "https://api.github.com/users/chrisduerr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "be8812203998042783b4ea9850cd8cfa3fd26242", "url": "https://api.github.com/repos/rust-lang/rust/commits/be8812203998042783b4ea9850cd8cfa3fd26242", "html_url": "https://github.com/rust-lang/rust/commit/be8812203998042783b4ea9850cd8cfa3fd26242"}], "stats": {"total": 12, "additions": 10, "deletions": 2}, "files": [{"sha": "dd608de5723e228defc9f1e9be5d91a2c0a445e6", "filename": "clippy_lints/src/ranges.rs", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/298a1fa3bd8ec04350b1bff6a6d92e34abf2e198/clippy_lints%2Fsrc%2Franges.rs", "raw_url": "https://github.com/rust-lang/rust/raw/298a1fa3bd8ec04350b1bff6a6d92e34abf2e198/clippy_lints%2Fsrc%2Franges.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Franges.rs?ref=298a1fa3bd8ec04350b1bff6a6d92e34abf2e198", "patch": "@@ -52,6 +52,11 @@ declare_clippy_lint! {\n     /// exclusive ranges, because they essentially add an extra branch that\n     /// LLVM may fail to hoist out of the loop.\n     ///\n+    /// This will cause a warning that cannot be fixed if the consumer of the\n+    /// range only accepts a specific range type, instead of the generic\n+    /// `RangeBounds` trait\n+    /// ([#3307](https://github.com/rust-lang/rust-clippy/issues/3307)).\n+    ///\n     /// **Example:**\n     /// ```rust,ignore\n     /// for x..(y+1) { .. }\n@@ -72,7 +77,10 @@ declare_clippy_lint! {\n     /// **Why is this bad?** The code is more readable with an exclusive range\n     /// like `x..y`.\n     ///\n-    /// **Known problems:** None.\n+    /// **Known problems:** This will cause a warning that cannot be fixed if\n+    /// the consumer of the range only accepts a specific range type, instead of\n+    /// the generic `RangeBounds` trait\n+    /// ([#3307](https://github.com/rust-lang/rust-clippy/issues/3307)).\n     ///\n     /// **Example:**\n     /// ```rust,ignore\n@@ -83,7 +91,7 @@ declare_clippy_lint! {\n     /// for x..y { .. }\n     /// ```\n     pub RANGE_MINUS_ONE,\n-    complexity,\n+    pedantic,\n     \"`x..=(y-1)` reads better as `x..y`\"\n }\n "}]}