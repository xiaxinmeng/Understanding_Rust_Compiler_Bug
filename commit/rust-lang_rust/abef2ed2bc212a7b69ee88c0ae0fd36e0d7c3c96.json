{"sha": "abef2ed2bc212a7b69ee88c0ae0fd36e0d7c3c96", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFiZWYyZWQyYmMyMTJhN2I2OWVlODhjMGFlMGZkMzZlMGQ3YzNjOTY=", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2020-12-28T21:01:05Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2021-01-05T20:10:34Z"}, "message": "Add rustdoc test.", "tree": {"sha": "1bca78f922a8b4997ce431b6ac90699096dc4fdc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1bca78f922a8b4997ce431b6ac90699096dc4fdc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/abef2ed2bc212a7b69ee88c0ae0fd36e0d7c3c96", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/abef2ed2bc212a7b69ee88c0ae0fd36e0d7c3c96", "html_url": "https://github.com/rust-lang/rust/commit/abef2ed2bc212a7b69ee88c0ae0fd36e0d7c3c96", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/abef2ed2bc212a7b69ee88c0ae0fd36e0d7c3c96/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "59f1ccd35ca57da4cef5740d61ecfe5ea52939d7", "url": "https://api.github.com/repos/rust-lang/rust/commits/59f1ccd35ca57da4cef5740d61ecfe5ea52939d7", "html_url": "https://github.com/rust-lang/rust/commit/59f1ccd35ca57da4cef5740d61ecfe5ea52939d7"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "ae0cf7a14789d78103c6cb4585ea36ab650153f7", "filename": "src/test/rustdoc/macros.rs", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/abef2ed2bc212a7b69ee88c0ae0fd36e0d7c3c96/src%2Ftest%2Frustdoc%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/abef2ed2bc212a7b69ee88c0ae0fd36e0d7c3c96/src%2Ftest%2Frustdoc%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fmacros.rs?ref=abef2ed2bc212a7b69ee88c0ae0fd36e0d7c3c96", "patch": "@@ -8,3 +8,17 @@ macro_rules! my_macro {\n     ($a:tt) => ();\n     ($e:expr) => {};\n }\n+\n+// Check that exported macro defined in a module are shown at crate root.\n+// @has macros/macro.my_sub_macro.html //pre 'macro_rules! my_sub_macro {'\n+// @has - //pre '() => { ... };'\n+// @has - //pre '($a:tt) => { ... };'\n+// @has - //pre '($e:expr) => { ... };'\n+mod sub {\n+    #[macro_export]\n+    macro_rules! my_sub_macro {\n+        () => {};\n+        ($a:tt) => {};\n+        ($e:expr) => {};\n+    }\n+}"}]}