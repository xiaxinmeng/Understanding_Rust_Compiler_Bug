{"sha": "5a4d71faad15cc62407c4d3134337978f4a482f2", "node_id": "C_kwDOAAsO6NoAKDVhNGQ3MWZhYWQxNWNjNjI0MDdjNGQzMTM0MzM3OTc4ZjRhNDgyZjI", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-07-18T07:26:49Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-07-18T07:26:49Z"}, "message": "Auto merge of #2379 - RalfJung:ui-test-target-filter, r=oli-obk\n\nui_test: more robust syntax for target filtering\n\nImplicit fallbacks are always fragile and prone to typos, so let's be explicit.", "tree": {"sha": "024d35f390e5646de62283d9ed41f32506543a3d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/024d35f390e5646de62283d9ed41f32506543a3d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5a4d71faad15cc62407c4d3134337978f4a482f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5a4d71faad15cc62407c4d3134337978f4a482f2", "html_url": "https://github.com/rust-lang/rust/commit/5a4d71faad15cc62407c4d3134337978f4a482f2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5a4d71faad15cc62407c4d3134337978f4a482f2/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0a0a15af5a87fc301ced8c00c6c9c8f95844869b", "url": "https://api.github.com/repos/rust-lang/rust/commits/0a0a15af5a87fc301ced8c00c6c9c8f95844869b", "html_url": "https://github.com/rust-lang/rust/commit/0a0a15af5a87fc301ced8c00c6c9c8f95844869b"}, {"sha": "090f2892143ef872e561334907115c5e26eeef76", "url": "https://api.github.com/repos/rust-lang/rust/commits/090f2892143ef872e561334907115c5e26eeef76", "html_url": "https://github.com/rust-lang/rust/commit/090f2892143ef872e561334907115c5e26eeef76"}], "stats": {"total": 228, "additions": 115, "deletions": 113}, "files": [{"sha": "169a021215d5a82fd755ec88a593676862951e97", "filename": "tests/fail/concurrency/libc_pthread_create_main_terminate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_create_main_terminate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_create_main_terminate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fconcurrency%2Flibc_pthread_create_main_terminate.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n //@error-pattern: the main thread terminated without waiting for all remaining threads\n \n // Check that we terminate the program when the main thread terminates."}, {"sha": "6f0d45e2dc0996bc91fb71812e74e591474ff780", "filename": "tests/fail/concurrency/libc_pthread_join_detached.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_detached.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_detached.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_detached.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n // Joining a detached thread is undefined behavior.\n "}, {"sha": "77f59fabca5ea3b8893134ebfe0bca1186c5154c", "filename": "tests/fail/concurrency/libc_pthread_join_joined.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_joined.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_joined.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_joined.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n // Joining an already joined thread is undefined behavior.\n "}, {"sha": "aff28bcc9b575ec9e172a50e93fa30bb4748b5bd", "filename": "tests/fail/concurrency/libc_pthread_join_main.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_main.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_main.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_main.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n // Joining the main thread is undefined behavior.\n "}, {"sha": "d4d54d3a23fde1685155884fb31f4aab5da72ae0", "filename": "tests/fail/concurrency/libc_pthread_join_multiple.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_multiple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_multiple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_multiple.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n // Joining the same thread from multiple threads is undefined behavior.\n "}, {"sha": "b911b2db3a16f1a15153109792ee506c83e12e0b", "filename": "tests/fail/concurrency/libc_pthread_join_self.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fconcurrency%2Flibc_pthread_join_self.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n // We are making scheduler assumptions here.\n //@compile-flags: -Zmiri-preemption-rate=0\n "}, {"sha": "84848e35a0f3e75312564ba48ff27defb1a859f6", "filename": "tests/fail/concurrency/thread-spawn.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Fthread-spawn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Fthread-spawn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fconcurrency%2Fthread-spawn.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@only-windows: Only Windows is not supported.\n+//@only-target-windows: Only Windows is not supported.\n \n use std::thread;\n "}, {"sha": "7c54e3bca7c1145aba685ed6033c1c2199ad2ae0", "filename": "tests/fail/concurrency/thread_local_static_dealloc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Fthread_local_static_dealloc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Fthread_local_static_dealloc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fconcurrency%2Fthread_local_static_dealloc.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n //! Ensure that thread-local statics get deallocated when the thread dies.\n "}, {"sha": "11e97ca290f404ac071530d5a20ab374465d2419", "filename": "tests/fail/concurrency/too_few_args.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Ftoo_few_args.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Ftoo_few_args.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fconcurrency%2Ftoo_few_args.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n //! The thread function must have exactly one argument.\n "}, {"sha": "dd44207a625516465e46e3302d689bace9afdb95", "filename": "tests/fail/concurrency/too_many_args.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Ftoo_many_args.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Ftoo_many_args.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fconcurrency%2Ftoo_many_args.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n //! The thread function must have exactly one argument.\n "}, {"sha": "179ff9c146e89abaa35361ed5d0dc027cbb759c4", "filename": "tests/fail/concurrency/unwind_top_of_stack.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Funwind_top_of_stack.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fconcurrency%2Funwind_top_of_stack.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fconcurrency%2Funwind_top_of_stack.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-abi-check\n \n //! Unwinding past the top frame of a stack is Undefined Behavior."}, {"sha": "f3f63aeb2b836f31e4b2afb3f2655480c0fa7cf0", "filename": "tests/fail/data_race/alloc_read_race.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Falloc_read_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Falloc_read_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Falloc_read_race.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-weak-memory-emulation -Zmiri-preemption-rate=0\n #![feature(new_uninit)]\n "}, {"sha": "a2738c3879b33bd4d45368fc0d03f794e5d18ab6", "filename": "tests/fail/data_race/alloc_write_race.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Falloc_write_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Falloc_write_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Falloc_write_race.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-weak-memory-emulation -Zmiri-preemption-rate=0\n #![feature(new_uninit)]\n "}, {"sha": "1ef021edc8cc723ec4a745fa23ed806fc44a76be", "filename": "tests/fail/data_race/atomic_read_na_write_race1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_read_na_write_race1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_read_na_write_race1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fatomic_read_na_write_race1.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n #![feature(core_intrinsics)]\n \n use std::intrinsics;"}, {"sha": "493985f6cf17b02cc560f21ba76940c6ce35e9e2", "filename": "tests/fail/data_race/atomic_read_na_write_race2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_read_na_write_race2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_read_na_write_race2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fatomic_read_na_write_race2.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::sync::atomic::AtomicUsize;\n use std::sync::atomic::Ordering;"}, {"sha": "ca9c28abf1a9003e5ec29debc9d4dcc3075b033e", "filename": "tests/fail/data_race/atomic_write_na_read_race1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_write_na_read_race1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_write_na_read_race1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fatomic_write_na_read_race1.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::sync::atomic::AtomicUsize;\n use std::sync::atomic::Ordering;"}, {"sha": "77b2945f7371544d59e705e63496f94923089758", "filename": "tests/fail/data_race/atomic_write_na_read_race2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_write_na_read_race2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_write_na_read_race2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fatomic_write_na_read_race2.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n #![feature(core_intrinsics)]\n \n use std::intrinsics::atomic_store;"}, {"sha": "34922dd595ed638c347b9c585f0d33a5b87d21a6", "filename": "tests/fail/data_race/atomic_write_na_write_race1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_write_na_write_race1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_write_na_write_race1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fatomic_write_na_write_race1.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n #![feature(core_intrinsics)]\n \n use std::intrinsics::atomic_store;"}, {"sha": "1d242ff3cdd6fdd7b641c95401db0ae95d4926cc", "filename": "tests/fail/data_race/atomic_write_na_write_race2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_write_na_write_race2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fatomic_write_na_write_race2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fatomic_write_na_write_race2.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::sync::atomic::AtomicUsize;\n use std::sync::atomic::Ordering;"}, {"sha": "6264255265f68a8a39d065cc61f8cd0415858d80", "filename": "tests/fail/data_race/dangling_thread_async_race.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdangling_thread_async_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdangling_thread_async_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fdangling_thread_async_race.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-disable-isolation -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::mem;\n use std::thread::{sleep, spawn};"}, {"sha": "6f44fc69dbb77961736ed4072a2f7c600541563a", "filename": "tests/fail/data_race/dangling_thread_race.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdangling_thread_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdangling_thread_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fdangling_thread_race.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-disable-isolation -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::mem;\n use std::thread::{sleep, spawn};"}, {"sha": "5349073ec3b7800ce5567ef88958b995cb3bad73", "filename": "tests/fail/data_race/dealloc_read_race1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_read_race1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_read_race1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fdealloc_read_race1.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::thread::spawn;\n "}, {"sha": "bb9070ef7503ca2a79be16dc6fa3b47ff1dd395a", "filename": "tests/fail/data_race/dealloc_read_race2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_read_race2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_read_race2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fdealloc_read_race2.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::thread::spawn;\n "}, {"sha": "e114fbb8b4f116c473a91c9fd649044ce155d0d7", "filename": "tests/fail/data_race/dealloc_read_race_stack.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_read_race_stack.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_read_race_stack.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fdealloc_read_race_stack.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-isolation -Zmiri-disable-weak-memory-emulation -Zmiri-preemption-rate=0\n \n use std::ptr::null_mut;"}, {"sha": "35949920e102e67c9fbe31135962431611682cb8", "filename": "tests/fail/data_race/dealloc_write_race1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_write_race1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_write_race1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fdealloc_write_race1.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::thread::spawn;\n "}, {"sha": "b569086c8c34ead0f54de9a862182b8751a55a5c", "filename": "tests/fail/data_race/dealloc_write_race2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_write_race2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_write_race2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fdealloc_write_race2.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::thread::spawn;\n "}, {"sha": "0c74c7adf59cbfbeff2f0069b779e7d6826dce49", "filename": "tests/fail/data_race/dealloc_write_race_stack.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_write_race_stack.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fdealloc_write_race_stack.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fdealloc_write_race_stack.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-isolation -Zmiri-disable-weak-memory-emulation -Zmiri-preemption-rate=0\n \n use std::ptr::null_mut;"}, {"sha": "f2235b95257b32db5d154ffe01fcd405b6abf470", "filename": "tests/fail/data_race/enable_after_join_to_main.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fenable_after_join_to_main.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fenable_after_join_to_main.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fenable_after_join_to_main.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::thread::spawn;\n "}, {"sha": "8acbe12e82d62cf3f5665aa4b08cd1e59a59bf56", "filename": "tests/fail/data_race/fence_after_load.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Ffence_after_load.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Ffence_after_load.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Ffence_after_load.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-disable-isolation -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n use std::sync::atomic::{fence, AtomicUsize, Ordering};\n use std::sync::Arc;\n use std::thread;"}, {"sha": "cff868fb699fe0b3e4e1bb9e86bf7a017daea9aa", "filename": "tests/fail/data_race/read_write_race.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fread_write_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fread_write_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fread_write_race.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::thread::spawn;\n "}, {"sha": "b22173fa5a94adc6f9b7e53ee177b9b49e92c9fd", "filename": "tests/fail/data_race/read_write_race_stack.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fread_write_race_stack.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fread_write_race_stack.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fread_write_race_stack.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-isolation -Zmir-opt-level=0 -Zmiri-disable-weak-memory-emulation -Zmiri-preemption-rate=0\n \n // Note: mir-opt-level set to 0 to prevent the read of stack_var in thread 1"}, {"sha": "b99388b8923c049f2dd0975d4ef866f8934cf4ce", "filename": "tests/fail/data_race/relax_acquire_race.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Frelax_acquire_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Frelax_acquire_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Frelax_acquire_race.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-weak-memory-emulation -Zmiri-preemption-rate=0\n \n use std::sync::atomic::{AtomicUsize, Ordering};"}, {"sha": "31fc5d9a479f37bc5dacea22b37ab1e758de9c54", "filename": "tests/fail/data_race/release_seq_race.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Frelease_seq_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Frelease_seq_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Frelease_seq_race.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-isolation -Zmiri-disable-weak-memory-emulation -Zmiri-preemption-rate=0\n \n use std::sync::atomic::{AtomicUsize, Ordering};"}, {"sha": "c0ce437047a8a311321917604f2d4bc3d19d7141", "filename": "tests/fail/data_race/release_seq_race_same_thread.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Frelease_seq_race_same_thread.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Frelease_seq_race_same_thread.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Frelease_seq_race_same_thread.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-isolation -Zmiri-disable-weak-memory-emulation -Zmiri-preemption-rate=0\n \n use std::sync::atomic::{AtomicUsize, Ordering};"}, {"sha": "540b01b0935d329a410bccb1f16c10632ffaa090", "filename": "tests/fail/data_race/rmw_race.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Frmw_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Frmw_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Frmw_race.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-weak-memory-emulation -Zmiri-preemption-rate=0\n \n use std::sync::atomic::{AtomicUsize, Ordering};"}, {"sha": "8f371a680f11d53e9b0cae82b45cb55e461988ae", "filename": "tests/fail/data_race/stack_pop_race.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fstack_pop_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fstack_pop_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fstack_pop_race.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-preemption-rate=0\n use std::thread;\n "}, {"sha": "ac75c771e4751efdf4a7b0a8d33e5c32f57cfe61", "filename": "tests/fail/data_race/write_write_race.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fwrite_write_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fwrite_write_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fwrite_write_race.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::thread::spawn;\n "}, {"sha": "5193b155512c141e225b42df628339c64c822d81", "filename": "tests/fail/data_race/write_write_race_stack.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fwrite_write_race_stack.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fdata_race%2Fwrite_write_race_stack.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fdata_race%2Fwrite_write_race_stack.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-isolation -Zmiri-disable-weak-memory-emulation -Zmiri-preemption-rate=0\n \n use std::ptr::null_mut;"}, {"sha": "e4597140b8440bae473f07eede2b9a0fbec20a48", "filename": "tests/fail/environ-gets-deallocated.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fenviron-gets-deallocated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fenviron-gets-deallocated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fenviron-gets-deallocated.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Windows does not have a global environ list that the program can access directly\n+//@ignore-target-windows: Windows does not have a global environ list that the program can access directly\n \n #[cfg(any(target_os = \"linux\", target_os = \"freebsd\"))]\n fn get_environ() -> *const *const u8 {"}, {"sha": "bc709fe36d578a16807e4a76e6093ae26670d6ad", "filename": "tests/fail/fs/close_stdout.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Fclose_stdout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Fclose_stdout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Ffs%2Fclose_stdout.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n //@compile-flags: -Zmiri-disable-isolation\n \n // FIXME: standard handles cannot be closed (https://github.com/rust-lang/rust/issues/40032)"}, {"sha": "9b664ffe52acdc59eed761563cc1dbf8a2447a7b", "filename": "tests/fail/fs/isolated_file.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Fisolated_file.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Fisolated_file.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Ffs%2Fisolated_file.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: File handling is not implemented yet\n+//@ignore-target-windows: File handling is not implemented yet\n //@error-pattern: `open` not available when isolation is enabled\n \n fn main() {"}, {"sha": "cd54de3bcecc3bee853e7718a2ebaebb6c6f1ffa", "filename": "tests/fail/fs/isolated_stdin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Fisolated_stdin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Fisolated_stdin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Ffs%2Fisolated_stdin.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "949fe88f4333650d4eea530cf5e1f249d13af22b", "filename": "tests/fail/fs/read_from_stdout.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Fread_from_stdout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Fread_from_stdout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Ffs%2Fread_from_stdout.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,5 +1,5 @@\n //@compile-flags: -Zmiri-disable-isolation\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "1f6beadcb82ff610de04b9d99d9c5dea97f2d749", "filename": "tests/fail/fs/unix_open_missing_required_mode.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Funix_open_missing_required_mode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Funix_open_missing_required_mode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Ffs%2Funix_open_missing_required_mode.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n //@compile-flags: -Zmiri-disable-isolation\n \n #![feature(rustc_private)]"}, {"sha": "4ad7b648e1cfaaf29d6fe5e9f73c82d32fdca074", "filename": "tests/fail/fs/write_to_stdin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Fwrite_to_stdin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Ffs%2Fwrite_to_stdin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Ffs%2Fwrite_to_stdin.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "dbac6469fbab8ca1717c7c53866c5e4eb4e38918", "filename": "tests/fail/should-pass/cpp20_rwc_syncs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fshould-pass%2Fcpp20_rwc_syncs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fshould-pass%2Fcpp20_rwc_syncs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fshould-pass%2Fcpp20_rwc_syncs.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-ignore-leaks\n //@error-pattern: unreachable\n "}, {"sha": "d0a4ac46cb330419d1c8ca141e56312dd08f7e09", "filename": "tests/fail/sync/libc_pthread_cond_double_destroy.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_cond_double_destroy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_cond_double_destroy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_cond_double_destroy.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n #![feature(rustc_private)]\n \n /// Test that destroying a pthread_cond twice fails, even without a check for number validity"}, {"sha": "c64b32381384182990392718603e871ad62369b8", "filename": "tests/fail/sync/libc_pthread_condattr_double_destroy.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_condattr_double_destroy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_condattr_double_destroy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_condattr_double_destroy.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n #![feature(rustc_private)]\n \n /// Test that destroying a pthread_condattr twice fails, even without a check for number validity"}, {"sha": "8797e895d8c8945198d0e9cd4cdd88bdd6b9ed57", "filename": "tests/fail/sync/libc_pthread_mutex_NULL_deadlock.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_NULL_deadlock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_NULL_deadlock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_NULL_deadlock.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n //\n // Check that if we pass NULL attribute, then we get the default mutex type.\n "}, {"sha": "7da6e516000080fc96b2a6c851cdf4608ef849e3", "filename": "tests/fail/sync/libc_pthread_mutex_deadlock.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_deadlock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_deadlock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_deadlock.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "70a85aa0f9898f4c48deb9215c200686865c1ea1", "filename": "tests/fail/sync/libc_pthread_mutex_default_deadlock.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_default_deadlock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_default_deadlock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_default_deadlock.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n //\n // Check that if we do not set the mutex type, it is the default.\n "}, {"sha": "fc69ace3699306f5472dcdc10c396f8fbc898062", "filename": "tests/fail/sync/libc_pthread_mutex_destroy_locked.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_destroy_locked.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_destroy_locked.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_destroy_locked.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "9b539afc1992ad322287abfb1689b9ba48933bd4", "filename": "tests/fail/sync/libc_pthread_mutex_double_destroy.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_double_destroy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_double_destroy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_double_destroy.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n #![feature(rustc_private)]\n \n /// Test that destroying a pthread_mutex twice fails, even without a check for number validity"}, {"sha": "944e86e106d7a598353a724920b9e0c5370a5c89", "filename": "tests/fail/sync/libc_pthread_mutex_normal_deadlock.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_normal_deadlock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_normal_deadlock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_normal_deadlock.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "c2bdce82b6f8f37a753865c959533388f50dd030", "filename": "tests/fail/sync/libc_pthread_mutex_normal_unlock_unlocked.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_normal_unlock_unlocked.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_normal_unlock_unlocked.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_normal_unlock_unlocked.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "eea4db7115974a7ba7428005e3a19c217dab6a6d", "filename": "tests/fail/sync/libc_pthread_mutex_wrong_owner.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_wrong_owner.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_wrong_owner.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_mutex_wrong_owner.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "620dbb94a78a2783230049a0040a083848357f8f", "filename": "tests/fail/sync/libc_pthread_mutexattr_double_destroy.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutexattr_double_destroy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_mutexattr_double_destroy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_mutexattr_double_destroy.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n #![feature(rustc_private)]\n \n /// Test that destroying a pthread_mutexattr twice fails, even without a check for number validity"}, {"sha": "67b77ff2864706c5027c6ba93cef9bc4e7b5cf10", "filename": "tests/fail/sync/libc_pthread_rwlock_destroy_read_locked.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_destroy_read_locked.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_destroy_read_locked.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_destroy_read_locked.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "5bc5fe3c6bc4c9ebf1d4fc98b4e0edf5336ad379", "filename": "tests/fail/sync/libc_pthread_rwlock_destroy_write_locked.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_destroy_write_locked.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_destroy_write_locked.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_destroy_write_locked.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "7e756c5bb88f0d2550a3d14625c73898de88074a", "filename": "tests/fail/sync/libc_pthread_rwlock_double_destroy.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_double_destroy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_double_destroy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_double_destroy.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n #![feature(rustc_private)]\n \n /// Test that destroying a pthread_rwlock twice fails, even without a check for number validity"}, {"sha": "76fceb315f441236282dd754d08b669b3d0d1df8", "filename": "tests/fail/sync/libc_pthread_rwlock_read_write_deadlock_single_thread.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_read_write_deadlock_single_thread.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_read_write_deadlock_single_thread.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_read_write_deadlock_single_thread.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "e971fd8c302a58c6309fe822c962b21f66211bc0", "filename": "tests/fail/sync/libc_pthread_rwlock_read_wrong_owner.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_read_wrong_owner.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_read_wrong_owner.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_read_wrong_owner.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "29cfd36cafc205cb0c36391ba80e41f804feef5a", "filename": "tests/fail/sync/libc_pthread_rwlock_unlock_unlocked.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_unlock_unlocked.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_unlock_unlocked.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_unlock_unlocked.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "e9c5c17f3eba78dfab91540eea0578ec8e807f17", "filename": "tests/fail/sync/libc_pthread_rwlock_write_read_deadlock.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_read_deadlock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_read_deadlock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_read_deadlock.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "5ed25344e7c7348939ecf01969f37b0cad858039", "filename": "tests/fail/sync/libc_pthread_rwlock_write_read_deadlock_single_thread.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_read_deadlock_single_thread.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_read_deadlock_single_thread.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_read_deadlock_single_thread.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "3d15370e83dd9893cf3643797e7bc6f00a001433", "filename": "tests/fail/sync/libc_pthread_rwlock_write_write_deadlock.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_write_deadlock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_write_deadlock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_write_deadlock.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "14361bee54c06e6ff1b402861ea71de309b60773", "filename": "tests/fail/sync/libc_pthread_rwlock_write_write_deadlock_single_thread.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_write_deadlock_single_thread.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_write_deadlock_single_thread.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_write_deadlock_single_thread.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "668ccb3ecaeffd724bf59e8172b226f013fc9944", "filename": "tests/fail/sync/libc_pthread_rwlock_write_wrong_owner.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_wrong_owner.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_wrong_owner.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fsync%2Flibc_pthread_rwlock_write_wrong_owner.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "e9bd340fcafb72759ade402fc3b70d8a97232575", "filename": "tests/fail/unsupported_signal.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Funsupported_signal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Funsupported_signal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Funsupported_signal.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n //! `signal()` is special on Linux and macOS that it's only supported within libstd.\n //! The implementation is not complete enough to permit user code to call it.\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n #![feature(rustc_private)]\n \n extern crate libc;"}, {"sha": "a7c5a41917623dd692c558593a1c5d4cef89a79b", "filename": "tests/fail/weak_memory/racing_mixed_size.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fweak_memory%2Fracing_mixed_size.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fweak_memory%2Fracing_mixed_size.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fweak_memory%2Fracing_mixed_size.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n #![feature(core_intrinsics)]\n "}, {"sha": "aeaa6b68f6c8c46c4090bfc41b10d757720f6440", "filename": "tests/fail/weak_memory/racing_mixed_size_read.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fweak_memory%2Fracing_mixed_size_read.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Ffail%2Fweak_memory%2Fracing_mixed_size_read.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fweak_memory%2Fracing_mixed_size_read.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,6 +1,6 @@\n // We want to control preemption here.\n //@compile-flags: -Zmiri-preemption-rate=0\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n #![feature(core_intrinsics)]\n "}, {"sha": "a68917281466710672e5e2c5336a3486bad60175", "filename": "tests/panic/panic/unsupported_syscall.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpanic%2Fpanic%2Funsupported_syscall.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpanic%2Fpanic%2Funsupported_syscall.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpanic%2Fpanic%2Funsupported_syscall.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,5 +1,5 @@\n-//@ignore-windows: No libc on Windows\n-//@ignore-apple: `syscall` is not supported on macOS\n+//@ignore-target-windows: No libc on Windows\n+//@ignore-target-apple: `syscall` is not supported on macOS\n //@compile-flags: -Zmiri-panic-on-unsupported\n #![feature(rustc_private)]\n "}, {"sha": "b5b6b83cce1bb60b165df042991b8f99ec216e5e", "filename": "tests/pass/0weak_memory_consistency.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2F0weak_memory_consistency.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2F0weak_memory_consistency.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2F0weak_memory_consistency.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-ignore-leaks -Zmiri-disable-stacked-borrows\n \n // The following tests check whether our weak memory emulation produces"}, {"sha": "a9efb776b69ea293c690dbd4b6695a58bb4c7a2c", "filename": "tests/pass/calloc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fcalloc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fcalloc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fcalloc.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "40d729f042d19a1a51fe69b7112f1bc1fa1e2d38", "filename": "tests/pass/concurrency/channels.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fchannels.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fchannels.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fchannels.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-strict-provenance\n \n use std::sync::mpsc::{channel, sync_channel};"}, {"sha": "a07f6b13e6d7963aa5dd452f5f98efba46c49f12", "filename": "tests/pass/concurrency/concurrent_caller_location.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fconcurrent_caller_location.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fconcurrent_caller_location.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fconcurrent_caller_location.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::panic::Location;\n use std::thread::spawn;"}, {"sha": "5d1e1bb266cad87e5770e8ef85163053b1f4851a", "filename": "tests/pass/concurrency/data_race.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fdata_race.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fdata_race.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fdata_race.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-weak-memory-emulation\n \n use std::sync::atomic::{fence, AtomicUsize, Ordering};"}, {"sha": "a4852b4674e81aaf223bc9c48e3af2163e6cc4f6", "filename": "tests/pass/concurrency/disable_data_race_detector.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fdisable_data_race_detector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fdisable_data_race_detector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fdisable_data_race_detector.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-data-race-detector\n \n use std::thread::spawn;"}, {"sha": "f4fe43d88cb1e07ecb81ef0f58ea0cbb0bcee439", "filename": "tests/pass/concurrency/issue1643.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fissue1643.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fissue1643.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fissue1643.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::thread::spawn;\n "}, {"sha": "eb491486be703baad83d31730028b3f5609f3280", "filename": "tests/pass/concurrency/libc_pthread_cond.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Flibc_pthread_cond.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Flibc_pthread_cond.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Flibc_pthread_cond.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,5 +1,5 @@\n-//@ignore-windows: No libc on Windows\n-//@ignore-apple: pthread_condattr_setclock is not supported on MacOS.\n+//@ignore-target-windows: No libc on Windows\n+//@ignore-target-apple: pthread_condattr_setclock is not supported on MacOS.\n //@compile-flags: -Zmiri-disable-isolation\n \n #![feature(rustc_private)]"}, {"sha": "f9c87e0723c509d143b6d42bac9dcf630726a77e", "filename": "tests/pass/concurrency/linux-futex.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Flinux-futex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Flinux-futex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Flinux-futex.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@only-linux\n+//@only-target-linux\n //@compile-flags: -Zmiri-disable-isolation\n \n #![feature(rustc_private)]"}, {"sha": "1d85c7fc9bd0814c6216b3497b52662752cc5e7e", "filename": "tests/pass/concurrency/simple.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fsimple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fsimple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fsimple.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-strict-provenance\n \n use std::thread;"}, {"sha": "5f34168dbb1e9c2480f04aa6f600dad12e09bf44", "filename": "tests/pass/concurrency/spin_loop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fspin_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fspin_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fspin_loop.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n use std::sync::atomic::{AtomicUsize, Ordering};\n use std::thread;\n "}, {"sha": "34be0dd39481fa99b94b29ff34a24c5136eac55b", "filename": "tests/pass/concurrency/spin_loops_nopreempt.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fspin_loops_nopreempt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fspin_loops_nopreempt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fspin_loops_nopreempt.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n // This specifically tests behavior *without* preemption.\n //@compile-flags: -Zmiri-preemption-rate=0\n "}, {"sha": "268153b612ae39135f345bcf0284d99741d71b5e", "filename": "tests/pass/concurrency/sync.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fsync.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fsync.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fsync.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-disable-isolation -Zmiri-strict-provenance\n \n use std::sync::{Arc, Barrier, Condvar, Mutex, Once, RwLock};"}, {"sha": "a53f143fef673e5c6bfcc4350baf96f414ff708b", "filename": "tests/pass/concurrency/sync_nopreempt.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fsync_nopreempt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fsync_nopreempt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fsync_nopreempt.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n // We are making scheduler assumptions here.\n //@compile-flags: -Zmiri-strict-provenance -Zmiri-preemption-rate=0\n "}, {"sha": "34431def33f818b3e04b1feac5f598493cc58fba", "filename": "tests/pass/concurrency/thread_locals.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fthread_locals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Fthread_locals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Fthread_locals.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-strict-provenance\n \n //! The main purpose of this test is to check that if we take a pointer to"}, {"sha": "6c66cd3a62fb565318280ec6a273cddde06493ae", "filename": "tests/pass/concurrency/tls_lib_drop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Ftls_lib_drop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Ftls_lib_drop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Ftls_lib_drop.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n \n use std::cell::RefCell;\n use std::thread;"}, {"sha": "c9e8b9271ccfb3523e473d0e1455681c2b253278", "filename": "tests/pass/concurrency/tls_pthread_drop_order.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Ftls_pthread_drop_order.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fconcurrency%2Ftls_pthread_drop_order.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fconcurrency%2Ftls_pthread_drop_order.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n extern crate libc;"}, {"sha": "aa5cd83c69cda23ba52bac07f9c405f963326765", "filename": "tests/pass/fs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Ffs.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: File handling is not implemented yet\n+//@ignore-target-windows: File handling is not implemented yet\n //@compile-flags: -Zmiri-disable-isolation\n \n #![feature(rustc_private)]"}, {"sha": "41ada94e276e2330c1bf9f81df4e18b1c5e398a2", "filename": "tests/pass/fs_with_isolation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Ffs_with_isolation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Ffs_with_isolation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Ffs_with_isolation.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: File handling is not implemented yet\n+//@ignore-target-windows: File handling is not implemented yet\n //@compile-flags: -Zmiri-isolation-error=warn-nobacktrace\n //@normalize-stderr-test: \"(stat(x)?)\" -> \"$$STAT\"\n "}, {"sha": "99b7c3f249f5122a66897e16d5386bec0468041c", "filename": "tests/pass/libc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Flibc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Flibc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Flibc.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n //@compile-flags: -Zmiri-disable-isolation\n #![feature(rustc_private)]\n "}, {"sha": "fea3bb3fdce9dd2afac6cde5b4667b27ace10b98", "filename": "tests/pass/linux-getrandom-without-isolation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Flinux-getrandom-without-isolation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Flinux-getrandom-without-isolation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Flinux-getrandom-without-isolation.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@only-linux\n+//@only-target-linux\n //@compile-flags: -Zmiri-disable-isolation\n #![feature(rustc_private)]\n extern crate libc;"}, {"sha": "1d0ab6ed746a67c2fc6e72219adfefe7cd9d5a11", "filename": "tests/pass/linux-getrandom.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Flinux-getrandom.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Flinux-getrandom.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Flinux-getrandom.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@only-linux\n+//@only-target-linux\n #![feature(rustc_private)]\n extern crate libc;\n "}, {"sha": "d20ceddbb8edbbe1bb7391a863f5dc964afab9ba", "filename": "tests/pass/malloc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fmalloc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fmalloc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fmalloc.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: No libc on Windows\n+//@ignore-target-windows: No libc on Windows\n \n #![feature(rustc_private)]\n "}, {"sha": "10632c2cce49743dc80f8df34e843f0ec6743f1f", "filename": "tests/pass/no_std.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fno_std.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fno_std.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fno_std.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -3,7 +3,7 @@\n // windows tls dtors go through libstd right now, thus this test\n // cannot pass. When windows tls dtors go through the special magic\n // windows linker section, we can run this test on windows again.\n-//@ignore-windows\n+//@ignore-target-windows\n \n #[start]\n fn start(_: isize, _: *const *const u8) -> isize {"}, {"sha": "1acae69b8d3b36ea8536f1d5c933d84388b2caec", "filename": "tests/pass/panic/concurrent-panic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fpanic%2Fconcurrent-panic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fpanic%2Fconcurrent-panic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fpanic%2Fconcurrent-panic.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n // We are making scheduler assumptions here.\n //@compile-flags: -Zmiri-preemption-rate=0\n "}, {"sha": "077d8d0837538f9282eaa1ede7d0828796ae2580", "filename": "tests/pass/threadleak_ignored.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fthreadleak_ignored.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fthreadleak_ignored.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fthreadleak_ignored.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n // FIXME: disallow preemption to work around https://github.com/rust-lang/rust/issues/55005\n //@compile-flags: -Zmiri-ignore-leaks -Zmiri-preemption-rate=0\n "}, {"sha": "52c13cbdced37a4b977aa561f98513a22cd38353", "filename": "tests/pass/weak_memory/extra_cpp.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fweak_memory%2Fextra_cpp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fweak_memory%2Fextra_cpp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fweak_memory%2Fextra_cpp.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-ignore-leaks\n \n // Tests operations not perfomable through C++'s atomic API"}, {"sha": "1c6c370ced3b1a309a3b730b39fe888b2ee686ab", "filename": "tests/pass/weak_memory/extra_cpp_unsafe.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fweak_memory%2Fextra_cpp_unsafe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fweak_memory%2Fextra_cpp_unsafe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fweak_memory%2Fextra_cpp_unsafe.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-ignore-leaks\n \n // Tests operations not perfomable through C++'s atomic API"}, {"sha": "dc7982991b693f049ad4632ef34fc43faef5e2d9", "filename": "tests/pass/weak_memory/weak.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fweak_memory%2Fweak.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fweak_memory%2Fweak.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fweak_memory%2Fweak.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@ignore-windows: Concurrency on Windows is not supported yet.\n+//@ignore-target-windows: Concurrency on Windows is not supported yet.\n //@compile-flags: -Zmiri-ignore-leaks -Zmiri-preemption-rate=0\n \n // Tests showing weak memory behaviours are exhibited. All tests"}, {"sha": "be8348654a3259486c96787220b26b57db44e934", "filename": "tests/pass/wtf8.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fwtf8.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/tests%2Fpass%2Fwtf8.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fpass%2Fwtf8.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -1,4 +1,4 @@\n-//@only-windows\n+//@only-target-windows\n \n use std::ffi::{OsStr, OsString};\n use std::os::windows::ffi::{OsStrExt, OsStringExt};"}, {"sha": "d583e625facee2b119829a40229ff91b8ba91f79", "filename": "ui_test/src/parser.rs", "status": "modified", "additions": 11, "deletions": 9, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/5a4d71faad15cc62407c4d3134337978f4a482f2/ui_test%2Fsrc%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5a4d71faad15cc62407c4d3134337978f4a482f2/ui_test%2Fsrc%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/ui_test%2Fsrc%2Fparser.rs?ref=5a4d71faad15cc62407c4d3134337978f4a482f2", "patch": "@@ -65,16 +65,18 @@ pub(crate) struct ErrorMatch {\n }\n \n impl Condition {\n-    fn parse(c: &str) -> Self {\n+    fn parse(c: &str) -> Result<Self> {\n         if c == \"on-host\" {\n-            Condition::OnHost\n+            Ok(Condition::OnHost)\n         } else if let Some(bits) = c.strip_suffix(\"bit\") {\n-            let bits: u8 = bits.parse().expect(\n-                \"ignore/only filter ending in 'bit' must be of the form 'Nbit' for some integer N\",\n-            );\n-            Condition::Bitwidth(bits)\n+            let bits: u8 = bits.parse().map_err(|_err| {\n+                eyre!(\"invalid ignore/only filter ending in 'bit': {c:?} is not a valid bitwdith\")\n+            })?;\n+            Ok(Condition::Bitwidth(bits))\n+        } else if let Some(target) = c.strip_prefix(\"target-\") {\n+            Ok(Condition::Target(target.to_owned()))\n         } else {\n-            Condition::Target(c.to_owned())\n+            Err(eyre!(\"invalid ignore/only condition {c:?}\"))\n         }\n     }\n }\n@@ -211,13 +213,13 @@ impl Comments {\n             command => {\n                 if let Some(s) = command.strip_prefix(\"ignore-\") {\n                     // args are ignored (can be sue as comment)\n-                    self.ignore.push(Condition::parse(s));\n+                    self.ignore.push(Condition::parse(s)?);\n                     return Ok(());\n                 }\n \n                 if let Some(s) = command.strip_prefix(\"only-\") {\n                     // args are ignored (can be sue as comment)\n-                    self.only.push(Condition::parse(s));\n+                    self.only.push(Condition::parse(s)?);\n                     return Ok(());\n                 }\n                 bail!(\"unknown command {command}\");"}]}