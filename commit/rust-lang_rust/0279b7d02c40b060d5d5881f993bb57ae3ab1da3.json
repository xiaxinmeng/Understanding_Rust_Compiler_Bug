{"sha": "0279b7d02c40b060d5d5881f993bb57ae3ab1da3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAyNzliN2QwMmM0MGIwNjBkNWQ1ODgxZjk5M2JiNTdhZTNhYjFkYTM=", "commit": {"author": {"name": "Otavio Salvador", "email": "otavio@ossystems.com.br", "date": "2018-10-08T17:39:16Z"}, "committer": {"name": "Otavio Salvador", "email": "otavio@ossystems.com.br", "date": "2018-10-08T17:39:16Z"}, "message": "Replace `isatty` crate with `atty`\n\nThe `isatty` crate has been deprecated and a replacement has been\nreleased for it called `atty`. It offers a nicer API and the code\nchange to adapt is trivial.\n\nSigned-off-by: Otavio Salvador <otavio@ossystems.com.br>", "tree": {"sha": "d9eb710d79d935a36f764b7e6fd5cb5565a96c91", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d9eb710d79d935a36f764b7e6fd5cb5565a96c91"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0279b7d02c40b060d5d5881f993bb57ae3ab1da3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0279b7d02c40b060d5d5881f993bb57ae3ab1da3", "html_url": "https://github.com/rust-lang/rust/commit/0279b7d02c40b060d5d5881f993bb57ae3ab1da3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0279b7d02c40b060d5d5881f993bb57ae3ab1da3/comments", "author": {"login": "otavio", "id": 25278, "node_id": "MDQ6VXNlcjI1Mjc4", "avatar_url": "https://avatars.githubusercontent.com/u/25278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/otavio", "html_url": "https://github.com/otavio", "followers_url": "https://api.github.com/users/otavio/followers", "following_url": "https://api.github.com/users/otavio/following{/other_user}", "gists_url": "https://api.github.com/users/otavio/gists{/gist_id}", "starred_url": "https://api.github.com/users/otavio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/otavio/subscriptions", "organizations_url": "https://api.github.com/users/otavio/orgs", "repos_url": "https://api.github.com/users/otavio/repos", "events_url": "https://api.github.com/users/otavio/events{/privacy}", "received_events_url": "https://api.github.com/users/otavio/received_events", "type": "User", "site_admin": false}, "committer": {"login": "otavio", "id": 25278, "node_id": "MDQ6VXNlcjI1Mjc4", "avatar_url": "https://avatars.githubusercontent.com/u/25278?v=4", "gravatar_id": "", "url": "https://api.github.com/users/otavio", "html_url": "https://github.com/otavio", "followers_url": "https://api.github.com/users/otavio/followers", "following_url": "https://api.github.com/users/otavio/following{/other_user}", "gists_url": "https://api.github.com/users/otavio/gists{/gist_id}", "starred_url": "https://api.github.com/users/otavio/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/otavio/subscriptions", "organizations_url": "https://api.github.com/users/otavio/orgs", "repos_url": "https://api.github.com/users/otavio/repos", "events_url": "https://api.github.com/users/otavio/events{/privacy}", "received_events_url": "https://api.github.com/users/otavio/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1b2e72726f2e395578d4713f75743761677b6a4e", "url": "https://api.github.com/repos/rust-lang/rust/commits/1b2e72726f2e395578d4713f75743761677b6a4e", "html_url": "https://github.com/rust-lang/rust/commit/1b2e72726f2e395578d4713f75743761677b6a4e"}], "stats": {"total": 22, "additions": 5, "deletions": 17}, "files": [{"sha": "558b12dfa28b3f1fb0a3330ec3f2c7baefedb122", "filename": "Cargo.lock", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/0279b7d02c40b060d5d5881f993bb57ae3ab1da3/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/0279b7d02c40b060d5d5881f993bb57ae3ab1da3/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=0279b7d02c40b060d5d5881f993bb57ae3ab1da3", "patch": "@@ -245,17 +245,6 @@ dependencies = [\n  \"quick-error 1.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"isatty\"\n-version = \"0.1.9\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"cfg-if 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.43 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"redox_syscall 0.1.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"itertools\"\n version = \"0.7.8\"\n@@ -603,13 +592,13 @@ name = \"rustfmt-nightly\"\n version = \"0.99.5\"\n dependencies = [\n  \"assert_cli 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"atty 0.2.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cargo_metadata 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"derive-new 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"diff 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"env_logger 0.5.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"getopts 0.2.18 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"isatty 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"itertools 0.7.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -876,7 +865,6 @@ dependencies = [\n \"checksum fuchsia-zircon-sys 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3dcaa9ae7725d12cdb85b3ad99a434db70b468c09ded17e012d86b5c1010f7a7\"\n \"checksum getopts 0.2.18 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0a7292d30132fb5424b354f5dc02512a86e4c516fe544bb7a25e7f266951b797\"\n \"checksum humantime 1.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0484fda3e7007f2a4a0d9c3a703ca38c71c54c55602ce4660c419fd32e188c9e\"\n-\"checksum isatty 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e31a8281fc93ec9693494da65fbf28c0c2aa60a2eaec25dc58e2f31952e95edc\"\n \"checksum itertools 0.7.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f58856976b776fedd95533137617a02fb25719f40e7d9b01c7043cd65474f450\"\n \"checksum itoa 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1306f3464951f30e30d12373d31c79fbd52d236e5e896fd92f96ec7babbbe60b\"\n \"checksum lazy_static 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ca488b89a5657b0a2ecd45b95609b3e848cf1755da332a0da46e2b2b1cb371a7\""}, {"sha": "0359917d67a9903a941b233a266e7f7152111142", "filename": "Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0279b7d02c40b060d5d5881f993bb57ae3ab1da3/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/0279b7d02c40b060d5d5881f993bb57ae3ab1da3/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=0279b7d02c40b060d5d5881f993bb57ae3ab1da3", "patch": "@@ -32,7 +32,7 @@ cargo-fmt = []\n rustfmt-format-diff = []\n \n [dependencies]\n-isatty = \"0.1\"\n+atty = \"0.2\"\n itertools = \"0.7\"\n toml = \"0.4\"\n serde = \"1.0\""}, {"sha": "a4ba21b53cf0eb92ee8944829860f3f63cd0c375", "filename": "src/config/options.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0279b7d02c40b060d5d5881f993bb57ae3ab1da3/src%2Fconfig%2Foptions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0279b7d02c40b060d5d5881f993bb57ae3ab1da3/src%2Fconfig%2Foptions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fconfig%2Foptions.rs?ref=0279b7d02c40b060d5d5881f993bb57ae3ab1da3", "patch": "@@ -12,7 +12,7 @@ use config::config_type::ConfigType;\n use config::lists::*;\n use config::{Config, FileName};\n \n-use isatty::stdout_isatty;\n+use atty;\n \n use std::collections::HashSet;\n use std::path::{Path, PathBuf};\n@@ -297,7 +297,7 @@ impl Color {\n         match self {\n             Color::Always => true,\n             Color::Never => false,\n-            Color::Auto => stdout_isatty(),\n+            Color::Auto => atty::is(atty::Stream::Stdout),\n         }\n     }\n }"}, {"sha": "b8f9d4cfb6ef49fdcc80f5152ac81eb7d5e50df4", "filename": "src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0279b7d02c40b060d5d5881f993bb57ae3ab1da3/src%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0279b7d02c40b060d5d5881f993bb57ae3ab1da3/src%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib.rs?ref=0279b7d02c40b060d5d5881f993bb57ae3ab1da3", "patch": "@@ -16,9 +16,9 @@\n \n #[macro_use]\n extern crate derive_new;\n+extern crate atty;\n extern crate diff;\n extern crate failure;\n-extern crate isatty;\n extern crate itertools;\n #[cfg(test)]\n #[macro_use]"}]}