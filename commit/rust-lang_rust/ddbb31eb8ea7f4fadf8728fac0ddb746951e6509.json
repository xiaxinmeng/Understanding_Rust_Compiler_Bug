{"sha": "ddbb31eb8ea7f4fadf8728fac0ddb746951e6509", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRkYmIzMWViOGVhN2Y0ZmFkZjg3MjhmYWMwZGRiNzQ2OTUxZTY1MDk=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-06-19T00:17:54Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-06-19T03:23:05Z"}, "message": "rustc: Remove the meta keyword\n\nIssue #487", "tree": {"sha": "6e286a1e41b5c026bea69dc8c6b72b025814e1cd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6e286a1e41b5c026bea69dc8c6b72b025814e1cd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509", "html_url": "https://github.com/rust-lang/rust/commit/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f58de2d68759693333913733ddfb0017f4546eac", "url": "https://api.github.com/repos/rust-lang/rust/commits/f58de2d68759693333913733ddfb0017f4546eac", "html_url": "https://github.com/rust-lang/rust/commit/f58de2d68759693333913733ddfb0017f4546eac"}], "stats": {"total": 35, "additions": 1, "deletions": 34}, "files": [{"sha": "15a30ea072893c8c263d4ed44c5d4c7136b58756", "filename": "src/comp/back/link.rs", "status": "modified", "additions": 1, "deletions": 21, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Fback%2Flink.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Fback%2Flink.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fback%2Flink.rs?ref=ddbb31eb8ea7f4fadf8728fac0ddb746951e6509", "patch": "@@ -254,30 +254,10 @@ iter crate_export_metas(&ast::crate c) -> @ast::meta_item {\n     for (ast::attribute attr in c.node.attrs) {\n         put @attr.node.value;\n     }\n-\n-    for (@ast::crate_directive cdir in c.node.directives) {\n-        alt (cdir.node) {\n-            case (ast::cdir_meta(?v, ?mis)) {\n-                if (v == ast::export_meta) {\n-                    for (@ast::meta_item mi in mis) { put mi; }\n-                }\n-            }\n-            case (_) { }\n-        }\n-    }\n }\n \n iter crate_local_metas(&ast::crate c) -> @ast::meta_item {\n-    for (@ast::crate_directive cdir in c.node.directives) {\n-        alt (cdir.node) {\n-            case (ast::cdir_meta(?v, ?mis)) {\n-                if (v == ast::local_meta) {\n-                    for (@ast::meta_item mi in mis) { put mi; }\n-                }\n-            }\n-            case (_) { }\n-        }\n-    }\n+    // FIXME: As above\n }\n \n fn get_crate_meta_export(&session::session sess, &ast::crate c, str k,"}, {"sha": "e5638474dc4b6fdaf406dbce26de9bcd150322e2", "filename": "src/comp/front/ast.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Ffront%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Ffront%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Ffront%2Fast.rs?ref=ddbb31eb8ea7f4fadf8728fac0ddb746951e6509", "patch": "@@ -80,8 +80,6 @@ type crate_ = rec(vec[@crate_directive] directives,\n                   _mod module,\n                   vec[attribute] attrs);\n \n-tag meta_visibility { export_meta; local_meta; }\n-\n tag crate_directive_ {\n     cdir_expr(@expr);\n \n@@ -92,7 +90,6 @@ tag crate_directive_ {\n     cdir_src_mod(ident, option::t[filename]);\n     cdir_dir_mod(ident, option::t[filename], vec[@crate_directive]);\n     cdir_view_item(@view_item);\n-    cdir_meta(meta_visibility, vec[@meta_item]);\n     cdir_syntax(path);\n     cdir_auth(path, _auth);\n }"}, {"sha": "33681eeed6306cbd4cc5a6e06f3dccecd894b7be", "filename": "src/comp/front/eval.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Ffront%2Feval.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Ffront%2Feval.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Ffront%2Feval.rs?ref=ddbb31eb8ea7f4fadf8728fac0ddb746951e6509", "patch": "@@ -316,7 +316,6 @@ fn eval_crate_directive(ctx cx, env e, @ast::crate_directive cdir, str prefix,\n         case (ast::cdir_view_item(?vi)) {\n             vec::push[@ast::view_item](view_items, vi);\n         }\n-        case (ast::cdir_meta(?vi, ?mi)) { }\n         case (ast::cdir_syntax(?pth)) { }\n         case (ast::cdir_auth(?pth, ?eff)) { }\n     }"}, {"sha": "ccf5f0e3003763f8cab71d8f6ccf4e1845d3f88c", "filename": "src/comp/front/parser.rs", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Ffront%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Ffront%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Ffront%2Fparser.rs?ref=ddbb31eb8ea7f4fadf8728fac0ddb746951e6509", "patch": "@@ -2320,13 +2320,6 @@ fn parse_crate_directive(&parser p) -> ast::crate_directive {\n         auto hi = p.get_hi_pos();\n         expect(p, token::SEMI);\n         ret spanned(lo, hi, ast::cdir_auth(n, a));\n-    } else if (eat_word(p, \"meta\")) {\n-        auto mv = ast::local_meta;\n-        if (eat_word(p, \"export\")) { mv = ast::export_meta; }\n-        auto mis = parse_meta(p);\n-        auto hi = p.get_hi_pos();\n-        expect(p, token::SEMI);\n-        ret spanned(lo, hi, ast::cdir_meta(mv, mis));\n     } else if (eat_word(p, \"mod\")) {\n         auto id = parse_ident(p);\n         auto file_opt ="}, {"sha": "06ca4db4554296c9088f1969e12fa6ff46634bee", "filename": "src/comp/middle/visit.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Fmiddle%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Fmiddle%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Fvisit.rs?ref=ddbb31eb8ea7f4fadf8728fac0ddb746951e6509", "patch": "@@ -73,7 +73,6 @@ fn visit_crate_directive[E](&@crate_directive cd, &E e, &vt[E] v) {\n             }\n         }\n         case (cdir_view_item(?vi)) { vt(v).visit_view_item(vi, e, v); }\n-        case (cdir_meta(_, _)) { }\n         case (cdir_syntax(_)) { }\n         case (cdir_auth(_, _)) { }\n     }"}, {"sha": "58a219127c4d801bf234b1cf92d368828ad93d84", "filename": "src/comp/middle/walk.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Fmiddle%2Fwalk.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ddbb31eb8ea7f4fadf8728fac0ddb746951e6509/src%2Fcomp%2Fmiddle%2Fwalk.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Fwalk.rs?ref=ddbb31eb8ea7f4fadf8728fac0ddb746951e6509", "patch": "@@ -70,7 +70,6 @@ fn walk_crate_directive(&ast_visitor v, @ast::crate_directive cd) {\n             }\n         }\n         case (ast::cdir_view_item(?vi)) { walk_view_item(v, vi); }\n-        case (ast::cdir_meta(_, _)) { }\n         case (ast::cdir_syntax(_)) { }\n         case (ast::cdir_auth(_, _)) { }\n     }"}]}