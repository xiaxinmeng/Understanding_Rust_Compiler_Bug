{"sha": "b117bd7366b38061ec91697f9f2c6d1736e01aa4", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIxMTdiZDczNjZiMzgwNjFlYzkxNjk3ZjlmMmM2ZDE3MzZlMDFhYTQ=", "commit": {"author": {"name": "Guanqun Lu", "email": "guanqun.lu@gmail.com", "date": "2019-09-04T15:49:30Z"}, "committer": {"name": "Guanqun Lu", "email": "guanqun.lu@gmail.com", "date": "2019-09-09T14:28:57Z"}, "message": "check git in bootstrap.py when trying to update submodule", "tree": {"sha": "7b3c6061a87d8cc2737b799172c51eb88f530acd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7b3c6061a87d8cc2737b799172c51eb88f530acd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b117bd7366b38061ec91697f9f2c6d1736e01aa4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b117bd7366b38061ec91697f9f2c6d1736e01aa4", "html_url": "https://github.com/rust-lang/rust/commit/b117bd7366b38061ec91697f9f2c6d1736e01aa4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b117bd7366b38061ec91697f9f2c6d1736e01aa4/comments", "author": null, "committer": null, "parents": [{"sha": "824383d4ab66abd32abc6e19b68d78ecfddcb7d4", "url": "https://api.github.com/repos/rust-lang/rust/commits/824383d4ab66abd32abc6e19b68d78ecfddcb7d4", "html_url": "https://github.com/rust-lang/rust/commit/824383d4ab66abd32abc6e19b68d78ecfddcb7d4"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "65129eeeec5041a267012ab20b59a31ec32b7a1b", "filename": "src/bootstrap/bootstrap.py", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b117bd7366b38061ec91697f9f2c6d1736e01aa4/src%2Fbootstrap%2Fbootstrap.py", "raw_url": "https://github.com/rust-lang/rust/raw/b117bd7366b38061ec91697f9f2c6d1736e01aa4/src%2Fbootstrap%2Fbootstrap.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap.py?ref=b117bd7366b38061ec91697f9f2c6d1736e01aa4", "patch": "@@ -708,6 +708,14 @@ def update_submodules(self):\n         if (not os.path.exists(os.path.join(self.rust_root, \".git\"))) or \\\n                 self.get_toml('submodules') == \"false\":\n             return\n+\n+        # check the existence of 'git' command\n+        try:\n+            subprocess.check_output(['git', '--version'])\n+        except (subprocess.CalledProcessError, OSError):\n+            print(\"error: `git` is not found, please make sure it's installed and in the path.\")\n+            sys.exit(1)\n+\n         slow_submodules = self.get_toml('fast-submodules') == \"false\"\n         start_time = time()\n         if slow_submodules:"}]}