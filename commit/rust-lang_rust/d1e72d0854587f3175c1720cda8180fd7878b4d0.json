{"sha": "d1e72d0854587f3175c1720cda8180fd7878b4d0", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQxZTcyZDA4NTQ1ODdmMzE3NWMxNzIwY2RhODE4MGZkNzg3OGI0ZDA=", "commit": {"author": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-06-14T15:01:06Z"}, "committer": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-06-14T15:01:06Z"}, "message": "Check argument count for `CreateThread`", "tree": {"sha": "95ad470b1e6b80388c4090a79532fa80ea7e0eec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/95ad470b1e6b80388c4090a79532fa80ea7e0eec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d1e72d0854587f3175c1720cda8180fd7878b4d0", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niIsEABYIADMWIQRJ2jPMDdiQ+U4U42Z0+n/VuNoUuAUCYMdvMhUceWQtaHVhbmdA\nb3V0bG9vay5jb20ACgkQdPp/1bjaFLjDUQD/c5MmSvYayJuGDHhI3QwT0FzQFY1J\nJL9lt31YO9CCWr8A/2Rv1L6ki3076hLSAeWXl23LdgbVe5jW80SDXobjl+0B\n=Ajye\n-----END PGP SIGNATURE-----", "payload": "tree 95ad470b1e6b80388c4090a79532fa80ea7e0eec\nparent 89c722ac325a440bdd5f34befe2d28e23ec29d25\nauthor hyd-dev <yd-huang@outlook.com> 1623682866 +0800\ncommitter hyd-dev <yd-huang@outlook.com> 1623682866 +0800\n\nCheck argument count for `CreateThread`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d1e72d0854587f3175c1720cda8180fd7878b4d0", "html_url": "https://github.com/rust-lang/rust/commit/d1e72d0854587f3175c1720cda8180fd7878b4d0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d1e72d0854587f3175c1720cda8180fd7878b4d0/comments", "author": null, "committer": null, "parents": [{"sha": "89c722ac325a440bdd5f34befe2d28e23ec29d25", "url": "https://api.github.com/repos/rust-lang/rust/commits/89c722ac325a440bdd5f34befe2d28e23ec29d25", "html_url": "https://github.com/rust-lang/rust/commit/89c722ac325a440bdd5f34befe2d28e23ec29d25"}], "stats": {"total": 7, "additions": 2, "deletions": 5}, "files": [{"sha": "f12e4df8cdfe338cadff515822726632ba306fbc", "filename": "src/shims/windows/foreign_items.rs", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/d1e72d0854587f3175c1720cda8180fd7878b4d0/src%2Fshims%2Fwindows%2Fforeign_items.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d1e72d0854587f3175c1720cda8180fd7878b4d0/src%2Fshims%2Fwindows%2Fforeign_items.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fshims%2Fwindows%2Fforeign_items.rs?ref=d1e72d0854587f3175c1720cda8180fd7878b4d0", "patch": "@@ -342,11 +342,8 @@ pub trait EvalContextExt<'mir, 'tcx: 'mir>: crate::MiriEvalContextExt<'mir, 'tcx\n \n             // Better error for attempts to create a thread\n             \"CreateThread\" => {\n-                this.check_abi_and_shim_symbol_clash(\n-                    abi,\n-                    Abi::System { unwind: false },\n-                    link_name_sym,\n-                )?;\n+                let &[_, _, _, _, _, _] =\n+                    this.check_shim(abi, Abi::System { unwind: false }, link_name_sym, args)?;\n \n                 this.handle_unsupported(\"can't create threads on Windows\")?;\n                 return Ok(EmulateByNameResult::AlreadyJumped);"}]}