{"sha": "e94bd34a06d878a41bb8be409f173a8824dda63f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU5NGJkMzRhMDZkODc4YTQxYmI4YmU0MDlmMTczYTg4MjRkZGE2M2Y=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2015-12-08T03:19:23Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2015-12-08T03:19:23Z"}, "message": "cargo upgrade, bug fix, and prepare for packaging", "tree": {"sha": "88457b8cc4fa53f44b306c77e57aa2776303bd5f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/88457b8cc4fa53f44b306c77e57aa2776303bd5f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e94bd34a06d878a41bb8be409f173a8824dda63f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e94bd34a06d878a41bb8be409f173a8824dda63f", "html_url": "https://github.com/rust-lang/rust/commit/e94bd34a06d878a41bb8be409f173a8824dda63f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e94bd34a06d878a41bb8be409f173a8824dda63f/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "585b071aa1d8f28b2b5134205cd3946634a69aed", "url": "https://api.github.com/repos/rust-lang/rust/commits/585b071aa1d8f28b2b5134205cd3946634a69aed", "html_url": "https://github.com/rust-lang/rust/commit/585b071aa1d8f28b2b5134205cd3946634a69aed"}], "stats": {"total": 55, "additions": 25, "deletions": 30}, "files": [{"sha": "ea9f07ad1eaccc8a99edcdc1c03a209db1da9c9d", "filename": "Cargo.lock", "status": "modified", "additions": 19, "deletions": 24, "changes": 43, "blob_url": "https://github.com/rust-lang/rust/blob/e94bd34a06d878a41bb8be409f173a8824dda63f/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/e94bd34a06d878a41bb8be409f173a8824dda63f/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=e94bd34a06d878a41bb8be409f173a8824dda63f", "patch": "@@ -1,23 +1,23 @@\n [root]\n name = \"rustfmt\"\n-version = \"0.0.1\"\n+version = \"0.0.2\"\n dependencies = [\n  \"diff 0.1.7 (git+https://github.com/utkarshkukreti/diff.rs.git)\",\n  \"env_logger 0.3.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"getopts 0.2.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"log 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.1.41 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"log 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.1.43 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-serialize 0.3.16 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"strings 0.0.1 (git+https://github.com/nrc/strings.rs.git)\",\n- \"syntex_syntax 0.22.0 (git+https://github.com/serde-rs/syntex)\",\n- \"term 0.2.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"syntex_syntax 0.23.0 (git+https://github.com/serde-rs/syntex)\",\n+ \"term 0.2.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.1.23 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-segmentation 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"aho-corasick\"\n-version = \"0.3.4\"\n+version = \"0.4.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"memchr 0.1.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -31,15 +31,15 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n [[package]]\n name = \"diff\"\n version = \"0.1.7\"\n-source = \"git+https://github.com/utkarshkukreti/diff.rs.git#6edb9454bf4127087aced0fe07ab3ea6894083cb\"\n+source = \"git+https://github.com/utkarshkukreti/diff.rs.git#05c701a379f7eaa9b386af79f0a17b87d814f9bd\"\n \n [[package]]\n name = \"env_logger\"\n version = \"0.3.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"log 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 0.1.41 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"log 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 0.1.43 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -56,22 +56,17 @@ dependencies = [\n  \"winapi-build 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"libc\"\n-version = \"0.1.12\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"libc\"\n version = \"0.2.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"log\"\n-version = \"0.3.3\"\n+version = \"0.3.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -84,10 +79,10 @@ dependencies = [\n \n [[package]]\n name = \"regex\"\n-version = \"0.1.41\"\n+version = \"0.1.43\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"aho-corasick 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"aho-corasick 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"memchr 0.1.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"regex-syntax 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -107,25 +102,25 @@ name = \"strings\"\n version = \"0.0.1\"\n source = \"git+https://github.com/nrc/strings.rs.git#d33d75a7c22522c76f2306b16b238e363de45af4\"\n dependencies = [\n- \"log 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"log 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"syntex_syntax\"\n-version = \"0.22.0\"\n-source = \"git+https://github.com/serde-rs/syntex#7913a15053ef5f2526aeff8b318f49d010582efd\"\n+version = \"0.23.0\"\n+source = \"git+https://github.com/serde-rs/syntex#f1e67d25ae320d6c7707bf0aef1ac072f63cf9c4\"\n dependencies = [\n  \"bitflags 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"log 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"log 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-serialize 0.3.16 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"term 0.2.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"term 0.2.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-xid 0.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"term\"\n-version = \"0.2.13\"\n+version = \"0.2.14\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"kernel32-sys 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\","}, {"sha": "4a976cbe99799596e62417fd9ab6eacded20f871", "filename": "Cargo.toml", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/e94bd34a06d878a41bb8be409f173a8824dda63f/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/e94bd34a06d878a41bb8be409f173a8824dda63f/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=e94bd34a06d878a41bb8be409f173a8824dda63f", "patch": "@@ -1,12 +1,13 @@\n [package]\n \n name = \"rustfmt\"\n-version = \"0.0.1\"\n-authors = [\"Nicholas Cameron <nrc@ncameron.org>\"]\n+version = \"0.0.2\"\n+authors = [\"Nicholas Cameron <ncameron@mozilla.com>\", \"Marcus Klaas <mail@marcusklaas.nl>\", \"The Rustfmt contributors\"]\n description = \"Tool to find and fix Rust formatting issues\"\n-repository = \"https://github.com/nick29581/rustfmt\"\n+repository = \"https://github.com/rust-lang-nursery/rustfmt\"\n readme = \"README.md\"\n license = \"Apache-2.0/MIT\"\n+include = [\"src/*.rs\", \"Cargo.toml\"]\n \n [dependencies]\n toml = \"0.1.20\"\n@@ -20,5 +21,3 @@ syntex_syntax = { git = \"https://github.com/serde-rs/syntex\" }\n log = \"0.3.2\"\n env_logger = \"0.3.1\"\n getopts = \"0.2\"\n-\n-[dev-dependencies]"}, {"sha": "8a0e1c9b8473e3cb2390c9712597b22586eb2376", "filename": "src/visitor.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e94bd34a06d878a41bb8be409f173a8824dda63f/src%2Fvisitor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e94bd34a06d878a41bb8be409f173a8824dda63f/src%2Fvisitor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fvisitor.rs?ref=e94bd34a06d878a41bb8be409f173a8824dda63f", "patch": "@@ -55,7 +55,7 @@ impl<'a> FmtVisitor<'a> {\n \n                 self.push_rewrite(stmt.span, rewrite);\n             }\n-            ast::Stmt_::StmtMac(ref mac, _macro_style) => {\n+            ast::Stmt_::StmtMac(ref mac, _macro_style, _) => {\n                 self.format_missing_with_indent(stmt.span.lo);\n                 self.visit_mac(mac);\n             }\n@@ -360,6 +360,7 @@ impl<'a> FmtVisitor<'a> {\n                 // FIXME: Implement\n             }\n             ast::ImplItemKind::Macro(ref mac) => {\n+                self.format_missing_with_indent(ii.span.lo);\n                 self.visit_mac(mac);\n             }\n         }"}]}