{"sha": "76c90c3015a7e3ad6f0e6b807839ff59f17eba89", "node_id": "C_kwDOAAsO6NoAKDc2YzkwYzMwMTVhN2UzYWQ2ZjBlNmI4MDc4MzlmZjU5ZjE3ZWJhODk", "commit": {"author": {"name": "Aaron Kofsky", "email": "aaronko@umich.edu", "date": "2022-08-05T17:20:43Z"}, "committer": {"name": "Aaron Kofsky", "email": "aaronko@umich.edu", "date": "2022-08-05T17:20:43Z"}, "message": "Use `#![warn(let_underscore_drop)]` in tests.", "tree": {"sha": "6b027a8d23c4307f83a2d3b8881e184edb28a102", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6b027a8d23c4307f83a2d3b8881e184edb28a102"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/76c90c3015a7e3ad6f0e6b807839ff59f17eba89", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/76c90c3015a7e3ad6f0e6b807839ff59f17eba89", "html_url": "https://github.com/rust-lang/rust/commit/76c90c3015a7e3ad6f0e6b807839ff59f17eba89", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/76c90c3015a7e3ad6f0e6b807839ff59f17eba89/comments", "author": {"login": "a2aaron", "id": 15718048, "node_id": "MDQ6VXNlcjE1NzE4MDQ4", "avatar_url": "https://avatars.githubusercontent.com/u/15718048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a2aaron", "html_url": "https://github.com/a2aaron", "followers_url": "https://api.github.com/users/a2aaron/followers", "following_url": "https://api.github.com/users/a2aaron/following{/other_user}", "gists_url": "https://api.github.com/users/a2aaron/gists{/gist_id}", "starred_url": "https://api.github.com/users/a2aaron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a2aaron/subscriptions", "organizations_url": "https://api.github.com/users/a2aaron/orgs", "repos_url": "https://api.github.com/users/a2aaron/repos", "events_url": "https://api.github.com/users/a2aaron/events{/privacy}", "received_events_url": "https://api.github.com/users/a2aaron/received_events", "type": "User", "site_admin": false}, "committer": {"login": "a2aaron", "id": 15718048, "node_id": "MDQ6VXNlcjE1NzE4MDQ4", "avatar_url": "https://avatars.githubusercontent.com/u/15718048?v=4", "gravatar_id": "", "url": "https://api.github.com/users/a2aaron", "html_url": "https://github.com/a2aaron", "followers_url": "https://api.github.com/users/a2aaron/followers", "following_url": "https://api.github.com/users/a2aaron/following{/other_user}", "gists_url": "https://api.github.com/users/a2aaron/gists{/gist_id}", "starred_url": "https://api.github.com/users/a2aaron/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/a2aaron/subscriptions", "organizations_url": "https://api.github.com/users/a2aaron/orgs", "repos_url": "https://api.github.com/users/a2aaron/repos", "events_url": "https://api.github.com/users/a2aaron/events{/privacy}", "received_events_url": "https://api.github.com/users/a2aaron/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d355ec94ff0ef409bfa953f715987a98de13fd64", "url": "https://api.github.com/repos/rust-lang/rust/commits/d355ec94ff0ef409bfa953f715987a98de13fd64", "html_url": "https://github.com/rust-lang/rust/commit/d355ec94ff0ef409bfa953f715987a98de13fd64"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "f298871f122d3a704a1e46b08f91f6269eae9c76", "filename": "src/test/ui/lint/let_underscore/let_underscore_drop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/76c90c3015a7e3ad6f0e6b807839ff59f17eba89/src%2Ftest%2Fui%2Flint%2Flet_underscore%2Flet_underscore_drop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76c90c3015a7e3ad6f0e6b807839ff59f17eba89/src%2Ftest%2Fui%2Flint%2Flet_underscore%2Flet_underscore_drop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flet_underscore%2Flet_underscore_drop.rs?ref=76c90c3015a7e3ad6f0e6b807839ff59f17eba89", "patch": "@@ -1,5 +1,5 @@\n // check-pass\n-// compile-flags: -W let_underscore_drop\n+#![warn(let_underscore_drop)]\n \n struct NontrivialDrop;\n "}, {"sha": "7b7de202e46268db4fa376fcb00913b586901207", "filename": "src/test/ui/lint/let_underscore/let_underscore_drop.stderr", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/76c90c3015a7e3ad6f0e6b807839ff59f17eba89/src%2Ftest%2Fui%2Flint%2Flet_underscore%2Flet_underscore_drop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/76c90c3015a7e3ad6f0e6b807839ff59f17eba89/src%2Ftest%2Fui%2Flint%2Flet_underscore%2Flet_underscore_drop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flet_underscore%2Flet_underscore_drop.stderr?ref=76c90c3015a7e3ad6f0e6b807839ff59f17eba89", "patch": "@@ -4,7 +4,11 @@ warning: non-binding let on a type that implements `Drop`\n LL |     let _ = NontrivialDrop;\n    |     ^^^^^^^^^^^^^^^^^^^^^^^\n    |\n-   = note: requested on the command line with `-W let-underscore-drop`\n+note: the lint level is defined here\n+  --> $DIR/let_underscore_drop.rs:2:9\n+   |\n+LL | #![warn(let_underscore_drop)]\n+   |         ^^^^^^^^^^^^^^^^^^^\n help: consider binding to an unused variable to avoid immediately dropping the value\n    |\n LL |     let _unused = NontrivialDrop;"}]}