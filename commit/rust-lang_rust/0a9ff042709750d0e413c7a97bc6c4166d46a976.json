{"sha": "0a9ff042709750d0e413c7a97bc6c4166d46a976", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBhOWZmMDQyNzA5NzUwZDBlNDEzYzdhOTdiYzZjNDE2NmQ0NmE5NzY=", "commit": {"author": {"name": "Arif Roktim", "email": "arifrroktim@gmail.com", "date": "2020-10-23T06:06:04Z"}, "committer": {"name": "Arif Roktim", "email": "arifrroktim@gmail.com", "date": "2020-10-24T06:20:45Z"}, "message": "Don't interpret type path as part of visibility.", "tree": {"sha": "3e48009455cf0314952dae08649b6e8f41605024", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3e48009455cf0314952dae08649b6e8f41605024"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0a9ff042709750d0e413c7a97bc6c4166d46a976", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0a9ff042709750d0e413c7a97bc6c4166d46a976", "html_url": "https://github.com/rust-lang/rust/commit/0a9ff042709750d0e413c7a97bc6c4166d46a976", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0a9ff042709750d0e413c7a97bc6c4166d46a976/comments", "author": {"login": "ArifRoktim", "id": 23637819, "node_id": "MDQ6VXNlcjIzNjM3ODE5", "avatar_url": "https://avatars.githubusercontent.com/u/23637819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArifRoktim", "html_url": "https://github.com/ArifRoktim", "followers_url": "https://api.github.com/users/ArifRoktim/followers", "following_url": "https://api.github.com/users/ArifRoktim/following{/other_user}", "gists_url": "https://api.github.com/users/ArifRoktim/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArifRoktim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArifRoktim/subscriptions", "organizations_url": "https://api.github.com/users/ArifRoktim/orgs", "repos_url": "https://api.github.com/users/ArifRoktim/repos", "events_url": "https://api.github.com/users/ArifRoktim/events{/privacy}", "received_events_url": "https://api.github.com/users/ArifRoktim/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ArifRoktim", "id": 23637819, "node_id": "MDQ6VXNlcjIzNjM3ODE5", "avatar_url": "https://avatars.githubusercontent.com/u/23637819?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ArifRoktim", "html_url": "https://github.com/ArifRoktim", "followers_url": "https://api.github.com/users/ArifRoktim/followers", "following_url": "https://api.github.com/users/ArifRoktim/following{/other_user}", "gists_url": "https://api.github.com/users/ArifRoktim/gists{/gist_id}", "starred_url": "https://api.github.com/users/ArifRoktim/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ArifRoktim/subscriptions", "organizations_url": "https://api.github.com/users/ArifRoktim/orgs", "repos_url": "https://api.github.com/users/ArifRoktim/repos", "events_url": "https://api.github.com/users/ArifRoktim/events{/privacy}", "received_events_url": "https://api.github.com/users/ArifRoktim/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b3c851dd37f39f79e7e8807378f45fdde7f6411", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b3c851dd37f39f79e7e8807378f45fdde7f6411", "html_url": "https://github.com/rust-lang/rust/commit/8b3c851dd37f39f79e7e8807378f45fdde7f6411"}], "stats": {"total": 62, "additions": 61, "deletions": 1}, "files": [{"sha": "4ab206a838e5c8dc46ec9441ff177ec611a09e9c", "filename": "crates/parser/src/grammar.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0a9ff042709750d0e413c7a97bc6c4166d46a976/crates%2Fparser%2Fsrc%2Fgrammar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a9ff042709750d0e413c7a97bc6c4166d46a976/crates%2Fparser%2Fsrc%2Fgrammar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fparser%2Fsrc%2Fgrammar.rs?ref=0a9ff042709750d0e413c7a97bc6c4166d46a976", "patch": "@@ -184,7 +184,11 @@ fn opt_visibility(p: &mut Parser) -> bool {\n                     // pub(self) struct S;\n                     // pub(self) struct S;\n                     // pub(self) struct S;\n-                    T![crate] | T![self] | T![super] => {\n+\n+                    // test pub_parens_typepath\n+                    // struct B(pub (super::A));\n+                    // struct B(pub (crate::A,));\n+                    T![crate] | T![self] | T![super] if p.nth(2) != T![:] => {\n                         p.bump_any();\n                         p.bump_any();\n                         p.expect(T![')']);"}, {"sha": "c204f0e2d94421a6c233f3c0aafbe74e615ac5d7", "filename": "crates/syntax/test_data/parser/inline/ok/0153_pub_parens_typepath.rast", "status": "added", "additions": 54, "deletions": 0, "changes": 54, "blob_url": "https://github.com/rust-lang/rust/blob/0a9ff042709750d0e413c7a97bc6c4166d46a976/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0153_pub_parens_typepath.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0a9ff042709750d0e413c7a97bc6c4166d46a976/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0153_pub_parens_typepath.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0153_pub_parens_typepath.rast?ref=0a9ff042709750d0e413c7a97bc6c4166d46a976", "patch": "@@ -0,0 +1,54 @@\n+SOURCE_FILE@0..53\n+  STRUCT@0..25\n+    STRUCT_KW@0..6 \"struct\"\n+    WHITESPACE@6..7 \" \"\n+    NAME@7..8\n+      IDENT@7..8 \"B\"\n+    TUPLE_FIELD_LIST@8..24\n+      L_PAREN@8..9 \"(\"\n+      TUPLE_FIELD@9..23\n+        VISIBILITY@9..12\n+          PUB_KW@9..12 \"pub\"\n+        WHITESPACE@12..13 \" \"\n+        PAREN_TYPE@13..23\n+          L_PAREN@13..14 \"(\"\n+          PATH_TYPE@14..22\n+            PATH@14..22\n+              PATH@14..19\n+                PATH_SEGMENT@14..19\n+                  SUPER_KW@14..19 \"super\"\n+              COLON2@19..21 \"::\"\n+              PATH_SEGMENT@21..22\n+                NAME_REF@21..22\n+                  IDENT@21..22 \"A\"\n+          R_PAREN@22..23 \")\"\n+      R_PAREN@23..24 \")\"\n+    SEMICOLON@24..25 \";\"\n+  WHITESPACE@25..26 \"\\n\"\n+  STRUCT@26..52\n+    STRUCT_KW@26..32 \"struct\"\n+    WHITESPACE@32..33 \" \"\n+    NAME@33..34\n+      IDENT@33..34 \"B\"\n+    TUPLE_FIELD_LIST@34..51\n+      L_PAREN@34..35 \"(\"\n+      TUPLE_FIELD@35..50\n+        VISIBILITY@35..38\n+          PUB_KW@35..38 \"pub\"\n+        WHITESPACE@38..39 \" \"\n+        TUPLE_TYPE@39..50\n+          L_PAREN@39..40 \"(\"\n+          PATH_TYPE@40..48\n+            PATH@40..48\n+              PATH@40..45\n+                PATH_SEGMENT@40..45\n+                  CRATE_KW@40..45 \"crate\"\n+              COLON2@45..47 \"::\"\n+              PATH_SEGMENT@47..48\n+                NAME_REF@47..48\n+                  IDENT@47..48 \"A\"\n+          COMMA@48..49 \",\"\n+          R_PAREN@49..50 \")\"\n+      R_PAREN@50..51 \")\"\n+    SEMICOLON@51..52 \";\"\n+  WHITESPACE@52..53 \"\\n\""}, {"sha": "d4c1638226ea2377604b968d428302bee9356e5a", "filename": "crates/syntax/test_data/parser/inline/ok/0153_pub_parens_typepath.rs", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0a9ff042709750d0e413c7a97bc6c4166d46a976/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0153_pub_parens_typepath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a9ff042709750d0e413c7a97bc6c4166d46a976/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0153_pub_parens_typepath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0153_pub_parens_typepath.rs?ref=0a9ff042709750d0e413c7a97bc6c4166d46a976", "patch": "@@ -0,0 +1,2 @@\n+struct B(pub (super::A));\n+struct B(pub (crate::A,));"}]}