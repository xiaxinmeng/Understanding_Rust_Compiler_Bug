{"sha": "fdf50e84b8e1db5228c7a03699c791066638222b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZkZjUwZTg0YjhlMWRiNTIyOGM3YTAzNjk5Yzc5MTA2NjYzODIyMmI=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-02-06T00:21:52Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-02-06T00:21:52Z"}, "message": "std: Use ctypes::c_int in path_is_dir", "tree": {"sha": "43ba71c7d919afcab96c6eb8db7ed745dd68e7bc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/43ba71c7d919afcab96c6eb8db7ed745dd68e7bc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fdf50e84b8e1db5228c7a03699c791066638222b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fdf50e84b8e1db5228c7a03699c791066638222b", "html_url": "https://github.com/rust-lang/rust/commit/fdf50e84b8e1db5228c7a03699c791066638222b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fdf50e84b8e1db5228c7a03699c791066638222b/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b7ec2488ff2f29681fe28691d20fd2c260a9e454", "url": "https://api.github.com/repos/rust-lang/rust/commits/b7ec2488ff2f29681fe28691d20fd2c260a9e454", "html_url": "https://github.com/rust-lang/rust/commit/b7ec2488ff2f29681fe28691d20fd2c260a9e454"}], "stats": {"total": 5, "additions": 1, "deletions": 4}, "files": [{"sha": "75bde25afb860c7e6ab48c209dacb178f257e754", "filename": "src/libstd/fs.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/fdf50e84b8e1db5228c7a03699c791066638222b/src%2Flibstd%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdf50e84b8e1db5228c7a03699c791066638222b/src%2Flibstd%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Ffs.rs?ref=fdf50e84b8e1db5228c7a03699c791066638222b", "patch": "@@ -121,10 +121,7 @@ Indicates whether a path represents a directory.\n */\n fn path_is_dir(p: path) -> bool {\n     ret str::as_buf(p, {|buf|\n-        // FIXME: instead of 0i32, ctypes::c_int\n-        // should be used here. but it triggers\n-        // a segv fault. Issue 1558\n-        rustrt::rust_path_is_dir(buf) != 0i32\n+        rustrt::rust_path_is_dir(buf) != 0 as ctypes::c_int\n     });\n }\n "}]}