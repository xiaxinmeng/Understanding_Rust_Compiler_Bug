{"sha": "f42a36cded2ac71e36b2572c54da0fc623af2eca", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY0MmEzNmNkZWQyYWM3MWUzNmIyNTcyYzU0ZGEwZmM2MjNhZjJlY2E=", "commit": {"author": {"name": "Florian Hahn", "email": "flo@fhahn.com", "date": "2013-11-26T22:54:32Z"}, "committer": {"name": "Florian Hahn", "email": "flo@fhahn.com", "date": "2014-01-01T22:36:57Z"}, "message": "Remove `extern mod foo (name=\"bar\")` syntax, closes #9543", "tree": {"sha": "80886ea0826589bc767f3b50171dd33894d026ef", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/80886ea0826589bc767f3b50171dd33894d026ef"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f42a36cded2ac71e36b2572c54da0fc623af2eca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f42a36cded2ac71e36b2572c54da0fc623af2eca", "html_url": "https://github.com/rust-lang/rust/commit/f42a36cded2ac71e36b2572c54da0fc623af2eca", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f42a36cded2ac71e36b2572c54da0fc623af2eca/comments", "author": {"login": "fhahn", "id": 450489, "node_id": "MDQ6VXNlcjQ1MDQ4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/450489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fhahn", "html_url": "https://github.com/fhahn", "followers_url": "https://api.github.com/users/fhahn/followers", "following_url": "https://api.github.com/users/fhahn/following{/other_user}", "gists_url": "https://api.github.com/users/fhahn/gists{/gist_id}", "starred_url": "https://api.github.com/users/fhahn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fhahn/subscriptions", "organizations_url": "https://api.github.com/users/fhahn/orgs", "repos_url": "https://api.github.com/users/fhahn/repos", "events_url": "https://api.github.com/users/fhahn/events{/privacy}", "received_events_url": "https://api.github.com/users/fhahn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fhahn", "id": 450489, "node_id": "MDQ6VXNlcjQ1MDQ4OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/450489?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fhahn", "html_url": "https://github.com/fhahn", "followers_url": "https://api.github.com/users/fhahn/followers", "following_url": "https://api.github.com/users/fhahn/following{/other_user}", "gists_url": "https://api.github.com/users/fhahn/gists{/gist_id}", "starred_url": "https://api.github.com/users/fhahn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fhahn/subscriptions", "organizations_url": "https://api.github.com/users/fhahn/orgs", "repos_url": "https://api.github.com/users/fhahn/repos", "events_url": "https://api.github.com/users/fhahn/events{/privacy}", "received_events_url": "https://api.github.com/users/fhahn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "51ace54597984b221321d1cac0f80c50f9e00f71", "url": "https://api.github.com/repos/rust-lang/rust/commits/51ace54597984b221321d1cac0f80c50f9e00f71", "html_url": "https://github.com/rust-lang/rust/commit/51ace54597984b221321d1cac0f80c50f9e00f71"}], "stats": {"total": 61, "additions": 29, "deletions": 32}, "files": [{"sha": "f25bd14e1da1a2983a2b3d160a7bef77fb33dccc", "filename": "src/librustc/front/std_inject.rs", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustc%2Ffront%2Fstd_inject.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustc%2Ffront%2Fstd_inject.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ffront%2Fstd_inject.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -21,8 +21,6 @@ use syntax::fold;\n use syntax::opt_vec;\n use syntax::util::small_vector::SmallVector;\n \n-static STD_VERSION: &'static str = \"0.9-pre\";\n-\n pub fn maybe_inject_libstd_ref(sess: Session, crate: ast::Crate)\n                                -> ast::Crate {\n     if use_std(&crate) {\n@@ -57,12 +55,9 @@ struct StandardLibraryInjector {\n \n impl fold::ast_fold for StandardLibraryInjector {\n     fn fold_crate(&mut self, crate: ast::Crate) -> ast::Crate {\n-        let version = STD_VERSION.to_managed();\n-        let vers_item = attr::mk_name_value_item_str(@\"vers\", version);\n         let mut vis = ~[ast::view_item {\n             node: ast::view_item_extern_mod(self.sess.ident_of(\"std\"),\n                                             None,\n-                                            ~[vers_item.clone()],\n                                             ast::DUMMY_NODE_ID),\n             attrs: ~[],\n             vis: ast::private,\n@@ -73,7 +68,6 @@ impl fold::ast_fold for StandardLibraryInjector {\n             vis.push(ast::view_item {\n                 node: ast::view_item_extern_mod(self.sess.ident_of(\"green\"),\n                                                 None,\n-                                                ~[vers_item],\n                                                 ast::DUMMY_NODE_ID),\n                 attrs: ~[],\n                 vis: ast::private,\n@@ -82,7 +76,6 @@ impl fold::ast_fold for StandardLibraryInjector {\n             vis.push(ast::view_item {\n                 node: ast::view_item_extern_mod(self.sess.ident_of(\"rustuv\"),\n                                                 None,\n-                                                ~[vers_item],\n                                                 ast::DUMMY_NODE_ID),\n                 attrs: ~[],\n                 vis: ast::private,"}, {"sha": "6a07222100895b0640a62bf6f1f343c826d343e6", "filename": "src/librustc/front/test.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustc%2Ffront%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustc%2Ffront%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Ffront%2Ftest.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -291,8 +291,7 @@ fn mk_std(cx: &TestCtxt) -> ast::view_item {\n                                             path_node(~[id_extra]),\n                                             ast::DUMMY_NODE_ID))])\n     } else {\n-        let mi = attr::mk_name_value_item_str(@\"vers\", @\"0.9-pre\");\n-        ast::view_item_extern_mod(id_extra, None, ~[mi], ast::DUMMY_NODE_ID)\n+        ast::view_item_extern_mod(id_extra, None, ast::DUMMY_NODE_ID)\n     };\n     ast::view_item {\n         node: vi,"}, {"sha": "7e94f06d925e2b83060427fa61321922dd7d972d", "filename": "src/librustc/metadata/creader.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustc%2Fmetadata%2Fcreader.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustc%2Fmetadata%2Fcreader.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmetadata%2Fcreader.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -132,7 +132,7 @@ fn visit_crate(e: &Env, c: &ast::Crate) {\n \n fn visit_view_item(e: &mut Env, i: &ast::view_item) {\n     match i.node {\n-      ast::view_item_extern_mod(ident, path_opt, _, id) => {\n+      ast::view_item_extern_mod(ident, path_opt, id) => {\n           let ident = token::ident_to_str(&ident);\n           debug!(\"resolving extern mod stmt. ident: {:?} path_opt: {:?}\",\n                  ident, path_opt);"}, {"sha": "4f53870026d39890eec47d8cf99586761c8e12a2", "filename": "src/librustc/middle/resolve.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustc%2Fmiddle%2Fresolve.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustc%2Fmiddle%2Fresolve.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fresolve.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -1507,7 +1507,7 @@ impl Resolver {\n                 }\n             }\n \n-            view_item_extern_mod(name, _, _, node_id) => {\n+            view_item_extern_mod(name, _, node_id) => {\n                 // n.b. we don't need to look at the path option here, because cstore already did\n                 match self.session.cstore.find_extern_mod_stmt_cnum(node_id) {\n                     Some(crate_id) => {"}, {"sha": "4bcf1985ef235e5f1930f6f0221c5598dfab34ee", "filename": "src/librustdoc/clean.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustdoc%2Fclean.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustdoc%2Fclean.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -994,15 +994,15 @@ impl Clean<Item> for ast::view_item {\n \n #[deriving(Clone, Encodable, Decodable)]\n pub enum ViewItemInner {\n-    ExternMod(~str, Option<~str>, ~[Attribute], ast::NodeId),\n+    ExternMod(~str, Option<~str>, ast::NodeId),\n     Import(~[ViewPath])\n }\n \n impl Clean<ViewItemInner> for ast::view_item_ {\n     fn clean(&self) -> ViewItemInner {\n         match self {\n-            &ast::view_item_extern_mod(ref i, ref p, ref mi, ref id) =>\n-                ExternMod(i.clean(), p.map(|(ref x, _)| x.to_owned()),  mi.clean(), *id),\n+            &ast::view_item_extern_mod(ref i, ref p, ref id) =>\n+                ExternMod(i.clean(), p.map(|(ref x, _)| x.to_owned()), *id),\n             &ast::view_item_use(ref vp) => Import(vp.clean())\n         }\n     }"}, {"sha": "7c3d3b4b44f76016ab5022e4f91044c5918ed2ed", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -995,7 +995,7 @@ fn item_module(w: &mut Writer, cx: &Context,\n \n             clean::ViewItemItem(ref item) => {\n                 match item.inner {\n-                    clean::ExternMod(ref name, ref src, _, _) => {\n+                    clean::ExternMod(ref name, ref src, _) => {\n                         write!(w, \"<tr><td><code>extern mod {}\",\n                                name.as_slice());\n                         match *src {"}, {"sha": "48cd153e48884220e942e2cc82df0feeddf3b8af", "filename": "src/librustpkg/util.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustpkg%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibrustpkg%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustpkg%2Futil.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -461,7 +461,7 @@ impl<'a> Visitor<()> for ViewItemVisitor<'a> {\n \n         match vi.node {\n             // ignore metadata, I guess\n-            ast::view_item_extern_mod(lib_ident, path_opt, _, _) => {\n+            ast::view_item_extern_mod(lib_ident, path_opt, _) => {\n                 let lib_name = match path_opt {\n                     Some((p, _)) => p,\n                     None => self.sess.str_of(lib_ident)"}, {"sha": "51aa7cd4377b820dd33854fe6e92d7a2fea2b13e", "filename": "src/libsyntax/ast.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fast.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -1057,7 +1057,7 @@ pub enum view_item_ {\n     // optional @str: if present, this is a location (containing\n     // arbitrary characters) from which to fetch the crate sources\n     // For example, extern mod whatever = \"github.com/mozilla/rust\"\n-    view_item_extern_mod(Ident, Option<(@str, StrStyle)>, ~[@MetaItem], NodeId),\n+    view_item_extern_mod(Ident, Option<(@str, StrStyle)>, NodeId),\n     view_item_use(~[@view_path]),\n }\n "}, {"sha": "f93eb6754adf191c9d6ea2de9269c6c9d0a93897", "filename": "src/libsyntax/ast_util.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fast_util.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fast_util.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fast_util.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -419,7 +419,7 @@ impl<'a, O: IdVisitingOperation> Visitor<()> for IdVisitor<'a, O> {\n \n     fn visit_view_item(&mut self, view_item: &view_item, env: ()) {\n         match view_item.node {\n-            view_item_extern_mod(_, _, _, node_id) => {\n+            view_item_extern_mod(_, _, node_id) => {\n                 self.operation.visit_id(node_id)\n             }\n             view_item_use(ref view_paths) => {"}, {"sha": "4a2adc04fbd00313f5e77a4288fb8ed3108eab9f", "filename": "src/libsyntax/fold.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Ffold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Ffold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffold.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -66,11 +66,9 @@ pub trait ast_fold {\n         let inner_view_item = match vi.node {\n             view_item_extern_mod(ref ident,\n                                  string,\n-                                 ref meta_items,\n                                  node_id) => {\n                 view_item_extern_mod(ident.clone(),\n                                      string,\n-                                     self.fold_meta_items(*meta_items),\n                                      self.new_id(node_id))\n             }\n             view_item_use(ref view_paths) => {"}, {"sha": "df6fbe98aed4b2585cf9a6a23c45ff3fefe00c27", "filename": "src/libsyntax/parse/obsolete.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fparse%2Fobsolete.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fparse%2Fobsolete.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fobsolete.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -45,6 +45,7 @@ pub enum ObsoleteSyntax {\n     ObsoleteBoxedClosure,\n     ObsoleteClosureType,\n     ObsoleteMultipleImport,\n+    ObsoleteExternModAttributesInParens\n }\n \n impl to_bytes::IterBytes for ObsoleteSyntax {\n@@ -145,6 +146,11 @@ impl ParserObsoleteMethods for Parser {\n                 \"multiple imports\",\n                 \"only one import is allowed per `use` statement\"\n             ),\n+            ObsoleteExternModAttributesInParens => (\n+                \"`extern mod` with linkage attribute list\",\n+                \"use `extern mod foo = \\\"bar\\\";` instead of \\\n+                `extern mod foo (name = \\\"bar\\\")`\"\n+            )\n         };\n \n         self.report(sp, kind, kind_str, desc);"}, {"sha": "5e2b022d17525b86659b9af24870f2c7ec4c3f13", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -4446,11 +4446,18 @@ impl Parser {\n             self.span_err(*self.span, \"an ABI may not be specified here\");\n         }\n \n+\n+        if *self.token == token::LPAREN {\n+            // `extern mod foo (name = \"bar\"[,vers = \"version\"]) is obsolete,\n+            // `extern mod foo = \"bar#[version]\";` should be used.\n+            // Parse obsolete options to avoid wired parser errors\n+            self.parse_optional_meta();\n+            self.obsolete(*self.span, ObsoleteExternModAttributesInParens);\n+        }\n         // extern mod foo;\n-        let metadata = self.parse_optional_meta();\n         self.expect(&token::SEMI);\n         iovi_view_item(ast::view_item {\n-            node: view_item_extern_mod(ident, maybe_path, metadata, ast::DUMMY_NODE_ID),\n+            node: view_item_extern_mod(ident, maybe_path, ast::DUMMY_NODE_ID),\n             attrs: attrs,\n             vis: visibility,\n             span: mk_sp(lo, self.last_span.hi)"}, {"sha": "30e540c9520079b508fbbe8c3b471e7006e09396", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -1952,7 +1952,7 @@ pub fn print_view_item(s: @ps, item: &ast::view_item) {\n     print_outer_attributes(s, item.attrs);\n     print_visibility(s, item.vis);\n     match item.node {\n-        ast::view_item_extern_mod(id, ref optional_path, ref mta, _) => {\n+        ast::view_item_extern_mod(id, ref optional_path, _) => {\n             head(s, \"extern mod\");\n             print_ident(s, id);\n             for &(ref p, style) in optional_path.iter() {\n@@ -1961,11 +1961,6 @@ pub fn print_view_item(s: @ps, item: &ast::view_item) {\n                 space(s.s);\n                 print_string(s, *p, style);\n             }\n-            if !mta.is_empty() {\n-                popen(s);\n-                commasep(s, consistent, *mta, |p, &i| print_meta_item(p, i));\n-                pclose(s);\n-            }\n         }\n \n         ast::view_item_use(ref vps) => {"}, {"sha": "2e83a038c589dccfed5598ffd2c39f2855ff16dd", "filename": "src/libsyntax/visit.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Flibsyntax%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fvisit.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -139,7 +139,7 @@ pub fn walk_mod<E:Clone, V:Visitor<E>>(visitor: &mut V, module: &_mod, env: E) {\n \n pub fn walk_view_item<E:Clone, V:Visitor<E>>(visitor: &mut V, vi: &view_item, env: E) {\n     match vi.node {\n-        view_item_extern_mod(name, _, _, _) => {\n+        view_item_extern_mod(name, _, _) => {\n             visitor.visit_ident(vi.span, name, env)\n         }\n         view_item_use(ref paths) => {"}, {"sha": "d329b8546b6117f428d9038e655eb476dbb74d9d", "filename": "src/test/run-pass/crateresolve8.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Ftest%2Frun-pass%2Fcrateresolve8.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Ftest%2Frun-pass%2Fcrateresolve8.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fcrateresolve8.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -13,7 +13,7 @@\n \n #[crate_id=\"crateresolve8#0.1\"];\n \n-extern mod crateresolve8(vers = \"0.1\", package_id=\"crateresolve8#0.1\");\n+extern mod crateresolve8 = \"crateresolve8#0.1\";\n //extern mod crateresolve8(vers = \"0.1\");\n \n pub fn main() {"}, {"sha": "2b27a56dc79d45dbe872b7cd75354b134671dc94", "filename": "src/test/run-pass/extern-crosscrate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Ftest%2Frun-pass%2Fextern-crosscrate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Ftest%2Frun-pass%2Fextern-crosscrate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fextern-crosscrate.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -11,7 +11,7 @@\n // xfail-fast\n //aux-build:extern-crosscrate-source.rs\n \n-extern mod externcallback(vers = \"0.1\");\n+extern mod externcallback = \"externcallback#0.1\";\n \n fn fact(n: uint) -> uint {\n     unsafe {"}, {"sha": "1af4d892a1a919760b14e12b38996e59a7c49bc4", "filename": "src/test/run-pass/issue-6919.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Ftest%2Frun-pass%2Fissue-6919.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f42a36cded2ac71e36b2572c54da0fc623af2eca/src%2Ftest%2Frun-pass%2Fissue-6919.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-6919.rs?ref=f42a36cded2ac71e36b2572c54da0fc623af2eca", "patch": "@@ -12,7 +12,6 @@\n // xfail-fast\n \n #[crate_id=\"issue-6919\"];\n-\n extern mod issue6919_3;\n \n pub fn main() {"}]}