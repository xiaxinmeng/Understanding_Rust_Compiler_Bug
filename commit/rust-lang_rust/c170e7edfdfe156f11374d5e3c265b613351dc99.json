{"sha": "c170e7edfdfe156f11374d5e3c265b613351dc99", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMxNzBlN2VkZmRmZTE1NmYxMTM3NGQ1ZTNjMjY1YjYxMzM1MWRjOTk=", "commit": {"author": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-01-27T21:39:31Z"}, "committer": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-01-27T21:39:31Z"}, "message": "Resolve type paths.", "tree": {"sha": "732a37f12a5784a051e021a410bcd5690a6657e4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/732a37f12a5784a051e021a410bcd5690a6657e4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c170e7edfdfe156f11374d5e3c265b613351dc99", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c170e7edfdfe156f11374d5e3c265b613351dc99", "html_url": "https://github.com/rust-lang/rust/commit/c170e7edfdfe156f11374d5e3c265b613351dc99", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c170e7edfdfe156f11374d5e3c265b613351dc99/comments", "author": null, "committer": null, "parents": [{"sha": "21208f23439acfae35e615abbe791b3011b950bc", "url": "https://api.github.com/repos/rust-lang/rust/commits/21208f23439acfae35e615abbe791b3011b950bc", "html_url": "https://github.com/rust-lang/rust/commit/21208f23439acfae35e615abbe791b3011b950bc"}], "stats": {"total": 24, "additions": 4, "deletions": 20}, "files": [{"sha": "21959b61b8b6e8233d407d829d1e061c8eeb7dc3", "filename": "src/comp/middle/resolve.rs", "status": "modified", "additions": 3, "deletions": 18, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/c170e7edfdfe156f11374d5e3c265b613351dc99/src%2Fcomp%2Fmiddle%2Fresolve.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c170e7edfdfe156f11374d5e3c265b613351dc99/src%2Fcomp%2Fmiddle%2Fresolve.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Fresolve.rs?ref=c170e7edfdfe156f11374d5e3c265b613351dc99", "patch": "@@ -486,25 +486,10 @@ fn fold_view_item_import(&env e, &span sp,\n }\n \n fn fold_ty_path(&env e, &span sp, ast.path p, &option.t[def] d) -> @ast.ty {\n+    auto index = new_def_hash[def_wrap]();\n+    auto d = find_final_def(e, index, sp, p.node.idents, none[ast.def_id]);\n \n-    let uint len = _vec.len[ast.ident](p.node.idents);\n-    check (len != 0u);\n-    if (len > 1u) {\n-        e.sess.unimpl(\"resolving path ty with >1 component\");\n-    }\n-\n-    auto d_ = lookup_name(e, p.node.idents.(0));\n-\n-    alt (d_) {\n-        case (some[def](?d)) {\n-            // log \"resolved name \" + p.node.idents.(0);\n-        }\n-        case (none[def]) {\n-            e.sess.span_err(sp, \"unresolved name: \" + p.node.idents.(0));\n-        }\n-    }\n-\n-    ret @fold.respan[ast.ty_](sp, ast.ty_path(p, d_));\n+    ret @fold.respan[ast.ty_](sp, ast.ty_path(p, some(unwrap_def(d))));\n }\n \n fn update_env_for_crate(&env e, @ast.crate c) -> env {"}, {"sha": "ad55713b0852ae41f8eaa2c623884a49ab05f0a9", "filename": "src/test/run-pass/alt-path.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/c170e7edfdfe156f11374d5e3c265b613351dc99/src%2Ftest%2Frun-pass%2Falt-path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c170e7edfdfe156f11374d5e3c265b613351dc99/src%2Ftest%2Frun-pass%2Falt-path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Falt-path.rs?ref=c170e7edfdfe156f11374d5e3c265b613351dc99", "patch": "@@ -1,11 +1,10 @@\n-import m1.foo;\n mod m1 {\n   tag foo {\n     foo1;\n     foo2;\n   }\n }\n-fn bar(foo x) {\n+fn bar(m1.foo x) {\n   alt(x) {\n     case (m1.foo1) {\n     }"}]}