{"sha": "e57c7b859d3d60ee9c1ed63ac87234e83b088f82", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU1N2M3Yjg1OWQzZDYwZWU5YzFlZDYzYWM4NzIzNGU4M2IwODhmODI=", "commit": {"author": {"name": "David Wood", "email": "david@davidtw.co", "date": "2019-05-09T17:13:21Z"}, "committer": {"name": "David Wood", "email": "david@davidtw.co", "date": "2019-05-09T17:15:15Z"}, "message": "Add regression test for #60674.\n\nThis commit adds a regression test (with current broken behaviour) that\ntests that `mut` patterns are not lost when provided as input to a proc macro.", "tree": {"sha": "2a3a08c652232df4e5e118eb0ec874335ac0623b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2a3a08c652232df4e5e118eb0ec874335ac0623b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e57c7b859d3d60ee9c1ed63ac87234e83b088f82", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEWwgxPGhT5b/6kagXAXYLT59T8VQFAlzUYCMACgkQAXYLT59T\n8VSsBw//cfpd3F/174Zi7s+hAoZEODsxlzt98SccEC5Unphby4CUq1cpcvPtYBkc\nFk8PJj2O57l1PS9bFeNIAzdL808oNUw8LOrwXYBR+g1HBYoVyCJL1G/8plCiKr+3\nAkB0SB6zGSwlDc5DP7n6O5ylQDizmupTkhWUR71j4zhtO3UM3jSw/rKwG0b2211o\nRqXveafh5T24Fg9E4EwuSChIYZbhj3/RVAWo2tpwXPmD5zd/OVQKc1b9GVSNv6Os\nEJ+b3sS/MnML37e2Uzqfzep09LsCa2FeVuERnQhsSd0fcXNkhZ9It1JIuUclndf4\nOzOg5egMrwdeVcZhjlIdftJQHnVi8UyZRYAm4qJ0FdG0XKLvBMgCObxhEDjpt/0C\nrFra0+Nwzkm5pRdux8BRZwo2LOtsUEEyEOu4hIRDJHuiIlkoNtO7zSFRqcDcLAHa\nu6U4jlBuYaAe9EZkC9Ou2osa89EEIMMY3Ksz+Y56b88jisQC/ZXo+5OQMKdAwgpT\n9d0KAg3MMBIC9+dR/5UT1e1JMErm3xEcjUCkbhW/pea/B+Z8vSWFSnd6zkj5zDUe\nWTom4TW48d/KFZoP0uLe8svf09mLo1dHMxqaJIWUf3XSK6cMnP9uQJhgJ060jNct\nf6YQ3TgJh8GVpPU3xY8B8EXyTYa+d2f5KrX+GGSHmLf/gTRyP+A=\n=50lH\n-----END PGP SIGNATURE-----", "payload": "tree 2a3a08c652232df4e5e118eb0ec874335ac0623b\nparent 9f8396158457943b63bb39534b9ef86868f7cfac\nauthor David Wood <david@davidtw.co> 1557422001 +0100\ncommitter David Wood <david@davidtw.co> 1557422115 +0100\n\nAdd regression test for #60674.\n\nThis commit adds a regression test (with current broken behaviour) that\ntests that `mut` patterns are not lost when provided as input to a proc macro.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e57c7b859d3d60ee9c1ed63ac87234e83b088f82", "html_url": "https://github.com/rust-lang/rust/commit/e57c7b859d3d60ee9c1ed63ac87234e83b088f82", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e57c7b859d3d60ee9c1ed63ac87234e83b088f82/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9f8396158457943b63bb39534b9ef86868f7cfac", "url": "https://api.github.com/repos/rust-lang/rust/commits/9f8396158457943b63bb39534b9ef86868f7cfac", "html_url": "https://github.com/rust-lang/rust/commit/9f8396158457943b63bb39534b9ef86868f7cfac"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "680c6e55e5668decc40438ef77b98e1cedec4ecd", "filename": "src/test/ui/async-await/auxiliary/issue-60674.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/e57c7b859d3d60ee9c1ed63ac87234e83b088f82/src%2Ftest%2Fui%2Fasync-await%2Fauxiliary%2Fissue-60674.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e57c7b859d3d60ee9c1ed63ac87234e83b088f82/src%2Ftest%2Fui%2Fasync-await%2Fauxiliary%2Fissue-60674.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fauxiliary%2Fissue-60674.rs?ref=e57c7b859d3d60ee9c1ed63ac87234e83b088f82", "patch": "@@ -0,0 +1,12 @@\n+// force-host\n+// no-prefer-dynamic\n+#![crate_type = \"proc-macro\"]\n+\n+extern crate proc_macro;\n+use proc_macro::TokenStream;\n+\n+#[proc_macro_attribute]\n+pub fn attr(_args: TokenStream, input: TokenStream) -> TokenStream {\n+    println!(\"{}\", input);\n+    TokenStream::new()\n+}"}, {"sha": "37e356e5baf483a45d538e0fbe6abd5eddade587", "filename": "src/test/ui/async-await/issue-60674.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/e57c7b859d3d60ee9c1ed63ac87234e83b088f82/src%2Ftest%2Fui%2Fasync-await%2Fissue-60674.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e57c7b859d3d60ee9c1ed63ac87234e83b088f82/src%2Ftest%2Fui%2Fasync-await%2Fissue-60674.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fissue-60674.rs?ref=e57c7b859d3d60ee9c1ed63ac87234e83b088f82", "patch": "@@ -0,0 +1,14 @@\n+// aux-build:issue-60674.rs\n+// compile-pass\n+// edition:2018\n+#![feature(async_await)]\n+\n+// This is a regression test that ensures that `mut` patterns are not lost when provided as input\n+// to a proc macro.\n+\n+extern crate issue_60674;\n+\n+#[issue_60674::attr]\n+async fn f(mut x: u8) {}\n+\n+fn main() {}"}, {"sha": "f1dbcbaac0bf4f4a20ea9857d7c981beb5cd20da", "filename": "src/test/ui/async-await/issue-60674.stdout", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e57c7b859d3d60ee9c1ed63ac87234e83b088f82/src%2Ftest%2Fui%2Fasync-await%2Fissue-60674.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/e57c7b859d3d60ee9c1ed63ac87234e83b088f82/src%2Ftest%2Fui%2Fasync-await%2Fissue-60674.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fissue-60674.stdout?ref=e57c7b859d3d60ee9c1ed63ac87234e83b088f82", "patch": "@@ -0,0 +1 @@\n+async fn f(x: u8) { }"}]}