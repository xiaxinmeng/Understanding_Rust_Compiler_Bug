{"sha": "19c997ea5e5e490e93021619c64df411f8f7c711", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE5Yzk5N2VhNWU1ZTQ5MGU5MzAyMTYxOWM2NGRmNDExZjhmN2M3MTE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-12-20T21:03:48Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-12-20T21:03:48Z"}, "message": "Auto merge of #30469 - nagisa:mir-gv-prettify, r=luqmana\n\nOne will look at graphviz often when working with MIR, so may as well make the tables a bit more\npretty :)\n\n![This is what it looks like now](https://cloud.githubusercontent.com/assets/679122/11908983/438f228e-a5ea-11e5-90bd-a2c2ec52412e.png)", "tree": {"sha": "32abefb10acbc182d23b6e136a416ab307685818", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/32abefb10acbc182d23b6e136a416ab307685818"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/19c997ea5e5e490e93021619c64df411f8f7c711", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/19c997ea5e5e490e93021619c64df411f8f7c711", "html_url": "https://github.com/rust-lang/rust/commit/19c997ea5e5e490e93021619c64df411f8f7c711", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/19c997ea5e5e490e93021619c64df411f8f7c711/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "33914f2713a34ca9337fb469786fb77db3f7ee91", "url": "https://api.github.com/repos/rust-lang/rust/commits/33914f2713a34ca9337fb469786fb77db3f7ee91", "html_url": "https://github.com/rust-lang/rust/commit/33914f2713a34ca9337fb469786fb77db3f7ee91"}, {"sha": "03903cbc20fe5a12efe6eb98dbd5ab54b457ddf0", "url": "https://api.github.com/repos/rust-lang/rust/commits/03903cbc20fe5a12efe6eb98dbd5ab54b457ddf0", "html_url": "https://github.com/rust-lang/rust/commit/03903cbc20fe5a12efe6eb98dbd5ab54b457ddf0"}], "stats": {"total": 18, "additions": 9, "deletions": 9}, "files": [{"sha": "d5da606d76e80906f8b71efc0ebf5eb93c553c60", "filename": "src/librustc_mir/graphviz/mod.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/19c997ea5e5e490e93021619c64df411f8f7c711/src%2Flibrustc_mir%2Fgraphviz%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/19c997ea5e5e490e93021619c64df411f8f7c711/src%2Flibrustc_mir%2Fgraphviz%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fgraphviz%2Fmod.rs?ref=19c997ea5e5e490e93021619c64df411f8f7c711", "patch": "@@ -34,24 +34,24 @@ impl<'a,'tcx> dot::Labeller<'a, BasicBlock, EdgeIndex> for Mir<'tcx> {\n \n     fn node_label(&'a self, &n: &BasicBlock) -> dot::LabelText<'a> {\n         let mut buffer = String::new();\n-        buffer.push_str(\"<TABLE ALIGN=\\\"LEFT\\\">\");\n+        buffer.push_str(\"<table border=\\\"0\\\" cellborder=\\\"1\\\" cellspacing=\\\"0\\\">\");\n \n-        buffer.push_str(\"<TR><TD>\");\n-        buffer.push_str(&format!(\"{:?}\", n));\n-        buffer.push_str(\"</TD></TR>\");\n+        buffer.push_str(\"<tr><td><b>\");\n+        buffer.push_str(&escape(format!(\"{:?}\", n)));\n+        buffer.push_str(\"</b></td></tr>\");\n \n         let data = self.basic_block_data(n);\n         for statement in &data.statements {\n-            buffer.push_str(\"<TR><TD>\");\n+            buffer.push_str(\"<tr><td align=\\\"left\\\">\");\n             buffer.push_str(&escape(format!(\"{:?}\", statement)));\n-            buffer.push_str(\"</TD></TR>\");\n+            buffer.push_str(\"</td></tr>\");\n         }\n \n-        buffer.push_str(\"<TR><TD>\");\n+        buffer.push_str(\"<tr><td align=\\\"left\\\" bgcolor=\\\"cornsilk\\\">\");\n         buffer.push_str(&escape(format!(\"{:?}\", &data.terminator)));\n-        buffer.push_str(\"</TD></TR>\");\n+        buffer.push_str(\"</td></tr>\");\n \n-        buffer.push_str(\"</TABLE>\");\n+        buffer.push_str(\"</table>\");\n \n         dot::LabelText::html(buffer)\n     }"}]}