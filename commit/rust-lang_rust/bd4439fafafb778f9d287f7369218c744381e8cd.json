{"sha": "bd4439fafafb778f9d287f7369218c744381e8cd", "node_id": "C_kwDOAAsO6NoAKGJkNDQzOWZhZmFmYjc3OGY5ZDI4N2Y3MzY5MjE4Yzc0NDM4MWU4Y2Q", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-07-20T14:02:49Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-07-20T14:02:49Z"}, "message": "Auto merge of #12829 - fasterthanlime:in-rust-tree-feature, r=Veykril\n\nRemove `check_merge_commits` test\n\nDue to the way \"git subtree\" works, the `check_merge_commits` test _will_ find merge commits and fail, so we simply skip it.\n\nThis changed is tracked in:\n\n  * https://github.com/rust-lang/rust-analyzer/issues/12818\n\nMaintainer impact: none", "tree": {"sha": "d1ead3947500a83e5efa7bae4c0c1ae0e849ef44", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d1ead3947500a83e5efa7bae4c0c1ae0e849ef44"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bd4439fafafb778f9d287f7369218c744381e8cd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bd4439fafafb778f9d287f7369218c744381e8cd", "html_url": "https://github.com/rust-lang/rust/commit/bd4439fafafb778f9d287f7369218c744381e8cd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bd4439fafafb778f9d287f7369218c744381e8cd/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "100ea1d2d55e70970d49f8d084ccbe1ac2621020", "url": "https://api.github.com/repos/rust-lang/rust/commits/100ea1d2d55e70970d49f8d084ccbe1ac2621020", "html_url": "https://github.com/rust-lang/rust/commit/100ea1d2d55e70970d49f8d084ccbe1ac2621020"}, {"sha": "244f29b1e7747c97922918c1d03df7ec96c2b965", "url": "https://api.github.com/repos/rust-lang/rust/commits/244f29b1e7747c97922918c1d03df7ec96c2b965", "html_url": "https://github.com/rust-lang/rust/commit/244f29b1e7747c97922918c1d03df7ec96c2b965"}], "stats": {"total": 50, "additions": 0, "deletions": 50}, "files": [{"sha": "dc3c5539c2cb4d621dcde7b7bc38f057e76e459b", "filename": "crates/rust-analyzer/tests/slow-tests/tidy.rs", "status": "modified", "additions": 0, "deletions": 50, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/bd4439fafafb778f9d287f7369218c744381e8cd/crates%2Frust-analyzer%2Ftests%2Fslow-tests%2Ftidy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bd4439fafafb778f9d287f7369218c744381e8cd/crates%2Frust-analyzer%2Ftests%2Fslow-tests%2Ftidy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Ftests%2Fslow-tests%2Ftidy.rs?ref=bd4439fafafb778f9d287f7369218c744381e8cd", "patch": "@@ -142,56 +142,6 @@ fn check_cargo_toml(path: &Path, text: String) {\n     }\n }\n \n-#[test]\n-fn check_merge_commits() {\n-    let sh = &Shell::new().unwrap();\n-\n-    let bors = cmd!(sh, \"git rev-list --merges --author 'bors' HEAD~19..\").read().unwrap();\n-    let all = cmd!(sh, \"git rev-list --merges HEAD~19..\").read().unwrap();\n-    if bors != all {\n-        panic!(\n-            \"\n-Merge commits are not allowed in the history.\n-\n-When updating a pull-request, please rebase your feature branch\n-on top of master by running `git rebase master`. If rebase fails,\n-you can re-apply your changes like this:\n-\n-  # Just look around to see the current state.\n-  $ git status\n-  $ git log\n-\n-  # Abort in-progress rebase and merges, if any.\n-  $ git rebase --abort\n-  $ git merge --abort\n-\n-  # Make the branch point to the latest commit from master,\n-  # while maintaining your local changes uncommited.\n-  $ git reset --soft origin/master\n-\n-  # Commit all changes in a single batch.\n-  $ git commit -am'My changes'\n-\n-  # Verify that everything looks alright.\n-  $ git status\n-  $ git log\n-\n-  # Push the changes. We did a rebase, so we need `--force` option.\n-  # `--force-with-lease` is a more safe (Rusty) version of `--force`.\n-  $ git push --force-with-lease\n-\n-  # Verify that both local and remote branch point to the same commit.\n-  $ git log\n-\n-And don't fear to mess something up during a rebase -- you can\n-always restore the previous state using `git ref-log`:\n-\n-https://github.blog/2015-06-08-how-to-undo-almost-anything-with-git/#redo-after-undo-local\n-\"\n-        );\n-    }\n-}\n-\n fn deny_clippy(path: &Path, text: &str) {\n     let ignore = &[\n         // The documentation in string literals may contain anything for its own purposes"}]}