{"sha": "bcf76ac3ede5be8b49bebdca6d4c5043e8607aa3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJjZjc2YWMzZWRlNWJlOGI0OWJlYmRjYTZkNGM1MDQzZTg2MDdhYTM=", "commit": {"author": {"name": "Michael 'devbug' Williams", "email": "m.t.williams@live.com", "date": "2013-10-10T20:57:55Z"}, "committer": {"name": "Michael 'devbug' Williams", "email": "m.t.williams@live.com", "date": "2013-10-10T21:00:15Z"}, "message": "Fixed typo under 'Segmented stacks and the linter', and removed superfluous trailing whitespace.", "tree": {"sha": "c98946aa069e0b8569108b364ab86f7a0cddd1f0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c98946aa069e0b8569108b364ab86f7a0cddd1f0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bcf76ac3ede5be8b49bebdca6d4c5043e8607aa3", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bcf76ac3ede5be8b49bebdca6d4c5043e8607aa3", "html_url": "https://github.com/rust-lang/rust/commit/bcf76ac3ede5be8b49bebdca6d4c5043e8607aa3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bcf76ac3ede5be8b49bebdca6d4c5043e8607aa3/comments", "author": {"login": "mtwilliams", "id": 429050, "node_id": "MDQ6VXNlcjQyOTA1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/429050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtwilliams", "html_url": "https://github.com/mtwilliams", "followers_url": "https://api.github.com/users/mtwilliams/followers", "following_url": "https://api.github.com/users/mtwilliams/following{/other_user}", "gists_url": "https://api.github.com/users/mtwilliams/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtwilliams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtwilliams/subscriptions", "organizations_url": "https://api.github.com/users/mtwilliams/orgs", "repos_url": "https://api.github.com/users/mtwilliams/repos", "events_url": "https://api.github.com/users/mtwilliams/events{/privacy}", "received_events_url": "https://api.github.com/users/mtwilliams/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mtwilliams", "id": 429050, "node_id": "MDQ6VXNlcjQyOTA1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/429050?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mtwilliams", "html_url": "https://github.com/mtwilliams", "followers_url": "https://api.github.com/users/mtwilliams/followers", "following_url": "https://api.github.com/users/mtwilliams/following{/other_user}", "gists_url": "https://api.github.com/users/mtwilliams/gists{/gist_id}", "starred_url": "https://api.github.com/users/mtwilliams/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mtwilliams/subscriptions", "organizations_url": "https://api.github.com/users/mtwilliams/orgs", "repos_url": "https://api.github.com/users/mtwilliams/repos", "events_url": "https://api.github.com/users/mtwilliams/events{/privacy}", "received_events_url": "https://api.github.com/users/mtwilliams/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8015f9c27ec342dbf0b28c9c0c4769d8b3bcfc9f", "url": "https://api.github.com/repos/rust-lang/rust/commits/8015f9c27ec342dbf0b28c9c0c4769d8b3bcfc9f", "html_url": "https://github.com/rust-lang/rust/commit/8015f9c27ec342dbf0b28c9c0c4769d8b3bcfc9f"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "46d37a559bbebb8fdaf438a445d244551a10783c", "filename": "doc/tutorial-ffi.md", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/bcf76ac3ede5be8b49bebdca6d4c5043e8607aa3/doc%2Ftutorial-ffi.md", "raw_url": "https://github.com/rust-lang/rust/raw/bcf76ac3ede5be8b49bebdca6d4c5043e8607aa3/doc%2Ftutorial-ffi.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Ftutorial-ffi.md?ref=bcf76ac3ede5be8b49bebdca6d4c5043e8607aa3", "patch": "@@ -135,7 +135,7 @@ the true length after compression for setting the length.\n ~~~~ {.xfail-test}\n pub fn compress(src: &[u8]) -> ~[u8] {\n     #[fixed_stack_segment]; #[inline(never)];\n-    \n+\n     unsafe {\n         let srclen = src.len() as size_t;\n         let psrc = vec::raw::to_ptr(src);\n@@ -157,7 +157,7 @@ format and `snappy_uncompressed_length` will retrieve the exact buffer size requ\n ~~~~ {.xfail-test}\n pub fn uncompress(src: &[u8]) -> Option<~[u8]> {\n     #[fixed_stack_segment]; #[inline(never)];\n-    \n+\n     unsafe {\n         let srclen = src.len() as size_t;\n         let psrc = vec::raw::to_ptr(src);\n@@ -236,7 +236,7 @@ use std::libc::size_t;\n unsafe fn snappy_max_compressed_length(source_length: size_t) -> size_t {\n     #[fixed_stack_segment]; #[inline(never)];\n     return snappy_max_compressed_length(source_length);\n-    \n+\n     #[link_args = \"-lsnappy\"]\n     extern {\n         fn snappy_max_compressed_length(source_length: size_t) -> size_t;\n@@ -259,9 +259,9 @@ check that one of the following conditions holds:\n 2. The call occurs inside of an `extern fn`;\n 3. The call occurs within a stack closure created by some other\n    safe fn.\n-   \n+\n All of these conditions ensure that you are running on a large stack\n-segmented. However, they are sometimes too strict. If your application\n+segment. However, they are sometimes too strict. If your application\n will be making many calls into C, it is often beneficial to promote\n the `#[fixed_stack_segment]` attribute higher up the call chain.  For\n example, the Rust compiler actually labels main itself as requiring a\n@@ -298,7 +298,7 @@ impl<T: Send> Unique<T> {\n     pub fn new(value: T) -> Unique<T> {\n         #[fixed_stack_segment];\n         #[inline(never)];\n-        \n+\n         unsafe {\n             let ptr = malloc(std::sys::size_of::<T>() as size_t) as *mut T;\n             assert!(!ptr::is_null(ptr));\n@@ -324,7 +324,7 @@ impl<T: Send> Drop for Unique<T> {\n     fn drop(&mut self) {\n         #[fixed_stack_segment];\n         #[inline(never)];\n-        \n+\n         unsafe {\n             let x = intrinsics::init(); // dummy value to swap in\n             // moving the object out is needed to call the destructor"}]}