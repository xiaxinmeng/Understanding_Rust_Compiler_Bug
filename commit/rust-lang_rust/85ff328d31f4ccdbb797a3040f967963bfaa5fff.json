{"sha": "85ff328d31f4ccdbb797a3040f967963bfaa5fff", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg1ZmYzMjhkMzFmNGNjZGJiNzk3YTMwNDBmOTY3OTYzYmZhYTVmZmY=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-10-15T19:36:08Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-10-15T19:36:08Z"}, "message": "remove clones", "tree": {"sha": "468736f9cd6b1f11ef5754e7e8de4f75b85e835c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/468736f9cd6b1f11ef5754e7e8de4f75b85e835c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/85ff328d31f4ccdbb797a3040f967963bfaa5fff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/85ff328d31f4ccdbb797a3040f967963bfaa5fff", "html_url": "https://github.com/rust-lang/rust/commit/85ff328d31f4ccdbb797a3040f967963bfaa5fff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/85ff328d31f4ccdbb797a3040f967963bfaa5fff/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bbcd998433075aba66ef0677bcdd821ca5fc926e", "url": "https://api.github.com/repos/rust-lang/rust/commits/bbcd998433075aba66ef0677bcdd821ca5fc926e", "html_url": "https://github.com/rust-lang/rust/commit/bbcd998433075aba66ef0677bcdd821ca5fc926e"}], "stats": {"total": 11, "additions": 5, "deletions": 6}, "files": [{"sha": "543a8f6da2a47d6e572f1c8fed9f4f8d48eb29ce", "filename": "crates/ra_analysis/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/85ff328d31f4ccdbb797a3040f967963bfaa5fff/crates%2Fra_analysis%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85ff328d31f4ccdbb797a3040f967963bfaa5fff/crates%2Fra_analysis%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_analysis%2Fsrc%2Flib.rs?ref=85ff328d31f4ccdbb797a3040f967963bfaa5fff", "patch": "@@ -162,7 +162,7 @@ impl Query {\n     }\n }\n \n-#[derive(Clone, Debug)]\n+#[derive(Debug)]\n pub struct Analysis {\n     imp: AnalysisImpl\n }"}, {"sha": "5acb39b6001984c294263855a9b819c67a229d10", "filename": "crates/ra_lsp_server/src/main_loop/handlers.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/85ff328d31f4ccdbb797a3040f967963bfaa5fff/crates%2Fra_lsp_server%2Fsrc%2Fmain_loop%2Fhandlers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85ff328d31f4ccdbb797a3040f967963bfaa5fff/crates%2Fra_lsp_server%2Fsrc%2Fmain_loop%2Fhandlers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_lsp_server%2Fsrc%2Fmain_loop%2Fhandlers.rs?ref=85ff328d31f4ccdbb797a3040f967963bfaa5fff", "patch": "@@ -478,7 +478,7 @@ pub fn handle_code_action(\n }\n \n pub fn publish_diagnostics(\n-    world: ServerWorld,\n+    world: &ServerWorld,\n     file_id: FileId,\n ) -> Result<req::PublishDiagnosticsParams> {\n     let uri = world.file_id_to_uri(file_id)?;\n@@ -497,7 +497,7 @@ pub fn publish_diagnostics(\n }\n \n pub fn publish_decorations(\n-    world: ServerWorld,\n+    world: &ServerWorld,\n     file_id: FileId,\n ) -> Result<req::PublishDecorationsParams> {\n     let uri = world.file_id_to_uri(file_id)?;"}, {"sha": "cf2477cb519b5b694323fd5fe73f2aa021f56804", "filename": "crates/ra_lsp_server/src/main_loop/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/85ff328d31f4ccdbb797a3040f967963bfaa5fff/crates%2Fra_lsp_server%2Fsrc%2Fmain_loop%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85ff328d31f4ccdbb797a3040f967963bfaa5fff/crates%2Fra_lsp_server%2Fsrc%2Fmain_loop%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_lsp_server%2Fsrc%2Fmain_loop%2Fmod.rs?ref=85ff328d31f4ccdbb797a3040f967963bfaa5fff", "patch": "@@ -391,7 +391,7 @@ fn update_file_notifications_on_threadpool(\n ) {\n     pool.spawn(move || {\n         for file_id in subscriptions {\n-            match handlers::publish_diagnostics(world.clone(), file_id) {\n+            match handlers::publish_diagnostics(&world, file_id) {\n                 Err(e) => {\n                     error!(\"failed to compute diagnostics: {:?}\", e)\n                 }\n@@ -400,7 +400,7 @@ fn update_file_notifications_on_threadpool(\n                     sender.send(Task::Notify(not));\n                 }\n             }\n-            match handlers::publish_decorations(world.clone(), file_id) {\n+            match handlers::publish_decorations(&world, file_id) {\n                 Err(e) => {\n                     error!(\"failed to compute decorations: {:?}\", e)\n                 }"}, {"sha": "9b3013ae8b48c5ef33d722d010f5711c9fb0d079", "filename": "crates/ra_lsp_server/src/server_world.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/85ff328d31f4ccdbb797a3040f967963bfaa5fff/crates%2Fra_lsp_server%2Fsrc%2Fserver_world.rs", "raw_url": "https://github.com/rust-lang/rust/raw/85ff328d31f4ccdbb797a3040f967963bfaa5fff/crates%2Fra_lsp_server%2Fsrc%2Fserver_world.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_lsp_server%2Fsrc%2Fserver_world.rs?ref=85ff328d31f4ccdbb797a3040f967963bfaa5fff", "patch": "@@ -23,7 +23,6 @@ pub struct ServerWorldState {\n     pub mem_map: FxHashMap<FileId, Option<String>>,\n }\n \n-#[derive(Clone)]\n pub struct ServerWorld {\n     pub workspaces: Arc<Vec<CargoWorkspace>>,\n     pub analysis: Analysis,"}]}