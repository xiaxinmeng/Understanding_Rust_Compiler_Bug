{"sha": "5cd1b5dd7972e465bb7d7f6fbfecae6b6f6c299d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVjZDFiNWRkNzk3MmU0NjViYjdkN2Y2ZmJmZWNhZTZiNmY2YzI5OWQ=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-07-15T03:21:59Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-07-26T22:37:02Z"}, "message": "Add test for use of $crate in nested foreign macro_rules!", "tree": {"sha": "bb2e9f3a4d73828916b520b5f7ef03f41894ed6e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bb2e9f3a4d73828916b520b5f7ef03f41894ed6e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5cd1b5dd7972e465bb7d7f6fbfecae6b6f6c299d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAl8eBY4ACgkQtAh+UQ6Y\nsWQ4ShAAj2KNqT7aJRVJAqn4dlc2FQPK49ANthx2MoR+veal0s9qxIWs5HDVwSAP\nvyZurwgNorm8mGUvRMGppSabMbKFbuVb3ywhy6ZfTilqjE1zSYR4OzUcYMIeyAKq\nUGF1CDxwHyO4f9t6lLndo+gixWvXKKnxD9SHghroNgFCGOR4UfHzp7PjwqoLSCkI\nxLnTza0lbHCw4wrhUAAdrko3H+OSUoTaX6I7LgQkTQxiy78v+/546q9sYvcP6OkX\nGGh5vS6al1cHYhJqcwPAcRazZVy1syPJaQSwawt1gTeqFGKr883bUUJ5yUeehMv8\n5nysf8gDwhgpUem/pE2GxiXCVh3QlOnl9D3g+cE0Y6kcfh2xGV+LPHTm6kv354TH\n4Z9QDtdpGT/duu7ER88peTc4LzUwVe23tMO1NjsVSg08NPVFcMxrCKICldbmxeuz\n9mQcyIt02g638RWeRMhljAaqEkmceLfRq1IgQxZAWdg4uyEHIOhwDITm7kDtxBgf\nj03gXKSUrUwOhxRJ9sStzQuTTkyiCE7b2VS+9uHgAqs2K4x1VIWRV04eHtdFKCpn\nCMG1jmOed/cH/cOmSqjdJ7cuBYw7nnUuPZao5OmhK9qqPGrKu1TYUSO8r6kC9vfe\nGc8fi5a4+DmZ2pzbyxB+wDFVQj16Kw9rCeqej3FX4Qgok7ShztY=\n=n+8Y\n-----END PGP SIGNATURE-----", "payload": "tree bb2e9f3a4d73828916b520b5f7ef03f41894ed6e\nparent 0caebfabe6f3506355581b2fbfcfa0ca05a768fc\nauthor Aaron Hill <aa1ronham@gmail.com> 1594783319 -0400\ncommitter Aaron Hill <aa1ronham@gmail.com> 1595803022 -0400\n\nAdd test for use of $crate in nested foreign macro_rules!\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5cd1b5dd7972e465bb7d7f6fbfecae6b6f6c299d", "html_url": "https://github.com/rust-lang/rust/commit/5cd1b5dd7972e465bb7d7f6fbfecae6b6f6c299d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5cd1b5dd7972e465bb7d7f6fbfecae6b6f6c299d/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0caebfabe6f3506355581b2fbfcfa0ca05a768fc", "url": "https://api.github.com/repos/rust-lang/rust/commits/0caebfabe6f3506355581b2fbfcfa0ca05a768fc", "html_url": "https://github.com/rust-lang/rust/commit/0caebfabe6f3506355581b2fbfcfa0ca05a768fc"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "e5caa0f9cf80938dbfe59648599727840012a668", "filename": "src/test/ui/hygiene/auxiliary/nested-dollar-crate.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/5cd1b5dd7972e465bb7d7f6fbfecae6b6f6c299d/src%2Ftest%2Fui%2Fhygiene%2Fauxiliary%2Fnested-dollar-crate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5cd1b5dd7972e465bb7d7f6fbfecae6b6f6c299d/src%2Ftest%2Fui%2Fhygiene%2Fauxiliary%2Fnested-dollar-crate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fauxiliary%2Fnested-dollar-crate.rs?ref=5cd1b5dd7972e465bb7d7f6fbfecae6b6f6c299d", "patch": "@@ -0,0 +1,14 @@\n+pub const IN_DEF_CRATE: &str = \"In def crate!\";\n+\n+macro_rules! make_it {\n+    () => {\n+        #[macro_export]\n+        macro_rules! inner {\n+            () => {\n+                $crate::IN_DEF_CRATE\n+            }\n+        }\n+    }\n+}\n+\n+make_it!();"}, {"sha": "e8703bc77ee8b3175ed865764d76a9d3c5d02461", "filename": "src/test/ui/hygiene/nested-dollar-crate.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/5cd1b5dd7972e465bb7d7f6fbfecae6b6f6c299d/src%2Ftest%2Fui%2Fhygiene%2Fnested-dollar-crate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5cd1b5dd7972e465bb7d7f6fbfecae6b6f6c299d/src%2Ftest%2Fui%2Fhygiene%2Fnested-dollar-crate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fnested-dollar-crate.rs?ref=5cd1b5dd7972e465bb7d7f6fbfecae6b6f6c299d", "patch": "@@ -0,0 +1,9 @@\n+// aux-build:nested-dollar-crate.rs\n+// edition:2018\n+// run-pass\n+\n+extern crate nested_dollar_crate;\n+\n+fn main() {\n+    assert_eq!(nested_dollar_crate::inner!(), \"In def crate!\");\n+}"}]}