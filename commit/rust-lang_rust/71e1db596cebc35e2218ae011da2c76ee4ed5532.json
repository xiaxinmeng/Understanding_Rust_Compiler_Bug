{"sha": "71e1db596cebc35e2218ae011da2c76ee4ed5532", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcxZTFkYjU5NmNlYmMzNWUyMjE4YWUwMTFkYTJjNzZlZTRlZDU1MzI=", "commit": {"author": {"name": "Eric Holk", "email": "eholk@mozilla.com", "date": "2011-06-16T21:47:59Z"}, "committer": {"name": "Eric Holk", "email": "eholk@mozilla.com", "date": "2011-06-17T22:17:46Z"}, "message": "Added a test case for #507", "tree": {"sha": "d1467075f621609266898a2104f250c0afd6d194", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d1467075f621609266898a2104f250c0afd6d194"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/71e1db596cebc35e2218ae011da2c76ee4ed5532", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/71e1db596cebc35e2218ae011da2c76ee4ed5532", "html_url": "https://github.com/rust-lang/rust/commit/71e1db596cebc35e2218ae011da2c76ee4ed5532", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/71e1db596cebc35e2218ae011da2c76ee4ed5532/comments", "author": null, "committer": null, "parents": [{"sha": "6e6bc5076c6824b690204ff3be12273976f2d3d3", "url": "https://api.github.com/repos/rust-lang/rust/commits/6e6bc5076c6824b690204ff3be12273976f2d3d3", "html_url": "https://github.com/rust-lang/rust/commit/6e6bc5076c6824b690204ff3be12273976f2d3d3"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "e9d8258a344369743e812c4fabbe4245dafdef91", "filename": "src/test/run-pass/issue-507.rs", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/71e1db596cebc35e2218ae011da2c76ee4ed5532/src%2Ftest%2Frun-pass%2Fissue-507.rs", "raw_url": "https://github.com/rust-lang/rust/raw/71e1db596cebc35e2218ae011da2c76ee4ed5532/src%2Ftest%2Frun-pass%2Fissue-507.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-507.rs?ref=71e1db596cebc35e2218ae011da2c76ee4ed5532", "patch": "@@ -0,0 +1,34 @@\n+\n+/* \n+   This is a test case for Issue 507.\n+\n+   https://github.com/graydon/rust/issues/507\n+*/\n+\n+use std;\n+\n+import std::task::join;\n+\n+fn grandchild(chan[int] c) {\n+  c <| 42;\n+}\n+\n+fn child(chan[int] c) {\n+  auto _grandchild = spawn grandchild(c);\n+  join(_grandchild);\n+}\n+\n+fn main() {\n+  let port[int] p = port();\n+\n+  auto _child = spawn child(chan(p));\n+  \n+  let int x;\n+  p |> x;\n+\n+  log x;\n+\n+  assert(x == 42);\n+\n+  join(_child);\n+}"}]}