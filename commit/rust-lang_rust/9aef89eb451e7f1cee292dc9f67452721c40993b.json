{"sha": "9aef89eb451e7f1cee292dc9f67452721c40993b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlhZWY4OWViNDUxZTdmMWNlZTI5MmRjOWY2NzQ1MjcyMWM0MDk5M2I=", "commit": {"author": {"name": "Corey Farwell", "email": "coreyf@rwell.org", "date": "2016-12-03T20:39:52Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-12-03T20:39:52Z"}, "message": "Rollup merge of #38065 - estebank:fix-37618, r=jonathandturner\n\nShow `Trait` instead of `<Struct as Trait>` in E0323\n\nFor a given file\n\n```\ntrait Foo {\n    fn bar(&self);\n}\n\npub struct FooConstForMethod;\n\nimpl Foo for FooConstForMethod {\n    const bar: u64 = 1;\n}\n```\n\nshow\n\n```\nerror[E0323]: item `bar` is an associated const, which doesn't match its trait `Foo`\n```\n\ninstead of\n\n```\nerror[E0323]: item `bar` is an associated const, which doesn't match its trait `<FooConstForMethod as Foo>`\n```\n\nFix #37618", "tree": {"sha": "065422141843f158facf162c11203d41e4e11747", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/065422141843f158facf162c11203d41e4e11747"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9aef89eb451e7f1cee292dc9f67452721c40993b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9aef89eb451e7f1cee292dc9f67452721c40993b", "html_url": "https://github.com/rust-lang/rust/commit/9aef89eb451e7f1cee292dc9f67452721c40993b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9aef89eb451e7f1cee292dc9f67452721c40993b/comments", "author": {"login": "frewsxcv", "id": 416575, "node_id": "MDQ6VXNlcjQxNjU3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frewsxcv", "html_url": "https://github.com/frewsxcv", "followers_url": "https://api.github.com/users/frewsxcv/followers", "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}", "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions", "organizations_url": "https://api.github.com/users/frewsxcv/orgs", "repos_url": "https://api.github.com/users/frewsxcv/repos", "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}", "received_events_url": "https://api.github.com/users/frewsxcv/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "78c1046b6ae52389c480fa265986d5cc206c7663", "url": "https://api.github.com/repos/rust-lang/rust/commits/78c1046b6ae52389c480fa265986d5cc206c7663", "html_url": "https://github.com/rust-lang/rust/commit/78c1046b6ae52389c480fa265986d5cc206c7663"}, {"sha": "4226930ddf54c4567b2eacc226d4eb897277afab", "url": "https://api.github.com/repos/rust-lang/rust/commits/4226930ddf54c4567b2eacc226d4eb897277afab", "html_url": "https://github.com/rust-lang/rust/commit/4226930ddf54c4567b2eacc226d4eb897277afab"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "764ea9445568e7e0864bd092fc35f5753519d533", "filename": "src/librustc_typeck/check/mod.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9aef89eb451e7f1cee292dc9f67452721c40993b/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9aef89eb451e7f1cee292dc9f67452721c40993b/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fmod.rs?ref=9aef89eb451e7f1cee292dc9f67452721c40993b", "patch": "@@ -1101,7 +1101,7 @@ fn check_impl_items_against_trait<'a, 'tcx>(ccx: &CrateCtxt<'a, 'tcx>,\n                     } else {\n                          let mut err = struct_span_err!(tcx.sess, impl_item.span, E0323,\n                                   \"item `{}` is an associated const, \\\n-                                  which doesn't match its trait `{:?}`\",\n+                                  which doesn't match its trait `{}`\",\n                                   ty_impl_item.name,\n                                   impl_trait_ref);\n                          err.span_label(impl_item.span, &format!(\"does not match trait\"));\n@@ -1139,7 +1139,7 @@ fn check_impl_items_against_trait<'a, 'tcx>(ccx: &CrateCtxt<'a, 'tcx>,\n                     } else {\n                         let mut err = struct_span_err!(tcx.sess, impl_item.span, E0324,\n                                   \"item `{}` is an associated method, \\\n-                                  which doesn't match its trait `{:?}`\",\n+                                  which doesn't match its trait `{}`\",\n                                   ty_impl_item.name,\n                                   impl_trait_ref);\n                          err.span_label(impl_item.span, &format!(\"does not match trait\"));\n@@ -1157,7 +1157,7 @@ fn check_impl_items_against_trait<'a, 'tcx>(ccx: &CrateCtxt<'a, 'tcx>,\n                     } else {\n                         let mut err = struct_span_err!(tcx.sess, impl_item.span, E0325,\n                                   \"item `{}` is an associated type, \\\n-                                  which doesn't match its trait `{:?}`\",\n+                                  which doesn't match its trait `{}`\",\n                                   ty_impl_item.name,\n                                   impl_trait_ref);\n                          err.span_label(impl_item.span, &format!(\"does not match trait\"));"}, {"sha": "815893e0c82d6a83ffb45d3d1c251a6379a23e84", "filename": "src/test/ui/span/impl-wrong-item-for-trait.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9aef89eb451e7f1cee292dc9f67452721c40993b/src%2Ftest%2Fui%2Fspan%2Fimpl-wrong-item-for-trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9aef89eb451e7f1cee292dc9f67452721c40993b/src%2Ftest%2Fui%2Fspan%2Fimpl-wrong-item-for-trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fimpl-wrong-item-for-trait.stderr?ref=9aef89eb451e7f1cee292dc9f67452721c40993b", "patch": "@@ -1,4 +1,4 @@\n-error[E0323]: item `bar` is an associated const, which doesn't match its trait `<FooConstForMethod as Foo>`\n+error[E0323]: item `bar` is an associated const, which doesn't match its trait `Foo`\n   --> $DIR/impl-wrong-item-for-trait.rs:25:5\n    |\n 16 |     fn bar(&self);\n@@ -24,7 +24,7 @@ error[E0046]: not all trait items implemented, missing: `bar`\n 29 | | }\n    | |_^ ...ending here: missing `bar` in implementation\n \n-error[E0324]: item `MY_CONST` is an associated method, which doesn't match its trait `<FooMethodForConst as Foo>`\n+error[E0324]: item `MY_CONST` is an associated method, which doesn't match its trait `Foo`\n   --> $DIR/impl-wrong-item-for-trait.rs:37:5\n    |\n 17 |     const MY_CONST: u32;\n@@ -50,7 +50,7 @@ error[E0046]: not all trait items implemented, missing: `MY_CONST`\n 40 | | }\n    | |_^ ...ending here: missing `MY_CONST` in implementation\n \n-error[E0325]: item `bar` is an associated type, which doesn't match its trait `<FooTypeForMethod as Foo>`\n+error[E0325]: item `bar` is an associated type, which doesn't match its trait `Foo`\n   --> $DIR/impl-wrong-item-for-trait.rs:47:5\n    |\n 16 |     fn bar(&self);"}]}