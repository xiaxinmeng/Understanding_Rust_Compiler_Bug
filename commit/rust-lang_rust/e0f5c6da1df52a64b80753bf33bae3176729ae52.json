{"sha": "e0f5c6da1df52a64b80753bf33bae3176729ae52", "node_id": "C_kwDOAAsO6NoAKGUwZjVjNmRhMWRmNTJhNjRiODA3NTNiZjMzYmFlMzE3NjcyOWFlNTI", "commit": {"author": {"name": "R\u00e9my Rakic", "email": "remy.rakic+github@gmail.com", "date": "2023-01-03T20:21:49Z"}, "committer": {"name": "R\u00e9my Rakic", "email": "remy.rakic+github@gmail.com", "date": "2023-01-03T20:21:49Z"}, "message": "ensure lld's step unconditionally for RustDev component", "tree": {"sha": "6c084a3f1d28b481bc5e88a1b65f43507cbbba42", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6c084a3f1d28b481bc5e88a1b65f43507cbbba42"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e0f5c6da1df52a64b80753bf33bae3176729ae52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e0f5c6da1df52a64b80753bf33bae3176729ae52", "html_url": "https://github.com/rust-lang/rust/commit/e0f5c6da1df52a64b80753bf33bae3176729ae52", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e0f5c6da1df52a64b80753bf33bae3176729ae52/comments", "author": {"login": "lqd", "id": 247183, "node_id": "MDQ6VXNlcjI0NzE4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/247183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lqd", "html_url": "https://github.com/lqd", "followers_url": "https://api.github.com/users/lqd/followers", "following_url": "https://api.github.com/users/lqd/following{/other_user}", "gists_url": "https://api.github.com/users/lqd/gists{/gist_id}", "starred_url": "https://api.github.com/users/lqd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lqd/subscriptions", "organizations_url": "https://api.github.com/users/lqd/orgs", "repos_url": "https://api.github.com/users/lqd/repos", "events_url": "https://api.github.com/users/lqd/events{/privacy}", "received_events_url": "https://api.github.com/users/lqd/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lqd", "id": 247183, "node_id": "MDQ6VXNlcjI0NzE4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/247183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lqd", "html_url": "https://github.com/lqd", "followers_url": "https://api.github.com/users/lqd/followers", "following_url": "https://api.github.com/users/lqd/following{/other_user}", "gists_url": "https://api.github.com/users/lqd/gists{/gist_id}", "starred_url": "https://api.github.com/users/lqd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lqd/subscriptions", "organizations_url": "https://api.github.com/users/lqd/orgs", "repos_url": "https://api.github.com/users/lqd/repos", "events_url": "https://api.github.com/users/lqd/events{/privacy}", "received_events_url": "https://api.github.com/users/lqd/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c73a46c6bff445230a922e6b5e3018f87443bcbe", "url": "https://api.github.com/repos/rust-lang/rust/commits/c73a46c6bff445230a922e6b5e3018f87443bcbe", "html_url": "https://github.com/rust-lang/rust/commit/c73a46c6bff445230a922e6b5e3018f87443bcbe"}], "stats": {"total": 7, "additions": 2, "deletions": 5}, "files": [{"sha": "68215790bed177e3fdd3b4376da622b612bc689a", "filename": "src/bootstrap/dist.rs", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/e0f5c6da1df52a64b80753bf33bae3176729ae52/src%2Fbootstrap%2Fdist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e0f5c6da1df52a64b80753bf33bae3176729ae52/src%2Fbootstrap%2Fdist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdist.rs?ref=e0f5c6da1df52a64b80753bf33bae3176729ae52", "patch": "@@ -2067,11 +2067,8 @@ impl Step for RustDev {\n \n         builder.ensure(crate::native::Llvm { target });\n \n-        // If the config has LLD enabled, ensure its step. We'll we want to package it, and use it\n-        // in download-ci-llvm.\n-        if builder.config.lld_enabled {\n-            builder.ensure(crate::native::Lld { target });\n-        }\n+        // We want to package `lld` to use it with `download-ci-llvm`.\n+        builder.ensure(crate::native::Lld { target });\n \n         let src_bindir = builder.llvm_out(target).join(\"bin\");\n         // If updating this list, you likely want to change"}]}