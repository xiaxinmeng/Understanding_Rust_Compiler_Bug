{"sha": "2f77d5fe39d62a8f255f96fee882ea57cee0e273", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmNzdkNWZlMzlkNjJhOGYyNTVmOTZmZWU4ODJlYTU3Y2VlMGUyNzM=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-03-20T08:02:08Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-03-20T08:02:08Z"}, "message": "Rollup merge of #70131 - Aaron1011:fix/issue-55099-test, r=nikomatsakis\n\nAdd regression test for TAIT lifetime inference (issue #55099)\n\nFixes #55099\n\nThe minimized reproducer in issue #55099 now compiles successfully.\nThis commit adds a regression test for it.", "tree": {"sha": "5968f89da808639d987c540d0dbca2ae34f356e8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5968f89da808639d987c540d0dbca2ae34f356e8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2f77d5fe39d62a8f255f96fee882ea57cee0e273", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJedHiACRBK7hj4Ov3rIwAAdHIIACgnxBzQANUD5QzgSL3DjW9A\n3fgwFmXlHvhedUB8A5QMt6q+A91jyyZW9yrdUZHYVe2q1eK9bHtQp5mGkLKFRs7W\nTQOhZu3ghCn1Mwjtuw31cPmiWy5soLnwnCERVp4uSRM7sAN+DS1kA6faSDraC6Yl\nzV0o3KivKPgm+JtIPtA9Oau9Kv6a6/SmaU58qaOPK2MagOAj6aKtTPJYTqnNNfPR\ngLB8AOjYSs4z2gPFlXrmrp+OtJmMzragqcITEin2imeIgW4kT0uH3S3xTYtQRRXU\nK/KE0nwWQrMZyyB39W0Rtd3oAxlzBEErRnvNKncLAi/+2kieeG38OGDh5uixHvU=\n=/Kt8\n-----END PGP SIGNATURE-----\n", "payload": "tree 5968f89da808639d987c540d0dbca2ae34f356e8\nparent 532133b71de10b568604773f3285ab0ebdfeca61\nparent fda913baae46ddaff88754bde06d02ccb824d921\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1584691328 +0900\ncommitter GitHub <noreply@github.com> 1584691328 +0900\n\nRollup merge of #70131 - Aaron1011:fix/issue-55099-test, r=nikomatsakis\n\nAdd regression test for TAIT lifetime inference (issue #55099)\n\nFixes #55099\n\nThe minimized reproducer in issue #55099 now compiles successfully.\nThis commit adds a regression test for it.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2f77d5fe39d62a8f255f96fee882ea57cee0e273", "html_url": "https://github.com/rust-lang/rust/commit/2f77d5fe39d62a8f255f96fee882ea57cee0e273", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2f77d5fe39d62a8f255f96fee882ea57cee0e273/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "532133b71de10b568604773f3285ab0ebdfeca61", "url": "https://api.github.com/repos/rust-lang/rust/commits/532133b71de10b568604773f3285ab0ebdfeca61", "html_url": "https://github.com/rust-lang/rust/commit/532133b71de10b568604773f3285ab0ebdfeca61"}, {"sha": "fda913baae46ddaff88754bde06d02ccb824d921", "url": "https://api.github.com/repos/rust-lang/rust/commits/fda913baae46ddaff88754bde06d02ccb824d921", "html_url": "https://github.com/rust-lang/rust/commit/fda913baae46ddaff88754bde06d02ccb824d921"}], "stats": {"total": 28, "additions": 28, "deletions": 0}, "files": [{"sha": "8e8508cdd6f308b5036209a2fc36696784632a21", "filename": "src/test/ui/type-alias-impl-trait/issue-55099-lifetime-inference.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/2f77d5fe39d62a8f255f96fee882ea57cee0e273/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-55099-lifetime-inference.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f77d5fe39d62a8f255f96fee882ea57cee0e273/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-55099-lifetime-inference.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftype-alias-impl-trait%2Fissue-55099-lifetime-inference.rs?ref=2f77d5fe39d62a8f255f96fee882ea57cee0e273", "patch": "@@ -0,0 +1,28 @@\n+// check-pass\n+// Regression test for issue #55099\n+// Tests that we don't incorrectly consider a lifetime to part\n+// of the concrete type\n+\n+#![feature(type_alias_impl_trait)]\n+\n+trait Future {\n+}\n+\n+struct AndThen<F>(F);\n+\n+impl<F> Future for AndThen<F> {\n+}\n+\n+struct Foo<'a> {\n+    x: &'a mut (),\n+}\n+\n+type F = impl Future;\n+\n+impl<'a> Foo<'a> {\n+    fn reply(&mut self) -> F {\n+        AndThen(|| ())\n+    }\n+}\n+\n+fn main() {}"}]}