{"sha": "9d0196a4914eb66003f21309ff7018d3e0f237a6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlkMDE5NmE0OTE0ZWI2NjAwM2YyMTMwOWZmNzAxOGQzZTBmMjM3YTY=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-07-09T13:35:52Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-07-09T13:35:52Z"}, "message": "Simplify", "tree": {"sha": "0104c95be6284d1354d112e1c345abaa4fb4c1a8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0104c95be6284d1354d112e1c345abaa4fb4c1a8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9d0196a4914eb66003f21309ff7018d3e0f237a6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9d0196a4914eb66003f21309ff7018d3e0f237a6", "html_url": "https://github.com/rust-lang/rust/commit/9d0196a4914eb66003f21309ff7018d3e0f237a6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9d0196a4914eb66003f21309ff7018d3e0f237a6/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b3985190114233861132b0f479731f00380e1342", "url": "https://api.github.com/repos/rust-lang/rust/commits/b3985190114233861132b0f479731f00380e1342", "html_url": "https://github.com/rust-lang/rust/commit/b3985190114233861132b0f479731f00380e1342"}], "stats": {"total": 146, "additions": 13, "deletions": 133}, "files": [{"sha": "578b1e128f29418a051197f2277a194eb18da8b0", "filename": "crates/rust-analyzer/src/diagnostics/snapshots/rust_analyzer__diagnostics__to_proto__tests__snap_clippy_pass_by_ref.snap", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_clippy_pass_by_ref.snap", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_clippy_pass_by_ref.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_clippy_pass_by_ref.snap?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -4,19 +4,7 @@ expression: diag\n ---\n [\n     MappedRustDiagnostic {\n-        location: Location {\n-            uri: \"file:///test/compiler/mir/tagset.rs\",\n-            range: Range {\n-                start: Position {\n-                    line: 41,\n-                    character: 23,\n-                },\n-                end: Position {\n-                    line: 41,\n-                    character: 28,\n-                },\n-            },\n-        },\n+        url: \"file:///test/compiler/mir/tagset.rs\",\n         diagnostic: Diagnostic {\n             range: Range {\n                 start: Position {"}, {"sha": "577cf4b2d9c2f567d8ccb3279de52190349c3ebb", "filename": "crates/rust-analyzer/src/diagnostics/snapshots/rust_analyzer__diagnostics__to_proto__tests__snap_handles_macro_location.snap", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_handles_macro_location.snap", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_handles_macro_location.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_handles_macro_location.snap?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -4,19 +4,7 @@ expression: diag\n ---\n [\n     MappedRustDiagnostic {\n-        location: Location {\n-            uri: \"file:///test/src/main.rs\",\n-            range: Range {\n-                start: Position {\n-                    line: 1,\n-                    character: 4,\n-                },\n-                end: Position {\n-                    line: 1,\n-                    character: 26,\n-                },\n-            },\n-        },\n+        url: \"file:///test/src/main.rs\",\n         diagnostic: Diagnostic {\n             range: Range {\n                 start: Position {"}, {"sha": "22bd23a8882f7276c5976f4354a1864ef116b78b", "filename": "crates/rust-analyzer/src/diagnostics/snapshots/rust_analyzer__diagnostics__to_proto__tests__snap_macro_compiler_error.snap", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_macro_compiler_error.snap", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_macro_compiler_error.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_macro_compiler_error.snap?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -4,19 +4,7 @@ expression: diag\n ---\n [\n     MappedRustDiagnostic {\n-        location: Location {\n-            uri: \"file:///test/crates/ra_hir_def/src/data.rs\",\n-            range: Range {\n-                start: Position {\n-                    line: 79,\n-                    character: 15,\n-                },\n-                end: Position {\n-                    line: 79,\n-                    character: 41,\n-                },\n-            },\n-        },\n+        url: \"file:///test/crates/ra_hir_def/src/data.rs\",\n         diagnostic: Diagnostic {\n             range: Range {\n                 start: Position {"}, {"sha": "1a0ac4f422b99f6717dd09ee85c860a0ee1ecb35", "filename": "crates/rust-analyzer/src/diagnostics/snapshots/rust_analyzer__diagnostics__to_proto__tests__snap_multi_line_fix.snap", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_multi_line_fix.snap", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_multi_line_fix.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_multi_line_fix.snap?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -4,19 +4,7 @@ expression: diag\n ---\n [\n     MappedRustDiagnostic {\n-        location: Location {\n-            uri: \"file:///test/src/main.rs\",\n-            range: Range {\n-                start: Position {\n-                    line: 3,\n-                    character: 4,\n-                },\n-                end: Position {\n-                    line: 3,\n-                    character: 5,\n-                },\n-            },\n-        },\n+        url: \"file:///test/src/main.rs\",\n         diagnostic: Diagnostic {\n             range: Range {\n                 start: Position {"}, {"sha": "cc608dafe034067306f30c23b265aaf0987b7d60", "filename": "crates/rust-analyzer/src/diagnostics/snapshots/rust_analyzer__diagnostics__to_proto__tests__snap_rustc_incompatible_type_for_trait.snap", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_incompatible_type_for_trait.snap", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_incompatible_type_for_trait.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_incompatible_type_for_trait.snap?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -4,19 +4,7 @@ expression: diag\n ---\n [\n     MappedRustDiagnostic {\n-        location: Location {\n-            uri: \"file:///test/compiler/ty/list_iter.rs\",\n-            range: Range {\n-                start: Position {\n-                    line: 51,\n-                    character: 4,\n-                },\n-                end: Position {\n-                    line: 51,\n-                    character: 47,\n-                },\n-            },\n-        },\n+        url: \"file:///test/compiler/ty/list_iter.rs\",\n         diagnostic: Diagnostic {\n             range: Range {\n                 start: Position {"}, {"sha": "4d2a8625e88e249a97ee042053a52f433b89ccfc", "filename": "crates/rust-analyzer/src/diagnostics/snapshots/rust_analyzer__diagnostics__to_proto__tests__snap_rustc_mismatched_type.snap", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_mismatched_type.snap", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_mismatched_type.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_mismatched_type.snap?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -4,19 +4,7 @@ expression: diag\n ---\n [\n     MappedRustDiagnostic {\n-        location: Location {\n-            uri: \"file:///test/runtime/compiler_support.rs\",\n-            range: Range {\n-                start: Position {\n-                    line: 47,\n-                    character: 64,\n-                },\n-                end: Position {\n-                    line: 47,\n-                    character: 69,\n-                },\n-            },\n-        },\n+        url: \"file:///test/runtime/compiler_support.rs\",\n         diagnostic: Diagnostic {\n             range: Range {\n                 start: Position {"}, {"sha": "e35941c760e905588991c8ec4b5e741b6634cd3b", "filename": "crates/rust-analyzer/src/diagnostics/snapshots/rust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable.snap", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable.snap", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable.snap?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -4,19 +4,7 @@ expression: diag\n ---\n [\n     MappedRustDiagnostic {\n-        location: Location {\n-            uri: \"file:///test/driver/subcommand/repl.rs\",\n-            range: Range {\n-                start: Position {\n-                    line: 290,\n-                    character: 8,\n-                },\n-                end: Position {\n-                    line: 290,\n-                    character: 11,\n-                },\n-            },\n-        },\n+        url: \"file:///test/driver/subcommand/repl.rs\",\n         diagnostic: Diagnostic {\n             range: Range {\n                 start: Position {"}, {"sha": "b6a7bcf60f415edf908d2a3949a23ca575282371", "filename": "crates/rust-analyzer/src/diagnostics/snapshots/rust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable_as_hint.snap", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable_as_hint.snap", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable_as_hint.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable_as_hint.snap?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -4,19 +4,7 @@ expression: diag\n ---\n [\n     MappedRustDiagnostic {\n-        location: Location {\n-            uri: \"file:///test/driver/subcommand/repl.rs\",\n-            range: Range {\n-                start: Position {\n-                    line: 290,\n-                    character: 8,\n-                },\n-                end: Position {\n-                    line: 290,\n-                    character: 11,\n-                },\n-            },\n-        },\n+        url: \"file:///test/driver/subcommand/repl.rs\",\n         diagnostic: Diagnostic {\n             range: Range {\n                 start: Position {"}, {"sha": "8c248faf2cf7762b5af02c044eb012492b559c84", "filename": "crates/rust-analyzer/src/diagnostics/snapshots/rust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable_as_info.snap", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable_as_info.snap", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable_as_info.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_unused_variable_as_info.snap?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -4,19 +4,7 @@ expression: diag\n ---\n [\n     MappedRustDiagnostic {\n-        location: Location {\n-            uri: \"file:///test/driver/subcommand/repl.rs\",\n-            range: Range {\n-                start: Position {\n-                    line: 290,\n-                    character: 8,\n-                },\n-                end: Position {\n-                    line: 290,\n-                    character: 11,\n-                },\n-            },\n-        },\n+        url: \"file:///test/driver/subcommand/repl.rs\",\n         diagnostic: Diagnostic {\n             range: Range {\n                 start: Position {"}, {"sha": "3ece40eafada7f92b991327e19a51ddef64a62f4", "filename": "crates/rust-analyzer/src/diagnostics/snapshots/rust_analyzer__diagnostics__to_proto__tests__snap_rustc_wrong_number_of_parameters.snap", "status": "modified", "additions": 1, "deletions": 13, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_wrong_number_of_parameters.snap", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_wrong_number_of_parameters.snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fsnapshots%2Frust_analyzer__diagnostics__to_proto__tests__snap_rustc_wrong_number_of_parameters.snap?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -4,19 +4,7 @@ expression: diag\n ---\n [\n     MappedRustDiagnostic {\n-        location: Location {\n-            uri: \"file:///test/compiler/ty/select.rs\",\n-            range: Range {\n-                start: Position {\n-                    line: 103,\n-                    character: 17,\n-                },\n-                end: Position {\n-                    line: 103,\n-                    character: 29,\n-                },\n-            },\n-        },\n+        url: \"file:///test/compiler/ty/select.rs\",\n         diagnostic: Diagnostic {\n             range: Range {\n                 start: Position {"}, {"sha": "ded96c58aa9663b3b60405e0288b7d3f6f445d6a", "filename": "crates/rust-analyzer/src/diagnostics/to_proto.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fto_proto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fto_proto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fto_proto.rs?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -125,7 +125,7 @@ fn map_rust_child_diagnostic(\n \n #[derive(Debug)]\n pub(crate) struct MappedRustDiagnostic {\n-    pub(crate) location: lsp_types::Location,\n+    pub(crate) url: lsp_types::Url,\n     pub(crate) diagnostic: lsp_types::Diagnostic,\n     pub(crate) fixes: Vec<lsp_ext::CodeAction>,\n }\n@@ -246,7 +246,7 @@ pub(crate) fn map_rust_diagnostic_to_lsp(\n                 tags: if tags.is_empty() { None } else { Some(tags.clone()) },\n             };\n \n-            MappedRustDiagnostic { location, diagnostic, fixes: fixes.clone() }\n+            MappedRustDiagnostic { url: location.uri, diagnostic, fixes: fixes.clone() }\n         })\n         .collect()\n }"}, {"sha": "4e556bd50615e09b5e311cae9ea35f476948f4d3", "filename": "crates/rust-analyzer/src/main_loop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9d0196a4914eb66003f21309ff7018d3e0f237a6/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs?ref=9d0196a4914eb66003f21309ff7018d3e0f237a6", "patch": "@@ -238,7 +238,7 @@ impl GlobalState {\n                         &workspace_root,\n                     );\n                     for diag in diagnostics {\n-                        match url_to_file_id(&self.vfs.read().0, &diag.location.uri) {\n+                        match url_to_file_id(&self.vfs.read().0, &diag.url) {\n                             Ok(file_id) => self.diagnostics.add_check_diagnostic(\n                                 file_id,\n                                 diag.diagnostic,"}]}