{"sha": "95c0cefd32bc1af5e91857511187760010aaffc7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk1YzBjZWZkMzJiYzFhZjVlOTE4NTc1MTExODc3NjAwMTBhYWZmYzc=", "commit": {"author": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-03-04T20:29:33Z"}, "committer": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-03-04T20:29:33Z"}, "message": "Build empty wrappers. This lets us compile hello world, but so far it\njust returns 0.", "tree": {"sha": "6d4b68c0ea632825cccd348de0b8bcf1d411fcda", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6d4b68c0ea632825cccd348de0b8bcf1d411fcda"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/95c0cefd32bc1af5e91857511187760010aaffc7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/95c0cefd32bc1af5e91857511187760010aaffc7", "html_url": "https://github.com/rust-lang/rust/commit/95c0cefd32bc1af5e91857511187760010aaffc7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/95c0cefd32bc1af5e91857511187760010aaffc7/comments", "author": null, "committer": null, "parents": [{"sha": "2ff67ed94e9835f7ee01088aa479a1ca5796bee5", "url": "https://api.github.com/repos/rust-lang/rust/commits/2ff67ed94e9835f7ee01088aa479a1ca5796bee5", "html_url": "https://github.com/rust-lang/rust/commit/2ff67ed94e9835f7ee01088aa479a1ca5796bee5"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "2ec0f9d168e79422371c44ea3a0d8d85ab8039a9", "filename": "src/Makefile", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/95c0cefd32bc1af5e91857511187760010aaffc7/src%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/95c0cefd32bc1af5e91857511187760010aaffc7/src%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FMakefile?ref=95c0cefd32bc1af5e91857511187760010aaffc7", "patch": "@@ -484,7 +484,6 @@ TEST_XFAILS_RUSTC := $(CONST_TAG_XFAILS) \\\n                         mlist-cycle.rs \\\n                         mlist.rs \\\n                         mutable-alias-vec.rs \\\n-                        native2.rs \\\n                         native-opaque-type.rs \\\n                         obj-as.rs \\\n                         obj-dtor.rs \\"}, {"sha": "2f45691adf2002ce1a21605b8e231cf88d3a2ac3", "filename": "src/comp/middle/trans.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/95c0cefd32bc1af5e91857511187760010aaffc7/src%2Fcomp%2Fmiddle%2Ftrans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/95c0cefd32bc1af5e91857511187760010aaffc7/src%2Fcomp%2Fmiddle%2Ftrans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans.rs?ref=95c0cefd32bc1af5e91857511187760010aaffc7", "patch": "@@ -4829,6 +4829,11 @@ fn decl_native_fn_and_pair(@crate_ctxt cx,\n     let str s = cx.names.next(\"_rust_wrapper\") + sep() + name;\n     let ValueRef wrapper_fn = decl_fastcall_fn(cx.llmod, s, wrapper_type);\n \n+    // Build the wrapper.\n+    auto fcx = new_fn_ctxt(cx, wrapper_fn);\n+    auto bcx = new_top_block_ctxt(fcx);\n+    bcx.build.RetVoid();\n+\n     // Declare the global constant pair that points to it.\n     auto wrapper_pair_type = T_fn_pair(cx.tn, wrapper_type);\n     let str ps = cx.names.next(\"_rust_wrapper_pair\") + sep() + name;"}]}