{"sha": "ff6867338792042b13d401d7c2c3f0aee8d04e62", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZmNjg2NzMzODc5MjA0MmIxM2Q0MDFkN2MyYzNmMGFlZThkMDRlNjI=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-04-30T02:16:35Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-04-30T02:16:35Z"}, "message": "add tests", "tree": {"sha": "b21d431a896154cc3e86eb07f36dce585f25d68b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b21d431a896154cc3e86eb07f36dce585f25d68b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ff6867338792042b13d401d7c2c3f0aee8d04e62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ff6867338792042b13d401d7c2c3f0aee8d04e62", "html_url": "https://github.com/rust-lang/rust/commit/ff6867338792042b13d401d7c2c3f0aee8d04e62", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ff6867338792042b13d401d7c2c3f0aee8d04e62/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "742b48dc39768fbafd5a072b4ee1dbcd207d12f9", "url": "https://api.github.com/repos/rust-lang/rust/commits/742b48dc39768fbafd5a072b4ee1dbcd207d12f9", "html_url": "https://github.com/rust-lang/rust/commit/742b48dc39768fbafd5a072b4ee1dbcd207d12f9"}], "stats": {"total": 81, "additions": 81, "deletions": 0}, "files": [{"sha": "d75f8363cd22169e0728d878d59f9e83ce91abe5", "filename": "src/test/ui/suggestions/match-ergonomics.rs", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/ff6867338792042b13d401d7c2c3f0aee8d04e62/src%2Ftest%2Fui%2Fsuggestions%2Fmatch-ergonomics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff6867338792042b13d401d7c2c3f0aee8d04e62/src%2Ftest%2Fui%2Fsuggestions%2Fmatch-ergonomics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fmatch-ergonomics.rs?ref=ff6867338792042b13d401d7c2c3f0aee8d04e62", "patch": "@@ -0,0 +1,40 @@\n+fn main() {\n+    let x = vec![1i32];\n+    match &x[..] {\n+        [&v] => {}, //~ ERROR mismatched types\n+        _ => {},\n+    }\n+    match x {\n+        [&v] => {}, //~ ERROR expected an array or slice\n+        _ => {},\n+    }\n+    match &x[..] {\n+        [v] => {},\n+        _ => {},\n+    }\n+    match &x[..] {\n+        &[v] => {},\n+        _ => {},\n+    }\n+    match x {\n+        [v] => {}, //~ ERROR expected an array or slice\n+        _ => {},\n+    }\n+    let y = 1i32;\n+    match &y {\n+        &v => {},\n+        _ => {},\n+    }\n+    match y {\n+        &v => {}, //~ ERROR mismatched types\n+        _ => {},\n+    }\n+    match &y {\n+        v => {},\n+        _ => {},\n+    }\n+    match y {\n+        v => {},\n+        _ => {},\n+    }\n+}"}, {"sha": "4239089b7cec765364a7e3eaf1038c7ccfb47fcb", "filename": "src/test/ui/suggestions/match-ergonomics.stderr", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/ff6867338792042b13d401d7c2c3f0aee8d04e62/src%2Ftest%2Fui%2Fsuggestions%2Fmatch-ergonomics.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ff6867338792042b13d401d7c2c3f0aee8d04e62/src%2Ftest%2Fui%2Fsuggestions%2Fmatch-ergonomics.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fmatch-ergonomics.stderr?ref=ff6867338792042b13d401d7c2c3f0aee8d04e62", "patch": "@@ -0,0 +1,41 @@\n+error[E0308]: mismatched types\n+  --> $DIR/match-ergonomics.rs:4:10\n+   |\n+LL |         [&v] => {},\n+   |          ^^\n+   |          |\n+   |          expected i32, found reference\n+   |          help: you can probaly remove the explicit borrow: `v`\n+   |\n+   = note: expected type `i32`\n+              found type `&_`\n+\n+error[E0529]: expected an array or slice, found `std::vec::Vec<i32>`\n+  --> $DIR/match-ergonomics.rs:8:9\n+   |\n+LL |         [&v] => {},\n+   |         ^^^^ pattern cannot match with input type `std::vec::Vec<i32>`\n+\n+error[E0529]: expected an array or slice, found `std::vec::Vec<i32>`\n+  --> $DIR/match-ergonomics.rs:20:9\n+   |\n+LL |         [v] => {},\n+   |         ^^^ pattern cannot match with input type `std::vec::Vec<i32>`\n+\n+error[E0308]: mismatched types\n+  --> $DIR/match-ergonomics.rs:29:9\n+   |\n+LL |         &v => {},\n+   |         ^^ expected i32, found reference\n+   |\n+   = note: expected type `i32`\n+              found type `&_`\n+help: you can rely on match ergonomics and remove the explicit borrow\n+   |\n+LL |         v => {},\n+   |         ^\n+\n+error: aborting due to 4 previous errors\n+\n+Some errors have detailed explanations: E0308, E0529.\n+For more information about an error, try `rustc --explain E0308`."}]}