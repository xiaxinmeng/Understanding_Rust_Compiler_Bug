{"sha": "b3aa880cb41129f8a2a11f29a05346757b85301e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIzYWE4ODBjYjQxMTI5ZjhhMmExMWYyOWEwNTM0Njc1N2I4NTMwMWU=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2021-01-16T17:30:00Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-01-16T17:30:00Z"}, "message": "Rollup merge of #80902 - JohnTitor:issue-76281, r=Mark-Simulacrum\n\nAdd a regression test for #76281\n\nThis has been fixed between 1.47.0-nightly (663d2f5cd 2020-08-22) and 1.47.0-nightly (5180f3da5 2020-08-23). Maybe fixed by #73526?\n\nCreated `wasm` dir, it currently has only one test but I'll move some wasm-related tests there as a follow-up.\n\nCloses #76281", "tree": {"sha": "db53a27f5919d46e9bccea030de70ed3cde9392a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/db53a27f5919d46e9bccea030de70ed3cde9392a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b3aa880cb41129f8a2a11f29a05346757b85301e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgAyKYCRBK7hj4Ov3rIwAAdHIIAHGPdUl9rtPkUzcOxsitVw3X\nZnWhDva3CYX7bQznFG1h8Wffq3bYDV97dYI6Ys7GPMc1JmiHuRamBJBdz8Ptk2Ws\n7KF/tP0iWGSQyVA1eYK0xlGM9Of6r1pLtEtDSiPk4S/rAtHsKQkCTIl2uOreISgX\nngi+4c/sLzsJ2l3eJHMl+EjINodu2V+ulRS6DhSF4VQmNEyvRlgLSK9UWQY/24v4\nVqNm9pV363LnJwq8kdU5DbnQeQWvIHi2E412+vt2gmT4XSwyAjsEc4xah8Ycyv/Z\no45V0PVm+GHB49QUMhvvQ4tCBEFmES2j3KyRbd/NifbtxwBsAvxWOIObrOdUkYM=\n=hKc9\n-----END PGP SIGNATURE-----\n", "payload": "tree db53a27f5919d46e9bccea030de70ed3cde9392a\nparent 5b5aa102b9578bc4034c948609f22fde71cbd8a3\nparent 8797986391022adf98bde252002dcfc9eaaef975\nauthor Mara Bos <m-ou.se@m-ou.se> 1610818200 +0000\ncommitter GitHub <noreply@github.com> 1610818200 +0000\n\nRollup merge of #80902 - JohnTitor:issue-76281, r=Mark-Simulacrum\n\nAdd a regression test for #76281\n\nThis has been fixed between 1.47.0-nightly (663d2f5cd 2020-08-22) and 1.47.0-nightly (5180f3da5 2020-08-23). Maybe fixed by #73526?\n\nCreated `wasm` dir, it currently has only one test but I'll move some wasm-related tests there as a follow-up.\n\nCloses #76281\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b3aa880cb41129f8a2a11f29a05346757b85301e", "html_url": "https://github.com/rust-lang/rust/commit/b3aa880cb41129f8a2a11f29a05346757b85301e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b3aa880cb41129f8a2a11f29a05346757b85301e/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5b5aa102b9578bc4034c948609f22fde71cbd8a3", "url": "https://api.github.com/repos/rust-lang/rust/commits/5b5aa102b9578bc4034c948609f22fde71cbd8a3", "html_url": "https://github.com/rust-lang/rust/commit/5b5aa102b9578bc4034c948609f22fde71cbd8a3"}, {"sha": "8797986391022adf98bde252002dcfc9eaaef975", "url": "https://api.github.com/repos/rust-lang/rust/commits/8797986391022adf98bde252002dcfc9eaaef975", "html_url": "https://github.com/rust-lang/rust/commit/8797986391022adf98bde252002dcfc9eaaef975"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "a4adfa6d0446171d4a6e602170e4319177fff39d", "filename": "src/test/ui/wasm/wasm-hang-issue-76281.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b3aa880cb41129f8a2a11f29a05346757b85301e/src%2Ftest%2Fui%2Fwasm%2Fwasm-hang-issue-76281.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b3aa880cb41129f8a2a11f29a05346757b85301e/src%2Ftest%2Fui%2Fwasm%2Fwasm-hang-issue-76281.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fwasm%2Fwasm-hang-issue-76281.rs?ref=b3aa880cb41129f8a2a11f29a05346757b85301e", "patch": "@@ -0,0 +1,12 @@\n+// only-wasm32\n+// compile-flags: -C opt-level=2\n+// build-pass\n+\n+// Regression test for #76281.\n+// This seems like an issue related to LLVM rather than\n+// libs-impl so place here.\n+\n+fn main() {\n+    let mut v: Vec<&()> = Vec::new();\n+    v.sort_by_key(|&r| r as *const ());\n+}"}]}