{"sha": "2ec21327f25e4646ce64a2e331bb4702cf96dc99", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJlYzIxMzI3ZjI1ZTQ2NDZjZTY0YTJlMzMxYmI0NzAyY2Y5NmRjOTk=", "commit": {"author": {"name": "Jeremy Soller", "email": "jackpot51@gmail.com", "date": "2016-11-29T01:19:17Z"}, "committer": {"name": "Jeremy Soller", "email": "jackpot51@gmail.com", "date": "2016-11-29T01:19:17Z"}, "message": "Switch to using Prefix::Verbatim", "tree": {"sha": "2acb36e4e60168b8da8da54d445a2d9daf96ab09", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2acb36e4e60168b8da8da54d445a2d9daf96ab09"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2ec21327f25e4646ce64a2e331bb4702cf96dc99", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2ec21327f25e4646ce64a2e331bb4702cf96dc99", "html_url": "https://github.com/rust-lang/rust/commit/2ec21327f25e4646ce64a2e331bb4702cf96dc99", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2ec21327f25e4646ce64a2e331bb4702cf96dc99/comments", "author": {"login": "jackpot51", "id": 7741236, "node_id": "MDQ6VXNlcjc3NDEyMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/7741236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackpot51", "html_url": "https://github.com/jackpot51", "followers_url": "https://api.github.com/users/jackpot51/followers", "following_url": "https://api.github.com/users/jackpot51/following{/other_user}", "gists_url": "https://api.github.com/users/jackpot51/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackpot51/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackpot51/subscriptions", "organizations_url": "https://api.github.com/users/jackpot51/orgs", "repos_url": "https://api.github.com/users/jackpot51/repos", "events_url": "https://api.github.com/users/jackpot51/events{/privacy}", "received_events_url": "https://api.github.com/users/jackpot51/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jackpot51", "id": 7741236, "node_id": "MDQ6VXNlcjc3NDEyMzY=", "avatar_url": "https://avatars.githubusercontent.com/u/7741236?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackpot51", "html_url": "https://github.com/jackpot51", "followers_url": "https://api.github.com/users/jackpot51/followers", "following_url": "https://api.github.com/users/jackpot51/following{/other_user}", "gists_url": "https://api.github.com/users/jackpot51/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackpot51/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackpot51/subscriptions", "organizations_url": "https://api.github.com/users/jackpot51/orgs", "repos_url": "https://api.github.com/users/jackpot51/repos", "events_url": "https://api.github.com/users/jackpot51/events{/privacy}", "received_events_url": "https://api.github.com/users/jackpot51/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "746222fd9d6c16d3dc3c44c797dcc868297c133b", "url": "https://api.github.com/repos/rust-lang/rust/commits/746222fd9d6c16d3dc3c44c797dcc868297c133b", "html_url": "https://github.com/rust-lang/rust/commit/746222fd9d6c16d3dc3c44c797dcc868297c133b"}], "stats": {"total": 10, "additions": 4, "deletions": 6}, "files": [{"sha": "e38cff179c3b4c53e7d130dabde1c6d007573fcf", "filename": "src/libstd/path.rs", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/2ec21327f25e4646ce64a2e331bb4702cf96dc99/src%2Flibstd%2Fpath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2ec21327f25e4646ce64a2e331bb4702cf96dc99/src%2Flibstd%2Fpath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpath.rs?ref=2ec21327f25e4646ce64a2e331bb4702cf96dc99", "patch": "@@ -148,10 +148,6 @@ use sys::path::{is_sep_byte, is_verbatim_sep, MAIN_SEP_STR, parse_prefix};\n #[derive(Copy, Clone, Debug, Hash, PartialOrd, Ord, PartialEq, Eq)]\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n pub enum Prefix<'a> {\n-    /// Prefix `scheme:`, where `scheme` is the component stored\n-    #[unstable(feature=\"redox_prefix\", issue=\"0\")]\n-    Scheme(&'a OsStr),\n-\n     /// Prefix `\\\\?\\`, together with the given component immediately following it.\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     Verbatim(#[stable(feature = \"rust1\", since = \"1.0.0\")] &'a OsStr),\n@@ -191,7 +187,9 @@ impl<'a> Prefix<'a> {\n             os_str_as_u8_slice(s).len()\n         }\n         match *self {\n-            Scheme(x) => os_str_len(x) + 1,\n+            #[cfg(target_os = \"redox\")]\n+            Verbatim(x) => 1 + os_str_len(x),\n+            #[cfg(not(target_os = \"redox\"))]\n             Verbatim(x) => 4 + os_str_len(x),\n             VerbatimUNC(x, y) => {\n                 8 + os_str_len(x) +"}, {"sha": "e609f83bc072111083427f760e7cddf526e2e5f8", "filename": "src/libstd/sys/redox/path.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2ec21327f25e4646ce64a2e331bb4702cf96dc99/src%2Flibstd%2Fsys%2Fredox%2Fpath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2ec21327f25e4646ce64a2e331bb4702cf96dc99/src%2Flibstd%2Fsys%2Fredox%2Fpath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fredox%2Fpath.rs?ref=2ec21327f25e4646ce64a2e331bb4702cf96dc99", "patch": "@@ -24,7 +24,7 @@ pub fn is_verbatim_sep(b: u8) -> bool {\n pub fn parse_prefix(path: &OsStr) -> Option<Prefix> {\n     if let Some(path_str) = path.to_str() {\n         if let Some(i) = path_str.find(':') {\n-            Some(Prefix::Scheme(OsStr::new(&path_str[..i])))\n+            Some(Prefix::Verbatim(OsStr::new(&path_str[..i])))\n         } else {\n             None\n         }"}]}