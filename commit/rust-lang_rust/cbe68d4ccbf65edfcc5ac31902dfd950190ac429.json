{"sha": "cbe68d4ccbf65edfcc5ac31902dfd950190ac429", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNiZTY4ZDRjY2JmNjVlZGZjYzVhYzMxOTAyZGZkOTUwMTkwYWM0Mjk=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-08-04T22:29:59Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2010-08-04T22:29:59Z"}, "message": "Add a CHECK_XFAILS target that inverts the sense of check: it tries to compile and run the tests marked as XFAILs.", "tree": {"sha": "438f967486569b4453abf168fabd5ce0a71db983", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/438f967486569b4453abf168fabd5ce0a71db983"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cbe68d4ccbf65edfcc5ac31902dfd950190ac429", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cbe68d4ccbf65edfcc5ac31902dfd950190ac429", "html_url": "https://github.com/rust-lang/rust/commit/cbe68d4ccbf65edfcc5ac31902dfd950190ac429", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cbe68d4ccbf65edfcc5ac31902dfd950190ac429/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "815424c2ec96f461ea10a91d9955071271c5c64f", "url": "https://api.github.com/repos/rust-lang/rust/commits/815424c2ec96f461ea10a91d9955071271c5c64f", "html_url": "https://github.com/rust-lang/rust/commit/815424c2ec96f461ea10a91d9955071271c5c64f"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "7236e02f8749dbab4d6c4a073510d254f21b299c", "filename": "src/Makefile", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/cbe68d4ccbf65edfcc5ac31902dfd950190ac429/src%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/cbe68d4ccbf65edfcc5ac31902dfd950190ac429/src%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2FMakefile?ref=cbe68d4ccbf65edfcc5ac31902dfd950190ac429", "patch": "@@ -577,10 +577,18 @@ RFAIL_RS := $(wildcard test/run-fail/*.rs)\n CFAIL_RC := $(wildcard test/compile-fail/*.rc)\n CFAIL_RS := $(wildcard test/compile-fail/*.rs)\n \n+ifdef CHECK_XFAILS\n+TEST_RPASS_CRATES_X86 := $(filter $(TEST_XFAILS_X86), $(RPASS_RC))\n+TEST_RPASS_CRATES_LLVM := $(filter $(TEST_XFAILS_LLVM), $(RPASS_RC))\n+TEST_RPASS_SOURCES_X86 := $(filter $(TEST_XFAILS_X86), $(RPASS_RS))\n+TEST_RPASS_SOURCES_LLVM := $(filter $(TEST_XFAILS_LLVM), $(RPASS_RS))\n+else\n TEST_RPASS_CRATES_X86 := $(filter-out $(TEST_XFAILS_X86), $(RPASS_RC))\n TEST_RPASS_CRATES_LLVM := $(filter-out $(TEST_XFAILS_LLVM), $(RPASS_RC))\n TEST_RPASS_SOURCES_X86 := $(filter-out $(TEST_XFAILS_X86), $(RPASS_RS))\n TEST_RPASS_SOURCES_LLVM := $(filter-out $(TEST_XFAILS_LLVM), $(RPASS_RS))\n+endif\n+\n TEST_RPASS_EXTRAS := $(wildcard test/run-pass/*/*.rs)\n TEST_RPASS_EXES_X86 := \\\n                       $(TEST_RPASS_CRATES_X86:.rc=.x86$(CFG_EXE_SUFFIX)) \\"}]}