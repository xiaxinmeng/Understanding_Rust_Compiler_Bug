{"sha": "e2ddf8a6e579ca1d92fdddd8bead46277c3261eb", "node_id": "C_kwDOAAsO6NoAKGUyZGRmOGE2ZTU3OWNhMWQ5MmZkZGRkOGJlYWQ0NjI3N2MzMjYxZWI", "commit": {"author": {"name": "Jannis Christopher K\u00f6hl", "email": "mail@koehl.dev", "date": "2022-09-04T10:29:49Z"}, "committer": {"name": "Jannis Christopher K\u00f6hl", "email": "mail@koehl.dev", "date": "2022-11-07T09:35:15Z"}, "message": "Add comment about downcast projection element", "tree": {"sha": "8e556c020d37b2dd6dd54ff1b766b2224e37282a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8e556c020d37b2dd6dd54ff1b766b2224e37282a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e2ddf8a6e579ca1d92fdddd8bead46277c3261eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e2ddf8a6e579ca1d92fdddd8bead46277c3261eb", "html_url": "https://github.com/rust-lang/rust/commit/e2ddf8a6e579ca1d92fdddd8bead46277c3261eb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e2ddf8a6e579ca1d92fdddd8bead46277c3261eb/comments", "author": {"login": "jachris", "id": 30163784, "node_id": "MDQ6VXNlcjMwMTYzNzg0", "avatar_url": "https://avatars.githubusercontent.com/u/30163784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jachris", "html_url": "https://github.com/jachris", "followers_url": "https://api.github.com/users/jachris/followers", "following_url": "https://api.github.com/users/jachris/following{/other_user}", "gists_url": "https://api.github.com/users/jachris/gists{/gist_id}", "starred_url": "https://api.github.com/users/jachris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jachris/subscriptions", "organizations_url": "https://api.github.com/users/jachris/orgs", "repos_url": "https://api.github.com/users/jachris/repos", "events_url": "https://api.github.com/users/jachris/events{/privacy}", "received_events_url": "https://api.github.com/users/jachris/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jachris", "id": 30163784, "node_id": "MDQ6VXNlcjMwMTYzNzg0", "avatar_url": "https://avatars.githubusercontent.com/u/30163784?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jachris", "html_url": "https://github.com/jachris", "followers_url": "https://api.github.com/users/jachris/followers", "following_url": "https://api.github.com/users/jachris/following{/other_user}", "gists_url": "https://api.github.com/users/jachris/gists{/gist_id}", "starred_url": "https://api.github.com/users/jachris/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jachris/subscriptions", "organizations_url": "https://api.github.com/users/jachris/orgs", "repos_url": "https://api.github.com/users/jachris/repos", "events_url": "https://api.github.com/users/jachris/events{/privacy}", "received_events_url": "https://api.github.com/users/jachris/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1e5ca5701496a73d822b8dff220c7a8e8463724b", "url": "https://api.github.com/repos/rust-lang/rust/commits/1e5ca5701496a73d822b8dff220c7a8e8463724b", "html_url": "https://github.com/rust-lang/rust/commit/1e5ca5701496a73d822b8dff220c7a8e8463724b"}], "stats": {"total": 5, "additions": 4, "deletions": 1}, "files": [{"sha": "80d343e2b537dc69836b6e2eff743b91076e667b", "filename": "compiler/rustc_mir_dataflow/src/value_analysis.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/e2ddf8a6e579ca1d92fdddd8bead46277c3261eb/compiler%2Frustc_mir_dataflow%2Fsrc%2Fvalue_analysis.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2ddf8a6e579ca1d92fdddd8bead46277c3261eb/compiler%2Frustc_mir_dataflow%2Fsrc%2Fvalue_analysis.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_dataflow%2Fsrc%2Fvalue_analysis.rs?ref=e2ddf8a6e579ca1d92fdddd8bead46277c3261eb", "patch": "@@ -582,7 +582,10 @@ impl Map {\n \n         // Apply the projection.\n         for &elem in projection {\n-            // For now, downcast is not allowed (see #101168).\n+            // For now, downcast is not allowed due to aliasing between variants (see #101168).\n+            // Also, according to the documentation of [`Place`], a single-variant type can be\n+            // projected with and without a [`ProjectionElem::Downcast`]. This creates an ambiguity\n+            // that needs to be resolved.\n             match elem {\n                 PlaceElem::Downcast(..) => return Err(()),\n                 _ => (),"}]}