{"sha": "26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "node_id": "C_kwDOAAsO6NoAKDI2YWM0NTYxNGJhYzVmOGViZGQxYWQ1M2M3YjlmMTg5ZTliNmI2ZDY", "commit": {"author": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2022-06-15T10:54:43Z"}, "committer": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2022-06-15T10:54:43Z"}, "message": "Rename `impl_constness` to `constness`\n\nThe current code is a basis for `is_const_fn_raw`, and `impl_constness`\nis no longer a valid name, which is previously used for determining the\nconstness of impls, and not items in general.", "tree": {"sha": "1d861a1e508cdae987c056ecf166c6ea813b8f5e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1d861a1e508cdae987c056ecf166c6ea813b8f5e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "html_url": "https://github.com/rust-lang/rust/commit/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/comments", "author": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "389352c4bbd56024eefd1566e06dcba04d223f92", "url": "https://api.github.com/repos/rust-lang/rust/commits/389352c4bbd56024eefd1566e06dcba04d223f92", "html_url": "https://github.com/rust-lang/rust/commit/389352c4bbd56024eefd1566e06dcba04d223f92"}], "stats": {"total": 52, "additions": 26, "deletions": 26}, "files": [{"sha": "f1674d04f8d15f16be1f3011eaead81daad003e7", "filename": "compiler/rustc_const_eval/src/const_eval/fn_queries.rs", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_const_eval%2Fsrc%2Fconst_eval%2Ffn_queries.rs", "raw_url": "https://github.com/rust-lang/rust/raw/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_const_eval%2Fsrc%2Fconst_eval%2Ffn_queries.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Fconst_eval%2Ffn_queries.rs?ref=26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "patch": "@@ -17,13 +17,14 @@ pub fn is_unstable_const_fn(tcx: TyCtxt<'_>, def_id: DefId) -> Option<Symbol> {\n \n pub fn is_parent_const_impl_raw(tcx: TyCtxt<'_>, def_id: LocalDefId) -> bool {\n     let parent_id = tcx.local_parent(def_id);\n-    tcx.def_kind(parent_id) == DefKind::Impl\n-        && tcx.impl_constness(parent_id) == hir::Constness::Const\n+    tcx.def_kind(parent_id) == DefKind::Impl && tcx.constness(parent_id) == hir::Constness::Const\n }\n \n-/// Checks whether the function has a `const` modifier or, in case it is an intrinsic, whether\n-/// said intrinsic has a `rustc_const_{un,}stable` attribute.\n-fn impl_constness(tcx: TyCtxt<'_>, def_id: DefId) -> hir::Constness {\n+/// Checks whether an item is considered to be `const`. If it is a constructor, it is const. If\n+/// it is a trait impl/function, return if it has a `const` modifier. If it is an intrinsic,\n+/// report whether said intrinsic has a `rustc_const_{un,}stable` attribute. Otherwise, return\n+/// `Constness::NotConst`.\n+fn constness(tcx: TyCtxt<'_>, def_id: DefId) -> hir::Constness {\n     let def_id = def_id.expect_local();\n     let node = tcx.hir().get_by_def_id(def_id);\n \n@@ -77,5 +78,5 @@ fn is_promotable_const_fn(tcx: TyCtxt<'_>, def_id: DefId) -> bool {\n }\n \n pub fn provide(providers: &mut Providers) {\n-    *providers = Providers { impl_constness, is_promotable_const_fn, ..*providers };\n+    *providers = Providers { constness, is_promotable_const_fn, ..*providers };\n }"}, {"sha": "069fbed36ee3a0190797be7ad2e7e304a0bbabe2", "filename": "compiler/rustc_const_eval/src/transform/check_consts/check.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fcheck.rs?ref=26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "patch": "@@ -753,7 +753,7 @@ impl<'tcx> Visitor<'tcx> for Checker<'_, 'tcx> {\n                                 callee = did;\n                             }\n \n-                            if let hir::Constness::NotConst = tcx.impl_constness(data.impl_def_id) {\n+                            if let hir::Constness::NotConst = tcx.constness(data.impl_def_id) {\n                                 self.check_op(ops::FnCallNonConst {\n                                     caller,\n                                     callee,"}, {"sha": "0bea2a10da8967094d0ef605cd53092eae6ab028", "filename": "compiler/rustc_metadata/src/rmeta/decoder/cstore_impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fdecoder%2Fcstore_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fdecoder%2Fcstore_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fdecoder%2Fcstore_impl.rs?ref=26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "patch": "@@ -214,7 +214,7 @@ provide! { <'tcx> tcx, def_id, other, cdata,\n     impl_parent => { table }\n     impl_polarity => { table_direct }\n     impl_defaultness => { table_direct }\n-    impl_constness => { table_direct }\n+    constness => { table_direct }\n     coerce_unsized_info => { table }\n     mir_const_qualif => { table }\n     rendered_const => { table }"}, {"sha": "ee0d34c9987bfa215e0637861416efca1415bb4a", "filename": "compiler/rustc_metadata/src/rmeta/encoder.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fencoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fencoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fencoder.rs?ref=26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "patch": "@@ -1070,7 +1070,7 @@ impl<'a, 'tcx> EncodeContext<'a, 'tcx> {\n         };\n \n         record!(self.tables.kind[def_id] <- EntryKind::Variant(self.lazy(data)));\n-        self.tables.impl_constness.set(def_id.index, hir::Constness::Const);\n+        self.tables.constness.set(def_id.index, hir::Constness::Const);\n         record_array!(self.tables.children[def_id] <- variant.fields.iter().map(|f| {\n             assert!(f.did.is_local());\n             f.did.index\n@@ -1099,7 +1099,7 @@ impl<'a, 'tcx> EncodeContext<'a, 'tcx> {\n         };\n \n         record!(self.tables.kind[def_id] <- EntryKind::Variant(self.lazy(data)));\n-        self.tables.impl_constness.set(def_id.index, hir::Constness::Const);\n+        self.tables.constness.set(def_id.index, hir::Constness::Const);\n         self.encode_item_type(def_id);\n         if variant.ctor_kind == CtorKind::Fn {\n             record!(self.tables.fn_sig[def_id] <- tcx.fn_sig(def_id));\n@@ -1182,7 +1182,7 @@ impl<'a, 'tcx> EncodeContext<'a, 'tcx> {\n         };\n \n         record!(self.tables.repr_options[def_id] <- adt_def.repr());\n-        self.tables.impl_constness.set(def_id.index, hir::Constness::Const);\n+        self.tables.constness.set(def_id.index, hir::Constness::Const);\n         record!(self.tables.kind[def_id] <- EntryKind::Struct(self.lazy(data)));\n         self.encode_item_type(def_id);\n         if variant.ctor_kind == CtorKind::Fn {\n@@ -1233,7 +1233,7 @@ impl<'a, 'tcx> EncodeContext<'a, 'tcx> {\n                     }\n                 };\n                 self.tables.asyncness.set(def_id.index, m_sig.header.asyncness);\n-                self.tables.impl_constness.set(def_id.index, hir::Constness::NotConst);\n+                self.tables.constness.set(def_id.index, hir::Constness::NotConst);\n                 record!(self.tables.kind[def_id] <- EntryKind::AssocFn(self.lazy(AssocFnData {\n                     container,\n                     has_self: trait_item.fn_has_self_parameter,\n@@ -1297,7 +1297,7 @@ impl<'a, 'tcx> EncodeContext<'a, 'tcx> {\n                 } else {\n                     hir::Constness::NotConst\n                 };\n-                self.tables.impl_constness.set(def_id.index, constness);\n+                self.tables.constness.set(def_id.index, constness);\n                 record!(self.tables.kind[def_id] <- EntryKind::AssocFn(self.lazy(AssocFnData {\n                     container,\n                     has_self: impl_item.fn_has_self_parameter,\n@@ -1420,7 +1420,7 @@ impl<'a, 'tcx> EncodeContext<'a, 'tcx> {\n             hir::ItemKind::Fn(ref sig, .., body) => {\n                 self.tables.asyncness.set(def_id.index, sig.header.asyncness);\n                 record_array!(self.tables.fn_arg_names[def_id] <- self.tcx.hir().body_param_names(body));\n-                self.tables.impl_constness.set(def_id.index, sig.header.constness);\n+                self.tables.constness.set(def_id.index, sig.header.constness);\n                 EntryKind::Fn\n             }\n             hir::ItemKind::Macro(ref macro_def, _) => {\n@@ -1444,7 +1444,7 @@ impl<'a, 'tcx> EncodeContext<'a, 'tcx> {\n             hir::ItemKind::Struct(ref struct_def, _) => {\n                 let adt_def = self.tcx.adt_def(def_id);\n                 record!(self.tables.repr_options[def_id] <- adt_def.repr());\n-                self.tables.impl_constness.set(def_id.index, hir::Constness::Const);\n+                self.tables.constness.set(def_id.index, hir::Constness::Const);\n \n                 // Encode def_ids for each field and method\n                 // for methods, write all the stuff get_trait_method\n@@ -1475,7 +1475,7 @@ impl<'a, 'tcx> EncodeContext<'a, 'tcx> {\n             }\n             hir::ItemKind::Impl(hir::Impl { defaultness, constness, .. }) => {\n                 self.tables.impl_defaultness.set(def_id.index, *defaultness);\n-                self.tables.impl_constness.set(def_id.index, *constness);\n+                self.tables.constness.set(def_id.index, *constness);\n \n                 let trait_ref = self.tcx.impl_trait_ref(def_id);\n                 if let Some(trait_ref) = trait_ref {\n@@ -1941,7 +1941,7 @@ impl<'a, 'tcx> EncodeContext<'a, 'tcx> {\n                 } else {\n                     hir::Constness::NotConst\n                 };\n-                self.tables.impl_constness.set(def_id.index, constness);\n+                self.tables.constness.set(def_id.index, constness);\n                 record!(self.tables.kind[def_id] <- EntryKind::ForeignFn);\n             }\n             hir::ForeignItemKind::Static(..) => {"}, {"sha": "a58c0e68ee38c3dfe1506a2805549c911589835e", "filename": "compiler/rustc_metadata/src/rmeta/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fmod.rs?ref=26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "patch": "@@ -364,7 +364,7 @@ define_tables! {\n     thir_abstract_const: Table<DefIndex, LazyValue<&'static [thir::abstract_const::Node<'static>]>>,\n     impl_parent: Table<DefIndex, RawDefId>,\n     impl_polarity: Table<DefIndex, ty::ImplPolarity>,\n-    impl_constness: Table<DefIndex, hir::Constness>,\n+    constness: Table<DefIndex, hir::Constness>,\n     is_intrinsic: Table<DefIndex, ()>,\n     impl_defaultness: Table<DefIndex, hir::Defaultness>,\n     // FIXME(eddyb) perhaps compute this on the fly if cheap enough?"}, {"sha": "b7ac5c49cfc77b1a5d4a489d95071e01a381732c", "filename": "compiler/rustc_middle/src/query/mod.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs?ref=26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "patch": "@@ -592,9 +592,9 @@ rustc_queries! {\n     /// not have the feature gate active).\n     ///\n     /// **Do not call this function manually.** It is only meant to cache the base data for the\n-    /// `is_const_fn` function.\n-    query impl_constness(key: DefId) -> hir::Constness {\n-        desc { |tcx| \"checking if item is const fn: `{}`\", tcx.def_path_str(key) }\n+    /// `is_const_fn` function. Consider using `is_const_fn` or `is_const_fn_raw` instead.\n+    query constness(key: DefId) -> hir::Constness {\n+        desc { |tcx| \"checking if item is const: `{}`\", tcx.def_path_str(key) }\n         cache_on_disk_if { key.is_local() }\n         separate_provide_extern\n     }"}, {"sha": "bb0e8bcf71849e7dcc4ae400b4930b6a4f418de9", "filename": "compiler/rustc_middle/src/ty/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_middle%2Fsrc%2Fty%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_middle%2Fsrc%2Fty%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fmod.rs?ref=26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "patch": "@@ -2309,7 +2309,7 @@ impl<'tcx> TyCtxt<'tcx> {\n     #[inline]\n     pub fn is_const_fn_raw(self, def_id: DefId) -> bool {\n         matches!(self.def_kind(def_id), DefKind::Fn | DefKind::AssocFn | DefKind::Ctor(..))\n-            && self.impl_constness(def_id) == hir::Constness::Const\n+            && self.constness(def_id) == hir::Constness::Const\n     }\n \n     #[inline]"}, {"sha": "b9c95813121398e49401e84ba23ae80e580bb8b0", "filename": "compiler/rustc_middle/src/ty/util.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_middle%2Fsrc%2Fty%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_middle%2Fsrc%2Fty%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Futil.rs?ref=26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "patch": "@@ -376,7 +376,7 @@ impl<'tcx> TyCtxt<'tcx> {\n         let (did, constness) = self.find_map_relevant_impl(drop_trait, ty, |impl_did| {\n             if let Some(item_id) = self.associated_item_def_ids(impl_did).first() {\n                 if validate(self, impl_did).is_ok() {\n-                    return Some((*item_id, self.impl_constness(impl_did)));\n+                    return Some((*item_id, self.constness(impl_did)));\n                 }\n             }\n             None"}, {"sha": "cfd50c1afb9e228ffb56978ae3c20f0f13979193", "filename": "compiler/rustc_trait_selection/src/traits/select/candidate_assembly.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fcandidate_assembly.rs", "raw_url": "https://github.com/rust-lang/rust/raw/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fcandidate_assembly.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fcandidate_assembly.rs?ref=26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "patch": "@@ -970,7 +970,7 @@ impl<'cx, 'tcx> SelectionContext<'cx, 'tcx> {\n \n                 if let Some(impl_def_id) = relevant_impl {\n                     // Check that `impl Drop` is actually const, if there is a custom impl\n-                    if self.tcx().impl_constness(impl_def_id) == hir::Constness::Const {\n+                    if self.tcx().constness(impl_def_id) == hir::Constness::Const {\n                         candidates.vec.push(ConstDestructCandidate(Some(impl_def_id)));\n                     }\n                 } else {"}, {"sha": "297fbfa1c327653e60e6551ab68d28a619729a69", "filename": "compiler/rustc_trait_selection/src/traits/select/mod.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fmod.rs?ref=26ac45614bac5f8ebdd1ad53c7b9f189e9b6b6d6", "patch": "@@ -1119,8 +1119,7 @@ impl<'cx, 'tcx> SelectionContext<'cx, 'tcx> {\n             if obligation.is_const() {\n                 match candidate {\n                     // const impl\n-                    ImplCandidate(def_id)\n-                        if tcx.impl_constness(def_id) == hir::Constness::Const => {}\n+                    ImplCandidate(def_id) if tcx.constness(def_id) == hir::Constness::Const => {}\n                     // const param\n                     ParamCandidate(trait_pred) if trait_pred.is_const_if_const() => {}\n                     // auto trait impl"}]}