{"sha": "5e0bda0448283c3045c1e96b99e90ebbc3746e12", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVlMGJkYTA0NDgyODNjMzA0NWMxZTk2Yjk5ZTkwZWJiYzM3NDZlMTI=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-03-31T17:15:33Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-03-31T22:49:11Z"}, "message": "rollup merge of #23885: steveklabnik/doc_std_env\n\nJust one or two things to finish this module off", "tree": {"sha": "a9a841e7127653eea53156ab17ad883670ed1f45", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a9a841e7127653eea53156ab17ad883670ed1f45"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5e0bda0448283c3045c1e96b99e90ebbc3746e12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5e0bda0448283c3045c1e96b99e90ebbc3746e12", "html_url": "https://github.com/rust-lang/rust/commit/5e0bda0448283c3045c1e96b99e90ebbc3746e12", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5e0bda0448283c3045c1e96b99e90ebbc3746e12/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "095f1fbde661c4de6dc96fd2e9753b084b66f34a", "url": "https://api.github.com/repos/rust-lang/rust/commits/095f1fbde661c4de6dc96fd2e9753b084b66f34a", "html_url": "https://github.com/rust-lang/rust/commit/095f1fbde661c4de6dc96fd2e9753b084b66f34a"}, {"sha": "fe8a66040742f9acd26e5b932550cc0e5d853445", "url": "https://api.github.com/repos/rust-lang/rust/commits/fe8a66040742f9acd26e5b932550cc0e5d853445", "html_url": "https://github.com/rust-lang/rust/commit/fe8a66040742f9acd26e5b932550cc0e5d853445"}], "stats": {"total": 29, "additions": 28, "deletions": 1}, "files": [{"sha": "c50548081ab6e1bba1836d71be5641a6064e561b", "filename": "src/libstd/env.rs", "status": "modified", "additions": 28, "deletions": 1, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/5e0bda0448283c3045c1e96b99e90ebbc3746e12/src%2Flibstd%2Fenv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5e0bda0448283c3045c1e96b99e90ebbc3746e12/src%2Flibstd%2Fenv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fenv.rs?ref=5e0bda0448283c3045c1e96b99e90ebbc3746e12", "patch": "@@ -261,7 +261,20 @@ pub fn set_var<K: ?Sized, V: ?Sized>(k: &K, v: &V)\n     os_imp::setenv(k.as_os_str(), v.as_os_str())\n }\n \n-/// Remove a variable from the environment entirely.\n+/// Remove an environment variable from the environment of the currently running process.\n+///\n+/// # Examples\n+///\n+/// ```\n+/// use std::env;\n+///\n+/// let key = \"KEY\";\n+/// env::set_var(key, \"VALUE\");\n+/// assert_eq!(env::var(key), Ok(\"VALUE\".to_string()));\n+///\n+/// env::remove_var(key);\n+/// assert!(env::var(key).is_err());\n+/// ```\n #[stable(feature = \"env\", since = \"1.0.0\")]\n pub fn remove_var<K: ?Sized>(k: &K) where K: AsOsStr {\n     let _g = ENV_LOCK.lock();\n@@ -398,6 +411,19 @@ pub fn home_dir() -> Option<PathBuf> {\n /// On Windows, returns the value of, in order, the 'TMP', 'TEMP',\n /// 'USERPROFILE' environment variable  if any are set and not the empty\n /// string. Otherwise, tmpdir returns the path to the Windows directory.\n+///\n+/// ```\n+/// use std::env;\n+/// use std::fs::File;\n+///\n+/// # fn foo() -> std::io::Result<()> {\n+/// let mut dir = env::temp_dir();\n+/// dir.push(\"foo.txt\");\n+///\n+/// let f = try!(File::create(dir));\n+/// # Ok(())\n+/// # }\n+/// ```\n #[stable(feature = \"env\", since = \"1.0.0\")]\n pub fn temp_dir() -> PathBuf {\n     os_imp::temp_dir()\n@@ -557,6 +583,7 @@ pub mod consts {\n     #[stable(feature = \"env\", since = \"1.0.0\")]\n     pub const ARCH: &'static str = super::arch::ARCH;\n \n+    /// The family of the operating system. In this case, `unix`.\n     #[stable(feature = \"env\", since = \"1.0.0\")]\n     pub const FAMILY: &'static str = super::os::FAMILY;\n "}]}