{"sha": "2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJiZTM3YWQ0MjE5N2YyMDJkZmI4N2MwNzNjYjBjNmI1ZTllNWIyZWM=", "commit": {"author": {"name": "Christian", "email": "chris_veenman@hotmail.com", "date": "2019-04-20T15:59:47Z"}, "committer": {"name": "Christian", "email": "chris_veenman@hotmail.com", "date": "2019-05-01T10:01:52Z"}, "message": "Added the E0704 error with a link to the Rust reference.", "tree": {"sha": "9c532f1ab42b960846b518b6e989078fa14daec4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9c532f1ab42b960846b518b6e989078fa14daec4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec", "html_url": "https://github.com/rust-lang/rust/commit/2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec/comments", "author": null, "committer": null, "parents": [{"sha": "0d1732212fb5f6c6653a776a0ce46bc73ce77ebb", "url": "https://api.github.com/repos/rust-lang/rust/commits/0d1732212fb5f6c6653a776a0ce46bc73ce77ebb", "html_url": "https://github.com/rust-lang/rust/commit/0d1732212fb5f6c6653a776a0ce46bc73ce77ebb"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "e2d212eb721ff9cadcbb26ef5eb0e58a8b091d87", "filename": "src/libsyntax/error_codes.rs", "status": "modified", "additions": 29, "deletions": 1, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec/src%2Flibsyntax%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec/src%2Flibsyntax%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ferror_codes.rs?ref=2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec", "patch": "@@ -363,6 +363,35 @@ and likely to change in the future.\n \n \"##,\n \n+E0704: r##\"\n+This error indicates that a incorrect visibility restriction was specified.\n+\n+Example of erroneous code:\n+\n+```compile_fail,E0704\n+mod foo {\n+    pub(foo) struct Bar {\n+        x: i32\n+    }\n+}\n+```\n+\n+To make struct `Bar` only visible in module `foo` the `in` keyword should be\n+used:\n+```\n+mod foo {\n+    pub(in crate::foo) struct Bar {\n+        x: i32\n+    }\n+}\n+# fn main() {}\n+```\n+\n+For more information see the Rust Reference on [Visibility].\n+\n+[Visibility]: https://doc.rust-lang.org/reference/visibility-and-privacy.html\n+\"##,\n+\n E0705: r##\"\n A `#![feature]` attribute was declared for a feature that is stable in\n the current edition, but not in all editions.\n@@ -417,6 +446,5 @@ register_diagnostics! {\n     E0693, // incorrect `repr(align)` attribute format\n     E0694, // an unknown tool name found in scoped attributes\n     E0703, // invalid ABI\n-    E0704, // incorrect visibility restriction\n     E0717, // rustc_promotable without stability attribute\n }"}, {"sha": "7eeefa9550543860a179d9e200bb5e8e7cac9582", "filename": "src/test/ui/pub/pub-restricted.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec/src%2Ftest%2Fui%2Fpub%2Fpub-restricted.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec/src%2Ftest%2Fui%2Fpub%2Fpub-restricted.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpub%2Fpub-restricted.stderr?ref=2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec", "patch": "@@ -50,3 +50,4 @@ LL |         pub (in x) non_parent_invalid: usize,\n \n error: aborting due to 5 previous errors\n \n+For more information about this error, try `rustc --explain E0704`."}]}