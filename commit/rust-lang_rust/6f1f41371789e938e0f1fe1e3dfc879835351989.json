{"sha": "6f1f41371789e938e0f1fe1e3dfc879835351989", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZmMWY0MTM3MTc4OWU5MzhlMGYxZmUxZTNkZmM4Nzk4MzUzNTE5ODk=", "commit": {"author": {"name": "Jason Olson", "email": "jolson88@outlook.com", "date": "2019-09-13T00:30:58Z"}, "committer": {"name": "Jason Olson", "email": "jolson88@outlook.com", "date": "2019-09-15T17:32:45Z"}, "message": "Changes cast-lossless to a pedantic lint\n\nFixes #4528", "tree": {"sha": "44ba747f3a1f3614218be43c880b66f3be6b669b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/44ba747f3a1f3614218be43c880b66f3be6b669b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6f1f41371789e938e0f1fe1e3dfc879835351989", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEKyEgbYYQxMstyrCgENeSQqv8JzIFAl1+db0ACgkQENeSQqv8\nJzKuzxAApP3L1PZMEiQvrfink2IXLiVoJz7Gn/bjJ/aZsfW9DYHNvNoaUhGac/8+\nHuFjllCZ+bmjDTYc+1rWmAr1i6qIdWoIwWTI86jwoVgQxE7TdIFVtQ9Js25nwEtK\nf6o45HUuPWF4D8C8jAGqDV7iDJsqRqPt6SG/RnYWMfrzU8zGRP4SlCbblUa7SO+S\nMGD98SvDhskFVN0h9j+Cvhzvwd/RAz53Coq7q0WftHtKS+lAdiVOdjwi03VtJJY5\nzfsgD1+wASAVd3u8yiPagHv2uNeZLgGRU4nsTkOMLrv0htBhKd88G15QctYPduwt\npv0p7tp+dJS33ee8KkvaL/7Y7q7wYEPtBDos8gEQfIlKt5AvX3wz0UDiNMCUhw6S\nbfB/KMOo0nzjfC5OWnlfAyReUoumLsXFHNJ1Ytp5ajAmIF/Hm6FiR7DL30QQShrw\n/76UPwUcl2rZRXTrKyRhz9ciwLIC51NiYbjVtjqD6TuoDmod0O+ezpovxdzCyBRL\ntCJIq9VYh6i8cXXFvsAHGxbWP1nslWASvKsTQaBKoIOSpwzHFMv1Q1MvRyVjIIND\n0sIft5ZaGLkLXtNGNEZwVwNwRt6KByih+ZbdelLl293NDOAmUqLo8myGthKsclEv\n6yzYGe0W3suGTQMNrg8potGVTxaE0S06x9hWP6dilaUItF8XR5g=\n=YDNQ\n-----END PGP SIGNATURE-----", "payload": "tree 44ba747f3a1f3614218be43c880b66f3be6b669b\nparent 535bc1d7046ed640dd013aacfce7426e16e7459d\nauthor Jason Olson <jolson88@outlook.com> 1568334658 -0700\ncommitter Jason Olson <jolson88@outlook.com> 1568568765 -0700\n\nChanges cast-lossless to a pedantic lint\n\nFixes #4528\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6f1f41371789e938e0f1fe1e3dfc879835351989", "html_url": "https://github.com/rust-lang/rust/commit/6f1f41371789e938e0f1fe1e3dfc879835351989", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6f1f41371789e938e0f1fe1e3dfc879835351989/comments", "author": {"login": "jolson88", "id": 69651, "node_id": "MDQ6VXNlcjY5NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/69651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jolson88", "html_url": "https://github.com/jolson88", "followers_url": "https://api.github.com/users/jolson88/followers", "following_url": "https://api.github.com/users/jolson88/following{/other_user}", "gists_url": "https://api.github.com/users/jolson88/gists{/gist_id}", "starred_url": "https://api.github.com/users/jolson88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jolson88/subscriptions", "organizations_url": "https://api.github.com/users/jolson88/orgs", "repos_url": "https://api.github.com/users/jolson88/repos", "events_url": "https://api.github.com/users/jolson88/events{/privacy}", "received_events_url": "https://api.github.com/users/jolson88/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jolson88", "id": 69651, "node_id": "MDQ6VXNlcjY5NjUx", "avatar_url": "https://avatars.githubusercontent.com/u/69651?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jolson88", "html_url": "https://github.com/jolson88", "followers_url": "https://api.github.com/users/jolson88/followers", "following_url": "https://api.github.com/users/jolson88/following{/other_user}", "gists_url": "https://api.github.com/users/jolson88/gists{/gist_id}", "starred_url": "https://api.github.com/users/jolson88/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jolson88/subscriptions", "organizations_url": "https://api.github.com/users/jolson88/orgs", "repos_url": "https://api.github.com/users/jolson88/repos", "events_url": "https://api.github.com/users/jolson88/events{/privacy}", "received_events_url": "https://api.github.com/users/jolson88/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "535bc1d7046ed640dd013aacfce7426e16e7459d", "url": "https://api.github.com/repos/rust-lang/rust/commits/535bc1d7046ed640dd013aacfce7426e16e7459d", "html_url": "https://github.com/rust-lang/rust/commit/535bc1d7046ed640dd013aacfce7426e16e7459d"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "719b414c56f045ab74760076f29ff756669efadb", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6f1f41371789e938e0f1fe1e3dfc879835351989/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6f1f41371789e938e0f1fe1e3dfc879835351989/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=6f1f41371789e938e0f1fe1e3dfc879835351989", "patch": "@@ -667,6 +667,7 @@ pub fn register_plugins(reg: &mut rustc_driver::plugin::Registry<'_>, conf: &Con\n         shadow::SHADOW_UNRELATED,\n         strings::STRING_ADD_ASSIGN,\n         trait_bounds::TYPE_REPETITION_IN_BOUNDS,\n+        types::CAST_LOSSLESS,\n         types::CAST_POSSIBLE_TRUNCATION,\n         types::CAST_POSSIBLE_WRAP,\n         types::CAST_PRECISION_LOSS,\n@@ -890,7 +891,6 @@ pub fn register_plugins(reg: &mut rustc_driver::plugin::Registry<'_>, conf: &Con\n         types::ABSURD_EXTREME_COMPARISONS,\n         types::BORROWED_BOX,\n         types::BOX_VEC,\n-        types::CAST_LOSSLESS,\n         types::CAST_PTR_ALIGNMENT,\n         types::CAST_REF_TO_MUT,\n         types::CHAR_LIT_AS_U8,\n@@ -1072,7 +1072,6 @@ pub fn register_plugins(reg: &mut rustc_driver::plugin::Registry<'_>, conf: &Con\n         transmute::TRANSMUTE_PTR_TO_REF,\n         transmute::USELESS_TRANSMUTE,\n         types::BORROWED_BOX,\n-        types::CAST_LOSSLESS,\n         types::CHAR_LIT_AS_U8,\n         types::OPTION_OPTION,\n         types::TYPE_COMPLEXITY,"}, {"sha": "a1d54ff3f0e98a8fbb718a3ed9e5433ff4d6bbc3", "filename": "clippy_lints/src/types.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6f1f41371789e938e0f1fe1e3dfc879835351989/clippy_lints%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6f1f41371789e938e0f1fe1e3dfc879835351989/clippy_lints%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes.rs?ref=6f1f41371789e938e0f1fe1e3dfc879835351989", "patch": "@@ -765,7 +765,7 @@ declare_clippy_lint! {\n     /// }\n     /// ```\n     pub CAST_LOSSLESS,\n-    complexity,\n+    pedantic,\n     \"casts using `as` that are known to be lossless, e.g., `x as u64` where `x: u8`\"\n }\n "}, {"sha": "d0be8c1d341094100a778bd5551ea0f397a080d9", "filename": "src/lintlist/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6f1f41371789e938e0f1fe1e3dfc879835351989/src%2Flintlist%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6f1f41371789e938e0f1fe1e3dfc879835351989/src%2Flintlist%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flintlist%2Fmod.rs?ref=6f1f41371789e938e0f1fe1e3dfc879835351989", "patch": "@@ -121,7 +121,7 @@ pub const ALL_LINTS: [Lint; 313] = [\n     },\n     Lint {\n         name: \"cast_lossless\",\n-        group: \"complexity\",\n+        group: \"pedantic\",\n         desc: \"casts using `as` that are known to be lossless, e.g., `x as u64` where `x: u8`\",\n         deprecation: None,\n         module: \"types\","}, {"sha": "b1622e45f3b36350bf28fff811232c0b2ecce23e", "filename": "tests/ui/types.fixed", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6f1f41371789e938e0f1fe1e3dfc879835351989/tests%2Fui%2Ftypes.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/6f1f41371789e938e0f1fe1e3dfc879835351989/tests%2Fui%2Ftypes.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftypes.fixed?ref=6f1f41371789e938e0f1fe1e3dfc879835351989", "patch": "@@ -1,6 +1,7 @@\n // run-rustfix\n \n #![allow(dead_code, unused_variables)]\n+#![warn(clippy::all, clippy::pedantic)]\n \n // should not warn on lossy casting in constant types\n // because not supported yet"}, {"sha": "30463f9e2a1739351c098817466aa36c079ee343", "filename": "tests/ui/types.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6f1f41371789e938e0f1fe1e3dfc879835351989/tests%2Fui%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6f1f41371789e938e0f1fe1e3dfc879835351989/tests%2Fui%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftypes.rs?ref=6f1f41371789e938e0f1fe1e3dfc879835351989", "patch": "@@ -1,6 +1,7 @@\n // run-rustfix\n \n #![allow(dead_code, unused_variables)]\n+#![warn(clippy::all, clippy::pedantic)]\n \n // should not warn on lossy casting in constant types\n // because not supported yet"}, {"sha": "daba766856df59b6d78d5e27055a103edc670937", "filename": "tests/ui/types.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6f1f41371789e938e0f1fe1e3dfc879835351989/tests%2Fui%2Ftypes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6f1f41371789e938e0f1fe1e3dfc879835351989/tests%2Fui%2Ftypes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftypes.stderr?ref=6f1f41371789e938e0f1fe1e3dfc879835351989", "patch": "@@ -1,5 +1,5 @@\n error: casting i32 to i64 may become silently lossy if you later change the type\n-  --> $DIR/types.rs:13:22\n+  --> $DIR/types.rs:14:22\n    |\n LL |     let c_i64: i64 = c as i64;\n    |                      ^^^^^^^^ help: try: `i64::from(c)`"}]}