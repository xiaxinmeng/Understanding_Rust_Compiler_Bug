{"sha": "c183110cc26abb506dba0a4def917735fb6eb6f0", "node_id": "C_kwDOAAsO6NoAKGMxODMxMTBjYzI2YWJiNTA2ZGJhMGE0ZGVmOTE3NzM1ZmI2ZWI2ZjA", "commit": {"author": {"name": "Kyle Matsuda", "email": "kyle.yoshio.matsuda@gmail.com", "date": "2023-02-07T08:29:48Z"}, "committer": {"name": "Kyle Matsuda", "email": "kyle.yoshio.matsuda@gmail.com", "date": "2023-02-17T00:05:56Z"}, "message": "remove bound_type_of query; make type_of return EarlyBinder; change type_of in metadata", "tree": {"sha": "5f4a6764ed381c957728b9b11341f58eff93686b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5f4a6764ed381c957728b9b11341f58eff93686b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c183110cc26abb506dba0a4def917735fb6eb6f0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c183110cc26abb506dba0a4def917735fb6eb6f0", "html_url": "https://github.com/rust-lang/rust/commit/c183110cc26abb506dba0a4def917735fb6eb6f0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c183110cc26abb506dba0a4def917735fb6eb6f0/comments", "author": {"login": "kylematsuda", "id": 17287790, "node_id": "MDQ6VXNlcjE3Mjg3Nzkw", "avatar_url": "https://avatars.githubusercontent.com/u/17287790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylematsuda", "html_url": "https://github.com/kylematsuda", "followers_url": "https://api.github.com/users/kylematsuda/followers", "following_url": "https://api.github.com/users/kylematsuda/following{/other_user}", "gists_url": "https://api.github.com/users/kylematsuda/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylematsuda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylematsuda/subscriptions", "organizations_url": "https://api.github.com/users/kylematsuda/orgs", "repos_url": "https://api.github.com/users/kylematsuda/repos", "events_url": "https://api.github.com/users/kylematsuda/events{/privacy}", "received_events_url": "https://api.github.com/users/kylematsuda/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kylematsuda", "id": 17287790, "node_id": "MDQ6VXNlcjE3Mjg3Nzkw", "avatar_url": "https://avatars.githubusercontent.com/u/17287790?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kylematsuda", "html_url": "https://github.com/kylematsuda", "followers_url": "https://api.github.com/users/kylematsuda/followers", "following_url": "https://api.github.com/users/kylematsuda/following{/other_user}", "gists_url": "https://api.github.com/users/kylematsuda/gists{/gist_id}", "starred_url": "https://api.github.com/users/kylematsuda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kylematsuda/subscriptions", "organizations_url": "https://api.github.com/users/kylematsuda/orgs", "repos_url": "https://api.github.com/users/kylematsuda/repos", "events_url": "https://api.github.com/users/kylematsuda/events{/privacy}", "received_events_url": "https://api.github.com/users/kylematsuda/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d822b97a27e50f5a091d2918f6ff0ffd2d2827f5", "url": "https://api.github.com/repos/rust-lang/rust/commits/d822b97a27e50f5a091d2918f6ff0ffd2d2827f5", "html_url": "https://github.com/rust-lang/rust/commit/d822b97a27e50f5a091d2918f6ff0ffd2d2827f5"}], "stats": {"total": 705, "additions": 325, "deletions": 380}, "files": [{"sha": "b2d72654a2ac9987d7a40ddc09e68af9463bc57e", "filename": "compiler/rustc_borrowck/src/diagnostics/conflict_errors.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fconflict_errors.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -2592,7 +2592,7 @@ impl<'cx, 'tcx> MirBorrowckCtxt<'cx, 'tcx> {\n             if is_closure {\n                 None\n             } else {\n-                let ty = self.infcx.tcx.bound_type_of(self.mir_def_id()).subst_identity();\n+                let ty = self.infcx.tcx.type_of(self.mir_def_id()).subst_identity();\n                 match ty.kind() {\n                     ty::FnDef(_, _) | ty::FnPtr(_) => self.annotate_fn_sig(\n                         self.mir_def_id(),"}, {"sha": "f5bd99f15ab903d79cd17dff7f356b97b10bba6b", "filename": "compiler/rustc_borrowck/src/diagnostics/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -1185,7 +1185,7 @@ impl<'cx, 'tcx> MirBorrowckCtxt<'cx, 'tcx> {\n                     let parent_self_ty =\n                         matches!(tcx.def_kind(parent_did), rustc_hir::def::DefKind::Impl { .. })\n                             .then_some(parent_did)\n-                            .and_then(|did| match tcx.bound_type_of(did).subst_identity().kind() {\n+                            .and_then(|did| match tcx.type_of(did).subst_identity().kind() {\n                                 ty::Adt(def, ..) => Some(def.did()),\n                                 _ => None,\n                             });"}, {"sha": "a2fa3018234c7b9432af75cc15fca30ee7012fd8", "filename": "compiler/rustc_borrowck/src/diagnostics/region_errors.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fregion_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fregion_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fregion_errors.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -575,7 +575,7 @@ impl<'a, 'tcx> MirBorrowckCtxt<'a, 'tcx> {\n \n         let mut output_ty = self.regioncx.universal_regions().unnormalized_output_ty;\n         if let ty::Alias(ty::Opaque, ty::AliasTy { def_id, .. }) = *output_ty.kind() {\n-            output_ty = self.infcx.tcx.bound_type_of(def_id).subst_identity()\n+            output_ty = self.infcx.tcx.type_of(def_id).subst_identity()\n         };\n \n         debug!(\"report_fnmut_error: output_ty={:?}\", output_ty);\n@@ -896,7 +896,7 @@ impl<'a, 'tcx> MirBorrowckCtxt<'a, 'tcx> {\n             debug!(?fn_did, ?substs);\n \n             // Only suggest this on function calls, not closures\n-            let ty = tcx.bound_type_of(fn_did).subst_identity();\n+            let ty = tcx.type_of(fn_did).subst_identity();\n             debug!(\"ty: {:?}, ty.kind: {:?}\", ty, ty.kind());\n             if let ty::Closure(_, _) = ty.kind() {\n                 return;"}, {"sha": "f6881a2e5bc8761378f5779365c1de06f990833d", "filename": "compiler/rustc_borrowck/src/diagnostics/region_name.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fregion_name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fregion_name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Fdiagnostics%2Fregion_name.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -849,10 +849,9 @@ impl<'tcx> MirBorrowckCtxt<'_, 'tcx> {\n             return None;\n         };\n \n-        let found = tcx\n-            .any_free_region_meets(&tcx.bound_type_of(region_parent).subst_identity(), |r| {\n-                *r == ty::ReEarlyBound(region)\n-            });\n+        let found = tcx.any_free_region_meets(&tcx.type_of(region_parent).subst_identity(), |r| {\n+            *r == ty::ReEarlyBound(region)\n+        });\n \n         Some(RegionName {\n             name: self.synthesize_region_name(),"}, {"sha": "1ec1f0cb11052d039a4a7cfbe4b805b8b9f6869d", "filename": "compiler/rustc_borrowck/src/type_check/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Ftype_check%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Ftype_check%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Ftype_check%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -402,7 +402,7 @@ impl<'a, 'b, 'tcx> Visitor<'tcx> for TypeVerifier<'a, 'b, 'tcx> {\n                     );\n                 }\n             } else if let Some(static_def_id) = constant.check_static_ptr(tcx) {\n-                let unnormalized_ty = tcx.bound_type_of(static_def_id).subst_identity();\n+                let unnormalized_ty = tcx.type_of(static_def_id).subst_identity();\n                 let normalized_ty = self.cx.normalize(unnormalized_ty, locations);\n                 let literal_ty = constant.literal.ty().builtin_deref(true).unwrap().ty;\n "}, {"sha": "efa5a29c5ddf1260da3b387a04f2ea008a368cda", "filename": "compiler/rustc_borrowck/src/universal_regions.rs", "status": "modified", "additions": 4, "deletions": 7, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Funiversal_regions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_borrowck%2Fsrc%2Funiversal_regions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_borrowck%2Fsrc%2Funiversal_regions.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -482,11 +482,8 @@ impl<'cx, 'tcx> UniversalRegionsBuilder<'cx, 'tcx> {\n                 );\n                 let region =\n                     self.infcx.tcx.mk_re_var(self.infcx.next_nll_region_var(FR).to_region_vid());\n-                let va_list_ty = self\n-                    .infcx\n-                    .tcx\n-                    .bound_type_of(va_list_did)\n-                    .subst(self.infcx.tcx, &[region.into()]);\n+                let va_list_ty =\n+                    self.infcx.tcx.type_of(va_list_did).subst(self.infcx.tcx, &[region.into()]);\n \n                 unnormalized_input_tys = self.infcx.tcx.mk_type_list(\n                     unnormalized_input_tys.iter().copied().chain(iter::once(va_list_ty)),\n@@ -529,7 +526,7 @@ impl<'cx, 'tcx> UniversalRegionsBuilder<'cx, 'tcx> {\n         match tcx.hir().body_owner_kind(self.mir_def.did) {\n             BodyOwnerKind::Closure | BodyOwnerKind::Fn => {\n                 let defining_ty = if self.mir_def.did.to_def_id() == typeck_root_def_id {\n-                    tcx.bound_type_of(typeck_root_def_id).subst_identity()\n+                    tcx.type_of(typeck_root_def_id).subst_identity()\n                 } else {\n                     let tables = tcx.typeck(self.mir_def.did);\n                     tables.node_type(self.mir_hir_id)\n@@ -675,7 +672,7 @@ impl<'cx, 'tcx> UniversalRegionsBuilder<'cx, 'tcx> {\n                 // For a constant body, there are no inputs, and one\n                 // \"output\" (the type of the constant).\n                 assert_eq!(self.mir_def.did.to_def_id(), def_id);\n-                let ty = tcx.bound_type_of(self.mir_def.def_id_for_type_of()).subst_identity();\n+                let ty = tcx.type_of(self.mir_def.def_id_for_type_of()).subst_identity();\n                 let ty = indices.fold_to_region_vids(tcx, ty);\n                 ty::Binder::dummy(tcx.intern_type_list(&[ty]))\n             }"}, {"sha": "cef403b9f8b876d7aef0961365b78805ce2c5ef0", "filename": "compiler/rustc_codegen_llvm/src/debuginfo/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fdebuginfo%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -508,7 +508,7 @@ impl<'ll, 'tcx> DebugInfoMethods<'tcx> for CodegenCx<'ll, 'tcx> {\n                     let impl_self_ty = cx.tcx.subst_and_normalize_erasing_regions(\n                         instance.substs,\n                         ty::ParamEnv::reveal_all(),\n-                        cx.tcx.bound_type_of(impl_def_id).skip_binder(),\n+                        cx.tcx.type_of(impl_def_id).skip_binder(),\n                     );\n \n                     // Only \"class\" methods are generally understood by LLVM,"}, {"sha": "ec5707505c89f01fcf8ee1f957eaa683dccf9dc8", "filename": "compiler/rustc_const_eval/src/interpret/intrinsics/caller_location.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fintrinsics%2Fcaller_location.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fintrinsics%2Fcaller_location.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fintrinsics%2Fcaller_location.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -95,7 +95,7 @@ impl<'mir, 'tcx: 'mir, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n         // Allocate memory for `CallerLocation` struct.\n         let loc_ty = self\n             .tcx\n-            .bound_type_of(self.tcx.require_lang_item(LangItem::PanicLocation, None))\n+            .type_of(self.tcx.require_lang_item(LangItem::PanicLocation, None))\n             .subst(*self.tcx, self.tcx.mk_substs([self.tcx.lifetimes.re_erased.into()].iter()));\n         let loc_layout = self.layout_of(loc_ty).unwrap();\n         let location = self.allocate(loc_layout, MemoryKind::CallerLocation).unwrap();"}, {"sha": "9e350a720c45f513240e33839483d15539dacf87", "filename": "compiler/rustc_const_eval/src/interpret/memory.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fmemory.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fmemory.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fmemory.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -690,7 +690,7 @@ impl<'mir, 'tcx: 'mir, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n                 assert!(self.tcx.is_static(def_id));\n                 assert!(!self.tcx.is_thread_local_static(def_id));\n                 // Use size and align of the type.\n-                let ty = self.tcx.bound_type_of(def_id).subst_identity();\n+                let ty = self.tcx.type_of(def_id).subst_identity();\n                 let layout = self.tcx.layout_of(ParamEnv::empty().and(ty)).unwrap();\n                 assert!(layout.is_sized());\n                 (layout.size, layout.align.abi, AllocKind::LiveData)"}, {"sha": "0e4501922f4165bdc538bc372cf2749317bcd6ff", "filename": "compiler/rustc_const_eval/src/transform/check_consts/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fcheck_consts%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -68,7 +68,7 @@ impl<'mir, 'tcx> ConstCx<'mir, 'tcx> {\n     pub fn fn_sig(&self) -> PolyFnSig<'tcx> {\n         let did = self.def_id().to_def_id();\n         if self.tcx.is_closure(did) {\n-            let ty = self.tcx.bound_type_of(did).subst_identity();\n+            let ty = self.tcx.type_of(did).subst_identity();\n             let ty::Closure(_, substs) = ty.kind() else { bug!(\"type_of closure not ty::Closure\") };\n             substs.as_closure().sig()\n         } else {"}, {"sha": "67dbf29da3b0ae71cad63d7678c3e3594a2f88f6", "filename": "compiler/rustc_const_eval/src/transform/validate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fvalidate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fvalidate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Ftransform%2Fvalidate.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -334,7 +334,7 @@ impl<'a, 'tcx> Visitor<'tcx> for TypeChecker<'a, 'tcx> {\n \n                 let kind = match parent_ty.ty.kind() {\n                     &ty::Alias(ty::Opaque, ty::AliasTy { def_id, substs, .. }) => {\n-                        self.tcx.bound_type_of(def_id).subst(self.tcx, substs).kind()\n+                        self.tcx.type_of(def_id).subst(self.tcx, substs).kind()\n                     }\n                     kind => kind,\n                 };"}, {"sha": "e5e20aa78d9a6a355632f6a58c04008c7f95fb6a", "filename": "compiler/rustc_hir_analysis/src/astconv/generics.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fastconv%2Fgenerics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fastconv%2Fgenerics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fastconv%2Fgenerics.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -77,7 +77,7 @@ fn generic_arg_mismatch_err(\n             Res::Def(DefKind::TyParam, src_def_id) => {\n                 if let Some(param_local_id) = param.def_id.as_local() {\n                     let param_name = tcx.hir().ty_param_name(param_local_id);\n-                    let param_type = tcx.bound_type_of(param.def_id).subst_identity();\n+                    let param_type = tcx.type_of(param.def_id).subst_identity();\n                     if param_type.is_suggestable(tcx, false) {\n                         err.span_suggestion(\n                             tcx.def_span(src_def_id),\n@@ -97,7 +97,7 @@ fn generic_arg_mismatch_err(\n         (\n             GenericArg::Type(hir::Ty { kind: hir::TyKind::Array(_, len), .. }),\n             GenericParamDefKind::Const { .. },\n-        ) if tcx.bound_type_of(param.def_id).skip_binder() == tcx.types.usize => {\n+        ) if tcx.type_of(param.def_id).skip_binder() == tcx.types.usize => {\n             let snippet = sess.source_map().span_to_snippet(tcx.hir().span(len.hir_id()));\n             if let Ok(snippet) = snippet {\n                 err.span_suggestion("}, {"sha": "ccf603d699ba3740330a6d8492570b4bdfadd67a", "filename": "compiler/rustc_hir_analysis/src/astconv/mod.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fastconv%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fastconv%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fastconv%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -450,7 +450,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n                         .into()\n                     }\n                     (&GenericParamDefKind::Const { .. }, hir::GenericArg::Infer(inf)) => {\n-                        let ty = tcx.at(self.span).bound_type_of(param.def_id).subst_identity();\n+                        let ty = tcx.at(self.span).type_of(param.def_id).subst_identity();\n                         if self.astconv.allow_ty_infer() {\n                             self.astconv.ct_infer(ty, Some(param), inf.span).into()\n                         } else {\n@@ -494,7 +494,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n                                 // Avoid ICE #86756 when type error recovery goes awry.\n                                 return tcx.ty_error().into();\n                             }\n-                            tcx.at(self.span).bound_type_of(param.def_id).subst(tcx, substs).into()\n+                            tcx.at(self.span).type_of(param.def_id).subst(tcx, substs).into()\n                         } else if infer_args {\n                             self.astconv.ty_infer(Some(param), self.span).into()\n                         } else {\n@@ -503,7 +503,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n                         }\n                     }\n                     GenericParamDefKind::Const { has_default } => {\n-                        let ty = tcx.at(self.span).bound_type_of(param.def_id).subst_identity();\n+                        let ty = tcx.at(self.span).type_of(param.def_id).subst_identity();\n                         if ty.references_error() {\n                             return tcx.const_error(ty).into();\n                         }\n@@ -1230,7 +1230,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n                             }\n                             hir::def::DefKind::AssocConst => tcx\n                                 .const_error_with_guaranteed(\n-                                    tcx.bound_type_of(assoc_item_def_id)\n+                                    tcx.type_of(assoc_item_def_id)\n                                         .subst(tcx, projection_ty.skip_binder().substs),\n                                     reported,\n                                 )\n@@ -1267,7 +1267,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n         item_segment: &hir::PathSegment<'_>,\n     ) -> Ty<'tcx> {\n         let substs = self.ast_path_substs_for_ty(span, did, item_segment);\n-        self.tcx().at(span).bound_type_of(did).subst(self.tcx(), substs)\n+        self.tcx().at(span).type_of(did).subst(self.tcx(), substs)\n     }\n \n     fn conv_object_ty_poly_trait_ref(\n@@ -2046,7 +2046,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n                     assoc_segment,\n                     adt_substs,\n                 );\n-                let ty = tcx.bound_type_of(assoc_ty_did).subst(tcx, item_substs);\n+                let ty = tcx.type_of(assoc_ty_did).subst(tcx, item_substs);\n                 return Ok((ty, DefKind::AssocTy, assoc_ty_did));\n             }\n         }\n@@ -2688,7 +2688,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n                 // `Self` in impl (we know the concrete type).\n                 assert_eq!(opt_self_ty, None);\n                 // Try to evaluate any array length constants.\n-                let ty = tcx.at(span).bound_type_of(def_id).subst_identity();\n+                let ty = tcx.at(span).type_of(def_id).subst_identity();\n                 let span_of_impl = tcx.span_of_impl(def_id);\n                 self.prohibit_generics(path.segments.iter(), |err| {\n                     let def_id = match *ty.kind() {\n@@ -2922,7 +2922,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n                     None,\n                     ty::BoundConstness::NotConst,\n                 );\n-                tcx.at(span).bound_type_of(def_id).subst(tcx, substs)\n+                tcx.at(span).type_of(def_id).subst(tcx, substs)\n             }\n             hir::TyKind::Array(ty, length) => {\n                 let length = match length {\n@@ -2935,7 +2935,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n                 tcx.mk_array_with_const_len(self.ast_ty_to_ty(ty), length)\n             }\n             hir::TyKind::Typeof(e) => {\n-                let ty_erased = tcx.bound_type_of(e.def_id).subst_identity();\n+                let ty_erased = tcx.type_of(e.def_id).subst_identity();\n                 let ty = tcx.fold_regions(ty_erased, |r, _| {\n                     if r.is_erased() { tcx.lifetimes.re_static } else { r }\n                 });"}, {"sha": "5f1add2679c79e9afef9629afc90f89a8e69d91b", "filename": "compiler/rustc_hir_analysis/src/check/check.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcheck.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -93,7 +93,7 @@ fn check_union(tcx: TyCtxt<'_>, def_id: LocalDefId) {\n \n /// Check that the fields of the `union` do not need dropping.\n fn check_union_fields(tcx: TyCtxt<'_>, span: Span, item_def_id: LocalDefId) -> bool {\n-    let item_type = tcx.bound_type_of(item_def_id).subst_identity();\n+    let item_type = tcx.type_of(item_def_id).subst_identity();\n     if let ty::Adt(def, substs) = item_type.kind() {\n         assert!(def.is_union());\n \n@@ -170,7 +170,7 @@ fn check_static_inhabited(tcx: TyCtxt<'_>, def_id: LocalDefId) {\n     // would be enough to check this for `extern` statics, as statics with an initializer will\n     // have UB during initialization if they are uninhabited, but there also seems to be no good\n     // reason to allow any statics to be uninhabited.\n-    let ty = tcx.bound_type_of(def_id).subst_identity();\n+    let ty = tcx.type_of(def_id).subst_identity();\n     let span = tcx.def_span(def_id);\n     let layout = match tcx.layout_of(ParamEnv::reveal_all().and(ty)) {\n         Ok(l) => l,\n@@ -227,7 +227,7 @@ fn check_opaque(tcx: TyCtxt<'_>, id: hir::ItemId) {\n     if !tcx.features().impl_trait_projections {\n         check_opaque_for_inheriting_lifetimes(tcx, item.owner_id.def_id, span);\n     }\n-    if tcx.bound_type_of(item.owner_id.def_id).subst_identity().references_error() {\n+    if tcx.type_of(item.owner_id.def_id).subst_identity().references_error() {\n         return;\n     }\n     if check_opaque_for_cycles(tcx, item.owner_id.def_id, substs, span, &origin).is_err() {\n@@ -425,7 +425,7 @@ fn check_opaque_meets_bounds<'tcx>(\n     //\n     // FIXME: Consider wrapping the hidden type in an existential `Binder` and instantiating it\n     // here rather than using ReErased.\n-    let hidden_ty = tcx.bound_type_of(def_id.to_def_id()).subst(tcx, substs);\n+    let hidden_ty = tcx.type_of(def_id.to_def_id()).subst(tcx, substs);\n     let hidden_ty = tcx.fold_regions(hidden_ty, |re, _dbi| match re.kind() {\n         ty::ReErased => infcx.next_region_var(RegionVariableOrigin::MiscVariable(span)),\n         _ => re,\n@@ -492,7 +492,7 @@ fn is_enum_of_nonnullable_ptr<'tcx>(\n \n fn check_static_linkage(tcx: TyCtxt<'_>, def_id: LocalDefId) {\n     if tcx.codegen_fn_attrs(def_id).import_linkage.is_some() {\n-        if match tcx.bound_type_of(def_id).subst_identity().kind() {\n+        if match tcx.type_of(def_id).subst_identity().kind() {\n             ty::RawPtr(_) => false,\n             ty::Adt(adt_def, substs) => !is_enum_of_nonnullable_ptr(tcx, *adt_def, *substs),\n             _ => true,\n@@ -578,7 +578,7 @@ fn check_item_type(tcx: TyCtxt<'_>, id: hir::ItemId) {\n             }\n         }\n         DefKind::TyAlias => {\n-            let pty_ty = tcx.bound_type_of(id.owner_id).subst_identity();\n+            let pty_ty = tcx.type_of(id.owner_id).subst_identity();\n             let generics = tcx.generics_of(id.owner_id);\n             check_type_params_are_used(tcx, &generics, pty_ty);\n         }\n@@ -854,7 +854,7 @@ fn check_impl_items_against_trait<'tcx>(\n }\n \n pub fn check_simd(tcx: TyCtxt<'_>, sp: Span, def_id: LocalDefId) {\n-    let t = tcx.bound_type_of(def_id).subst_identity();\n+    let t = tcx.type_of(def_id).subst_identity();\n     if let ty::Adt(def, substs) = t.kind()\n         && def.is_struct()\n     {\n@@ -974,7 +974,7 @@ pub(super) fn check_packed(tcx: TyCtxt<'_>, sp: Span, def: ty::AdtDef<'_>) {\n                             &if first {\n                                 format!(\n                                     \"`{}` contains a field of type `{}`\",\n-                                    tcx.bound_type_of(def.did()).subst_identity(),\n+                                    tcx.type_of(def.did()).subst_identity(),\n                                     ident\n                                 )\n                             } else {\n@@ -996,7 +996,7 @@ pub(super) fn check_packed_inner(\n     def_id: DefId,\n     stack: &mut Vec<DefId>,\n ) -> Option<Vec<(DefId, Span)>> {\n-    if let ty::Adt(def, substs) = tcx.bound_type_of(def_id).subst_identity().kind() {\n+    if let ty::Adt(def, substs) = tcx.type_of(def_id).subst_identity().kind() {\n         if def.is_struct() || def.is_union() {\n             if def.repr().align.is_some() {\n                 return Some(vec![(def.did(), DUMMY_SP)]);"}, {"sha": "4fd06c23e10258802167f2f14a9127f5689f76a7", "filename": "compiler/rustc_hir_analysis/src/check/compare_impl_item.rs", "status": "modified", "additions": 6, "deletions": 7, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcompare_impl_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcompare_impl_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcompare_impl_item.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -1580,8 +1580,7 @@ fn compare_generic_param_kinds<'tcx>(\n         use GenericParamDefKind::*;\n         if match (&param_impl.kind, &param_trait.kind) {\n             (Const { .. }, Const { .. })\n-                if tcx.bound_type_of(param_impl.def_id)\n-                    != tcx.bound_type_of(param_trait.def_id) =>\n+                if tcx.type_of(param_impl.def_id) != tcx.type_of(param_trait.def_id) =>\n             {\n                 true\n             }\n@@ -1609,7 +1608,7 @@ fn compare_generic_param_kinds<'tcx>(\n                     format!(\n                         \"{} const parameter of type `{}`\",\n                         prefix,\n-                        tcx.bound_type_of(param.def_id).subst_identity()\n+                        tcx.type_of(param.def_id).subst_identity()\n                     )\n                 }\n                 Type { .. } => format!(\"{} type parameter\", prefix),\n@@ -1659,8 +1658,8 @@ pub(super) fn compare_impl_const_raw(\n     // Create a parameter environment that represents the implementation's\n     // method.\n     // Compute placeholder form of impl and trait const tys.\n-    let impl_ty = tcx.bound_type_of(impl_const_item_def.to_def_id()).subst_identity();\n-    let trait_ty = tcx.bound_type_of(trait_const_item_def).subst(tcx, trait_to_impl_substs);\n+    let impl_ty = tcx.type_of(impl_const_item_def.to_def_id()).subst_identity();\n+    let trait_ty = tcx.type_of(trait_const_item_def).subst(tcx, trait_to_impl_substs);\n     let mut cause = ObligationCause::new(\n         impl_c_span,\n         impl_const_item_def,\n@@ -1932,7 +1931,7 @@ pub(super) fn check_type_bounds<'tcx>(\n             bound_vars.push(bound_var);\n             tcx.mk_const(\n                 ty::ConstKind::Bound(ty::INNERMOST, ty::BoundVar::from_usize(bound_vars.len() - 1)),\n-                tcx.bound_type_of(param.def_id).subst_identity(),\n+                tcx.type_of(param.def_id).subst_identity(),\n             )\n             .into()\n         }\n@@ -1942,7 +1941,7 @@ pub(super) fn check_type_bounds<'tcx>(\n     let container_id = impl_ty.container_id(tcx);\n \n     let rebased_substs = impl_ty_substs.rebase_onto(tcx, container_id, impl_trait_ref.substs);\n-    let impl_ty_value = tcx.bound_type_of(impl_ty.def_id).subst_identity();\n+    let impl_ty_value = tcx.type_of(impl_ty.def_id).subst_identity();\n \n     let param_env = tcx.param_env(impl_ty.def_id);\n "}, {"sha": "c84e3461226dde73f5f0d4df9467b988e6e2f51d", "filename": "compiler/rustc_hir_analysis/src/check/dropck.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fdropck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fdropck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fdropck.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -27,7 +27,7 @@ use rustc_middle::ty::{self, Predicate, Ty, TyCtxt};\n ///    cannot do `struct S<T>; impl<T:Clone> Drop for S<T> { ... }`).\n ///\n pub fn check_drop_impl(tcx: TyCtxt<'_>, drop_impl_did: DefId) -> Result<(), ErrorGuaranteed> {\n-    let dtor_self_type = tcx.bound_type_of(drop_impl_did).subst_identity();\n+    let dtor_self_type = tcx.type_of(drop_impl_did).subst_identity();\n     let dtor_predicates = tcx.predicates_of(drop_impl_did);\n     match dtor_self_type.kind() {\n         ty::Adt(adt_def, self_to_impl_substs) => {"}, {"sha": "82562ac75e1a322444078e6c1010e19b0673dbfb", "filename": "compiler/rustc_hir_analysis/src/check/intrinsic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fintrinsic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fintrinsic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fintrinsic.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -157,7 +157,7 @@ pub fn check_intrinsic_type(tcx: TyCtxt<'_>, it: &hir::ForeignItem<'_>) {\n                 ty::INNERMOST,\n                 ty::BoundRegion { var: ty::BoundVar::from_u32(1), kind: ty::BrEnv },\n             );\n-            let va_list_ty = tcx.bound_type_of(did).subst(tcx, &[region.into()]);\n+            let va_list_ty = tcx.type_of(did).subst(tcx, &[region.into()]);\n             (tcx.mk_ref(env_region, ty::TypeAndMut { ty: va_list_ty, mutbl }), va_list_ty)\n         })\n     };"}, {"sha": "4d2d1ca9b3ecee1a5cd449598ec9b164c00991a8", "filename": "compiler/rustc_hir_analysis/src/check/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -450,7 +450,7 @@ fn suggestion_signature(assoc: &ty::AssocItem, tcx: TyCtxt<'_>) -> String {\n         }\n         ty::AssocKind::Type => format!(\"type {} = Type;\", assoc.name),\n         ty::AssocKind::Const => {\n-            let ty = tcx.bound_type_of(assoc.def_id).subst_identity();\n+            let ty = tcx.type_of(assoc.def_id).subst_identity();\n             let val = ty_kind_suggestion(ty).unwrap_or(\"value\");\n             format!(\"const {}: {} = {};\", assoc.name, ty, val)\n         }"}, {"sha": "ab47d393a06b7f8187cfb50ec7f37c280861454e", "filename": "compiler/rustc_hir_analysis/src/check/wfcheck.rs", "status": "modified", "additions": 12, "deletions": 20, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fwfcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fwfcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fwfcheck.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -874,7 +874,7 @@ fn check_param_wf(tcx: TyCtxt<'_>, param: &hir::GenericParam<'_>) {\n \n         // Const parameters are well formed if their type is structural match.\n         hir::GenericParamKind::Const { ty: hir_ty, default: _ } => {\n-            let ty = tcx.bound_type_of(param.def_id).subst_identity();\n+            let ty = tcx.type_of(param.def_id).subst_identity();\n \n             if tcx.features().adt_const_params {\n                 if let Some(non_structural_match_ty) =\n@@ -1011,12 +1011,12 @@ fn check_associated_item(\n \n         let self_ty = match item.container {\n             ty::TraitContainer => tcx.types.self_param,\n-            ty::ImplContainer => tcx.bound_type_of(item.container_id(tcx)).subst_identity(),\n+            ty::ImplContainer => tcx.type_of(item.container_id(tcx)).subst_identity(),\n         };\n \n         match item.kind {\n             ty::AssocKind::Const => {\n-                let ty = tcx.bound_type_of(item.def_id).subst_identity();\n+                let ty = tcx.type_of(item.def_id).subst_identity();\n                 let ty = wfcx.normalize(span, Some(WellFormedLoc::Ty(item_id)), ty);\n                 wfcx.register_wf_obligation(span, loc, ty.into());\n             }\n@@ -1037,7 +1037,7 @@ fn check_associated_item(\n                     check_associated_type_bounds(wfcx, item, span)\n                 }\n                 if item.defaultness(tcx).has_value() {\n-                    let ty = tcx.bound_type_of(item.def_id).subst_identity();\n+                    let ty = tcx.type_of(item.def_id).subst_identity();\n                     let ty = wfcx.normalize(span, Some(WellFormedLoc::Ty(item_id)), ty);\n                     wfcx.register_wf_obligation(span, loc, ty.into());\n                 }\n@@ -1070,11 +1070,7 @@ fn check_type_defn<'tcx>(tcx: TyCtxt<'tcx>, item: &hir::Item<'tcx>, all_sized: b\n                 let field_id = field.did.expect_local();\n                 let hir::FieldDef { ty: hir_ty, .. } =\n                     tcx.hir().get_by_def_id(field_id).expect_field();\n-                let ty = wfcx.normalize(\n-                    hir_ty.span,\n-                    None,\n-                    tcx.bound_type_of(field.did).subst_identity(),\n-                );\n+                let ty = wfcx.normalize(hir_ty.span, None, tcx.type_of(field.did).subst_identity());\n                 wfcx.register_wf_obligation(\n                     hir_ty.span,\n                     Some(WellFormedLoc::Ty(field_id)),\n@@ -1086,7 +1082,7 @@ fn check_type_defn<'tcx>(tcx: TyCtxt<'tcx>, item: &hir::Item<'tcx>, all_sized: b\n             // intermediate types must be sized.\n             let needs_drop_copy = || {\n                 packed && {\n-                    let ty = tcx.bound_type_of(variant.fields.last().unwrap().did).subst_identity();\n+                    let ty = tcx.type_of(variant.fields.last().unwrap().did).subst_identity();\n                     let ty = tcx.erase_regions(ty);\n                     if ty.needs_infer() {\n                         tcx.sess\n@@ -1108,11 +1104,7 @@ fn check_type_defn<'tcx>(tcx: TyCtxt<'tcx>, item: &hir::Item<'tcx>, all_sized: b\n                 let field_id = field.did.expect_local();\n                 let hir::FieldDef { ty: hir_ty, .. } =\n                     tcx.hir().get_by_def_id(field_id).expect_field();\n-                let ty = wfcx.normalize(\n-                    hir_ty.span,\n-                    None,\n-                    tcx.bound_type_of(field.did).subst_identity(),\n-                );\n+                let ty = wfcx.normalize(hir_ty.span, None, tcx.type_of(field.did).subst_identity());\n                 wfcx.register_bound(\n                     traits::ObligationCause::new(\n                         hir_ty.span,\n@@ -1223,7 +1215,7 @@ fn check_item_type(tcx: TyCtxt<'_>, item_id: LocalDefId, ty_span: Span, allow_fo\n     debug!(\"check_item_type: {:?}\", item_id);\n \n     enter_wf_checking_ctxt(tcx, ty_span, item_id, |wfcx| {\n-        let ty = tcx.bound_type_of(item_id).subst_identity();\n+        let ty = tcx.type_of(item_id).subst_identity();\n         let item_ty = wfcx.normalize(ty_span, Some(WellFormedLoc::Ty(item_id)), ty);\n \n         let mut forbid_unsized = true;\n@@ -1308,7 +1300,7 @@ fn check_impl<'tcx>(\n                 wfcx.register_obligations(obligations);\n             }\n             None => {\n-                let self_ty = tcx.bound_type_of(item.owner_id).subst_identity();\n+                let self_ty = tcx.type_of(item.owner_id).subst_identity();\n                 let self_ty = wfcx.normalize(\n                     item.span,\n                     Some(WellFormedLoc::Ty(item.hir_id().expect_owner().def_id)),\n@@ -1353,7 +1345,7 @@ fn check_where_clauses<'tcx>(wfcx: &WfCheckingCtxt<'_, 'tcx>, span: Span, def_id\n         match param.kind {\n             GenericParamDefKind::Type { .. } => {\n                 if is_our_default(param) {\n-                    let ty = tcx.bound_type_of(param.def_id).subst_identity();\n+                    let ty = tcx.type_of(param.def_id).subst_identity();\n                     // Ignore dependent defaults -- that is, where the default of one type\n                     // parameter includes another (e.g., `<T, U = T>`). In those cases, we can't\n                     // be sure if it will error or not as user might always specify the other.\n@@ -1405,7 +1397,7 @@ fn check_where_clauses<'tcx>(wfcx: &WfCheckingCtxt<'_, 'tcx>, span: Span, def_id\n             GenericParamDefKind::Type { .. } => {\n                 // If the param has a default, ...\n                 if is_our_default(param) {\n-                    let default_ty = tcx.bound_type_of(param.def_id).subst_identity();\n+                    let default_ty = tcx.type_of(param.def_id).subst_identity();\n                     // ... and it's not a dependent default, ...\n                     if !default_ty.needs_subst() {\n                         // ... then substitute it with the default.\n@@ -1821,7 +1813,7 @@ fn check_variances_for_type_defn<'tcx>(\n     item: &hir::Item<'tcx>,\n     hir_generics: &hir::Generics<'_>,\n ) {\n-    let ty = tcx.bound_type_of(item.owner_id).subst_identity();\n+    let ty = tcx.type_of(item.owner_id).subst_identity();\n     if tcx.has_error_field(ty) {\n         return;\n     }"}, {"sha": "51c5f29705191853bd48060baccca09020fea8af", "filename": "compiler/rustc_hir_analysis/src/coherence/builtin.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Fbuiltin.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -50,7 +50,7 @@ impl<'tcx> Checker<'tcx> {\n \n fn visit_implementation_of_drop(tcx: TyCtxt<'_>, impl_did: LocalDefId) {\n     // Destructors only work on local ADT types.\n-    match tcx.bound_type_of(impl_did).subst_identity().kind() {\n+    match tcx.type_of(impl_did).subst_identity().kind() {\n         ty::Adt(def, _) if def.did().is_local() => return,\n         ty::Error(_) => return,\n         _ => {}\n@@ -64,7 +64,7 @@ fn visit_implementation_of_drop(tcx: TyCtxt<'_>, impl_did: LocalDefId) {\n fn visit_implementation_of_copy(tcx: TyCtxt<'_>, impl_did: LocalDefId) {\n     debug!(\"visit_implementation_of_copy: impl_did={:?}\", impl_did);\n \n-    let self_type = tcx.bound_type_of(impl_did).subst_identity();\n+    let self_type = tcx.type_of(impl_did).subst_identity();\n     debug!(\"visit_implementation_of_copy: self_type={:?} (bound)\", self_type);\n \n     let param_env = tcx.param_env(impl_did);\n@@ -206,7 +206,7 @@ fn visit_implementation_of_dispatch_from_dyn(tcx: TyCtxt<'_>, impl_did: LocalDef\n \n     let dispatch_from_dyn_trait = tcx.require_lang_item(LangItem::DispatchFromDyn, Some(span));\n \n-    let source = tcx.bound_type_of(impl_did).subst_identity();\n+    let source = tcx.type_of(impl_did).subst_identity();\n     assert!(!source.has_escaping_bound_vars());\n     let target = {\n         let trait_ref = tcx.impl_trait_ref(impl_did).unwrap().subst_identity();\n@@ -370,7 +370,7 @@ pub fn coerce_unsized_info<'tcx>(tcx: TyCtxt<'tcx>, impl_did: DefId) -> CoerceUn\n         tcx.sess.fatal(&format!(\"`CoerceUnsized` implementation {}\", err.to_string()));\n     });\n \n-    let source = tcx.bound_type_of(impl_did).subst_identity();\n+    let source = tcx.type_of(impl_did).subst_identity();\n     let trait_ref = tcx.impl_trait_ref(impl_did).unwrap().subst_identity();\n     assert_eq!(trait_ref.def_id, coerce_unsized_trait);\n     let target = trait_ref.substs.type_at(1);\n@@ -482,7 +482,7 @@ pub fn coerce_unsized_info<'tcx>(tcx: TyCtxt<'tcx>, impl_did: DefId) -> CoerceUn\n                 .filter_map(|(i, f)| {\n                     let (a, b) = (f.ty(tcx, substs_a), f.ty(tcx, substs_b));\n \n-                    if tcx.bound_type_of(f.did).subst_identity().is_phantom_data() {\n+                    if tcx.type_of(f.did).subst_identity().is_phantom_data() {\n                         // Ignore PhantomData fields\n                         return None;\n                     }"}, {"sha": "02f3eeee0e7e0edf6a495bf9d1a871d3553b09ce", "filename": "compiler/rustc_hir_analysis/src/coherence/inherent_impls.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Finherent_impls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Finherent_impls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcoherence%2Finherent_impls.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -173,7 +173,7 @@ impl<'tcx> InherentCollect<'tcx> {\n \n         let id = id.owner_id.def_id;\n         let item_span = self.tcx.def_span(id);\n-        let self_ty = self.tcx.bound_type_of(id).subst_identity();\n+        let self_ty = self.tcx.type_of(id).subst_identity();\n         match *self_ty.kind() {\n             ty::Adt(def, _) => self.check_def_id(id, self_ty, def.did()),\n             ty::Foreign(did) => self.check_def_id(id, self_ty, did),"}, {"sha": "4d68d9902a466f2a921a4bd84ca90e9ad8ec8410", "filename": "compiler/rustc_hir_analysis/src/collect.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -1143,8 +1143,8 @@ fn fn_sig(tcx: TyCtxt<'_>, def_id: DefId) -> ty::EarlyBinder<ty::PolyFnSig<'_>>\n         }\n \n         Ctor(data) | Variant(hir::Variant { data, .. }) if data.ctor().is_some() => {\n-            let ty = tcx.bound_type_of(tcx.hir().get_parent_item(hir_id)).subst_identity();\n-            let inputs = data.fields().iter().map(|f| tcx.bound_type_of(f.def_id).subst_identity());\n+            let ty = tcx.type_of(tcx.hir().get_parent_item(hir_id)).subst_identity();\n+            let inputs = data.fields().iter().map(|f| tcx.type_of(f.def_id).subst_identity());\n             ty::Binder::dummy(tcx.mk_fn_sig(\n                 inputs,\n                 ty,\n@@ -1345,7 +1345,7 @@ fn impl_trait_ref(tcx: TyCtxt<'_>, def_id: DefId) -> Option<ty::EarlyBinder<ty::\n         .of_trait\n         .as_ref()\n         .map(|ast_trait_ref| {\n-            let selfty = tcx.bound_type_of(def_id).subst_identity();\n+            let selfty = tcx.type_of(def_id).subst_identity();\n             icx.astconv().instantiate_mono_trait_ref(\n                 ast_trait_ref,\n                 selfty,"}, {"sha": "2a112f70ad631c2204a759a27b752db32f2be36a", "filename": "compiler/rustc_hir_analysis/src/collect/lifetimes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Flifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Flifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Flifetimes.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -1804,7 +1804,7 @@ fn is_late_bound_map(\n                     let mut walker = ConstrainedCollectorPostAstConv {\n                         arg_is_constrained: vec![false; generics.params.len()].into_boxed_slice(),\n                     };\n-                    walker.visit_ty(self.tcx.bound_type_of(alias_def).subst_identity());\n+                    walker.visit_ty(self.tcx.type_of(alias_def).subst_identity());\n \n                     match segments.last() {\n                         Some(hir::PathSegment { args: Some(args), .. }) => {"}, {"sha": "b67f8ded2a5727e4ed662df7793c7094d03c6afb", "filename": "compiler/rustc_hir_analysis/src/collect/predicates_of.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Fpredicates_of.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Fpredicates_of.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Fpredicates_of.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -251,7 +251,7 @@ fn gather_explicit_predicates_of(tcx: TyCtxt<'_>, def_id: DefId) -> ty::GenericP\n     // in trait checking. See `setup_constraining_predicates`\n     // for details.\n     if let Node::Item(&Item { kind: ItemKind::Impl { .. }, .. }) = node {\n-        let self_ty = tcx.bound_type_of(def_id).subst_identity();\n+        let self_ty = tcx.type_of(def_id).subst_identity();\n         let trait_ref = tcx.impl_trait_ref(def_id).map(ty::EarlyBinder::subst_identity);\n         cgp::setup_constraining_predicates(\n             tcx,"}, {"sha": "a3bc0082ef20c315c92015b54cdca13c69922a10", "filename": "compiler/rustc_hir_analysis/src/collect/type_of.rs", "status": "modified", "additions": 11, "deletions": 10, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Ftype_of.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Ftype_of.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcollect%2Ftype_of.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -243,15 +243,15 @@ fn get_path_containing_arg_in_pat<'hir>(\n     arg_path\n }\n \n-pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: DefId) -> Ty<'_> {\n+pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: DefId) -> ty::EarlyBinder<Ty<'_>> {\n     let def_id = def_id.expect_local();\n     use rustc_hir::*;\n \n     let hir_id = tcx.hir().local_def_id_to_hir_id(def_id);\n \n     let icx = ItemCtxt::new(tcx, def_id.to_def_id());\n \n-    match tcx.hir().get(hir_id) {\n+    let output = match tcx.hir().get(hir_id) {\n         Node::TraitItem(item) => match item.kind {\n             TraitItemKind::Fn(..) => {\n                 let substs = InternalSubsts::identity_for_item(tcx, def_id.to_def_id());\n@@ -377,7 +377,7 @@ pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: DefId) -> Ty<'_> {\n \n         Node::Ctor(def) | Node::Variant(Variant { data: def, .. }) => match def {\n             VariantData::Unit(..) | VariantData::Struct(..) => {\n-                tcx.bound_type_of(tcx.hir().get_parent_item(hir_id)).subst_identity()\n+                tcx.type_of(tcx.hir().get_parent_item(hir_id)).subst_identity()\n             }\n             VariantData::Tuple(..) => {\n                 let substs = InternalSubsts::identity_for_item(tcx, def_id.to_def_id());\n@@ -394,7 +394,7 @@ pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: DefId) -> Ty<'_> {\n         Node::AnonConst(_) if let Some(param) = tcx.opt_const_param_of(def_id) => {\n             // We defer to `type_of` of the corresponding parameter\n             // for generic arguments.\n-            tcx.bound_type_of(param).subst_identity()\n+            tcx.type_of(param).subst_identity()\n         }\n \n         Node::AnonConst(_) => {\n@@ -446,7 +446,7 @@ pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: DefId) -> Ty<'_> {\n                     && e.hir_id == hir_id =>\n                 {\n                     let Some(trait_def_id) = trait_ref.trait_def_id() else {\n-                        return tcx.ty_error_with_message(DUMMY_SP, \"Could not find trait\");\n+                        return ty::EarlyBinder(tcx.ty_error_with_message(DUMMY_SP, \"Could not find trait\"));\n                     };\n                     let assoc_items = tcx.associated_items(trait_def_id);\n                     let assoc_item = assoc_items.find_by_name_and_kind(\n@@ -456,7 +456,7 @@ pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: DefId) -> Ty<'_> {\n                         def_id.to_def_id(),\n                     );\n                     if let Some(assoc_item) = assoc_item {\n-                        tcx.bound_type_of(assoc_item.def_id).subst_identity()\n+                        tcx.type_of(assoc_item.def_id).subst_identity()\n                     } else {\n                         // FIXME(associated_const_equality): add a useful error message here.\n                         tcx.ty_error_with_message(\n@@ -480,7 +480,7 @@ pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: DefId) -> Ty<'_> {\n                         }) =>\n                 {\n                     let Some(trait_def_id) = trait_ref.trait_def_id() else {\n-                        return tcx.ty_error_with_message(DUMMY_SP, \"Could not find trait\");\n+                        return ty::EarlyBinder(tcx.ty_error_with_message(DUMMY_SP, \"Could not find trait\"));\n                     };\n                     let assoc_items = tcx.associated_items(trait_def_id);\n                     let assoc_item = assoc_items.find_by_name_and_kind(\n@@ -501,7 +501,7 @@ pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: DefId) -> Ty<'_> {\n                     if let Some(param)\n                         = assoc_item.map(|item| &tcx.generics_of(item.def_id).params[idx]).filter(|param| param.kind.is_ty_or_const())\n                     {\n-                        tcx.bound_type_of(param.def_id).subst_identity()\n+                        tcx.type_of(param.def_id).subst_identity()\n                     } else {\n                         // FIXME(associated_const_equality): add a useful error message here.\n                         tcx.ty_error_with_message(\n@@ -515,7 +515,7 @@ pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: DefId) -> Ty<'_> {\n                     def_id: param_def_id,\n                     kind: GenericParamKind::Const { default: Some(ct), .. },\n                     ..\n-                }) if ct.hir_id == hir_id => tcx.bound_type_of(param_def_id).subst_identity(),\n+                }) if ct.hir_id == hir_id => tcx.type_of(param_def_id).subst_identity(),\n \n                 x => tcx.ty_error_with_message(\n                     DUMMY_SP,\n@@ -533,7 +533,8 @@ pub(super) fn type_of(tcx: TyCtxt<'_>, def_id: DefId) -> Ty<'_> {\n         x => {\n             bug!(\"unexpected sort of node in type_of(): {:?}\", x);\n         }\n-    }\n+    };\n+    ty::EarlyBinder(output)\n }\n \n #[instrument(skip(tcx), level = \"debug\")]"}, {"sha": "8ab9964d810008979e35ea66e2b3e77b887c9976", "filename": "compiler/rustc_hir_analysis/src/impl_wf_check.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fimpl_wf_check.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fimpl_wf_check.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fimpl_wf_check.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -70,7 +70,7 @@ pub fn provide(providers: &mut Providers) {\n \n fn enforce_impl_params_are_constrained(tcx: TyCtxt<'_>, impl_def_id: LocalDefId) {\n     // Every lifetime used in an associated type must be constrained.\n-    let impl_self_ty = tcx.bound_type_of(impl_def_id).subst_identity();\n+    let impl_self_ty = tcx.type_of(impl_def_id).subst_identity();\n     if impl_self_ty.references_error() {\n         // Don't complain about unconstrained type params when self ty isn't known due to errors.\n         // (#36836)\n@@ -104,7 +104,7 @@ fn enforce_impl_params_are_constrained(tcx: TyCtxt<'_>, impl_def_id: LocalDefId)\n             match item.kind {\n                 ty::AssocKind::Type => {\n                     if item.defaultness(tcx).has_value() {\n-                        cgp::parameters_for(&tcx.bound_type_of(def_id).subst_identity(), true)\n+                        cgp::parameters_for(&tcx.type_of(def_id).subst_identity(), true)\n                     } else {\n                         Vec::new()\n                     }"}, {"sha": "6111046a5195659e35322a1485c11521bf7760fe", "filename": "compiler/rustc_hir_analysis/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Flib.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -187,7 +187,7 @@ fn check_main_fn_ty(tcx: TyCtxt<'_>, main_def_id: DefId) {\n \n     fn main_fn_diagnostics_def_id(tcx: TyCtxt<'_>, def_id: DefId, sp: Span) -> LocalDefId {\n         if let Some(local_def_id) = def_id.as_local() {\n-            let hir_type = tcx.bound_type_of(local_def_id).subst_identity();\n+            let hir_type = tcx.type_of(local_def_id).subst_identity();\n             if !matches!(hir_type.kind(), ty::FnDef(..)) {\n                 span_bug!(sp, \"main has a non-function type: found `{}`\", hir_type);\n             }\n@@ -366,7 +366,7 @@ fn check_start_fn_ty(tcx: TyCtxt<'_>, start_def_id: DefId) {\n     let start_def_id = start_def_id.expect_local();\n     let start_id = tcx.hir().local_def_id_to_hir_id(start_def_id);\n     let start_span = tcx.def_span(start_def_id);\n-    let start_t = tcx.bound_type_of(start_def_id).subst_identity();\n+    let start_t = tcx.type_of(start_def_id).subst_identity();\n     match start_t.kind() {\n         ty::FnDef(..) => {\n             if let Some(Node::Item(it)) = tcx.hir().find(start_id) {"}, {"sha": "a8b33c74bc1ee8aaac01bfb1c4b002ffb4a0c9c5", "filename": "compiler/rustc_hir_analysis/src/outlives/implicit_infer.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Foutlives%2Fimplicit_infer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Foutlives%2Fimplicit_infer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Foutlives%2Fimplicit_infer.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -46,7 +46,7 @@ pub(super) fn infer_predicates(\n                         // For field of type &'a T (reference) or Adt\n                         // (struct/enum/union) there will be outlive\n                         // requirements for adt_def.\n-                        let field_ty = tcx.bound_type_of(field_def.did).subst_identity();\n+                        let field_ty = tcx.type_of(field_def.did).subst_identity();\n                         let field_span = tcx.def_span(field_def.did);\n                         insert_required_predicates_to_be_wf(\n                             tcx,"}, {"sha": "408bec71ee015ae70a2ebcf5452636a1af625247", "filename": "compiler/rustc_hir_analysis/src/variance/constraints.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Fconstraints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Fconstraints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Fconstraints.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -101,7 +101,7 @@ impl<'a, 'tcx> ConstraintContext<'a, 'tcx> {\n \n         let inferred_start = self.terms_cx.inferred_starts[&def_id];\n         let current_item = &CurrentItem { inferred_start };\n-        match tcx.bound_type_of(def_id).subst_identity().kind() {\n+        match tcx.type_of(def_id).subst_identity().kind() {\n             ty::Adt(def, _) => {\n                 // Not entirely obvious: constraints on structs/enums do not\n                 // affect the variance of their type parameters. See discussion\n@@ -112,7 +112,7 @@ impl<'a, 'tcx> ConstraintContext<'a, 'tcx> {\n                 for field in def.all_fields() {\n                     self.add_constraints_from_ty(\n                         current_item,\n-                        tcx.bound_type_of(field.did).subst_identity(),\n+                        tcx.type_of(field.did).subst_identity(),\n                         self.covariant,\n                     );\n                 }"}, {"sha": "c27c176e35f58a86b0295a6633a0d4a1418d9053", "filename": "compiler/rustc_hir_analysis/src/variance/solve.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Fsolve.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Fsolve.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fvariance%2Fsolve.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -103,7 +103,7 @@ impl<'a, 'tcx> SolveContext<'a, 'tcx> {\n                 self.enforce_const_invariance(generics, variances);\n \n                 // Functions are permitted to have unused generic parameters: make those invariant.\n-                if let ty::FnDef(..) = tcx.bound_type_of(def_id).subst_identity().kind() {\n+                if let ty::FnDef(..) = tcx.type_of(def_id).subst_identity().kind() {\n                     for variance in variances.iter_mut() {\n                         if *variance == ty::Bivariant {\n                             *variance = ty::Invariant;"}, {"sha": "3feb23d3481e6c51be4a0163a8933fb01b4eb8f1", "filename": "compiler/rustc_hir_typeck/src/check.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Fcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Fcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fcheck.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -79,7 +79,7 @@ pub(super) fn check_fn<'a, 'tcx>(\n         let va_list_did = tcx.require_lang_item(LangItem::VaList, Some(span));\n         let region = fcx.next_region_var(RegionVariableOrigin::MiscVariable(span));\n \n-        tcx.bound_type_of(va_list_did).subst(tcx, &[region.into()])\n+        tcx.type_of(va_list_did).subst(tcx, &[region.into()])\n     });\n \n     // Add formal parameters."}, {"sha": "a15e5f08392962354f2053aadc5582692d49a4b3", "filename": "compiler/rustc_hir_typeck/src/demand.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Fdemand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Fdemand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fdemand.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -2037,7 +2037,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                                    args: &[hir::Expr<'_>],\n                                    kind: CallableKind| {\n             let arg_idx = args.iter().position(|a| a.hir_id == expr.hir_id).unwrap();\n-            let fn_ty = self.tcx.bound_type_of(def_id).0;\n+            let fn_ty = self.tcx.type_of(def_id).0;\n             if !fn_ty.is_fn() {\n                 return;\n             }"}, {"sha": "c16edb8faab7b281895ada25c1880a7f33ca1aa1", "filename": "compiler/rustc_hir_typeck/src/fn_ctxt/_impl.rs", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2F_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2F_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2F_impl.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -776,9 +776,9 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n         let def_kind = self.tcx.def_kind(def_id);\n \n         let item_ty = if let DefKind::Variant = def_kind {\n-            self.tcx.bound_type_of(self.tcx.parent(def_id))\n+            self.tcx.type_of(self.tcx.parent(def_id))\n         } else {\n-            self.tcx.bound_type_of(def_id)\n+            self.tcx.type_of(def_id)\n         };\n         let substs = self.fresh_substs_for_item(span, def_id);\n         let ty = item_ty.subst(self.tcx, substs);\n@@ -1130,8 +1130,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n             .unwrap_or(false);\n \n         let (res, self_ctor_substs) = if let Res::SelfCtor(impl_def_id) = res {\n-            let ty =\n-                self.handle_raw_ty(span, tcx.at(span).bound_type_of(impl_def_id).subst_identity());\n+            let ty = self.handle_raw_ty(span, tcx.at(span).type_of(impl_def_id).subst_identity());\n             match ty.normalized.ty_adt_def() {\n                 Some(adt_def) if adt_def.has_ctor() => {\n                     let (ctor_kind, ctor_def_id) = adt_def.non_enum_variant().ctor.unwrap();\n@@ -1229,7 +1228,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                         let tcx = self.fcx.tcx();\n                         self.fcx\n                             .ct_infer(\n-                                tcx.bound_type_of(param.def_id).subst_identity(),\n+                                tcx.type_of(param.def_id).subst_identity(),\n                                 Some(param),\n                                 inf.span,\n                             )\n@@ -1255,7 +1254,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                             // If we have a default, then we it doesn't matter that we're not\n                             // inferring the type arguments: we provide the default where any\n                             // is missing.\n-                            tcx.bound_type_of(param.def_id).subst(tcx, substs.unwrap()).into()\n+                            tcx.type_of(param.def_id).subst(tcx, substs.unwrap()).into()\n                         } else {\n                             // If no type arguments were provided, we have to infer them.\n                             // This case also occurs as a result of some malformed input, e.g.\n@@ -1303,7 +1302,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n \n         // Substitute the values for the type parameters into the type of\n         // the referenced item.\n-        let ty = tcx.bound_type_of(def_id);\n+        let ty = tcx.type_of(def_id);\n         assert!(!substs.has_escaping_bound_vars());\n         assert!(!ty.0.has_escaping_bound_vars());\n         let ty_substituted = self.normalize(span, ty.subst(tcx, substs));\n@@ -1314,7 +1313,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n             // type parameters, which we can infer by unifying the provided `Self`\n             // with the substituted impl type.\n             // This also occurs for an enum variant on a type alias.\n-            let impl_ty = self.normalize(span, tcx.bound_type_of(impl_def_id).subst(tcx, substs));\n+            let impl_ty = self.normalize(span, tcx.type_of(impl_def_id).subst(tcx, substs));\n             let self_ty = self.normalize(span, self_ty);\n             match self.at(&self.misc(span), self.param_env).eq(impl_ty, self_ty) {\n                 Ok(ok) => self.register_infer_ok_obligations(ok),"}, {"sha": "ecccc348fb0ba704409b42872305e1f1e3bdc55c", "filename": "compiler/rustc_hir_typeck/src/fn_ctxt/adjust_fulfillment_errors.rs", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2Fadjust_fulfillment_errors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2Fadjust_fulfillment_errors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2Fadjust_fulfillment_errors.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -312,10 +312,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                 // same rules that check_expr_struct uses for macro hygiene.\n                 if self.tcx.adjust_ident(expr_field.ident, variant_def_id) == field.ident(self.tcx)\n                 {\n-                    return Some((\n-                        expr_field.expr,\n-                        self.tcx.bound_type_of(field.did).subst_identity(),\n-                    ));\n+                    return Some((expr_field.expr, self.tcx.type_of(field.did).subst_identity()));\n                 }\n             }\n         }\n@@ -342,7 +339,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n         receiver: Option<&'tcx hir::Expr<'tcx>>,\n         args: &'tcx [hir::Expr<'tcx>],\n     ) -> bool {\n-        let ty = self.tcx.bound_type_of(def_id).subst_identity();\n+        let ty = self.tcx.type_of(def_id).subst_identity();\n         if !ty.is_fn() {\n             return false;\n         }"}, {"sha": "3539202d1ca6f7d2bf282ba0e3c52225d35b1d94", "filename": "compiler/rustc_hir_typeck/src/fn_ctxt/suggestions.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2Fsuggestions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2Fsuggestions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Ffn_ctxt%2Fsuggestions.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -1378,7 +1378,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n             // Same item\n             return false;\n         }\n-        let item_ty = self.tcx.bound_type_of(item.def_id).subst_identity();\n+        let item_ty = self.tcx.type_of(item.def_id).subst_identity();\n         // FIXME(compiler-errors): This check is *so* rudimentary\n         if item_ty.needs_subst() {\n             return false;"}, {"sha": "0204beb6fb84de79ac0272285f7acd7d69ac3048", "filename": "compiler/rustc_hir_typeck/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Flib.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -154,15 +154,15 @@ fn typeck_const_arg<'tcx>(\n     tcx: TyCtxt<'tcx>,\n     (did, param_did): (LocalDefId, DefId),\n ) -> &ty::TypeckResults<'tcx> {\n-    let fallback = move || tcx.bound_type_of(param_did).subst_identity();\n+    let fallback = move || tcx.type_of(param_did).subst_identity();\n     typeck_with_fallback(tcx, did, fallback)\n }\n \n fn typeck<'tcx>(tcx: TyCtxt<'tcx>, def_id: LocalDefId) -> &ty::TypeckResults<'tcx> {\n     if let Some(param_did) = tcx.opt_const_param_of(def_id) {\n         tcx.typeck_const_arg((def_id, param_did))\n     } else {\n-        let fallback = move || tcx.bound_type_of(def_id.to_def_id()).subst_identity();\n+        let fallback = move || tcx.type_of(def_id.to_def_id()).subst_identity();\n         typeck_with_fallback(tcx, def_id, fallback)\n     }\n }"}, {"sha": "bd8d12b408655cb1a2841723b13fd48e5f1cfd99", "filename": "compiler/rustc_hir_typeck/src/method/confirm.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fconfirm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fconfirm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fconfirm.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -386,7 +386,7 @@ impl<'a, 'tcx> ConfirmContext<'a, 'tcx> {\n                         let tcx = self.cfcx.tcx();\n                         self.cfcx\n                             .ct_infer(\n-                                tcx.bound_type_of(param.def_id).subst_identity(),\n+                                tcx.type_of(param.def_id).subst_identity(),\n                                 Some(param),\n                                 inf.span,\n                             )"}, {"sha": "ab94a0e6f8b87f6f3332fd2e0c41035b49abbb39", "filename": "compiler/rustc_hir_typeck/src/method/probe.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fprobe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fprobe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fprobe.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -1940,7 +1940,7 @@ impl<'a, 'tcx> ProbeContext<'a, 'tcx> {\n         &self,\n         impl_def_id: DefId,\n     ) -> (ty::EarlyBinder<Ty<'tcx>>, SubstsRef<'tcx>) {\n-        (self.tcx.bound_type_of(impl_def_id), self.fresh_item_substs(impl_def_id))\n+        (self.tcx.type_of(impl_def_id), self.fresh_item_substs(impl_def_id))\n     }\n \n     fn fresh_item_substs(&self, def_id: DefId) -> SubstsRef<'tcx> {\n@@ -1958,8 +1958,7 @@ impl<'a, 'tcx> ProbeContext<'a, 'tcx> {\n                     kind: ConstVariableOriginKind::SubstitutionPlaceholder,\n                     span,\n                 };\n-                self.next_const_var(self.tcx.bound_type_of(param.def_id).subst_identity(), origin)\n-                    .into()\n+                self.next_const_var(self.tcx.type_of(param.def_id).subst_identity(), origin).into()\n             }\n         })\n     }"}, {"sha": "5f8dfffb0e1f547a303fda2c7e2e441280bc9fc2", "filename": "compiler/rustc_hir_typeck/src/method/suggest.rs", "status": "modified", "additions": 6, "deletions": 11, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fsuggest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fsuggest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_typeck%2Fsrc%2Fmethod%2Fsuggest.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -906,13 +906,9 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                                         // different from the received one\n                                         // So we avoid suggestion method with Box<Self>\n                                         // for instance\n-                                        self.tcx.at(span).bound_type_of(*def_id).subst_identity()\n+                                        self.tcx.at(span).type_of(*def_id).subst_identity()\n                                             != rcvr_ty\n-                                            && self\n-                                                .tcx\n-                                                .at(span)\n-                                                .bound_type_of(*def_id)\n-                                                .subst_identity()\n+                                            && self.tcx.at(span).type_of(*def_id).subst_identity()\n                                                 != rcvr_ty\n                                     }\n                                     (Mode::Path, false, _) => true,\n@@ -935,7 +931,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                             .map(|impl_item| {\n                                 format!(\n                                     \"- `{}`\",\n-                                    self.tcx.at(span).bound_type_of(*impl_item).subst_identity()\n+                                    self.tcx.at(span).type_of(*impl_item).subst_identity()\n                                 )\n                             })\n                             .collect::<Vec<_>>()\n@@ -1113,7 +1109,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                         None\n                     };\n \n-                    let impl_ty = self.tcx.at(span).bound_type_of(impl_did).subst_identity();\n+                    let impl_ty = self.tcx.at(span).type_of(impl_did).subst_identity();\n \n                     let insertion = match self.tcx.impl_trait_ref(impl_did) {\n                         None => String::new(),\n@@ -1242,7 +1238,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n             // When the \"method\" is resolved through dereferencing, we really want the\n             // original type that has the associated function for accurate suggestions.\n             // (#61411)\n-            let impl_ty = self.tcx.bound_type_of(*impl_did).subst_identity();\n+            let impl_ty = self.tcx.type_of(*impl_did).subst_identity();\n             let target_ty = self\n                 .autoderef(sugg_span, rcvr_ty)\n                 .find(|(rcvr_ty, _)| {\n@@ -1462,8 +1458,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                     }\n \n                     let range_def_id = self.tcx.require_lang_item(lang_item.unwrap(), None);\n-                    let range_ty =\n-                        self.tcx.bound_type_of(range_def_id).subst(self.tcx, &[actual.into()]);\n+                    let range_ty = self.tcx.type_of(range_def_id).subst(self.tcx, &[actual.into()]);\n \n                     let pick = self.lookup_probe_for_diagnostic(\n                         item_name,"}, {"sha": "cf2f6ef33bebae1c39de756b565bfd619497c73c", "filename": "compiler/rustc_infer/src/infer/error_reporting/need_type_info.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fneed_type_info.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fneed_type_info.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fneed_type_info.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -1062,7 +1062,7 @@ impl<'a, 'tcx> FindInferSourceVisitor<'a, 'tcx> {\n \n                 let parent_def_id = generics.parent.unwrap();\n                 if let DefKind::Impl { .. } = tcx.def_kind(parent_def_id) {\n-                    let parent_ty = tcx.bound_type_of(parent_def_id).subst(tcx, substs);\n+                    let parent_ty = tcx.type_of(parent_def_id).subst(tcx, substs);\n                     match (parent_ty.kind(), &ty.kind) {\n                         (\n                             ty::Adt(def, substs),"}, {"sha": "2c63a3904107283f749cc570d6560c87fef77154", "filename": "compiler/rustc_infer/src/infer/error_reporting/nice_region_error/mismatched_static_lifetime.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fmismatched_static_lifetime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fmismatched_static_lifetime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Fmismatched_static_lifetime.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -72,7 +72,7 @@ impl<'a, 'tcx> NiceRegionError<'a, 'tcx> {\n             };\n \n             // Next, let's figure out the set of trait objects with implicit static bounds\n-            let ty = self.tcx().bound_type_of(*impl_def_id).subst_identity();\n+            let ty = self.tcx().type_of(*impl_def_id).subst_identity();\n             let mut v = super::static_impl_trait::TraitObjectVisitor(FxIndexSet::default());\n             v.visit_ty(ty);\n             let mut traits = vec![];"}, {"sha": "ac4de2cc84266a3294b16cbdea8a513d0bfaea6b", "filename": "compiler/rustc_infer/src/infer/error_reporting/nice_region_error/util.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnice_region_error%2Futil.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -123,7 +123,7 @@ impl<'a, 'tcx> NiceRegionError<'a, 'tcx> {\n         br: ty::BoundRegionKind,\n         hir_sig: &hir::FnSig<'_>,\n     ) -> Option<Span> {\n-        let fn_ty = self.tcx().bound_type_of(scope_def_id).subst_identity();\n+        let fn_ty = self.tcx().type_of(scope_def_id).subst_identity();\n         if let ty::FnDef(_, _) = fn_ty.kind() {\n             let ret_ty = fn_ty.fn_sig(self.tcx()).output();\n             let span = hir_sig.decl.output.span();"}, {"sha": "2b1d99ef445655739019cb488ecb0980360014e8", "filename": "compiler/rustc_infer/src/infer/error_reporting/note_and_explain.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnote_and_explain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnote_and_explain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Ferror_reporting%2Fnote_and_explain.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -577,7 +577,7 @@ fn foo(&self) -> Self::T { String::new() }\n                             if let hir::Defaultness::Default { has_value: true } =\n                                 tcx.impl_defaultness(item.id.owner_id)\n                             {\n-                                let assoc_ty = tcx.bound_type_of(item.id.owner_id).subst_identity();\n+                                let assoc_ty = tcx.type_of(item.id.owner_id).subst_identity();\n                                 if self.infcx.can_eq(param_env, assoc_ty, found) {\n                                     diag.span_label(\n                                         item.span,\n@@ -598,7 +598,7 @@ fn foo(&self) -> Self::T { String::new() }\n             })) => {\n                 for item in &items[..] {\n                     if let hir::AssocItemKind::Type = item.kind {\n-                        let assoc_ty = tcx.bound_type_of(item.id.owner_id).subst_identity();\n+                        let assoc_ty = tcx.type_of(item.id.owner_id).subst_identity();\n \n                         if self.infcx.can_eq(param_env, assoc_ty, found) {\n                             diag.span_label(item.span, \"expected this associated type\");"}, {"sha": "5856d935d3d893488658b4cdeb4cc5de881a1e9a", "filename": "compiler/rustc_infer/src/infer/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -1167,7 +1167,7 @@ impl<'tcx> InferCtxt<'tcx> {\n                         val: ConstVariableValue::Unknown { universe: self.universe() },\n                     });\n                 self.tcx\n-                    .mk_const(const_var_id, self.tcx.bound_type_of(param.def_id).subst_identity())\n+                    .mk_const(const_var_id, self.tcx.type_of(param.def_id).subst_identity())\n                     .into()\n             }\n         }"}, {"sha": "3069cd2bb8312541865c81de152210006537778c", "filename": "compiler/rustc_lint/src/builtin.rs", "status": "modified", "additions": 11, "deletions": 13, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_lint%2Fsrc%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_lint%2Fsrc%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Fbuiltin.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -182,11 +182,9 @@ impl<'tcx> LateLintPass<'tcx> for BoxPointers {\n             | hir::ItemKind::TyAlias(..)\n             | hir::ItemKind::Enum(..)\n             | hir::ItemKind::Struct(..)\n-            | hir::ItemKind::Union(..) => self.check_heap_type(\n-                cx,\n-                it.span,\n-                cx.tcx.bound_type_of(it.owner_id).subst_identity(),\n-            ),\n+            | hir::ItemKind::Union(..) => {\n+                self.check_heap_type(cx, it.span, cx.tcx.type_of(it.owner_id).subst_identity())\n+            }\n             _ => (),\n         }\n \n@@ -197,7 +195,7 @@ impl<'tcx> LateLintPass<'tcx> for BoxPointers {\n                     self.check_heap_type(\n                         cx,\n                         field.span,\n-                        cx.tcx.bound_type_of(field.def_id).subst_identity(),\n+                        cx.tcx.type_of(field.def_id).subst_identity(),\n                     );\n                 }\n             }\n@@ -595,7 +593,7 @@ impl<'tcx> LateLintPass<'tcx> for MissingDoc {\n             // If the method is an impl for an item with docs_hidden, don't doc.\n             MethodLateContext::PlainImpl => {\n                 let parent = cx.tcx.hir().get_parent_item(impl_item.hir_id());\n-                let impl_ty = cx.tcx.bound_type_of(parent).subst_identity();\n+                let impl_ty = cx.tcx.type_of(parent).subst_identity();\n                 let outerdef = match impl_ty.kind() {\n                     ty::Adt(def, _) => Some(def.did()),\n                     ty::Foreign(def_id) => Some(*def_id),\n@@ -704,7 +702,7 @@ impl<'tcx> LateLintPass<'tcx> for MissingCopyImplementations {\n         // and recommending Copy might be a bad idea.\n         for field in def.all_fields() {\n             let did = field.did;\n-            if cx.tcx.bound_type_of(did).subst_identity().is_unsafe_ptr() {\n+            if cx.tcx.type_of(did).subst_identity().is_unsafe_ptr() {\n                 return;\n             }\n         }\n@@ -804,7 +802,7 @@ impl<'tcx> LateLintPass<'tcx> for MissingDebugImplementations {\n         if self.impling_types.is_none() {\n             let mut impls = LocalDefIdSet::default();\n             cx.tcx.for_each_impl(debug, |d| {\n-                if let Some(ty_def) = cx.tcx.bound_type_of(d).subst_identity().ty_adt_def() {\n+                if let Some(ty_def) = cx.tcx.type_of(d).subst_identity().ty_adt_def() {\n                     if let Some(def_id) = ty_def.did().as_local() {\n                         impls.insert(def_id);\n                     }\n@@ -2858,8 +2856,8 @@ impl ClashingExternDeclarations {\n                                     structurally_same_type_impl(\n                                         seen_types,\n                                         cx,\n-                                        tcx.bound_type_of(a_did).subst_identity(),\n-                                        tcx.bound_type_of(b_did).subst_identity(),\n+                                        tcx.type_of(a_did).subst_identity(),\n+                                        tcx.type_of(b_did).subst_identity(),\n                                         ckind,\n                                     )\n                                 },\n@@ -2959,8 +2957,8 @@ impl<'tcx> LateLintPass<'tcx> for ClashingExternDeclarations {\n         if let ForeignItemKind::Fn(..) = this_fi.kind {\n             let tcx = cx.tcx;\n             if let Some(existing_did) = self.insert(tcx, this_fi) {\n-                let existing_decl_ty = tcx.bound_type_of(existing_did).skip_binder();\n-                let this_decl_ty = tcx.bound_type_of(this_fi.owner_id).subst_identity();\n+                let existing_decl_ty = tcx.type_of(existing_did).skip_binder();\n+                let this_decl_ty = tcx.type_of(this_fi.owner_id).subst_identity();\n                 debug!(\n                     \"ClashingExternDeclarations: Comparing existing {:?}: {:?} to this {:?}: {:?}\",\n                     existing_did, existing_decl_ty, this_fi.owner_id, this_decl_ty"}, {"sha": "65a686857e5f337081c865082a874f0b1d39d6ab", "filename": "compiler/rustc_lint/src/deref_into_dyn_supertrait.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_lint%2Fsrc%2Fderef_into_dyn_supertrait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_lint%2Fsrc%2Fderef_into_dyn_supertrait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Fderef_into_dyn_supertrait.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -59,7 +59,7 @@ impl<'tcx> LateLintPass<'tcx> for DerefIntoDynSupertrait {\n         // `Deref` is being implemented for `t`\n         if let hir::ItemKind::Impl(impl_) = item.kind\n             && let Some(trait_) = &impl_.of_trait\n-            && let t = cx.tcx.bound_type_of(item.owner_id).subst_identity()\n+            && let t = cx.tcx.type_of(item.owner_id).subst_identity()\n             && let opt_did @ Some(did) = trait_.trait_def_id()\n             && opt_did == cx.tcx.lang_items().deref_trait()\n             // `t` is `dyn t_principal`"}, {"sha": "2fd0ef3cda8b76bfab36cc67ab26b94f4a521f69", "filename": "compiler/rustc_lint/src/internal.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_lint%2Fsrc%2Finternal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_lint%2Fsrc%2Finternal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Finternal.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -216,7 +216,7 @@ fn is_ty_or_ty_ctxt(cx: &LateContext<'_>, path: &Path<'_>) -> Option<String> {\n         }\n         // Only lint on `&Ty` and `&TyCtxt` if it is used outside of a trait.\n         Res::SelfTyAlias { alias_to: did, is_trait_impl: false, .. } => {\n-            if let ty::Adt(adt, substs) = cx.tcx.bound_type_of(did).subst_identity().kind() {\n+            if let ty::Adt(adt, substs) = cx.tcx.type_of(did).subst_identity().kind() {\n                 if let Some(name @ (sym::Ty | sym::TyCtxt)) = cx.tcx.get_diagnostic_name(adt.did())\n                 {\n                     // NOTE: This path is currently unreachable as `Ty<'tcx>` is"}, {"sha": "2bb2a3aab5527d51d70e179ded6c47c1c2025333", "filename": "compiler/rustc_lint/src/pass_by_value.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_lint%2Fsrc%2Fpass_by_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_lint%2Fsrc%2Fpass_by_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Fpass_by_value.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -50,7 +50,7 @@ fn path_for_pass_by_value(cx: &LateContext<'_>, ty: &hir::Ty<'_>) -> Option<Stri\n                 return Some(format!(\"{}{}\", name, gen_args(cx, path_segment)));\n             }\n             Res::SelfTyAlias { alias_to: did, is_trait_impl: false, .. } => {\n-                if let ty::Adt(adt, substs) = cx.tcx.bound_type_of(did).subst_identity().kind() {\n+                if let ty::Adt(adt, substs) = cx.tcx.type_of(did).subst_identity().kind() {\n                     if cx.tcx.has_attr(adt.did(), sym::rustc_pass_by_value) {\n                         return Some(cx.tcx.def_path_str_with_substs(adt.did(), substs));\n                     }"}, {"sha": "b7fd6a254d811300adf9e9eee64cf732d9653baf", "filename": "compiler/rustc_lint/src/types.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_lint%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_lint%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Ftypes.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -651,7 +651,7 @@ pub fn transparent_newtype_field<'a, 'tcx>(\n ) -> Option<&'a ty::FieldDef> {\n     let param_env = tcx.param_env(variant.def_id);\n     variant.fields.iter().find(|field| {\n-        let field_ty = tcx.bound_type_of(field.did).subst_identity();\n+        let field_ty = tcx.type_of(field.did).subst_identity();\n         let is_zst = tcx.layout_of(param_env.and(field_ty)).map_or(false, |layout| layout.is_zst());\n         !is_zst\n     })\n@@ -1240,7 +1240,7 @@ impl<'a, 'tcx> ImproperCTypesVisitor<'a, 'tcx> {\n     }\n \n     fn check_foreign_static(&mut self, id: hir::OwnerId, span: Span) {\n-        let ty = self.cx.tcx.bound_type_of(id).subst_identity();\n+        let ty = self.cx.tcx.type_of(id).subst_identity();\n         self.check_type_for_ffi_and_report_errors(span, ty, true, false);\n     }\n \n@@ -1301,7 +1301,7 @@ declare_lint_pass!(VariantSizeDifferences => [VARIANT_SIZE_DIFFERENCES]);\n impl<'tcx> LateLintPass<'tcx> for VariantSizeDifferences {\n     fn check_item(&mut self, cx: &LateContext<'_>, it: &hir::Item<'_>) {\n         if let hir::ItemKind::Enum(ref enum_definition, _) = it.kind {\n-            let t = cx.tcx.bound_type_of(it.owner_id).subst_identity();\n+            let t = cx.tcx.type_of(it.owner_id).subst_identity();\n             let ty = cx.tcx.erase_regions(t);\n             let Ok(layout) = cx.layout_of(ty) else { return };\n             let Variants::Multiple {\n@@ -1421,7 +1421,7 @@ impl InvalidAtomicOrdering {\n             && recognized_names.contains(&method_path.ident.name)\n             && let Some(m_def_id) = cx.typeck_results().type_dependent_def_id(expr.hir_id)\n             && let Some(impl_did) = cx.tcx.impl_of_method(m_def_id)\n-            && let Some(adt) = cx.tcx.bound_type_of(impl_did).subst_identity().ty_adt_def()\n+            && let Some(adt) = cx.tcx.type_of(impl_did).subst_identity().ty_adt_def()\n             // skip extension traits, only lint functions from the standard library\n             && cx.tcx.trait_id_of_impl(impl_did).is_none()\n             && let parent = cx.tcx.parent(adt.did())"}, {"sha": "ffb52d167b177e8d3fdad78d057deca3340b786a", "filename": "compiler/rustc_metadata/src/native_libs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_metadata%2Fsrc%2Fnative_libs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_metadata%2Fsrc%2Fnative_libs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_metadata%2Fsrc%2Fnative_libs.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -498,7 +498,7 @@ impl<'tcx> Collector<'tcx> {\n     fn i686_arg_list_size(&self, item: &hir::ForeignItemRef) -> usize {\n         let argument_types: &List<Ty<'_>> = self.tcx.erase_late_bound_regions(\n             self.tcx\n-                .bound_type_of(item.id.owner_id)\n+                .type_of(item.id.owner_id)\n                 .subst_identity()\n                 .fn_sig(self.tcx)\n                 .inputs()"}, {"sha": "3dd65519410e449913d4aa06b9430f2dbe3a11f8", "filename": "compiler/rustc_metadata/src/rmeta/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -369,7 +369,7 @@ define_tables! {\n     explicit_predicates_of: Table<DefIndex, LazyValue<ty::GenericPredicates<'static>>>,\n     generics_of: Table<DefIndex, LazyValue<ty::Generics>>,\n     super_predicates_of: Table<DefIndex, LazyValue<ty::GenericPredicates<'static>>>,\n-    type_of: Table<DefIndex, LazyValue<Ty<'static>>>,\n+    type_of: Table<DefIndex, LazyValue<ty::EarlyBinder<Ty<'static>>>>,\n     variances_of: Table<DefIndex, LazyArray<ty::Variance>>,\n     fn_sig: Table<DefIndex, LazyValue<ty::EarlyBinder<ty::PolyFnSig<'static>>>>,\n     codegen_fn_attrs: Table<DefIndex, LazyValue<CodegenFnAttrs>>,"}, {"sha": "dc89f762b764e4077aba272a2975d26d9e9de508", "filename": "compiler/rustc_middle/src/hir/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fhir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fhir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fhir%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -104,7 +104,7 @@ impl<'tcx> TyCtxt<'tcx> {\n         self.impl_trait_ref(def_id)\n             .map(|t| t.subst_identity())\n             .map(ImplSubject::Trait)\n-            .unwrap_or_else(|| ImplSubject::Inherent(self.bound_type_of(def_id).subst_identity()))\n+            .unwrap_or_else(|| ImplSubject::Inherent(self.type_of(def_id).subst_identity()))\n     }\n }\n "}, {"sha": "f955b312b238a72775264e8cba5a329da94e3045", "filename": "compiler/rustc_middle/src/mir/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -2497,7 +2497,7 @@ impl<'tcx> ConstantKind<'tcx> {\n         };\n         debug!(\"expr.kind: {:?}\", expr.kind);\n \n-        let ty = tcx.bound_type_of(def.def_id_for_type_of()).subst_identity();\n+        let ty = tcx.type_of(def.def_id_for_type_of()).subst_identity();\n         debug!(?ty);\n \n         // FIXME(const_generics): We currently have to special case parameters because `min_const_generics`"}, {"sha": "aa9f170477bcb27e8b6a504cbc8fd45fa7720054", "filename": "compiler/rustc_middle/src/mir/tcx.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fmir%2Ftcx.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fmir%2Ftcx.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fmir%2Ftcx.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -165,7 +165,7 @@ impl<'tcx> Rvalue<'tcx> {\n                 tcx.mk_array_with_const_len(operand.ty(local_decls, tcx), count)\n             }\n             Rvalue::ThreadLocalRef(did) => {\n-                let static_ty = tcx.bound_type_of(did).subst_identity();\n+                let static_ty = tcx.type_of(did).subst_identity();\n                 if tcx.is_mutable_static(did) {\n                     tcx.mk_mut_ptr(static_ty)\n                 } else if tcx.is_foreign_item(did) {\n@@ -202,9 +202,7 @@ impl<'tcx> Rvalue<'tcx> {\n             Rvalue::Aggregate(ref ak, ref ops) => match **ak {\n                 AggregateKind::Array(ty) => tcx.mk_array(ty, ops.len() as u64),\n                 AggregateKind::Tuple => tcx.mk_tup(ops.iter().map(|op| op.ty(local_decls, tcx))),\n-                AggregateKind::Adt(did, _, substs, _, _) => {\n-                    tcx.bound_type_of(did).subst(tcx, substs)\n-                }\n+                AggregateKind::Adt(did, _, substs, _, _) => tcx.type_of(did).subst(tcx, substs),\n                 AggregateKind::Closure(did, substs) => tcx.mk_closure(did, substs),\n                 AggregateKind::Generator(did, substs, movability) => {\n                     tcx.mk_generator(did, substs, movability)"}, {"sha": "1872b713876eaa6b862792ed165f0a4d3c38d176", "filename": "compiler/rustc_middle/src/query/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fquery%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -152,7 +152,7 @@ rustc_queries! {\n     /// to an alias, it will \"skip\" this alias to return the aliased type.\n     ///\n     /// [`DefId`]: rustc_hir::def_id::DefId\n-    query type_of(key: DefId) -> Ty<'tcx> {\n+    query type_of(key: DefId) -> ty::EarlyBinder<Ty<'tcx>> {\n         desc { |tcx|\n             \"{action} `{path}`\",\n             action = {"}, {"sha": "2f52767d12a3152a0a3c7a39eaee2af23d575b84", "filename": "compiler/rustc_middle/src/traits/specialization_graph.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Ftraits%2Fspecialization_graph.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Ftraits%2Fspecialization_graph.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Ftraits%2Fspecialization_graph.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -263,9 +263,7 @@ pub fn ancestors(\n \n     if let Some(reported) = specialization_graph.has_errored {\n         Err(reported)\n-    } else if let Err(reported) =\n-        tcx.bound_type_of(start_from_impl).subst_identity().error_reported()\n-    {\n+    } else if let Err(reported) = tcx.type_of(start_from_impl).subst_identity().error_reported() {\n         Err(reported)\n     } else {\n         Ok(Ancestors {"}, {"sha": "756776dc294b5d252c116ca4f48e3eb9cedeed88", "filename": "compiler/rustc_middle/src/ty/assoc.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fassoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fassoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fassoc.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -83,11 +83,7 @@ impl AssocItem {\n             }\n             ty::AssocKind::Type => format!(\"type {};\", self.name),\n             ty::AssocKind::Const => {\n-                format!(\n-                    \"const {}: {:?};\",\n-                    self.name,\n-                    tcx.bound_type_of(self.def_id).subst_identity()\n-                )\n+                format!(\"const {}: {:?};\", self.name, tcx.type_of(self.def_id).subst_identity())\n             }\n         }\n     }"}, {"sha": "d8a97240bfe444e568a1cd3b854efe36e6d07438", "filename": "compiler/rustc_middle/src/ty/consts.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fconsts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fconsts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fconsts.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -71,7 +71,7 @@ impl<'tcx> Const<'tcx> {\n         let expr = &tcx.hir().body(body_id).value;\n         debug!(?expr);\n \n-        let ty = tcx.bound_type_of(def.def_id_for_type_of()).subst_identity();\n+        let ty = tcx.type_of(def.def_id_for_type_of()).subst_identity();\n \n         match Self::try_eval_lit_or_param(tcx, ty, expr) {\n             Some(v) => v,"}, {"sha": "41d439cb1eb832174dbd28d06be1cad6c5925635", "filename": "compiler/rustc_middle/src/ty/context.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fcontext.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -1149,7 +1149,7 @@ impl<'tcx> TyCtxt<'tcx> {\n             _ => return None,\n         }\n \n-        let ret_ty = self.bound_type_of(scope_def_id).subst_identity();\n+        let ret_ty = self.type_of(scope_def_id).subst_identity();\n         match ret_ty.kind() {\n             ty::FnDef(_, _) => {\n                 let sig = ret_ty.fn_sig(self);\n@@ -1189,7 +1189,7 @@ impl<'tcx> TyCtxt<'tcx> {\n     pub fn caller_location_ty(self) -> Ty<'tcx> {\n         self.mk_imm_ref(\n             self.lifetimes.re_static,\n-            self.bound_type_of(self.require_lang_item(LangItem::PanicLocation, None))\n+            self.type_of(self.require_lang_item(LangItem::PanicLocation, None))\n                 .subst(self, self.mk_substs([self.lifetimes.re_static.into()].iter())),\n         )\n     }\n@@ -1754,7 +1754,7 @@ impl<'tcx> TyCtxt<'tcx> {\n                         ty_param.into()\n                     } else {\n                         assert!(has_default);\n-                        self.bound_type_of(param.def_id).subst(self, substs).into()\n+                        self.type_of(param.def_id).subst(self, substs).into()\n                     }\n                 }\n             });\n@@ -2002,7 +2002,7 @@ impl<'tcx> TyCtxt<'tcx> {\n             GenericParamDefKind::Const { .. } => self\n                 .mk_const(\n                     ParamConst { index: param.index, name: param.name },\n-                    self.bound_type_of(param.def_id).subst_identity(),\n+                    self.type_of(param.def_id).subst_identity(),\n                 )\n                 .into(),\n         }"}, {"sha": "a029c1b209df4adcf5493a96cbd62f1496a1e68b", "filename": "compiler/rustc_middle/src/ty/diagnostics.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fdiagnostics.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -481,7 +481,7 @@ impl<'tcx> TypeVisitor<TyCtxt<'tcx>> for IsSuggestableVisitor<'tcx> {\n \n             Alias(Opaque, AliasTy { def_id, .. }) => {\n                 let parent = self.tcx.parent(def_id);\n-                let parent_ty = self.tcx.bound_type_of(parent).subst_identity();\n+                let parent_ty = self.tcx.type_of(parent).subst_identity();\n                 if let DefKind::TyAlias | DefKind::AssocTy = self.tcx.def_kind(parent)\n                     && let Alias(Opaque, AliasTy { def_id: parent_opaque_def_id, .. }) = *parent_ty.kind()\n                     && parent_opaque_def_id == def_id\n@@ -565,7 +565,7 @@ impl<'tcx> FallibleTypeFolder<TyCtxt<'tcx>> for MakeSuggestableFolder<'tcx> {\n \n             Alias(Opaque, AliasTy { def_id, .. }) => {\n                 let parent = self.tcx.parent(def_id);\n-                let parent_ty = self.tcx.bound_type_of(parent).subst_identity();\n+                let parent_ty = self.tcx.type_of(parent).subst_identity();\n                 if let hir::def::DefKind::TyAlias | hir::def::DefKind::AssocTy = self.tcx.def_kind(parent)\n                     && let Alias(Opaque, AliasTy { def_id: parent_opaque_def_id, .. }) = *parent_ty.kind()\n                     && parent_opaque_def_id == def_id"}, {"sha": "35c036fef2ddc2d263d1d19c87f7f27ba18c1ac8", "filename": "compiler/rustc_middle/src/ty/generics.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fgenerics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fgenerics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fgenerics.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -85,7 +85,7 @@ impl GenericParamDef {\n     ) -> Option<EarlyBinder<ty::GenericArg<'tcx>>> {\n         match self.kind {\n             GenericParamDefKind::Type { has_default, .. } if has_default => {\n-                Some(tcx.bound_type_of(self.def_id).map_bound(|t| t.into()))\n+                Some(tcx.type_of(self.def_id).map_bound(|t| t.into()))\n             }\n             GenericParamDefKind::Const { has_default } if has_default => {\n                 Some(tcx.const_param_default(self.def_id).map_bound(|c| c.into()))\n@@ -103,7 +103,7 @@ impl GenericParamDef {\n             ty::GenericParamDefKind::Lifetime => tcx.mk_re_error_misc().into(),\n             ty::GenericParamDefKind::Type { .. } => tcx.ty_error().into(),\n             ty::GenericParamDefKind::Const { .. } => {\n-                tcx.const_error(tcx.bound_type_of(self.def_id).subst(tcx, preceding_substs)).into()\n+                tcx.const_error(tcx.type_of(self.def_id).subst(tcx, preceding_substs)).into()\n             }\n         }\n     }"}, {"sha": "355b8d8b43131a6c54d0ccc3e730efe1a52b9272", "filename": "compiler/rustc_middle/src/ty/inhabitedness/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Finhabitedness%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Finhabitedness%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Finhabitedness%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -87,7 +87,7 @@ impl<'tcx> VariantDef {\n         InhabitedPredicate::all(\n             tcx,\n             self.fields.iter().map(|field| {\n-                let pred = tcx.bound_type_of(field.did).subst_identity().inhabited_predicate(tcx);\n+                let pred = tcx.type_of(field.did).subst_identity().inhabited_predicate(tcx);\n                 if adt.is_enum() {\n                     return pred;\n                 }"}, {"sha": "c68a344e92c8a0d149225d6cd51bba81062d6872", "filename": "compiler/rustc_middle/src/ty/instance.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Finstance.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Finstance.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Finstance.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -102,7 +102,7 @@ impl<'tcx> Instance<'tcx> {\n     /// Returns the `Ty` corresponding to this `Instance`, with generic substitutions applied and\n     /// lifetimes erased, allowing a `ParamEnv` to be specified for use during normalization.\n     pub fn ty(&self, tcx: TyCtxt<'tcx>, param_env: ty::ParamEnv<'tcx>) -> Ty<'tcx> {\n-        let ty = tcx.bound_type_of(self.def.def_id());\n+        let ty = tcx.type_of(self.def.def_id());\n         tcx.subst_and_normalize_erasing_regions(self.substs, param_env, ty.skip_binder())\n     }\n \n@@ -662,7 +662,7 @@ fn polymorphize<'tcx>(\n     let def_id = instance.def_id();\n     let upvars_ty = if tcx.is_closure(def_id) {\n         Some(substs.as_closure().tupled_upvars_ty())\n-    } else if tcx.bound_type_of(def_id).skip_binder().is_generator() {\n+    } else if tcx.type_of(def_id).skip_binder().is_generator() {\n         Some(substs.as_generator().tupled_upvars_ty())\n     } else {\n         None"}, {"sha": "d1b686a0b0867f2f7a484496b03248b76c84f768", "filename": "compiler/rustc_middle/src/ty/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -2017,7 +2017,7 @@ impl<'tcx> FieldDef {\n     /// Returns the type of this field. The resulting type is not normalized. The `subst` is\n     /// typically obtained via the second field of [`TyKind::Adt`].\n     pub fn ty(&self, tcx: TyCtxt<'tcx>, subst: SubstsRef<'tcx>) -> Ty<'tcx> {\n-        tcx.bound_type_of(self.did).subst(tcx, subst)\n+        tcx.type_of(self.did).subst(tcx, subst)\n     }\n \n     /// Computes the `Ident` of this variant by looking up the `Span`"}, {"sha": "021c20b5854d2a5adff14d61105cbf0beb71c72b", "filename": "compiler/rustc_middle/src/ty/print/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -115,7 +115,7 @@ pub trait Printer<'tcx>: Sized {\n \n             DefPathData::Impl => {\n                 let generics = self.tcx().generics_of(def_id);\n-                let self_ty = self.tcx().bound_type_of(def_id);\n+                let self_ty = self.tcx().type_of(def_id);\n                 let impl_trait_ref = self.tcx().impl_trait_ref(def_id);\n                 let (self_ty, impl_trait_ref) = if substs.len() >= generics.count() {\n                     ("}, {"sha": "64d218e7e7a679290b7cea88414ab54e3fb206b4", "filename": "compiler/rustc_middle/src/ty/print/pretty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fpretty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fpretty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fprint%2Fpretty.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -754,7 +754,7 @@ pub trait PrettyPrinter<'tcx>:\n                         // NOTE: I know we should check for NO_QUERIES here, but it's alright.\n                         // `type_of` on a type alias or assoc type should never cause a cycle.\n                         if let ty::Alias(ty::Opaque, ty::AliasTy { def_id: d, .. }) =\n-                            *self.tcx().bound_type_of(parent).subst_identity().kind()\n+                            *self.tcx().type_of(parent).subst_identity().kind()\n                         {\n                             if d == def_id {\n                                 // If the type alias directly starts with the `impl` of the"}, {"sha": "9cf1f5eed0f2c406c56436eff4b7807f50791fbb", "filename": "compiler/rustc_middle/src/ty/query.rs", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fquery.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fquery.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fquery.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -435,10 +435,6 @@ impl<'tcx> TyCtxt<'tcx> {\n         self.opt_def_kind(def_id)\n             .unwrap_or_else(|| bug!(\"def_kind: unsupported node: {:?}\", def_id))\n     }\n-\n-    pub fn bound_type_of(self, def_id: impl IntoQueryParam<DefId>) -> ty::EarlyBinder<Ty<'tcx>> {\n-        ty::EarlyBinder(self.type_of(def_id))\n-    }\n }\n \n impl<'tcx> TyCtxtAt<'tcx> {\n@@ -447,8 +443,4 @@ impl<'tcx> TyCtxtAt<'tcx> {\n         self.opt_def_kind(def_id)\n             .unwrap_or_else(|| bug!(\"def_kind: unsupported node: {:?}\", def_id))\n     }\n-\n-    pub fn bound_type_of(self, def_id: impl IntoQueryParam<DefId>) -> ty::EarlyBinder<Ty<'tcx>> {\n-        ty::EarlyBinder(self.type_of(def_id))\n-    }\n }"}, {"sha": "322afeb2d340c78620285f65b30c9db4afc9a0fb", "filename": "compiler/rustc_middle/src/ty/relate.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Frelate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Frelate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Frelate.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -163,8 +163,7 @@ pub fn relate_substs_with_variances<'tcx, R: TypeRelation<'tcx>>(\n     let params = iter::zip(a_subst, b_subst).enumerate().map(|(i, (a, b))| {\n         let variance = variances[i];\n         let variance_info = if variance == ty::Invariant && fetch_ty_for_diag {\n-            let ty =\n-                *cached_ty.get_or_insert_with(|| tcx.bound_type_of(ty_def_id).subst(tcx, a_subst));\n+            let ty = *cached_ty.get_or_insert_with(|| tcx.type_of(ty_def_id).subst(tcx, a_subst));\n             ty::VarianceDiagInfo::Invariant { ty, param_index: i.try_into().unwrap() }\n         } else {\n             ty::VarianceDiagInfo::default()"}, {"sha": "8d2712b6c87e48e52beac4b0afbffb20e0802949", "filename": "compiler/rustc_middle/src/ty/sty.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fsty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Fsty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fsty.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -2268,7 +2268,7 @@ impl<'tcx> Ty<'tcx> {\n             ty::Str | ty::Slice(_) => (tcx.types.usize, false),\n             ty::Dynamic(..) => {\n                 let dyn_metadata = tcx.require_lang_item(LangItem::DynMetadata, None);\n-                (tcx.bound_type_of(dyn_metadata).subst(tcx, &[tail.into()]), false)\n+                (tcx.type_of(dyn_metadata).subst(tcx, &[tail.into()]), false)\n             },\n \n             // type parameters only have unit metadata if they're sized, so return true"}, {"sha": "a4a82bf247d03f8d41934f7a85365093967e6d0a", "filename": "compiler/rustc_middle/src/ty/trait_def.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Ftrait_def.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Ftrait_def.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Ftrait_def.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -225,7 +225,7 @@ pub(super) fn trait_impls_of_provider(tcx: TyCtxt<'_>, trait_id: DefId) -> Trait\n     for &impl_def_id in tcx.hir().trait_impls(trait_id) {\n         let impl_def_id = impl_def_id.to_def_id();\n \n-        let impl_self_ty = tcx.bound_type_of(impl_def_id).subst_identity();\n+        let impl_self_ty = tcx.type_of(impl_def_id).subst_identity();\n         if impl_self_ty.references_error() {\n             continue;\n         }"}, {"sha": "a34ee1a99a178e6eda16966ce1754b88d3d0419d", "filename": "compiler/rustc_middle/src/ty/util.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_middle%2Fsrc%2Fty%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Futil.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -362,7 +362,7 @@ impl<'tcx> TyCtxt<'tcx> {\n         let drop_trait = self.lang_items().drop_trait()?;\n         self.ensure().coherent_trait(drop_trait);\n \n-        let ty = self.bound_type_of(adt_did).subst_identity();\n+        let ty = self.type_of(adt_did).subst_identity();\n         let (did, constness) = self.find_map_relevant_impl(drop_trait, ty, |impl_did| {\n             if let Some(item_id) = self.associated_item_def_ids(impl_did).first() {\n                 if validate(self, impl_did).is_ok() {\n@@ -415,12 +415,12 @@ impl<'tcx> TyCtxt<'tcx> {\n         // <P1, P2, P0>, and then look up which of the impl substs refer to\n         // parameters marked as pure.\n \n-        let impl_substs = match *self.bound_type_of(impl_def_id).subst_identity().kind() {\n+        let impl_substs = match *self.type_of(impl_def_id).subst_identity().kind() {\n             ty::Adt(def_, substs) if def_ == def => substs,\n             _ => bug!(),\n         };\n \n-        let item_substs = match *self.bound_type_of(def.did()).subst_identity().kind() {\n+        let item_substs = match *self.type_of(def.did()).subst_identity().kind() {\n             ty::Adt(def_, substs) if def_ == def => substs,\n             _ => bug!(),\n         };\n@@ -604,7 +604,7 @@ impl<'tcx> TyCtxt<'tcx> {\n         // Make sure that any constants in the static's type are evaluated.\n         let static_ty = self.normalize_erasing_regions(\n             ty::ParamEnv::empty(),\n-            self.bound_type_of(def_id).subst_identity(),\n+            self.type_of(def_id).subst_identity(),\n         );\n \n         // Make sure that accesses to unsafe statics end up using raw pointers.\n@@ -793,7 +793,7 @@ impl<'tcx> OpaqueTypeExpander<'tcx> {\n             let expanded_ty = match self.expanded_cache.get(&(def_id, substs)) {\n                 Some(expanded_ty) => *expanded_ty,\n                 None => {\n-                    let generic_ty = self.tcx.bound_type_of(def_id);\n+                    let generic_ty = self.tcx.type_of(def_id);\n                     let concrete_ty = generic_ty.subst(self.tcx, substs);\n                     let expanded_ty = self.fold_ty(concrete_ty);\n                     self.expanded_cache.insert((def_id, substs), expanded_ty);"}, {"sha": "933b1158fa6ea1523bf10f1395f1932e3eef175f", "filename": "compiler/rustc_mir_build/src/build/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_build%2Fsrc%2Fbuild%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_build%2Fsrc%2Fbuild%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_build%2Fsrc%2Fbuild%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -643,7 +643,7 @@ fn construct_error(\n     let num_params = match body_owner_kind {\n         hir::BodyOwnerKind::Fn => tcx.fn_sig(def).skip_binder().inputs().skip_binder().len(),\n         hir::BodyOwnerKind::Closure => {\n-            let ty = tcx.bound_type_of(def).subst_identity();\n+            let ty = tcx.type_of(def).subst_identity();\n             match ty.kind() {\n                 ty::Closure(_, substs) => {\n                     1 + substs.as_closure().sig().inputs().skip_binder().len()"}, {"sha": "3b7ceb3adccb012d8f41a32b7acf059c08648875", "filename": "compiler/rustc_mir_build/src/thir/cx/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fcx%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fcx%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_build%2Fsrc%2Fthir%2Fcx%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -193,7 +193,7 @@ impl<'tcx> Cx<'tcx> {\n                 let va_list_did = self.tcx.require_lang_item(LangItem::VaList, Some(param.span));\n \n                 self.tcx\n-                    .bound_type_of(va_list_did)\n+                    .type_of(va_list_did)\n                     .subst(self.tcx, &[self.tcx.lifetimes.re_erased.into()])\n             } else {\n                 fn_sig.inputs()[index]"}, {"sha": "9b4b720702b6f76818989eba76cc26ea6b3c332e", "filename": "compiler/rustc_mir_transform/src/abort_unwinding_calls.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fabort_unwinding_calls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fabort_unwinding_calls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Fabort_unwinding_calls.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -41,7 +41,7 @@ impl<'tcx> MirPass<'tcx> for AbortUnwindingCalls {\n         //\n         // Here we test for this function itself whether its ABI allows\n         // unwinding or not.\n-        let body_ty = tcx.bound_type_of(def_id).skip_binder();\n+        let body_ty = tcx.type_of(def_id).skip_binder();\n         let body_abi = match body_ty.kind() {\n             ty::FnDef(..) => body_ty.fn_sig(tcx).abi(),\n             ty::Closure(..) => Abi::RustCall,"}, {"sha": "13f064aa72e5edae3f847b1e6cffeddafad911cd", "filename": "compiler/rustc_mir_transform/src/const_prop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fconst_prop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fconst_prop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Fconst_prop.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -82,7 +82,7 @@ impl<'tcx> MirPass<'tcx> for ConstProp {\n             return;\n         }\n \n-        let is_generator = tcx.bound_type_of(def_id.to_def_id()).subst_identity().is_generator();\n+        let is_generator = tcx.type_of(def_id.to_def_id()).subst_identity().is_generator();\n         // FIXME(welseywiser) const prop doesn't work on generators because of query cycles\n         // computing their layout.\n         if is_generator {"}, {"sha": "be41d611fe485a5726f433eb37126949fd71206d", "filename": "compiler/rustc_mir_transform/src/const_prop_lint.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fconst_prop_lint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fconst_prop_lint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Fconst_prop_lint.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -57,7 +57,7 @@ impl<'tcx> MirLint<'tcx> for ConstProp {\n             return;\n         }\n \n-        let is_generator = tcx.bound_type_of(def_id.to_def_id()).subst_identity().is_generator();\n+        let is_generator = tcx.type_of(def_id.to_def_id()).subst_identity().is_generator();\n         // FIXME(welseywiser) const prop doesn't work on generators because of query cycles\n         // computing their layout.\n         if is_generator {"}, {"sha": "89ca04a158270680eb49061f7a3054cb18fe4ff5", "filename": "compiler/rustc_mir_transform/src/deduce_param_attrs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fdeduce_param_attrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fdeduce_param_attrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Fdeduce_param_attrs.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -163,7 +163,7 @@ pub fn deduced_param_attrs<'tcx>(tcx: TyCtxt<'tcx>, def_id: DefId) -> &'tcx [Ded\n \n     // Codegen won't use this information for anything if all the function parameters are passed\n     // directly. Detect that and bail, for compilation speed.\n-    let fn_ty = tcx.bound_type_of(def_id).subst_identity();\n+    let fn_ty = tcx.type_of(def_id).subst_identity();\n     if matches!(fn_ty.kind(), ty::FnDef(..)) {\n         if fn_ty\n             .fn_sig(tcx)"}, {"sha": "dc583471c89d1e2d634171249bc8e0c52745dedd", "filename": "compiler/rustc_mir_transform/src/elaborate_box_derefs.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Felaborate_box_derefs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Felaborate_box_derefs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Felaborate_box_derefs.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -18,8 +18,8 @@ pub fn build_ptr_tys<'tcx>(\n     nonnull_did: DefId,\n ) -> (Ty<'tcx>, Ty<'tcx>, Ty<'tcx>) {\n     let substs = tcx.intern_substs(&[pointee.into()]);\n-    let unique_ty = tcx.bound_type_of(unique_did).subst(tcx, substs);\n-    let nonnull_ty = tcx.bound_type_of(nonnull_did).subst(tcx, substs);\n+    let unique_ty = tcx.type_of(unique_did).subst(tcx, substs);\n+    let nonnull_ty = tcx.type_of(nonnull_did).subst(tcx, substs);\n     let ptr_ty = tcx.mk_imm_ptr(pointee);\n \n     (unique_ty, nonnull_ty, ptr_ty)\n@@ -93,7 +93,7 @@ impl<'tcx> MirPass<'tcx> for ElaborateBoxDerefs {\n         if let Some(def_id) = tcx.lang_items().owned_box() {\n             let unique_did = tcx.adt_def(def_id).non_enum_variant().fields[0].did;\n \n-            let Some(nonnull_def) = tcx.bound_type_of(unique_did).subst_identity().ty_adt_def() else {\n+            let Some(nonnull_def) = tcx.type_of(unique_did).subst_identity().ty_adt_def() else {\n                 span_bug!(tcx.def_span(unique_did), \"expected Box to contain Unique\")\n             };\n "}, {"sha": "e6546911a2d0dcedf6bf61ad4ff1b902e1af58a8", "filename": "compiler/rustc_mir_transform/src/ffi_unwind_calls.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fffi_unwind_calls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fffi_unwind_calls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Fffi_unwind_calls.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -49,7 +49,7 @@ fn has_ffi_unwind_calls(tcx: TyCtxt<'_>, local_def_id: LocalDefId) -> bool {\n \n     let body = &*tcx.mir_built(ty::WithOptConstParam::unknown(local_def_id)).borrow();\n \n-    let body_ty = tcx.bound_type_of(def_id).skip_binder();\n+    let body_ty = tcx.type_of(def_id).skip_binder();\n     let body_abi = match body_ty.kind() {\n         ty::FnDef(..) => body_ty.fn_sig(tcx).abi(),\n         ty::Closure(..) => Abi::RustCall,"}, {"sha": "44b94f1c1a51b61a07c7b39d1b34f65fe72958a3", "filename": "compiler/rustc_mir_transform/src/inline.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Finline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Finline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Finline.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -900,7 +900,7 @@ impl<'tcx> Visitor<'tcx> for CostChecker<'_, 'tcx> {\n \n             let kind = match parent_ty.ty.kind() {\n                 &ty::Alias(ty::Opaque, ty::AliasTy { def_id, substs, .. }) => {\n-                    self.tcx.bound_type_of(def_id).subst(self.tcx, substs).kind()\n+                    self.tcx.type_of(def_id).subst(self.tcx, substs).kind()\n                 }\n                 kind => kind,\n             };"}, {"sha": "1becfddb23bd0bb432c8e801ba4b3d34bb6cdb9e", "filename": "compiler/rustc_mir_transform/src/remove_zsts.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fremove_zsts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fremove_zsts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Fremove_zsts.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -13,7 +13,7 @@ impl<'tcx> MirPass<'tcx> for RemoveZsts {\n \n     fn run_pass(&self, tcx: TyCtxt<'tcx>, body: &mut Body<'tcx>) {\n         // Avoid query cycles (generators require optimized MIR for layout).\n-        if tcx.bound_type_of(body.source.def_id()).subst_identity().is_generator() {\n+        if tcx.type_of(body.source.def_id()).subst_identity().is_generator() {\n             return;\n         }\n         let param_env = tcx.param_env(body.source.def_id());"}, {"sha": "7f388b065ade4c45424cf405ee59fd0b9f549322", "filename": "compiler/rustc_mir_transform/src/shim.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fshim.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_mir_transform%2Fsrc%2Fshim.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Fshim.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -692,7 +692,7 @@ fn build_call_shim<'tcx>(\n \n         // `FnDef` call with optional receiver.\n         CallKind::Direct(def_id) => {\n-            let ty = tcx.bound_type_of(def_id).subst_identity();\n+            let ty = tcx.type_of(def_id).subst_identity();\n             (\n                 Operand::Constant(Box::new(Constant {\n                     span,"}, {"sha": "55a9f912e085880d0b1b1c00ca514123719376cf", "filename": "compiler/rustc_monomorphize/src/collector.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_monomorphize%2Fsrc%2Fcollector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_monomorphize%2Fsrc%2Fcollector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_monomorphize%2Fsrc%2Fcollector.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -1196,8 +1196,7 @@ impl<'v> RootCollector<'_, 'v> {\n                 {\n                     debug!(\"RootCollector: ADT drop-glue for `{id:?}`\",);\n \n-                    let ty =\n-                        self.tcx.bound_type_of(id.owner_id.to_def_id()).no_bound_vars().unwrap();\n+                    let ty = self.tcx.type_of(id.owner_id.to_def_id()).no_bound_vars().unwrap();\n                     visit_drop_use(self.tcx, ty, true, DUMMY_SP, self.output);\n                 }\n             }"}, {"sha": "62bafb981e7782afdf946bb9335ab2c067704111", "filename": "compiler/rustc_monomorphize/src/partitioning/default.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_monomorphize%2Fsrc%2Fpartitioning%2Fdefault.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_monomorphize%2Fsrc%2Fpartitioning%2Fdefault.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_monomorphize%2Fsrc%2Fpartitioning%2Fdefault.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -308,7 +308,7 @@ fn characteristic_def_id_of_mono_item<'tcx>(\n                     let impl_self_ty = tcx.subst_and_normalize_erasing_regions(\n                         instance.substs,\n                         ty::ParamEnv::reveal_all(),\n-                        tcx.bound_type_of(impl_def_id).skip_binder(),\n+                        tcx.type_of(impl_def_id).skip_binder(),\n                     );\n                     if let Some(def_id) = characteristic_def_id_of_type(impl_self_ty) {\n                         return Some(def_id);"}, {"sha": "dcc262ca14a8dfc5cd72578da66c4eeb7405c7b2", "filename": "compiler/rustc_passes/src/check_attr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_passes%2Fsrc%2Fcheck_attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_passes%2Fsrc%2Fcheck_attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Fcheck_attr.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -2174,7 +2174,7 @@ impl CheckAttrVisitor<'_> {\n         let tcx = self.tcx;\n         if target == Target::Fn {\n             let Some(tokenstream) = tcx.get_diagnostic_item(sym::TokenStream) else {return};\n-            let tokenstream = tcx.bound_type_of(tokenstream).subst_identity();\n+            let tokenstream = tcx.type_of(tokenstream).subst_identity();\n \n             let id = hir_id.expect_owner();\n             let hir_sig = tcx.hir().fn_sig_by_hir_id(hir_id).unwrap();"}, {"sha": "76c59d984df8e7d4eb725db6d7b2fbe369764450", "filename": "compiler/rustc_passes/src/dead.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_passes%2Fsrc%2Fdead.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_passes%2Fsrc%2Fdead.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Fdead.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -315,7 +315,7 @@ impl<'tcx> MarkSymbolVisitor<'tcx> {\n                     //// This is done to handle the case where, for example, the static\n                     //// method of a private type is used, but the type itself is never\n                     //// called directly.\n-                    let self_ty = self.tcx.bound_type_of(item).subst_identity();\n+                    let self_ty = self.tcx.type_of(item).subst_identity();\n                     match *self_ty.kind() {\n                         ty::Adt(def, _) => self.check_def_id(def.did()),\n                         ty::Foreign(did) => self.check_def_id(did),\n@@ -654,7 +654,7 @@ impl<'tcx> DeadVisitor<'tcx> {\n         if self.live_symbols.contains(&field.did.expect_local()) {\n             return ShouldWarnAboutField::No;\n         }\n-        let field_type = self.tcx.bound_type_of(field.did).subst_identity();\n+        let field_type = self.tcx.type_of(field.did).subst_identity();\n         if field_type.is_phantom_data() {\n             return ShouldWarnAboutField::No;\n         }"}, {"sha": "047b9b525e8540e3b85358ee9ffe1c2ed8393470", "filename": "compiler/rustc_passes/src/layout_test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_passes%2Fsrc%2Flayout_test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_passes%2Fsrc%2Flayout_test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Flayout_test.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -29,7 +29,7 @@ pub fn test_layout(tcx: TyCtxt<'_>) {\n fn dump_layout_of(tcx: TyCtxt<'_>, item_def_id: LocalDefId, attr: &Attribute) {\n     let tcx = tcx;\n     let param_env = tcx.param_env(item_def_id);\n-    let ty = tcx.bound_type_of(item_def_id).subst_identity();\n+    let ty = tcx.type_of(item_def_id).subst_identity();\n     match tcx.layout_of(param_env.and(ty)) {\n         Ok(ty_layout) => {\n             // Check out the `#[rustc_layout(..)]` attribute to tell what to dump."}, {"sha": "478dd431c48890ce5120d76b87a783784dbbbede", "filename": "compiler/rustc_privacy/src/lib.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_privacy%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_privacy%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_privacy%2Fsrc%2Flib.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -207,7 +207,7 @@ where\n                 // so we need to visit the self type additionally.\n                 if let Some(assoc_item) = tcx.opt_associated_item(def_id) {\n                     if let Some(impl_def_id) = assoc_item.impl_container(tcx) {\n-                        tcx.bound_type_of(impl_def_id).subst_identity().visit_with(self)?;\n+                        tcx.type_of(impl_def_id).subst_identity().visit_with(self)?;\n                     }\n                 }\n             }\n@@ -341,7 +341,7 @@ trait VisibilityLike: Sized {\n         effective_visibilities: &EffectiveVisibilities,\n     ) -> Self {\n         let mut find = FindMin { tcx, effective_visibilities, min: Self::MAX };\n-        find.visit(tcx.bound_type_of(def_id).subst_identity());\n+        find.visit(tcx.type_of(def_id).subst_identity());\n         if let Some(trait_ref) = tcx.impl_trait_ref(def_id) {\n             find.visit_trait(trait_ref.subst_identity());\n         }\n@@ -837,11 +837,11 @@ impl ReachEverythingInTheInterfaceVisitor<'_, '_> {\n                 GenericParamDefKind::Lifetime => {}\n                 GenericParamDefKind::Type { has_default, .. } => {\n                     if has_default {\n-                        self.visit(self.ev.tcx.bound_type_of(param.def_id).subst_identity());\n+                        self.visit(self.ev.tcx.type_of(param.def_id).subst_identity());\n                     }\n                 }\n                 GenericParamDefKind::Const { has_default } => {\n-                    self.visit(self.ev.tcx.bound_type_of(param.def_id).subst_identity());\n+                    self.visit(self.ev.tcx.type_of(param.def_id).subst_identity());\n                     if has_default {\n                         self.visit(self.ev.tcx.const_param_default(param.def_id).subst_identity());\n                     }\n@@ -857,7 +857,7 @@ impl ReachEverythingInTheInterfaceVisitor<'_, '_> {\n     }\n \n     fn ty(&mut self) -> &mut Self {\n-        self.visit(self.ev.tcx.bound_type_of(self.item_def_id).subst_identity());\n+        self.visit(self.ev.tcx.type_of(self.item_def_id).subst_identity());\n         self\n     }\n \n@@ -1268,7 +1268,7 @@ impl<'tcx> Visitor<'tcx> for TypePrivacyVisitor<'tcx> {\n                 // Method calls have to be checked specially.\n                 self.span = segment.ident.span;\n                 if let Some(def_id) = self.typeck_results().type_dependent_def_id(expr.hir_id) {\n-                    if self.visit(self.tcx.bound_type_of(def_id).subst_identity()).is_break() {\n+                    if self.visit(self.tcx.type_of(def_id).subst_identity()).is_break() {\n                         return;\n                     }\n                 } else {\n@@ -1742,12 +1742,12 @@ impl SearchInterfaceForPrivateItemsVisitor<'_> {\n                 GenericParamDefKind::Lifetime => {}\n                 GenericParamDefKind::Type { has_default, .. } => {\n                     if has_default {\n-                        self.visit(self.tcx.bound_type_of(param.def_id).subst_identity());\n+                        self.visit(self.tcx.type_of(param.def_id).subst_identity());\n                     }\n                 }\n                 // FIXME(generic_const_exprs): May want to look inside const here\n                 GenericParamDefKind::Const { .. } => {\n-                    self.visit(self.tcx.bound_type_of(param.def_id).subst_identity());\n+                    self.visit(self.tcx.type_of(param.def_id).subst_identity());\n                 }\n             }\n         }\n@@ -1774,7 +1774,7 @@ impl SearchInterfaceForPrivateItemsVisitor<'_> {\n     }\n \n     fn ty(&mut self) -> &mut Self {\n-        self.visit(self.tcx.bound_type_of(self.item_def_id).subst_identity());\n+        self.visit(self.tcx.type_of(self.item_def_id).subst_identity());\n         self\n     }\n "}, {"sha": "744e8a4320e30b9505ad42b934fe4ecaa7388185", "filename": "compiler/rustc_symbol_mangling/src/legacy.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_symbol_mangling%2Fsrc%2Flegacy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_symbol_mangling%2Fsrc%2Flegacy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_symbol_mangling%2Fsrc%2Flegacy.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -26,7 +26,7 @@ pub(super) fn mangle<'tcx>(\n         let key = tcx.def_key(ty_def_id);\n         match key.disambiguated_data.data {\n             DefPathData::TypeNs(_) | DefPathData::ValueNs(_) => {\n-                instance_ty = tcx.bound_type_of(ty_def_id).subst_identity();\n+                instance_ty = tcx.type_of(ty_def_id).subst_identity();\n                 debug!(?instance_ty);\n                 break;\n             }"}, {"sha": "949ef04dd4d06c1d74e6259490357dd10684ae4c", "filename": "compiler/rustc_symbol_mangling/src/typeid/typeid_itanium_cxx_abi.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_symbol_mangling%2Fsrc%2Ftypeid%2Ftypeid_itanium_cxx_abi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_symbol_mangling%2Fsrc%2Ftypeid%2Ftypeid_itanium_cxx_abi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_symbol_mangling%2Fsrc%2Ftypeid%2Ftypeid_itanium_cxx_abi.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -696,13 +696,13 @@ fn transform_ty<'tcx>(tcx: TyCtxt<'tcx>, ty: Ty<'tcx>, options: TransformTyOptio\n                 let variant = adt_def.non_enum_variant();\n                 let param_env = tcx.param_env(variant.def_id);\n                 let field = variant.fields.iter().find(|field| {\n-                    let ty = tcx.bound_type_of(field.did).subst_identity();\n+                    let ty = tcx.type_of(field.did).subst_identity();\n                     let is_zst =\n                         tcx.layout_of(param_env.and(ty)).map_or(false, |layout| layout.is_zst());\n                     !is_zst\n                 });\n                 if let Some(field) = field {\n-                    let ty0 = tcx.bound_type_of(field.did).subst(tcx, substs);\n+                    let ty0 = tcx.type_of(field.did).subst(tcx, substs);\n                     // Generalize any repr(transparent) user-defined type that is either a pointer\n                     // or reference, and either references itself or any other type that contains or\n                     // references itself, to avoid a reference cycle."}, {"sha": "883342148f400733883c9a2265f742bd30357aca", "filename": "compiler/rustc_trait_selection/src/solve/project_goals.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Fsolve%2Fproject_goals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Fsolve%2Fproject_goals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Fsolve%2Fproject_goals.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -244,7 +244,7 @@ impl<'tcx> assembly::GoalKind<'tcx> for ProjectionPredicate<'tcx> {\n \n             // Finally we construct the actual value of the associated type.\n             let is_const = matches!(tcx.def_kind(assoc_def.item.def_id), DefKind::AssocConst);\n-            let ty = tcx.bound_type_of(assoc_def.item.def_id);\n+            let ty = tcx.type_of(assoc_def.item.def_id);\n             let term: ty::EarlyBinder<ty::Term<'tcx>> = if is_const {\n                 let identity_substs =\n                     ty::InternalSubsts::identity_for_item(tcx, assoc_def.item.def_id);\n@@ -388,7 +388,7 @@ impl<'tcx> assembly::GoalKind<'tcx> for ProjectionPredicate<'tcx> {\n \n                 ty::Dynamic(_, _, _) => {\n                     let dyn_metadata = tcx.require_lang_item(LangItem::DynMetadata, None);\n-                    tcx.bound_type_of(dyn_metadata)\n+                    tcx.type_of(dyn_metadata)\n                         .subst(tcx, &[ty::GenericArg::from(goal.predicate.self_ty())])\n                 }\n "}, {"sha": "0921fb5756d665eccdf580043c6a0ba75b75bbe0", "filename": "compiler/rustc_trait_selection/src/solve/trait_goals.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Fsolve%2Ftrait_goals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Fsolve%2Ftrait_goals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Fsolve%2Ftrait_goals.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -326,7 +326,7 @@ impl<'tcx> assembly::GoalKind<'tcx> for TraitPredicate<'tcx> {\n                         .fields\n                         .last()\n                         .expect(\"expected unsized ADT to have a tail field\");\n-                    let tail_field_ty = tcx.bound_type_of(tail_field.did);\n+                    let tail_field_ty = tcx.type_of(tail_field.did);\n \n                     let a_tail_ty = tail_field_ty.subst(tcx, a_substs);\n                     let b_tail_ty = tail_field_ty.subst(tcx, b_substs);"}, {"sha": "b6847b976be6ecdcd9805d5feec5e2966a9ac01c", "filename": "compiler/rustc_trait_selection/src/solve/trait_goals/structural_traits.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Fsolve%2Ftrait_goals%2Fstructural_traits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Fsolve%2Ftrait_goals%2Fstructural_traits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Fsolve%2Ftrait_goals%2Fstructural_traits.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -68,7 +68,7 @@ pub(super) fn instantiate_constituent_tys_for_auto_trait<'tcx>(\n             // We can resolve the `impl Trait` to its concrete type,\n             // which enforces a DAG between the functions requiring\n             // the auto trait bounds in question.\n-            Ok(vec![tcx.bound_type_of(def_id).subst(tcx, substs)])\n+            Ok(vec![tcx.type_of(def_id).subst(tcx, substs)])\n         }\n     }\n }"}, {"sha": "599238e405dea97a56c3eb3933da8fd6a4b633c0", "filename": "compiler/rustc_trait_selection/src/traits/coherence.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fcoherence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fcoherence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fcoherence.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -82,8 +82,8 @@ pub fn overlapping_impls(\n         (Some(a), Some(b)) => iter::zip(a.skip_binder().substs, b.skip_binder().substs)\n             .all(|(arg1, arg2)| drcx.generic_args_may_unify(arg1, arg2)),\n         (None, None) => {\n-            let self_ty1 = tcx.bound_type_of(impl1_def_id).skip_binder();\n-            let self_ty2 = tcx.bound_type_of(impl2_def_id).skip_binder();\n+            let self_ty1 = tcx.type_of(impl1_def_id).skip_binder();\n+            let self_ty2 = tcx.type_of(impl2_def_id).skip_binder();\n             drcx.types_may_unify(self_ty1, self_ty2)\n         }\n         _ => bug!(\"unexpected impls: {impl1_def_id:?} {impl2_def_id:?}\"),\n@@ -124,7 +124,7 @@ fn with_fresh_ty_vars<'cx, 'tcx>(\n \n     let header = ty::ImplHeader {\n         impl_def_id,\n-        self_ty: tcx.bound_type_of(impl_def_id).subst(tcx, impl_substs),\n+        self_ty: tcx.type_of(impl_def_id).subst(tcx, impl_substs),\n         trait_ref: tcx.impl_trait_ref(impl_def_id).map(|i| i.subst(tcx, impl_substs)),\n         predicates: tcx.predicates_of(impl_def_id).instantiate(tcx, impl_substs).predicates,\n     };"}, {"sha": "adc4e950dff2b63d91c942910bdb27c704673389", "filename": "compiler/rustc_trait_selection/src/traits/error_reporting/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -2432,7 +2432,7 @@ impl<'tcx> InferCtxtPrivExt<'tcx> for TypeErrCtxt<'_, 'tcx> {\n                             };\n                             let mut suggestions = vec![(\n                                 path.span.shrink_to_lo(),\n-                                format!(\"<{} as \", self.tcx.bound_type_of(impl_def_id).subst_identity())\n+                                format!(\"<{} as \", self.tcx.type_of(impl_def_id).subst_identity())\n                             )];\n                             if let Some(generic_arg) = trait_path_segment.args {\n                                 let between_span = trait_path_segment.ident.span.between(generic_arg.span_ext);"}, {"sha": "7238ea4e9598bf18e7edd921e5114a4e90e143f5", "filename": "compiler/rustc_trait_selection/src/traits/error_reporting/on_unimplemented.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fon_unimplemented.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fon_unimplemented.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Ferror_reporting%2Fon_unimplemented.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -202,7 +202,7 @@ impl<'tcx> TypeErrCtxtExt<'tcx> for TypeErrCtxt<'_, 'tcx> {\n                 // signature with no type arguments resolved\n                 flags.push((\n                     sym::_Self,\n-                    Some(self.tcx.bound_type_of(def.did()).subst_identity().to_string()),\n+                    Some(self.tcx.type_of(def.did()).subst_identity().to_string()),\n                 ));\n             }\n \n@@ -223,7 +223,7 @@ impl<'tcx> TypeErrCtxtExt<'tcx> for TypeErrCtxt<'_, 'tcx> {\n                         // original signature with no type arguments resolved\n                         flags.push((\n                             name,\n-                            Some(self.tcx.bound_type_of(def.did()).subst_identity().to_string()),\n+                            Some(self.tcx.type_of(def.did()).subst_identity().to_string()),\n                         ));\n                     }\n                 }\n@@ -259,7 +259,7 @@ impl<'tcx> TypeErrCtxtExt<'tcx> for TypeErrCtxt<'_, 'tcx> {\n                     // signature with no type arguments resolved\n                     flags.push((\n                         sym::_Self,\n-                        Some(format!(\"[{}]\", self.tcx.bound_type_of(def.did()).subst_identity())),\n+                        Some(format!(\"[{}]\", self.tcx.type_of(def.did()).subst_identity())),\n                     ));\n                 }\n                 if aty.is_integral() {\n@@ -278,7 +278,7 @@ impl<'tcx> TypeErrCtxtExt<'tcx> for TypeErrCtxt<'_, 'tcx> {\n                 if let Some(def) = aty.ty_adt_def() {\n                     // We also want to be able to select the array's type's original\n                     // signature with no type arguments resolved\n-                    let def_ty = self.tcx.bound_type_of(def.did()).subst_identity();\n+                    let def_ty = self.tcx.type_of(def.did()).subst_identity();\n                     flags.push((sym::_Self, Some(format!(\"[{def_ty}; _]\"))));\n                     if let Some(n) = len {\n                         flags.push((sym::_Self, Some(format!(\"[{def_ty}; {n}]\"))));"}, {"sha": "011fe742a69cd3e4024142860eb8d9299c11b408", "filename": "compiler/rustc_trait_selection/src/traits/project.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fproject.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fproject.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fproject.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -514,7 +514,7 @@ impl<'a, 'b, 'tcx> TypeFolder<TyCtxt<'tcx>> for AssocTypeNormalizer<'a, 'b, 'tcx\n                         }\n \n                         let substs = substs.fold_with(self);\n-                        let generic_ty = self.interner().bound_type_of(def_id);\n+                        let generic_ty = self.interner().type_of(def_id);\n                         let concrete_ty = generic_ty.subst(self.interner(), substs);\n                         self.depth += 1;\n                         let folded_ty = self.fold_ty(concrete_ty);\n@@ -2138,7 +2138,7 @@ fn confirm_impl_candidate<'cx, 'tcx>(\n     let substs = obligation.predicate.substs.rebase_onto(tcx, trait_def_id, substs);\n     let substs =\n         translate_substs(selcx.infcx, param_env, impl_def_id, substs, assoc_ty.defining_node);\n-    let ty = tcx.bound_type_of(assoc_ty.item.def_id);\n+    let ty = tcx.type_of(assoc_ty.item.def_id);\n     let is_const = matches!(tcx.def_kind(assoc_ty.item.def_id), DefKind::AssocConst);\n     let term: ty::EarlyBinder<ty::Term<'tcx>> = if is_const {\n         let identity_substs ="}, {"sha": "a266013b8fd4fb9a0b7cb725a2d8f40d1bdfcc6d", "filename": "compiler/rustc_trait_selection/src/traits/query/normalize.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fquery%2Fnormalize.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fquery%2Fnormalize.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fquery%2Fnormalize.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -228,7 +228,7 @@ impl<'cx, 'tcx> FallibleTypeFolder<TyCtxt<'tcx>> for QueryNormalizer<'cx, 'tcx>\n                             return ty.try_super_fold_with(self);\n                         }\n \n-                        let generic_ty = self.interner().bound_type_of(def_id);\n+                        let generic_ty = self.interner().type_of(def_id);\n                         let concrete_ty = generic_ty.subst(self.interner(), substs);\n                         self.anon_depth += 1;\n                         if concrete_ty == ty {"}, {"sha": "bb6bc9e37440ed379852144d0c48f5a58151fe30", "filename": "compiler/rustc_trait_selection/src/traits/select/confirmation.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fconfirmation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fconfirmation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fconfirmation.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -557,7 +557,7 @@ impl<'cx, 'tcx> SelectionContext<'cx, 'tcx> {\n                                         ty::INNERMOST,\n                                         ty::BoundVar::from_usize(bound_vars.len() - 1),\n                                     ),\n-                                    tcx.bound_type_of(param.def_id).subst_identity(),\n+                                    tcx.type_of(param.def_id).subst_identity(),\n                                 )\n                                 .into()\n                             }\n@@ -1073,7 +1073,7 @@ impl<'cx, 'tcx> SelectionContext<'cx, 'tcx> {\n                     .fields\n                     .last()\n                     .expect(\"expected unsized ADT to have a tail field\");\n-                let tail_field_ty = tcx.bound_type_of(tail_field.did);\n+                let tail_field_ty = tcx.type_of(tail_field.did);\n \n                 // Extract `TailField<T>` and `TailField<U>` from `Struct<T>` and `Struct<U>`,\n                 // normalizing in the process, since `type_of` returns something directly from"}, {"sha": "d5621ab3739cb3c7d814e39dd16d5bd03a2da357", "filename": "compiler/rustc_trait_selection/src/traits/select/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fselect%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -2350,7 +2350,7 @@ impl<'cx, 'tcx> SelectionContext<'cx, 'tcx> {\n                 // We can resolve the `impl Trait` to its concrete type,\n                 // which enforces a DAG between the functions requiring\n                 // the auto trait bounds in question.\n-                t.rebind(vec![self.tcx().bound_type_of(def_id).subst(self.tcx(), substs)])\n+                t.rebind(vec![self.tcx().type_of(def_id).subst(self.tcx(), substs)])\n             }\n         }\n     }"}, {"sha": "d1d6a7a90cf74b29916e314b90daad76fa6fb492", "filename": "compiler/rustc_trait_selection/src/traits/specialize/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fspecialize%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fspecialize%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fspecialize%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -459,7 +459,7 @@ pub(crate) fn to_pretty_impl_header(tcx: TyCtxt<'_>, impl_def_id: DefId) -> Opti\n         w,\n         \" {} for {}\",\n         trait_ref.print_only_trait_path(),\n-        tcx.bound_type_of(impl_def_id).subst_identity()\n+        tcx.type_of(impl_def_id).subst_identity()\n     )\n     .unwrap();\n "}, {"sha": "e2b5d17e07300d90967de9a19535e93e2ee4f3ad", "filename": "compiler/rustc_traits/src/chalk/db.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_traits%2Fsrc%2Fchalk%2Fdb.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_traits%2Fsrc%2Fchalk%2Fdb.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_traits%2Fsrc%2Fchalk%2Fdb.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -246,7 +246,7 @@ impl<'tcx> chalk_solve::RustIrDatabase<RustInterner<'tcx>> for RustIrDatabase<'t\n \n         // Grab the ADT and the param we might need to calculate its layout\n         let param_env = tcx.param_env(did);\n-        let adt_ty = tcx.bound_type_of(did).subst_identity();\n+        let adt_ty = tcx.type_of(did).subst_identity();\n \n         // The ADT is a 1-zst if it's a ZST and its alignment is 1.\n         // Mark the ADT as _not_ a 1-zst if there was a layout error.\n@@ -468,7 +468,7 @@ impl<'tcx> chalk_solve::RustIrDatabase<RustInterner<'tcx>> for RustIrDatabase<'t\n         let ty = self\n             .interner\n             .tcx\n-            .bound_type_of(def_id)\n+            .type_of(def_id)\n             .subst(self.interner.tcx, bound_vars)\n             .lower_into(self.interner);\n \n@@ -738,7 +738,7 @@ fn bound_vars_for_item(tcx: TyCtxt<'_>, def_id: DefId) -> SubstsRef<'_> {\n         ty::GenericParamDefKind::Const { .. } => tcx\n             .mk_const(\n                 ty::ConstKind::Bound(ty::INNERMOST, ty::BoundVar::from(param.index)),\n-                tcx.bound_type_of(param.def_id).subst_identity(),\n+                tcx.type_of(param.def_id).subst_identity(),\n             )\n             .into(),\n     })"}, {"sha": "b5924e949146bc6471a50d3d229e6a1a7e7132b5", "filename": "compiler/rustc_traits/src/dropck_outlives.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_traits%2Fsrc%2Fdropck_outlives.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_traits%2Fsrc%2Fdropck_outlives.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_traits%2Fsrc%2Fdropck_outlives.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -308,7 +308,7 @@ pub(crate) fn adt_dtorck_constraint(\n \n     let mut result = DropckConstraint::empty();\n     for field in def.all_fields() {\n-        let fty = tcx.bound_type_of(field.did).subst_identity();\n+        let fty = tcx.type_of(field.did).subst_identity();\n         dtorck_constraint_for_ty(tcx, span, fty, 0, fty, &mut result)?;\n     }\n     result.outlives.extend(tcx.destructor_constraints(def));"}, {"sha": "d34fce64dd7dc7115610bcfbf93edd4db21ecf49", "filename": "compiler/rustc_traits/src/type_op.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_traits%2Fsrc%2Ftype_op.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_traits%2Fsrc%2Ftype_op.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_traits%2Fsrc%2Ftype_op.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -93,7 +93,7 @@ fn relate_mir_and_user_substs<'tcx>(\n     let tcx = ocx.infcx.tcx;\n     let cause = ObligationCause::dummy_with_span(span);\n \n-    let ty = tcx.bound_type_of(def_id).subst(tcx, substs);\n+    let ty = tcx.type_of(def_id).subst(tcx, substs);\n     let ty = ocx.normalize(&cause, param_env, ty);\n     debug!(\"relate_type_and_user_type: ty of def-id is {:?}\", ty);\n \n@@ -122,7 +122,7 @@ fn relate_mir_and_user_substs<'tcx>(\n \n     if let Some(UserSelfTy { impl_def_id, self_ty }) = user_self_ty {\n         let self_ty = ocx.normalize(&cause, param_env, self_ty);\n-        let impl_self_ty = tcx.bound_type_of(impl_def_id).subst(tcx, substs);\n+        let impl_self_ty = tcx.type_of(impl_def_id).subst(tcx, substs);\n         let impl_self_ty = ocx.normalize(&cause, param_env, impl_self_ty);\n \n         ocx.eq(&cause, param_env, self_ty, impl_self_ty)?;"}, {"sha": "eb307e66e342d383e94f7f1bd95d89f31186b429", "filename": "compiler/rustc_ty_utils/src/implied_bounds.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Fimplied_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Fimplied_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ty_utils%2Fsrc%2Fimplied_bounds.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -28,7 +28,7 @@ fn assumed_wf_types(tcx: TyCtxt<'_>, def_id: DefId) -> &ty::List<Ty<'_>> {\n                     tcx.intern_type_list(&types)\n                 }\n                 // Only the impl self type\n-                None => tcx.intern_type_list(&[tcx.bound_type_of(def_id).subst_identity()]),\n+                None => tcx.intern_type_list(&[tcx.type_of(def_id).subst_identity()]),\n             }\n         }\n         DefKind::AssocConst | DefKind::AssocTy => tcx.assumed_wf_types(tcx.parent(def_id)),"}, {"sha": "de7230b0cfaedb2bd79c24439f624ff754b8ca99", "filename": "compiler/rustc_ty_utils/src/instance.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Finstance.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Finstance.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ty_utils%2Fsrc%2Finstance.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -52,7 +52,7 @@ fn inner_resolve_instance<'tcx>(\n             tcx.normalize_erasing_regions(param_env, substs),\n         )\n     } else {\n-        let ty = tcx.bound_type_of(def.def_id_for_type_of());\n+        let ty = tcx.type_of(def.def_id_for_type_of());\n         let item_type =\n             tcx.subst_and_normalize_erasing_regions(substs, param_env, ty.skip_binder());\n "}, {"sha": "b860fb6c9186b3b1bdf46dedd09d14a5cbe00338", "filename": "compiler/rustc_ty_utils/src/layout.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Flayout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Flayout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ty_utils%2Fsrc%2Flayout.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -454,7 +454,7 @@ fn layout_of_uncached<'tcx>(\n                         def.is_struct()\n                             && match def.variants().iter().next().and_then(|x| x.fields.last()) {\n                                 Some(last_field) => tcx\n-                                    .bound_type_of(last_field.did)\n+                                    .type_of(last_field.did)\n                                     .subst_identity()\n                                     .is_sized(tcx, param_env),\n                                 None => false,"}, {"sha": "c177d60bb5967dcc5ecff04dfc7d233f32872146", "filename": "compiler/rustc_ty_utils/src/needs_drop.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Fneeds_drop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Fneeds_drop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ty_utils%2Fsrc%2Fneeds_drop.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -242,7 +242,7 @@ fn drop_tys_helper<'tcx>(\n             Ok(Vec::new())\n         } else {\n             let field_tys = adt_def.all_fields().map(|field| {\n-                let r = tcx.bound_type_of(field.did).subst(tcx, substs);\n+                let r = tcx.type_of(field.did).subst(tcx, substs);\n                 debug!(\"drop_tys_helper: Subst into {:?} with {:?} gettng {:?}\", field, substs, r);\n                 r\n             });\n@@ -297,7 +297,7 @@ fn adt_drop_tys<'tcx>(\n     // `tcx.type_of(def_id)` identical to `tcx.make_adt(def, identity_substs)`\n     drop_tys_helper(\n         tcx,\n-        tcx.bound_type_of(def_id).subst_identity(),\n+        tcx.type_of(def_id).subst_identity(),\n         tcx.param_env(def_id),\n         adt_has_dtor,\n         false,\n@@ -314,7 +314,7 @@ fn adt_significant_drop_tys(\n ) -> Result<&ty::List<Ty<'_>>, AlwaysRequiresDrop> {\n     drop_tys_helper(\n         tcx,\n-        tcx.bound_type_of(def_id).subst_identity(), // identical to `tcx.make_adt(def, identity_substs)`\n+        tcx.type_of(def_id).subst_identity(), // identical to `tcx.make_adt(def, identity_substs)`\n         tcx.param_env(def_id),\n         adt_consider_insignificant_dtor(tcx),\n         true,"}, {"sha": "591017eecd2e0ed541419e52a24d6fb48179567d", "filename": "compiler/rustc_ty_utils/src/representability.rs", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Frepresentability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Frepresentability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ty_utils%2Fsrc%2Frepresentability.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -31,7 +31,7 @@ fn representability(tcx: TyCtxt<'_>, def_id: LocalDefId) -> Representability {\n             }\n             Representability::Representable\n         }\n-        DefKind::Field => representability_ty(tcx, tcx.bound_type_of(def_id).subst_identity()),\n+        DefKind::Field => representability_ty(tcx, tcx.type_of(def_id).subst_identity()),\n         def_kind => bug!(\"unexpected {def_kind:?}\"),\n     }\n }\n@@ -91,11 +91,7 @@ fn params_in_repr(tcx: TyCtxt<'_>, def_id: DefId) -> BitSet<u32> {\n     let mut params_in_repr = BitSet::new_empty(generics.params.len());\n     for variant in adt_def.variants() {\n         for field in variant.fields.iter() {\n-            params_in_repr_ty(\n-                tcx,\n-                tcx.bound_type_of(field.did).subst_identity(),\n-                &mut params_in_repr,\n-            );\n+            params_in_repr_ty(tcx, tcx.type_of(field.did).subst_identity(), &mut params_in_repr);\n         }\n     }\n     params_in_repr"}, {"sha": "9204ad0afc4aa0fa4f8f7f7753fe611723a1f8a2", "filename": "compiler/rustc_ty_utils/src/ty.rs", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/compiler%2Frustc_ty_utils%2Fsrc%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ty_utils%2Fsrc%2Fty.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -99,10 +99,12 @@ fn adt_sized_constraint(tcx: TyCtxt<'_>, def_id: DefId) -> &[Ty<'_>] {\n     }\n     let def = tcx.adt_def(def_id);\n \n-    let result =\n-        tcx.mk_type_list(def.variants().iter().flat_map(|v| v.fields.last()).flat_map(|f| {\n-            sized_constraint_for_ty(tcx, def, tcx.bound_type_of(f.did).subst_identity())\n-        }));\n+    let result = tcx.mk_type_list(\n+        def.variants()\n+            .iter()\n+            .flat_map(|v| v.fields.last())\n+            .flat_map(|f| sized_constraint_for_ty(tcx, def, tcx.type_of(f.did).subst_identity())),\n+    );\n \n     debug!(\"adt_sized_constraint: {:?} => {:?}\", def, result);\n \n@@ -297,7 +299,7 @@ fn well_formed_types_in_env(tcx: TyCtxt<'_>, def_id: DefId) -> &ty::List<Predica\n         // In an inherent impl, we assume that the receiver type and all its\n         // constituents are well-formed.\n         NodeKind::InherentImpl => {\n-            let self_ty = tcx.bound_type_of(def_id).subst_identity();\n+            let self_ty = tcx.type_of(def_id).subst_identity();\n             inputs.extend(self_ty.walk());\n         }\n \n@@ -432,7 +434,7 @@ fn unsizing_params_for_adt<'tcx>(tcx: TyCtxt<'tcx>, def_id: DefId) -> BitSet<u32\n     };\n \n     let mut unsizing_params = BitSet::new_empty(num_params);\n-    for arg in tcx.bound_type_of(tail_field.did).subst_identity().walk() {\n+    for arg in tcx.type_of(tail_field.did).subst_identity().walk() {\n         if let Some(i) = maybe_unsizing_param_idx(arg) {\n             unsizing_params.insert(i);\n         }\n@@ -441,7 +443,7 @@ fn unsizing_params_for_adt<'tcx>(tcx: TyCtxt<'tcx>, def_id: DefId) -> BitSet<u32\n     // Ensure none of the other fields mention the parameters used\n     // in unsizing.\n     for field in prefix_fields {\n-        for arg in tcx.bound_type_of(field.did).subst_identity().walk() {\n+        for arg in tcx.type_of(field.did).subst_identity().walk() {\n             if let Some(i) = maybe_unsizing_param_idx(arg) {\n                 unsizing_params.remove(i);\n             }"}, {"sha": "9479b3ee0369ac816ca80e6339f8c00f79902d25", "filename": "src/librustdoc/clean/auto_trait.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -137,7 +137,7 @@ where\n     pub(crate) fn get_auto_trait_impls(&mut self, item_def_id: DefId) -> Vec<Item> {\n         let tcx = self.cx.tcx;\n         let param_env = tcx.param_env(item_def_id);\n-        let ty = tcx.bound_type_of(item_def_id).subst_identity();\n+        let ty = tcx.type_of(item_def_id).subst_identity();\n         let f = auto_trait::AutoTraitFinder::new(tcx);\n \n         debug!(\"get_auto_trait_impls({:?})\", ty);"}, {"sha": "bcdbbcacc4bcdef5daeb6ea3be8a68e77cd09d9b", "filename": "src/librustdoc/clean/blanket_impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fclean%2Fblanket_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fclean%2Fblanket_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fblanket_impl.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -15,7 +15,7 @@ impl<'a, 'tcx> BlanketImplFinder<'a, 'tcx> {\n     pub(crate) fn get_blanket_impls(&mut self, item_def_id: DefId) -> Vec<Item> {\n         let cx = &mut self.cx;\n         let param_env = cx.tcx.param_env(item_def_id);\n-        let ty = cx.tcx.bound_type_of(item_def_id);\n+        let ty = cx.tcx.type_of(item_def_id);\n \n         trace!(\"get_blanket_impls({:?})\", ty);\n         let mut impls = Vec::new();"}, {"sha": "148243683cbbf1e9308e990527e6621a64e7b9a0", "filename": "src/librustdoc/clean/inline.rs", "status": "modified", "additions": 7, "deletions": 12, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fclean%2Finline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fclean%2Finline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Finline.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -303,11 +303,8 @@ fn build_union(cx: &mut DocContext<'_>, did: DefId) -> clean::Union {\n \n fn build_type_alias(cx: &mut DocContext<'_>, did: DefId) -> Box<clean::Typedef> {\n     let predicates = cx.tcx.explicit_predicates_of(did);\n-    let type_ = clean_middle_ty(\n-        ty::Binder::dummy(cx.tcx.bound_type_of(did).subst_identity()),\n-        cx,\n-        Some(did),\n-    );\n+    let type_ =\n+        clean_middle_ty(ty::Binder::dummy(cx.tcx.type_of(did).subst_identity()), cx, Some(did));\n \n     Box::new(clean::Typedef {\n         type_,\n@@ -418,11 +415,9 @@ pub(crate) fn build_impl(\n \n     let for_ = match &impl_item {\n         Some(impl_) => clean_ty(impl_.self_ty, cx),\n-        None => clean_middle_ty(\n-            ty::Binder::dummy(tcx.bound_type_of(did).subst_identity()),\n-            cx,\n-            Some(did),\n-        ),\n+        None => {\n+            clean_middle_ty(ty::Binder::dummy(tcx.type_of(did).subst_identity()), cx, Some(did))\n+        }\n     };\n \n     // Only inline impl if the implementing type is\n@@ -661,7 +656,7 @@ pub(crate) fn print_inlined_const(tcx: TyCtxt<'_>, did: DefId) -> String {\n fn build_const(cx: &mut DocContext<'_>, def_id: DefId) -> clean::Constant {\n     clean::Constant {\n         type_: clean_middle_ty(\n-            ty::Binder::dummy(cx.tcx.bound_type_of(def_id).subst_identity()),\n+            ty::Binder::dummy(cx.tcx.type_of(def_id).subst_identity()),\n             cx,\n             Some(def_id),\n         ),\n@@ -672,7 +667,7 @@ fn build_const(cx: &mut DocContext<'_>, def_id: DefId) -> clean::Constant {\n fn build_static(cx: &mut DocContext<'_>, did: DefId, mutable: bool) -> clean::Static {\n     clean::Static {\n         type_: clean_middle_ty(\n-            ty::Binder::dummy(cx.tcx.bound_type_of(did).subst_identity()),\n+            ty::Binder::dummy(cx.tcx.type_of(did).subst_identity()),\n             cx,\n             Some(did),\n         ),"}, {"sha": "a3851d87f0401275a4eafcfc7dd2f666bb340de7", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 9, "deletions": 15, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -218,7 +218,7 @@ pub(crate) fn clean_const<'tcx>(constant: &hir::ConstArg, cx: &mut DocContext<'t\n     let def_id = cx.tcx.hir().body_owner_def_id(constant.value.body).to_def_id();\n     Constant {\n         type_: clean_middle_ty(\n-            ty::Binder::dummy(cx.tcx.bound_type_of(def_id).subst_identity()),\n+            ty::Binder::dummy(cx.tcx.type_of(def_id).subst_identity()),\n             cx,\n             Some(def_id),\n         ),\n@@ -486,7 +486,7 @@ fn clean_generic_param_def<'tcx>(\n         ty::GenericParamDefKind::Type { has_default, synthetic, .. } => {\n             let default = if has_default {\n                 Some(clean_middle_ty(\n-                    ty::Binder::dummy(cx.tcx.bound_type_of(def.def_id).subst_identity()),\n+                    ty::Binder::dummy(cx.tcx.type_of(def.def_id).subst_identity()),\n                     cx,\n                     Some(def.def_id),\n                 ))\n@@ -508,7 +508,7 @@ fn clean_generic_param_def<'tcx>(\n             GenericParamDefKind::Const {\n                 did: def.def_id,\n                 ty: Box::new(clean_middle_ty(\n-                    ty::Binder::dummy(cx.tcx.bound_type_of(def.def_id).subst_identity()),\n+                    ty::Binder::dummy(cx.tcx.type_of(def.def_id).subst_identity()),\n                     cx,\n                     Some(def.def_id),\n                 )),\n@@ -1218,7 +1218,7 @@ pub(crate) fn clean_middle_assoc_item<'tcx>(\n     let kind = match assoc_item.kind {\n         ty::AssocKind::Const => {\n             let ty = clean_middle_ty(\n-                ty::Binder::dummy(tcx.bound_type_of(assoc_item.def_id).subst_identity()),\n+                ty::Binder::dummy(tcx.type_of(assoc_item.def_id).subst_identity()),\n                 cx,\n                 Some(assoc_item.def_id),\n             );\n@@ -1257,9 +1257,7 @@ pub(crate) fn clean_middle_assoc_item<'tcx>(\n \n             if assoc_item.fn_has_self_parameter {\n                 let self_ty = match assoc_item.container {\n-                    ty::ImplContainer => {\n-                        tcx.bound_type_of(assoc_item.container_id(tcx)).subst_identity()\n-                    }\n+                    ty::ImplContainer => tcx.type_of(assoc_item.container_id(tcx)).subst_identity(),\n                     ty::TraitContainer => tcx.types.self_param,\n                 };\n                 let self_arg_ty = sig.input(0).skip_binder();\n@@ -1406,9 +1404,7 @@ pub(crate) fn clean_middle_assoc_item<'tcx>(\n                     AssocTypeItem(\n                         Box::new(Typedef {\n                             type_: clean_middle_ty(\n-                                ty::Binder::dummy(\n-                                    tcx.bound_type_of(assoc_item.def_id).subst_identity(),\n-                                ),\n+                                ty::Binder::dummy(tcx.type_of(assoc_item.def_id).subst_identity()),\n                                 cx,\n                                 Some(assoc_item.def_id),\n                             ),\n@@ -1426,9 +1422,7 @@ pub(crate) fn clean_middle_assoc_item<'tcx>(\n                 AssocTypeItem(\n                     Box::new(Typedef {\n                         type_: clean_middle_ty(\n-                            ty::Binder::dummy(\n-                                tcx.bound_type_of(assoc_item.def_id).subst_identity(),\n-                            ),\n+                            ty::Binder::dummy(tcx.type_of(assoc_item.def_id).subst_identity()),\n                             cx,\n                             Some(assoc_item.def_id),\n                         ),\n@@ -1939,7 +1933,7 @@ pub(crate) fn clean_middle_field<'tcx>(field: &ty::FieldDef, cx: &mut DocContext\n         field.did,\n         field.name,\n         clean_middle_ty(\n-            ty::Binder::dummy(cx.tcx.bound_type_of(field.did).subst_identity()),\n+            ty::Binder::dummy(cx.tcx.type_of(field.did).subst_identity()),\n             cx,\n             Some(field.did),\n         ),\n@@ -2390,7 +2384,7 @@ fn clean_impl<'tcx>(\n     let for_ = clean_ty(impl_.self_ty, cx);\n     let type_alias = for_.def_id(&cx.cache).and_then(|did| match tcx.def_kind(did) {\n         DefKind::TyAlias => Some(clean_middle_ty(\n-            ty::Binder::dummy(tcx.bound_type_of(did).subst_identity()),\n+            ty::Binder::dummy(tcx.type_of(did).subst_identity()),\n             cx,\n             Some(did),\n         )),"}, {"sha": "0f3693d12e2dbb2674a8ecb3b40667c69dfa6018", "filename": "src/librustdoc/clean/utils.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fclean%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fclean%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Futils.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -266,7 +266,7 @@ pub(crate) fn print_evaluated_const(\n     underscores_and_type: bool,\n ) -> Option<String> {\n     tcx.const_eval_poly(def_id).ok().and_then(|val| {\n-        let ty = tcx.bound_type_of(def_id).subst_identity();\n+        let ty = tcx.type_of(def_id).subst_identity();\n         match (val, ty.kind()) {\n             (_, &ty::Ref(..)) => None,\n             (ConstValue::Scalar(_), &ty::Adt(_, _)) => None,"}, {"sha": "68bdd2bc531f2a4baa2884c277aaa50fecc5bad2", "filename": "src/librustdoc/formats/cache.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fformats%2Fcache.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fformats%2Fcache.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fformats%2Fcache.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -453,7 +453,7 @@ impl<'a, 'tcx> DocFolder for CacheBuilder<'a, 'tcx> {\n                 | clean::BorrowedRef { type_: box clean::Type::Path { ref path }, .. } => {\n                     dids.insert(path.def_id());\n                     if let Some(generics) = path.generics() &&\n-                        let ty::Adt(adt, _) = self.tcx.bound_type_of(path.def_id()).subst_identity().kind() &&\n+                        let ty::Adt(adt, _) = self.tcx.type_of(path.def_id()).subst_identity().kind() &&\n                         adt.is_fundamental() {\n                         for ty in generics {\n                             if let Some(did) = ty.def_id(self.cache) {"}, {"sha": "387984a2b3bc836e59c891671b5e2f94694e674b", "filename": "src/librustdoc/html/render/print_item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -1855,7 +1855,7 @@ fn document_type_layout(w: &mut Buffer, cx: &Context<'_>, ty_def_id: DefId) {\n \n     let tcx = cx.tcx();\n     let param_env = tcx.param_env(ty_def_id);\n-    let ty = tcx.bound_type_of(ty_def_id).subst_identity();\n+    let ty = tcx.type_of(ty_def_id).subst_identity();\n     match tcx.layout_of(param_env.and(ty)) {\n         Ok(ty_layout) => {\n             writeln!("}, {"sha": "3cc4562511f023ab75d99c4be17f3c42b2540eb0", "filename": "src/librustdoc/passes/collect_intra_doc_links.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -293,7 +293,7 @@ impl<'a, 'tcx> LinkCollector<'a, 'tcx> {\n         let ty_res = self.resolve_path(&path, TypeNS, item_id, module_id).ok_or_else(no_res)?;\n \n         match ty_res {\n-            Res::Def(DefKind::Enum, did) => match tcx.bound_type_of(did).subst_identity().kind() {\n+            Res::Def(DefKind::Enum, did) => match tcx.type_of(did).subst_identity().kind() {\n                 ty::Adt(def, _) if def.is_enum() => {\n                     if let Some(variant) = def.variants().iter().find(|v| v.name == variant_name)\n                         && let Some(field) = variant.fields.iter().find(|f| f.name == variant_field_name) {\n@@ -471,7 +471,7 @@ impl<'a, 'tcx> LinkCollector<'a, 'tcx> {\n     /// This is used for resolving type aliases.\n     fn def_id_to_res(&self, ty_id: DefId) -> Option<Res> {\n         use PrimitiveType::*;\n-        Some(match *self.cx.tcx.bound_type_of(ty_id).subst_identity().kind() {\n+        Some(match *self.cx.tcx.type_of(ty_id).subst_identity().kind() {\n             ty::Bool => Res::Primitive(Bool),\n             ty::Char => Res::Primitive(Char),\n             ty::Int(ity) => Res::Primitive(ity.into()),\n@@ -572,7 +572,7 @@ impl<'a, 'tcx> LinkCollector<'a, 'tcx> {\n                 debug!(\"looking for associated item named {} for item {:?}\", item_name, did);\n                 // Checks if item_name is a variant of the `SomeItem` enum\n                 if ns == TypeNS && def_kind == DefKind::Enum {\n-                    match tcx.bound_type_of(did).subst_identity().kind() {\n+                    match tcx.type_of(did).subst_identity().kind() {\n                         ty::Adt(adt_def, _) => {\n                             for variant in adt_def.variants() {\n                                 if variant.name == item_name {\n@@ -606,7 +606,7 @@ impl<'a, 'tcx> LinkCollector<'a, 'tcx> {\n                     // something like [`ambi_fn`](<SomeStruct as SomeTrait>::ambi_fn)\n                     .or_else(|| {\n                         resolve_associated_trait_item(\n-                            tcx.bound_type_of(did).subst_identity(),\n+                            tcx.type_of(did).subst_identity(),\n                             module_id,\n                             item_name,\n                             ns,\n@@ -639,7 +639,7 @@ impl<'a, 'tcx> LinkCollector<'a, 'tcx> {\n                 // they also look like associated items (`module::Type::Variant`),\n                 // because they are real Rust syntax (unlike the intra-doc links\n                 // field syntax) and are handled by the compiler's resolver.\n-                let def = match tcx.bound_type_of(did).subst_identity().kind() {\n+                let def = match tcx.type_of(did).subst_identity().kind() {\n                     ty::Adt(def, _) if !def.is_enum() => def,\n                     _ => return None,\n                 };"}, {"sha": "01ed4a60b3b89f4e742db38cb7b0533ea98d78d6", "filename": "src/librustdoc/passes/collect_trait_impls.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fpasses%2Fcollect_trait_impls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fpasses%2Fcollect_trait_impls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fpasses%2Fcollect_trait_impls.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -109,7 +109,7 @@ pub(crate) fn collect_trait_impls(mut krate: Crate, cx: &mut DocContext<'_>) ->\n                     // `Generics`. To avoid relying on the `impl` block, these\n                     // things would need to be created from wholecloth, in a\n                     // form that is valid for use in type inference.\n-                    let ty = tcx.bound_type_of(def_id).subst_identity();\n+                    let ty = tcx.type_of(def_id).subst_identity();\n                     match ty.kind() {\n                         ty::Slice(ty)\n                         | ty::Ref(_, ty, _)"}, {"sha": "f28c164d61dad059e1407093790c14bfce53bfd9", "filename": "src/librustdoc/scrape_examples.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fscrape_examples.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Flibrustdoc%2Fscrape_examples.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fscrape_examples.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -169,7 +169,7 @@ where\n                 };\n \n                 let ident_span = path.ident.span;\n-                (tcx.bound_type_of(def_id).subst_identity(), call_span, ident_span)\n+                (tcx.type_of(def_id).subst_identity(), call_span, ident_span)\n             }\n             _ => {\n                 return;"}, {"sha": "6c8ee296c75101fa56389d038a983c7cf2980f6b", "filename": "src/tools/clippy/clippy_lints/src/casts/cast_ptr_alignment.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fcasts%2Fcast_ptr_alignment.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fcasts%2Fcast_ptr_alignment.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fcasts%2Fcast_ptr_alignment.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -66,7 +66,7 @@ fn is_used_as_unaligned(cx: &LateContext<'_>, e: &Expr<'_>) -> bool {\n             if matches!(name.ident.as_str(), \"read_unaligned\" | \"write_unaligned\")\n                 && let Some(def_id) = cx.typeck_results().type_dependent_def_id(parent.hir_id)\n                 && let Some(def_id) = cx.tcx.impl_of_method(def_id)\n-                && cx.tcx.bound_type_of(def_id).subst_identity().is_unsafe_ptr()\n+                && cx.tcx.type_of(def_id).subst_identity().is_unsafe_ptr()\n             {\n                 true\n             } else {"}, {"sha": "0fc11523298f177e6ac3166d6409b09485adc6c3", "filename": "src/tools/clippy/clippy_lints/src/copy_iterator.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fcopy_iterator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fcopy_iterator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fcopy_iterator.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -43,7 +43,7 @@ impl<'tcx> LateLintPass<'tcx> for CopyIterator {\n                 of_trait: Some(ref trait_ref),\n                 ..\n             }) = item.kind;\n-            let ty = cx.tcx.bound_type_of(item.owner_id).subst_identity();\n+            let ty = cx.tcx.type_of(item.owner_id).subst_identity();\n             if is_copy(cx, ty);\n             if let Some(trait_id) = trait_ref.trait_def_id();\n             if cx.tcx.is_diagnostic_item(sym::Iterator, trait_id);"}, {"sha": "080d44e6398c1f754202e7e4f5e82582c5f31826", "filename": "src/tools/clippy/clippy_lints/src/default.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fdefault.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fdefault.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fdefault.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -150,7 +150,7 @@ impl<'tcx> LateLintPass<'tcx> for Default {\n                     .fields\n                     .iter()\n                     .all(|field| {\n-                        is_copy(cx, cx.tcx.bound_type_of(field.did).subst_identity())\n+                        is_copy(cx, cx.tcx.type_of(field.did).subst_identity())\n                     });\n                 if !has_drop(cx, binding_type) || all_fields_are_copy;\n                 then {"}, {"sha": "4e1a6cd4d7355b47358fa974e27bc23a483a02de", "filename": "src/tools/clippy/clippy_lints/src/default_numeric_fallback.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fdefault_numeric_fallback.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fdefault_numeric_fallback.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fdefault_numeric_fallback.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -167,7 +167,7 @@ impl<'a, 'tcx> Visitor<'tcx> for NumericFallbackVisitor<'a, 'tcx> {\n                                     .iter()\n                                     .find_map(|f_def| {\n                                         if f_def.ident(self.cx.tcx) == field.ident\n-                                            { Some(self.cx.tcx.bound_type_of(f_def.did).subst_identity()) }\n+                                            { Some(self.cx.tcx.type_of(f_def.did).subst_identity()) }\n                                         else { None }\n                                     });\n                             self.ty_bounds.push(bound.into());"}, {"sha": "b4543aa2544f8dfa8bba70f70ec92b360927d8dd", "filename": "src/tools/clippy/clippy_lints/src/dereference.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fdereference.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fdereference.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fdereference.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -735,7 +735,7 @@ fn walk_parents<'tcx>(\n                 span,\n                 ..\n             }) if span.ctxt() == ctxt => {\n-                let ty = cx.tcx.bound_type_of(owner_id.def_id).subst_identity();\n+                let ty = cx.tcx.type_of(owner_id.def_id).subst_identity();\n                 Some(ty_auto_deref_stability(cx, ty, precedence).position_for_result(cx))\n             },\n \n@@ -771,7 +771,7 @@ fn walk_parents<'tcx>(\n                 }) => variant_of_res(cx, cx.qpath_res(path, *hir_id))\n                     .and_then(|variant| variant.fields.iter().find(|f| f.name == field.ident.name))\n                     .map(|field_def| {\n-                        ty_auto_deref_stability(cx, cx.tcx.bound_type_of(field_def.did).subst_identity(), precedence).position_for_arg()\n+                        ty_auto_deref_stability(cx, cx.tcx.type_of(field_def.did).subst_identity(), precedence).position_for_arg()\n                     }),\n                 _ => None,\n             },"}, {"sha": "f95b8ccf067b46f62d45cc41b37b352fbe00ff8e", "filename": "src/tools/clippy/clippy_lints/src/derivable_impls.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fderivable_impls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fderivable_impls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fderivable_impls.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -184,7 +184,7 @@ impl<'tcx> LateLintPass<'tcx> for DerivableImpls {\n             if let Some(Node::ImplItem(impl_item)) = cx.tcx.hir().find(impl_item_hir);\n             if let ImplItemKind::Fn(_, b) = &impl_item.kind;\n             if let Body { value: func_expr, .. } = cx.tcx.hir().body(*b);\n-            if let Some(adt_def) = cx.tcx.bound_type_of(item.owner_id).subst_identity().ty_adt_def();\n+            if let Some(adt_def) = cx.tcx.type_of(item.owner_id).subst_identity().ty_adt_def();\n             if let attrs = cx.tcx.hir().attrs(item.hir_id());\n             if !attrs.iter().any(|attr| attr.doc_str().is_some());\n             if let child_attrs = cx.tcx.hir().attrs(impl_item_hir);"}, {"sha": "1cdcccd5f146c727ff44f0b8f0b86201b4226dd0", "filename": "src/tools/clippy/clippy_lints/src/derive.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fderive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fderive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fderive.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -211,7 +211,7 @@ impl<'tcx> LateLintPass<'tcx> for Derive {\n             ..\n         }) = item.kind\n         {\n-            let ty = cx.tcx.bound_type_of(item.owner_id).subst_identity();\n+            let ty = cx.tcx.type_of(item.owner_id).subst_identity();\n             let is_automatically_derived = cx.tcx.has_attr(item.owner_id.to_def_id(), sym::automatically_derived);\n \n             check_hash_peq(cx, item.span, trait_ref, ty, is_automatically_derived);\n@@ -347,7 +347,7 @@ fn check_copy_clone<'tcx>(cx: &LateContext<'tcx>, item: &Item<'_>, trait_ref: &h\n             let has_copy_impl = cx.tcx.all_local_trait_impls(()).get(&copy_id).map_or(false, |impls| {\n                 impls\n                     .iter()\n-                    .any(|&id| matches!(cx.tcx.bound_type_of(id).subst_identity().kind(), ty::Adt(adt, _) if ty_adt.did() == adt.did()))\n+                    .any(|&id| matches!(cx.tcx.type_of(id).subst_identity().kind(), ty::Adt(adt, _) if ty_adt.did() == adt.did()))\n             });\n             if !has_copy_impl {\n                 return;"}, {"sha": "d94664daa5619a4c523751ab50c6ea21f91f1c3b", "filename": "src/tools/clippy/clippy_lints/src/empty_enum.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fempty_enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fempty_enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fempty_enum.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -49,7 +49,7 @@ impl<'tcx> LateLintPass<'tcx> for EmptyEnum {\n         }\n \n         if let ItemKind::Enum(..) = item.kind {\n-            let ty = cx.tcx.bound_type_of(item.owner_id).subst_identity();\n+            let ty = cx.tcx.type_of(item.owner_id).subst_identity();\n             let adt = ty.ty_adt_def().expect(\"already checked whether this is an enum\");\n             if adt.variants().is_empty() {\n                 span_lint_and_help("}, {"sha": "e275efaba25fbb2a2c7bf1f90eb22f19a43e052c", "filename": "src/tools/clippy/clippy_lints/src/enum_clike.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fenum_clike.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fenum_clike.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fenum_clike.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -45,7 +45,7 @@ impl<'tcx> LateLintPass<'tcx> for UnportableVariant {\n             for var in def.variants {\n                 if let Some(anon_const) = &var.disr_expr {\n                     let def_id = cx.tcx.hir().body_owner_def_id(anon_const.body);\n-                    let mut ty = cx.tcx.bound_type_of(def_id.to_def_id()).subst_identity();\n+                    let mut ty = cx.tcx.type_of(def_id.to_def_id()).subst_identity();\n                     let constant = cx\n                         .tcx\n                         .const_eval_poly(def_id.to_def_id())"}, {"sha": "ddade65c515c6a92f45a8ba0350f4dedb775dc4d", "filename": "src/tools/clippy/clippy_lints/src/eta_reduction.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Feta_reduction.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Feta_reduction.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Feta_reduction.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -108,7 +108,7 @@ impl<'tcx> LateLintPass<'tcx> for EtaReduction {\n             if check_inputs(cx, body.params, None, args);\n             let callee_ty = cx.typeck_results().expr_ty_adjusted(callee);\n             let call_ty = cx.typeck_results().type_dependent_def_id(body.value.hir_id)\n-                .map_or(callee_ty, |id| cx.tcx.bound_type_of(id).subst_identity());\n+                .map_or(callee_ty, |id| cx.tcx.type_of(id).subst_identity());\n             if check_sig(cx, closure_ty, call_ty);\n             let substs = cx.typeck_results().node_substs(callee.hir_id);\n             // This fixes some false positives that I don't entirely understand\n@@ -153,7 +153,7 @@ impl<'tcx> LateLintPass<'tcx> for EtaReduction {\n             if check_inputs(cx, body.params, Some(receiver), args);\n             let method_def_id = cx.typeck_results().type_dependent_def_id(body.value.hir_id).unwrap();\n             let substs = cx.typeck_results().node_substs(body.value.hir_id);\n-            let call_ty = cx.tcx.bound_type_of(method_def_id).subst(cx.tcx, substs);\n+            let call_ty = cx.tcx.type_of(method_def_id).subst(cx.tcx, substs);\n             if check_sig(cx, closure_ty, call_ty);\n             then {\n                 span_lint_and_then(cx, REDUNDANT_CLOSURE_FOR_METHOD_CALLS, expr.span, \"redundant closure\", |diag| {\n@@ -233,7 +233,7 @@ fn get_ufcs_type_name<'tcx>(cx: &LateContext<'tcx>, method_def_id: DefId, substs\n     match assoc_item.container {\n         ty::TraitContainer => cx.tcx.def_path_str(def_id),\n         ty::ImplContainer => {\n-            let ty = cx.tcx.bound_type_of(def_id).skip_binder();\n+            let ty = cx.tcx.type_of(def_id).skip_binder();\n             match ty.kind() {\n                 ty::Adt(adt, _) => cx.tcx.def_path_str(adt.did()),\n                 ty::Array(..)"}, {"sha": "8b53ee68ebdfb2bd8efb5f92dcd364768c5c535e", "filename": "src/tools/clippy/clippy_lints/src/functions/misnamed_getters.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Ffunctions%2Fmisnamed_getters.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Ffunctions%2Fmisnamed_getters.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Ffunctions%2Fmisnamed_getters.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -101,7 +101,7 @@ pub fn check_fn(cx: &LateContext<'_>, kind: FnKind<'_>, decl: &FnDecl<'_>, body:\n         return;\n     };\n \n-    if cx.tcx.bound_type_of(used_field.did) == cx.tcx.bound_type_of(correct_field.did) {\n+    if cx.tcx.type_of(used_field.did) == cx.tcx.type_of(correct_field.did) {\n         let left_span = block_expr.span.until(used_ident.span);\n         let snippet = snippet(cx, left_span, \"..\");\n         let sugg = format!(\"{snippet}{name}\");"}, {"sha": "0c7aea6da8fee33864a21076a0db4986015d4cfd", "filename": "src/tools/clippy/clippy_lints/src/implicit_saturating_sub.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fimplicit_saturating_sub.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fimplicit_saturating_sub.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fimplicit_saturating_sub.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -102,7 +102,7 @@ impl<'tcx> LateLintPass<'tcx> for ImplicitSaturatingSub {\n                             if let Some(const_id) = cx.typeck_results().type_dependent_def_id(cond_num_val.hir_id);\n                             if let Some(impl_id) = cx.tcx.impl_of_method(const_id);\n                             if let None = cx.tcx.impl_trait_ref(impl_id); // An inherent impl\n-                            if cx.tcx.bound_type_of(impl_id).subst_identity().is_integral();\n+                            if cx.tcx.type_of(impl_id).subst_identity().is_integral();\n                             then {\n                                 print_lint_and_sugg(cx, var_name, expr)\n                             }\n@@ -115,7 +115,7 @@ impl<'tcx> LateLintPass<'tcx> for ImplicitSaturatingSub {\n                             if let Some(func_id) = cx.typeck_results().type_dependent_def_id(func.hir_id);\n                             if let Some(impl_id) = cx.tcx.impl_of_method(func_id);\n                             if let None = cx.tcx.impl_trait_ref(impl_id); // An inherent impl\n-                            if cx.tcx.bound_type_of(impl_id).subst_identity().is_integral();\n+                            if cx.tcx.type_of(impl_id).subst_identity().is_integral();\n                             then {\n                                 print_lint_and_sugg(cx, var_name, expr)\n                             }"}, {"sha": "7c41699f307aa116920f7188420d5cb60de2a533", "filename": "src/tools/clippy/clippy_lints/src/inherent_impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Finherent_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Finherent_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Finherent_impl.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -66,7 +66,7 @@ impl<'tcx> LateLintPass<'tcx> for MultipleInherentImpl {\n             )\n         }) {\n             for impl_id in impl_ids.iter().map(|id| id.expect_local()) {\n-                let impl_ty = cx.tcx.bound_type_of(impl_id).subst_identity();\n+                let impl_ty = cx.tcx.type_of(impl_id).subst_identity();\n                 match type_map.entry(impl_ty) {\n                     Entry::Vacant(e) => {\n                         // Store the id for the first impl block of this type. The span is retrieved lazily."}, {"sha": "1c99bd2f3d02e98680a2856c3a1db8be20337170", "filename": "src/tools/clippy/clippy_lints/src/large_enum_variant.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flarge_enum_variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flarge_enum_variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Flarge_enum_variant.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -83,7 +83,7 @@ impl<'tcx> LateLintPass<'tcx> for LargeEnumVariant {\n             return;\n         }\n         if let ItemKind::Enum(ref def, _) = item.kind {\n-            let ty = cx.tcx.bound_type_of(item.owner_id).subst_identity();\n+            let ty = cx.tcx.type_of(item.owner_id).subst_identity();\n             let Adt(adt, subst) = ty.kind() else {\n                 panic!(\"already checked whether this is an enum\")\n             };"}, {"sha": "d06bcdaa27f0a26699db02bed8bd448187442587", "filename": "src/tools/clippy/clippy_lints/src/matches/rest_pat_in_fully_bound_struct.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmatches%2Frest_pat_in_fully_bound_struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmatches%2Frest_pat_in_fully_bound_struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmatches%2Frest_pat_in_fully_bound_struct.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -10,7 +10,7 @@ pub(crate) fn check(cx: &LateContext<'_>, pat: &Pat<'_>) {\n         if !pat.span.from_expansion();\n         if let PatKind::Struct(QPath::Resolved(_, path), fields, true) = pat.kind;\n         if let Some(def_id) = path.res.opt_def_id();\n-        let ty = cx.tcx.bound_type_of(def_id).subst_identity();\n+        let ty = cx.tcx.type_of(def_id).subst_identity();\n         if let ty::Adt(def, _) = ty.kind();\n         if def.is_struct() || def.is_union();\n         if fields.len() == def.non_enum_variant().fields.len();"}, {"sha": "46a20ad412baf5ccaafe75280af9cc1ab0950d6d", "filename": "src/tools/clippy/clippy_lints/src/methods/bytes_count_to_len.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fbytes_count_to_len.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fbytes_count_to_len.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fbytes_count_to_len.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -17,7 +17,7 @@ pub(super) fn check<'tcx>(\n     if_chain! {\n         if let Some(bytes_id) = cx.typeck_results().type_dependent_def_id(count_recv.hir_id);\n         if let Some(impl_id) = cx.tcx.impl_of_method(bytes_id);\n-        if cx.tcx.bound_type_of(impl_id).subst_identity().is_str();\n+        if cx.tcx.type_of(impl_id).subst_identity().is_str();\n         let ty = cx.typeck_results().expr_ty(bytes_recv).peel_refs();\n         if ty.is_str() || is_type_lang_item(cx, ty, hir::LangItem::String);\n         then {"}, {"sha": "7711aa78b2391d42cf417af3ddb412987ca98992", "filename": "src/tools/clippy/clippy_lints/src/methods/case_sensitive_file_extension_comparisons.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fcase_sensitive_file_extension_comparisons.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fcase_sensitive_file_extension_comparisons.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fcase_sensitive_file_extension_comparisons.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -30,7 +30,7 @@ pub(super) fn check<'tcx>(\n     if_chain! {\n         if let Some(method_id) = cx.typeck_results().type_dependent_def_id(expr.hir_id);\n         if let Some(impl_id) = cx.tcx.impl_of_method(method_id);\n-        if cx.tcx.bound_type_of(impl_id).subst_identity().is_str();\n+        if cx.tcx.type_of(impl_id).subst_identity().is_str();\n         if let ExprKind::Lit(Spanned { node: LitKind::Str(ext_literal, ..), ..}) = arg.kind;\n         if (2..=6).contains(&ext_literal.as_str().len());\n         let ext_str = ext_literal.as_str();"}, {"sha": "945bbf53bcf358edaeb84ce8d32e3dc22285308a", "filename": "src/tools/clippy/clippy_lints/src/methods/get_first.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fget_first.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fget_first.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fget_first.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -19,7 +19,7 @@ pub(super) fn check<'tcx>(\n     if_chain! {\n         if let Some(method_id) = cx.typeck_results().type_dependent_def_id(expr.hir_id);\n         if let Some(impl_id) = cx.tcx.impl_of_method(method_id);\n-        if cx.tcx.bound_type_of(impl_id).subst_identity().is_slice();\n+        if cx.tcx.type_of(impl_id).subst_identity().is_slice();\n         if let Some(_) = is_slice_of_primitives(cx, recv);\n         if let hir::ExprKind::Lit(Spanned { node: LitKind::Int(0, _), .. }) = arg.kind;\n         then {"}, {"sha": "374eb29fc527b71535be646ae5304c1b8e829756", "filename": "src/tools/clippy/clippy_lints/src/methods/implicit_clone.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fimplicit_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fimplicit_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fimplicit_clone.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -53,7 +53,7 @@ pub fn is_clone_like(cx: &LateContext<'_>, method_name: &str, method_def_id: hir\n         \"to_vec\" => cx\n             .tcx\n             .impl_of_method(method_def_id)\n-            .filter(|&impl_did| cx.tcx.bound_type_of(impl_did).subst_identity().is_slice() && cx.tcx.impl_trait_ref(impl_did).is_none())\n+            .filter(|&impl_did| cx.tcx.type_of(impl_did).subst_identity().is_slice() && cx.tcx.impl_trait_ref(impl_did).is_none())\n             .is_some(),\n         _ => false,\n     }"}, {"sha": "b9a0ec779961e1557d9500c461918517ea66d8db", "filename": "src/tools/clippy/clippy_lints/src/methods/manual_ok_or.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmanual_ok_or.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmanual_ok_or.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmanual_ok_or.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -21,7 +21,7 @@ pub(super) fn check<'tcx>(\n     if_chain! {\n         if let Some(method_id) = cx.typeck_results().type_dependent_def_id(expr.hir_id);\n         if let Some(impl_id) = cx.tcx.impl_of_method(method_id);\n-        if is_type_diagnostic_item(cx, cx.tcx.bound_type_of(impl_id).subst_identity(), sym::Option);\n+        if is_type_diagnostic_item(cx, cx.tcx.type_of(impl_id).subst_identity(), sym::Option);\n         if let ExprKind::Call(err_path, [err_arg]) = or_expr.kind;\n         if is_res_lang_ctor(cx, path_res(cx, err_path), ResultErr);\n         if is_ok_wrapping(cx, map_expr);"}, {"sha": "2b26ef01410969f6f110bfa66bae573c60445f88", "filename": "src/tools/clippy/clippy_lints/src/methods/map_clone.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmap_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmap_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmap_clone.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -19,7 +19,7 @@ pub(super) fn check(cx: &LateContext<'_>, e: &hir::Expr<'_>, recv: &hir::Expr<'_\n     if_chain! {\n         if let Some(method_id) = cx.typeck_results().type_dependent_def_id(e.hir_id);\n         if cx.tcx.impl_of_method(method_id)\n-            .map_or(false, |id| is_type_diagnostic_item(cx, cx.tcx.bound_type_of(id).subst_identity(), sym::Option))\n+            .map_or(false, |id| is_type_diagnostic_item(cx, cx.tcx.type_of(id).subst_identity(), sym::Option))\n             || is_diag_trait_item(cx, method_id, sym::Iterator);\n         if let hir::ExprKind::Closure(&hir::Closure{ body, .. }) = arg.kind;\n         then {"}, {"sha": "a5beb291f3263c347a25fe28e9e0211716d9fe2c", "filename": "src/tools/clippy/clippy_lints/src/methods/map_err_ignore.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmap_err_ignore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmap_err_ignore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmap_err_ignore.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -9,7 +9,7 @@ use super::MAP_ERR_IGNORE;\n pub(super) fn check(cx: &LateContext<'_>, e: &Expr<'_>, arg: &Expr<'_>) {\n     if let Some(method_id) = cx.typeck_results().type_dependent_def_id(e.hir_id)\n         && let Some(impl_id) = cx.tcx.impl_of_method(method_id)\n-        && is_type_diagnostic_item(cx, cx.tcx.bound_type_of(impl_id).subst_identity(), sym::Result)\n+        && is_type_diagnostic_item(cx, cx.tcx.type_of(impl_id).subst_identity(), sym::Result)\n         && let ExprKind::Closure(&Closure {\n             capture_clause: CaptureBy::Ref,\n             body,"}, {"sha": "6301b3ded20dcdf640fc6c03ebc0162940a78120", "filename": "src/tools/clippy/clippy_lints/src/methods/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmod.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -3349,7 +3349,7 @@ impl<'tcx> LateLintPass<'tcx> for Methods {\n         let name = impl_item.ident.name.as_str();\n         let parent = cx.tcx.hir().get_parent_item(impl_item.hir_id()).def_id;\n         let item = cx.tcx.hir().expect_item(parent);\n-        let self_ty = cx.tcx.bound_type_of(item.owner_id).subst_identity();\n+        let self_ty = cx.tcx.type_of(item.owner_id).subst_identity();\n \n         let implements_trait = matches!(item.kind, hir::ItemKind::Impl(hir::Impl { of_trait: Some(_), .. }));\n         if let hir::ImplItemKind::Fn(ref sig, id) = impl_item.kind {"}, {"sha": "d0aa39d06275a6207081124d379d995e3879600a", "filename": "src/tools/clippy/clippy_lints/src/methods/mut_mutex_lock.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmut_mutex_lock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmut_mutex_lock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fmut_mutex_lock.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -15,7 +15,7 @@ pub(super) fn check<'tcx>(cx: &LateContext<'tcx>, ex: &'tcx Expr<'tcx>, recv: &'\n         if let ty::Ref(_, _, Mutability::Mut) = cx.typeck_results().expr_ty(recv).kind();\n         if let Some(method_id) = cx.typeck_results().type_dependent_def_id(ex.hir_id);\n         if let Some(impl_id) = cx.tcx.impl_of_method(method_id);\n-        if is_type_diagnostic_item(cx, cx.tcx.bound_type_of(impl_id).subst_identity(), sym::Mutex);\n+        if is_type_diagnostic_item(cx, cx.tcx.type_of(impl_id).subst_identity(), sym::Mutex);\n         then {\n             span_lint_and_sugg(\n                 cx,"}, {"sha": "c6a27cdd6fac0a5f0d625a8339c36dfcd8cb435c", "filename": "src/tools/clippy/clippy_lints/src/methods/open_options.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fopen_options.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fopen_options.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fopen_options.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -11,7 +11,7 @@ use super::NONSENSICAL_OPEN_OPTIONS;\n pub(super) fn check<'tcx>(cx: &LateContext<'tcx>, e: &'tcx Expr<'_>, recv: &'tcx Expr<'_>) {\n     if let Some(method_id) = cx.typeck_results().type_dependent_def_id(e.hir_id)\n         && let Some(impl_id) = cx.tcx.impl_of_method(method_id)\n-        && match_type(cx, cx.tcx.bound_type_of(impl_id).subst_identity(), &paths::OPEN_OPTIONS)\n+        && match_type(cx, cx.tcx.type_of(impl_id).subst_identity(), &paths::OPEN_OPTIONS)\n     {\n         let mut options = Vec::new();\n         get_open_options(cx, recv, &mut options);"}, {"sha": "e3f2de3cd4669b03301c97620ff87154b1dca599", "filename": "src/tools/clippy/clippy_lints/src/methods/path_buf_push_overwrite.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fpath_buf_push_overwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fpath_buf_push_overwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fpath_buf_push_overwrite.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -14,7 +14,7 @@ pub(super) fn check<'tcx>(cx: &LateContext<'tcx>, expr: &'tcx Expr<'_>, arg: &'t\n     if_chain! {\n         if let Some(method_id) = cx.typeck_results().type_dependent_def_id(expr.hir_id);\n         if let Some(impl_id) = cx.tcx.impl_of_method(method_id);\n-        if is_type_diagnostic_item(cx, cx.tcx.bound_type_of(impl_id).subst_identity(), sym::PathBuf);\n+        if is_type_diagnostic_item(cx, cx.tcx.type_of(impl_id).subst_identity(), sym::PathBuf);\n         if let ExprKind::Lit(ref lit) = arg.kind;\n         if let LitKind::Str(ref path_lit, _) = lit.node;\n         if let pushed_path = Path::new(path_lit.as_str());"}, {"sha": "b5fd0ad8ce524e6241787da5167dcec23d6595c3", "filename": "src/tools/clippy/clippy_lints/src/methods/stable_sort_primitive.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fstable_sort_primitive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fstable_sort_primitive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fstable_sort_primitive.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -10,7 +10,7 @@ use super::STABLE_SORT_PRIMITIVE;\n pub(super) fn check<'tcx>(cx: &LateContext<'tcx>, e: &'tcx Expr<'_>, recv: &'tcx Expr<'_>) {\n     if let Some(method_id) = cx.typeck_results().type_dependent_def_id(e.hir_id)\n         && let Some(impl_id) = cx.tcx.impl_of_method(method_id)\n-        && cx.tcx.bound_type_of(impl_id).subst_identity().is_slice()\n+        && cx.tcx.type_of(impl_id).subst_identity().is_slice()\n         && let Some(slice_type) = is_slice_of_primitives(cx, recv)\n     {\n         span_lint_and_then("}, {"sha": "90ca66bd70c50f7f6b8ce2bcf0edd73346290a76", "filename": "src/tools/clippy/clippy_lints/src/methods/suspicious_splitn.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fsuspicious_splitn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fsuspicious_splitn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fsuspicious_splitn.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -13,7 +13,7 @@ pub(super) fn check(cx: &LateContext<'_>, method_name: &str, expr: &Expr<'_>, se\n         if let Some(call_id) = cx.typeck_results().type_dependent_def_id(expr.hir_id);\n         if let Some(impl_id) = cx.tcx.impl_of_method(call_id);\n         if cx.tcx.impl_trait_ref(impl_id).is_none();\n-        let self_ty = cx.tcx.bound_type_of(impl_id).subst_identity();\n+        let self_ty = cx.tcx.type_of(impl_id).subst_identity();\n         if self_ty.is_slice() || self_ty.is_str();\n         then {\n             // Ignore empty slice and string literals when used with a literal count."}, {"sha": "5201da52bbf1d4a3abaebf19da62153051980c68", "filename": "src/tools/clippy/clippy_lints/src/methods/unnecessary_sort_by.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Funnecessary_sort_by.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Funnecessary_sort_by.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Funnecessary_sort_by.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -122,7 +122,7 @@ fn detect_lint(cx: &LateContext<'_>, expr: &Expr<'_>, recv: &Expr<'_>, arg: &Exp\n     if_chain! {\n         if let Some(method_id) = cx.typeck_results().type_dependent_def_id(expr.hir_id);\n         if let Some(impl_id) = cx.tcx.impl_of_method(method_id);\n-        if cx.tcx.bound_type_of(impl_id).subst_identity().is_slice();\n+        if cx.tcx.type_of(impl_id).subst_identity().is_slice();\n         if let ExprKind::Closure(&Closure { body, .. }) = arg.kind;\n         if let closure_body = cx.tcx.hir().body(body);\n         if let &["}, {"sha": "c96d69226972fa77b3820f7c73472515f7f47faa", "filename": "src/tools/clippy/clippy_lints/src/methods/utils.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Futils.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -143,7 +143,7 @@ impl<'cx, 'tcx> Visitor<'tcx> for CloneOrCopyVisitor<'cx, 'tcx> {\n                         if_chain! {\n                             if args.iter().all(|arg| !self.is_binding(arg));\n                             if let Some(method_def_id) = self.cx.typeck_results().type_dependent_def_id(parent.hir_id);\n-                            let method_ty = self.cx.tcx.bound_type_of(method_def_id).subst_identity();\n+                            let method_ty = self.cx.tcx.type_of(method_def_id).subst_identity();\n                             let self_ty = method_ty.fn_sig(self.cx.tcx).input(0).skip_binder();\n                             if matches!(self_ty.kind(), ty::Ref(_, _, Mutability::Not));\n                             then {"}, {"sha": "b0cfc163fd08b48e5da9b64171db6c58066c30fc", "filename": "src/tools/clippy/clippy_lints/src/methods/vec_resize_to_zero.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fvec_resize_to_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fvec_resize_to_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmethods%2Fvec_resize_to_zero.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -20,7 +20,7 @@ pub(super) fn check<'tcx>(\n     if_chain! {\n         if let Some(method_id) = cx.typeck_results().type_dependent_def_id(expr.hir_id);\n         if let Some(impl_id) = cx.tcx.impl_of_method(method_id);\n-        if is_type_diagnostic_item(cx, cx.tcx.bound_type_of(impl_id).subst_identity(), sym::Vec);\n+        if is_type_diagnostic_item(cx, cx.tcx.type_of(impl_id).subst_identity(), sym::Vec);\n         if let ExprKind::Lit(Spanned { node: LitKind::Int(0, _), .. }) = count_arg.kind;\n         if let ExprKind::Lit(Spanned { node: LitKind::Int(..), .. }) = default_arg.kind;\n         then {"}, {"sha": "e91aac41bc48525de2edc176bbe929eea26375f0", "filename": "src/tools/clippy/clippy_lints/src/mut_reference.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmut_reference.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmut_reference.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fmut_reference.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -52,7 +52,7 @@ impl<'tcx> LateLintPass<'tcx> for UnnecessaryMutPassed {\n             ExprKind::MethodCall(path, receiver, arguments, _) => {\n                 let def_id = cx.typeck_results().type_dependent_def_id(e.hir_id).unwrap();\n                 let substs = cx.typeck_results().node_substs(e.hir_id);\n-                let method_type = cx.tcx.bound_type_of(def_id).subst(cx.tcx, substs);\n+                let method_type = cx.tcx.type_of(def_id).subst(cx.tcx, substs);\n                 check_arguments(\n                     cx,\n                     std::iter::once(receiver).chain(arguments.iter()).collect(),"}, {"sha": "653b1a8a05f6684e50dd1e5748804a9045368110", "filename": "src/tools/clippy/clippy_lints/src/new_without_default.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fnew_without_default.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fnew_without_default.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fnew_without_default.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -98,14 +98,14 @@ impl<'tcx> LateLintPass<'tcx> for NewWithoutDefault {\n                             if name == sym::new;\n                             if cx.effective_visibilities.is_reachable(impl_item.owner_id.def_id);\n                             let self_def_id = cx.tcx.hir().get_parent_item(id.into());\n-                            let self_ty = cx.tcx.bound_type_of(self_def_id).subst_identity();\n+                            let self_ty = cx.tcx.type_of(self_def_id).subst_identity();\n                             if self_ty == return_ty(cx, id);\n                             if let Some(default_trait_id) = cx.tcx.get_diagnostic_item(sym::Default);\n                             then {\n                                 if self.impling_types.is_none() {\n                                     let mut impls = HirIdSet::default();\n                                     cx.tcx.for_each_impl(default_trait_id, |d| {\n-                                        let ty = cx.tcx.bound_type_of(d).subst_identity();\n+                                        let ty = cx.tcx.type_of(d).subst_identity();\n                                         if let Some(ty_def) = ty.ty_adt_def() {\n                                             if let Some(local_def_id) = ty_def.did().as_local() {\n                                                 impls.insert(cx.tcx.hir().local_def_id_to_hir_id(local_def_id));\n@@ -119,7 +119,7 @@ impl<'tcx> LateLintPass<'tcx> for NewWithoutDefault {\n                                 // generics\n                                 if_chain! {\n                                     if let Some(ref impling_types) = self.impling_types;\n-                                    let self_def = cx.tcx.bound_type_of(self_def_id).subst_identity();\n+                                    let self_def = cx.tcx.type_of(self_def_id).subst_identity();\n                                     if let Some(self_def) = self_def.ty_adt_def();\n                                     if let Some(self_local_did) = self_def.did().as_local();\n                                     let self_id = cx.tcx.hir().local_def_id_to_hir_id(self_local_did);"}, {"sha": "0bedab05eec6107b42601529a821f4116e05f9d6", "filename": "src/tools/clippy/clippy_lints/src/non_copy_const.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fnon_copy_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fnon_copy_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fnon_copy_const.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -313,7 +313,7 @@ impl<'tcx> LateLintPass<'tcx> for NonCopyConst {\n                                 // and, in that case, the definition is *not* generic.\n                                 cx.tcx.normalize_erasing_regions(\n                                     cx.tcx.param_env(of_trait_def_id),\n-                                    cx.tcx.bound_type_of(of_assoc_item).subst_identity(),\n+                                    cx.tcx.type_of(of_assoc_item).subst_identity(),\n                                 ),\n                             ))\n                             .is_err();"}, {"sha": "beca203c868d85c9fc470e1309a9cd10995ef6b4", "filename": "src/tools/clippy/clippy_lints/src/self_named_constructors.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fself_named_constructors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fself_named_constructors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fself_named_constructors.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -53,7 +53,7 @@ impl<'tcx> LateLintPass<'tcx> for SelfNamedConstructors {\n \n         let parent = cx.tcx.hir().get_parent_item(impl_item.hir_id()).def_id;\n         let item = cx.tcx.hir().expect_item(parent);\n-        let self_ty = cx.tcx.bound_type_of(item.owner_id).subst_identity();\n+        let self_ty = cx.tcx.type_of(item.owner_id).subst_identity();\n         let ret_ty = return_ty(cx, impl_item.owner_id);\n \n         // Do not check trait impls"}, {"sha": "5e24213d07fd24cd9704e26ff039e037e3804701", "filename": "src/tools/clippy/clippy_lints/src/transmute/transmute_undefined_repr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Ftransmute%2Ftransmute_undefined_repr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Ftransmute%2Ftransmute_undefined_repr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Ftransmute%2Ftransmute_undefined_repr.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -273,7 +273,7 @@ fn reduce_ty<'tcx>(cx: &LateContext<'tcx>, mut ty: Ty<'tcx>) -> ReducedTy<'tcx>\n                     .non_enum_variant()\n                     .fields\n                     .iter()\n-                    .map(|f| cx.tcx.bound_type_of(f.did).subst(cx.tcx, substs));\n+                    .map(|f| cx.tcx.type_of(f.did).subst(cx.tcx, substs));\n                 let Some(sized_ty) = iter.find(|&ty| !is_zero_sized_ty(cx, ty)) else {\n                     return ReducedTy::TypeErasure { raw_ptr_only: false };\n                 };"}, {"sha": "e7c54000684abda97e466d071186c88fbe92bd32", "filename": "src/tools/clippy/clippy_lints/src/use_self.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fuse_self.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fuse_self.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Fuse_self.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -218,7 +218,7 @@ impl<'tcx> LateLintPass<'tcx> for UseSelf {\n             } else {\n                 hir_ty_to_ty(cx.tcx, hir_ty)\n             };\n-            if same_type_and_consts(ty, cx.tcx.bound_type_of(impl_id).subst_identity());\n+            if same_type_and_consts(ty, cx.tcx.type_of(impl_id).subst_identity());\n             then {\n                 span_lint(cx, hir_ty.span);\n             }\n@@ -230,7 +230,7 @@ impl<'tcx> LateLintPass<'tcx> for UseSelf {\n             if !expr.span.from_expansion();\n             if self.msrv.meets(msrvs::TYPE_ALIAS_ENUM_VARIANTS);\n             if let Some(&StackItem::Check { impl_id, .. }) = self.stack.last();\n-            if cx.typeck_results().expr_ty(expr) == cx.tcx.bound_type_of(impl_id).subst_identity();\n+            if cx.typeck_results().expr_ty(expr) == cx.tcx.type_of(impl_id).subst_identity();\n             then {} else { return; }\n         }\n         match expr.kind {\n@@ -254,7 +254,7 @@ impl<'tcx> LateLintPass<'tcx> for UseSelf {\n             if let PatKind::Path(QPath::Resolved(_, path))\n                  | PatKind::TupleStruct(QPath::Resolved(_, path), _, _)\n                  | PatKind::Struct(QPath::Resolved(_, path), _, _) = pat.kind;\n-            if cx.typeck_results().pat_ty(pat) == cx.tcx.bound_type_of(impl_id).subst_identity();\n+            if cx.typeck_results().pat_ty(pat) == cx.tcx.type_of(impl_id).subst_identity();\n             then {\n                 check_path(cx, path);\n             }"}, {"sha": "688a8b865f329475037d888104412acd7cd3d687", "filename": "src/tools/clippy/clippy_lints/src/utils/internal_lints/interning_defined_symbol.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Futils%2Finternal_lints%2Finterning_defined_symbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Futils%2Finternal_lints%2Finterning_defined_symbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Futils%2Finternal_lints%2Finterning_defined_symbol.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -78,7 +78,7 @@ impl<'tcx> LateLintPass<'tcx> for InterningDefinedSymbol {\n                 for item in cx.tcx.module_children(def_id).iter() {\n                     if_chain! {\n                         if let Res::Def(DefKind::Const, item_def_id) = item.res;\n-                        let ty = cx.tcx.bound_type_of(item_def_id).subst_identity();\n+                        let ty = cx.tcx.type_of(item_def_id).subst_identity();\n                         if match_type(cx, ty, &paths::SYMBOL);\n                         if let Ok(ConstValue::Scalar(value)) = cx.tcx.const_eval_poly(item_def_id);\n                         if let Ok(value) = value.to_u32();"}, {"sha": "09f0f0d0adb6f28a8bb66aa595387e3790296b38", "filename": "src/tools/clippy/clippy_lints/src/utils/internal_lints/msrv_attr_impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Futils%2Finternal_lints%2Fmsrv_attr_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Futils%2Finternal_lints%2Fmsrv_attr_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Futils%2Finternal_lints%2Fmsrv_attr_impl.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -38,7 +38,7 @@ impl LateLintPass<'_> for MsrvAttrImpl {\n             if self_ty_def.is_struct();\n             if self_ty_def.all_fields().any(|f| {\n                 cx.tcx\n-                    .bound_type_of(f.did)\n+                    .type_of(f.did)\n                     .subst_identity()\n                     .walk()\n                     .filter(|t| matches!(t.unpack(), GenericArgKind::Type(_)))"}, {"sha": "ee5e42bae0f10592f03b876de3cb6b6eb26edb2b", "filename": "src/tools/clippy/clippy_lints/src/utils/internal_lints/unnecessary_def_path.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Futils%2Finternal_lints%2Funnecessary_def_path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Futils%2Finternal_lints%2Funnecessary_def_path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_lints%2Fsrc%2Futils%2Finternal_lints%2Funnecessary_def_path.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -229,11 +229,11 @@ fn path_to_matched_type(cx: &LateContext<'_>, expr: &hir::Expr<'_>) -> Option<Ve\n             Res::Def(DefKind::Static(_), def_id) => read_mir_alloc_def_path(\n                 cx,\n                 cx.tcx.eval_static_initializer(def_id).ok()?.inner(),\n-                cx.tcx.bound_type_of(def_id).subst_identity(),\n+                cx.tcx.type_of(def_id).subst_identity(),\n             ),\n             Res::Def(DefKind::Const, def_id) => match cx.tcx.const_eval_poly(def_id).ok()? {\n                 ConstValue::ByRef { alloc, offset } if offset.bytes() == 0 => {\n-                    read_mir_alloc_def_path(cx, alloc.inner(), cx.tcx.bound_type_of(def_id).subst_identity())\n+                    read_mir_alloc_def_path(cx, alloc.inner(), cx.tcx.type_of(def_id).subst_identity())\n                 },\n                 _ => None,\n             },"}, {"sha": "6ff7728374f83f87dd2906269e3d2df294ec6479", "filename": "src/tools/clippy/clippy_utils/src/eager_or_lazy.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_utils%2Fsrc%2Feager_or_lazy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_utils%2Fsrc%2Feager_or_lazy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_utils%2Fsrc%2Feager_or_lazy.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -50,7 +50,7 @@ fn fn_eagerness(cx: &LateContext<'_>, fn_id: DefId, name: Symbol, have_one_arg:\n     let name = name.as_str();\n \n     let ty = match cx.tcx.impl_of_method(fn_id) {\n-        Some(id) => cx.tcx.bound_type_of(id).subst_identity(),\n+        Some(id) => cx.tcx.type_of(id).subst_identity(),\n         None => return Lazy,\n     };\n \n@@ -71,7 +71,7 @@ fn fn_eagerness(cx: &LateContext<'_>, fn_id: DefId, name: Symbol, have_one_arg:\n             .variants()\n             .iter()\n             .flat_map(|v| v.fields.iter())\n-            .any(|x| matches!(cx.tcx.bound_type_of(x.did).subst_identity().peel_refs().kind(), ty::Param(_)))\n+            .any(|x| matches!(cx.tcx.type_of(x.did).subst_identity().peel_refs().kind(), ty::Param(_)))\n             && all_predicates_of(cx.tcx, fn_id).all(|(pred, _)| match pred.kind().skip_binder() {\n                 PredicateKind::Clause(ty::Clause::Trait(pred)) => cx.tcx.trait_def(pred.trait_ref.def_id).is_marker,\n                 _ => true,"}, {"sha": "b2edd1bbfef43da794184d1c5523e4d5df39122b", "filename": "src/tools/clippy/clippy_utils/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_utils%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_utils%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_utils%2Fsrc%2Flib.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -317,7 +317,7 @@ pub fn match_trait_method(cx: &LateContext<'_>, expr: &Expr<'_>, path: &[&str])\n /// Checks if a method is defined in an impl of a diagnostic item\n pub fn is_diag_item_method(cx: &LateContext<'_>, def_id: DefId, diag_item: Symbol) -> bool {\n     if let Some(impl_did) = cx.tcx.impl_of_method(def_id) {\n-        if let Some(adt) = cx.tcx.bound_type_of(impl_did).subst_identity().ty_adt_def() {\n+        if let Some(adt) = cx.tcx.type_of(impl_did).subst_identity().ty_adt_def() {\n             return cx.tcx.is_diagnostic_item(diag_item, adt.did());\n         }\n     }\n@@ -812,7 +812,7 @@ fn is_default_equivalent_ctor(cx: &LateContext<'_>, def_id: DefId, path: &QPath<\n     if let QPath::TypeRelative(_, method) = path {\n         if method.ident.name == sym::new {\n             if let Some(impl_did) = cx.tcx.impl_of_method(def_id) {\n-                if let Some(adt) = cx.tcx.bound_type_of(impl_did).subst_identity().ty_adt_def() {\n+                if let Some(adt) = cx.tcx.type_of(impl_did).subst_identity().ty_adt_def() {\n                     return std_types_symbols.iter().any(|&symbol| {\n                         cx.tcx.is_diagnostic_item(symbol, adt.did()) || Some(adt.did()) == cx.tcx.lang_items().string()\n                     });"}, {"sha": "2ed301fcc2291b70e5820051b765b9ecce2994b7", "filename": "src/tools/clippy/clippy_utils/src/ty.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_utils%2Fsrc%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fclippy%2Fclippy_utils%2Fsrc%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fclippy%2Fclippy_utils%2Fsrc%2Fty.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -780,7 +780,7 @@ impl core::ops::Add<u32> for EnumValue {\n #[expect(clippy::cast_possible_truncation, clippy::cast_possible_wrap)]\n pub fn read_explicit_enum_value(tcx: TyCtxt<'_>, id: DefId) -> Option<EnumValue> {\n     if let Ok(ConstValue::Scalar(Scalar::Int(value))) = tcx.const_eval_poly(id) {\n-        match tcx.bound_type_of(id).subst_identity().kind() {\n+        match tcx.type_of(id).subst_identity().kind() {\n             ty::Int(_) => Some(EnumValue::Signed(match value.size().bytes() {\n                 1 => i128::from(value.assert_bits(Size::from_bytes(1)) as u8 as i8),\n                 2 => i128::from(value.assert_bits(Size::from_bytes(2)) as u16 as i16),\n@@ -903,7 +903,7 @@ pub fn variant_of_res<'tcx>(cx: &LateContext<'tcx>, res: Res) -> Option<&'tcx Va\n             let var_id = cx.tcx.parent(id);\n             Some(cx.tcx.adt_def(cx.tcx.parent(var_id)).variant_with_id(var_id))\n         },\n-        Res::SelfCtor(id) => Some(cx.tcx.bound_type_of(id).subst_identity().ty_adt_def().unwrap().non_enum_variant()),\n+        Res::SelfCtor(id) => Some(cx.tcx.type_of(id).subst_identity().ty_adt_def().unwrap().non_enum_variant()),\n         _ => None,\n     }\n }"}, {"sha": "c99cc68dbab4b08ccf2ea70ce2c3f0b20ce18b81", "filename": "src/tools/miri/src/machine.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fmiri%2Fsrc%2Fmachine.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c183110cc26abb506dba0a4def917735fb6eb6f0/src%2Ftools%2Fmiri%2Fsrc%2Fmachine.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Fsrc%2Fmachine.rs?ref=c183110cc26abb506dba0a4def917735fb6eb6f0", "patch": "@@ -901,7 +901,7 @@ impl<'mir, 'tcx> Machine<'mir, 'tcx> for MiriMachine<'mir, 'tcx> {\n                 panic!(\"extern_statics cannot contain wildcards\")\n             };\n             let (shim_size, shim_align, _kind) = ecx.get_alloc_info(alloc_id);\n-            let def_ty = ecx.tcx.bound_type_of(def_id).subst_identity();\n+            let def_ty = ecx.tcx.type_of(def_id).subst_identity();\n             let extern_decl_layout =\n                 ecx.tcx.layout_of(ty::ParamEnv::empty().and(def_ty)).unwrap();\n             if extern_decl_layout.size != shim_size || extern_decl_layout.align.abi != shim_align {"}]}