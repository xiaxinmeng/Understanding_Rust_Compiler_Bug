{"sha": "fe565954ea358642ce6598c8f74f6f14b5a3fba0", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZlNTY1OTU0ZWEzNTg2NDJjZTY1OThjOGY3NGY2ZjE0YjVhM2ZiYTA=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2016-03-02T01:31:15Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2016-03-02T01:31:15Z"}, "message": "Rollup merge of #31989 - Kimundi:more_flexible_str_pattern_indirection, r=bluss\n\nThis allows a bit more flexibility in how to use it, see the included test case.", "tree": {"sha": "ea1e7c5982975dc9794a33263866ca050270b7b3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ea1e7c5982975dc9794a33263866ca050270b7b3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fe565954ea358642ce6598c8f74f6f14b5a3fba0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fe565954ea358642ce6598c8f74f6f14b5a3fba0", "html_url": "https://github.com/rust-lang/rust/commit/fe565954ea358642ce6598c8f74f6f14b5a3fba0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fe565954ea358642ce6598c8f74f6f14b5a3fba0/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3f7867c21f60e555768f912b17552fde7991ed1d", "url": "https://api.github.com/repos/rust-lang/rust/commits/3f7867c21f60e555768f912b17552fde7991ed1d", "html_url": "https://github.com/rust-lang/rust/commit/3f7867c21f60e555768f912b17552fde7991ed1d"}, {"sha": "dd67e55c10acf80dbd2c14a8eb231e265b5776a4", "url": "https://api.github.com/repos/rust-lang/rust/commits/dd67e55c10acf80dbd2c14a8eb231e265b5776a4", "html_url": "https://github.com/rust-lang/rust/commit/dd67e55c10acf80dbd2c14a8eb231e265b5776a4"}], "stats": {"total": 15, "additions": 14, "deletions": 1}, "files": [{"sha": "b84b37dbf752cdb8467804368b67e90d8dcab552", "filename": "src/libcollectionstest/str.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/fe565954ea358642ce6598c8f74f6f14b5a3fba0/src%2Flibcollectionstest%2Fstr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe565954ea358642ce6598c8f74f6f14b5a3fba0/src%2Flibcollectionstest%2Fstr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollectionstest%2Fstr.rs?ref=fe565954ea358642ce6598c8f74f6f14b5a3fba0", "patch": "@@ -1508,6 +1508,19 @@ generate_iterator_test! {\n     with str::rsplitn;\n }\n \n+#[test]\n+fn different_str_pattern_forwarding_lifetimes() {\n+    use std::str::pattern::Pattern;\n+\n+    fn foo<'a, P>(p: P) where for<'b> &'b P: Pattern<'a> {\n+        for _ in 0..3 {\n+            \"asdf\".find(&p);\n+        }\n+    }\n+\n+    foo::<&str>(\"x\");\n+}\n+\n mod bench {\n     use test::{Bencher, black_box};\n "}, {"sha": "abad29cb7751eda4c5662f917312cf4e8bed3623", "filename": "src/libcore/str/pattern.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fe565954ea358642ce6598c8f74f6f14b5a3fba0/src%2Flibcore%2Fstr%2Fpattern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe565954ea358642ce6598c8f74f6f14b5a3fba0/src%2Flibcore%2Fstr%2Fpattern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fstr%2Fpattern.rs?ref=fe565954ea358642ce6598c8f74f6f14b5a3fba0", "patch": "@@ -492,7 +492,7 @@ impl<'a, F> Pattern<'a> for F where F: FnMut(char) -> bool {\n /////////////////////////////////////////////////////////////////////////////\n \n /// Delegates to the `&str` impl.\n-impl<'a, 'b> Pattern<'a> for &'b &'b str {\n+impl<'a, 'b, 'c> Pattern<'a> for &'c &'b str {\n     pattern_methods!(StrSearcher<'a, 'b>, |&s| s, |s| s);\n }\n "}]}