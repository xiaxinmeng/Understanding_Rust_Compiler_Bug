{"sha": "a50c379fcd8d0a4a9bc5ee1a837c299d3e5206f8", "node_id": "C_kwDOAAsO6NoAKGE1MGMzNzlmY2Q4ZDBhNGE5YmM1ZWUxYTgzN2MyOTlkM2U1MjA2Zjg", "commit": {"author": {"name": "Dylan DPC", "email": "99973273+Dylan-DPC@users.noreply.github.com", "date": "2023-02-11T05:45:58Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-02-11T05:45:58Z"}, "message": "Rollup merge of #107900 - ChrisDenton:zero-header, r=thomcc\n\nZero the `REPARSE_MOUNTPOINT_DATA_BUFFER` header\n\nMakes sure the full header is correctly initialized.\n\nFixes #107884", "tree": {"sha": "cf57321b09a0f555d2f3beb9aa0fbf62e5138951", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cf57321b09a0f555d2f3beb9aa0fbf62e5138951"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a50c379fcd8d0a4a9bc5ee1a837c299d3e5206f8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJj5yuWCRBK7hj4Ov3rIwAAE24IAITXmlKkE1KsrDEU5t7Jzblm\nd/90SWSmHAkV2tgl/a482e47GCoafMnSt2W+Nc1orPqC6tXn4ppUH/aLhbxjzzxF\n+xTUG8cLSZT0Yxq7ix6tuiBE5bbXhYsybcocCHCB+HL0Sk85bTZEtBT6VmtMTUGE\npAKv2t7JMIw7nQS+uGNRZRrTQYZdDtvfQVazRiGdRrVlHdBqcf6SUaOOO72ckTz6\nG9LVtHiS9q7rRB7hbOdO4738nmigu8XbWLwzcbWtaaDGIuf99SQVnWKg1igq5f/I\n1nMiK2txpB8Q5xaDiYtFZZu1Xu1eQXtt/faiZ0s13+oBosGlnjrVjVwI0TVOpRk=\n=Hw74\n-----END PGP SIGNATURE-----\n", "payload": "tree cf57321b09a0f555d2f3beb9aa0fbf62e5138951\nparent 745361d17d348013a554c5019b4d0c5cf17aa1de\nparent 59b11e8fa39090f555b8d91eb0c359ad0adaabc4\nauthor Dylan DPC <99973273+Dylan-DPC@users.noreply.github.com> 1676094358 +0530\ncommitter GitHub <noreply@github.com> 1676094358 +0530\n\nRollup merge of #107900 - ChrisDenton:zero-header, r=thomcc\n\nZero the `REPARSE_MOUNTPOINT_DATA_BUFFER` header\n\nMakes sure the full header is correctly initialized.\n\nFixes #107884\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a50c379fcd8d0a4a9bc5ee1a837c299d3e5206f8", "html_url": "https://github.com/rust-lang/rust/commit/a50c379fcd8d0a4a9bc5ee1a837c299d3e5206f8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a50c379fcd8d0a4a9bc5ee1a837c299d3e5206f8/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "745361d17d348013a554c5019b4d0c5cf17aa1de", "url": "https://api.github.com/repos/rust-lang/rust/commits/745361d17d348013a554c5019b4d0c5cf17aa1de", "html_url": "https://github.com/rust-lang/rust/commit/745361d17d348013a554c5019b4d0c5cf17aa1de"}, {"sha": "59b11e8fa39090f555b8d91eb0c359ad0adaabc4", "url": "https://api.github.com/repos/rust-lang/rust/commits/59b11e8fa39090f555b8d91eb0c359ad0adaabc4", "html_url": "https://github.com/rust-lang/rust/commit/59b11e8fa39090f555b8d91eb0c359ad0adaabc4"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "f1a784b5fd2e75c96cd7b5adb3eb2e1d2fee26ed", "filename": "library/std/src/sys/windows/fs.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a50c379fcd8d0a4a9bc5ee1a837c299d3e5206f8/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a50c379fcd8d0a4a9bc5ee1a837c299d3e5206f8/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Ffs.rs?ref=a50c379fcd8d0a4a9bc5ee1a837c299d3e5206f8", "patch": "@@ -1393,6 +1393,8 @@ fn symlink_junction_inner(original: &Path, junction: &Path) -> io::Result<()> {\n         let mut data = Align8([MaybeUninit::<u8>::uninit(); c::MAXIMUM_REPARSE_DATA_BUFFER_SIZE]);\n         let data_ptr = data.0.as_mut_ptr();\n         let db = data_ptr.cast::<c::REPARSE_MOUNTPOINT_DATA_BUFFER>();\n+        // Zero the header to ensure it's fully initialized, including reserved parameters.\n+        *db = mem::zeroed();\n         let buf = ptr::addr_of_mut!((*db).ReparseTarget).cast::<c::WCHAR>();\n         let mut i = 0;\n         // FIXME: this conversion is very hacky"}]}