{"sha": "bfd8a14065fee0eaaa9393c4b333e9b9075fd367", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJmZDhhMTQwNjVmZWUwZWFhYTkzOTNjNGIzMzNlOWI5MDc1ZmQzNjc=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-28T22:00:35Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-29T19:38:44Z"}, "message": "rustdoc: Create an item tag to hold doc for all item types", "tree": {"sha": "2d8d536dfd7c640f27c50e4d92e35810826e83b5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2d8d536dfd7c640f27c50e4d92e35810826e83b5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bfd8a14065fee0eaaa9393c4b333e9b9075fd367", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bfd8a14065fee0eaaa9393c4b333e9b9075fd367", "html_url": "https://github.com/rust-lang/rust/commit/bfd8a14065fee0eaaa9393c4b333e9b9075fd367", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bfd8a14065fee0eaaa9393c4b333e9b9075fd367/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2740a6b6052206a381933812cfe9337a7ed2db60", "url": "https://api.github.com/repos/rust-lang/rust/commits/2740a6b6052206a381933812cfe9337a7ed2db60", "html_url": "https://github.com/rust-lang/rust/commit/2740a6b6052206a381933812cfe9337a7ed2db60"}], "stats": {"total": 12, "additions": 12, "deletions": 0}, "files": [{"sha": "2620771348ad88cca0f250580bfeb4434936eb80", "filename": "src/rustdoc/doc.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/bfd8a14065fee0eaaa9393c4b333e9b9075fd367/src%2Frustdoc%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfd8a14065fee0eaaa9393c4b333e9b9075fd367/src%2Frustdoc%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fdoc.rs?ref=bfd8a14065fee0eaaa9393c4b333e9b9075fd367", "patch": "@@ -6,12 +6,21 @@ type cratedoc = ~{\n     topmod: moddoc,\n };\n \n+enum itemtag {\n+    modtag(moddoc),\n+    consttag(constdoc),\n+    fntag(fndoc),\n+    enumtag(enumdoc),\n+    restag(resdoc)\n+}\n+\n type moddoc = ~{\n     id: ast_id,\n     name: str,\n     path: [str],\n     brief: option<str>,\n     desc: option<str>,\n+    items: [itemtag],\n     mods: modlist,\n     fns: fnlist,\n     consts: constlist,"}, {"sha": "947faa42e6a274ed6e1293ee250443d3ee02b33d", "filename": "src/rustdoc/extract.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/bfd8a14065fee0eaaa9393c4b333e9b9075fd367/src%2Frustdoc%2Fextract.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfd8a14065fee0eaaa9393c4b333e9b9075fd367/src%2Frustdoc%2Fextract.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fextract.rs?ref=bfd8a14065fee0eaaa9393c4b333e9b9075fd367", "patch": "@@ -43,6 +43,7 @@ fn moddoc_from_mod(\n         path: [],\n         brief: none,\n         desc: none,\n+        items: [],\n         mods: doc::modlist(\n             vec::filter_map(module.items) {|item|\n                 alt item.node {"}, {"sha": "55cd74c3a7a3e7f7845cb9c3e3c85692b4245d1d", "filename": "src/rustdoc/rustdoc.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfd8a14065fee0eaaa9393c4b333e9b9075fd367/src%2Frustdoc%2Frustdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfd8a14065fee0eaaa9393c4b333e9b9075fd367/src%2Frustdoc%2Frustdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Frustdoc.rs?ref=bfd8a14065fee0eaaa9393c4b333e9b9075fd367", "patch": "@@ -49,6 +49,7 @@ fn test_run_passes() {\n                 path: [],\n                 brief: none,\n                 desc: none,\n+                items: [],\n                 mods: doc::modlist([]),\n                 fns: doc::fnlist([]),\n                 consts: doc::constlist([]),\n@@ -68,6 +69,7 @@ fn test_run_passes() {\n                 path: [],\n                 brief: none,\n                 desc: none,\n+                items: [],\n                 mods: doc::modlist([]),\n                 fns: doc::fnlist([]),\n                 consts: doc::constlist([]),"}]}