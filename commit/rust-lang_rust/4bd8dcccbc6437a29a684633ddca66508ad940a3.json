{"sha": "4bd8dcccbc6437a29a684633ddca66508ad940a3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRiZDhkY2NjYmM2NDM3YTI5YTY4NDYzM2RkY2E2NjUwOGFkOTQwYTM=", "commit": {"author": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-04-11T19:05:18Z"}, "committer": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-04-11T19:05:18Z"}, "message": "Try to fix the windows build.", "tree": {"sha": "fde396dc779e389493280cacab010b1b0bfc4ee8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fde396dc779e389493280cacab010b1b0bfc4ee8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4bd8dcccbc6437a29a684633ddca66508ad940a3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4bd8dcccbc6437a29a684633ddca66508ad940a3", "html_url": "https://github.com/rust-lang/rust/commit/4bd8dcccbc6437a29a684633ddca66508ad940a3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4bd8dcccbc6437a29a684633ddca66508ad940a3/comments", "author": null, "committer": null, "parents": [{"sha": "e733311a95fcde5d4d41210577d22f08a5f07f1a", "url": "https://api.github.com/repos/rust-lang/rust/commits/e733311a95fcde5d4d41210577d22f08a5f07f1a", "html_url": "https://github.com/rust-lang/rust/commit/e733311a95fcde5d4d41210577d22f08a5f07f1a"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "ce61fed774e1f6af9d8f26157206dd8d2d1823ce", "filename": "Makefile.in", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4bd8dcccbc6437a29a684633ddca66508ad940a3/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/4bd8dcccbc6437a29a684633ddca66508ad940a3/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=4bd8dcccbc6437a29a684633ddca66508ad940a3", "patch": "@@ -431,12 +431,15 @@ rustllvm/rustllvmbits.a: $(RUSTLLVM_LIB_OBJS)\n \trm -f $@\n \tar crs $@ $^\n \n+# Note: We pass $(CFG_LLVM_LIBS) twice to fix the windows link since\n+# it has no -whole-archive.\n rustllvm/$(CFG_RUSTLLVM): rustllvm/rustllvmbits.a $(RUSTLLVM_OBJS_OBJS) \\\n                           $(MKFILES) $(RUSTLLVM_HDR) $(RUSTLLVM_DEF)\n \t@$(call E, link: $@)\n \t$(Q)$(call CFG_LINK_C,$@,$(RUSTLLVM_OBJS_OBJS) \\\n \t  $(CFG_GCC_PRE_LIB_FLAGS) $(CFG_LLVM_LIBS) \\\n           $(CFG_GCC_POST_LIB_FLAGS) rustllvm/rustllvmbits.a \\\n+\t  $(CFG_LLVM_LIBS) \\\n           $(CFG_LLVM_LDFLAGS),$(RUSTLLVM_DEF))\n \n ifdef CFG_BOOT_NATIVE"}]}