{"sha": "f01608cbc41783710dd1909707d74d720c2b6cf8", "node_id": "C_kwDOAAsO6NoAKGYwMTYwOGNiYzQxNzgzNzEwZGQxOTA5NzA3ZDc0ZDcyMGMyYjZjZjg", "commit": {"author": {"name": "Andrew Pollack", "email": "andrewpkq@gmail.com", "date": "2022-10-24T15:48:13Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-10-24T15:48:13Z"}, "message": "Update src/tools/compiletest/src/runtest.rs\n\nCo-authored-by: Mark Rousskov <mark.simulacrum@gmail.com>", "tree": {"sha": "5b45a1eb2fb134769bb39de2f1d35e02445be36a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5b45a1eb2fb134769bb39de2f1d35e02445be36a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f01608cbc41783710dd1909707d74d720c2b6cf8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjVrO9CRBK7hj4Ov3rIwAAVVoIAKwj5kduN0e/zCYdrxA4JISN\nzehaitfMuO2oGTmaadcWxNefqpD8B3MDgu1kZbN7LIk3/uVkgys71EdbMCHFmARU\nX3rJCMKjkBVL13OvxE2LR9QgiB40myzSSOYhMkqxmAkr19iX5Ehy7otCFca3lAf1\n3F1/zGNACLjh+yO5ws4NKlnkRLE2dDmRNWjU+lLoLFCDAUuVsvY6P4Rh/9CHGNjE\nvBS4+/vnzEOf7rj6hjEEplARXE2rst3+MPPQw9svSuXZ+Kc8Y/aMvajr1Ev0ZgbY\n4UaynER4a6sSyKXTzmuzpRXsErhlDdqoGLLpoTvXlij7El005hH/s++9MIGqlgA=\n=nhis\n-----END PGP SIGNATURE-----\n", "payload": "tree 5b45a1eb2fb134769bb39de2f1d35e02445be36a\nparent 47703d3f3daaa84b0d8e2c66ddd3835402da0884\nauthor Andrew Pollack <andrewpkq@gmail.com> 1666626493 -0700\ncommitter GitHub <noreply@github.com> 1666626493 -0700\n\nUpdate src/tools/compiletest/src/runtest.rs\n\nCo-authored-by: Mark Rousskov <mark.simulacrum@gmail.com>"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f01608cbc41783710dd1909707d74d720c2b6cf8", "html_url": "https://github.com/rust-lang/rust/commit/f01608cbc41783710dd1909707d74d720c2b6cf8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f01608cbc41783710dd1909707d74d720c2b6cf8/comments", "author": {"login": "andrewpollack", "id": 24868505, "node_id": "MDQ6VXNlcjI0ODY4NTA1", "avatar_url": "https://avatars.githubusercontent.com/u/24868505?v=4", "gravatar_id": "", "url": "https://api.github.com/users/andrewpollack", "html_url": "https://github.com/andrewpollack", "followers_url": "https://api.github.com/users/andrewpollack/followers", "following_url": "https://api.github.com/users/andrewpollack/following{/other_user}", "gists_url": "https://api.github.com/users/andrewpollack/gists{/gist_id}", "starred_url": "https://api.github.com/users/andrewpollack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/andrewpollack/subscriptions", "organizations_url": "https://api.github.com/users/andrewpollack/orgs", "repos_url": "https://api.github.com/users/andrewpollack/repos", "events_url": "https://api.github.com/users/andrewpollack/events{/privacy}", "received_events_url": "https://api.github.com/users/andrewpollack/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "47703d3f3daaa84b0d8e2c66ddd3835402da0884", "url": "https://api.github.com/repos/rust-lang/rust/commits/47703d3f3daaa84b0d8e2c66ddd3835402da0884", "html_url": "https://github.com/rust-lang/rust/commit/47703d3f3daaa84b0d8e2c66ddd3835402da0884"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "8af5f1da694b9f59bd87a7611495c10f1f70b9ea", "filename": "src/tools/compiletest/src/runtest.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f01608cbc41783710dd1909707d74d720c2b6cf8/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f01608cbc41783710dd1909707d74d720c2b6cf8/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fruntest.rs?ref=f01608cbc41783710dd1909707d74d720c2b6cf8", "patch": "@@ -1184,7 +1184,7 @@ impl<'test> TestCx<'test> {\n         // Remove options that are either unwanted (-O) or may lead to duplicates due to RUSTFLAGS.\n         let options_to_remove = [\"-O\".to_owned(), \"-g\".to_owned(), \"--debuginfo\".to_owned()];\n \n-        options.to_vec().into_iter().filter(|x| !options_to_remove.contains(x)).collect()\n+        options.iter().filter(|x| !options_to_remove.contains(x)).map(|x| x.clone()).collect()\n     }\n \n     fn maybe_add_external_args(&self, cmd: &mut Command, args: &Vec<String>) {"}]}