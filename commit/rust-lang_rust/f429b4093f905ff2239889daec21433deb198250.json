{"sha": "f429b4093f905ff2239889daec21433deb198250", "node_id": "C_kwDOAAsO6NoAKGY0MjliNDA5M2Y5MDVmZjIyMzk4ODlkYWVjMjE0MzNkZWIxOTgyNTA", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2022-04-27T12:09:41Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2022-04-27T12:09:41Z"}, "message": "Fix running the rustc test suite", "tree": {"sha": "76ab0c05b3fed6c98f7cd564fc164ff619d50f15", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/76ab0c05b3fed6c98f7cd564fc164ff619d50f15"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f429b4093f905ff2239889daec21433deb198250", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f429b4093f905ff2239889daec21433deb198250", "html_url": "https://github.com/rust-lang/rust/commit/f429b4093f905ff2239889daec21433deb198250", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f429b4093f905ff2239889daec21433deb198250/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7e45747a3d7c0877da20a9931cffc50e1b6d6aa4", "url": "https://api.github.com/repos/rust-lang/rust/commits/7e45747a3d7c0877da20a9931cffc50e1b6d6aa4", "html_url": "https://github.com/rust-lang/rust/commit/7e45747a3d7c0877da20a9931cffc50e1b6d6aa4"}], "stats": {"total": 16, "additions": 1, "deletions": 15}, "files": [{"sha": "fa71dfeac07e4720d0fd9e32ce48b25c00d34c51", "filename": "scripts/setup_rust_fork.sh", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/f429b4093f905ff2239889daec21433deb198250/scripts%2Fsetup_rust_fork.sh", "raw_url": "https://github.com/rust-lang/rust/raw/f429b4093f905ff2239889daec21433deb198250/scripts%2Fsetup_rust_fork.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/scripts%2Fsetup_rust_fork.sh?ref=f429b4093f905ff2239889daec21433deb198250", "patch": "@@ -26,21 +26,6 @@ index d95b5b7f17f..00b6f0e3635 100644\n  [dev-dependencies]\n  rand = \"0.7\"\n  rand_xorshift = \"0.2\"\n-diff --git a/src/tools/compiletest/src/header.rs b/src/tools/compiletest/src/header.rs\n-index 887d27fd6dca4..2c2239f2b83d1 100644\n---- a/src/tools/compiletest/src/header.rs\n-+++ b/src/tools/compiletest/src/header.rs\n-@@ -806,8 +806,8 @@ pub fn make_test_description<R: Read>(\n-     cfg: Option<&str>,\n- ) -> test::TestDesc {\n-     let mut ignore = false;\n-     #[cfg(not(bootstrap))]\n--    let ignore_message: Option<String> = None;\n-+    let ignore_message: Option<&str> = None;\n-     let mut should_fail = false;\n-\n-     let rustc_has_profiler_support = env::var_os(\"RUSTC_PROFILER_SUPPORT\").is_some();\n-\n diff --git a/src/tools/compiletest/src/runtest.rs b/src/tools/compiletest/src/runtest.rs\n index 8431aa7b818..a3ff7e68ce5 100644\n --- a/src/tools/compiletest/src/runtest.rs"}, {"sha": "5afab7c5de54d97a42311cc1df3456b958b3fa36", "filename": "scripts/test_rustc_tests.sh", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f429b4093f905ff2239889daec21433deb198250/scripts%2Ftest_rustc_tests.sh", "raw_url": "https://github.com/rust-lang/rust/raw/f429b4093f905ff2239889daec21433deb198250/scripts%2Ftest_rustc_tests.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/scripts%2Ftest_rustc_tests.sh?ref=f429b4093f905ff2239889daec21433deb198250", "patch": "@@ -101,6 +101,7 @@ rm src/test/incremental/spike-neg1.rs # errors out for some reason\n rm src/test/incremental/spike-neg2.rs # same\n rm src/test/ui/issues/issue-74564-if-expr-stack-overflow.rs # gives a stackoverflow before the backend runs\n rm src/test/ui/mir/ssa-analysis-regression-50041.rs # produces ICE\n+rm src/test/ui/type-alias-impl-trait/assoc-projection-ice.rs # produces ICE\n \n rm src/test/ui/simd/intrinsic/generic-reduction-pass.rs # simd_reduce_add_unordered doesn't accept an accumulator for integer vectors\n "}]}