{"sha": "751ac6ce5168b8bbefd83040fb262204072fc4df", "node_id": "C_kwDOAAsO6NoAKDc1MWFjNmNlNTE2OGI4YmJlZmQ4MzA0MGZiMjYyMjA0MDcyZmM0ZGY", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-10-20T04:19:54Z"}, "committer": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-10-20T04:19:54Z"}, "message": "Bless test", "tree": {"sha": "9374811b6731315ae19798c1ecc4929eb347191d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9374811b6731315ae19798c1ecc4929eb347191d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/751ac6ce5168b8bbefd83040fb262204072fc4df", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/751ac6ce5168b8bbefd83040fb262204072fc4df", "html_url": "https://github.com/rust-lang/rust/commit/751ac6ce5168b8bbefd83040fb262204072fc4df", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/751ac6ce5168b8bbefd83040fb262204072fc4df/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "43f2c37f9350b2bed0b81bf858e7478869d8c306", "url": "https://api.github.com/repos/rust-lang/rust/commits/43f2c37f9350b2bed0b81bf858e7478869d8c306", "html_url": "https://github.com/rust-lang/rust/commit/43f2c37f9350b2bed0b81bf858e7478869d8c306"}], "stats": {"total": 22, "additions": 19, "deletions": 3}, "files": [{"sha": "07d3f51edce5ea80eb8baf6e4d3559e7c5bd4385", "filename": "src/test/ui/rfc-2632-const-trait-impl/issue-102985.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/751ac6ce5168b8bbefd83040fb262204072fc4df/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fissue-102985.rs", "raw_url": "https://github.com/rust-lang/rust/raw/751ac6ce5168b8bbefd83040fb262204072fc4df/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fissue-102985.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fissue-102985.rs?ref=751ac6ce5168b8bbefd83040fb262204072fc4df", "patch": "@@ -4,7 +4,8 @@ struct Bug {\n     inner: [(); match || 1 {\n         n => n(),\n         //~^ ERROR the trait bound\n-        //~| ERROR cannot call non-const fn `Bug::inner::{constant#0}::{closure#0}` in constants\n+        //~| ERROR the trait bound\n+        //~| ERROR cannot call non-const closure in constants\n     }],\n }\n "}, {"sha": "b98ccbe5d03ec3839b91a68ce959dc50091c8b81", "filename": "src/test/ui/rfc-2632-const-trait-impl/issue-102985.stderr", "status": "modified", "additions": 17, "deletions": 2, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/751ac6ce5168b8bbefd83040fb262204072fc4df/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fissue-102985.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/751ac6ce5168b8bbefd83040fb262204072fc4df/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fissue-102985.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fissue-102985.stderr?ref=751ac6ce5168b8bbefd83040fb262204072fc4df", "patch": "@@ -12,15 +12,30 @@ LL |         n => n(),\n    |              ^^^\n    = note: wrap the `[closure@$DIR/issue-102985.rs:4:23: 4:25]` in a closure with no arguments: `|| { /* code */ }`\n \n-error[E0015]: cannot call non-const fn `Bug::inner::{constant#0}::{closure#0}` in constants\n+error[E0277]: the trait bound `[closure@$DIR/issue-102985.rs:4:23: 4:25]: ~const Fn<()>` is not satisfied\n+  --> $DIR/issue-102985.rs:5:14\n+   |\n+LL |         n => n(),\n+   |              ^^^ expected an `Fn<()>` closure, found `[closure@$DIR/issue-102985.rs:4:23: 4:25]`\n+   |\n+   = help: the trait `~const Fn<()>` is not implemented for closure `[closure@$DIR/issue-102985.rs:4:23: 4:25]`\n+note: the trait `Fn<()>` is implemented for `[closure@$DIR/issue-102985.rs:4:23: 4:25]`, but that implementation is not `const`\n+  --> $DIR/issue-102985.rs:5:14\n+   |\n+LL |         n => n(),\n+   |              ^^^\n+   = note: wrap the `[closure@$DIR/issue-102985.rs:4:23: 4:25]` in a closure with no arguments: `|| { /* code */ }`\n+\n+error[E0015]: cannot call non-const closure in constants\n   --> $DIR/issue-102985.rs:5:14\n    |\n LL |         n => n(),\n    |              ^^^\n    |\n+   = note: closures need an RFC before allowed to be called in constants\n    = note: calls in constants are limited to constant functions, tuple structs and tuple variants\n \n-error: aborting due to 2 previous errors\n+error: aborting due to 3 previous errors\n \n Some errors have detailed explanations: E0015, E0277.\n For more information about an error, try `rustc --explain E0015`."}]}