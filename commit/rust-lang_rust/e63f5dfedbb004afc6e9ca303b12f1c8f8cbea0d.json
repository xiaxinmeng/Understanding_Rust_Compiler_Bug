{"sha": "e63f5dfedbb004afc6e9ca303b12f1c8f8cbea0d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU2M2Y1ZGZlZGJiMDA0YWZjNmU5Y2EzMDNiMTJmMWM4ZjhjYmVhMGQ=", "commit": {"author": {"name": "Shea Newton", "email": "shnewto@gmail.com", "date": "2018-06-15T15:54:38Z"}, "committer": {"name": "Shea Newton", "email": "shnewto@gmail.com", "date": "2018-06-19T16:28:10Z"}, "message": "Add tests that index with a `const` value.\n\nIn this commit tests were added to ensure that tests with a `const` index behaved as expected.\nIn order to minimize the changes to the test's corresponding `stderr`, the tests were appended to\nthe end of the file.", "tree": {"sha": "983bddd2e8e4c5d95eb26eac70e3b1011d4adc84", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/983bddd2e8e4c5d95eb26eac70e3b1011d4adc84"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e63f5dfedbb004afc6e9ca303b12f1c8f8cbea0d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2\n\niQIcBAABCAAGBQJbKS8bAAoJEBfrkSLclYZDloAP/iWQ/6D4OiMXwv/p3Lay/2SE\nrP5iBapM4NDBUuvmTrUjhKaCiSOPPud+czGa4msK18Cp4B0FJ6Pww4xw0FoF0ZT0\nyB6e2OtjY+ZrS7FtTTlyPLe+YTKBLdG7NB8StXwpBosnE2+QJ2iA5fJFMBR8uc7T\ndNthoXbOYkygEG2bCqbHyQDzIuBgrodfzhse3kGV40HRjy85uApwVvPANiAetZLX\nXOI2xDA6FvMD+k6Cz5g5cDSFbGhNVJJ6LxqGJsSpEhQN0k0WMaCTfMvrBYoWCuhh\nZDTIPVpoE8MIYYoo3MZLrK9lZrtU0E/49viAII73dKWoOm8QmS+EWbhiHKJt701U\njHvummzv+4NJXH99fQRU2Ht8jXRMayQpFtuDrwREGC6bIoSaI9BEzgfbreuAawEk\nHZX5SvZc+q8ksE7UMMZOl6WylUoYRpAgj3v8EiokOYS5yt+js2Kgh/OnC8z4d8iX\nUfawgjduL0jqii2rD8EyIF9X1+daIlxQmpk91ZxdWSioG7tX++K8Kl7QbiZjXCV5\nbKlo/Xsd4L8ggMzpjMcXibeMIhfAnmfkiFtLJgCh6cQCCJXWGcdFik3Bglda28+n\n3GUMVmgRVmjqp6a2pwWjCf7cOzY6BomJ55eA6kXpuDGdkPOPlQydGufhye7dw1wP\nXEE2BGedjuqw+7VBOdKx\n=Qzhj\n-----END PGP SIGNATURE-----", "payload": "tree 983bddd2e8e4c5d95eb26eac70e3b1011d4adc84\nparent 4ec439bef0124a01dd71ea0d5f441066690f33ec\nauthor Shea Newton <shnewto@gmail.com> 1529078078 +0000\ncommitter Shea Newton <shnewto@gmail.com> 1529425690 +0000\n\nAdd tests that index with a `const` value.\n\nIn this commit tests were added to ensure that tests with a `const` index behaved as expected.\nIn order to minimize the changes to the test's corresponding `stderr`, the tests were appended to\nthe end of the file.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e63f5dfedbb004afc6e9ca303b12f1c8f8cbea0d", "html_url": "https://github.com/rust-lang/rust/commit/e63f5dfedbb004afc6e9ca303b12f1c8f8cbea0d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e63f5dfedbb004afc6e9ca303b12f1c8f8cbea0d/comments", "author": {"login": "shnewto", "id": 5607902, "node_id": "MDQ6VXNlcjU2MDc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/5607902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shnewto", "html_url": "https://github.com/shnewto", "followers_url": "https://api.github.com/users/shnewto/followers", "following_url": "https://api.github.com/users/shnewto/following{/other_user}", "gists_url": "https://api.github.com/users/shnewto/gists{/gist_id}", "starred_url": "https://api.github.com/users/shnewto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shnewto/subscriptions", "organizations_url": "https://api.github.com/users/shnewto/orgs", "repos_url": "https://api.github.com/users/shnewto/repos", "events_url": "https://api.github.com/users/shnewto/events{/privacy}", "received_events_url": "https://api.github.com/users/shnewto/received_events", "type": "User", "site_admin": false}, "committer": {"login": "shnewto", "id": 5607902, "node_id": "MDQ6VXNlcjU2MDc5MDI=", "avatar_url": "https://avatars.githubusercontent.com/u/5607902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/shnewto", "html_url": "https://github.com/shnewto", "followers_url": "https://api.github.com/users/shnewto/followers", "following_url": "https://api.github.com/users/shnewto/following{/other_user}", "gists_url": "https://api.github.com/users/shnewto/gists{/gist_id}", "starred_url": "https://api.github.com/users/shnewto/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/shnewto/subscriptions", "organizations_url": "https://api.github.com/users/shnewto/orgs", "repos_url": "https://api.github.com/users/shnewto/repos", "events_url": "https://api.github.com/users/shnewto/events{/privacy}", "received_events_url": "https://api.github.com/users/shnewto/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4ec439bef0124a01dd71ea0d5f441066690f33ec", "url": "https://api.github.com/repos/rust-lang/rust/commits/4ec439bef0124a01dd71ea0d5f441066690f33ec", "html_url": "https://github.com/rust-lang/rust/commit/4ec439bef0124a01dd71ea0d5f441066690f33ec"}], "stats": {"total": 35, "additions": 34, "deletions": 1}, "files": [{"sha": "301658415d61361cd41224629887418db006d18d", "filename": "tests/ui/indexing_slicing.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/e63f5dfedbb004afc6e9ca303b12f1c8f8cbea0d/tests%2Fui%2Findexing_slicing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e63f5dfedbb004afc6e9ca303b12f1c8f8cbea0d/tests%2Fui%2Findexing_slicing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Findexing_slicing.rs?ref=e63f5dfedbb004afc6e9ca303b12f1c8f8cbea0d", "patch": "@@ -68,4 +68,15 @@ fn main() {\n     &v[..100];\n \n     &v[..]; // Ok, should not produce stderr.\n+\n+    //\n+    // Continue tests at end function to minimize the changes to this file's corresponding stderr.\n+    //\n+\n+    const N: usize = 15; // Out of bounds\n+    const M: usize = 3; // In bounds\n+    x[N];\n+    x[M]; // Ok, should not produce stderr.\n+    v[N];\n+    v[M];\n }"}, {"sha": "2546d62bfc68cad8ea30ddd6154b3279dcd7b6a2", "filename": "tests/ui/indexing_slicing.stderr", "status": "modified", "additions": 23, "deletions": 1, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/e63f5dfedbb004afc6e9ca303b12f1c8f8cbea0d/tests%2Fui%2Findexing_slicing.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e63f5dfedbb004afc6e9ca303b12f1c8f8cbea0d/tests%2Fui%2Findexing_slicing.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Findexing_slicing.stderr?ref=e63f5dfedbb004afc6e9ca303b12f1c8f8cbea0d", "patch": "@@ -269,5 +269,27 @@ error: slicing may panic.\n    |\n    = help: Consider using `.get(..n)`or `.get_mut(..n)` instead\n \n-error: aborting due to 38 previous errors\n+error: const index is out of bounds\n+  --> $DIR/indexing_slicing.rs:78:5\n+   |\n+78 |     x[N];\n+   |     ^^^^\n+\n+error: indexing may panic.\n+  --> $DIR/indexing_slicing.rs:80:5\n+   |\n+80 |     v[N];\n+   |     ^^^^\n+   |\n+   = help: Consider using `.get(n)` or `.get_mut(n)` instead\n+\n+error: indexing may panic.\n+  --> $DIR/indexing_slicing.rs:81:5\n+   |\n+81 |     v[M];\n+   |     ^^^^\n+   |\n+   = help: Consider using `.get(n)` or `.get_mut(n)` instead\n+\n+error: aborting due to 41 previous errors\n "}]}