{"sha": "54d34bec59f75e9675f8e79ca471e729763aff6d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0ZDM0YmVjNTlmNzVlOTY3NWY4ZTc5Y2E0NzFlNzI5NzYzYWZmNmQ=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-06-09T22:04:06Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-06-09T22:05:08Z"}, "message": "rustc: Parse istr and ivec", "tree": {"sha": "805ce9039a0a4c134eb7dc156d1b610f4be4fe65", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/805ce9039a0a4c134eb7dc156d1b610f4be4fe65"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/54d34bec59f75e9675f8e79ca471e729763aff6d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/54d34bec59f75e9675f8e79ca471e729763aff6d", "html_url": "https://github.com/rust-lang/rust/commit/54d34bec59f75e9675f8e79ca471e729763aff6d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/54d34bec59f75e9675f8e79ca471e729763aff6d/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1cc3fe567cfbddb5d68a6b884d77b3873ad74b6a", "url": "https://api.github.com/repos/rust-lang/rust/commits/1cc3fe567cfbddb5d68a6b884d77b3873ad74b6a", "html_url": "https://github.com/rust-lang/rust/commit/1cc3fe567cfbddb5d68a6b884d77b3873ad74b6a"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "957c9206c90d4c464308cef2249f4749469a6266", "filename": "src/comp/front/ast.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/54d34bec59f75e9675f8e79ca471e729763aff6d/src%2Fcomp%2Ffront%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54d34bec59f75e9675f8e79ca471e729763aff6d/src%2Fcomp%2Ffront%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Ffront%2Fast.rs?ref=54d34bec59f75e9675f8e79ca471e729763aff6d", "patch": "@@ -346,6 +346,8 @@ tag ty_ {\n     ty_obj(vec[ty_method]);\n     ty_path(path, ann);\n     ty_type;\n+    ty_ivec(@ty);   // interior vector\n+    ty_istr;        // interior string\n     ty_constr(@ty, vec[@constr]);\n }\n "}, {"sha": "29c356655af1229144cc397b4889dec84d99cbfc", "filename": "src/comp/front/parser.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/54d34bec59f75e9675f8e79ca471e729763aff6d/src%2Fcomp%2Ffront%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54d34bec59f75e9675f8e79ca471e729763aff6d/src%2Fcomp%2Ffront%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Ffront%2Fparser.rs?ref=54d34bec59f75e9675f8e79ca471e729763aff6d", "patch": "@@ -485,6 +485,7 @@ fn parse_ty(&parser p) -> @ast::ty {\n     else if (eat_word(p, \"uint\")) { t = ast::ty_uint; }\n     else if (eat_word(p, \"float\")) { t = ast::ty_float; }\n     else if (eat_word(p, \"str\")) { t = ast::ty_str; }\n+    else if (eat_word(p, \"istr\")) { t = ast::ty_istr; }\n     else if (eat_word(p, \"char\")) { t = ast::ty_char; }\n     else if (eat_word(p, \"task\")) { t = ast::ty_task; }\n     else if (eat_word(p, \"i8\")) { t = ast::ty_machine(common::ty_i8); }\n@@ -570,6 +571,11 @@ fn parse_ty(&parser p) -> @ast::ty {\n         t = ast::ty_chan(parse_ty(p));\n         hi = p.get_hi_pos();\n         expect(p, token::RBRACKET);\n+    } else if (eat_word(p, \"ivec\")) {\n+        expect(p, token::LBRACKET);\n+        t = ast::ty_ivec(parse_ty(p));\n+        hi = p.get_hi_pos();\n+        expect(p, token::RBRACKET);\n     } else if (eat_word(p, \"mutable\")) {\n         p.get_session().span_warn(p.get_span(),\n             \"ignoring deprecated 'mutable' type constructor\");"}]}