{"sha": "1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFjZjljYWZlYjE0YzRlOWIxNjcyN2IxMDk1M2RhOTVjNWM1YjBiMWQ=", "commit": {"author": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2016-08-16T22:07:55Z"}, "committer": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2016-08-16T22:12:51Z"}, "message": "add mips-uclibc targets\n\nThese targets cover OpenWRT 15.05 devices, which use the soft float ABI\nand the uclibc library. None of the other built-in mips targets covered\nthose devices (mips-gnu is hard float and glibc-based, mips-musl is\nmusl-based).\n\nWith this commit one can now build std for these devices using these\ncommands:\n\n```\n$ configure --enable-rustbuild --target=mips-unknown-linux-uclibc\n$ make\n```\n\ncc #35673", "tree": {"sha": "120bbd1d01dc1ae9f3dab4e45a0dce33f31e9f9a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/120bbd1d01dc1ae9f3dab4e45a0dce33f31e9f9a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d", "html_url": "https://github.com/rust-lang/rust/commit/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d/comments", "author": null, "committer": null, "parents": [{"sha": "197be89f367d1240d5f9cd9c4efd77812775354e", "url": "https://api.github.com/repos/rust-lang/rust/commits/197be89f367d1240d5f9cd9c4efd77812775354e", "html_url": "https://github.com/rust-lang/rust/commit/197be89f367d1240d5f9cd9c4efd77812775354e"}], "stats": {"total": 65, "additions": 65, "deletions": 0}, "files": [{"sha": "34aee77ae2107fbe45fcb960d74d2ffdd5c57bf1", "filename": "mk/cfg/mips-unknown-linux-uclibc.mk", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d/mk%2Fcfg%2Fmips-unknown-linux-uclibc.mk", "raw_url": "https://github.com/rust-lang/rust/raw/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d/mk%2Fcfg%2Fmips-unknown-linux-uclibc.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fmips-unknown-linux-uclibc.mk?ref=1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d", "patch": "@@ -0,0 +1 @@\n+# rustbuild-only target"}, {"sha": "34aee77ae2107fbe45fcb960d74d2ffdd5c57bf1", "filename": "mk/cfg/mipsel-unknown-linux-uclibc.mk", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d/mk%2Fcfg%2Fmipsel-unknown-linux-uclibc.mk", "raw_url": "https://github.com/rust-lang/rust/raw/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d/mk%2Fcfg%2Fmipsel-unknown-linux-uclibc.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fmipsel-unknown-linux-uclibc.mk?ref=1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d", "patch": "@@ -0,0 +1 @@\n+# rustbuild-only target"}, {"sha": "529bd310391cde4b9a8b4ad019d94bc27732d18e", "filename": "src/librustc_back/target/mips_unknown_linux_uclibc.rs", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d/src%2Flibrustc_back%2Ftarget%2Fmips_unknown_linux_uclibc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d/src%2Flibrustc_back%2Ftarget%2Fmips_unknown_linux_uclibc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fmips_unknown_linux_uclibc.rs?ref=1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d", "patch": "@@ -0,0 +1,30 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+use target::{Target, TargetOptions, TargetResult};\n+\n+pub fn target() -> TargetResult {\n+    Ok(Target {\n+        llvm_target: \"mips-unknown-linux-uclibc\".to_string(),\n+        target_endian: \"big\".to_string(),\n+        target_pointer_width: \"32\".to_string(),\n+        data_layout: \"E-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64\".to_string(),\n+        arch: \"mips\".to_string(),\n+        target_os: \"linux\".to_string(),\n+        target_env: \"uclibc\".to_string(),\n+        target_vendor: \"unknown\".to_string(),\n+        options: TargetOptions {\n+            cpu: \"mips32r2\".to_string(),\n+            features: \"+mips32r2,+soft-float\".to_string(),\n+            max_atomic_width: 32,\n+            ..super::linux_base::opts()\n+        },\n+    })\n+}"}, {"sha": "1040a0fbe1724b558bad164e19819bd832ba085b", "filename": "src/librustc_back/target/mipsel_unknown_linux_uclibc.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d/src%2Flibrustc_back%2Ftarget%2Fmipsel_unknown_linux_uclibc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d/src%2Flibrustc_back%2Ftarget%2Fmipsel_unknown_linux_uclibc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fmipsel_unknown_linux_uclibc.rs?ref=1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+use target::{Target, TargetOptions, TargetResult};\n+\n+pub fn target() -> TargetResult {\n+    Ok(Target {\n+        llvm_target: \"mipsel-unknown-linux-uclibc\".to_string(),\n+        target_endian: \"little\".to_string(),\n+        target_pointer_width: \"32\".to_string(),\n+        data_layout: \"e-m:m-p:32:32-i8:8:32-i16:16:32-i64:64-n32-S64\".to_string(),\n+        arch: \"mips\".to_string(),\n+        target_os: \"linux\".to_string(),\n+        target_env: \"uclibc\".to_string(),\n+        target_vendor: \"unknown\".to_string(),\n+\n+        options: TargetOptions {\n+            cpu: \"mips32\".to_string(),\n+            features: \"+mips32,+soft-float\".to_string(),\n+            max_atomic_width: 32,\n+            ..super::linux_base::opts()\n+        },\n+    })\n+}"}, {"sha": "86cd86d282cf5d121842cdb4d3581f9c1f5b7597", "filename": "src/librustc_back/target/mod.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d/src%2Flibrustc_back%2Ftarget%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d/src%2Flibrustc_back%2Ftarget%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fmod.rs?ref=1cf9cafeb14c4e9b16727b10953da95c5c5b0b1d", "patch": "@@ -143,6 +143,8 @@ supported_targets! {\n     (\"i686-unknown-linux-musl\", i686_unknown_linux_musl),\n     (\"mips-unknown-linux-musl\", mips_unknown_linux_musl),\n     (\"mipsel-unknown-linux-musl\", mipsel_unknown_linux_musl),\n+    (\"mips-unknown-linux-uclibc\", mips_unknown_linux_uclibc),\n+    (\"mipsel-unknown-linux-uclibc\", mipsel_unknown_linux_uclibc),\n \n     (\"i686-linux-android\", i686_linux_android),\n     (\"arm-linux-androideabi\", arm_linux_androideabi),"}]}