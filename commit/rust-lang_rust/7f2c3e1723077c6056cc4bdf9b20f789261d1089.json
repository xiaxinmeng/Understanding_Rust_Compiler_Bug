{"sha": "7f2c3e1723077c6056cc4bdf9b20f789261d1089", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdmMmMzZTE3MjMwNzdjNjA1NmNjNGJkZjliMjBmNzg5MjYxZDEwODk=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-07-29T00:10:57Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-07-29T00:10:57Z"}, "message": "Rollup merge of #63077 - petrochenkov:nolangfeat, r=petrochenkov\n\ncleanup: Remove some language features related to built-in macros\n\nThey are now library features.\nCleanup after https://github.com/rust-lang/rust/pull/62086.\nThe unstable book files are moved because tidy complained.", "tree": {"sha": "0af5cd1209f91cd17c78f0742021b39a26883b75", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0af5cd1209f91cd17c78f0742021b39a26883b75"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7f2c3e1723077c6056cc4bdf9b20f789261d1089", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdPjmRCRBK7hj4Ov3rIwAAdHIIAATVOma/sPXAJsLJBX2KFMGK\n2SiaPcBh+P41TWWQu9/hhsTg4APhiTXO9XB0xjs+/ZEv2XUNEAmo+GOzKjzpKlcD\nx1HeoQMBmG6ec1ntmGqRkDmqBk0c0MtVnteIRQbnaCDAdUmngoa/id76SjUnP+yV\nsradtR1swaI0/cLHzJ8+v5dR4HrhZ+FyC/m3nKox9xlfrOBmWQhgKfK5Q2uJU5ly\n5KLtCfmTKv8IT82r8IgGMWZ7Kz1mhYBQCaWktsX/Xhrh5eU6HcuD9R8+MRgvZDvt\n0lNt1X62szKHpfzw1cAbbbvjLKGo11Fs4YcFmmnpWdtMPNWKZVY0oAWQPmdQvFY=\n=Oi7S\n-----END PGP SIGNATURE-----\n", "payload": "tree 0af5cd1209f91cd17c78f0742021b39a26883b75\nparent 5922a1916bae66a80acc8aacf28e6aa1743a8dce\nparent b92697b8fbcba1e249c5e166a2462e1284bdd139\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1564359057 +0200\ncommitter GitHub <noreply@github.com> 1564359057 +0200\n\nRollup merge of #63077 - petrochenkov:nolangfeat, r=petrochenkov\n\ncleanup: Remove some language features related to built-in macros\n\nThey are now library features.\nCleanup after https://github.com/rust-lang/rust/pull/62086.\nThe unstable book files are moved because tidy complained.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7f2c3e1723077c6056cc4bdf9b20f789261d1089", "html_url": "https://github.com/rust-lang/rust/commit/7f2c3e1723077c6056cc4bdf9b20f789261d1089", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7f2c3e1723077c6056cc4bdf9b20f789261d1089/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5922a1916bae66a80acc8aacf28e6aa1743a8dce", "url": "https://api.github.com/repos/rust-lang/rust/commits/5922a1916bae66a80acc8aacf28e6aa1743a8dce", "html_url": "https://github.com/rust-lang/rust/commit/5922a1916bae66a80acc8aacf28e6aa1743a8dce"}, {"sha": "b92697b8fbcba1e249c5e166a2462e1284bdd139", "url": "https://api.github.com/repos/rust-lang/rust/commits/b92697b8fbcba1e249c5e166a2462e1284bdd139", "html_url": "https://github.com/rust-lang/rust/commit/b92697b8fbcba1e249c5e166a2462e1284bdd139"}], "stats": {"total": 37, "additions": 6, "deletions": 31}, "files": [{"sha": "2a1b6397781f95fc9a98fbb620c6e5b2dd29aae8", "filename": "src/doc/unstable-book/src/library-features/asm.md", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fasm.md", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fasm.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fasm.md?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "previous_filename": "src/doc/unstable-book/src/language-features/asm.md"}, {"sha": "ecfd34a22e5ccbd39794a260879eb88317088e09", "filename": "src/doc/unstable-book/src/library-features/concat-idents.md", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fconcat-idents.md", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fconcat-idents.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fconcat-idents.md?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "previous_filename": "src/doc/unstable-book/src/language-features/concat-idents.md"}, {"sha": "bc55fe80fa64c599f954ebdedd613ebba60465e1", "filename": "src/doc/unstable-book/src/library-features/global-asm.md", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fglobal-asm.md", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fglobal-asm.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fglobal-asm.md?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "previous_filename": "src/doc/unstable-book/src/language-features/global-asm.md"}, {"sha": "41aa286e69bfb320a0467ce4659e506093257807", "filename": "src/doc/unstable-book/src/library-features/trace-macros.md", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Ftrace-macros.md", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Ftrace-macros.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Ftrace-macros.md?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "previous_filename": "src/doc/unstable-book/src/language-features/trace-macros.md"}, {"sha": "e20ec36f1d2463d43b33e0eabb5952ec4d726758", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 0, "deletions": 18, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "patch": "@@ -243,9 +243,6 @@ declare_features! (\n     // Allows using `#![needs_allocator]`, an implementation detail of `#[global_allocator]`.\n     (active, allocator_internals, \"1.20.0\", None, None),\n \n-    // Allows using the `format_args_nl` macro.\n-    (active, format_args_nl, \"1.29.0\", Some(0), None),\n-\n     // no-tracking-issue-end\n \n     // Added for testing E0705; perma-unstable.\n@@ -286,12 +283,6 @@ declare_features! (\n     // feature-group-start: actual feature gates\n     // -------------------------------------------------------------------------\n \n-    // Allows using `asm!` macro with which inline assembly can be embedded.\n-    (active, asm, \"1.0.0\", Some(29722), None),\n-\n-    // Allows using the `concat_idents!` macro with which identifiers can be concatenated.\n-    (active, concat_idents, \"1.0.0\", Some(29599), None),\n-\n     // Allows using the `#[link_args]` attribute.\n     (active, link_args, \"1.0.0\", Some(29596), None),\n \n@@ -307,12 +298,6 @@ declare_features! (\n     // Allows using `#[thread_local]` on `static` items.\n     (active, thread_local, \"1.0.0\", Some(29594), None),\n \n-    // Allows using the `log_syntax!` macro.\n-    (active, log_syntax, \"1.0.0\", Some(29598), None),\n-\n-    // Allows using the `trace_macros!` macro.\n-    (active, trace_macros, \"1.0.0\", Some(29598), None),\n-\n     // Allows the use of SIMD types in functions declared in `extern` blocks.\n     (active, simd_ffi, \"1.0.0\", Some(27731), None),\n \n@@ -402,9 +387,6 @@ declare_features! (\n     // Allows `extern \"x86-interrupt\" fn()`.\n     (active, abi_x86_interrupt, \"1.17.0\", Some(40180), None),\n \n-    // Allows module-level inline assembly by way of `global_asm!()`.\n-    (active, global_asm, \"1.18.0\", Some(35119), None),\n-\n     // Allows overlapping impls of marker traits.\n     (active, overlapping_marker_traits, \"1.18.0\", Some(29864), None),\n "}, {"sha": "4f56aa7234464f18ec6ad6da441baf004f1a2e17", "filename": "src/test/ui/feature-gates/feature-gate-asm2.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-asm2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-asm2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-asm2.rs?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "patch": "@@ -1,4 +1,3 @@\n-// gate-test-asm\n // ignore-emscripten\n \n fn main() {"}, {"sha": "7519cad9a96ad770b2a2e0bb515618396edadff4", "filename": "src/test/ui/feature-gates/feature-gate-asm2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-asm2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-asm2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-asm2.stderr?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "patch": "@@ -1,5 +1,5 @@\n error[E0658]: use of unstable library feature 'asm': inline assembly is not stable enough for use and is subject to change\n-  --> $DIR/feature-gate-asm2.rs:6:26\n+  --> $DIR/feature-gate-asm2.rs:5:26\n    |\n LL |         println!(\"{:?}\", asm!(\"\"));\n    |                          ^^^"}, {"sha": "9660ffeafa5188e9531b10a3fe6daaafb315488f", "filename": "src/test/ui/feature-gates/feature-gate-concat_idents2.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents2.rs?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "patch": "@@ -1,5 +1,3 @@\n-// gate-test-concat_idents\n-\n fn main() {\n     concat_idents!(a, b); //~ ERROR `concat_idents` is not stable enough\n                           //~| ERROR cannot find value `ab` in this scope"}, {"sha": "14519622c05ad263a80198e3fd8f36363e6ab9d5", "filename": "src/test/ui/feature-gates/feature-gate-concat_idents2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents2.stderr?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "patch": "@@ -1,5 +1,5 @@\n error[E0658]: use of unstable library feature 'concat_idents': `concat_idents` is not stable enough for use and is subject to change\n-  --> $DIR/feature-gate-concat_idents2.rs:4:5\n+  --> $DIR/feature-gate-concat_idents2.rs:2:5\n    |\n LL |     concat_idents!(a, b);\n    |     ^^^^^^^^^^^^^\n@@ -8,7 +8,7 @@ LL |     concat_idents!(a, b);\n    = help: add `#![feature(concat_idents)]` to the crate attributes to enable\n \n error[E0425]: cannot find value `ab` in this scope\n-  --> $DIR/feature-gate-concat_idents2.rs:4:5\n+  --> $DIR/feature-gate-concat_idents2.rs:2:5\n    |\n LL |     concat_idents!(a, b);\n    |     ^^^^^^^^^^^^^^^^^^^^^ not found in this scope"}, {"sha": "81710fd9fb041cea9006d91dcf3000095a38279d", "filename": "src/test/ui/feature-gates/feature-gate-concat_idents3.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents3.rs?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "patch": "@@ -1,5 +1,3 @@\n-// gate-test-concat_idents\n-\n const XY_1: i32 = 10;\n \n fn main() {"}, {"sha": "afe6acb25359435895336b275840f7e328f911a8", "filename": "src/test/ui/feature-gates/feature-gate-concat_idents3.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-concat_idents3.stderr?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "patch": "@@ -1,5 +1,5 @@\n error[E0658]: use of unstable library feature 'concat_idents': `concat_idents` is not stable enough for use and is subject to change\n-  --> $DIR/feature-gate-concat_idents3.rs:7:20\n+  --> $DIR/feature-gate-concat_idents3.rs:5:20\n    |\n LL |     assert_eq!(10, concat_idents!(X, Y_1));\n    |                    ^^^^^^^^^^^^^\n@@ -8,7 +8,7 @@ LL |     assert_eq!(10, concat_idents!(X, Y_1));\n    = help: add `#![feature(concat_idents)]` to the crate attributes to enable\n \n error[E0658]: use of unstable library feature 'concat_idents': `concat_idents` is not stable enough for use and is subject to change\n-  --> $DIR/feature-gate-concat_idents3.rs:8:20\n+  --> $DIR/feature-gate-concat_idents3.rs:6:20\n    |\n LL |     assert_eq!(20, concat_idents!(X, Y_2));\n    |                    ^^^^^^^^^^^^^"}, {"sha": "db1a96f1f23eaecd8b1ff42432b7c1d81db4511b", "filename": "src/test/ui/feature-gates/feature-gate-log_syntax2.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-log_syntax2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-log_syntax2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-log_syntax2.rs?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "patch": "@@ -1,5 +1,3 @@\n-// gate-test-log_syntax\n-\n fn main() {\n     println!(\"{:?}\", log_syntax!()); //~ ERROR `log_syntax!` is not stable\n }"}, {"sha": "81daee0b49f34e434db41de432d6f27c20b03bfc", "filename": "src/test/ui/feature-gates/feature-gate-log_syntax2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-log_syntax2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7f2c3e1723077c6056cc4bdf9b20f789261d1089/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-log_syntax2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-log_syntax2.stderr?ref=7f2c3e1723077c6056cc4bdf9b20f789261d1089", "patch": "@@ -1,5 +1,5 @@\n error[E0658]: use of unstable library feature 'log_syntax': `log_syntax!` is not stable enough for use and is subject to change\n-  --> $DIR/feature-gate-log_syntax2.rs:4:22\n+  --> $DIR/feature-gate-log_syntax2.rs:2:22\n    |\n LL |     println!(\"{:?}\", log_syntax!());\n    |                      ^^^^^^^^^^"}]}