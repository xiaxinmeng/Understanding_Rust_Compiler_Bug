{"sha": "70e5fb98a007c49e2f2a1d2f58c31008385c9754", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwZTVmYjk4YTAwN2M0OWUyZjJhMWQyZjU4YzMxMDA4Mzg1Yzk3NTQ=", "commit": {"author": {"name": "DJMcNab", "email": "36049421+DJMcNab@users.noreply.github.com", "date": "2018-12-20T12:16:44Z"}, "committer": {"name": "DJMcNab", "email": "36049421+DJMcNab@users.noreply.github.com", "date": "2018-12-20T12:16:44Z"}, "message": "Disable highlighting if disabled\n\nThis isn't working properly because we don't dynamically disable or enable it\n\nTODO: work out why highlighting can be enabled mid session.\n\nTODO: Improve settings handling", "tree": {"sha": "5ad243f686f1278308ad4cb55f02fbfe2a96e794", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5ad243f686f1278308ad4cb55f02fbfe2a96e794"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/70e5fb98a007c49e2f2a1d2f58c31008385c9754", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/70e5fb98a007c49e2f2a1d2f58c31008385c9754", "html_url": "https://github.com/rust-lang/rust/commit/70e5fb98a007c49e2f2a1d2f58c31008385c9754", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/70e5fb98a007c49e2f2a1d2f58c31008385c9754/comments", "author": {"login": "DJMcNab", "id": 36049421, "node_id": "MDQ6VXNlcjM2MDQ5NDIx", "avatar_url": "https://avatars.githubusercontent.com/u/36049421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DJMcNab", "html_url": "https://github.com/DJMcNab", "followers_url": "https://api.github.com/users/DJMcNab/followers", "following_url": "https://api.github.com/users/DJMcNab/following{/other_user}", "gists_url": "https://api.github.com/users/DJMcNab/gists{/gist_id}", "starred_url": "https://api.github.com/users/DJMcNab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DJMcNab/subscriptions", "organizations_url": "https://api.github.com/users/DJMcNab/orgs", "repos_url": "https://api.github.com/users/DJMcNab/repos", "events_url": "https://api.github.com/users/DJMcNab/events{/privacy}", "received_events_url": "https://api.github.com/users/DJMcNab/received_events", "type": "User", "site_admin": false}, "committer": {"login": "DJMcNab", "id": 36049421, "node_id": "MDQ6VXNlcjM2MDQ5NDIx", "avatar_url": "https://avatars.githubusercontent.com/u/36049421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DJMcNab", "html_url": "https://github.com/DJMcNab", "followers_url": "https://api.github.com/users/DJMcNab/followers", "following_url": "https://api.github.com/users/DJMcNab/following{/other_user}", "gists_url": "https://api.github.com/users/DJMcNab/gists{/gist_id}", "starred_url": "https://api.github.com/users/DJMcNab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DJMcNab/subscriptions", "organizations_url": "https://api.github.com/users/DJMcNab/orgs", "repos_url": "https://api.github.com/users/DJMcNab/repos", "events_url": "https://api.github.com/users/DJMcNab/events{/privacy}", "received_events_url": "https://api.github.com/users/DJMcNab/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "39861a4e15cf8cfed69f336c7178bb4b480fe3a3", "url": "https://api.github.com/repos/rust-lang/rust/commits/39861a4e15cf8cfed69f336c7178bb4b480fe3a3", "html_url": "https://github.com/rust-lang/rust/commit/39861a4e15cf8cfed69f336c7178bb4b480fe3a3"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "4877e4827e7ae04277d041daf84521baa50921ab", "filename": "crates/ra_lsp_server/src/main.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/70e5fb98a007c49e2f2a1d2f58c31008385c9754/crates%2Fra_lsp_server%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70e5fb98a007c49e2f2a1d2f58c31008385c9754/crates%2Fra_lsp_server%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_lsp_server%2Fsrc%2Fmain.rs?ref=70e5fb98a007c49e2f2a1d2f58c31008385c9754", "patch": "@@ -27,7 +27,7 @@ fn main() -> Result<()> {\n #[derive(Deserialize)]\n #[serde(rename_all = \"camelCase\")]\n struct InitializationOptions {\n-    publish_decorations: bool,\n+    highlighting_on: bool,\n }\n \n fn main_inner() -> Result<()> {\n@@ -45,7 +45,7 @@ fn main_inner() -> Result<()> {\n             let publish_decorations = params\n                 .initialization_options\n                 .and_then(|v| InitializationOptions::deserialize(v).ok())\n-                .map(|it| it.publish_decorations)\n+                .map(|it| it.highlighting_on)\n                 == Some(true);\n             ra_lsp_server::main_loop(false, root, publish_decorations, r, s)\n         },"}]}