{"sha": "5398b9eeba14a3e73eb9a8b7e0d2e703e052585d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUzOThiOWVlYmExNGEzZTczZWI5YThiN2UwZDJlNzAzZTA1MjU4NWQ=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-01-16T17:39:29Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-01-16T17:39:29Z"}, "message": "Minimize test", "tree": {"sha": "dc1c18aa49beaef7e8cf305e7b020d25cb10a58c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dc1c18aa49beaef7e8cf305e7b020d25cb10a58c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d", "html_url": "https://github.com/rust-lang/rust/commit/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ab0a11b1de3237a476639fee39fcf6ef506bdf34", "url": "https://api.github.com/repos/rust-lang/rust/commits/ab0a11b1de3237a476639fee39fcf6ef506bdf34", "html_url": "https://github.com/rust-lang/rust/commit/ab0a11b1de3237a476639fee39fcf6ef506bdf34"}], "stats": {"total": 180, "additions": 51, "deletions": 129}, "files": [{"sha": "a98a2a3ef568b1cd54eabc2b01af988d01804675", "filename": "crates/ra_parser/src/grammar/expressions/atom.rs", "status": "modified", "additions": 3, "deletions": 13, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions%2Fatom.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions%2Fatom.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions%2Fatom.rs?ref=5398b9eeba14a3e73eb9a8b7e0d2e703e052585d", "patch": "@@ -188,19 +188,9 @@ fn array_expr(p: &mut Parser) -> CompletedMarker {\n     p.bump(T!['[']);\n     while !p.at(EOF) && !p.at(T![']']) {\n         n_exprs += 1;\n-        // test first_array_member_attributes\n-        // pub const A: &[i64] = &[\n-        //    #[cfg(test)]\n-        //    1,\n-        //    2,\n-        // ];\n-\n-        // test subsequent_array_member_attributes\n-        // pub const A: &[i64] = &[\n-        //    1,\n-        //    #[cfg(test)]\n-        //    2,\n-        // ];\n+\n+        // test array_attrs\n+        // const A: &[i64] = &[1, #[cfg(test)] 2];\n         let m = p.start();\n         let has_attrs = p.at(T![#]);\n         attributes::outer_attributes(p);"}, {"sha": "f59e1377118f41973fcccc9e9a1ff88e1746fc87", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0135_first_array_member_attributes.rs", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/ab0a11b1de3237a476639fee39fcf6ef506bdf34/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab0a11b1de3237a476639fee39fcf6ef506bdf34/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.rs?ref=ab0a11b1de3237a476639fee39fcf6ef506bdf34", "patch": "@@ -1,5 +0,0 @@\n-pub const A: &[i64] = &[\n-   #[cfg(test)]\n-   1,\n-   2,\n-];"}, {"sha": "2e3a13005bda79d52916682e547fc91967e86d6e", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0135_first_array_member_attributes.txt", "status": "removed", "additions": 0, "deletions": 53, "changes": 53, "blob_url": "https://github.com/rust-lang/rust/blob/ab0a11b1de3237a476639fee39fcf6ef506bdf34/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.txt", "raw_url": "https://github.com/rust-lang/rust/raw/ab0a11b1de3237a476639fee39fcf6ef506bdf34/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.txt?ref=ab0a11b1de3237a476639fee39fcf6ef506bdf34", "patch": "@@ -1,53 +0,0 @@\n-SOURCE_FILE@[0; 56)\n-  CONST_DEF@[0; 55)\n-    VISIBILITY@[0; 3)\n-      PUB_KW@[0; 3) \"pub\"\n-    WHITESPACE@[3; 4) \" \"\n-    CONST_KW@[4; 9) \"const\"\n-    WHITESPACE@[9; 10) \" \"\n-    NAME@[10; 11)\n-      IDENT@[10; 11) \"A\"\n-    COLON@[11; 12) \":\"\n-    WHITESPACE@[12; 13) \" \"\n-    REFERENCE_TYPE@[13; 19)\n-      AMP@[13; 14) \"&\"\n-      SLICE_TYPE@[14; 19)\n-        L_BRACK@[14; 15) \"[\"\n-        PATH_TYPE@[15; 18)\n-          PATH@[15; 18)\n-            PATH_SEGMENT@[15; 18)\n-              NAME_REF@[15; 18)\n-                IDENT@[15; 18) \"i64\"\n-        R_BRACK@[18; 19) \"]\"\n-    WHITESPACE@[19; 20) \" \"\n-    EQ@[20; 21) \"=\"\n-    WHITESPACE@[21; 22) \" \"\n-    REF_EXPR@[22; 54)\n-      AMP@[22; 23) \"&\"\n-      ARRAY_EXPR@[23; 54)\n-        L_BRACK@[23; 24) \"[\"\n-        WHITESPACE@[24; 28) \"\\n   \"\n-        LITERAL@[28; 45)\n-          ATTR@[28; 40)\n-            POUND@[28; 29) \"#\"\n-            L_BRACK@[29; 30) \"[\"\n-            PATH@[30; 33)\n-              PATH_SEGMENT@[30; 33)\n-                NAME_REF@[30; 33)\n-                  IDENT@[30; 33) \"cfg\"\n-            TOKEN_TREE@[33; 39)\n-              L_PAREN@[33; 34) \"(\"\n-              IDENT@[34; 38) \"test\"\n-              R_PAREN@[38; 39) \")\"\n-            R_BRACK@[39; 40) \"]\"\n-          WHITESPACE@[40; 44) \"\\n   \"\n-          INT_NUMBER@[44; 45) \"1\"\n-        COMMA@[45; 46) \",\"\n-        WHITESPACE@[46; 50) \"\\n   \"\n-        LITERAL@[50; 51)\n-          INT_NUMBER@[50; 51) \"2\"\n-        COMMA@[51; 52) \",\"\n-        WHITESPACE@[52; 53) \"\\n\"\n-        R_BRACK@[53; 54) \"]\"\n-    SEMI@[54; 55) \";\"\n-  WHITESPACE@[55; 56) \"\\n\""}, {"sha": "1324acb3f69cf8097d33d148b87678ee85bf7eef", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0136_subsequent_array_member_attributes.rs", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/ab0a11b1de3237a476639fee39fcf6ef506bdf34/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab0a11b1de3237a476639fee39fcf6ef506bdf34/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.rs?ref=ab0a11b1de3237a476639fee39fcf6ef506bdf34", "patch": "@@ -1,5 +0,0 @@\n-pub const A: &[i64] = &[\n-   1,\n-   #[cfg(test)]\n-   2,\n-];"}, {"sha": "1bb8a0afc75e7d8c32c287e051a7e7922edc1edf", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0136_subsequent_array_member_attributes.txt", "status": "removed", "additions": 0, "deletions": 53, "changes": 53, "blob_url": "https://github.com/rust-lang/rust/blob/ab0a11b1de3237a476639fee39fcf6ef506bdf34/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.txt", "raw_url": "https://github.com/rust-lang/rust/raw/ab0a11b1de3237a476639fee39fcf6ef506bdf34/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.txt?ref=ab0a11b1de3237a476639fee39fcf6ef506bdf34", "patch": "@@ -1,53 +0,0 @@\n-SOURCE_FILE@[0; 56)\n-  CONST_DEF@[0; 55)\n-    VISIBILITY@[0; 3)\n-      PUB_KW@[0; 3) \"pub\"\n-    WHITESPACE@[3; 4) \" \"\n-    CONST_KW@[4; 9) \"const\"\n-    WHITESPACE@[9; 10) \" \"\n-    NAME@[10; 11)\n-      IDENT@[10; 11) \"A\"\n-    COLON@[11; 12) \":\"\n-    WHITESPACE@[12; 13) \" \"\n-    REFERENCE_TYPE@[13; 19)\n-      AMP@[13; 14) \"&\"\n-      SLICE_TYPE@[14; 19)\n-        L_BRACK@[14; 15) \"[\"\n-        PATH_TYPE@[15; 18)\n-          PATH@[15; 18)\n-            PATH_SEGMENT@[15; 18)\n-              NAME_REF@[15; 18)\n-                IDENT@[15; 18) \"i64\"\n-        R_BRACK@[18; 19) \"]\"\n-    WHITESPACE@[19; 20) \" \"\n-    EQ@[20; 21) \"=\"\n-    WHITESPACE@[21; 22) \" \"\n-    REF_EXPR@[22; 54)\n-      AMP@[22; 23) \"&\"\n-      ARRAY_EXPR@[23; 54)\n-        L_BRACK@[23; 24) \"[\"\n-        WHITESPACE@[24; 28) \"\\n   \"\n-        LITERAL@[28; 29)\n-          INT_NUMBER@[28; 29) \"1\"\n-        COMMA@[29; 30) \",\"\n-        WHITESPACE@[30; 34) \"\\n   \"\n-        LITERAL@[34; 51)\n-          ATTR@[34; 46)\n-            POUND@[34; 35) \"#\"\n-            L_BRACK@[35; 36) \"[\"\n-            PATH@[36; 39)\n-              PATH_SEGMENT@[36; 39)\n-                NAME_REF@[36; 39)\n-                  IDENT@[36; 39) \"cfg\"\n-            TOKEN_TREE@[39; 45)\n-              L_PAREN@[39; 40) \"(\"\n-              IDENT@[40; 44) \"test\"\n-              R_PAREN@[44; 45) \")\"\n-            R_BRACK@[45; 46) \"]\"\n-          WHITESPACE@[46; 50) \"\\n   \"\n-          INT_NUMBER@[50; 51) \"2\"\n-        COMMA@[51; 52) \",\"\n-        WHITESPACE@[52; 53) \"\\n\"\n-        R_BRACK@[53; 54) \"]\"\n-    SEMI@[54; 55) \";\"\n-  WHITESPACE@[55; 56) \"\\n\""}, {"sha": "2ac310924fdeb390a9e2c121cc80643c0f30f497", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0150_array_attrs.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.rs?ref=5398b9eeba14a3e73eb9a8b7e0d2e703e052585d", "patch": "@@ -0,0 +1 @@\n+const A: &[i64] = &[1, #[cfg(test)] 2];"}, {"sha": "78e296f8804daf85c6da59afc27daaec9fea67e8", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0150_array_attrs.txt", "status": "added", "additions": 47, "deletions": 0, "changes": 47, "blob_url": "https://github.com/rust-lang/rust/blob/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.txt?ref=5398b9eeba14a3e73eb9a8b7e0d2e703e052585d", "patch": "@@ -0,0 +1,47 @@\n+SOURCE_FILE@[0; 40)\n+  CONST_DEF@[0; 39)\n+    CONST_KW@[0; 5) \"const\"\n+    WHITESPACE@[5; 6) \" \"\n+    NAME@[6; 7)\n+      IDENT@[6; 7) \"A\"\n+    COLON@[7; 8) \":\"\n+    WHITESPACE@[8; 9) \" \"\n+    REFERENCE_TYPE@[9; 15)\n+      AMP@[9; 10) \"&\"\n+      SLICE_TYPE@[10; 15)\n+        L_BRACK@[10; 11) \"[\"\n+        PATH_TYPE@[11; 14)\n+          PATH@[11; 14)\n+            PATH_SEGMENT@[11; 14)\n+              NAME_REF@[11; 14)\n+                IDENT@[11; 14) \"i64\"\n+        R_BRACK@[14; 15) \"]\"\n+    WHITESPACE@[15; 16) \" \"\n+    EQ@[16; 17) \"=\"\n+    WHITESPACE@[17; 18) \" \"\n+    REF_EXPR@[18; 38)\n+      AMP@[18; 19) \"&\"\n+      ARRAY_EXPR@[19; 38)\n+        L_BRACK@[19; 20) \"[\"\n+        LITERAL@[20; 21)\n+          INT_NUMBER@[20; 21) \"1\"\n+        COMMA@[21; 22) \",\"\n+        WHITESPACE@[22; 23) \" \"\n+        LITERAL@[23; 37)\n+          ATTR@[23; 35)\n+            POUND@[23; 24) \"#\"\n+            L_BRACK@[24; 25) \"[\"\n+            PATH@[25; 28)\n+              PATH_SEGMENT@[25; 28)\n+                NAME_REF@[25; 28)\n+                  IDENT@[25; 28) \"cfg\"\n+            TOKEN_TREE@[28; 34)\n+              L_PAREN@[28; 29) \"(\"\n+              IDENT@[29; 33) \"test\"\n+              R_PAREN@[33; 34) \")\"\n+            R_BRACK@[34; 35) \"]\"\n+          WHITESPACE@[35; 36) \" \"\n+          INT_NUMBER@[36; 37) \"2\"\n+        R_BRACK@[37; 38) \"]\"\n+    SEMI@[38; 39) \";\"\n+  WHITESPACE@[39; 40) \"\\n\""}]}