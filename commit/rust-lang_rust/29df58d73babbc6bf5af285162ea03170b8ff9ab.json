{"sha": "29df58d73babbc6bf5af285162ea03170b8ff9ab", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI5ZGY1OGQ3M2JhYmJjNmJmNWFmMjg1MTYyZWEwMzE3MGI4ZmY5YWI=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-18T22:47:18Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-18T23:02:43Z"}, "message": "rustdoc: Introduce type doc::argdoc", "tree": {"sha": "87c402c9f5bd88a7eddee2c147db3101b569ccd1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/87c402c9f5bd88a7eddee2c147db3101b569ccd1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/29df58d73babbc6bf5af285162ea03170b8ff9ab", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/29df58d73babbc6bf5af285162ea03170b8ff9ab", "html_url": "https://github.com/rust-lang/rust/commit/29df58d73babbc6bf5af285162ea03170b8ff9ab", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/29df58d73babbc6bf5af285162ea03170b8ff9ab/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "38852bf0a4f618c91640e5c90e3871c260cab844", "url": "https://api.github.com/repos/rust-lang/rust/commits/38852bf0a4f618c91640e5c90e3871c260cab844", "html_url": "https://github.com/rust-lang/rust/commit/38852bf0a4f618c91640e5c90e3871c260cab844"}], "stats": {"total": 29, "additions": 17, "deletions": 12}, "files": [{"sha": "10fa5022a7a62dbb4b0a215d80a57f5c68792c75", "filename": "src/rustdoc/attr_pass.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/29df58d73babbc6bf5af285162ea03170b8ff9ab/src%2Frustdoc%2Fattr_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29df58d73babbc6bf5af285162ea03170b8ff9ab/src%2Frustdoc%2Fattr_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fattr_pass.rs?ref=29df58d73babbc6bf5af285162ea03170b8ff9ab", "patch": "@@ -99,9 +99,9 @@ fn fold_fn(\n     }\n \n     fn merge_arg_attrs(\n-        doc: [(str, str)],\n+        doc: [doc::argdoc],\n         _attrs: [attr_parser::arg_attrs]\n-    ) -> [(str, str)] {\n+    ) -> [doc::argdoc] {\n         // FIXME\n         doc\n     }"}, {"sha": "2b5856e0facae03fd0ad406d26cfc9d18f1f2ceb", "filename": "src/rustdoc/doc.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/29df58d73babbc6bf5af285162ea03170b8ff9ab/src%2Frustdoc%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29df58d73babbc6bf5af285162ea03170b8ff9ab/src%2Frustdoc%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fdoc.rs?ref=29df58d73babbc6bf5af285162ea03170b8ff9ab", "patch": "@@ -18,7 +18,11 @@ type fndoc = ~{\n     brief: option<str>,\n     desc: option<str>,\n     return: option<retdoc>,\n-    args: [(str, str)]\n+    args: [argdoc]\n+};\n+\n+type argdoc = ~{\n+    name: str\n };\n \n type retdoc = {"}, {"sha": "3b5a2e0912745ba5e4a0ed278507eaf927423412", "filename": "src/rustdoc/extract.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/29df58d73babbc6bf5af285162ea03170b8ff9ab/src%2Frustdoc%2Fextract.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29df58d73babbc6bf5af285162ea03170b8ff9ab/src%2Frustdoc%2Fextract.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fextract.rs?ref=29df58d73babbc6bf5af285162ea03170b8ff9ab", "patch": "@@ -85,16 +85,18 @@ fn should_extract_fn_args() {\n     let ast = parse::from_str(source);\n     let doc = extract(ast, \"\");\n     let fn_ = doc.topmod.fns[0];\n-    assert tuple::first(fn_.args[0]) == \"b\";\n-    assert tuple::first(fn_.args[1]) == \"c\";\n+    assert fn_.args[0].name == \"b\";\n+    assert fn_.args[1].name == \"c\";\n }\n \n-fn argdocs_from_args(args: [ast::arg]) -> [(str, str)] {\n+fn argdocs_from_args(args: [ast::arg]) -> [doc::argdoc] {\n     vec::map(args, argdoc_from_arg)\n }\n \n-fn argdoc_from_arg(arg: ast::arg) -> (str, str) {\n-    (arg.ident, \"\")\n+fn argdoc_from_arg(arg: ast::arg) -> doc::argdoc {\n+    ~{\n+        name: arg.ident\n+    }\n }\n \n #[cfg(test)]"}, {"sha": "ee555962e29dfee28b06fa0e7f01d6dba939f191", "filename": "src/rustdoc/gen.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/29df58d73babbc6bf5af285162ea03170b8ff9ab/src%2Frustdoc%2Fgen.rs", "raw_url": "https://github.com/rust-lang/rust/raw/29df58d73babbc6bf5af285162ea03170b8ff9ab/src%2Frustdoc%2Fgen.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fgen.rs?ref=29df58d73babbc6bf5af285162ea03170b8ff9ab", "patch": "@@ -125,11 +125,10 @@ fn write_desc(\n \n fn write_args(\n     ctxt: ctxt,\n-    args: [(str, str)]\n+    args: [doc::argdoc]\n ) {\n-    for (arg, desc) in args {\n-        ctxt.w.write_str(\"### Argument `\" + arg + \"`: \");\n-        ctxt.w.write_str(desc)\n+    for arg in args {\n+        ctxt.w.write_str(\"### Argument `\" + arg.name + \"`: \");\n     }\n }\n "}]}