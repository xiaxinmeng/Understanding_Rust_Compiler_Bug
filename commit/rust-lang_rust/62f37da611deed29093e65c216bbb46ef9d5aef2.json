{"sha": "62f37da611deed29093e65c216bbb46ef9d5aef2", "node_id": "C_kwDOAAsO6NoAKDYyZjM3ZGE2MTFkZWVkMjkwOTNlNjVjMjE2YmJiNDZlZjlkNWFlZjI", "commit": {"author": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-04-04T04:59:51Z"}, "committer": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-04-04T04:59:51Z"}, "message": "Update library/std/src/sys/windows/pipe.rs", "tree": {"sha": "0ac1202c9189a693fa1a3fa7ecf1b25c3eea41d4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0ac1202c9189a693fa1a3fa7ecf1b25c3eea41d4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/62f37da611deed29093e65c216bbb46ef9d5aef2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE+p/jD6jrzmnSIWJLcTRy8vRWJ94FAmJKe0cACgkQcTRy8vRW\nJ94d8hAAtRIQKYkPRnE8NzTwLLveoD/QD4uyQu37j2Vwieu2t4CxOMHqwWqZx4iV\nZoCuFn/HHHIrBntDL9T7/RqPeYODHMy1/O5LhlKC4w9C5rmEtbMeyAX0GEM7tm4B\n5HJ0Nad6c3xtVAsjmrJ/ddaJ2jsiQkEtiu3INeEwTud+KAXXiR8qPRCcbTTwNSXK\nCpuWk/4zxgArOUcTGjFGcyCoaqM4syFsJJP+mR0J/JNKDSLCGYCa7LQRwDM54fZL\nPUrwpLRIQ/Kkzvo+6mZzgPGNLs0M7SYCTerzgTs1ujMdujJarNH+s2IsZljiWOSY\nj+luD8tS6nbRY8BsP3ipXLPZrTICt4xPJp7hWacNfNle/NxdfWmCOvokUCQMJBtx\n8cItLxwVoz/8bv4iVv2VQQaO1SDq47nQ8g0VtHeDzKa0w8DWOVq3xNu6FRB+co94\nQTCbdJw2BTgT6R4DdUDsnHJ3H9sQixfd8GTp/zDlF1U5QcGa7LZcGHyX5LyCjELO\n553JvLTdwUJXCoA+hhLZtive1M5+wnWc5pPkaKbggLJ/s1lGf3Smg1BMvAM7eS4w\nMsTJeVlmUPm3y1IAXFOM2SDtJeHh1NY8C5HihLFHEDGb42FPcCHn1b5qfaAYs4v2\nFJmG8UWYpDJBC1kPJ+aBR/VSRCoK+A+ZKABz2WskdDslUo887vo=\n=bjNn\n-----END PGP SIGNATURE-----", "payload": "tree 0ac1202c9189a693fa1a3fa7ecf1b25c3eea41d4\nparent 547504795ce95493bb2d55835e0f7567660a8b76\nauthor Chris Denton <christophersdenton@gmail.com> 1649048391 +0100\ncommitter Chris Denton <christophersdenton@gmail.com> 1649048391 +0100\n\nUpdate library/std/src/sys/windows/pipe.rs\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/62f37da611deed29093e65c216bbb46ef9d5aef2", "html_url": "https://github.com/rust-lang/rust/commit/62f37da611deed29093e65c216bbb46ef9d5aef2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/62f37da611deed29093e65c216bbb46ef9d5aef2/comments", "author": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "547504795ce95493bb2d55835e0f7567660a8b76", "url": "https://api.github.com/repos/rust-lang/rust/commits/547504795ce95493bb2d55835e0f7567660a8b76", "html_url": "https://github.com/rust-lang/rust/commit/547504795ce95493bb2d55835e0f7567660a8b76"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "1723a331a3223ad240ce1395b6305d6b9f69e4f7", "filename": "library/std/src/sys/windows/pipe.rs", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/62f37da611deed29093e65c216bbb46ef9d5aef2/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fpipe.rs", "raw_url": "https://github.com/rust-lang/rust/raw/62f37da611deed29093e65c216bbb46ef9d5aef2/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fpipe.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Fwindows%2Fpipe.rs?ref=62f37da611deed29093e65c216bbb46ef9d5aef2", "patch": "@@ -308,14 +308,16 @@ impl AnonPipe {\n         }\n \n         // Wait indefinitely for the result.\n-        while async_result.is_none() {\n+        let result = loop {\n             // STEP 2: Enter an alertable state.\n             // The second parameter of `SleepEx` is used to make this sleep alertable.\n             c::SleepEx(c::INFINITE, c::TRUE);\n-        }\n+            if let Some(result) = async_result {\n+                break result;\n+            }\n+        };\n         // STEP 4: Return the result.\n-        // `async_result` is always `Some` at this point.\n-        let result = async_result.unwrap();\n+        // `async_result` is always `Some` at this point\n         match result.error {\n             c::ERROR_SUCCESS => Ok(result.transfered as usize),\n             error => Err(io::Error::from_raw_os_error(error as _)),"}]}