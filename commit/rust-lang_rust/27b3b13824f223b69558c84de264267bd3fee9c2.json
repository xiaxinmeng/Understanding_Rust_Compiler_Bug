{"sha": "27b3b13824f223b69558c84de264267bd3fee9c2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI3YjNiMTM4MjRmMjIzYjY5NTU4Yzg0ZGUyNjQyNjdiZDNmZWU5YzI=", "commit": {"author": {"name": "Kirill Bulatov", "email": "mail4score@gmail.com", "date": "2021-01-04T20:01:35Z"}, "committer": {"name": "Kirill Bulatov", "email": "mail4score@gmail.com", "date": "2021-01-04T20:01:35Z"}, "message": "Small helpers", "tree": {"sha": "f9ca09fd38ef52ebb39b2586304a72df371ca6eb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f9ca09fd38ef52ebb39b2586304a72df371ca6eb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/27b3b13824f223b69558c84de264267bd3fee9c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/27b3b13824f223b69558c84de264267bd3fee9c2", "html_url": "https://github.com/rust-lang/rust/commit/27b3b13824f223b69558c84de264267bd3fee9c2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/27b3b13824f223b69558c84de264267bd3fee9c2/comments", "author": {"login": "SomeoneToIgnore", "id": 2690773, "node_id": "MDQ6VXNlcjI2OTA3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2690773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomeoneToIgnore", "html_url": "https://github.com/SomeoneToIgnore", "followers_url": "https://api.github.com/users/SomeoneToIgnore/followers", "following_url": "https://api.github.com/users/SomeoneToIgnore/following{/other_user}", "gists_url": "https://api.github.com/users/SomeoneToIgnore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomeoneToIgnore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomeoneToIgnore/subscriptions", "organizations_url": "https://api.github.com/users/SomeoneToIgnore/orgs", "repos_url": "https://api.github.com/users/SomeoneToIgnore/repos", "events_url": "https://api.github.com/users/SomeoneToIgnore/events{/privacy}", "received_events_url": "https://api.github.com/users/SomeoneToIgnore/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SomeoneToIgnore", "id": 2690773, "node_id": "MDQ6VXNlcjI2OTA3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2690773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomeoneToIgnore", "html_url": "https://github.com/SomeoneToIgnore", "followers_url": "https://api.github.com/users/SomeoneToIgnore/followers", "following_url": "https://api.github.com/users/SomeoneToIgnore/following{/other_user}", "gists_url": "https://api.github.com/users/SomeoneToIgnore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomeoneToIgnore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomeoneToIgnore/subscriptions", "organizations_url": "https://api.github.com/users/SomeoneToIgnore/orgs", "repos_url": "https://api.github.com/users/SomeoneToIgnore/repos", "events_url": "https://api.github.com/users/SomeoneToIgnore/events{/privacy}", "received_events_url": "https://api.github.com/users/SomeoneToIgnore/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ca42a52051e69d441b3f32ba4268286a8f0d8685", "url": "https://api.github.com/repos/rust-lang/rust/commits/ca42a52051e69d441b3f32ba4268286a8f0d8685", "html_url": "https://github.com/rust-lang/rust/commit/ca42a52051e69d441b3f32ba4268286a8f0d8685"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "2f41a3f96dc8db7b64122adcf16df77250567878", "filename": "crates/completion/src/completions/unqualified_path.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/27b3b13824f223b69558c84de264267bd3fee9c2/crates%2Fcompletion%2Fsrc%2Fcompletions%2Funqualified_path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/27b3b13824f223b69558c84de264267bd3fee9c2/crates%2Fcompletion%2Fsrc%2Fcompletions%2Funqualified_path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Fcompletions%2Funqualified_path.rs?ref=27b3b13824f223b69558c84de264267bd3fee9c2", "patch": "@@ -124,8 +124,8 @@ fn complete_enum_variants(acc: &mut Completions, ctx: &CompletionContext, ty: &T\n // Note that having this flag set to `true` does not guarantee that the feature is enabled: your client needs to have the corredponding\n // capability enabled.\n fn fuzzy_completion(acc: &mut Completions, ctx: &CompletionContext) -> Option<()> {\n-    let _p = profile::span(\"fuzzy_completion\");\n     let potential_import_name = ctx.token.to_string();\n+    let _p = profile::span(\"fuzzy_completion\").detail(|| potential_import_name.clone());\n \n     if potential_import_name.len() < 2 {\n         return None;"}, {"sha": "59206cab8cb996769647ea6414ab97faa303fdb9", "filename": "crates/hir_def/src/import_map.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/27b3b13824f223b69558c84de264267bd3fee9c2/crates%2Fhir_def%2Fsrc%2Fimport_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/27b3b13824f223b69558c84de264267bd3fee9c2/crates%2Fhir_def%2Fsrc%2Fimport_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2Fsrc%2Fimport_map.rs?ref=27b3b13824f223b69558c84de264267bd3fee9c2", "patch": "@@ -8,6 +8,7 @@ use hir_expand::name::Name;\n use indexmap::{map::Entry, IndexMap};\n use itertools::Itertools;\n use rustc_hash::{FxHashSet, FxHasher};\n+use test_utils::mark;\n \n use crate::{\n     db::DefDatabase, item_scope::ItemInNs, visibility::Visibility, AssocItemId, ModuleDefId,\n@@ -185,6 +186,7 @@ impl ImportMap {\n         is_type_in_ns: bool,\n         original_import_info: &ImportInfo,\n     ) {\n+        mark::hit!(type_aliases_ignored);\n         for (assoc_item_name, item) in &db.trait_data(tr).items {\n             let module_def_id = match item {\n                 AssocItemId::FunctionId(f) => ModuleDefId::from(*f),\n@@ -442,6 +444,7 @@ fn item_import_kind(item: ItemInNs) -> Option<ImportKind> {\n mod tests {\n     use base_db::{fixture::WithFixture, SourceDatabase, Upcast};\n     use expect_test::{expect, Expect};\n+    use test_utils::mark;\n \n     use crate::{test_db::TestDB, AssocContainerId, Lookup};\n \n@@ -779,6 +782,7 @@ mod tests {\n \n     #[test]\n     fn fuzzy_import_trait_and_assoc_items() {\n+        mark::check!(type_aliases_ignored);\n         let ra_fixture = r#\"\n         //- /main.rs crate:main deps:dep\n         //- /dep.rs crate:dep"}]}