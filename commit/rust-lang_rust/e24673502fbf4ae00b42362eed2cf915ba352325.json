{"sha": "e24673502fbf4ae00b42362eed2cf915ba352325", "node_id": "C_kwDOAAsO6NoAKGUyNDY3MzUwMmZiZjRhZTAwYjQyMzYyZWVkMmNmOTE1YmEzNTIzMjU", "commit": {"author": {"name": "carbotaniuman", "email": "41451839+carbotaniuman@users.noreply.github.com", "date": "2022-05-19T18:51:53Z"}, "committer": {"name": "carbotaniuman", "email": "41451839+carbotaniuman@users.noreply.github.com", "date": "2022-05-19T18:51:53Z"}, "message": "Remove unneeded asserts", "tree": {"sha": "d997227511c53a11c6c56a6dda23872082608a2c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d997227511c53a11c6c56a6dda23872082608a2c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e24673502fbf4ae00b42362eed2cf915ba352325", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e24673502fbf4ae00b42362eed2cf915ba352325", "html_url": "https://github.com/rust-lang/rust/commit/e24673502fbf4ae00b42362eed2cf915ba352325", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e24673502fbf4ae00b42362eed2cf915ba352325/comments", "author": {"login": "carbotaniuman", "id": 41451839, "node_id": "MDQ6VXNlcjQxNDUxODM5", "avatar_url": "https://avatars.githubusercontent.com/u/41451839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carbotaniuman", "html_url": "https://github.com/carbotaniuman", "followers_url": "https://api.github.com/users/carbotaniuman/followers", "following_url": "https://api.github.com/users/carbotaniuman/following{/other_user}", "gists_url": "https://api.github.com/users/carbotaniuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/carbotaniuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carbotaniuman/subscriptions", "organizations_url": "https://api.github.com/users/carbotaniuman/orgs", "repos_url": "https://api.github.com/users/carbotaniuman/repos", "events_url": "https://api.github.com/users/carbotaniuman/events{/privacy}", "received_events_url": "https://api.github.com/users/carbotaniuman/received_events", "type": "User", "site_admin": false}, "committer": {"login": "carbotaniuman", "id": 41451839, "node_id": "MDQ6VXNlcjQxNDUxODM5", "avatar_url": "https://avatars.githubusercontent.com/u/41451839?v=4", "gravatar_id": "", "url": "https://api.github.com/users/carbotaniuman", "html_url": "https://github.com/carbotaniuman", "followers_url": "https://api.github.com/users/carbotaniuman/followers", "following_url": "https://api.github.com/users/carbotaniuman/following{/other_user}", "gists_url": "https://api.github.com/users/carbotaniuman/gists{/gist_id}", "starred_url": "https://api.github.com/users/carbotaniuman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/carbotaniuman/subscriptions", "organizations_url": "https://api.github.com/users/carbotaniuman/orgs", "repos_url": "https://api.github.com/users/carbotaniuman/repos", "events_url": "https://api.github.com/users/carbotaniuman/events{/privacy}", "received_events_url": "https://api.github.com/users/carbotaniuman/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "10d9ecda48f828e174d7a863fc43a155ad086efd", "url": "https://api.github.com/repos/rust-lang/rust/commits/10d9ecda48f828e174d7a863fc43a155ad086efd", "html_url": "https://github.com/rust-lang/rust/commit/10d9ecda48f828e174d7a863fc43a155ad086efd"}], "stats": {"total": 9, "additions": 1, "deletions": 8}, "files": [{"sha": "7cd2ba34b04a7235795cba1901e374723d103e9f", "filename": "compiler/rustc_const_eval/src/interpret/cast.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e24673502fbf4ae00b42362eed2cf915ba352325/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fcast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e24673502fbf4ae00b42362eed2cf915ba352325/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fcast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fcast.rs?ref=e24673502fbf4ae00b42362eed2cf915ba352325", "patch": "@@ -225,9 +225,6 @@ impl<'mir, 'tcx: 'mir, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n                 let addr = u64::try_from(size.truncate(v)).unwrap();\n \n                 let ptr = M::ptr_from_addr_cast(&self, addr);\n-                if addr == 0 {\n-                    assert!(ptr.provenance.is_none(), \"null pointer can never have an AllocId\");\n-                }\n                 Scalar::from_maybe_pointer(ptr, self)\n             }\n "}, {"sha": "5dba5e2d45e803aa3dabc516f6ca836cf38f9e0f", "filename": "compiler/rustc_const_eval/src/interpret/memory.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e24673502fbf4ae00b42362eed2cf915ba352325/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fmemory.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e24673502fbf4ae00b42362eed2cf915ba352325/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fmemory.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fmemory.rs?ref=e24673502fbf4ae00b42362eed2cf915ba352325", "patch": "@@ -1144,11 +1144,7 @@ impl<'mir, 'tcx: 'mir, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n                 Err(ptr) => ptr.into(),\n                 Ok(bits) => {\n                     let addr = u64::try_from(bits).unwrap();\n-                    let ptr = M::ptr_from_addr_transmute(&self, addr);\n-                    if addr == 0 {\n-                        assert!(ptr.provenance.is_none(), \"null pointer can never have an AllocId\");\n-                    }\n-                    ptr\n+                    M::ptr_from_addr_transmute(&self, addr)\n                 }\n             },\n         )"}]}