{"sha": "81c64b34330090acf82285c3e9de67f876b3a98b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgxYzY0YjM0MzMwMDkwYWNmODIyODVjM2U5ZGU2N2Y4NzZiM2E5OGI=", "commit": {"author": {"name": "Jack Huey", "email": "31162821+jackh726@users.noreply.github.com", "date": "2021-02-02T21:01:50Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-02-02T21:01:50Z"}, "message": "Rollup merge of #81671 - jackh726:atb-tests, r=estebank\n\nAdd more associated type tests\n\nCloses #24159\nCloses #37808\nCloses #39532\nCloses #37883\n\nr? ``@estebank``", "tree": {"sha": "5d35d09e87a3b751dba58c4d88d564814f29fc57", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5d35d09e87a3b751dba58c4d88d564814f29fc57"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/81c64b34330090acf82285c3e9de67f876b3a98b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgGb2/CRBK7hj4Ov3rIwAAdHIIACDauOby+kfnGkuGz3hzDvKJ\npycp6a2iBKnS9ZhCZKf/ccA2edUQv41tSLtxkJFyHy08Z7WPu8jPFblHCQCufFsg\n/1ABIsNipBPiA0+uwrPhV1cofuZ5rFOGPSWao5X9Vr3xyyFoDCxogOYgDQWbaB8q\nhxfJTGvMDBZGW+iHkcgbEsMiYOkdnFtYjICYt8OJjagthVD4geo+8hNTtqjrOObV\n5kGO3HYl0+7UX82C5iSWHl1eRpsQdTJe7wPxo3QB/d7oZCbRpsF5IfM0BKPfL9GN\nsHRMP0ZsjYBmQKltZfgDHPqa9DOSXbh6nFGI3QDxLpkgNbLXPTqO3XcGF8fZoU4=\n=6DAq\n-----END PGP SIGNATURE-----\n", "payload": "tree 5d35d09e87a3b751dba58c4d88d564814f29fc57\nparent 70d16d506c0033d6dcc2a8399f77ccf2bb6996e2\nparent f0a3de6aa23fee50614eff0a3121fd0e3afd5382\nauthor Jack Huey <31162821+jackh726@users.noreply.github.com> 1612299710 -0500\ncommitter GitHub <noreply@github.com> 1612299710 -0500\n\nRollup merge of #81671 - jackh726:atb-tests, r=estebank\n\nAdd more associated type tests\n\nCloses #24159\nCloses #37808\nCloses #39532\nCloses #37883\n\nr? ``@estebank``\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/81c64b34330090acf82285c3e9de67f876b3a98b", "html_url": "https://github.com/rust-lang/rust/commit/81c64b34330090acf82285c3e9de67f876b3a98b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/81c64b34330090acf82285c3e9de67f876b3a98b/comments", "author": {"login": "jackh726", "id": 31162821, "node_id": "MDQ6VXNlcjMxMTYyODIx", "avatar_url": "https://avatars.githubusercontent.com/u/31162821?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jackh726", "html_url": "https://github.com/jackh726", "followers_url": "https://api.github.com/users/jackh726/followers", "following_url": "https://api.github.com/users/jackh726/following{/other_user}", "gists_url": "https://api.github.com/users/jackh726/gists{/gist_id}", "starred_url": "https://api.github.com/users/jackh726/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jackh726/subscriptions", "organizations_url": "https://api.github.com/users/jackh726/orgs", "repos_url": "https://api.github.com/users/jackh726/repos", "events_url": "https://api.github.com/users/jackh726/events{/privacy}", "received_events_url": "https://api.github.com/users/jackh726/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "70d16d506c0033d6dcc2a8399f77ccf2bb6996e2", "url": "https://api.github.com/repos/rust-lang/rust/commits/70d16d506c0033d6dcc2a8399f77ccf2bb6996e2", "html_url": "https://github.com/rust-lang/rust/commit/70d16d506c0033d6dcc2a8399f77ccf2bb6996e2"}, {"sha": "f0a3de6aa23fee50614eff0a3121fd0e3afd5382", "url": "https://api.github.com/repos/rust-lang/rust/commits/f0a3de6aa23fee50614eff0a3121fd0e3afd5382", "html_url": "https://github.com/rust-lang/rust/commit/f0a3de6aa23fee50614eff0a3121fd0e3afd5382"}], "stats": {"total": 95, "additions": 95, "deletions": 0}, "files": [{"sha": "49753e7bf1660e37a64df62566149d17600becb0", "filename": "src/test/ui/associated-types/issue-24159.rs", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/81c64b34330090acf82285c3e9de67f876b3a98b/src%2Ftest%2Fui%2Fassociated-types%2Fissue-24159.rs", "raw_url": "https://github.com/rust-lang/rust/raw/81c64b34330090acf82285c3e9de67f876b3a98b/src%2Ftest%2Fui%2Fassociated-types%2Fissue-24159.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fissue-24159.rs?ref=81c64b34330090acf82285c3e9de67f876b3a98b", "patch": "@@ -0,0 +1,37 @@\n+// check-pass\n+\n+#![allow(unused)]\n+\n+trait Bar<T> {\n+    fn dummy(&self);\n+}\n+\n+trait Foo {\n+    type A;\n+    type B: Bar<Self::A>;\n+\n+    fn get_b(&self) -> &Self::B;\n+}\n+\n+fn test_bar<A, B: Bar<A>>(_: &B) {}\n+\n+fn test<A, F: Foo<A = A>>(f: &F) {\n+    test_bar(f.get_b());\n+}\n+\n+trait Bar1<T> {}\n+trait Caz1 {\n+    type A;\n+    type B: Bar1<Self::A>;\n+}\n+\n+fn test1<T, U>() where T: Caz1, U: Caz1<A = T::A> {}\n+\n+trait Bar2<T> {}\n+trait Caz2 {\n+    type A;\n+    type B: Bar2<Self::A>;\n+}\n+fn test2<T: Caz2<A = ()>>() {}\n+\n+fn main() {}"}, {"sha": "3701c37d0c86fdedae94e1e66dc639ba244aafc7", "filename": "src/test/ui/associated-types/issue-37808.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/81c64b34330090acf82285c3e9de67f876b3a98b/src%2Ftest%2Fui%2Fassociated-types%2Fissue-37808.rs", "raw_url": "https://github.com/rust-lang/rust/raw/81c64b34330090acf82285c3e9de67f876b3a98b/src%2Ftest%2Fui%2Fassociated-types%2Fissue-37808.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fissue-37808.rs?ref=81c64b34330090acf82285c3e9de67f876b3a98b", "patch": "@@ -0,0 +1,19 @@\n+// check-pass\n+\n+trait Parent {\n+    type Ty;\n+    type Assoc: Child<Self::Ty>;\n+}\n+\n+trait Child<T> {}\n+\n+struct ChildWrapper<T>(T);\n+impl<A, T> Child<A> for ChildWrapper<T> where T: Child<A> {}\n+\n+struct ParentWrapper<T>(T);\n+impl<A, T: Parent<Ty = A>> Parent for ParentWrapper<T> {\n+    type Ty = A;\n+    type Assoc = ChildWrapper<T::Assoc>;\n+}\n+\n+fn main() {}"}, {"sha": "d854f6af3ea94b5e724f4425ff00639ee941d72b", "filename": "src/test/ui/associated-types/issue-37883.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/81c64b34330090acf82285c3e9de67f876b3a98b/src%2Ftest%2Fui%2Fassociated-types%2Fissue-37883.rs", "raw_url": "https://github.com/rust-lang/rust/raw/81c64b34330090acf82285c3e9de67f876b3a98b/src%2Ftest%2Fui%2Fassociated-types%2Fissue-37883.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fissue-37883.rs?ref=81c64b34330090acf82285c3e9de67f876b3a98b", "patch": "@@ -0,0 +1,25 @@\n+// check-pass\n+\n+use std::ops::Mul;\n+\n+fn main() {}\n+\n+trait Ring {}\n+trait Real: Ring {}\n+\n+trait Module: Sized + Mul<<Self as Module>::Ring, Output = Self> {\n+    type Ring: Ring;\n+}\n+\n+trait EuclideanSpace {\n+    type Coordinates: Module<Ring = Self::Real>;\n+    type Real: Real;\n+}\n+\n+trait Translation<E: EuclideanSpace> {\n+    fn to_vector(&self) -> E::Coordinates;\n+\n+    fn powf(&self, n: <E::Coordinates as Module>::Ring) -> E::Coordinates {\n+        self.to_vector() * n\n+    }\n+}"}, {"sha": "52652cedec961824ce6b2203ca46e7e751d88aec", "filename": "src/test/ui/associated-types/issue-39532.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/81c64b34330090acf82285c3e9de67f876b3a98b/src%2Ftest%2Fui%2Fassociated-types%2Fissue-39532.rs", "raw_url": "https://github.com/rust-lang/rust/raw/81c64b34330090acf82285c3e9de67f876b3a98b/src%2Ftest%2Fui%2Fassociated-types%2Fissue-39532.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fissue-39532.rs?ref=81c64b34330090acf82285c3e9de67f876b3a98b", "patch": "@@ -0,0 +1,14 @@\n+// check-pass\n+\n+#![allow(unused)]\n+\n+trait Foo {\n+    type Bar;\n+    type Baz: Bar<Self::Bar>;\n+}\n+\n+trait Bar<T> {}\n+\n+fn x<T: Foo<Bar = U>, U>(t: &T) {}\n+\n+fn main() {}"}]}