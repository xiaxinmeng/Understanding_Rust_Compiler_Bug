{"sha": "7d6aef65d80581b4fe726db7fcc592e87072a33d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdkNmFlZjY1ZDgwNTgxYjRmZTcyNmRiN2ZjYzU5MmU4NzA3MmEzM2Q=", "commit": {"author": {"name": "Bastian Kauschke", "email": "bastian_kauschke@hotmail.de", "date": "2020-04-26T09:50:58Z"}, "committer": {"name": "Bastian Kauschke", "email": "bastian_kauschke@hotmail.de", "date": "2020-04-26T09:52:12Z"}, "message": "test iterator chain type length blowup", "tree": {"sha": "f3b5335889515bfeba1ca9c000c198932795dc64", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f3b5335889515bfeba1ca9c000c198932795dc64"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7d6aef65d80581b4fe726db7fcc592e87072a33d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7d6aef65d80581b4fe726db7fcc592e87072a33d", "html_url": "https://github.com/rust-lang/rust/commit/7d6aef65d80581b4fe726db7fcc592e87072a33d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7d6aef65d80581b4fe726db7fcc592e87072a33d/comments", "author": {"login": "lcnr", "id": 29864074, "node_id": "MDQ6VXNlcjI5ODY0MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/29864074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnr", "html_url": "https://github.com/lcnr", "followers_url": "https://api.github.com/users/lcnr/followers", "following_url": "https://api.github.com/users/lcnr/following{/other_user}", "gists_url": "https://api.github.com/users/lcnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnr/subscriptions", "organizations_url": "https://api.github.com/users/lcnr/orgs", "repos_url": "https://api.github.com/users/lcnr/repos", "events_url": "https://api.github.com/users/lcnr/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lcnr", "id": 29864074, "node_id": "MDQ6VXNlcjI5ODY0MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/29864074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnr", "html_url": "https://github.com/lcnr", "followers_url": "https://api.github.com/users/lcnr/followers", "following_url": "https://api.github.com/users/lcnr/following{/other_user}", "gists_url": "https://api.github.com/users/lcnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnr/subscriptions", "organizations_url": "https://api.github.com/users/lcnr/orgs", "repos_url": "https://api.github.com/users/lcnr/repos", "events_url": "https://api.github.com/users/lcnr/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "019ab732ce63a117cbb446db1488916c5c0bd2a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/019ab732ce63a117cbb446db1488916c5c0bd2a7", "html_url": "https://github.com/rust-lang/rust/commit/019ab732ce63a117cbb446db1488916c5c0bd2a7"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "046e37840849ef94c2b60f4fe3fa3cfc51ea9b9a", "filename": "src/test/ui/iterators/issue-58952-filter-type-length.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/7d6aef65d80581b4fe726db7fcc592e87072a33d/src%2Ftest%2Fui%2Fiterators%2Fissue-58952-filter-type-length.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d6aef65d80581b4fe726db7fcc592e87072a33d/src%2Ftest%2Fui%2Fiterators%2Fissue-58952-filter-type-length.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fiterators%2Fissue-58952-filter-type-length.rs?ref=7d6aef65d80581b4fe726db7fcc592e87072a33d", "patch": "@@ -0,0 +1,31 @@\n+// run-pass\n+//! This snippet causes the type length to blowup exponentially,\n+//! so check that we don't accidentially exceed the type length limit.\n+// FIXME: Once the size of iterator adaptors is further reduced,\n+// increase the complexity of this test.\n+\n+fn main() {\n+    let c = 2;\n+    let bv = vec![2];\n+    let b = bv\n+        .iter()\n+        .filter(|a| **a == c);\n+\n+    let _a = vec![1, 2, 3]\n+        .into_iter()\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .filter(|a| b.clone().any(|b| *b == *a))\n+        .collect::<Vec<_>>();\n+}"}]}