{"sha": "3093bb85f94e6f3c4707674c8b70c28ecfbf3bf9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMwOTNiYjg1Zjk0ZTZmM2M0NzA3Njc0YzhiNzBjMjhlY2ZiZjNiZjk=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-08-11T01:01:46Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-08-12T04:07:39Z"}, "message": "Fix error during cross-platform documentation.", "tree": {"sha": "ed40a3113cb2b64fd0796802af64c8ef661b6b6d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ed40a3113cb2b64fd0796802af64c8ef661b6b6d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3093bb85f94e6f3c4707674c8b70c28ecfbf3bf9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIcBAABCAAGBQJZjn8MAAoJEP72yAUdDgE8GkcP/0SVigi09fzoaG19R2L1dRnV\nbpZjINwfehKW2hQwuwRsomvWBjie7/pPbRjB31D9hvhYUeuQUOt4/INR7M7xdYbt\ncvWxfVOSkPwNGLfGA1PrCz3cMx7PZruQ3oQsZsIVRqhd/IMkQrnnPU7GGyBKFRda\nwMj8qn5O9HqzfVqDpYhnR5ytpWOyqUPwSDww0LT/FnU8X0HwKzFk1MJcAah09Wl8\nI6BbR3MskAgNEy+kLA6996geHS34xtSlA2vmGsNg+E1gVd//q/wG3qnAaS0wcWsw\ncYSbH1Hzq5uT/ImHyYLxRsnM2uspbxPUZA3nnbaPBn3v66JLt1Mdu+SQrZALl/zt\nQNoryBOCgQevIjGVZzRq2ycjXz+OXI7+RZxAsF0kJgwEzM2qN9F9dbmSVKpmi8XA\nxZPYAlk/BA4AbYfbFO///Esp/Zw0x9vISUmr339x5KaJYUpsDsKfVQSURfSL9UVN\nNd/2Fyv94IVVf17B1LaOdYlj7GHY71VHQ2cTbY9AFgzyIjqvqTIaqFhlRE2r6/BZ\n5jnDTS7kwX9svZCLhr1czRt+Om3rftFFX3Sm/5wUo6JtatPn7tq5kM3WrJsulgqN\nv755THeqRyGiDDIWOx+vb079B7IroaoGjKvchBDRNz77nDV/WOXRtCmYxB3bcCET\nw75PbAz5vtwMgOuWU6wi\n=9/ky\n-----END PGP SIGNATURE-----", "payload": "tree ed40a3113cb2b64fd0796802af64c8ef661b6b6d\nparent b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b\nauthor kennytm <kennytm@gmail.com> 1502413306 +0800\ncommitter kennytm <kennytm@gmail.com> 1502510859 +0800\n\nFix error during cross-platform documentation.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3093bb85f94e6f3c4707674c8b70c28ecfbf3bf9", "html_url": "https://github.com/rust-lang/rust/commit/3093bb85f94e6f3c4707674c8b70c28ecfbf3bf9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3093bb85f94e6f3c4707674c8b70c28ecfbf3bf9/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "url": "https://api.github.com/repos/rust-lang/rust/commits/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "html_url": "https://github.com/rust-lang/rust/commit/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b"}], "stats": {"total": 23, "additions": 21, "deletions": 2}, "files": [{"sha": "1644ded5e5ceb7415fd54763b9f22ea46ad7eadd", "filename": "src/libstd/sys/unix/ext/net.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/3093bb85f94e6f3c4707674c8b70c28ecfbf3bf9/src%2Flibstd%2Fsys%2Funix%2Fext%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3093bb85f94e6f3c4707674c8b70c28ecfbf3bf9/src%2Flibstd%2Fsys%2Funix%2Fext%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Funix%2Fext%2Fnet.rs?ref=3093bb85f94e6f3c4707674c8b70c28ecfbf3bf9", "patch": "@@ -12,8 +12,19 @@\n \n //! Unix-specific networking functionality\n \n+#[cfg(unix)]\n use libc;\n \n+// FIXME(#43348): Make libc adapt #[doc(cfg(...))] so we don't need these fake definitions here?\n+#[cfg(not(unix))]\n+mod libc {\n+    pub use libc::c_int;\n+    pub type socklen_t = u32;\n+    pub struct sockaddr;\n+    #[derive(Clone)]\n+    pub struct sockaddr_un;\n+}\n+\n use ascii;\n use ffi::OsStr;\n use fmt;"}, {"sha": "ba54ca6ea18281a893d698d8d49104e02d012976", "filename": "src/libstd/sys/windows/c.rs", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/3093bb85f94e6f3c4707674c8b70c28ecfbf3bf9/src%2Flibstd%2Fsys%2Fwindows%2Fc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3093bb85f94e6f3c4707674c8b70c28ecfbf3bf9/src%2Flibstd%2Fsys%2Fwindows%2Fc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fwindows%2Fc.rs?ref=3093bb85f94e6f3c4707674c8b70c28ecfbf3bf9", "patch": "@@ -301,7 +301,7 @@ pub const PIPE_READMODE_BYTE: DWORD = 0x00000000;\n pub const FD_SETSIZE: usize = 64;\n \n #[repr(C)]\n-#[cfg(target_arch = \"x86\")]\n+#[cfg(not(target_pointer_width = \"64\"))]\n pub struct WSADATA {\n     pub wVersion: WORD,\n     pub wHighVersion: WORD,\n@@ -312,7 +312,7 @@ pub struct WSADATA {\n     pub lpVendorInfo: *mut u8,\n }\n #[repr(C)]\n-#[cfg(target_arch = \"x86_64\")]\n+#[cfg(target_pointer_width = \"64\")]\n pub struct WSADATA {\n     pub wVersion: WORD,\n     pub wHighVersion: WORD,\n@@ -768,6 +768,14 @@ pub struct FLOATING_SAVE_AREA {\n     _Dummy: [u8; 512] // FIXME: Fill this out\n }\n \n+// FIXME(#43348): This structure is used for backtrace only, and a fake\n+// definition is provided here only to allow rustdoc to pass type-check. This\n+// will not appear in the final documentation. This should be also defined for\n+// other architectures supported by Windows such as ARM, and for historical\n+// interest, maybe MIPS and PowerPC as well.\n+#[cfg(all(dox, not(any(target_arch = \"x86_64\", target_arch = \"x86\"))))]\n+pub enum CONTEXT {}\n+\n #[repr(C)]\n pub struct SOCKADDR_STORAGE_LH {\n     pub ss_family: ADDRESS_FAMILY,"}]}