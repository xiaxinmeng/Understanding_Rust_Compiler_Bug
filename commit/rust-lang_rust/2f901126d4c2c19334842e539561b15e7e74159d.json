{"sha": "2f901126d4c2c19334842e539561b15e7e74159d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmOTAxMTI2ZDRjMmMxOTMzNDg0MmU1Mzk1NjFiMTVlN2U3NDE1OWQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-03-02T10:09:38Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-03-02T10:09:38Z"}, "message": "auto merge of #5191 : brson/rust/movert, r=brson\n\nMoving them out of the way so the new scheduler code can occupy core::rt.", "tree": {"sha": "9b306f07aa69766d317e796f6ed31b182f40df48", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9b306f07aa69766d317e796f6ed31b182f40df48"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2f901126d4c2c19334842e539561b15e7e74159d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2f901126d4c2c19334842e539561b15e7e74159d", "html_url": "https://github.com/rust-lang/rust/commit/2f901126d4c2c19334842e539561b15e7e74159d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2f901126d4c2c19334842e539561b15e7e74159d/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "10faa521aef3721effc2ac9c2df0ceca4d825f98", "url": "https://api.github.com/repos/rust-lang/rust/commits/10faa521aef3721effc2ac9c2df0ceca4d825f98", "html_url": "https://github.com/rust-lang/rust/commit/10faa521aef3721effc2ac9c2df0ceca4d825f98"}, {"sha": "9639ca5aa88c59cedc7bbe4bd31ec7dabe8a62ec", "url": "https://api.github.com/repos/rust-lang/rust/commits/9639ca5aa88c59cedc7bbe4bd31ec7dabe8a62ec", "html_url": "https://github.com/rust-lang/rust/commit/9639ca5aa88c59cedc7bbe4bd31ec7dabe8a62ec"}], "stats": {"total": 16, "additions": 5, "deletions": 11}, "files": [{"sha": "393a71562ad05bc311e440a04a31047c563cf5ae", "filename": "src/libcore/cleanup.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2f901126d4c2c19334842e539561b15e7e74159d/src%2Flibcore%2Fcleanup.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f901126d4c2c19334842e539561b15e7e74159d/src%2Flibcore%2Fcleanup.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcleanup.rs?ref=2f901126d4c2c19334842e539561b15e7e74159d", "patch": "@@ -154,7 +154,7 @@ fn debug_mem() -> bool {\n #[cfg(notest)]\n #[lang=\"annihilate\"]\n pub unsafe fn annihilate() {\n-    use rt::local_free;\n+    use unstable::lang::local_free;\n     use io::WriterUtil;\n     use io;\n     use libc;"}, {"sha": "c8d2da28255f10b73915cc5542eaafb66cc8b9eb", "filename": "src/libcore/core.rc", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2f901126d4c2c19334842e539561b15e7e74159d/src%2Flibcore%2Fcore.rc", "raw_url": "https://github.com/rust-lang/rust/raw/2f901126d4c2c19334842e539561b15e7e74159d/src%2Flibcore%2Fcore.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcore.rc?ref=2f901126d4c2c19334842e539561b15e7e74159d", "patch": "@@ -225,8 +225,6 @@ pub const debug : u32 = 4_u32;\n \n /* Unsupported interfaces */\n \n-// The runtime interface used by the compiler\n-#[cfg(notest)] pub mod rt;\n // Private APIs\n pub mod unstable;\n // NOTE: Remove after snapshot"}, {"sha": "fc15276532282f4502b157606df70399bde06559", "filename": "src/libcore/task/local_data_priv.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/2f901126d4c2c19334842e539561b15e7e74159d/src%2Flibcore%2Ftask%2Flocal_data_priv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f901126d4c2c19334842e539561b15e7e74159d/src%2Flibcore%2Ftask%2Flocal_data_priv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ftask%2Flocal_data_priv.rs?ref=2f901126d4c2c19334842e539561b15e7e74159d", "patch": "@@ -19,11 +19,7 @@ use prelude::*;\n use task::rt;\n use task::local_data::LocalDataKey;\n \n-#[cfg(notest)]\n-use rt::rust_task;\n-#[cfg(test)]\n-#[allow(non_camel_case_types)]\n-type rust_task = libc::c_void;\n+use super::rt::rust_task;\n \n pub trait LocalData { }\n impl<T:Durable> LocalData for @T { }"}, {"sha": "8c0c029a90fcc1f031f181fb62ff8e2f406c025b", "filename": "src/libcore/unstable.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2f901126d4c2c19334842e539561b15e7e74159d/src%2Flibcore%2Funstable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f901126d4c2c19334842e539561b15e7e74159d/src%2Flibcore%2Funstable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Funstable.rs?ref=2f901126d4c2c19334842e539561b15e7e74159d", "patch": "@@ -36,6 +36,9 @@ pub mod exchange_alloc;\n pub mod intrinsics;\n #[path = \"unstable/extfmt.rs\"]\n pub mod extfmt;\n+#[path = \"unstable/lang.rs\"]\n+#[cfg(notest)]\n+pub mod lang;\n \n extern mod rustrt {\n     pub unsafe fn rust_create_little_lock() -> rust_little_lock;"}, {"sha": "e74052995e6cee69b660f960635c2a2562cb30ff", "filename": "src/libcore/unstable/lang.rs", "status": "renamed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2f901126d4c2c19334842e539561b15e7e74159d/src%2Flibcore%2Funstable%2Flang.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f901126d4c2c19334842e539561b15e7e74159d/src%2Flibcore%2Funstable%2Flang.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Funstable%2Flang.rs?ref=2f901126d4c2c19334842e539561b15e7e74159d", "patch": "@@ -20,9 +20,6 @@ use cast::transmute;\n \n use gc::{cleanup_stack_for_failure, gc, Word};\n \n-#[allow(non_camel_case_types)]\n-pub type rust_task = c_void;\n-\n #[cfg(target_word_size = \"32\")]\n pub const FROZEN_BIT: uint = 0x80000000;\n #[cfg(target_word_size = \"64\")]", "previous_filename": "src/libcore/rt.rs"}]}