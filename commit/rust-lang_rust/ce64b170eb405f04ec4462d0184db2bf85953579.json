{"sha": "ce64b170eb405f04ec4462d0184db2bf85953579", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlNjRiMTcwZWI0MDVmMDRlYzQ0NjJkMDE4NGRiMmJmODU5NTM1Nzk=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-10-31T01:54:08Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-10-31T01:54:08Z"}, "message": "Rollup merge of #65955 - pietroalbini:master-revert-msys2-hack, r=Mark-Simulacrum\n\nci: revert msys2 ca-certificates hack\n\nThe hack was added because upstream msys2 broke the ca-certificates package, but since then it has been fixed. This reverts CI to use the upstream package.\n\nPart of #65767", "tree": {"sha": "8e40fb7b7b99f561398b1cfad9919b7cef904978", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8e40fb7b7b99f561398b1cfad9919b7cef904978"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ce64b170eb405f04ec4462d0184db2bf85953579", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJduj7ACRBK7hj4Ov3rIwAAdHIIAB9UWM8x+8XkjnNBfW0rUGIw\nJdNuR/4l4Wm4Jm+432jlUdpDbTo7n8GclLZzkEWdWS8uAPPrsuVfoq1H3D5vpm8v\nAa1jNm8j9iQC2Wxad/OL7Ogfj4q/XV3tnLXtW0nUGQgOVG/3qGyvOAoAnyZHQ2z+\nVc42KE2/3EqHqJCQ6vtQ/06q0i9JE0GL+2MgqHN/jx5EMrHP/sxwpQyktJYvCYvS\nPxaQY2UF1cCZBH9M5QWvfxj/894koUfmmPiLZF8dLZzSOlJ6Kw9BLpL1Zu0GMRBI\nd46HZ4MIxDbRGnzYDLa6l54O3ovJiOpcMSNG10F/9fCrCVk5kR2AHtPEN419F0U=\n=tECo\n-----END PGP SIGNATURE-----\n", "payload": "tree 8e40fb7b7b99f561398b1cfad9919b7cef904978\nparent 97b9d1023d80931ce9b2fe768526e419344a657d\nparent 48d6510f6f0b44d4cdd3ebd0699d7ad703de6169\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1572486848 +0100\ncommitter GitHub <noreply@github.com> 1572486848 +0100\n\nRollup merge of #65955 - pietroalbini:master-revert-msys2-hack, r=Mark-Simulacrum\n\nci: revert msys2 ca-certificates hack\n\nThe hack was added because upstream msys2 broke the ca-certificates package, but since then it has been fixed. This reverts CI to use the upstream package.\n\nPart of #65767\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ce64b170eb405f04ec4462d0184db2bf85953579", "html_url": "https://github.com/rust-lang/rust/commit/ce64b170eb405f04ec4462d0184db2bf85953579", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ce64b170eb405f04ec4462d0184db2bf85953579/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "97b9d1023d80931ce9b2fe768526e419344a657d", "url": "https://api.github.com/repos/rust-lang/rust/commits/97b9d1023d80931ce9b2fe768526e419344a657d", "html_url": "https://github.com/rust-lang/rust/commit/97b9d1023d80931ce9b2fe768526e419344a657d"}, {"sha": "48d6510f6f0b44d4cdd3ebd0699d7ad703de6169", "url": "https://api.github.com/repos/rust-lang/rust/commits/48d6510f6f0b44d4cdd3ebd0699d7ad703de6169", "html_url": "https://github.com/rust-lang/rust/commit/48d6510f6f0b44d4cdd3ebd0699d7ad703de6169"}], "stats": {"total": 16, "additions": 0, "deletions": 16}, "files": [{"sha": "36d9202f7a2d30e61fb7f8c8afd6d6538d9fc8cb", "filename": "src/ci/scripts/install-msys2-packages.sh", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ce64b170eb405f04ec4462d0184db2bf85953579/src%2Fci%2Fscripts%2Finstall-msys2-packages.sh", "raw_url": "https://github.com/rust-lang/rust/raw/ce64b170eb405f04ec4462d0184db2bf85953579/src%2Fci%2Fscripts%2Finstall-msys2-packages.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fscripts%2Finstall-msys2-packages.sh?ref=ce64b170eb405f04ec4462d0184db2bf85953579", "patch": "@@ -8,14 +8,6 @@ source \"$(cd \"$(dirname \"$0\")\" && pwd)/../shared.sh\"\n if isWindows; then\n     pacman -S --noconfirm --needed base-devel ca-certificates make diffutils tar\n \n-    # FIXME(#65767): workaround msys bug, step 2\n-    arch=i686\n-    if [ \"$MSYS_BITS\" = \"64\" ]; then\n-      arch=x86_64\n-    fi\n-    pacman -U --noconfirm --noprogressbar mingw-w64-$arch-ca-certificates-20180409-1-any.pkg.tar.xz\n-    rm mingw-w64-$arch-ca-certificates-20180409-1-any.pkg.tar.xz\n-\n     # Make sure we use the native python interpreter instead of some msys equivalent\n     # one way or another. The msys interpreters seem to have weird path conversions\n     # baked in which break LLVM's build system one way or another, so let's use the"}, {"sha": "ce37c3b146977dafa2fcb3e08a79cdebf89a3f5f", "filename": "src/ci/scripts/install-msys2.sh", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ce64b170eb405f04ec4462d0184db2bf85953579/src%2Fci%2Fscripts%2Finstall-msys2.sh", "raw_url": "https://github.com/rust-lang/rust/raw/ce64b170eb405f04ec4462d0184db2bf85953579/src%2Fci%2Fscripts%2Finstall-msys2.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fscripts%2Finstall-msys2.sh?ref=ce64b170eb405f04ec4462d0184db2bf85953579", "patch": "@@ -1,5 +1,4 @@\n #!/bin/bash\n-# ignore-tidy-linelength\n # Download and install MSYS2, needed primarily for the test suite (run-make) but\n # also used by the MinGW toolchain for assembling things.\n #\n@@ -13,13 +12,6 @@ IFS=$'\\n\\t'\n source \"$(cd \"$(dirname \"$0\")\" && pwd)/../shared.sh\"\n \n if isWindows; then\n-    # FIXME(#65767): workaround msys bug, step 1\n-    arch=i686\n-    if [ \"$MSYS_BITS\" = \"64\" ]; then\n-      arch=x86_64\n-    fi\n-    curl -O \"${MIRRORS_BASE}/msys2-repo/mingw/$arch/mingw-w64-$arch-ca-certificates-20180409-1-any.pkg.tar.xz\"\n-\n     choco install msys2 --params=\"/InstallDir:${SYSTEM_WORKFOLDER}/msys2 /NoPath\" -y --no-progress\n     mkdir -p \"${SYSTEM_WORKFOLDER}/msys2/home/${USERNAME}\"\n "}]}