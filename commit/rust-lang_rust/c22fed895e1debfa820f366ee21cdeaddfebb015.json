{"sha": "c22fed895e1debfa820f366ee21cdeaddfebb015", "node_id": "C_kwDOAAsO6NoAKGMyMmZlZDg5NWUxZGViZmE4MjBmMzY2ZWUyMWNkZWFkZGZlYmIwMTU", "commit": {"author": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2022-03-18T17:57:11Z"}, "committer": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2022-03-18T17:57:15Z"}, "message": "Fix test fixtures", "tree": {"sha": "db7dbd4618ebddcf8d62bd1569543a507ec90d99", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/db7dbd4618ebddcf8d62bd1569543a507ec90d99"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c22fed895e1debfa820f366ee21cdeaddfebb015", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c22fed895e1debfa820f366ee21cdeaddfebb015", "html_url": "https://github.com/rust-lang/rust/commit/c22fed895e1debfa820f366ee21cdeaddfebb015", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c22fed895e1debfa820f366ee21cdeaddfebb015/comments", "author": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b634d99361997d8f973a0134459ac4d93fdbc7b8", "url": "https://api.github.com/repos/rust-lang/rust/commits/b634d99361997d8f973a0134459ac4d93fdbc7b8", "html_url": "https://github.com/rust-lang/rust/commit/b634d99361997d8f973a0134459ac4d93fdbc7b8"}], "stats": {"total": 39, "additions": 2, "deletions": 37}, "files": [{"sha": "b908895a6b0461657c1d0952015feafc15edfe5a", "filename": "crates/ide/src/inlay_hints.rs", "status": "modified", "additions": 2, "deletions": 37, "changes": 39, "blob_url": "https://github.com/rust-lang/rust/blob/c22fed895e1debfa820f366ee21cdeaddfebb015/crates%2Fide%2Fsrc%2Finlay_hints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c22fed895e1debfa820f366ee21cdeaddfebb015/crates%2Fide%2Fsrc%2Finlay_hints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Finlay_hints.rs?ref=c22fed895e1debfa820f366ee21cdeaddfebb015", "patch": "@@ -134,7 +134,7 @@ fn lifetime_hints(\n     let param_list = func.param_list()?;\n     let generic_param_list = func.generic_param_list();\n     let ret_type = func.ret_type();\n-    let self_param = param_list.self_param();\n+    let self_param = param_list.self_param().filter(|it| it.amp_token().is_some());\n \n     // FIXME: don't use already used lifetimenames\n \n@@ -1472,41 +1472,6 @@ fn main() {\n         );\n     }\n \n-    #[test]\n-    fn incomplete_for_no_hint() {\n-        check_types(\n-            r#\"\n-fn main() {\n-    let data = &[1i32, 2, 3];\n-      //^^^^ &[i32; 3]\n-    for i\n-}\"#,\n-        );\n-        check(\n-            r#\"\n-pub struct Vec<T> {}\n-\n-impl<T> Vec<T> {\n-    pub fn new() -> Self { Vec {} }\n-    pub fn push(&mut self, t: T) {}\n-}\n-\n-impl<T> IntoIterator for Vec<T> {\n-    type Item=T;\n-}\n-\n-fn main() {\n-    let mut data = Vec::new();\n-          //^^^^ Vec<&str>\n-    data.push(\"foo\");\n-    for i in\n-\n-    println!(\"Unit expr\");\n-}\n-\"#,\n-        );\n-    }\n-\n     #[test]\n     fn complete_for_hint() {\n         check_types(\n@@ -2010,7 +1975,7 @@ fn main() {\n     }\n \n     #[test]\n-    fn hints_sssin_attr_call() {\n+    fn hints_lifetimes() {\n         check(\n             r#\"\n fn empty() {}"}]}