{"sha": "45087f36cea574ef13ae25afb10b1a76571275aa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ1MDg3ZjM2Y2VhNTc0ZWYxM2FlMjVhZmIxMGIxYTc2NTcxMjc1YWE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-11-14T06:08:09Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-11-14T06:08:09Z"}, "message": "Auto merge of #29817 - michaelwoerister:mir-ty-closure-fields, r=nikomatsakis\n\nAdd a missing case in LvalueTy::projection_ty() that popped up earlier today.\n\ncc @rust-lang/compiler @nikomatsakis", "tree": {"sha": "cf6a23dc4119e5a0efed3fafb55c9735629047f9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cf6a23dc4119e5a0efed3fafb55c9735629047f9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/45087f36cea574ef13ae25afb10b1a76571275aa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/45087f36cea574ef13ae25afb10b1a76571275aa", "html_url": "https://github.com/rust-lang/rust/commit/45087f36cea574ef13ae25afb10b1a76571275aa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/45087f36cea574ef13ae25afb10b1a76571275aa/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "32202cca2783397d9556371c851c48c6bca35ed1", "url": "https://api.github.com/repos/rust-lang/rust/commits/32202cca2783397d9556371c851c48c6bca35ed1", "html_url": "https://github.com/rust-lang/rust/commit/32202cca2783397d9556371c851c48c6bca35ed1"}, {"sha": "9211883e545c4e7291c75b2cacc74d2ae3981f99", "url": "https://api.github.com/repos/rust-lang/rust/commits/9211883e545c4e7291c75b2cacc74d2ae3981f99", "html_url": "https://github.com/rust-lang/rust/commit/9211883e545c4e7291c75b2cacc74d2ae3981f99"}], "stats": {"total": 2, "additions": 2, "deletions": 0}, "files": [{"sha": "4d034ae23b49a05dfe9ed01c829510086df20235", "filename": "src/librustc_mir/tcx/mod.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/45087f36cea574ef13ae25afb10b1a76571275aa/src%2Flibrustc_mir%2Ftcx%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/45087f36cea574ef13ae25afb10b1a76571275aa/src%2Flibrustc_mir%2Ftcx%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftcx%2Fmod.rs?ref=45087f36cea574ef13ae25afb10b1a76571275aa", "patch": "@@ -79,6 +79,8 @@ impl<'tcx> LvalueTy<'tcx> {\n                             adt_def.struct_variant().fields[field.index()].ty(tcx, substs),\n                         ty::TyTuple(ref tys) =>\n                             tys[field.index()],\n+                        ty::TyClosure(_, ref closure_substs) =>\n+                            closure_substs.upvar_tys[field.index()],\n                         _ =>\n                             tcx.sess.bug(&format!(\"cannot get field of type: `{:?}`\", ty)),\n                     },"}]}