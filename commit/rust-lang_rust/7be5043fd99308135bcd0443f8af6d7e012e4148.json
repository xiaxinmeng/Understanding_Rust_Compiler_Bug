{"sha": "7be5043fd99308135bcd0443f8af6d7e012e4148", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdiZTUwNDNmZDk5MzA4MTM1YmNkMDQ0M2Y4YWY2ZDdlMDEyZTQxNDg=", "commit": {"author": {"name": "A.J. Gardner", "email": "aaron.j.gardner@gmail.com", "date": "2017-03-30T04:32:20Z"}, "committer": {"name": "A.J. Gardner", "email": "aaron.j.gardner@gmail.com", "date": "2017-04-13T00:12:49Z"}, "message": "Ensure walk_item visits GlobalAsm NodeId\n\nTravis failures indicated the OuterVisitor#visit_item method caused a\npanic. The Visitor's inner visitor actually relies on the visitor\nvisiting every item's NodeId. I forgot to perform that call in the\nItemGlobalAsm match arm, leading to build breakage. The fix is\nsimple: call visit_id(...) for ItemGlobalAsm", "tree": {"sha": "bec76be0707a02ce1002fca66d26e48b7abfde3c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bec76be0707a02ce1002fca66d26e48b7abfde3c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7be5043fd99308135bcd0443f8af6d7e012e4148", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7be5043fd99308135bcd0443f8af6d7e012e4148", "html_url": "https://github.com/rust-lang/rust/commit/7be5043fd99308135bcd0443f8af6d7e012e4148", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7be5043fd99308135bcd0443f8af6d7e012e4148/comments", "author": {"login": "mrhota", "id": 403641, "node_id": "MDQ6VXNlcjQwMzY0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/403641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrhota", "html_url": "https://github.com/mrhota", "followers_url": "https://api.github.com/users/mrhota/followers", "following_url": "https://api.github.com/users/mrhota/following{/other_user}", "gists_url": "https://api.github.com/users/mrhota/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrhota/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrhota/subscriptions", "organizations_url": "https://api.github.com/users/mrhota/orgs", "repos_url": "https://api.github.com/users/mrhota/repos", "events_url": "https://api.github.com/users/mrhota/events{/privacy}", "received_events_url": "https://api.github.com/users/mrhota/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mrhota", "id": 403641, "node_id": "MDQ6VXNlcjQwMzY0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/403641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrhota", "html_url": "https://github.com/mrhota", "followers_url": "https://api.github.com/users/mrhota/followers", "following_url": "https://api.github.com/users/mrhota/following{/other_user}", "gists_url": "https://api.github.com/users/mrhota/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrhota/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrhota/subscriptions", "organizations_url": "https://api.github.com/users/mrhota/orgs", "repos_url": "https://api.github.com/users/mrhota/repos", "events_url": "https://api.github.com/users/mrhota/events{/privacy}", "received_events_url": "https://api.github.com/users/mrhota/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "70fcff631821c4225d38315d7d85de92dbc477be", "url": "https://api.github.com/repos/rust-lang/rust/commits/70fcff631821c4225d38315d7d85de92dbc477be", "html_url": "https://github.com/rust-lang/rust/commit/70fcff631821c4225d38315d7d85de92dbc477be"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "2b0d53b2bc35645403aed989624f577e69c3abd1", "filename": "src/librustc/hir/intravisit.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7be5043fd99308135bcd0443f8af6d7e012e4148/src%2Flibrustc%2Fhir%2Fintravisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7be5043fd99308135bcd0443f8af6d7e012e4148/src%2Flibrustc%2Fhir%2Fintravisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fintravisit.rs?ref=7be5043fd99308135bcd0443f8af6d7e012e4148", "patch": "@@ -474,7 +474,9 @@ pub fn walk_item<'v, V: Visitor<'v>>(visitor: &mut V, item: &'v Item) {\n             visitor.visit_id(item.id);\n             walk_list!(visitor, visit_foreign_item, &foreign_module.items);\n         }\n-        ItemGlobalAsm(_) => {}\n+        ItemGlobalAsm(_) => {\n+            visitor.visit_id(item.id);\n+        }\n         ItemTy(ref typ, ref type_parameters) => {\n             visitor.visit_id(item.id);\n             visitor.visit_ty(typ);"}]}