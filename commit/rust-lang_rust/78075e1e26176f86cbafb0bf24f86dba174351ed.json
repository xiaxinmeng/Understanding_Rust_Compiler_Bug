{"sha": "78075e1e26176f86cbafb0bf24f86dba174351ed", "node_id": "C_kwDOAAsO6NoAKDc4MDc1ZTFlMjYxNzZmODZjYmFmYjBiZjI0Zjg2ZGJhMTc0MzUxZWQ", "commit": {"author": {"name": "Tomasz Mi\u0105sko", "email": "tomasz.miasko@gmail.com", "date": "2023-01-06T00:00:00Z"}, "committer": {"name": "Tomasz Mi\u0105sko", "email": "tomasz.miasko@gmail.com", "date": "2023-01-10T09:14:51Z"}, "message": "Change type of mutable_noalias to bool", "tree": {"sha": "e336f540dac4e3f9fc465057f643d463c876da93", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e336f540dac4e3f9fc465057f643d463c876da93"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/78075e1e26176f86cbafb0bf24f86dba174351ed", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/78075e1e26176f86cbafb0bf24f86dba174351ed", "html_url": "https://github.com/rust-lang/rust/commit/78075e1e26176f86cbafb0bf24f86dba174351ed", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/78075e1e26176f86cbafb0bf24f86dba174351ed/comments", "author": {"login": "tmiasko", "id": 51362316, "node_id": "MDQ6VXNlcjUxMzYyMzE2", "avatar_url": "https://avatars.githubusercontent.com/u/51362316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmiasko", "html_url": "https://github.com/tmiasko", "followers_url": "https://api.github.com/users/tmiasko/followers", "following_url": "https://api.github.com/users/tmiasko/following{/other_user}", "gists_url": "https://api.github.com/users/tmiasko/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmiasko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmiasko/subscriptions", "organizations_url": "https://api.github.com/users/tmiasko/orgs", "repos_url": "https://api.github.com/users/tmiasko/repos", "events_url": "https://api.github.com/users/tmiasko/events{/privacy}", "received_events_url": "https://api.github.com/users/tmiasko/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tmiasko", "id": 51362316, "node_id": "MDQ6VXNlcjUxMzYyMzE2", "avatar_url": "https://avatars.githubusercontent.com/u/51362316?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmiasko", "html_url": "https://github.com/tmiasko", "followers_url": "https://api.github.com/users/tmiasko/followers", "following_url": "https://api.github.com/users/tmiasko/following{/other_user}", "gists_url": "https://api.github.com/users/tmiasko/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmiasko/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmiasko/subscriptions", "organizations_url": "https://api.github.com/users/tmiasko/orgs", "repos_url": "https://api.github.com/users/tmiasko/repos", "events_url": "https://api.github.com/users/tmiasko/events{/privacy}", "received_events_url": "https://api.github.com/users/tmiasko/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "deba5ddd0776108c51a69844d0ffe3f96886dd52", "url": "https://api.github.com/repos/rust-lang/rust/commits/deba5ddd0776108c51a69844d0ffe3f96886dd52", "html_url": "https://github.com/rust-lang/rust/commit/deba5ddd0776108c51a69844d0ffe3f96886dd52"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "6c26b47eaa4a0e4df6952dfe893414b2f0a3fef5", "filename": "compiler/rustc_interface/src/tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/78075e1e26176f86cbafb0bf24f86dba174351ed/compiler%2Frustc_interface%2Fsrc%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/78075e1e26176f86cbafb0bf24f86dba174351ed/compiler%2Frustc_interface%2Fsrc%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_interface%2Fsrc%2Ftests.rs?ref=78075e1e26176f86cbafb0bf24f86dba174351ed", "patch": "@@ -754,7 +754,7 @@ fn test_unstable_options_tracking_hash() {\n     tracked!(mir_enable_passes, vec![(\"DestProp\".to_string(), false)]);\n     tracked!(mir_opt_level, Some(4));\n     tracked!(move_size_limit, Some(4096));\n-    tracked!(mutable_noalias, Some(true));\n+    tracked!(mutable_noalias, false);\n     tracked!(no_generate_arange_section, true);\n     tracked!(no_jump_tables, true);\n     tracked!(no_link, true);"}, {"sha": "43c4fd011e135325442443539544976ba51fe191", "filename": "compiler/rustc_session/src/options.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/78075e1e26176f86cbafb0bf24f86dba174351ed/compiler%2Frustc_session%2Fsrc%2Foptions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/78075e1e26176f86cbafb0bf24f86dba174351ed/compiler%2Frustc_session%2Fsrc%2Foptions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_session%2Fsrc%2Foptions.rs?ref=78075e1e26176f86cbafb0bf24f86dba174351ed", "patch": "@@ -1437,7 +1437,7 @@ options! {\n         \"use line numbers relative to the function in mir pretty printing\"),\n     move_size_limit: Option<usize> = (None, parse_opt_number, [TRACKED],\n         \"the size at which the `large_assignments` lint starts to be emitted\"),\n-    mutable_noalias: Option<bool> = (None, parse_opt_bool, [TRACKED],\n+    mutable_noalias: bool = (true, parse_bool, [TRACKED],\n         \"emit noalias metadata for mutable references (default: yes)\"),\n     nll_facts: bool = (false, parse_bool, [UNTRACKED],\n         \"dump facts from NLL analysis into side files (default: no)\"),"}, {"sha": "bbb2b3b987d6f61e454e0bdc5cdd04593ac983c0", "filename": "compiler/rustc_ty_utils/src/abi.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/78075e1e26176f86cbafb0bf24f86dba174351ed/compiler%2Frustc_ty_utils%2Fsrc%2Fabi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/78075e1e26176f86cbafb0bf24f86dba174351ed/compiler%2Frustc_ty_utils%2Fsrc%2Fabi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ty_utils%2Fsrc%2Fabi.rs?ref=78075e1e26176f86cbafb0bf24f86dba174351ed", "patch": "@@ -259,7 +259,7 @@ fn adjust_for_rust_scalar<'tcx>(\n             // LLVM prior to version 12 had known miscompiles in the presence of noalias attributes\n             // (see #54878), so it was conditionally disabled, but we don't support earlier\n             // versions at all anymore. We still support turning it off using -Zmutable-noalias.\n-            let noalias_mut_ref = cx.tcx.sess.opts.unstable_opts.mutable_noalias.unwrap_or(true);\n+            let noalias_mut_ref = cx.tcx.sess.opts.unstable_opts.mutable_noalias;\n \n             // `&mut` pointer parameters never alias other parameters,\n             // or mutable global data"}]}