{"sha": "afe3e27085752efd1d9affe1f9c95e67de4dcf5d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFmZTNlMjcwODU3NTJlZmQxZDlhZmZlMWY5Yzk1ZTY3ZGU0ZGNmNWQ=", "commit": {"author": {"name": "QuietMisdreavus", "email": "grey@quietmisdreavus.net", "date": "2018-01-08T19:20:19Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2018-01-22T09:54:31Z"}, "message": "value-namespace items require a marker, so emit an error", "tree": {"sha": "2fc3ff6e072cccc6669817109b03029949331b56", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2fc3ff6e072cccc6669817109b03029949331b56"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/afe3e27085752efd1d9affe1f9c95e67de4dcf5d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/afe3e27085752efd1d9affe1f9c95e67de4dcf5d", "html_url": "https://github.com/rust-lang/rust/commit/afe3e27085752efd1d9affe1f9c95e67de4dcf5d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/afe3e27085752efd1d9affe1f9c95e67de4dcf5d/comments", "author": {"login": "QuietMisdreavus", "id": 5217170, "node_id": "MDQ6VXNlcjUyMTcxNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5217170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuietMisdreavus", "html_url": "https://github.com/QuietMisdreavus", "followers_url": "https://api.github.com/users/QuietMisdreavus/followers", "following_url": "https://api.github.com/users/QuietMisdreavus/following{/other_user}", "gists_url": "https://api.github.com/users/QuietMisdreavus/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuietMisdreavus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuietMisdreavus/subscriptions", "organizations_url": "https://api.github.com/users/QuietMisdreavus/orgs", "repos_url": "https://api.github.com/users/QuietMisdreavus/repos", "events_url": "https://api.github.com/users/QuietMisdreavus/events{/privacy}", "received_events_url": "https://api.github.com/users/QuietMisdreavus/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b31bb097f519f03a5925da376d4ef2fbc8f30c62", "url": "https://api.github.com/repos/rust-lang/rust/commits/b31bb097f519f03a5925da376d4ef2fbc8f30c62", "html_url": "https://github.com/rust-lang/rust/commit/b31bb097f519f03a5925da376d4ef2fbc8f30c62"}], "stats": {"total": 16, "additions": 11, "deletions": 5}, "files": [{"sha": "5e8d6301acb544bc9c5483ba7b78ae352745416a", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 8, "deletions": 2, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/afe3e27085752efd1d9affe1f9c95e67de4dcf5d/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afe3e27085752efd1d9affe1f9c95e67de4dcf5d/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=afe3e27085752efd1d9affe1f9c95e67de4dcf5d", "patch": "@@ -926,8 +926,14 @@ impl Clean<Attributes> for [ast::Attribute] {\n                             // for structs, etc, and the link won't work.\n                             if let Ok(path) = resolve(false) {\n                                 path.def\n-                            } else if let Ok(path) = resolve(true) {\n-                                path.def\n+                            } else if let Ok(_path) = resolve(true) {\n+                                let sp = attrs.doc_strings.first().map_or(DUMMY_SP, |a| a.span());\n+                                cx.sess().struct_span_err(sp, &format!(\"could not resolve `{}`\",\n+                                                                       path_str))\n+                                         .help(&format!(\"try `{0}()`, `static@{0}`, or `const@{0}`\",\n+                                                        path_str))\n+                                         .emit();\n+                                continue;\n                             } else {\n                                 // this could just be a normal link\n                                 continue;"}, {"sha": "aa6f553875441384ec5676f0906c78ccb7d628fb", "filename": "src/test/rustdoc/intra-links.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/afe3e27085752efd1d9affe1f9c95e67de4dcf5d/src%2Ftest%2Frustdoc%2Fintra-links.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afe3e27085752efd1d9affe1f9c95e67de4dcf5d/src%2Ftest%2Frustdoc%2Fintra-links.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-links.rs?ref=afe3e27085752efd1d9affe1f9c95e67de4dcf5d", "patch": "@@ -27,9 +27,9 @@\n //! * [`ThisTrait`](ThisTrait)\n //! * [`ThisAlias`](ThisAlias)\n //! * [`ThisUnion`](ThisUnion)\n-//! * [`this_function`](this_function)\n-//! * [`THIS_CONST`](THIS_CONST)\n-//! * [`THIS_STATIC`](THIS_STATIC)\n+//! * [`this_function`](this_function())\n+//! * [`THIS_CONST`](const@THIS_CONST)\n+//! * [`THIS_STATIC`](static@THIS_STATIC)\n //! * [`this_macro`](this_macro!)\n //!\n //! In addition, there's some specifics we want to look at. There's [a trait called"}]}