{"sha": "ff609cc49715571324b72d2bda60d56878466640", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZmNjA5Y2M0OTcxNTU3MTMyNGI3MmQyYmRhNjBkNTY4Nzg0NjY2NDA=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-11-11T14:22:06Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-11-11T14:22:06Z"}, "message": "Don't reexport generics from HIR", "tree": {"sha": "f788fa0814921d2d0a16b5f2dc4cfc1f829c69cd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f788fa0814921d2d0a16b5f2dc4cfc1f829c69cd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ff609cc49715571324b72d2bda60d56878466640", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ff609cc49715571324b72d2bda60d56878466640", "html_url": "https://github.com/rust-lang/rust/commit/ff609cc49715571324b72d2bda60d56878466640", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ff609cc49715571324b72d2bda60d56878466640/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a599147b4232c0d4f6b071a3a96e86f903f4cf52", "url": "https://api.github.com/repos/rust-lang/rust/commits/a599147b4232c0d4f6b071a3a96e86f903f4cf52", "html_url": "https://github.com/rust-lang/rust/commit/a599147b4232c0d4f6b071a3a96e86f903f4cf52"}], "stats": {"total": 25, "additions": 13, "deletions": 12}, "files": [{"sha": "125c4b28946b5c2658be294826ee0c6a2d5c4860", "filename": "crates/ra_hir/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ff609cc49715571324b72d2bda60d56878466640/crates%2Fra_hir%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff609cc49715571324b72d2bda60d56878466640/crates%2Fra_hir%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Flib.rs?ref=ff609cc49715571324b72d2bda60d56878466640", "patch": "@@ -39,7 +39,7 @@ mod ty;\n mod impl_block;\n mod expr;\n mod lang_item;\n-mod generics;\n+pub mod generics;\n mod resolve;\n pub mod diagnostics;\n mod util;\n@@ -70,7 +70,7 @@ pub use crate::{\n     },\n     expr::ExprScopes,\n     from_source::FromSource,\n-    generics::{GenericDef, GenericParam, GenericParams, HasGenericParams},\n+    generics::GenericDef,\n     ids::{HirFileId, MacroCallId, MacroCallLoc, MacroDefId, MacroFile},\n     impl_block::ImplBlock,\n     resolve::ScopeDef,"}, {"sha": "6f24cfad602fd9db0ccade8eed3dc3020cb25ea8", "filename": "crates/ra_hir/src/ty.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ff609cc49715571324b72d2bda60d56878466640/crates%2Fra_hir%2Fsrc%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff609cc49715571324b72d2bda60d56878466640/crates%2Fra_hir%2Fsrc%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty.rs?ref=ff609cc49715571324b72d2bda60d56878466640", "patch": "@@ -17,8 +17,11 @@ use std::sync::Arc;\n use std::{fmt, iter, mem};\n \n use crate::{\n-    db::HirDatabase, expr::ExprId, util::make_mut_slice, Adt, Crate, DefWithBody, GenericParams,\n-    HasGenericParams, Mutability, Name, Trait, TypeAlias,\n+    db::HirDatabase,\n+    expr::ExprId,\n+    generics::{GenericParams, HasGenericParams},\n+    util::make_mut_slice,\n+    Adt, Crate, DefWithBody, Mutability, Name, Trait, TypeAlias,\n };\n use display::{HirDisplay, HirFormatter};\n \n@@ -342,10 +345,7 @@ impl Substs {\n         )\n     }\n \n-    pub fn build_for_def(\n-        db: &impl HirDatabase,\n-        def: impl crate::HasGenericParams,\n-    ) -> SubstsBuilder {\n+    pub fn build_for_def(db: &impl HirDatabase, def: impl HasGenericParams) -> SubstsBuilder {\n         let params = def.generic_params(db);\n         let param_count = params.count_params_including_parent();\n         Substs::builder(param_count)"}, {"sha": "872a4517d1369ce44c548685d71934917df7be04", "filename": "crates/ra_hir/src/ty/autoderef.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ff609cc49715571324b72d2bda60d56878466640/crates%2Fra_hir%2Fsrc%2Fty%2Fautoderef.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff609cc49715571324b72d2bda60d56878466640/crates%2Fra_hir%2Fsrc%2Fty%2Fautoderef.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty%2Fautoderef.rs?ref=ff609cc49715571324b72d2bda60d56878466640", "patch": "@@ -9,7 +9,7 @@ use hir_expand::name;\n use log::{info, warn};\n \n use super::{traits::Solution, Canonical, Substs, Ty, TypeWalk};\n-use crate::{db::HirDatabase, HasGenericParams, Resolver};\n+use crate::{db::HirDatabase, generics::HasGenericParams, Resolver};\n \n const AUTODEREF_RECURSION_LIMIT: usize = 10;\n "}, {"sha": "31ca675aac03d8318e0118ee841bf36d0e99401e", "filename": "crates/ra_hir/src/ty/infer/path.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ff609cc49715571324b72d2bda60d56878466640/crates%2Fra_hir%2Fsrc%2Fty%2Finfer%2Fpath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff609cc49715571324b72d2bda60d56878466640/crates%2Fra_hir%2Fsrc%2Fty%2Finfer%2Fpath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty%2Finfer%2Fpath.rs?ref=ff609cc49715571324b72d2bda60d56878466640", "patch": "@@ -5,9 +5,10 @@ use hir_def::path::PathSegment;\n use super::{ExprOrPatId, InferenceContext, TraitRef};\n use crate::{\n     db::HirDatabase,\n+    generics::HasGenericParams,\n     resolve::{ResolveValueResult, Resolver, TypeNs, ValueNs},\n     ty::{method_resolution, Namespace, Substs, Ty, TypableDef, TypeWalk},\n-    AssocItem, Container, HasGenericParams, Name, Path,\n+    AssocItem, Container, Name, Path,\n };\n \n impl<'a, D: HirDatabase> InferenceContext<'a, D> {"}, {"sha": "14c54b9fb4811d8d3360aeabc8de1378c5e62a09", "filename": "crates/ra_hir/src/ty/traits/chalk.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ff609cc49715571324b72d2bda60d56878466640/crates%2Fra_hir%2Fsrc%2Fty%2Ftraits%2Fchalk.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ff609cc49715571324b72d2bda60d56878466640/crates%2Fra_hir%2Fsrc%2Fty%2Ftraits%2Fchalk.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty%2Ftraits%2Fchalk.rs?ref=ff609cc49715571324b72d2bda60d56878466640", "patch": "@@ -16,13 +16,13 @@ use ra_db::salsa::{InternId, InternKey};\n use super::{Canonical, ChalkContext, Impl, Obligation};\n use crate::{\n     db::HirDatabase,\n-    generics::GenericDef,\n+    generics::{GenericDef, HasGenericParams},\n     ty::display::HirDisplay,\n     ty::{\n         ApplicationTy, GenericPredicate, Namespace, ProjectionTy, Substs, TraitRef, Ty, TypeCtor,\n         TypeWalk,\n     },\n-    AssocItem, Crate, HasGenericParams, ImplBlock, Trait, TypeAlias,\n+    AssocItem, Crate, ImplBlock, Trait, TypeAlias,\n };\n \n /// This represents a trait whose name we could not resolve."}]}