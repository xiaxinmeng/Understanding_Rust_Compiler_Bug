{"sha": "1bf4873aac9c5671ed575dffd9e899d53713e69d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFiZjQ4NzNhYWM5YzU2NzFlZDU3NWRmZmQ5ZTg5OWQ1MzcxM2U2OWQ=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-03-29T19:23:53Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-03-29T19:23:53Z"}, "message": "Rollup merge of #70540 - jonas-schievink:link-attr-template, r=varkor\n\n#[link]: mention wasm_import_module instead of cfg\n\n`#[link(cfg)]` is perma-unstable and is not documented anywhere else. It makes more sense to mention `wasm_import_module` here since it's stable.\n\nThis makes it harder to hit https://github.com/rust-lang/rust/issues/70538 (if it weren't for this text, I wouldn't even know this feature existed).", "tree": {"sha": "a0f1d3134e2436d3cb0965791f296c16d616cb88", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a0f1d3134e2436d3cb0965791f296c16d616cb88"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1bf4873aac9c5671ed575dffd9e899d53713e69d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJegPXJCRBK7hj4Ov3rIwAAdHIIAF1YeqjTEKrY8rzDzo+m6fma\nxhpVpefWNXqUsqXlNyd34McYFZovvjaP1+hkH60UIM4nRTHemCx9+YEESdbK10+p\nNXSAlYMcOcGjkeYFzA2jnMAwsrpWDKRoUdyPgHFghnKZe6CaF3TiW8/Zd2KDYRSf\nxMvwfhuJwUdlWVP+kS7983QbbsPxSj76zbc0VGFRzJ9dYOA+Hsp/iNKCf/TEcK7A\nm/YNn5FL6G/28/UhQnQpx5ILJbf2ehw9XcfHeavJNTEIelO5wcbS9p3ak81Dvbp6\nDHsZmmwi7H+NKwOnVW/1ndm1Gwc60jUioO6v58tfNST3wm5pQJ8mqKFO07RmqXM=\n=rb4t\n-----END PGP SIGNATURE-----\n", "payload": "tree a0f1d3134e2436d3cb0965791f296c16d616cb88\nparent 5a7b377b6f71f75c9b3201d7af735b74aa8adf27\nparent 042f4941e78876d95f3106d34c34e9bc3494e446\nauthor Dylan DPC <dylan.dpc@gmail.com> 1585509833 +0200\ncommitter GitHub <noreply@github.com> 1585509833 +0200\n\nRollup merge of #70540 - jonas-schievink:link-attr-template, r=varkor\n\n#[link]: mention wasm_import_module instead of cfg\n\n`#[link(cfg)]` is perma-unstable and is not documented anywhere else. It makes more sense to mention `wasm_import_module` here since it's stable.\n\nThis makes it harder to hit https://github.com/rust-lang/rust/issues/70538 (if it weren't for this text, I wouldn't even know this feature existed).\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1bf4873aac9c5671ed575dffd9e899d53713e69d", "html_url": "https://github.com/rust-lang/rust/commit/1bf4873aac9c5671ed575dffd9e899d53713e69d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1bf4873aac9c5671ed575dffd9e899d53713e69d/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5a7b377b6f71f75c9b3201d7af735b74aa8adf27", "url": "https://api.github.com/repos/rust-lang/rust/commits/5a7b377b6f71f75c9b3201d7af735b74aa8adf27", "html_url": "https://github.com/rust-lang/rust/commit/5a7b377b6f71f75c9b3201d7af735b74aa8adf27"}, {"sha": "042f4941e78876d95f3106d34c34e9bc3494e446", "url": "https://api.github.com/repos/rust-lang/rust/commits/042f4941e78876d95f3106d34c34e9bc3494e446", "html_url": "https://github.com/rust-lang/rust/commit/042f4941e78876d95f3106d34c34e9bc3494e446"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "e4975aae6b9837e65ec767b56574c0b1601dc461", "filename": "src/librustc_feature/builtin_attrs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1bf4873aac9c5671ed575dffd9e899d53713e69d/src%2Flibrustc_feature%2Fbuiltin_attrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1bf4873aac9c5671ed575dffd9e899d53713e69d/src%2Flibrustc_feature%2Fbuiltin_attrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_feature%2Fbuiltin_attrs.rs?ref=1bf4873aac9c5671ed575dffd9e899d53713e69d", "patch": "@@ -220,7 +220,7 @@ pub const BUILTIN_ATTRIBUTES: &[BuiltinAttribute] = &[\n     // ABI, linking, symbols, and FFI\n     ungated!(\n         link, Whitelisted,\n-        template!(List: r#\"name = \"...\", /*opt*/ kind = \"dylib|static|...\", /*opt*/ cfg = \"...\"\"#),\n+        template!(List: r#\"name = \"...\", /*opt*/ kind = \"dylib|static|...\", /*opt*/ wasm_import_module = \"...\"\"#),\n     ),\n     ungated!(link_name, Whitelisted, template!(NameValueStr: \"name\")),\n     ungated!(no_link, Normal, template!(Word)),"}, {"sha": "13c12ff7213603e91b557950e5aef32ebdeaa23a", "filename": "src/test/ui/malformed/malformed-regressions.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1bf4873aac9c5671ed575dffd9e899d53713e69d/src%2Ftest%2Fui%2Fmalformed%2Fmalformed-regressions.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/1bf4873aac9c5671ed575dffd9e899d53713e69d/src%2Ftest%2Fui%2Fmalformed%2Fmalformed-regressions.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmalformed%2Fmalformed-regressions.stderr?ref=1bf4873aac9c5671ed575dffd9e899d53713e69d", "patch": "@@ -26,7 +26,7 @@ LL | #[inline = \"\"]\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n    = note: for more information, see issue #57571 <https://github.com/rust-lang/rust/issues/57571>\n \n-error: attribute must be of the form `#[link(name = \"...\", /*opt*/ kind = \"dylib|static|...\", /*opt*/ cfg = \"...\")]`\n+error: attribute must be of the form `#[link(name = \"...\", /*opt*/ kind = \"dylib|static|...\", /*opt*/ wasm_import_module = \"...\")]`\n   --> $DIR/malformed-regressions.rs:7:1\n    |\n LL | #[link]\n@@ -35,7 +35,7 @@ LL | #[link]\n    = warning: this was previously accepted by the compiler but is being phased out; it will become a hard error in a future release!\n    = note: for more information, see issue #57571 <https://github.com/rust-lang/rust/issues/57571>\n \n-error: attribute must be of the form `#[link(name = \"...\", /*opt*/ kind = \"dylib|static|...\", /*opt*/ cfg = \"...\")]`\n+error: attribute must be of the form `#[link(name = \"...\", /*opt*/ kind = \"dylib|static|...\", /*opt*/ wasm_import_module = \"...\")]`\n   --> $DIR/malformed-regressions.rs:9:1\n    |\n LL | #[link = \"\"]"}]}