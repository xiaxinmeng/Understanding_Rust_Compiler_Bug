{"sha": "9716a9eff0d68c92fd064b293f0ffbd083645fa5", "node_id": "C_kwDOAAsO6NoAKDk3MTZhOWVmZjBkNjhjOTJmZDA2NGIyOTNmMGZmYmQwODM2NDVmYTU", "commit": {"author": {"name": "kyoto7250", "email": "50972773+kyoto7250@users.noreply.github.com", "date": "2022-04-11T19:03:48Z"}, "committer": {"name": "kyoto7250", "email": "50972773+kyoto7250@users.noreply.github.com", "date": "2022-04-11T19:03:48Z"}, "message": "adding condition for map_clone message\n\nif msrv < 1.36, the message tells , but the suggestion is", "tree": {"sha": "68cb1d8eb7c54b43a752f78df0aa66c0fdb00e77", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/68cb1d8eb7c54b43a752f78df0aa66c0fdb00e77"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9716a9eff0d68c92fd064b293f0ffbd083645fa5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9716a9eff0d68c92fd064b293f0ffbd083645fa5", "html_url": "https://github.com/rust-lang/rust/commit/9716a9eff0d68c92fd064b293f0ffbd083645fa5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9716a9eff0d68c92fd064b293f0ffbd083645fa5/comments", "author": {"login": "kyoto7250", "id": 50972773, "node_id": "MDQ6VXNlcjUwOTcyNzcz", "avatar_url": "https://avatars.githubusercontent.com/u/50972773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyoto7250", "html_url": "https://github.com/kyoto7250", "followers_url": "https://api.github.com/users/kyoto7250/followers", "following_url": "https://api.github.com/users/kyoto7250/following{/other_user}", "gists_url": "https://api.github.com/users/kyoto7250/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyoto7250/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyoto7250/subscriptions", "organizations_url": "https://api.github.com/users/kyoto7250/orgs", "repos_url": "https://api.github.com/users/kyoto7250/repos", "events_url": "https://api.github.com/users/kyoto7250/events{/privacy}", "received_events_url": "https://api.github.com/users/kyoto7250/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kyoto7250", "id": 50972773, "node_id": "MDQ6VXNlcjUwOTcyNzcz", "avatar_url": "https://avatars.githubusercontent.com/u/50972773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kyoto7250", "html_url": "https://github.com/kyoto7250", "followers_url": "https://api.github.com/users/kyoto7250/followers", "following_url": "https://api.github.com/users/kyoto7250/following{/other_user}", "gists_url": "https://api.github.com/users/kyoto7250/gists{/gist_id}", "starred_url": "https://api.github.com/users/kyoto7250/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kyoto7250/subscriptions", "organizations_url": "https://api.github.com/users/kyoto7250/orgs", "repos_url": "https://api.github.com/users/kyoto7250/repos", "events_url": "https://api.github.com/users/kyoto7250/events{/privacy}", "received_events_url": "https://api.github.com/users/kyoto7250/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "89ee6aa6e32df974ef9dbb3c825afbdce441e856", "url": "https://api.github.com/repos/rust-lang/rust/commits/89ee6aa6e32df974ef9dbb3c825afbdce441e856", "html_url": "https://github.com/rust-lang/rust/commit/89ee6aa6e32df974ef9dbb3c825afbdce441e856"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "a03d5d540653dc616da5e317d1316bd40d5b0d0d", "filename": "clippy_lints/src/map_clone.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9716a9eff0d68c92fd064b293f0ffbd083645fa5/clippy_lints%2Fsrc%2Fmap_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9716a9eff0d68c92fd064b293f0ffbd083645fa5/clippy_lints%2Fsrc%2Fmap_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmap_clone.rs?ref=9716a9eff0d68c92fd064b293f0ffbd083645fa5", "patch": "@@ -143,7 +143,7 @@ fn lint_needless_cloning(cx: &LateContext<'_>, root: Span, receiver: Span) {\n impl MapClone {\n     fn lint_explicit_closure(&self, cx: &LateContext<'_>, replace: Span, root: Span, is_copy: bool) {\n         let mut applicability = Applicability::MachineApplicable;\n-        let message = if is_copy {\n+        let message = if is_copy && meets_msrv(self.msrv.as_ref(), &msrvs::ITERATOR_COPIED) {\n             \"you are using an explicit closure for copying elements\"\n         } else {\n             \"you are using an explicit closure for cloning elements\""}, {"sha": "5dae5af7eb5a9cc9413582d37256b2869abd32c8", "filename": "tests/ui-toml/min_rust_version/min_rust_version.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9716a9eff0d68c92fd064b293f0ffbd083645fa5/tests%2Fui-toml%2Fmin_rust_version%2Fmin_rust_version.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9716a9eff0d68c92fd064b293f0ffbd083645fa5/tests%2Fui-toml%2Fmin_rust_version%2Fmin_rust_version.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fmin_rust_version%2Fmin_rust_version.stderr?ref=9716a9eff0d68c92fd064b293f0ffbd083645fa5", "patch": "@@ -1,4 +1,4 @@\n-error: you are using an explicit closure for copying elements\n+error: you are using an explicit closure for cloning elements\n   --> $DIR/min_rust_version.rs:74:26\n    |\n LL |     let _: Option<u64> = Some(&16).map(|b| *b);"}]}