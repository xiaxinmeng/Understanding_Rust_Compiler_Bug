{"sha": "40b73d8feec5938a4b6d542840641eceb563930c", "node_id": "C_kwDOAAsO6NoAKDQwYjczZDhmZWVjNTkzOGE0YjZkNTQyODQwNjQxZWNlYjU2MzkzMGM", "commit": {"author": {"name": "Caleb Cartwright", "email": "caleb.cartwright@outlook.com", "date": "2021-12-20T23:55:48Z"}, "committer": {"name": "Caleb Cartwright", "email": "calebcartwright@users.noreply.github.com", "date": "2021-12-21T16:55:39Z"}, "message": "refactor: rename syntux mod to parse", "tree": {"sha": "2c63f54808fb4335ff23097334eb96d8e26c1477", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2c63f54808fb4335ff23097334eb96d8e26c1477"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/40b73d8feec5938a4b6d542840641eceb563930c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/40b73d8feec5938a4b6d542840641eceb563930c", "html_url": "https://github.com/rust-lang/rust/commit/40b73d8feec5938a4b6d542840641eceb563930c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/40b73d8feec5938a4b6d542840641eceb563930c/comments", "author": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "committer": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0346bc74a7d4a6e1b89a897a6e5a2b7b7b9a3760", "url": "https://api.github.com/repos/rust-lang/rust/commits/0346bc74a7d4a6e1b89a897a6e5a2b7b7b9a3760", "html_url": "https://github.com/rust-lang/rust/commit/0346bc74a7d4a6e1b89a897a6e5a2b7b7b9a3760"}], "stats": {"total": 28, "additions": 15, "deletions": 13}, "files": [{"sha": "67cf1232f66abe93f3905070f965ad72a70066c5", "filename": "src/formatting.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fformatting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fformatting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fformatting.rs?ref=40b73d8feec5938a4b6d542840641eceb563930c", "patch": "@@ -14,8 +14,8 @@ use crate::config::{Config, FileName, Verbosity};\n use crate::formatting::generated::is_generated_file;\n use crate::issues::BadIssueSeeker;\n use crate::modules::Module;\n-use crate::syntux::parser::{DirectoryOwnership, Parser, ParserError};\n-use crate::syntux::session::ParseSess;\n+use crate::parse::parser::{DirectoryOwnership, Parser, ParserError};\n+use crate::parse::session::ParseSess;\n use crate::utils::{contains_skip, count_newlines};\n use crate::visitor::FmtVisitor;\n use crate::{modules, source_file, ErrorKind, FormatReport, Input, Session};"}, {"sha": "f59ebad97ce89ed1e8dbf1d0bb762d8923a91a18", "filename": "src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40b73d8feec5938a4b6d542840641eceb563930c/src%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40b73d8feec5938a4b6d542840641eceb563930c/src%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib.rs?ref=40b73d8feec5938a4b6d542840641eceb563930c", "patch": "@@ -40,8 +40,8 @@ use crate::emitter::Emitter;\n use crate::formatting::{FormatErrorMap, FormattingError, ReportedErrors, SourceFile};\n use crate::issues::Issue;\n use crate::modules::ModuleResolutionError;\n+use crate::parse::parser::DirectoryOwnership;\n use crate::shape::Indent;\n-use crate::syntux::parser::DirectoryOwnership;\n use crate::utils::indent_next_line;\n \n pub use crate::config::{\n@@ -77,6 +77,7 @@ mod missed_spans;\n pub(crate) mod modules;\n mod overflow;\n mod pairs;\n+mod parse;\n mod patterns;\n mod release_channel;\n mod reorder;\n@@ -89,7 +90,6 @@ pub(crate) mod source_map;\n mod spanned;\n mod stmt;\n mod string;\n-mod syntux;\n #[cfg(test)]\n mod test;\n mod types;"}, {"sha": "9c964b274e088158301fdb7a76a6a7d0eea2e70d", "filename": "src/modules.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fmodules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fmodules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmodules.rs?ref=40b73d8feec5938a4b6d542840641eceb563930c", "patch": "@@ -12,10 +12,10 @@ use thiserror::Error;\n use crate::attr::MetaVisitor;\n use crate::config::FileName;\n use crate::items::is_mod_decl;\n-use crate::syntux::parser::{\n+use crate::parse::parser::{\n     Directory, DirectoryOwnership, ModError, ModulePathSuccess, Parser, ParserError,\n };\n-use crate::syntux::session::ParseSess;\n+use crate::parse::session::ParseSess;\n use crate::utils::{contains_skip, mk_sp};\n \n mod visitor;"}, {"sha": "7486a4c4ee15aeb47d755d25d580e7280bdb6cba", "filename": "src/modules/visitor.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fmodules%2Fvisitor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fmodules%2Fvisitor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmodules%2Fvisitor.rs?ref=40b73d8feec5938a4b6d542840641eceb563930c", "patch": "@@ -3,8 +3,8 @@ use rustc_ast::visit::Visitor;\n use rustc_span::Symbol;\n \n use crate::attr::MetaVisitor;\n-use crate::syntux::parser::Parser;\n-use crate::syntux::session::ParseSess;\n+use crate::parse::parser::Parser;\n+use crate::parse::session::ParseSess;\n \n pub(crate) struct ModItem {\n     pub(crate) item: ast::Item,"}, {"sha": "bb7d9ca87d40820506a614e7ddca061e8824fddf", "filename": "src/parse/mod.rs", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fparse%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fparse%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparse%2Fmod.rs?ref=40b73d8feec5938a4b6d542840641eceb563930c", "patch": "@@ -0,0 +1,2 @@\n+pub(crate) mod parser;\n+pub(crate) mod session;"}, {"sha": "024b38cebb6293c79fb06f16ac0ef2900c19f78f", "filename": "src/parse/parser.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparse%2Fparser.rs?ref=40b73d8feec5938a4b6d542840641eceb563930c", "patch": "@@ -11,7 +11,7 @@ use rustc_parse::{\n use rustc_span::{sym, symbol::kw, Span};\n \n use crate::attr::first_attr_value_str_by_name;\n-use crate::syntux::session::ParseSess;\n+use crate::parse::session::ParseSess;\n use crate::Input;\n \n pub(crate) type DirectoryOwnership = rustc_expand::module::DirOwnership;", "previous_filename": "src/syntux/parser.rs"}, {"sha": "624fed0d2de2644df8bfbc8d6915d61e53c4b8a3", "filename": "src/parse/session.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fparse%2Fsession.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fparse%2Fsession.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fparse%2Fsession.rs?ref=40b73d8feec5938a4b6d542840641eceb563930c", "patch": "@@ -222,7 +222,7 @@ impl ParseSess {\n     }\n }\n \n-// Methods that should be restricted within the syntux module.\n+// Methods that should be restricted within the parse module.\n impl ParseSess {\n     pub(super) fn emit_diagnostics(&self, diagnostics: Vec<Diagnostic>) {\n         for diagnostic in diagnostics {", "previous_filename": "src/syntux/session.rs"}, {"sha": "4a3bd129d16f5ad62b017f0ba277c87c8a80968d", "filename": "src/rewrite.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40b73d8feec5938a4b6d542840641eceb563930c/src%2Frewrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40b73d8feec5938a4b6d542840641eceb563930c/src%2Frewrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frewrite.rs?ref=40b73d8feec5938a4b6d542840641eceb563930c", "patch": "@@ -7,9 +7,9 @@ use rustc_ast::ptr;\n use rustc_span::Span;\n \n use crate::config::{Config, IndentStyle};\n+use crate::parse::session::ParseSess;\n use crate::shape::Shape;\n use crate::skip::SkipContext;\n-use crate::syntux::session::ParseSess;\n use crate::visitor::SnippetProvider;\n use crate::FormatReport;\n "}, {"sha": "56d4ab4003832f57cda0b4774731766d22fbdf6f", "filename": "src/source_file.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fsource_file.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fsource_file.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsource_file.rs?ref=40b73d8feec5938a4b6d542840641eceb563930c", "patch": "@@ -4,7 +4,7 @@ use std::path::Path;\n \n use crate::config::FileName;\n use crate::emitter::{self, Emitter};\n-use crate::syntux::session::ParseSess;\n+use crate::parse::session::ParseSess;\n use crate::NewlineStyle;\n \n #[cfg(test)]"}, {"sha": "0177689958aa7994b0d130b52736a05d44d813b6", "filename": "src/visitor.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fvisitor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40b73d8feec5938a4b6d542840641eceb563930c/src%2Fvisitor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fvisitor.rs?ref=40b73d8feec5938a4b6d542840641eceb563930c", "patch": "@@ -16,13 +16,13 @@ use crate::items::{\n };\n use crate::macros::{macro_style, rewrite_macro, rewrite_macro_def, MacroPosition};\n use crate::modules::Module;\n+use crate::parse::session::ParseSess;\n use crate::rewrite::{Rewrite, RewriteContext};\n use crate::shape::{Indent, Shape};\n use crate::skip::{is_skip_attr, SkipContext};\n use crate::source_map::{LineRangeUtils, SpanUtils};\n use crate::spanned::Spanned;\n use crate::stmt::Stmt;\n-use crate::syntux::session::ParseSess;\n use crate::utils::{\n     self, contains_skip, count_newlines, depr_skip_annotation, format_unsafety, inner_attributes,\n     last_line_width, mk_sp, ptr_vec_to_ref_vec, rewrite_ident, starts_with_newline, stmt_expr,"}]}