{"sha": "cdca0843779eed0b9046e9fee48c91458ad51605", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNkY2EwODQzNzc5ZWVkMGI5MDQ2ZTlmZWU0OGM5MTQ1OGFkNTE2MDU=", "commit": {"author": {"name": "ggomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-05-06T16:47:12Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-05-05T20:58:24Z"}, "message": "Improve rustdoc css of \"source\" and \"since\" elements", "tree": {"sha": "ecc32cf978a022c47eb69f3af90edc6fb3c1bd0a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ecc32cf978a022c47eb69f3af90edc6fb3c1bd0a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cdca0843779eed0b9046e9fee48c91458ad51605", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cdca0843779eed0b9046e9fee48c91458ad51605", "html_url": "https://github.com/rust-lang/rust/commit/cdca0843779eed0b9046e9fee48c91458ad51605", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cdca0843779eed0b9046e9fee48c91458ad51605/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "083c3952e0d5473cd5c41a9eb7b4ffca18cc8e5f", "url": "https://api.github.com/repos/rust-lang/rust/commits/083c3952e0d5473cd5c41a9eb7b4ffca18cc8e5f", "html_url": "https://github.com/rust-lang/rust/commit/083c3952e0d5473cd5c41a9eb7b4ffca18cc8e5f"}], "stats": {"total": 50, "additions": 43, "deletions": 7}, "files": [{"sha": "4c652f54009dae4354c65da0a05b2efdba4ad1c1", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cdca0843779eed0b9046e9fee48c91458ad51605/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cdca0843779eed0b9046e9fee48c91458ad51605/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=cdca0843779eed0b9046e9fee48c91458ad51605", "patch": "@@ -2144,7 +2144,7 @@ fn render_stability_since_raw<'a>(w: &mut fmt::Formatter,\n                                   containing_ver: Option<&'a str>) -> fmt::Result {\n     if let Some(v) = ver {\n         if containing_ver != ver && v.len() > 0 {\n-            write!(w, \"<span class=\\\"since\\\">{}</span>\",\n+            write!(w, \"<div class=\\\"since\\\">{}</div>\",\n                    v)?\n         }\n     }\n@@ -2545,13 +2545,16 @@ fn render_impl(w: &mut fmt::Formatter, cx: &Context, i: &Impl, link: AssocItemLi\n                render_header: bool, outer_version: Option<&str>) -> fmt::Result {\n     if render_header {\n         write!(w, \"<h3 class='impl'><span class='in-band'><code>{}</code>\", i.inner_impl())?;\n-        let since = i.impl_item.stability.as_ref().map(|s| &s.since[..]);\n-        render_stability_since_raw(w, since, outer_version)?;\n         write!(w, \"</span><span class='out-of-band'>\")?;\n+        let since = i.impl_item.stability.as_ref().map(|s| &s.since[..]);\n         if let Some(l) = (Item { item: &i.impl_item, cx: cx }).href() {\n+            write!(w, \"<div class='ghost'></div>\")?;\n+            render_stability_since_raw(w, since, outer_version)?;\n             write!(w, \"<a id='src-{}' class='srclink' \\\n                        href='{}' title='{}'>[src]</a>\",\n                    i.impl_item.def_id.index.as_usize(), l, \"goto source code\")?;\n+        } else {\n+            render_stability_since_raw(w, since, outer_version)?;\n         }\n         write!(w, \"</span>\")?;\n         write!(w, \"</h3>\\n\")?;"}, {"sha": "4d65b91ed421c884f59c7f43fa5a78babda1ff1a", "filename": "src/librustdoc/html/static/rustdoc.css", "status": "modified", "additions": 34, "deletions": 4, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/cdca0843779eed0b9046e9fee48c91458ad51605/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/cdca0843779eed0b9046e9fee48c91458ad51605/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css?ref=cdca0843779eed0b9046e9fee48c91458ad51605", "patch": "@@ -97,6 +97,7 @@ h1, h2, h3:not(.impl):not(.method):not(.type):not(.tymethod), h4:not(.method):no\n h1.fqn {\n     border-bottom: 1px dashed;\n     margin-top: 0;\n+    position: relative;\n }\n h2, h3:not(.impl):not(.method):not(.type):not(.tymethod), h4:not(.method):not(.type):not(.tymethod) {\n     border-bottom: 1px solid;\n@@ -105,6 +106,7 @@ h3.impl, h3.method, h4.method, h3.type, h4.type {\n     font-weight: 600;\n     margin-top: 10px;\n     margin-bottom: 10px;\n+    position: relative;\n }\n h3.impl, h3.method, h3.type {\n     margin-top: 15px;\n@@ -265,25 +267,39 @@ nav.sub {\n \n .content .out-of-band {\n     font-size: 23px;\n-    width: 40%;\n     margin: 0px;\n     padding: 0px;\n     text-align: right;\n     display: inline-block;\n     font-weight: normal;\n+    position: absolute;\n+    right: 0;\n }\n \n h3.impl > .out-of-band {\n     font-size: 21px;\n }\n \n+h4 > code, h3 > code {\n+    position: inherit;\n+}\n+\n+.in-band, code {\n+    z-index: 5;\n+}\n+\n .content .in-band {\n-    width: 60%;\n     margin: 0px;\n     padding: 0px;\n     display: inline-block;\n }\n \n+#main { position: relative; }\n+#main > .since {\n+    top: inherit;\n+    font-family: \"Fira Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n+}\n+\n .content table {\n     border-spacing: 0 5px;\n     border-collapse: separate;\n@@ -503,11 +519,13 @@ em.stab p {\n     opacity: 0.65;\n }\n \n-span.since {\n-    float: right;\n+.since {\n     font-weight: normal;\n     font-size: initial;\n     color: grey;\n+    position: absolute;\n+    right: 0;\n+    top: 0;\n }\n \n .variants_table {\n@@ -602,7 +620,19 @@ a.test-arrow {\n     color: #999;\n }\n \n+.ghost {\n+    display: none;\n+}\n+\n+.ghost + .since {\n+    position: initial;\n+    display: table-cell;\n+}\n \n+.since + .srclink {\n+    display: table-cell;\n+    padding-left: 10px;\n+}\n \n /* Media Queries */\n "}, {"sha": "59b2ff7e3d64911703ae8f1594264056671313c8", "filename": "src/librustdoc/html/static/styles/main.css", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/cdca0843779eed0b9046e9fee48c91458ad51605/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fstyles%2Fmain.css", "raw_url": "https://github.com/rust-lang/rust/raw/cdca0843779eed0b9046e9fee48c91458ad51605/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fstyles%2Fmain.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fstyles%2Fmain.css?ref=cdca0843779eed0b9046e9fee48c91458ad51605", "patch": "@@ -26,6 +26,9 @@ h1.fqn {\n h2, h3:not(.impl):not(.method):not(.type):not(.tymethod), h4:not(.method):not(.type):not(.tymethod) {\n     border-bottom-color: #DDDDDD;\n }\n+.in-band, code {\n+    background-color: white;\n+}\n \n .docblock code {\n     background-color: #F5F5F5;"}]}