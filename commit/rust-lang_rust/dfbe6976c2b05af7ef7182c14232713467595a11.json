{"sha": "dfbe6976c2b05af7ef7182c14232713467595a11", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRmYmU2OTc2YzJiMDVhZjdlZjcxODJjMTQyMzI3MTM0Njc1OTVhMTE=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-07-28T21:13:08Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-07-28T23:06:25Z"}, "message": "core: Fix compilation of intrinsic ops when testing", "tree": {"sha": "5deab131fa3c373edd1fc4a2ba6c03b80222dc30", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5deab131fa3c373edd1fc4a2ba6c03b80222dc30"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dfbe6976c2b05af7ef7182c14232713467595a11", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dfbe6976c2b05af7ef7182c14232713467595a11", "html_url": "https://github.com/rust-lang/rust/commit/dfbe6976c2b05af7ef7182c14232713467595a11", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dfbe6976c2b05af7ef7182c14232713467595a11/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "725a73c4d5eca5a7cbff019ea44e86623e9065fb", "url": "https://api.github.com/repos/rust-lang/rust/commits/725a73c4d5eca5a7cbff019ea44e86623e9065fb", "html_url": "https://github.com/rust-lang/rust/commit/725a73c4d5eca5a7cbff019ea44e86623e9065fb"}], "stats": {"total": 16, "additions": 13, "deletions": 3}, "files": [{"sha": "1e9e927416d1ead916e3f02712fffb4ba04cb60c", "filename": "src/libcore/core.rc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/dfbe6976c2b05af7ef7182c14232713467595a11/src%2Flibcore%2Fcore.rc", "raw_url": "https://github.com/rust-lang/rust/raw/dfbe6976c2b05af7ef7182c14232713467595a11/src%2Flibcore%2Fcore.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcore.rc?ref=dfbe6976c2b05af7ef7182c14232713467595a11", "patch": "@@ -166,6 +166,7 @@ mod tuple;\n \n // Ubiquitous-utility-type modules\n \n+#[cfg(notest)]\n mod ops;\n mod cmp;\n mod num;"}, {"sha": "f0228a00983b614ccd13c1361be970d0c7daa805", "filename": "src/libcore/core.rs", "status": "modified", "additions": 12, "deletions": 3, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/dfbe6976c2b05af7ef7182c14232713467595a11/src%2Flibcore%2Fcore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dfbe6976c2b05af7ef7182c14232713467595a11/src%2Flibcore%2Fcore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcore.rs?ref=dfbe6976c2b05af7ef7182c14232713467595a11", "patch": "@@ -30,9 +30,6 @@ import float::num;\n import f32::num;\n import f64::num;\n import num::num;\n-import ops::{const, copy, send, owned};\n-import ops::{add, sub, mul, div, modulo, neg, bitand, bitor, bitxor, shl};\n-import ops::{shr, index};\n \n export path, option, some, none, unreachable;\n export extensions;\n@@ -45,8 +42,20 @@ export immutable_copyable_vector, iter_trait_extensions, vec_concat;\n export base_iter, copyable_iter, extended_iter;\n export tuple_ops, extended_tuple_ops;\n export ptr;\n+\n // The following exports are the core operators and kinds\n+// The compiler has special knowlege of these so we must not duplicate them\n+// when compiling for testing\n+#[cfg(notest)]\n+import ops::{const, copy, send, owned};\n+#[cfg(notest)]\n+import ops::{add, sub, mul, div, modulo, neg, bitand, bitor, bitxor, shl};\n+#[cfg(notest)]\n+import ops::{shr, index};\n+\n+#[cfg(notest)]\n export const, copy, send, owned;\n+#[cfg(notest)]\n export add, sub, mul, div, modulo, neg, bitops, index;\n \n // Export the log levels as global constants. Higher levels mean"}]}