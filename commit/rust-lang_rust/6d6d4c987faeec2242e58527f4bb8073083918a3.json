{"sha": "6d6d4c987faeec2242e58527f4bb8073083918a3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZkNmQ0Yzk4N2ZhZWVjMjI0MmU1ODUyN2Y0YmI4MDczMDgzOTE4YTM=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-04-08T18:38:18Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-04-10T22:21:59Z"}, "message": "test: Add a test for #7663\n\nI think that the test case from this issue has become out of date with resolve\nchanges in the past 9 months, and it's not entirely clear to me what the\noriginal bug was.\n\nRegardless, it seems like tricky resolve behavior, so tests were added to make\nsure things resolved correctly and warnings were correctly reported.\n\nCloses #7663", "tree": {"sha": "739994f6b85fddb275fb0dce6dd7bdc1849458e8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/739994f6b85fddb275fb0dce6dd7bdc1849458e8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6d6d4c987faeec2242e58527f4bb8073083918a3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6d6d4c987faeec2242e58527f4bb8073083918a3", "html_url": "https://github.com/rust-lang/rust/commit/6d6d4c987faeec2242e58527f4bb8073083918a3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6d6d4c987faeec2242e58527f4bb8073083918a3/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "da25539c1ab295ec40261109557dd4526923928c", "url": "https://api.github.com/repos/rust-lang/rust/commits/da25539c1ab295ec40261109557dd4526923928c", "html_url": "https://github.com/rust-lang/rust/commit/da25539c1ab295ec40261109557dd4526923928c"}], "stats": {"total": 113, "additions": 113, "deletions": 0}, "files": [{"sha": "baea483ad982b0abd65bd2297046f049ee06e8f8", "filename": "src/test/compile-fail/issue-7663.rs", "status": "added", "additions": 56, "deletions": 0, "changes": 56, "blob_url": "https://github.com/rust-lang/rust/blob/6d6d4c987faeec2242e58527f4bb8073083918a3/src%2Ftest%2Fcompile-fail%2Fissue-7663.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d6d4c987faeec2242e58527f4bb8073083918a3/src%2Ftest%2Fcompile-fail%2Fissue-7663.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-7663.rs?ref=6d6d4c987faeec2242e58527f4bb8073083918a3", "patch": "@@ -0,0 +1,56 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(globs)]\n+#![deny(unused_imports)]\n+#![allow(dead_code)]\n+\n+mod test1 {\n+\n+    mod foo { pub fn p() -> int { 1 } }\n+    mod bar { pub fn p() -> int { 2 } }\n+\n+    pub mod baz {\n+        use test1::foo::*; //~ ERROR: unused import\n+        use test1::bar::*;\n+\n+        pub fn my_main() { assert!(p() == 2); }\n+    }\n+}\n+\n+mod test2 {\n+\n+    mod foo { pub fn p() -> int { 1 } }\n+    mod bar { pub fn p() -> int { 2 } }\n+\n+    pub mod baz {\n+        use test2::foo::p; //~ ERROR: unused import\n+        use test2::bar::p;\n+\n+        pub fn my_main() { assert!(p() == 2); }\n+    }\n+}\n+\n+mod test3 {\n+\n+    mod foo { pub fn p() -> int { 1 } }\n+    mod bar { pub fn p() -> int { 2 } }\n+\n+    pub mod baz {\n+        use test3::foo::*; //~ ERROR: unused import\n+        use test3::bar::p;\n+\n+        pub fn my_main() { assert!(p() == 2); }\n+    }\n+}\n+\n+fn main() {\n+}\n+"}, {"sha": "baf37e314173d56293c217cf73776e8306cea7c7", "filename": "src/test/run-pass/issue-7663.rs", "status": "added", "additions": 57, "deletions": 0, "changes": 57, "blob_url": "https://github.com/rust-lang/rust/blob/6d6d4c987faeec2242e58527f4bb8073083918a3/src%2Ftest%2Frun-pass%2Fissue-7663.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d6d4c987faeec2242e58527f4bb8073083918a3/src%2Ftest%2Frun-pass%2Fissue-7663.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-7663.rs?ref=6d6d4c987faeec2242e58527f4bb8073083918a3", "patch": "@@ -0,0 +1,57 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(globs)]\n+#![allow(unused_imports, dead_code)]\n+\n+mod test1 {\n+\n+    mod foo { pub fn p() -> int { 1 } }\n+    mod bar { pub fn p() -> int { 2 } }\n+\n+    pub mod baz {\n+        use test1::foo::*;\n+        use test1::bar::*;\n+\n+        pub fn my_main() { assert!(p() == 2); }\n+    }\n+}\n+\n+mod test2 {\n+\n+    mod foo { pub fn p() -> int { 1 } }\n+    mod bar { pub fn p() -> int { 2 } }\n+\n+    pub mod baz {\n+        use test2::foo::p;\n+        use test2::bar::p;\n+\n+        pub fn my_main() { assert!(p() == 2); }\n+    }\n+}\n+\n+mod test3 {\n+\n+    mod foo { pub fn p() -> int { 1 } }\n+    mod bar { pub fn p() -> int { 2 } }\n+\n+    pub mod baz {\n+        use test3::foo::*;\n+        use test3::bar::p;\n+\n+        pub fn my_main() { assert!(p() == 2); }\n+    }\n+}\n+\n+fn main() {\n+    test1::baz::my_main();\n+    test2::baz::my_main();\n+    test3::baz::my_main();\n+}"}]}