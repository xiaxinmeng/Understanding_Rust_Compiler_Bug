{"sha": "682033c4e47cf0cca5b4b96b07123da8807254f6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY4MjAzM2M0ZTQ3Y2YwY2NhNWI0Yjk2YjA3MTIzZGE4ODA3MjU0ZjY=", "commit": {"author": {"name": "Crazycolorz5", "email": "Crazycolorz5@gmail.com", "date": "2018-05-25T20:40:16Z"}, "committer": {"name": "Crazycolorz5", "email": "Crazycolorz5@gmail.com", "date": "2018-06-05T02:25:00Z"}, "message": "Implemented eat_plus and used it in parsing parse_ty_param_bounds_common.", "tree": {"sha": "ce414ce38f8136937eb28d2057f06871921f25da", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ce414ce38f8136937eb28d2057f06871921f25da"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/682033c4e47cf0cca5b4b96b07123da8807254f6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/682033c4e47cf0cca5b4b96b07123da8807254f6", "html_url": "https://github.com/rust-lang/rust/commit/682033c4e47cf0cca5b4b96b07123da8807254f6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/682033c4e47cf0cca5b4b96b07123da8807254f6/comments", "author": {"login": "Crazycolorz5", "id": 1497003, "node_id": "MDQ6VXNlcjE0OTcwMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1497003?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Crazycolorz5", "html_url": "https://github.com/Crazycolorz5", "followers_url": "https://api.github.com/users/Crazycolorz5/followers", "following_url": "https://api.github.com/users/Crazycolorz5/following{/other_user}", "gists_url": "https://api.github.com/users/Crazycolorz5/gists{/gist_id}", "starred_url": "https://api.github.com/users/Crazycolorz5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Crazycolorz5/subscriptions", "organizations_url": "https://api.github.com/users/Crazycolorz5/orgs", "repos_url": "https://api.github.com/users/Crazycolorz5/repos", "events_url": "https://api.github.com/users/Crazycolorz5/events{/privacy}", "received_events_url": "https://api.github.com/users/Crazycolorz5/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Crazycolorz5", "id": 1497003, "node_id": "MDQ6VXNlcjE0OTcwMDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1497003?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Crazycolorz5", "html_url": "https://github.com/Crazycolorz5", "followers_url": "https://api.github.com/users/Crazycolorz5/followers", "following_url": "https://api.github.com/users/Crazycolorz5/following{/other_user}", "gists_url": "https://api.github.com/users/Crazycolorz5/gists{/gist_id}", "starred_url": "https://api.github.com/users/Crazycolorz5/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Crazycolorz5/subscriptions", "organizations_url": "https://api.github.com/users/Crazycolorz5/orgs", "repos_url": "https://api.github.com/users/Crazycolorz5/repos", "events_url": "https://api.github.com/users/Crazycolorz5/events{/privacy}", "received_events_url": "https://api.github.com/users/Crazycolorz5/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c610be92e2925ab8e789efc835c88247e46c6cbf", "url": "https://api.github.com/repos/rust-lang/rust/commits/c610be92e2925ab8e789efc835c88247e46c6cbf", "html_url": "https://github.com/rust-lang/rust/commit/c610be92e2925ab8e789efc835c88247e46c6cbf"}], "stats": {"total": 23, "additions": 22, "deletions": 1}, "files": [{"sha": "a4e2b96c5f99ee8ea52e8607259f611b9831e039", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 22, "deletions": 1, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/682033c4e47cf0cca5b4b96b07123da8807254f6/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/682033c4e47cf0cca5b4b96b07123da8807254f6/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=682033c4e47cf0cca5b4b96b07123da8807254f6", "patch": "@@ -880,6 +880,27 @@ impl<'a> Parser<'a> {\n             false\n         }\n     }\n+    \n+    /// Expect and consume a `+`. if `+=` is seen, replace it with a `=`\n+    /// and continue. If a `+` is not seen, return false.\n+    ///\n+    /// This is using when token splitting += into +. \n+    /// See issue 47856 for an example of when this may occur.\n+    fn eat_plus(&mut self) -> bool {\n+        self.expected_tokens.push(TokenType::Token(token::BinOp(token::Plus)));\n+        match self.token {\n+            token::BinOp(token::Plus) => {\n+                self.bump();\n+                true\n+            }\n+            token::BinOpEq(token::Plus) => {\n+                let span = self.span.with_lo(self.span.lo() + BytePos(1));\n+                self.bump_with(token::Eq, span);\n+                true\n+            }\n+            _ => false,\n+        }\n+    }\n \n     /// Expect and consume an `&`. If `&&` is seen, replace it with a single\n     /// `&` and continue. If an `&` is not seen, signal an error.\n@@ -4801,7 +4822,7 @@ impl<'a> Parser<'a> {\n                 break\n             }\n \n-            if !allow_plus || !self.eat(&token::BinOp(token::Plus)) {\n+            if !allow_plus || !self.eat_plus() {\n                 break\n             }\n         }"}]}