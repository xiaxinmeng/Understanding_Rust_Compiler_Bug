{"sha": "23efc96e3ed66d10ef5b7f88462ab2d5f4b31aac", "node_id": "C_kwDOAAsO6NoAKDIzZWZjOTZlM2VkNjZkMTBlZjViN2Y4ODQ2MmFiMmQ1ZjRiMzFhYWM", "commit": {"author": {"name": "Jubilee", "email": "46493976+workingjubilee@users.noreply.github.com", "date": "2021-09-24T00:31:44Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-09-24T00:31:44Z"}, "message": "Rollup merge of #89171 - rusticstuff:aarch64_macos_rustdoc_ci_fixes, r=jyn514\n\nRun `no_core` rustdoc tests only on Linux\n\nI don't think this is really worth investigating further so I just disabled them.\n\nThey currently fail like this:\n```\nerror: linking with `cc` failed: exit status: 1\n  |\n  = note: \"cc\" \"-Wl,-exported_symbols_list,/var/folders/pg/gjhzdz7n361f0pv665d0723w0000gn/T/rustcPUsMpx/list\" \"-arch\" \"arm64\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/test/rustdoc/intra-doc/prim-methods-external-core/auxiliary/my-core.my_core.9f3c60de-cgu.0.rcgu.o\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/test/rustdoc/intra-doc/prim-methods-external-core/auxiliary/my-core.50fu2g9urkmisdsg.rcgu.o\" \"-L\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/native/rust-test-helpers\" \"-L\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/test/rustdoc/intra-doc/prim-methods-external-core/auxiliary\" \"-L\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/stage1/lib/rustlib/aarch64-apple-darwin/lib\" \"-L\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/stage1/lib/rustlib/aarch64-apple-darwin/lib\" \"-o\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/test/rustdoc/intra-doc/prim-methods-external-core/auxiliary/libmy_core.dylib\" \"-Wl,-dead_strip\" \"-dynamiclib\" \"-Wl,-dylib\" \"-Wl,-install_name\" \"-Wl,``@rpath/libmy_core.dylib\"`` \"-nodefaultlibs\"\n  = note: ld: dynamic main executables must link with libSystem.dylib for architecture arm64\n          clang: error: linker command failed with exit code 1 (use -v to see invocation)\n```\n\nr? ``@jyn514``", "tree": {"sha": "a953613e0b5eb5e261dd3ed39a57ddf40e8d12b8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a953613e0b5eb5e261dd3ed39a57ddf40e8d12b8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/23efc96e3ed66d10ef5b7f88462ab2d5f4b31aac", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhTRxwCRBK7hj4Ov3rIwAAElcIAAI83RFOCTfQDfFJEGSoxQ9R\nyD+gmrccBvAEHpmFOHIhkEFfffZCktqx2LXa7j9oqWHsFCEqIgBb/2MRH7zuy6Vm\nVbty5flO345ZNhBVuNE146C0QReuvhTitt2J6EsW0hzZxlQUDNHjd6wTu56/uULg\nCGVi4LOefsKiKu7G6Df+lI0fuJSHJhnCo01bmiudVPH5lEzWmQghwZURtrW4qm9C\nbmMVjFFAp28Nwcjm2M6bQsKt3UA4pNdXtRmZ+YD3jxX5IM2SgGKYnRLhCsfCoey3\nHjlSHFj+3Y28RIsxQ37PzQEpz+R6cLtjL5l59PXj/GwShRtNN6jh88em0NA94iQ=\n=NlgX\n-----END PGP SIGNATURE-----\n", "payload": "tree a953613e0b5eb5e261dd3ed39a57ddf40e8d12b8\nparent 9e11d1cca4ea724468ec1589c8d424397d7de4bd\nparent da6f01d964ece92bb0812d619f176db5c44e818a\nauthor Jubilee <46493976+workingjubilee@users.noreply.github.com> 1632443504 -0700\ncommitter GitHub <noreply@github.com> 1632443504 -0700\n\nRollup merge of #89171 - rusticstuff:aarch64_macos_rustdoc_ci_fixes, r=jyn514\n\nRun `no_core` rustdoc tests only on Linux\n\nI don't think this is really worth investigating further so I just disabled them.\n\nThey currently fail like this:\n```\nerror: linking with `cc` failed: exit status: 1\n  |\n  = note: \"cc\" \"-Wl,-exported_symbols_list,/var/folders/pg/gjhzdz7n361f0pv665d0723w0000gn/T/rustcPUsMpx/list\" \"-arch\" \"arm64\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/test/rustdoc/intra-doc/prim-methods-external-core/auxiliary/my-core.my_core.9f3c60de-cgu.0.rcgu.o\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/test/rustdoc/intra-doc/prim-methods-external-core/auxiliary/my-core.50fu2g9urkmisdsg.rcgu.o\" \"-L\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/native/rust-test-helpers\" \"-L\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/test/rustdoc/intra-doc/prim-methods-external-core/auxiliary\" \"-L\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/stage1/lib/rustlib/aarch64-apple-darwin/lib\" \"-L\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/stage1/lib/rustlib/aarch64-apple-darwin/lib\" \"-o\" \"/Users/hans/dev/rust/build/aarch64-apple-darwin/test/rustdoc/intra-doc/prim-methods-external-core/auxiliary/libmy_core.dylib\" \"-Wl,-dead_strip\" \"-dynamiclib\" \"-Wl,-dylib\" \"-Wl,-install_name\" \"-Wl,``@rpath/libmy_core.dylib\"`` \"-nodefaultlibs\"\n  = note: ld: dynamic main executables must link with libSystem.dylib for architecture arm64\n          clang: error: linker command failed with exit code 1 (use -v to see invocation)\n```\n\nr? ``@jyn514``\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/23efc96e3ed66d10ef5b7f88462ab2d5f4b31aac", "html_url": "https://github.com/rust-lang/rust/commit/23efc96e3ed66d10ef5b7f88462ab2d5f4b31aac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/23efc96e3ed66d10ef5b7f88462ab2d5f4b31aac/comments", "author": {"login": "workingjubilee", "id": 46493976, "node_id": "MDQ6VXNlcjQ2NDkzOTc2", "avatar_url": "https://avatars.githubusercontent.com/u/46493976?v=4", "gravatar_id": "", "url": "https://api.github.com/users/workingjubilee", "html_url": "https://github.com/workingjubilee", "followers_url": "https://api.github.com/users/workingjubilee/followers", "following_url": "https://api.github.com/users/workingjubilee/following{/other_user}", "gists_url": "https://api.github.com/users/workingjubilee/gists{/gist_id}", "starred_url": "https://api.github.com/users/workingjubilee/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/workingjubilee/subscriptions", "organizations_url": "https://api.github.com/users/workingjubilee/orgs", "repos_url": "https://api.github.com/users/workingjubilee/repos", "events_url": "https://api.github.com/users/workingjubilee/events{/privacy}", "received_events_url": "https://api.github.com/users/workingjubilee/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9e11d1cca4ea724468ec1589c8d424397d7de4bd", "url": "https://api.github.com/repos/rust-lang/rust/commits/9e11d1cca4ea724468ec1589c8d424397d7de4bd", "html_url": "https://github.com/rust-lang/rust/commit/9e11d1cca4ea724468ec1589c8d424397d7de4bd"}, {"sha": "da6f01d964ece92bb0812d619f176db5c44e818a", "url": "https://api.github.com/repos/rust-lang/rust/commits/da6f01d964ece92bb0812d619f176db5c44e818a", "html_url": "https://github.com/rust-lang/rust/commit/da6f01d964ece92bb0812d619f176db5c44e818a"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "4ba296ee04a1a5218acb1117d72c1ee4740eca42", "filename": "src/test/rustdoc/cross-crate-primitive-doc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/23efc96e3ed66d10ef5b7f88462ab2d5f4b31aac/src%2Ftest%2Frustdoc%2Fcross-crate-primitive-doc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/23efc96e3ed66d10ef5b7f88462ab2d5f4b31aac/src%2Ftest%2Frustdoc%2Fcross-crate-primitive-doc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fcross-crate-primitive-doc.rs?ref=23efc96e3ed66d10ef5b7f88462ab2d5f4b31aac", "patch": "@@ -1,6 +1,6 @@\n // aux-build:primitive-doc.rs\n // compile-flags: --extern-html-root-url=primitive_doc=../ -Z unstable-options\n-// ignore-windows\n+// only-linux\n \n #![feature(no_core)]\n #![no_core]"}, {"sha": "9d869984bbd7ce7e1d6333df122ae3fcdd9c267e", "filename": "src/test/rustdoc/intra-doc/prim-methods-external-core.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/23efc96e3ed66d10ef5b7f88462ab2d5f4b31aac/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods-external-core.rs", "raw_url": "https://github.com/rust-lang/rust/raw/23efc96e3ed66d10ef5b7f88462ab2d5f4b31aac/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods-external-core.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fintra-doc%2Fprim-methods-external-core.rs?ref=23efc96e3ed66d10ef5b7f88462ab2d5f4b31aac", "patch": "@@ -1,7 +1,7 @@\n // aux-build:my-core.rs\n // build-aux-docs\n // ignore-cross-compile\n-// ignore-windows\n+// only-linux\n \n #![deny(broken_intra_doc_links)]\n #![feature(no_core, lang_items)]"}]}