{"sha": "e28a07a0a157b63dc11e9f590484d5332866623a", "node_id": "C_kwDOAAsO6NoAKGUyOGEwN2EwYTE1N2I2M2RjMTFlOWY1OTA0ODRkNTMzMjg2NjYyM2E", "commit": {"author": {"name": "Bryan Garza", "email": "1396101+bryangarza@users.noreply.github.com", "date": "2022-11-24T03:48:27Z"}, "committer": {"name": "Bryan Garza", "email": "1396101+bryangarza@users.noreply.github.com", "date": "2022-12-21T03:30:46Z"}, "message": "update wording of lint", "tree": {"sha": "367eb41515224e5be4c08f664724934bb44e2636", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/367eb41515224e5be4c08f664724934bb44e2636"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e28a07a0a157b63dc11e9f590484d5332866623a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e28a07a0a157b63dc11e9f590484d5332866623a", "html_url": "https://github.com/rust-lang/rust/commit/e28a07a0a157b63dc11e9f590484d5332866623a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e28a07a0a157b63dc11e9f590484d5332866623a/comments", "author": {"login": "bryangarza", "id": 1396101, "node_id": "MDQ6VXNlcjEzOTYxMDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1396101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryangarza", "html_url": "https://github.com/bryangarza", "followers_url": "https://api.github.com/users/bryangarza/followers", "following_url": "https://api.github.com/users/bryangarza/following{/other_user}", "gists_url": "https://api.github.com/users/bryangarza/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryangarza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryangarza/subscriptions", "organizations_url": "https://api.github.com/users/bryangarza/orgs", "repos_url": "https://api.github.com/users/bryangarza/repos", "events_url": "https://api.github.com/users/bryangarza/events{/privacy}", "received_events_url": "https://api.github.com/users/bryangarza/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bryangarza", "id": 1396101, "node_id": "MDQ6VXNlcjEzOTYxMDE=", "avatar_url": "https://avatars.githubusercontent.com/u/1396101?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bryangarza", "html_url": "https://github.com/bryangarza", "followers_url": "https://api.github.com/users/bryangarza/followers", "following_url": "https://api.github.com/users/bryangarza/following{/other_user}", "gists_url": "https://api.github.com/users/bryangarza/gists{/gist_id}", "starred_url": "https://api.github.com/users/bryangarza/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bryangarza/subscriptions", "organizations_url": "https://api.github.com/users/bryangarza/orgs", "repos_url": "https://api.github.com/users/bryangarza/repos", "events_url": "https://api.github.com/users/bryangarza/events{/privacy}", "received_events_url": "https://api.github.com/users/bryangarza/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dc2c4ce578bd3bee824e1b30789cfa6cb777e059", "url": "https://api.github.com/repos/rust-lang/rust/commits/dc2c4ce578bd3bee824e1b30789cfa6cb777e059", "html_url": "https://github.com/rust-lang/rust/commit/dc2c4ce578bd3bee824e1b30789cfa6cb777e059"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "0d5507835a9e9ae404654da1cdfb8f116dd0d9bc", "filename": "compiler/rustc_error_messages/locales/en-US/lint.ftl", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e28a07a0a157b63dc11e9f590484d5332866623a/compiler%2Frustc_error_messages%2Flocales%2Fen-US%2Flint.ftl", "raw_url": "https://github.com/rust-lang/rust/raw/e28a07a0a157b63dc11e9f590484d5332866623a/compiler%2Frustc_error_messages%2Flocales%2Fen-US%2Flint.ftl", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_messages%2Flocales%2Fen-US%2Flint.ftl?ref=e28a07a0a157b63dc11e9f590484d5332866623a", "patch": "@@ -351,7 +351,7 @@ lint_builtin_mutable_transmutes =\n lint_builtin_unstable_features = unstable feature\n \n lint_ungated_async_fn_track_caller = `#[track_caller]` on async functions is a no-op\n-     .suggestion = enable this feature\n+     .suggestion = enable this unstable feature\n \n lint_builtin_unreachable_pub = unreachable `pub` {$what}\n     .suggestion = consider restricting its visibility"}, {"sha": "c353f74251652c77b7231279713a885d8f30bdca", "filename": "compiler/rustc_lint/src/builtin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e28a07a0a157b63dc11e9f590484d5332866623a/compiler%2Frustc_lint%2Fsrc%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e28a07a0a157b63dc11e9f590484d5332866623a/compiler%2Frustc_lint%2Fsrc%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Fbuiltin.rs?ref=e28a07a0a157b63dc11e9f590484d5332866623a", "patch": "@@ -1409,7 +1409,7 @@ impl<'tcx> LateLintPass<'tcx> for UngatedAsyncFnTrackCaller {\n                     |lint| {\n                         lint.span_label(span, \"this function will not propagate the caller location\");\n                         if cx.tcx.sess.is_nightly_build() {\n-                            lint.span_suggestion(attr.span, fluent::suggestion, \"#[closure_track_caller]\", Applicability::MachineApplicable);\n+                            lint.span_suggestion(attr.span, fluent::suggestion, \"closure_track_caller\", Applicability::MachineApplicable);\n                         }\n                         lint\n                     }"}, {"sha": "b41077a0b924d95d6c082f2eba176c64d36dcd1e", "filename": "src/test/ui/async-await/track-caller/issue-104588-no-op-track-caller.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e28a07a0a157b63dc11e9f590484d5332866623a/src%2Ftest%2Fui%2Fasync-await%2Ftrack-caller%2Fissue-104588-no-op-track-caller.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e28a07a0a157b63dc11e9f590484d5332866623a/src%2Ftest%2Fui%2Fasync-await%2Ftrack-caller%2Fissue-104588-no-op-track-caller.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Ftrack-caller%2Fissue-104588-no-op-track-caller.stderr?ref=e28a07a0a157b63dc11e9f590484d5332866623a", "patch": "@@ -2,7 +2,7 @@ warning: `#[track_caller]` on async functions is a no-op\n   --> $DIR/issue-104588-no-op-track-caller.rs:4:1\n    |\n LL | #[track_caller]\n-   | ^^^^^^^^^^^^^^^ help: enable this feature: `#[closure_track_caller]`\n+   | ^^^^^^^^^^^^^^^ help: enable this unstable feature: `closure_track_caller`\n LL | async fn foo() {}\n    | ----------------- this function will not propagate the caller location\n    |"}, {"sha": "71d4b00cc6e8b6e90f049990c686228ef2e0a349", "filename": "src/test/ui/async-await/track-caller/panic-track-caller.nofeat.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e28a07a0a157b63dc11e9f590484d5332866623a/src%2Ftest%2Fui%2Fasync-await%2Ftrack-caller%2Fpanic-track-caller.nofeat.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e28a07a0a157b63dc11e9f590484d5332866623a/src%2Ftest%2Fui%2Fasync-await%2Ftrack-caller%2Fpanic-track-caller.nofeat.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Ftrack-caller%2Fpanic-track-caller.nofeat.stderr?ref=e28a07a0a157b63dc11e9f590484d5332866623a", "patch": "@@ -2,7 +2,7 @@ warning: `#[track_caller]` on async functions is a no-op\n   --> $DIR/panic-track-caller.rs:50:1\n    |\n LL |   #[track_caller]\n-   |   ^^^^^^^^^^^^^^^ help: enable this feature: `#[closure_track_caller]`\n+   |   ^^^^^^^^^^^^^^^ help: enable this unstable feature: `closure_track_caller`\n LL | / async fn bar_track_caller() {\n LL | |     panic!()\n LL | | }"}]}