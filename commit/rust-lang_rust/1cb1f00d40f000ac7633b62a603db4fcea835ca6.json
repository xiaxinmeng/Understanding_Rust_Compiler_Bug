{"sha": "1cb1f00d40f000ac7633b62a603db4fcea835ca6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFjYjFmMDBkNDBmMDAwYWM3NjMzYjYyYTYwM2RiNGZjZWE4MzVjYTY=", "commit": {"author": {"name": "Kang Seonghoon", "email": "public+git@mearie.org", "date": "2014-12-03T15:29:21Z"}, "committer": {"name": "Kang Seonghoon", "email": "public+git@mearie.org", "date": "2014-12-03T16:00:01Z"}, "message": "rustdoc: Removed Foreign{Function,Static} item types.\n\nThey are just (unsafe) functions and static items to most users\nand even compilers! The metadata doesn't distinguish them, so Rustdoc\nended up producing broken links (generated `ffi.*.html`, links to\n`fn.*.html`). It would be best to avoid this pitfall at all.", "tree": {"sha": "3911701cd180e3a7b22ecc5742f7b55765f0465d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3911701cd180e3a7b22ecc5742f7b55765f0465d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1cb1f00d40f000ac7633b62a603db4fcea835ca6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1cb1f00d40f000ac7633b62a603db4fcea835ca6", "html_url": "https://github.com/rust-lang/rust/commit/1cb1f00d40f000ac7633b62a603db4fcea835ca6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1cb1f00d40f000ac7633b62a603db4fcea835ca6/comments", "author": {"login": "lifthrasiir", "id": 323836, "node_id": "MDQ6VXNlcjMyMzgzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/323836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lifthrasiir", "html_url": "https://github.com/lifthrasiir", "followers_url": "https://api.github.com/users/lifthrasiir/followers", "following_url": "https://api.github.com/users/lifthrasiir/following{/other_user}", "gists_url": "https://api.github.com/users/lifthrasiir/gists{/gist_id}", "starred_url": "https://api.github.com/users/lifthrasiir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lifthrasiir/subscriptions", "organizations_url": "https://api.github.com/users/lifthrasiir/orgs", "repos_url": "https://api.github.com/users/lifthrasiir/repos", "events_url": "https://api.github.com/users/lifthrasiir/events{/privacy}", "received_events_url": "https://api.github.com/users/lifthrasiir/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lifthrasiir", "id": 323836, "node_id": "MDQ6VXNlcjMyMzgzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/323836?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lifthrasiir", "html_url": "https://github.com/lifthrasiir", "followers_url": "https://api.github.com/users/lifthrasiir/followers", "following_url": "https://api.github.com/users/lifthrasiir/following{/other_user}", "gists_url": "https://api.github.com/users/lifthrasiir/gists{/gist_id}", "starred_url": "https://api.github.com/users/lifthrasiir/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lifthrasiir/subscriptions", "organizations_url": "https://api.github.com/users/lifthrasiir/orgs", "repos_url": "https://api.github.com/users/lifthrasiir/repos", "events_url": "https://api.github.com/users/lifthrasiir/events{/privacy}", "received_events_url": "https://api.github.com/users/lifthrasiir/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a3bb8585e89f1eade039111733a2f1efa331e6ff", "url": "https://api.github.com/repos/rust-lang/rust/commits/a3bb8585e89f1eade039111733a2f1efa331e6ff", "html_url": "https://github.com/rust-lang/rust/commit/a3bb8585e89f1eade039111733a2f1efa331e6ff"}], "stats": {"total": 25, "additions": 9, "deletions": 16}, "files": [{"sha": "0ad12b957ba8f868793ae5261a5078035325ce2f", "filename": "src/librustdoc/html/item_type.rs", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/1cb1f00d40f000ac7633b62a603db4fcea835ca6/src%2Flibrustdoc%2Fhtml%2Fitem_type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1cb1f00d40f000ac7633b62a603db4fcea835ca6/src%2Flibrustdoc%2Fhtml%2Fitem_type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fitem_type.rs?ref=1cb1f00d40f000ac7633b62a603db4fcea835ca6", "patch": "@@ -34,8 +34,7 @@ pub enum ItemType {\n     Method          = 10,\n     StructField     = 11,\n     Variant         = 12,\n-    ForeignFunction = 13,\n-    ForeignStatic   = 14,\n+    // we used to have ForeignFunction and ForeignStatic. they are retired now.\n     Macro           = 15,\n     Primitive       = 16,\n     AssociatedType  = 17,\n@@ -59,8 +58,8 @@ impl ItemType {\n             clean::MethodItem(..)          => ItemType::Method,\n             clean::StructFieldItem(..)     => ItemType::StructField,\n             clean::VariantItem(..)         => ItemType::Variant,\n-            clean::ForeignFunctionItem(..) => ItemType::ForeignFunction,\n-            clean::ForeignStaticItem(..)   => ItemType::ForeignStatic,\n+            clean::ForeignFunctionItem(..) => ItemType::Function, // no ForeignFunction\n+            clean::ForeignStaticItem(..)   => ItemType::Static, // no ForeignStatic\n             clean::MacroItem(..)           => ItemType::Macro,\n             clean::PrimitiveItem(..)       => ItemType::Primitive,\n             clean::AssociatedTypeItem(..)  => ItemType::AssociatedType,\n@@ -95,8 +94,6 @@ impl ItemType {\n             ItemType::Method          => \"method\",\n             ItemType::StructField     => \"structfield\",\n             ItemType::Variant         => \"variant\",\n-            ItemType::ForeignFunction => \"ffi\",\n-            ItemType::ForeignStatic   => \"ffs\",\n             ItemType::Macro           => \"macro\",\n             ItemType::Primitive       => \"primitive\",\n             ItemType::AssociatedType  => \"associatedtype\","}, {"sha": "36ce2796faf0de859d1e094a28716e59296f2362", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/1cb1f00d40f000ac7633b62a603db4fcea835ca6/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1cb1f00d40f000ac7633b62a603db4fcea835ca6/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=1cb1f00d40f000ac7633b62a603db4fcea835ca6", "patch": "@@ -1495,12 +1495,10 @@ fn item_module(w: &mut fmt::Formatter, cx: &Context,\n             ItemType::Enum            => 5,\n             ItemType::Constant        => 6,\n             ItemType::Static          => 7,\n-            ItemType::ForeignFunction => 8,\n-            ItemType::ForeignStatic   => 9,\n-            ItemType::Trait           => 10,\n-            ItemType::Function        => 11,\n-            ItemType::Typedef         => 12,\n-            _                         => 13 + ty as u8,\n+            ItemType::Trait           => 8,\n+            ItemType::Function        => 9,\n+            ItemType::Typedef         => 10,\n+            _                         => 11 + ty as u8,\n         }\n     }\n \n@@ -1559,8 +1557,6 @@ fn item_module(w: &mut fmt::Formatter, cx: &Context,\n                 ItemType::Method          => (\"methods\", \"Methods\"),\n                 ItemType::StructField     => (\"fields\", \"Struct Fields\"),\n                 ItemType::Variant         => (\"variants\", \"Variants\"),\n-                ItemType::ForeignFunction => (\"ffi-fns\", \"Foreign Functions\"),\n-                ItemType::ForeignStatic   => (\"ffi-statics\", \"Foreign Statics\"),\n                 ItemType::Macro           => (\"macros\", \"Macros\"),\n                 ItemType::Primitive       => (\"primitives\", \"Primitive Types\"),\n                 ItemType::AssociatedType  => (\"associated-types\", \"Associated Types\"),"}, {"sha": "0fc6677cd9f719d735b5f6568195a1a2603c9c54", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1cb1f00d40f000ac7633b62a603db4fcea835ca6/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/1cb1f00d40f000ac7633b62a603db4fcea835ca6/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=1cb1f00d40f000ac7633b62a603db4fcea835ca6", "patch": "@@ -566,8 +566,8 @@\n                          \"method\",\n                          \"structfield\",\n                          \"variant\",\n-                         \"ffi\",\n-                         \"ffs\",\n+                         \"ffi\", // retained for backward compatibility\n+                         \"ffs\", // retained for backward compatibility\n                          \"macro\",\n                          \"primitive\",\n                          \"associatedtype\","}]}