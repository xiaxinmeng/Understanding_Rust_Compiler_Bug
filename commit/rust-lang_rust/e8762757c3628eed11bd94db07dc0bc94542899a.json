{"sha": "e8762757c3628eed11bd94db07dc0bc94542899a", "node_id": "C_kwDOAAsO6NoAKGU4NzYyNzU3YzM2MjhlZWQxMWJkOTRkYjA3ZGMwYmM5NDU0Mjg5OWE", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-05-11T21:11:18Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-05-14T15:21:52Z"}, "message": "Remove theme picker button", "tree": {"sha": "453505ec61a7fa1b4fd69624b8b3fcb9990c6dc9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/453505ec61a7fa1b4fd69624b8b3fcb9990c6dc9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e8762757c3628eed11bd94db07dc0bc94542899a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e8762757c3628eed11bd94db07dc0bc94542899a", "html_url": "https://github.com/rust-lang/rust/commit/e8762757c3628eed11bd94db07dc0bc94542899a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e8762757c3628eed11bd94db07dc0bc94542899a/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5e01ba36c9f1037c4cf3e7421413fc6c41f85d05", "url": "https://api.github.com/repos/rust-lang/rust/commits/5e01ba36c9f1037c4cf3e7421413fc6c41f85d05", "html_url": "https://github.com/rust-lang/rust/commit/5e01ba36c9f1037c4cf3e7421413fc6c41f85d05"}], "stats": {"total": 211, "additions": 12, "deletions": 199}, "files": [{"sha": "5ba3bdc12eda6ffe8a826989f3e96be296d1197b", "filename": "src/librustdoc/html/markdown.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs?ref=e8762757c3628eed11bd94db07dc0bc94542899a", "patch": "@@ -1448,8 +1448,6 @@ fn init_id_map() -> FxHashMap<Cow<'static, str>, usize> {\n     // used in tera template files).\n     map.insert(\"mainThemeStyle\".into(), 1);\n     map.insert(\"themeStyle\".into(), 1);\n-    map.insert(\"theme-picker\".into(), 1);\n-    map.insert(\"theme-choices\".into(), 1);\n     map.insert(\"settings-menu\".into(), 1);\n     map.insert(\"help-button\".into(), 1);\n     map.insert(\"main-content\".into(), 1);"}, {"sha": "702bccb45cf93128da7659f70927aa50e7ddfb43", "filename": "src/librustdoc/html/render/write_shared.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs?ref=e8762757c3628eed11bd94db07dc0bc94542899a", "patch": "@@ -238,7 +238,6 @@ pub(super) fn write_shared(\n         write_toolchain(\"favicon-16x16.png\", static_files::RUST_FAVICON_PNG_16)?;\n         write_toolchain(\"favicon-32x32.png\", static_files::RUST_FAVICON_PNG_32)?;\n     }\n-    write_toolchain(\"brush.svg\", static_files::BRUSH_SVG)?;\n     write_toolchain(\"wheel.svg\", static_files::WHEEL_SVG)?;\n     write_toolchain(\"clipboard.svg\", static_files::CLIPBOARD_SVG)?;\n     write_toolchain(\"down-arrow.svg\", static_files::DOWN_ARROW_SVG)?;"}, {"sha": "0a19a99abf05407474c63fee7dad22e6b259486d", "filename": "src/librustdoc/html/static/css/noscript.css", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fnoscript.css", "raw_url": "https://github.com/rust-lang/rust/raw/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fnoscript.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fnoscript.css?ref=e8762757c3628eed11bd94db07dc0bc94542899a", "patch": "@@ -18,7 +18,3 @@ rules.\n \t/* The search bar and related controls don't work without JS */\n \tdisplay: none;\n }\n-\n-#theme-picker {\n-\tdisplay: none;\n-}"}, {"sha": "38e67c233d6981ec7ad05b0add3964567d9affd2", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 3, "deletions": 19, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=e8762757c3628eed11bd94db07dc0bc94542899a", "patch": "@@ -1379,25 +1379,15 @@ pre.rust {\n \tmargin-bottom: 6px;\n }\n \n-.theme-picker {\n-\tposition: absolute;\n-\tleft: -38px;\n-\ttop: 4px;\n-}\n-\n-.theme-picker button {\n-\toutline: none;\n-}\n-\n #settings-menu, #help-button {\n \tmargin-left: 4px;\n \toutline: none;\n }\n \n-#theme-picker, #copy-path {\n+#copy-path {\n \theight: 34px;\n }\n-#theme-picker, #settings-menu, #help-button, #copy-path {\n+#settings-menu > a, #help-button, #copy-path {\n \tpadding: 5px;\n \twidth: 33px;\n \tborder: 1px solid;\n@@ -1422,7 +1412,7 @@ pre.rust {\n \t\ttransform: rotate(360deg);\n \t}\n }\n-#settings-menu.rotate img {\n+#settings-menu.rotate > a img {\n \tanimation: rotating 2s linear infinite;\n }\n #settings-menu #settings {\n@@ -1871,12 +1861,6 @@ details.rustdoc-toggle[open] > summary.hideme::after {\n \t\tmargin-left: 32px;\n \t}\n \n-\t/* Space is at a premium on mobile, so remove the theme-picker icon. */\n-\t#theme-picker {\n-\t\tdisplay: none;\n-\t\twidth: 0;\n-\t}\n-\n \t.content {\n \t\tmargin-left: 0px;\n \t}"}, {"sha": "ea0cb5e0726969828f51b522a3ee369d64a841f7", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 3, "deletions": 10, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=e8762757c3628eed11bd94db07dc0bc94542899a", "patch": "@@ -531,13 +531,13 @@ kbd {\n \tbox-shadow: inset 0 -1px 0 #5c6773;\n }\n \n-#theme-picker, #settings-menu, #help-button {\n+#settings-menu > a, #help-button {\n \tborder-color: #5c6773;\n \tbackground-color: #0f1419;\n \tcolor: #fff;\n }\n \n-#theme-picker > img, #settings-menu > img {\n+#settings-menu > a img {\n \tfilter: invert(100);\n }\n \n@@ -555,8 +555,7 @@ kbd {\n \tfilter: invert(100%);\n }\n \n-#theme-picker:hover, #theme-picker:focus,\n-#settings-menu:hover, #settings-menu:focus,\n+#settings-menu > a:hover, #settings-menu > a:focus,\n #help-button:hover, #help-button:focus {\n \tborder-color: #e0e0e0;\n }\n@@ -574,12 +573,6 @@ kbd {\n \tbackground-color: rgba(110, 110, 110, 0.33);\n }\n \n-@media (max-width: 700px) {\n-\t#theme-picker {\n-\t\tbackground: #0f1419;\n-\t}\n-}\n-\n .search-results .result-name span.alias {\n \tcolor: #c5c5c5;\n }"}, {"sha": "1525163f50281d25a909bc5c5f7ec6c7a8e8dd86", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=e8762757c3628eed11bd94db07dc0bc94542899a", "patch": "@@ -408,14 +408,13 @@ kbd {\n \tbox-shadow: inset 0 -1px 0 #c6cbd1;\n }\n \n-#theme-picker, #settings-menu, #help-button {\n+#settings-menu > a, #help-button {\n \tborder-color: #e0e0e0;\n \tbackground: #f0f0f0;\n \tcolor: #000;\n }\n \n-#theme-picker:hover, #theme-picker:focus,\n-#settings-menu:hover, #settings-menu:focus,\n+#settings-menu > a:hover, #settings-menu > a:focus,\n #help-button:hover, #help-button:focus {\n \tborder-color: #ffb900;\n }\n@@ -447,12 +446,6 @@ kbd {\n \tbackground-color: #4e4e4e;\n }\n \n-@media (max-width: 700px) {\n-\t#theme-picker {\n-\t\tbackground: #f0f0f0;\n-\t}\n-}\n-\n .search-results .result-name span.alias {\n \tcolor: #fff;\n }"}, {"sha": "d36a088d38e3f54da492849b872850be6a3679e8", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=e8762757c3628eed11bd94db07dc0bc94542899a", "patch": "@@ -394,13 +394,12 @@ kbd {\n \tbox-shadow: inset 0 -1px 0 #c6cbd1;\n }\n \n-#theme-picker, #settings-menu, #help-button {\n+#settings-menu > a, #help-button {\n \tborder-color: #e0e0e0;\n \tbackground-color: #fff;\n }\n \n-#theme-picker:hover, #theme-picker:focus,\n-#settings-menu:hover, #settings-menu:focus,\n+#settings-menu > a:hover, #settings-menu > a:focus,\n #help-button:hover, #help-button:focus {\n \tborder-color: #717171;\n }\n@@ -432,12 +431,6 @@ kbd {\n \tbackground-color: #eee;\n }\n \n-@media (max-width: 700px) {\n-\t#theme-picker {\n-\t\tbackground: #fff;\n-\t}\n-}\n-\n .search-results .result-name span.alias {\n \tcolor: #000;\n }"}, {"sha": "1e4d58db196ad57dc2841f6666685ce57a64fb64", "filename": "src/librustdoc/html/static/js/main.js", "status": "modified", "additions": 2, "deletions": 135, "changes": 137, "blob_url": "https://github.com/rust-lang/rust/blob/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js?ref=e8762757c3628eed11bd94db07dc0bc94542899a", "patch": "@@ -1,7 +1,6 @@\n // Local js definitions:\n /* global addClass, getSettingValue, hasClass, searchState */\n /* global onEach, onEachLazy, removeClass */\n-/* global switchTheme, useSystemTheme */\n \n \"use strict\";\n \n@@ -109,21 +108,11 @@ function getVirtualKey(ev) {\n     return String.fromCharCode(c);\n }\n \n-const THEME_PICKER_ELEMENT_ID = \"theme-picker\";\n-const THEMES_ELEMENT_ID = \"theme-choices\";\n const MAIN_ID = \"main-content\";\n const SETTINGS_BUTTON_ID = \"settings-menu\";\n const ALTERNATIVE_DISPLAY_ID = \"alternative-display\";\n const NOT_DISPLAYED_ID = \"not-displayed\";\n \n-function getThemesElement() {\n-    return document.getElementById(THEMES_ELEMENT_ID);\n-}\n-\n-function getThemePickerElement() {\n-    return document.getElementById(THEME_PICKER_ELEMENT_ID);\n-}\n-\n function getSettingsButton() {\n     return document.getElementById(SETTINGS_BUTTON_ID);\n }\n@@ -133,74 +122,10 @@ function getNakedUrl() {\n     return window.location.href.split(\"?\")[0].split(\"#\")[0];\n }\n \n-function showThemeButtonState() {\n-    const themePicker = getThemePickerElement();\n-    const themeChoices = getThemesElement();\n-\n-    themeChoices.style.display = \"block\";\n-    themePicker.style.borderBottomRightRadius = \"0\";\n-    themePicker.style.borderBottomLeftRadius = \"0\";\n-}\n-\n-function hideThemeButtonState() {\n-    const themePicker = getThemePickerElement();\n-    const themeChoices = getThemesElement();\n-\n-    themeChoices.style.display = \"none\";\n-    themePicker.style.borderBottomRightRadius = \"3px\";\n-    themePicker.style.borderBottomLeftRadius = \"3px\";\n-}\n-\n window.hideSettings = () => {\n     // Does nothing by default.\n };\n \n-// Set up the theme picker list.\n-(function () {\n-    if (!document.location.href.startsWith(\"file:///\")) {\n-        return;\n-    }\n-    const themeChoices = getThemesElement();\n-    const themePicker = getThemePickerElement();\n-    const availableThemes = getVar(\"themes\").split(\",\");\n-\n-    removeClass(themeChoices.parentElement, \"hidden\");\n-\n-    function switchThemeButtonState() {\n-        if (themeChoices.style.display === \"block\") {\n-            hideThemeButtonState();\n-        } else {\n-            showThemeButtonState();\n-        }\n-    }\n-\n-    function handleThemeButtonsBlur(e) {\n-        const active = document.activeElement;\n-        const related = e.relatedTarget;\n-\n-        if (active.id !== THEME_PICKER_ELEMENT_ID &&\n-            (!active.parentNode || active.parentNode.id !== THEMES_ELEMENT_ID) &&\n-            (!related ||\n-             (related.id !== THEME_PICKER_ELEMENT_ID &&\n-              (!related.parentNode || related.parentNode.id !== THEMES_ELEMENT_ID)))) {\n-            hideThemeButtonState();\n-        }\n-    }\n-\n-    themePicker.onclick = switchThemeButtonState;\n-    themePicker.onblur = handleThemeButtonsBlur;\n-    availableThemes.forEach(item => {\n-        const but = document.createElement(\"button\");\n-        but.textContent = item;\n-        but.onclick = () => {\n-            switchTheme(window.currentTheme, window.mainTheme, item, true);\n-            useSystemTheme(false);\n-        };\n-        but.onblur = handleThemeButtonsBlur;\n-        themeChoices.appendChild(but);\n-    });\n-}());\n-\n /**\n  * This function inserts `newNode` after `referenceNode`. It doesn't work if `referenceNode`\n  * doesn't have a parent node.\n@@ -512,7 +437,7 @@ function loadCss(cssFileName) {\n             ev.preventDefault();\n         }\n         searchState.defocus();\n-        hideThemeButtonState();\n+        window.hideSettings();\n     }\n \n     const disableShortcuts = getSettingValue(\"disable-shortcuts\") === \"true\";\n@@ -522,8 +447,6 @@ function loadCss(cssFileName) {\n             return;\n         }\n \n-        let themePicker;\n-\n         if (document.activeElement.tagName === \"INPUT\") {\n             switch (getVirtualKey(ev)) {\n             case \"Escape\":\n@@ -553,64 +476,9 @@ function loadCss(cssFileName) {\n                 displayHelp(true, ev);\n                 break;\n \n-            case \"t\":\n-            case \"T\":\n-                displayHelp(false, ev);\n-                ev.preventDefault();\n-                themePicker = getThemePickerElement();\n-                themePicker.click();\n-                themePicker.focus();\n-                break;\n-\n             default:\n-                if (getThemePickerElement().parentNode.contains(ev.target)) {\n-                    handleThemeKeyDown(ev);\n-                }\n-            }\n-        }\n-    }\n-\n-    function handleThemeKeyDown(ev) {\n-        const active = document.activeElement;\n-        const themes = getThemesElement();\n-        switch (getVirtualKey(ev)) {\n-        case \"ArrowUp\":\n-            ev.preventDefault();\n-            if (active.previousElementSibling && ev.target.id !== THEME_PICKER_ELEMENT_ID) {\n-                active.previousElementSibling.focus();\n-            } else {\n-                showThemeButtonState();\n-                themes.lastElementChild.focus();\n-            }\n-            break;\n-        case \"ArrowDown\":\n-            ev.preventDefault();\n-            if (active.nextElementSibling && ev.target.id !== THEME_PICKER_ELEMENT_ID) {\n-                active.nextElementSibling.focus();\n-            } else {\n-                showThemeButtonState();\n-                themes.firstElementChild.focus();\n-            }\n-            break;\n-        case \"Enter\":\n-        case \"Return\":\n-        case \"Space\":\n-            if (ev.target.id === THEME_PICKER_ELEMENT_ID && themes.style.display === \"none\") {\n-                ev.preventDefault();\n-                showThemeButtonState();\n-                themes.firstElementChild.focus();\n+                break;\n             }\n-            break;\n-        case \"Home\":\n-            ev.preventDefault();\n-            themes.firstElementChild.focus();\n-            break;\n-        case \"End\":\n-            ev.preventDefault();\n-            themes.lastElementChild.focus();\n-            break;\n-        // The escape key is handled in handleEscape, not here,\n-        // so that pressing escape will close the menu even if it isn't focused\n         }\n     }\n \n@@ -1006,7 +874,6 @@ function loadCss(cssFileName) {\n         const shortcuts = [\n             [\"?\", \"Show this help dialog\"],\n             [\"S\", \"Focus the search field\"],\n-            [\"T\", \"Focus the theme picker menu\"],\n             [\"\u2191\", \"Move up in search results\"],\n             [\"\u2193\", \"Move down in search results\"],\n             [\"\u2190 / \u2192\", \"Switch result tab (when results focused)\"],"}, {"sha": "85ca8431d90da1b38706e220aa41d1c2da33f474", "filename": "src/librustdoc/html/static_files.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs?ref=e8762757c3628eed11bd94db07dc0bc94542899a", "patch": "@@ -41,9 +41,6 @@ crate static SCRAPE_EXAMPLES_JS: &str = include_str!(\"static/js/scrape-examples.\n \n crate static SCRAPE_EXAMPLES_HELP_MD: &str = include_str!(\"static/scrape-examples-help.md\");\n \n-/// The file contents of `brush.svg`, the icon used for the theme-switch button.\n-crate static BRUSH_SVG: &[u8] = include_bytes!(\"static/images/brush.svg\");\n-\n /// The file contents of `wheel.svg`, the icon used for the settings button.\n crate static WHEEL_SVG: &[u8] = include_bytes!(\"static/images/wheel.svg\");\n "}, {"sha": "cd672aadd7e93c680da74aa89aa0a4c5845d6f42", "filename": "src/librustdoc/html/templates/page.html", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "raw_url": "https://github.com/rust-lang/rust/raw/e8762757c3628eed11bd94db07dc0bc94542899a/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html?ref=e8762757c3628eed11bd94db07dc0bc94542899a", "patch": "@@ -108,13 +108,6 @@ <h2 class=\"location\"></h2>\n                     {%- endif -%}\n                 </a> {#- -#}\n                 <nav class=\"sub\"> {#- -#}\n-                    <div class=\"theme-picker hidden\"> {#- -#}\n-                        <button id=\"theme-picker\" aria-label=\"Pick another theme!\" aria-haspopup=\"menu\" title=\"themes\"> {#- -#}\n-                            <img width=\"22\" height=\"22\" alt=\"Pick another theme!\" {# -#}\n-                             src=\"{{static_root_path|safe}}brush{{page.resource_suffix}}.svg\"> {#- -#}\n-                        </button> {#- -#}\n-                        <div id=\"theme-choices\" role=\"menu\"></div> {#- -#}\n-                    </div> {#- -#}\n                     <form class=\"search-form\"> {#- -#}\n                         <div class=\"search-container\"> {#- -#}\n                             <span></span> {#- This empty span is a hacky fix for Safari - See #93184 -#}"}]}