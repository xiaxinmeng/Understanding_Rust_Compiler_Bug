{"sha": "360f0654047ef45212440e0cc9dcfe77c970b1eb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM2MGYwNjU0MDQ3ZWY0NTIxMjQ0MGUwY2M5ZGNmZTc3Yzk3MGIxZWI=", "commit": {"author": {"name": "Yoshitomo Nakanishi", "email": "yurayura.rounin.3@gmail.com", "date": "2021-03-09T02:08:26Z"}, "committer": {"name": "Yoshitomo Nakanishi", "email": "yurayura.rounin.3@gmail.com", "date": "2021-03-09T02:08:45Z"}, "message": "Move 'is_isize_or_usize' to clippy_utils", "tree": {"sha": "85dd16705d8110635ee0bebe8643f0e0a1b0fd6b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/85dd16705d8110635ee0bebe8643f0e0a1b0fd6b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/360f0654047ef45212440e0cc9dcfe77c970b1eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/360f0654047ef45212440e0cc9dcfe77c970b1eb", "html_url": "https://github.com/rust-lang/rust/commit/360f0654047ef45212440e0cc9dcfe77c970b1eb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/360f0654047ef45212440e0cc9dcfe77c970b1eb/comments", "author": {"login": "Y-Nak", "id": 6376004, "node_id": "MDQ6VXNlcjYzNzYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6376004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Y-Nak", "html_url": "https://github.com/Y-Nak", "followers_url": "https://api.github.com/users/Y-Nak/followers", "following_url": "https://api.github.com/users/Y-Nak/following{/other_user}", "gists_url": "https://api.github.com/users/Y-Nak/gists{/gist_id}", "starred_url": "https://api.github.com/users/Y-Nak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Y-Nak/subscriptions", "organizations_url": "https://api.github.com/users/Y-Nak/orgs", "repos_url": "https://api.github.com/users/Y-Nak/repos", "events_url": "https://api.github.com/users/Y-Nak/events{/privacy}", "received_events_url": "https://api.github.com/users/Y-Nak/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Y-Nak", "id": 6376004, "node_id": "MDQ6VXNlcjYzNzYwMDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/6376004?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Y-Nak", "html_url": "https://github.com/Y-Nak", "followers_url": "https://api.github.com/users/Y-Nak/followers", "following_url": "https://api.github.com/users/Y-Nak/following{/other_user}", "gists_url": "https://api.github.com/users/Y-Nak/gists{/gist_id}", "starred_url": "https://api.github.com/users/Y-Nak/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Y-Nak/subscriptions", "organizations_url": "https://api.github.com/users/Y-Nak/orgs", "repos_url": "https://api.github.com/users/Y-Nak/repos", "events_url": "https://api.github.com/users/Y-Nak/events{/privacy}", "received_events_url": "https://api.github.com/users/Y-Nak/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f098007caaebe660b06ee7c43cd30006807a2a8c", "url": "https://api.github.com/repos/rust-lang/rust/commits/f098007caaebe660b06ee7c43cd30006807a2a8c", "html_url": "https://github.com/rust-lang/rust/commit/f098007caaebe660b06ee7c43cd30006807a2a8c"}], "stats": {"total": 26, "additions": 12, "deletions": 14}, "files": [{"sha": "95e563fc3bab5b7603fc6d0b3215f77627b63e24", "filename": "clippy_lints/src/casts/mod.rs", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/360f0654047ef45212440e0cc9dcfe77c970b1eb/clippy_lints%2Fsrc%2Fcasts%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/360f0654047ef45212440e0cc9dcfe77c970b1eb/clippy_lints%2Fsrc%2Fcasts%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fcasts%2Fmod.rs?ref=360f0654047ef45212440e0cc9dcfe77c970b1eb", "patch": "@@ -15,8 +15,9 @@ use rustc_target::abi::LayoutOf;\n use crate::consts::{constant, Constant};\n use crate::utils::sugg::Sugg;\n use crate::utils::{\n-    in_constant, is_hir_ty_cfg_dependant, meets_msrv, method_chain_args, numeric_literal::NumericLiteral, sext,\n-    snippet_opt, snippet_with_applicability, span_lint, span_lint_and_sugg, span_lint_and_then,\n+    in_constant, is_hir_ty_cfg_dependant, is_isize_or_usize, meets_msrv, method_chain_args,\n+    numeric_literal::NumericLiteral, sext, snippet_opt, snippet_with_applicability, span_lint, span_lint_and_sugg,\n+    span_lint_and_then,\n };\n \n declare_clippy_lint! {\n@@ -967,7 +968,3 @@ impl<'tcx> LateLintPass<'tcx> for PtrAsPtr {\n \n     extract_msrv_attr!(LateContext);\n }\n-\n-fn is_isize_or_usize(typ: Ty<'_>) -> bool {\n-    matches!(typ.kind(), ty::Int(IntTy::Isize) | ty::Uint(UintTy::Usize))\n-}"}, {"sha": "7be4ea0379318448a6897fbc9c0697c6b7d36c39", "filename": "clippy_lints/src/types/mod.rs", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/360f0654047ef45212440e0cc9dcfe77c970b1eb/clippy_lints%2Fsrc%2Ftypes%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/360f0654047ef45212440e0cc9dcfe77c970b1eb/clippy_lints%2Fsrc%2Ftypes%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes%2Fmod.rs?ref=360f0654047ef45212440e0cc9dcfe77c970b1eb", "patch": "@@ -37,9 +37,9 @@ use rustc_typeck::hir_ty_to_ty;\n use crate::consts::{constant, Constant};\n use crate::utils::paths;\n use crate::utils::{\n-    clip, comparisons, differing_macro_contexts, higher, indent_of, int_bits, is_type_diagnostic_item, match_path,\n-    multispan_sugg, reindent_multiline, sext, snippet, snippet_opt, snippet_with_macro_callsite, span_lint,\n-    span_lint_and_help, span_lint_and_then, unsext,\n+    clip, comparisons, differing_macro_contexts, higher, indent_of, int_bits, is_isize_or_usize,\n+    is_type_diagnostic_item, match_path, multispan_sugg, reindent_multiline, sext, snippet, snippet_opt,\n+    snippet_with_macro_callsite, span_lint, span_lint_and_help, span_lint_and_then, unsext,\n };\n \n declare_clippy_lint! {\n@@ -1666,7 +1666,3 @@ impl<'a, 'b, 'tcx> Visitor<'tcx> for ImplicitHasherConstructorVisitor<'a, 'b, 't\n         NestedVisitorMap::OnlyBodies(self.cx.tcx.hir())\n     }\n }\n-\n-fn is_isize_or_usize(typ: Ty<'_>) -> bool {\n-    matches!(typ.kind(), ty::Int(IntTy::Isize) | ty::Uint(UintTy::Usize))\n-}"}, {"sha": "74429982759b282f224fa2130c6c238d67d56d3f", "filename": "clippy_utils/src/lib.rs", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/360f0654047ef45212440e0cc9dcfe77c970b1eb/clippy_utils%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/360f0654047ef45212440e0cc9dcfe77c970b1eb/clippy_utils%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Flib.rs?ref=360f0654047ef45212440e0cc9dcfe77c970b1eb", "patch": "@@ -72,7 +72,7 @@ use rustc_lint::{LateContext, Level, Lint, LintContext};\n use rustc_middle::hir::exports::Export;\n use rustc_middle::hir::map::Map;\n use rustc_middle::ty::subst::{GenericArg, GenericArgKind};\n-use rustc_middle::ty::{self, layout::IntegerExt, DefIdTree, Ty, TyCtxt, TypeFoldable};\n+use rustc_middle::ty::{self, layout::IntegerExt, DefIdTree, IntTy, Ty, TyCtxt, TypeFoldable, UintTy};\n use rustc_semver::RustcVersion;\n use rustc_session::Session;\n use rustc_span::hygiene::{self, ExpnKind, MacroKind};\n@@ -262,6 +262,11 @@ pub fn is_ty_param_diagnostic_item(\n     }\n }\n \n+/// Return `true` if the passed `typ` is `isize` or `usize`.\n+pub fn is_isize_or_usize(typ: Ty<'_>) -> bool {\n+    matches!(typ.kind(), ty::Int(IntTy::Isize) | ty::Uint(UintTy::Usize))\n+}\n+\n /// Checks if the method call given in `expr` belongs to the given trait.\n pub fn match_trait_method(cx: &LateContext<'_>, expr: &Expr<'_>, path: &[&str]) -> bool {\n     let def_id = cx.typeck_results().type_dependent_def_id(expr.hir_id).unwrap();"}]}