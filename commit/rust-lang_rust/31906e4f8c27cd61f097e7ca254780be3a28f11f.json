{"sha": "31906e4f8c27cd61f097e7ca254780be3a28f11f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMxOTA2ZTRmOGMyN2NkNjFmMDk3ZTdjYTI1NDc4MGJlM2EyOGYxMWY=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-04-14T07:23:21Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-04-14T07:23:21Z"}, "message": "Rollup merge of #49916 - llogiq:doc-atomic-fetch-update, r=kennytm\n\nimprove Atomic*::fetch_update docs\n\nThis clarifies that fetch_update *always* returns the previous value, either as `Ok(_)` or `Err(_)`, depending on whether the supplied update function returned `Some(_)` or `None`.", "tree": {"sha": "c2f63ec3e68c4fc82d5decec412c71b9191cae84", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c2f63ec3e68c4fc82d5decec412c71b9191cae84"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/31906e4f8c27cd61f097e7ca254780be3a28f11f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAlrRrGkACgkQ/vbIBR0O\nATypAxAAkyZZmy76gXUjwXf7p876RW4FEl/w+rPf0L8sIpjXhE9aIgYT4Ky6jF1u\nkl48ESKkL3evMVilsXxNhiaQ/BFzbQSDx3bEiGw9C3R2gBUxwNdeftexfyLAUufD\nBYMYPwaskovgsE+DauaXLGisJTLyuwtHJRu+6RU5xsFyTgHJV1UCbhMEwl0V5hTH\ncabZc8Z/NzJfPBODKs/u8JRvFbPH9uhdVvhJSm3J1Kh9soSEaBBF+mVOWUdjXrT0\nVXHhi/TYy5DlEdGz6uFEKEgzQLnTeVPEcloZEFzqE9UfBSDRsw1OigiZx5Y1E1u/\nJfEpvoomxuLUm/55MSr2Nv0vZa9fOgECQGkDwUi8gc/0YESSJE2BAYkDX3fZuJQX\n24yrjJwnfuhrq2hhoZh4kqHHgv3dCuSH7HGaPpEWdB26TaSXP0uLYK0iuolFErgs\n34cwKcnizCuP0/Q7BA4+rwP7ZkqbyfZhif8i++TAJnIGSu36iYzI6c4ojzS0mGaR\n5Otu7ILWQEUEiy0XJ7P2vsYyWnovZZSMYp3f9gc5qLr7qXpGIfznt3tZGNzz+PlS\noNe/4c3CxG8ufoIH8MOC5ykGk+LlrrG4HGBTLYeybJ941Iqxku/tjs2INWCsVTMA\nRBqShJBVoW57KDrxUpR4Olqa9UMFVZONOjKgfUE9WTGhPBoM0+A=\n=jmaA\n-----END PGP SIGNATURE-----", "payload": "tree c2f63ec3e68c4fc82d5decec412c71b9191cae84\nparent d21433eeae00b566f144d1dd67eed0c7cdb40a93\nparent 2f603413ab4764898f63f532c7c26291409e0aa7\nauthor kennytm <kennytm@gmail.com> 1523690601 +0800\ncommitter kennytm <kennytm@gmail.com> 1523690601 +0800\n\nRollup merge of #49916 - llogiq:doc-atomic-fetch-update, r=kennytm\n\nimprove Atomic*::fetch_update docs\n\nThis clarifies that fetch_update *always* returns the previous value, either as `Ok(_)` or `Err(_)`, depending on whether the supplied update function returned `Some(_)` or `None`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/31906e4f8c27cd61f097e7ca254780be3a28f11f", "html_url": "https://github.com/rust-lang/rust/commit/31906e4f8c27cd61f097e7ca254780be3a28f11f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/31906e4f8c27cd61f097e7ca254780be3a28f11f/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d21433eeae00b566f144d1dd67eed0c7cdb40a93", "url": "https://api.github.com/repos/rust-lang/rust/commits/d21433eeae00b566f144d1dd67eed0c7cdb40a93", "html_url": "https://github.com/rust-lang/rust/commit/d21433eeae00b566f144d1dd67eed0c7cdb40a93"}, {"sha": "2f603413ab4764898f63f532c7c26291409e0aa7", "url": "https://api.github.com/repos/rust-lang/rust/commits/2f603413ab4764898f63f532c7c26291409e0aa7", "html_url": "https://github.com/rust-lang/rust/commit/2f603413ab4764898f63f532c7c26291409e0aa7"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "62e0979c5fefc077f9171c0595136fc5a297d29c", "filename": "src/libcore/sync/atomic.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/31906e4f8c27cd61f097e7ca254780be3a28f11f/src%2Flibcore%2Fsync%2Fatomic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/31906e4f8c27cd61f097e7ca254780be3a28f11f/src%2Flibcore%2Fsync%2Fatomic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fsync%2Fatomic.rs?ref=31906e4f8c27cd61f097e7ca254780be3a28f11f", "patch": "@@ -1425,8 +1425,8 @@ assert_eq!(foo.load(Ordering::SeqCst), 0b011110);\n \n             doc_comment! {\n                 concat!(\"Fetches the value, and applies a function to it that returns an optional\n-new value. Returns a `Result` (`Ok(_)` if the function returned `Some(_)`, else `Err(_)`) of the\n-previous value.\n+new value. Returns a `Result` of `Ok(previous_value)` if the function returned `Some(_)`, else\n+`Err(previous_value)`.\n \n Note: This may call the function multiple times if the value has been changed from other threads in\n the meantime, as long as the function returns `Some(_)`, but the function will have been applied"}]}