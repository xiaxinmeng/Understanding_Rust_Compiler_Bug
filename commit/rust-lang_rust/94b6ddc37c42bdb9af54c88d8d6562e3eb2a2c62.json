{"sha": "94b6ddc37c42bdb9af54c88d8d6562e3eb2a2c62", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk0YjZkZGMzN2M0MmJkYjlhZjU0Yzg4ZDhkNjU2MmUzZWIyYTJjNjI=", "commit": {"author": {"name": "Pascal Hertleif", "email": "killercup@gmail.com", "date": "2015-05-22T12:15:35Z"}, "committer": {"name": "Pascal Hertleif", "email": "killercup@gmail.com", "date": "2015-05-22T12:15:35Z"}, "message": "Rustdoc Search: Increase Relevance of Primitives", "tree": {"sha": "481ed5e3946338bdd8c507dbef9a9c78300e2974", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/481ed5e3946338bdd8c507dbef9a9c78300e2974"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/94b6ddc37c42bdb9af54c88d8d6562e3eb2a2c62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/94b6ddc37c42bdb9af54c88d8d6562e3eb2a2c62", "html_url": "https://github.com/rust-lang/rust/commit/94b6ddc37c42bdb9af54c88d8d6562e3eb2a2c62", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/94b6ddc37c42bdb9af54c88d8d6562e3eb2a2c62/comments", "author": {"login": "killercup", "id": 20063, "node_id": "MDQ6VXNlcjIwMDYz", "avatar_url": "https://avatars.githubusercontent.com/u/20063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/killercup", "html_url": "https://github.com/killercup", "followers_url": "https://api.github.com/users/killercup/followers", "following_url": "https://api.github.com/users/killercup/following{/other_user}", "gists_url": "https://api.github.com/users/killercup/gists{/gist_id}", "starred_url": "https://api.github.com/users/killercup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/killercup/subscriptions", "organizations_url": "https://api.github.com/users/killercup/orgs", "repos_url": "https://api.github.com/users/killercup/repos", "events_url": "https://api.github.com/users/killercup/events{/privacy}", "received_events_url": "https://api.github.com/users/killercup/received_events", "type": "User", "site_admin": false}, "committer": {"login": "killercup", "id": 20063, "node_id": "MDQ6VXNlcjIwMDYz", "avatar_url": "https://avatars.githubusercontent.com/u/20063?v=4", "gravatar_id": "", "url": "https://api.github.com/users/killercup", "html_url": "https://github.com/killercup", "followers_url": "https://api.github.com/users/killercup/followers", "following_url": "https://api.github.com/users/killercup/following{/other_user}", "gists_url": "https://api.github.com/users/killercup/gists{/gist_id}", "starred_url": "https://api.github.com/users/killercup/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/killercup/subscriptions", "organizations_url": "https://api.github.com/users/killercup/orgs", "repos_url": "https://api.github.com/users/killercup/repos", "events_url": "https://api.github.com/users/killercup/events{/privacy}", "received_events_url": "https://api.github.com/users/killercup/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a713867c745541e06956c4a3e831ca8539554b37", "url": "https://api.github.com/repos/rust-lang/rust/commits/a713867c745541e06956c4a3e831ca8539554b37", "html_url": "https://github.com/rust-lang/rust/commit/a713867c745541e06956c4a3e831ca8539554b37"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "7f8f40ff08a4d71e108b024adccc00b2b7be80aa", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/94b6ddc37c42bdb9af54c88d8d6562e3eb2a2c62/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/94b6ddc37c42bdb9af54c88d8d6562e3eb2a2c62/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=94b6ddc37c42bdb9af54c88d8d6562e3eb2a2c62", "patch": "@@ -36,6 +36,9 @@\n                      \"constant\",\n                      \"associatedconstant\"];\n \n+    // used for special search precedence\n+    var TY_PRIMITIVE = itemTypes.indexOf(\"primitive\");\n+\n     $('.js-only').removeClass('js-only');\n \n     function getQueryStringParams() {\n@@ -322,6 +325,10 @@\n                 b = bbb.index;\n                 if (a !== b) { return a - b; }\n \n+                // special precedence for primitive pages\n+                if ((aaa.item.ty === TY_PRIMITIVE) && (bbb.item.ty !== TY_PRIMITIVE)) {\n+                    return -1;\n+                }\n \n                 // sort by description (no description goes later)\n                 a = (aaa.item.desc === '');"}]}