{"sha": "f7bde94ea896397739d1e4503ead20e7ab644d76", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY3YmRlOTRlYTg5NjM5NzczOWQxZTQ1MDNlYWQyMGU3YWI2NDRkNzY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-10-25T20:31:48Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-10-25T20:31:48Z"}, "message": "Auto merge of #29284 - apasel422:tests, r=alexcrichton\n\nCloses #22781.\r\nCloses #23891.\r\nCloses #24956.\r\nCloses #25145.\r\nCloses #25693.\r\nCloses #26095.\r\nCloses #26459.\r\nCloses #27320.\r\nCloses #27895.", "tree": {"sha": "1319b3089c3891619fe6df01d6cd54690056136f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1319b3089c3891619fe6df01d6cd54690056136f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f7bde94ea896397739d1e4503ead20e7ab644d76", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f7bde94ea896397739d1e4503ead20e7ab644d76", "html_url": "https://github.com/rust-lang/rust/commit/f7bde94ea896397739d1e4503ead20e7ab644d76", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f7bde94ea896397739d1e4503ead20e7ab644d76/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2a418216feeb83fd3f68c725c0e5577beacff59b", "url": "https://api.github.com/repos/rust-lang/rust/commits/2a418216feeb83fd3f68c725c0e5577beacff59b", "html_url": "https://github.com/rust-lang/rust/commit/2a418216feeb83fd3f68c725c0e5577beacff59b"}, {"sha": "671602c8c9ecc63289289b9059841ddcc498ba09", "url": "https://api.github.com/repos/rust-lang/rust/commits/671602c8c9ecc63289289b9059841ddcc498ba09", "html_url": "https://github.com/rust-lang/rust/commit/671602c8c9ecc63289289b9059841ddcc498ba09"}], "stats": {"total": 203, "additions": 203, "deletions": 0}, "files": [{"sha": "e8a9c8d2ea34bc06e6c6225e84419b2e2a9777ff", "filename": "src/test/compile-fail/issue-25145.rs", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Fcompile-fail%2Fissue-25145.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Fcompile-fail%2Fissue-25145.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-25145.rs?ref=f7bde94ea896397739d1e4503ead20e7ab644d76", "patch": "@@ -0,0 +1,22 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(associated_consts)]\n+\n+struct S;\n+\n+impl S {\n+    const N: usize = 3;\n+}\n+\n+static STUFF: [u8; S::N] = [0; S::N];\n+//~^ ERROR array length constant evaluation error: unresolved path in constant expression\n+\n+fn main() {}"}, {"sha": "48eda91fbae50f401e7b07b0d2017dfdb4ca98e3", "filename": "src/test/compile-fail/issue-26459.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Fcompile-fail%2Fissue-26459.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Fcompile-fail%2Fissue-26459.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-26459.rs?ref=f7bde94ea896397739d1e4503ead20e7ab644d76", "patch": "@@ -0,0 +1,16 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+fn main() {\n+    match 'a' {\n+        char{ch} => true\n+        //~^ ERROR `char` does not name a struct or a struct variant\n+    };\n+}"}, {"sha": "959818b49c928eed65bba55ef5c2e248c7775ec4", "filename": "src/test/compile-fail/issue-27895.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Fcompile-fail%2Fissue-27895.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Fcompile-fail%2Fissue-27895.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-27895.rs?ref=f7bde94ea896397739d1e4503ead20e7ab644d76", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+fn main() {\n+    let i = 5;\n+    let index = 6;\n+\n+    match i {\n+        0...index => println!(\"winner\"),\n+        //~^ ERROR paths in constants may only refer to constants or functions\n+        //~| ERROR non-constant path in constant expression\n+        _ => println!(\"hello\"),\n+    }\n+}"}, {"sha": "1aa32f201422ce334a9dd8c31ba62389511247c3", "filename": "src/test/run-pass/issue-22781.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-22781.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-22781.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-22781.rs?ref=f7bde94ea896397739d1e4503ead20e7ab644d76", "patch": "@@ -0,0 +1,23 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+use std::collections::HashMap;\n+use std::collections::hash_map::Entry::Vacant;\n+\n+pub fn foo() {\n+    type F = Box<Fn(&()) + 'static>;\n+    let mut map: HashMap<(), F> = HashMap::new();\n+    let x: &mut F = match map.entry(()) {\n+        Vacant(_) => unimplemented!(),\n+        _ => unimplemented!()\n+    };\n+}\n+\n+fn main() {}"}, {"sha": "55536de9123f17d3601b2b13092980b0e2b1b0f0", "filename": "src/test/run-pass/issue-23891.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-23891.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-23891.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-23891.rs?ref=f7bde94ea896397739d1e4503ead20e7ab644d76", "patch": "@@ -0,0 +1,20 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+macro_rules! id {\n+    ($s: pat) => ($s);\n+}\n+\n+fn main() {\n+    match (Some(123), Some(456)) {\n+        (id!(Some(a)), _) | (_, id!(Some(a))) => println!(\"{}\", a),\n+        _ => (),\n+    }\n+}"}, {"sha": "501b713d520cda552825340658a95d2f7319571a", "filename": "src/test/run-pass/issue-24956.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-24956.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-24956.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-24956.rs?ref=f7bde94ea896397739d1e4503ead20e7ab644d76", "patch": "@@ -0,0 +1,20 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+struct Foo(bool);\n+const NEW_FALSE: bool = false;\n+const STATIC_FOO: Foo = Foo(NEW_FALSE);\n+\n+pub fn main() {\n+    match (Foo(false)) {\n+        STATIC_FOO => 3,\n+        _ => 11\n+    };\n+}"}, {"sha": "aee89befda8f9ed7a95eefb484d4d3bdf852888f", "filename": "src/test/run-pass/issue-25693.rs", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-25693.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-25693.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-25693.rs?ref=f7bde94ea896397739d1e4503ead20e7ab644d76", "patch": "@@ -0,0 +1,30 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+pub trait Paramters { type SelfRef; }\n+\n+struct RP<'a> { _marker: std::marker::PhantomData<&'a ()> }\n+struct BP;\n+\n+impl<'a> Paramters for RP<'a> { type SelfRef = &'a X<RP<'a>>; }\n+impl Paramters for BP { type SelfRef = Box<X<BP>>; }\n+\n+pub struct Y;\n+pub enum X<P: Paramters> {\n+    Nothing,\n+    SameAgain(P::SelfRef, Y)\n+}\n+\n+fn main() {\n+    let bnil: Box<X<BP>> = Box::new(X::Nothing);\n+    let bx: Box<X<BP>> = Box::new(X::SameAgain(bnil, Y));\n+    let rnil: X<RP> = X::Nothing;\n+    let rx: X<RP> = X::SameAgain(&rnil, Y);\n+}"}, {"sha": "f34685c6936cbd05af2562d59b2369d32eac86d2", "filename": "src/test/run-pass/issue-26095.rs", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-26095.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-26095.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-26095.rs?ref=f7bde94ea896397739d1e4503ead20e7ab644d76", "patch": "@@ -0,0 +1,30 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(associated_consts)]\n+\n+trait HasNumber<T> {\n+    const Number: usize;\n+}\n+\n+enum One {}\n+enum Two {}\n+\n+enum Foo {}\n+\n+impl<T> HasNumber<T> for One {\n+    const Number: usize = 1;\n+}\n+\n+impl<T> HasNumber<T> for Two {\n+    const Number: usize = 2;\n+}\n+\n+fn main() {}"}, {"sha": "dde1d3bfe938939333ab5098b0d9a34ece5c6582", "filename": "src/test/run-pass/issue-27320.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-27320.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7bde94ea896397739d1e4503ead20e7ab644d76/src%2Ftest%2Frun-pass%2Fissue-27320.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-27320.rs?ref=f7bde94ea896397739d1e4503ead20e7ab644d76", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+macro_rules! piece(\n+    ($piece:pat) => ($piece);\n+);\n+\n+enum Piece {A, B}\n+\n+fn main() {\n+    match Piece::A {\n+        piece!(pt@ Piece::A) | piece!(pt@ Piece::B) => {}\n+    }\n+}"}]}