{"sha": "019ad4bab456bf107cba54dc8c396fbdd6d2bae0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAxOWFkNGJhYjQ1NmJmMTA3Y2JhNTRkYzhjMzk2ZmJkZDZkMmJhZTA=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-06-29T12:37:41Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-06-29T12:37:41Z"}, "message": "move constants to machine.rs", "tree": {"sha": "0a8ba2975aedf83adc8f2dc6f50f24e4357d4af7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0a8ba2975aedf83adc8f2dc6f50f24e4357d4af7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/019ad4bab456bf107cba54dc8c396fbdd6d2bae0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/019ad4bab456bf107cba54dc8c396fbdd6d2bae0", "html_url": "https://github.com/rust-lang/rust/commit/019ad4bab456bf107cba54dc8c396fbdd6d2bae0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/019ad4bab456bf107cba54dc8c396fbdd6d2bae0/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c7bf9064f7028a9e43feaf699e23f1443704e448", "url": "https://api.github.com/repos/rust-lang/rust/commits/c7bf9064f7028a9e43feaf699e23f1443704e448", "html_url": "https://github.com/rust-lang/rust/commit/c7bf9064f7028a9e43feaf699e23f1443704e448"}], "stats": {"total": 15, "additions": 9, "deletions": 6}, "files": [{"sha": "0e4a9c4ccc37c0724ead535f1345d9cc8c5ed993", "filename": "src/lib.rs", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/019ad4bab456bf107cba54dc8c396fbdd6d2bae0/src%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/019ad4bab456bf107cba54dc8c396fbdd6d2bae0/src%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib.rs?ref=019ad4bab456bf107cba54dc8c396fbdd6d2bae0", "patch": "@@ -37,14 +37,12 @@ pub use crate::range_map::RangeMap;\n pub use crate::helpers::{EvalContextExt as HelpersEvalContextExt};\n pub use crate::mono_hash_map::MonoHashMap;\n pub use crate::stacked_borrows::{EvalContextExt as StackedBorEvalContextExt, Tag, Permission, Stack, Stacks, Item};\n-pub use crate::machine::{MemoryExtra, AllocExtra, MiriMemoryKind, Evaluator, MiriEvalContext, MiriEvalContextExt};\n+pub use crate::machine::{\n+    PAGE_SIZE, STACK_ADDR, NUM_CPUS,\n+    MemoryExtra, AllocExtra, MiriMemoryKind, Evaluator, MiriEvalContext, MiriEvalContextExt,\n+};\n pub use crate::eval::{eval_main, create_ecx, MiriConfig};\n \n-// Some global facts about the emulated machine.\n-pub const PAGE_SIZE: u64 = 4*1024;\n-pub const STACK_ADDR: u64 = 16*PAGE_SIZE; // not really about the \"stack\", but where we start assigning integer addresses to allocations\n-pub const NUM_CPUS: u64 = 1;\n-\n /// Insert rustc arguments at the beginning of the argument list that Miri wants to be\n /// set per default, for maximal validation power.\n pub fn miri_default_args() -> &'static [&'static str] {"}, {"sha": "383b6aac631e7c05fc1837b3d34786f3ba690553", "filename": "src/machine.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/019ad4bab456bf107cba54dc8c396fbdd6d2bae0/src%2Fmachine.rs", "raw_url": "https://github.com/rust-lang/rust/raw/019ad4bab456bf107cba54dc8c396fbdd6d2bae0/src%2Fmachine.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmachine.rs?ref=019ad4bab456bf107cba54dc8c396fbdd6d2bae0", "patch": "@@ -12,6 +12,11 @@ use rustc::mir;\n \n use crate::*;\n \n+// Some global facts about the emulated machine.\n+pub const PAGE_SIZE: u64 = 4*1024; // FIXME: adjust to target architecture\n+pub const STACK_ADDR: u64 = 16*PAGE_SIZE; // not really about the \"stack\", but where we start assigning integer addresses to allocations\n+pub const NUM_CPUS: u64 = 1;\n+\n /// Extra memory kinds\n #[derive(Debug, Copy, Clone, PartialEq, Eq)]\n pub enum MiriMemoryKind {"}]}