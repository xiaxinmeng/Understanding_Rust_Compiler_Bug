{"sha": "b9a35902a20f264aa0b516f7f3a4ff2490a3cf06", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI5YTM1OTAyYTIwZjI2NGFhMGI1MTZmN2YzYTRmZjI0OTBhM2NmMDY=", "commit": {"author": {"name": "Ben Boeckel", "email": "mathstuf@gmail.com", "date": "2016-07-02T00:19:23Z"}, "committer": {"name": "Ben Boeckel", "email": "mathstuf@gmail.com", "date": "2016-07-08T01:10:18Z"}, "message": "llvm: allow cleaning LLVM's Visual Studio builds\n\nThe Visual Studio generators create a `clean` target that we can use.", "tree": {"sha": "25189b49e115da8da9c0a7c97977ff7f0d24a1bf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/25189b49e115da8da9c0a7c97977ff7f0d24a1bf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b9a35902a20f264aa0b516f7f3a4ff2490a3cf06", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b9a35902a20f264aa0b516f7f3a4ff2490a3cf06", "html_url": "https://github.com/rust-lang/rust/commit/b9a35902a20f264aa0b516f7f3a4ff2490a3cf06", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b9a35902a20f264aa0b516f7f3a4ff2490a3cf06/comments", "author": {"login": "mathstuf", "id": 97253, "node_id": "MDQ6VXNlcjk3MjUz", "avatar_url": "https://avatars.githubusercontent.com/u/97253?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mathstuf", "html_url": "https://github.com/mathstuf", "followers_url": "https://api.github.com/users/mathstuf/followers", "following_url": "https://api.github.com/users/mathstuf/following{/other_user}", "gists_url": "https://api.github.com/users/mathstuf/gists{/gist_id}", "starred_url": "https://api.github.com/users/mathstuf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mathstuf/subscriptions", "organizations_url": "https://api.github.com/users/mathstuf/orgs", "repos_url": "https://api.github.com/users/mathstuf/repos", "events_url": "https://api.github.com/users/mathstuf/events{/privacy}", "received_events_url": "https://api.github.com/users/mathstuf/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mathstuf", "id": 97253, "node_id": "MDQ6VXNlcjk3MjUz", "avatar_url": "https://avatars.githubusercontent.com/u/97253?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mathstuf", "html_url": "https://github.com/mathstuf", "followers_url": "https://api.github.com/users/mathstuf/followers", "following_url": "https://api.github.com/users/mathstuf/following{/other_user}", "gists_url": "https://api.github.com/users/mathstuf/gists{/gist_id}", "starred_url": "https://api.github.com/users/mathstuf/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mathstuf/subscriptions", "organizations_url": "https://api.github.com/users/mathstuf/orgs", "repos_url": "https://api.github.com/users/mathstuf/repos", "events_url": "https://api.github.com/users/mathstuf/events{/privacy}", "received_events_url": "https://api.github.com/users/mathstuf/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1bcd60682d5b01aa170790f98ddd96372105b4b9", "url": "https://api.github.com/repos/rust-lang/rust/commits/1bcd60682d5b01aa170790f98ddd96372105b4b9", "html_url": "https://github.com/rust-lang/rust/commit/1bcd60682d5b01aa170790f98ddd96372105b4b9"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "d6f812049e03cad1b0892f5f44153e28685a457e", "filename": "mk/llvm.mk", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b9a35902a20f264aa0b516f7f3a4ff2490a3cf06/mk%2Fllvm.mk", "raw_url": "https://github.com/rust-lang/rust/raw/b9a35902a20f264aa0b516f7f3a4ff2490a3cf06/mk%2Fllvm.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fllvm.mk?ref=b9a35902a20f264aa0b516f7f3a4ff2490a3cf06", "patch": "@@ -59,6 +59,10 @@ clean-llvm$(1):\n \t$$(Q)$$(CFG_NINJA) -C $$(CFG_LLVM_BUILD_DIR_$(1)) -t clean\n else ifeq ($$(findstring msvc,$(1)),msvc)\n clean-llvm$(1):\n+\t@$$(call E, clean: llvm)\n+\t$$(Q)$$(CFG_CMAKE) --build $$(CFG_LLVM_BUILD_DIR_$(1)) \\\n+\t\t--config $$(LLVM_BUILD_CONFIG_MODE) \\\n+\t\t--target clean\n else\n clean-llvm$(1):\n \t@$$(call E, clean: llvm)"}, {"sha": "8113b68380744dcc837ad9ae920c434840a98c1c", "filename": "mk/rt.mk", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/b9a35902a20f264aa0b516f7f3a4ff2490a3cf06/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/b9a35902a20f264aa0b516f7f3a4ff2490a3cf06/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=b9a35902a20f264aa0b516f7f3a4ff2490a3cf06", "patch": "@@ -350,10 +350,17 @@ $$(COMPRT_LIB_$(1)): $$(COMPRT_DEPS) $$(MKFILE_DEPS) $$(LLVM_CONFIG_$$(CFG_BUILD\n \t\t$$(COMPRT_DEFINES_$(1)) \\\n \t\t$$(COMPRT_BUILD_CC_$(1)) \\\n \t\t-G\"$$(CFG_CMAKE_GENERATOR)\"\n+ifneq ($$(CFG_NINJA),)\n+\t$$(CFG_CMAKE) --build \"$$(COMPRT_BUILD_DIR_$(1))\" \\\n+\t\t--target $$(COMPRT_BUILD_TARGET_$(1)) \\\n+\t\t--config $$(LLVM_BUILD_CONFIG_MODE) \\\n+\t\t-- $$(COMPRT_BUILD_ARGS_$(1))\n+else\n \t$$(Q)$$(CFG_CMAKE) --build \"$$(COMPRT_BUILD_DIR_$(1))\" \\\n \t\t--target $$(COMPRT_BUILD_TARGET_$(1)) \\\n \t\t--config $$(LLVM_BUILD_CONFIG_MODE) \\\n \t\t-- $$(COMPRT_BUILD_ARGS_$(1)) $$(MFLAGS)\n+endif\n \t$$(Q)cp \"$$(COMPRT_OUTPUT_$(1))\" $$@\n \n endif"}]}