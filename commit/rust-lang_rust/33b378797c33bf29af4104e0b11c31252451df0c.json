{"sha": "33b378797c33bf29af4104e0b11c31252451df0c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMzYjM3ODc5N2MzM2JmMjlhZjQxMDRlMGIxMWMzMTI1MjQ1MWRmMGM=", "commit": {"author": {"name": "Muhammad Mominul Huque", "email": "mominul2082@gmail.com", "date": "2018-10-14T14:58:53Z"}, "committer": {"name": "Muhammad Mominul Huque", "email": "mominul2082@gmail.com", "date": "2018-10-14T14:58:53Z"}, "message": "Show how to generate code with error message", "tree": {"sha": "be2b173bf617e6c6d123d0b1053a98ae270def73", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/be2b173bf617e6c6d123d0b1053a98ae270def73"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/33b378797c33bf29af4104e0b11c31252451df0c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEPNYzeVcwyOf+o1ZNnUcuizYJiVYFAlvDWa0ACgkQnUcuizYJ\niVZIyA/7BtHZgicNAL6iIZ+1VMmGNVaWIaUmJtWcM/GGBE0pRk3hjj8gTKAHQGUK\nkTR8XOnhSzAjgoff7SEsy52W1DZfzZhZx9jIizmfzESW8DVeMWyVdBI5AP8SxaPR\n68TD/VKaDGzUyv3e322xVcyDks9Z+drnPvfcVlPaWteEWDXvD7Z+9XOu506xL5XX\naOQp1FDSAzS67uqLTqYdC2g07fNWcvDEuWvS0sBIjx982WR+Dy2/Opt26fPi0uR5\nKEGfJyPs1T05jqHpPZnnG5iGARLM+SvvPJd82J61MS1NXFdqbmRhIK2hf3FJVqQV\nhi6gGTYPkGbxVJAou8Akj5jlKRczkdccAP+4Yr+qSRbyiXBTOygN99Tkzz4yOGG1\nyFQEe+z0YGxndCwMB4qYfmbMQet0pj2UZfCFjOrLLhV5ClWSTNCQU9AYz0U00dM9\n+BZbSOZ3JrLOC/qx0yJrP0jIlDo4fm1aMTP5X1IFu6OXhwzYxbh7rvXfle9JLeOL\n4Opw2qyROz04pavOhnzJ54EV4IK4L0j7UDj39wD6guuUIEbVIKDkhVT4XCWTZqkd\n5yWnJnp013AfJ/wyWZt1pBq7gIB575eN4Jdreac0iPkwZoO9Tlo7cE8kJ8hC/1fq\nrCNbAD93Ch3rcqyLKHFzdXtZQYRDJkUidjfNvhXhcHWjFPOFk9Y=\n=K5W5\n-----END PGP SIGNATURE-----", "payload": "tree be2b173bf617e6c6d123d0b1053a98ae270def73\nparent 114e9a2d74f1fa43c3418f8cd978fd4186fcb78b\nauthor Muhammad Mominul Huque <mominul2082@gmail.com> 1539529133 +0600\ncommitter Muhammad Mominul Huque <mominul2082@gmail.com> 1539529133 +0600\n\nShow how to generate code with error message\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/33b378797c33bf29af4104e0b11c31252451df0c", "html_url": "https://github.com/rust-lang/rust/commit/33b378797c33bf29af4104e0b11c31252451df0c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/33b378797c33bf29af4104e0b11c31252451df0c/comments", "author": {"login": "mominul", "id": 9459891, "node_id": "MDQ6VXNlcjk0NTk4OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9459891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mominul", "html_url": "https://github.com/mominul", "followers_url": "https://api.github.com/users/mominul/followers", "following_url": "https://api.github.com/users/mominul/following{/other_user}", "gists_url": "https://api.github.com/users/mominul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mominul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mominul/subscriptions", "organizations_url": "https://api.github.com/users/mominul/orgs", "repos_url": "https://api.github.com/users/mominul/repos", "events_url": "https://api.github.com/users/mominul/events{/privacy}", "received_events_url": "https://api.github.com/users/mominul/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mominul", "id": 9459891, "node_id": "MDQ6VXNlcjk0NTk4OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/9459891?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mominul", "html_url": "https://github.com/mominul", "followers_url": "https://api.github.com/users/mominul/followers", "following_url": "https://api.github.com/users/mominul/following{/other_user}", "gists_url": "https://api.github.com/users/mominul/gists{/gist_id}", "starred_url": "https://api.github.com/users/mominul/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mominul/subscriptions", "organizations_url": "https://api.github.com/users/mominul/orgs", "repos_url": "https://api.github.com/users/mominul/repos", "events_url": "https://api.github.com/users/mominul/events{/privacy}", "received_events_url": "https://api.github.com/users/mominul/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "114e9a2d74f1fa43c3418f8cd978fd4186fcb78b", "url": "https://api.github.com/repos/rust-lang/rust/commits/114e9a2d74f1fa43c3418f8cd978fd4186fcb78b", "html_url": "https://github.com/rust-lang/rust/commit/114e9a2d74f1fa43c3418f8cd978fd4186fcb78b"}], "stats": {"total": 14, "additions": 8, "deletions": 6}, "files": [{"sha": "7b5a608477b15ae254a46e081b8a5ce4a3a5c089", "filename": "crates/tools/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/33b378797c33bf29af4104e0b11c31252451df0c/crates%2Ftools%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33b378797c33bf29af4104e0b11c31252451df0c/crates%2Ftools%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Ftools%2Fsrc%2Flib.rs?ref=33b378797c33bf29af4104e0b11c31252451df0c", "patch": "@@ -13,7 +13,7 @@ use std::{\n use itertools::Itertools;\n use heck::{CamelCase, ShoutySnakeCase, SnakeCase};\n \n-type Result<T> = ::std::result::Result<T, failure::Error>;\n+pub type Result<T> = ::std::result::Result<T, failure::Error>;\n \n #[derive(Debug)]\n pub struct Test {"}, {"sha": "179c1163fd86565da495a9148367cc2b01db29d5", "filename": "crates/tools/src/main.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/33b378797c33bf29af4104e0b11c31252451df0c/crates%2Ftools%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33b378797c33bf29af4104e0b11c31252451df0c/crates%2Ftools%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Ftools%2Fsrc%2Fmain.rs?ref=33b378797c33bf29af4104e0b11c31252451df0c", "patch": "@@ -11,9 +11,7 @@ use std::{\n     path::{Path, PathBuf},\n     process::Command,\n };\n-use tools::{Test, collect_tests, render_template, update};\n-\n-type Result<T> = ::std::result::Result<T, failure::Error>;\n+use tools::{Test, collect_tests, render_template, update, Result};\n \n const GRAMMAR_DIR: &str = \"./crates/ra_syntax/src/grammar\";\n const INLINE_TESTS_DIR: &str = \"./crates/ra_syntax/tests/data/parser/inline\";"}, {"sha": "4d5b03b65e904b962ae3db98dfd8f823ceee95ff", "filename": "crates/tools/tests/cli.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/33b378797c33bf29af4104e0b11c31252451df0c/crates%2Ftools%2Ftests%2Fcli.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33b378797c33bf29af4104e0b11c31252451df0c/crates%2Ftools%2Ftests%2Fcli.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Ftools%2Ftests%2Fcli.rs?ref=33b378797c33bf29af4104e0b11c31252451df0c", "patch": "@@ -11,6 +11,10 @@ const AST_TEMPLATE: &str = \"../ra_syntax/src/ast/generated.rs.tera\";\n \n #[test]\n fn verify_template_generation() {\n-    update(Path::new(SYNTAX_KINDS), &render_template(SYNTAX_KINDS_TEMPLATE, GRAMMAR).unwrap(), true).unwrap();\n-    update(Path::new(AST), &render_template(AST_TEMPLATE, GRAMMAR).unwrap(), true).unwrap();\n+    if let Err(error) = update(Path::new(SYNTAX_KINDS), &render_template(SYNTAX_KINDS_TEMPLATE, GRAMMAR).unwrap(), true) {\n+        panic!(\"{}. Please update it by running `cargo gen-kinds`\", error);\n+    }\n+    if let Err(error) = update(Path::new(AST), &render_template(AST_TEMPLATE, GRAMMAR).unwrap(), true) {\n+        panic!(\"{}. Please update it by running `cargo gen-kinds`\", error);\n+    }\n }\n\\ No newline at end of file"}]}