{"sha": "b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI0MTE0ZWJlM2ExOWQ3ZDliZGFjZjcwMGNjNjdiZDI3MDllYWZlNWI=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-08-05T06:39:46Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-08-10T05:43:59Z"}, "message": "Exposed all platform-specific documentation.", "tree": {"sha": "ea541608ac8b9307c5860d6dc78afd63a7c47194", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ea541608ac8b9307c5860d6dc78afd63a7c47194"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIcBAABCAAGBQJZi/KfAAoJEP72yAUdDgE8rQsP/2h50SzmEPhUjJA+fVJonXAp\n1poihiCQzUreh14P22R4XoINCS49yMcUWYJTqYu2bEX39iDmQGXDm1C3Glbl2d6n\nQPLf8NIyB8ggZZMok78RJBhgKFqiuVsd6H3sDthr89DqEYMInB9Xl1Q6MqrC3wO5\nMMdySrTkEGxRq34EMoECjMZGNVE7hxdev98iV8FLiWvoW99c4AjUWkhqBSniUAV/\nWrkAaX4C8uqqhdQeX3/vK9O/4NNp4/hezD73IDkfnmAtlAb1nHU0jc823UeaT6dQ\nZfpBxzjNzrW3xBQkiFN5TW6aVab4idGhXJzgr2ureCV/1vjBaEhtaWZARkpxfodI\nfrunB6BkW9EMdiAZydQRb1G3VWGZu6+5YjjLdeSESDUriPTzx8IIJgI5otP8u2QR\n5R/gAJFUE4axzmueCLSOBEddLYw5oY6K0Ckqq/V9AsdT4cwis+RFfT0lBrShbgIR\n8dQXGLxpqi/4Q6JI+JdTggXJ1UcRibRG6gTL0V5W8N7YeS6c8Y5DH+XOR9yMPy/P\nL444+PQ8S99qmhydWOAKbjIMSY/OI10RzUvdQ20y2QnmWEEPjnx0+WPUyJD0HUDp\npqZZY2s7vgEaEzREwp8DkjWFQPyzaappAu5TDcd4aX7IPRJnQyfqT2lTpaHddll/\n5nk00OQp57uIRodS5yvb\n=pmUV\n-----END PGP SIGNATURE-----", "payload": "tree ea541608ac8b9307c5860d6dc78afd63a7c47194\nparent a2b888675accccedec7601cc3bd67ca028b4757c\nauthor kennytm <kennytm@gmail.com> 1501915186 +0800\ncommitter kennytm <kennytm@gmail.com> 1502343839 +0800\n\nExposed all platform-specific documentation.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "html_url": "https://github.com/rust-lang/rust/commit/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a2b888675accccedec7601cc3bd67ca028b4757c", "url": "https://api.github.com/repos/rust-lang/rust/commits/a2b888675accccedec7601cc3bd67ca028b4757c", "html_url": "https://github.com/rust-lang/rust/commit/a2b888675accccedec7601cc3bd67ca028b4757c"}], "stats": {"total": 105, "additions": 75, "deletions": 30}, "files": [{"sha": "cc24b7937c0eb5db2e6fd01eea9170542a04e75e", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "patch": "@@ -314,6 +314,7 @@\n #![feature(untagged_unions)]\n #![feature(unwind_attributes)]\n #![feature(vec_push_all)]\n+#![feature(doc_cfg)]\n #![cfg_attr(test, feature(update_panic_count))]\n \n #![default_lib_allocator]"}, {"sha": "72eed549f62a0b4e4f019051d440018007814428", "filename": "src/libstd/os/mod.rs", "status": "modified", "additions": 26, "deletions": 16, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fos%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fos%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fos%2Fmod.rs?ref=b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "patch": "@@ -13,26 +13,36 @@\n #![stable(feature = \"os\", since = \"1.0.0\")]\n #![allow(missing_docs, bad_style, missing_debug_implementations)]\n \n-#[cfg(any(target_os = \"redox\", unix))]\n+#[cfg(all(not(dox), any(target_os = \"redox\", unix)))]\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n pub use sys::ext as unix;\n-#[cfg(windows)]\n+#[cfg(all(not(dox), windows))]\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n pub use sys::ext as windows;\n \n-#[cfg(target_os = \"android\")]   pub mod android;\n-#[cfg(target_os = \"bitrig\")]    pub mod bitrig;\n-#[cfg(target_os = \"dragonfly\")] pub mod dragonfly;\n-#[cfg(target_os = \"freebsd\")]   pub mod freebsd;\n-#[cfg(target_os = \"haiku\")]     pub mod haiku;\n-#[cfg(target_os = \"ios\")]       pub mod ios;\n-#[cfg(target_os = \"linux\")]     pub mod linux;\n-#[cfg(target_os = \"macos\")]     pub mod macos;\n-#[cfg(target_os = \"nacl\")]      pub mod nacl;\n-#[cfg(target_os = \"netbsd\")]   pub mod netbsd;\n-#[cfg(target_os = \"openbsd\")]   pub mod openbsd;\n-#[cfg(target_os = \"solaris\")]   pub mod solaris;\n-#[cfg(target_os = \"emscripten\")] pub mod emscripten;\n-#[cfg(target_os = \"fuchsia\")]    pub mod fuchsia;\n+#[cfg(dox)]\n+#[stable(feature = \"rust1\", since = \"1.0.0\")]\n+pub use sys::unix_ext as unix;\n+#[cfg(dox)]\n+#[stable(feature = \"rust1\", since = \"1.0.0\")]\n+pub use sys::windows_ext as windows;\n+\n+#[cfg(any(dox, target_os = \"linux\"))]\n+#[doc(cfg(target_os = \"linux\"))]\n+pub mod linux;\n+\n+#[cfg(all(not(dox), target_os = \"android\"))]    pub mod android;\n+#[cfg(all(not(dox), target_os = \"bitrig\"))]     pub mod bitrig;\n+#[cfg(all(not(dox), target_os = \"dragonfly\"))]  pub mod dragonfly;\n+#[cfg(all(not(dox), target_os = \"freebsd\"))]    pub mod freebsd;\n+#[cfg(all(not(dox), target_os = \"haiku\"))]      pub mod haiku;\n+#[cfg(all(not(dox), target_os = \"ios\"))]        pub mod ios;\n+#[cfg(all(not(dox), target_os = \"macos\"))]      pub mod macos;\n+#[cfg(all(not(dox), target_os = \"nacl\"))]       pub mod nacl;\n+#[cfg(all(not(dox), target_os = \"netbsd\"))]     pub mod netbsd;\n+#[cfg(all(not(dox), target_os = \"openbsd\"))]    pub mod openbsd;\n+#[cfg(all(not(dox), target_os = \"solaris\"))]    pub mod solaris;\n+#[cfg(all(not(dox), target_os = \"emscripten\"))] pub mod emscripten;\n+#[cfg(all(not(dox), target_os = \"fuchsia\"))]    pub mod fuchsia;\n \n pub mod raw;"}, {"sha": "d91c2073a23a83e5b31941a5c00b650f3d7690ba", "filename": "src/libstd/sys/mod.rs", "status": "modified", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fsys%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fsys%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fmod.rs?ref=b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "patch": "@@ -45,3 +45,33 @@ mod imp;\n #[cfg(target_os = \"redox\")]\n #[path = \"redox/mod.rs\"]\n mod imp;\n+\n+\n+// Import essential modules from both platforms when documenting.\n+\n+#[cfg(all(dox, not(unix)))]\n+use os::linux as platform;\n+\n+#[cfg(all(dox, not(any(unix, target_os = \"redox\"))))]\n+#[path = \"unix/ext/mod.rs\"]\n+pub mod unix_ext;\n+\n+#[cfg(all(dox, any(unix, target_os = \"redox\")))]\n+pub use self::ext as unix_ext;\n+\n+\n+#[cfg(all(dox, not(windows)))]\n+#[macro_use]\n+#[path = \"windows/compat.rs\"]\n+mod compat;\n+\n+#[cfg(all(dox, not(windows)))]\n+#[path = \"windows/c.rs\"]\n+mod c;\n+\n+#[cfg(all(dox, not(windows)))]\n+#[path = \"windows/ext/mod.rs\"]\n+pub mod windows_ext;\n+\n+#[cfg(all(dox, windows))]\n+pub use self::ext as windows_ext;"}, {"sha": "259cda5bcb3ebe485d07f2cd5f8090e2ebf1b18a", "filename": "src/libstd/sys/redox/ext/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fsys%2Fredox%2Fext%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fsys%2Fredox%2Fext%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fredox%2Fext%2Fmod.rs?ref=b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "patch": "@@ -28,6 +28,7 @@\n //! ```\n \n #![stable(feature = \"rust1\", since = \"1.0.0\")]\n+#![doc(cfg(target_os = \"redox\"))]\n \n pub mod ffi;\n pub mod fs;"}, {"sha": "67fe46cc9c7a20326b6c8b4dec7726f8356128b6", "filename": "src/libstd/sys/unix/ext/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fsys%2Funix%2Fext%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fsys%2Funix%2Fext%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Funix%2Fext%2Fmod.rs?ref=b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "patch": "@@ -28,6 +28,7 @@\n //! ```\n \n #![stable(feature = \"rust1\", since = \"1.0.0\")]\n+#![doc(cfg(unix))]\n \n pub mod io;\n pub mod ffi;"}, {"sha": "4393aedf162a3bf9b0d787a3e8e69d0f207d8e9e", "filename": "src/libstd/sys/unix/mod.rs", "status": "modified", "additions": 15, "deletions": 14, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fsys%2Funix%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fsys%2Funix%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Funix%2Fmod.rs?ref=b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "patch": "@@ -13,20 +13,21 @@\n use io::{self, ErrorKind};\n use libc;\n \n-#[cfg(target_os = \"android\")]   pub use os::android as platform;\n-#[cfg(target_os = \"bitrig\")]    pub use os::bitrig as platform;\n-#[cfg(target_os = \"dragonfly\")] pub use os::dragonfly as platform;\n-#[cfg(target_os = \"freebsd\")]   pub use os::freebsd as platform;\n-#[cfg(target_os = \"haiku\")]     pub use os::haiku as platform;\n-#[cfg(target_os = \"ios\")]       pub use os::ios as platform;\n-#[cfg(target_os = \"linux\")]     pub use os::linux as platform;\n-#[cfg(target_os = \"macos\")]     pub use os::macos as platform;\n-#[cfg(target_os = \"nacl\")]      pub use os::nacl as platform;\n-#[cfg(target_os = \"netbsd\")]    pub use os::netbsd as platform;\n-#[cfg(target_os = \"openbsd\")]   pub use os::openbsd as platform;\n-#[cfg(target_os = \"solaris\")]   pub use os::solaris as platform;\n-#[cfg(target_os = \"emscripten\")] pub use os::emscripten as platform;\n-#[cfg(target_os = \"fuchsia\")]   pub use os::fuchsia as platform;\n+#[cfg(any(dox, target_os = \"linux\"))] pub use os::linux as platform;\n+\n+#[cfg(all(not(dox), target_os = \"android\"))]   pub use os::android as platform;\n+#[cfg(all(not(dox), target_os = \"bitrig\"))]    pub use os::bitrig as platform;\n+#[cfg(all(not(dox), target_os = \"dragonfly\"))] pub use os::dragonfly as platform;\n+#[cfg(all(not(dox), target_os = \"freebsd\"))]   pub use os::freebsd as platform;\n+#[cfg(all(not(dox), target_os = \"haiku\"))]     pub use os::haiku as platform;\n+#[cfg(all(not(dox), target_os = \"ios\"))]       pub use os::ios as platform;\n+#[cfg(all(not(dox), target_os = \"macos\"))]     pub use os::macos as platform;\n+#[cfg(all(not(dox), target_os = \"nacl\"))]      pub use os::nacl as platform;\n+#[cfg(all(not(dox), target_os = \"netbsd\"))]    pub use os::netbsd as platform;\n+#[cfg(all(not(dox), target_os = \"openbsd\"))]   pub use os::openbsd as platform;\n+#[cfg(all(not(dox), target_os = \"solaris\"))]   pub use os::solaris as platform;\n+#[cfg(all(not(dox), target_os = \"emscripten\"))] pub use os::emscripten as platform;\n+#[cfg(all(not(dox), target_os = \"fuchsia\"))]   pub use os::fuchsia as platform;\n \n #[macro_use]\n pub mod weak;"}, {"sha": "4b458d293bce278a7f8d4708d50e49958d0e40fb", "filename": "src/libstd/sys/windows/ext/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fsys%2Fwindows%2Fext%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b/src%2Flibstd%2Fsys%2Fwindows%2Fext%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fwindows%2Fext%2Fmod.rs?ref=b4114ebe3a19d7d9bdacf700cc67bd2709eafe5b", "patch": "@@ -17,6 +17,7 @@\n //! platform-agnostic idioms would not normally support.\n \n #![stable(feature = \"rust1\", since = \"1.0.0\")]\n+#![doc(cfg(windows))]\n \n pub mod ffi;\n pub mod fs;"}]}