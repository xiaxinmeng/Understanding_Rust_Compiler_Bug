{"sha": "d4bcee9638cf8fdf7e9297438e70e20b212c6535", "node_id": "C_kwDOAAsO6NoAKGQ0YmNlZTk2MzhjZjhmZGY3ZTkyOTc0MzhlNzBlMjBiMjEyYzY1MzU", "commit": {"author": {"name": "Tor Hovland", "email": "tor.hovland@bekk.no", "date": "2021-04-04T13:54:21Z"}, "committer": {"name": "Tor Hovland", "email": "tor.hovland@bekk.no", "date": "2021-11-05T07:46:29Z"}, "message": "Added a regression test.", "tree": {"sha": "f127d46af9f16a3594452fdab57ecd15416c0804", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f127d46af9f16a3594452fdab57ecd15416c0804"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d4bcee9638cf8fdf7e9297438e70e20b212c6535", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d4bcee9638cf8fdf7e9297438e70e20b212c6535", "html_url": "https://github.com/rust-lang/rust/commit/d4bcee9638cf8fdf7e9297438e70e20b212c6535", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d4bcee9638cf8fdf7e9297438e70e20b212c6535/comments", "author": null, "committer": null, "parents": [{"sha": "0b378f008b9dd75ecadeede1ea0c963549f2933a", "url": "https://api.github.com/repos/rust-lang/rust/commits/0b378f008b9dd75ecadeede1ea0c963549f2933a", "html_url": "https://github.com/rust-lang/rust/commit/0b378f008b9dd75ecadeede1ea0c963549f2933a"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "d6b35cbfafd6aebc147610805613f3438d11b67b", "filename": "src/test/run-make/issue-10971-temps-dir/Makefile", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/d4bcee9638cf8fdf7e9297438e70e20b212c6535/src%2Ftest%2Frun-make%2Fissue-10971-temps-dir%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/d4bcee9638cf8fdf7e9297438e70e20b212c6535/src%2Ftest%2Frun-make%2Fissue-10971-temps-dir%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fissue-10971-temps-dir%2FMakefile?ref=d4bcee9638cf8fdf7e9297438e70e20b212c6535", "patch": "@@ -0,0 +1,10 @@\n+include ../../run-make-fulldeps/tools.mk\n+\n+# Regression test for issue #10971\n+# Running two invocations in parallel would overwrite each other's temp files.\n+\n+all:\n+\ttouch $(TMPDIR)/lib.rs\n+\n+\t$(RUSTC) --crate-type=lib --temps-dir=$(TMPDIR)/temp1 $(TMPDIR)/lib.rs & \\\n+\t$(RUSTC) --crate-type=cdylib --temps-dir=$(TMPDIR)/temp2 $(TMPDIR)/lib.rs"}]}