{"sha": "70a7cb34ec18d30a680a73727e1d87a0a786dc44", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwYTdjYjM0ZWMxOGQzMGE2ODBhNzM3MjdlMWQ4N2EwYTc4NmRjNDQ=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-11-28T18:03:30Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-11-28T18:03:30Z"}, "message": "switch to released id-arena", "tree": {"sha": "e23d6bf49854c5ad42683accaf3f0c43488188a4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e23d6bf49854c5ad42683accaf3f0c43488188a4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/70a7cb34ec18d30a680a73727e1d87a0a786dc44", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/70a7cb34ec18d30a680a73727e1d87a0a786dc44", "html_url": "https://github.com/rust-lang/rust/commit/70a7cb34ec18d30a680a73727e1d87a0a786dc44", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/70a7cb34ec18d30a680a73727e1d87a0a786dc44/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0cda188621b792265c957bdf4ac54af31cbc9947", "url": "https://api.github.com/repos/rust-lang/rust/commits/0cda188621b792265c957bdf4ac54af31cbc9947", "html_url": "https://github.com/rust-lang/rust/commit/0cda188621b792265c957bdf4ac54af31cbc9947"}], "stats": {"total": 27, "additions": 8, "deletions": 19}, "files": [{"sha": "42a962cf6d54a2618bef638f48cea386b9dceb60", "filename": "Cargo.lock", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/70a7cb34ec18d30a680a73727e1d87a0a786dc44/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/70a7cb34ec18d30a680a73727e1d87a0a786dc44/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=70a7cb34ec18d30a680a73727e1d87a0a786dc44", "patch": "@@ -352,8 +352,8 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"id-arena\"\n-version = \"1.0.2\"\n-source = \"git+https://github.com/fitzgen/id-arena/?rev=43ecd67#43ecd67d81f707dfdc1b0d067b96c17f7a7ef9b8\"\n+version = \"2.0.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"idna\"\n@@ -633,8 +633,6 @@ dependencies = [\n name = \"ra_db\"\n version = \"0.1.0\"\n dependencies = [\n- \"id-arena 1.0.2 (git+https://github.com/fitzgen/id-arena/?rev=43ecd67)\",\n- \"log 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"parking_lot 0.6.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"ra_editor 0.1.0\",\n  \"ra_syntax 0.1.0\",\n@@ -660,7 +658,7 @@ dependencies = [\n name = \"ra_hir\"\n version = \"0.1.0\"\n dependencies = [\n- \"id-arena 1.0.2 (git+https://github.com/fitzgen/id-arena/?rev=43ecd67)\",\n+ \"id-arena 2.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"parking_lot 0.6.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"ra_db 0.1.0\",\n@@ -1339,7 +1337,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum glob 0.2.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8be18de09a56b60ed0edf84bc9df007e30040691af7acd1c41874faac5895bfb\"\n \"checksum heck 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ea04fa3ead4e05e51a7c806fc07271fdbde4e246a6c6d1efd52e72230b771b82\"\n \"checksum humansize 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b6cab2627acfc432780848602f3f558f7e9dd427352224b0d9324025796d2a5e\"\n-\"checksum id-arena 1.0.2 (git+https://github.com/fitzgen/id-arena/?rev=43ecd67)\" = \"<none>\"\n+\"checksum id-arena 2.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3a7250033feafee46a1cecd2c2616a64aec1d064f38c9ae2bdd297728542843e\"\n \"checksum idna 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"38f09e0f0b1fb55fdee1f17470ad800da77af5186a1a76c026b679358b7e844e\"\n \"checksum im 12.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ae9c7f9bb8aee47fc16d535a705f7867a9fc83bb822e5e1043bb98e77ffeed3c\"\n \"checksum indexmap 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7e81a7c05f79578dbc15793d8b619db9ba32b4577003ef3af1a91c416798c58d\""}, {"sha": "f316c0ab2f371270aa49be2b983c7ce202345778", "filename": "crates/ra_db/Cargo.toml", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/70a7cb34ec18d30a680a73727e1d87a0a786dc44/crates%2Fra_db%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/70a7cb34ec18d30a680a73727e1d87a0a786dc44/crates%2Fra_db%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_db%2FCargo.toml?ref=70a7cb34ec18d30a680a73727e1d87a0a786dc44", "patch": "@@ -5,12 +5,10 @@ version = \"0.1.0\"\n authors = [\"Aleksey Kladov <aleksey.kladov@gmail.com>\"]\n \n [dependencies]\n-log = \"0.4.5\"\n relative-path = \"0.4.0\"\n salsa = \"0.8.0\"\n rustc-hash = \"1.0\"\n parking_lot = \"0.6.4\"\n-id-arena = { git = \"https://github.com/fitzgen/id-arena/\", rev = \"43ecd67\" }\n ra_syntax = { path = \"../ra_syntax\" }\n ra_editor = { path = \"../ra_editor\" }\n test_utils = { path = \"../test_utils\" }"}, {"sha": "53805aadae8af3ae9029f964b3219770ae3baf6b", "filename": "crates/ra_db/src/lib.rs", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/70a7cb34ec18d30a680a73727e1d87a0a786dc44/crates%2Fra_db%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a7cb34ec18d30a680a73727e1d87a0a786dc44/crates%2Fra_db%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_db%2Fsrc%2Flib.rs?ref=70a7cb34ec18d30a680a73727e1d87a0a786dc44", "patch": "@@ -1,11 +1,4 @@\n //! ra_db defines basic database traits. Concrete DB is defined by ra_analysis.\n-\n-extern crate ra_editor;\n-extern crate ra_syntax;\n-extern crate relative_path;\n-extern crate rustc_hash;\n-extern crate salsa;\n-\n mod syntax_ptr;\n mod file_resolver;\n mod input;"}, {"sha": "1b9e148b2d85138515192a1b6fd6ec88445e077c", "filename": "crates/ra_hir/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/70a7cb34ec18d30a680a73727e1d87a0a786dc44/crates%2Fra_hir%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/70a7cb34ec18d30a680a73727e1d87a0a786dc44/crates%2Fra_hir%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2FCargo.toml?ref=70a7cb34ec18d30a680a73727e1d87a0a786dc44", "patch": "@@ -10,7 +10,7 @@ relative-path = \"0.4.0\"\n salsa = \"0.8.0\"\n rustc-hash = \"1.0\"\n parking_lot = \"0.6.4\"\n-id-arena = { git = \"https://github.com/fitzgen/id-arena/\", rev = \"43ecd67\" }\n+id-arena = \"2.0\"\n ra_syntax = { path = \"../ra_syntax\" }\n ra_editor = { path = \"../ra_editor\" }\n ra_db = { path = \"../ra_db\" }"}, {"sha": "d4f9d9cb904231c34bb6b28865517def9690639b", "filename": "crates/ra_hir/src/arena.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/70a7cb34ec18d30a680a73727e1d87a0a786dc44/crates%2Fra_hir%2Fsrc%2Farena.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70a7cb34ec18d30a680a73727e1d87a0a786dc44/crates%2Fra_hir%2Fsrc%2Farena.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Farena.rs?ref=70a7cb34ec18d30a680a73727e1d87a0a786dc44", "patch": "@@ -46,10 +46,10 @@ pub(crate) struct ArenaBehavior<T> {\n \n impl<T> id_arena::ArenaBehavior for ArenaBehavior<T> {\n     type Id = Id<T>;\n-    fn new_arena_id() -> usize {\n+    fn new_arena_id() -> u32 {\n         0\n     }\n-    fn new_id(_arena_id: usize, index: usize) -> Id<T> {\n+    fn new_id(_arena_id: u32, index: usize) -> Id<T> {\n         Id {\n             idx: index as u32,\n             _ty: PhantomData,\n@@ -58,7 +58,7 @@ impl<T> id_arena::ArenaBehavior for ArenaBehavior<T> {\n     fn index(id: Id<T>) -> usize {\n         id.idx as usize\n     }\n-    fn arena_id(_id: Id<T>) -> usize {\n+    fn arena_id(_id: Id<T>) -> u32 {\n         0\n     }\n }"}]}