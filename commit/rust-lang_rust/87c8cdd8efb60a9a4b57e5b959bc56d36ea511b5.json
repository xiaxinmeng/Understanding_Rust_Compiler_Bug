{"sha": "87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg3YzhjZGQ4ZWZiNjBhOWE0YjU3ZTViOTU5YmM1NmQzNmVhNTExYjU=", "commit": {"author": {"name": "Taylor Cramer", "email": "cramertj@google.com", "date": "2018-12-21T18:18:38Z"}, "committer": {"name": "Taylor Cramer", "email": "cramertj@google.com", "date": "2018-12-21T18:18:38Z"}, "message": "Stabilize #[repr(packed(N))]", "tree": {"sha": "2d7d0becde6d23eb07d0e0a7c87f18267d8ffbcd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2d7d0becde6d23eb07d0e0a7c87f18267d8ffbcd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "html_url": "https://github.com/rust-lang/rust/commit/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/comments", "author": {"login": "cramertj", "id": 5963049, "node_id": "MDQ6VXNlcjU5NjMwNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5963049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cramertj", "html_url": "https://github.com/cramertj", "followers_url": "https://api.github.com/users/cramertj/followers", "following_url": "https://api.github.com/users/cramertj/following{/other_user}", "gists_url": "https://api.github.com/users/cramertj/gists{/gist_id}", "starred_url": "https://api.github.com/users/cramertj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cramertj/subscriptions", "organizations_url": "https://api.github.com/users/cramertj/orgs", "repos_url": "https://api.github.com/users/cramertj/repos", "events_url": "https://api.github.com/users/cramertj/events{/privacy}", "received_events_url": "https://api.github.com/users/cramertj/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cramertj", "id": 5963049, "node_id": "MDQ6VXNlcjU5NjMwNDk=", "avatar_url": "https://avatars.githubusercontent.com/u/5963049?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cramertj", "html_url": "https://github.com/cramertj", "followers_url": "https://api.github.com/users/cramertj/followers", "following_url": "https://api.github.com/users/cramertj/following{/other_user}", "gists_url": "https://api.github.com/users/cramertj/gists{/gist_id}", "starred_url": "https://api.github.com/users/cramertj/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cramertj/subscriptions", "organizations_url": "https://api.github.com/users/cramertj/orgs", "repos_url": "https://api.github.com/users/cramertj/repos", "events_url": "https://api.github.com/users/cramertj/events{/privacy}", "received_events_url": "https://api.github.com/users/cramertj/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "01c6ea2f37326674bf6ca64de55bf5fd90e45015", "url": "https://api.github.com/repos/rust-lang/rust/commits/01c6ea2f37326674bf6ca64de55bf5fd90e45015", "html_url": "https://github.com/rust-lang/rust/commit/01c6ea2f37326674bf6ca64de55bf5fd90e45015"}], "stats": {"total": 101, "additions": 18, "deletions": 83}, "files": [{"sha": "db84703afde5d20a38fa56851cb3aa0ef803f0eb", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 2, "deletions": 10, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -397,9 +397,6 @@ declare_features! (\n     // Multiple patterns with `|` in `if let` and `while let`.\n     (active, if_while_or_patterns, \"1.26.0\", Some(48215), None),\n \n-    // Allows `#[repr(packed)]` attribute on structs.\n-    (active, repr_packed, \"1.26.0\", Some(33158), None),\n-\n     // Allows macro invocations in `extern {}` blocks.\n     (active, macros_in_extern, \"1.27.0\", Some(49476), None),\n \n@@ -695,6 +692,8 @@ declare_features! (\n     (accepted, self_in_typedefs, \"1.32.0\", Some(49303), None),\n     // `use path as _;` and `extern crate c as _;`\n     (accepted, underscore_imports, \"1.33.0\", Some(48216), None),\n+    // Allows `#[repr(packed(N))]` attribute on structs.\n+    (accepted, repr_packed, \"1.33.0\", Some(33158), None),\n );\n \n // If you change this, please modify `src/doc/unstable-book` as well. You must\n@@ -1588,13 +1587,6 @@ impl<'a> Visitor<'a> for PostExpansionVisitor<'a> {\n                             gate_feature_post!(&self, repr_simd, attr.span,\n                                                \"SIMD types are experimental and possibly buggy\");\n                         }\n-                        if let Some((name, _)) = item.name_value_literal() {\n-                            if name == \"packed\" {\n-                                gate_feature_post!(&self, repr_packed, attr.span,\n-                                                   \"the `#[repr(packed(n))]` attribute \\\n-                                                    is experimental\");\n-                            }\n-                        }\n                     }\n                 }\n             }"}, {"sha": "fb6507fd22a4b3c9106d37b9ad04b5dace6f1729", "filename": "src/test/codegen/packed.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Fcodegen%2Fpacked.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Fcodegen%2Fpacked.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fpacked.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -13,7 +13,6 @@\n // min-llvm-version 7.0\n \n #![crate_type = \"lib\"]\n-#![feature(repr_packed)]\n \n #[repr(packed)]\n pub struct Packed1 {"}, {"sha": "0d5b211bca9b64b4204feb2b7ecffaa6a746ff64", "filename": "src/test/run-pass/issues/issue-48159.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fissues%2Fissue-48159.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fissues%2Fissue-48159.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissues%2Fissue-48159.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -9,7 +9,6 @@\n // except according to those terms.\n \n // run-pass\n-#![feature(repr_packed)]\n #![allow(non_camel_case_types)]\n \n use std::mem;"}, {"sha": "6884c360e4a58660e5e9f0f28e02b1daf4a525aa", "filename": "src/test/run-pass/packed/auxiliary/packed.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fauxiliary%2Fpacked.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fauxiliary%2Fpacked.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fpacked%2Fauxiliary%2Fpacked.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(repr_packed)]\n-\n #[repr(packed)]\n pub struct P1S5 {\n     a: u8,"}, {"sha": "87c26c597f58f8c6b5d3bda782c850c00276f6f4", "filename": "src/test/run-pass/packed/packed-struct-borrow-element.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-borrow-element.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-borrow-element.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-borrow-element.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -12,8 +12,6 @@\n #![allow(dead_code)]\n // ignore-emscripten weird assertion?\n \n-#![feature(repr_packed)]\n-\n #[repr(packed)]\n struct Foo1 {\n     bar: u8,"}, {"sha": "9608ff4ec0e929511819d428328ae8f0b096e143", "filename": "src/test/run-pass/packed/packed-struct-generic-size.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-generic-size.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-generic-size.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-generic-size.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -10,11 +10,8 @@\n \n // run-pass\n #![allow(dead_code)]\n-#![allow(stable_features)]\n #![allow(unused_comparisons)]\n \n-#![feature(repr_packed)]\n-\n use std::mem;\n \n #[repr(packed)]"}, {"sha": "672952f6e9f3beff54e0d84b9875a32666a5d007", "filename": "src/test/run-pass/packed/packed-struct-generic-size.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-generic-size.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-generic-size.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-generic-size.stderr?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -1,35 +1,35 @@\n warning: unnecessary path disambiguator\n-  --> $DIR/packed-struct-generic-size.rs:49:14\n+  --> $DIR/packed-struct-generic-size.rs:46:14\n    |\n LL |     check!(P1::<u8, u8>, 1, 3);\n    |              ^^ try removing `::`\n \n warning: unnecessary path disambiguator\n-  --> $DIR/packed-struct-generic-size.rs:50:14\n+  --> $DIR/packed-struct-generic-size.rs:47:14\n    |\n LL |     check!(P1::<u64, u16>, 1, 11);\n    |              ^^ try removing `::`\n \n warning: unnecessary path disambiguator\n-  --> $DIR/packed-struct-generic-size.rs:52:14\n+  --> $DIR/packed-struct-generic-size.rs:49:14\n    |\n LL |     check!(P2::<u8, u8>, 1, 3);\n    |              ^^ try removing `::`\n \n warning: unnecessary path disambiguator\n-  --> $DIR/packed-struct-generic-size.rs:53:14\n+  --> $DIR/packed-struct-generic-size.rs:50:14\n    |\n LL |     check!(P2::<u64, u16>, 2, 12);\n    |              ^^ try removing `::`\n \n warning: unnecessary path disambiguator\n-  --> $DIR/packed-struct-generic-size.rs:55:15\n+  --> $DIR/packed-struct-generic-size.rs:52:15\n    |\n LL |     check!(P4C::<u8, u8>, 1, 3);\n    |               ^^ try removing `::`\n \n warning: unnecessary path disambiguator\n-  --> $DIR/packed-struct-generic-size.rs:56:15\n+  --> $DIR/packed-struct-generic-size.rs:53:15\n    |\n LL |     check!(P4C::<u16, u64>, 4, 12);\n    |               ^^ try removing `::`"}, {"sha": "21ef55e5a42f52682e8cb6c8707fdee27b37e1c6", "filename": "src/test/run-pass/packed/packed-struct-match.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-match.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -9,7 +9,6 @@\n // except according to those terms.\n \n // run-pass\n-#![feature(repr_packed)]\n \n #[repr(packed)]\n struct Foo1 {"}, {"sha": "d6a236ffc6d68b4dc020381543bd753edc2722e2", "filename": "src/test/run-pass/packed/packed-struct-size.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-size.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-size.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-size.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -13,9 +13,6 @@\n #![allow(non_camel_case_types)]\n #![allow(non_upper_case_globals)]\n \n-#![feature(repr_packed)]\n-\n-\n use std::mem;\n \n #[repr(packed)]"}, {"sha": "6fd24479c195968876d8180055f1929914dab58c", "filename": "src/test/run-pass/packed/packed-struct-vec.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-vec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-vec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-struct-vec.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -9,7 +9,6 @@\n // except according to those terms.\n \n // run-pass\n-#![feature(repr_packed)]\n \n use std::fmt;\n use std::mem;"}, {"sha": "8b18bd33c74d9dc4faedf375549b5f00d828ada3", "filename": "src/test/run-pass/packed/packed-tuple-struct-size.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-tuple-struct-size.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-tuple-struct-size.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fpacked%2Fpacked-tuple-struct-size.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -12,8 +12,6 @@\n #![allow(dead_code)]\n #![allow(non_camel_case_types)]\n \n-#![feature(repr_packed)]\n-\n use std::mem;\n \n #[repr(packed)]"}, {"sha": "109d5b75590dfd3089cc12513725c8a3a290d44c", "filename": "src/test/run-pass/structs-enums/align-struct.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fstructs-enums%2Falign-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Fstructs-enums%2Falign-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fstructs-enums%2Falign-struct.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -11,7 +11,6 @@\n // run-pass\n #![allow(dead_code)]\n #![feature(box_syntax)]\n-#![feature(repr_packed)]\n \n use std::mem;\n "}, {"sha": "4c9e06a395c05dcae779d21197aee8897f8d1591", "filename": "src/test/run-pass/union/union-packed.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Funion%2Funion-packed.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Frun-pass%2Funion%2Funion-packed.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Funion%2Funion-packed.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -13,7 +13,6 @@\n #![allow(non_snake_case)]\n \n #![feature(untagged_unions)]\n-#![feature(repr_packed)]\n \n use std::mem::{size_of, size_of_val, align_of, align_of_val};\n "}, {"sha": "f16bd1003f934a11abde3dec9b6c4d031b3f1b86", "filename": "src/test/ui/conflicting-repr-hints.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Fui%2Fconflicting-repr-hints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Fui%2Fconflicting-repr-hints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconflicting-repr-hints.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -9,7 +9,6 @@\n // except according to those terms.\n \n #![allow(dead_code)]\n-#![feature(repr_packed)]\n \n #[repr(C)]\n enum A { A }"}, {"sha": "01b72d93823cc555002764145ef060c129227881", "filename": "src/test/ui/conflicting-repr-hints.stderr", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Fui%2Fconflicting-repr-hints.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Fui%2Fconflicting-repr-hints.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconflicting-repr-hints.stderr?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -1,63 +1,63 @@\n warning[E0566]: conflicting representation hints\n-  --> $DIR/conflicting-repr-hints.rs:20:8\n+  --> $DIR/conflicting-repr-hints.rs:19:8\n    |\n LL | #[repr(C, u64)] //~ WARNING conflicting representation hints\n    |        ^  ^^^\n \n warning[E0566]: conflicting representation hints\n-  --> $DIR/conflicting-repr-hints.rs:23:8\n+  --> $DIR/conflicting-repr-hints.rs:22:8\n    |\n LL | #[repr(u32, u64)] //~ WARNING conflicting representation hints\n    |        ^^^  ^^^\n \n error[E0587]: type has conflicting packed and align representation hints\n-  --> $DIR/conflicting-repr-hints.rs:30:1\n+  --> $DIR/conflicting-repr-hints.rs:29:1\n    |\n LL | struct F(i32); //~ ERROR type has conflicting packed and align representation hints\n    | ^^^^^^^^^^^^^^\n \n error[E0587]: type has conflicting packed and align representation hints\n-  --> $DIR/conflicting-repr-hints.rs:34:1\n+  --> $DIR/conflicting-repr-hints.rs:33:1\n    |\n LL | struct G(i32); //~ ERROR type has conflicting packed and align representation hints\n    | ^^^^^^^^^^^^^^\n \n error[E0587]: type has conflicting packed and align representation hints\n-  --> $DIR/conflicting-repr-hints.rs:38:1\n+  --> $DIR/conflicting-repr-hints.rs:37:1\n    |\n LL | struct H(i32); //~ ERROR type has conflicting packed and align representation hints\n    | ^^^^^^^^^^^^^^\n \n error[E0634]: type has conflicting packed representation hints\n-  --> $DIR/conflicting-repr-hints.rs:41:1\n+  --> $DIR/conflicting-repr-hints.rs:40:1\n    |\n LL | struct I(i32); //~ ERROR type has conflicting packed representation hints\n    | ^^^^^^^^^^^^^^\n \n error[E0634]: type has conflicting packed representation hints\n-  --> $DIR/conflicting-repr-hints.rs:45:1\n+  --> $DIR/conflicting-repr-hints.rs:44:1\n    |\n LL | struct J(i32); //~ ERROR type has conflicting packed representation hints\n    | ^^^^^^^^^^^^^^\n \n error[E0587]: type has conflicting packed and align representation hints\n-  --> $DIR/conflicting-repr-hints.rs:51:1\n+  --> $DIR/conflicting-repr-hints.rs:50:1\n    |\n LL | / union X { //~ ERROR type has conflicting packed and align representation hints\n LL | |     i: i32\n LL | | }\n    | |_^\n \n error[E0587]: type has conflicting packed and align representation hints\n-  --> $DIR/conflicting-repr-hints.rs:57:1\n+  --> $DIR/conflicting-repr-hints.rs:56:1\n    |\n LL | / union Y { //~ ERROR type has conflicting packed and align representation hints\n LL | |     i: i32\n LL | | }\n    | |_^\n \n error[E0587]: type has conflicting packed and align representation hints\n-  --> $DIR/conflicting-repr-hints.rs:63:1\n+  --> $DIR/conflicting-repr-hints.rs:62:1\n    |\n LL | / union Z { //~ ERROR type has conflicting packed and align representation hints\n LL | |     i: i32"}, {"sha": "65e3be288fdf72447a0a038a32a819775c655158", "filename": "src/test/ui/feature-gates/feature-gate-repr_packed.rs", "status": "removed", "additions": 0, "deletions": 18, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/01c6ea2f37326674bf6ca64de55bf5fd90e45015/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-repr_packed.rs", "raw_url": "https://github.com/rust-lang/rust/raw/01c6ea2f37326674bf6ca64de55bf5fd90e45015/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-repr_packed.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-repr_packed.rs?ref=01c6ea2f37326674bf6ca64de55bf5fd90e45015", "patch": "@@ -1,18 +0,0 @@\n-// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-#[repr(packed(1))] //~ error: the `#[repr(packed(n))]` attribute is experimental\n-struct Foo(u64);\n-\n-#[repr(C)]\n-#[repr(packed(1))] //~ error: the `#[repr(packed(n))]` attribute is experimental\n-struct Bar(u64);\n-\n-fn main() {}"}, {"sha": "ed89a3f6b3169373f6290c0ecf2eda56ffee56f9", "filename": "src/test/ui/feature-gates/feature-gate-repr_packed.stderr", "status": "removed", "additions": 0, "deletions": 19, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/01c6ea2f37326674bf6ca64de55bf5fd90e45015/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-repr_packed.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/01c6ea2f37326674bf6ca64de55bf5fd90e45015/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-repr_packed.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-repr_packed.stderr?ref=01c6ea2f37326674bf6ca64de55bf5fd90e45015", "patch": "@@ -1,19 +0,0 @@\n-error[E0658]: the `#[repr(packed(n))]` attribute is experimental (see issue #33158)\n-  --> $DIR/feature-gate-repr_packed.rs:11:1\n-   |\n-LL | #[repr(packed(1))] //~ error: the `#[repr(packed(n))]` attribute is experimental\n-   | ^^^^^^^^^^^^^^^^^^\n-   |\n-   = help: add #![feature(repr_packed)] to the crate attributes to enable\n-\n-error[E0658]: the `#[repr(packed(n))]` attribute is experimental (see issue #33158)\n-  --> $DIR/feature-gate-repr_packed.rs:15:1\n-   |\n-LL | #[repr(packed(1))] //~ error: the `#[repr(packed(n))]` attribute is experimental\n-   | ^^^^^^^^^^^^^^^^^^\n-   |\n-   = help: add #![feature(repr_packed)] to the crate attributes to enable\n-\n-error: aborting due to 2 previous errors\n-\n-For more information about this error, try `rustc --explain E0658`."}, {"sha": "9ff794178fcfad5715d6c01e8f74eb0b317a2d8a", "filename": "src/test/ui/print_type_sizes/packed.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Fui%2Fprint_type_sizes%2Fpacked.rs", "raw_url": "https://github.com/rust-lang/rust/raw/87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5/src%2Ftest%2Fui%2Fprint_type_sizes%2Fpacked.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprint_type_sizes%2Fpacked.rs?ref=87c8cdd8efb60a9a4b57e5b959bc56d36ea511b5", "patch": "@@ -21,7 +21,6 @@\n \n #![allow(dead_code)]\n #![feature(start)]\n-#![feature(repr_packed)]\n \n #[derive(Default)]\n #[repr(packed)]"}]}