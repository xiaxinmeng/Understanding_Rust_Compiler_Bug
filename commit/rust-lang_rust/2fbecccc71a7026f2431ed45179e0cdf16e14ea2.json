{"sha": "2fbecccc71a7026f2431ed45179e0cdf16e14ea2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmYmVjY2NjNzFhNzAyNmYyNDMxZWQ0NTE3OWUwY2RmMTZlMTRlYTI=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-07-22T11:43:05Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-07-22T11:43:05Z"}, "message": "Merge #9634\n\n9634: minor update to excludeDirs doc r=lnicola a=dae\n\nI saw reference to globs in #7755, but it doesn't look like they're\r\nactually supported, and I had to dig through the source to discover\r\nthat the folders are relative to the workspace root. Further digging\r\nwas required to get VS Code from hanging for long periods trying to\r\nwatch giant Bazel folders that had already been excluded from Rust\r\nAnalyzer. Hopefully this tweak will save others the confusion :-)\n\nCo-authored-by: Damien Elmes <gpg@ankiweb.net>\nCo-authored-by: Damien Elmes <dae@users.noreply.github.com>", "tree": {"sha": "803a1e833a4c2e3d08d84e2e27f5237c0065c9cc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/803a1e833a4c2e3d08d84e2e27f5237c0065c9cc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2fbecccc71a7026f2431ed45179e0cdf16e14ea2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJg+VnJCRBK7hj4Ov3rIwAAeq4IAIo2Qs+m7/JMZmiQcj8djGIM\nLNkvnf1+WoOy7/JVLVCUa70u12L6kTCldLvrOa3fNP6u+60pPMOnPzMBGegdBaIA\nAW/yBQOCxuYoHGhTfXuxNwJlO/OJN/m06ZoGNnNFZEs9hcdBeKggA5R90kvc0KFC\nIgKOmRWtxpXb3Ts1iBea3JI8IMhHWZXr7jeLTnqsrNcEvgPkNZ63QyCqzUejVwsG\nkQ6xEm0EYrlaDaMmP/D9Zes/BPOwXdFkAVd7xzSJ9ejm3qIw/OzcVkNokSHl7fFQ\no6YPfFRCT2gwOtXVjBceq7zRztQRfZh9y7Ws+/AZLyMNN3ekAe9QtQ5LwN0u4zg=\n=fbtq\n-----END PGP SIGNATURE-----\n", "payload": "tree 803a1e833a4c2e3d08d84e2e27f5237c0065c9cc\nparent 0bee7cb71634800a4ce66120d9dea63aa52e3f81\nparent d22b830ed156d43e87aef9cfd51d51713b297b6c\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1626954185 +0000\ncommitter GitHub <noreply@github.com> 1626954185 +0000\n\nMerge #9634\n\n9634: minor update to excludeDirs doc r=lnicola a=dae\n\nI saw reference to globs in #7755, but it doesn't look like they're\r\nactually supported, and I had to dig through the source to discover\r\nthat the folders are relative to the workspace root. Further digging\r\nwas required to get VS Code from hanging for long periods trying to\r\nwatch giant Bazel folders that had already been excluded from Rust\r\nAnalyzer. Hopefully this tweak will save others the confusion :-)\n\nCo-authored-by: Damien Elmes <gpg@ankiweb.net>\nCo-authored-by: Damien Elmes <dae@users.noreply.github.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2fbecccc71a7026f2431ed45179e0cdf16e14ea2", "html_url": "https://github.com/rust-lang/rust/commit/2fbecccc71a7026f2431ed45179e0cdf16e14ea2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2fbecccc71a7026f2431ed45179e0cdf16e14ea2/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0bee7cb71634800a4ce66120d9dea63aa52e3f81", "url": "https://api.github.com/repos/rust-lang/rust/commits/0bee7cb71634800a4ce66120d9dea63aa52e3f81", "html_url": "https://github.com/rust-lang/rust/commit/0bee7cb71634800a4ce66120d9dea63aa52e3f81"}, {"sha": "d22b830ed156d43e87aef9cfd51d51713b297b6c", "url": "https://api.github.com/repos/rust-lang/rust/commits/d22b830ed156d43e87aef9cfd51d51713b297b6c", "html_url": "https://github.com/rust-lang/rust/commit/d22b830ed156d43e87aef9cfd51d51713b297b6c"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "eda9d30d1935f7e711ff096237ae7a2554e6c482", "filename": "crates/rust-analyzer/src/config.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2fbecccc71a7026f2431ed45179e0cdf16e14ea2/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2fbecccc71a7026f2431ed45179e0cdf16e14ea2/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs?ref=2fbecccc71a7026f2431ed45179e0cdf16e14ea2", "patch": "@@ -142,7 +142,9 @@ config_data! {\n \n         /// Controls file watching implementation.\n         files_watcher: String = \"\\\"client\\\"\",\n-        /// These directories will be ignored by rust-analyzer.\n+        /// These directories will be ignored by rust-analyzer. They are\n+        /// relative to the workspace root, and globs are not supported. You may\n+        /// also need to add the folders to Code's `files.watcherExclude`.\n         files_excludeDirs: Vec<PathBuf> = \"[]\",\n \n         /// Use semantic tokens for strings."}, {"sha": "675e57386e89e72c1f72284661312628712911d8", "filename": "docs/user/generated_config.adoc", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2fbecccc71a7026f2431ed45179e0cdf16e14ea2/docs%2Fuser%2Fgenerated_config.adoc", "raw_url": "https://github.com/rust-lang/rust/raw/2fbecccc71a7026f2431ed45179e0cdf16e14ea2/docs%2Fuser%2Fgenerated_config.adoc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2Fgenerated_config.adoc?ref=2fbecccc71a7026f2431ed45179e0cdf16e14ea2", "patch": "@@ -204,7 +204,9 @@ Controls file watching implementation.\n [[rust-analyzer.files.excludeDirs]]rust-analyzer.files.excludeDirs (default: `[]`)::\n +\n --\n-These directories will be ignored by rust-analyzer.\n+These directories will be ignored by rust-analyzer. They are\n+relative to the workspace root, and globs are not supported. You may\n+also need to add the folders to Code's `files.watcherExclude`.\n --\n [[rust-analyzer.highlighting.strings]]rust-analyzer.highlighting.strings (default: `true`)::\n +"}, {"sha": "47a64aa71888d00c0aac6fbedb795e18c9dc8665", "filename": "editors/code/package.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2fbecccc71a7026f2431ed45179e0cdf16e14ea2/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/2fbecccc71a7026f2431ed45179e0cdf16e14ea2/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=2fbecccc71a7026f2431ed45179e0cdf16e14ea2", "patch": "@@ -648,7 +648,7 @@\n                     \"type\": \"string\"\n                 },\n                 \"rust-analyzer.files.excludeDirs\": {\n-                    \"markdownDescription\": \"These directories will be ignored by rust-analyzer.\",\n+                    \"markdownDescription\": \"These directories will be ignored by rust-analyzer. They are\\nrelative to the workspace root, and globs are not supported. You may\\nalso need to add the folders to Code's `files.watcherExclude`.\",\n                     \"default\": [],\n                     \"type\": \"array\",\n                     \"items\": {"}]}