{"sha": "5996ae1cfca619145ffb5e041592efdd097e6391", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU5OTZhZTFjZmNhNjE5MTQ1ZmZiNWUwNDE1OTJlZmRkMDk3ZTYzOTE=", "commit": {"author": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2021-02-10T07:15:29Z"}, "committer": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2021-02-10T07:15:29Z"}, "message": "add some test cases", "tree": {"sha": "07b1369d9bf10e6a7f9ee5dfcd1b78360adcfc98", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/07b1369d9bf10e6a7f9ee5dfcd1b78360adcfc98"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5996ae1cfca619145ffb5e041592efdd097e6391", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5996ae1cfca619145ffb5e041592efdd097e6391", "html_url": "https://github.com/rust-lang/rust/commit/5996ae1cfca619145ffb5e041592efdd097e6391", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5996ae1cfca619145ffb5e041592efdd097e6391/comments", "author": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "932cc085e6ac277d58fbb6bebe05252b75d5dc54", "url": "https://api.github.com/repos/rust-lang/rust/commits/932cc085e6ac277d58fbb6bebe05252b75d5dc54", "html_url": "https://github.com/rust-lang/rust/commit/932cc085e6ac277d58fbb6bebe05252b75d5dc54"}], "stats": {"total": 38, "additions": 24, "deletions": 14}, "files": [{"sha": "bf68a7bbbf1d4e1b398b25216a0ee8009cb7dde0", "filename": "tests/ui/bytes_nth.fixed", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5996ae1cfca619145ffb5e041592efdd097e6391/tests%2Fui%2Fbytes_nth.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/5996ae1cfca619145ffb5e041592efdd097e6391/tests%2Fui%2Fbytes_nth.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fbytes_nth.fixed?ref=5996ae1cfca619145ffb5e041592efdd097e6391", "patch": "@@ -1,9 +1,11 @@\n // run-rustfix\n \n+#![allow(clippy::unnecessary_operation)]\n #![warn(clippy::bytes_nth)]\n \n fn main() {\n-    let _ = \"Hello\".as_bytes().get(3);\n-\n-    let _ = String::from(\"Hello\").as_bytes().get(3);\n+    let s = String::from(\"String\");\n+    s.as_bytes().get(3);\n+    &s.as_bytes().get(3);\n+    s[..].as_bytes().get(3);\n }"}, {"sha": "629812cc02cb899961fb384c7d51cb698713a698", "filename": "tests/ui/bytes_nth.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5996ae1cfca619145ffb5e041592efdd097e6391/tests%2Fui%2Fbytes_nth.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5996ae1cfca619145ffb5e041592efdd097e6391/tests%2Fui%2Fbytes_nth.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fbytes_nth.rs?ref=5996ae1cfca619145ffb5e041592efdd097e6391", "patch": "@@ -1,9 +1,11 @@\n // run-rustfix\n \n+#![allow(clippy::unnecessary_operation)]\n #![warn(clippy::bytes_nth)]\n \n fn main() {\n-    let _ = \"Hello\".bytes().nth(3);\n-\n-    let _ = String::from(\"Hello\").bytes().nth(3);\n+    let s = String::from(\"String\");\n+    s.bytes().nth(3);\n+    &s.bytes().nth(3);\n+    s[..].bytes().nth(3);\n }"}, {"sha": "9a5742928cd617da55eadb98ded6f012b9553f3e", "filename": "tests/ui/bytes_nth.stderr", "status": "modified", "additions": 14, "deletions": 8, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/5996ae1cfca619145ffb5e041592efdd097e6391/tests%2Fui%2Fbytes_nth.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5996ae1cfca619145ffb5e041592efdd097e6391/tests%2Fui%2Fbytes_nth.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fbytes_nth.stderr?ref=5996ae1cfca619145ffb5e041592efdd097e6391", "patch": "@@ -1,16 +1,22 @@\n-error: called `.byte().nth()` on a `str`\n-  --> $DIR/bytes_nth.rs:6:13\n+error: called `.byte().nth()` on a `String`\n+  --> $DIR/bytes_nth.rs:8:5\n    |\n-LL |     let _ = \"Hello\".bytes().nth(3);\n-   |             ^^^^^^^^^^^^^^^^^^^^^^ help: try calling `.as_bytes().get()`: `\"Hello\".as_bytes().get(3)`\n+LL |     s.bytes().nth(3);\n+   |     ^^^^^^^^^^^^^^^^ help: try: `s.as_bytes().get(3)`\n    |\n    = note: `-D clippy::bytes-nth` implied by `-D warnings`\n \n error: called `.byte().nth()` on a `String`\n-  --> $DIR/bytes_nth.rs:8:13\n+  --> $DIR/bytes_nth.rs:9:6\n+   |\n+LL |     &s.bytes().nth(3);\n+   |      ^^^^^^^^^^^^^^^^ help: try: `s.as_bytes().get(3)`\n+\n+error: called `.byte().nth()` on a `str`\n+  --> $DIR/bytes_nth.rs:10:5\n    |\n-LL |     let _ = String::from(\"Hello\").bytes().nth(3);\n-   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try calling `.as_bytes().get()`: `String::from(\"Hello\").as_bytes().get(3)`\n+LL |     s[..].bytes().nth(3);\n+   |     ^^^^^^^^^^^^^^^^^^^^ help: try: `s[..].as_bytes().get(3)`\n \n-error: aborting due to 2 previous errors\n+error: aborting due to 3 previous errors\n "}]}