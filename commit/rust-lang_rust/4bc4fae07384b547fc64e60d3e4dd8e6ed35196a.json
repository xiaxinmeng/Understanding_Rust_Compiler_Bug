{"sha": "4bc4fae07384b547fc64e60d3e4dd8e6ed35196a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRiYzRmYWUwNzM4NGI1NDdmYzY0ZTYwZDNlNGRkOGU2ZWQzNTE5NmE=", "commit": {"author": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2019-10-08T10:05:45Z"}, "committer": {"name": "Pietro Albini", "email": "pietro@pietroalbini.org", "date": "2019-10-25T14:08:37Z"}, "message": "ci: cleanup platform detection", "tree": {"sha": "dd4229fb58fd7a3defe1d310e441650a8eced40a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dd4229fb58fd7a3defe1d310e441650a8eced40a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4bc4fae07384b547fc64e60d3e4dd8e6ed35196a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE1JbYPtLJAsc22U9xPgar6Auq8ZwFAl2zAeUACgkQPgar6Auq\n8ZyZbA//diPu595hfeslgFyoa8bQjmNvTFgxDv8FXnR29qmtKzkU4nUIUMZzH4sU\nIOZHeAWSyNM6Ri6sHgXJJVcxG5RaD3Nfxsv4TLOgpzqESV2HY7RNjh3liOTrVms1\nkVjreucmTY2riJEMQwmtFONjDiQli91sEed7NAGuPAOXpXSO7uzoVQcsN4+SIIhw\nxOO8V61PFLLD9cAVAXvf0vAQh30nzZ/JI9HfVWg906CQc89jBTxGJT8Ukh59bZdl\nqOVj2/i5uZy+TVE5iuHQwybcP1GdlbcEwdwE9Uelp/hKIiqZ0lbz4aFoNmmwElUf\n+lMXVxif3NRYGrwJK6RdbK3hj4V7v0WD06KfZ9XE+vKXgCUtTRb5eY0u7YntHP/T\n+soS0sdm0gQuiUpVRfHvmHaBrACJl2YSrFC/DLhNN7Ji+05Vbo8IO2xxVVJ9cdNd\nJpO8XIznPYLFOjsuXGgH1PWhssCJWnKvnerl3o/WGrOtqVaPTxL26dZB+xJ8lt6J\nXtr60t0dJAmLsSlaraKg3jnWABZAKphtajuhIOH2mHb2usLdWwuArekaJBznvvVK\n/J3pvWErk/tygyxgBM8iOPqHYBKyTus9sQKahXh5weJgpd2GtPWmhd3MPy+NzGxw\nNbTcVvjYSXIxUk9jiX+W4ZKiVedaZ4lqn/tAazMtVwrV9FtmKZo=\n=KGDh\n-----END PGP SIGNATURE-----", "payload": "tree dd4229fb58fd7a3defe1d310e441650a8eced40a\nparent 102dc3ddc1f6e671c48358b2c685ae724bcf7844\nauthor Pietro Albini <pietro@pietroalbini.org> 1570529145 +0200\ncommitter Pietro Albini <pietro@pietroalbini.org> 1572012517 +0200\n\nci: cleanup platform detection\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4bc4fae07384b547fc64e60d3e4dd8e6ed35196a", "html_url": "https://github.com/rust-lang/rust/commit/4bc4fae07384b547fc64e60d3e4dd8e6ed35196a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4bc4fae07384b547fc64e60d3e4dd8e6ed35196a/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "102dc3ddc1f6e671c48358b2c685ae724bcf7844", "url": "https://api.github.com/repos/rust-lang/rust/commits/102dc3ddc1f6e671c48358b2c685ae724bcf7844", "html_url": "https://github.com/rust-lang/rust/commit/102dc3ddc1f6e671c48358b2c685ae724bcf7844"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "bce35670c8d46b8fdcba6030086b18db192ad099", "filename": "src/ci/run.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4bc4fae07384b547fc64e60d3e4dd8e6ed35196a/src%2Fci%2Frun.sh", "raw_url": "https://github.com/rust-lang/rust/raw/4bc4fae07384b547fc64e60d3e4dd8e6ed35196a/src%2Fci%2Frun.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Frun.sh?ref=4bc4fae07384b547fc64e60d3e4dd8e6ed35196a", "patch": "@@ -117,7 +117,7 @@ make check-bootstrap\n \n # Display the CPU and memory information. This helps us know why the CI timing\n # is fluctuating.\n-if isOSX; then\n+if isMacOS; then\n     system_profiler SPHardwareDataType || true\n     sysctl hw || true\n     ncpus=$(sysctl -n hw.ncpu)"}, {"sha": "37e45b5639dc9ae538253f27b0d291b6f87c6916", "filename": "src/ci/shared.sh", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/4bc4fae07384b547fc64e60d3e4dd8e6ed35196a/src%2Fci%2Fshared.sh", "raw_url": "https://github.com/rust-lang/rust/raw/4bc4fae07384b547fc64e60d3e4dd8e6ed35196a/src%2Fci%2Fshared.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fshared.sh?ref=4bc4fae07384b547fc64e60d3e4dd8e6ed35196a", "patch": "@@ -30,16 +30,16 @@ function isCI {\n   [ \"$CI\" = \"true\" ] || [ \"$TF_BUILD\" = \"True\" ]\n }\n \n-function isOSX {\n+function isMacOS {\n   [ \"$AGENT_OS\" = \"Darwin\" ]\n }\n \n-function isMacOS {\n-    isOSX\n+function isWindows {\n+  [ \"$AGENT_OS\" = \"Windows_NT\" ]\n }\n \n-function isWindows {\n-    [ \"$AGENT_OS\" = \"Windows_NT\" ]\n+function isLinux {\n+  [ \"$AGENT_OS\" = \"Linux\" ]\n }\n \n function getCIBranch {"}]}