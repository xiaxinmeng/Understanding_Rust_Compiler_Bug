{"sha": "9f39e001df1f665ce4f2bdbc38576f5fcc02f898", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlmMzllMDAxZGYxZjY2NWNlNGYyYmRiYzM4NTc2ZjVmY2MwMmY4OTg=", "commit": {"author": {"name": "Albin Stjerna", "email": "albin.stjerna@gmail.com", "date": "2019-08-06T10:12:36Z"}, "committer": {"name": "Albin Stjerna", "email": "albin.stjerna@gmail.com", "date": "2019-09-04T07:46:44Z"}, "message": "Polonius: Rename `parent` and `var_starts_path`", "tree": {"sha": "6f2ca823e0a5efa6d27835e53f4d8f1a4f8e3d64", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6f2ca823e0a5efa6d27835e53f4d8f1a4f8e3d64"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9f39e001df1f665ce4f2bdbc38576f5fcc02f898", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9f39e001df1f665ce4f2bdbc38576f5fcc02f898", "html_url": "https://github.com/rust-lang/rust/commit/9f39e001df1f665ce4f2bdbc38576f5fcc02f898", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9f39e001df1f665ce4f2bdbc38576f5fcc02f898/comments", "author": null, "committer": null, "parents": [{"sha": "6b09477e91ba7cb6b657b87a51ebd0b127e5ca67", "url": "https://api.github.com/repos/rust-lang/rust/commits/6b09477e91ba7cb6b657b87a51ebd0b127e5ca67", "html_url": "https://github.com/rust-lang/rust/commit/6b09477e91ba7cb6b657b87a51ebd0b127e5ca67"}], "stats": {"total": 11, "additions": 5, "deletions": 6}, "files": [{"sha": "9458b24f07d908cc277a3e1304a7b7da2ab142b1", "filename": "src/librustc_mir/borrow_check/nll/facts.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/9f39e001df1f665ce4f2bdbc38576f5fcc02f898/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ffacts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f39e001df1f665ce4f2bdbc38576f5fcc02f898/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ffacts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Ffacts.rs?ref=9f39e001df1f665ce4f2bdbc38576f5fcc02f898", "patch": "@@ -65,9 +65,8 @@ impl AllFactsExt for AllFacts {\n                 var_drop_used,\n                 var_uses_region,\n                 var_drops_region,\n-                var_maybe_initialized_on_exit,\n-                parent,\n-                var_starts_path,\n+                child,\n+                path_belongs_to_var,\n                 initialized_at,\n                 moved_out_at,\n             ])"}, {"sha": "4c76d14bdbbbbf2773a658fa3bb751c2e3b3e548", "filename": "src/librustc_mir/borrow_check/nll/mod.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9f39e001df1f665ce4f2bdbc38576f5fcc02f898/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9f39e001df1f665ce4f2bdbc38576f5fcc02f898/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fmod.rs?ref=9f39e001df1f665ce4f2bdbc38576f5fcc02f898", "patch": "@@ -73,10 +73,10 @@ pub(in crate::borrow_check) fn replace_regions_in_mir<'cx, 'tcx>(\n // This function populates an AllFacts instance with base facts related to\n // MovePaths and needed for the move analysis.\n fn populate_polonius_move_facts(all_facts: &mut AllFacts, move_data: &MoveData<'_>, location_table: &LocationTable, body: &Body<'_>) {\n-    all_facts.var_starts_path.extend(move_data.rev_lookup.iter_locals_enumerated().map(|(v, &m)| (v, m)));\n+    all_facts.path_belongs_to_var.extend(move_data.rev_lookup.iter_locals_enumerated().map(|(v, &m)| (m, v)));\n \n-    for (idx, move_path) in move_data.move_paths.iter_enumerated() {\n-        all_facts.parent.extend(move_path.parents(&move_data.move_paths).iter().map(|&parent| (parent, idx)));\n+    for (child, move_path) in move_data.move_paths.iter_enumerated() {\n+        all_facts.child.extend(move_path.parents(&move_data.move_paths).iter().map(|&parent| (child, parent)));\n     }\n \n     // initialized_at"}]}