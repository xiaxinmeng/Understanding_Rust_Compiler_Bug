{"sha": "eb9b031232160063e1fb4b3a865607e6dcc95129", "node_id": "C_kwDOAAsO6NoAKGViOWIwMzEyMzIxNjAwNjNlMWZiNGIzYTg2NTYwN2U2ZGNjOTUxMjk", "commit": {"author": {"name": "Joshua Nelson", "email": "github@jyn.dev", "date": "2023-03-05T15:05:59Z"}, "committer": {"name": "Joshua Nelson", "email": "github@jyn.dev", "date": "2023-03-09T03:43:34Z"}, "message": "Don't print all modified files if there's more than 10\n\nThis avoids spam for dozens of modified files.", "tree": {"sha": "e954c133c319c2a8b73dab2ab9052afb43e425d1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e954c133c319c2a8b73dab2ab9052afb43e425d1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eb9b031232160063e1fb4b3a865607e6dcc95129", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eb9b031232160063e1fb4b3a865607e6dcc95129", "html_url": "https://github.com/rust-lang/rust/commit/eb9b031232160063e1fb4b3a865607e6dcc95129", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eb9b031232160063e1fb4b3a865607e6dcc95129/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5423745db8b434fcde54888b35f518f00cce00e4", "url": "https://api.github.com/repos/rust-lang/rust/commits/5423745db8b434fcde54888b35f518f00cce00e4", "html_url": "https://github.com/rust-lang/rust/commit/5423745db8b434fcde54888b35f518f00cce00e4"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "32a5f5b93c60b5b5243d222dd709b77125cbcacd", "filename": "src/bootstrap/format.rs", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/eb9b031232160063e1fb4b3a865607e6dcc95129/src%2Fbootstrap%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb9b031232160063e1fb4b3a865607e6dcc95129/src%2Fbootstrap%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fformat.rs?ref=eb9b031232160063e1fb4b3a865607e6dcc95129", "patch": "@@ -159,8 +159,14 @@ pub fn format(build: &Builder<'_>, check: bool, paths: &[PathBuf]) {\n             if !check && paths.is_empty() {\n                 match get_modified_rs_files(build) {\n                     Ok(Some(files)) => {\n+                        if files.len() <= 10 {\n+                            for file in &files {\n+                                println!(\"formatting modified file {file}\");\n+                            }\n+                        } else {\n+                            println!(\"formatting {} modified files\", files.len());\n+                        }\n                         for file in files {\n-                            println!(\"formatting modified file {file}\");\n                             ignore_fmt.add(&format!(\"/{file}\")).expect(&file);\n                         }\n                     }"}]}