{"sha": "6bc5fe4a88d1c6dce50c7be169f8be5d77d4f7e7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZiYzVmZTRhODhkMWM2ZGNlNTBjN2JlMTY5ZjhiZTVkNzdkNGY3ZTc=", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2021-03-12T19:40:23Z"}, "committer": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2021-03-12T19:41:43Z"}, "message": "inconsistent_struct_constructor: try to make message and lint description a bit clearer", "tree": {"sha": "d19d478408b10a5cc15275dd8c8f4b26435c83ff", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d19d478408b10a5cc15275dd8c8f4b26435c83ff"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6bc5fe4a88d1c6dce50c7be169f8be5d77d4f7e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6bc5fe4a88d1c6dce50c7be169f8be5d77d4f7e7", "html_url": "https://github.com/rust-lang/rust/commit/6bc5fe4a88d1c6dce50c7be169f8be5d77d4f7e7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6bc5fe4a88d1c6dce50c7be169f8be5d77d4f7e7/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6ed6f1e6a1a8f414ba7e6d9b8222e7e5a1686e42", "url": "https://api.github.com/repos/rust-lang/rust/commits/6ed6f1e6a1a8f414ba7e6d9b8222e7e5a1686e42", "html_url": "https://github.com/rust-lang/rust/commit/6ed6f1e6a1a8f414ba7e6d9b8222e7e5a1686e42"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "49c17a121021648fd0912ee489faff1b5cd47d55", "filename": "clippy_lints/src/inconsistent_struct_constructor.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/6bc5fe4a88d1c6dce50c7be169f8be5d77d4f7e7/clippy_lints%2Fsrc%2Finconsistent_struct_constructor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6bc5fe4a88d1c6dce50c7be169f8be5d77d4f7e7/clippy_lints%2Fsrc%2Finconsistent_struct_constructor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finconsistent_struct_constructor.rs?ref=6bc5fe4a88d1c6dce50c7be169f8be5d77d4f7e7", "patch": "@@ -10,8 +10,9 @@ use if_chain::if_chain;\n use crate::utils::{snippet, span_lint_and_sugg};\n \n declare_clippy_lint! {\n-    /// **What it does:** Checks for struct constructors where the order of the field init\n-    /// shorthand in the constructor is inconsistent with the order in the struct definition.\n+    /// **What it does:** Checks for struct constructors where all fields are shorthand and\n+    /// the order of the field init shorthand in the constructor is inconsistent\n+    /// with the order in the struct definition.\n     ///\n     /// **Why is this bad?** Since the order of fields in a constructor doesn't affect the\n     /// resulted instance as the below example indicates,\n@@ -25,11 +26,11 @@ declare_clippy_lint! {\n     /// let x = 1;\n     /// let y = 2;\n     ///\n-    /// // This assertion never fails.\n+    /// // This assertion never fails:\n     /// assert_eq!(Foo { x, y }, Foo { y, x });\n     /// ```\n     ///\n-    /// inconsistent order means nothing and just decreases readability and consistency.\n+    /// inconsistent order can be confusing and decreases readability and consistency.\n     ///\n     /// **Known problems:** None.\n     ///\n@@ -42,6 +43,7 @@ declare_clippy_lint! {\n     /// }\n     /// let x = 1;\n     /// let y = 2;\n+    ///\n     /// Foo { y, x };\n     /// ```\n     ///\n@@ -107,7 +109,7 @@ impl LateLintPass<'_> for InconsistentStructConstructor {\n                     cx,\n                     INCONSISTENT_STRUCT_CONSTRUCTOR,\n                     expr.span,\n-                    \"inconsistent struct constructor\",\n+                    \"struct constructor field order is inconsistent with struct definition field order\",\n                     \"try\",\n                     sugg,\n                     Applicability::MachineApplicable,"}, {"sha": "d021bb19579f4baa6c3d4cd5fa8fd9e58c4f7c1c", "filename": "tests/ui/inconsistent_struct_constructor.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6bc5fe4a88d1c6dce50c7be169f8be5d77d4f7e7/tests%2Fui%2Finconsistent_struct_constructor.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6bc5fe4a88d1c6dce50c7be169f8be5d77d4f7e7/tests%2Fui%2Finconsistent_struct_constructor.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Finconsistent_struct_constructor.stderr?ref=6bc5fe4a88d1c6dce50c7be169f8be5d77d4f7e7", "patch": "@@ -1,12 +1,12 @@\n-error: inconsistent struct constructor\n+error: struct constructor field order is inconsistent with struct definition field order\n   --> $DIR/inconsistent_struct_constructor.rs:25:9\n    |\n LL |         Foo { y, x, z };\n    |         ^^^^^^^^^^^^^^^ help: try: `Foo { x, y, z }`\n    |\n    = note: `-D clippy::inconsistent-struct-constructor` implied by `-D warnings`\n \n-error: inconsistent struct constructor\n+error: struct constructor field order is inconsistent with struct definition field order\n   --> $DIR/inconsistent_struct_constructor.rs:43:9\n    |\n LL | /         Foo {"}]}