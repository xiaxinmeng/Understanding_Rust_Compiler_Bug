{"sha": "58ac85b58e96d43e20f9cd9e00be62769b649927", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU4YWM4NWI1OGU5NmQ0M2UyMGY5Y2Q5ZTAwYmU2Mjc2OWI2NDk5Mjc=", "commit": {"author": {"name": "Caleb Cartwright", "email": "caleb.cartwright@outlook.com", "date": "2021-01-31T22:08:00Z"}, "committer": {"name": "Caleb Cartwright", "email": "calebcartwright@users.noreply.github.com", "date": "2021-02-04T03:05:15Z"}, "message": "deps: bump rustc-ap crates to v701.0.0", "tree": {"sha": "6fd0e5aaddbf61f14b27dde749b15f9e12ab948b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6fd0e5aaddbf61f14b27dde749b15f9e12ab948b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/58ac85b58e96d43e20f9cd9e00be62769b649927", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/58ac85b58e96d43e20f9cd9e00be62769b649927", "html_url": "https://github.com/rust-lang/rust/commit/58ac85b58e96d43e20f9cd9e00be62769b649927", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/58ac85b58e96d43e20f9cd9e00be62769b649927/comments", "author": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "committer": {"login": "calebcartwright", "id": 13042488, "node_id": "MDQ6VXNlcjEzMDQyNDg4", "avatar_url": "https://avatars.githubusercontent.com/u/13042488?v=4", "gravatar_id": "", "url": "https://api.github.com/users/calebcartwright", "html_url": "https://github.com/calebcartwright", "followers_url": "https://api.github.com/users/calebcartwright/followers", "following_url": "https://api.github.com/users/calebcartwright/following{/other_user}", "gists_url": "https://api.github.com/users/calebcartwright/gists{/gist_id}", "starred_url": "https://api.github.com/users/calebcartwright/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/calebcartwright/subscriptions", "organizations_url": "https://api.github.com/users/calebcartwright/orgs", "repos_url": "https://api.github.com/users/calebcartwright/repos", "events_url": "https://api.github.com/users/calebcartwright/events{/privacy}", "received_events_url": "https://api.github.com/users/calebcartwright/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ead937b86329d28de699811245a0252593bef7a1", "url": "https://api.github.com/repos/rust-lang/rust/commits/ead937b86329d28de699811245a0252593bef7a1", "html_url": "https://github.com/rust-lang/rust/commit/ead937b86329d28de699811245a0252593bef7a1"}], "stats": {"total": 110, "additions": 56, "deletions": 54}, "files": [{"sha": "1251dd4e3780f2b1a6111e432849607d62f1c0ae", "filename": "Cargo.lock", "status": "modified", "additions": 41, "deletions": 42, "changes": 83, "blob_url": "https://github.com/rust-lang/rust/blob/58ac85b58e96d43e20f9cd9e00be62769b649927/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/58ac85b58e96d43e20f9cd9e00be62769b649927/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=58ac85b58e96d43e20f9cd9e00be62769b649927", "patch": "@@ -878,18 +878,18 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_arena\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"fb953bea2006184c8f01a6fd3ed51658c73380992a9aefc113e8d32ece6b7516\"\n+checksum = \"3d38617318fc3f9e4af4337d0050fde5b84f9beddccb958848d792d4edde8778\"\n dependencies = [\n  \"smallvec\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_ast\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"94da60fa49b2f60d2539e8823cf2b4d4e61583ba4ee796b8289e12f017d3dc5b\"\n+checksum = \"766e6b4657e76f385df0ee3d8b5e2e9c69ee3f83f04d078c89481a698c8f681b\"\n dependencies = [\n  \"bitflags\",\n  \"rustc-ap-rustc_data_structures\",\n@@ -904,9 +904,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_ast_passes\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3e9f9eaaee223832187a398abe0f9cb8bc4e5cd538322d8f3864aea65239c79e\"\n+checksum = \"3671911e1bcc6eb68d79513e9b7e19c451e809258a7216b31107c69bc62121fd\"\n dependencies = [\n  \"itertools 0.9.0\",\n  \"rustc-ap-rustc_ast\",\n@@ -923,21 +923,20 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_ast_pretty\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"302b43429c62efc43b159b1f8ab94c8b517fb553cbae854c3fcf34e01c36accb\"\n+checksum = \"8626407c0f378925f9b30ab8712caf0ff27576895cb791d96ce0288790e739c5\"\n dependencies = [\n  \"rustc-ap-rustc_ast\",\n  \"rustc-ap-rustc_span\",\n- \"rustc-ap-rustc_target\",\n  \"tracing\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_attr\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"2cbd78cb6f7ca0991478d7f1bc5646b6eca58c37ccbdf70b5d83c490a7c47be7\"\n+checksum = \"1fbd2c005491bc0c95300b5c7d7eed0a1239048018a1f73556ec14e5ebd3053a\"\n dependencies = [\n  \"rustc-ap-rustc_ast\",\n  \"rustc-ap-rustc_ast_pretty\",\n@@ -949,14 +948,13 @@ dependencies = [\n  \"rustc-ap-rustc_serialize\",\n  \"rustc-ap-rustc_session\",\n  \"rustc-ap-rustc_span\",\n- \"version_check\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_data_structures\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7b9ebd359b0f21086a88595a25d92dc7e8e5f7b111e41c52bb6c97e2d95fd0bb\"\n+checksum = \"6ba2102a9d877154fb276581cd67116899be5cef2119991e3c7be1dab514a665\"\n dependencies = [\n  \"arrayvec 0.5.1\",\n  \"bitflags\",\n@@ -985,9 +983,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_errors\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3b810fcac4d738c47d7793afe3e0f2e03d5193c36c698b0fbcebfb64e468c06b\"\n+checksum = \"ebf9bd7d872bd3179eeeebbcd7befed10abda976dcf0db7d3afc74e68ef9d8d0\"\n dependencies = [\n  \"annotate-snippets 0.8.0\",\n  \"atty\",\n@@ -1005,9 +1003,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_expand\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f5b44aadd09c05a42a21a063e9f2241fd3d9c00c3dd6e474e22c3a3e8274c959\"\n+checksum = \"7895c9b0957d5793df4291076b6757fe660787e6cba3a0fa415498e1a31dcced\"\n dependencies = [\n  \"rustc-ap-rustc_ast\",\n  \"rustc-ap-rustc_ast_passes\",\n@@ -1028,31 +1026,31 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_feature\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a2f4121cb9718c8c1c6350a3aaea619fbbae38fb1aadd3d7305586460babb531\"\n+checksum = \"19ac44cfab6d4dc09f93a332556cd65be67be3675179b0583b6df831d7887a77\"\n dependencies = [\n  \"rustc-ap-rustc_data_structures\",\n  \"rustc-ap-rustc_span\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_fs_util\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"fdb0f36e34fafb725795bef3ec6f414cac34e7ca98e6d25927be36d95ae1c6ac\"\n+checksum = \"8a6024b6e161a45c85e12950b939981e8d5235587332e9a703900e719520d8b2\"\n \n [[package]]\n name = \"rustc-ap-rustc_graphviz\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a98402e20e2913016ed54f12aead5c987fe227a0fb31cc720e17ff51c6f32466\"\n+checksum = \"2ebcdd50bf977ce1c9b6f646f50fb8677d87c8fa66796fd3f5cb9c28079515c4\"\n \n [[package]]\n name = \"rustc-ap-rustc_index\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"ec91408d727f73f682cd8ae836d762c8dab0ed4e81994ced03aa1edcee3b99a4\"\n+checksum = \"51286a5d6f25a31a2f258af12ade26e3d9e579b9661e0b153deec988a86dbde8\"\n dependencies = [\n  \"arrayvec 0.5.1\",\n  \"rustc-ap-rustc_macros\",\n@@ -1061,32 +1059,33 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_lexer\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"67adbe260a0a11910624d6d28c0304fcf7b063e666682111005c83b09f73429d\"\n+checksum = \"3601c20fc378d11e965fb1f670cf8bad1ef5164fe4ec8cbb7c57fa9d656f2541\"\n dependencies = [\n  \"unicode-xid\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_lint_defs\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"6bf11d0646da7bd136fbca53834afcc3760fbfc20fa4875e139b3ada41ec53a5\"\n+checksum = \"d92f9f53a0f6976216bc94fd5380686d401852b8792c977ade52a6e9c3b0fcb9\"\n dependencies = [\n  \"rustc-ap-rustc_ast\",\n  \"rustc-ap-rustc_data_structures\",\n  \"rustc-ap-rustc_macros\",\n  \"rustc-ap-rustc_serialize\",\n  \"rustc-ap-rustc_span\",\n+ \"rustc-ap-rustc_target\",\n  \"tracing\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_macros\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"c454b10b66750ffd9bfd7d53b0f30eaba1462356e9ac91f0d037cb0556dc7681\"\n+checksum = \"ff03d3d0e4edadc7beee5ee825b9503741ac021ce9d25999041a0947bb3a28e8\"\n dependencies = [\n  \"proc-macro2\",\n  \"quote\",\n@@ -1096,9 +1095,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_parse\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3d03f423948137a8370a88447382a18015d47a273268e3ead2d0a987c3b14070\"\n+checksum = \"6e98331237f2b6e98bc239d2fc3b2b57e7299199dbd6d4bfaed9c2ef89d6c2ab\"\n dependencies = [\n  \"bitflags\",\n  \"rustc-ap-rustc_ast\",\n@@ -1116,19 +1115,19 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_serialize\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"e7ed5df71bd37d1e179b4bbedf77db76c9e0eb2e03159c58a691adbf29f74682\"\n+checksum = \"277c75e732e238e36e3233da40be3ac865e5e076c2900a3ee3367cf1aceb90a2\"\n dependencies = [\n  \"indexmap\",\n  \"smallvec\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_session\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3e3b92b51fad25a897b23ec98961126aea038abeab8d47989f774f7727016b5e\"\n+checksum = \"ac486189586c396b4c88b744f27e3f88776f1b9d1a6c0d612db56b54df0817d4\"\n dependencies = [\n  \"bitflags\",\n  \"getopts\",\n@@ -1148,9 +1147,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_span\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"d98273206d8a571c780f233f3391ea30e29c5e75ecdc60335ccef346046e1953\"\n+checksum = \"9414e05aeef20a513b9e042c9128772bde4db8cc972d5dc2fa126ca26f548e07\"\n dependencies = [\n  \"cfg-if 0.1.10\",\n  \"md-5\",\n@@ -1168,9 +1167,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_target\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"08ce81fe0130e61112db5f3b2db6b21d407e4b14ae467ab9637f4696cc340ad1\"\n+checksum = \"5f447c83857779edde1b11752e480563cd798e2284e8634864d31982b8e42de6\"\n dependencies = [\n  \"bitflags\",\n  \"rustc-ap-rustc_data_structures\","}, {"sha": "2cb787f15b649aa86f5262f9a23baebc8036d82f", "filename": "Cargo.toml", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/58ac85b58e96d43e20f9cd9e00be62769b649927/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/58ac85b58e96d43e20f9cd9e00be62769b649927/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=58ac85b58e96d43e20f9cd9e00be62769b649927", "patch": "@@ -66,36 +66,36 @@ rustc-workspace-hack = \"1.0.0\"\n \n [dependencies.rustc_ast]\n package = \"rustc-ap-rustc_ast\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n \n [dependencies.rustc_ast_pretty]\n package = \"rustc-ap-rustc_ast_pretty\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n \n [dependencies.rustc_attr]\n package = \"rustc-ap-rustc_attr\"\n version = \"697.0.0\"\n \n [dependencies.rustc_data_structures]\n package = \"rustc-ap-rustc_data_structures\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n \n [dependencies.rustc_errors]\n package = \"rustc-ap-rustc_errors\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n \n [dependencies.rustc_expand]\n package = \"rustc-ap-rustc_expand\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n \n [dependencies.rustc_parse]\n package = \"rustc-ap-rustc_parse\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n \n [dependencies.rustc_session]\n package = \"rustc-ap-rustc_session\"\n-version = \"697.0.0\"\n+version = \"701.0.0\"\n \n [dependencies.rustc_span]\n package = \"rustc-ap-rustc_span\"\n-version = \"697.0.0\"\n+version = \"701.0.0\""}, {"sha": "1abb1cd9e130adc15ca80d082634d086ba8bd7d6", "filename": "src/macros.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/58ac85b58e96d43e20f9cd9e00be62769b649927/src%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/58ac85b58e96d43e20f9cd9e00be62769b649927/src%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmacros.rs?ref=58ac85b58e96d43e20f9cd9e00be62769b649927", "patch": "@@ -16,7 +16,7 @@ use rustc_ast::token::{BinOpToken, DelimToken, Token, TokenKind};\n use rustc_ast::tokenstream::{Cursor, LazyTokenStream, TokenStream, TokenTree};\n use rustc_ast::{ast, ptr};\n use rustc_ast_pretty::pprust;\n-use rustc_parse::parser::Parser;\n+use rustc_parse::parser::{ForceCollect, Parser};\n use rustc_parse::{stream_to_parser, MACRO_ARGUMENTS};\n use rustc_span::{\n     symbol::{self, kw},\n@@ -138,7 +138,7 @@ fn parse_macro_arg<'a, 'b: 'a>(parser: &'a mut Parser<'b>) -> Option<MacroArg> {\n     // `parse_item` returns `Option<ptr::P<ast::Item>>`.\n     parse_macro_arg!(\n         Item,\n-        |parser: &mut rustc_parse::parser::Parser<'b>| parser.parse_item(),\n+        |parser: &mut rustc_parse::parser::Parser<'b>| parser.parse_item(ForceCollect::No),\n         |x: Option<ptr::P<ast::Item>>| x\n     );\n "}, {"sha": "6b70d83ceb9db293df52b3f8d4fbf7a219647f12", "filename": "src/syntux/parser.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/58ac85b58e96d43e20f9cd9e00be62769b649927/src%2Fsyntux%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/58ac85b58e96d43e20f9cd9e00be62769b649927/src%2Fsyntux%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fsyntux%2Fparser.rs?ref=58ac85b58e96d43e20f9cd9e00be62769b649927", "patch": "@@ -4,7 +4,10 @@ use std::path::{Path, PathBuf};\n use rustc_ast::ast;\n use rustc_ast::token::{DelimToken, TokenKind};\n use rustc_errors::Diagnostic;\n-use rustc_parse::{new_parser_from_file, parser::Parser as RawParser};\n+use rustc_parse::{\n+    new_parser_from_file,\n+    parser::{ForceCollect, Parser as RawParser},\n+};\n use rustc_span::{sym, symbol::kw, Span};\n \n use crate::attr::first_attr_value_str_by_name;\n@@ -247,7 +250,7 @@ impl<'a> Parser<'a> {\n             while parser.token != TokenKind::CloseDelim(DelimToken::Brace)\n                 && parser.token.kind != TokenKind::Eof\n             {\n-                let item = match parser.parse_item() {\n+                let item = match parser.parse_item(ForceCollect::No) {\n                     Ok(Some(item_ptr)) => item_ptr.into_inner(),\n                     Ok(None) => continue,\n                     Err(mut err) => {"}]}