{"sha": "600cec1cd819a49f556fa30b0639a2f24e76cf71", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYwMGNlYzFjZDgxOWE0OWY1NTZmYTMwYjA2MzlhMmYyNGU3NmNmNzE=", "commit": {"author": {"name": "Cody P Schafer", "email": "dev@codyps.com", "date": "2014-11-17T18:10:48Z"}, "committer": {"name": "Cody P Schafer", "email": "dev@codyps.com", "date": "2014-11-17T21:41:15Z"}, "message": "mk/rt/jemalloc: pass CFG_GCCISH_CFLAGS inside CC instead of passing CFG_CFLAGS in EXTRA_CFLAGS\n\n - CFG_CFLAGS is gone (it was previously only used by jemalloc anyhow).\n - CFG_JEMALLOC_CFLAGS may contain flags needed for the compiler to\n   function (produce a binary output).\n - jemalloc's configure runs $(CC) without EXTRA_CFLAGS, and (without\n   this change) will fail if any flags are required for CC to work.", "tree": {"sha": "67839bc4c7fa78f86028e8ed5ca0fb76e1ad623c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/67839bc4c7fa78f86028e8ed5ca0fb76e1ad623c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/600cec1cd819a49f556fa30b0639a2f24e76cf71", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/600cec1cd819a49f556fa30b0639a2f24e76cf71", "html_url": "https://github.com/rust-lang/rust/commit/600cec1cd819a49f556fa30b0639a2f24e76cf71", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/600cec1cd819a49f556fa30b0639a2f24e76cf71/comments", "author": {"login": "jmesmon", "id": 103437, "node_id": "MDQ6VXNlcjEwMzQzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/103437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmesmon", "html_url": "https://github.com/jmesmon", "followers_url": "https://api.github.com/users/jmesmon/followers", "following_url": "https://api.github.com/users/jmesmon/following{/other_user}", "gists_url": "https://api.github.com/users/jmesmon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmesmon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmesmon/subscriptions", "organizations_url": "https://api.github.com/users/jmesmon/orgs", "repos_url": "https://api.github.com/users/jmesmon/repos", "events_url": "https://api.github.com/users/jmesmon/events{/privacy}", "received_events_url": "https://api.github.com/users/jmesmon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jmesmon", "id": 103437, "node_id": "MDQ6VXNlcjEwMzQzNw==", "avatar_url": "https://avatars.githubusercontent.com/u/103437?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmesmon", "html_url": "https://github.com/jmesmon", "followers_url": "https://api.github.com/users/jmesmon/followers", "following_url": "https://api.github.com/users/jmesmon/following{/other_user}", "gists_url": "https://api.github.com/users/jmesmon/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmesmon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmesmon/subscriptions", "organizations_url": "https://api.github.com/users/jmesmon/orgs", "repos_url": "https://api.github.com/users/jmesmon/repos", "events_url": "https://api.github.com/users/jmesmon/events{/privacy}", "received_events_url": "https://api.github.com/users/jmesmon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "61e53c94f26af678205fdf8b3fda1e466998a689", "url": "https://api.github.com/repos/rust-lang/rust/commits/61e53c94f26af678205fdf8b3fda1e466998a689", "html_url": "https://github.com/rust-lang/rust/commit/61e53c94f26af678205fdf8b3fda1e466998a689"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "a7d6a6e825fbcbecce194926fec3c4960a111d01", "filename": "mk/rt.mk", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/600cec1cd819a49f556fa30b0639a2f24e76cf71/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/600cec1cd819a49f556fa30b0639a2f24e76cf71/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=600cec1cd819a49f556fa30b0639a2f24e76cf71", "patch": "@@ -177,11 +177,11 @@ $$(JEMALLOC_LOCAL_$(1)): $$(JEMALLOC_DEPS) $$(MKFILE_DEPS)\n \tcd \"$$(JEMALLOC_BUILD_DIR_$(1))\"; \"$(S)src/jemalloc/configure\" \\\n \t\t$$(JEMALLOC_ARGS_$(1)) --with-jemalloc-prefix=je_ $(CFG_JEMALLOC_FLAGS) \\\n \t\t--build=$$(CFG_GNU_TRIPLE_$(CFG_BUILD)) --host=$$(CFG_GNU_TRIPLE_$(1)) \\\n-\t\tCC=\"$$(CC_$(1))\" \\\n+\t\tCC=\"$$(CC_$(1)) $$(CFG_JEMALLOC_CFLAGS_$(1))\" \\\n \t\tAR=\"$$(AR_$(1))\" \\\n \t\tRANLIB=\"$$(AR_$(1)) s\" \\\n \t\tCPPFLAGS=\"-I $(S)src/rt/\" \\\n-\t\tEXTRA_CFLAGS=\"$$(CFG_CFLAGS_$(1)) $$(CFG_JEMALLOC_CFLAGS_$(1)) -g1\"\n+\t\tEXTRA_CFLAGS=\"-g1\"\n \t$$(Q)$$(MAKE) -C \"$$(JEMALLOC_BUILD_DIR_$(1))\" build_lib_static\n \n ifeq ($$(CFG_DISABLE_JEMALLOC),)"}]}