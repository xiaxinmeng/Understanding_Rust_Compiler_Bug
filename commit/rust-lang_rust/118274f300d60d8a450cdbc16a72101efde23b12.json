{"sha": "118274f300d60d8a450cdbc16a72101efde23b12", "node_id": "MDY6Q29tbWl0NzI0NzEyOjExODI3NGYzMDBkNjBkOGE0NTBjZGJjMTZhNzIxMDFlZmRlMjNiMTI=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-06-13T06:43:35Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-06-13T06:43:35Z"}, "message": "README: mention to cargo update, mention rustup-toolchain-install-master", "tree": {"sha": "8100d8b424dac24d59ec8e7532d5717340a100a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8100d8b424dac24d59ec8e7532d5717340a100a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/118274f300d60d8a450cdbc16a72101efde23b12", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/118274f300d60d8a450cdbc16a72101efde23b12", "html_url": "https://github.com/rust-lang/rust/commit/118274f300d60d8a450cdbc16a72101efde23b12", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/118274f300d60d8a450cdbc16a72101efde23b12/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b597eabbc41789b19f2f20c38352ef61d1844799", "url": "https://api.github.com/repos/rust-lang/rust/commits/b597eabbc41789b19f2f20c38352ef61d1844799", "html_url": "https://github.com/rust-lang/rust/commit/b597eabbc41789b19f2f20c38352ef61d1844799"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "82fe738e03100553cd48ffe0fdc3f5dd0d8b8fe2", "filename": "README.md", "status": "modified", "additions": 16, "deletions": 2, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/118274f300d60d8a450cdbc16a72101efde23b12/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/118274f300d60d8a450cdbc16a72101efde23b12/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=118274f300d60d8a450cdbc16a72101efde23b12", "patch": "@@ -55,7 +55,11 @@ Install Miri via `rustup`:\n rustup component add miri\n ```\n \n-If `rustup` says the `miri` component is unavailable, that's because not all nightly releases come with all tools. Check out [this website](https://rust-lang.github.io/rustup-components-history) to determine a nightly version that comes with Miri and install that, e.g. using `rustup install nightly-2019-03-28`.\n+If `rustup` says the `miri` component is unavailable, that's because not all\n+nightly releases come with all tools. Check out\n+[this website](https://rust-lang.github.io/rustup-components-history) to\n+determine a nightly version that comes with Miri and install that, e.g. using\n+`rustup install nightly-2019-03-28`.\n \n Now you can run your project in Miri:\n \n@@ -131,7 +135,17 @@ able to just `cargo build` Miri.\n In case this fails, your nightly might be incompatible with Miri master.  The\n `rust-version` file contains the commit hash of rustc that Miri is currently\n tested against; you can use that to find a nightly that works or you might have\n-to wait for the next nightly to get released.\n+to wait for the next nightly to get released. You can also use\n+[`rustup-toolchain-install-master`](https://github.com/kennytm/rustup-toolchain-install-master)\n+to install that exact version of rustc as a toolchain:\n+```\n+rustup-toolchain-install-master $(cat rust-version) -c rust-src\n+```\n+\n+Another common problem is outdated dependencies: Miri does not come with a\n+lockfile (it cannot, due to how it gets embedded into the rustc build). So you\n+have to run `cargo update` every now and then yourself to make sure you are\n+using the latest versions of everything (which is what gets tested on CI).\n \n ### Testing the Miri driver\n [testing-miri]: #testing-the-miri-driver"}]}