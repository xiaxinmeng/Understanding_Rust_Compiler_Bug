{"sha": "f37e202b53d208cd65f45fa96d2f2453b26bb9ee", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYzN2UyMDJiNTNkMjA4Y2Q2NWY0NWZhOTZkMmYyNDUzYjI2YmI5ZWU=", "commit": {"author": {"name": "Mike Boutin", "email": "mike.boutin@gmail.com", "date": "2014-07-04T21:25:27Z"}, "committer": {"name": "Mike Boutin", "email": "mike.boutin@gmail.com", "date": "2014-07-04T21:28:04Z"}, "message": "rustc: Reorder error and note message to reduce confusion.\n\nMoved note after error to reduce confusion when the pair appears in the\nmiddle of other errors. Closes #13279.", "tree": {"sha": "aee971551701b07aabdd80cff840eae1e5a9bede", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/aee971551701b07aabdd80cff840eae1e5a9bede"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f37e202b53d208cd65f45fa96d2f2453b26bb9ee", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f37e202b53d208cd65f45fa96d2f2453b26bb9ee", "html_url": "https://github.com/rust-lang/rust/commit/f37e202b53d208cd65f45fa96d2f2453b26bb9ee", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f37e202b53d208cd65f45fa96d2f2453b26bb9ee/comments", "author": {"login": "iliekturtles", "id": 5081378, "node_id": "MDQ6VXNlcjUwODEzNzg=", "avatar_url": "https://avatars.githubusercontent.com/u/5081378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliekturtles", "html_url": "https://github.com/iliekturtles", "followers_url": "https://api.github.com/users/iliekturtles/followers", "following_url": "https://api.github.com/users/iliekturtles/following{/other_user}", "gists_url": "https://api.github.com/users/iliekturtles/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliekturtles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliekturtles/subscriptions", "organizations_url": "https://api.github.com/users/iliekturtles/orgs", "repos_url": "https://api.github.com/users/iliekturtles/repos", "events_url": "https://api.github.com/users/iliekturtles/events{/privacy}", "received_events_url": "https://api.github.com/users/iliekturtles/received_events", "type": "User", "site_admin": false}, "committer": {"login": "iliekturtles", "id": 5081378, "node_id": "MDQ6VXNlcjUwODEzNzg=", "avatar_url": "https://avatars.githubusercontent.com/u/5081378?v=4", "gravatar_id": "", "url": "https://api.github.com/users/iliekturtles", "html_url": "https://github.com/iliekturtles", "followers_url": "https://api.github.com/users/iliekturtles/followers", "following_url": "https://api.github.com/users/iliekturtles/following{/other_user}", "gists_url": "https://api.github.com/users/iliekturtles/gists{/gist_id}", "starred_url": "https://api.github.com/users/iliekturtles/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/iliekturtles/subscriptions", "organizations_url": "https://api.github.com/users/iliekturtles/orgs", "repos_url": "https://api.github.com/users/iliekturtles/repos", "events_url": "https://api.github.com/users/iliekturtles/events{/privacy}", "received_events_url": "https://api.github.com/users/iliekturtles/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "935da0739e71c5581e5e6abb564e18f894e0ec04", "url": "https://api.github.com/repos/rust-lang/rust/commits/935da0739e71c5581e5e6abb564e18f894e0ec04", "html_url": "https://github.com/rust-lang/rust/commit/935da0739e71c5581e5e6abb564e18f894e0ec04"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "ab480745b689a05630ddd35e7f68423b8ed51ec9", "filename": "src/doc/guide.md", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f37e202b53d208cd65f45fa96d2f2453b26bb9ee/src%2Fdoc%2Fguide.md", "raw_url": "https://github.com/rust-lang/rust/raw/f37e202b53d208cd65f45fa96d2f2453b26bb9ee/src%2Fdoc%2Fguide.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fguide.md?ref=f37e202b53d208cd65f45fa96d2f2453b26bb9ee", "patch": "@@ -895,13 +895,14 @@ fn add_one(x: int) -> int {\n We would get an error:\n \n ```{ignore,notrust}\n-note: consider removing this semicolon:\n-     x + 1;\n-          ^\n error: not all control paths return a value\n fn add_one(x: int) -> int {\n      x + 1;\n }\n+\n+note: consider removing this semicolon:\n+     x + 1;\n+          ^\n ```\n \n Remember our earlier discussions about semicolons and `()`? Our function claims"}, {"sha": "a33062457629b3bc97b5e4bce227022be0713313", "filename": "src/librustc/middle/liveness.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f37e202b53d208cd65f45fa96d2f2453b26bb9ee/src%2Flibrustc%2Fmiddle%2Fliveness.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f37e202b53d208cd65f45fa96d2f2453b26bb9ee/src%2Flibrustc%2Fmiddle%2Fliveness.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fliveness.rs?ref=f37e202b53d208cd65f45fa96d2f2453b26bb9ee", "patch": "@@ -1458,6 +1458,8 @@ impl<'a> Liveness<'a> {\n                         },\n                     _ => false\n                 };\n+                self.ir.tcx.sess.span_err(\n+                    sp, \"not all control paths return a value\");\n                 if ends_with_stmt {\n                     let last_stmt = body.stmts.last().unwrap();\n                     let original_span = original_sp(last_stmt.span, sp);\n@@ -1469,8 +1471,6 @@ impl<'a> Liveness<'a> {\n                     self.ir.tcx.sess.span_note(\n                         span_semicolon, \"consider removing this semicolon:\");\n                 }\n-                self.ir.tcx.sess.span_err(\n-                    sp, \"not all control paths return a value\");\n            }\n         }\n     }"}]}