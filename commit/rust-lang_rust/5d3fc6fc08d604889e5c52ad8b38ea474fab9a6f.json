{"sha": "5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVkM2ZjNmZjMDhkNjA0ODg5ZTVjNTJhZDhiMzhlYTQ3NGZhYjlhNmY=", "commit": {"author": {"name": "Cameron Steffen", "email": "cam.steffen94@gmail.com", "date": "2021-09-08T13:19:14Z"}, "committer": {"name": "Cameron Steffen", "email": "cam.steffen94@gmail.com", "date": "2021-09-08T13:21:06Z"}, "message": "Deny warnings in test modules", "tree": {"sha": "bdc55a6118485eb026aa107a565cb6747d2a1150", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bdc55a6118485eb026aa107a565cb6747d2a1150"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f", "html_url": "https://github.com/rust-lang/rust/commit/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/comments", "author": {"login": "camsteffen", "id": 5565418, "node_id": "MDQ6VXNlcjU1NjU0MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5565418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camsteffen", "html_url": "https://github.com/camsteffen", "followers_url": "https://api.github.com/users/camsteffen/followers", "following_url": "https://api.github.com/users/camsteffen/following{/other_user}", "gists_url": "https://api.github.com/users/camsteffen/gists{/gist_id}", "starred_url": "https://api.github.com/users/camsteffen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camsteffen/subscriptions", "organizations_url": "https://api.github.com/users/camsteffen/orgs", "repos_url": "https://api.github.com/users/camsteffen/repos", "events_url": "https://api.github.com/users/camsteffen/events{/privacy}", "received_events_url": "https://api.github.com/users/camsteffen/received_events", "type": "User", "site_admin": false}, "committer": {"login": "camsteffen", "id": 5565418, "node_id": "MDQ6VXNlcjU1NjU0MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/5565418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/camsteffen", "html_url": "https://github.com/camsteffen", "followers_url": "https://api.github.com/users/camsteffen/followers", "following_url": "https://api.github.com/users/camsteffen/following{/other_user}", "gists_url": "https://api.github.com/users/camsteffen/gists{/gist_id}", "starred_url": "https://api.github.com/users/camsteffen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/camsteffen/subscriptions", "organizations_url": "https://api.github.com/users/camsteffen/orgs", "repos_url": "https://api.github.com/users/camsteffen/repos", "events_url": "https://api.github.com/users/camsteffen/events{/privacy}", "received_events_url": "https://api.github.com/users/camsteffen/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8c05a15f0a5b541a5eb29f88f2d6dffa5888a2ce", "url": "https://api.github.com/repos/rust-lang/rust/commits/8c05a15f0a5b541a5eb29f88f2d6dffa5888a2ce", "html_url": "https://github.com/rust-lang/rust/commit/8c05a15f0a5b541a5eb29f88f2d6dffa5888a2ce"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "c63c47690d52ad9e9027ecfa6058217e09eae70f", "filename": "tests/compile-test.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Fcompile-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Fcompile-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-test.rs?ref=5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f", "patch": "@@ -1,5 +1,7 @@\n #![feature(test)] // compiletest_rs requires this attribute\n #![feature(once_cell)]\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+#![warn(rust_2018_idioms, unused_lifetimes)]\n \n use compiletest_rs as compiletest;\n use compiletest_rs::common::Mode as TestMode;\n@@ -31,11 +33,17 @@ static TEST_DEPENDENCIES: &[&str] = &[\n \n // Test dependencies may need an `extern crate` here to ensure that they show up\n // in the depinfo file (otherwise cargo thinks they are unused)\n+#[allow(unused_extern_crates)]\n extern crate clippy_utils;\n+#[allow(unused_extern_crates)]\n extern crate derive_new;\n+#[allow(unused_extern_crates)]\n extern crate if_chain;\n+#[allow(unused_extern_crates)]\n extern crate itertools;\n+#[allow(unused_extern_crates)]\n extern crate quote;\n+#[allow(unused_extern_crates)]\n extern crate syn;\n \n fn host_lib() -> PathBuf {"}, {"sha": "54f452172deb4a3f727e3a586fbd8f3266c45efe", "filename": "tests/dogfood.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Fdogfood.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Fdogfood.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fdogfood.rs?ref=5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f", "patch": "@@ -6,6 +6,8 @@\n // Dogfood cannot run on Windows\n #![cfg(not(windows))]\n #![feature(once_cell)]\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+#![warn(rust_2018_idioms, unused_lifetimes)]\n \n use std::lazy::SyncLazy;\n use std::path::PathBuf;"}, {"sha": "be42f1fbb2023b4bb5bd8d4e2937be64cafa6f80", "filename": "tests/fmt.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Ffmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Ffmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffmt.rs?ref=5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f", "patch": "@@ -1,3 +1,6 @@\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+#![warn(rust_2018_idioms, unused_lifetimes)]\n+\n use std::path::PathBuf;\n use std::process::Command;\n "}, {"sha": "7e3eff3c7324fc3b4f31b1d4443b576e3cd41883", "filename": "tests/integration.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Fintegration.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Fintegration.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fintegration.rs?ref=5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f", "patch": "@@ -1,4 +1,6 @@\n #![cfg(feature = \"integration\")]\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+#![warn(rust_2018_idioms, unused_lifetimes)]\n \n use std::env;\n use std::ffi::OsStr;"}, {"sha": "b4d94dc983fec11fecc2efc20e8dbf006193ae07", "filename": "tests/lint_message_convention.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Flint_message_convention.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Flint_message_convention.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Flint_message_convention.rs?ref=5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f", "patch": "@@ -1,3 +1,6 @@\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+#![warn(rust_2018_idioms, unused_lifetimes)]\n+\n use std::ffi::OsStr;\n use std::path::PathBuf;\n "}, {"sha": "bd342e390f52f3d065bdef329f2c082ed3f322c7", "filename": "tests/missing-test-files.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Fmissing-test-files.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Fmissing-test-files.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fmissing-test-files.rs?ref=5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f", "patch": "@@ -1,3 +1,5 @@\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+#![warn(rust_2018_idioms, unused_lifetimes)]\n #![allow(clippy::assertions_on_constants)]\n \n use std::fs::{self, DirEntry};"}, {"sha": "77102b8cac0c977e9621dc9bcc1bf1c6bcb5c11d", "filename": "tests/versioncheck.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Fversioncheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f/tests%2Fversioncheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fversioncheck.rs?ref=5d3fc6fc08d604889e5c52ad8b38ea474fab9a6f", "patch": "@@ -1,4 +1,7 @@\n+#![cfg_attr(feature = \"deny-warnings\", deny(warnings))]\n+#![warn(rust_2018_idioms, unused_lifetimes)]\n #![allow(clippy::single_match_else)]\n+\n use rustc_tools_util::VersionInfo;\n \n #[test]"}]}