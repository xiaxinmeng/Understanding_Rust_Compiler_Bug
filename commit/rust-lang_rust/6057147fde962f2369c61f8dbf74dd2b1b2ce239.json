{"sha": "6057147fde962f2369c61f8dbf74dd2b1b2ce239", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYwNTcxNDdmZGU5NjJmMjM2OWM2MWY4ZGJmNzRkZDJiMWIyY2UyMzk=", "commit": {"author": {"name": "Daniel Silverstone", "email": "dsilvers@digital-scurf.org", "date": "2018-12-12T14:20:49Z"}, "committer": {"name": "Daniel Silverstone", "email": "dsilvers@digital-scurf.org", "date": "2018-12-13T23:07:04Z"}, "message": "Update panic message to be clearer about env-vars\n\nEsteban Kuber requested that the panic message make it clear\nthat `RUST_BACKTRACE=1` is an environment variable.  This change\nmakes that clear.  Wording provided in part by David Tolnay.", "tree": {"sha": "c3d790f50edd629f3ae5e6e0223f7338d70449a1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c3d790f50edd629f3ae5e6e0223f7338d70449a1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6057147fde962f2369c61f8dbf74dd2b1b2ce239", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6057147fde962f2369c61f8dbf74dd2b1b2ce239", "html_url": "https://github.com/rust-lang/rust/commit/6057147fde962f2369c61f8dbf74dd2b1b2ce239", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6057147fde962f2369c61f8dbf74dd2b1b2ce239/comments", "author": {"login": "kinnison", "id": 1469421, "node_id": "MDQ6VXNlcjE0Njk0MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1469421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinnison", "html_url": "https://github.com/kinnison", "followers_url": "https://api.github.com/users/kinnison/followers", "following_url": "https://api.github.com/users/kinnison/following{/other_user}", "gists_url": "https://api.github.com/users/kinnison/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinnison/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinnison/subscriptions", "organizations_url": "https://api.github.com/users/kinnison/orgs", "repos_url": "https://api.github.com/users/kinnison/repos", "events_url": "https://api.github.com/users/kinnison/events{/privacy}", "received_events_url": "https://api.github.com/users/kinnison/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kinnison", "id": 1469421, "node_id": "MDQ6VXNlcjE0Njk0MjE=", "avatar_url": "https://avatars.githubusercontent.com/u/1469421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kinnison", "html_url": "https://github.com/kinnison", "followers_url": "https://api.github.com/users/kinnison/followers", "following_url": "https://api.github.com/users/kinnison/following{/other_user}", "gists_url": "https://api.github.com/users/kinnison/gists{/gist_id}", "starred_url": "https://api.github.com/users/kinnison/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kinnison/subscriptions", "organizations_url": "https://api.github.com/users/kinnison/orgs", "repos_url": "https://api.github.com/users/kinnison/repos", "events_url": "https://api.github.com/users/kinnison/events{/privacy}", "received_events_url": "https://api.github.com/users/kinnison/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3499575282b5cda1e98220baae4f6c87e1863926", "url": "https://api.github.com/repos/rust-lang/rust/commits/3499575282b5cda1e98220baae4f6c87e1863926", "html_url": "https://github.com/rust-lang/rust/commit/3499575282b5cda1e98220baae4f6c87e1863926"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "b6180fbeb506850e6554bf8f1b8d35148516c0a7", "filename": "src/libstd/panicking.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6057147fde962f2369c61f8dbf74dd2b1b2ce239/src%2Flibstd%2Fpanicking.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6057147fde962f2369c61f8dbf74dd2b1b2ce239/src%2Flibstd%2Fpanicking.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpanicking.rs?ref=6057147fde962f2369c61f8dbf74dd2b1b2ce239", "patch": "@@ -209,7 +209,8 @@ fn default_hook(info: &PanicInfo) {\n             if let Some(format) = log_backtrace {\n                 let _ = backtrace::print(err, format);\n             } else if FIRST_PANIC.compare_and_swap(true, false, Ordering::SeqCst) {\n-                let _ = writeln!(err, \"note: Run with `RUST_BACKTRACE=1` for a backtrace.\");\n+                let _ = writeln!(err, \"note: Run with `RUST_BACKTRACE=1` \\\n+                                       environment variable to display a backtrace.\");\n             }\n         }\n     };"}, {"sha": "2b831ea2bdca4e2d9cdfe945da0c5e507a3f6f5c", "filename": "src/test/run-make-fulldeps/libtest-json/output.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6057147fde962f2369c61f8dbf74dd2b1b2ce239/src%2Ftest%2Frun-make-fulldeps%2Flibtest-json%2Foutput.json", "raw_url": "https://github.com/rust-lang/rust/raw/6057147fde962f2369c61f8dbf74dd2b1b2ce239/src%2Ftest%2Frun-make-fulldeps%2Flibtest-json%2Foutput.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Flibtest-json%2Foutput.json?ref=6057147fde962f2369c61f8dbf74dd2b1b2ce239", "patch": "@@ -2,7 +2,7 @@\n { \"type\": \"test\", \"event\": \"started\", \"name\": \"a\" }\n { \"type\": \"test\", \"name\": \"a\", \"event\": \"ok\" }\n { \"type\": \"test\", \"event\": \"started\", \"name\": \"b\" }\n-{ \"type\": \"test\", \"name\": \"b\", \"event\": \"failed\", \"stdout\": \"thread 'main' panicked at 'assertion failed: false', f.rs:18:5\\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\\n\" }\n+{ \"type\": \"test\", \"name\": \"b\", \"event\": \"failed\", \"stdout\": \"thread 'main' panicked at 'assertion failed: false', f.rs:18:5\\nnote: Run with `RUST_BACKTRACE=1` environment variable to display a backtrace.\\n\" }\n { \"type\": \"test\", \"event\": \"started\", \"name\": \"c\" }\n { \"type\": \"test\", \"name\": \"c\", \"event\": \"ok\" }\n { \"type\": \"test\", \"event\": \"started\", \"name\": \"d\" }"}, {"sha": "03e58fc2387c74493a323eadb170c1424fe9d00e", "filename": "src/test/run-pass/multi-panic.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6057147fde962f2369c61f8dbf74dd2b1b2ce239/src%2Ftest%2Frun-pass%2Fmulti-panic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6057147fde962f2369c61f8dbf74dd2b1b2ce239/src%2Ftest%2Frun-pass%2Fmulti-panic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmulti-panic.rs?ref=6057147fde962f2369c61f8dbf74dd2b1b2ce239", "patch": "@@ -17,7 +17,8 @@ fn check_for_no_backtrace(test: std::process::Output) {\n     let mut it = err.lines();\n \n     assert_eq!(it.next().map(|l| l.starts_with(\"thread '<unnamed>' panicked at\")), Some(true));\n-    assert_eq!(it.next(), Some(\"note: Run with `RUST_BACKTRACE=1` for a backtrace.\"));\n+    assert_eq!(it.next(), Some(\"note: Run with `RUST_BACKTRACE=1` \\\n+                                environment variable to display a backtrace.\"));\n     assert_eq!(it.next().map(|l| l.starts_with(\"thread 'main' panicked at\")), Some(true));\n     assert_eq!(it.next(), None);\n }"}, {"sha": "bd6fa1f84b468b5899ab6d78936f865d538f3c51", "filename": "src/test/rustdoc-ui/failed-doctest-output.stdout", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6057147fde962f2369c61f8dbf74dd2b1b2ce239/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-output.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/6057147fde962f2369c61f8dbf74dd2b1b2ce239/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-output.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-ui%2Ffailed-doctest-output.stdout?ref=6057147fde962f2369c61f8dbf74dd2b1b2ce239", "patch": "@@ -13,13 +13,13 @@ error[E0425]: cannot find value `no` in this scope\n   | ^^ not found in this scope\n \n thread '$DIR/failed-doctest-output.rs - OtherStruct (line 27)' panicked at 'couldn't compile the test', src/librustdoc/test.rs:326:13\n-note: Run with `RUST_BACKTRACE=1` for a backtrace.\n+note: Run with `RUST_BACKTRACE=1` environment variable to display a backtrace.\n \n ---- $DIR/failed-doctest-output.rs - SomeStruct (line 21) stdout ----\n thread '$DIR/failed-doctest-output.rs - SomeStruct (line 21)' panicked at 'test executable failed:\n \n thread 'main' panicked at 'oh no', $DIR/failed-doctest-output.rs:3:1\n-note: Run with `RUST_BACKTRACE=1` for a backtrace.\n+note: Run with `RUST_BACKTRACE=1` environment variable to display a backtrace.\n \n ', src/librustdoc/test.rs:361:17\n "}]}