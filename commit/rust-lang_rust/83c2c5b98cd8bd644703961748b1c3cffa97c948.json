{"sha": "83c2c5b98cd8bd644703961748b1c3cffa97c948", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgzYzJjNWI5OGNkOGJkNjQ0NzAzOTYxNzQ4YjFjM2NmZmE5N2M5NDg=", "commit": {"author": {"name": "Amanieu d'Antras", "email": "amanieu@gmail.com", "date": "2021-04-11T14:11:02Z"}, "committer": {"name": "Amanieu d'Antras", "email": "amanieu@gmail.com", "date": "2021-04-11T14:11:02Z"}, "message": "Add test to allow bad_asm_style", "tree": {"sha": "d6f10a41741eac5bf75d9b33187466618ffd6dcf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d6f10a41741eac5bf75d9b33187466618ffd6dcf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/83c2c5b98cd8bd644703961748b1c3cffa97c948", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/83c2c5b98cd8bd644703961748b1c3cffa97c948", "html_url": "https://github.com/rust-lang/rust/commit/83c2c5b98cd8bd644703961748b1c3cffa97c948", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/83c2c5b98cd8bd644703961748b1c3cffa97c948/comments", "author": {"login": "Amanieu", "id": 278509, "node_id": "MDQ6VXNlcjI3ODUwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Amanieu", "html_url": "https://github.com/Amanieu", "followers_url": "https://api.github.com/users/Amanieu/followers", "following_url": "https://api.github.com/users/Amanieu/following{/other_user}", "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions", "organizations_url": "https://api.github.com/users/Amanieu/orgs", "repos_url": "https://api.github.com/users/Amanieu/repos", "events_url": "https://api.github.com/users/Amanieu/events{/privacy}", "received_events_url": "https://api.github.com/users/Amanieu/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Amanieu", "id": 278509, "node_id": "MDQ6VXNlcjI3ODUwOQ==", "avatar_url": "https://avatars.githubusercontent.com/u/278509?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Amanieu", "html_url": "https://github.com/Amanieu", "followers_url": "https://api.github.com/users/Amanieu/followers", "following_url": "https://api.github.com/users/Amanieu/following{/other_user}", "gists_url": "https://api.github.com/users/Amanieu/gists{/gist_id}", "starred_url": "https://api.github.com/users/Amanieu/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Amanieu/subscriptions", "organizations_url": "https://api.github.com/users/Amanieu/orgs", "repos_url": "https://api.github.com/users/Amanieu/repos", "events_url": "https://api.github.com/users/Amanieu/events{/privacy}", "received_events_url": "https://api.github.com/users/Amanieu/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e9d3085cb6d60aaffbecfb0404bd94938ab0772f", "url": "https://api.github.com/repos/rust-lang/rust/commits/e9d3085cb6d60aaffbecfb0404bd94938ab0772f", "html_url": "https://github.com/rust-lang/rust/commit/e9d3085cb6d60aaffbecfb0404bd94938ab0772f"}], "stats": {"total": 27, "additions": 15, "deletions": 12}, "files": [{"sha": "bcae1d565f136790d0c004776b9542c3d2bf5356", "filename": "src/test/ui/asm/inline-syntax.arm.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/83c2c5b98cd8bd644703961748b1c3cffa97c948/src%2Ftest%2Fui%2Fasm%2Finline-syntax.arm.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/83c2c5b98cd8bd644703961748b1c3cffa97c948/src%2Ftest%2Fui%2Fasm%2Finline-syntax.arm.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasm%2Finline-syntax.arm.stderr?ref=83c2c5b98cd8bd644703961748b1c3cffa97c948", "patch": "@@ -1,5 +1,5 @@\n error: unknown directive\n-  --> $DIR/inline-syntax.rs:22:15\n+  --> $DIR/inline-syntax.rs:25:15\n    |\n LL |         asm!(\".intel_syntax noprefix\", \"nop\");\n    |               ^\n@@ -11,7 +11,7 @@ LL |     .intel_syntax noprefix\n    |     ^\n \n error: unknown directive\n-  --> $DIR/inline-syntax.rs:25:15\n+  --> $DIR/inline-syntax.rs:28:15\n    |\n LL |         asm!(\".intel_syntax aaa noprefix\", \"nop\");\n    |               ^\n@@ -23,7 +23,7 @@ LL |     .intel_syntax aaa noprefix\n    |     ^\n \n error: unknown directive\n-  --> $DIR/inline-syntax.rs:28:15\n+  --> $DIR/inline-syntax.rs:31:15\n    |\n LL |         asm!(\".att_syntax noprefix\", \"nop\");\n    |               ^\n@@ -35,7 +35,7 @@ LL |     .att_syntax noprefix\n    |     ^\n \n error: unknown directive\n-  --> $DIR/inline-syntax.rs:31:15\n+  --> $DIR/inline-syntax.rs:34:15\n    |\n LL |         asm!(\".att_syntax bbb noprefix\", \"nop\");\n    |               ^\n@@ -47,7 +47,7 @@ LL |     .att_syntax bbb noprefix\n    |     ^\n \n error: unknown directive\n-  --> $DIR/inline-syntax.rs:34:15\n+  --> $DIR/inline-syntax.rs:37:15\n    |\n LL |         asm!(\".intel_syntax noprefix; nop\");\n    |               ^\n@@ -59,7 +59,7 @@ LL |     .intel_syntax noprefix; nop\n    |     ^\n \n error: unknown directive\n-  --> $DIR/inline-syntax.rs:40:13\n+  --> $DIR/inline-syntax.rs:43:13\n    |\n LL |             .intel_syntax noprefix\n    |             ^"}, {"sha": "13ded19cfea915e5c6181315e932df4126017c1b", "filename": "src/test/ui/asm/inline-syntax.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/83c2c5b98cd8bd644703961748b1c3cffa97c948/src%2Ftest%2Fui%2Fasm%2Finline-syntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83c2c5b98cd8bd644703961748b1c3cffa97c948/src%2Ftest%2Fui%2Fasm%2Finline-syntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasm%2Finline-syntax.rs?ref=83c2c5b98cd8bd644703961748b1c3cffa97c948", "patch": "@@ -2,12 +2,15 @@\n // revisions: x86_64 arm\n //[x86_64] compile-flags: --target x86_64-unknown-linux-gnu\n //[x86_64] check-pass\n+//[x86_64_allowed] compile-flags: --target x86_64-unknown-linux-gnu\n+//[x86_64_allowed] check-pass\n //[arm] compile-flags: --target armv7-unknown-linux-gnueabihf\n //[arm] build-fail\n \n #![feature(no_core, lang_items, rustc_attrs)]\n #![crate_type = \"rlib\"]\n #![no_core]\n+#![cfg_attr(x86_64_allowed, allow(bad_asm_style))]\n \n #[rustc_builtin_macro]\n macro_rules! asm {"}, {"sha": "02b29b09013ddc5186fd27ca062b82954ae5ae3e", "filename": "src/test/ui/asm/inline-syntax.x86_64.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/83c2c5b98cd8bd644703961748b1c3cffa97c948/src%2Ftest%2Fui%2Fasm%2Finline-syntax.x86_64.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/83c2c5b98cd8bd644703961748b1c3cffa97c948/src%2Ftest%2Fui%2Fasm%2Finline-syntax.x86_64.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasm%2Finline-syntax.x86_64.stderr?ref=83c2c5b98cd8bd644703961748b1c3cffa97c948", "patch": "@@ -1,37 +1,37 @@\n warning: avoid using `.intel_syntax`, Intel syntax is the default\n-  --> $DIR/inline-syntax.rs:22:15\n+  --> $DIR/inline-syntax.rs:25:15\n    |\n LL |         asm!(\".intel_syntax noprefix\", \"nop\");\n    |               ^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `#[warn(bad_asm_style)]` on by default\n \n warning: avoid using `.intel_syntax`, Intel syntax is the default\n-  --> $DIR/inline-syntax.rs:25:15\n+  --> $DIR/inline-syntax.rs:28:15\n    |\n LL |         asm!(\".intel_syntax aaa noprefix\", \"nop\");\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: avoid using `.att_syntax`, prefer using `options(att_syntax)` instead\n-  --> $DIR/inline-syntax.rs:28:15\n+  --> $DIR/inline-syntax.rs:31:15\n    |\n LL |         asm!(\".att_syntax noprefix\", \"nop\");\n    |               ^^^^^^^^^^^^^^^^^^^^\n \n warning: avoid using `.att_syntax`, prefer using `options(att_syntax)` instead\n-  --> $DIR/inline-syntax.rs:31:15\n+  --> $DIR/inline-syntax.rs:34:15\n    |\n LL |         asm!(\".att_syntax bbb noprefix\", \"nop\");\n    |               ^^^^^^^^^^^^^^^^^^^^^^^^\n \n warning: avoid using `.intel_syntax`, Intel syntax is the default\n-  --> $DIR/inline-syntax.rs:34:15\n+  --> $DIR/inline-syntax.rs:37:15\n    |\n LL |         asm!(\".intel_syntax noprefix; nop\");\n    |               ^^^^^^^^^^^^^^^^^^^^^^\n \n warning: avoid using `.intel_syntax`, Intel syntax is the default\n-  --> $DIR/inline-syntax.rs:40:13\n+  --> $DIR/inline-syntax.rs:43:13\n    |\n LL |             .intel_syntax noprefix\n    |             ^^^^^^^^^^^^^^^^^^^^^^"}]}