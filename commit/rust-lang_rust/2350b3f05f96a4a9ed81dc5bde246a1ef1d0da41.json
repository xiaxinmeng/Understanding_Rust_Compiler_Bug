{"sha": "2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIzNTBiM2YwNWY5NmE0YTllZDgxZGM1YmRlMjQ2YTFlZjFkMGRhNDE=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-05-04T03:41:48Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-05-04T03:41:48Z"}, "message": "Merge #8716\n\n8716: Replace `memmap` with `memmap2` in `proc_macro_api` r=edwin0cheng a=memoryruins\n\n#7522 did the same for `proc_macro_srv` before this usage of `memmap` was introduced to `proc_macro_api` in #6822 .\r\n\r\nSomething like [`cargo-deny`](https://github.com/EmbarkStudios/cargo-deny-action) could help prevent specific crates (and versions, licenses, etc) from being introduced into the crate tree, but that's unrelated to this pull request.\r\n\r\n\n\nCo-authored-by: memoryruins <memoryruinsmusic@gmail.com>", "tree": {"sha": "df6f208332dee0917944e96265432d70b209b271", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/df6f208332dee0917944e96265432d70b209b271"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgkMJ8CRBK7hj4Ov3rIwAA/SwIABsGv9Dfb1MlxsR3kIHR8gaR\nH+GmNOvrs7HMrTy9IpPQaDMh0ZOmF6vH345MRL+WB4LjQZuPF6TSAA76G+gBVofN\nlTB1DZz6CUI2mzuC78RvhjivhRTI/37P3t9rVUdm5kmI6KgRtJi0sgdtps1rhCPN\n9TCtvuUzlnAbxiKja1WkWAdM8ylyVyOp/u6nu4GC3ffO8md047wJhot3J2ctPS+v\nTLAzvgoQZDrCWihh+T+bOqkcuYtmm04F799RkElLS9hPNkQPRnQb8bWwC+FZaH/C\nkBKl1oOMJXZ+GdcXRmQKcWgi9fV8PmlgKl/y21Omu+JkdeA9uAAZX5vbOWu5EqA=\n=pwZc\n-----END PGP SIGNATURE-----\n", "payload": "tree df6f208332dee0917944e96265432d70b209b271\nparent a0ec841bfee8ee70a9dbc25203875a3a94ba6c4f\nparent 27ba1dd8e32eac77f23fd23f4f8685604d3027a2\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1620099708 +0000\ncommitter GitHub <noreply@github.com> 1620099708 +0000\n\nMerge #8716\n\n8716: Replace `memmap` with `memmap2` in `proc_macro_api` r=edwin0cheng a=memoryruins\n\n#7522 did the same for `proc_macro_srv` before this usage of `memmap` was introduced to `proc_macro_api` in #6822 .\r\n\r\nSomething like [`cargo-deny`](https://github.com/EmbarkStudios/cargo-deny-action) could help prevent specific crates (and versions, licenses, etc) from being introduced into the crate tree, but that's unrelated to this pull request.\r\n\r\n\n\nCo-authored-by: memoryruins <memoryruinsmusic@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41", "html_url": "https://github.com/rust-lang/rust/commit/2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a0ec841bfee8ee70a9dbc25203875a3a94ba6c4f", "url": "https://api.github.com/repos/rust-lang/rust/commits/a0ec841bfee8ee70a9dbc25203875a3a94ba6c4f", "html_url": "https://github.com/rust-lang/rust/commit/a0ec841bfee8ee70a9dbc25203875a3a94ba6c4f"}, {"sha": "27ba1dd8e32eac77f23fd23f4f8685604d3027a2", "url": "https://api.github.com/repos/rust-lang/rust/commits/27ba1dd8e32eac77f23fd23f4f8685604d3027a2", "html_url": "https://github.com/rust-lang/rust/commit/27ba1dd8e32eac77f23fd23f4f8685604d3027a2"}], "stats": {"total": 16, "additions": 3, "deletions": 13}, "files": [{"sha": "0ca0b7b63d2b1c659b5f95b40ff9bb9b95875aff", "filename": "Cargo.lock", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41", "patch": "@@ -902,16 +902,6 @@ version = \"2.4.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"b16bd47d9e329435e309c58469fe0791c2d0d1ba96ec0954152a5ae2b04387dc\"\n \n-[[package]]\n-name = \"memmap\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"6585fd95e7bb50d6cc31e20d4cf9afb4e2ba16c5846fc76793f11218da9c475b\"\n-dependencies = [\n- \"libc\",\n- \"winapi\",\n-]\n-\n [[package]]\n name = \"memmap2\"\n version = \"0.2.2\"\n@@ -1174,7 +1164,7 @@ dependencies = [\n  \"crossbeam-channel\",\n  \"jod-thread\",\n  \"log\",\n- \"memmap\",\n+ \"memmap2\",\n  \"object\",\n  \"profile\",\n  \"serde\","}, {"sha": "2ce5eeeddc0b01eb54ffbea7d54502b460af973a", "filename": "crates/proc_macro_api/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41/crates%2Fproc_macro_api%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41/crates%2Fproc_macro_api%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproc_macro_api%2FCargo.toml?ref=2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41", "patch": "@@ -15,7 +15,7 @@ serde_json = { version = \"1.0\", features = [\"unbounded_depth\"] }\n log = \"0.4.8\"\n crossbeam-channel = \"0.5.0\"\n jod-thread = \"0.1.1\"\n-memmap = \"0.7.0\"\n+memmap2 = \"0.2.0\"\n object = { version = \"0.23.0\", default-features = false, features = [\"std\", \"read_core\", \"elf\", \"macho\", \"pe\", \"unaligned\"] }\n snap = \"1.0\"\n "}, {"sha": "6dbac50b4acde7881aa764acacbf59c7f719ca7e", "filename": "crates/proc_macro_api/src/version.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41/crates%2Fproc_macro_api%2Fsrc%2Fversion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41/crates%2Fproc_macro_api%2Fsrc%2Fversion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproc_macro_api%2Fsrc%2Fversion.rs?ref=2350b3f05f96a4a9ed81dc5bde246a1ef1d0da41", "patch": "@@ -6,7 +6,7 @@ use std::{\n     path::Path,\n };\n \n-use memmap::Mmap;\n+use memmap2::Mmap;\n use object::read::{File as BinaryFile, Object, ObjectSection};\n use snap::read::FrameDecoder as SnapDecoder;\n "}]}