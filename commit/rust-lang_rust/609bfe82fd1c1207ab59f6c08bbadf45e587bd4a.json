{"sha": "609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYwOWJmZTgyZmQxYzEyMDdhYjU5ZjZjMDhiYmFkZjQ1ZTU4N2JkNGE=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2017-03-21T13:41:41Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2017-03-30T11:55:29Z"}, "message": "cherry-pick over the tests I wrote for the reachability code\n\nFor the most part, the current code performs similarly, although it\ndiffers in some particulars. I'll be nice to have these tests for\njudging future changes, as well.", "tree": {"sha": "8389dcb9a4b2bd96d4515234ea0332d9f6f7ed35", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8389dcb9a4b2bd96d4515234ea0332d9f6f7ed35"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "html_url": "https://github.com/rust-lang/rust/commit/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a60e27e25b88dd7febdb3f878a09bef08c03eb41", "url": "https://api.github.com/repos/rust-lang/rust/commits/a60e27e25b88dd7febdb3f878a09bef08c03eb41", "html_url": "https://github.com/rust-lang/rust/commit/a60e27e25b88dd7febdb3f878a09bef08c03eb41"}], "stats": {"total": 1023, "additions": 1023, "deletions": 0}, "files": [{"sha": "8bed5fba7a2e812346e96ad7e5c75ecd5c8ca6f2", "filename": "src/test/ui/reachable/README.md", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2FREADME.md?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,7 @@\n+A variety of tests around reachability. These tests in general check\n+two things:\n+\n+- that we get unreachable code warnings in reasonable locations;\n+- that we permit coercions **into** `!` from expressions which\n+  diverge, where an expression \"diverges\" if it must execute some\n+  subexpression of type `!`, or it has type `!` itself."}, {"sha": "87d017adf68193e9e9339abf3a3d767dc341f98d", "filename": "src/test/ui/reachable/expr_add.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_add.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_add.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_add.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,28 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(never_type)]\n+#![allow(unused_variables)]\n+#![deny(unreachable_code)]\n+\n+use std::ops;\n+\n+struct Foo;\n+\n+impl ops::Add<!> for Foo {\n+    type Output = !;\n+    fn add(self, rhs: !) -> ! {\n+        unimplemented!()\n+    }\n+}\n+\n+fn main() {\n+    let x = Foo + return;\n+}"}, {"sha": "1a2cc252051bfb9dffc07e18fdf0b86b2ff0ed71", "filename": "src/test/ui/reachable/expr_add.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_add.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_add.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_add.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,14 @@\n+error: unreachable expression\n+  --> $DIR/expr_add.rs:27:13\n+   |\n+27 |     let x = Foo + return;\n+   |             ^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_add.rs:13:9\n+   |\n+13 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "cdbdb8dc0dbb3bdbbc8a03ce29b8206ce4330a9e", "filename": "src/test/ui/reachable/expr_again.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_again.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_again.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_again.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,20 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(box_syntax)]\n+#![allow(unused_variables)]\n+#![deny(unreachable_code)]\n+\n+fn main() {\n+    let x = loop {\n+        continue;\n+        println!(\"hi\");\n+    };\n+}"}, {"sha": "bf4e4dc4711cbcfbd6ef39069ae3536ac956a924", "filename": "src/test/ui/reachable/expr_again.stderr", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_again.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_again.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_again.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,15 @@\n+error: unreachable statement\n+  --> $DIR/expr_again.rs:18:9\n+   |\n+18 |         println!(\"hi\");\n+   |         ^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_again.rs:13:9\n+   |\n+13 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+   = note: this error originates in a macro outside of the current crate\n+\n+error: aborting due to previous error\n+"}, {"sha": "af404d03097b62b67fec8a4dfd5c9971e86b6e30", "filename": "src/test/ui/reachable/expr_andand.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_andand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_andand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_andand.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+\n+fn foo() {\n+    // No error here.\n+    let x = false && (return);\n+    println!(\"I am not dead.\");\n+}\n+\n+fn main() { }"}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "src/test/ui/reachable/expr_andand.stderr", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_andand.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_andand.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_andand.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a"}, {"sha": "00e8be077254706cb716bef81543ed314e0bbe95", "filename": "src/test/ui/reachable/expr_array.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_array.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_array.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_array.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,28 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+#![feature(type_ascription)]\n+\n+fn a() {\n+    // the `22` is unreachable:\n+    let x: [usize; 2] = [return, 22];\n+}\n+\n+fn b() {\n+    // the `array is unreachable:\n+    let x: [usize; 2] = [22, return];\n+}\n+\n+fn main() { }"}, {"sha": "f8dbdb5f8bb66aa9c6097c5a6d18cb6944e80920", "filename": "src/test/ui/reachable/expr_array.stderr", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_array.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_array.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_array.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,20 @@\n+error: unreachable expression\n+  --> $DIR/expr_array.rs:20:34\n+   |\n+20 |     let x: [usize; 2] = [return, 22];\n+   |                                  ^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_array.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: unreachable expression\n+  --> $DIR/expr_array.rs:25:25\n+   |\n+25 |     let x: [usize; 2] = [22, return];\n+   |                         ^^^^^^^^^^^^\n+\n+error: aborting due to 2 previous errors\n+"}, {"sha": "1b9357013d27038773fe2ba5280635c96b22017b", "filename": "src/test/ui/reachable/expr_assign.rs", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_assign.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_assign.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_assign.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,39 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+\n+fn foo() {\n+    // No error here.\n+    let x;\n+    x = return;\n+}\n+\n+fn bar() {\n+    use std::ptr;\n+    let p: *mut ! = ptr::null_mut::<!>();\n+    unsafe {\n+        // Here we consider the `return` unreachable because\n+        // \"evaluating\" the `*p` has type `!`. This is somewhat\n+        // dubious, I suppose.\n+        *p = return;\n+    }\n+}\n+\n+fn baz() {\n+    let mut i = 0;\n+    *{return; &mut i} = 22;\n+}\n+\n+fn main() { }"}, {"sha": "807f6a1c1d5847eb383d2e1f6bcfcb24ee2f2ea2", "filename": "src/test/ui/reachable/expr_assign.stderr", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_assign.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_assign.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_assign.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,26 @@\n+error: unreachable expression\n+  --> $DIR/expr_assign.rs:20:5\n+   |\n+20 |     x = return;\n+   |     ^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_assign.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: unreachable expression\n+  --> $DIR/expr_assign.rs:30:14\n+   |\n+30 |         *p = return;\n+   |              ^^^^^^\n+\n+error: unreachable expression\n+  --> $DIR/expr_assign.rs:36:15\n+   |\n+36 |     *{return; &mut i} = 22;\n+   |               ^^^^^^\n+\n+error: aborting due to 3 previous errors\n+"}, {"sha": "093589b4dc83980b94e038ed3d92260440317f85", "filename": "src/test/ui/reachable/expr_block.rs", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_block.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_block.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_block.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,41 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+\n+fn a() {\n+    // Here the tail expression is considered unreachable:\n+    let x = {\n+        return;\n+        22\n+    };\n+}\n+\n+fn b() {\n+    // Here the `x` assignment is considered unreachable, not the block:\n+    let x = {\n+        return;\n+    };\n+}\n+\n+fn c() {\n+    // Here the `println!` is unreachable:\n+    let x = {\n+        return;\n+        println!(\"foo\");\n+        22\n+    };\n+}\n+\n+fn main() { }"}, {"sha": "542ce1c3fd9cb5b49e7f41743d623128be4505bc", "filename": "src/test/ui/reachable/expr_block.stderr", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_block.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_block.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_block.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,22 @@\n+error: unreachable expression\n+  --> $DIR/expr_block.rs:21:9\n+   |\n+21 |         22\n+   |         ^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_block.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: unreachable statement\n+  --> $DIR/expr_block.rs:36:9\n+   |\n+36 |         println!(\"foo\");\n+   |         ^^^^^^^^^^^^^^^^\n+   |\n+   = note: this error originates in a macro outside of the current crate\n+\n+error: aborting due to 2 previous errors\n+"}, {"sha": "6509b608335afc5b825f5f07a326ec9a6895e0ca", "filename": "src/test/ui/reachable/expr_box.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_box.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_box.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_box.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(box_syntax)]\n+#![allow(unused_variables)]\n+#![deny(unreachable_code)]\n+\n+fn main() {\n+    let x = box return;\n+    println!(\"hi\");\n+}"}, {"sha": "78ba231cef9fcf2121f0173688ab3710823c13fa", "filename": "src/test/ui/reachable/expr_box.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_box.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_box.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_box.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,14 @@\n+error: unreachable expression\n+  --> $DIR/expr_box.rs:16:13\n+   |\n+16 |     let x = box return;\n+   |             ^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_box.rs:13:9\n+   |\n+13 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "8d9f303df7fdcb74f98048aae943d8a70b166929", "filename": "src/test/ui/reachable/expr_call.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_call.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+\n+fn foo(x: !, y: usize) { }\n+\n+fn bar(x: !) { }\n+\n+fn a() {\n+    // the `22` is unreachable:\n+    foo(return, 22);\n+}\n+\n+fn b() {\n+    // the call is unreachable:\n+    bar(return);\n+}\n+\n+fn main() { }"}, {"sha": "5526827f59fc9965853df9bc66eb3674e29572ea", "filename": "src/test/ui/reachable/expr_call.stderr", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_call.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_call.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_call.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,20 @@\n+error: unreachable expression\n+  --> $DIR/expr_call.rs:23:17\n+   |\n+23 |     foo(return, 22);\n+   |                 ^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_call.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: unreachable expression\n+  --> $DIR/expr_call.rs:28:5\n+   |\n+28 |     bar(return);\n+   |     ^^^^^^^^^^^\n+\n+error: aborting due to 2 previous errors\n+"}, {"sha": "926ef864ebf21bb5058e921298035c14018fc57f", "filename": "src/test/ui/reachable/expr_cast.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_cast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_cast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_cast.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,23 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+#![feature(type_ascription)]\n+\n+fn a() {\n+    // the cast is unreachable:\n+    let x = {return} as !;\n+}\n+\n+fn main() { }"}, {"sha": "a22300dcc1398f37c6c0dbee1b349266864a90a1", "filename": "src/test/ui/reachable/expr_cast.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_cast.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_cast.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_cast.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,14 @@\n+error: unreachable expression\n+  --> $DIR/expr_cast.rs:20:13\n+   |\n+20 |     let x = {return} as !;\n+   |             ^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_cast.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "2a265e772f359d5cc231d388a04a99a749265ce5", "filename": "src/test/ui/reachable/expr_if.rs", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_if.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_if.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_if.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,41 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+\n+fn foo() {\n+    if {return} {\n+        println!(\"Hello, world!\");\n+    }\n+}\n+\n+fn bar() {\n+    if {true} {\n+        return;\n+    }\n+    println!(\"I am not dead.\");\n+}\n+\n+fn baz() {\n+    if {true} {\n+        return;\n+    } else {\n+        return;\n+    }\n+    // As the next action to be taken after the if arms, we should\n+    // report the `println!` as unreachable:\n+    println!(\"But I am.\");\n+}\n+\n+fn main() { }"}, {"sha": "2cf17474f6e9dd2ab1ddd152addf393ab004971a", "filename": "src/test/ui/reachable/expr_if.stderr", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_if.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_if.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_if.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,15 @@\n+error: unreachable statement\n+  --> $DIR/expr_if.rs:38:5\n+   |\n+38 |     println!(\"But I am.\");\n+   |     ^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_if.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+   = note: this error originates in a macro outside of the current crate\n+\n+error: aborting due to previous error\n+"}, {"sha": "3ed4b2dcf0cf843e40b7aac7d883812e1fdaaa21", "filename": "src/test/ui/reachable/expr_loop.rs", "status": "added", "additions": 44, "deletions": 0, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_loop.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,44 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+\n+fn a() {\n+    loop { return; }\n+    println!(\"I am dead.\");\n+}\n+\n+fn b() {\n+    loop {\n+        break;\n+    }\n+    println!(\"I am not dead.\");\n+}\n+\n+fn c() {\n+    loop { return; }\n+    println!(\"I am dead.\");\n+}\n+\n+fn d() {\n+    'outer: loop { loop { break 'outer; } }\n+    println!(\"I am not dead.\");\n+}\n+\n+fn e() {\n+    loop { 'middle: loop { loop { break 'middle; } } }\n+    println!(\"I am dead.\");\n+}\n+\n+fn main() { }"}, {"sha": "6e98e754c54db30d1078dd882e45d004bfaeec0a", "filename": "src/test/ui/reachable/expr_loop.stderr", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_loop.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_loop.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_loop.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,31 @@\n+error: unreachable statement\n+  --> $DIR/expr_loop.rs:19:5\n+   |\n+19 |     println!(\"I am dead.\");\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_loop.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+   = note: this error originates in a macro outside of the current crate\n+\n+error: unreachable statement\n+  --> $DIR/expr_loop.rs:31:5\n+   |\n+31 |     println!(\"I am dead.\");\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: this error originates in a macro outside of the current crate\n+\n+error: unreachable statement\n+  --> $DIR/expr_loop.rs:41:5\n+   |\n+41 |     println!(\"I am dead.\");\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: this error originates in a macro outside of the current crate\n+\n+error: aborting due to 3 previous errors\n+"}, {"sha": "23bdcc035b22773430eadd244a359d9fada4ff83", "filename": "src/test/ui/reachable/expr_match.rs", "status": "added", "additions": 54, "deletions": 0, "changes": 54, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_match.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,54 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+\n+fn a() {\n+    // The match is considered unreachable here, because the `return`\n+    // diverges:\n+    match {return} { }\n+}\n+\n+fn b() {\n+    match () { () => return }\n+    println!(\"I am dead\");\n+}\n+\n+fn c() {\n+    match () { () if false => return, () => () }\n+    println!(\"I am not dead\");\n+}\n+\n+fn d() {\n+    match () { () if false => return, () => return }\n+    println!(\"I am dead\");\n+}\n+\n+fn e() {\n+    // Here the compiler fails to figure out that the `println` is dead.\n+    match () { () if return => (), () => return }\n+    println!(\"I am dead\");\n+}\n+\n+fn f() {\n+    match Some(()) { None => (), Some(()) => return }\n+    println!(\"I am not dead\");\n+}\n+\n+fn g() {\n+    match Some(()) { None => return, Some(()) => () }\n+    println!(\"I am not dead\");\n+}\n+\n+fn main() { }"}, {"sha": "f5857a5b345eccbb27c0ee1159574737e9897002", "filename": "src/test/ui/reachable/expr_match.stderr", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_match.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_match.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_match.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,30 @@\n+error: unreachable expression\n+  --> $DIR/expr_match.rs:20:5\n+   |\n+20 |     match {return} { }\n+   |     ^^^^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_match.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: unreachable statement\n+  --> $DIR/expr_match.rs:25:5\n+   |\n+25 |     println!(\"I am dead\");\n+   |     ^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: this error originates in a macro outside of the current crate\n+\n+error: unreachable statement\n+  --> $DIR/expr_match.rs:35:5\n+   |\n+35 |     println!(\"I am dead\");\n+   |     ^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: this error originates in a macro outside of the current crate\n+\n+error: aborting due to 3 previous errors\n+"}, {"sha": "f1d979d7df79d3a19686eca87ac4e82585363951", "filename": "src/test/ui/reachable/expr_method.rs", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_method.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_method.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_method.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,34 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+\n+struct Foo;\n+\n+impl Foo {\n+    fn foo(&self, x: !, y: usize) { }\n+    fn bar(&self, x: !) { }\n+}\n+\n+fn a() {\n+    // the `22` is unreachable:\n+    Foo.foo(return, 22);\n+}\n+\n+fn b() {\n+    // the call is unreachable:\n+    Foo.bar(return);\n+}\n+\n+fn main() { }"}, {"sha": "177d4352a376ddb175125c1425e7e57891a8d659", "filename": "src/test/ui/reachable/expr_method.stderr", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_method.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_method.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_method.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,20 @@\n+error: unreachable expression\n+  --> $DIR/expr_method.rs:26:21\n+   |\n+26 |     Foo.foo(return, 22);\n+   |                     ^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_method.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: unreachable expression\n+  --> $DIR/expr_method.rs:31:5\n+   |\n+31 |     Foo.bar(return);\n+   |     ^^^^^^^^^^^^^^^\n+\n+error: aborting due to 2 previous errors\n+"}, {"sha": "d01304d4034b55cf6102b1fc3f36645d745007cb", "filename": "src/test/ui/reachable/expr_oror.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_oror.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_oror.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_oror.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,20 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+\n+fn foo() {\n+    let x = false || (return);\n+    println!(\"I am not dead.\");\n+}\n+\n+fn main() { }"}, {"sha": "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391", "filename": "src/test/ui/reachable/expr_oror.stderr", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_oror.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_oror.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_oror.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a"}, {"sha": "6078d6d5bde461fcdc82abe0a983b60941615c18", "filename": "src/test/ui/reachable/expr_repeat.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_repeat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_repeat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_repeat.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,23 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+#![feature(type_ascription)]\n+\n+fn a() {\n+    // the repeat is unreachable:\n+    let x: [usize; 2] = [return; 2];\n+}\n+\n+fn main() { }"}, {"sha": "19afc5dd7b5ee192dc8307c046a6fabaa6d08100", "filename": "src/test/ui/reachable/expr_repeat.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_repeat.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_repeat.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_repeat.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,14 @@\n+error: unreachable expression\n+  --> $DIR/expr_repeat.rs:20:25\n+   |\n+20 |     let x: [usize; 2] = [return; 2];\n+   |                         ^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_repeat.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "c640ca06630293615bccaef35ed2f0835a0d59bc", "filename": "src/test/ui/reachable/expr_return.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_return.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_return.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_return.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+#![feature(type_ascription)]\n+\n+fn a() {\n+    // Here we issue that the \"2nd-innermost\" return is unreachable,\n+    // but we stop there.\n+    let x = {return {return {return;}}};\n+}\n+\n+fn main() { }"}, {"sha": "3eb70a4dd7c848ecc53b7b50d5ce47035c876da5", "filename": "src/test/ui/reachable/expr_return.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_return.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_return.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_return.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,14 @@\n+error: unreachable expression\n+  --> $DIR/expr_return.rs:21:22\n+   |\n+21 |     let x = {return {return {return;}}};\n+   |                      ^^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_return.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "09e31819279f2f7cd48cead8fd7258cbad2121a7", "filename": "src/test/ui/reachable/expr_struct.rs", "status": "added", "additions": 43, "deletions": 0, "changes": 43, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_struct.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,43 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+#![feature(type_ascription)]\n+\n+struct Foo {\n+    a: usize,\n+    b: usize,\n+}\n+\n+fn a() {\n+    // struct expr is unreachable:\n+    let x = Foo { a: 22, b: 33, ..return };\n+}\n+\n+fn b() {\n+    // the `33` is unreachable:\n+    let x = Foo { a: return, b: 33, ..return };\n+}\n+\n+fn c() {\n+    // the `..return` is unreachable:\n+    let x = Foo { a: 22, b: return, ..return };\n+}\n+\n+fn d() {\n+    // the struct expr is unreachable:\n+    let x = Foo { a: 22, b: return };\n+}\n+\n+fn main() { }"}, {"sha": "4b7ac6604132c165b255200be13f61c49b0ae77f", "filename": "src/test/ui/reachable/expr_struct.stderr", "status": "added", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_struct.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_struct.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_struct.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,32 @@\n+error: unreachable expression\n+  --> $DIR/expr_struct.rs:25:13\n+   |\n+25 |     let x = Foo { a: 22, b: 33, ..return };\n+   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_struct.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: unreachable expression\n+  --> $DIR/expr_struct.rs:30:33\n+   |\n+30 |     let x = Foo { a: return, b: 33, ..return };\n+   |                                 ^^\n+\n+error: unreachable expression\n+  --> $DIR/expr_struct.rs:35:39\n+   |\n+35 |     let x = Foo { a: 22, b: return, ..return };\n+   |                                       ^^^^^^\n+\n+error: unreachable expression\n+  --> $DIR/expr_struct.rs:40:13\n+   |\n+40 |     let x = Foo { a: 22, b: return };\n+   |             ^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+error: aborting due to 4 previous errors\n+"}, {"sha": "7c75296de6c54c83daa862e37fc4849794a4b2bd", "filename": "src/test/ui/reachable/expr_tup.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_tup.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_tup.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_tup.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,28 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+#![feature(type_ascription)]\n+\n+fn a() {\n+    // the `2` is unreachable:\n+    let x: (usize, usize) = (return, 2);\n+}\n+\n+fn b() {\n+    // the tuple is unreachable:\n+    let x: (usize, usize) = (2, return);\n+}\n+\n+fn main() { }"}, {"sha": "63f477fd0c373a9a8b37111b1657380e410b8733", "filename": "src/test/ui/reachable/expr_tup.stderr", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_tup.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_tup.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_tup.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,20 @@\n+error: unreachable expression\n+  --> $DIR/expr_tup.rs:20:38\n+   |\n+20 |     let x: (usize, usize) = (return, 2);\n+   |                                      ^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_tup.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: unreachable expression\n+  --> $DIR/expr_tup.rs:25:29\n+   |\n+25 |     let x: (usize, usize) = (2, return);\n+   |                             ^^^^^^^^^^^\n+\n+error: aborting due to 2 previous errors\n+"}, {"sha": "2fa277c382e87131a95f27db402f5293c3e874b4", "filename": "src/test/ui/reachable/expr_type.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_type.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,23 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+#![feature(type_ascription)]\n+\n+fn a() {\n+    // the cast is unreachable:\n+    let x = {return}: !;\n+}\n+\n+fn main() { }"}, {"sha": "6ed79974ccb77c1aea43d4eddfbecc92102215fd", "filename": "src/test/ui/reachable/expr_type.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_type.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_type.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_type.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,14 @@\n+error: unreachable expression\n+  --> $DIR/expr_type.rs:20:13\n+   |\n+20 |     let x = {return}: !;\n+   |             ^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_type.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "57901fbaa7c44881ec6ad0bc6700a49b079f7cee", "filename": "src/test/ui/reachable/expr_unary.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_unary.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_unary.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_unary.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+\n+fn foo() {\n+    let x: ! = ! { return; 22 };\n+}\n+\n+fn main() { }"}, {"sha": "11172652d84450bde5cfa592d09b015c78f99ad1", "filename": "src/test/ui/reachable/expr_unary.stderr", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_unary.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_unary.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_unary.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,8 @@\n+error: cannot apply unary operator `!` to type `!`\n+  --> $DIR/expr_unary.rs:18:16\n+   |\n+18 |     let x: ! = ! { return; 22 };\n+   |                ^^^^^^^^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "7dcd609fbc8f4ba04afc56dd1dab2f9cf8c730bb", "filename": "src/test/ui/reachable/expr_while.rs", "status": "added", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_while.rs", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_while.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_while.rs?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,38 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![allow(unused_variables)]\n+#![allow(unused_assignments)]\n+#![allow(dead_code)]\n+#![deny(unreachable_code)]\n+#![feature(never_type)]\n+\n+fn foo() {\n+    while {return} {\n+        println!(\"Hello, world!\");\n+    }\n+}\n+\n+fn bar() {\n+    while {true} {\n+        return;\n+    }\n+    println!(\"I am not dead.\");\n+}\n+\n+fn baz() {\n+    // Here, we cite the `while` loop as dead.\n+    while {return} {\n+        println!(\"I am dead.\");\n+    }\n+    println!(\"I am, too.\");\n+}\n+\n+fn main() { }"}, {"sha": "066cfc86c6462c534a35260d76975bd5c40b091a", "filename": "src/test/ui/reachable/expr_while.stderr", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_while.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/609bfe82fd1c1207ab59f6c08bbadf45e587bd4a/src%2Ftest%2Fui%2Freachable%2Fexpr_while.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Freachable%2Fexpr_while.stderr?ref=609bfe82fd1c1207ab59f6c08bbadf45e587bd4a", "patch": "@@ -0,0 +1,31 @@\n+error: unreachable statement\n+  --> $DIR/expr_while.rs:19:9\n+   |\n+19 |         println!(\"Hello, world!\");\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+note: lint level defined here\n+  --> $DIR/expr_while.rs:14:9\n+   |\n+14 | #![deny(unreachable_code)]\n+   |         ^^^^^^^^^^^^^^^^\n+   = note: this error originates in a macro outside of the current crate\n+\n+error: unreachable statement\n+  --> $DIR/expr_while.rs:33:9\n+   |\n+33 |         println!(\"I am dead.\");\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: this error originates in a macro outside of the current crate\n+\n+error: unreachable statement\n+  --> $DIR/expr_while.rs:35:5\n+   |\n+35 |     println!(\"I am, too.\");\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: this error originates in a macro outside of the current crate\n+\n+error: aborting due to 3 previous errors\n+"}]}