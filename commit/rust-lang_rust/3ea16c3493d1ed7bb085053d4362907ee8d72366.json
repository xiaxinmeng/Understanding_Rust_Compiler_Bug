{"sha": "3ea16c3493d1ed7bb085053d4362907ee8d72366", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNlYTE2YzM0OTNkMWVkN2JiMDg1MDUzZDQzNjI5MDdlZThkNzIzNjY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-07-06T18:03:46Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-07-06T18:03:46Z"}, "message": "Auto merge of #52018 - flip1995:rfc2103, r=oli-obk\n\nImplementation of tool lints.\n\nTracking issue: #44690", "tree": {"sha": "dfad1902a527dfe48c200010796bbd969310a21d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dfad1902a527dfe48c200010796bbd969310a21d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3ea16c3493d1ed7bb085053d4362907ee8d72366", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3ea16c3493d1ed7bb085053d4362907ee8d72366", "html_url": "https://github.com/rust-lang/rust/commit/3ea16c3493d1ed7bb085053d4362907ee8d72366", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3ea16c3493d1ed7bb085053d4362907ee8d72366/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "062a416dd4f12cf99b37d078a3da8dd81a1c008e", "url": "https://api.github.com/repos/rust-lang/rust/commits/062a416dd4f12cf99b37d078a3da8dd81a1c008e", "html_url": "https://github.com/rust-lang/rust/commit/062a416dd4f12cf99b37d078a3da8dd81a1c008e"}, {"sha": "c3949009adf7e8a039a1f467cbc6e6b5cf993303", "url": "https://api.github.com/repos/rust-lang/rust/commits/c3949009adf7e8a039a1f467cbc6e6b5cf993303", "html_url": "https://github.com/rust-lang/rust/commit/c3949009adf7e8a039a1f467cbc6e6b5cf993303"}], "stats": {"total": 201, "additions": 201, "deletions": 0}, "files": [{"sha": "5c0d33b5ab0c492f6b3712165e5496cee3bf4fbd", "filename": "src/doc/unstable-book/src/language-features/tool-lints.md", "status": "added", "additions": 35, "deletions": 0, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Ftool-lints.md", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Ftool-lints.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Ftool-lints.md?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -0,0 +1,35 @@\n+# `tool_lints`\n+\n+The tracking issue for this feature is: [#44690]\n+\n+[#44690]: https://github.com/rust-lang/rust/issues/44690\n+\n+------------------------\n+\n+Tool lints let you use scoped lints, to `allow`, `warn`, `deny` or `forbid` lints of\n+certain tools.\n+\n+Currently `clippy` is the only available lint tool.\n+\n+It is recommended for lint tools to implement the scoped lints like this:\n+\n+- `#[_(TOOL_NAME::lintname)]`: for lint names\n+- `#[_(TOOL_NAME::lintgroup)]`: for groups of lints\n+- `#[_(TOOL_NAME::all)]`: for (almost[^1]) all lints\n+\n+## An example\n+\n+```rust\n+#![feature(tool_lints)]\n+\n+#![warn(clippy::pedantic)]\n+\n+#[allow(clippy::filter_map)]\n+fn main() {\n+    let v = vec![0; 10];\n+    let _ = v.into_iter().filter(|&x| x < 1).map(|x| x + 1).collect::<Vec<_>>();\n+    println!(\"No filter_map()!\");\n+}\n+```\n+\n+[^1]: Some defined lint groups can be excluded here."}, {"sha": "5ace8397d9f827bbf17b434ddb8f0edd10edd44a", "filename": "src/librustc/diagnostics.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Flibrustc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Flibrustc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fdiagnostics.rs?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -2137,4 +2137,5 @@ register_diagnostics! {\n     E0707, // multiple elided lifetimes used in arguments of `async fn`\n     E0708, // `async` non-`move` closures with arguments are not currently supported\n     E0709, // multiple different lifetimes used in arguments of `async fn`\n+    E0710, // an unknown tool name found in scoped lint\n }"}, {"sha": "5bf15b10715c4a68ddeb7fc76b1b6410ee61b550", "filename": "src/librustc/lint/levels.rs", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Flibrustc%2Flint%2Flevels.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Flibrustc%2Flint%2Flevels.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flint%2Flevels.rs?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -22,6 +22,7 @@ use session::Session;\n use syntax::ast;\n use syntax::attr;\n use syntax::codemap::MultiSpan;\n+use syntax::feature_gate;\n use syntax::symbol::Symbol;\n use util::nodemap::FxHashMap;\n \n@@ -221,6 +222,28 @@ impl<'a> LintLevelsBuilder<'a> {\n                         continue\n                     }\n                 };\n+                if let Some(lint_tool) = word.is_scoped() {\n+                    if !self.sess.features_untracked().tool_lints {\n+                        feature_gate::emit_feature_err(&sess.parse_sess,\n+                                                       \"tool_lints\",\n+                                                       word.span,\n+                                                       feature_gate::GateIssue::Language,\n+                                                       &format!(\"scoped lint `{}` is experimental\",\n+                                                                word.ident));\n+                    }\n+\n+                    if !attr::is_known_lint_tool(lint_tool) {\n+                        span_err!(\n+                            sess,\n+                            lint_tool.span,\n+                            E0710,\n+                            \"an unknown tool name found in scoped lint: `{}`\",\n+                            word.ident\n+                        );\n+                    }\n+\n+                    continue\n+                }\n                 let name = word.name();\n                 match store.check_lint_name(&name.as_str()) {\n                     CheckLintNameResult::Ok(ids) => {"}, {"sha": "d746ac3c5771bb19f9c15526c1a4c37f3c504ae4", "filename": "src/libsyntax/attr/mod.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Flibsyntax%2Fattr%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Flibsyntax%2Fattr%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fattr%2Fmod.rs?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -90,13 +90,18 @@ pub fn is_known(attr: &Attribute) -> bool {\n }\n \n const RUST_KNOWN_TOOL: &[&str] = &[\"clippy\", \"rustfmt\"];\n+const RUST_KNOWN_LINT_TOOL: &[&str] = &[\"clippy\"];\n \n pub fn is_known_tool(attr: &Attribute) -> bool {\n     let tool_name =\n         attr.path.segments.iter().next().expect(\"empty path in attribute\").ident.name;\n     RUST_KNOWN_TOOL.contains(&tool_name.as_str().as_ref())\n }\n \n+pub fn is_known_lint_tool(m_item: Ident) -> bool {\n+    RUST_KNOWN_LINT_TOOL.contains(&m_item.as_str().as_ref())\n+}\n+\n impl NestedMetaItem {\n     /// Returns the MetaItem if self is a NestedMetaItemKind::MetaItem.\n     pub fn meta_item(&self) -> Option<&MetaItem> {\n@@ -290,6 +295,14 @@ impl MetaItem {\n     pub fn is_meta_item_list(&self) -> bool {\n         self.meta_item_list().is_some()\n     }\n+\n+    pub fn is_scoped(&self) -> Option<Ident> {\n+        if self.ident.segments.len() > 1 {\n+            Some(self.ident.segments[0].ident)\n+        } else {\n+            None\n+        }\n+    }\n }\n \n impl Attribute {"}, {"sha": "cbc421dbd328c281c58b075a89b8073a02542fdd", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -458,6 +458,8 @@ declare_features! (\n \n     // Scoped attributes\n     (active, tool_attributes, \"1.25.0\", Some(44690), None),\n+    // Scoped lints\n+    (active, tool_lints, \"1.28.0\", Some(44690), None),\n \n     // allow irrefutable patterns in if-let and while-let statements (RFC 2086)\n     (active, irrefutable_let_patterns, \"1.27.0\", Some(44495), None),"}, {"sha": "c311eb7ed7ae13b39bbb15fd61c1b2f0d1afd486", "filename": "src/test/compile-fail/feature-gate-tool_lints.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fcompile-fail%2Ffeature-gate-tool_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fcompile-fail%2Ffeature-gate-tool_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-tool_lints.rs?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -0,0 +1,12 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[warn(clippy::assign_ops)] //~ ERROR scoped lint `clippy::assign_ops` is experimental\n+fn main() {}"}, {"sha": "ea1efab4cb6f87d8a4ec360f5aad74dd7ebdb386", "filename": "src/test/compile-fail/tool_lints.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fcompile-fail%2Ftool_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fcompile-fail%2Ftool_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftool_lints.rs?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// Don't allow tool_lints, which aren't scoped\n+\n+#![feature(tool_lints)]\n+#![deny(unknown_lints)]\n+\n+#![deny(clippy)] //~ ERROR: unknown lint: `clippy`\n+\n+fn main() {}"}, {"sha": "78b736edcebe6e0699beae6d7deb7c789518718a", "filename": "src/test/compile-fail/unknown-lint-tool-name.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fcompile-fail%2Funknown-lint-tool-name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fcompile-fail%2Funknown-lint-tool-name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funknown-lint-tool-name.rs?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -0,0 +1,16 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(tool_lints)]\n+\n+#![deny(foo::bar)] //~ ERROR an unknown tool name found in scoped lint: `foo::bar`\n+\n+#[allow(foo::bar)] //~ ERROR an unknown tool name found in scoped lint: `foo::bar`\n+fn main() {}"}, {"sha": "24ec43b12f60e259f169bead63dab5c6214b219b", "filename": "src/test/run-pass/tool_lints.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Frun-pass%2Ftool_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Frun-pass%2Ftool_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftool_lints.rs?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(tool_lints)]\n+#![deny(unknown_lints)]\n+\n+#[allow(clippy::almost_swapped)]\n+fn main() {}"}, {"sha": "6cd57eaa195958d599ae1b32fa8df965eaaf212e", "filename": "src/test/run-pass/tool_lints_2018_preview.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Frun-pass%2Ftool_lints_2018_preview.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Frun-pass%2Ftool_lints_2018_preview.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftool_lints_2018_preview.rs?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -0,0 +1,16 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(tool_lints)]\n+#![feature(rust_2018_preview)]\n+#![deny(unknown_lints)]\n+\n+#[allow(clippy::almost_swapped)]\n+fn main() {}"}, {"sha": "3ef67982be9a4c1025c36b0b835159a84fa841aa", "filename": "src/test/ui/feature-gate-tool_lints.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.rs?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[warn(clippy::decimal_literal_representation)]\n+//~^ ERROR scoped lint `clippy::decimal_literal_representation` is experimental\n+fn main() {\n+    let a = 65_535;\n+}"}, {"sha": "8019b1e6a28f6d89fa3171f91a5880892dc2e366", "filename": "src/test/ui/feature-gate-tool_lints.stderr", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-tool_lints.stderr?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -0,0 +1,11 @@\n+error[E0658]: scoped lint `clippy::decimal_literal_representation` is experimental (see issue #44690)\n+  --> $DIR/feature-gate-tool_lints.rs:11:8\n+   |\n+LL | #[warn(clippy::decimal_literal_representation)]\n+   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = help: add #![feature(tool_lints)] to the crate attributes to enable\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0658`."}, {"sha": "71f90b17c18fcefd792a8d6a36ccbab0779db93d", "filename": "src/test/ui/tool_lints.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fui%2Ftool_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fui%2Ftool_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftool_lints.rs?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(tool_lints)]\n+\n+#[warn(foo::bar)]\n+//~^ ERROR an unknown tool name found in scoped lint: `foo::bar`\n+fn main() {}"}, {"sha": "16468df7370146065fec8dd329043e441b369109", "filename": "src/test/ui/tool_lints.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fui%2Ftool_lints.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3ea16c3493d1ed7bb085053d4362907ee8d72366/src%2Ftest%2Fui%2Ftool_lints.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftool_lints.stderr?ref=3ea16c3493d1ed7bb085053d4362907ee8d72366", "patch": "@@ -0,0 +1,9 @@\n+error[E0710]: an unknown tool name found in scoped lint: `foo::bar`\n+  --> $DIR/tool_lints.rs:13:8\n+   |\n+LL | #[warn(foo::bar)]\n+   |        ^^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0710`."}]}