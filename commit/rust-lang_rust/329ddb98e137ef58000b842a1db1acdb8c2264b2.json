{"sha": "329ddb98e137ef58000b842a1db1acdb8c2264b2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMyOWRkYjk4ZTEzN2VmNTgwMDBiODQyYTFkYjFhY2RiOGMyMjY0YjI=", "commit": {"author": {"name": "Martin Carton", "email": "cartonmartin+github@gmail.com", "date": "2017-06-05T21:15:20Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-06-05T21:15:20Z"}, "message": "Merge pull request #1814 from Manishearth/rustup\n\nRustup to *rustc 1.19.0-nightly (0418fa9d3 2017-06-04)*", "tree": {"sha": "b6a508027cb53dcd0397e0e5dcadcb40d00a0d42", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b6a508027cb53dcd0397e0e5dcadcb40d00a0d42"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/329ddb98e137ef58000b842a1db1acdb8c2264b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/329ddb98e137ef58000b842a1db1acdb8c2264b2", "html_url": "https://github.com/rust-lang/rust/commit/329ddb98e137ef58000b842a1db1acdb8c2264b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/329ddb98e137ef58000b842a1db1acdb8c2264b2/comments", "author": {"login": "mcarton", "id": 3751788, "node_id": "MDQ6VXNlcjM3NTE3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/3751788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcarton", "html_url": "https://github.com/mcarton", "followers_url": "https://api.github.com/users/mcarton/followers", "following_url": "https://api.github.com/users/mcarton/following{/other_user}", "gists_url": "https://api.github.com/users/mcarton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcarton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcarton/subscriptions", "organizations_url": "https://api.github.com/users/mcarton/orgs", "repos_url": "https://api.github.com/users/mcarton/repos", "events_url": "https://api.github.com/users/mcarton/events{/privacy}", "received_events_url": "https://api.github.com/users/mcarton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5a6e48fd27ddbe6a6106c49e0deea4fd77b0190e", "url": "https://api.github.com/repos/rust-lang/rust/commits/5a6e48fd27ddbe6a6106c49e0deea4fd77b0190e", "html_url": "https://github.com/rust-lang/rust/commit/5a6e48fd27ddbe6a6106c49e0deea4fd77b0190e"}, {"sha": "a7cbc9c68dac2a52cf15fb20e6bc780554faed7f", "url": "https://api.github.com/repos/rust-lang/rust/commits/a7cbc9c68dac2a52cf15fb20e6bc780554faed7f", "html_url": "https://github.com/rust-lang/rust/commit/a7cbc9c68dac2a52cf15fb20e6bc780554faed7f"}], "stats": {"total": 24, "additions": 12, "deletions": 12}, "files": [{"sha": "befc30cc21a925d0c5406e3976778c022ad00c89", "filename": "CHANGELOG.md", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/329ddb98e137ef58000b842a1db1acdb8c2264b2/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/329ddb98e137ef58000b842a1db1acdb8c2264b2/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=329ddb98e137ef58000b842a1db1acdb8c2264b2", "patch": "@@ -1,6 +1,9 @@\n # Change Log\n All notable changes to this project will be documented in this file.\n \n+## 0.0.138 \u2014 2017-06-05\n+* Update to *rustc 1.19.0-nightly (0418fa9d3 2017-06-04)*\n+\n ## 0.0.137 \u2014 2017-06-05\n * Update to *rustc 1.19.0-nightly (6684d176c 2017-06-03)*\n "}, {"sha": "c36b80b8c78cb2e6e578fccc451dc595023ddb0c", "filename": "Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/329ddb98e137ef58000b842a1db1acdb8c2264b2/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/329ddb98e137ef58000b842a1db1acdb8c2264b2/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=329ddb98e137ef58000b842a1db1acdb8c2264b2", "patch": "@@ -1,6 +1,6 @@\n [package]\n name = \"clippy\"\n-version = \"0.0.137\"\n+version = \"0.0.138\"\n authors = [\n \t\"Manish Goregaokar <manishsmail@gmail.com>\",\n \t\"Andre Bogus <bogusandre@gmail.com>\",\n@@ -31,7 +31,7 @@ test = false\n \n [dependencies]\n # begin automatic update\n-clippy_lints = { version = \"0.0.137\", path = \"clippy_lints\" }\n+clippy_lints = { version = \"0.0.138\", path = \"clippy_lints\" }\n # end automatic update\n cargo_metadata = \"0.2\"\n "}, {"sha": "320a38e78eb869b1507a5ed0701c3f4e10491bf7", "filename": "clippy_lints/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/329ddb98e137ef58000b842a1db1acdb8c2264b2/clippy_lints%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/329ddb98e137ef58000b842a1db1acdb8c2264b2/clippy_lints%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2FCargo.toml?ref=329ddb98e137ef58000b842a1db1acdb8c2264b2", "patch": "@@ -1,7 +1,7 @@\n [package]\n name = \"clippy_lints\"\n # begin automatic update\n-version = \"0.0.137\"\n+version = \"0.0.138\"\n # end automatic update\n authors = [\n \t\"Manish Goregaokar <manishsmail@gmail.com>\","}, {"sha": "5113f1224fe2cfafa0e7122aa2055741068735a1", "filename": "clippy_lints/src/utils/higher.rs", "status": "modified", "additions": 6, "deletions": 9, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/329ddb98e137ef58000b842a1db1acdb8c2264b2/clippy_lints%2Fsrc%2Futils%2Fhigher.rs", "raw_url": "https://github.com/rust-lang/rust/raw/329ddb98e137ef58000b842a1db1acdb8c2264b2/clippy_lints%2Fsrc%2Futils%2Fhigher.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fhigher.rs?ref=329ddb98e137ef58000b842a1db1acdb8c2264b2", "patch": "@@ -129,16 +129,13 @@ pub fn for_loop(expr: &hir::Expr) -> Option<(&hir::Pat, &hir::Expr, &hir::Expr)>\n         let hir::ExprCall(_, ref iterargs) = iterexpr.node,\n         iterargs.len() == 1 && arms.len() == 1 && arms[0].guard.is_none(),\n         let hir::ExprLoop(ref block, _, _) = arms[0].body.node,\n-        block.stmts.is_empty(),\n-        let Some(ref loopexpr) = block.expr,\n-        let hir::ExprMatch(_, ref innerarms, hir::MatchSource::ForLoopDesugar) = loopexpr.node,\n-        innerarms.len() == 2 && innerarms[0].pats.len() == 1,\n-        let hir::PatKind::TupleStruct(_, ref somepats, _) = innerarms[0].pats[0].node,\n-        somepats.len() == 1\n+        block.expr.is_none(),\n+        let [ ref let_stmt, ref body ] = *block.stmts,\n+        let hir::StmtDecl(ref decl, _) = let_stmt.node,\n+        let hir::DeclLocal(ref decl) = decl.node,\n+        let hir::StmtExpr(ref expr, _) = body.node,\n     ], {\n-        return Some((&somepats[0],\n-                     &iterargs[0],\n-                     &innerarms[0].body));\n+        return Some((&*decl.pat, &iterargs[0], expr));\n     }}\n     None\n }"}]}