{"sha": "4a8202c4a68ec6161dbc31dcb5b0ec51d84c9d87", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhODIwMmM0YTY4ZWM2MTYxZGJjMzFkY2I1YjBlYzUxZDg0YzlkODc=", "commit": {"author": {"name": "Hans Kratz", "email": "hans@appfour.com", "date": "2021-07-21T11:20:35Z"}, "committer": {"name": "Hans Kratz", "email": "hans@appfour.com", "date": "2021-08-04T21:36:14Z"}, "message": "Add testcase for proper LLVM representation of SIMD types.\n\nTestcase to make sure that no 0-sized padding is inserted in structs and that structs are represented as expected by Neon intrinsics in LLVM.", "tree": {"sha": "deb629ce2801d303788e12577db19675ff2c23b8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/deb629ce2801d303788e12577db19675ff2c23b8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4a8202c4a68ec6161dbc31dcb5b0ec51d84c9d87", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4a8202c4a68ec6161dbc31dcb5b0ec51d84c9d87", "html_url": "https://github.com/rust-lang/rust/commit/4a8202c4a68ec6161dbc31dcb5b0ec51d84c9d87", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4a8202c4a68ec6161dbc31dcb5b0ec51d84c9d87/comments", "author": {"login": "hkratz", "id": 3736990, "node_id": "MDQ6VXNlcjM3MzY5OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3736990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hkratz", "html_url": "https://github.com/hkratz", "followers_url": "https://api.github.com/users/hkratz/followers", "following_url": "https://api.github.com/users/hkratz/following{/other_user}", "gists_url": "https://api.github.com/users/hkratz/gists{/gist_id}", "starred_url": "https://api.github.com/users/hkratz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hkratz/subscriptions", "organizations_url": "https://api.github.com/users/hkratz/orgs", "repos_url": "https://api.github.com/users/hkratz/repos", "events_url": "https://api.github.com/users/hkratz/events{/privacy}", "received_events_url": "https://api.github.com/users/hkratz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "hkratz", "id": 3736990, "node_id": "MDQ6VXNlcjM3MzY5OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/3736990?v=4", "gravatar_id": "", "url": "https://api.github.com/users/hkratz", "html_url": "https://github.com/hkratz", "followers_url": "https://api.github.com/users/hkratz/followers", "following_url": "https://api.github.com/users/hkratz/following{/other_user}", "gists_url": "https://api.github.com/users/hkratz/gists{/gist_id}", "starred_url": "https://api.github.com/users/hkratz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/hkratz/subscriptions", "organizations_url": "https://api.github.com/users/hkratz/orgs", "repos_url": "https://api.github.com/users/hkratz/repos", "events_url": "https://api.github.com/users/hkratz/events{/privacy}", "received_events_url": "https://api.github.com/users/hkratz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "50be80b22d5edf508198fa757a0a88316b009af6", "url": "https://api.github.com/repos/rust-lang/rust/commits/50be80b22d5edf508198fa757a0a88316b009af6", "html_url": "https://github.com/rust-lang/rust/commit/50be80b22d5edf508198fa757a0a88316b009af6"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "eb44dbd931352bfa8a1c6ae10dbeed6de4e042a8", "filename": "src/test/codegen/unpadded-simd.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/4a8202c4a68ec6161dbc31dcb5b0ec51d84c9d87/src%2Ftest%2Fcodegen%2Funpadded-simd.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4a8202c4a68ec6161dbc31dcb5b0ec51d84c9d87/src%2Ftest%2Fcodegen%2Funpadded-simd.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Funpadded-simd.rs?ref=4a8202c4a68ec6161dbc31dcb5b0ec51d84c9d87", "patch": "@@ -0,0 +1,14 @@\n+// Make sure that no 0-sized padding is inserted in structs and that\n+// structs are represented as expected by Neon intrinsics in LLVM.\n+// See #87254.\n+\n+#![crate_type = \"lib\"]\n+#![feature(repr_simd)]\n+\n+#[derive(Copy, Clone, Debug)]\n+#[repr(simd)]\n+pub struct int16x4_t(pub i16, pub i16, pub i16, pub i16);\n+\n+#[derive(Copy, Clone, Debug)]\n+pub struct int16x4x2_t(pub int16x4_t, pub int16x4_t);\n+// CHECK: %int16x4x2_t = type { <4 x i16>, <4 x i16> }"}]}