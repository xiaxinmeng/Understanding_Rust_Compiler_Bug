{"sha": "41e1128969adc0190c946ccbd8b6b89ad197bc34", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQxZTExMjg5NjlhZGMwMTkwYzk0NmNjYmQ4YjZiODlhZDE5N2JjMzQ=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-09-19T00:07:33Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-09-19T00:07:33Z"}, "message": "Use 'if let' instead of 'match'", "tree": {"sha": "db29d54014720716a804e45101e9eaf07e1a7f9a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/db29d54014720716a804e45101e9eaf07e1a7f9a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/41e1128969adc0190c946ccbd8b6b89ad197bc34", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAl2CxsUACgkQtAh+UQ6Y\nsWTWVQ/9EuBo+My78dBo0JmPYNvSvOWoQFY3sCLuBLP5WuadpYLzbS17aVhzcGQz\n2cWgcNTMWJuUrc4byJ0mHOTL2UOZTwkNZ380nap1rMYQX7deeh5tGEHEhl+WrFDT\n44kCTg8R9Gc8zoU9jW2pgPdVkxoxQkflTr58RKBi4EX3UhdybXwaTIhZ2d7plxyP\n35AF2wdlZs5P7o1CsHeEYzQSlOFBAWJeo3m73QM/JsTp8CY/KTIiLme0yU/UrcoC\nMPBLV/eHLBEs8gqoeXwFUltXFsfRgOMf9Y5jFQW/c/rRCAKUrDWt4W/TIJTPHU0x\nyFwNbFUIS9Mj1nUvo8l99pa2YXQ+MLLek5uzPT/2dVMvKpQ38l4/IPW1tozTS39U\nRAv9QFJODqGcvBahpXnFtblowY265TxMD6FzOsx3g7iEldbb7X1eiyHbSm5JCQpf\n9MHN56tZYQLgnnJsQsLGM3IcDyCC6p9Jq+NU5HX+LskIPyLVTiYOQ5QZkk6upUbu\nmnhgqMsqD++IHglreCceyrk/ms/ejMeuLOjKT2QTTj9CTkdA3NimOZsKoto7aL0Z\nMSm2mi5e/Z/+yiS/MGQEDKqwCtA2wcUdhD2tXti/5+k/K/JXSlHH17ZRYoAwbQtK\nNf41kU6pzN3Pqyq459/84fKMNgs/3XfapU62oKVabCJ58q8xWEg=\n=7DPp\n-----END PGP SIGNATURE-----", "payload": "tree db29d54014720716a804e45101e9eaf07e1a7f9a\nparent a8ce93e13a9f1e7d7933ca76f6cae9c8f6127c34\nauthor Aaron Hill <aa1ronham@gmail.com> 1568851653 -0400\ncommitter Aaron Hill <aa1ronham@gmail.com> 1568851653 -0400\n\nUse 'if let' instead of 'match'\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/41e1128969adc0190c946ccbd8b6b89ad197bc34", "html_url": "https://github.com/rust-lang/rust/commit/41e1128969adc0190c946ccbd8b6b89ad197bc34", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/41e1128969adc0190c946ccbd8b6b89ad197bc34/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a8ce93e13a9f1e7d7933ca76f6cae9c8f6127c34", "url": "https://api.github.com/repos/rust-lang/rust/commits/a8ce93e13a9f1e7d7933ca76f6cae9c8f6127c34", "html_url": "https://github.com/rust-lang/rust/commit/a8ce93e13a9f1e7d7933ca76f6cae9c8f6127c34"}], "stats": {"total": 18, "additions": 7, "deletions": 11}, "files": [{"sha": "50fd72f06131904e927b65f83dfe0801b39ba703", "filename": "src/librustc_typeck/check/_match.rs", "status": "modified", "additions": 7, "deletions": 11, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/41e1128969adc0190c946ccbd8b6b89ad197bc34/src%2Flibrustc_typeck%2Fcheck%2F_match.rs", "raw_url": "https://github.com/rust-lang/rust/raw/41e1128969adc0190c946ccbd8b6b89ad197bc34/src%2Flibrustc_typeck%2Fcheck%2F_match.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2F_match.rs?ref=41e1128969adc0190c946ccbd8b6b89ad197bc34", "patch": "@@ -173,17 +173,13 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n         // we can emit a better note. Rather than pointing\n         // at a diverging expression in an arbitrary arm,\n         // we can point at the entire `match` expression\n-        match (all_arms_diverge, match_src) {\n-            (Diverges::Always { .. }, hir::MatchSource::Normal) => {\n-                all_arms_diverge = Diverges::Always {\n-                    span: expr.span,\n-                    custom_note: Some(\n-                        \"any code following this `match` expression is unreachable, \\\n-                        as all arms diverge\"\n-                    )\n-                };\n-            },\n-            _ => {}\n+        if let (Diverges::Always { .. }, hir::MatchSource::Normal) = (all_arms_diverge, match_src) {\n+            all_arms_diverge = Diverges::Always {\n+                span: expr.span,\n+                custom_note: Some(\n+                    \"any code following this `match` expression is unreachable, as all arms diverge\"\n+                )\n+            };\n         }\n \n         // We won't diverge unless the discriminant or all arms diverge."}]}