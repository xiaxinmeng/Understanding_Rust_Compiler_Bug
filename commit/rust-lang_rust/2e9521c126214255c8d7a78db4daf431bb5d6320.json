{"sha": "2e9521c126214255c8d7a78db4daf431bb5d6320", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJlOTUyMWMxMjYyMTQyNTVjOGQ3YTc4ZGI0ZGFmNDMxYmI1ZDYzMjA=", "commit": {"author": {"name": "Ivan Petkov", "email": "ivanppetkov@gmail.com", "date": "2015-02-23T19:33:52Z"}, "committer": {"name": "Ivan Petkov", "email": "ivanppetkov@gmail.com", "date": "2015-02-23T19:33:52Z"}, "message": "Update missing-doc test to explicitly check errors\n\nThis way we can be sure the correct error is displayed for the\nrespective code type.", "tree": {"sha": "8f2b4604b7a0ea82c61dd0baec80da4631fc191b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8f2b4604b7a0ea82c61dd0baec80da4631fc191b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2e9521c126214255c8d7a78db4daf431bb5d6320", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2e9521c126214255c8d7a78db4daf431bb5d6320", "html_url": "https://github.com/rust-lang/rust/commit/2e9521c126214255c8d7a78db4daf431bb5d6320", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2e9521c126214255c8d7a78db4daf431bb5d6320/comments", "author": {"login": "ipetkov", "id": 1638690, "node_id": "MDQ6VXNlcjE2Mzg2OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1638690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ipetkov", "html_url": "https://github.com/ipetkov", "followers_url": "https://api.github.com/users/ipetkov/followers", "following_url": "https://api.github.com/users/ipetkov/following{/other_user}", "gists_url": "https://api.github.com/users/ipetkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ipetkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ipetkov/subscriptions", "organizations_url": "https://api.github.com/users/ipetkov/orgs", "repos_url": "https://api.github.com/users/ipetkov/repos", "events_url": "https://api.github.com/users/ipetkov/events{/privacy}", "received_events_url": "https://api.github.com/users/ipetkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ipetkov", "id": 1638690, "node_id": "MDQ6VXNlcjE2Mzg2OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1638690?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ipetkov", "html_url": "https://github.com/ipetkov", "followers_url": "https://api.github.com/users/ipetkov/followers", "following_url": "https://api.github.com/users/ipetkov/following{/other_user}", "gists_url": "https://api.github.com/users/ipetkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/ipetkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ipetkov/subscriptions", "organizations_url": "https://api.github.com/users/ipetkov/orgs", "repos_url": "https://api.github.com/users/ipetkov/repos", "events_url": "https://api.github.com/users/ipetkov/events{/privacy}", "received_events_url": "https://api.github.com/users/ipetkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "717a91d6651598994834d056c69e6c4bf2b74b9f", "url": "https://api.github.com/repos/rust-lang/rust/commits/717a91d6651598994834d056c69e6c4bf2b74b9f", "html_url": "https://github.com/rust-lang/rust/commit/717a91d6651598994834d056c69e6c4bf2b74b9f"}], "stats": {"total": 34, "additions": 17, "deletions": 17}, "files": [{"sha": "cb2d4e10e6e7166237e4e459a2c35b08f4c7ec50", "filename": "src/test/compile-fail/lint-missing-doc.rs", "status": "modified", "additions": 17, "deletions": 17, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/2e9521c126214255c8d7a78db4daf431bb5d6320/src%2Ftest%2Fcompile-fail%2Flint-missing-doc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2e9521c126214255c8d7a78db4daf431bb5d6320/src%2Ftest%2Fcompile-fail%2Flint-missing-doc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flint-missing-doc.rs?ref=2e9521c126214255c8d7a78db4daf431bb5d6320", "patch": "@@ -17,15 +17,15 @@\n #![doc=\"More garbage\"]\n \n type Typedef = String;\n-pub type PubTypedef = String; //~ ERROR: missing documentation\n+pub type PubTypedef = String; //~ ERROR: missing documentation for a type alias\n \n struct Foo {\n     a: isize,\n     b: isize,\n }\n \n-pub struct PubFoo { //~ ERROR: missing documentation\n-    pub a: isize,      //~ ERROR: missing documentation\n+pub struct PubFoo { //~ ERROR: missing documentation for a struct\n+    pub a: isize,      //~ ERROR: missing documentation for a struct field\n     b: isize,\n }\n \n@@ -36,11 +36,11 @@ pub struct PubFoo2 {\n }\n \n mod module_no_dox {}\n-pub mod pub_module_no_dox {} //~ ERROR: missing documentation\n+pub mod pub_module_no_dox {} //~ ERROR: missing documentation for a module\n \n /// dox\n pub fn foo() {}\n-pub fn foo2() {} //~ ERROR: missing documentation\n+pub fn foo2() {} //~ ERROR: missing documentation for a function\n fn foo3() {}\n #[allow(missing_docs)] pub fn foo4() {}\n \n@@ -58,9 +58,9 @@ trait B {\n     fn foo_with_impl(&self) {}\n }\n \n-pub trait C { //~ ERROR: missing documentation\n-    fn foo(&self); //~ ERROR: missing documentation\n-    fn foo_with_impl(&self) {} //~ ERROR: missing documentation\n+pub trait C { //~ ERROR: missing documentation for a trait\n+    fn foo(&self); //~ ERROR: missing documentation for a type method\n+    fn foo_with_impl(&self) {} //~ ERROR: missing documentation for a method\n }\n \n #[allow(missing_docs)]\n@@ -70,8 +70,8 @@ pub trait D {\n \n /// dox\n pub trait E {\n-    type AssociatedType; //~ ERROR: missing documentation\n-    type AssociatedTypeDef = Self; //~ ERROR: missing documentation\n+    type AssociatedType; //~ ERROR: missing documentation for an associated type\n+    type AssociatedTypeDef = Self; //~ ERROR: missing documentation for an associated type\n \n     /// dox\n     type DocumentedType;\n@@ -87,7 +87,7 @@ impl Foo {\n }\n \n impl PubFoo {\n-    pub fn foo() {} //~ ERROR: missing documentation\n+    pub fn foo() {} //~ ERROR: missing documentation for a method\n     /// dox\n     pub fn foo1() {}\n     fn foo2() {}\n@@ -124,9 +124,9 @@ enum Baz {\n     BarB\n }\n \n-pub enum PubBaz { //~ ERROR: missing documentation\n-    PubBazA { //~ ERROR: missing documentation\n-        a: isize, //~ ERROR: missing documentation\n+pub enum PubBaz { //~ ERROR: missing documentation for an enum\n+    PubBazA { //~ ERROR: missing documentation for a variant\n+        a: isize, //~ ERROR: missing documentation for a struct field\n     },\n }\n \n@@ -152,14 +152,14 @@ pub fn baz() {}\n mod internal_impl {\n     /// dox\n     pub fn documented() {}\n-    pub fn undocumented1() {} //~ ERROR: missing documentation\n-    pub fn undocumented2() {} //~ ERROR: missing documentation\n+    pub fn undocumented1() {} //~ ERROR: missing documentation for a function\n+    pub fn undocumented2() {} //~ ERROR: missing documentation for a function\n     fn undocumented3() {}\n     /// dox\n     pub mod globbed {\n         /// dox\n         pub fn also_documented() {}\n-        pub fn also_undocumented1() {} //~ ERROR: missing documentation\n+        pub fn also_undocumented1() {} //~ ERROR: missing documentation for a function\n         fn also_undocumented2() {}\n     }\n }"}]}