{"sha": "c99f1b7413e8abccc07197838aafda6ce3788e26", "node_id": "C_kwDOAAsO6NoAKGM5OWYxYjc0MTNlOGFiY2NjMDcxOTc4MzhhYWZkYTZjZTM3ODhlMjY", "commit": {"author": {"name": "Joshua Nelson", "email": "jnelson@cloudflare.com", "date": "2022-12-14T18:46:47Z"}, "committer": {"name": "Joshua Nelson", "email": "jnelson@cloudflare.com", "date": "2022-12-14T18:46:47Z"}, "message": "Run `x test tidy` sooner in mingw-check\n\nIt takes less time to run than the other tests and is more likely to fail.\n`expand-yaml-anchors` is still run first to make sure the CI files are internally consistent.", "tree": {"sha": "867bf4219eb462f71d9b0d16aa127b0121ba1aa1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/867bf4219eb462f71d9b0d16aa127b0121ba1aa1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c99f1b7413e8abccc07197838aafda6ce3788e26", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c99f1b7413e8abccc07197838aafda6ce3788e26", "html_url": "https://github.com/rust-lang/rust/commit/c99f1b7413e8abccc07197838aafda6ce3788e26", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c99f1b7413e8abccc07197838aafda6ce3788e26/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ba64ba8b0dfd57f7d6d7399d0df7ded37d2af18d", "url": "https://api.github.com/repos/rust-lang/rust/commits/ba64ba8b0dfd57f7d6d7399d0df7ded37d2af18d", "html_url": "https://github.com/rust-lang/rust/commit/ba64ba8b0dfd57f7d6d7399d0df7ded37d2af18d"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "720c5c49394823979cffc719ff96ddcdc51f8bd3", "filename": "src/ci/docker/host-x86_64/mingw-check/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c99f1b7413e8abccc07197838aafda6ce3788e26/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/c99f1b7413e8abccc07197838aafda6ce3788e26/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fmingw-check%2FDockerfile?ref=c99f1b7413e8abccc07197838aafda6ce3788e26", "patch": "@@ -40,10 +40,10 @@ COPY host-x86_64/mingw-check/validate-error-codes.sh /scripts/\n \n ENV RUN_CHECK_WITH_PARALLEL_QUERIES 1\n ENV SCRIPT python3 ../x.py --stage 2 test src/tools/expand-yaml-anchors && \\\n+           python3 ../x.py test --stage 0 src/tools/tidy && \\\n            python3 ../x.py check --target=i686-pc-windows-gnu --host=i686-pc-windows-gnu --all-targets && \\\n            python3 ../x.py build --stage 0 src/tools/build-manifest && \\\n            python3 ../x.py test --stage 0 src/tools/compiletest && \\\n-           python3 ../x.py test --stage 2 src/tools/tidy && \\\n            python3 ../x.py test --stage 0 core alloc std test proc_macro && \\\n            # Build both public and internal documentation.\n            RUSTDOCFLAGS=\"--document-private-items\" python3 ../x.py doc --stage 0 library/test && \\"}]}