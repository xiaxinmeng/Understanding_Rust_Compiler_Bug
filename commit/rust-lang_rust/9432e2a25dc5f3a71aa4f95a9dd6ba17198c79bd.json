{"sha": "9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk0MzJlMmEyNWRjNWYzYTcxYWE0Zjk1YTlkZDZiYTE3MTk4Yzc5YmQ=", "commit": {"author": {"name": "klutzy", "email": "klutzytheklutzy@gmail.com", "date": "2013-11-25T14:17:01Z"}, "committer": {"name": "klutzy", "email": "klutzytheklutzy@gmail.com", "date": "2013-11-26T05:06:52Z"}, "message": "rustc: Update obsolete attribute list", "tree": {"sha": "8a83cca9c1040a0fd9b2d81cb97424dd97146215", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8a83cca9c1040a0fd9b2d81cb97424dd97146215"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd", "html_url": "https://github.com/rust-lang/rust/commit/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd/comments", "author": {"login": "klutzy", "id": 1589355, "node_id": "MDQ6VXNlcjE1ODkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klutzy", "html_url": "https://github.com/klutzy", "followers_url": "https://api.github.com/users/klutzy/followers", "following_url": "https://api.github.com/users/klutzy/following{/other_user}", "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}", "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions", "organizations_url": "https://api.github.com/users/klutzy/orgs", "repos_url": "https://api.github.com/users/klutzy/repos", "events_url": "https://api.github.com/users/klutzy/events{/privacy}", "received_events_url": "https://api.github.com/users/klutzy/received_events", "type": "User", "site_admin": false}, "committer": {"login": "klutzy", "id": 1589355, "node_id": "MDQ6VXNlcjE1ODkzNTU=", "avatar_url": "https://avatars.githubusercontent.com/u/1589355?v=4", "gravatar_id": "", "url": "https://api.github.com/users/klutzy", "html_url": "https://github.com/klutzy", "followers_url": "https://api.github.com/users/klutzy/followers", "following_url": "https://api.github.com/users/klutzy/following{/other_user}", "gists_url": "https://api.github.com/users/klutzy/gists{/gist_id}", "starred_url": "https://api.github.com/users/klutzy/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/klutzy/subscriptions", "organizations_url": "https://api.github.com/users/klutzy/orgs", "repos_url": "https://api.github.com/users/klutzy/repos", "events_url": "https://api.github.com/users/klutzy/events{/privacy}", "received_events_url": "https://api.github.com/users/klutzy/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b4ad3363f3ce5facdaac7384892319914f119177", "url": "https://api.github.com/repos/rust-lang/rust/commits/b4ad3363f3ce5facdaac7384892319914f119177", "html_url": "https://github.com/rust-lang/rust/commit/b4ad3363f3ce5facdaac7384892319914f119177"}], "stats": {"total": 18, "additions": 10, "deletions": 8}, "files": [{"sha": "42dbe3f6d9ecb0da47fd0660903223b2874ba4fc", "filename": "src/librustc/middle/lint.rs", "status": "modified", "additions": 8, "deletions": 5, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd/src%2Flibrustc%2Fmiddle%2Flint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd/src%2Flibrustc%2Fmiddle%2Flint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Flint.rs?ref=9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd", "patch": "@@ -807,9 +807,12 @@ fn check_attrs_usage(cx: &Context, attrs: &[ast::Attribute]) {\n     ];\n \n     let obsolete_attrs = [\n-        (\"abi\", \"extern \\\"abi\\\" fn\"),\n-        (\"auto_encode\", \"#[deriving(Encodable)]\"),\n-        (\"auto_decode\", \"#[deriving(Decodable)]\"),\n+        (\"abi\", \"Use `extern \\\"abi\\\" fn` instead\"),\n+        (\"auto_encode\", \"Use `#[deriving(Encodable)]` instead\"),\n+        (\"auto_decode\", \"Use `#[deriving(Decodable)]` instead\"),\n+        (\"fast_ffi\", \"Remove it\"),\n+        (\"fixed_stack_segment\", \"Remove it\"),\n+        (\"rust_stack\", \"Remove it\"),\n     ];\n \n     let other_attrs = [\n@@ -826,7 +829,7 @@ fn check_attrs_usage(cx: &Context, attrs: &[ast::Attribute]) {\n \n         // fn-level\n         \"test\", \"bench\", \"should_fail\", \"ignore\", \"inline\", \"lang\", \"main\", \"start\",\n-        \"fixed_stack_segment\", \"no_split_stack\", \"rust_stack\", \"cold\",\n+        \"no_split_stack\", \"cold\",\n \n         // internal attribute: bypass privacy inside items\n         \"!resolve_unexported\",\n@@ -849,7 +852,7 @@ fn check_attrs_usage(cx: &Context, attrs: &[ast::Attribute]) {\n         for &(obs_attr, obs_alter) in obsolete_attrs.iter() {\n             if name.equiv(&obs_attr) {\n                 cx.span_lint(attribute_usage, attr.span,\n-                             format!(\"obsolete attribute: use `{:s}` instead\", obs_alter));\n+                             format!(\"obsolete attribute: {:s}\", obs_alter));\n                 return;\n             }\n         }"}, {"sha": "bce41e5a49fe0560fd04103a87402cf574a79b75", "filename": "src/librustpkg/path_util.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd/src%2Flibrustpkg%2Fpath_util.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd/src%2Flibrustpkg%2Fpath_util.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustpkg%2Fpath_util.rs?ref=9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd", "patch": "@@ -461,7 +461,6 @@ pub fn versionize(p: &Path, v: &Version) -> Path {\n }\n \n #[cfg(target_os = \"win32\")]\n-#[fixed_stack_segment]\n pub fn chmod_read_only(p: &Path) -> bool {\n     unsafe {\n         do p.with_c_str |src_buf| {\n@@ -471,7 +470,6 @@ pub fn chmod_read_only(p: &Path) -> bool {\n }\n \n #[cfg(not(target_os = \"win32\"))]\n-#[fixed_stack_segment]\n pub fn chmod_read_only(p: &Path) -> bool {\n     unsafe {\n         do p.with_c_str |src_buf| {"}, {"sha": "10a829fd794556ce2a985fca91971f4010bac975", "filename": "src/test/compile-fail/cast-to-bare-fn.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd/src%2Ftest%2Fcompile-fail%2Fcast-to-bare-fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd/src%2Ftest%2Fcompile-fail%2Fcast-to-bare-fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcast-to-bare-fn.rs?ref=9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd", "patch": "@@ -10,7 +10,6 @@\n \n fn foo(_x: int) { }\n \n-#[fixed_stack_segment]\n fn main() {\n     let v: u64 = 5;\n     let x = foo as extern \"C\" fn() -> int;"}, {"sha": "919769783152dd1d2c89e19a8487dbd6483b49b0", "filename": "src/test/compile-fail/lint-obsolete-attr.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd/src%2Ftest%2Fcompile-fail%2Flint-obsolete-attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd/src%2Ftest%2Fcompile-fail%2Flint-obsolete-attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Flint-obsolete-attr.rs?ref=9432e2a25dc5f3a71aa4f95a9dd6ba17198c79bd", "patch": "@@ -15,4 +15,6 @@\n \n #[abi=\"stdcall\"] extern {} //~ ERROR: obsolete attribute\n \n+#[fixed_stack_segment] fn f() {} //~ ERROR: obsolete attribute\n+\n fn main() {}"}]}