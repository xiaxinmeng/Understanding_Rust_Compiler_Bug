{"sha": "dd122145b57513cf57076ae3235d70215b226039", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRkMTIyMTQ1YjU3NTEzY2Y1NzA3NmFlMzIzNWQ3MDIxNWIyMjYwMzk=", "commit": {"author": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2019-01-11T10:21:41Z"}, "committer": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2019-01-11T10:21:41Z"}, "message": "Merge #493\n\n493: force serde in ra_syntax r=matklad a=matklad\n\n\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "3f01166b8148b0703a6318662bbd93c51a2aa3e8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3f01166b8148b0703a6318662bbd93c51a2aa3e8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dd122145b57513cf57076ae3235d70215b226039", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dd122145b57513cf57076ae3235d70215b226039", "html_url": "https://github.com/rust-lang/rust/commit/dd122145b57513cf57076ae3235d70215b226039", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dd122145b57513cf57076ae3235d70215b226039/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "parents": [{"sha": "28559b7dd2e2c101c4b7f2c9bb207b3af94f6e16", "url": "https://api.github.com/repos/rust-lang/rust/commits/28559b7dd2e2c101c4b7f2c9bb207b3af94f6e16", "html_url": "https://github.com/rust-lang/rust/commit/28559b7dd2e2c101c4b7f2c9bb207b3af94f6e16"}, {"sha": "66d7adf1cbbe727bfdef6db3fbf8d15bc0e747df", "url": "https://api.github.com/repos/rust-lang/rust/commits/66d7adf1cbbe727bfdef6db3fbf8d15bc0e747df", "html_url": "https://github.com/rust-lang/rust/commit/66d7adf1cbbe727bfdef6db3fbf8d15bc0e747df"}], "stats": {"total": 37, "additions": 26, "deletions": 11}, "files": [{"sha": "006a17622dc5217266e9a723f5196b2cf0cdd8e0", "filename": "Cargo.lock", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/dd122145b57513cf57076ae3235d70215b226039/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/dd122145b57513cf57076ae3235d70215b226039/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=dd122145b57513cf57076ae3235d70215b226039", "patch": "@@ -743,10 +743,8 @@ dependencies = [\n  \"rustc-hash 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.84 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_json 1.0.34 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"smol_str 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"tempfile 3.0.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"test_utils 0.1.0\",\n- \"text_unit 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"thread_worker 0.1.0\",\n  \"threadpool 1.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url_serde 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -763,6 +761,7 @@ dependencies = [\n  \"parking_lot 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"ra_text_edit 0.1.0\",\n  \"rowan 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"smol_str 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"test_utils 0.1.0\",\n  \"text_unit 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-xid 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -980,7 +979,7 @@ version = \"0.2.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"parking_lot 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"smol_str 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"smol_str 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"text_unit 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -1119,7 +1118,7 @@ dependencies = [\n \n [[package]]\n name = \"smol_str\"\n-version = \"0.1.8\"\n+version = \"0.1.9\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"serde 1.0.84 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1591,7 +1590,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum sha-1 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"51b9d1f3b5de8a167ab06834a7c883bd197f2191e1dda1a22d9ccfeedbf9aded\"\n \"checksum slug 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b3bc762e6a4b6c6fcaade73e77f9ebc6991b676f88bb2358bddb56560f073373\"\n \"checksum smallvec 0.6.7 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b73ea3738b47563803ef814925e69be00799a8c07420be8b996f8e98fb2336db\"\n-\"checksum smol_str 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"486a74e9b9fc53373808f7a17e10fc728adcb1fbe272292271d8bea61175e181\"\n+\"checksum smol_str 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9af1035bc5d742ab6b7ab16713e41cc2ffe78cb474f6f43cd696b2d16052007e\"\n \"checksum stable_deref_trait 1.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"dba1a27d3efae4351c8051072d619e3ade2820635c3958d826bfea39d59b54c8\"\n \"checksum strsim 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"bb4f380125926a99e52bc279241539c018323fab05ad6368b56f93d9369ff550\"\n \"checksum superslice 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b50b13d42370e0f5fc62eafdd5c2d20065eaf5458dab215ff3e20e63eea96b30\""}, {"sha": "7e307eb1ce8b1de97926e40f88848f6a59648480", "filename": "crates/ra_lsp_server/Cargo.toml", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/dd122145b57513cf57076ae3235d70215b226039/crates%2Fra_lsp_server%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/dd122145b57513cf57076ae3235d70215b226039/crates%2Fra_lsp_server%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_lsp_server%2FCargo.toml?ref=dd122145b57513cf57076ae3235d70215b226039", "patch": "@@ -21,8 +21,6 @@ languageserver-types = \"0.53.1\"\n walkdir = \"2.2.7\"\n im = \"12.0.0\"\n cargo_metadata = \"0.6.0\"\n-text_unit = { version = \"0.1.2\", features = [\"serde\"] }\n-smol_str = { version = \"0.1.5\", features = [\"serde\"] }\n rustc-hash = \"1.0\"\n parking_lot = \"0.7.0\"\n "}, {"sha": "d5b4a4a772c33d9c05e4b9dc47d3c62a7766c5a2", "filename": "crates/ra_syntax/Cargo.toml", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/dd122145b57513cf57076ae3235d70215b226039/crates%2Fra_syntax%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/dd122145b57513cf57076ae3235d70215b226039/crates%2Fra_syntax%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2FCargo.toml?ref=dd122145b57513cf57076ae3235d70215b226039", "patch": "@@ -14,7 +14,12 @@ itertools = \"0.8.0\"\n drop_bomb = \"0.1.4\"\n parking_lot = \"0.7.0\"\n rowan = \"0.2.0\"\n-text_unit = \"0.1.6\"\n+\n+# ideally, `serde` should be enabled by `ra_lsp_serder`, but we enable it here\n+# to reduce number of compilations\n+text_unit = { version = \"0.1.6\", features = [\"serde\"] }\n+smol_str = { version = \"0.1.9\", features = [\"serde\"] }\n+\n ra_text_edit = { path = \"../ra_text_edit\" }\n \n [dev-dependencies]"}, {"sha": "4be6be44f770225e7fbaea902532b4d58068bde5", "filename": "crates/ra_syntax/fuzz/Cargo.lock", "status": "modified", "additions": 16, "deletions": 3, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/dd122145b57513cf57076ae3235d70215b226039/crates%2Fra_syntax%2Ffuzz%2FCargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/dd122145b57513cf57076ae3235d70215b226039/crates%2Fra_syntax%2Ffuzz%2FCargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ffuzz%2FCargo.lock?ref=dd122145b57513cf57076ae3235d70215b226039", "patch": "@@ -188,6 +188,7 @@ dependencies = [\n  \"parking_lot 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"ra_text_edit 0.1.0\",\n  \"rowan 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"smol_str 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"text_unit 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-xid 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -320,7 +321,7 @@ version = \"0.2.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"parking_lot 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"smol_str 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"smol_str 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"text_unit 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -361,6 +362,11 @@ name = \"semver-parser\"\n version = \"0.7.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n+[[package]]\n+name = \"serde\"\n+version = \"1.0.84\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+\n [[package]]\n name = \"smallvec\"\n version = \"0.6.7\"\n@@ -371,8 +377,11 @@ dependencies = [\n \n [[package]]\n name = \"smol_str\"\n-version = \"0.1.8\"\n+version = \"0.1.9\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+dependencies = [\n+ \"serde 1.0.84 (registry+https://github.com/rust-lang/crates.io-index)\",\n+]\n \n [[package]]\n name = \"stable_deref_trait\"\n@@ -396,6 +405,9 @@ dependencies = [\n name = \"text_unit\"\n version = \"0.1.6\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+dependencies = [\n+ \"serde 1.0.84 (registry+https://github.com/rust-lang/crates.io-index)\",\n+]\n \n [[package]]\n name = \"ucd-util\"\n@@ -492,8 +504,9 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum scopeguard 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"94258f53601af11e6a49f722422f6e3425c52b06245a5cf9bc09908b174f5e27\"\n \"checksum semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1d7eb9ef2c18661902cc47e535f9bc51b78acd254da71d375c2f6720d9a40403\"\n \"checksum semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3\"\n+\"checksum serde 1.0.84 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0e732ed5a5592c17d961555e3b552985baf98d50ce418b7b655f31f6ba7eb1b7\"\n \"checksum smallvec 0.6.7 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b73ea3738b47563803ef814925e69be00799a8c07420be8b996f8e98fb2336db\"\n-\"checksum smol_str 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"486a74e9b9fc53373808f7a17e10fc728adcb1fbe272292271d8bea61175e181\"\n+\"checksum smol_str 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9af1035bc5d742ab6b7ab16713e41cc2ffe78cb474f6f43cd696b2d16052007e\"\n \"checksum stable_deref_trait 1.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"dba1a27d3efae4351c8051072d619e3ade2820635c3958d826bfea39d59b54c8\"\n \"checksum tempfile 3.0.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7e91405c14320e5c79b3d148e1c86f40749a36e490642202a31689cb1a3452b2\"\n \"checksum text_unit 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"158bb1c22b638b1da3c95a8ad9f061ea40d4d39fd0301be3a520f92efeeb189e\""}]}