{"sha": "3ddb987f45c9126009b1c20cd1cc108b9de9c734", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkZGI5ODdmNDVjOTEyNjAwOWIxYzIwY2QxY2MxMDhiOWRlOWM3MzQ=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2014-06-17T13:38:50Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2014-06-18T14:42:57Z"}, "message": "Regression tests for flowgraph construction bug on ExprWhile.", "tree": {"sha": "200db5e830187f42b8c9bc4ad10450169c75ec56", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/200db5e830187f42b8c9bc4ad10450169c75ec56"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3ddb987f45c9126009b1c20cd1cc108b9de9c734", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3ddb987f45c9126009b1c20cd1cc108b9de9c734", "html_url": "https://github.com/rust-lang/rust/commit/3ddb987f45c9126009b1c20cd1cc108b9de9c734", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3ddb987f45c9126009b1c20cd1cc108b9de9c734/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "373b0fc56905c17d14438446e16712bf714c6f08", "url": "https://api.github.com/repos/rust-lang/rust/commits/373b0fc56905c17d14438446e16712bf714c6f08", "html_url": "https://github.com/rust-lang/rust/commit/373b0fc56905c17d14438446e16712bf714c6f08"}], "stats": {"total": 445, "additions": 444, "deletions": 1}, "files": [{"sha": "09440949177dd5f48d905181a663e541d7242653", "filename": "src/test/run-make/graphviz-flowgraph/Makefile", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2FMakefile?ref=3ddb987f45c9126009b1c20cd1cc108b9de9c734", "patch": "@@ -2,7 +2,8 @@\n \n FILES=f00.rs f01.rs f02.rs f03.rs f04.rs f05.rs f06.rs f07.rs \\\n       f08.rs f09.rs f10.rs f11.rs f12.rs f13.rs f14.rs f15.rs \\\n-      f16.rs f17.rs f18.rs f19.rs f20.rs f21.rs f22.rs\n+      f16.rs f17.rs f18.rs f19.rs f20.rs f21.rs f22.rs f23.rs \\\n+      f24.rs f25.rs\n \n \n # all: $(patsubst %.rs,$(TMPDIR)/%.dot,$(FILES)) $(patsubst %.rs,$(TMPDIR)/%.pp,$(FILES))"}, {"sha": "876957a0689d6ad50a75846086bf908cd521ba60", "filename": "src/test/run-make/graphviz-flowgraph/f23.dot-expected.dot", "status": "added", "additions": 93, "deletions": 0, "changes": 93, "blob_url": "https://github.com/rust-lang/rust/blob/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff23.dot-expected.dot", "raw_url": "https://github.com/rust-lang/rust/raw/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff23.dot-expected.dot", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff23.dot-expected.dot?ref=3ddb987f45c9126009b1c20cd1cc108b9de9c734", "patch": "@@ -0,0 +1,93 @@\n+digraph block {\n+    N0[label=\"entry\"];\n+    N1[label=\"exit\"];\n+    N2[label=\"expr 23\"];\n+    N3[label=\"local mut x\"];\n+    N4[label=\"expr 23\"];\n+    N5[label=\"local mut y\"];\n+    N6[label=\"expr 23\"];\n+    N7[label=\"local mut z\"];\n+    N8[label=\"(dummy_node)\"];\n+    N9[label=\"expr x\"];\n+    N10[label=\"expr 0\"];\n+    N11[label=\"expr x > 0\"];\n+    N12[label=\"expr while x > 0 {\\l    x -= 1;\\l    while y > 0 {\\l        y -= 1;\\l        while z > 0 { z -= 1; }\\l        if x > 10 { return; \\\"unreachable\\\"; }\\l    }\\l}\\l\"];\n+    N13[label=\"expr 1\"];\n+    N14[label=\"expr x\"];\n+    N15[label=\"expr x -= 1\"];\n+    N16[label=\"(dummy_node)\"];\n+    N17[label=\"expr y\"];\n+    N18[label=\"expr 0\"];\n+    N19[label=\"expr y > 0\"];\n+    N20[label=\"expr while y > 0 {\\l    y -= 1;\\l    while z > 0 { z -= 1; }\\l    if x > 10 { return; \\\"unreachable\\\"; }\\l}\\l\"];\n+    N21[label=\"expr 1\"];\n+    N22[label=\"expr y\"];\n+    N23[label=\"expr y -= 1\"];\n+    N24[label=\"(dummy_node)\"];\n+    N25[label=\"expr z\"];\n+    N26[label=\"expr 0\"];\n+    N27[label=\"expr z > 0\"];\n+    N28[label=\"expr while z > 0 { z -= 1; }\"];\n+    N29[label=\"expr 1\"];\n+    N30[label=\"expr z\"];\n+    N31[label=\"expr z -= 1\"];\n+    N32[label=\"block { z -= 1; }\"];\n+    N33[label=\"expr x\"];\n+    N34[label=\"expr 10\"];\n+    N35[label=\"expr x > 10\"];\n+    N36[label=\"expr return\"];\n+    N37[label=\"(dummy_node)\"];\n+    N38[label=\"expr \\\"unreachable\\\"\"];\n+    N39[label=\"block { return; \\\"unreachable\\\"; }\"];\n+    N40[label=\"expr if x > 10 { return; \\\"unreachable\\\"; }\"];\n+    N41[label=\"block { y -= 1; while z > 0 { z -= 1; } if x > 10 { return; \\\"unreachable\\\"; } }\"];\n+    N42[label=\"block {\\l    x -= 1;\\l    while y > 0 {\\l        y -= 1;\\l        while z > 0 { z -= 1; }\\l        if x > 10 { return; \\\"unreachable\\\"; }\\l    }\\l}\\l\"];\n+    N43[label=\"block {\\l    let mut x = 23;\\l    let mut y = 23;\\l    let mut z = 23;\\l    while x > 0 {\\l        x -= 1;\\l        while y > 0 {\\l            y -= 1;\\l            while z > 0 { z -= 1; }\\l            if x > 10 { return; \\\"unreachable\\\"; }\\l        }\\l    }\\l}\\l\"];\n+    N0 -> N2;\n+    N2 -> N3;\n+    N3 -> N4;\n+    N4 -> N5;\n+    N5 -> N6;\n+    N6 -> N7;\n+    N7 -> N8;\n+    N8 -> N9;\n+    N9 -> N10;\n+    N10 -> N11;\n+    N11 -> N12;\n+    N11 -> N13;\n+    N13 -> N14;\n+    N14 -> N15;\n+    N15 -> N16;\n+    N16 -> N17;\n+    N17 -> N18;\n+    N18 -> N19;\n+    N19 -> N20;\n+    N19 -> N21;\n+    N21 -> N22;\n+    N22 -> N23;\n+    N23 -> N24;\n+    N24 -> N25;\n+    N25 -> N26;\n+    N26 -> N27;\n+    N27 -> N28;\n+    N27 -> N29;\n+    N29 -> N30;\n+    N30 -> N31;\n+    N31 -> N32;\n+    N32 -> N24;\n+    N28 -> N33;\n+    N33 -> N34;\n+    N34 -> N35;\n+    N35 -> N36;\n+    N36 -> N1[label=\"exiting scope_0 expr while y > 0 {\\l    y -= 1;\\l    while z > 0 { z -= 1; }\\l    if x > 10 { return; \\\"unreachable\\\"; }\\l}\\l,\\lexiting scope_1 expr while x > 0 {\\l    x -= 1;\\l    while y > 0 {\\l        y -= 1;\\l        while z > 0 { z -= 1; }\\l        if x > 10 { return; \\\"unreachable\\\"; }\\l    }\\l}\\l\"];\n+    N37 -> N38;\n+    N38 -> N39;\n+    N35 -> N40;\n+    N39 -> N40;\n+    N40 -> N41;\n+    N41 -> N16;\n+    N20 -> N42;\n+    N42 -> N8;\n+    N12 -> N43;\n+    N43 -> N1;\n+}"}, {"sha": "52341a3fbd4080fde2487a85d1bc52f25ccb3f19", "filename": "src/test/run-make/graphviz-flowgraph/f23.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff23.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff23.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff23.rs?ref=3ddb987f45c9126009b1c20cd1cc108b9de9c734", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[allow(unreachable_code)]\n+pub fn expr_while_23() {\n+    let mut x = 23;\n+    let mut y = 23;\n+    let mut z = 23;\n+\n+    while x > 0 {\n+        x -= 1;\n+\n+        while y > 0 {\n+            y -= 1;\n+\n+            while z > 0 { z -= 1; }\n+\n+            if x > 10 {\n+                return;\n+                \"unreachable\";\n+            }\n+        }\n+    }\n+}"}, {"sha": "2558998be6e1fbff9db0d41762c2556b0511402d", "filename": "src/test/run-make/graphviz-flowgraph/f24.dot-expected.dot", "status": "added", "additions": 123, "deletions": 0, "changes": 123, "blob_url": "https://github.com/rust-lang/rust/blob/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff24.dot-expected.dot", "raw_url": "https://github.com/rust-lang/rust/raw/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff24.dot-expected.dot", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff24.dot-expected.dot?ref=3ddb987f45c9126009b1c20cd1cc108b9de9c734", "patch": "@@ -0,0 +1,123 @@\n+digraph block {\n+    N0[label=\"entry\"];\n+    N1[label=\"exit\"];\n+    N2[label=\"expr 24\"];\n+    N3[label=\"local mut x\"];\n+    N4[label=\"expr 24\"];\n+    N5[label=\"local mut y\"];\n+    N6[label=\"expr 24\"];\n+    N7[label=\"local mut z\"];\n+    N8[label=\"(dummy_node)\"];\n+    N9[label=\"expr loop  {\\l    if x == 0 { break ; \\\"unreachable\\\"; }\\l    x -= 1;\\l    loop  {\\l        if y == 0 { break ; \\\"unreachable\\\"; }\\l        y -= 1;\\l        loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l        if x > 10 { return; \\\"unreachable\\\"; }\\l    }\\l}\\l\"];\n+    N10[label=\"expr x\"];\n+    N11[label=\"expr 0\"];\n+    N12[label=\"expr x == 0\"];\n+    N13[label=\"expr break\"];\n+    N14[label=\"(dummy_node)\"];\n+    N15[label=\"expr \\\"unreachable\\\"\"];\n+    N16[label=\"block { break ; \\\"unreachable\\\"; }\"];\n+    N17[label=\"expr if x == 0 { break ; \\\"unreachable\\\"; }\"];\n+    N18[label=\"expr 1\"];\n+    N19[label=\"expr x\"];\n+    N20[label=\"expr x -= 1\"];\n+    N21[label=\"(dummy_node)\"];\n+    N22[label=\"expr loop  {\\l    if y == 0 { break ; \\\"unreachable\\\"; }\\l    y -= 1;\\l    loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l    if x > 10 { return; \\\"unreachable\\\"; }\\l}\\l\"];\n+    N23[label=\"expr y\"];\n+    N24[label=\"expr 0\"];\n+    N25[label=\"expr y == 0\"];\n+    N26[label=\"expr break\"];\n+    N27[label=\"(dummy_node)\"];\n+    N28[label=\"expr \\\"unreachable\\\"\"];\n+    N29[label=\"block { break ; \\\"unreachable\\\"; }\"];\n+    N30[label=\"expr if y == 0 { break ; \\\"unreachable\\\"; }\"];\n+    N31[label=\"expr 1\"];\n+    N32[label=\"expr y\"];\n+    N33[label=\"expr y -= 1\"];\n+    N34[label=\"(dummy_node)\"];\n+    N35[label=\"expr loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\"];\n+    N36[label=\"expr z\"];\n+    N37[label=\"expr 0\"];\n+    N38[label=\"expr z == 0\"];\n+    N39[label=\"expr break\"];\n+    N40[label=\"(dummy_node)\"];\n+    N41[label=\"expr \\\"unreachable\\\"\"];\n+    N42[label=\"block { break ; \\\"unreachable\\\"; }\"];\n+    N43[label=\"expr if z == 0 { break ; \\\"unreachable\\\"; }\"];\n+    N44[label=\"expr 1\"];\n+    N45[label=\"expr z\"];\n+    N46[label=\"expr z -= 1\"];\n+    N47[label=\"block { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\"];\n+    N48[label=\"expr x\"];\n+    N49[label=\"expr 10\"];\n+    N50[label=\"expr x > 10\"];\n+    N51[label=\"expr return\"];\n+    N52[label=\"(dummy_node)\"];\n+    N53[label=\"expr \\\"unreachable\\\"\"];\n+    N54[label=\"block { return; \\\"unreachable\\\"; }\"];\n+    N55[label=\"expr if x > 10 { return; \\\"unreachable\\\"; }\"];\n+    N56[label=\"block {\\l    if y == 0 { break ; \\\"unreachable\\\"; }\\l    y -= 1;\\l    loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l    if x > 10 { return; \\\"unreachable\\\"; }\\l}\\l\"];\n+    N57[label=\"block {\\l    if x == 0 { break ; \\\"unreachable\\\"; }\\l    x -= 1;\\l    loop  {\\l        if y == 0 { break ; \\\"unreachable\\\"; }\\l        y -= 1;\\l        loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l        if x > 10 { return; \\\"unreachable\\\"; }\\l    }\\l}\\l\"];\n+    N58[label=\"block {\\l    let mut x = 24;\\l    let mut y = 24;\\l    let mut z = 24;\\l    loop  {\\l        if x == 0 { break ; \\\"unreachable\\\"; }\\l        x -= 1;\\l        loop  {\\l            if y == 0 { break ; \\\"unreachable\\\"; }\\l            y -= 1;\\l            loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l            if x > 10 { return; \\\"unreachable\\\"; }\\l        }\\l    }\\l}\\l\"];\n+    N0 -> N2;\n+    N2 -> N3;\n+    N3 -> N4;\n+    N4 -> N5;\n+    N5 -> N6;\n+    N6 -> N7;\n+    N7 -> N8;\n+    N8 -> N10;\n+    N10 -> N11;\n+    N11 -> N12;\n+    N12 -> N13;\n+    N13 -> N9[label=\"exiting scope_0 expr break,\\lexiting scope_1 stmt break ;,\\lexiting scope_2 block { break ; \\\"unreachable\\\"; },\\lexiting scope_3 expr if x == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_4 stmt if x == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_5 block {\\l    if x == 0 { break ; \\\"unreachable\\\"; }\\l    x -= 1;\\l    loop  {\\l        if y == 0 { break ; \\\"unreachable\\\"; }\\l        y -= 1;\\l        loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l        if x > 10 { return; \\\"unreachable\\\"; }\\l    }\\l}\\l\"];\n+    N14 -> N15;\n+    N15 -> N16;\n+    N12 -> N17;\n+    N16 -> N17;\n+    N17 -> N18;\n+    N18 -> N19;\n+    N19 -> N20;\n+    N20 -> N21;\n+    N21 -> N23;\n+    N23 -> N24;\n+    N24 -> N25;\n+    N25 -> N26;\n+    N26 -> N22[label=\"exiting scope_0 expr break,\\lexiting scope_1 stmt break ;,\\lexiting scope_2 block { break ; \\\"unreachable\\\"; },\\lexiting scope_3 expr if y == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_4 stmt if y == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_5 block {\\l    if y == 0 { break ; \\\"unreachable\\\"; }\\l    y -= 1;\\l    loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l    if x > 10 { return; \\\"unreachable\\\"; }\\l}\\l\"];\n+    N27 -> N28;\n+    N28 -> N29;\n+    N25 -> N30;\n+    N29 -> N30;\n+    N30 -> N31;\n+    N31 -> N32;\n+    N32 -> N33;\n+    N33 -> N34;\n+    N34 -> N36;\n+    N36 -> N37;\n+    N37 -> N38;\n+    N38 -> N39;\n+    N39 -> N35[label=\"exiting scope_0 expr break,\\lexiting scope_1 stmt break ;,\\lexiting scope_2 block { break ; \\\"unreachable\\\"; },\\lexiting scope_3 expr if z == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_4 stmt if z == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_5 block { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\"];\n+    N40 -> N41;\n+    N41 -> N42;\n+    N38 -> N43;\n+    N42 -> N43;\n+    N43 -> N44;\n+    N44 -> N45;\n+    N45 -> N46;\n+    N46 -> N47;\n+    N47 -> N34;\n+    N35 -> N48;\n+    N48 -> N49;\n+    N49 -> N50;\n+    N50 -> N51;\n+    N51 -> N1[label=\"exiting scope_0 expr loop  {\\l    if y == 0 { break ; \\\"unreachable\\\"; }\\l    y -= 1;\\l    loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l    if x > 10 { return; \\\"unreachable\\\"; }\\l}\\l,\\lexiting scope_1 expr loop  {\\l    if x == 0 { break ; \\\"unreachable\\\"; }\\l    x -= 1;\\l    loop  {\\l        if y == 0 { break ; \\\"unreachable\\\"; }\\l        y -= 1;\\l        loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l        if x > 10 { return; \\\"unreachable\\\"; }\\l    }\\l}\\l\"];\n+    N52 -> N53;\n+    N53 -> N54;\n+    N50 -> N55;\n+    N54 -> N55;\n+    N55 -> N56;\n+    N56 -> N21;\n+    N22 -> N57;\n+    N57 -> N8;\n+    N9 -> N58;\n+    N58 -> N1;\n+}"}, {"sha": "f796d660a185634d3cb033241752fefe39eb6e3c", "filename": "src/test/run-make/graphviz-flowgraph/f24.rs", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff24.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff24.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff24.rs?ref=3ddb987f45c9126009b1c20cd1cc108b9de9c734", "patch": "@@ -0,0 +1,36 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[allow(unreachable_code)]\n+pub fn expr_while_24() {\n+    let mut x = 24;\n+    let mut y = 24;\n+    let mut z = 24;\n+\n+    loop {\n+        if x == 0 { break; \"unreachable\"; }\n+        x -= 1;\n+\n+        loop {\n+            if y == 0 { break; \"unreachable\"; }\n+            y -= 1;\n+\n+            loop {\n+                if z == 0 { break; \"unreachable\"; }\n+                z -= 1;\n+            }\n+\n+            if x > 10 {\n+                return;\n+                \"unreachable\";\n+            }\n+        }\n+    }\n+}"}, {"sha": "c393b63546c70eff0fcbc6db0d93a333ae240cfd", "filename": "src/test/run-make/graphviz-flowgraph/f25.dot-expected.dot", "status": "added", "additions": 123, "deletions": 0, "changes": 123, "blob_url": "https://github.com/rust-lang/rust/blob/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff25.dot-expected.dot", "raw_url": "https://github.com/rust-lang/rust/raw/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff25.dot-expected.dot", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff25.dot-expected.dot?ref=3ddb987f45c9126009b1c20cd1cc108b9de9c734", "patch": "@@ -0,0 +1,123 @@\n+digraph block {\n+    N0[label=\"entry\"];\n+    N1[label=\"exit\"];\n+    N2[label=\"expr 25\"];\n+    N3[label=\"local mut x\"];\n+    N4[label=\"expr 25\"];\n+    N5[label=\"local mut y\"];\n+    N6[label=\"expr 25\"];\n+    N7[label=\"local mut z\"];\n+    N8[label=\"(dummy_node)\"];\n+    N9[label=\"expr \\'a:\\l    loop  {\\l        if x == 0 { break ; \\\"unreachable\\\"; }\\l        x -= 1;\\l        \\'a:\\l            loop  {\\l                if y == 0 { break ; \\\"unreachable\\\"; }\\l                y -= 1;\\l                \\'a: loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l                if x > 10 { continue \\'a ; \\\"unreachable\\\"; }\\l            }\\l    }\\l\"];\n+    N10[label=\"expr x\"];\n+    N11[label=\"expr 0\"];\n+    N12[label=\"expr x == 0\"];\n+    N13[label=\"expr break\"];\n+    N14[label=\"(dummy_node)\"];\n+    N15[label=\"expr \\\"unreachable\\\"\"];\n+    N16[label=\"block { break ; \\\"unreachable\\\"; }\"];\n+    N17[label=\"expr if x == 0 { break ; \\\"unreachable\\\"; }\"];\n+    N18[label=\"expr 1\"];\n+    N19[label=\"expr x\"];\n+    N20[label=\"expr x -= 1\"];\n+    N21[label=\"(dummy_node)\"];\n+    N22[label=\"expr \\'a:\\l    loop  {\\l        if y == 0 { break ; \\\"unreachable\\\"; }\\l        y -= 1;\\l        \\'a: loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l        if x > 10 { continue \\'a ; \\\"unreachable\\\"; }\\l    }\\l\"];\n+    N23[label=\"expr y\"];\n+    N24[label=\"expr 0\"];\n+    N25[label=\"expr y == 0\"];\n+    N26[label=\"expr break\"];\n+    N27[label=\"(dummy_node)\"];\n+    N28[label=\"expr \\\"unreachable\\\"\"];\n+    N29[label=\"block { break ; \\\"unreachable\\\"; }\"];\n+    N30[label=\"expr if y == 0 { break ; \\\"unreachable\\\"; }\"];\n+    N31[label=\"expr 1\"];\n+    N32[label=\"expr y\"];\n+    N33[label=\"expr y -= 1\"];\n+    N34[label=\"(dummy_node)\"];\n+    N35[label=\"expr \\'a: loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\"];\n+    N36[label=\"expr z\"];\n+    N37[label=\"expr 0\"];\n+    N38[label=\"expr z == 0\"];\n+    N39[label=\"expr break\"];\n+    N40[label=\"(dummy_node)\"];\n+    N41[label=\"expr \\\"unreachable\\\"\"];\n+    N42[label=\"block { break ; \\\"unreachable\\\"; }\"];\n+    N43[label=\"expr if z == 0 { break ; \\\"unreachable\\\"; }\"];\n+    N44[label=\"expr 1\"];\n+    N45[label=\"expr z\"];\n+    N46[label=\"expr z -= 1\"];\n+    N47[label=\"block { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\"];\n+    N48[label=\"expr x\"];\n+    N49[label=\"expr 10\"];\n+    N50[label=\"expr x > 10\"];\n+    N51[label=\"expr continue \\'a\"];\n+    N52[label=\"(dummy_node)\"];\n+    N53[label=\"expr \\\"unreachable\\\"\"];\n+    N54[label=\"block { continue \\'a ; \\\"unreachable\\\"; }\"];\n+    N55[label=\"expr if x > 10 { continue \\'a ; \\\"unreachable\\\"; }\"];\n+    N56[label=\"block {\\l    if y == 0 { break ; \\\"unreachable\\\"; }\\l    y -= 1;\\l    \\'a: loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l    if x > 10 { continue \\'a ; \\\"unreachable\\\"; }\\l}\\l\"];\n+    N57[label=\"block {\\l    if x == 0 { break ; \\\"unreachable\\\"; }\\l    x -= 1;\\l    \\'a:\\l        loop  {\\l            if y == 0 { break ; \\\"unreachable\\\"; }\\l            y -= 1;\\l            \\'a: loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l            if x > 10 { continue \\'a ; \\\"unreachable\\\"; }\\l        }\\l}\\l\"];\n+    N58[label=\"block {\\l    let mut x = 25;\\l    let mut y = 25;\\l    let mut z = 25;\\l    \\'a:\\l        loop  {\\l            if x == 0 { break ; \\\"unreachable\\\"; }\\l            x -= 1;\\l            \\'a:\\l                loop  {\\l                    if y == 0 { break ; \\\"unreachable\\\"; }\\l                    y -= 1;\\l                    \\'a: loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l                    if x > 10 { continue \\'a ; \\\"unreachable\\\"; }\\l                }\\l        }\\l}\\l\"];\n+    N0 -> N2;\n+    N2 -> N3;\n+    N3 -> N4;\n+    N4 -> N5;\n+    N5 -> N6;\n+    N6 -> N7;\n+    N7 -> N8;\n+    N8 -> N10;\n+    N10 -> N11;\n+    N11 -> N12;\n+    N12 -> N13;\n+    N13 -> N9[label=\"exiting scope_0 expr break,\\lexiting scope_1 stmt break ;,\\lexiting scope_2 block { break ; \\\"unreachable\\\"; },\\lexiting scope_3 expr if x == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_4 stmt if x == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_5 block {\\l    if x == 0 { break ; \\\"unreachable\\\"; }\\l    x -= 1;\\l    \\'a:\\l        loop  {\\l            if y == 0 { break ; \\\"unreachable\\\"; }\\l            y -= 1;\\l            \\'a: loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l            if x > 10 { continue \\'a ; \\\"unreachable\\\"; }\\l        }\\l}\\l\"];\n+    N14 -> N15;\n+    N15 -> N16;\n+    N12 -> N17;\n+    N16 -> N17;\n+    N17 -> N18;\n+    N18 -> N19;\n+    N19 -> N20;\n+    N20 -> N21;\n+    N21 -> N23;\n+    N23 -> N24;\n+    N24 -> N25;\n+    N25 -> N26;\n+    N26 -> N22[label=\"exiting scope_0 expr break,\\lexiting scope_1 stmt break ;,\\lexiting scope_2 block { break ; \\\"unreachable\\\"; },\\lexiting scope_3 expr if y == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_4 stmt if y == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_5 block {\\l    if y == 0 { break ; \\\"unreachable\\\"; }\\l    y -= 1;\\l    \\'a: loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l    if x > 10 { continue \\'a ; \\\"unreachable\\\"; }\\l}\\l\"];\n+    N27 -> N28;\n+    N28 -> N29;\n+    N25 -> N30;\n+    N29 -> N30;\n+    N30 -> N31;\n+    N31 -> N32;\n+    N32 -> N33;\n+    N33 -> N34;\n+    N34 -> N36;\n+    N36 -> N37;\n+    N37 -> N38;\n+    N38 -> N39;\n+    N39 -> N35[label=\"exiting scope_0 expr break,\\lexiting scope_1 stmt break ;,\\lexiting scope_2 block { break ; \\\"unreachable\\\"; },\\lexiting scope_3 expr if z == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_4 stmt if z == 0 { break ; \\\"unreachable\\\"; },\\lexiting scope_5 block { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\"];\n+    N40 -> N41;\n+    N41 -> N42;\n+    N38 -> N43;\n+    N42 -> N43;\n+    N43 -> N44;\n+    N44 -> N45;\n+    N45 -> N46;\n+    N46 -> N47;\n+    N47 -> N34;\n+    N35 -> N48;\n+    N48 -> N49;\n+    N49 -> N50;\n+    N50 -> N51;\n+    N51 -> N21[label=\"exiting scope_0 expr continue \\'a,\\lexiting scope_1 stmt continue \\'a ;,\\lexiting scope_2 block { continue \\'a ; \\\"unreachable\\\"; },\\lexiting scope_3 expr if x > 10 { continue \\'a ; \\\"unreachable\\\"; },\\lexiting scope_4 block {\\l    if y == 0 { break ; \\\"unreachable\\\"; }\\l    y -= 1;\\l    \\'a: loop  { if z == 0 { break ; \\\"unreachable\\\"; } z -= 1; }\\l    if x > 10 { continue \\'a ; \\\"unreachable\\\"; }\\l}\\l\"];\n+    N52 -> N53;\n+    N53 -> N54;\n+    N50 -> N55;\n+    N54 -> N55;\n+    N55 -> N56;\n+    N56 -> N21;\n+    N22 -> N57;\n+    N57 -> N8;\n+    N9 -> N58;\n+    N58 -> N1;\n+}"}, {"sha": "2ee2e48fd10e0d2a451644cc6575623f574184e2", "filename": "src/test/run-make/graphviz-flowgraph/f25.rs", "status": "added", "additions": 36, "deletions": 0, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff25.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3ddb987f45c9126009b1c20cd1cc108b9de9c734/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff25.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fgraphviz-flowgraph%2Ff25.rs?ref=3ddb987f45c9126009b1c20cd1cc108b9de9c734", "patch": "@@ -0,0 +1,36 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[allow(unreachable_code)]\n+pub fn expr_while_25() {\n+    let mut x = 25;\n+    let mut y = 25;\n+    let mut z = 25;\n+\n+    'a: loop {\n+        if x == 0 { break; \"unreachable\"; }\n+        x -= 1;\n+\n+        'a: loop {\n+            if y == 0 { break; \"unreachable\"; }\n+            y -= 1;\n+\n+            'a: loop {\n+                if z == 0 { break; \"unreachable\"; }\n+                z -= 1;\n+            }\n+\n+            if x > 10 {\n+                continue 'a;\n+                \"unreachable\";\n+            }\n+        }\n+    }\n+}"}]}