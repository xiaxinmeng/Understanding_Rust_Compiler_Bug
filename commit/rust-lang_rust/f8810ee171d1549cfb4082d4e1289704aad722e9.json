{"sha": "f8810ee171d1549cfb4082d4e1289704aad722e9", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY4ODEwZWUxNzFkMTU0OWNmYjQwODJkNGUxMjg5NzA0YWFkNzIyZTk=", "commit": {"author": {"name": "Eduard-Mihai Burtescu", "email": "eddyb@lyken.rs", "date": "2021-08-10T21:05:25Z"}, "committer": {"name": "Eduard-Mihai Burtescu", "email": "eddyb@lyken.rs", "date": "2021-08-24T16:53:20Z"}, "message": "Update rustc-demangle to 0.1.21.", "tree": {"sha": "d043cf3b1cbcfb1f3b8e3547f0c4c6a859def0b3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d043cf3b1cbcfb1f3b8e3547f0c4c6a859def0b3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f8810ee171d1549cfb4082d4e1289704aad722e9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f8810ee171d1549cfb4082d4e1289704aad722e9", "html_url": "https://github.com/rust-lang/rust/commit/f8810ee171d1549cfb4082d4e1289704aad722e9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f8810ee171d1549cfb4082d4e1289704aad722e9/comments", "author": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "755385cd4f637fbe631fba805943f79ff39f7622", "url": "https://api.github.com/repos/rust-lang/rust/commits/755385cd4f637fbe631fba805943f79ff39f7622", "html_url": "https://github.com/rust-lang/rust/commit/755385cd4f637fbe631fba805943f79ff39f7622"}], "stats": {"total": 30, "additions": 15, "deletions": 15}, "files": [{"sha": "5e6b11032ab269999338706270750a8b2479517a", "filename": "Cargo.lock", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f8810ee171d1549cfb4082d4e1289704aad722e9/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/f8810ee171d1549cfb4082d4e1289704aad722e9/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=f8810ee171d1549cfb4082d4e1289704aad722e9", "patch": "@@ -3398,9 +3398,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-demangle\"\n-version = \"0.1.18\"\n+version = \"0.1.21\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"6e3bad0ee36814ca07d7968269dd4b7ec89ec2da10c4bb613928d3077083c232\"\n+checksum = \"7ef03e0a2b150c7a90d01faf6254c9c48a41e95fb2a8c2ac1c6f0d2b9aefc342\"\n dependencies = [\n  \"compiler_builtins\",\n  \"rustc-std-workspace-core\","}, {"sha": "521ce344180a1063fdbee45863a2c64df17b07d3", "filename": "compiler/rustc_codegen_llvm/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f8810ee171d1549cfb4082d4e1289704aad722e9/compiler%2Frustc_codegen_llvm%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/f8810ee171d1549cfb4082d4e1289704aad722e9/compiler%2Frustc_codegen_llvm%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2FCargo.toml?ref=f8810ee171d1549cfb4082d4e1289704aad722e9", "patch": "@@ -15,7 +15,7 @@ measureme = \"9.1.0\"\n snap = \"1\"\n tracing = \"0.1\"\n rustc_middle = { path = \"../rustc_middle\" }\n-rustc-demangle = \"0.1.18\"\n+rustc-demangle = \"0.1.21\"\n rustc_attr = { path = \"../rustc_attr\" }\n rustc_codegen_ssa = { path = \"../rustc_codegen_ssa\" }\n rustc_data_structures = { path = \"../rustc_data_structures\" }"}, {"sha": "aebf77a1fd85ffc1e276068968eea533c387f3da", "filename": "compiler/rustc_symbol_mangling/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f8810ee171d1549cfb4082d4e1289704aad722e9/compiler%2Frustc_symbol_mangling%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/f8810ee171d1549cfb4082d4e1289704aad722e9/compiler%2Frustc_symbol_mangling%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_symbol_mangling%2FCargo.toml?ref=f8810ee171d1549cfb4082d4e1289704aad722e9", "patch": "@@ -9,7 +9,7 @@ doctest = false\n [dependencies]\n tracing = \"0.1\"\n punycode = \"0.4.0\"\n-rustc-demangle = \"0.1.18\"\n+rustc-demangle = \"0.1.21\"\n \n rustc_span = { path = \"../rustc_span\" }\n rustc_middle = { path = \"../rustc_middle\" }"}, {"sha": "1b051b0d0f6e5079802b5bf394152ab5284901b5", "filename": "library/std/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f8810ee171d1549cfb4082d4e1289704aad722e9/library%2Fstd%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/f8810ee171d1549cfb4082d4e1289704aad722e9/library%2Fstd%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2FCargo.toml?ref=f8810ee171d1549cfb4082d4e1289704aad722e9", "patch": "@@ -24,7 +24,7 @@ std_detect = { path = \"../stdarch/crates/std_detect\", default-features = false,\n \n # Dependencies of the `backtrace` crate\n addr2line = { version = \"0.16.0\", optional = true, default-features = false }\n-rustc-demangle = { version = \"0.1.18\", features = ['rustc-dep-of-std'] }\n+rustc-demangle = { version = \"0.1.21\", features = ['rustc-dep-of-std'] }\n miniz_oxide = { version = \"0.4.0\", optional = true, default-features = false }\n [dependencies.object]\n version = \"0.26.1\""}, {"sha": "38b07acbdb27edfdc28b8535b46e172d1b29b550", "filename": "src/test/ui/symbol-names/const-generics-demangling.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f8810ee171d1549cfb4082d4e1289704aad722e9/src%2Ftest%2Fui%2Fsymbol-names%2Fconst-generics-demangling.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f8810ee171d1549cfb4082d4e1289704aad722e9/src%2Ftest%2Fui%2Fsymbol-names%2Fconst-generics-demangling.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsymbol-names%2Fconst-generics-demangling.rs?ref=f8810ee171d1549cfb4082d4e1289704aad722e9", "patch": "@@ -6,31 +6,31 @@ pub struct Unsigned<const F: u8>;\n \n #[rustc_symbol_name]\n //~^ ERROR symbol-name(_RMCsno73SFvQKx_1cINtB0_8UnsignedKhb_E)\n-//~| ERROR demangling(<c[464da6a86cb672f]::Unsigned<11: u8>>)\n+//~| ERROR demangling(<c[464da6a86cb672f]::Unsigned<11u8>>)\n //~| ERROR demangling-alt(<c::Unsigned<11>>)\n impl Unsigned<11> {}\n \n pub struct Signed<const F: i16>;\n \n #[rustc_symbol_name]\n //~^ ERROR symbol-name(_RMs_Csno73SFvQKx_1cINtB2_6SignedKsn98_E)\n-//~| ERROR demangling(<c[464da6a86cb672f]::Signed<-152: i16>>)\n+//~| ERROR demangling(<c[464da6a86cb672f]::Signed<-152i16>>)\n //~| ERROR demangling-alt(<c::Signed<-152>>)\n impl Signed<-152> {}\n \n pub struct Bool<const F: bool>;\n \n #[rustc_symbol_name]\n //~^ ERROR symbol-name(_RMs0_Csno73SFvQKx_1cINtB3_4BoolKb1_E)\n-//~| ERROR demangling(<c[464da6a86cb672f]::Bool<true: bool>>)\n+//~| ERROR demangling(<c[464da6a86cb672f]::Bool<true>>)\n //~| ERROR demangling-alt(<c::Bool<true>>)\n impl Bool<true> {}\n \n pub struct Char<const F: char>;\n \n #[rustc_symbol_name]\n //~^ ERROR symbol-name(_RMs1_Csno73SFvQKx_1cINtB3_4CharKc2202_E)\n-//~| ERROR demangling(<c[464da6a86cb672f]::Char<'\u2202': char>>)\n+//~| ERROR demangling(<c[464da6a86cb672f]::Char<'\u2202'>>)\n //~| ERROR demangling-alt(<c::Char<'\u2202'>>)\n impl Char<'\u2202'> {}\n "}, {"sha": "2abf293071f040bd683318ec93dedf6c4f490882", "filename": "src/test/ui/symbol-names/const-generics-demangling.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f8810ee171d1549cfb4082d4e1289704aad722e9/src%2Ftest%2Fui%2Fsymbol-names%2Fconst-generics-demangling.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f8810ee171d1549cfb4082d4e1289704aad722e9/src%2Ftest%2Fui%2Fsymbol-names%2Fconst-generics-demangling.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsymbol-names%2Fconst-generics-demangling.stderr?ref=f8810ee171d1549cfb4082d4e1289704aad722e9", "patch": "@@ -4,7 +4,7 @@ error: symbol-name(_RMCsno73SFvQKx_1cINtB0_8UnsignedKhb_E)\n LL | #[rustc_symbol_name]\n    | ^^^^^^^^^^^^^^^^^^^^\n \n-error: demangling(<c[464da6a86cb672f]::Unsigned<11: u8>>)\n+error: demangling(<c[464da6a86cb672f]::Unsigned<11u8>>)\n   --> $DIR/const-generics-demangling.rs:7:1\n    |\n LL | #[rustc_symbol_name]\n@@ -22,7 +22,7 @@ error: symbol-name(_RMs_Csno73SFvQKx_1cINtB2_6SignedKsn98_E)\n LL | #[rustc_symbol_name]\n    | ^^^^^^^^^^^^^^^^^^^^\n \n-error: demangling(<c[464da6a86cb672f]::Signed<-152: i16>>)\n+error: demangling(<c[464da6a86cb672f]::Signed<-152i16>>)\n   --> $DIR/const-generics-demangling.rs:15:1\n    |\n LL | #[rustc_symbol_name]\n@@ -40,7 +40,7 @@ error: symbol-name(_RMs0_Csno73SFvQKx_1cINtB3_4BoolKb1_E)\n LL | #[rustc_symbol_name]\n    | ^^^^^^^^^^^^^^^^^^^^\n \n-error: demangling(<c[464da6a86cb672f]::Bool<true: bool>>)\n+error: demangling(<c[464da6a86cb672f]::Bool<true>>)\n   --> $DIR/const-generics-demangling.rs:23:1\n    |\n LL | #[rustc_symbol_name]\n@@ -58,7 +58,7 @@ error: symbol-name(_RMs1_Csno73SFvQKx_1cINtB3_4CharKc2202_E)\n LL | #[rustc_symbol_name]\n    | ^^^^^^^^^^^^^^^^^^^^\n \n-error: demangling(<c[464da6a86cb672f]::Char<'\u2202': char>>)\n+error: demangling(<c[464da6a86cb672f]::Char<'\u2202'>>)\n   --> $DIR/const-generics-demangling.rs:31:1\n    |\n LL | #[rustc_symbol_name]"}, {"sha": "60f19266ba9fc7a146fe615e1a31c73ec9924e34", "filename": "src/test/ui/symbol-names/impl1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f8810ee171d1549cfb4082d4e1289704aad722e9/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f8810ee171d1549cfb4082d4e1289704aad722e9/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.rs?ref=f8810ee171d1549cfb4082d4e1289704aad722e9", "patch": "@@ -64,7 +64,7 @@ fn main() {\n             //[legacy]~| ERROR demangling(<[&dyn impl1::Foo+Assoc = extern \"C\" fn(&u8, ::.)+impl1::AutoTrait; 3] as impl1::main::{{closure}}::Bar>::method\n             //[legacy]~| ERROR demangling-alt(<[&dyn impl1::Foo+Assoc = extern \"C\" fn(&u8, ::.)+impl1::AutoTrait; 3] as impl1::main::{{closure}}::Bar>::method)\n              //[v0]~^^^^ ERROR symbol-name(_RNvXNCNvCs2qSCrjELJET_5impl14mains_0ARDNtB6_3Foop5AssocFG_KCRL0_hvEuNtB6_9AutoTraitEL_j3_NtB2_3Bar6method)\n-                //[v0]~| ERROR demangling(<[&dyn impl1[1c5860ab79c9e305]::Foo<Assoc = for<'a> extern \"C\" fn(&'a u8, ...)> + impl1[1c5860ab79c9e305]::AutoTrait; 3: usize] as impl1[1c5860ab79c9e305]::main::{closure#1}::Bar>::method)\n+                //[v0]~| ERROR demangling(<[&dyn impl1[1c5860ab79c9e305]::Foo<Assoc = for<'a> extern \"C\" fn(&'a u8, ...)> + impl1[1c5860ab79c9e305]::AutoTrait; 3usize] as impl1[1c5860ab79c9e305]::main::{closure#1}::Bar>::method)\n                 //[v0]~| ERROR demangling-alt(<[&dyn impl1::Foo<Assoc = for<'a> extern \"C\" fn(&'a u8, ...)> + impl1::AutoTrait; 3] as impl1::main::{closure#1}::Bar>::method)\n             #[rustc_def_path]\n             //[legacy]~^ ERROR def-path(<[&dyn Foo<Assoc = for<'r> extern \"C\" fn(&'r u8, ...)> + AutoTrait; 3] as main::{closure#1}::Bar>::method)"}, {"sha": "926e750e3cda711bf384cf20ad5f011e2f75298a", "filename": "src/test/ui/symbol-names/impl1.v0.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f8810ee171d1549cfb4082d4e1289704aad722e9/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.v0.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f8810ee171d1549cfb4082d4e1289704aad722e9/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.v0.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.v0.stderr?ref=f8810ee171d1549cfb4082d4e1289704aad722e9", "patch": "@@ -52,7 +52,7 @@ error: symbol-name(_RNvXNCNvCs2qSCrjELJET_5impl14mains_0ARDNtB6_3Foop5AssocFG_KC\n LL |             #[rustc_symbol_name]\n    |             ^^^^^^^^^^^^^^^^^^^^\n \n-error: demangling(<[&dyn impl1[1c5860ab79c9e305]::Foo<Assoc = for<'a> extern \"C\" fn(&'a u8, ...)> + impl1[1c5860ab79c9e305]::AutoTrait; 3: usize] as impl1[1c5860ab79c9e305]::main::{closure#1}::Bar>::method)\n+error: demangling(<[&dyn impl1[1c5860ab79c9e305]::Foo<Assoc = for<'a> extern \"C\" fn(&'a u8, ...)> + impl1[1c5860ab79c9e305]::AutoTrait; 3usize] as impl1[1c5860ab79c9e305]::main::{closure#1}::Bar>::method)\n   --> $DIR/impl1.rs:62:13\n    |\n LL |             #[rustc_symbol_name]"}]}