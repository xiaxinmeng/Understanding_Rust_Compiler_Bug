{"sha": "1130bbc26f849c81131c4ac336ec80c319d20769", "node_id": "MDY6Q29tbWl0NzI0NzEyOjExMzBiYmMyNmY4NDljODExMzFjNGFjMzM2ZWM4MGMzMTlkMjA3Njk=", "commit": {"author": {"name": "Konrad Borowski", "email": "konrad@borowski.pw", "date": "2018-12-30T10:43:20Z"}, "committer": {"name": "Konrad Borowski", "email": "konrad@borowski.pw", "date": "2018-12-30T10:43:20Z"}, "message": "Merge branch 'master' of https://github.com/rust-lang/rust-clippy into random-state-lint", "tree": {"sha": "77debd80a5b9f5cd982bf8d0e58284a1c756f732", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/77debd80a5b9f5cd982bf8d0e58284a1c756f732"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1130bbc26f849c81131c4ac336ec80c319d20769", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1130bbc26f849c81131c4ac336ec80c319d20769", "html_url": "https://github.com/rust-lang/rust/commit/1130bbc26f849c81131c4ac336ec80c319d20769", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1130bbc26f849c81131c4ac336ec80c319d20769/comments", "author": {"login": "xfix", "id": 1297598, "node_id": "MDQ6VXNlcjEyOTc1OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xfix", "html_url": "https://github.com/xfix", "followers_url": "https://api.github.com/users/xfix/followers", "following_url": "https://api.github.com/users/xfix/following{/other_user}", "gists_url": "https://api.github.com/users/xfix/gists{/gist_id}", "starred_url": "https://api.github.com/users/xfix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xfix/subscriptions", "organizations_url": "https://api.github.com/users/xfix/orgs", "repos_url": "https://api.github.com/users/xfix/repos", "events_url": "https://api.github.com/users/xfix/events{/privacy}", "received_events_url": "https://api.github.com/users/xfix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xfix", "id": 1297598, "node_id": "MDQ6VXNlcjEyOTc1OTg=", "avatar_url": "https://avatars.githubusercontent.com/u/1297598?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xfix", "html_url": "https://github.com/xfix", "followers_url": "https://api.github.com/users/xfix/followers", "following_url": "https://api.github.com/users/xfix/following{/other_user}", "gists_url": "https://api.github.com/users/xfix/gists{/gist_id}", "starred_url": "https://api.github.com/users/xfix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xfix/subscriptions", "organizations_url": "https://api.github.com/users/xfix/orgs", "repos_url": "https://api.github.com/users/xfix/repos", "events_url": "https://api.github.com/users/xfix/events{/privacy}", "received_events_url": "https://api.github.com/users/xfix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a6c4eaa93c7400450facd0eb0580e4d641f2e297", "url": "https://api.github.com/repos/rust-lang/rust/commits/a6c4eaa93c7400450facd0eb0580e4d641f2e297", "html_url": "https://github.com/rust-lang/rust/commit/a6c4eaa93c7400450facd0eb0580e4d641f2e297"}, {"sha": "ad2a4ef4bb88d7e61a0f28e19ae7e00824454cff", "url": "https://api.github.com/repos/rust-lang/rust/commits/ad2a4ef4bb88d7e61a0f28e19ae7e00824454cff", "html_url": "https://github.com/rust-lang/rust/commit/ad2a4ef4bb88d7e61a0f28e19ae7e00824454cff"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "2757593e2ee484b28651e9a15fa64b2256a4091f", "filename": "clippy_lints/src/attrs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Fattrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Fattrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fattrs.rs?ref=1130bbc26f849c81131c4ac336ec80c319d20769", "patch": "@@ -237,7 +237,7 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for AttrPass {\n \n     fn check_item(&mut self, cx: &LateContext<'a, 'tcx>, item: &'tcx Item) {\n         if is_relevant_item(cx.tcx, item) {\n-            check_attrs(cx, item.span, item.name, &item.attrs)\n+            check_attrs(cx, item.span, item.ident.name, &item.attrs)\n         }\n         match item.node {\n             ItemKind::ExternCrate(..) | ItemKind::Use(..) => {"}, {"sha": "61aa228729ce84630c9ccb2da287bccd1305c58f", "filename": "clippy_lints/src/len_zero.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Flen_zero.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Flen_zero.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flen_zero.rs?ref=1130bbc26f849c81131c4ac336ec80c319d20769", "patch": "@@ -176,7 +176,7 @@ fn check_trait_items(cx: &LateContext<'_, '_>, visited_trait: &Item, trait_items\n                 visited_trait.span,\n                 &format!(\n                     \"trait `{}` has a `len` method but no (possibly inherited) `is_empty` method\",\n-                    visited_trait.name\n+                    visited_trait.ident.name\n                 ),\n             );\n         }"}, {"sha": "90503970823f51046c1b811a02a8c78feea1c335", "filename": "clippy_lints/src/missing_doc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Fmissing_doc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Fmissing_doc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmissing_doc.rs?ref=1130bbc26f849c81131c4ac336ec80c319d20769", "patch": "@@ -141,7 +141,7 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for MissingDoc {\n             hir::ItemKind::Enum(..) => \"an enum\",\n             hir::ItemKind::Fn(..) => {\n                 // ignore main()\n-                if it.name == \"main\" {\n+                if it.ident.name == \"main\" {\n                     let def_id = cx.tcx.hir().local_def_id(it.id);\n                     let def_key = cx.tcx.hir().def_key(def_id);\n                     if def_key.parent == Some(hir::def_id::CRATE_DEF_INDEX) {"}, {"sha": "98ddcf945d98f845763c5e27d8e767bf0a497d0c", "filename": "clippy_lints/src/utils/inspector.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Futils%2Finspector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Futils%2Finspector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finspector.rs?ref=1130bbc26f849c81131c4ac336ec80c319d20769", "patch": "@@ -355,7 +355,7 @@ fn print_expr(cx: &LateContext<'_, '_>, expr: &hir::Expr, indent: usize) {\n \n fn print_item(cx: &LateContext<'_, '_>, item: &hir::Item) {\n     let did = cx.tcx.hir().local_def_id(item.id);\n-    println!(\"item `{}`\", item.name);\n+    println!(\"item `{}`\", item.ident.name);\n     match item.vis.node {\n         hir::VisibilityKind::Public => println!(\"public\"),\n         hir::VisibilityKind::Crate(_) => println!(\"visible crate wide\"),"}, {"sha": "be412f36eddf4a50e5e56cb7b6dc0f54472b3344", "filename": "clippy_lints/src/utils/internal_lints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs?ref=1130bbc26f849c81131c4ac336ec80c319d20769", "patch": "@@ -154,7 +154,7 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for LintWithoutLintPass {\n     fn check_item(&mut self, cx: &LateContext<'a, 'tcx>, item: &'tcx Item) {\n         if let hir::ItemKind::Static(ref ty, MutImmutable, _) = item.node {\n             if is_lint_ref_type(cx, ty) {\n-                self.declared_lints.insert(item.name, item.span);\n+                self.declared_lints.insert(item.ident.name, item.span);\n             }\n         } else if let hir::ItemKind::Impl(.., Some(ref trait_ref), _, ref impl_item_refs) = item.node {\n             if_chain! {"}, {"sha": "e92529dc0a25793dda2af5df4d3ead58d40c4b34", "filename": "clippy_lints/src/utils/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1130bbc26f849c81131c4ac336ec80c319d20769/clippy_lints%2Fsrc%2Futils%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fmod.rs?ref=1130bbc26f849c81131c4ac336ec80c319d20769", "patch": "@@ -334,7 +334,7 @@ pub fn method_chain_args<'a>(expr: &'a Expr, methods: &[&str]) -> Option<Vec<&'a\n pub fn get_item_name(cx: &LateContext<'_, '_>, expr: &Expr) -> Option<Name> {\n     let parent_id = cx.tcx.hir().get_parent(expr.id);\n     match cx.tcx.hir().find(parent_id) {\n-        Some(Node::Item(&Item { ref name, .. })) => Some(*name),\n+        Some(Node::Item(&Item { ref ident, .. })) => Some(ident.name),\n         Some(Node::TraitItem(&TraitItem { ident, .. })) | Some(Node::ImplItem(&ImplItem { ident, .. })) => {\n             Some(ident.name)\n         },"}]}