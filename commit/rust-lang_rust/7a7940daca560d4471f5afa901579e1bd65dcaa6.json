{"sha": "7a7940daca560d4471f5afa901579e1bd65dcaa6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdhNzk0MGRhY2E1NjBkNDQ3MWY1YWZhOTAxNTc5ZTFiZDY1ZGNhYTY=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-10-28T04:09:02Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-10-28T04:09:02Z"}, "message": "Add reverse iterators to std::vec", "tree": {"sha": "9acdec7f94be6e8c9dd5468ab25d184f7a8ebdbe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9acdec7f94be6e8c9dd5468ab25d184f7a8ebdbe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7a7940daca560d4471f5afa901579e1bd65dcaa6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7a7940daca560d4471f5afa901579e1bd65dcaa6", "html_url": "https://github.com/rust-lang/rust/commit/7a7940daca560d4471f5afa901579e1bd65dcaa6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7a7940daca560d4471f5afa901579e1bd65dcaa6/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f1f0e6c06c9a208bbcbe48292b7a0ee31edbb114", "url": "https://api.github.com/repos/rust-lang/rust/commits/f1f0e6c06c9a208bbcbe48292b7a0ee31edbb114", "html_url": "https://github.com/rust-lang/rust/commit/f1f0e6c06c9a208bbcbe48292b7a0ee31edbb114"}], "stats": {"total": 57, "additions": 57, "deletions": 0}, "files": [{"sha": "7ef0f525d74f3480a5b3b0d87462983473a0878c", "filename": "src/lib/vec.rs", "status": "modified", "additions": 29, "deletions": 0, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/7a7940daca560d4471f5afa901579e1bd65dcaa6/src%2Flib%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a7940daca560d4471f5afa901579e1bd65dcaa6/src%2Flib%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fvec.rs?ref=7a7940daca560d4471f5afa901579e1bd65dcaa6", "patch": "@@ -663,6 +663,35 @@ fn iter2<T>(v: [mutable? T], f: block(uint, T)) {\n     for x in v { f(i, x); i += 1u; }\n }\n \n+/*\n+Function: riter\n+\n+Iterates over a vector in reverse\n+\n+Iterates over vector `v` and, for each element, calls function `f` with the\n+element's value.\n+\n+*/\n+fn riter<T>(v: [mutable? T], f: block(T)) {\n+    riter2(v) { |_i, v| f(v) }\n+}\n+\n+/*\n+Function: riter2\n+\n+Iterates over a vector's elements and indexes in reverse\n+\n+Iterates over vector `v` and, for each element, calls function `f` with the\n+element's value and index.\n+*/\n+fn riter2<T>(v: [mutable? T], f: block(uint, T)) {\n+    let i = len(v);\n+    while 0u < i {\n+        i -= 1u;\n+        f(i, v[i]);\n+    };\n+}\n+\n /*\n Function: to_ptr\n "}, {"sha": "d281a697cbe93eca29a9a5f90d6051f61725e1af", "filename": "src/test/stdtest/vec.rs", "status": "modified", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/7a7940daca560d4471f5afa901579e1bd65dcaa6/src%2Ftest%2Fstdtest%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7a7940daca560d4471f5afa901579e1bd65dcaa6/src%2Ftest%2Fstdtest%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fstdtest%2Fvec.rs?ref=7a7940daca560d4471f5afa901579e1bd65dcaa6", "patch": "@@ -316,6 +316,34 @@ fn iter_nonempty() {\n     assert i == 6;\n }\n \n+#[test]\n+fn riter_empty() {\n+    let i = 0;\n+    vec::riter::<int>([], { |_v| i += 1 });\n+    assert i == 0;\n+}\n+\n+#[test]\n+fn riter_nonempty() {\n+    let i = 0;\n+    vec::riter([1, 2, 3], { |v|\n+        if i == 0 { assert v == 3; }\n+        i += v\n+                         });\n+    assert i == 6;\n+}\n+\n+#[test]\n+fn riter2() {\n+    let i = 0;\n+    vec::riter2([0, 1, 2], { |j, v|\n+        if i == 0 { assert v == 2; }\n+        assert j == v as uint;\n+        i += v;                   \n+                          });\n+    assert i == 3;\n+}\n+\n #[test]\n fn test_any_and_all() {\n     assert (vec::any(is_three, [1u, 2u, 3u]));"}]}