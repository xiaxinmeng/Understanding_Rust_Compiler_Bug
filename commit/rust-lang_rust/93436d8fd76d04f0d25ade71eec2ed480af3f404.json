{"sha": "93436d8fd76d04f0d25ade71eec2ed480af3f404", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkzNDM2ZDhmZDc2ZDA0ZjBkMjVhZGU3MWVlYzJlZDQ4MGFmM2Y0MDQ=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-03-09T20:51:22Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-03-11T18:44:23Z"}, "message": "make error message less confusing", "tree": {"sha": "4df0876cd6277d61229506f4af7d2b2fb79fd33a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4df0876cd6277d61229506f4af7d2b2fb79fd33a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/93436d8fd76d04f0d25ade71eec2ed480af3f404", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/93436d8fd76d04f0d25ade71eec2ed480af3f404", "html_url": "https://github.com/rust-lang/rust/commit/93436d8fd76d04f0d25ade71eec2ed480af3f404", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/93436d8fd76d04f0d25ade71eec2ed480af3f404/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "968142294385228fdc8af954dcd5be013404fba5", "url": "https://api.github.com/repos/rust-lang/rust/commits/968142294385228fdc8af954dcd5be013404fba5", "html_url": "https://github.com/rust-lang/rust/commit/968142294385228fdc8af954dcd5be013404fba5"}], "stats": {"total": 54, "additions": 27, "deletions": 27}, "files": [{"sha": "e4c3dfe85d41eb928357324592e6e22cfa1ebfcd", "filename": "src/librustc/mir/interpret/error.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/93436d8fd76d04f0d25ade71eec2ed480af3f404/src%2Flibrustc%2Fmir%2Finterpret%2Ferror.rs", "raw_url": "https://github.com/rust-lang/rust/raw/93436d8fd76d04f0d25ade71eec2ed480af3f404/src%2Flibrustc%2Fmir%2Finterpret%2Ferror.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Finterpret%2Ferror.rs?ref=93436d8fd76d04f0d25ade71eec2ed480af3f404", "patch": "@@ -485,8 +485,8 @@ impl fmt::Debug for UnsupportedOpInfo {\n                     initializer\"\n             ),\n \n-            ReadPointerAsBytes => write!(f, \"unable to turn this pointer into raw bytes\",),\n-            ReadBytesAsPointer => write!(f, \"unable to turn these bytes into a pointer\"),\n+            ReadPointerAsBytes => write!(f, \"unable to turn pointer into raw bytes\",),\n+            ReadBytesAsPointer => write!(f, \"unable to turn bytes into a pointer\"),\n         }\n     }\n }"}, {"sha": "305f259eac22dc38832040e15a79ede2a75ca89d", "filename": "src/test/ui/consts/const-eval/const-pointer-values-in-various-types.stderr", "status": "modified", "additions": 20, "deletions": 20, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/93436d8fd76d04f0d25ade71eec2ed480af3f404/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst-pointer-values-in-various-types.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/93436d8fd76d04f0d25ade71eec2ed480af3f404/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst-pointer-values-in-various-types.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst-pointer-values-in-various-types.stderr?ref=93436d8fd76d04f0d25ade71eec2ed480af3f404", "patch": "@@ -12,7 +12,7 @@ error: any use of this value will cause an error\n LL |     const I32_REF_U8_UNION: u8 = unsafe { Nonsense { int_32_ref: &3 }.uint_8 };\n    |     --------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                           |\n-   |                                           unable to turn this pointer into raw bytes\n+   |                                           unable to turn pointer into raw bytes\n    |\n    = note: `#[deny(const_err)]` on by default\n \n@@ -22,15 +22,15 @@ error: any use of this value will cause an error\n LL |     const I32_REF_U16_UNION: u16 = unsafe { Nonsense { int_32_ref: &3 }.uint_16 };\n    |     ----------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                             |\n-   |                                             unable to turn this pointer into raw bytes\n+   |                                             unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:34:45\n    |\n LL |     const I32_REF_U32_UNION: u32 = unsafe { Nonsense { int_32_ref: &3 }.uint_32 };\n    |     ----------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                             |\n-   |                                             unable to turn this pointer into raw bytes\n+   |                                             unable to turn pointer into raw bytes\n \n error[E0080]: it is undefined behavior to use this value\n   --> $DIR/const-pointer-values-in-various-types.rs:37:5\n@@ -54,23 +54,23 @@ error: any use of this value will cause an error\n LL |     const I32_REF_I8_UNION: i8 = unsafe { Nonsense { int_32_ref: &3 }.int_8 };\n    |     --------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                           |\n-   |                                           unable to turn this pointer into raw bytes\n+   |                                           unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:46:45\n    |\n LL |     const I32_REF_I16_UNION: i16 = unsafe { Nonsense { int_32_ref: &3 }.int_16 };\n    |     ----------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                             |\n-   |                                             unable to turn this pointer into raw bytes\n+   |                                             unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:49:45\n    |\n LL |     const I32_REF_I32_UNION: i32 = unsafe { Nonsense { int_32_ref: &3 }.int_32 };\n    |     ----------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                             |\n-   |                                             unable to turn this pointer into raw bytes\n+   |                                             unable to turn pointer into raw bytes\n \n error[E0080]: it is undefined behavior to use this value\n   --> $DIR/const-pointer-values-in-various-types.rs:52:5\n@@ -94,7 +94,7 @@ error: any use of this value will cause an error\n LL |     const I32_REF_F32_UNION: f32 = unsafe { Nonsense { int_32_ref: &3 }.float_32 };\n    |     ----------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                             |\n-   |                                             unable to turn this pointer into raw bytes\n+   |                                             unable to turn pointer into raw bytes\n \n error[E0080]: it is undefined behavior to use this value\n   --> $DIR/const-pointer-values-in-various-types.rs:61:5\n@@ -110,39 +110,39 @@ error: any use of this value will cause an error\n LL |     const I32_REF_BOOL_UNION: bool = unsafe { Nonsense { int_32_ref: &3 }.truthy_falsey };\n    |     ------------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                               |\n-   |                                               unable to turn this pointer into raw bytes\n+   |                                               unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:67:47\n    |\n LL |     const I32_REF_CHAR_UNION: char = unsafe { Nonsense { int_32_ref: &3 }.character };\n    |     ------------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                               |\n-   |                                               unable to turn this pointer into raw bytes\n+   |                                               unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:70:39\n    |\n LL |     const STR_U8_UNION: u8 = unsafe { Nonsense { stringy: \"3\" }.uint_8 };\n    |     ----------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                       |\n-   |                                       unable to turn this pointer into raw bytes\n+   |                                       unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:73:41\n    |\n LL |     const STR_U16_UNION: u16 = unsafe { Nonsense { stringy: \"3\" }.uint_16 };\n    |     ------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                         |\n-   |                                         unable to turn this pointer into raw bytes\n+   |                                         unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:76:41\n    |\n LL |     const STR_U32_UNION: u32 = unsafe { Nonsense { stringy: \"3\" }.uint_32 };\n    |     ------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                         |\n-   |                                         unable to turn this pointer into raw bytes\n+   |                                         unable to turn pointer into raw bytes\n \n error[E0080]: it is undefined behavior to use this value\n   --> $DIR/const-pointer-values-in-various-types.rs:79:5\n@@ -158,31 +158,31 @@ error: any use of this value will cause an error\n LL |     const STR_U128_UNION: u128 = unsafe { Nonsense { stringy: \"3\" }.uint_128 };\n    |     --------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                           |\n-   |                                           unable to turn this pointer into raw bytes\n+   |                                           unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:85:39\n    |\n LL |     const STR_I8_UNION: i8 = unsafe { Nonsense { stringy: \"3\" }.int_8 };\n    |     ----------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                       |\n-   |                                       unable to turn this pointer into raw bytes\n+   |                                       unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:88:41\n    |\n LL |     const STR_I16_UNION: i16 = unsafe { Nonsense { stringy: \"3\" }.int_16 };\n    |     ------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                         |\n-   |                                         unable to turn this pointer into raw bytes\n+   |                                         unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:91:41\n    |\n LL |     const STR_I32_UNION: i32 = unsafe { Nonsense { stringy: \"3\" }.int_32 };\n    |     ------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                         |\n-   |                                         unable to turn this pointer into raw bytes\n+   |                                         unable to turn pointer into raw bytes\n \n error[E0080]: it is undefined behavior to use this value\n   --> $DIR/const-pointer-values-in-various-types.rs:94:5\n@@ -198,15 +198,15 @@ error: any use of this value will cause an error\n LL |     const STR_I128_UNION: i128 = unsafe { Nonsense { stringy: \"3\" }.int_128 };\n    |     --------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                           |\n-   |                                           unable to turn this pointer into raw bytes\n+   |                                           unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:100:41\n    |\n LL |     const STR_F32_UNION: f32 = unsafe { Nonsense { stringy: \"3\" }.float_32 };\n    |     ------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                         |\n-   |                                         unable to turn this pointer into raw bytes\n+   |                                         unable to turn pointer into raw bytes\n \n error[E0080]: it is undefined behavior to use this value\n   --> $DIR/const-pointer-values-in-various-types.rs:103:5\n@@ -222,15 +222,15 @@ error: any use of this value will cause an error\n LL |     const STR_BOOL_UNION: bool = unsafe { Nonsense { stringy: \"3\" }.truthy_falsey };\n    |     --------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                           |\n-   |                                           unable to turn this pointer into raw bytes\n+   |                                           unable to turn pointer into raw bytes\n \n error: any use of this value will cause an error\n   --> $DIR/const-pointer-values-in-various-types.rs:109:43\n    |\n LL |     const STR_CHAR_UNION: char = unsafe { Nonsense { stringy: \"3\" }.character };\n    |     --------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^---\n    |                                           |\n-   |                                           unable to turn this pointer into raw bytes\n+   |                                           unable to turn pointer into raw bytes\n \n error: aborting due to 29 previous errors\n "}, {"sha": "cc40728e6b574afa577f8f59cead2455a48782ee", "filename": "src/test/ui/consts/const-eval/const_raw_ptr_ops.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/93436d8fd76d04f0d25ade71eec2ed480af3f404/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_raw_ptr_ops.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/93436d8fd76d04f0d25ade71eec2ed480af3f404/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_raw_ptr_ops.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst_raw_ptr_ops.stderr?ref=93436d8fd76d04f0d25ade71eec2ed480af3f404", "patch": "@@ -30,15 +30,15 @@ error: any use of this value will cause an error\n LL | const Z2: i32 = unsafe { *(42 as *const i32) };\n    | -------------------------^^^^^^^^^^^^^^^^^^^---\n    |                          |\n-   |                          unable to turn these bytes into a pointer\n+   |                          unable to turn bytes into a pointer\n \n error: any use of this value will cause an error\n   --> $DIR/const_raw_ptr_ops.rs:17:26\n    |\n LL | const Z3: i32 = unsafe { *(44 as *const i32) };\n    | -------------------------^^^^^^^^^^^^^^^^^^^---\n    |                          |\n-   |                          unable to turn these bytes into a pointer\n+   |                          unable to turn bytes into a pointer\n \n error: aborting due to 5 previous errors\n "}, {"sha": "8b788dafbb8aadee558098da4e47dd16c9530dab", "filename": "src/test/ui/consts/offset_from_ub.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/93436d8fd76d04f0d25ade71eec2ed480af3f404/src%2Ftest%2Fui%2Fconsts%2Foffset_from_ub.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/93436d8fd76d04f0d25ade71eec2ed480af3f404/src%2Ftest%2Fui%2Fconsts%2Foffset_from_ub.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Foffset_from_ub.stderr?ref=93436d8fd76d04f0d25ade71eec2ed480af3f404", "patch": "@@ -26,7 +26,7 @@ error: any use of this value will cause an error\n LL |           intrinsics::ptr_offset_from(self, origin)\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |           |\n-   |           unable to turn these bytes into a pointer\n+   |           unable to turn bytes into a pointer\n    |           inside call to `std::ptr::const_ptr::<impl *const u8>::offset_from` at $DIR/offset_from_ub.rs:28:14\n    | \n   ::: $DIR/offset_from_ub.rs:26:1\n@@ -81,7 +81,7 @@ error: any use of this value will cause an error\n LL |           intrinsics::ptr_offset_from(self, origin)\n    |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |           |\n-   |           unable to turn these bytes into a pointer\n+   |           unable to turn bytes into a pointer\n    |           inside call to `std::ptr::const_ptr::<impl *const u8>::offset_from` at $DIR/offset_from_ub.rs:49:14\n    | \n   ::: $DIR/offset_from_ub.rs:45:1"}, {"sha": "685055525627ee7a8436e0d2301cb988f59fc8ae", "filename": "src/test/ui/error-codes/E0396-fixed.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/93436d8fd76d04f0d25ade71eec2ed480af3f404/src%2Ftest%2Fui%2Ferror-codes%2FE0396-fixed.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/93436d8fd76d04f0d25ade71eec2ed480af3f404/src%2Ftest%2Fui%2Ferror-codes%2FE0396-fixed.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0396-fixed.stderr?ref=93436d8fd76d04f0d25ade71eec2ed480af3f404", "patch": "@@ -4,7 +4,7 @@ error: any use of this value will cause an error\n LL | const VALUE: u8 = unsafe { *REG_ADDR };\n    | ---------------------------^^^^^^^^^---\n    |                            |\n-   |                            unable to turn these bytes into a pointer\n+   |                            unable to turn bytes into a pointer\n    |\n    = note: `#[deny(const_err)]` on by default\n "}]}