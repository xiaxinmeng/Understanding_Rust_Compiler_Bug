{"sha": "9eadcacdd76d12c72284ddc122625488f297dea8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjllYWRjYWNkZDc2ZDEyYzcyMjg0ZGRjMTIyNjI1NDg4ZjI5N2RlYTg=", "commit": {"author": {"name": "Adrien T\u00e9tar", "email": "adri-from-59@hotmail.fr", "date": "2014-03-09T10:21:05Z"}, "committer": {"name": "Adrien T\u00e9tar", "email": "adri-from-59@hotmail.fr", "date": "2014-03-09T17:44:59Z"}, "message": "doc: have a real switch b/w LaTeX compilers", "tree": {"sha": "35d369e51b3356807c479395d5ef0800c0ec4775", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/35d369e51b3356807c479395d5ef0800c0ec4775"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9eadcacdd76d12c72284ddc122625488f297dea8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9eadcacdd76d12c72284ddc122625488f297dea8", "html_url": "https://github.com/rust-lang/rust/commit/9eadcacdd76d12c72284ddc122625488f297dea8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9eadcacdd76d12c72284ddc122625488f297dea8/comments", "author": {"login": "adrientetar", "id": 1250894, "node_id": "MDQ6VXNlcjEyNTA4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1250894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrientetar", "html_url": "https://github.com/adrientetar", "followers_url": "https://api.github.com/users/adrientetar/followers", "following_url": "https://api.github.com/users/adrientetar/following{/other_user}", "gists_url": "https://api.github.com/users/adrientetar/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrientetar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrientetar/subscriptions", "organizations_url": "https://api.github.com/users/adrientetar/orgs", "repos_url": "https://api.github.com/users/adrientetar/repos", "events_url": "https://api.github.com/users/adrientetar/events{/privacy}", "received_events_url": "https://api.github.com/users/adrientetar/received_events", "type": "User", "site_admin": false}, "committer": {"login": "adrientetar", "id": 1250894, "node_id": "MDQ6VXNlcjEyNTA4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1250894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrientetar", "html_url": "https://github.com/adrientetar", "followers_url": "https://api.github.com/users/adrientetar/followers", "following_url": "https://api.github.com/users/adrientetar/following{/other_user}", "gists_url": "https://api.github.com/users/adrientetar/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrientetar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrientetar/subscriptions", "organizations_url": "https://api.github.com/users/adrientetar/orgs", "repos_url": "https://api.github.com/users/adrientetar/repos", "events_url": "https://api.github.com/users/adrientetar/events{/privacy}", "received_events_url": "https://api.github.com/users/adrientetar/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "862acedf514fe806d2ab7d337fc0e156faf1d7b4", "url": "https://api.github.com/repos/rust-lang/rust/commits/862acedf514fe806d2ab7d337fc0e156faf1d7b4", "html_url": "https://github.com/rust-lang/rust/commit/862acedf514fe806d2ab7d337fc0e156faf1d7b4"}], "stats": {"total": 30, "additions": 16, "deletions": 14}, "files": [{"sha": "f470fd6f26c20d1a298060385005b97b01615bd0", "filename": "configure", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9eadcacdd76d12c72284ddc122625488f297dea8/configure", "raw_url": "https://github.com/rust-lang/rust/raw/9eadcacdd76d12c72284ddc122625488f297dea8/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=9eadcacdd76d12c72284ddc122625488f297dea8", "patch": "@@ -455,8 +455,8 @@ probe CFG_ISCC             iscc\n probe CFG_LLNEXTGEN        LLnextgen\n probe CFG_PANDOC           pandoc\n probe CFG_PDFLATEX         pdflatex\n-probe CFG_XETEX            xetex\n-probe CFG_LUATEX           luatex\n+probe CFG_XELATEX          xelatex\n+probe CFG_LUALATEX         lualatex\n probe CFG_GDB              gdb\n if [ \"$CFG_OSTYPE\" = \"unknown-linux-gnu\" ]\n then"}, {"sha": "7a8dfd2d58f391879d507b5f2ce402f855f6762c", "filename": "mk/docs.mk", "status": "modified", "additions": 14, "deletions": 12, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/9eadcacdd76d12c72284ddc122625488f297dea8/mk%2Fdocs.mk", "raw_url": "https://github.com/rust-lang/rust/raw/9eadcacdd76d12c72284ddc122625488f297dea8/mk%2Fdocs.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdocs.mk?ref=9eadcacdd76d12c72284ddc122625488f297dea8", "patch": "@@ -73,18 +73,20 @@ endif\n # Check for the various external utilities for the EPUB/PDF docs:\n \n ifeq ($(CFG_PDFLATEX),)\n-  $(info cfg: no pdflatex found, omitting doc/rust.pdf)\n-  NO_PDF_DOCS = 1\n-else\n-  ifeq ($(CFG_XETEX),)\n-    $(info cfg: no xetex found, disabling doc/rust.pdf)\n-    NO_PDF_DOCS = 1\n+  $(info cfg: no pdflatex found, deferring to xelatex)\n+  ifeq ($(CFG_XELATEX),)\n+    $(info cfg: no xelatex found, deferring to lualatex)\n+    ifeq ($(CFG_LUALATEX),)\n+      $(info cfg: no lualatex found, disabling LaTeX docs)\n+      NO_PDF_DOCS = 1\n+\telse\n+      CFG_LATEX := $(CFG_LUALATEX)\n+    endif\n   else\n-    ifeq ($(CFG_LUATEX),)\n-       $(info cfg: lacking luatex, disabling pdflatex)\n-       NO_PDF_DOCS = 1\n-\tendif\n+    CFG_LATEX := $(CFG_XELATEX)\n   endif\n+else\n+  CFG_LATEX := $(CFG_PDFLATEX)\n endif\n \n \n@@ -175,8 +177,8 @@ ifneq ($(NO_PDF_DOCS),1)\n ifeq ($$(SHOULD_BUILD_PDF_DOC_$(1)),1)\n DOC_TARGETS += doc/$(1).pdf\n doc/$(1).pdf: doc/$(1).tex\n-\t@$$(call E, pdflatex: $$@)\n-\t$$(Q)$$(CFG_PDFLATEX) \\\n+\t@$$(call E, latex compiler: $$@)\n+\t$$(Q)$$(CFG_LATEX) \\\n \t-interaction=batchmode \\\n \t-output-directory=doc \\\n \t$$<"}]}