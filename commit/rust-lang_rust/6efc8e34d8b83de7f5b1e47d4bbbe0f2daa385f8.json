{"sha": "6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "node_id": "C_kwDOAAsO6NoAKDZlZmM4ZTM0ZDhiODNkZTdmNWIxZTQ3ZDRiYmJlMGYyZGFhMzg1Zjg", "commit": {"author": {"name": "Jacob Pratt", "email": "jacob@jhpratt.dev", "date": "2022-02-15T07:00:21Z"}, "committer": {"name": "Jacob Pratt", "email": "jacob@jhpratt.dev", "date": "2022-03-04T23:15:49Z"}, "message": "Change `rustc_deprecated` to use `note`\n\nThis keeps `reason` around for the time being. This is necessary to\navoid breakage during the bootstrap process. This change, as a whole,\nbrings `#[rustc_deprecated]` more in line with `#[deprecated]`.", "tree": {"sha": "3584fabe76f9318369a15ea1e88dc057c4a345b7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3584fabe76f9318369a15ea1e88dc057c4a345b7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niHQEABYKAB0WIQTgxeqBxcDGar1sVhy4DhnkZitapAUCYiKdpgAKCRC4DhnkZita\npL7LAPYoCb3smhvcrs/Rl6divKIisz2fw7fq4R3ut3iJaGk8AP42AI4aCLEBoz7O\nHrC5nlRifn6xTR/xaDIimd6BKk6nAQ==\n=0KKF\n-----END PGP SIGNATURE-----", "payload": "tree 3584fabe76f9318369a15ea1e88dc057c4a345b7\nparent 9fcbc32053d5084d1de79bd484de82474cdae427\nauthor Jacob Pratt <jacob@jhpratt.dev> 1644908421 -0500\ncommitter Jacob Pratt <jacob@jhpratt.dev> 1646435749 -0500\n\nChange `rustc_deprecated` to use `note`\n\nThis keeps `reason` around for the time being. This is necessary to\navoid breakage during the bootstrap process. This change, as a whole,\nbrings `#[rustc_deprecated]` more in line with `#[deprecated]`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "html_url": "https://github.com/rust-lang/rust/commit/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/comments", "author": {"login": "jhpratt", "id": 3161395, "node_id": "MDQ6VXNlcjMxNjEzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3161395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhpratt", "html_url": "https://github.com/jhpratt", "followers_url": "https://api.github.com/users/jhpratt/followers", "following_url": "https://api.github.com/users/jhpratt/following{/other_user}", "gists_url": "https://api.github.com/users/jhpratt/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhpratt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhpratt/subscriptions", "organizations_url": "https://api.github.com/users/jhpratt/orgs", "repos_url": "https://api.github.com/users/jhpratt/repos", "events_url": "https://api.github.com/users/jhpratt/events{/privacy}", "received_events_url": "https://api.github.com/users/jhpratt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jhpratt", "id": 3161395, "node_id": "MDQ6VXNlcjMxNjEzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3161395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhpratt", "html_url": "https://github.com/jhpratt", "followers_url": "https://api.github.com/users/jhpratt/followers", "following_url": "https://api.github.com/users/jhpratt/following{/other_user}", "gists_url": "https://api.github.com/users/jhpratt/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhpratt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhpratt/subscriptions", "organizations_url": "https://api.github.com/users/jhpratt/orgs", "repos_url": "https://api.github.com/users/jhpratt/repos", "events_url": "https://api.github.com/users/jhpratt/events{/privacy}", "received_events_url": "https://api.github.com/users/jhpratt/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9fcbc32053d5084d1de79bd484de82474cdae427", "url": "https://api.github.com/repos/rust-lang/rust/commits/9fcbc32053d5084d1de79bd484de82474cdae427", "html_url": "https://github.com/rust-lang/rust/commit/9fcbc32053d5084d1de79bd484de82474cdae427"}], "stats": {"total": 289, "additions": 146, "deletions": 143}, "files": [{"sha": "beec7c2b6df6d215be0628c86a9bc43979d98354", "filename": "compiler/rustc_ast_passes/src/feature_gate.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -438,6 +438,7 @@ impl<'a> Visitor<'a> for PostExpansionVisitor<'a> {\n                 .emit();\n             }\n         } else {\n+            // FIXME(jhpratt) remove this after the two attributes are merged\n             if attr.has_name(sym::deprecated) {\n                 self.sess\n                     .struct_span_err(attr.span, \"`#[deprecated]` cannot be used in staged API\")"}, {"sha": "e965cc4f3851c99ae59cf4369cd1b68ca36adbdc", "filename": "compiler/rustc_attr/src/builtin.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/compiler%2Frustc_attr%2Fsrc%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/compiler%2Frustc_attr%2Fsrc%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_attr%2Fsrc%2Fbuiltin.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -729,11 +729,13 @@ where\n                                     continue 'outer;\n                                 }\n                             }\n-                            sym::note if attr.has_name(sym::deprecated) => {\n+                            sym::note => {\n                                 if !get(mi, &mut note) {\n                                     continue 'outer;\n                                 }\n                             }\n+                            // FIXME(jhpratt) remove this after a bootstrap occurs. Emitting an\n+                            // error specific to the renaming would be a good idea as well.\n                             sym::reason if attr.has_name(sym::rustc_deprecated) => {\n                                 if !get(mi, &mut note) {\n                                     continue 'outer;\n@@ -753,7 +755,7 @@ where\n                                         if attr.has_name(sym::deprecated) {\n                                             &[\"since\", \"note\"]\n                                         } else {\n-                                            &[\"since\", \"reason\", \"suggestion\"]\n+                                            &[\"since\", \"note\", \"suggestion\"]\n                                         },\n                                     ),\n                                 );\n@@ -787,7 +789,7 @@ where\n             }\n \n             if note.is_none() {\n-                struct_span_err!(diagnostic, attr.span, E0543, \"missing 'reason'\").emit();\n+                struct_span_err!(diagnostic, attr.span, E0543, \"missing 'note'\").emit();\n                 continue;\n             }\n         }"}, {"sha": "f4032132b929f68003c4c88076edc0bac7e4ba28", "filename": "compiler/rustc_feature/src/builtin_attrs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/compiler%2Frustc_feature%2Fsrc%2Fbuiltin_attrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/compiler%2Frustc_feature%2Fsrc%2Fbuiltin_attrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Fbuiltin_attrs.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -461,7 +461,7 @@ pub const BUILTIN_ATTRIBUTES: &[BuiltinAttribute] = &[\n     // DuplicatesOk since it has its own validation\n     ungated!(\n         rustc_deprecated, Normal,\n-        template!(List: r#\"since = \"version\", reason = \"...\"\"#), DuplicatesOk // See E0550\n+        template!(List: r#\"since = \"version\", note = \"...\"\"#), DuplicatesOk // See E0550\n     ),\n     // DuplicatesOk since it has its own validation\n     ungated!("}, {"sha": "d755865fa3433692e1c8129c7716835825d775df", "filename": "src/test/ui/deprecation/rustc_deprecation-in-future.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fdeprecation%2Frustc_deprecation-in-future.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fdeprecation%2Frustc_deprecation-in-future.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdeprecation%2Frustc_deprecation-in-future.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -4,11 +4,11 @@\n \n #![stable(feature = \"rustc_deprecation-in-future-test\", since = \"1.0.0\")]\n \n-#[rustc_deprecated(since = \"99.99.99\", reason = \"effectively never\")]\n+#[rustc_deprecated(since = \"99.99.99\", note = \"effectively never\")]\n #[stable(feature = \"rustc_deprecation-in-future-test\", since = \"1.0.0\")]\n pub struct S1;\n \n-#[rustc_deprecated(since = \"TBD\", reason = \"literally never\")]\n+#[rustc_deprecated(since = \"TBD\", note = \"literally never\")]\n #[stable(feature = \"rustc_deprecation-in-future-test\", since = \"1.0.0\")]\n pub struct S2;\n "}, {"sha": "04b3f894b9499759dc157bf585f7da406c01e9c1", "filename": "src/test/ui/issues/issue-17337.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fissues%2Fissue-17337.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fissues%2Fissue-17337.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-17337.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -7,7 +7,7 @@ struct Foo;\n \n impl Foo {\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn foo(self) {}\n }\n "}, {"sha": "a6e3e34307162dc518e6f8b2c3787b045e219178", "filename": "src/test/ui/lint/auxiliary/inherited_stability.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Finherited_stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Finherited_stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Finherited_stability.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -20,7 +20,7 @@ pub mod stable_mod {\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n pub mod unstable_mod {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn deprecated() {}\n \n     pub fn unstable() {}"}, {"sha": "c0793edb8037bea3108c7d20d0259141cbca3433", "filename": "src/test/ui/lint/auxiliary/lint_output_format.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Flint_output_format.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Flint_output_format.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Flint_output_format.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -4,7 +4,7 @@\n #![unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub fn foo() -> usize {\n     20\n }"}, {"sha": "b9019329c220ca43934b703517806b3f845b96ae", "filename": "src/test/ui/lint/auxiliary/lint_stability.rs", "status": "modified", "additions": 23, "deletions": 23, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Flint_stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Flint_stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Flint_stability.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -5,21 +5,21 @@\n #![stable(feature = \"lint_stability\", since = \"1.0.0\")]\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub fn deprecated() {}\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub fn deprecated_text() {}\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"99.99.99\", reason = \"text\")]\n+#[rustc_deprecated(since = \"99.99.99\", note = \"text\")]\n pub fn deprecated_future() {}\n \n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub fn deprecated_unstable() {}\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub fn deprecated_unstable_text() {}\n \n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -37,17 +37,17 @@ pub struct MethodTester;\n \n impl MethodTester {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn method_deprecated(&self) {}\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn method_deprecated_text(&self) {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn method_deprecated_unstable(&self) {}\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn method_deprecated_unstable_text(&self) {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -64,17 +64,17 @@ impl MethodTester {\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n pub trait Trait {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn trait_deprecated(&self) {}\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn trait_deprecated_text(&self) {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn trait_deprecated_unstable(&self) {}\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn trait_deprecated_unstable_text(&self) {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -93,7 +93,7 @@ pub trait TraitWithAssociatedTypes {\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     type TypeUnstable = u8;\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     type TypeDeprecated = u8;\n }\n \n@@ -104,18 +104,18 @@ impl Trait for MethodTester {}\n pub trait UnstableTrait { fn dummy(&self) { } }\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub trait DeprecatedTrait {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")] fn dummy(&self) { }\n }\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedStruct {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")] pub i: isize\n }\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedUnstableStruct {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")] pub i: isize\n }\n@@ -133,10 +133,10 @@ pub enum UnstableEnum {}\n pub enum StableEnum {}\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedUnitStruct;\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedUnstableUnitStruct;\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n pub struct UnstableUnitStruct;\n@@ -146,10 +146,10 @@ pub struct StableUnitStruct;\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n pub enum Enum {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     DeprecatedVariant,\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     DeprecatedUnstableVariant,\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     UnstableVariant,\n@@ -159,10 +159,10 @@ pub enum Enum {\n }\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedTupleStruct(#[stable(feature = \"rust1\", since = \"1.0.0\")] pub isize);\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedUnstableTupleStruct(#[stable(feature = \"rust1\", since = \"1.0.0\")] pub isize);\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n pub struct UnstableTupleStruct(#[stable(feature = \"rust1\", since = \"1.0.0\")] pub isize);"}, {"sha": "79082e2da464b1a6c5937a5536479d12d15fc0dc", "filename": "src/test/ui/lint/auxiliary/lint_stability_fields.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Flint_stability_fields.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Flint_stability_fields.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fauxiliary%2Flint_stability_fields.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -6,7 +6,7 @@ pub struct Stable {\n     pub inherit: u8,\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     pub override1: u8,\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     pub override2: u8,\n     #[stable(feature = \"rust2\", since = \"2.0.0\")]\n@@ -17,7 +17,7 @@ pub struct Stable {\n pub struct Stable2(#[stable(feature = \"rust2\", since = \"2.0.0\")] pub u8,\n                    #[unstable(feature = \"unstable_test_feature\", issue = \"none\")] pub u8,\n                    #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-                   #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")] pub u8,\n+                   #[rustc_deprecated(since = \"1.0.0\", note = \"text\")] pub u8,\n                    pub u8);\n \n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n@@ -28,7 +28,7 @@ pub enum Stable3 {\n     Override1,\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     Override2,\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     Override3,\n }\n@@ -38,7 +38,7 @@ pub struct Unstable {\n     pub inherit: u8,\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     pub override1: u8,\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     pub override2: u8,\n }\n@@ -47,10 +47,10 @@ pub struct Unstable {\n pub struct Unstable2(pub u8,\n                      #[stable(feature = \"rust1\", since = \"1.0.0\")] pub u8,\n                      #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-                     #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")] pub u8);\n+                     #[rustc_deprecated(since = \"1.0.0\", note = \"text\")] pub u8);\n \n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct Deprecated {\n     pub inherit: u8,\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n@@ -60,7 +60,7 @@ pub struct Deprecated {\n }\n \n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct Deprecated2(pub u8,\n                        #[stable(feature = \"rust1\", since = \"1.0.0\")] pub u8,\n                        #[unstable(feature = \"unstable_test_feature\", issue = \"none\")] pub u8);"}, {"sha": "539420a8c4e42a265d95b7a592143d3981a6768d", "filename": "src/test/ui/lint/lint-stability-2.rs", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Flint-stability-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Flint-stability-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-stability-2.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -169,10 +169,10 @@ mod cross_crate {\n \n mod this_crate {\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn deprecated() {}\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn deprecated_text() {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -190,10 +190,10 @@ mod this_crate {\n \n     impl MethodTester {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         pub fn method_deprecated(&self) {}\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         pub fn method_deprecated_text(&self) {}\n \n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -209,10 +209,10 @@ mod this_crate {\n \n     pub trait Trait {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         fn trait_deprecated(&self) {}\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         fn trait_deprecated_text(&self) {}\n \n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -229,7 +229,7 @@ mod this_crate {\n     impl Trait for MethodTester {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub struct DeprecatedStruct {\n         #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")] i: isize\n     }\n@@ -243,7 +243,7 @@ mod this_crate {\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub struct DeprecatedUnitStruct;\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     pub struct UnstableUnitStruct;\n@@ -252,7 +252,7 @@ mod this_crate {\n \n     pub enum Enum {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         DeprecatedVariant,\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n         UnstableVariant,\n@@ -262,7 +262,7 @@ mod this_crate {\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub struct DeprecatedTupleStruct(isize);\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     pub struct UnstableTupleStruct(isize);\n@@ -382,23 +382,23 @@ mod this_crate {\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn test_fn_body() {\n         fn fn_in_body() {}\n         fn_in_body();\n     }\n \n     impl MethodTester {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         fn test_method_body(&self) {\n             fn fn_in_body() {}\n             fn_in_body();\n         }\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub trait DeprecatedTrait {\n         fn dummy(&self) { }\n     }"}, {"sha": "f68b421d16f70f9a6bde6b4be63bb8d9bcf53a3c", "filename": "src/test/ui/lint/lint-stability-deprecated.rs", "status": "modified", "additions": 13, "deletions": 13, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Flint-stability-deprecated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Flint-stability-deprecated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-stability-deprecated.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -219,10 +219,10 @@ mod inheritance {\n \n mod this_crate {\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn deprecated() {}\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn deprecated_text() {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -240,10 +240,10 @@ mod this_crate {\n \n     impl MethodTester {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         pub fn method_deprecated(&self) {}\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         pub fn method_deprecated_text(&self) {}\n \n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -259,10 +259,10 @@ mod this_crate {\n \n     pub trait Trait {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         fn trait_deprecated(&self) {}\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         fn trait_deprecated_text(&self) {}\n \n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -279,7 +279,7 @@ mod this_crate {\n     impl Trait for MethodTester {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub struct DeprecatedStruct {\n         #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")] i: isize\n     }\n@@ -293,7 +293,7 @@ mod this_crate {\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub struct DeprecatedUnitStruct;\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     pub struct UnstableUnitStruct;\n@@ -302,7 +302,7 @@ mod this_crate {\n \n     pub enum Enum {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         DeprecatedVariant,\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n         UnstableVariant,\n@@ -312,7 +312,7 @@ mod this_crate {\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub struct DeprecatedTupleStruct(isize);\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     pub struct UnstableTupleStruct(isize);\n@@ -433,23 +433,23 @@ mod this_crate {\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn test_fn_body() {\n         fn fn_in_body() {}\n         fn_in_body(); //~ WARN use of deprecated function `this_crate::test_fn_body::fn_in_body`: text\n     }\n \n     impl MethodTester {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         fn test_method_body(&self) {\n             fn fn_in_body() {}\n             fn_in_body(); //~ WARN use of deprecated function `this_crate::MethodTester::test_method_body::fn_in_body`: text\n         }\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub trait DeprecatedTrait {\n         fn dummy(&self) { }\n     }"}, {"sha": "86ae32f17b46019df7eac4c424d739af6c8245d6", "filename": "src/test/ui/lint/lint-stability-fields-deprecated.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Flint-stability-fields-deprecated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Flint-stability-fields-deprecated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-stability-fields-deprecated.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -160,7 +160,7 @@ mod this_crate {\n         inherit: u8,\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n         override1: u8,\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n         override2: u8,\n     }\n@@ -169,14 +169,14 @@ mod this_crate {\n     struct Stable2(u8,\n                    #[stable(feature = \"rust1\", since = \"1.0.0\")] u8,\n                    #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-                   #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")] u8);\n+                   #[rustc_deprecated(since = \"1.0.0\", note = \"text\")] u8);\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     struct Unstable {\n         inherit: u8,\n         #[stable(feature = \"rust1\", since = \"1.0.0\")]\n         override1: u8,\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n         override2: u8,\n     }\n@@ -185,10 +185,10 @@ mod this_crate {\n     struct Unstable2(u8,\n                      #[stable(feature = \"rust1\", since = \"1.0.0\")] u8,\n                      #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-                     #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")] u8);\n+                     #[rustc_deprecated(since = \"1.0.0\", note = \"text\")] u8);\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     struct Deprecated {\n         inherit: u8,\n         #[stable(feature = \"rust1\", since = \"1.0.0\")]\n@@ -198,7 +198,7 @@ mod this_crate {\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     struct Deprecated2(u8,\n                        #[stable(feature = \"rust1\", since = \"1.0.0\")] u8,\n                        #[unstable(feature = \"unstable_test_feature\", issue = \"none\")] u8);"}, {"sha": "c1c0151bc9d06042a353deb9728d2040d9fec8aa", "filename": "src/test/ui/lint/lint-stability-fields.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Flint-stability-fields.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Flint-stability-fields.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-stability-fields.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -135,7 +135,7 @@ mod this_crate {\n         inherit: u8,\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n         override1: u8,\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n         override2: u8,\n         #[stable(feature = \"rust2\", since = \"2.0.0\")]\n@@ -146,14 +146,14 @@ mod this_crate {\n     struct Stable2(u8,\n                    #[stable(feature = \"rust2\", since = \"2.0.0\")] u8,\n                    #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-                   #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")] u8);\n+                   #[rustc_deprecated(since = \"1.0.0\", note = \"text\")] u8);\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     struct Unstable {\n         inherit: u8,\n         #[stable(feature = \"rust1\", since = \"1.0.0\")]\n         override1: u8,\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n         override2: u8,\n     }\n@@ -162,10 +162,10 @@ mod this_crate {\n     struct Unstable2(u8,\n                      #[stable(feature = \"rust1\", since = \"1.0.0\")] u8,\n                      #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-                     #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")] u8);\n+                     #[rustc_deprecated(since = \"1.0.0\", note = \"text\")] u8);\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     struct Deprecated {\n         inherit: u8,\n         #[stable(feature = \"rust1\", since = \"1.0.0\")]\n@@ -175,7 +175,7 @@ mod this_crate {\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     struct Deprecated2(u8,\n                        #[stable(feature = \"rust1\", since = \"1.0.0\")] u8,\n                        #[unstable(feature = \"unstable_test_feature\", issue = \"none\")] u8);"}, {"sha": "8442084b411b8f697d0d32f1645b750b7976ff0c", "filename": "src/test/ui/lint/lint-stability.rs", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Flint-stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Flint%2Flint-stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-stability.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -204,14 +204,14 @@ mod inheritance {\n \n mod this_crate {\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn deprecated() {}\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn deprecated_text() {}\n \n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"99.99.99\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"99.99.99\", note = \"text\")]\n     pub fn deprecated_future() {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -229,10 +229,10 @@ mod this_crate {\n \n     impl MethodTester {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         pub fn method_deprecated(&self) {}\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         pub fn method_deprecated_text(&self) {}\n \n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -248,10 +248,10 @@ mod this_crate {\n \n     pub trait Trait {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         fn trait_deprecated(&self) {}\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         fn trait_deprecated_text(&self) {}\n \n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -268,7 +268,7 @@ mod this_crate {\n     impl Trait for MethodTester {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub struct DeprecatedStruct {\n         #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")] i: isize\n     }\n@@ -282,7 +282,7 @@ mod this_crate {\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub struct DeprecatedUnitStruct;\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     pub struct UnstableUnitStruct;\n@@ -291,7 +291,7 @@ mod this_crate {\n \n     pub enum Enum {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         DeprecatedVariant,\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n         UnstableVariant,\n@@ -301,7 +301,7 @@ mod this_crate {\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub struct DeprecatedTupleStruct(isize);\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     pub struct UnstableTupleStruct(isize);\n@@ -423,23 +423,23 @@ mod this_crate {\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn test_fn_body() {\n         fn fn_in_body() {}\n         fn_in_body();\n     }\n \n     impl MethodTester {\n         #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-        #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+        #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n         fn test_method_body(&self) {\n             fn fn_in_body() {}\n             fn_in_body();\n         }\n     }\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub trait DeprecatedTrait {\n         fn dummy(&self) { }\n     }"}, {"sha": "790fe0cb37ef73a5c6d4d5afb0b4f229e16e6b2b", "filename": "src/test/ui/macros/auxiliary/unstable-macros.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fmacros%2Fauxiliary%2Funstable-macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fmacros%2Fauxiliary%2Funstable-macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fauxiliary%2Funstable-macros.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -7,7 +7,7 @@\n macro_rules! unstable_macro{ () => () }\n \n #[stable(feature = \"deprecated_macros\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"deprecation reason\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"deprecation note\")]\n #[macro_export]\n macro_rules! deprecated_macro{ () => () }\n "}, {"sha": "71b5f3c2fe98af4d39e003f6c3a743a64215a1e8", "filename": "src/test/ui/macros/macro-stability.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fmacros%2Fmacro-stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fmacros%2Fmacro-stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-stability.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -14,7 +14,7 @@ macro_rules! local_unstable { () => () }\n macro local_unstable_modern() {}\n \n #[stable(feature = \"deprecated_macros\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"local deprecation reason\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"local deprecation note\")]\n #[macro_export]\n macro_rules! local_deprecated{ () => () }\n \n@@ -25,7 +25,7 @@ fn main() {\n     // unstable_macro_modern!(); // ERROR use of unstable library feature 'unstable_macros'\n \n     deprecated_macro!();\n-    //~^ WARN use of deprecated macro `deprecated_macro`: deprecation reason\n+    //~^ WARN use of deprecated macro `deprecated_macro`: deprecation note\n     local_deprecated!();\n-    //~^ WARN use of deprecated macro `local_deprecated`: local deprecation reason\n+    //~^ WARN use of deprecated macro `local_deprecated`: local deprecation note\n }"}, {"sha": "2cfdb52b174a90f3dce9ecc667e2f026fda7dc96", "filename": "src/test/ui/macros/macro-stability.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fmacros%2Fmacro-stability.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fmacros%2Fmacro-stability.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-stability.stderr?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -22,15 +22,15 @@ LL |     unstable_macro!();\n    |\n    = help: add `#![feature(unstable_macros)]` to the crate attributes to enable\n \n-warning: use of deprecated macro `deprecated_macro`: deprecation reason\n+warning: use of deprecated macro `deprecated_macro`: deprecation note\n   --> $DIR/macro-stability.rs:27:5\n    |\n LL |     deprecated_macro!();\n    |     ^^^^^^^^^^^^^^^^\n    |\n    = note: `#[warn(deprecated)]` on by default\n \n-warning: use of deprecated macro `local_deprecated`: local deprecation reason\n+warning: use of deprecated macro `local_deprecated`: local deprecation note\n   --> $DIR/macro-stability.rs:29:5\n    |\n LL |     local_deprecated!();"}, {"sha": "b9019329c220ca43934b703517806b3f845b96ae", "filename": "src/test/ui/stability-attribute/auxiliary/lint-stability.rs", "status": "modified", "additions": 23, "deletions": 23, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fstability-attribute%2Fauxiliary%2Flint-stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fstability-attribute%2Fauxiliary%2Flint-stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fauxiliary%2Flint-stability.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -5,21 +5,21 @@\n #![stable(feature = \"lint_stability\", since = \"1.0.0\")]\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub fn deprecated() {}\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub fn deprecated_text() {}\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"99.99.99\", reason = \"text\")]\n+#[rustc_deprecated(since = \"99.99.99\", note = \"text\")]\n pub fn deprecated_future() {}\n \n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub fn deprecated_unstable() {}\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub fn deprecated_unstable_text() {}\n \n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -37,17 +37,17 @@ pub struct MethodTester;\n \n impl MethodTester {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn method_deprecated(&self) {}\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn method_deprecated_text(&self) {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn method_deprecated_unstable(&self) {}\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     pub fn method_deprecated_unstable_text(&self) {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -64,17 +64,17 @@ impl MethodTester {\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n pub trait Trait {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn trait_deprecated(&self) {}\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn trait_deprecated_text(&self) {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn trait_deprecated_unstable(&self) {}\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     fn trait_deprecated_unstable_text(&self) {}\n \n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n@@ -93,7 +93,7 @@ pub trait TraitWithAssociatedTypes {\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     type TypeUnstable = u8;\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     type TypeDeprecated = u8;\n }\n \n@@ -104,18 +104,18 @@ impl Trait for MethodTester {}\n pub trait UnstableTrait { fn dummy(&self) { } }\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub trait DeprecatedTrait {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")] fn dummy(&self) { }\n }\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedStruct {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")] pub i: isize\n }\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedUnstableStruct {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")] pub i: isize\n }\n@@ -133,10 +133,10 @@ pub enum UnstableEnum {}\n pub enum StableEnum {}\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedUnitStruct;\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedUnstableUnitStruct;\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n pub struct UnstableUnitStruct;\n@@ -146,10 +146,10 @@ pub struct StableUnitStruct;\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n pub enum Enum {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     DeprecatedVariant,\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-    #[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+    #[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n     DeprecatedUnstableVariant,\n     #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n     UnstableVariant,\n@@ -159,10 +159,10 @@ pub enum Enum {\n }\n \n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedTupleStruct(#[stable(feature = \"rust1\", since = \"1.0.0\")] pub isize);\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n-#[rustc_deprecated(since = \"1.0.0\", reason = \"text\")]\n+#[rustc_deprecated(since = \"1.0.0\", note = \"text\")]\n pub struct DeprecatedUnstableTupleStruct(#[stable(feature = \"rust1\", since = \"1.0.0\")] pub isize);\n #[unstable(feature = \"unstable_test_feature\", issue = \"none\")]\n pub struct UnstableTupleStruct(#[stable(feature = \"rust1\", since = \"1.0.0\")] pub isize);"}, {"sha": "20dceb1ec12d50c6f14f3319ac257a02cf2a6a9c", "filename": "src/test/ui/stability-attribute/auxiliary/unstable_generic_param.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fstability-attribute%2Fauxiliary%2Funstable_generic_param.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fstability-attribute%2Fauxiliary%2Funstable_generic_param.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fauxiliary%2Funstable_generic_param.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -40,14 +40,14 @@ pub struct Struct3<A = isize, #[unstable(feature = \"unstable_default\", issue = \"\n     pub field2: B,\n }\n \n-#[rustc_deprecated(since = \"1.1.0\", reason = \"test\")]\n+#[rustc_deprecated(since = \"1.1.0\", note = \"test\")]\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n pub struct Struct4<A = usize> {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n     pub field: A,\n }\n \n-#[rustc_deprecated(since = \"1.1.0\", reason = \"test\")]\n+#[rustc_deprecated(since = \"1.1.0\", note = \"test\")]\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n pub struct Struct5<#[unstable(feature = \"unstable_default\", issue = \"none\")] A = usize> {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n@@ -99,7 +99,7 @@ pub enum Enum3<T = isize, #[unstable(feature = \"unstable_default\", issue = \"none\n     Err(#[stable(feature = \"stable_test_feature\", since = \"1.0.0\")] E),\n }\n \n-#[rustc_deprecated(since = \"1.1.0\", reason = \"test\")]\n+#[rustc_deprecated(since = \"1.1.0\", note = \"test\")]\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n pub enum Enum4<T = usize> {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n@@ -108,7 +108,7 @@ pub enum Enum4<T = usize> {\n     None,\n }\n \n-#[rustc_deprecated(since = \"1.1.0\", reason = \"test\")]\n+#[rustc_deprecated(since = \"1.1.0\", note = \"test\")]\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n pub enum Enum5<#[unstable(feature = \"unstable_default\", issue = \"none\")] T = usize> {\n     #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n@@ -152,11 +152,11 @@ pub type Alias2<T = usize> = Option<T>;\n pub type Alias3<T = isize, #[unstable(feature = \"unstable_default\", issue = \"none\")] E = usize> =\n     Result<T, E>;\n \n-#[rustc_deprecated(since = \"1.1.0\", reason = \"test\")]\n+#[rustc_deprecated(since = \"1.1.0\", note = \"test\")]\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n pub type Alias4<T = usize> = Option<T>;\n \n-#[rustc_deprecated(since = \"1.1.0\", reason = \"test\")]\n+#[rustc_deprecated(since = \"1.1.0\", note = \"test\")]\n #[stable(feature = \"stable_test_feature\", since = \"1.0.0\")]\n pub type Alias5<#[unstable(feature = \"unstable_default\", issue = \"none\")] T = usize> = Option<T>;\n "}, {"sha": "8e51215b1e6369274239ea02558b18549f3c55ae", "filename": "src/test/ui/stability-attribute/stability-attribute-sanity-4.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity-4.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity-4.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity-4.stderr?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -26,13 +26,13 @@ error: malformed `rustc_deprecated` attribute input\n   --> $DIR/stability-attribute-sanity-4.rs:21:5\n    |\n LL |     #[rustc_deprecated]\n-   |     ^^^^^^^^^^^^^^^^^^^ help: must be of the form: `#[rustc_deprecated(since = \"version\", reason = \"...\")]`\n+   |     ^^^^^^^^^^^^^^^^^^^ help: must be of the form: `#[rustc_deprecated(since = \"version\", note = \"...\")]`\n \n error: malformed `rustc_deprecated` attribute input\n   --> $DIR/stability-attribute-sanity-4.rs:26:5\n    |\n LL |     #[rustc_deprecated = \"a\"]\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^ help: must be of the form: `#[rustc_deprecated(since = \"version\", reason = \"...\")]`\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^ help: must be of the form: `#[rustc_deprecated(since = \"version\", note = \"...\")]`\n \n error[E0542]: missing 'since'\n   --> $DIR/stability-attribute-sanity-4.rs:21:5"}, {"sha": "44874dd8cb06fdaeed479f2f43d4ac77b80fc36a", "filename": "src/test/ui/stability-attribute/stability-attribute-sanity.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity.rs?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -37,11 +37,11 @@ mod missing_version {\n     fn f1() { }\n \n     #[stable(feature = \"a\", since = \"b\")]\n-    #[rustc_deprecated(reason = \"a\")] //~ ERROR missing 'since' [E0542]\n+    #[rustc_deprecated(note = \"a\")] //~ ERROR missing 'since' [E0542]\n     fn f2() { }\n \n     #[stable(feature = \"a\", since = \"b\")]\n-    #[rustc_deprecated(since = \"a\")] //~ ERROR missing 'reason' [E0543]\n+    #[rustc_deprecated(since = \"a\")] //~ ERROR missing 'note' [E0543]\n     fn f3() { }\n }\n \n@@ -58,18 +58,18 @@ fn multiple2() { }\n fn multiple3() { }\n \n #[stable(feature = \"a\", since = \"b\")] //~ ERROR invalid stability version found\n-#[rustc_deprecated(since = \"b\", reason = \"text\")]\n-#[rustc_deprecated(since = \"b\", reason = \"text\")] //~ ERROR multiple deprecated attributes\n+#[rustc_deprecated(since = \"b\", note = \"text\")]\n+#[rustc_deprecated(since = \"b\", note = \"text\")] //~ ERROR multiple deprecated attributes\n #[rustc_const_unstable(feature = \"c\", issue = \"none\")]\n #[rustc_const_unstable(feature = \"d\", issue = \"none\")] //~ ERROR multiple stability levels\n pub const fn multiple4() { }\n \n #[stable(feature = \"a\", since = \"1.0.0\")] //~ ERROR invalid deprecation version found\n //~^ ERROR feature `a` is declared stable since 1.0.0\n-#[rustc_deprecated(since = \"invalid\", reason = \"text\")]\n+#[rustc_deprecated(since = \"invalid\", note = \"text\")]\n fn invalid_deprecation_version() {}\n \n-#[rustc_deprecated(since = \"a\", reason = \"text\")]\n+#[rustc_deprecated(since = \"a\", note = \"text\")]\n fn deprecated_without_unstable_or_stable() { }\n //~^^ ERROR rustc_deprecated attribute must be paired with either stable or unstable attribute\n "}, {"sha": "9b2cb2550cac5da6884e3ee6d80df776edfe7967", "filename": "src/test/ui/stability-attribute/stability-attribute-sanity.stderr", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fstability-attribute-sanity.stderr?ref=6efc8e34d8b83de7f5b1e47d4bbbe0f2daa385f8", "patch": "@@ -55,10 +55,10 @@ LL |     #[stable(feature = \"a\")]\n error[E0542]: missing 'since'\n   --> $DIR/stability-attribute-sanity.rs:40:5\n    |\n-LL |     #[rustc_deprecated(reason = \"a\")]\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+LL |     #[rustc_deprecated(note = \"a\")]\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error[E0543]: missing 'reason'\n+error[E0543]: missing 'note'\n   --> $DIR/stability-attribute-sanity.rs:44:5\n    |\n LL |     #[rustc_deprecated(since = \"a\")]\n@@ -85,10 +85,10 @@ LL | #[stable(feature = \"a\", since = \"b\")]\n error[E0550]: multiple deprecated attributes\n   --> $DIR/stability-attribute-sanity.rs:62:1\n    |\n-LL | #[rustc_deprecated(since = \"b\", reason = \"text\")]\n-   | ------------------------------------------------- first deprecation attribute\n-LL | #[rustc_deprecated(since = \"b\", reason = \"text\")]\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ repeated deprecation attribute\n+LL | #[rustc_deprecated(since = \"b\", note = \"text\")]\n+   | ----------------------------------------------- first deprecation attribute\n+LL | #[rustc_deprecated(since = \"b\", note = \"text\")]\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ repeated deprecation attribute\n \n error[E0544]: multiple stability levels\n   --> $DIR/stability-attribute-sanity.rs:64:1\n@@ -117,8 +117,8 @@ LL | fn invalid_deprecation_version() {}\n error[E0549]: rustc_deprecated attribute must be paired with either stable or unstable attribute\n   --> $DIR/stability-attribute-sanity.rs:72:1\n    |\n-LL | #[rustc_deprecated(since = \"a\", reason = \"text\")]\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+LL | #[rustc_deprecated(since = \"a\", note = \"text\")]\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error[E0711]: feature `a` is declared stable since 1.0.0, but was previously declared stable since b\n   --> $DIR/stability-attribute-sanity.rs:67:1"}]}