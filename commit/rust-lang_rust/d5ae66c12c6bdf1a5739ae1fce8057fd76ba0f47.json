{"sha": "d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47", "node_id": "C_kwDOAAsO6NoAKGQ1YWU2NmMxMmM2YmRmMWE1NzM5YWUxZmNlODA1N2ZkNzZiYTBmNDc", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-04-18T23:34:24Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-04-18T23:34:24Z"}, "message": "Auto merge of #92287 - JulianKnodt:slice_remainder, r=yaahc\n\nAdd slice::remainder\n\nThis adds a remainder function to the Slice iterator, so that a caller can access unused\nelements if iteration stops.\n\nAddresses #91733", "tree": {"sha": "9a00b6801a78327a39289a71ff2bd159bf5addc3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9a00b6801a78327a39289a71ff2bd159bf5addc3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47", "html_url": "https://github.com/rust-lang/rust/commit/d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "311e2683e1bad87715b1558f7900e294d24ce491", "url": "https://api.github.com/repos/rust-lang/rust/commits/311e2683e1bad87715b1558f7900e294d24ce491", "html_url": "https://github.com/rust-lang/rust/commit/311e2683e1bad87715b1558f7900e294d24ce491"}, {"sha": "494901ced604ba9c8ddf5291c2346b07f36aa012", "url": "https://api.github.com/repos/rust-lang/rust/commits/494901ced604ba9c8ddf5291c2346b07f36aa012", "html_url": "https://github.com/rust-lang/rust/commit/494901ced604ba9c8ddf5291c2346b07f36aa012"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "98dd1521d0e85bea969b63d583f976bd74a023ee", "filename": "library/core/src/slice/iter.rs", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47/library%2Fcore%2Fsrc%2Fslice%2Fiter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47/library%2Fcore%2Fsrc%2Fslice%2Fiter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fslice%2Fiter.rs?ref=d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47", "patch": "@@ -358,6 +358,20 @@ impl<'a, T: 'a, P: FnMut(&T) -> bool> Split<'a, T, P> {\n     pub(super) fn new(slice: &'a [T], pred: P) -> Self {\n         Self { v: slice, pred, finished: false }\n     }\n+    /// Returns a slice which contains items not yet handled by split.\n+    /// # Example\n+    ///\n+    /// ```\n+    /// #![feature(split_as_slice)]\n+    /// let slice = [1,2,3,4,5];\n+    /// let mut split = slice.split(|v| v % 2 == 0);\n+    /// assert!(split.next().is_some());\n+    /// assert_eq!(split.as_slice(), &[3,4,5]);\n+    /// ```\n+    #[unstable(feature = \"split_as_slice\", issue = \"96137\")]\n+    pub fn as_slice(&self) -> &'a [T] {\n+        if self.finished { &[] } else { &self.v }\n+    }\n }\n \n #[stable(feature = \"core_impl_debug\", since = \"1.9.0\")]"}, {"sha": "485fa305c00e19834cc3f4b590f08fdc15615607", "filename": "library/core/tests/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47/library%2Fcore%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47/library%2Fcore%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Flib.rs?ref=d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47", "patch": "@@ -46,6 +46,7 @@\n #![feature(sort_internals)]\n #![feature(slice_take)]\n #![feature(slice_from_ptr_range)]\n+#![feature(split_as_slice)]\n #![feature(maybe_uninit_uninit_array)]\n #![feature(maybe_uninit_array_assume_init)]\n #![feature(maybe_uninit_write_slice)]"}, {"sha": "872786ed1bd8083427ef1b4f2f3719e5a51947ca", "filename": "library/core/tests/slice.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47/library%2Fcore%2Ftests%2Fslice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47/library%2Fcore%2Ftests%2Fslice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Ftests%2Fslice.rs?ref=d5ae66c12c6bdf1a5739ae1fce8057fd76ba0f47", "patch": "@@ -2339,6 +2339,18 @@ fn slice_rsplit_array_mut() {\n     }\n }\n \n+#[test]\n+fn split_as_slice() {\n+    let arr = [1, 2, 3, 4, 5, 6];\n+    let mut split = arr.split(|v| v % 2 == 0);\n+    assert_eq!(split.as_slice(), &[1, 2, 3, 4, 5, 6]);\n+    assert!(split.next().is_some());\n+    assert_eq!(split.as_slice(), &[3, 4, 5, 6]);\n+    assert!(split.next().is_some());\n+    assert!(split.next().is_some());\n+    assert_eq!(split.as_slice(), &[]);\n+}\n+\n #[should_panic]\n #[test]\n fn slice_split_array_ref_out_of_bounds() {"}]}