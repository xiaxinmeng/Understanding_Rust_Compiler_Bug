{"sha": "e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU4ZjlkMmQ0M2ExOTAwNzRkNTJhMGRmNDA3MjVlYmQyYzBmYjBhOWU=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2017-01-17T07:10:00Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2017-01-19T21:54:19Z"}, "message": "travis: Get an emscripten builder online\n\nThis commit adds a new entry to the Travis matrix which will execute emscripten\ntest suites. Along the way it updates a few bits of the test suite to continue\npassing on emscripten, such as:\n\n* Ignoring i128/u128 tests as they're presumably just not working (didn't\n  investigate as to why)\n* Disabling a few process tests (not working on emscripten)\n* Ignore some num tests in libstd (#39119)\n* Fix some warnings when compiling", "tree": {"sha": "3119680164eca5ef18b4ad27d4b964b3f365c002", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3119680164eca5ef18b4ad27d4b964b3f365c002"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "html_url": "https://github.com/rust-lang/rust/commit/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aedebfe77de30675826505572f36767e77dfba90", "url": "https://api.github.com/repos/rust-lang/rust/commits/aedebfe77de30675826505572f36767e77dfba90", "html_url": "https://github.com/rust-lang/rust/commit/aedebfe77de30675826505572f36767e77dfba90"}], "stats": {"total": 94, "additions": 92, "deletions": 2}, "files": [{"sha": "8e79c2d27d1957e5d4dbbd1177a8f0ca2ed2502f", "filename": "src/bootstrap/sanity.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Fbootstrap%2Fsanity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Fbootstrap%2Fsanity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fsanity.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -45,7 +45,7 @@ pub fn check(build: &mut Build) {\n             let target = path.join(cmd);\n             let mut cmd_alt = cmd.to_os_string();\n             cmd_alt.push(\".exe\");\n-            if target.exists() ||\n+            if target.is_file() ||\n                target.with_extension(\"exe\").exists() ||\n                target.join(cmd_alt).exists() {\n                 return Some(target);"}, {"sha": "84e12eb6c3e11bd82e5004063b4dd9f3d968a45a", "filename": "src/ci/docker/emscripten/Dockerfile", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Fci%2Fdocker%2Femscripten%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Fci%2Fdocker%2Femscripten%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Femscripten%2FDockerfile?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -0,0 +1,41 @@\n+FROM ubuntu:16.04\n+\n+RUN apt-get update && apt-get install -y --no-install-recommends \\\n+  g++ \\\n+  make \\\n+  file \\\n+  curl \\\n+  ca-certificates \\\n+  python \\\n+  git \\\n+  cmake \\\n+  sudo \\\n+  gdb \\\n+  xz-utils \\\n+  lib32stdc++6\n+\n+ENV SCCACHE_DIGEST=7237e38e029342fa27b7ac25412cb9d52554008b12389727320bd533fd7f05b6a96d55485f305caf95e5c8f5f97c3313e10012ccad3e752aba2518f3522ba783\n+RUN curl -L https://api.pub.build.mozilla.org/tooltool/sha512/$SCCACHE_DIGEST | \\\n+      tar xJf - -C /usr/local/bin --strip-components=1\n+\n+RUN curl -OL https://github.com/Yelp/dumb-init/releases/download/v1.2.0/dumb-init_1.2.0_amd64.deb && \\\n+    dpkg -i dumb-init_*.deb && \\\n+    rm dumb-init_*.deb\n+ENTRYPOINT [\"/usr/bin/dumb-init\", \"--\"]\n+\n+WORKDIR /tmp\n+COPY build-emscripten.sh /tmp/\n+RUN ./build-emscripten.sh\n+ENV PATH=$PATH:/tmp/emsdk_portable\n+ENV PATH=$PATH:/tmp/emsdk_portable/clang/tag-e1.37.1/build_tag-e1.37.1_32/bin\n+ENV PATH=$PATH:/tmp/emsdk_portable/node/4.1.1_32bit/bin\n+ENV PATH=$PATH:/tmp/emsdk_portable/emscripten/tag-1.37.1\n+ENV EMSCRIPTEN=/tmp/emsdk_portable/emscripten/tag-1.37.1\n+\n+ENV RUST_CONFIGURE_ARGS --target=asmjs-unknown-emscripten\n+\n+# Run `emcc` first as it's got a prompt and doesn't actually do anything, after\n+# that's done with do the real build.\n+ENV SCRIPT emcc && \\\n+      python2.7 ../x.py test --target asmjs-unknown-emscripten\n+"}, {"sha": "2ce7a58ae66560f74310620263dc5571fbc096cb", "filename": "src/ci/docker/emscripten/build-emscripten.sh", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Fci%2Fdocker%2Femscripten%2Fbuild-emscripten.sh", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Fci%2Fdocker%2Femscripten%2Fbuild-emscripten.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Femscripten%2Fbuild-emscripten.sh?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -0,0 +1,19 @@\n+#!/bin/bash\n+# Copyright 2017 The Rust Project Developers. See the COPYRIGHT\n+# file at the top-level directory of this distribution and at\n+# http://rust-lang.org/COPYRIGHT.\n+#\n+# Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+# http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+# <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+# option. This file may not be copied, modified, or distributed\n+# except according to those terms.\n+\n+set -ex\n+\n+curl https://s3.amazonaws.com/mozilla-games/emscripten/releases/emsdk-portable.tar.gz | \\\n+      tar xzf -\n+source emsdk_portable/emsdk_env.sh\n+emsdk update\n+emsdk install --build=Release sdk-tag-1.37.1-32bit\n+emsdk activate --build=Release sdk-tag-1.37.1-32bit"}, {"sha": "aec3d901ece602aa197d01658e9566db1d5ee00d", "filename": "src/libstd/net/test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Flibstd%2Fnet%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Flibstd%2Fnet%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnet%2Ftest.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#[allow(dead_code)] // not used on emscripten\n+#![allow(warnings)] // not used on emscripten\n \n use env;\n use net::{SocketAddr, SocketAddrV4, SocketAddrV6, Ipv4Addr, Ipv6Addr, ToSocketAddrs};"}, {"sha": "5f83d077a13682897b570234ca23ae77b10520c1", "filename": "src/libstd/num.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Flibstd%2Fnum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Flibstd%2Fnum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnum.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -172,6 +172,7 @@ mod tests {\n \n     macro_rules! test_checked_next_power_of_two {\n         ($test_name:ident, $T:ident) => (\n+            #[cfg_attr(target_os = \"emscripten\", ignore)] // FIXME(#39119)\n             fn $test_name() {\n                 #![test]\n                 assert_eq!((0 as $T).checked_next_power_of_two(), Some(1));"}, {"sha": "1cbde9b1a7c77c137f7b00fd8979f6d55c5a10e5", "filename": "src/test/codegen/fastcall-inreg.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcodegen%2Ffastcall-inreg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcodegen%2Ffastcall-inreg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Ffastcall-inreg.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -53,6 +53,7 @@\n // ignore-shave\n // ignore-wasm32\n // ignore-wasm64\n+// ignore-emscripten\n \n // compile-flags: -C no-prepopulate-passes\n "}, {"sha": "cb931329051f981e48c313ef2d389b7cc999e334", "filename": "src/test/compile-fail/asm-bad-clobber.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-bad-clobber.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-bad-clobber.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fasm-bad-clobber.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -12,6 +12,7 @@\n // ignore-arm\n // ignore-aarch64\n // ignore-s390x\n+// ignore-emscripten\n \n #![feature(asm, rustc_attrs)]\n "}, {"sha": "7ba5beac213407e0d189dbaa46df5b34a0329c41", "filename": "src/test/compile-fail/asm-in-bad-modifier.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-in-bad-modifier.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-in-bad-modifier.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fasm-in-bad-modifier.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // ignore-s390x\n+// ignore-emscripten\n \n #![feature(asm)]\n "}, {"sha": "bafbf625e3517530b535f32f465e70dc1e243e37", "filename": "src/test/compile-fail/asm-misplaced-option.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-misplaced-option.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-misplaced-option.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fasm-misplaced-option.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -12,6 +12,7 @@\n // ignore-arm\n // ignore-aarch64\n // ignore-s390x\n+// ignore-emscripten\n \n #![feature(asm, rustc_attrs)]\n "}, {"sha": "161c0b977ff0ce871cc3dcef9d19671311d4afa3", "filename": "src/test/compile-fail/asm-out-assign-imm.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-out-assign-imm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-out-assign-imm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fasm-out-assign-imm.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // ignore-s390x\n+// ignore-emscripten\n \n #![feature(asm)]\n "}, {"sha": "cb8fb19a7c7f0d915f50cdbd35c4328f1f47d112", "filename": "src/test/compile-fail/asm-out-no-modifier.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-out-no-modifier.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-out-no-modifier.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fasm-out-no-modifier.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // ignore-s390x\n+// ignore-emscripten\n \n #![feature(asm)]\n "}, {"sha": "42bff4c633aa953f933816d029e90a7bc7b32ab4", "filename": "src/test/compile-fail/asm-out-read-uninit.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-out-read-uninit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-out-read-uninit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fasm-out-read-uninit.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // ignore-s390x\n+// ignore-emscripten\n \n #![feature(asm)]\n "}, {"sha": "df1a6d52f57391611b147262a06b43773d10970a", "filename": "src/test/compile-fail/asm-src-loc-codegen-units.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-src-loc-codegen-units.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-src-loc-codegen-units.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fasm-src-loc-codegen-units.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -12,6 +12,7 @@\n // ignore-stage1\n // compile-flags: -C codegen-units=2\n // error-pattern: build without -C codegen-units for more exact errors\n+// ignore-emscripten\n \n #![feature(asm)]\n "}, {"sha": "59b47c2408d7dc19fcdefc721365b317777fe4e7", "filename": "src/test/compile-fail/asm-src-loc.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-src-loc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fasm-src-loc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fasm-src-loc.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// ignore-emscripten\n+\n #![feature(asm)]\n \n fn main() {"}, {"sha": "853507cbc6d8a6df47def9fc52a6e4a2564e2f4a", "filename": "src/test/compile-fail/cdylib-deps-must-be-static.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fcdylib-deps-must-be-static.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fcdylib-deps-must-be-static.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcdylib-deps-must-be-static.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -11,6 +11,7 @@\n // error-pattern: dependency `cdylib_dep` not found in rlib format\n // aux-build:cdylib-dep.rs\n // ignore-musl\n+// ignore-emscripten\n \n #![crate_type = \"cdylib\"]\n "}, {"sha": "bcc2c10653f9c06bd44d487db1d12ffbb33ae6e0", "filename": "src/test/compile-fail/macro-expanded-include/test.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fmacro-expanded-include%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fmacro-expanded-include%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-expanded-include%2Ftest.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// ignore-emscripten\n+\n #![feature(asm, rustc_attrs)]\n #![allow(unused)]\n "}, {"sha": "1fd60b15a72ac266d99fa5112189de962c17b791", "filename": "src/test/compile-fail/panic-runtime/abort-link-to-unwind-dylib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fpanic-runtime%2Fabort-link-to-unwind-dylib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Fpanic-runtime%2Fabort-link-to-unwind-dylib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fpanic-runtime%2Fabort-link-to-unwind-dylib.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -10,6 +10,7 @@\n \n // compile-flags:-C panic=abort -C prefer-dynamic\n // ignore-musl - no dylibs here\n+// ignore-emscripten\n // error-pattern:`panic_unwind` is not compiled with this crate's panic strategy\n \n // This is a test where the local crate, compiled with `panic=abort`, links to"}, {"sha": "965e4e0e2eabeb13e41302266846c3263c89ceb5", "filename": "src/test/compile-fail/two-allocators-3.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Ftwo-allocators-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Fcompile-fail%2Ftwo-allocators-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftwo-allocators-3.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -11,6 +11,7 @@\n // aux-build:allocator1.rs\n // error-pattern: cannot link together two allocators\n // ignore-musl no dylibs on musl yet\n+// ignore-emscripten\n \n // We're linking std dynamically (via -C prefer-dynamic for this test) which\n // has an allocator and then we're also linking in a new allocator (allocator1)"}, {"sha": "90c20444842f480a0fe647498dba81a40f0d041a", "filename": "src/test/run-pass-valgrind/down-with-thread-dtors.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass-valgrind%2Fdown-with-thread-dtors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass-valgrind%2Fdown-with-thread-dtors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-valgrind%2Fdown-with-thread-dtors.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n // no-prefer-dynamic\n+// ignore-emscripten\n \n thread_local!(static FOO: Foo = Foo);\n thread_local!(static BAR: Bar = Bar(1));"}, {"sha": "b72d2659967c4a6f718d3ca5b7b20506e727bbd6", "filename": "src/test/run-pass-valgrind/exit-flushes.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass-valgrind%2Fexit-flushes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass-valgrind%2Fexit-flushes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-valgrind%2Fexit-flushes.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -11,6 +11,7 @@\n // no-prefer-dynamic\n // ignore-macos this needs valgrind 3.11 or higher; see\n // https://github.com/rust-lang/rust/pull/30365#issuecomment-165763679\n+// ignore-emscripten\n \n use std::env;\n use std::process::{exit, Command};"}, {"sha": "222f32754fb6b9415f7aeb808dcf5113b0c33fa3", "filename": "src/test/run-pass/i128-ffi.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass%2Fi128-ffi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass%2Fi128-ffi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fi128-ffi.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -20,6 +20,8 @@\n // Ignore 32 bit targets:\n // ignore-x86, ignore-arm\n \n+// ignore-emscripten\n+\n #![feature(i128_type)]\n \n #[link(name = \"rust_test_helpers\", kind = \"static\")]"}, {"sha": "3eb1c95050267b59344c7ddef26a2c53499a6162", "filename": "src/test/run-pass/i128.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass%2Fi128.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass%2Fi128.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fi128.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -10,6 +10,9 @@\n \n // ignore-stage0\n // ignore-stage1\n+\n+// ignore-emscripten\n+\n #![feature(i128_type, test)]\n \n extern crate test;"}, {"sha": "448bb7de7727fc467aa98de8c8135cccc5474606", "filename": "src/test/run-pass/stdio-is-blocking.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass%2Fstdio-is-blocking.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass%2Fstdio-is-blocking.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fstdio-is-blocking.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// ignore-emscripten\n+\n use std::env;\n use std::io::prelude::*;\n use std::process::Command;"}, {"sha": "d9826373cceb00803a2525ca120793b4da747e6e", "filename": "src/test/run-pass/try-wait.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass%2Ftry-wait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass%2Ftry-wait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftry-wait.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// ignore-emscripten\n+\n #![feature(process_try_wait)]\n \n use std::env;"}, {"sha": "139d42e3a3524b39bb7b3cac5e4c91c77014cc5d", "filename": "src/test/run-pass/u128.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass%2Fu128.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e/src%2Ftest%2Frun-pass%2Fu128.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fu128.rs?ref=e8f9d2d43a190074d52a0df40725ebd2c0fb0a9e", "patch": "@@ -10,6 +10,9 @@\n \n // ignore-stage0\n // ignore-stage1\n+\n+// ignore-emscripten\n+\n #![feature(i128_type, test)]\n \n extern crate test;"}]}