{"sha": "a7a68370a72cc553c8ca983fe593062235360b9b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE3YTY4MzcwYTcyY2M1NTNjOGNhOTgzZmU1OTMwNjIyMzUzNjBiOWI=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@commure.com", "date": "2018-07-21T22:56:37Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@commure.com", "date": "2018-07-21T22:56:37Z"}, "message": "Change `eprintln!()`\n\nAddress #30143 as well. `writeln!()` hasn't been changed.", "tree": {"sha": "7e16a5b2a666e24c05186e22d9245778ad0e3303", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7e16a5b2a666e24c05186e22d9245778ad0e3303"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a7a68370a72cc553c8ca983fe593062235360b9b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a7a68370a72cc553c8ca983fe593062235360b9b", "html_url": "https://github.com/rust-lang/rust/commit/a7a68370a72cc553c8ca983fe593062235360b9b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a7a68370a72cc553c8ca983fe593062235360b9b/comments", "author": null, "committer": null, "parents": [{"sha": "00d500052c72775ab994b5634195976f85b4e0d6", "url": "https://api.github.com/repos/rust-lang/rust/commits/00d500052c72775ab994b5634195976f85b4e0d6", "html_url": "https://github.com/rust-lang/rust/commit/00d500052c72775ab994b5634195976f85b4e0d6"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "f06b8f621f263aa93961351ae04ed1417bf2b47e", "filename": "src/libstd/macros.rs", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/a7a68370a72cc553c8ca983fe593062235360b9b/src%2Flibstd%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a7a68370a72cc553c8ca983fe593062235360b9b/src%2Flibstd%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fmacros.rs?ref=a7a68370a72cc553c8ca983fe593062235360b9b", "patch": "@@ -217,10 +217,17 @@ macro_rules! eprint {\n /// ```\n #[macro_export]\n #[stable(feature = \"eprint\", since = \"1.19.0\")]\n+#[allow_internal_unstable]\n macro_rules! eprintln {\n     () => (eprint!(\"\\n\"));\n-    ($fmt:expr) => (eprint!(concat!($fmt, \"\\n\")));\n-    ($fmt:expr, $($arg:tt)*) => (eprint!(concat!($fmt, \"\\n\"), $($arg)*));\n+    ($($arg:tt)*) => ({\n+        #[cfg(not(stage0))] {\n+            ($crate::io::_eprint(format_args_nl!($($arg)*)));\n+        }\n+        #[cfg(stage0)] {\n+            eprint!(\"{}\\n\", format_args!($($arg)*))\n+        }\n+    })\n }\n \n #[macro_export]"}]}