{"sha": "6f2a1c946744dd6c1de7a1c556cb1333592dec62", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZmMmExYzk0Njc0NGRkNmMxZGU3YTFjNTU2Y2IxMzMzNTkyZGVjNjI=", "commit": {"author": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2015-02-12T17:46:40Z"}, "committer": {"name": "Niko Matsakis", "email": "niko@alum.mit.edu", "date": "2015-02-18T15:38:25Z"}, "message": "Fallout: add phantomdata to hash", "tree": {"sha": "300b4db0200b78c11edbe68257050fff3ac2fa4f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/300b4db0200b78c11edbe68257050fff3ac2fa4f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6f2a1c946744dd6c1de7a1c556cb1333592dec62", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6f2a1c946744dd6c1de7a1c556cb1333592dec62", "html_url": "https://github.com/rust-lang/rust/commit/6f2a1c946744dd6c1de7a1c556cb1333592dec62", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6f2a1c946744dd6c1de7a1c556cb1333592dec62/comments", "author": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikomatsakis", "id": 155238, "node_id": "MDQ6VXNlcjE1NTIzOA==", "avatar_url": "https://avatars.githubusercontent.com/u/155238?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikomatsakis", "html_url": "https://github.com/nikomatsakis", "followers_url": "https://api.github.com/users/nikomatsakis/followers", "following_url": "https://api.github.com/users/nikomatsakis/following{/other_user}", "gists_url": "https://api.github.com/users/nikomatsakis/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikomatsakis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikomatsakis/subscriptions", "organizations_url": "https://api.github.com/users/nikomatsakis/orgs", "repos_url": "https://api.github.com/users/nikomatsakis/repos", "events_url": "https://api.github.com/users/nikomatsakis/events{/privacy}", "received_events_url": "https://api.github.com/users/nikomatsakis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ae7c534d042bb37e7e22cefabaa81b304638bc0b", "url": "https://api.github.com/repos/rust-lang/rust/commits/ae7c534d042bb37e7e22cefabaa81b304638bc0b", "html_url": "https://github.com/rust-lang/rust/commit/ae7c534d042bb37e7e22cefabaa81b304638bc0b"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "7e6dd45b51e48f69f553388787dc490f1f843e03", "filename": "src/libstd/collections/hash/state.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/6f2a1c946744dd6c1de7a1c556cb1333592dec62/src%2Flibstd%2Fcollections%2Fhash%2Fstate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6f2a1c946744dd6c1de7a1c556cb1333592dec62/src%2Flibstd%2Fcollections%2Fhash%2Fstate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fcollections%2Fhash%2Fstate.rs?ref=6f2a1c946744dd6c1de7a1c556cb1333592dec62", "patch": "@@ -11,6 +11,7 @@\n use clone::Clone;\n use default::Default;\n use hash;\n+use marker;\n \n /// A trait representing stateful hashes which can be used to hash keys in a\n /// `HashMap`.\n@@ -37,17 +38,17 @@ pub trait HashState {\n ///\n /// This struct has is 0-sized and does not need construction.\n #[unstable(feature = \"std_misc\", reason = \"hasher stuff is unclear\")]\n-pub struct DefaultState<H>;\n+pub struct DefaultState<H>(marker::PhantomData<H>);\n \n impl<H: Default + hash::Hasher> HashState for DefaultState<H> {\n     type Hasher = H;\n     fn hasher(&self) -> H { Default::default() }\n }\n \n impl<H> Clone for DefaultState<H> {\n-    fn clone(&self) -> DefaultState<H> { DefaultState }\n+    fn clone(&self) -> DefaultState<H> { DefaultState(marker::PhantomData) }\n }\n \n impl<H> Default for DefaultState<H> {\n-    fn default() -> DefaultState<H> { DefaultState }\n+    fn default() -> DefaultState<H> { DefaultState(marker::PhantomData) }\n }"}]}