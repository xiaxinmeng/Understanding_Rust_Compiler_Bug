{"sha": "97ec0ea698cbfeb7a0f62d0cd270050194c95c5d", "node_id": "C_kwDOAAsO6NoAKDk3ZWMwZWE2OThjYmZlYjdhMGY2MmQwY2QyNzAwNTAxOTRjOTVjNWQ", "commit": {"author": {"name": "Noritada Kobayashi", "email": "noritada.kobayashi@gmail.com", "date": "2022-12-11T17:09:31Z"}, "committer": {"name": "Noritada Kobayashi", "email": "noritada.kobayashi@gmail.com", "date": "2022-12-11T17:09:31Z"}, "message": "Update the release process documentation to run `xtask publish-release-notes`", "tree": {"sha": "9bf012c54ea081a7c98b10cca1d58f3fa220eee3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9bf012c54ea081a7c98b10cca1d58f3fa220eee3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/97ec0ea698cbfeb7a0f62d0cd270050194c95c5d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/97ec0ea698cbfeb7a0f62d0cd270050194c95c5d", "html_url": "https://github.com/rust-lang/rust/commit/97ec0ea698cbfeb7a0f62d0cd270050194c95c5d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/97ec0ea698cbfeb7a0f62d0cd270050194c95c5d/comments", "author": {"login": "noritada", "id": 20850, "node_id": "MDQ6VXNlcjIwODUw", "avatar_url": "https://avatars.githubusercontent.com/u/20850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noritada", "html_url": "https://github.com/noritada", "followers_url": "https://api.github.com/users/noritada/followers", "following_url": "https://api.github.com/users/noritada/following{/other_user}", "gists_url": "https://api.github.com/users/noritada/gists{/gist_id}", "starred_url": "https://api.github.com/users/noritada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noritada/subscriptions", "organizations_url": "https://api.github.com/users/noritada/orgs", "repos_url": "https://api.github.com/users/noritada/repos", "events_url": "https://api.github.com/users/noritada/events{/privacy}", "received_events_url": "https://api.github.com/users/noritada/received_events", "type": "User", "site_admin": false}, "committer": {"login": "noritada", "id": 20850, "node_id": "MDQ6VXNlcjIwODUw", "avatar_url": "https://avatars.githubusercontent.com/u/20850?v=4", "gravatar_id": "", "url": "https://api.github.com/users/noritada", "html_url": "https://github.com/noritada", "followers_url": "https://api.github.com/users/noritada/followers", "following_url": "https://api.github.com/users/noritada/following{/other_user}", "gists_url": "https://api.github.com/users/noritada/gists{/gist_id}", "starred_url": "https://api.github.com/users/noritada/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/noritada/subscriptions", "organizations_url": "https://api.github.com/users/noritada/orgs", "repos_url": "https://api.github.com/users/noritada/repos", "events_url": "https://api.github.com/users/noritada/events{/privacy}", "received_events_url": "https://api.github.com/users/noritada/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f06a29f6e1fed49c0e817e669b77f3110ef84d6c", "url": "https://api.github.com/repos/rust-lang/rust/commits/f06a29f6e1fed49c0e817e669b77f3110ef84d6c", "html_url": "https://github.com/rust-lang/rust/commit/f06a29f6e1fed49c0e817e669b77f3110ef84d6c"}], "stats": {"total": 7, "additions": 4, "deletions": 3}, "files": [{"sha": "cdab6b09928cd207a3e64acc7989e54b7a12aa4c", "filename": "docs/dev/README.md", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/97ec0ea698cbfeb7a0f62d0cd270050194c95c5d/docs%2Fdev%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/97ec0ea698cbfeb7a0f62d0cd270050194c95c5d/docs%2Fdev%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fdev%2FREADME.md?ref=97ec0ea698cbfeb7a0f62d0cd270050194c95c5d", "patch": "@@ -200,7 +200,7 @@ Look for `fn benchmark_xxx` tests for a quick way to reproduce performance probl\n \n ## Release Process\n \n-Release process is handled by `release`, `dist` and `promote` xtasks, `release` being the main one.\n+Release process is handled by `release`, `dist`, `publish-release-notes` and `promote` xtasks, `release` being the main one.\n \n `release` assumes that you have checkouts of `rust-analyzer`, `rust-analyzer.github.io`, and `rust-lang/rust` in the same directory:\n \n@@ -231,8 +231,9 @@ Release steps:\n    * create a new changelog in `rust-analyzer.github.io`\n 3. While the release is in progress, fill in the changelog\n 4. Commit & push the changelog\n-5. Tweet\n-6. Inside `rust-analyzer`, run `cargo xtask promote` -- this will create a PR to rust-lang/rust updating rust-analyzer's subtree.\n+5. Run `cargo xtask publish-release-notes <CHANGELOG>` -- this will convert the changelog entry in AsciiDoc to Markdown and update the body of GitHub Releases entry.\n+6. Tweet\n+7. Inside `rust-analyzer`, run `cargo xtask promote` -- this will create a PR to rust-lang/rust updating rust-analyzer's subtree.\n    Self-approve the PR.\n \n If the GitHub Actions release fails because of a transient problem like a timeout, you can re-run the job from the Actions console."}]}