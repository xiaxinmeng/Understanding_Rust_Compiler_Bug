{"sha": "33ee4335b97947dca1efc3fbc833eba60d842164", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMzZWU0MzM1Yjk3OTQ3ZGNhMWVmYzNmYmM4MzNlYmE2MGQ4NDIxNjQ=", "commit": {"author": {"name": "Carol W", "email": "carolcode@willingconsulting.com", "date": "2013-11-10T21:42:21Z"}, "committer": {"name": "Carol Willing", "email": "carolcode@willingconsulting.com", "date": "2013-11-12T23:14:07Z"}, "message": "Fixed xfail for nbody shootout benchmark by correcting command line parse.\nCleaned up unneeded imports and type changes to resolve compiler warnings.", "tree": {"sha": "7993bc3fdf8e1a9f2c54da21ae9df715fafc9892", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7993bc3fdf8e1a9f2c54da21ae9df715fafc9892"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/33ee4335b97947dca1efc3fbc833eba60d842164", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/33ee4335b97947dca1efc3fbc833eba60d842164", "html_url": "https://github.com/rust-lang/rust/commit/33ee4335b97947dca1efc3fbc833eba60d842164", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/33ee4335b97947dca1efc3fbc833eba60d842164/comments", "author": {"login": "willingc", "id": 2680980, "node_id": "MDQ6VXNlcjI2ODA5ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/2680980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willingc", "html_url": "https://github.com/willingc", "followers_url": "https://api.github.com/users/willingc/followers", "following_url": "https://api.github.com/users/willingc/following{/other_user}", "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}", "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willingc/subscriptions", "organizations_url": "https://api.github.com/users/willingc/orgs", "repos_url": "https://api.github.com/users/willingc/repos", "events_url": "https://api.github.com/users/willingc/events{/privacy}", "received_events_url": "https://api.github.com/users/willingc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "willingc", "id": 2680980, "node_id": "MDQ6VXNlcjI2ODA5ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/2680980?v=4", "gravatar_id": "", "url": "https://api.github.com/users/willingc", "html_url": "https://github.com/willingc", "followers_url": "https://api.github.com/users/willingc/followers", "following_url": "https://api.github.com/users/willingc/following{/other_user}", "gists_url": "https://api.github.com/users/willingc/gists{/gist_id}", "starred_url": "https://api.github.com/users/willingc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/willingc/subscriptions", "organizations_url": "https://api.github.com/users/willingc/orgs", "repos_url": "https://api.github.com/users/willingc/repos", "events_url": "https://api.github.com/users/willingc/events{/privacy}", "received_events_url": "https://api.github.com/users/willingc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3b0d48634f546055e17cf23a6bcde1bbfbc16b15", "url": "https://api.github.com/repos/rust-lang/rust/commits/3b0d48634f546055e17cf23a6bcde1bbfbc16b15", "html_url": "https://github.com/rust-lang/rust/commit/3b0d48634f546055e17cf23a6bcde1bbfbc16b15"}], "stats": {"total": 22, "additions": 13, "deletions": 9}, "files": [{"sha": "a7f86b01b3fffdd40c85e8773bb9ad923e4f4203", "filename": "src/test/bench/shootout-ackermann.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/33ee4335b97947dca1efc3fbc833eba60d842164/src%2Ftest%2Fbench%2Fshootout-ackermann.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33ee4335b97947dca1efc3fbc833eba60d842164/src%2Ftest%2Fbench%2Fshootout-ackermann.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-ackermann.rs?ref=33ee4335b97947dca1efc3fbc833eba60d842164", "patch": "@@ -10,7 +10,6 @@\n \n extern mod extra;\n \n-use std::int;\n use std::os;\n \n fn ack(m: int, n: int) -> int {"}, {"sha": "a489d17e92a5b8d0f43306a0125ae5f5997c7abf", "filename": "src/test/bench/shootout-chameneos-redux.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/33ee4335b97947dca1efc3fbc833eba60d842164/src%2Ftest%2Fbench%2Fshootout-chameneos-redux.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33ee4335b97947dca1efc3fbc833eba60d842164/src%2Ftest%2Fbench%2Fshootout-chameneos-redux.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-chameneos-redux.rs?ref=33ee4335b97947dca1efc3fbc833eba60d842164", "patch": "@@ -17,7 +17,6 @@ use std::comm::{stream, SharedChan};\n use std::option;\n use std::os;\n use std::task;\n-use std::uint;\n \n fn print_complements() {\n     let all = [Blue, Red, Yellow];"}, {"sha": "d7a9dd86f4dddc050fd59ac0a52161b0856e1601", "filename": "src/test/bench/shootout-fibo.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/33ee4335b97947dca1efc3fbc833eba60d842164/src%2Ftest%2Fbench%2Fshootout-fibo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33ee4335b97947dca1efc3fbc833eba60d842164/src%2Ftest%2Fbench%2Fshootout-fibo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-fibo.rs?ref=33ee4335b97947dca1efc3fbc833eba60d842164", "patch": "@@ -10,7 +10,6 @@\n \n extern mod extra;\n \n-use std::int;\n use std::os;\n \n fn fib(n: int) -> int {"}, {"sha": "733269f2a5f2829a48e8d5a9feeaee7cf45d9a81", "filename": "src/test/bench/shootout-nbody.rs", "status": "modified", "additions": 13, "deletions": 6, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/33ee4335b97947dca1efc3fbc833eba60d842164/src%2Ftest%2Fbench%2Fshootout-nbody.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33ee4335b97947dca1efc3fbc833eba60d842164/src%2Ftest%2Fbench%2Fshootout-nbody.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Fshootout-nbody.rs?ref=33ee4335b97947dca1efc3fbc833eba60d842164", "patch": "@@ -1,6 +1,3 @@\n-// xfail-test reading from os::args()[1] - bogus!\n-\n-use std::from_str::FromStr;\n use std::os;\n \n static PI: f64 = 3.141592653589793;\n@@ -139,13 +136,23 @@ fn offset_momentum(bodies: &mut [Planet, ..N_BODIES]) {\n }\n \n fn main() {\n-    let n: i32 = FromStr::from_str(os::args()[1]).unwrap();\n+    let args = os::args();\n+    let args = if os::getenv(\"RUST_BENCH\").is_some() {\n+        ~[~\"\", ~\"1000\"]\n+    } else if args.len() <= 1u {\n+        ~[~\"\", ~\"1000\"]\n+    } else {\n+        args\n+    };\n+\n+    let n: i32 = from_str::<i32>(args[1]).unwrap();\n     let mut bodies = BODIES;\n \n     offset_momentum(&mut bodies);\n-    println!(\"{:.9f}\", energy(&bodies) as float);\n+    println!(\"{:.9f}\", energy(&bodies) as f64);\n \n     advance(&mut bodies, 0.01, n);\n \n-    println!(\"{:.9f}\", energy(&bodies) as float);\n+    println!(\"{:.9f}\", energy(&bodies) as f64);\n }\n+"}]}