{"sha": "c2358365ad0b82d4a5f023192ee0ab2c198d6aee", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMyMzU4MzY1YWQwYjgyZDRhNWYwMjMxOTJlZTBhYjJjMTk4ZDZhZWU=", "commit": {"author": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2020-05-25T08:51:56Z"}, "committer": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2020-05-25T09:08:58Z"}, "message": "Add self keyword semantic token type", "tree": {"sha": "9923f9ea4cdebebe11df1b0cdf3a1fb453b82d95", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9923f9ea4cdebebe11df1b0cdf3a1fb453b82d95"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c2358365ad0b82d4a5f023192ee0ab2c198d6aee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c2358365ad0b82d4a5f023192ee0ab2c198d6aee", "html_url": "https://github.com/rust-lang/rust/commit/c2358365ad0b82d4a5f023192ee0ab2c198d6aee", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/comments", "author": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1527feb744c7911b6ca482554f0399d3ef0ebfdc", "url": "https://api.github.com/repos/rust-lang/rust/commits/1527feb744c7911b6ca482554f0399d3ef0ebfdc", "html_url": "https://github.com/rust-lang/rust/commit/1527feb744c7911b6ca482554f0399d3ef0ebfdc"}], "stats": {"total": 18, "additions": 14, "deletions": 4}, "files": [{"sha": "352e350955fc9b11d089fd26d5b039760293107c", "filename": "crates/ra_ide/src/snapshots/highlighting.html", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/crates%2Fra_ide%2Fsrc%2Fsnapshots%2Fhighlighting.html", "raw_url": "https://github.com/rust-lang/rust/raw/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/crates%2Fra_ide%2Fsrc%2Fsnapshots%2Fhighlighting.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fsnapshots%2Fhighlighting.html?ref=c2358365ad0b82d4a5f023192ee0ab2c198d6aee", "patch": "@@ -35,12 +35,12 @@\n }\n \n <span class=\"keyword\">trait</span> <span class=\"trait declaration\">Bar</span> {\n-    <span class=\"keyword\">fn</span> <span class=\"function declaration\">bar</span>(&<span class=\"keyword\">self</span>) -&gt; <span class=\"builtin_type\">i32</span>;\n+    <span class=\"keyword\">fn</span> <span class=\"function declaration\">bar</span>(&<span class=\"self_keyword\">self</span>) -&gt; <span class=\"builtin_type\">i32</span>;\n }\n \n <span class=\"keyword\">impl</span> <span class=\"trait\">Bar</span> <span class=\"keyword\">for</span> <span class=\"struct\">Foo</span> {\n-    <span class=\"keyword\">fn</span> <span class=\"function declaration\">bar</span>(&<span class=\"keyword\">self</span>) -&gt; <span class=\"builtin_type\">i32</span> {\n-        <span class=\"keyword\">self</span>.<span class=\"field\">x</span>\n+    <span class=\"keyword\">fn</span> <span class=\"function declaration\">bar</span>(&<span class=\"self_keyword\">self</span>) -&gt; <span class=\"builtin_type\">i32</span> {\n+        <span class=\"self_keyword\">self</span>.<span class=\"field\">x</span>\n     }\n }\n \n@@ -92,7 +92,7 @@\n <span class=\"keyword\">use</span> <span class=\"enum\">Option</span>::*;\n \n <span class=\"keyword\">impl</span>&lt;<span class=\"type_param declaration\">T</span>&gt; <span class=\"enum\">Option</span>&lt;<span class=\"type_param\">T</span>&gt; {\n-    <span class=\"keyword\">fn</span> <span class=\"function declaration\">and</span>&lt;<span class=\"type_param declaration\">U</span>&gt;(<span class=\"keyword\">self</span>, <span class=\"variable declaration\">other</span>: <span class=\"enum\">Option</span>&lt;<span class=\"type_param\">U</span>&gt;) -&gt; <span class=\"enum\">Option</span>&lt;(<span class=\"type_param\">T</span>, <span class=\"type_param\">U</span>)&gt; {\n+    <span class=\"keyword\">fn</span> <span class=\"function declaration\">and</span>&lt;<span class=\"type_param declaration\">U</span>&gt;(<span class=\"self_keyword\">self</span>, <span class=\"variable declaration\">other</span>: <span class=\"enum\">Option</span>&lt;<span class=\"type_param\">U</span>&gt;) -&gt; <span class=\"enum\">Option</span>&lt;(<span class=\"type_param\">T</span>, <span class=\"type_param\">U</span>)&gt; {\n         <span class=\"keyword control\">match</span> <span class=\"variable\">other</span> {\n             <span class=\"enum_variant\">None</span> =&gt; <span class=\"macro\">unimplemented!</span>(),\n             <span class=\"variable declaration\">Nope</span> =&gt; <span class=\"variable\">Nope</span>,"}, {"sha": "8a995d779baebefea9c108ff626cae4372ab34da", "filename": "crates/ra_ide/src/syntax_highlighting.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs?ref=c2358365ad0b82d4a5f023192ee0ab2c198d6aee", "patch": "@@ -414,6 +414,7 @@ fn highlight_element(\n                 T![for] if !is_child_of_impl(element) => h | HighlightModifier::ControlFlow,\n                 T![unsafe] => h | HighlightModifier::Unsafe,\n                 T![true] | T![false] => HighlightTag::BoolLiteral.into(),\n+                T![self] => HighlightTag::SelfKeyword.into(),\n                 _ => h,\n             }\n         }"}, {"sha": "46c718c91e23ebcbf47aeee2b0ea66b07ebeb3cf", "filename": "crates/ra_ide/src/syntax_highlighting/tags.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting%2Ftags.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting%2Ftags.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting%2Ftags.rs?ref=c2358365ad0b82d4a5f023192ee0ab2c198d6aee", "patch": "@@ -30,6 +30,7 @@ pub enum HighlightTag {\n     Macro,\n     Module,\n     NumericLiteral,\n+    SelfKeyword,\n     SelfType,\n     Static,\n     StringLiteral,\n@@ -76,6 +77,7 @@ impl HighlightTag {\n             HighlightTag::Macro => \"macro\",\n             HighlightTag::Module => \"module\",\n             HighlightTag::NumericLiteral => \"numeric_literal\",\n+            HighlightTag::SelfKeyword => \"self_keyword\",\n             HighlightTag::SelfType => \"self_type\",\n             HighlightTag::Static => \"static\",\n             HighlightTag::StringLiteral => \"string_literal\","}, {"sha": "6f125c37cb99672081a5ffe3c100d45f7adf2694", "filename": "crates/rust-analyzer/src/semantic_tokens.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/crates%2Frust-analyzer%2Fsrc%2Fsemantic_tokens.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/crates%2Frust-analyzer%2Fsrc%2Fsemantic_tokens.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fsemantic_tokens.rs?ref=c2358365ad0b82d4a5f023192ee0ab2c198d6aee", "patch": "@@ -40,6 +40,7 @@ define_semantic_token_types![\n     (BUILTIN_TYPE, \"builtinType\"),\n     (ENUM_MEMBER, \"enumMember\"),\n     (LIFETIME, \"lifetime\"),\n+    (SELF_KEYWORD, \"selfKeyword\"),\n     (TYPE_ALIAS, \"typeAlias\"),\n     (UNION, \"union\"),\n     (UNRESOLVED_REFERENCE, \"unresolvedReference\"),"}, {"sha": "ebaad4d19b4e471b3512337bc232274fa6de8279", "filename": "crates/rust-analyzer/src/to_proto.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs?ref=c2358365ad0b82d4a5f023192ee0ab2c198d6aee", "patch": "@@ -274,6 +274,7 @@ fn semantic_token_type_and_modifiers(\n         HighlightTag::TypeAlias => semantic_tokens::TYPE_ALIAS,\n         HighlightTag::Trait => lsp_types::SemanticTokenType::INTERFACE,\n         HighlightTag::BuiltinType => semantic_tokens::BUILTIN_TYPE,\n+        HighlightTag::SelfKeyword => semantic_tokens::SELF_KEYWORD,\n         HighlightTag::SelfType => lsp_types::SemanticTokenType::TYPE,\n         HighlightTag::Field => lsp_types::SemanticTokenType::PROPERTY,\n         HighlightTag::Function => lsp_types::SemanticTokenType::FUNCTION,"}, {"sha": "3127e6a3050021d3dac52ab4b61f438b8b728b17", "filename": "editors/code/package.json", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/c2358365ad0b82d4a5f023192ee0ab2c198d6aee/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=c2358365ad0b82d4a5f023192ee0ab2c198d6aee", "patch": "@@ -595,6 +595,11 @@\n                 \"id\": \"lifetime\",\n                 \"description\": \"Style for lifetimes\"\n             },\n+            {\n+                \"id\": \"selfKeyword\",\n+                \"description\": \"Style for the self keyword\",\n+                \"superType\": \"keyword\"\n+            },\n             {\n                 \"id\": \"typeAlias\",\n                 \"description\": \"Style for type aliases\","}]}