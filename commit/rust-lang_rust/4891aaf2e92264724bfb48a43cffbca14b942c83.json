{"sha": "4891aaf2e92264724bfb48a43cffbca14b942c83", "node_id": "C_kwDOAAsO6NoAKDQ4OTFhYWYyZTkyMjY0NzI0YmZiNDhhNDNjZmZiY2ExNGI5NDJjODM", "commit": {"author": {"name": "Lo\u00efc BRANSTETT", "email": "loic.branstett@epitech.eu", "date": "2021-10-08T14:53:39Z"}, "committer": {"name": "Lo\u00efc BRANSTETT", "email": "loic.branstett@epitech.eu", "date": "2021-10-08T14:53:39Z"}, "message": "Remove special-casing of never primitive in rustdoc-json-types", "tree": {"sha": "9905e9c8a0b87f350698f2da084270b3326dc785", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9905e9c8a0b87f350698f2da084270b3326dc785"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4891aaf2e92264724bfb48a43cffbca14b942c83", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4891aaf2e92264724bfb48a43cffbca14b942c83", "html_url": "https://github.com/rust-lang/rust/commit/4891aaf2e92264724bfb48a43cffbca14b942c83", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4891aaf2e92264724bfb48a43cffbca14b942c83/comments", "author": {"login": "Urgau", "id": 3616612, "node_id": "MDQ6VXNlcjM2MTY2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3616612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Urgau", "html_url": "https://github.com/Urgau", "followers_url": "https://api.github.com/users/Urgau/followers", "following_url": "https://api.github.com/users/Urgau/following{/other_user}", "gists_url": "https://api.github.com/users/Urgau/gists{/gist_id}", "starred_url": "https://api.github.com/users/Urgau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Urgau/subscriptions", "organizations_url": "https://api.github.com/users/Urgau/orgs", "repos_url": "https://api.github.com/users/Urgau/repos", "events_url": "https://api.github.com/users/Urgau/events{/privacy}", "received_events_url": "https://api.github.com/users/Urgau/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Urgau", "id": 3616612, "node_id": "MDQ6VXNlcjM2MTY2MTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3616612?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Urgau", "html_url": "https://github.com/Urgau", "followers_url": "https://api.github.com/users/Urgau/followers", "following_url": "https://api.github.com/users/Urgau/following{/other_user}", "gists_url": "https://api.github.com/users/Urgau/gists{/gist_id}", "starred_url": "https://api.github.com/users/Urgau/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Urgau/subscriptions", "organizations_url": "https://api.github.com/users/Urgau/orgs", "repos_url": "https://api.github.com/users/Urgau/repos", "events_url": "https://api.github.com/users/Urgau/events{/privacy}", "received_events_url": "https://api.github.com/users/Urgau/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "44995f7afb18775913618ae50601be31b9f9dead", "url": "https://api.github.com/repos/rust-lang/rust/commits/44995f7afb18775913618ae50601be31b9f9dead", "html_url": "https://github.com/rust-lang/rust/commit/44995f7afb18775913618ae50601be31b9f9dead"}], "stats": {"total": 27, "additions": 23, "deletions": 4}, "files": [{"sha": "661453521d1cc2a2baa95aaf4d7c1bb5ca923fd1", "filename": "src/librustdoc/json/conversions.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4891aaf2e92264724bfb48a43cffbca14b942c83/src%2Flibrustdoc%2Fjson%2Fconversions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4891aaf2e92264724bfb48a43cffbca14b942c83/src%2Flibrustdoc%2Fjson%2Fconversions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fjson%2Fconversions.rs?ref=4891aaf2e92264724bfb48a43cffbca14b942c83", "patch": "@@ -418,7 +418,6 @@ impl FromWithTcx<clean::Type> for Type {\n                 }\n             }\n             Generic(s) => Type::Generic(s.to_string()),\n-            Primitive(clean::PrimitiveType::Never) => Type::Never,\n             Primitive(p) => Type::Primitive(p.as_sym().to_string()),\n             BareFunction(f) => Type::FunctionPointer(Box::new((*f).into_tcx(tcx))),\n             Tuple(t) => Type::Tuple(t.into_iter().map(|x| x.into_tcx(tcx)).collect()),"}, {"sha": "bef610867b65a560adea935e2569d2f5a09b1fff", "filename": "src/librustdoc/json/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4891aaf2e92264724bfb48a43cffbca14b942c83/src%2Flibrustdoc%2Fjson%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4891aaf2e92264724bfb48a43cffbca14b942c83/src%2Flibrustdoc%2Fjson%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fjson%2Fmod.rs?ref=4891aaf2e92264724bfb48a43cffbca14b942c83", "patch": "@@ -255,7 +255,7 @@ impl<'tcx> FormatRenderer<'tcx> for JsonRenderer<'tcx> {\n                     )\n                 })\n                 .collect(),\n-            format_version: 8,\n+            format_version: 9,\n         };\n         let mut p = self.out_path.clone();\n         p.push(output.index.get(&output.root).unwrap().name.clone().unwrap());"}, {"sha": "7c418697c1c1c8851c72adedfbfc02a60133048e", "filename": "src/rustdoc-json-types/lib.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4891aaf2e92264724bfb48a43cffbca14b942c83/src%2Frustdoc-json-types%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4891aaf2e92264724bfb48a43cffbca14b942c83/src%2Frustdoc-json-types%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc-json-types%2Flib.rs?ref=4891aaf2e92264724bfb48a43cffbca14b942c83", "patch": "@@ -388,8 +388,6 @@ pub enum Type {\n     },\n     /// `impl TraitA + TraitB + ...`\n     ImplTrait(Vec<GenericBound>),\n-    /// `!`\n-    Never,\n     /// `_`\n     Infer,\n     /// `*mut u32`, `*u8`, etc."}, {"sha": "fd04f04da066a0a161e688f5c2a610bc17adaa82", "filename": "src/test/rustdoc-json/primitives.rs", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/4891aaf2e92264724bfb48a43cffbca14b942c83/src%2Ftest%2Frustdoc-json%2Fprimitives.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4891aaf2e92264724bfb48a43cffbca14b942c83/src%2Ftest%2Frustdoc-json%2Fprimitives.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Fprimitives.rs?ref=4891aaf2e92264724bfb48a43cffbca14b942c83", "patch": "@@ -0,0 +1,22 @@\n+#![feature(never_type)]\n+\n+// @has primitives.json \"$.index[*][?(@.name=='PrimNever')].visibility\" \\\"public\\\"\n+// @has - \"$.index[*][?(@.name=='PrimNever')].inner.type.kind\" \\\"primitive\\\"\n+// @has - \"$.index[*][?(@.name=='PrimNever')].inner.type.inner\" \\\"never\\\"\n+pub type PrimNever = !;\n+\n+// @has - \"$.index[*][?(@.name=='PrimStr')].inner.type.kind\" \\\"primitive\\\"\n+// @has - \"$.index[*][?(@.name=='PrimStr')].inner.type.inner\" \\\"str\\\"\n+pub type PrimStr = str;\n+\n+// @has - \"$.index[*][?(@.name=='PrimBool')].inner.type.kind\" \\\"primitive\\\"\n+// @has - \"$.index[*][?(@.name=='PrimBool')].inner.type.inner\" \\\"bool\\\"\n+pub type PrimBool = bool;\n+\n+// @has - \"$.index[*][?(@.name=='PrimChar')].inner.type.kind\" \\\"primitive\\\"\n+// @has - \"$.index[*][?(@.name=='PrimChar')].inner.type.inner\" \\\"char\\\"\n+pub type PrimChar = char;\n+\n+// @has - \"$.index[*][?(@.name=='PrimU8')].inner.type.kind\" \\\"primitive\\\"\n+// @has - \"$.index[*][?(@.name=='PrimU8')].inner.type.inner\" \\\"u8\\\"\n+pub type PrimU8 = u8;"}]}