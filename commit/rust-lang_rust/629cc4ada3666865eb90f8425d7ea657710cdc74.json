{"sha": "629cc4ada3666865eb90f8425d7ea657710cdc74", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYyOWNjNGFkYTM2NjY4NjVlYjkwZjg0MjVkN2VhNjU3NzEwY2RjNzQ=", "commit": {"author": {"name": "ThibsG", "email": "Thibs@debian.com", "date": "2020-03-23T21:07:46Z"}, "committer": {"name": "ThibsG", "email": "Thibs@debian.com", "date": "2020-04-09T07:17:41Z"}, "message": "Update doc generation script", "tree": {"sha": "ec42e3aa8bd6e2681b3d01e8412d90318d29b37d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ec42e3aa8bd6e2681b3d01e8412d90318d29b37d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/629cc4ada3666865eb90f8425d7ea657710cdc74", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/629cc4ada3666865eb90f8425d7ea657710cdc74", "html_url": "https://github.com/rust-lang/rust/commit/629cc4ada3666865eb90f8425d7ea657710cdc74", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/629cc4ada3666865eb90f8425d7ea657710cdc74/comments", "author": {"login": "ThibsG", "id": 12683889, "node_id": "MDQ6VXNlcjEyNjgzODg5", "avatar_url": "https://avatars.githubusercontent.com/u/12683889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThibsG", "html_url": "https://github.com/ThibsG", "followers_url": "https://api.github.com/users/ThibsG/followers", "following_url": "https://api.github.com/users/ThibsG/following{/other_user}", "gists_url": "https://api.github.com/users/ThibsG/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThibsG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThibsG/subscriptions", "organizations_url": "https://api.github.com/users/ThibsG/orgs", "repos_url": "https://api.github.com/users/ThibsG/repos", "events_url": "https://api.github.com/users/ThibsG/events{/privacy}", "received_events_url": "https://api.github.com/users/ThibsG/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ThibsG", "id": 12683889, "node_id": "MDQ6VXNlcjEyNjgzODg5", "avatar_url": "https://avatars.githubusercontent.com/u/12683889?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ThibsG", "html_url": "https://github.com/ThibsG", "followers_url": "https://api.github.com/users/ThibsG/followers", "following_url": "https://api.github.com/users/ThibsG/following{/other_user}", "gists_url": "https://api.github.com/users/ThibsG/gists{/gist_id}", "starred_url": "https://api.github.com/users/ThibsG/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ThibsG/subscriptions", "organizations_url": "https://api.github.com/users/ThibsG/orgs", "repos_url": "https://api.github.com/users/ThibsG/repos", "events_url": "https://api.github.com/users/ThibsG/events{/privacy}", "received_events_url": "https://api.github.com/users/ThibsG/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "380f7218b3876225e726617531d9f02d42da0e38", "url": "https://api.github.com/repos/rust-lang/rust/commits/380f7218b3876225e726617531d9f02d42da0e38", "html_url": "https://github.com/rust-lang/rust/commit/380f7218b3876225e726617531d9f02d42da0e38"}], "stats": {"total": 15, "additions": 8, "deletions": 7}, "files": [{"sha": "4c3030cf2e7c443892539caa1ba1dc5a5b17c6b4", "filename": "clippy_lints/src/large_const_arrays.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/629cc4ada3666865eb90f8425d7ea657710cdc74/clippy_lints%2Fsrc%2Flarge_const_arrays.rs", "raw_url": "https://github.com/rust-lang/rust/raw/629cc4ada3666865eb90f8425d7ea657710cdc74/clippy_lints%2Fsrc%2Flarge_const_arrays.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flarge_const_arrays.rs?ref=629cc4ada3666865eb90f8425d7ea657710cdc74", "patch": "@@ -1,11 +1,11 @@\n use crate::rustc_target::abi::LayoutOf;\n use crate::utils::span_lint_and_then;\n use if_chain::if_chain;\n-use rustc::mir::interpret::ConstValue;\n-use rustc::ty::{self, ConstKind};\n use rustc_errors::Applicability;\n use rustc_hir::{Item, ItemKind};\n use rustc_lint::{LateContext, LateLintPass};\n+use rustc_middle::mir::interpret::ConstValue;\n+use rustc_middle::ty::{self, ConstKind};\n use rustc_session::{declare_tool_lint, impl_lint_pass};\n use rustc_span::{BytePos, Pos, Span};\n use rustc_typeck::hir_ty_to_ty;"}, {"sha": "f912c503c827f114e137dc70ad25d9ae8ebb2479", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/629cc4ada3666865eb90f8425d7ea657710cdc74/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/629cc4ada3666865eb90f8425d7ea657710cdc74/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=629cc4ada3666865eb90f8425d7ea657710cdc74", "patch": "@@ -231,6 +231,7 @@ mod inline_fn_without_body;\n mod int_plus_one;\n mod integer_division;\n mod items_after_statements;\n+mod large_const_arrays;\n mod large_enum_variant;\n mod large_stack_arrays;\n mod len_zero;"}, {"sha": "afcfe34f5be8fefe2584eba81c75993cb1878b0c", "filename": "clippy_lints/src/utils/conf.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/629cc4ada3666865eb90f8425d7ea657710cdc74/clippy_lints%2Fsrc%2Futils%2Fconf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/629cc4ada3666865eb90f8425d7ea657710cdc74/clippy_lints%2Fsrc%2Futils%2Fconf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fconf.rs?ref=629cc4ada3666865eb90f8425d7ea657710cdc74", "patch": "@@ -150,7 +150,7 @@ define_Conf! {\n     (trivial_copy_size_limit, \"trivial_copy_size_limit\": Option<u64>, None),\n     /// Lint: TOO_MANY_LINES. The maximum number of lines a function or method can have\n     (too_many_lines_threshold, \"too_many_lines_threshold\": u64, 100),\n-    /// Lint: LARGE_STACK_ARRAYS. The maximum allowed size for arrays on the stack\n+    /// Lint: LARGE_STACK_ARRAYS, LARGE_CONST_ARRAYS. The maximum allowed size for arrays on the stack\n     (array_size_threshold, \"array_size_threshold\": u64, 512_000),\n     /// Lint: VEC_BOX. The size of the boxed type in bytes, where boxing in a `Vec` is allowed\n     (vec_box_size_threshold, \"vec_box_size_threshold\": u64, 4096),"}, {"sha": "d0d9beb9b2d9fa686d907f650dfb55343d62feb0", "filename": "util/lintlib.py", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/629cc4ada3666865eb90f8425d7ea657710cdc74/util%2Flintlib.py", "raw_url": "https://github.com/rust-lang/rust/raw/629cc4ada3666865eb90f8425d7ea657710cdc74/util%2Flintlib.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/util%2Flintlib.py?ref=629cc4ada3666865eb90f8425d7ea657710cdc74", "patch": "@@ -14,7 +14,7 @@\n group_re = re.compile(r'''\\s*([a-z_][a-z_0-9]+)''')\n conf_re = re.compile(r'''define_Conf! {\\n([^}]*)\\n}''', re.MULTILINE)\n confvar_re = re.compile(\n-    r'''/// Lint: (\\w+)\\. (.*)\\n\\s*\\([^,]+,\\s+\"([^\"]+)\":\\s+([^,]+),\\s+([^\\.\\)]+).*\\),''', re.MULTILINE)\n+    r'''/// Lint: ([\\w,\\s]+)\\. (.*)\\n\\s*\\([^,]+,\\s+\"([^\"]+)\":\\s+([^,]+),\\s+([^\\.\\)]+).*\\),''', re.MULTILINE)\n comment_re = re.compile(r'''\\s*/// ?(.*)''')\n \n lint_levels = {\n@@ -93,9 +93,9 @@ def parse_configs(path):\n     match = re.search(conf_re, contents)\n     confvars = re.findall(confvar_re, match.group(1))\n \n-    for (lint, doc, name, ty, default) in confvars:\n-        configs[lint.lower()] = Config(name.replace(\"_\", \"-\"), ty, doc, default)\n-\n+    for (lints, doc, name, ty, default) in confvars:\n+        for lint in lints.split(','):\n+            configs[lint.strip().lower()] = Config(name.replace(\"_\", \"-\"), ty, doc, default)\n     return configs\n \n "}]}