{"sha": "06430e7af47f3612b6da9ed34cc3ff26e7513f51", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA2NDMwZTdhZjQ3ZjM2MTJiNmRhOWVkMzRjYzNmZjI2ZTc1MTNmNTE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-08-14T11:37:10Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-08-14T11:37:10Z"}, "message": "Auto merge of #4363 - phansch:fix_lint_deprecation, r=flip1995\n\nUpdate lint deprecation for tool lints\n\nchangelog: Allow tool lints (`clippy::*`) to be deprecated\n\nOur lint deprecation previously didn't work for tool lints, because\n`register_removed` was registering lints to be removed _without_ the\n`clippy` prefix.\n\nFixes #4349", "tree": {"sha": "9bd8f658aa9b96c800e3e0a394e1eddf1f0f5e0e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9bd8f658aa9b96c800e3e0a394e1eddf1f0f5e0e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/06430e7af47f3612b6da9ed34cc3ff26e7513f51", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/06430e7af47f3612b6da9ed34cc3ff26e7513f51", "html_url": "https://github.com/rust-lang/rust/commit/06430e7af47f3612b6da9ed34cc3ff26e7513f51", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/06430e7af47f3612b6da9ed34cc3ff26e7513f51/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "63d2d066f93406cdcf442d724dac800809d03aae", "url": "https://api.github.com/repos/rust-lang/rust/commits/63d2d066f93406cdcf442d724dac800809d03aae", "html_url": "https://github.com/rust-lang/rust/commit/63d2d066f93406cdcf442d724dac800809d03aae"}, {"sha": "e406ab511766d78fd3b7dcbaf3a35ce28f26d5fe", "url": "https://api.github.com/repos/rust-lang/rust/commits/e406ab511766d78fd3b7dcbaf3a35ce28f26d5fe", "html_url": "https://github.com/rust-lang/rust/commit/e406ab511766d78fd3b7dcbaf3a35ce28f26d5fe"}], "stats": {"total": 195, "additions": 156, "deletions": 39}, "files": [{"sha": "0b2d982a1ba6ce089bd0904823a6d1cac92f46d5", "filename": "CHANGELOG.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/06430e7af47f3612b6da9ed34cc3ff26e7513f51/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/06430e7af47f3612b6da9ed34cc3ff26e7513f51/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=06430e7af47f3612b6da9ed34cc3ff26e7513f51", "patch": "@@ -983,6 +983,7 @@ Released 2018-09-13\n [`integer_division`]: https://rust-lang.github.io/rust-clippy/master/index.html#integer_division\n [`into_iter_on_array`]: https://rust-lang.github.io/rust-clippy/master/index.html#into_iter_on_array\n [`into_iter_on_ref`]: https://rust-lang.github.io/rust-clippy/master/index.html#into_iter_on_ref\n+[`invalid_ref`]: https://rust-lang.github.io/rust-clippy/master/index.html#invalid_ref\n [`invalid_regex`]: https://rust-lang.github.io/rust-clippy/master/index.html#invalid_regex\n [`invalid_upcast_comparisons`]: https://rust-lang.github.io/rust-clippy/master/index.html#invalid_upcast_comparisons\n [`items_after_statements`]: https://rust-lang.github.io/rust-clippy/master/index.html#items_after_statements"}, {"sha": "db407565b19bbf9597cda3a8959c3c672a8e7ca8", "filename": "clippy_dev/src/lib.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/06430e7af47f3612b6da9ed34cc3ff26e7513f51/clippy_dev%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/06430e7af47f3612b6da9ed34cc3ff26e7513f51/clippy_dev%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Flib.rs?ref=06430e7af47f3612b6da9ed34cc3ff26e7513f51", "patch": "@@ -126,7 +126,7 @@ pub fn gen_deprecated(lints: &[Lint]) -> Vec<String> {\n             l.clone().deprecation.and_then(|depr_text| {\n                 Some(vec![\n                     \"    store.register_removed(\".to_string(),\n-                    format!(\"        \\\"{}\\\",\", l.name),\n+                    format!(\"        \\\"clippy::{}\\\",\", l.name),\n                     format!(\"        \\\"{}\\\",\", depr_text),\n                     \"    );\".to_string(),\n                 ])\n@@ -442,11 +442,11 @@ fn test_gen_deprecated() {\n     ];\n     let expected: Vec<String> = vec![\n         \"    store.register_removed(\",\n-        \"        \\\"should_assert_eq\\\",\",\n+        \"        \\\"clippy::should_assert_eq\\\",\",\n         \"        \\\"has been superseded by should_assert_eq2\\\",\",\n         \"    );\",\n         \"    store.register_removed(\",\n-        \"        \\\"another_deprecated\\\",\",\n+        \"        \\\"clippy::another_deprecated\\\",\",\n         \"        \\\"will be removed\\\",\",\n         \"    );\",\n     ]"}, {"sha": "4a6011042f42045f7ad5a19b8fe6f0a09be0d58d", "filename": "clippy_lints/src/deprecated_lints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/06430e7af47f3612b6da9ed34cc3ff26e7513f51/clippy_lints%2Fsrc%2Fdeprecated_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/06430e7af47f3612b6da9ed34cc3ff26e7513f51/clippy_lints%2Fsrc%2Fdeprecated_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdeprecated_lints.rs?ref=06430e7af47f3612b6da9ed34cc3ff26e7513f51", "patch": "@@ -118,7 +118,7 @@ declare_deprecated_lint! {\n ///\n /// **Deprecation reason:** This lint has been superseded by the warn-by-default\n /// `invalid_value` rustc lint.\n-declare_clippy_lint! {\n+declare_deprecated_lint! {\n     pub INVALID_REF,\n     \"superseded by rustc lint `invalid_value`\"\n }"}, {"sha": "70c00b02a2ed796701637e53e247f0eff9bd2647", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 65, "deletions": 11, "changes": 76, "blob_url": "https://github.com/rust-lang/rust/blob/06430e7af47f3612b6da9ed34cc3ff26e7513f51/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/06430e7af47f3612b6da9ed34cc3ff26e7513f51/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=06430e7af47f3612b6da9ed34cc3ff26e7513f51", "patch": "@@ -384,51 +384,57 @@ pub fn read_conf(reg: &rustc_plugin::Registry<'_>) -> Conf {\n #[rustfmt::skip]\n pub fn register_plugins(reg: &mut rustc_plugin::Registry<'_>, conf: &Conf) {\n     let mut store = reg.sess.lint_store.borrow_mut();\n+    register_removed_non_tool_lints(&mut store);\n+\n     // begin deprecated lints, do not remove this comment, it\u2019s used in `update_lints`\n     store.register_removed(\n-        \"should_assert_eq\",\n+        \"clippy::should_assert_eq\",\n         \"`assert!()` will be more flexible with RFC 2011\",\n     );\n     store.register_removed(\n-        \"extend_from_slice\",\n+        \"clippy::extend_from_slice\",\n         \"`.extend_from_slice(_)` is a faster way to extend a Vec by a slice\",\n     );\n     store.register_removed(\n-        \"range_step_by_zero\",\n+        \"clippy::range_step_by_zero\",\n         \"`iterator.step_by(0)` panics nowadays\",\n     );\n     store.register_removed(\n-        \"unstable_as_slice\",\n+        \"clippy::unstable_as_slice\",\n         \"`Vec::as_slice` has been stabilized in 1.7\",\n     );\n     store.register_removed(\n-        \"unstable_as_mut_slice\",\n+        \"clippy::unstable_as_mut_slice\",\n         \"`Vec::as_mut_slice` has been stabilized in 1.7\",\n     );\n     store.register_removed(\n-        \"str_to_string\",\n+        \"clippy::str_to_string\",\n         \"using `str::to_string` is common even today and specialization will likely happen soon\",\n     );\n     store.register_removed(\n-        \"string_to_string\",\n+        \"clippy::string_to_string\",\n         \"using `string::to_string` is common even today and specialization will likely happen soon\",\n     );\n     store.register_removed(\n-        \"misaligned_transmute\",\n+        \"clippy::misaligned_transmute\",\n         \"this lint has been split into cast_ptr_alignment and transmute_ptr_to_ptr\",\n     );\n     store.register_removed(\n-        \"assign_ops\",\n+        \"clippy::assign_ops\",\n         \"using compound assignment operators (e.g., `+=`) is harmless\",\n     );\n     store.register_removed(\n-        \"if_let_redundant_pattern_matching\",\n+        \"clippy::if_let_redundant_pattern_matching\",\n         \"this lint has been changed to redundant_pattern_matching\",\n     );\n     store.register_removed(\n-        \"unsafe_vector_initialization\",\n+        \"clippy::unsafe_vector_initialization\",\n         \"the replacement suggested by this lint had substantially different behavior\",\n     );\n+    store.register_removed(\n+        \"clippy::invalid_ref\",\n+        \"superseded by rustc lint `invalid_value`\",\n+    );\n     // end deprecated lints, do not remove this comment, it\u2019s used in `update_lints`\n \n     reg.register_late_lint_pass(box serde_api::SerdeAPI);\n@@ -1166,6 +1172,54 @@ pub fn register_plugins(reg: &mut rustc_plugin::Registry<'_>, conf: &Conf) {\n     ]);\n }\n \n+#[rustfmt::skip]\n+fn register_removed_non_tool_lints(store: &mut rustc::lint::LintStore) {\n+    store.register_removed(\n+        \"should_assert_eq\",\n+        \"`assert!()` will be more flexible with RFC 2011\",\n+    );\n+    store.register_removed(\n+        \"extend_from_slice\",\n+        \"`.extend_from_slice(_)` is a faster way to extend a Vec by a slice\",\n+    );\n+    store.register_removed(\n+        \"range_step_by_zero\",\n+        \"`iterator.step_by(0)` panics nowadays\",\n+    );\n+    store.register_removed(\n+        \"unstable_as_slice\",\n+        \"`Vec::as_slice` has been stabilized in 1.7\",\n+    );\n+    store.register_removed(\n+        \"unstable_as_mut_slice\",\n+        \"`Vec::as_mut_slice` has been stabilized in 1.7\",\n+    );\n+    store.register_removed(\n+        \"str_to_string\",\n+        \"using `str::to_string` is common even today and specialization will likely happen soon\",\n+    );\n+    store.register_removed(\n+        \"string_to_string\",\n+        \"using `string::to_string` is common even today and specialization will likely happen soon\",\n+    );\n+    store.register_removed(\n+        \"misaligned_transmute\",\n+        \"this lint has been split into cast_ptr_alignment and transmute_ptr_to_ptr\",\n+    );\n+    store.register_removed(\n+        \"assign_ops\",\n+        \"using compound assignment operators (e.g., `+=`) is harmless\",\n+    );\n+    store.register_removed(\n+        \"if_let_redundant_pattern_matching\",\n+        \"this lint has been changed to redundant_pattern_matching\",\n+    );\n+    store.register_removed(\n+        \"unsafe_vector_initialization\",\n+        \"the replacement suggested by this lint had substantially different behavior\",\n+    );\n+}\n+\n /// Register renamed lints.\n ///\n /// Used in `./src/driver.rs`."}, {"sha": "a928d044b7ad1b36b38b68af127a8c6c906cce1f", "filename": "tests/ui/deprecated.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/06430e7af47f3612b6da9ed34cc3ff26e7513f51/tests%2Fui%2Fdeprecated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/06430e7af47f3612b6da9ed34cc3ff26e7513f51/tests%2Fui%2Fdeprecated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdeprecated.rs?ref=06430e7af47f3612b6da9ed34cc3ff26e7513f51", "patch": "@@ -1,7 +1,9 @@\n-#[warn(str_to_string)]\n-#[warn(string_to_string)]\n-#[warn(unstable_as_slice)]\n-#[warn(unstable_as_mut_slice)]\n-#[warn(misaligned_transmute)]\n+#[warn(clippy::str_to_string)]\n+#[warn(clippy::string_to_string)]\n+#[warn(clippy::unstable_as_slice)]\n+#[warn(clippy::unstable_as_mut_slice)]\n+#[warn(clippy::misaligned_transmute)]\n+#[warn(clippy::unused_collect)]\n+#[warn(clippy::invalid_ref)]\n \n fn main() {}"}, {"sha": "fa2cee030606e9d55c3b7801274ce6b80d196a34", "filename": "tests/ui/deprecated.stderr", "status": "modified", "additions": 25, "deletions": 19, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/06430e7af47f3612b6da9ed34cc3ff26e7513f51/tests%2Fui%2Fdeprecated.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/06430e7af47f3612b6da9ed34cc3ff26e7513f51/tests%2Fui%2Fdeprecated.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdeprecated.stderr?ref=06430e7af47f3612b6da9ed34cc3ff26e7513f51", "patch": "@@ -1,40 +1,46 @@\n-error: lint `str_to_string` has been removed: `using `str::to_string` is common even today and specialization will likely happen soon`\n+error: lint `clippy::str_to_string` has been removed: `using `str::to_string` is common even today and specialization will likely happen soon`\n   --> $DIR/deprecated.rs:1:8\n    |\n-LL | #[warn(str_to_string)]\n-   |        ^^^^^^^^^^^^^\n+LL | #[warn(clippy::str_to_string)]\n+   |        ^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D renamed-and-removed-lints` implied by `-D warnings`\n \n-error: lint `string_to_string` has been removed: `using `string::to_string` is common even today and specialization will likely happen soon`\n+error: lint `clippy::string_to_string` has been removed: `using `string::to_string` is common even today and specialization will likely happen soon`\n   --> $DIR/deprecated.rs:2:8\n    |\n-LL | #[warn(string_to_string)]\n-   |        ^^^^^^^^^^^^^^^^\n+LL | #[warn(clippy::string_to_string)]\n+   |        ^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error: lint `unstable_as_slice` has been removed: ``Vec::as_slice` has been stabilized in 1.7`\n+error: lint `clippy::unstable_as_slice` has been removed: ``Vec::as_slice` has been stabilized in 1.7`\n   --> $DIR/deprecated.rs:3:8\n    |\n-LL | #[warn(unstable_as_slice)]\n-   |        ^^^^^^^^^^^^^^^^^\n+LL | #[warn(clippy::unstable_as_slice)]\n+   |        ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error: lint `unstable_as_mut_slice` has been removed: ``Vec::as_mut_slice` has been stabilized in 1.7`\n+error: lint `clippy::unstable_as_mut_slice` has been removed: ``Vec::as_mut_slice` has been stabilized in 1.7`\n   --> $DIR/deprecated.rs:4:8\n    |\n-LL | #[warn(unstable_as_mut_slice)]\n-   |        ^^^^^^^^^^^^^^^^^^^^^\n+LL | #[warn(clippy::unstable_as_mut_slice)]\n+   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error: lint `misaligned_transmute` has been removed: `this lint has been split into cast_ptr_alignment and transmute_ptr_to_ptr`\n+error: lint `clippy::misaligned_transmute` has been removed: `this lint has been split into cast_ptr_alignment and transmute_ptr_to_ptr`\n   --> $DIR/deprecated.rs:5:8\n    |\n-LL | #[warn(misaligned_transmute)]\n-   |        ^^^^^^^^^^^^^^^^^^^^\n+LL | #[warn(clippy::misaligned_transmute)]\n+   |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-error: lint `str_to_string` has been removed: `using `str::to_string` is common even today and specialization will likely happen soon`\n+error: lint `clippy::invalid_ref` has been removed: `superseded by rustc lint `invalid_value``\n+  --> $DIR/deprecated.rs:7:8\n+   |\n+LL | #[warn(clippy::invalid_ref)]\n+   |        ^^^^^^^^^^^^^^^^^^^\n+\n+error: lint `clippy::str_to_string` has been removed: `using `str::to_string` is common even today and specialization will likely happen soon`\n   --> $DIR/deprecated.rs:1:8\n    |\n-LL | #[warn(str_to_string)]\n-   |        ^^^^^^^^^^^^^\n+LL | #[warn(clippy::str_to_string)]\n+   |        ^^^^^^^^^^^^^^^^^^^^^\n \n-error: aborting due to 6 previous errors\n+error: aborting due to 7 previous errors\n "}, {"sha": "cd6a3a5bf5a9625b15a1cd9bb84cb3f7301b3e89", "filename": "tests/ui/deprecated_old.rs", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/06430e7af47f3612b6da9ed34cc3ff26e7513f51/tests%2Fui%2Fdeprecated_old.rs", "raw_url": "https://github.com/rust-lang/rust/raw/06430e7af47f3612b6da9ed34cc3ff26e7513f51/tests%2Fui%2Fdeprecated_old.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdeprecated_old.rs?ref=06430e7af47f3612b6da9ed34cc3ff26e7513f51", "patch": "@@ -0,0 +1,8 @@\n+#[warn(str_to_string)]\n+#[warn(string_to_string)]\n+#[warn(unstable_as_slice)]\n+#[warn(unstable_as_mut_slice)]\n+#[warn(misaligned_transmute)]\n+#[warn(unused_collect)]\n+\n+fn main() {}"}, {"sha": "8c879fa97c79d3a6f4f40c9dc22b14b0d94924d9", "filename": "tests/ui/deprecated_old.stderr", "status": "added", "additions": 46, "deletions": 0, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/06430e7af47f3612b6da9ed34cc3ff26e7513f51/tests%2Fui%2Fdeprecated_old.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/06430e7af47f3612b6da9ed34cc3ff26e7513f51/tests%2Fui%2Fdeprecated_old.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdeprecated_old.stderr?ref=06430e7af47f3612b6da9ed34cc3ff26e7513f51", "patch": "@@ -0,0 +1,46 @@\n+error: lint `str_to_string` has been removed: `using `str::to_string` is common even today and specialization will likely happen soon`\n+  --> $DIR/deprecated_old.rs:1:8\n+   |\n+LL | #[warn(str_to_string)]\n+   |        ^^^^^^^^^^^^^\n+   |\n+   = note: `-D renamed-and-removed-lints` implied by `-D warnings`\n+\n+error: lint `string_to_string` has been removed: `using `string::to_string` is common even today and specialization will likely happen soon`\n+  --> $DIR/deprecated_old.rs:2:8\n+   |\n+LL | #[warn(string_to_string)]\n+   |        ^^^^^^^^^^^^^^^^\n+\n+error: lint `unstable_as_slice` has been removed: ``Vec::as_slice` has been stabilized in 1.7`\n+  --> $DIR/deprecated_old.rs:3:8\n+   |\n+LL | #[warn(unstable_as_slice)]\n+   |        ^^^^^^^^^^^^^^^^^\n+\n+error: lint `unstable_as_mut_slice` has been removed: ``Vec::as_mut_slice` has been stabilized in 1.7`\n+  --> $DIR/deprecated_old.rs:4:8\n+   |\n+LL | #[warn(unstable_as_mut_slice)]\n+   |        ^^^^^^^^^^^^^^^^^^^^^\n+\n+error: lint `misaligned_transmute` has been removed: `this lint has been split into cast_ptr_alignment and transmute_ptr_to_ptr`\n+  --> $DIR/deprecated_old.rs:5:8\n+   |\n+LL | #[warn(misaligned_transmute)]\n+   |        ^^^^^^^^^^^^^^^^^^^^\n+\n+error: lint name `unused_collect` is deprecated and may not have an effect in the future. Also `cfg_attr(cargo-clippy)` won't be necessary anymore\n+  --> $DIR/deprecated_old.rs:6:8\n+   |\n+LL | #[warn(unused_collect)]\n+   |        ^^^^^^^^^^^^^^ help: change it to: `clippy::unused_collect`\n+\n+error: lint `str_to_string` has been removed: `using `str::to_string` is common even today and specialization will likely happen soon`\n+  --> $DIR/deprecated_old.rs:1:8\n+   |\n+LL | #[warn(str_to_string)]\n+   |        ^^^^^^^^^^^^^\n+\n+error: aborting due to 7 previous errors\n+"}]}