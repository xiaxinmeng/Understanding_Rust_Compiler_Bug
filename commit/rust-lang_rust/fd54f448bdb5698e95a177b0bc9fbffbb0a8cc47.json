{"sha": "fd54f448bdb5698e95a177b0bc9fbffbb0a8cc47", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZkNTRmNDQ4YmRiNTY5OGU5NWExNzdiMGJjOWZiZmZiYjBhOGNjNDc=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-12-02T15:29:38Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-12-02T15:29:38Z"}, "message": "Merge pull request #3486 from phansch/make_windows_travis_run_more_stuff\n\nTravis: Add rustc sysroot bin to PATH for windows build", "tree": {"sha": "8487cbb58aedd95ba022cd92a1d026422943e839", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8487cbb58aedd95ba022cd92a1d026422943e839"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fd54f448bdb5698e95a177b0bc9fbffbb0a8cc47", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcA/piCRBK7hj4Ov3rIwAAdHIIAKyHDU/QdE563rpCosWJmrF6\nrEzf+baULh5Cp4y55GG2EVoctZnbxY8G+zvAyud+vO8zyz8Tuj2CtEVYzShxx2sH\nCTYapo6VDItM3Q3wSTz7iUH8OZ1+ROl/l/D5qw/Oglcq3OC6UVAvXRSsjdS6Bxc7\najT8LjGKO7qr/is9shisgTu3kWsj0Likor8r9x4IpFGSijn+j3AqGWGVsE2OKutC\nb91g5ryjJVRyR+OkcLgPZSzLfuXGs9tQWgfDTa75rOtxrZ11oHxMZ+ocLANWtbYT\nmfkWhG4oYnVspb9ubckSM8nDAjf634HsW/5UULvdk9QgUcNOZUJbHrU/37hIViA=\n=mqmF\n-----END PGP SIGNATURE-----\n", "payload": "tree 8487cbb58aedd95ba022cd92a1d026422943e839\nparent b06594e650100e5d9705e66ae548d9f158f52e9f\nparent 39f179da450e8879341ed662e69ee95e6fcff9e3\nauthor Philipp Hansch <dev@phansch.net> 1543764578 +0100\ncommitter GitHub <noreply@github.com> 1543764578 +0100\n\nMerge pull request #3486 from phansch/make_windows_travis_run_more_stuff\n\nTravis: Add rustc sysroot bin to PATH for windows build"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fd54f448bdb5698e95a177b0bc9fbffbb0a8cc47", "html_url": "https://github.com/rust-lang/rust/commit/fd54f448bdb5698e95a177b0bc9fbffbb0a8cc47", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fd54f448bdb5698e95a177b0bc9fbffbb0a8cc47/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b06594e650100e5d9705e66ae548d9f158f52e9f", "url": "https://api.github.com/repos/rust-lang/rust/commits/b06594e650100e5d9705e66ae548d9f158f52e9f", "html_url": "https://github.com/rust-lang/rust/commit/b06594e650100e5d9705e66ae548d9f158f52e9f"}, {"sha": "39f179da450e8879341ed662e69ee95e6fcff9e3", "url": "https://api.github.com/repos/rust-lang/rust/commits/39f179da450e8879341ed662e69ee95e6fcff9e3", "html_url": "https://github.com/rust-lang/rust/commit/39f179da450e8879341ed662e69ee95e6fcff9e3"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "b3331c8a26d80fdc06dfda9154dd13f127059c2c", "filename": ".travis.yml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/fd54f448bdb5698e95a177b0bc9fbffbb0a8cc47/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/fd54f448bdb5698e95a177b0bc9fbffbb0a8cc47/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=fd54f448bdb5698e95a177b0bc9fbffbb0a8cc47", "patch": "@@ -52,7 +52,7 @@ matrix:\n     - os: linux\n       env: BASE_TESTS=true\n     - os: windows\n-      env: BASE_TESTS=true\n+      env: CARGO_INCREMENTAL=0 BASE_TESTS=true\n     - env: INTEGRATION=rust-lang/cargo\n       if: repo =~ /^rust-lang\\/rust-clippy$/\n     - env: INTEGRATION=rust-random/rand\n@@ -81,7 +81,7 @@ matrix:\n       if: repo =~ /^rust-lang\\/rust-clippy$/\n   allow_failures:\n   - os: windows\n-    env: BASE_TESTS=true\n+    env: CARGO_INCREMENTAL=0 BASE_TESTS=true\n # prevent these jobs with default env vars\n   exclude:\n     - os: linux"}, {"sha": "a046d21c4be4aa65aff37533d7db4861ea37fe38", "filename": "ci/base-tests.sh", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/fd54f448bdb5698e95a177b0bc9fbffbb0a8cc47/ci%2Fbase-tests.sh", "raw_url": "https://github.com/rust-lang/rust/raw/fd54f448bdb5698e95a177b0bc9fbffbb0a8cc47/ci%2Fbase-tests.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/ci%2Fbase-tests.sh?ref=fd54f448bdb5698e95a177b0bc9fbffbb0a8cc47", "patch": "@@ -28,6 +28,9 @@ cd clippy_dev && cargo test && cd ..\n ./util/dev update_lints --check\n cargo +nightly fmt --all -- --check\n \n+# Add bin to PATH for windows\n+PATH=$PATH:$(rustc --print sysroot)/bin\n+\n CLIPPY=\"`pwd`/target/debug/cargo-clippy clippy\"\n # run clippy on its own codebase...\n ${CLIPPY} --all-targets --all-features -- -D clippy::all -D clippy::internal -Dclippy::pedantic"}]}