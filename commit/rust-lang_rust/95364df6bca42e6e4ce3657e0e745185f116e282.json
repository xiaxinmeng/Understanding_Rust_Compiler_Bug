{"sha": "95364df6bca42e6e4ce3657e0e745185f116e282", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk1MzY0ZGY2YmNhNDJlNmU0Y2UzNjU3ZTBlNzQ1MTg1ZjExNmUyODI=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-10-24T00:06:01Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-10-28T16:57:36Z"}, "message": "Do not display ADT type arguments and fix rebase", "tree": {"sha": "132bf72f0810a2006ce2a7ffb0a032a938b422ea", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/132bf72f0810a2006ce2a7ffb0a032a938b422ea"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/95364df6bca42e6e4ce3657e0e745185f116e282", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/95364df6bca42e6e4ce3657e0e745185f116e282", "html_url": "https://github.com/rust-lang/rust/commit/95364df6bca42e6e4ce3657e0e745185f116e282", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/95364df6bca42e6e4ce3657e0e745185f116e282/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db1bfbdbc07454ac4b35290e79931b51d5e5b36f", "url": "https://api.github.com/repos/rust-lang/rust/commits/db1bfbdbc07454ac4b35290e79931b51d5e5b36f", "html_url": "https://github.com/rust-lang/rust/commit/db1bfbdbc07454ac4b35290e79931b51d5e5b36f"}], "stats": {"total": 179, "additions": 106, "deletions": 73}, "files": [{"sha": "f066ca762c09e5c49ae7f4935680281a2fd5e5ce", "filename": "src/librustc_typeck/coherence/orphan.rs", "status": "modified", "additions": 17, "deletions": 12, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Flibrustc_typeck%2Fcoherence%2Forphan.rs", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Flibrustc_typeck%2Fcoherence%2Forphan.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcoherence%2Forphan.rs?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -43,23 +43,28 @@ impl ItemLikeVisitor<'v> for OrphanChecker<'tcx> {\n                     );\n                     err.span_label(sp, \"impl doesn't use only types from inside the current crate\");\n                     for (ty, is_target_ty) in &tys {\n-                        // FIXME: We want to remove the type arguments from the displayed type.\n-                        //        The reverse of `resolve_vars_if_possible`.\n                         let mut ty = *ty;\n                         self.tcx.infer_ctxt().enter(|infcx| {\n                             // Remove the lifetimes unnecessary for this error.\n                             ty = infcx.freshen(ty);\n                         });\n-                        let msg = format!(\n-                            \"`{}` is not defined in the current crate{}\",\n-                            ty,\n-                            match &ty.kind {\n-                                ty::Slice(_) => \" because slices are always foreign\",\n-                                ty::Array(..) => \" because arrays are always foreign\",\n-                                ty::Tuple(..) => \" because tuples are always foreign\",\n-                                _ => \"\",\n-                            },\n-                        );\n+                        ty = match ty.kind {\n+                            // Remove the type arguments from the output, as they are not relevant.\n+                            // You can think of this as the reverse of `resolve_vars_if_possible`.\n+                            // That way if we had `Vec<MyType>`, we will properly attribute the\n+                            // problem to `Vec<T>` and avoid confusing the user if they were to see\n+                            // `MyType` in the error.\n+                            ty::Adt(def, _) => self.tcx.mk_adt(def, ty::List::empty()),\n+                            _ => ty,\n+                        };\n+                        let this = \"this\".to_string();\n+                        let (ty, postfix) = match &ty.kind {\n+                            ty::Slice(_) => (this, \" because slices are always foreign\"),\n+                            ty::Array(..) => (this, \" because arrays are always foreign\"),\n+                            ty::Tuple(..) => (this, \" because tuples are always foreign\"),\n+                            _ => (format!(\"`{}`\", ty), \"\"),\n+                        };\n+                        let msg = format!(\"{} is not defined in the current crate{}\", ty, postfix);\n                         if *is_target_ty {\n                             // Point at `D<A>` in `impl<A, B> for C<B> in D<A>`\n                             err.span_label(impl_ty.span, &msg);"}, {"sha": "06e77b2797d25af5f4eda1fb6fd14d1640b1c0c6", "filename": "src/test/ui/coherence/coherence-cow.re_a.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-cow.re_a.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-cow.re_a.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-cow.re_a.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl<T> Remote for Pair<T,Cover<T>> { }\n    | ^^^^^^^^^^^^^^^^^^^----------------\n    | |                  |\n-   | |                  `lib::Pair<T, Cover<T>>` is not defined in the current crate\n+   | |                  `lib::Pair` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "146232ac02b0fa8ffedf1fd678effaf854245eea", "filename": "src/test/ui/coherence/coherence-cow.re_b.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-cow.re_b.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-cow.re_b.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-cow.re_b.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl<T> Remote for Pair<Cover<T>,T> { }\n    | ^^^^^^^^^^^^^^^^^^^----------------\n    | |                  |\n-   | |                  `lib::Pair<Cover<T>, T>` is not defined in the current crate\n+   | |                  `lib::Pair` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "e0cf6aab7bbde12bc09df65afebdeaa1e08833d1", "filename": "src/test/ui/coherence/coherence-cow.re_c.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-cow.re_c.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-cow.re_c.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-cow.re_c.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl<T,U> Remote for Pair<Cover<T>,U> { }\n    | ^^^^^^^^^^^^^^^^^^^^^----------------\n    | |                    |\n-   | |                    `lib::Pair<Cover<T>, U>` is not defined in the current crate\n+   | |                    `lib::Pair` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "742845b190737c9bc1f5f4c00c25f2de6caa7705", "filename": "src/test/ui/coherence/coherence-impls-copy.old.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-copy.old.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-copy.old.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-copy.old.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -62,7 +62,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Copy for (MyType, MyType) {}\n    | ^^^^^^^^^^^^^^----------------\n    | |             |\n-   | |             `(MyType, MyType)` is not defined in the current crate because tuples are always foreign\n+   | |             this is not defined in the current crate because tuples are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -73,7 +73,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Copy for [MyType] {}\n    | ^^^^^^^^^^^^^^--------\n    | |             |\n-   | |             `[MyType]` is not defined in the current crate because slices are always foreign\n+   | |             this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -84,7 +84,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Copy for &'static [NotSync] {}\n    | ^^^^^^^^^^^^^^------------------\n    | |             |\n-   | |             `[NotSync]` is not defined in the current crate because slices are always foreign\n+   | |             this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "742845b190737c9bc1f5f4c00c25f2de6caa7705", "filename": "src/test/ui/coherence/coherence-impls-copy.re.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-copy.re.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-copy.re.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-copy.re.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -62,7 +62,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Copy for (MyType, MyType) {}\n    | ^^^^^^^^^^^^^^----------------\n    | |             |\n-   | |             `(MyType, MyType)` is not defined in the current crate because tuples are always foreign\n+   | |             this is not defined in the current crate because tuples are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -73,7 +73,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Copy for [MyType] {}\n    | ^^^^^^^^^^^^^^--------\n    | |             |\n-   | |             `[MyType]` is not defined in the current crate because slices are always foreign\n+   | |             this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -84,7 +84,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Copy for &'static [NotSync] {}\n    | ^^^^^^^^^^^^^^------------------\n    | |             |\n-   | |             `[NotSync]` is not defined in the current crate because slices are always foreign\n+   | |             this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "7584b01ca893018a1c957ac85c1d6392302fb444", "filename": "src/test/ui/coherence/coherence-impls-send.old.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-send.old.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-send.old.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-send.old.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | unsafe impl Send for (MyType, MyType) {}\n    | ^^^^^^^^^^^^^^^^^^^^^----------------\n    | |                    |\n-   | |                    `(MyType, MyType)` is not defined in the current crate because tuples are always foreign\n+   | |                    this is not defined in the current crate because tuples are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -21,7 +21,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | unsafe impl Send for [MyType] {}\n    | ^^^^^^^^^^^^^^^^^^^^^--------\n    | |                    |\n-   | |                    `[MyType]` is not defined in the current crate because slices are always foreign\n+   | |                    this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -32,7 +32,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | unsafe impl Send for &'static [NotSync] {}\n    | ^^^^^^^^^^^^^^^^^^^^^------------------\n    | |                    |\n-   | |                    `[NotSync]` is not defined in the current crate because slices are always foreign\n+   | |                    this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "7584b01ca893018a1c957ac85c1d6392302fb444", "filename": "src/test/ui/coherence/coherence-impls-send.re.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-send.re.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-send.re.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-send.re.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | unsafe impl Send for (MyType, MyType) {}\n    | ^^^^^^^^^^^^^^^^^^^^^----------------\n    | |                    |\n-   | |                    `(MyType, MyType)` is not defined in the current crate because tuples are always foreign\n+   | |                    this is not defined in the current crate because tuples are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -21,7 +21,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | unsafe impl Send for [MyType] {}\n    | ^^^^^^^^^^^^^^^^^^^^^--------\n    | |                    |\n-   | |                    `[MyType]` is not defined in the current crate because slices are always foreign\n+   | |                    this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -32,7 +32,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | unsafe impl Send for &'static [NotSync] {}\n    | ^^^^^^^^^^^^^^^^^^^^^------------------\n    | |                    |\n-   | |                    `[NotSync]` is not defined in the current crate because slices are always foreign\n+   | |                    this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "ef999bcf461bc3f13a3173410ef38e79ca87f01b", "filename": "src/test/ui/coherence/coherence-impls-sized.old.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-sized.old.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-sized.old.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-sized.old.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -40,7 +40,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Sized for (MyType, MyType) {}\n    | ^^^^^^^^^^^^^^^----------------\n    | |              |\n-   | |              `(MyType, MyType)` is not defined in the current crate because tuples are always foreign\n+   | |              this is not defined in the current crate because tuples are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -51,7 +51,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Sized for [MyType] {}\n    | ^^^^^^^^^^^^^^^--------\n    | |              |\n-   | |              `[MyType]` is not defined in the current crate because slices are always foreign\n+   | |              this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -62,7 +62,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Sized for &'static [NotSync] {}\n    | ^^^^^^^^^^^^^^^------------------\n    | |              |\n-   | |              `[NotSync]` is not defined in the current crate because slices are always foreign\n+   | |              this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "ef999bcf461bc3f13a3173410ef38e79ca87f01b", "filename": "src/test/ui/coherence/coherence-impls-sized.re.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-sized.re.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-sized.re.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impls-sized.re.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -40,7 +40,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Sized for (MyType, MyType) {}\n    | ^^^^^^^^^^^^^^^----------------\n    | |              |\n-   | |              `(MyType, MyType)` is not defined in the current crate because tuples are always foreign\n+   | |              this is not defined in the current crate because tuples are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -51,7 +51,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Sized for [MyType] {}\n    | ^^^^^^^^^^^^^^^--------\n    | |              |\n-   | |              `[MyType]` is not defined in the current crate because slices are always foreign\n+   | |              this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -62,7 +62,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Sized for &'static [NotSync] {}\n    | ^^^^^^^^^^^^^^^------------------\n    | |              |\n-   | |              `[NotSync]` is not defined in the current crate because slices are always foreign\n+   | |              this is not defined in the current crate because slices are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "a353acf0679dc543a90ec2f0888192122c37146e", "filename": "src/test/ui/coherence/coherence-orphan.old.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-orphan.old.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-orphan.old.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-orphan.old.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -16,7 +16,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl !Send for Vec<isize> { }\n    | ^^^^^^^^^^^^^^^----------\n    | |              |\n-   | |              `std::vec::Vec<isize>` is not defined in the current crate\n+   | |              `std::vec::Vec` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "a353acf0679dc543a90ec2f0888192122c37146e", "filename": "src/test/ui/coherence/coherence-orphan.re.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-orphan.re.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-orphan.re.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-orphan.re.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -16,7 +16,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl !Send for Vec<isize> { }\n    | ^^^^^^^^^^^^^^^----------\n    | |              |\n-   | |              `std::vec::Vec<isize>` is not defined in the current crate\n+   | |              `std::vec::Vec` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "2277b33fcebee0f34f54906d81550372c0bf63b7", "filename": "src/test/ui/coherence/coherence-overlapping-pairs.re.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-overlapping-pairs.re.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-overlapping-pairs.re.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-overlapping-pairs.re.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl<T> Remote for lib::Pair<T,Foo> { }\n    | ^^^^^^^^^^^^^^^^^^^----------------\n    | |                  |\n-   | |                  `lib::Pair<T, Foo>` is not defined in the current crate\n+   | |                  `lib::Pair` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "f6e755b666249ca516a3997d9158fba6dd2618ee", "filename": "src/test/ui/coherence/coherence-pair-covered-uncovered-1.re.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-pair-covered-uncovered-1.re.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-pair-covered-uncovered-1.re.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-pair-covered-uncovered-1.re.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -5,7 +5,7 @@ LL | impl<T, U> Remote1<Pair<T, Local<U>>> for i32 { }\n    | ^^^^^^^^^^^--------------------------^^^^^---\n    | |          |                              |\n    | |          |                              `i32` is not defined in the current crate\n-   | |          `lib::Pair<T, Local<U>>` is not defined in the current crate\n+   | |          `lib::Pair` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "9fa860cb584a1b3376e719486ced664bb8005e09", "filename": "src/test/ui/coherence/coherence-pair-covered-uncovered.re.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-pair-covered-uncovered.re.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-pair-covered-uncovered.re.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-pair-covered-uncovered.re.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl<T,U> Remote for Pair<T,Local<U>> { }\n    | ^^^^^^^^^^^^^^^^^^^^^----------------\n    | |                    |\n-   | |                    `lib::Pair<T, Local<U>>` is not defined in the current crate\n+   | |                    `lib::Pair` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "48a2848c55f1b94d117fa1bbe21db5914ff3cd1b", "filename": "src/test/ui/coherence/coherence-vec-local-2.re.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-vec-local-2.re.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-vec-local-2.re.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-vec-local-2.re.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl<T> Remote for Vec<Local<T>> { }\n    | ^^^^^^^^^^^^^^^^^^^-------------\n    | |                  |\n-   | |                  `std::vec::Vec<Local<T>>` is not defined in the current crate\n+   | |                  `std::vec::Vec` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "4b199dd91421794c559bc72f0a9249413c3fa6b7", "filename": "src/test/ui/coherence/coherence-vec-local.old.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-vec-local.old.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-vec-local.old.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-vec-local.old.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Remote for Vec<Local> { }\n    | ^^^^^^^^^^^^^^^^----------\n    | |               |\n-   | |               `std::vec::Vec<Local>` is not defined in the current crate\n+   | |               `std::vec::Vec` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "4b199dd91421794c559bc72f0a9249413c3fa6b7", "filename": "src/test/ui/coherence/coherence-vec-local.re.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-vec-local.re.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-vec-local.re.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-vec-local.re.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Remote for Vec<Local> { }\n    | ^^^^^^^^^^^^^^^^----------\n    | |               |\n-   | |               `std::vec::Vec<Local>` is not defined in the current crate\n+   | |               `std::vec::Vec` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "0782f823128728cae1a82f057ae946f860475027", "filename": "src/test/ui/coherence/coherence_local_err_struct.old.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_struct.old.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_struct.old.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_struct.old.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl lib::MyCopy for lib::MyStruct<MyType> { }\n    | ^^^^^^^^^^^^^^^^^^^^^---------------------\n    | |                    |\n-   | |                    `lib::MyStruct<MyType>` is not defined in the current crate\n+   | |                    `lib::MyStruct` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "0782f823128728cae1a82f057ae946f860475027", "filename": "src/test/ui/coherence/coherence_local_err_struct.re.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_struct.re.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_struct.re.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_struct.re.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl lib::MyCopy for lib::MyStruct<MyType> { }\n    | ^^^^^^^^^^^^^^^^^^^^^---------------------\n    | |                    |\n-   | |                    `lib::MyStruct<MyType>` is not defined in the current crate\n+   | |                    `lib::MyStruct` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "f01623f76217e1fd263a9e7d9d0c537a90cdd23f", "filename": "src/test/ui/coherence/coherence_local_err_tuple.old.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_tuple.old.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_tuple.old.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_tuple.old.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl lib::MyCopy for (MyType,) { }\n    | ^^^^^^^^^^^^^^^^^^^^^---------\n    | |                    |\n-   | |                    `(MyType,)` is not defined in the current crate because tuples are always foreign\n+   | |                    this is not defined in the current crate because tuples are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "f01623f76217e1fd263a9e7d9d0c537a90cdd23f", "filename": "src/test/ui/coherence/coherence_local_err_tuple.re.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_tuple.re.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_tuple.re.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence_local_err_tuple.re.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl lib::MyCopy for (MyType,) { }\n    | ^^^^^^^^^^^^^^^^^^^^^---------\n    | |                    |\n-   | |                    `(MyType,)` is not defined in the current crate because tuples are always foreign\n+   | |                    this is not defined in the current crate because tuples are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "4d7757799e7cd2cb59b5effb3cadf1a43cdf7610", "filename": "src/test/ui/coherence/impl-foreign-for-foreign.stderr", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign-for-foreign.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign-for-foreign.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign-for-foreign.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -2,9 +2,11 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n   --> $DIR/impl-foreign-for-foreign.rs:12:1\n    |\n LL | impl Remote for i32 {\n-   | ^^^^^^^^^^^^^^^^^^^ impl doesn't use types inside crate\n+   | ^^^^^^^^^^^^^^^^---\n+   | |               |\n+   | |               `i32` is not defined in the current crate\n+   | impl doesn't use only types from inside the current crate\n    |\n-   = note: the impl does not reference only types defined in this crate\n    = note: define and implement a trait or new type instead\n \n error: aborting due to previous error"}, {"sha": "4d15f0db65ffb0fe3e0840d4d804e2b715970d0d", "filename": "src/test/ui/coherence/impl-foreign-for-foreign[foreign].stderr", "status": "modified", "additions": 15, "deletions": 6, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign-for-foreign%5Bforeign%5D.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign-for-foreign%5Bforeign%5D.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign-for-foreign%5Bforeign%5D.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -2,27 +2,36 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n   --> $DIR/impl-foreign-for-foreign[foreign].rs:12:1\n    |\n LL | impl Remote1<Rc<i32>> for i32 {\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ impl doesn't use types inside crate\n+   | ^^^^^----------------^^^^^---\n+   | |    |                    |\n+   | |    |                    `i32` is not defined in the current crate\n+   | |    `std::rc::Rc` is not defined in the current crate\n+   | impl doesn't use only types from inside the current crate\n    |\n-   = note: the impl does not reference only types defined in this crate\n    = note: define and implement a trait or new type instead\n \n error[E0117]: only traits defined in the current crate can be implemented for arbitrary types\n   --> $DIR/impl-foreign-for-foreign[foreign].rs:16:1\n    |\n LL | impl Remote1<Rc<Local>> for f64 {\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ impl doesn't use types inside crate\n+   | ^^^^^------------------^^^^^---\n+   | |    |                      |\n+   | |    |                      `f64` is not defined in the current crate\n+   | |    `std::rc::Rc` is not defined in the current crate\n+   | impl doesn't use only types from inside the current crate\n    |\n-   = note: the impl does not reference only types defined in this crate\n    = note: define and implement a trait or new type instead\n \n error[E0117]: only traits defined in the current crate can be implemented for arbitrary types\n   --> $DIR/impl-foreign-for-foreign[foreign].rs:20:1\n    |\n LL | impl<T> Remote1<Rc<T>> for f32 {\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ impl doesn't use types inside crate\n+   | ^^^^^^^^--------------^^^^^---\n+   | |       |                  |\n+   | |       |                  `f32` is not defined in the current crate\n+   | |       `std::rc::Rc` is not defined in the current crate\n+   | impl doesn't use only types from inside the current crate\n    |\n-   = note: the impl does not reference only types defined in this crate\n    = note: define and implement a trait or new type instead\n \n error: aborting due to 3 previous errors"}, {"sha": "d1f4d9849ac313516b84f31ec3ee1fb8baec0dad", "filename": "src/test/ui/coherence/impl-foreign-for-fundamental[foreign].stderr", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign-for-fundamental%5Bforeign%5D.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign-for-fundamental%5Bforeign%5D.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign-for-fundamental%5Bforeign%5D.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -2,18 +2,22 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n   --> $DIR/impl-foreign-for-fundamental[foreign].rs:12:1\n    |\n LL | impl Remote for Box<i32> {\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^ impl doesn't use types inside crate\n+   | ^^^^^^^^^^^^^^^^--------\n+   | |               |\n+   | |               `i32` is not defined in the current crate\n+   | impl doesn't use only types from inside the current crate\n    |\n-   = note: the impl does not reference only types defined in this crate\n    = note: define and implement a trait or new type instead\n \n error[E0117]: only traits defined in the current crate can be implemented for arbitrary types\n   --> $DIR/impl-foreign-for-fundamental[foreign].rs:16:1\n    |\n LL | impl<T> Remote for Box<Rc<T>> {\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ impl doesn't use types inside crate\n+   | ^^^^^^^^^^^^^^^^^^^----------\n+   | |                  |\n+   | |                  `std::rc::Rc` is not defined in the current crate\n+   | impl doesn't use only types from inside the current crate\n    |\n-   = note: the impl does not reference only types defined in this crate\n    = note: define and implement a trait or new type instead\n \n error: aborting due to 2 previous errors"}, {"sha": "8dcac05c0ccb60f23b0cf532da48c51e93b553f4", "filename": "src/test/ui/coherence/impl-foreign[fundemental[foreign]]-for-foreign.stderr", "status": "modified", "additions": 15, "deletions": 6, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign%5Bfundemental%5Bforeign%5D%5D-for-foreign.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign%5Bfundemental%5Bforeign%5D%5D-for-foreign.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fimpl-foreign%5Bfundemental%5Bforeign%5D%5D-for-foreign.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -2,27 +2,36 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n   --> $DIR/impl-foreign[fundemental[foreign]]-for-foreign.rs:13:1\n    |\n LL | impl Remote1<Box<String>> for i32 {\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ impl doesn't use types inside crate\n+   | ^^^^^--------------------^^^^^---\n+   | |    |                        |\n+   | |    |                        `i32` is not defined in the current crate\n+   | |    `std::string::String` is not defined in the current crate\n+   | impl doesn't use only types from inside the current crate\n    |\n-   = note: the impl does not reference only types defined in this crate\n    = note: define and implement a trait or new type instead\n \n error[E0117]: only traits defined in the current crate can be implemented for arbitrary types\n   --> $DIR/impl-foreign[fundemental[foreign]]-for-foreign.rs:17:1\n    |\n LL | impl Remote1<Box<Rc<i32>>> for f64 {\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ impl doesn't use types inside crate\n+   | ^^^^^---------------------^^^^^---\n+   | |    |                         |\n+   | |    |                         `f64` is not defined in the current crate\n+   | |    `std::rc::Rc` is not defined in the current crate\n+   | impl doesn't use only types from inside the current crate\n    |\n-   = note: the impl does not reference only types defined in this crate\n    = note: define and implement a trait or new type instead\n \n error[E0117]: only traits defined in the current crate can be implemented for arbitrary types\n   --> $DIR/impl-foreign[fundemental[foreign]]-for-foreign.rs:21:1\n    |\n LL | impl<T> Remote1<Box<Rc<T>>> for f32 {\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ impl doesn't use types inside crate\n+   | ^^^^^^^^-------------------^^^^^---\n+   | |       |                       |\n+   | |       |                       `f32` is not defined in the current crate\n+   | |       `std::rc::Rc` is not defined in the current crate\n+   | impl doesn't use only types from inside the current crate\n    |\n-   = note: the impl does not reference only types defined in this crate\n    = note: define and implement a trait or new type instead\n \n error: aborting due to 3 previous errors"}, {"sha": "7e9d3c6e72927a6b120db255e592479887e60057", "filename": "src/test/ui/coherence/impl[t]-foreign-for-foreign[t].stderr", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl%5Bt%5D-foreign-for-foreign%5Bt%5D.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl%5Bt%5D-foreign-for-foreign%5Bt%5D.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fimpl%5Bt%5D-foreign-for-foreign%5Bt%5D.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -2,18 +2,22 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n   --> $DIR/impl[t]-foreign-for-foreign[t].rs:13:1\n    |\n LL | impl Remote for Rc<Local> {\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^ impl doesn't use types inside crate\n+   | ^^^^^^^^^^^^^^^^---------\n+   | |               |\n+   | |               `std::rc::Rc` is not defined in the current crate\n+   | impl doesn't use only types from inside the current crate\n    |\n-   = note: the impl does not reference only types defined in this crate\n    = note: define and implement a trait or new type instead\n \n error[E0117]: only traits defined in the current crate can be implemented for arbitrary types\n   --> $DIR/impl[t]-foreign-for-foreign[t].rs:18:1\n    |\n LL | impl<T> Remote for Arc<T> {\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^ impl doesn't use types inside crate\n+   | ^^^^^^^^^^^^^^^^^^^------\n+   | |                  |\n+   | |                  `std::sync::Arc` is not defined in the current crate\n+   | impl doesn't use only types from inside the current crate\n    |\n-   = note: the impl does not reference only types defined in this crate\n    = note: define and implement a trait or new type instead\n \n error: aborting due to 2 previous errors"}, {"sha": "a26b87a326211980f17bfad1c10cd6025f257521", "filename": "src/test/ui/coherence/impl[t]-foreign-for-fundamental[t].stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl%5Bt%5D-foreign-for-fundamental%5Bt%5D.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Fcoherence%2Fimpl%5Bt%5D-foreign-for-fundamental%5Bt%5D.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fimpl%5Bt%5D-foreign-for-fundamental%5Bt%5D.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -1,8 +1,8 @@\n error[E0210]: type parameter `T` must be used as the type parameter for some local type (e.g., `MyStruct<T>`)\n-  --> $DIR/impl[t]-foreign-for-fundamental[t].rs:12:1\n+  --> $DIR/impl[t]-foreign-for-fundamental[t].rs:12:6\n    |\n LL | impl<T> Remote for Box<T> {\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^ type parameter `T` must be used as the type parameter for some local type\n+   |      ^ type parameter `T` must be used as the type parameter for some local type\n    |\n    = note: only traits defined in the current crate can be implemented for a type parameter\n "}, {"sha": "e4ad4ffb45fee6b2d0c1ca5fcc3da067d390aca2", "filename": "src/test/ui/error-codes/E0206.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Ferror-codes%2FE0206.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Ferror-codes%2FE0206.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0206.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -16,7 +16,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl Copy for Foo { }\n    | ^^^^^^^^^^^^^^---\n    | |             |\n-   | |             `[u8; _]` is not defined in the current crate because arrays are always foreign\n+   | |             this is not defined in the current crate because arrays are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}, {"sha": "a54826787da46e2bc9b951e1d8ec5c87168f6778", "filename": "src/test/ui/typeck/typeck-default-trait-impl-cross-crate-coherence.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Ftypeck%2Ftypeck-default-trait-impl-cross-crate-coherence.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/95364df6bca42e6e4ce3657e0e745185f116e282/src%2Ftest%2Fui%2Ftypeck%2Ftypeck-default-trait-impl-cross-crate-coherence.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftypeck%2Ftypeck-default-trait-impl-cross-crate-coherence.stderr?ref=95364df6bca42e6e4ce3657e0e745185f116e282", "patch": "@@ -4,7 +4,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl DefaultedTrait for (A,) { }\n    | ^^^^^^^^^^^^^^^^^^^^^^^^----\n    | |                       |\n-   | |                       `(A,)` is not defined in the current crate because tuples are always foreign\n+   | |                       this is not defined in the current crate because tuples are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -15,7 +15,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl !DefaultedTrait for (B,) { }\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^----\n    | |                        |\n-   | |                        `(B,)` is not defined in the current crate because tuples are always foreign\n+   | |                        this is not defined in the current crate because tuples are always foreign\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead\n@@ -32,7 +32,7 @@ error[E0117]: only traits defined in the current crate can be implemented for ar\n LL | impl DefaultedTrait for lib::Something<C> { }\n    | ^^^^^^^^^^^^^^^^^^^^^^^^-----------------\n    | |                       |\n-   | |                       `lib::Something<C>` is not defined in the current crate\n+   | |                       `lib::Something` is not defined in the current crate\n    | impl doesn't use only types from inside the current crate\n    |\n    = note: define and implement a trait or new type instead"}]}