{"sha": "809fc868714a10e9b706386098b4f3870275278e", "node_id": "C_kwDOAAsO6NoAKDgwOWZjODY4NzE0YTEwZTliNzA2Mzg2MDk4YjRmMzg3MDI3NTI3OGU", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-08-14T04:06:52Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-08-14T04:06:52Z"}, "message": "Rollup merge of #100468 - cuviper:lazy-x, r=jyn514\n\nUse an extensionless `x` script for non-Windows\n\n#99992 added `x.sh` and `x.ps1`, but this broke my lazy `./xTAB` habit that used to get me to `./x.py`. If we rename `x.sh` to `x`, then I can adjust to `./xSPACE` for the same number of characters typed.\n\nr? `@jyn514`", "tree": {"sha": "fda4e806ed5e0d20d8ac4d6726b460e960a0efd8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fda4e806ed5e0d20d8ac4d6726b460e960a0efd8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/809fc868714a10e9b706386098b4f3870275278e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJi+HTcCRBK7hj4Ov3rIwAAOG4IAD5PAwZvOuj2bUxJf0GpCbvN\nms0qJ0TIuD5BoIc0JfgWRFz0w6ZcI8Ag85Ri/2ZQvpIM0nYIltHsP3zlTw4WZuCy\nkh9r9yXEpCyRmrrlVf038ZOKYVcZ3TwyrsYbXSOs+6KapGLz2q06e/shyYxJeV8r\n45sesF9B4Jig6yL7klfKPpHBAW3+pIAiKlufEp6aUBayO8vlvhsvFOejb9G4esvH\n17HDbvKwImjWiP7cGHhKl+zAuc64OWGhw2abfJKYcsZgP2h3lH+rI4rE0PLaX+nW\n/pXLgPCY3lw7S7ZecBSxJIcLTWTOC75FvESBJTzsR1uk2IJZ5MYaZ+WckWdNQTQ=\n=TzI5\n-----END PGP SIGNATURE-----\n", "payload": "tree fda4e806ed5e0d20d8ac4d6726b460e960a0efd8\nparent 86e1d1e28f0dab1bfe2dc3e8dbfc739778a8e135\nparent de8dedb0a524208e4856e80c22bc7f47df2fd91a\nauthor Michael Goulet <michael@errs.io> 1660450012 -0700\ncommitter GitHub <noreply@github.com> 1660450012 -0700\n\nRollup merge of #100468 - cuviper:lazy-x, r=jyn514\n\nUse an extensionless `x` script for non-Windows\n\n#99992 added `x.sh` and `x.ps1`, but this broke my lazy `./xTAB` habit that used to get me to `./x.py`. If we rename `x.sh` to `x`, then I can adjust to `./xSPACE` for the same number of characters typed.\n\nr? `@jyn514`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/809fc868714a10e9b706386098b4f3870275278e", "html_url": "https://github.com/rust-lang/rust/commit/809fc868714a10e9b706386098b4f3870275278e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/809fc868714a10e9b706386098b4f3870275278e/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "86e1d1e28f0dab1bfe2dc3e8dbfc739778a8e135", "url": "https://api.github.com/repos/rust-lang/rust/commits/86e1d1e28f0dab1bfe2dc3e8dbfc739778a8e135", "html_url": "https://github.com/rust-lang/rust/commit/86e1d1e28f0dab1bfe2dc3e8dbfc739778a8e135"}, {"sha": "de8dedb0a524208e4856e80c22bc7f47df2fd91a", "url": "https://api.github.com/repos/rust-lang/rust/commits/de8dedb0a524208e4856e80c22bc7f47df2fd91a", "html_url": "https://github.com/rust-lang/rust/commit/de8dedb0a524208e4856e80c22bc7f47df2fd91a"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "9a08a7be0f5f7198a5efe0c2add00948d3536e76", "filename": "src/bootstrap/mk/Makefile.in", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/809fc868714a10e9b706386098b4f3870275278e/src%2Fbootstrap%2Fmk%2FMakefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/809fc868714a10e9b706386098b4f3870275278e/src%2Fbootstrap%2Fmk%2FMakefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fmk%2FMakefile.in?ref=809fc868714a10e9b706386098b4f3870275278e", "patch": "@@ -80,7 +80,7 @@ TESTS_IN_MINGW_2 := \\\n \tsrc/test/ui\n \n ci-mingw-subset-1:\n-\t$(Q)$(CFG_SRC_DIR)/x.sh test --stage 2 $(TESTS_IN_MINGW_2:%=--exclude %)\n+\t$(Q)$(CFG_SRC_DIR)/x test --stage 2 $(TESTS_IN_MINGW_2:%=--exclude %)\n ci-mingw-subset-2:\n \t$(Q)$(BOOTSTRAP) test --stage 2 $(TESTS_IN_MINGW_2)\n "}, {"sha": "14d0ffd75005fb5216aa13b9804f7fe1cc8a1f94", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-llvm-12/Dockerfile", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/809fc868714a10e9b706386098b4f3870275278e/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-12%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/809fc868714a10e9b706386098b4f3870275278e/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-12%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-llvm-12%2FDockerfile?ref=809fc868714a10e9b706386098b4f3870275278e", "patch": "@@ -44,15 +44,15 @@ ENV RUST_CONFIGURE_ARGS \\\n       --enable-llvm-link-shared \\\n       --set rust.thin-lto-import-instr-limit=10\n \n-# NOTE: intentionally uses all of `x.py`, `x.sh`, and `x.ps1` to make sure they all work on Linux.\n+# NOTE: intentionally uses all of `x.py`, `x`, and `x.ps1` to make sure they all work on Linux.\n ENV SCRIPT ../x.py --stage 2 test --exclude src/tools/tidy && \\\n            # Run the `mir-opt` tests again but this time for a 32-bit target.\n            # This enforces that tests using `// EMIT_MIR_FOR_EACH_BIT_WIDTH` have\n            # both 32-bit and 64-bit outputs updated by the PR author, before\n            # the PR is approved and tested for merging.\n            # It will also detect tests lacking `// EMIT_MIR_FOR_EACH_BIT_WIDTH`,\n            # despite having different output on 32-bit vs 64-bit targets.\n-           ../x.sh --stage 2 test src/test/mir-opt \\\n+           ../x --stage 2 test src/test/mir-opt \\\n                              --host='' --target=i686-unknown-linux-gnu && \\\n            # Run the UI test suite again, but in `--pass=check` mode\n            #"}, {"sha": "30903f56d93b03ffd1450538121e69a09cf220ee", "filename": "src/tools/tidy/src/bins.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/809fc868714a10e9b706386098b4f3870275278e/src%2Ftools%2Ftidy%2Fsrc%2Fbins.rs", "raw_url": "https://github.com/rust-lang/rust/raw/809fc868714a10e9b706386098b4f3870275278e/src%2Ftools%2Ftidy%2Fsrc%2Fbins.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Fbins.rs?ref=809fc868714a10e9b706386098b4f3870275278e", "patch": "@@ -98,7 +98,7 @@ mod os_impl {\n     pub fn check(path: &Path, bad: &mut bool) {\n         use std::ffi::OsStr;\n \n-        const ALLOWED: &[&str] = &[\"configure\"];\n+        const ALLOWED: &[&str] = &[\"configure\", \"x\"];\n \n         crate::walk_no_read(\n             path,"}, {"sha": "704d0f791f333d0ddca4c333a16fdf62643bb4c7", "filename": "x", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/809fc868714a10e9b706386098b4f3870275278e/x", "raw_url": "https://github.com/rust-lang/rust/raw/809fc868714a10e9b706386098b4f3870275278e/x", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/x?ref=809fc868714a10e9b706386098b4f3870275278e", "previous_filename": "x.sh"}, {"sha": "86cea606591ba088e4643cd4b0bd2d29125d4c72", "filename": "x.ps1", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/809fc868714a10e9b706386098b4f3870275278e/x.ps1", "raw_url": "https://github.com/rust-lang/rust/raw/809fc868714a10e9b706386098b4f3870275278e/x.ps1", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/x.ps1?ref=809fc868714a10e9b706386098b4f3870275278e", "patch": "@@ -1,6 +1,6 @@\n #!/usr/bin/env pwsh\n \n-# See x.sh for why these scripts exist.\n+# See ./x for why these scripts exist.\n \n $xpy = Join-Path $PSScriptRoot x.py\n # Start-Process for some reason splits arguments on spaces. (Isn't powershell supposed to be simpler than bash?)"}, {"sha": "6df4033d55d7273bd064cedbddf4c959ee1dd301", "filename": "x.py", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/809fc868714a10e9b706386098b4f3870275278e/x.py", "raw_url": "https://github.com/rust-lang/rust/raw/809fc868714a10e9b706386098b4f3870275278e/x.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/x.py?ref=809fc868714a10e9b706386098b4f3870275278e", "patch": "@@ -1,6 +1,6 @@\n #!/usr/bin/env python3\n # Some systems don't have `python3` in their PATH. This isn't supported by x.py directly;\n-# they should use `x.sh` or `x.ps1` instead.\n+# they should use `x` or `x.ps1` instead.\n \n # This file is only a \"symlink\" to bootstrap.py, all logic should go there.\n "}]}