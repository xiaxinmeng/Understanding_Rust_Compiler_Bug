{"sha": "c4960c26027b6556aa5a63bc4a2c5697cf904e75", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM0OTYwYzI2MDI3YjY1NTZhYTVhNjNiYzRhMmM1Njk3Y2Y5MDRlNzU=", "commit": {"author": {"name": "Tyler Mandry", "email": "tmandry@gmail.com", "date": "2019-10-29T19:01:37Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-10-29T19:01:37Z"}, "message": "Rollup merge of #65741 - GuillaumeGomez:help-popup, r=Dylan-DPC\n\nPrevent help popup to disappear when clicking on it\n\nFixes #65736.\n\nr? @kinnison", "tree": {"sha": "da5f7ade2f3695a48455af221af34b5c93860fee", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/da5f7ade2f3695a48455af221af34b5c93860fee"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c4960c26027b6556aa5a63bc4a2c5697cf904e75", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJduIyRCRBK7hj4Ov3rIwAAdHIIADNCwH8Z0iuTpUHCx/BfN0BU\n5W7F5IB0fBqBfC1Yh6ZeJYuTOR/KUdb4j9PgxkRgFVAdFWdIGjrSLrA4hUqX6lno\n+QzAG9R/vUkSk2nrz920BeV+YdZ0bEI/OMjzvTm7mq0ZajuF/g3q+IWAOqDTn+mQ\nBNP/4ANgkGUU7PdY2yQ47B6+netGY+uLzDHuCd10S14dHh/FLN2YjEYIrTYnHOC4\nhSvgKFRSzVF6MMzHeXwfPtqZ5E4RgCCQjVcEW7maztOi60/ZHcSxXRhjTbNKJ6Qn\nsaVHovHD9nkS0HDPIXrxWVoNGR4H1OKS+Qh4Z6SVA1qU21YpgHCGKHbE1aoAe/E=\n=y5TR\n-----END PGP SIGNATURE-----\n", "payload": "tree da5f7ade2f3695a48455af221af34b5c93860fee\nparent 5e84805bb3e7288c02a0e88b54f5c264c51ca611\nparent 863796be7debb97e79d46aacc6501f1d4a6424ae\nauthor Tyler Mandry <tmandry@gmail.com> 1572375697 -0700\ncommitter GitHub <noreply@github.com> 1572375697 -0700\n\nRollup merge of #65741 - GuillaumeGomez:help-popup, r=Dylan-DPC\n\nPrevent help popup to disappear when clicking on it\n\nFixes #65736.\n\nr? @kinnison\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c4960c26027b6556aa5a63bc4a2c5697cf904e75", "html_url": "https://github.com/rust-lang/rust/commit/c4960c26027b6556aa5a63bc4a2c5697cf904e75", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c4960c26027b6556aa5a63bc4a2c5697cf904e75/comments", "author": {"login": "tmandry", "id": 2280544, "node_id": "MDQ6VXNlcjIyODA1NDQ=", "avatar_url": "https://avatars.githubusercontent.com/u/2280544?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tmandry", "html_url": "https://github.com/tmandry", "followers_url": "https://api.github.com/users/tmandry/followers", "following_url": "https://api.github.com/users/tmandry/following{/other_user}", "gists_url": "https://api.github.com/users/tmandry/gists{/gist_id}", "starred_url": "https://api.github.com/users/tmandry/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tmandry/subscriptions", "organizations_url": "https://api.github.com/users/tmandry/orgs", "repos_url": "https://api.github.com/users/tmandry/repos", "events_url": "https://api.github.com/users/tmandry/events{/privacy}", "received_events_url": "https://api.github.com/users/tmandry/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5e84805bb3e7288c02a0e88b54f5c264c51ca611", "url": "https://api.github.com/repos/rust-lang/rust/commits/5e84805bb3e7288c02a0e88b54f5c264c51ca611", "html_url": "https://github.com/rust-lang/rust/commit/5e84805bb3e7288c02a0e88b54f5c264c51ca611"}, {"sha": "863796be7debb97e79d46aacc6501f1d4a6424ae", "url": "https://api.github.com/repos/rust-lang/rust/commits/863796be7debb97e79d46aacc6501f1d4a6424ae", "html_url": "https://github.com/rust-lang/rust/commit/863796be7debb97e79d46aacc6501f1d4a6424ae"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "a5264a2dfc9d1da65c44295c70ecaae68c91f957", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 7, "deletions": 3, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c4960c26027b6556aa5a63bc4a2c5697cf904e75/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/c4960c26027b6556aa5a63bc4a2c5697cf904e75/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=c4960c26027b6556aa5a63bc4a2c5697cf904e75", "patch": "@@ -379,9 +379,13 @@ function getSearchElement() {\n \n                 set_fragment(cur_id);\n             }\n-        } else if (hasClass(document.getElementById(\"help\"), \"hidden\") === false) {\n-            addClass(document.getElementById(\"help\"), \"hidden\");\n-            removeClass(document.body, \"blur\");\n+        } else if (hasClass(getHelpElement(), \"hidden\") === false) {\n+            var help = getHelpElement();\n+            var is_inside_help_popup = ev.target !== help && help.contains(ev.target);\n+            if (is_inside_help_popup === false) {\n+                addClass(help, \"hidden\");\n+                removeClass(document.body, \"blur\");\n+            }\n         } else {\n             // Making a collapsed element visible on onhashchange seems\n             // too late"}]}