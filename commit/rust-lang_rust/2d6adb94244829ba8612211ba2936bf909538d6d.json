{"sha": "2d6adb94244829ba8612211ba2936bf909538d6d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJkNmFkYjk0MjQ0ODI5YmE4NjEyMjExYmEyOTM2YmY5MDk1MzhkNmQ=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-10-15T12:57:54Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-10-15T13:02:09Z"}, "message": "Add regression test for ICE in use-self lint", "tree": {"sha": "7bcf979f96ba90d9e3d58ea3163d802f6c195059", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7bcf979f96ba90d9e3d58ea3163d802f6c195059"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2d6adb94244829ba8612211ba2936bf909538d6d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAl2lw1EACgkQaTCGhp1Q\nZjen8w/+Mm23LKS4Au6EPyNqweKG4bYxdLuQxx2hJHY7GtFKTja1p8uG6Ai3bq+w\nBQT4fxHDu2NL5pmY/mSw/s/GN9VYRWFaLvYz7LiA0hnVxu1zzPHIn+V96YkG4peL\n0LnM7EMAZP5jzm/qjYXTv+ieUNwGiYdL9b00UtiIFbXWoPfXtmwzghzNuKnZXYDt\ncNyVtKsC4r5AgfxYDdUBu4MnHWWswi84sYrT7wtH/pRvatKV5VPiaODTY3T80wCo\nECCKPbyeawpnphXAvIZiIfW8e5HBa8IRMk4UvKK6Ou44BBzKHB2I0KndT4tcCnm8\nasfVK8sGHumM3kW1BBYwcuQFlVExI+BrPw7KNzfPlWUMWH7pLaFG8XSH+YrA0YWY\nVXC4v23nUfZQpdbkWVzJVCi1lSMkXUo9FiOENn2KY5XDk29x3+PZm+APx++INDZw\nvNSB8HGwGqBuXSnvriNE+rUR6huOIci7K9nQo0LNIXB3YhC9fZ4+QSbVmn0cOTIQ\nT4HrRVBnkrami4HhLYoC4JRk575HVOSagqwe6pEZcg70ELRakugxTHp4CCtCxVlb\nAccbXozj7XzyGpn5hB5Aor7CvGjkMRCeeYzmERqHJTQRh2Oip2MR7cFZPufNZQkv\n0+4v2zd2wRBT0Z5ml8iZl1hpF4njrOsFgPpKlZdkCYRd7u80uB8=\n=STXg\n-----END PGP SIGNATURE-----", "payload": "tree 7bcf979f96ba90d9e3d58ea3163d802f6c195059\nparent 55e7818a06c8d83bead9c81e10e73ba33fb20890\nauthor flip1995 <hello@philkrones.com> 1571144274 +0200\ncommitter flip1995 <hello@philkrones.com> 1571144529 +0200\n\nAdd regression test for ICE in use-self lint\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2d6adb94244829ba8612211ba2936bf909538d6d", "html_url": "https://github.com/rust-lang/rust/commit/2d6adb94244829ba8612211ba2936bf909538d6d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2d6adb94244829ba8612211ba2936bf909538d6d/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "55e7818a06c8d83bead9c81e10e73ba33fb20890", "url": "https://api.github.com/repos/rust-lang/rust/commits/55e7818a06c8d83bead9c81e10e73ba33fb20890", "html_url": "https://github.com/rust-lang/rust/commit/55e7818a06c8d83bead9c81e10e73ba33fb20890"}], "stats": {"total": 36, "additions": 36, "deletions": 0}, "files": [{"sha": "a8a85b4baefb728a4cd663ee47c98bceb02aea53", "filename": "tests/ui/auxiliary/use_self_macro.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/2d6adb94244829ba8612211ba2936bf909538d6d/tests%2Fui%2Fauxiliary%2Fuse_self_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d6adb94244829ba8612211ba2936bf909538d6d/tests%2Fui%2Fauxiliary%2Fuse_self_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fauxiliary%2Fuse_self_macro.rs?ref=2d6adb94244829ba8612211ba2936bf909538d6d", "patch": "@@ -0,0 +1,15 @@\n+macro_rules! use_self {\n+    (\n+        impl $ty:ident {\n+            fn func(&$this:ident) {\n+                [fields($($field:ident)*)]\n+            }\n+        }\n+    ) => (\n+        impl  $ty {\n+            fn func(&$this) {\n+                let $ty { $($field),* } = $this;\n+            }\n+        }\n+    )\n+}"}, {"sha": "64e8e7769412d6b09c9c4eca759250bd744b6b6d", "filename": "tests/ui/ice-4671.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/2d6adb94244829ba8612211ba2936bf909538d6d/tests%2Fui%2Fice-4671.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d6adb94244829ba8612211ba2936bf909538d6d/tests%2Fui%2Fice-4671.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fice-4671.rs?ref=2d6adb94244829ba8612211ba2936bf909538d6d", "patch": "@@ -0,0 +1,21 @@\n+#![warn(clippy::use_self)]\n+\n+#[macro_use]\n+#[path = \"auxiliary/use_self_macro.rs\"]\n+mod use_self_macro;\n+\n+struct Foo {\n+    a: u32,\n+}\n+\n+use_self! {\n+    impl Foo {\n+        fn func(&self) {\n+            [fields(\n+                a\n+            )]\n+        }\n+    }\n+}\n+\n+fn main() {}"}]}