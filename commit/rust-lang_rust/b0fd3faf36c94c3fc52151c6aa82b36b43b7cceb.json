{"sha": "b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIwZmQzZmFmMzZjOTRjM2ZjNTIxNTFjNmFhODJiMzZiNDNiN2NjZWI=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-08-21T11:19:31Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-08-21T11:19:31Z"}, "message": "Switch to expect_test from crates.io", "tree": {"sha": "f1640e984879dc12eb4d2b2da5bab9dfa20912d4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f1640e984879dc12eb4d2b2da5bab9dfa20912d4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "html_url": "https://github.com/rust-lang/rust/commit/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "66e0c9f840bc60fa132b285312136293301cc2c0", "url": "https://api.github.com/repos/rust-lang/rust/commits/66e0c9f840bc60fa132b285312136293301cc2c0", "html_url": "https://github.com/rust-lang/rust/commit/66e0c9f840bc60fa132b285312136293301cc2c0"}], "stats": {"total": 108, "additions": 54, "deletions": 54}, "files": [{"sha": "559154a8dc8e361e3482b66c6c1b5585f3402dcc", "filename": "Cargo.lock", "status": "modified", "additions": 10, "deletions": 9, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -345,12 +345,13 @@ dependencies = [\n ]\n \n [[package]]\n-name = \"expect\"\n-version = \"0.0.0\"\n+name = \"expect-test\"\n+version = \"0.1.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"a3e383741ea1982866572109d1a8c807bd36aad91fca701489fdca56ef92b3b8\"\n dependencies = [\n  \"difference\",\n  \"once_cell\",\n- \"stdx\",\n ]\n \n [[package]]\n@@ -508,7 +509,7 @@ dependencies = [\n  \"cfg\",\n  \"drop_bomb\",\n  \"either\",\n- \"expect\",\n+ \"expect-test\",\n  \"fst\",\n  \"hir_expand\",\n  \"indexmap\",\n@@ -553,7 +554,7 @@ dependencies = [\n  \"chalk-recursive\",\n  \"chalk-solve\",\n  \"ena\",\n- \"expect\",\n+ \"expect-test\",\n  \"hir_def\",\n  \"hir_expand\",\n  \"itertools\",\n@@ -587,7 +588,7 @@ dependencies = [\n  \"base_db\",\n  \"cfg\",\n  \"either\",\n- \"expect\",\n+ \"expect-test\",\n  \"hir\",\n  \"ide_db\",\n  \"indexmap\",\n@@ -1225,7 +1226,7 @@ dependencies = [\n  \"cfg\",\n  \"crossbeam-channel\",\n  \"env_logger\",\n- \"expect\",\n+ \"expect-test\",\n  \"flycheck\",\n  \"hir\",\n  \"hir_def\",\n@@ -1452,7 +1453,7 @@ name = \"ssr\"\n version = \"0.0.0\"\n dependencies = [\n  \"base_db\",\n- \"expect\",\n+ \"expect-test\",\n  \"hir\",\n  \"ide_db\",\n  \"itertools\",\n@@ -1494,7 +1495,7 @@ name = \"syntax\"\n version = \"0.0.0\"\n dependencies = [\n  \"arrayvec\",\n- \"expect\",\n+ \"expect-test\",\n  \"itertools\",\n  \"once_cell\",\n  \"parser\","}, {"sha": "57745322fd8d432f95557b8c34ea7ab81bc1affc", "filename": "crates/hir_def/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_def%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_def%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2FCargo.toml?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -32,4 +32,4 @@ cfg = { path = \"../cfg\" }\n tt = { path = \"../tt\" }\n \n [dev-dependencies]\n-expect = { path = \"../expect\" }\n+expect-test = \"0.1\""}, {"sha": "a442fb63a1be5d1ca1be51ae63ee6abf82a25766", "filename": "crates/hir_def/src/import_map.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_def%2Fsrc%2Fimport_map.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_def%2Fsrc%2Fimport_map.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2Fsrc%2Fimport_map.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -328,7 +328,7 @@ pub fn search_dependencies<'a>(\n #[cfg(test)]\n mod tests {\n     use base_db::{fixture::WithFixture, SourceDatabase, Upcast};\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::{test_db::TestDB, AssocContainerId, Lookup};\n "}, {"sha": "620e697d4a101af5cf0360321ba9291bc1f6a4fd", "filename": "crates/hir_def/src/item_tree/tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_def%2Fsrc%2Fitem_tree%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_def%2Fsrc%2Fitem_tree%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2Fsrc%2Fitem_tree%2Ftests.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -1,5 +1,5 @@\n use base_db::fixture::WithFixture;\n-use expect::{expect, Expect};\n+use expect_test::{expect, Expect};\n use hir_expand::{db::AstDatabase, HirFileId, InFile};\n use rustc_hash::FxHashSet;\n use std::sync::Arc;"}, {"sha": "8aaf7a158ba42fa4141f334b9ef7ef6d3ad7a450", "filename": "crates/hir_def/src/nameres/tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_def%2Fsrc%2Fnameres%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_def%2Fsrc%2Fnameres%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_def%2Fsrc%2Fnameres%2Ftests.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -7,7 +7,7 @@ mod primitives;\n use std::sync::Arc;\n \n use base_db::{fixture::WithFixture, SourceDatabase};\n-use expect::{expect, Expect};\n+use expect_test::{expect, Expect};\n use test_utils::mark;\n \n use crate::{db::DefDatabase, nameres::*, test_db::TestDB};"}, {"sha": "06da0d0ec8d23c783a1bc465db7e1b911325342d", "filename": "crates/hir_ty/Cargo.toml", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2FCargo.toml?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -30,8 +30,7 @@ syntax = { path = \"../syntax\" }\n test_utils = { path = \"../test_utils\" }\n \n [dev-dependencies]\n+expect-test = \"0.1\"\n tracing = \"0.1\"\n tracing-subscriber = { version = \"0.2\", default-features = false, features = [\"env-filter\", \"registry\"] }\n tracing-tree = { version = \"0.1.4\" }\n-\n-expect = { path = \"../expect\" }"}, {"sha": "0445efc9e042a81f098bb29aae1c66ad74a5057a", "filename": "crates/hir_ty/src/tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftests.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -11,7 +11,7 @@ mod display_source_code;\n use std::{env, sync::Arc};\n \n use base_db::{fixture::WithFixture, FileRange, SourceDatabase, SourceDatabaseExt};\n-use expect::Expect;\n+use expect_test::Expect;\n use hir_def::{\n     body::{BodySourceMap, SyntheticSyntax},\n     child_by_source::ChildBySource,"}, {"sha": "7bc6c79f3ff85c1e3eeab1349c6e83306ba6a4b3", "filename": "crates/hir_ty/src/tests/coercion.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fcoercion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fcoercion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftests%2Fcoercion.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -1,4 +1,4 @@\n-use expect::expect;\n+use expect_test::expect;\n use test_utils::mark;\n \n use super::{check_infer, check_infer_with_mismatches};"}, {"sha": "597a195d0248a503257a054960c1c41f141c262b", "filename": "crates/hir_ty/src/tests/macros.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftests%2Fmacros.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -1,6 +1,6 @@\n use std::fs;\n \n-use expect::expect;\n+use expect_test::expect;\n use test_utils::project_dir;\n \n use super::{check_infer, check_types};"}, {"sha": "23b2601e643b5d19de1849d61404a56fbe1248da", "filename": "crates/hir_ty/src/tests/method_resolution.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -1,4 +1,4 @@\n-use expect::expect;\n+use expect_test::expect;\n \n use super::{check_infer, check_types};\n "}, {"sha": "335c474df767e81487ad1496261fcb826a7542c3", "filename": "crates/hir_ty/src/tests/never_type.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fnever_type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fnever_type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftests%2Fnever_type.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -1,4 +1,4 @@\n-use expect::expect;\n+use expect_test::expect;\n \n use super::{check_infer_with_mismatches, check_types};\n "}, {"sha": "aeb191c79a77f826987652677dce6d6784bf3e9d", "filename": "crates/hir_ty/src/tests/patterns.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fpatterns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fpatterns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftests%2Fpatterns.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -1,4 +1,4 @@\n-use expect::expect;\n+use expect_test::expect;\n use test_utils::mark;\n \n use super::{check_infer, check_infer_with_mismatches};"}, {"sha": "94d86b0d1f232a292616d933697ddecacbedccc9", "filename": "crates/hir_ty/src/tests/regression.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fregression.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fregression.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftests%2Fregression.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -1,4 +1,4 @@\n-use expect::expect;\n+use expect_test::expect;\n use test_utils::mark;\n \n use super::{check_infer, check_types};"}, {"sha": "48db23a341609cbd1bed29ea4f4c35459e871138", "filename": "crates/hir_ty/src/tests/simple.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fsimple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Fsimple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftests%2Fsimple.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -1,4 +1,4 @@\n-use expect::expect;\n+use expect_test::expect;\n \n use super::{check_infer, check_types};\n "}, {"sha": "1f1056962b7c8f99adabd59a34516edb3a3f61d5", "filename": "crates/hir_ty/src/tests/traits.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Ftraits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fhir_ty%2Fsrc%2Ftests%2Ftraits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftests%2Ftraits.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -1,4 +1,4 @@\n-use expect::expect;\n+use expect_test::expect;\n use test_utils::mark;\n \n use super::{check_infer, check_infer_with_mismatches, check_types};"}, {"sha": "700944430f3bc526abadd1178d2d0c61d1b71e45", "filename": "crates/ide/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2FCargo.toml?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -32,4 +32,4 @@ ssr = { path = \"../ssr\" }\n hir = { path = \"../hir\" }\n \n [dev-dependencies]\n-expect = { path = \"../expect\" }\n+expect-test = \"0.1\""}, {"sha": "7e83a2381974c9ab3b29230007607f8cb8c5270e", "filename": "crates/ide/src/call_info.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcall_info.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcall_info.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcall_info.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -229,7 +229,7 @@ impl FnCallNode {\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n     use test_utils::mark;\n \n     use crate::mock_analysis::analysis_and_position;"}, {"sha": "0abfaebcbc669f4b887d9f33560c8a6f3d2567f9", "filename": "crates/ide/src/completion/complete_attribute.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_attribute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_attribute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_attribute.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -383,7 +383,7 @@ const DEFAULT_LINT_COMPLETIONS: &[LintCompletion] = &[\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::completion::{test_utils::completion_list, CompletionKind};\n "}, {"sha": "0b9f1798acafb6624dde9eee4348dc02edafe090", "filename": "crates/ide/src/completion/complete_dot.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_dot.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_dot.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_dot.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -61,7 +61,7 @@ fn complete_methods(acc: &mut Completions, ctx: &CompletionContext, receiver: &T\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n     use test_utils::mark;\n \n     use crate::completion::{test_utils::completion_list, CompletionKind};"}, {"sha": "9efe254618eee4e168bd85f392f51fba2d629a86", "filename": "crates/ide/src/completion/complete_fn_param.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_fn_param.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_fn_param.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_fn_param.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -66,7 +66,7 @@ pub(super) fn complete_fn_param(acc: &mut Completions, ctx: &CompletionContext)\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::completion::{test_utils::completion_list, CompletionKind};\n "}, {"sha": "95e4ff1ac6aa01cac94f1d3432286fd2fda894b2", "filename": "crates/ide/src/completion/complete_keyword.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_keyword.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_keyword.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_keyword.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -174,7 +174,7 @@ fn complete_return(\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::completion::{\n         test_utils::{check_edit, completion_list},"}, {"sha": "fc8625d8e0a027a787c54c3e578bef6810035bfc", "filename": "crates/ide/src/completion/complete_macro_in_item_position.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_macro_in_item_position.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_macro_in_item_position.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_macro_in_item_position.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -15,7 +15,7 @@ pub(super) fn complete_macro_in_item_position(acc: &mut Completions, ctx: &Compl\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::completion::{test_utils::completion_list, CompletionKind};\n "}, {"sha": "5a13574d45b0ab180a555751cc4602eb665b836d", "filename": "crates/ide/src/completion/complete_pattern.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_pattern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_pattern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_pattern.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -33,7 +33,7 @@ pub(super) fn complete_pattern(acc: &mut Completions, ctx: &CompletionContext) {\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::completion::{test_utils::completion_list, CompletionKind};\n "}, {"sha": "84c4e129d27145535715fddf6f460bdcb08a2e83", "filename": "crates/ide/src/completion/complete_postfix.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_postfix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_postfix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_postfix.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -238,7 +238,7 @@ fn postfix_snippet(\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::completion::{\n         test_utils::{check_edit, completion_list},"}, {"sha": "accb09f7e8c874cbc646a0ddde2a5ccc51f33c60", "filename": "crates/ide/src/completion/complete_qualified_path.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_qualified_path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_qualified_path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_qualified_path.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -146,7 +146,7 @@ pub(super) fn complete_qualified_path(acc: &mut Completions, ctx: &CompletionCon\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n     use test_utils::mark;\n \n     use crate::completion::{"}, {"sha": "ceb8d16c10017d10ed3f96e9b40bf2d130457c77", "filename": "crates/ide/src/completion/complete_record.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_record.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_record.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_record.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -18,7 +18,7 @@ pub(super) fn complete_record(acc: &mut Completions, ctx: &CompletionContext) ->\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::completion::{test_utils::completion_list, CompletionKind};\n "}, {"sha": "c3b03b199e7902e54939c9a6375e25971f78b4ff", "filename": "crates/ide/src/completion/complete_snippet.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_snippet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_snippet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_snippet.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -70,7 +70,7 @@ fn ${1:feature}() {\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::completion::{test_utils::completion_list, CompletionKind};\n "}, {"sha": "1a2b1e8a57e8b6c287d9df9d141a7424c73ed34a", "filename": "crates/ide/src/completion/complete_trait_impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_trait_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_trait_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_trait_impl.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -225,7 +225,7 @@ fn make_const_compl_syntax(const_: &ast::Const) -> String {\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::completion::{\n         test_utils::{check_edit, completion_list},"}, {"sha": "1f1b682a78c98a7ccba16447d0571441eeda82e7", "filename": "crates/ide/src/completion/complete_unqualified_path.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_unqualified_path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_unqualified_path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fcomplete_unqualified_path.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -64,7 +64,7 @@ fn complete_enum_variants(acc: &mut Completions, ctx: &CompletionContext, ty: &T\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n     use test_utils::mark;\n \n     use crate::completion::{"}, {"sha": "3371aed2dfa33fba541b8b8e32a320aa5c65bdcc", "filename": "crates/ide/src/completion/presentation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fpresentation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fcompletion%2Fpresentation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcompletion%2Fpresentation.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -464,7 +464,7 @@ fn guess_macro_braces(macro_name: &str, docs: &str) -> (&'static str, &'static s\n mod tests {\n     use std::cmp::Reverse;\n \n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n     use test_utils::mark;\n \n     use crate::{"}, {"sha": "b2b972b02cb8176b532229b40a7d921d0d573a14", "filename": "crates/ide/src/diagnostics.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fdiagnostics.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -214,7 +214,7 @@ fn check_struct_shorthand_initialization(\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n     use stdx::trim_indent;\n     use test_utils::assert_eq_text;\n "}, {"sha": "1ee80c2dd4e92f724eaf8303f9610332c8632789", "filename": "crates/ide/src/display/navigation_target.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fdisplay%2Fnavigation_target.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fdisplay%2Fnavigation_target.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fdisplay%2Fnavigation_target.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -421,7 +421,7 @@ pub(crate) fn description_from_symbol(db: &RootDatabase, symbol: &FileSymbol) ->\n \n #[cfg(test)]\n mod tests {\n-    use expect::expect;\n+    use expect_test::expect;\n \n     use crate::{mock_analysis::single_file, Query};\n "}, {"sha": "8a285bcf7a9698b0b4172d17efb345a6198d245d", "filename": "crates/ide/src/expand_macro.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fexpand_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fexpand_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fexpand_macro.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -120,7 +120,7 @@ fn insert_whitespaces(syn: SyntaxNode) -> String {\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::mock_analysis::analysis_and_position;\n "}, {"sha": "6168fb837ccaee180eee7c62e31d4b4a7df62135", "filename": "crates/ide/src/file_structure.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Ffile_structure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Ffile_structure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Ffile_structure.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -164,7 +164,7 @@ fn structure_node(node: &SyntaxNode) -> Option<StructureNode> {\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use super::*;\n "}, {"sha": "c75b2a51056af9c604a9e8e487d8fcf9d8381f47", "filename": "crates/ide/src/hover.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fhover.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fhover.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fhover.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -353,7 +353,7 @@ fn pick_best(tokens: TokenAtOffset<SyntaxToken>) -> Option<SyntaxToken> {\n #[cfg(test)]\n mod tests {\n     use base_db::FileLoader;\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::mock_analysis::analysis_and_position;\n "}, {"sha": "583f39d85ba22e57cbf987ee985586aec68f8ed8", "filename": "crates/ide/src/inlay_hints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Finlay_hints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Finlay_hints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Finlay_hints.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -336,7 +336,7 @@ fn get_callable(sema: &Semantics<RootDatabase>, expr: &ast::Expr) -> Option<Call\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n     use test_utils::extract_annotations;\n \n     use crate::{inlay_hints::InlayHintsConfig, mock_analysis::single_file};"}, {"sha": "3016297633be58d2d1f12a5a8b96608fe7220105", "filename": "crates/ide/src/references/rename.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Freferences%2Frename.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Freferences%2Frename.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Freferences%2Frename.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -270,7 +270,7 @@ fn rename_reference(\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n     use stdx::trim_indent;\n     use test_utils::{assert_eq_text, mark};\n     use text_edit::TextEdit;"}, {"sha": "4139f329eb654274124c70554d5a36f11735147d", "filename": "crates/ide/src/runnables.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Frunnables.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Frunnables.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Frunnables.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -268,7 +268,7 @@ fn has_test_function_or_multiple_test_submodules(module: &ast::Module) -> bool {\n \n #[cfg(test)]\n mod tests {\n-    use expect::{expect, Expect};\n+    use expect_test::{expect, Expect};\n \n     use crate::mock_analysis::analysis_and_position;\n "}, {"sha": "1c3fea0588b8457a1feeee4574940badd9ae41ee", "filename": "crates/ide/src/syntax_highlighting/tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fsyntax_highlighting%2Ftests.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -1,6 +1,6 @@\n use std::fs;\n \n-use expect::{expect_file, ExpectFile};\n+use expect_test::{expect_file, ExpectFile};\n use test_utils::project_dir;\n \n use crate::{mock_analysis::single_file, FileRange, TextRange};"}, {"sha": "068a961dc619a09f505f9bd3b405e1c1fd37b08f", "filename": "crates/rust-analyzer/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Frust-analyzer%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Frust-analyzer%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2FCargo.toml?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -57,7 +57,7 @@ proc_macro_srv = { path = \"../proc_macro_srv\" }\n winapi = \"0.3.8\"\n \n [dev-dependencies]\n-expect = { path = \"../expect\" }\n+expect-test = \"0.1\"\n test_utils = { path = \"../test_utils\" }\n mbe = { path = \"../mbe\" }\n tt = { path = \"../tt\" }"}, {"sha": "e52b97913a3dda062b2ea80526cdfb7738ea2112", "filename": "crates/rust-analyzer/src/diagnostics/to_proto.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fto_proto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fto_proto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fdiagnostics%2Fto_proto.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -256,7 +256,7 @@ pub(crate) fn map_rust_diagnostic_to_lsp(\n mod tests {\n     use super::*;\n \n-    use expect::{expect_file, ExpectFile};\n+    use expect_test::{expect_file, ExpectFile};\n \n     fn check(diagnostics_json: &str, expect: ExpectFile) {\n         check_with_config(DiagnosticsMapConfig::default(), diagnostics_json, expect)"}, {"sha": "22b6af0fabe75952007452d58520a6cfd8571db3", "filename": "crates/ssr/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fssr%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fssr%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fssr%2FCargo.toml?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -22,4 +22,4 @@ hir = { path = \"../hir\" }\n test_utils = { path = \"../test_utils\" }\n \n [dev-dependencies]\n-expect = { path = \"../expect\" }\n+expect-test = \"0.1\""}, {"sha": "20231a9bc6010a9da1bc6fa0a57d6a8c009ce303", "filename": "crates/ssr/src/tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fssr%2Fsrc%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fssr%2Fsrc%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fssr%2Fsrc%2Ftests.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -1,6 +1,6 @@\n use crate::{MatchFinder, SsrRule};\n use base_db::{salsa::Durability, FileId, FilePosition, FileRange, SourceDatabaseExt};\n-use expect::{expect, Expect};\n+use expect_test::{expect, Expect};\n use rustc_hash::FxHashSet;\n use std::sync::Arc;\n use test_utils::{mark, RangeOrOffset};"}, {"sha": "6818f3ad8892bed4cb4d21e8088246ad3db06042", "filename": "crates/syntax/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fsyntax%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fsyntax%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2FCargo.toml?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -30,6 +30,6 @@ parser = { path = \"../parser\" }\n [dev-dependencies]\n walkdir = \"2.3.1\"\n rayon = \"1\"\n+expect-test = \"0.1\"\n \n test_utils = { path = \"../test_utils\" }\n-expect = { path = \"../expect\" }"}, {"sha": "8c217dfe01ec851258194af80776fbb0877c739d", "filename": "crates/syntax/src/tests.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fsyntax%2Fsrc%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb/crates%2Fsyntax%2Fsrc%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2Fsrc%2Ftests.rs?ref=b0fd3faf36c94c3fc52151c6aa82b36b43b7cceb", "patch": "@@ -4,7 +4,7 @@ use std::{\n     path::{Path, PathBuf},\n };\n \n-use expect::expect_file;\n+use expect_test::expect_file;\n use rayon::prelude::*;\n use test_utils::project_dir;\n "}]}