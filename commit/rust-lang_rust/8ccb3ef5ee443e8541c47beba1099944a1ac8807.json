{"sha": "8ccb3ef5ee443e8541c47beba1099944a1ac8807", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhjY2IzZWY1ZWU0NDNlODU0MWM0N2JlYmExMDk5OTQ0YTFhYzg4MDc=", "commit": {"author": {"name": "Seo Sanghyeon", "email": "sanxiyn@gmail.com", "date": "2017-01-10T11:27:47Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-01-10T11:27:47Z"}, "message": "Rollup merge of #38849 - michaelwoerister:ich-trait-impl-test, r=nikomatsakis\n\nICH: Add some more test cases for trait impls.\n\nr? @nikomatsakis", "tree": {"sha": "947ec17e4a9aa1e4c318964b273c8c72f0923fbd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/947ec17e4a9aa1e4c318964b273c8c72f0923fbd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8ccb3ef5ee443e8541c47beba1099944a1ac8807", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8ccb3ef5ee443e8541c47beba1099944a1ac8807", "html_url": "https://github.com/rust-lang/rust/commit/8ccb3ef5ee443e8541c47beba1099944a1ac8807", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8ccb3ef5ee443e8541c47beba1099944a1ac8807/comments", "author": {"login": "sanxiyn", "id": 45249, "node_id": "MDQ6VXNlcjQ1MjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/45249?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sanxiyn", "html_url": "https://github.com/sanxiyn", "followers_url": "https://api.github.com/users/sanxiyn/followers", "following_url": "https://api.github.com/users/sanxiyn/following{/other_user}", "gists_url": "https://api.github.com/users/sanxiyn/gists{/gist_id}", "starred_url": "https://api.github.com/users/sanxiyn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sanxiyn/subscriptions", "organizations_url": "https://api.github.com/users/sanxiyn/orgs", "repos_url": "https://api.github.com/users/sanxiyn/repos", "events_url": "https://api.github.com/users/sanxiyn/events{/privacy}", "received_events_url": "https://api.github.com/users/sanxiyn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "833d6938e97e60a7c82fd2ee62cf0095adf01bfb", "url": "https://api.github.com/repos/rust-lang/rust/commits/833d6938e97e60a7c82fd2ee62cf0095adf01bfb", "html_url": "https://github.com/rust-lang/rust/commit/833d6938e97e60a7c82fd2ee62cf0095adf01bfb"}, {"sha": "56e586769801d4b928bda57cb89b294578848da5", "url": "https://api.github.com/repos/rust-lang/rust/commits/56e586769801d4b928bda57cb89b294578848da5", "html_url": "https://github.com/rust-lang/rust/commit/56e586769801d4b928bda57cb89b294578848da5"}], "stats": {"total": 152, "additions": 152, "deletions": 0}, "files": [{"sha": "15094492248e647480c00bb5df1853507f27a5f0", "filename": "src/test/incremental/hashes/trait_impls.rs", "status": "modified", "additions": 152, "deletions": 0, "changes": 152, "blob_url": "https://github.com/rust-lang/rust/blob/8ccb3ef5ee443e8541c47beba1099944a1ac8807/src%2Ftest%2Fincremental%2Fhashes%2Ftrait_impls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8ccb3ef5ee443e8541c47beba1099944a1ac8807/src%2Ftest%2Fincremental%2Fhashes%2Ftrait_impls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fincremental%2Fhashes%2Ftrait_impls.rs?ref=8ccb3ef5ee443e8541c47beba1099944a1ac8807", "patch": "@@ -402,3 +402,155 @@ impl ChangeArgumentTypeTrait for Foo {\n     fn method_name(&self, _x: char) { }\n }\n \n+\n+\n+struct Bar<T>(T);\n+\n+// Add Type Parameter To Impl --------------------------------------------------\n+trait AddTypeParameterToImpl<T> {\n+    fn id(t: T) -> T;\n+}\n+\n+#[cfg(cfail1)]\n+impl AddTypeParameterToImpl<u32> for Bar<u32> {\n+    fn id(t: u32) -> u32 { t }\n+}\n+\n+#[cfg(not(cfail1))]\n+#[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_metadata_dirty(cfg=\"cfail2\")]\n+#[rustc_metadata_clean(cfg=\"cfail3\")]\n+impl<T> AddTypeParameterToImpl<T> for Bar<T> {\n+    #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+    #[rustc_metadata_dirty(cfg=\"cfail2\")]\n+    #[rustc_metadata_clean(cfg=\"cfail3\")]\n+    fn id(t: T) -> T { t }\n+}\n+\n+\n+\n+// Change Self Type of Impl ----------------------------------------------------\n+trait ChangeSelfTypeOfImpl {\n+    fn id(self) -> Self;\n+}\n+\n+#[cfg(cfail1)]\n+impl ChangeSelfTypeOfImpl for u32 {\n+    fn id(self) -> Self { self }\n+}\n+\n+#[cfg(not(cfail1))]\n+#[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_metadata_dirty(cfg=\"cfail2\")]\n+#[rustc_metadata_clean(cfg=\"cfail3\")]\n+impl ChangeSelfTypeOfImpl for u64 {\n+    #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+    #[rustc_metadata_dirty(cfg=\"cfail2\")]\n+    #[rustc_metadata_clean(cfg=\"cfail3\")]\n+    fn id(self) -> Self { self }\n+}\n+\n+\n+\n+// Add Lifetime Bound to Impl --------------------------------------------------\n+trait AddLifetimeBoundToImplParameter {\n+    fn id(self) -> Self;\n+}\n+\n+#[cfg(cfail1)]\n+impl<T> AddLifetimeBoundToImplParameter for T {\n+    fn id(self) -> Self { self }\n+}\n+\n+#[cfg(not(cfail1))]\n+#[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_metadata_dirty(cfg=\"cfail2\")]\n+#[rustc_metadata_clean(cfg=\"cfail3\")]\n+impl<T: 'static> AddLifetimeBoundToImplParameter for T {\n+    #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+    #[rustc_metadata_dirty(cfg=\"cfail2\")]\n+    #[rustc_metadata_clean(cfg=\"cfail3\")]\n+    fn id(self) -> Self { self }\n+}\n+\n+\n+\n+// Add Trait Bound to Impl Parameter -------------------------------------------\n+trait AddTraitBoundToImplParameter {\n+    fn id(self) -> Self;\n+}\n+\n+#[cfg(cfail1)]\n+impl<T> AddTraitBoundToImplParameter for T {\n+    fn id(self) -> Self { self }\n+}\n+\n+#[cfg(not(cfail1))]\n+#[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_metadata_dirty(cfg=\"cfail2\")]\n+#[rustc_metadata_clean(cfg=\"cfail3\")]\n+impl<T: Clone> AddTraitBoundToImplParameter for T {\n+    #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+    #[rustc_metadata_dirty(cfg=\"cfail2\")]\n+    #[rustc_metadata_clean(cfg=\"cfail3\")]\n+    fn id(self) -> Self { self }\n+}\n+\n+\n+\n+// Add #[no_mangle] to Method --------------------------------------------------\n+trait AddNoMangleToMethod {\n+    fn add_no_mangle_to_method(&self) { }\n+}\n+\n+#[cfg(cfail1)]\n+impl AddNoMangleToMethod for Foo {\n+    fn add_no_mangle_to_method(&self) { }\n+}\n+\n+#[cfg(not(cfail1))]\n+#[rustc_clean(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_metadata_clean(cfg=\"cfail2\")]\n+#[rustc_metadata_clean(cfg=\"cfail3\")]\n+impl AddNoMangleToMethod for Foo {\n+    #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+    #[rustc_metadata_dirty(cfg=\"cfail2\")]\n+    #[rustc_metadata_clean(cfg=\"cfail3\")]\n+    #[no_mangle]\n+    fn add_no_mangle_to_method(&self) { }\n+}\n+\n+\n+// Make Method #[inline] -------------------------------------------------------\n+trait MakeMethodInline {\n+    fn make_method_inline(&self) -> u8 { 0 }\n+}\n+\n+#[cfg(cfail1)]\n+impl MakeMethodInline for Foo {\n+    fn make_method_inline(&self) -> u8 { 0 }\n+}\n+\n+#[cfg(not(cfail1))]\n+#[rustc_clean(label=\"Hir\", cfg=\"cfail2\")]\n+#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+#[rustc_metadata_clean(cfg=\"cfail2\")]\n+#[rustc_metadata_clean(cfg=\"cfail3\")]\n+impl MakeMethodInline for Foo {\n+    #[rustc_dirty(label=\"Hir\", cfg=\"cfail2\")]\n+    #[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n+    #[rustc_metadata_dirty(cfg=\"cfail2\")]\n+    #[rustc_metadata_clean(cfg=\"cfail3\")]\n+    #[inline]\n+    fn make_method_inline(&self) -> u8 { 0 }\n+}"}]}