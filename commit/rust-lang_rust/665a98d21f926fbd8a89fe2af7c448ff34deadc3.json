{"sha": "665a98d21f926fbd8a89fe2af7c448ff34deadc3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY2NWE5OGQyMWY5MjZmYmQ4YTg5ZmUyYWY3YzQ0OGZmMzRkZWFkYzM=", "commit": {"author": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2020-09-12T13:10:51Z"}, "committer": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2020-09-18T19:23:00Z"}, "message": "Fix dest-prop mir-opt tests", "tree": {"sha": "d42d33470161a2aaab7f321f8f78e052d0439f2c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d42d33470161a2aaab7f321f8f78e052d0439f2c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/665a98d21f926fbd8a89fe2af7c448ff34deadc3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/665a98d21f926fbd8a89fe2af7c448ff34deadc3", "html_url": "https://github.com/rust-lang/rust/commit/665a98d21f926fbd8a89fe2af7c448ff34deadc3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/665a98d21f926fbd8a89fe2af7c448ff34deadc3/comments", "author": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "402f863d8ac2e69abf415d9ed9c1b9984e037700", "url": "https://api.github.com/repos/rust-lang/rust/commits/402f863d8ac2e69abf415d9ed9c1b9984e037700", "html_url": "https://github.com/rust-lang/rust/commit/402f863d8ac2e69abf415d9ed9c1b9984e037700"}], "stats": {"total": 106, "additions": 25, "deletions": 81}, "files": [{"sha": "9c213eaed3c04c44d70a8241da0b353dfdd2e638", "filename": "src/test/mir-opt/dest-prop/branch.main.DestinationPropagation.diff", "status": "renamed", "additions": 4, "deletions": 19, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fbranch.main.DestinationPropagation.diff", "raw_url": "https://github.com/rust-lang/rust/raw/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fbranch.main.DestinationPropagation.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fbranch.main.DestinationPropagation.diff?ref=665a98d21f926fbd8a89fe2af7c448ff34deadc3", "patch": "@@ -17,12 +17,9 @@\n   \n       bb0: {\n -         StorageLive(_1);                 // scope 0 at $DIR/branch.rs:13:9: 13:10\n--         _1 = const val() -> bb1;         // scope 0 at $DIR/branch.rs:13:13: 13:18\n+-         _1 = val() -> bb1;               // scope 0 at $DIR/branch.rs:13:13: 13:18\n +         nop;                             // scope 0 at $DIR/branch.rs:13:9: 13:10\n-+         _2 = const val() -> bb1;         // scope 0 at $DIR/branch.rs:13:13: 13:18\n-                                           // ty::Const\n-                                           // + ty: fn() -> i32 {val}\n-                                           // + val: Value(Scalar(<ZST>))\n++         _2 = val() -> bb1;               // scope 0 at $DIR/branch.rs:13:13: 13:18\n                                            // mir::Constant\n                                            // + span: $DIR/branch.rs:13:13: 13:16\n                                            // + literal: Const { ty: fn() -> i32 {val}, val: Value(Scalar(<ZST>)) }\n@@ -32,10 +29,7 @@\n -         StorageLive(_2);                 // scope 1 at $DIR/branch.rs:15:9: 15:10\n +         nop;                             // scope 1 at $DIR/branch.rs:15:9: 15:10\n           StorageLive(_3);                 // scope 1 at $DIR/branch.rs:15:16: 15:22\n-          _3 = const cond() -> bb2;        // scope 1 at $DIR/branch.rs:15:16: 15:22\n-                                           // ty::Const\n-                                           // + ty: fn() -> bool {cond}\n-                                           // + val: Value(Scalar(<ZST>))\n+          _3 = cond() -> bb2;              // scope 1 at $DIR/branch.rs:15:16: 15:22\n                                            // mir::Constant\n                                            // + span: $DIR/branch.rs:15:16: 15:20\n                                            // + literal: Const { ty: fn() -> bool {cond}, val: Value(Scalar(<ZST>)) }\n@@ -47,10 +41,7 @@\n   \n       bb3: {\n           StorageLive(_4);                 // scope 1 at $DIR/branch.rs:18:9: 18:14\n-          _4 = const val() -> bb5;         // scope 1 at $DIR/branch.rs:18:9: 18:14\n-                                           // ty::Const\n-                                           // + ty: fn() -> i32 {val}\n-                                           // + val: Value(Scalar(<ZST>))\n+          _4 = val() -> bb5;               // scope 1 at $DIR/branch.rs:18:9: 18:14\n                                            // mir::Constant\n                                            // + span: $DIR/branch.rs:18:9: 18:12\n                                            // + literal: Const { ty: fn() -> i32 {val}, val: Value(Scalar(<ZST>)) }\n@@ -72,12 +63,6 @@\n       bb6: {\n           StorageDead(_3);                 // scope 1 at $DIR/branch.rs:20:6: 20:7\n           _0 = const ();                   // scope 0 at $DIR/branch.rs:12:11: 21:2\n-                                           // ty::Const\n-                                           // + ty: ()\n-                                           // + val: Value(Scalar(<ZST>))\n-                                           // mir::Constant\n-                                           // + span: $DIR/branch.rs:12:11: 21:2\n-                                           // + literal: Const { ty: (), val: Value(Scalar(<ZST>)) }\n -         StorageDead(_2);                 // scope 1 at $DIR/branch.rs:21:1: 21:2\n -         StorageDead(_1);                 // scope 0 at $DIR/branch.rs:21:1: 21:2\n +         nop;                             // scope 1 at $DIR/branch.rs:21:1: 21:2", "previous_filename": "src/test/mir-opt/dest-prop/branch/rustc.main.DestinationPropagation.diff"}, {"sha": "7e0e40671ddb20b46668b2fc56fbc2da9b87d2c1", "filename": "src/test/mir-opt/dest-prop/branch.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fbranch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fbranch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fbranch.rs?ref=665a98d21f926fbd8a89fe2af7c448ff34deadc3", "patch": "@@ -8,7 +8,7 @@ fn cond() -> bool {\n     true\n }\n \n-// EMIT_MIR rustc.main.DestinationPropagation.diff\n+// EMIT_MIR branch.main.DestinationPropagation.diff\n fn main() {\n     let x = val();\n "}, {"sha": "dd717c1b9c324480a9f229d1ba97211f8c18a016", "filename": "src/test/mir-opt/dest-prop/cycle.main.DestinationPropagation.diff", "status": "renamed", "additions": 5, "deletions": 20, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fcycle.main.DestinationPropagation.diff", "raw_url": "https://github.com/rust-lang/rust/raw/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fcycle.main.DestinationPropagation.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fcycle.main.DestinationPropagation.diff?ref=665a98d21f926fbd8a89fe2af7c448ff34deadc3", "patch": "@@ -19,20 +19,17 @@\n -                 debug z => _3;           // in scope 3 at $DIR/cycle.rs:11:9: 11:10\n +                 debug z => _4;           // in scope 3 at $DIR/cycle.rs:11:9: 11:10\n                   scope 4 {\n-                      debug _x => _6;      // in scope 4 at $SRC_DIR/libcore/mem/mod.rs:LL:COL\n+                      debug _x => _6;      // in scope 4 at $SRC_DIR/core/src/mem/mod.rs:LL:COL\n                   }\n               }\n           }\n       }\n   \n       bb0: {\n -         StorageLive(_1);                 // scope 0 at $DIR/cycle.rs:9:9: 9:14\n--         _1 = const val() -> bb1;         // scope 0 at $DIR/cycle.rs:9:17: 9:22\n+-         _1 = val() -> bb1;               // scope 0 at $DIR/cycle.rs:9:17: 9:22\n +         nop;                             // scope 0 at $DIR/cycle.rs:9:9: 9:14\n-+         _4 = const val() -> bb1;         // scope 0 at $DIR/cycle.rs:9:17: 9:22\n-                                           // ty::Const\n-                                           // + ty: fn() -> i32 {val}\n-                                           // + val: Value(Scalar(<ZST>))\n++         _4 = val() -> bb1;               // scope 0 at $DIR/cycle.rs:9:17: 9:22\n                                            // mir::Constant\n                                            // + span: $DIR/cycle.rs:9:17: 9:20\n                                            // + literal: Const { ty: fn() -> i32 {val}, val: Value(Scalar(<ZST>)) }\n@@ -59,26 +56,14 @@\n           StorageLive(_6);                 // scope 3 at $DIR/cycle.rs:14:10: 14:11\n -         _6 = _1;                         // scope 3 at $DIR/cycle.rs:14:10: 14:11\n +         _6 = _4;                         // scope 3 at $DIR/cycle.rs:14:10: 14:11\n-          _5 = const ();                   // scope 4 at $SRC_DIR/libcore/mem/mod.rs:LL:COL\n-                                           // ty::Const\n-                                           // + ty: ()\n-                                           // + val: Value(Scalar(<ZST>))\n-                                           // mir::Constant\n-                                           // + span: $SRC_DIR/libcore/mem/mod.rs:LL:COL\n-                                           // + literal: Const { ty: (), val: Value(Scalar(<ZST>)) }\n-          drop(_6) -> bb2;                 // scope 4 at $SRC_DIR/libcore/mem/mod.rs:LL:COL\n+          _5 = const ();                   // scope 4 at $SRC_DIR/core/src/mem/mod.rs:LL:COL\n+          drop(_6) -> bb2;                 // scope 4 at $SRC_DIR/core/src/mem/mod.rs:LL:COL\n       }\n   \n       bb2: {\n           StorageDead(_6);                 // scope 3 at $DIR/cycle.rs:14:11: 14:12\n           StorageDead(_5);                 // scope 3 at $DIR/cycle.rs:14:12: 14:13\n           _0 = const ();                   // scope 0 at $DIR/cycle.rs:8:11: 15:2\n-                                           // ty::Const\n-                                           // + ty: ()\n-                                           // + val: Value(Scalar(<ZST>))\n-                                           // mir::Constant\n-                                           // + span: $DIR/cycle.rs:8:11: 15:2\n-                                           // + literal: Const { ty: (), val: Value(Scalar(<ZST>)) }\n -         StorageDead(_3);                 // scope 2 at $DIR/cycle.rs:15:1: 15:2\n -         StorageDead(_2);                 // scope 1 at $DIR/cycle.rs:15:1: 15:2\n -         StorageDead(_1);                 // scope 0 at $DIR/cycle.rs:15:1: 15:2", "previous_filename": "src/test/mir-opt/dest-prop/cycle/rustc.main.DestinationPropagation.diff"}, {"sha": "7fbffb13359468922c723b83f91c8b91ad2ecbd0", "filename": "src/test/mir-opt/dest-prop/cycle.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fcycle.rs", "raw_url": "https://github.com/rust-lang/rust/raw/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fcycle.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fcycle.rs?ref=665a98d21f926fbd8a89fe2af7c448ff34deadc3", "patch": "@@ -4,7 +4,7 @@ fn val() -> i32 {\n     1\n }\n \n-// EMIT_MIR rustc.main.DestinationPropagation.diff\n+// EMIT_MIR cycle.main.DestinationPropagation.diff\n fn main() {\n     let mut x = val();\n     let y = x;"}, {"sha": "1277c51f2a050abaf56c8c2694a595fa1c9e0156", "filename": "src/test/mir-opt/dest-prop/simple.nrvo.DestinationPropagation.diff", "status": "renamed", "additions": 8, "deletions": 19, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fsimple.nrvo.DestinationPropagation.diff", "raw_url": "https://github.com/rust-lang/rust/raw/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fsimple.nrvo.DestinationPropagation.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fsimple.nrvo.DestinationPropagation.diff?ref=665a98d21f926fbd8a89fe2af7c448ff34deadc3", "patch": "@@ -16,35 +16,24 @@\n   \n       bb0: {\n -         StorageLive(_2);                 // scope 0 at $DIR/simple.rs:5:9: 5:16\n--         _2 = [const 0u8; 1024];          // scope 0 at $DIR/simple.rs:5:19: 5:28\n+-         _2 = [const 0_u8; 1024];         // scope 0 at $DIR/simple.rs:5:19: 5:28\n +         nop;                             // scope 0 at $DIR/simple.rs:5:9: 5:16\n-+         _0 = [const 0u8; 1024];          // scope 0 at $DIR/simple.rs:5:19: 5:28\n-                                           // ty::Const\n-                                           // + ty: u8\n-                                           // + val: Value(Scalar(0x00))\n-                                           // mir::Constant\n-                                           // + span: $DIR/simple.rs:5:20: 5:21\n-                                           // + literal: Const { ty: u8, val: Value(Scalar(0x00)) }\n++         _0 = [const 0_u8; 1024];         // scope 0 at $DIR/simple.rs:5:19: 5:28\n           StorageLive(_3);                 // scope 1 at $DIR/simple.rs:6:5: 6:19\n           StorageLive(_4);                 // scope 1 at $DIR/simple.rs:6:5: 6:9\n           _4 = _1;                         // scope 1 at $DIR/simple.rs:6:5: 6:9\n--         StorageLive(_5);                 // scope 1 at $DIR/simple.rs:6:10: 6:18\n--         StorageLive(_6);                 // scope 1 at $DIR/simple.rs:6:10: 6:18\n+          StorageLive(_5);                 // scope 1 at $DIR/simple.rs:6:10: 6:18\n+          StorageLive(_6);                 // scope 1 at $DIR/simple.rs:6:10: 6:18\n -         _6 = &mut _2;                    // scope 1 at $DIR/simple.rs:6:10: 6:18\n--         _5 = move _6;                    // scope 1 at $DIR/simple.rs:6:10: 6:18\n-+         nop;                             // scope 1 at $DIR/simple.rs:6:10: 6:18\n-+         nop;                             // scope 1 at $DIR/simple.rs:6:10: 6:18\n-+         _5 = &mut _0;                    // scope 1 at $DIR/simple.rs:6:10: 6:18\n-+         nop;                             // scope 1 at $DIR/simple.rs:6:10: 6:18\n++         _6 = &mut _0;                    // scope 1 at $DIR/simple.rs:6:10: 6:18\n+          _5 = &mut (*_6);                 // scope 1 at $DIR/simple.rs:6:10: 6:18\n           _3 = move _4(move _5) -> bb1;    // scope 1 at $DIR/simple.rs:6:5: 6:19\n       }\n   \n       bb1: {\n--         StorageDead(_5);                 // scope 1 at $DIR/simple.rs:6:18: 6:19\n-+         nop;                             // scope 1 at $DIR/simple.rs:6:18: 6:19\n+          StorageDead(_5);                 // scope 1 at $DIR/simple.rs:6:18: 6:19\n           StorageDead(_4);                 // scope 1 at $DIR/simple.rs:6:18: 6:19\n--         StorageDead(_6);                 // scope 1 at $DIR/simple.rs:6:19: 6:20\n-+         nop;                             // scope 1 at $DIR/simple.rs:6:19: 6:20\n+          StorageDead(_6);                 // scope 1 at $DIR/simple.rs:6:19: 6:20\n           StorageDead(_3);                 // scope 1 at $DIR/simple.rs:6:19: 6:20\n -         _0 = _2;                         // scope 1 at $DIR/simple.rs:7:5: 7:8\n -         StorageDead(_2);                 // scope 0 at $DIR/simple.rs:8:1: 8:2", "previous_filename": "src/test/mir-opt/dest-prop/simple/rustc.nrvo.DestinationPropagation.diff"}, {"sha": "4655f96699874c58b503237fd8272a97d47e4334", "filename": "src/test/mir-opt/dest-prop/simple.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fsimple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fsimple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fsimple.rs?ref=665a98d21f926fbd8a89fe2af7c448ff34deadc3", "patch": "@@ -1,6 +1,6 @@\n //! Copy of `nrvo-simple.rs`, to ensure that full dest-prop handles it too.\n \n-// EMIT_MIR rustc.nrvo.DestinationPropagation.diff\n+// EMIT_MIR simple.nrvo.DestinationPropagation.diff\n fn nrvo(init: fn(&mut [u8; 1024])) -> [u8; 1024] {\n     let mut buf = [0; 1024];\n     init(&mut buf);"}, {"sha": "871f6e35043ec666522dac1599412efb64c41b17", "filename": "src/test/mir-opt/dest-prop/union.main.DestinationPropagation.diff", "status": "renamed", "additions": 4, "deletions": 19, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.main.DestinationPropagation.diff", "raw_url": "https://github.com/rust-lang/rust/raw/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.main.DestinationPropagation.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.main.DestinationPropagation.diff?ref=665a98d21f926fbd8a89fe2af7c448ff34deadc3", "patch": "@@ -12,17 +12,14 @@\n           scope 2 {\n           }\n           scope 3 {\n-              debug _x => _4;              // in scope 3 at $SRC_DIR/libcore/mem/mod.rs:LL:COL\n+              debug _x => _4;              // in scope 3 at $SRC_DIR/core/src/mem/mod.rs:LL:COL\n           }\n       }\n   \n       bb0: {\n           StorageLive(_1);                 // scope 0 at $DIR/union.rs:13:9: 13:11\n           StorageLive(_2);                 // scope 0 at $DIR/union.rs:13:23: 13:28\n-          _2 = const val() -> bb1;         // scope 0 at $DIR/union.rs:13:23: 13:28\n-                                           // ty::Const\n-                                           // + ty: fn() -> u32 {val}\n-                                           // + val: Value(Scalar(<ZST>))\n+          _2 = val() -> bb1;               // scope 0 at $DIR/union.rs:13:23: 13:28\n                                            // mir::Constant\n                                            // + span: $DIR/union.rs:13:23: 13:26\n                                            // + literal: Const { ty: fn() -> u32 {val}, val: Value(Scalar(<ZST>)) }\n@@ -34,26 +31,14 @@\n           StorageLive(_3);                 // scope 1 at $DIR/union.rs:15:5: 15:27\n           StorageLive(_4);                 // scope 1 at $DIR/union.rs:15:10: 15:26\n           _4 = (_1.0: u32);                // scope 2 at $DIR/union.rs:15:19: 15:24\n-          _3 = const ();                   // scope 3 at $SRC_DIR/libcore/mem/mod.rs:LL:COL\n-                                           // ty::Const\n-                                           // + ty: ()\n-                                           // + val: Value(Scalar(<ZST>))\n-                                           // mir::Constant\n-                                           // + span: $SRC_DIR/libcore/mem/mod.rs:LL:COL\n-                                           // + literal: Const { ty: (), val: Value(Scalar(<ZST>)) }\n-          drop(_4) -> bb2;                 // scope 3 at $SRC_DIR/libcore/mem/mod.rs:LL:COL\n+          _3 = const ();                   // scope 3 at $SRC_DIR/core/src/mem/mod.rs:LL:COL\n+          drop(_4) -> bb2;                 // scope 3 at $SRC_DIR/core/src/mem/mod.rs:LL:COL\n       }\n   \n       bb2: {\n           StorageDead(_4);                 // scope 1 at $DIR/union.rs:15:26: 15:27\n           StorageDead(_3);                 // scope 1 at $DIR/union.rs:15:27: 15:28\n           _0 = const ();                   // scope 0 at $DIR/union.rs:8:11: 16:2\n-                                           // ty::Const\n-                                           // + ty: ()\n-                                           // + val: Value(Scalar(<ZST>))\n-                                           // mir::Constant\n-                                           // + span: $DIR/union.rs:8:11: 16:2\n-                                           // + literal: Const { ty: (), val: Value(Scalar(<ZST>)) }\n           StorageDead(_1);                 // scope 0 at $DIR/union.rs:16:1: 16:2\n           return;                          // scope 0 at $DIR/union.rs:16:2: 16:2\n       }", "previous_filename": "src/test/mir-opt/dest-prop/union/rustc.main.DestinationPropagation.diff"}, {"sha": "b9d831389e8b3ae62ce3db76f42ccb95b3bc89c5", "filename": "src/test/mir-opt/dest-prop/union.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.rs", "raw_url": "https://github.com/rust-lang/rust/raw/665a98d21f926fbd8a89fe2af7c448ff34deadc3/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.rs?ref=665a98d21f926fbd8a89fe2af7c448ff34deadc3", "patch": "@@ -4,7 +4,7 @@ fn val() -> u32 {\n     1\n }\n \n-// EMIT_MIR rustc.main.DestinationPropagation.diff\n+// EMIT_MIR union.main.DestinationPropagation.diff\n fn main() {\n     union Un {\n         us: u32,"}]}