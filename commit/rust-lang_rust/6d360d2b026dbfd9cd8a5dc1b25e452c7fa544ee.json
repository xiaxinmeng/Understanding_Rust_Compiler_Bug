{"sha": "6d360d2b026dbfd9cd8a5dc1b25e452c7fa544ee", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZkMzYwZDJiMDI2ZGJmZDljZDhhNWRjMWIyNWU0NTJjN2ZhNTQ0ZWU=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-26T23:45:00Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-26T23:45:02Z"}, "message": "tutorial: Fix types in gettimeofday example. Closes #1657", "tree": {"sha": "43aecc9e8fdea6340426cf64b5e68c020925104d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/43aecc9e8fdea6340426cf64b5e68c020925104d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6d360d2b026dbfd9cd8a5dc1b25e452c7fa544ee", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6d360d2b026dbfd9cd8a5dc1b25e452c7fa544ee", "html_url": "https://github.com/rust-lang/rust/commit/6d360d2b026dbfd9cd8a5dc1b25e452c7fa544ee", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6d360d2b026dbfd9cd8a5dc1b25e452c7fa544ee/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5e250b695113c87e2183bb3b03160ae02fd748d1", "url": "https://api.github.com/repos/rust-lang/rust/commits/5e250b695113c87e2183bb3b03160ae02fd748d1", "html_url": "https://github.com/rust-lang/rust/commit/5e250b695113c87e2183bb3b03160ae02fd748d1"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "9a955f8a8b8352f6873f4266729637acbb4744d9", "filename": "doc/tutorial.md", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/6d360d2b026dbfd9cd8a5dc1b25e452c7fa544ee/doc%2Ftutorial.md", "raw_url": "https://github.com/rust-lang/rust/raw/6d360d2b026dbfd9cd8a5dc1b25e452c7fa544ee/doc%2Ftutorial.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Ftutorial.md?ref=6d360d2b026dbfd9cd8a5dc1b25e452c7fa544ee", "patch": "@@ -2334,17 +2334,19 @@ microsecond-resolution timer.\n \n ~~~~\n use std;\n-type timeval = {mutable tv_sec: u32,\n-                mutable tv_usec: u32};\n+type timeval = {mutable tv_sec: uint,\n+                mutable tv_usec: uint};\n #[nolink]\n native mod libc {\n     fn gettimeofday(tv: *timeval, tz: *()) -> i32;\n }\n fn unix_time_in_microseconds() -> u64 unsafe {\n-    let x = {mutable tv_sec: 0u32, mutable tv_usec: 0u32};\n+    let x = {mutable tv_sec: 0u, mutable tv_usec: 0u};\n     libc::gettimeofday(ptr::addr_of(x), ptr::null());\n     ret (x.tv_sec as u64) * 1000_000_u64 + (x.tv_usec as u64);\n }\n+\n+# fn main() { assert #fmt(\"%?\", unix_time_in_microseconds()) != \"\"; }\n ~~~~\n \n The `#[nolink]` attribute indicates that there's no native library to link"}]}