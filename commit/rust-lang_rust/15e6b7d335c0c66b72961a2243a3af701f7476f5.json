{"sha": "15e6b7d335c0c66b72961a2243a3af701f7476f5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE1ZTZiN2QzMzVjMGM2NmI3Mjk2MWEyMjQzYTNhZjcwMWY3NDc2ZjU=", "commit": {"author": {"name": "Utkarsh Kukreti", "email": "utkarshkukreti@gmail.com", "date": "2015-12-28T11:53:34Z"}, "committer": {"name": "Utkarsh Kukreti", "email": "utkarshkukreti@gmail.com", "date": "2015-12-28T11:53:34Z"}, "message": "Add tests for #606.", "tree": {"sha": "b8098049ea2c80f3db66d70ba3b57f5a96f741f1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b8098049ea2c80f3db66d70ba3b57f5a96f741f1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/15e6b7d335c0c66b72961a2243a3af701f7476f5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/15e6b7d335c0c66b72961a2243a3af701f7476f5", "html_url": "https://github.com/rust-lang/rust/commit/15e6b7d335c0c66b72961a2243a3af701f7476f5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/15e6b7d335c0c66b72961a2243a3af701f7476f5/comments", "author": {"login": "utkarshkukreti", "id": 217126, "node_id": "MDQ6VXNlcjIxNzEyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/217126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/utkarshkukreti", "html_url": "https://github.com/utkarshkukreti", "followers_url": "https://api.github.com/users/utkarshkukreti/followers", "following_url": "https://api.github.com/users/utkarshkukreti/following{/other_user}", "gists_url": "https://api.github.com/users/utkarshkukreti/gists{/gist_id}", "starred_url": "https://api.github.com/users/utkarshkukreti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/utkarshkukreti/subscriptions", "organizations_url": "https://api.github.com/users/utkarshkukreti/orgs", "repos_url": "https://api.github.com/users/utkarshkukreti/repos", "events_url": "https://api.github.com/users/utkarshkukreti/events{/privacy}", "received_events_url": "https://api.github.com/users/utkarshkukreti/received_events", "type": "User", "site_admin": false}, "committer": {"login": "utkarshkukreti", "id": 217126, "node_id": "MDQ6VXNlcjIxNzEyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/217126?v=4", "gravatar_id": "", "url": "https://api.github.com/users/utkarshkukreti", "html_url": "https://github.com/utkarshkukreti", "followers_url": "https://api.github.com/users/utkarshkukreti/followers", "following_url": "https://api.github.com/users/utkarshkukreti/following{/other_user}", "gists_url": "https://api.github.com/users/utkarshkukreti/gists{/gist_id}", "starred_url": "https://api.github.com/users/utkarshkukreti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/utkarshkukreti/subscriptions", "organizations_url": "https://api.github.com/users/utkarshkukreti/orgs", "repos_url": "https://api.github.com/users/utkarshkukreti/repos", "events_url": "https://api.github.com/users/utkarshkukreti/events{/privacy}", "received_events_url": "https://api.github.com/users/utkarshkukreti/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6a12818c23d71b329fc36088c5722cd0223d5c07", "url": "https://api.github.com/repos/rust-lang/rust/commits/6a12818c23d71b329fc36088c5722cd0223d5c07", "html_url": "https://github.com/rust-lang/rust/commit/6a12818c23d71b329fc36088c5722cd0223d5c07"}], "stats": {"total": 16, "additions": 16, "deletions": 0}, "files": [{"sha": "4bb858a6b3079049ddb11b931e5e4df9e3c46cd3", "filename": "src/rustfmt_diff.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/15e6b7d335c0c66b72961a2243a3af701f7476f5/src%2Frustfmt_diff.rs", "raw_url": "https://github.com/rust-lang/rust/raw/15e6b7d335c0c66b72961a2243a3af701f7476f5/src%2Frustfmt_diff.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustfmt_diff.rs?ref=15e6b7d335c0c66b72961a2243a3af701f7476f5", "patch": "@@ -2,12 +2,14 @@ use std::collections::VecDeque;\n use diff;\n use term;\n \n+#[derive(Debug, PartialEq)]\n pub enum DiffLine {\n     Context(String),\n     Expected(String),\n     Resulting(String),\n }\n \n+#[derive(Debug, PartialEq)]\n pub struct Mismatch {\n     pub line_number: u32,\n     pub lines: Vec<DiffLine>,"}, {"sha": "d6f1ba806f53d8a2699e3cd441617fce6ef2fb1b", "filename": "tests/system.rs", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/15e6b7d335c0c66b72961a2243a3af701f7476f5/tests%2Fsystem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/15e6b7d335c0c66b72961a2243a3af701f7476f5/tests%2Fsystem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsystem.rs?ref=15e6b7d335c0c66b72961a2243a3af701f7476f5", "patch": "@@ -273,3 +273,17 @@ fn get_target(file_name: &str, target: Option<&str>, write_mode: WriteMode) -> S\n         file_name.to_owned()\n     }\n }\n+\n+#[test]\n+fn rustfmt_diff_make_diff_tests() {\n+    let diff = make_diff(\"a\\nb\\nc\\nd\", \"a\\ne\\nc\\nd\", 3);\n+    assert_eq!(diff,\n+               vec![Mismatch {\n+                        line_number: 1,\n+                        lines: vec![DiffLine::Context(\"a\".into()),\n+                                    DiffLine::Resulting(\"b\".into()),\n+                                    DiffLine::Expected(\"e\".into()),\n+                                    DiffLine::Context(\"c\".into()),\n+                                    DiffLine::Context(\"d\".into())],\n+                    }]);\n+}"}]}