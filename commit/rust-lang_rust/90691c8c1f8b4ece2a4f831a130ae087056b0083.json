{"sha": "90691c8c1f8b4ece2a4f831a130ae087056b0083", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkwNjkxYzhjMWY4YjRlY2UyYTRmODMxYTEzMGFlMDg3MDU2YjAwODM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-10-17T00:34:32Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2017-10-17T00:34:32Z"}, "message": "Auto merge of #45138 - johnthagen:future_imports, r=nikomatsakis\n\nAdd more __future__ imports to increase compatibility with Python 3 in bootstrap\n\nThe functionality of the  `__future__` imports are described [here](https://docs.python.org/3/library/__future__.html).\n\n These will help ensure the bootstrap code stays compatible with Python 3. If changes are made in the future that use absolute imports, division, or the `print` function, this will be ensure that running it under Python 2 will pass or fail the same way as Python 3.\n\n`Option` is made a [new-style class](https://docs.python.org/2/reference/datamodel.html#new-style-and-classic-classes), so that it behaves the same way in Python 2 and 3.\n\nThe `__future__ unicode_literals` import is not used, because that can change the semantics of the code in Python 2 in unwanted ways. For more information see [this article](http://python-future.org/unicode_literals.html).", "tree": {"sha": "900923f73be49d980752485af4cc8f456796931e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/900923f73be49d980752485af4cc8f456796931e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/90691c8c1f8b4ece2a4f831a130ae087056b0083", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/90691c8c1f8b4ece2a4f831a130ae087056b0083", "html_url": "https://github.com/rust-lang/rust/commit/90691c8c1f8b4ece2a4f831a130ae087056b0083", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/90691c8c1f8b4ece2a4f831a130ae087056b0083/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5618aba38058dc700437b74cca52d139db1b337c", "url": "https://api.github.com/repos/rust-lang/rust/commits/5618aba38058dc700437b74cca52d139db1b337c", "html_url": "https://github.com/rust-lang/rust/commit/5618aba38058dc700437b74cca52d139db1b337c"}, {"sha": "bd8497884c2863a10b6d67855bd90d40783ce2da", "url": "https://api.github.com/repos/rust-lang/rust/commits/bd8497884c2863a10b6d67855bd90d40783ce2da", "html_url": "https://github.com/rust-lang/rust/commit/bd8497884c2863a10b6d67855bd90d40783ce2da"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "842144ff1ea00cbe24ca9b33c308ad72508d5ece", "filename": "src/bootstrap/bootstrap.py", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/90691c8c1f8b4ece2a4f831a130ae087056b0083/src%2Fbootstrap%2Fbootstrap.py", "raw_url": "https://github.com/rust-lang/rust/raw/90691c8c1f8b4ece2a4f831a130ae087056b0083/src%2Fbootstrap%2Fbootstrap.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap.py?ref=90691c8c1f8b4ece2a4f831a130ae087056b0083", "patch": "@@ -8,7 +8,7 @@\n # option. This file may not be copied, modified, or distributed\n # except according to those terms.\n \n-from __future__ import print_function\n+from __future__ import absolute_import, division, print_function\n import argparse\n import contextlib\n import datetime"}, {"sha": "4db7e2ec016f0c5ef145ba850a3f0bc86cd9c8e9", "filename": "src/bootstrap/bootstrap_test.py", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/90691c8c1f8b4ece2a4f831a130ae087056b0083/src%2Fbootstrap%2Fbootstrap_test.py", "raw_url": "https://github.com/rust-lang/rust/raw/90691c8c1f8b4ece2a4f831a130ae087056b0083/src%2Fbootstrap%2Fbootstrap_test.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap_test.py?ref=90691c8c1f8b4ece2a4f831a130ae087056b0083", "patch": "@@ -10,6 +10,7 @@\n \n \"\"\"Bootstrap tests\"\"\"\n \n+from __future__ import absolute_import, division, print_function\n import os\n import doctest\n import unittest"}, {"sha": "42425a164a20ef3f2335aa304f9fef6aee6d1eef", "filename": "src/bootstrap/configure.py", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/90691c8c1f8b4ece2a4f831a130ae087056b0083/src%2Fbootstrap%2Fconfigure.py", "raw_url": "https://github.com/rust-lang/rust/raw/90691c8c1f8b4ece2a4f831a130ae087056b0083/src%2Fbootstrap%2Fconfigure.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfigure.py?ref=90691c8c1f8b4ece2a4f831a130ae087056b0083", "patch": "@@ -11,6 +11,7 @@\n \n # ignore-tidy-linelength\n \n+from __future__ import absolute_import, division, print_function\n import sys\n import os\n rust_dir = os.path.dirname(os.path.abspath(__file__))\n@@ -20,7 +21,7 @@\n import bootstrap\n \n \n-class Option:\n+class Option(object):\n     def __init__(self, name, rustbuild, desc, value):\n         self.name = name\n         self.rustbuild = rustbuild"}]}