{"sha": "69913e65f36fa654f5c496990867b3c290ea671c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY5OTEzZTY1ZjM2ZmE2NTRmNWM0OTY5OTA4NjdiM2MyOTBlYTY3MWM=", "commit": {"author": {"name": "Martin Carton", "email": "cartonmartin+github@gmail.com", "date": "2016-04-03T15:27:15Z"}, "committer": {"name": "Martin Carton", "email": "cartonmartin+github@gmail.com", "date": "2016-04-03T15:27:15Z"}, "message": "Merge pull request #833 from mcarton/rustup\n\nRustup to 1.9.0-nightly (5ab11d72c 2016-04-02)", "tree": {"sha": "d0200ef920014967650bd82f4c46769afec2e771", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d0200ef920014967650bd82f4c46769afec2e771"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/69913e65f36fa654f5c496990867b3c290ea671c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/69913e65f36fa654f5c496990867b3c290ea671c", "html_url": "https://github.com/rust-lang/rust/commit/69913e65f36fa654f5c496990867b3c290ea671c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/69913e65f36fa654f5c496990867b3c290ea671c/comments", "author": {"login": "mcarton", "id": 3751788, "node_id": "MDQ6VXNlcjM3NTE3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/3751788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcarton", "html_url": "https://github.com/mcarton", "followers_url": "https://api.github.com/users/mcarton/followers", "following_url": "https://api.github.com/users/mcarton/following{/other_user}", "gists_url": "https://api.github.com/users/mcarton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcarton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcarton/subscriptions", "organizations_url": "https://api.github.com/users/mcarton/orgs", "repos_url": "https://api.github.com/users/mcarton/repos", "events_url": "https://api.github.com/users/mcarton/events{/privacy}", "received_events_url": "https://api.github.com/users/mcarton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mcarton", "id": 3751788, "node_id": "MDQ6VXNlcjM3NTE3ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/3751788?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mcarton", "html_url": "https://github.com/mcarton", "followers_url": "https://api.github.com/users/mcarton/followers", "following_url": "https://api.github.com/users/mcarton/following{/other_user}", "gists_url": "https://api.github.com/users/mcarton/gists{/gist_id}", "starred_url": "https://api.github.com/users/mcarton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mcarton/subscriptions", "organizations_url": "https://api.github.com/users/mcarton/orgs", "repos_url": "https://api.github.com/users/mcarton/repos", "events_url": "https://api.github.com/users/mcarton/events{/privacy}", "received_events_url": "https://api.github.com/users/mcarton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "35d98915dc1837c6e39120c77b89102aaa1868ce", "url": "https://api.github.com/repos/rust-lang/rust/commits/35d98915dc1837c6e39120c77b89102aaa1868ce", "html_url": "https://github.com/rust-lang/rust/commit/35d98915dc1837c6e39120c77b89102aaa1868ce"}, {"sha": "67fb0e17c14ab42072b151c5b7af28bf338cd4e4", "url": "https://api.github.com/repos/rust-lang/rust/commits/67fb0e17c14ab42072b151c5b7af28bf338cd4e4", "html_url": "https://github.com/rust-lang/rust/commit/67fb0e17c14ab42072b151c5b7af28bf338cd4e4"}], "stats": {"total": 24, "additions": 12, "deletions": 12}, "files": [{"sha": "dbdc233cc70033c8a15b2fd5a1599a1606fa905c", "filename": "Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/69913e65f36fa654f5c496990867b3c290ea671c/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/69913e65f36fa654f5c496990867b3c290ea671c/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=69913e65f36fa654f5c496990867b3c290ea671c", "patch": "@@ -1,6 +1,6 @@\n [package]\n name = \"clippy\"\n-version = \"0.0.60\"\n+version = \"0.0.61\"\n authors = [\n \t\"Manish Goregaokar <manishsmail@gmail.com>\",\n \t\"Andre Bogus <bogusandre@gmail.com>\","}, {"sha": "ca5acc6895fa285060918ddb6e3057050b01b3b1", "filename": "src/cyclomatic_complexity.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/69913e65f36fa654f5c496990867b3c290ea671c/src%2Fcyclomatic_complexity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/69913e65f36fa654f5c496990867b3c290ea671c/src%2Fcyclomatic_complexity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcyclomatic_complexity.rs?ref=69913e65f36fa654f5c496990867b3c290ea671c", "patch": "@@ -149,14 +149,14 @@ impl<'a, 'b, 'tcx> Visitor<'a> for CCHelper<'b, 'tcx> {\n }\n \n #[cfg(feature=\"debugging\")]\n-fn report_cc_bug(cx: &LateContext, cc: u64, narms: u64, div: u64, shorts: u64, span: Span) {\n-    cx.sess().span_bug(span,\n-                       &format!(\"Clippy encountered a bug calculating cyclomatic complexity: cc = {}, arms = {}, \\\n-                                 div = {}, shorts = {}. Please file a bug report.\",\n-                                cc,\n-                                narms,\n-                                div,\n-                                shorts));;\n+fn report_cc_bug(_: &LateContext, cc: u64, narms: u64, div: u64, shorts: u64, span: Span) {\n+    span_bug!(span,\n+              \"Clippy encountered a bug calculating cyclomatic complexity: cc = {}, arms = {}, \\\n+               div = {}, shorts = {}. Please file a bug report.\",\n+               cc,\n+               narms,\n+               div,\n+               shorts);\n }\n #[cfg(not(feature=\"debugging\"))]\n fn report_cc_bug(cx: &LateContext, cc: u64, narms: u64, div: u64, shorts: u64, span: Span) {"}, {"sha": "98500bf62f016ba78178409d95c69eeada040c18", "filename": "src/escape.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/69913e65f36fa654f5c496990867b3c290ea671c/src%2Fescape.rs", "raw_url": "https://github.com/rust-lang/rust/raw/69913e65f36fa654f5c496990867b3c290ea671c/src%2Fescape.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fescape.rs?ref=69913e65f36fa654f5c496990867b3c290ea671c", "patch": "@@ -144,7 +144,7 @@ impl<'a, 'tcx: 'a> Delegate<'tcx> for EscapeDelegate<'a, 'tcx> {\n                             self.set.remove(&lid); // Used without autodereffing (i.e. x.clone())\n                         }\n                     } else {\n-                        self.cx.sess().span_bug(cmt.span, \"Unknown adjusted AutoRef\");\n+                        span_bug!(cmt.span, \"Unknown adjusted AutoRef\");\n                     }\n                 } else if LoanCause::AddrOf == loan_cause {\n                     // &x"}, {"sha": "f1499f7fb94fff47617e004685abb14c4e1ce4b8", "filename": "src/matches.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/69913e65f36fa654f5c496990867b3c290ea671c/src%2Fmatches.rs", "raw_url": "https://github.com/rust-lang/rust/raw/69913e65f36fa654f5c496990867b3c290ea671c/src%2Fmatches.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmatches.rs?ref=69913e65f36fa654f5c496990867b3c290ea671c", "patch": "@@ -415,8 +415,8 @@ fn match_template(cx: &LateContext, span: Span, source: MatchSource, op: &str, e\n         MatchSource::Normal => format!(\"match {}{} {{ .. }}\", op, expr_snippet),\n         MatchSource::IfLetDesugar { .. } => format!(\"if let .. = {}{} {{ .. }}\", op, expr_snippet),\n         MatchSource::WhileLetDesugar => format!(\"while let .. = {}{} {{ .. }}\", op, expr_snippet),\n-        MatchSource::ForLoopDesugar => cx.sess().span_bug(span, \"for loop desugared to match with &-patterns!\"),\n-        MatchSource::TryDesugar => cx.sess().span_bug(span, \"`?` operator desugared to match with &-patterns!\")\n+        MatchSource::ForLoopDesugar => span_bug!(span, \"for loop desugared to match with &-patterns!\"),\n+        MatchSource::TryDesugar => span_bug!(span, \"`?` operator desugared to match with &-patterns!\")\n     }\n }\n "}]}