{"sha": "73b075c5562f351b84b6c96b7852547c7b50a1ef", "node_id": "MDY6Q29tbWl0NzI0NzEyOjczYjA3NWM1NTYyZjM1MWI4NGI2Yzk2Yjc4NTI1NDdjN2I1MGExZWY=", "commit": {"author": {"name": "DJMcNab", "email": "36049421+DJMcNab@users.noreply.github.com", "date": "2019-01-27T14:55:03Z"}, "committer": {"name": "DJMcNab", "email": "36049421+DJMcNab@users.noreply.github.com", "date": "2019-01-27T14:55:03Z"}, "message": "Correctly parse inner attributes of impl blocks", "tree": {"sha": "a3c50faa7628d0800fbe5b98891320b8a36e5914", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a3c50faa7628d0800fbe5b98891320b8a36e5914"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/73b075c5562f351b84b6c96b7852547c7b50a1ef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/73b075c5562f351b84b6c96b7852547c7b50a1ef", "html_url": "https://github.com/rust-lang/rust/commit/73b075c5562f351b84b6c96b7852547c7b50a1ef", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/73b075c5562f351b84b6c96b7852547c7b50a1ef/comments", "author": {"login": "DJMcNab", "id": 36049421, "node_id": "MDQ6VXNlcjM2MDQ5NDIx", "avatar_url": "https://avatars.githubusercontent.com/u/36049421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DJMcNab", "html_url": "https://github.com/DJMcNab", "followers_url": "https://api.github.com/users/DJMcNab/followers", "following_url": "https://api.github.com/users/DJMcNab/following{/other_user}", "gists_url": "https://api.github.com/users/DJMcNab/gists{/gist_id}", "starred_url": "https://api.github.com/users/DJMcNab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DJMcNab/subscriptions", "organizations_url": "https://api.github.com/users/DJMcNab/orgs", "repos_url": "https://api.github.com/users/DJMcNab/repos", "events_url": "https://api.github.com/users/DJMcNab/events{/privacy}", "received_events_url": "https://api.github.com/users/DJMcNab/received_events", "type": "User", "site_admin": false}, "committer": {"login": "DJMcNab", "id": 36049421, "node_id": "MDQ6VXNlcjM2MDQ5NDIx", "avatar_url": "https://avatars.githubusercontent.com/u/36049421?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DJMcNab", "html_url": "https://github.com/DJMcNab", "followers_url": "https://api.github.com/users/DJMcNab/followers", "following_url": "https://api.github.com/users/DJMcNab/following{/other_user}", "gists_url": "https://api.github.com/users/DJMcNab/gists{/gist_id}", "starred_url": "https://api.github.com/users/DJMcNab/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DJMcNab/subscriptions", "organizations_url": "https://api.github.com/users/DJMcNab/orgs", "repos_url": "https://api.github.com/users/DJMcNab/repos", "events_url": "https://api.github.com/users/DJMcNab/events{/privacy}", "received_events_url": "https://api.github.com/users/DJMcNab/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "964086e0d4874d7e60eb3607220e486ec4b51f86", "url": "https://api.github.com/repos/rust-lang/rust/commits/964086e0d4874d7e60eb3607220e486ec4b51f86", "html_url": "https://github.com/rust-lang/rust/commit/964086e0d4874d7e60eb3607220e486ec4b51f86"}], "stats": {"total": 50, "additions": 50, "deletions": 0}, "files": [{"sha": "d5a8ccd98e2b636da839e898cafd27586054d5eb", "filename": "crates/ra_syntax/src/grammar/items/traits.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/73b075c5562f351b84b6c96b7852547c7b50a1ef/crates%2Fra_syntax%2Fsrc%2Fgrammar%2Fitems%2Ftraits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/73b075c5562f351b84b6c96b7852547c7b50a1ef/crates%2Fra_syntax%2Fsrc%2Fgrammar%2Fitems%2Ftraits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fgrammar%2Fitems%2Ftraits.rs?ref=73b075c5562f351b84b6c96b7852547c7b50a1ef", "patch": "@@ -78,6 +78,13 @@ pub(crate) fn impl_item_list(p: &mut Parser) {\n     assert!(p.at(L_CURLY));\n     let m = p.start();\n     p.bump();\n+    // test impl_inner_attributes\n+    // enum F{}\n+    // impl F {\n+    //      //! This is a doc comment\n+    //      #![doc(\"This is also a doc comment\")]\n+    // }\n+    attributes::inner_attributes(p);\n \n     while !p.at(EOF) && !p.at(R_CURLY) {\n         if p.at(L_CURLY) {"}, {"sha": "4d68cceb710ebb1b920d839f3efa958d66e4bbd9", "filename": "crates/ra_syntax/tests/data/parser/inline/ok/0118_impl_inner_attributes.rs", "status": "added", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/73b075c5562f351b84b6c96b7852547c7b50a1ef/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/73b075c5562f351b84b6c96b7852547c7b50a1ef/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.rs?ref=73b075c5562f351b84b6c96b7852547c7b50a1ef", "patch": "@@ -0,0 +1,5 @@\n+enum F{}\n+impl F {\n+     //! This is a doc comment\n+     #![doc(\"This is also a doc comment\")]\n+}"}, {"sha": "3b761b7bb721bd37889b91dfeead97bd119f930e", "filename": "crates/ra_syntax/tests/data/parser/inline/ok/0118_impl_inner_attributes.txt", "status": "added", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/73b075c5562f351b84b6c96b7852547c7b50a1ef/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.txt", "raw_url": "https://github.com/rust-lang/rust/raw/73b075c5562f351b84b6c96b7852547c7b50a1ef/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.txt?ref=73b075c5562f351b84b6c96b7852547c7b50a1ef", "patch": "@@ -0,0 +1,38 @@\n+SOURCE_FILE@[0; 94)\n+  ENUM_DEF@[0; 8)\n+    ENUM_KW@[0; 4)\n+    WHITESPACE@[4; 5)\n+    NAME@[5; 6)\n+      IDENT@[5; 6) \"F\"\n+    ENUM_VARIANT_LIST@[6; 8)\n+      L_CURLY@[6; 7)\n+      R_CURLY@[7; 8)\n+  WHITESPACE@[8; 9)\n+  IMPL_BLOCK@[9; 93)\n+    IMPL_KW@[9; 13)\n+    WHITESPACE@[13; 14)\n+    PATH_TYPE@[14; 15)\n+      PATH@[14; 15)\n+        PATH_SEGMENT@[14; 15)\n+          NAME_REF@[14; 15)\n+            IDENT@[14; 15) \"F\"\n+    WHITESPACE@[15; 16)\n+    ITEM_LIST@[16; 93)\n+      L_CURLY@[16; 17)\n+      WHITESPACE@[17; 23)\n+      COMMENT@[23; 48)\n+      WHITESPACE@[48; 54)\n+      ATTR@[54; 91)\n+        POUND@[54; 55)\n+        EXCL@[55; 56)\n+        TOKEN_TREE@[56; 91)\n+          L_BRACK@[56; 57)\n+          IDENT@[57; 60) \"doc\"\n+          TOKEN_TREE@[60; 90)\n+            L_PAREN@[60; 61)\n+            STRING@[61; 89)\n+            R_PAREN@[89; 90)\n+          R_BRACK@[90; 91)\n+      WHITESPACE@[91; 92)\n+      R_CURLY@[92; 93)\n+  WHITESPACE@[93; 94)"}]}