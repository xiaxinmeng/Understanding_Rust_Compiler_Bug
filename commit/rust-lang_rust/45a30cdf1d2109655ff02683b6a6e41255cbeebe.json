{"sha": "45a30cdf1d2109655ff02683b6a6e41255cbeebe", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ1YTMwY2RmMWQyMTA5NjU1ZmYwMjY4M2I2YTZlNDEyNTVjYmVlYmU=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-02-28T19:58:09Z"}, "committer": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-03-03T09:22:05Z"}, "message": "Update tests", "tree": {"sha": "5492628c72f2fada412c7b7b9f7fc07ed7ca7a49", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5492628c72f2fada412c7b7b9f7fc07ed7ca7a49"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/45a30cdf1d2109655ff02683b6a6e41255cbeebe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/45a30cdf1d2109655ff02683b6a6e41255cbeebe", "html_url": "https://github.com/rust-lang/rust/commit/45a30cdf1d2109655ff02683b6a6e41255cbeebe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/45a30cdf1d2109655ff02683b6a6e41255cbeebe/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "321d90e1d659c502ad633575866e6d972cf0cc5e", "url": "https://api.github.com/repos/rust-lang/rust/commits/321d90e1d659c502ad633575866e6d972cf0cc5e", "html_url": "https://github.com/rust-lang/rust/commit/321d90e1d659c502ad633575866e6d972cf0cc5e"}], "stats": {"total": 102, "additions": 11, "deletions": 91}, "files": [{"sha": "db9ac4af629c983dc0f10cf818ca4c9e49a2c478", "filename": "src/test/debuginfo/no-debug-attribute.rs", "status": "removed", "additions": 0, "deletions": 37, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/321d90e1d659c502ad633575866e6d972cf0cc5e/src%2Ftest%2Fdebuginfo%2Fno-debug-attribute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/321d90e1d659c502ad633575866e6d972cf0cc5e/src%2Ftest%2Fdebuginfo%2Fno-debug-attribute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fno-debug-attribute.rs?ref=321d90e1d659c502ad633575866e6d972cf0cc5e", "patch": "@@ -1,37 +0,0 @@\n-// ignore-lldb\n-\n-// compile-flags:-g\n-\n-// gdb-command:run\n-\n-// gdb-command:info locals\n-// gdb-check:No locals.\n-// gdb-command:continue\n-\n-// gdb-command:info locals\n-// gdb-check:abc = 10\n-// gdb-command:continue\n-\n-#![allow(unused_variables)]\n-#![feature(no_debug)]\n-#![feature(omit_gdb_pretty_printer_section)]\n-#![omit_gdb_pretty_printer_section]\n-\n-#[inline(never)]\n-fn id<T>(x: T) -> T {x}\n-\n-fn function_with_debuginfo() {\n-    let abc = 10_usize;\n-    id(abc); // #break\n-}\n-\n-#[no_debug]\n-fn function_without_debuginfo() {\n-    let abc = -57i32;\n-    id(abc); // #break\n-}\n-\n-fn main() {\n-    function_without_debuginfo();\n-    function_with_debuginfo();\n-}"}, {"sha": "b399bd2cc0f8d1cc2ee5fb1b6b137a8a3e1676cc", "filename": "src/test/ui/feature-gates/feature-gate-no-debug-2.rs", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/321d90e1d659c502ad633575866e6d972cf0cc5e/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/321d90e1d659c502ad633575866e6d972cf0cc5e/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug-2.rs?ref=321d90e1d659c502ad633575866e6d972cf0cc5e", "patch": "@@ -1,5 +0,0 @@\n-#![deny(deprecated)]\n-#![feature(no_debug)]\n-\n-#[no_debug] //~ ERROR use of deprecated attribute `no_debug`\n-fn main() {}"}, {"sha": "9a6f898f2a5a8ce508ad9f107840e9dcffcc28fc", "filename": "src/test/ui/feature-gates/feature-gate-no-debug-2.stderr", "status": "removed", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/321d90e1d659c502ad633575866e6d972cf0cc5e/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/321d90e1d659c502ad633575866e6d972cf0cc5e/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug-2.stderr?ref=321d90e1d659c502ad633575866e6d972cf0cc5e", "patch": "@@ -1,14 +0,0 @@\n-error: use of deprecated attribute `no_debug`: the `#[no_debug]` attribute was an experimental feature that has been deprecated due to lack of demand. See https://github.com/rust-lang/rust/issues/29721\n-  --> $DIR/feature-gate-no-debug-2.rs:4:1\n-   |\n-LL | #[no_debug]\n-   | ^^^^^^^^^^^ help: remove this attribute\n-   |\n-note: the lint level is defined here\n-  --> $DIR/feature-gate-no-debug-2.rs:1:9\n-   |\n-LL | #![deny(deprecated)]\n-   |         ^^^^^^^^^^\n-\n-error: aborting due to previous error\n-"}, {"sha": "a472c4c7663f573ffdf16e26ae302ed61cc34b57", "filename": "src/test/ui/feature-gates/feature-gate-no-debug.rs", "status": "removed", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/321d90e1d659c502ad633575866e6d972cf0cc5e/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug.rs", "raw_url": "https://github.com/rust-lang/rust/raw/321d90e1d659c502ad633575866e6d972cf0cc5e/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug.rs?ref=321d90e1d659c502ad633575866e6d972cf0cc5e", "patch": "@@ -1,4 +0,0 @@\n-#![allow(deprecated)]\n-\n-#[no_debug] //~ ERROR the `#[no_debug]` attribute was\n-fn main() {}"}, {"sha": "e146d643bcbe309b246bffb4a4323fef6e3d6b0d", "filename": "src/test/ui/feature-gates/feature-gate-no-debug.stderr", "status": "removed", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/321d90e1d659c502ad633575866e6d972cf0cc5e/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/321d90e1d659c502ad633575866e6d972cf0cc5e/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-no-debug.stderr?ref=321d90e1d659c502ad633575866e6d972cf0cc5e", "patch": "@@ -1,12 +0,0 @@\n-error[E0658]: the `#[no_debug]` attribute was an experimental feature that has been deprecated due to lack of demand\n-  --> $DIR/feature-gate-no-debug.rs:3:1\n-   |\n-LL | #[no_debug]\n-   | ^^^^^^^^^^^\n-   |\n-   = note: see issue #29721 <https://github.com/rust-lang/rust/issues/29721> for more information\n-   = help: add `#![feature(no_debug)]` to the crate attributes to enable\n-\n-error: aborting due to previous error\n-\n-For more information about this error, try `rustc --explain E0658`."}, {"sha": "0ef5d72609ae25b3bf6d814c149ebcac37fb1e93", "filename": "src/test/ui/lint/suggestions.stderr", "status": "modified", "additions": 11, "deletions": 19, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/45a30cdf1d2109655ff02683b6a6e41255cbeebe/src%2Ftest%2Fui%2Flint%2Fsuggestions.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/45a30cdf1d2109655ff02683b6a6e41255cbeebe/src%2Ftest%2Fui%2Flint%2Fsuggestions.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Fsuggestions.stderr?ref=45a30cdf1d2109655ff02683b6a6e41255cbeebe", "patch": "@@ -1,13 +1,13 @@\n warning: denote infinite loops with `loop { ... }`\n-  --> $DIR/suggestions.rs:46:5\n+  --> $DIR/suggestions.rs:42:5\n    |\n LL |     while true {\n    |     ^^^^^^^^^^ help: use `loop`\n    |\n    = note: `#[warn(while_true)]` on by default\n \n warning: unnecessary parentheses around assigned value\n-  --> $DIR/suggestions.rs:49:31\n+  --> $DIR/suggestions.rs:45:31\n    |\n LL |         let mut registry_no = (format!(\"NX-{}\", 74205));\n    |                               ^^^^^^^^^^^^^^^^^^^^^^^^^ help: remove these parentheses\n@@ -18,16 +18,8 @@ note: the lint level is defined here\n LL | #![warn(unused_mut, unused_parens)] // UI tests pass `-A unused`\u2014see Issue #43896\n    |                     ^^^^^^^^^^^^^\n \n-warning: use of deprecated attribute `no_debug`: the `#[no_debug]` attribute was an experimental feature that has been deprecated due to lack of demand. See https://github.com/rust-lang/rust/issues/29721\n-  --> $DIR/suggestions.rs:42:1\n-   |\n-LL | #[no_debug] // should suggest removal of deprecated attribute\n-   | ^^^^^^^^^^^ help: remove this attribute\n-   |\n-   = note: `#[warn(deprecated)]` on by default\n-\n warning: variable does not need to be mutable\n-  --> $DIR/suggestions.rs:49:13\n+  --> $DIR/suggestions.rs:45:13\n    |\n LL |         let mut registry_no = (format!(\"NX-{}\", 74205));\n    |             ----^^^^^^^^^^^\n@@ -41,7 +33,7 @@ LL | #![warn(unused_mut, unused_parens)] // UI tests pass `-A unused`\u2014see Issu\n    |         ^^^^^^^^^^\n \n warning: variable does not need to be mutable\n-  --> $DIR/suggestions.rs:55:13\n+  --> $DIR/suggestions.rs:51:13\n    |\n LL |            let mut\n    |   _____________^\n@@ -53,7 +45,7 @@ LL | ||             b = 1;\n    |               help: remove this `mut`\n \n error: const items should never be `#[no_mangle]`\n-  --> $DIR/suggestions.rs:6:14\n+  --> $DIR/suggestions.rs:5:14\n    |\n LL | #[no_mangle] const DISCOVERY: usize = 1;\n    |              -----^^^^^^^^^^^^^^^^^^^^^^\n@@ -63,7 +55,7 @@ LL | #[no_mangle] const DISCOVERY: usize = 1;\n    = note: `#[deny(no_mangle_const_items)]` on by default\n \n warning: functions generic over types or consts must be mangled\n-  --> $DIR/suggestions.rs:12:1\n+  --> $DIR/suggestions.rs:11:1\n    |\n LL | #[no_mangle]\n    | ------------ help: remove this attribute\n@@ -74,39 +66,39 @@ LL | pub fn defiant<T>(_t: T) {}\n    = note: `#[warn(no_mangle_generic_items)]` on by default\n \n warning: the `warp_factor:` in this pattern is redundant\n-  --> $DIR/suggestions.rs:61:23\n+  --> $DIR/suggestions.rs:57:23\n    |\n LL |             Equinox { warp_factor: warp_factor } => {}\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^ help: use shorthand field pattern: `warp_factor`\n    |\n    = note: `#[warn(non_shorthand_field_patterns)]` on by default\n \n error: const items should never be `#[no_mangle]`\n-  --> $DIR/suggestions.rs:22:18\n+  --> $DIR/suggestions.rs:21:18\n    |\n LL |     #[no_mangle] pub const DAUNTLESS: bool = true;\n    |                  ---------^^^^^^^^^^^^^^^^^^^^^^^^\n    |                  |\n    |                  help: try a static value: `pub static`\n \n warning: functions generic over types or consts must be mangled\n-  --> $DIR/suggestions.rs:25:18\n+  --> $DIR/suggestions.rs:24:18\n    |\n LL |     #[no_mangle] pub fn val_jean<T>() {}\n    |     ------------ ^^^^^^^^^^^^^^^^^^^^^^^\n    |     |\n    |     help: remove this attribute\n \n error: const items should never be `#[no_mangle]`\n-  --> $DIR/suggestions.rs:30:18\n+  --> $DIR/suggestions.rs:29:18\n    |\n LL |     #[no_mangle] pub(crate) const VETAR: bool = true;\n    |                  ----------------^^^^^^^^^^^^^^^^^^^^\n    |                  |\n    |                  help: try a static value: `pub static`\n \n warning: functions generic over types or consts must be mangled\n-  --> $DIR/suggestions.rs:33:18\n+  --> $DIR/suggestions.rs:32:18\n    |\n LL |     #[no_mangle] pub(crate) fn crossfield<T>() {}\n    |     ------------ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"}]}