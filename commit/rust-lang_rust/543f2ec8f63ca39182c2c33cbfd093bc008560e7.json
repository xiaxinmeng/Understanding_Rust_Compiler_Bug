{"sha": "543f2ec8f63ca39182c2c33cbfd093bc008560e7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0M2YyZWM4ZjYzY2EzOTE4MmMyYzMzY2JmZDA5M2JjMDA4NTYwZTc=", "commit": {"author": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2019-03-10T14:21:10Z"}, "committer": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2019-03-10T14:21:10Z"}, "message": "Merge #957\n\n957: Fix and simplify \"rustc-watch\" problem matcher r=vemoo a=vemoo\n\nCargo watch now always ends with \"[Finished running ...\" and includes some extra info. Make the pattern only match \"[Finished running\".\r\n\r\nAlso add \"cargo watch\" and \"cargo watch tests\" that use the \"rustc-watch\" problem matcher.\r\nChange the \"Build Lsp\" to do \"cargo check\" because that's faster, and I think enought in this case, and make it use \"rustc\" problem matcher from the extension.\n\nCo-authored-by: Bernardo <berublan@gmail.com>", "tree": {"sha": "a5cebb8c398106713e324f1a352a63156389424f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a5cebb8c398106713e324f1a352a63156389424f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/543f2ec8f63ca39182c2c33cbfd093bc008560e7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/543f2ec8f63ca39182c2c33cbfd093bc008560e7", "html_url": "https://github.com/rust-lang/rust/commit/543f2ec8f63ca39182c2c33cbfd093bc008560e7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/543f2ec8f63ca39182c2c33cbfd093bc008560e7/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "parents": [{"sha": "a9d09b7ec0721e9ad305866a57989d1aa9c67ec1", "url": "https://api.github.com/repos/rust-lang/rust/commits/a9d09b7ec0721e9ad305866a57989d1aa9c67ec1", "html_url": "https://github.com/rust-lang/rust/commit/a9d09b7ec0721e9ad305866a57989d1aa9c67ec1"}, {"sha": "7cf9c34f66471d7220d50c4e3226d7289bdab688", "url": "https://api.github.com/repos/rust-lang/rust/commits/7cf9c34f66471d7220d50c4e3226d7289bdab688", "html_url": "https://github.com/rust-lang/rust/commit/7cf9c34f66471d7220d50c4e3226d7289bdab688"}], "stats": {"total": 59, "additions": 36, "deletions": 23}, "files": [{"sha": "063cbd174713a27f9b8a0980c41f27bc152c8eb3", "filename": ".vscode/tasks.json", "status": "modified", "additions": 34, "deletions": 21, "changes": 55, "blob_url": "https://github.com/rust-lang/rust/blob/543f2ec8f63ca39182c2c33cbfd093bc008560e7/.vscode%2Ftasks.json", "raw_url": "https://github.com/rust-lang/rust/raw/543f2ec8f63ca39182c2c33cbfd093bc008560e7/.vscode%2Ftasks.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.vscode%2Ftasks.json?ref=543f2ec8f63ca39182c2c33cbfd093bc008560e7", "patch": "@@ -10,38 +10,51 @@\n       \"problemMatcher\": {\n         \"owner\": \"typescript\",\n         \"pattern\": \"$tsc\",\n-        \"fileLocation\": [\"relative\", \"${workspaceRoot}/editors/code\"]\n+        \"fileLocation\": [\n+          \"relative\",\n+          \"${workspaceRoot}/editors/code\"\n+        ]\n       },\n       \"path\": \"editors/code/\"\n     },\n     {\n       \"label\": \"Build Lsp\",\n       \"type\": \"shell\",\n       \"command\": \"cargo build\",\n-      \"problemMatcher\": {\n-        \"owner\": \"rust\",\n-        \"fileLocation\": [\"relative\", \"${workspaceRoot}\"],\n-        \"pattern\": [\n-          {\n-            \"regexp\": \"^(warning|warn|error)(?:\\\\[(.*?)\\\\])?: (.*)$\",\n-            \"severity\": 1,\n-            \"code\": 2,\n-            \"message\": 3\n-          },\n-          {\n-            \"regexp\": \"^[\\\\s->=]*(.*?):(\\\\d*):(\\\\d*)\\\\s*$\",\n-            \"file\": 1,\n-            \"line\": 2,\n-            \"column\": 3\n-          }\n-        ]\n-      }\n+      \"problemMatcher\": \"$rustc\"\n     },\n     {\n       \"label\": \"Build All\",\n       \"group\": \"build\",\n-      \"dependsOn\": [\"Build Extension\", \"Build Lsp\"],\n+      \"dependsOn\": [\n+        \"Build Extension\",\n+        \"Build Lsp\"\n+      ],\n       \"problemMatcher\": []\n+    },\n+    {\n+      \"label\": \"cargo watch\",\n+      \"group\": \"build\",\n+      \"isBackground\": true,\n+      \"type\": \"shell\",\n+      \"command\": \"cargo\",\n+      \"args\": [\n+        \"watch\"\n+      ],\n+      \"problemMatcher\": \"$rustc-watch\"\n+    },\n+    {\n+      \"label\": \"cargo watch tests\",\n+      \"group\": \"build\",\n+      \"isBackground\": true,\n+      \"type\": \"shell\",\n+      \"command\": \"cargo\",\n+      \"args\": [\n+        \"watch\",\n+        \"-x\",\n+        \"check --tests\"\n+      ],\n+      \"problemMatcher\": \"$rustc-watch\"\n     }\n   ]\n-}\n+}\n\\ No newline at end of file"}, {"sha": "0a1e84b4ab340472a926eb09626d571901a5d369", "filename": "editors/code/package.json", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/543f2ec8f63ca39182c2c33cbfd093bc008560e7/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/543f2ec8f63ca39182c2c33cbfd093bc008560e7/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=543f2ec8f63ca39182c2c33cbfd093bc008560e7", "patch": "@@ -215,8 +215,8 @@\n                     \"${workspaceRoot}\"\n                 ],\n                 \"background\": {\n-                    \"beginsPattern\": \"^\\\\[Running \",\n-                    \"endsPattern\": \"^(\\\\[Finished running\\\\]|To learn more, run the command again with --verbose\\\\.)$\"\n+                    \"beginsPattern\": \"^\\\\[Running\\\\b\",\n+                    \"endsPattern\": \"^\\\\[Finished running\\\\b\"\n                 },\n                 \"pattern\": \"$rustc\"\n             }"}]}