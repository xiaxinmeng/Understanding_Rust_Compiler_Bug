{"sha": "ee7f9de4c44dff2c83d2ea4cf5e1b2d5846dfb34", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVlN2Y5ZGU0YzQ0ZGZmMmM4M2QyZWE0Y2Y1ZTFiMmQ1ODQ2ZGZiMzQ=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-10-25T04:18:04Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-10-25T04:18:04Z"}, "message": "Rollup merge of #65408 - guanqun:remove-rust-optimize, r=Mark-Simulacrum\n\nreorder config.toml.example options and add one missing option\n\nr? @Mark-Simulacrum", "tree": {"sha": "c2fcca94f70f6ae782023f61e71be81b03154c51", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c2fcca94f70f6ae782023f61e71be81b03154c51"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ee7f9de4c44dff2c83d2ea4cf5e1b2d5846dfb34", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdsnd8CRBK7hj4Ov3rIwAAdHIIALKpN4xTuQaBbqcgkRNnrROR\nFFblQvhAPcRpSV/sUaZzX3NKGX2brFMSwtx/HK9h+MZDNvo84aGrXDgK+hdazTAB\nfM1HajshD4pnO4/9g0swef+sq9qrL2P6eejO8TQbltByY3Wlc9RSybqfAcNe7heG\n94h3AS7OxHAS/9QLaw3rz3Yjlvh2+dGI4dXgIpRzyLcbfe2K69Ws0+XVkQHIIHiv\nMjXUzOdnGHn61SeNKAManZYW77uxu0k7rX9n84RY8ri15040W3HsOn+/qSDWdc0q\nFPULXICTKbGaupNCK+e1RA9aDIQoLdzh2p1euJkJQtfnVYx7y2d86J+SA9Y90s8=\n=Eey3\n-----END PGP SIGNATURE-----\n", "payload": "tree c2fcca94f70f6ae782023f61e71be81b03154c51\nparent e25720f1067b9472056333279b651fb243063caf\nparent 5defe06f96f62807af0ac09d1896d1baba5d8054\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1571977084 +0200\ncommitter GitHub <noreply@github.com> 1571977084 +0200\n\nRollup merge of #65408 - guanqun:remove-rust-optimize, r=Mark-Simulacrum\n\nreorder config.toml.example options and add one missing option\n\nr? @Mark-Simulacrum\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ee7f9de4c44dff2c83d2ea4cf5e1b2d5846dfb34", "html_url": "https://github.com/rust-lang/rust/commit/ee7f9de4c44dff2c83d2ea4cf5e1b2d5846dfb34", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ee7f9de4c44dff2c83d2ea4cf5e1b2d5846dfb34/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e25720f1067b9472056333279b651fb243063caf", "url": "https://api.github.com/repos/rust-lang/rust/commits/e25720f1067b9472056333279b651fb243063caf", "html_url": "https://github.com/rust-lang/rust/commit/e25720f1067b9472056333279b651fb243063caf"}, {"sha": "5defe06f96f62807af0ac09d1896d1baba5d8054", "url": "https://api.github.com/repos/rust-lang/rust/commits/5defe06f96f62807af0ac09d1896d1baba5d8054", "html_url": "https://github.com/rust-lang/rust/commit/5defe06f96f62807af0ac09d1896d1baba5d8054"}], "stats": {"total": 40, "additions": 21, "deletions": 19}, "files": [{"sha": "e832570ed982e5f858924128358dab9bcf08140c", "filename": "config.toml.example", "status": "modified", "additions": 6, "deletions": 4, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ee7f9de4c44dff2c83d2ea4cf5e1b2d5846dfb34/config.toml.example", "raw_url": "https://github.com/rust-lang/rust/raw/ee7f9de4c44dff2c83d2ea4cf5e1b2d5846dfb34/config.toml.example", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/config.toml.example?ref=ee7f9de4c44dff2c83d2ea4cf5e1b2d5846dfb34", "patch": "@@ -258,10 +258,9 @@\n [rust]\n \n # Whether or not to optimize the compiler and standard library.\n-#\n-# Note: the slowness of the non optimized compiler compiling itself usually\n-#       outweighs the time gains in not doing optimizations, therefore a\n-#       full bootstrap takes much more time with `optimize` set to false.\n+# WARNING: Building with optimize = false is NOT SUPPORTED. Due to bootstrapping,\n+# building without optimizations takes much longer than optimizing. Further, some platforms\n+# fail to build without this optimization (c.f. #65352).\n #optimize = true\n \n # Indicates that the build should be configured for debugging Rust. A\n@@ -341,6 +340,9 @@\n # nightly features\n #channel = \"dev\"\n \n+# The root location of the MUSL installation directory.\n+#musl-root = \"...\"\n+\n # By default the `rustc` executable is built with `-Wl,-rpath` flags on Unix\n # platforms to ensure that the compiler is usable by default from the build\n # directory (as it links to a number of dynamic libraries). This may not be"}, {"sha": "d1bdfa0a7676309ccd0209ea4ac8bd8397f358de", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 15, "deletions": 15, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/ee7f9de4c44dff2c83d2ea4cf5e1b2d5846dfb34/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ee7f9de4c44dff2c83d2ea4cf5e1b2d5846dfb34/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=ee7f9de4c44dff2c83d2ea4cf5e1b2d5846dfb34", "patch": "@@ -200,23 +200,23 @@ struct Build {\n     target: Vec<String>,\n     cargo: Option<String>,\n     rustc: Option<String>,\n-    low_priority: Option<bool>,\n-    compiler_docs: Option<bool>,\n     docs: Option<bool>,\n+    compiler_docs: Option<bool>,\n     submodules: Option<bool>,\n     fast_submodules: Option<bool>,\n     gdb: Option<String>,\n-    locked_deps: Option<bool>,\n-    vendor: Option<bool>,\n     nodejs: Option<String>,\n     python: Option<String>,\n+    locked_deps: Option<bool>,\n+    vendor: Option<bool>,\n     full_bootstrap: Option<bool>,\n     extended: Option<bool>,\n     tools: Option<HashSet<String>>,\n     verbose: Option<usize>,\n     sanitizers: Option<bool>,\n     profiler: Option<bool>,\n     cargo_native_static: Option<bool>,\n+    low_priority: Option<bool>,\n     configure_args: Option<Vec<String>>,\n     local_rebuild: Option<bool>,\n     print_step_timings: Option<bool>,\n@@ -228,11 +228,11 @@ struct Build {\n struct Install {\n     prefix: Option<String>,\n     sysconfdir: Option<String>,\n-    datadir: Option<String>,\n     docdir: Option<String>,\n     bindir: Option<String>,\n     libdir: Option<String>,\n     mandir: Option<String>,\n+    datadir: Option<String>,\n \n     // standard paths, currently unused\n     infodir: Option<String>,\n@@ -243,14 +243,14 @@ struct Install {\n #[derive(Deserialize, Default)]\n #[serde(deny_unknown_fields, rename_all = \"kebab-case\")]\n struct Llvm {\n-    ccache: Option<StringOrBool>,\n-    ninja: Option<bool>,\n-    assertions: Option<bool>,\n     optimize: Option<bool>,\n     thin_lto: Option<bool>,\n     release_debuginfo: Option<bool>,\n+    assertions: Option<bool>,\n+    ccache: Option<StringOrBool>,\n     version_check: Option<bool>,\n     static_libstdcpp: Option<bool>,\n+    ninja: Option<bool>,\n     targets: Option<String>,\n     experimental_targets: Option<String>,\n     link_jobs: Option<u32>,\n@@ -293,6 +293,7 @@ impl Default for StringOrBool {\n #[serde(deny_unknown_fields, rename_all = \"kebab-case\")]\n struct Rust {\n     optimize: Option<bool>,\n+    debug: Option<bool>,\n     codegen_units: Option<u32>,\n     codegen_units_std: Option<u32>,\n     debug_assertions: Option<bool>,\n@@ -301,25 +302,24 @@ struct Rust {\n     debuginfo_level_std: Option<u32>,\n     debuginfo_level_tools: Option<u32>,\n     debuginfo_level_tests: Option<u32>,\n-    parallel_compiler: Option<bool>,\n     backtrace: Option<bool>,\n+    incremental: Option<bool>,\n+    parallel_compiler: Option<bool>,\n     default_linker: Option<String>,\n     channel: Option<String>,\n     musl_root: Option<String>,\n     rpath: Option<bool>,\n+    verbose_tests: Option<bool>,\n     optimize_tests: Option<bool>,\n     codegen_tests: Option<bool>,\n     ignore_git: Option<bool>,\n-    debug: Option<bool>,\n     dist_src: Option<bool>,\n-    verbose_tests: Option<bool>,\n-    incremental: Option<bool>,\n     save_toolstates: Option<String>,\n     codegen_backends: Option<Vec<String>>,\n     codegen_backends_dir: Option<String>,\n     lld: Option<bool>,\n-    lldb: Option<bool>,\n     llvm_tools: Option<bool>,\n+    lldb: Option<bool>,\n     deny_warnings: Option<bool>,\n     backtrace_on_ice: Option<bool>,\n     verify_llvm_ir: Option<bool>,\n@@ -333,13 +333,13 @@ struct Rust {\n #[derive(Deserialize, Default)]\n #[serde(deny_unknown_fields, rename_all = \"kebab-case\")]\n struct TomlTarget {\n-    llvm_config: Option<String>,\n-    llvm_filecheck: Option<String>,\n     cc: Option<String>,\n     cxx: Option<String>,\n     ar: Option<String>,\n     ranlib: Option<String>,\n     linker: Option<String>,\n+    llvm_config: Option<String>,\n+    llvm_filecheck: Option<String>,\n     android_ndk: Option<String>,\n     crt_static: Option<bool>,\n     musl_root: Option<String>,"}]}