{"sha": "e78f1392b79779fa184f9a63e7be04ac7074a1c2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU3OGYxMzkyYjc5Nzc5ZmExODRmOWE2M2U3YmUwNGFjNzA3NGExYzI=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-01-23T21:10:16Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2018-01-24T11:13:52Z"}, "message": "Few fixes for multiple themes support feature", "tree": {"sha": "f28b48967319a69e604ae26d76e558b8066e137b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f28b48967319a69e604ae26d76e558b8066e137b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e78f1392b79779fa184f9a63e7be04ac7074a1c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e78f1392b79779fa184f9a63e7be04ac7074a1c2", "html_url": "https://github.com/rust-lang/rust/commit/e78f1392b79779fa184f9a63e7be04ac7074a1c2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e78f1392b79779fa184f9a63e7be04ac7074a1c2/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3a39b2aa5a68dd07aacab2106db3927f666a485a", "url": "https://api.github.com/repos/rust-lang/rust/commits/3a39b2aa5a68dd07aacab2106db3927f666a485a", "html_url": "https://github.com/rust-lang/rust/commit/3a39b2aa5a68dd07aacab2106db3927f666a485a"}], "stats": {"total": 70, "additions": 47, "deletions": 23}, "files": [{"sha": "fd14513cac48fad6ac5dd48116e69e767645e40c", "filename": "src/librustdoc/html/layout.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/e78f1392b79779fa184f9a63e7be04ac7074a1c2/src%2Flibrustdoc%2Fhtml%2Flayout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e78f1392b79779fa184f9a63e7be04ac7074a1c2/src%2Flibrustdoc%2Fhtml%2Flayout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Flayout.rs?ref=e78f1392b79779fa184f9a63e7be04ac7074a1c2", "patch": "@@ -74,10 +74,12 @@ r##\"<!DOCTYPE html>\n         {sidebar}\n     </nav>\n \n-    <button id=\"theme-picker\">\n-        <img src=\"{root_path}brush.svg\" width=\"18\" alt=\"Pick another theme!\">\n+    <div class=\"theme-picker\">\n+        <button id=\"theme-picker\" aria-label=\"Pick another theme!\">\n+            <img src=\"{root_path}brush.svg\" width=\"18\" alt=\"Pick another theme!\">\n+        </button>\n         <div id=\"theme-choices\"></div>\n-    </button>\n+    </div>\n     <script src=\"{root_path}theme.js\"></script>\n     <nav class=\"sub\">\n         <form class=\"search-form js-only\">"}, {"sha": "93c9df0781c8aa4cfb61dd8ded0f71cb14948c8d", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/e78f1392b79779fa184f9a63e7be04ac7074a1c2/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e78f1392b79779fa184f9a63e7be04ac7074a1c2/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=e78f1392b79779fa184f9a63e7be04ac7074a1c2", "patch": "@@ -918,12 +918,12 @@ themePicker.onclick = function() {{\n     }}\n }};\n [{}].forEach(function(item) {{\n-    var div = document.createElement('div');\n-    div.innerHTML = item;\n-    div.onclick = function(el) {{\n+    var but = document.createElement('button');\n+    but.innerHTML = item;\n+    but.onclick = function(el) {{\n         switchTheme(currentTheme, mainTheme, item);\n     }};\n-    themes.appendChild(div);\n+    themes.appendChild(but);\n }});\n \"#, themes.iter()\n           .map(|s| format!(\"\\\"{}\\\"\", s))"}, {"sha": "d2eeb2e15b3ddbfedb492999eb56113451c9c2bf", "filename": "src/librustdoc/html/static/rustdoc.css", "status": "modified", "additions": 20, "deletions": 7, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/e78f1392b79779fa184f9a63e7be04ac7074a1c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/e78f1392b79779fa184f9a63e7be04ac7074a1c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css?ref=e78f1392b79779fa184f9a63e7be04ac7074a1c2", "patch": "@@ -1141,13 +1141,19 @@ kbd {\n \tborder: solid 1px;\n \tborder-radius: 3px;\n \tbox-shadow: inset 0 -1px 0;\n+\tcursor: default;\n }\n \n-#theme-picker {\n+.theme-picker {\n \tposition: absolute;\n \tleft: 211px;\n-\ttop: 17px;\n+\ttop: 19px;\n+}\n+\n+#theme-picker {\n \tpadding: 4px;\n+\twidth: 27px;\n+\theight: 29px;\n \tborder: 1px solid;\n \tborder-radius: 3px;\n \tcursor: pointer;\n@@ -1156,21 +1162,28 @@ kbd {\n #theme-choices {\n \tdisplay: none;\n \tposition: absolute;\n-\tleft: -1px;\n-\ttop: 30px;\n+\tleft: 0;\n+\ttop: 28px;\n \tborder: 1px solid;\n \tborder-radius: 3px;\n \tz-index: 1;\n+\tcursor: pointer;\n }\n \n-#theme-choices > div {\n-\tborder-top: 1px solid;\n+#theme-choices > button {\n+\tborder: none;\n+\twidth: 100%;\n \tpadding: 4px;\n \ttext-align: center;\n+\tbackground: rgba(0,0,0,0);\n+}\n+\n+#theme-choices > button:not(:first-child) {\n+\tborder-top: 1px solid;\n }\n \n @media (max-width: 700px) {\n-\t#theme-picker {\n+\t.theme-picker {\n \t\tleft: 109px;\n \t\ttop: 7px;\n \t\tz-index: 1;"}, {"sha": "4c6bcab72b7c9b5a4803bff18eadf1d5fd9be429", "filename": "src/librustdoc/html/static/themes/dark.css", "status": "modified", "additions": 9, "deletions": 5, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/e78f1392b79779fa184f9a63e7be04ac7074a1c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/e78f1392b79779fa184f9a63e7be04ac7074a1c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fdark.css?ref=e78f1392b79779fa184f9a63e7be04ac7074a1c2", "patch": "@@ -197,7 +197,7 @@ a.test-arrow {\n \n #help dt {\n \tborder-color: #bfbfbf;\n-\tbackground: #fff;\n+\tbackground: rgba(0,0,0,0);\n \tcolor: black;\n }\n \n@@ -352,7 +352,7 @@ pre.ignore:hover, .information:hover + pre.ignore {\n }\n \n kbd {\n-\tcolor: #444d56;\n+\tcolor: #000;\n \tbackground-color: #fafbfc;\n \tborder-color: #d1d5da;\n \tborder-bottom-color: #c6cbd1;\n@@ -364,16 +364,20 @@ kbd {\n \tbackground: #f0f0f0;\n }\n \n+#theme-picker:hover, #theme-picker:focus {\n+\tborder-color: #ffb900;\n+}\n+\n #theme-choices {\n \tborder-color: #e0e0e0;\n \tbackground-color: #353535;\n }\n \n-#theme-choices > div {\n-\tborder-top: #e0e0e0;\n+#theme-choices > button:not(:first-child) {\n+\tborder-top-color: #e0e0e0;\n }\n \n-#theme-choices > div:hover {\n+#theme-choices > button:hover, #theme-choices > button:focus {\n \tbackground-color: #444;\n }\n "}, {"sha": "9d650f926642daedefe5924d7b50b8c82a25d12a", "filename": "src/librustdoc/html/static/themes/main.css", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/e78f1392b79779fa184f9a63e7be04ac7074a1c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fmain.css", "raw_url": "https://github.com/rust-lang/rust/raw/e78f1392b79779fa184f9a63e7be04ac7074a1c2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fmain.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fmain.css?ref=e78f1392b79779fa184f9a63e7be04ac7074a1c2", "patch": "@@ -345,7 +345,7 @@ pre.ignore:hover, .information:hover + pre.ignore {\n }\n \n kbd {\n-\tcolor: #444d56;\n+\tcolor: #000;\n \tbackground-color: #fafbfc;\n \tborder-color: #d1d5da;\n \tborder-bottom-color: #c6cbd1;\n@@ -354,18 +354,23 @@ kbd {\n \n #theme-picker {\n \tborder-color: #e0e0e0;\n+\tbackground-color: #fff;\n+}\n+\n+#theme-picker:hover, #theme-picker:focus {\n+\tborder-color: #717171;\n }\n \n #theme-choices {\n \tborder-color: #ccc;\n \tbackground-color: #fff;\n }\n \n-#theme-choices > div {\n-\tborder-top: #e0e0e0;\n+#theme-choices > button:not(:first-child) {\n+\tborder-top-color: #e0e0e0;\n }\n \n-#theme-choices > div:hover {\n+#theme-choices > button:hover, #theme-choices > button:focus {\n \tbackground-color: #eee;\n }\n "}]}