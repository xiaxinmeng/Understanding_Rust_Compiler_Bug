{"sha": "5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjVkODJjMGZhYmY5MTY5ZTI1MTdiNmViM2YyNjk1Y2IzMzhkNjY5Yjg=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-01-21T17:15:54Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-01-21T17:15:54Z"}, "message": "rollup merge of #21411: P1start/help-tweaks\n\nConflicts:\n\tsrc/librustc_typeck/check/closure.rs", "tree": {"sha": "a85a701e1b96c2ed0054829ae411adf4e4a566ee", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a85a701e1b96c2ed0054829ae411adf4e4a566ee"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "html_url": "https://github.com/rust-lang/rust/commit/5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1646707c6e86166b28be77623f260333015e790c", "url": "https://api.github.com/repos/rust-lang/rust/commits/1646707c6e86166b28be77623f260333015e790c", "html_url": "https://github.com/rust-lang/rust/commit/1646707c6e86166b28be77623f260333015e790c"}, {"sha": "ed769bf87f1e0ff03cd8ccbdfd90195a8126f135", "url": "https://api.github.com/repos/rust-lang/rust/commits/ed769bf87f1e0ff03cd8ccbdfd90195a8126f135", "html_url": "https://github.com/rust-lang/rust/commit/ed769bf87f1e0ff03cd8ccbdfd90195a8126f135"}], "stats": {"total": 32, "additions": 16, "deletions": 16}, "files": [{"sha": "d9fedf61b4c367955ca0e916ce0925b014fb333a", "filename": "src/librustc/middle/resolve_lifetime.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Flibrustc%2Fmiddle%2Fresolve_lifetime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Flibrustc%2Fmiddle%2Fresolve_lifetime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fresolve_lifetime.rs?ref=5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "patch": "@@ -457,11 +457,11 @@ impl<'a> LifetimeContext<'a> {\n                             format!(\"lifetime name `{}` shadows another \\\n                                     lifetime name that is already in scope\",\n                                     token::get_name(lifetime.name)).as_slice());\n-                        self.sess.span_help(\n+                        self.sess.span_note(\n                             lifetime_def.span,\n                             format!(\"shadowed lifetime `{}` declared here\",\n                                     token::get_name(lifetime.name)).as_slice());\n-                        self.sess.span_help(\n+                        self.sess.span_note(\n                             lifetime.span,\n                             \"shadowed lifetimes are deprecated \\\n                              and will become a hard error before 1.0\");"}, {"sha": "462989b3333c532fb5ae2592dd61db6bbaa4523e", "filename": "src/librustc_typeck/astconv.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Flibrustc_typeck%2Fastconv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Flibrustc_typeck%2Fastconv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fastconv.rs?ref=5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "patch": "@@ -886,14 +886,14 @@ fn ast_ty_to_trait_ref<'tcx>(this: &AstConv<'tcx>,\n                       pprust::ty_to_string(ty));\n             match ty.node {\n                 ast::TyRptr(None, ref mut_ty) => {\n-                    span_note!(this.tcx().sess, ty.span,\n+                    span_help!(this.tcx().sess, ty.span,\n                                \"perhaps you meant `&{}({} +{})`? (per RFC 438)\",\n                                ppaux::mutability_to_string(mut_ty.mutbl),\n                                pprust::ty_to_string(&*mut_ty.ty),\n                                pprust::bounds_to_string(bounds));\n                 }\n                ast::TyRptr(Some(ref lt), ref mut_ty) => {\n-                    span_note!(this.tcx().sess, ty.span,\n+                    span_help!(this.tcx().sess, ty.span,\n                                \"perhaps you meant `&{} {}({} +{})`? (per RFC 438)\",\n                                pprust::lifetime_to_string(lt),\n                                ppaux::mutability_to_string(mut_ty.mutbl),\n@@ -902,7 +902,7 @@ fn ast_ty_to_trait_ref<'tcx>(this: &AstConv<'tcx>,\n                 }\n \n                 _ => {\n-                    span_note!(this.tcx().sess, ty.span,\n+                    span_help!(this.tcx().sess, ty.span,\n                                \"perhaps you forgot parentheses? (per RFC 438)\");\n                 }\n             }"}, {"sha": "ffec1421f9289ae9512607c3f485c352b460d302", "filename": "src/librustc_typeck/check/closure.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Flibrustc_typeck%2Fcheck%2Fclosure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Flibrustc_typeck%2Fcheck%2Fclosure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fclosure.rs?ref=5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "patch": "@@ -51,7 +51,7 @@ pub fn check_expr_closure<'a,'tcx>(fcx: &FnCtxt<'a,'tcx>,\n                     check_unboxed_closure(fcx, expr, kind, decl, body, None);\n \n                     span_err!(fcx.ccx.tcx.sess, expr.span, E0187,\n-                        \"can't infer the \\\"kind\\\" of the closure, explicitly annotate it. e.g. \\\n+                        \"can't infer the \\\"kind\\\" of the closure; explicitly annotate it; e.g. \\\n                         `|&:| {{}}`\");\n                 },\n                 Some((sig, kind)) => {"}, {"sha": "865a71106964f0c2a04bb1390dcfd9cfcb636064", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "patch": "@@ -2921,7 +2921,7 @@ impl<'a> Parser<'a> {\n                     \"Chained comparison operators require parentheses\");\n                 if op == BiLt && outer_op == BiGt {\n                     self.span_help(op_span,\n-                        \"Use ::< instead of < if you meant to specify type arguments.\");\n+                        \"use ::< instead of < if you meant to specify type arguments\");\n                 }\n             }\n             _ => {}"}, {"sha": "db67249bbd93aa11d8e9ede38b9154b0fdc09801", "filename": "src/test/compile-fail/hrtb-precedence-of-plus-error-message.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Ftest%2Fcompile-fail%2Fhrtb-precedence-of-plus-error-message.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Ftest%2Fcompile-fail%2Fhrtb-precedence-of-plus-error-message.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fhrtb-precedence-of-plus-error-message.rs?ref=5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "patch": "@@ -19,17 +19,17 @@ trait Bar {\n struct Foo<'a> {\n     a: &'a Bar+'a,\n         //~^ ERROR E0178\n-        //~^^ NOTE perhaps you meant `&'a (Bar + 'a)`?\n+        //~^^ HELP perhaps you meant `&'a (Bar + 'a)`?\n \n     b: &'a mut Bar+'a,\n         //~^ ERROR E0178\n-        //~^^ NOTE perhaps you meant `&'a mut (Bar + 'a)`?\n+        //~^^ HELP perhaps you meant `&'a mut (Bar + 'a)`?\n \n     c: Box<Bar+'a>, // OK, no paren needed in this context\n \n     d: fn() -> Bar+'a,\n         //~^ ERROR E0178\n-        //~^^ NOTE perhaps you forgot parentheses\n+        //~^^ HELP perhaps you forgot parentheses\n         //~^^^ WARN deprecated syntax\n }\n "}, {"sha": "f5d8c5748147ae3c3f75b737daf762c6f179def7", "filename": "src/test/compile-fail/require-parens-for-chained-comparison.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Ftest%2Fcompile-fail%2Frequire-parens-for-chained-comparison.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Ftest%2Fcompile-fail%2Frequire-parens-for-chained-comparison.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Frequire-parens-for-chained-comparison.rs?ref=5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "patch": "@@ -19,5 +19,5 @@ fn main() {\n \n     f<X>();\n     //~^ ERROR: Chained comparison operators require parentheses\n-    //~^^ HELP: Use ::< instead of < if you meant to specify type arguments.\n+    //~^^ HELP: use ::< instead of < if you meant to specify type arguments\n }"}, {"sha": "bf8a8f5046e7513f5f5f8825a4af762f9e5e3987", "filename": "src/test/compile-fail/shadowed-lifetime.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Ftest%2Fcompile-fail%2Fshadowed-lifetime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Ftest%2Fcompile-fail%2Fshadowed-lifetime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fshadowed-lifetime.rs?ref=5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "patch": "@@ -13,18 +13,18 @@\n struct Foo<'a>(&'a isize);\n \n impl<'a> Foo<'a> {\n-    //~^ HELP shadowed lifetime `'a` declared here\n+    //~^ NOTE shadowed lifetime `'a` declared here\n     fn shadow_in_method<'a>(&'a self) -> &'a isize {\n         //~^ WARNING lifetime name `'a` shadows another lifetime name that is already in scope\n-        //~| HELP deprecated\n+        //~| NOTE deprecated\n         self.0\n     }\n \n     fn shadow_in_type<'b>(&'b self) -> &'b isize {\n-        //~^ HELP shadowed lifetime `'b` declared here\n+        //~^ NOTE shadowed lifetime `'b` declared here\n         let x: for<'b> fn(&'b isize) = panic!();\n         //~^ WARNING lifetime name `'b` shadows another lifetime name that is already in scope\n-        //~| HELP deprecated\n+        //~| NOTE deprecated\n         self.0\n     }\n "}, {"sha": "a47d81e38ccba71b6cd34f029f7724cb4d40fa2e", "filename": "src/test/compile-fail/unsized2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Ftest%2Fcompile-fail%2Funsized2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d82c0fabf9169e2517b6eb3f2695cb338d669b8/src%2Ftest%2Fcompile-fail%2Funsized2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funsized2.rs?ref=5d82c0fabf9169e2517b6eb3f2695cb338d669b8", "patch": "@@ -16,5 +16,5 @@ pub fn main() {\n     f<type>();\n     //~^ ERROR expected identifier, found keyword `type`\n     //~^^ ERROR: Chained comparison operators require parentheses\n-    //~^^^ HELP: Use ::< instead of < if you meant to specify type arguments.\n+    //~^^^ HELP: use ::< instead of < if you meant to specify type arguments\n }"}]}