{"sha": "393216d410e70bc5a05626856a9b562a19fb33b7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM5MzIxNmQ0MTBlNzBiYzVhMDU2MjY4NTZhOWI1NjJhMTlmYjMzYjc=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2017-07-31T15:14:27Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2017-08-01T14:12:29Z"}, "message": "Add a better error message than `syscall 318 not found`", "tree": {"sha": "60f2c46f7d6632f0972d593a694a4fe4ec9d309e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/60f2c46f7d6632f0972d593a694a4fe4ec9d309e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/393216d410e70bc5a05626856a9b562a19fb33b7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYFTdM4NKd7XQft77pp+NIls619kFAlmAjE0ACgkQpp+NIls6\n19kvmQ//esirUzakVuSSF0lk1qIRXwAjwzqXH3mBpVqfzWnXe+36QLtbOI27x56F\nD9zVpeUzh/CIquHSiNpbZASLr7Wg/1IJOMV52s2BIQZd/gXbY5PXXFAStHSnvrNv\nHR3tuQB+l5+O84HCM1BTqv0FUIBG/Y4xjH1jO3f9AJIEFDj5+G5MN5iSwSFKSHwO\n//ze3JBB/wGc9l5BKxjajo/7XARTVydXGYTIv2MO++c5+cwpeY6iuZsucVazkNRM\nOSmR/URv1HMLxgIlRW9M4FxNBoyWFvt6gZBU3N1ihxIAuxvhB6Q3ZSPgfGgC4QGT\nZ9Flfwn69J89e89wp0JRVQYEjqJXqKlDoS8ZSXjZV136zJzCk5jAB0qzy/o/1yZ8\nPUmm86NwRas0kW3S2zAIvLOzp71tm2VYiU0J9uRKNSMWNqtx5HmZce9GevBd+MF5\nNCurvblAXGjNYcfwdcu+SPJX6e9im+FYxYe8qo4sjtDJV0ghgeDf+OZDiBs2598G\n6nmfGZUoqvbDBKpCDEamwI/QTPZ338zlAAJ8MlP8pvtd/jNabecsS3eLC8EnP50f\nXTXCdlwfWHu9xnCRl9RMSXqf/MdCkQJhBCX5uKOlUHOLFVRVzTm2skT/a52KIEmV\n3yDvr57Jfd5084/BEZJtSHPltHYjBbYt8A/M6aqDSKND84XW6to=\n=juBe\n-----END PGP SIGNATURE-----", "payload": "tree 60f2c46f7d6632f0972d593a694a4fe4ec9d309e\nparent 8b81f5430f5f95f19e2c3d452971ef3380537a49\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1501514067 +0200\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1501596749 +0200\n\nAdd a better error message than `syscall 318 not found`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/393216d410e70bc5a05626856a9b562a19fb33b7", "html_url": "https://github.com/rust-lang/rust/commit/393216d410e70bc5a05626856a9b562a19fb33b7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/393216d410e70bc5a05626856a9b562a19fb33b7/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b81f5430f5f95f19e2c3d452971ef3380537a49", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b81f5430f5f95f19e2c3d452971ef3380537a49", "html_url": "https://github.com/rust-lang/rust/commit/8b81f5430f5f95f19e2c3d452971ef3380537a49"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "77aebb9725c693e6b5e96b144c1de19115f6937c", "filename": "miri/fn_call.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/393216d410e70bc5a05626856a9b562a19fb33b7/miri%2Ffn_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/393216d410e70bc5a05626856a9b562a19fb33b7/miri%2Ffn_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/miri%2Ffn_call.rs?ref=393216d410e70bc5a05626856a9b562a19fb33b7", "patch": "@@ -126,7 +126,13 @@ impl<'a, 'tcx> EvalContextExt<'tcx> for EvalContext<'a, 'tcx, super::Evaluator>\n             }\n \n             \"syscall\" => {\n+                // TODO: read `syscall` ids like `sysconf` ids and\n+                // figure out some way to actually process some of them\n+                //\n+                // libc::syscall(NR_GETRANDOM, buf.as_mut_ptr(), buf.len(), GRND_NONBLOCK)\n+                // is called if a `HashMap` is created the regular way.\n                 match self.value_to_primval(args[0], usize)?.to_u64()? {\n+                    318 |\n                     511 => return Err(EvalError::Unimplemented(\"miri does not support random number generators\".to_owned())),\n                     id => return Err(EvalError::Unimplemented(format!(\"miri does not support syscall id {}\", id))),\n                 }"}]}