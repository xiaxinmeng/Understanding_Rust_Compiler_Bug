{"sha": "bcf04e253f0cc963f0e529a0ceef2268cb7916e1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJjZjA0ZTI1M2YwY2M5NjNmMGU1MjlhMGNlZWYyMjY4Y2I3OTE2ZTE=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-22T21:02:52Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-22T21:02:52Z"}, "message": "Revert \"Remove usages of case(_) { fail; } since the compiler does this automatically\". When we have exhaustiveness checking, \"case(_) { fail; }\" will be useful to silence warnings.\n\nThis reverts commit 92a716d862d92d3cc52a400457d2c3900d0c57a2.", "tree": {"sha": "74fef368a4672bf1deaacb65eaf23c159fb23bb4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/74fef368a4672bf1deaacb65eaf23c159fb23bb4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bcf04e253f0cc963f0e529a0ceef2268cb7916e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bcf04e253f0cc963f0e529a0ceef2268cb7916e1", "html_url": "https://github.com/rust-lang/rust/commit/bcf04e253f0cc963f0e529a0ceef2268cb7916e1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bcf04e253f0cc963f0e529a0ceef2268cb7916e1/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6623597c187c025095842598f7d9db816cb1858b", "url": "https://api.github.com/repos/rust-lang/rust/commits/6623597c187c025095842598f7d9db816cb1858b", "html_url": "https://github.com/rust-lang/rust/commit/6623597c187c025095842598f7d9db816cb1858b"}], "stats": {"total": 11, "additions": 11, "deletions": 0}, "files": [{"sha": "bc43185a7994ab2c8f0233f5bfe7d0f1f0735c6e", "filename": "src/comp/middle/trans.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/bcf04e253f0cc963f0e529a0ceef2268cb7916e1/src%2Fcomp%2Fmiddle%2Ftrans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bcf04e253f0cc963f0e529a0ceef2268cb7916e1/src%2Fcomp%2Fmiddle%2Ftrans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftrans.rs?ref=bcf04e253f0cc963f0e529a0ceef2268cb7916e1", "patch": "@@ -1789,6 +1789,7 @@ fn variant_types(@crate_ctxt cx, &ast.variant v) -> vec[@ty.t] {\n             }\n         }\n         case (ty.ty_tag(_, _)) { /* nothing */ }\n+        case (_) { fail; }\n     }\n     ret tys;\n }\n@@ -2001,6 +2002,7 @@ fn iter_structural_ty_full(@block_ctxt cx,\n                                 j += 1;\n                             }\n                         }\n+                        case (_) { fail; }\n                     }\n \n                     variant_cx.build.Br(next_cx.llbb);\n@@ -2167,6 +2169,7 @@ fn iter_sequence(@block_ctxt cx,\n             auto et = plain_ty(ty.ty_machine(common.ty_u8));\n             ret iter_sequence_body(cx, v, et, f, true);\n         }\n+        case (_) { fail; }\n     }\n     cx.fcx.ccx.sess.bug(\"bad type in trans.iter_sequence\");\n     fail;"}, {"sha": "c849483e8addd8e068414088fb13baac252e503b", "filename": "src/comp/middle/typeck.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/bcf04e253f0cc963f0e529a0ceef2268cb7916e1/src%2Fcomp%2Fmiddle%2Ftypeck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bcf04e253f0cc963f0e529a0ceef2268cb7916e1/src%2Fcomp%2Fmiddle%2Ftypeck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftypeck.rs?ref=bcf04e253f0cc963f0e529a0ceef2268cb7916e1", "patch": "@@ -1861,6 +1861,9 @@ fn check_expr(&@fn_ctxt fcx, @ast.expr expr) -> @ast.expr {\n                 case (ty.ty_chan(?it)) {\n                     item_t = it;\n                 }\n+                case (_) {\n+                    fail;\n+                }\n             }\n             auto rhs_1 = demand_expr(fcx, item_t, rhs_0);\n \n@@ -1881,6 +1884,9 @@ fn check_expr(&@fn_ctxt fcx, @ast.expr expr) -> @ast.expr {\n                 case (ty.ty_port(?it)) {\n                     item_t = it;\n                 }\n+                case (_) {\n+                    fail;\n+                }\n             }\n             auto lhs_1 = demand_expr(fcx, item_t, lhs_0);\n "}, {"sha": "776f82e99fe8fe9e4a303cedfc32d592224c65a4", "filename": "src/lib/deque.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/bcf04e253f0cc963f0e529a0ceef2268cb7916e1/src%2Flib%2Fdeque.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bcf04e253f0cc963f0e529a0ceef2268cb7916e1/src%2Flib%2Fdeque.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fdeque.rs?ref=bcf04e253f0cc963f0e529a0ceef2268cb7916e1", "patch": "@@ -47,6 +47,7 @@ fn create[T]() -> t[T] {\n     fn get[T](vec[cell[T]] elts, uint i) -> T {\n         alt (elts.(i)) {\n             case (option.some[T](?t)) { ret t; }\n+            case (_) { fail; }\n         }\n         fail;   // FIXME: remove me when exhaustiveness checking works\n     }"}, {"sha": "f22faaca7194a7feb66c59df7dc16c5573de1ce6", "filename": "src/lib/map.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/bcf04e253f0cc963f0e529a0ceef2268cb7916e1/src%2Flib%2Fmap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bcf04e253f0cc963f0e529a0ceef2268cb7916e1/src%2Flib%2Fmap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fmap.rs?ref=bcf04e253f0cc963f0e529a0ceef2268cb7916e1", "patch": "@@ -176,6 +176,7 @@ fn mk_hashmap[K, V](&hashfn[K] hasher, &eqfn[K] eqer) -> hashmap[K, V] {\n             fn get(&K key) -> V {\n                 alt (find_common[K, V](hasher, eqer, bkts, nbkts, key)) {\n                     case (option.some[V](?val)) { ret val; }\n+                    case (_) { fail; }\n                 }\n                 fail;   // FIXME: remove me when exhaustiveness checking works\n             }"}]}