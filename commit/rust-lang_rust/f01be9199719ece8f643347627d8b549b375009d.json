{"sha": "f01be9199719ece8f643347627d8b549b375009d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYwMWJlOTE5OTcxOWVjZThmNjQzMzQ3NjI3ZDhiNTQ5YjM3NTAwOWQ=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-06-16T09:00:46Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2016-06-16T09:00:46Z"}, "message": "miri needs to be *built* with RUST_SYSROOT, not *run*", "tree": {"sha": "8ad932a2ac7c726feeb79de8a987248d5da7fd0e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8ad932a2ac7c726feeb79de8a987248d5da7fd0e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f01be9199719ece8f643347627d8b549b375009d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJXYmq+AAoJEFbW7qD8Z6xG9LcP/3T+ZxNXXNlCnZgLPfSJaOH8\nSFFOBmF/gMdwGxlITv7H+BZlk+RVk5yoeJCSo4jF5IiMs2J6Q3djbU/Z0MWJE9En\nTA/M1iBEsMKGlGjidrULsp4hUcYqvI/Vr4pnuJgiRm2p0dW6IAcWyKkmzYY2nKEb\nYJcCQoKz+/WoSXYb7u0ucfoKXHbmxXkGtNQ9uadfsG/8CLoXasefdSnw3vi0uUw2\nD3OK9Kv6UMu3ZDNBgKYfmyGArBpG7s9gzhaybsXSOV2s3zjjvJX3cR/ZJRSiGaVr\nHbduiNw3LVTsWlJazms+bv2EEL/vvDCbXOYCvF9Io4aALk0YciNo59B3BEdwg2X6\nT8wM2tWNzYIFLfNBIPU7ovHZJUCQqh5TtNQd8T4ClY0wuicGzaYya/5QsYh3E8Ht\nMtVbeP4ryVtHhTd6/GYWWkBGIHZhRGROzxJbaUiSdUoyPXPYrCou0xb6ctqVc42P\n9HQh4tKRK+JuMUqalfEoy9O9Cfr4aneNutH+Z4c5KLpHTl02YA6QdHfSb8DZypPw\ne+8he1cROwinEIGNwJufRr6cz54blpEIiK3TtbJ8O0iHucYVP3tC3O9Jl1a1rvc2\nTWrwDJP4XAi6IFmN4lYmcLxVrgCTztqZ2qnXxbYSWEXA5ORhio5fia4s61umI8dS\nbtsMSmo4sxelUAQhVX0+\n=s/gN\n-----END PGP SIGNATURE-----", "payload": "tree 8ad932a2ac7c726feeb79de8a987248d5da7fd0e\nparent 2ed6f1c90a1b890e8caae2707f32ea9d0c4b07fc\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1466067646 +0200\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1466067646 +0200\n\nmiri needs to be *built* with RUST_SYSROOT, not *run*"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f01be9199719ece8f643347627d8b549b375009d", "html_url": "https://github.com/rust-lang/rust/commit/f01be9199719ece8f643347627d8b549b375009d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f01be9199719ece8f643347627d8b549b375009d/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2ed6f1c90a1b890e8caae2707f32ea9d0c4b07fc", "url": "https://api.github.com/repos/rust-lang/rust/commits/2ed6f1c90a1b890e8caae2707f32ea9d0c4b07fc", "html_url": "https://github.com/rust-lang/rust/commit/2ed6f1c90a1b890e8caae2707f32ea9d0c4b07fc"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "e76a2f86cf93db7b3c7290de305dc13ae6b16c60", "filename": ".travis.yml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f01be9199719ece8f643347627d8b549b375009d/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/f01be9199719ece8f643347627d8b549b375009d/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=f01be9199719ece8f643347627d8b549b375009d", "patch": "@@ -7,7 +7,7 @@ before_script:\n   export PATH=$HOME/.local/bin:$PATH\n script:\n - |\n-  travis-cargo build &&\n+  env RUST_SYSROOT=$HOME/rust travis-cargo build &&\n   env RUST_SYSROOT=$HOME/rust travis-cargo test\n notifications:\n   email:"}, {"sha": "d5ea91f01517880381384e95730dbfaad49af84a", "filename": "tests/compiletest.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f01be9199719ece8f643347627d8b549b375009d/tests%2Fcompiletest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f01be9199719ece8f643347627d8b549b375009d/tests%2Fcompiletest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompiletest.rs?ref=f01be9199719ece8f643347627d8b549b375009d", "patch": "@@ -63,7 +63,6 @@ fn compile_test() {\n             cmd.arg(format!(\"--sysroot={}\", sysroot));\n             cmd.arg(\"-Dwarnings\");\n             cmd.arg(format!(\"--target={}\", target));\n-            cmd.env(\"RUST_SYSROOT\", &sysroot);\n             let libs = Path::new(&sysroot).join(\"lib\");\n             let sysroot = libs.join(\"rustlib\").join(&target).join(\"lib\");\n             let paths = std::env::join_paths(&[libs, sysroot]).unwrap();"}]}