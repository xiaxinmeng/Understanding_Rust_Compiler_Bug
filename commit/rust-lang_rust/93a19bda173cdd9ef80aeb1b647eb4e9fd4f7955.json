{"sha": "93a19bda173cdd9ef80aeb1b647eb4e9fd4f7955", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkzYTE5YmRhMTczY2RkOWVmODBhZWIxYjY0N2ViNGU5ZmQ0Zjc5NTU=", "commit": {"author": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-19T07:49:26Z"}, "committer": {"name": "Veetaha", "email": "gerzoh1@gmail.com", "date": "2020-02-22T11:10:54Z"}, "message": "ra_mbe: convert_literal now works with malformed tokens", "tree": {"sha": "9322640a703fb24d1e3bd07db508a933299d0cb3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9322640a703fb24d1e3bd07db508a933299d0cb3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/93a19bda173cdd9ef80aeb1b647eb4e9fd4f7955", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/93a19bda173cdd9ef80aeb1b647eb4e9fd4f7955", "html_url": "https://github.com/rust-lang/rust/commit/93a19bda173cdd9ef80aeb1b647eb4e9fd4f7955", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/93a19bda173cdd9ef80aeb1b647eb4e9fd4f7955/comments", "author": null, "committer": null, "parents": [{"sha": "baf832d6d903afbc39e3a01c752a1aa5218c020e", "url": "https://api.github.com/repos/rust-lang/rust/commits/baf832d6d903afbc39e3a01c752a1aa5218c020e", "html_url": "https://github.com/rust-lang/rust/commit/baf832d6d903afbc39e3a01c752a1aa5218c020e"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "91e324db90842501ff26176ec1e31f9b2d85d536", "filename": "crates/ra_mbe/src/subtree_source.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/93a19bda173cdd9ef80aeb1b647eb4e9fd4f7955/crates%2Fra_mbe%2Fsrc%2Fsubtree_source.rs", "raw_url": "https://github.com/rust-lang/rust/raw/93a19bda173cdd9ef80aeb1b647eb4e9fd4f7955/crates%2Fra_mbe%2Fsrc%2Fsubtree_source.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_mbe%2Fsrc%2Fsubtree_source.rs?ref=93a19bda173cdd9ef80aeb1b647eb4e9fd4f7955", "patch": "@@ -1,7 +1,7 @@\n //! FIXME: write short doc here\n \n use ra_parser::{Token, TokenSource};\n-use ra_syntax::{lex_single_valid_syntax_kind, SmolStr, SyntaxKind, SyntaxKind::*, T};\n+use ra_syntax::{lex_single_syntax_kind, SmolStr, SyntaxKind, SyntaxKind::*, T};\n use std::cell::{Cell, Ref, RefCell};\n use tt::buffer::{Cursor, TokenBuffer};\n \n@@ -129,7 +129,8 @@ fn convert_delim(d: Option<tt::DelimiterKind>, closing: bool) -> TtToken {\n }\n \n fn convert_literal(l: &tt::Literal) -> TtToken {\n-    let kind = lex_single_valid_syntax_kind(&l.text)\n+    let kind = lex_single_syntax_kind(&l.text)\n+        .map(|(kind, _error)| kind)\n         .filter(|kind| kind.is_literal())\n         .unwrap_or_else(|| match l.text.as_ref() {\n             \"true\" => T![true],"}]}