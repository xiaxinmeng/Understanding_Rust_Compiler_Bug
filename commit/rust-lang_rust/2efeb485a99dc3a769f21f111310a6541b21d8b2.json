{"sha": "2efeb485a99dc3a769f21f111310a6541b21d8b2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJlZmViNDg1YTk5ZGMzYTc2OWYyMWYxMTEzMTBhNjU0MWIyMWQ4YjI=", "commit": {"author": {"name": "Eduard-Mihai Burtescu", "email": "edy.burt@gmail.com", "date": "2019-05-03T19:28:29Z"}, "committer": {"name": "Eduard-Mihai Burtescu", "email": "edy.burt@gmail.com", "date": "2019-05-04T02:10:46Z"}, "message": "rustc: collapse relevant DefPathData variants into ValueNs.", "tree": {"sha": "8b588ca8f70aa7046d8a6b6fd8810fd9e9ef4f68", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8b588ca8f70aa7046d8a6b6fd8810fd9e9ef4f68"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2efeb485a99dc3a769f21f111310a6541b21d8b2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2efeb485a99dc3a769f21f111310a6541b21d8b2", "html_url": "https://github.com/rust-lang/rust/commit/2efeb485a99dc3a769f21f111310a6541b21d8b2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2efeb485a99dc3a769f21f111310a6541b21d8b2/comments", "author": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e5b9f54cd99b425ffe99e732995b9fd3be7b1d36", "url": "https://api.github.com/repos/rust-lang/rust/commits/e5b9f54cd99b425ffe99e732995b9fd3be7b1d36", "html_url": "https://github.com/rust-lang/rust/commit/e5b9f54cd99b425ffe99e732995b9fd3be7b1d36"}], "stats": {"total": 14, "additions": 2, "deletions": 12}, "files": [{"sha": "3b2bdfc8b89f8c2933a361f40c18e34fcc4328b8", "filename": "src/librustc/hir/map/def_collector.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2efeb485a99dc3a769f21f111310a6541b21d8b2/src%2Flibrustc%2Fhir%2Fmap%2Fdef_collector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2efeb485a99dc3a769f21f111310a6541b21d8b2/src%2Flibrustc%2Fhir%2Fmap%2Fdef_collector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmap%2Fdef_collector.rs?ref=2efeb485a99dc3a769f21f111310a6541b21d8b2", "patch": "@@ -226,7 +226,7 @@ impl<'a> visit::Visitor<'a> for DefCollector<'a> {\n             let name = field.ident.map(|ident| ident.name)\n                 .unwrap_or_else(|| Symbol::intern(&index.to_string()));\n             let def = self.create_def(field.id,\n-                                      DefPathData::Field(name.as_interned_str()),\n+                                      DefPathData::ValueNs(name.as_interned_str()),\n                                       REGULAR_SPACE,\n                                       field.span);\n             self.with_parent(def, |this| this.visit_struct_field(field));\n@@ -238,7 +238,7 @@ impl<'a> visit::Visitor<'a> for DefCollector<'a> {\n         let def_path_data = match param.kind {\n             GenericParamKind::Lifetime { .. } => DefPathData::LifetimeParam(name),\n             GenericParamKind::Type { .. } => DefPathData::TypeNs(name),\n-            GenericParamKind::Const { .. } => DefPathData::ConstParam(name),\n+            GenericParamKind::Const { .. } => DefPathData::ValueNs(name),\n         };\n         self.create_def(param.id, def_path_data, REGULAR_SPACE, param.ident.span);\n "}, {"sha": "ddc76140167f413cdf6b628701f1a0be7c516527", "filename": "src/librustc/hir/map/definitions.rs", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/2efeb485a99dc3a769f21f111310a6541b21d8b2/src%2Flibrustc%2Fhir%2Fmap%2Fdefinitions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2efeb485a99dc3a769f21f111310a6541b21d8b2/src%2Flibrustc%2Fhir%2Fmap%2Fdefinitions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fhir%2Fmap%2Fdefinitions.rs?ref=2efeb485a99dc3a769f21f111310a6541b21d8b2", "patch": "@@ -348,10 +348,6 @@ pub enum DefPathData {\n     // Subportions of items\n     /// A lifetime (generic) parameter\n     LifetimeParam(InternedString),\n-    /// A const (generic) parameter\n-    ConstParam(InternedString),\n-    /// A struct field\n-    Field(InternedString),\n     /// Implicit ctor for a unit or tuple-like struct or enum variant.\n     Ctor,\n     /// A constant expression (see {ast,hir}::AnonConst).\n@@ -620,8 +616,6 @@ impl DefPathData {\n             ValueNs(name) |\n             MacroDef(name) |\n             LifetimeParam(name) |\n-            ConstParam(name) |\n-            Field(name) |\n             GlobalMetaData(name) => Some(name),\n \n             Impl |\n@@ -641,8 +635,6 @@ impl DefPathData {\n             ValueNs(name) |\n             MacroDef(name) |\n             LifetimeParam(name) |\n-            ConstParam(name) |\n-            Field(name) |\n             GlobalMetaData(name) => {\n                 return name\n             }"}, {"sha": "5836e510cadf41853c0096092ca0e4d6d2e0e64d", "filename": "src/librustc/ty/print/pretty.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2efeb485a99dc3a769f21f111310a6541b21d8b2/src%2Flibrustc%2Fty%2Fprint%2Fpretty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2efeb485a99dc3a769f21f111310a6541b21d8b2/src%2Flibrustc%2Fty%2Fprint%2Fpretty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Fprint%2Fpretty.rs?ref=2efeb485a99dc3a769f21f111310a6541b21d8b2", "patch": "@@ -859,9 +859,7 @@ impl TyCtxt<'_, '_, '_> {\n     fn guess_def_namespace(self, def_id: DefId) -> Namespace {\n         match self.def_key(def_id).disambiguated_data.data {\n             DefPathData::ValueNs(..) |\n-            DefPathData::Field(..) |\n             DefPathData::AnonConst |\n-            DefPathData::ConstParam(..) |\n             DefPathData::ClosureExpr |\n             DefPathData::Ctor => Namespace::ValueNS,\n "}]}