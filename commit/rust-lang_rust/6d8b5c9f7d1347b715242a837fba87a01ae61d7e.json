{"sha": "6d8b5c9f7d1347b715242a837fba87a01ae61d7e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZkOGI1YzlmN2QxMzQ3YjcxNTI0MmE4MzdmYmE4N2EwMWFlNjFkN2U=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-09-04T11:11:08Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2014-09-04T11:11:08Z"}, "message": "auto merge of #16976 : treeman/rust/issue-16943, r=kballard\n\nCloses #16943.", "tree": {"sha": "f6f47d91e70d14f10a57f04120e45ff255b27e60", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f6f47d91e70d14f10a57f04120e45ff255b27e60"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6d8b5c9f7d1347b715242a837fba87a01ae61d7e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6d8b5c9f7d1347b715242a837fba87a01ae61d7e", "html_url": "https://github.com/rust-lang/rust/commit/6d8b5c9f7d1347b715242a837fba87a01ae61d7e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6d8b5c9f7d1347b715242a837fba87a01ae61d7e/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "85e2e5a900eb1113b2cea1a4c828c64139692149", "url": "https://api.github.com/repos/rust-lang/rust/commits/85e2e5a900eb1113b2cea1a4c828c64139692149", "html_url": "https://github.com/rust-lang/rust/commit/85e2e5a900eb1113b2cea1a4c828c64139692149"}, {"sha": "38bf999f4a5337022211c9b990fcb7dfe0bccf32", "url": "https://api.github.com/repos/rust-lang/rust/commits/38bf999f4a5337022211c9b990fcb7dfe0bccf32", "html_url": "https://github.com/rust-lang/rust/commit/38bf999f4a5337022211c9b990fcb7dfe0bccf32"}], "stats": {"total": 25, "additions": 23, "deletions": 2}, "files": [{"sha": "3d6bb96063ee1fe4d44b953e7eb13d4bc1647df0", "filename": "src/libstd/io/fs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6d8b5c9f7d1347b715242a837fba87a01ae61d7e/src%2Flibstd%2Fio%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d8b5c9f7d1347b715242a837fba87a01ae61d7e/src%2Flibstd%2Fio%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Ffs.rs?ref=6d8b5c9f7d1347b715242a837fba87a01ae61d7e", "patch": "@@ -1274,7 +1274,7 @@ mod test {\n \n         error!(result, \"couldn't recursively mkdir\");\n         error!(result, \"couldn't create directory\");\n-        error!(result, \"mode=FilePermission { bits: 448 }\");\n+        error!(result, \"mode=0700\");\n         error!(result, format!(\"path={}\", file.display()));\n     })\n "}, {"sha": "c7996c549f474fb7dbaa1f3b3af7178552e51fc3", "filename": "src/libstd/io/mod.rs", "status": "modified", "additions": 22, "deletions": 1, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/6d8b5c9f7d1347b715242a837fba87a01ae61d7e/src%2Flibstd%2Fio%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6d8b5c9f7d1347b715242a837fba87a01ae61d7e/src%2Flibstd%2Fio%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fio%2Fmod.rs?ref=6d8b5c9f7d1347b715242a837fba87a01ae61d7e", "patch": "@@ -1797,7 +1797,6 @@ pub struct UnstableFileStat {\n bitflags!(\n     #[doc=\"A set of permissions for a file or directory is represented\n by a set of flags which are or'd together.\"]\n-    #[deriving(Show)]\n     flags FilePermission: u32 {\n         static UserRead     = 0o400,\n         static UserWrite    = 0o200,\n@@ -1836,6 +1835,14 @@ impl Default for FilePermission {\n     fn default() -> FilePermission { FilePermission::empty() }\n }\n \n+impl fmt::Show for FilePermission {\n+    fn fmt(&self, formatter: &mut fmt::Formatter) -> fmt::Result {\n+        formatter.fill = '0';\n+        formatter.width = Some(4);\n+        (&self.bits as &fmt::Octal).fmt(formatter)\n+    }\n+}\n+\n #[cfg(test)]\n mod tests {\n     use super::{IoResult, Reader, MemReader, NoProgress, InvalidInput};\n@@ -1937,4 +1944,18 @@ mod tests {\n         let mut r = MemReader::new(Vec::from_slice(b\"hello, world!\"));\n         assert_eq!(r.push_at_least(5, 1, &mut buf).unwrap_err().kind, InvalidInput);\n     }\n+\n+    #[test]\n+    fn test_show() {\n+        use super::*;\n+\n+        assert_eq!(format!(\"{}\", UserRead), \"0400\".to_string());\n+        assert_eq!(format!(\"{}\", UserFile), \"0644\".to_string());\n+        assert_eq!(format!(\"{}\", UserExec), \"0755\".to_string());\n+        assert_eq!(format!(\"{}\", UserRWX),  \"0700\".to_string());\n+        assert_eq!(format!(\"{}\", GroupRWX), \"0070\".to_string());\n+        assert_eq!(format!(\"{}\", OtherRWX), \"0007\".to_string());\n+        assert_eq!(format!(\"{}\", AllPermissions), \"0777\".to_string());\n+        assert_eq!(format!(\"{}\", UserRead | UserWrite | OtherWrite), \"0602\".to_string());\n+    }\n }"}]}