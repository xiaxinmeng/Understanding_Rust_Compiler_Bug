{"sha": "149c53fc442a690ea6a5c309f408cb2160039b9b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE0OWM1M2ZjNDQyYTY5MGVhNmE1YzMwOWY0MDhjYjIxNjAwMzliOWI=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-05-28T09:49:09Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-05-28T09:49:09Z"}, "message": "Rollup merge of #61248 - spastorino:use-place-local-fn, r=oli-obk\n\nUse Place::local\n\nr? @oli-obk", "tree": {"sha": "6afa790e230d5ecc9d3ee1849652e00c74688137", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6afa790e230d5ecc9d3ee1849652e00c74688137"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/149c53fc442a690ea6a5c309f408cb2160039b9b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJc7QQVCRBK7hj4Ov3rIwAAdHIIAH0KOl7iJfLFJAiuhrfgG2tr\nFwA1aikIjSlPsW3Q3AoHoSZuI6B+e/q9EruWt/dUTVIEsFbTlsTmwN4ejTcDf9Wg\ni1/pK3OJIgB1ZvLcisuqJn1/cA5oe9wZjRyXFtETxvJwKgqA4ul7sqDGvKSAuvtq\nL6ih6Yv9bSOXKw8XQrg3WE8D6mzf/Ac4+OLmqxhP/do1VY5Uz4ezU0rU1CecrmQG\nGCnB785U9YGGH//o0HoDxDLxdgqKGvKJcdv3EnpZatvo0UoeLW5EPjx3LzHHgMCQ\npM9YTVHXWyQyOIrCcll05PmswqdOGraYgw0mwrGnzfQBzSk5ZMdzzclyHeG5szA=\n=LccT\n-----END PGP SIGNATURE-----\n", "payload": "tree 6afa790e230d5ecc9d3ee1849652e00c74688137\nparent 1dc9bbbffe166f46845912e45f759f20b284a9f8\nparent 38ecea4c115114c0e8a19d90d1ca8b5af8f5cf85\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1559036949 +0200\ncommitter GitHub <noreply@github.com> 1559036949 +0200\n\nRollup merge of #61248 - spastorino:use-place-local-fn, r=oli-obk\n\nUse Place::local\n\nr? @oli-obk\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/149c53fc442a690ea6a5c309f408cb2160039b9b", "html_url": "https://github.com/rust-lang/rust/commit/149c53fc442a690ea6a5c309f408cb2160039b9b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/149c53fc442a690ea6a5c309f408cb2160039b9b/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1dc9bbbffe166f46845912e45f759f20b284a9f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/1dc9bbbffe166f46845912e45f759f20b284a9f8", "html_url": "https://github.com/rust-lang/rust/commit/1dc9bbbffe166f46845912e45f759f20b284a9f8"}, {"sha": "38ecea4c115114c0e8a19d90d1ca8b5af8f5cf85", "url": "https://api.github.com/repos/rust-lang/rust/commits/38ecea4c115114c0e8a19d90d1ca8b5af8f5cf85", "html_url": "https://github.com/rust-lang/rust/commit/38ecea4c115114c0e8a19d90d1ca8b5af8f5cf85"}], "stats": {"total": 10, "additions": 3, "deletions": 7}, "files": [{"sha": "07a9f294fb68cd455919ee2a63fa429b1053ff4d", "filename": "src/librustc_mir/build/expr/as_rvalue.rs", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/149c53fc442a690ea6a5c309f408cb2160039b9b/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_rvalue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/149c53fc442a690ea6a5c309f408cb2160039b9b/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_rvalue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fbuild%2Fexpr%2Fas_rvalue.rs?ref=149c53fc442a690ea6a5c309f408cb2160039b9b", "patch": "@@ -528,13 +528,9 @@ impl<'a, 'gcx, 'tcx> Builder<'a, 'gcx, 'tcx> {\n             }) => {\n                 // Not projected from the implicit `self` in a closure.\n                 debug_assert!(\n-                    match *base {\n-                        Place::Base(PlaceBase::Local(local)) => local == Local::new(1),\n-                        Place::Projection(box Projection {\n-                            ref base,\n-                            elem: ProjectionElem::Deref,\n-                        }) => *base == Place::Base(PlaceBase::Local(Local::new(1))),\n-                        _ => false,\n+                    match base.local() {\n+                        Some(local) => local == Local::new(1),\n+                        None => false,\n                     },\n                     \"Unexpected capture place\"\n                 );"}]}