{"sha": "6eb205d591863f03e661f79ea3cb993f69eff844", "node_id": "C_kwDOAAsO6NoAKDZlYjIwNWQ1OTE4NjNmMDNlNjYxZjc5ZWEzY2I5OTNmNjllZmY4NDQ", "commit": {"author": {"name": "R\u00e9my Rakic", "email": "remy.rakic+github@gmail.com", "date": "2022-11-23T18:20:57Z"}, "committer": {"name": "R\u00e9my Rakic", "email": "remy.rakic+github@gmail.com", "date": "2023-01-03T20:06:45Z"}, "message": "bootstrap dist: ensure LLD's step", "tree": {"sha": "a54ad30e139cb04de40a478bf378b3a73df649ab", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a54ad30e139cb04de40a478bf378b3a73df649ab"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6eb205d591863f03e661f79ea3cb993f69eff844", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6eb205d591863f03e661f79ea3cb993f69eff844", "html_url": "https://github.com/rust-lang/rust/commit/6eb205d591863f03e661f79ea3cb993f69eff844", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6eb205d591863f03e661f79ea3cb993f69eff844/comments", "author": {"login": "lqd", "id": 247183, "node_id": "MDQ6VXNlcjI0NzE4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/247183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lqd", "html_url": "https://github.com/lqd", "followers_url": "https://api.github.com/users/lqd/followers", "following_url": "https://api.github.com/users/lqd/following{/other_user}", "gists_url": "https://api.github.com/users/lqd/gists{/gist_id}", "starred_url": "https://api.github.com/users/lqd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lqd/subscriptions", "organizations_url": "https://api.github.com/users/lqd/orgs", "repos_url": "https://api.github.com/users/lqd/repos", "events_url": "https://api.github.com/users/lqd/events{/privacy}", "received_events_url": "https://api.github.com/users/lqd/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lqd", "id": 247183, "node_id": "MDQ6VXNlcjI0NzE4Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/247183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lqd", "html_url": "https://github.com/lqd", "followers_url": "https://api.github.com/users/lqd/followers", "following_url": "https://api.github.com/users/lqd/following{/other_user}", "gists_url": "https://api.github.com/users/lqd/gists{/gist_id}", "starred_url": "https://api.github.com/users/lqd/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lqd/subscriptions", "organizations_url": "https://api.github.com/users/lqd/orgs", "repos_url": "https://api.github.com/users/lqd/repos", "events_url": "https://api.github.com/users/lqd/events{/privacy}", "received_events_url": "https://api.github.com/users/lqd/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "312c9a37f26d1f0a98fc410109abb961e945b85e", "url": "https://api.github.com/repos/rust-lang/rust/commits/312c9a37f26d1f0a98fc410109abb961e945b85e", "html_url": "https://github.com/rust-lang/rust/commit/312c9a37f26d1f0a98fc410109abb961e945b85e"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "479bfeb8e85650f5ddffff2044184ccce2d7a357", "filename": "src/bootstrap/dist.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6eb205d591863f03e661f79ea3cb993f69eff844/src%2Fbootstrap%2Fdist.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6eb205d591863f03e661f79ea3cb993f69eff844/src%2Fbootstrap%2Fdist.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdist.rs?ref=6eb205d591863f03e661f79ea3cb993f69eff844", "patch": "@@ -2067,6 +2067,12 @@ impl Step for RustDev {\n \n         builder.ensure(crate::native::Llvm { target });\n \n+        // If the config has LLD enabled, ensure its step. We'll we want to package it, and use it\n+        // in download-ci-llvm.\n+        if builder.config.lld_enabled {\n+            builder.ensure(crate::native::Lld { target });\n+        }\n+\n         let src_bindir = builder.llvm_out(target).join(\"bin\");\n         // If updating this list, you likely want to change\n         // src/bootstrap/download-ci-llvm-stamp as well, otherwise local users"}]}