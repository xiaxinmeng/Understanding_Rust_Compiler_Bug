{"sha": "ec44ddc33a77192f2b9a03ec1747200f0fcb9ac3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVjNDRkZGMzM2E3NzE5MmYyYjlhMDNlYzE3NDcyMDBmMGZjYjlhYzM=", "commit": {"author": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2016-04-18T18:50:35Z"}, "committer": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2016-04-18T18:50:35Z"}, "message": "Rollup merge of #33058 - Manishearth:fx-E0102, r=GuillaumeGomez\n\nUpdate E0102's example (fixes #33057)\n\nr? @GuillaumeGomez", "tree": {"sha": "03694a63b8981a95826c275ce7ef7055f7f76e01", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/03694a63b8981a95826c275ce7ef7055f7f76e01"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ec44ddc33a77192f2b9a03ec1747200f0fcb9ac3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ec44ddc33a77192f2b9a03ec1747200f0fcb9ac3", "html_url": "https://github.com/rust-lang/rust/commit/ec44ddc33a77192f2b9a03ec1747200f0fcb9ac3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ec44ddc33a77192f2b9a03ec1747200f0fcb9ac3/comments", "author": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "committer": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "31374d8030a30803d018c7a70b70e59030713adb", "url": "https://api.github.com/repos/rust-lang/rust/commits/31374d8030a30803d018c7a70b70e59030713adb", "html_url": "https://github.com/rust-lang/rust/commit/31374d8030a30803d018c7a70b70e59030713adb"}, {"sha": "f089cf9b2ff2602edd989480b7cd9d4b8b820f84", "url": "https://api.github.com/repos/rust-lang/rust/commits/f089cf9b2ff2602edd989480b7cd9d4b8b820f84", "html_url": "https://github.com/rust-lang/rust/commit/f089cf9b2ff2602edd989480b7cd9d4b8b820f84"}], "stats": {"total": 33, "additions": 6, "deletions": 27}, "files": [{"sha": "582b9696bb1aa09c189029bf49cde33d55daf3dc", "filename": "src/librustc_typeck/diagnostics.rs", "status": "modified", "additions": 6, "deletions": 27, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/ec44ddc33a77192f2b9a03ec1747200f0fcb9ac3/src%2Flibrustc_typeck%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec44ddc33a77192f2b9a03ec1747200f0fcb9ac3/src%2Flibrustc_typeck%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fdiagnostics.rs?ref=ec44ddc33a77192f2b9a03ec1747200f0fcb9ac3", "patch": "@@ -1420,45 +1420,24 @@ fn main() {\n \"##,\n \n E0102: r##\"\n-You hit this error because the compiler lacks information to\n-determine a type for this variable. Erroneous code example:\n+You hit this error because the compiler lacks the information to\n+determine the type of this variable. Erroneous code example:\n \n ```compile_fail\n-fn demo(devil: fn () -> !) {\n-    let x: &_ = devil();\n-    // error: cannot determine a type for this local variable\n-}\n-\n-fn oh_no() -> ! { panic!(\"the devil is in the details\") }\n-\n fn main() {\n-    demo(oh_no);\n+    // could be an array of anything\n+    let x = []; // error: cannot determine a type for this local variable\n }\n ```\n \n To solve this situation, constrain the type of the variable.\n Examples:\n \n-```no_run\n+```\n #![allow(unused_variables)]\n \n-fn some_func(x: &u32) {\n-    // some code\n-}\n-\n-fn demo(devil: fn () -> !) {\n-    let x: &u32 = devil();\n-    // Here we defined the type at the variable creation\n-\n-    let x: &_ = devil();\n-    some_func(x);\n-    // Here, the type is determined by the function argument type\n-}\n-\n-fn oh_no() -> ! { panic!(\"the devil is in the details\") }\n-\n fn main() {\n-    demo(oh_no);\n+    let x: [u8; 0] = [];\n }\n ```\n \"##,"}]}