{"sha": "5f2ecc37f895f2eeea84651c9246ffea97e5b0fe", "node_id": "C_kwDOAAsO6NoAKDVmMmVjYzM3Zjg5NWYyZWVlYTg0NjUxYzkyNDZmZmVhOTdlNWIwZmU", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2021-10-17T20:20:30Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2021-10-17T20:20:30Z"}, "message": "rustc_span: `Ident::invalid` -> `Ident::empty`\n\nThe equivalent for `Symbol`s was renamed some time ago (`kw::Invalid` -> `kw::Empty`), and it makes sense to do the same thing for `Ident`s.", "tree": {"sha": "ad86bd2157481e511ddae6dc5a997e544a3494c1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad86bd2157481e511ddae6dc5a997e544a3494c1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe", "html_url": "https://github.com/rust-lang/rust/commit/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0a23fff82d44153c5756ec81fc8fe47f595dc2ee", "url": "https://api.github.com/repos/rust-lang/rust/commits/0a23fff82d44153c5756ec81fc8fe47f595dc2ee", "html_url": "https://github.com/rust-lang/rust/commit/0a23fff82d44153c5756ec81fc8fe47f595dc2ee"}], "stats": {"total": 17, "additions": 8, "deletions": 9}, "files": [{"sha": "95b8c6dfe89eea23435b45dfd0ae6386ae34367a", "filename": "tests/ui-internal/unnecessary_symbol_str.fixed", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe/tests%2Fui-internal%2Funnecessary_symbol_str.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe/tests%2Fui-internal%2Funnecessary_symbol_str.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-internal%2Funnecessary_symbol_str.fixed?ref=5f2ecc37f895f2eeea84651c9246ffea97e5b0fe", "patch": "@@ -11,6 +11,6 @@ fn main() {\n     Symbol::intern(\"foo\") == rustc_span::sym::clippy;\n     Symbol::intern(\"foo\") == rustc_span::symbol::kw::SelfLower;\n     Symbol::intern(\"foo\") != rustc_span::symbol::kw::SelfUpper;\n-    Ident::invalid().name == rustc_span::sym::clippy;\n-    rustc_span::sym::clippy == Ident::invalid().name;\n+    Ident::empty().name == rustc_span::sym::clippy;\n+    rustc_span::sym::clippy == Ident::empty().name;\n }"}, {"sha": "ad6937cf60a65c71035adde5ff4ea9a6681ce63b", "filename": "tests/ui-internal/unnecessary_symbol_str.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe/tests%2Fui-internal%2Funnecessary_symbol_str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe/tests%2Fui-internal%2Funnecessary_symbol_str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-internal%2Funnecessary_symbol_str.rs?ref=5f2ecc37f895f2eeea84651c9246ffea97e5b0fe", "patch": "@@ -11,6 +11,6 @@ fn main() {\n     Symbol::intern(\"foo\").as_str() == \"clippy\";\n     Symbol::intern(\"foo\").to_string() == \"self\";\n     Symbol::intern(\"foo\").to_ident_string() != \"Self\";\n-    &*Ident::invalid().as_str() == \"clippy\";\n-    \"clippy\" == Ident::invalid().to_string();\n+    &*Ident::empty().as_str() == \"clippy\";\n+    \"clippy\" == Ident::empty().to_string();\n }"}, {"sha": "8e04d447fbcaaa3de92c81f26ff4cc450c5f39cd", "filename": "tests/ui-internal/unnecessary_symbol_str.stderr", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe/tests%2Fui-internal%2Funnecessary_symbol_str.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5f2ecc37f895f2eeea84651c9246ffea97e5b0fe/tests%2Fui-internal%2Funnecessary_symbol_str.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-internal%2Funnecessary_symbol_str.stderr?ref=5f2ecc37f895f2eeea84651c9246ffea97e5b0fe", "patch": "@@ -26,14 +26,13 @@ LL |     Symbol::intern(\"foo\").to_ident_string() != \"Self\";\n error: unnecessary `Symbol` to string conversion\n   --> $DIR/unnecessary_symbol_str.rs:14:5\n    |\n-LL |     &*Ident::invalid().as_str() == \"clippy\";\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `Ident::invalid().name == rustc_span::sym::clippy`\n+LL |     &*Ident::empty().as_str() == \"clippy\";\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `Ident::empty().name == rustc_span::sym::clippy`\n \n error: unnecessary `Symbol` to string conversion\n   --> $DIR/unnecessary_symbol_str.rs:15:5\n    |\n-LL |     \"clippy\" == Ident::invalid().to_string();\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `rustc_span::sym::clippy == Ident::invalid().name`\n+LL |     \"clippy\" == Ident::empty().to_string();\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: try: `rustc_span::sym::clippy == Ident::empty().name`\n \n error: aborting due to 5 previous errors\n-"}]}