{"sha": "239cf80c7395c7b51199835273ea86982a5175d1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIzOWNmODBjNzM5NWM3YjUxMTk5ODM1MjczZWE4Njk4MmE1MTc1ZDE=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-05-20T02:09:02Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-05-20T02:09:10Z"}, "message": "rustc: Remove dead code in encoder", "tree": {"sha": "34265a73313fdc6d01ce7701d02dcf0b387390c1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/34265a73313fdc6d01ce7701d02dcf0b387390c1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/239cf80c7395c7b51199835273ea86982a5175d1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/239cf80c7395c7b51199835273ea86982a5175d1", "html_url": "https://github.com/rust-lang/rust/commit/239cf80c7395c7b51199835273ea86982a5175d1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/239cf80c7395c7b51199835273ea86982a5175d1/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c8426d1e781389eee702027d91aed173a450ba7a", "url": "https://api.github.com/repos/rust-lang/rust/commits/c8426d1e781389eee702027d91aed173a450ba7a", "html_url": "https://github.com/rust-lang/rust/commit/c8426d1e781389eee702027d91aed173a450ba7a"}], "stats": {"total": 4, "additions": 1, "deletions": 3}, "files": [{"sha": "c4e3d974615b71bb8ee9035806571e455bdeefb6", "filename": "src/rustc/metadata/encoder.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/239cf80c7395c7b51199835273ea86982a5175d1/src%2Frustc%2Fmetadata%2Fencoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/239cf80c7395c7b51199835273ea86982a5175d1/src%2Frustc%2Fmetadata%2Fencoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmetadata%2Fencoder.rs?ref=239cf80c7395c7b51199835273ea86982a5175d1", "patch": "@@ -406,15 +406,13 @@ fn encode_info_for_mod(ecx: @encode_ctxt, ebml_w: ebml::writer, md: _mod,\n             alt ecx.tcx.items.get(did.node) {\n               ast_map::node_item(it@@{node: cl@item_class(*),_},_) {\n                 ebml_w.wr_str(def_to_str(local_def(it.id)));\n-                some(ty::lookup_item_type(ecx.tcx, did).ty)\n               }\n               ast_map::node_item(@{node: item_impl(_,_,\n                                                    some(ifce),_,_),_},_) {\n                 ebml_w.wr_str(def_to_str(did));\n-                some(ty::node_id_to_type(ecx.tcx, ifce.id))\n               }\n               _ {\n-                ebml_w.wr_str(def_to_str(did)); none\n+                ebml_w.wr_str(def_to_str(did));\n               }\n             };\n             ebml_w.end_tag();"}]}