{"sha": "eb36f5ee5b71cbe3eb356f8e56e9c9a69b6d649d", "node_id": "C_kwDOAAsO6NoAKGViMzZmNWVlNWI3MWNiZTNlYjM1NmY4ZTU2ZTljOWE2OWI2ZDY0OWQ", "commit": {"author": {"name": "Ding Xiang Fei", "email": "dingxiangfei2009@protonmail.ch", "date": "2022-09-18T04:18:34Z"}, "committer": {"name": "Ding Xiang Fei", "email": "dingxiangfei2009@protonmail.ch", "date": "2022-09-18T04:18:34Z"}, "message": "add miri test via const fn", "tree": {"sha": "eae33d93cd34af6882d931df4c742aea712180bc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/eae33d93cd34af6882d931df4c742aea712180bc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eb36f5ee5b71cbe3eb356f8e56e9c9a69b6d649d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE0u8S3YU336XkLsQOPNdIZH7vY1kFAmMmnBoACgkQPNdIZH7v\nY1l/tBAAhkunF+Sm5eqlcvfDBlZwBET/En39va3QQPMrwj4De97TxFbH6ebP8vVk\n60J4pHrWazIUQR3Z6QlQuz1xOPibM6FnJOQ3qYvx+5l7ckkpOWyekKRxbGaVOBIS\nv+GkrcZ2zL55GX7BFI7jzL591Kiyu9S/AKEXmmw67p+Wsr5VUPTb+RroW0jtj/ZD\nN08dollTf+961ir0NwnlR9osrMLPxt0vRwST3TQymNT+1V9ZOHXL45NwTOhnCFH2\n1AibzvbNvtPYsYxwDlyBQSmuuUsjirwhuAqzXd3uoLx0v3trWLZj1n+8gGGb+IMD\n2xta1oCWOPwp2XcoQCbOAcfbvIeP5LBDfJyfmKTRzK1FKChQ4FFZa6pvr4C6CB3+\nQ1blpyjF9HdZRiLuJff111Vo4NoSkXqKk/r4qEVXQs2c9mjMj5hbZbO6MRRi0qiq\n5zzDj4+TA3uyeV8zdfzPEBa1zT9HUPsI71u/N0KOO8XwjYxhQ/Gyta8SEYdnj3yY\nNONe8Aw35bJSJIUk6tp+7rvUW89tKNc1b8KQagER6jpJE6kDD0LULUmnbov/HuZX\nUuPddYlMV4ikMwUxZo5v+FzmT/qg39SOjNYTPsrIevse1de9W5XwxHieHw3k4ULC\nY+8QzIM9Y17lGq2eknyDs/guFZQ2e5ne99GoYLOTpxjiAg+/r/s=\n=qn2N\n-----END PGP SIGNATURE-----", "payload": "tree eae33d93cd34af6882d931df4c742aea712180bc\nparent d510ba3bc3b6d41e36cb40b64af65637de39ff8b\nauthor Ding Xiang Fei <dingxiangfei2009@protonmail.ch> 1663474714 +0800\ncommitter Ding Xiang Fei <dingxiangfei2009@protonmail.ch> 1663474714 +0800\n\nadd miri test via const fn\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eb36f5ee5b71cbe3eb356f8e56e9c9a69b6d649d", "html_url": "https://github.com/rust-lang/rust/commit/eb36f5ee5b71cbe3eb356f8e56e9c9a69b6d649d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eb36f5ee5b71cbe3eb356f8e56e9c9a69b6d649d/comments", "author": {"login": "dingxiangfei2009", "id": 6884440, "node_id": "MDQ6VXNlcjY4ODQ0NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6884440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dingxiangfei2009", "html_url": "https://github.com/dingxiangfei2009", "followers_url": "https://api.github.com/users/dingxiangfei2009/followers", "following_url": "https://api.github.com/users/dingxiangfei2009/following{/other_user}", "gists_url": "https://api.github.com/users/dingxiangfei2009/gists{/gist_id}", "starred_url": "https://api.github.com/users/dingxiangfei2009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dingxiangfei2009/subscriptions", "organizations_url": "https://api.github.com/users/dingxiangfei2009/orgs", "repos_url": "https://api.github.com/users/dingxiangfei2009/repos", "events_url": "https://api.github.com/users/dingxiangfei2009/events{/privacy}", "received_events_url": "https://api.github.com/users/dingxiangfei2009/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dingxiangfei2009", "id": 6884440, "node_id": "MDQ6VXNlcjY4ODQ0NDA=", "avatar_url": "https://avatars.githubusercontent.com/u/6884440?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dingxiangfei2009", "html_url": "https://github.com/dingxiangfei2009", "followers_url": "https://api.github.com/users/dingxiangfei2009/followers", "following_url": "https://api.github.com/users/dingxiangfei2009/following{/other_user}", "gists_url": "https://api.github.com/users/dingxiangfei2009/gists{/gist_id}", "starred_url": "https://api.github.com/users/dingxiangfei2009/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dingxiangfei2009/subscriptions", "organizations_url": "https://api.github.com/users/dingxiangfei2009/orgs", "repos_url": "https://api.github.com/users/dingxiangfei2009/repos", "events_url": "https://api.github.com/users/dingxiangfei2009/events{/privacy}", "received_events_url": "https://api.github.com/users/dingxiangfei2009/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d510ba3bc3b6d41e36cb40b64af65637de39ff8b", "url": "https://api.github.com/repos/rust-lang/rust/commits/d510ba3bc3b6d41e36cb40b64af65637de39ff8b", "html_url": "https://github.com/rust-lang/rust/commit/d510ba3bc3b6d41e36cb40b64af65637de39ff8b"}], "stats": {"total": 21, "additions": 20, "deletions": 1}, "files": [{"sha": "931396e2171f053a9172fe37becbe451e932dae5", "filename": "src/test/mir-opt/issue-101867.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/eb36f5ee5b71cbe3eb356f8e56e9c9a69b6d649d/src%2Ftest%2Fmir-opt%2Fissue-101867.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb36f5ee5b71cbe3eb356f8e56e9c9a69b6d649d/src%2Ftest%2Fmir-opt%2Fissue-101867.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fissue-101867.rs?ref=eb36f5ee5b71cbe3eb356f8e56e9c9a69b6d649d", "patch": "@@ -1,4 +1,4 @@\n-#![feature(let_else)]\n+#![cfg_attr(bootstrap, feature(let_else))]\n \n // EMIT_MIR issue_101867.main.mir_map.0.mir\n fn main() {"}, {"sha": "336b0b4b72ad5c518a39a246950382db4e86cd62", "filename": "src/test/ui/let-else/const-fn.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/eb36f5ee5b71cbe3eb356f8e56e9c9a69b6d649d/src%2Ftest%2Fui%2Flet-else%2Fconst-fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb36f5ee5b71cbe3eb356f8e56e9c9a69b6d649d/src%2Ftest%2Fui%2Flet-else%2Fconst-fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flet-else%2Fconst-fn.rs?ref=eb36f5ee5b71cbe3eb356f8e56e9c9a69b6d649d", "patch": "@@ -0,0 +1,19 @@\n+// run-pass\n+// issue #101932\n+\n+#![cfg_attr(bootstrap, feature(let_else))]\n+\n+const fn foo(a: Option<i32>) -> i32 {\n+    let Some(a) = a else {\n+        return 42\n+    };\n+\n+    a + 1\n+}\n+\n+fn main() {\n+    const A: i32 = foo(None);\n+    const B: i32 = foo(Some(1));\n+\n+    println!(\"{} {}\", A, B);\n+}"}]}