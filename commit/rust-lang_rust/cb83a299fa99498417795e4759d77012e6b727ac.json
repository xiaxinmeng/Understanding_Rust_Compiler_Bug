{"sha": "cb83a299fa99498417795e4759d77012e6b727ac", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNiODNhMjk5ZmE5OTQ5ODQxNzc5NWU0NzU5ZDc3MDEyZTZiNzI3YWM=", "commit": {"author": {"name": "Bood Qian", "email": "bood@glowing.com", "date": "2017-02-04T12:02:53Z"}, "committer": {"name": "Bood Qian", "email": "bood@glowing.com", "date": "2017-02-04T12:02:53Z"}, "message": "Add test cases for possible missing comma lint", "tree": {"sha": "eac38f7b7fcd2c47bf18f41a3c0e9ab91ec87a4f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/eac38f7b7fcd2c47bf18f41a3c0e9ab91ec87a4f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cb83a299fa99498417795e4759d77012e6b727ac", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cb83a299fa99498417795e4759d77012e6b727ac", "html_url": "https://github.com/rust-lang/rust/commit/cb83a299fa99498417795e4759d77012e6b727ac", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cb83a299fa99498417795e4759d77012e6b727ac/comments", "author": null, "committer": null, "parents": [{"sha": "33577ec3f7f20ed642203580d26a151aac781bdf", "url": "https://api.github.com/repos/rust-lang/rust/commits/33577ec3f7f20ed642203580d26a151aac781bdf", "html_url": "https://github.com/rust-lang/rust/commit/33577ec3f7f20ed642203580d26a151aac781bdf"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "6c6671b0aa40ef186e09a6f125e3fb888c39667d", "filename": "tests/compile-fail/formatting.rs", "status": "modified", "additions": 21, "deletions": 1, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/cb83a299fa99498417795e4759d77012e6b727ac/tests%2Fcompile-fail%2Fformatting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb83a299fa99498417795e4759d77012e6b727ac/tests%2Fcompile-fail%2Fformatting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fformatting.rs?ref=cb83a299fa99498417795e4759d77012e6b727ac", "patch": "@@ -98,10 +98,30 @@ fn main() {\n     b = !false;\n \n     // possible missing comma in an array\n-    let mut c = &[\n+    let _ = &[\n         -1, -2, -3 // <= no coma here\n         //~^ ERROR possibly missing a comma here\n         //~| NOTE to remove this lint, add a comma or write the expr in a single line\n         -4, -5, -6\n     ];\n+    let _ = &[\n+        -1, -2, -3 // <= no coma here\n+        //~^ ERROR possibly missing a comma here\n+        //~| NOTE to remove this lint, add a comma or write the expr in a single line\n+        *4, -5, -6\n+    ];\n+\n+    // those are ok:\n+    let _ = &[\n+        -1, -2, -3,\n+        -4, -5, -6\n+    ];\n+    let _ = &[\n+        -1, -2, -3,\n+        -4, -5, -6,\n+    ];\n+    let _ = &[\n+        1 + 2, 3 +\n+        4, 5 + 6,\n+    ];\n }"}]}