{"sha": "35dddd3deaccb42ad9d47eb72b8a8979d9df7492", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM1ZGRkZDNkZWFjY2I0MmFkOWQ0N2ViNzJiOGE4OTc5ZDlkZjc0OTI=", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2021-07-28T09:28:18Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-07-28T09:28:18Z"}, "message": "Rollup merge of #87500 - Smittyvb:min-max-docs, r=kennytm\n\nDocument math behind MIN/MAX consts on integers\n\nCurrently the documentation for `[integer]::{MIN, MAX}` doesn't explain where the constants come from. This documents how the values of those constants are related to powers of 2.", "tree": {"sha": "2f7a2475cb2f2f2e5d8824100e483b8a66785eab", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f7a2475cb2f2f2e5d8824100e483b8a66785eab"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/35dddd3deaccb42ad9d47eb72b8a8979d9df7492", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhASMyCRBK7hj4Ov3rIwAA3CMIAArAcJts2HcAKN2HPu8vAM+G\nvTjV7vnc9llky+Vxh+infB7+oFIvRGDs0tWaXfYo92B3XYkzADOW9teqByymzB0U\n71ugNg/vH99SagI9qHmC1n5rkCE8nvj+OFrhjjypAIF+RdvVmJFsij4sQTDxI5tn\nqhuIO5OLzw8mKbgO8lhPfBWGlM3Pzkt1DJKrCS4uy2BpqGWnE9OHD3yNNBtv0CWN\nusIbgMaszHImH7HKNxjTclLNpV/2j6suFr7G/r/3XpmatgQ65fK1DHTGGMAyGTF5\nIjMZxy8tlBWCFXOJyKEfLGt0RBihitCvNQFm0P94Pg8R3TnS7YnnQtuuMM7uyj8=\n=8OP4\n-----END PGP SIGNATURE-----\n", "payload": "tree 2f7a2475cb2f2f2e5d8824100e483b8a66785eab\nparent 954137ea0e36232dd43b68876140f40a3bf0fe88\nparent 0e017496eb588ac9cfe3e892fc7083996f5f3397\nauthor Yuki Okushi <jtitor@2k36.org> 1627464498 +0900\ncommitter GitHub <noreply@github.com> 1627464498 +0900\n\nRollup merge of #87500 - Smittyvb:min-max-docs, r=kennytm\n\nDocument math behind MIN/MAX consts on integers\n\nCurrently the documentation for `[integer]::{MIN, MAX}` doesn't explain where the constants come from. This documents how the values of those constants are related to powers of 2.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/35dddd3deaccb42ad9d47eb72b8a8979d9df7492", "html_url": "https://github.com/rust-lang/rust/commit/35dddd3deaccb42ad9d47eb72b8a8979d9df7492", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/35dddd3deaccb42ad9d47eb72b8a8979d9df7492/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "954137ea0e36232dd43b68876140f40a3bf0fe88", "url": "https://api.github.com/repos/rust-lang/rust/commits/954137ea0e36232dd43b68876140f40a3bf0fe88", "html_url": "https://github.com/rust-lang/rust/commit/954137ea0e36232dd43b68876140f40a3bf0fe88"}, {"sha": "0e017496eb588ac9cfe3e892fc7083996f5f3397", "url": "https://api.github.com/repos/rust-lang/rust/commits/0e017496eb588ac9cfe3e892fc7083996f5f3397", "html_url": "https://github.com/rust-lang/rust/commit/0e017496eb588ac9cfe3e892fc7083996f5f3397"}], "stats": {"total": 27, "additions": 15, "deletions": 12}, "files": [{"sha": "67bad772549770c5fcb5ef144b72ee23d7837f05", "filename": "library/core/src/num/int_macros.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/35dddd3deaccb42ad9d47eb72b8a8979d9df7492/library%2Fcore%2Fsrc%2Fnum%2Fint_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35dddd3deaccb42ad9d47eb72b8a8979d9df7492/library%2Fcore%2Fsrc%2Fnum%2Fint_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fnum%2Fint_macros.rs?ref=35dddd3deaccb42ad9d47eb72b8a8979d9df7492", "patch": "@@ -1,9 +1,10 @@\n macro_rules! int_impl {\n-    ($SelfT:ty, $ActualT:ident, $UnsignedT:ty, $BITS:expr, $Min:expr, $Max:expr,\n+    ($SelfT:ty, $ActualT:ident, $UnsignedT:ty, $BITS:expr, $BITS_MINUS_ONE:expr, $Min:expr, $Max:expr,\n      $rot:expr, $rot_op:expr, $rot_result:expr, $swap_op:expr, $swapped:expr,\n      $reversed:expr, $le_bytes:expr, $be_bytes:expr,\n      $to_xe_bytes_doc:expr, $from_xe_bytes_doc:expr) => {\n-        /// The smallest value that can be represented by this integer type.\n+        /// The smallest value that can be represented by this integer type,\n+        #[doc = concat!(\"-2<sup>\", $BITS_MINUS_ONE, \"</sup>.\")]\n         ///\n         /// # Examples\n         ///\n@@ -15,7 +16,8 @@ macro_rules! int_impl {\n         #[stable(feature = \"assoc_int_consts\", since = \"1.43.0\")]\n         pub const MIN: Self = !0 ^ ((!0 as $UnsignedT) >> 1) as Self;\n \n-        /// The largest value that can be represented by this integer type.\n+        /// The largest value that can be represented by this integer type,\n+        #[doc = concat!(\"2<sup>\", $BITS_MINUS_ONE, \"</sup> - 1.\")]\n         ///\n         /// # Examples\n         ///"}, {"sha": "6c43d6d62128e71be7944f8ce9e35850920b6038", "filename": "library/core/src/num/mod.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/35dddd3deaccb42ad9d47eb72b8a8979d9df7492/library%2Fcore%2Fsrc%2Fnum%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35dddd3deaccb42ad9d47eb72b8a8979d9df7492/library%2Fcore%2Fsrc%2Fnum%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fnum%2Fmod.rs?ref=35dddd3deaccb42ad9d47eb72b8a8979d9df7492", "patch": "@@ -91,34 +91,34 @@ depending on the target pointer size.\n \n #[lang = \"i8\"]\n impl i8 {\n-    int_impl! { i8, i8, u8, 8, -128, 127, 2, \"-0x7e\", \"0xa\", \"0x12\", \"0x12\", \"0x48\",\n+    int_impl! { i8, i8, u8, 8, 7, -128, 127, 2, \"-0x7e\", \"0xa\", \"0x12\", \"0x12\", \"0x48\",\n     \"[0x12]\", \"[0x12]\", \"\", \"\" }\n }\n \n #[lang = \"i16\"]\n impl i16 {\n-    int_impl! { i16, i16, u16, 16, -32768, 32767, 4, \"-0x5ffd\", \"0x3a\", \"0x1234\", \"0x3412\",\n+    int_impl! { i16, i16, u16, 16, 15, -32768, 32767, 4, \"-0x5ffd\", \"0x3a\", \"0x1234\", \"0x3412\",\n     \"0x2c48\", \"[0x34, 0x12]\", \"[0x12, 0x34]\", \"\", \"\" }\n }\n \n #[lang = \"i32\"]\n impl i32 {\n-    int_impl! { i32, i32, u32, 32, -2147483648, 2147483647, 8, \"0x10000b3\", \"0xb301\",\n+    int_impl! { i32, i32, u32, 32, 31, -2147483648, 2147483647, 8, \"0x10000b3\", \"0xb301\",\n     \"0x12345678\", \"0x78563412\", \"0x1e6a2c48\", \"[0x78, 0x56, 0x34, 0x12]\",\n     \"[0x12, 0x34, 0x56, 0x78]\", \"\", \"\" }\n }\n \n #[lang = \"i64\"]\n impl i64 {\n-    int_impl! { i64, i64, u64, 64, -9223372036854775808, 9223372036854775807, 12,\n+    int_impl! { i64, i64, u64, 64, 63, -9223372036854775808, 9223372036854775807, 12,\n     \"0xaa00000000006e1\", \"0x6e10aa\", \"0x1234567890123456\", \"0x5634129078563412\",\n     \"0x6a2c48091e6a2c48\", \"[0x56, 0x34, 0x12, 0x90, 0x78, 0x56, 0x34, 0x12]\",\n     \"[0x12, 0x34, 0x56, 0x78, 0x90, 0x12, 0x34, 0x56]\", \"\", \"\" }\n }\n \n #[lang = \"i128\"]\n impl i128 {\n-    int_impl! { i128, i128, u128, 128, -170141183460469231731687303715884105728,\n+    int_impl! { i128, i128, u128, 128, 127, -170141183460469231731687303715884105728,\n     170141183460469231731687303715884105727, 16,\n     \"0x13f40000000000000000000000004f76\", \"0x4f7613f4\", \"0x12345678901234567890123456789012\",\n     \"0x12907856341290785634129078563412\", \"0x48091e6a2c48091e6a2c48091e6a2c48\",\n@@ -131,15 +131,15 @@ impl i128 {\n #[cfg(target_pointer_width = \"16\")]\n #[lang = \"isize\"]\n impl isize {\n-    int_impl! { isize, i16, usize, 16, -32768, 32767, 4, \"-0x5ffd\", \"0x3a\", \"0x1234\",\n+    int_impl! { isize, i16, usize, 16, 15, -32768, 32767, 4, \"-0x5ffd\", \"0x3a\", \"0x1234\",\n     \"0x3412\", \"0x2c48\", \"[0x34, 0x12]\", \"[0x12, 0x34]\",\n     usize_isize_to_xe_bytes_doc!(), usize_isize_from_xe_bytes_doc!() }\n }\n \n #[cfg(target_pointer_width = \"32\")]\n #[lang = \"isize\"]\n impl isize {\n-    int_impl! { isize, i32, usize, 32, -2147483648, 2147483647, 8, \"0x10000b3\", \"0xb301\",\n+    int_impl! { isize, i32, usize, 32, 31, -2147483648, 2147483647, 8, \"0x10000b3\", \"0xb301\",\n     \"0x12345678\", \"0x78563412\", \"0x1e6a2c48\", \"[0x78, 0x56, 0x34, 0x12]\",\n     \"[0x12, 0x34, 0x56, 0x78]\",\n     usize_isize_to_xe_bytes_doc!(), usize_isize_from_xe_bytes_doc!() }\n@@ -148,7 +148,7 @@ impl isize {\n #[cfg(target_pointer_width = \"64\")]\n #[lang = \"isize\"]\n impl isize {\n-    int_impl! { isize, i64, usize, 64, -9223372036854775808, 9223372036854775807,\n+    int_impl! { isize, i64, usize, 64, 63, -9223372036854775808, 9223372036854775807,\n     12, \"0xaa00000000006e1\", \"0x6e10aa\",  \"0x1234567890123456\", \"0x5634129078563412\",\n      \"0x6a2c48091e6a2c48\", \"[0x56, 0x34, 0x12, 0x90, 0x78, 0x56, 0x34, 0x12]\",\n      \"[0x12, 0x34, 0x56, 0x78, 0x90, 0x12, 0x34, 0x56]\","}, {"sha": "bed7cd7259993c745b18829cea89a27060b19d65", "filename": "library/core/src/num/uint_macros.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/35dddd3deaccb42ad9d47eb72b8a8979d9df7492/library%2Fcore%2Fsrc%2Fnum%2Fuint_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/35dddd3deaccb42ad9d47eb72b8a8979d9df7492/library%2Fcore%2Fsrc%2Fnum%2Fuint_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fnum%2Fuint_macros.rs?ref=35dddd3deaccb42ad9d47eb72b8a8979d9df7492", "patch": "@@ -15,7 +15,8 @@ macro_rules! uint_impl {\n         #[stable(feature = \"assoc_int_consts\", since = \"1.43.0\")]\n         pub const MIN: Self = 0;\n \n-        /// The largest value that can be represented by this integer type.\n+        /// The largest value that can be represented by this integer type,\n+        #[doc = concat!(\"2<sup>\", $BITS, \"</sup> - 1.\")]\n         ///\n         /// # Examples\n         ///"}]}