{"sha": "65ad5f8de72c6994b6d2059bf5622af48de3afe4", "node_id": "C_kwDOAAsO6NoAKDY1YWQ1ZjhkZTcyYzY5OTRiNmQyMDU5YmY1NjIyYWY0OGRlM2FmZTQ", "commit": {"author": {"name": "yukang", "email": "moorekang@gmail.com", "date": "2023-02-28T07:56:34Z"}, "committer": {"name": "yukang", "email": "moorekang@gmail.com", "date": "2023-02-28T07:57:17Z"}, "message": "remove duplicated diagnostic for unclosed delimiter", "tree": {"sha": "08dce6410866888fb6c5c5e9d6bb612a5777cc76", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/08dce6410866888fb6c5c5e9d6bb612a5777cc76"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/65ad5f8de72c6994b6d2059bf5622af48de3afe4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/65ad5f8de72c6994b6d2059bf5622af48de3afe4", "html_url": "https://github.com/rust-lang/rust/commit/65ad5f8de72c6994b6d2059bf5622af48de3afe4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/65ad5f8de72c6994b6d2059bf5622af48de3afe4/comments", "author": {"login": "chenyukang", "id": 230646, "node_id": "MDQ6VXNlcjIzMDY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/230646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenyukang", "html_url": "https://github.com/chenyukang", "followers_url": "https://api.github.com/users/chenyukang/followers", "following_url": "https://api.github.com/users/chenyukang/following{/other_user}", "gists_url": "https://api.github.com/users/chenyukang/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenyukang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenyukang/subscriptions", "organizations_url": "https://api.github.com/users/chenyukang/orgs", "repos_url": "https://api.github.com/users/chenyukang/repos", "events_url": "https://api.github.com/users/chenyukang/events{/privacy}", "received_events_url": "https://api.github.com/users/chenyukang/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chenyukang", "id": 230646, "node_id": "MDQ6VXNlcjIzMDY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/230646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chenyukang", "html_url": "https://github.com/chenyukang", "followers_url": "https://api.github.com/users/chenyukang/followers", "following_url": "https://api.github.com/users/chenyukang/following{/other_user}", "gists_url": "https://api.github.com/users/chenyukang/gists{/gist_id}", "starred_url": "https://api.github.com/users/chenyukang/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chenyukang/subscriptions", "organizations_url": "https://api.github.com/users/chenyukang/orgs", "repos_url": "https://api.github.com/users/chenyukang/repos", "events_url": "https://api.github.com/users/chenyukang/events{/privacy}", "received_events_url": "https://api.github.com/users/chenyukang/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f01d0c02e7fccc866c3adb7b95e96ec9b4974a37", "url": "https://api.github.com/repos/rust-lang/rust/commits/f01d0c02e7fccc866c3adb7b95e96ec9b4974a37", "html_url": "https://github.com/rust-lang/rust/commit/f01d0c02e7fccc866c3adb7b95e96ec9b4974a37"}], "stats": {"total": 395, "additions": 82, "deletions": 313}, "files": [{"sha": "fc57b1b6ae9b885b3afe39071503a9215f3668f8", "filename": "compiler/rustc_parse/src/lexer/tokentrees.rs", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/compiler%2Frustc_parse%2Fsrc%2Flexer%2Ftokentrees.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/compiler%2Frustc_parse%2Fsrc%2Flexer%2Ftokentrees.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Flexer%2Ftokentrees.rs?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -34,7 +34,7 @@ impl<'a> TokenTreesReader<'a> {\n         let mut buf = Vec::new();\n         loop {\n             match self.token.kind {\n-                token::OpenDelim(delim) => buf.push(self.parse_token_tree_open_delim(delim)),\n+                token::OpenDelim(delim) => buf.push(self.parse_token_tree_open_delim(delim)?),\n                 token::CloseDelim(delim) => {\n                     return if is_delimited {\n                         Ok(TokenStream::new(buf))\n@@ -43,10 +43,11 @@ impl<'a> TokenTreesReader<'a> {\n                     };\n                 }\n                 token::Eof => {\n-                    if is_delimited {\n-                        self.eof_err().emit();\n-                    }\n-                    return Ok(TokenStream::new(buf));\n+                    return if is_delimited {\n+                        Err(self.eof_err())\n+                    } else {\n+                        Ok(TokenStream::new(buf))\n+                    };\n                 }\n                 _ => {\n                     // Get the next normal token. This might require getting multiple adjacent\n@@ -98,7 +99,7 @@ impl<'a> TokenTreesReader<'a> {\n         err\n     }\n \n-    fn parse_token_tree_open_delim(&mut self, open_delim: Delimiter) -> TokenTree {\n+    fn parse_token_tree_open_delim(&mut self, open_delim: Delimiter) -> PResult<'a, TokenTree> {\n         // The span for beginning of the delimited section\n         let pre_span = self.token.span;\n \n@@ -107,7 +108,7 @@ impl<'a> TokenTreesReader<'a> {\n         // Parse the token trees within the delimiters.\n         // We stop at any delimiter so we can try to recover if the user\n         // uses an incorrect delimiter.\n-        let tts = self.parse_token_trees(/* is_delimited */ true).unwrap();\n+        let tts = self.parse_token_trees(/* is_delimited */ true)?;\n \n         // Expand to cover the entire delimited token tree\n         let delim_span = DelimSpan::from_pair(pre_span, self.token.span);\n@@ -190,7 +191,7 @@ impl<'a> TokenTreesReader<'a> {\n             _ => unreachable!(),\n         }\n \n-        TokenTree::Delimited(delim_span, open_delim, tts)\n+        Ok(TokenTree::Delimited(delim_span, open_delim, tts))\n     }\n \n     fn close_delim_err(&mut self, delim: Delimiter) -> PErr<'a> {"}, {"sha": "728d51f34a49a015533fc607dc9db488a8515604", "filename": "tests/ui/lint/issue-104897.stderr", "status": "modified", "additions": 1, "deletions": 21, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Flint%2Fissue-104897.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Flint%2Fissue-104897.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint%2Fissue-104897.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -8,25 +8,5 @@ LL | fn f(){(print!(\u00e1\n    |       |unclosed delimiter\n    |       unclosed delimiter\n \n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-104897.rs:5:18\n-   |\n-LL | fn f(){(print!(\u00e1\n-   |       --      -  ^\n-   |       ||      |\n-   |       ||      unclosed delimiter\n-   |       |unclosed delimiter\n-   |       unclosed delimiter\n-\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-104897.rs:5:18\n-   |\n-LL | fn f(){(print!(\u00e1\n-   |       --      -  ^\n-   |       ||      |\n-   |       ||      unclosed delimiter\n-   |       |unclosed delimiter\n-   |       unclosed delimiter\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to previous error\n "}, {"sha": "adbf27fcca2f4e34aba18cb91de02f9830225267", "filename": "tests/ui/lint/unused_parens_multibyte_recovery.stderr", "status": "modified", "additions": 1, "deletions": 21, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Flint%2Funused_parens_multibyte_recovery.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Flint%2Funused_parens_multibyte_recovery.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint%2Funused_parens_multibyte_recovery.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -8,25 +8,5 @@ LL | fn f(){(print!(\u00e1\n    |       |unclosed delimiter\n    |       unclosed delimiter\n \n-error: this file contains an unclosed delimiter\n-  --> $DIR/unused_parens_multibyte_recovery.rs:10:17\n-   |\n-LL | fn f(){(print!(\u00e1\n-   |       --      - ^\n-   |       ||      |\n-   |       ||      unclosed delimiter\n-   |       |unclosed delimiter\n-   |       unclosed delimiter\n-\n-error: this file contains an unclosed delimiter\n-  --> $DIR/unused_parens_multibyte_recovery.rs:10:17\n-   |\n-LL | fn f(){(print!(\u00e1\n-   |       --      - ^\n-   |       ||      |\n-   |       ||      unclosed delimiter\n-   |       |unclosed delimiter\n-   |       unclosed delimiter\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to previous error\n "}, {"sha": "89e0d982eafdc860a66f19ce018ebd4ddb834b22", "filename": "tests/ui/malformed/issue-107423-unused-delim-only-one-no-pair.stderr", "status": "modified", "additions": 1, "deletions": 21, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fmalformed%2Fissue-107423-unused-delim-only-one-no-pair.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fmalformed%2Fissue-107423-unused-delim-only-one-no-pair.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fmalformed%2Fissue-107423-unused-delim-only-one-no-pair.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -8,25 +8,5 @@ LL | fn a(){{{\n    |       |unclosed delimiter\n    |       unclosed delimiter\n \n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-107423-unused-delim-only-one-no-pair.rs:7:11\n-   |\n-LL | fn a(){{{\n-   |       --- ^\n-   |       |||\n-   |       ||unclosed delimiter\n-   |       |unclosed delimiter\n-   |       unclosed delimiter\n-\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-107423-unused-delim-only-one-no-pair.rs:7:11\n-   |\n-LL | fn a(){{{\n-   |       --- ^\n-   |       |||\n-   |       ||unclosed delimiter\n-   |       |unclosed delimiter\n-   |       unclosed delimiter\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to previous error\n "}, {"sha": "6aacd5012c14f89f96c15190aef50a4be35e66ae", "filename": "tests/ui/parser/issue-103451.stderr", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissue-103451.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissue-103451.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissue-103451.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -8,15 +8,5 @@ LL |     x: [u8; R\n    |        |\n    |        unclosed delimiter\n \n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-103451.rs:4:15\n-   |\n-LL | struct S {\n-   |          - unclosed delimiter\n-LL |     x: [u8; R\n-   |        -      ^\n-   |        |\n-   |        unclosed delimiter\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n "}, {"sha": "de3b33ecd95c62f46569bd680daf349a3d3e53c8", "filename": "tests/ui/parser/issue-81804.stderr", "status": "modified", "additions": 6, "deletions": 15, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissue-81804.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissue-81804.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissue-81804.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -1,11 +1,10 @@\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-81804.rs:6:11\n+error: mismatched closing delimiter: `}`\n+  --> $DIR/issue-81804.rs:6:8\n    |\n LL | fn p([=(}\n-   |     --    ^\n-   |     ||\n-   |     |unclosed delimiter\n-   |     unclosed delimiter\n+   |        ^^ mismatched closing delimiter\n+   |        |\n+   |        unclosed delimiter\n \n error: this file contains an unclosed delimiter\n   --> $DIR/issue-81804.rs:6:11\n@@ -16,13 +15,5 @@ LL | fn p([=(}\n    |     |unclosed delimiter\n    |     unclosed delimiter\n \n-error: mismatched closing delimiter: `}`\n-  --> $DIR/issue-81804.rs:6:8\n-   |\n-LL | fn p([=(}\n-   |        ^^ mismatched closing delimiter\n-   |        |\n-   |        unclosed delimiter\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n "}, {"sha": "63d135f73e69f0e9f1c28636792b5cda5504c9b7", "filename": "tests/ui/parser/issue-81827.stderr", "status": "modified", "additions": 7, "deletions": 17, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissue-81827.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissue-81827.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissue-81827.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -1,12 +1,11 @@\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-81827.rs:10:27\n+error: mismatched closing delimiter: `]`\n+  --> $DIR/issue-81827.rs:10:23\n    |\n LL | fn r()->i{0|{#[cfg(r(0{]0\n-   |          -  -          -  ^\n-   |          |  |          |\n-   |          |  |          missing open `[` for this delimiter\n-   |          |  unclosed delimiter\n-   |          unclosed delimiter\n+   |               -       ^^ mismatched closing delimiter\n+   |               |       |\n+   |               |       unclosed delimiter\n+   |               closing delimiter possibly meant for this\n \n error: this file contains an unclosed delimiter\n   --> $DIR/issue-81827.rs:10:27\n@@ -18,14 +17,5 @@ LL | fn r()->i{0|{#[cfg(r(0{]0\n    |          |  unclosed delimiter\n    |          unclosed delimiter\n \n-error: mismatched closing delimiter: `]`\n-  --> $DIR/issue-81827.rs:10:23\n-   |\n-LL | fn r()->i{0|{#[cfg(r(0{]0\n-   |               -       ^^ mismatched closing delimiter\n-   |               |       |\n-   |               |       unclosed delimiter\n-   |               closing delimiter possibly meant for this\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n "}, {"sha": "4637c795ae5ec2063b6e54cfa76ab7945110acf2", "filename": "tests/ui/parser/issues/issue-62554.stderr", "status": "modified", "additions": 1, "deletions": 45, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-62554.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-62554.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissues%2Fissue-62554.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -9,49 +9,5 @@ LL | fn foo(u: u8) { if u8 macro_rules! u8 { (u6) => { fn uuuuuuuuuuu() { use s\n    |               |                       |         unclosed delimiter\n    |               unclosed delimiter      unclosed delimiter\n \n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-62554.rs:5:89\n-   |\n-LL | fn foo(u: u8) { if u8 macro_rules! u8 { (u6) => { fn uuuuuuuuuuu() { use s loo mod u8 {\n-   |               -                       -         -                  -                  - ^\n-   |               |                       |         |                  |                  |\n-   |               |                       |         |                  |                  unclosed delimiter\n-   |               |                       |         |                  unclosed delimiter\n-   |               |                       |         unclosed delimiter\n-   |               unclosed delimiter      unclosed delimiter\n-\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-62554.rs:5:89\n-   |\n-LL | fn foo(u: u8) { if u8 macro_rules! u8 { (u6) => { fn uuuuuuuuuuu() { use s loo mod u8 {\n-   |               -                       -         -                  -                  - ^\n-   |               |                       |         |                  |                  |\n-   |               |                       |         |                  |                  unclosed delimiter\n-   |               |                       |         |                  unclosed delimiter\n-   |               |                       |         unclosed delimiter\n-   |               unclosed delimiter      unclosed delimiter\n-\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-62554.rs:5:89\n-   |\n-LL | fn foo(u: u8) { if u8 macro_rules! u8 { (u6) => { fn uuuuuuuuuuu() { use s loo mod u8 {\n-   |               -                       -         -                  -                  - ^\n-   |               |                       |         |                  |                  |\n-   |               |                       |         |                  |                  unclosed delimiter\n-   |               |                       |         |                  unclosed delimiter\n-   |               |                       |         unclosed delimiter\n-   |               unclosed delimiter      unclosed delimiter\n-\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-62554.rs:5:89\n-   |\n-LL | fn foo(u: u8) { if u8 macro_rules! u8 { (u6) => { fn uuuuuuuuuuu() { use s loo mod u8 {\n-   |               -                       -         -                  -                  - ^\n-   |               |                       |         |                  |                  |\n-   |               |                       |         |                  |                  unclosed delimiter\n-   |               |                       |         |                  unclosed delimiter\n-   |               |                       |         unclosed delimiter\n-   |               unclosed delimiter      unclosed delimiter\n-\n-error: aborting due to 5 previous errors\n+error: aborting due to previous error\n "}, {"sha": "700479076dfe8428c8455de132a23a01afdfdaaa", "filename": "tests/ui/parser/issues/issue-62894.stderr", "status": "modified", "additions": 1, "deletions": 25, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-62894.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-62894.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissues%2Fissue-62894.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -10,29 +10,5 @@ LL |\n LL | fn main() {}\n    |              ^\n \n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-62894.rs:6:14\n-   |\n-LL | fn f() { assert_eq!(f(), (), assert_eq!(assert_eq!\n-   |        -           -                   - unclosed delimiter\n-   |        |           |\n-   |        |           unclosed delimiter\n-   |        unclosed delimiter\n-LL |\n-LL | fn main() {}\n-   |              ^\n-\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-62894.rs:6:14\n-   |\n-LL | fn f() { assert_eq!(f(), (), assert_eq!(assert_eq!\n-   |        -           -                   - unclosed delimiter\n-   |        |           |\n-   |        |           unclosed delimiter\n-   |        unclosed delimiter\n-LL |\n-LL | fn main() {}\n-   |              ^\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to previous error\n "}, {"sha": "22d7545770223078c231a3dfbd3e17e025631126", "filename": "tests/ui/parser/issues/issue-62973.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-62973.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-62973.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissues%2Fissue-62973.rs?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -1,5 +1,5 @@\n // ignore-tidy-trailing-newlines\n-// error-pattern: aborting due to 4 previous errors\n+// error-pattern: aborting due to 3 previous errors\n \n fn main() {}\n "}, {"sha": "14411a8cb7849c17d197386bf0f2bca48ee2599a", "filename": "tests/ui/parser/issues/issue-62973.stderr", "status": "modified", "additions": 14, "deletions": 27, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-62973.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-62973.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissues%2Fissue-62973.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -1,29 +1,3 @@\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-62973.rs:8:2\n-   |\n-LL | fn p() { match s { v, E { [) {) }\n-   |        -         -         -  - missing open `(` for this delimiter\n-   |        |         |         |\n-   |        |         |         missing open `(` for this delimiter\n-   |        |         unclosed delimiter\n-   |        unclosed delimiter\n-LL |\n-LL |\n-   |  ^\n-\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-62973.rs:8:2\n-   |\n-LL | fn p() { match s { v, E { [) {) }\n-   |        -         -         -  - missing open `(` for this delimiter\n-   |        |         |         |\n-   |        |         |         missing open `(` for this delimiter\n-   |        |         unclosed delimiter\n-   |        unclosed delimiter\n-LL |\n-LL |\n-   |  ^\n-\n error: mismatched closing delimiter: `)`\n   --> $DIR/issue-62973.rs:6:27\n    |\n@@ -40,5 +14,18 @@ LL | fn p() { match s { v, E { [) {) }\n    |                              |\n    |                              unclosed delimiter\n \n-error: aborting due to 4 previous errors\n+error: this file contains an unclosed delimiter\n+  --> $DIR/issue-62973.rs:8:2\n+   |\n+LL | fn p() { match s { v, E { [) {) }\n+   |        -         -         -  - missing open `(` for this delimiter\n+   |        |         |         |\n+   |        |         |         missing open `(` for this delimiter\n+   |        |         unclosed delimiter\n+   |        unclosed delimiter\n+LL |\n+LL |\n+   |  ^\n+\n+error: aborting due to 3 previous errors\n "}, {"sha": "27c94f337bdb82ef0f541a2b32ed321a8f74e01d", "filename": "tests/ui/parser/issues/issue-63116.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-63116.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-63116.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissues%2Fissue-63116.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -1,3 +1,11 @@\n+error: mismatched closing delimiter: `]`\n+  --> $DIR/issue-63116.rs:3:14\n+   |\n+LL | impl W <s(f;Y(;]\n+   |              ^ ^ mismatched closing delimiter\n+   |              |\n+   |              unclosed delimiter\n+\n error: this file contains an unclosed delimiter\n   --> $DIR/issue-63116.rs:3:18\n    |\n@@ -7,13 +15,5 @@ LL | impl W <s(f;Y(;]\n    |          |     missing open `[` for this delimiter\n    |          unclosed delimiter\n \n-error: mismatched closing delimiter: `]`\n-  --> $DIR/issue-63116.rs:3:14\n-   |\n-LL | impl W <s(f;Y(;]\n-   |              ^ ^ mismatched closing delimiter\n-   |              |\n-   |              unclosed delimiter\n-\n error: aborting due to 2 previous errors\n "}, {"sha": "d61197dc566ac7a3d1476ce0e16a4d5703da9247", "filename": "tests/ui/parser/issues/issue-63135.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-63135.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-63135.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissues%2Fissue-63135.rs?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -1,3 +1,3 @@\n // error-pattern: this file contains an unclosed delimiter\n-// error-pattern: aborting due to 2 previous errors\n+// error-pattern: aborting due to previous error\n fn i(n{...,f #"}, {"sha": "ff9d99c28fe7d58b1938716d0a955c5420624874", "filename": "tests/ui/parser/issues/issue-63135.stderr", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-63135.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-63135.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissues%2Fissue-63135.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -7,14 +7,5 @@ LL | fn i(n{...,f #\n    |     | unclosed delimiter\n    |     unclosed delimiter\n \n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-63135.rs:3:16\n-   |\n-LL | fn i(n{...,f #\n-   |     - -        ^\n-   |     | |\n-   |     | unclosed delimiter\n-   |     unclosed delimiter\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n "}, {"sha": "9f631edf680c8edcb68d55af5269f16a745f7585", "filename": "tests/ui/parser/issues/issue-67377-invalid-syntax-in-enum-discriminant.stderr", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-67377-invalid-syntax-in-enum-discriminant.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-67377-invalid-syntax-in-enum-discriminant.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissues%2Fissue-67377-invalid-syntax-in-enum-discriminant.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -1,21 +1,3 @@\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-67377-invalid-syntax-in-enum-discriminant.rs:23:65\n-   |\n-LL |         V = [PhantomData; { [ () ].len() ].len() as isize,\n-   |                                          - missing open `[` for this delimiter\n-...\n-LL |         V = [Vec::new; { [].len()  ].len() as isize,\n-   |                                    - missing open `[` for this delimiter\n-...\n-LL | mod c {\n-   |       - unclosed delimiter\n-LL |     enum Bug {\n-LL |         V = [Vec::new; { [0].len() ].len() as isize,\n-   |                                    - missing open `[` for this delimiter\n-...\n-LL | fn main() {}\n-   |                                                                 ^\n-\n error: mismatched closing delimiter: `]`\n   --> $DIR/issue-67377-invalid-syntax-in-enum-discriminant.rs:5:27\n    |\n@@ -43,5 +25,23 @@ LL |         V = [Vec::new; { [0].len() ].len() as isize,\n    |             |          unclosed delimiter\n    |             closing delimiter possibly meant for this\n \n+error: this file contains an unclosed delimiter\n+  --> $DIR/issue-67377-invalid-syntax-in-enum-discriminant.rs:23:65\n+   |\n+LL |         V = [PhantomData; { [ () ].len() ].len() as isize,\n+   |                                          - missing open `[` for this delimiter\n+...\n+LL |         V = [Vec::new; { [].len()  ].len() as isize,\n+   |                                    - missing open `[` for this delimiter\n+...\n+LL | mod c {\n+   |       - unclosed delimiter\n+LL |     enum Bug {\n+LL |         V = [Vec::new; { [0].len() ].len() as isize,\n+   |                                    - missing open `[` for this delimiter\n+...\n+LL | fn main() {}\n+   |                                                                 ^\n+\n error: aborting due to 4 previous errors\n "}, {"sha": "2562baa1c49c3034012d9721c128aecc4303dc02", "filename": "tests/ui/parser/issues/issue-68629.stderr", "status": "modified", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-68629.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-68629.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissues%2Fissue-68629.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4"}, {"sha": "836f44953d4a8c941eb0097b40f5de9a8c0bce34", "filename": "tests/ui/parser/issues/issue-88770.stderr", "status": "modified", "additions": 1, "deletions": 25, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-88770.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fissues%2Fissue-88770.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fissues%2Fissue-88770.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -10,29 +10,5 @@ LL | fn m(){print!(\"\",(c for&g\n LL | e\n    |   ^\n \n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-88770.rs:8:3\n-   |\n-LL | fn m(){print!(\"\",(c for&g\n-   |       -      -   - unclosed delimiter\n-   |       |      |\n-   |       |      unclosed delimiter\n-   |       unclosed delimiter\n-...\n-LL | e\n-   |   ^\n-\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-88770.rs:8:3\n-   |\n-LL | fn m(){print!(\"\",(c for&g\n-   |       -      -   - unclosed delimiter\n-   |       |      |\n-   |       |      unclosed delimiter\n-   |       unclosed delimiter\n-...\n-LL | e\n-   |   ^\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to previous error\n "}, {"sha": "e240f8c6739eed1502e10d15387188060caeac92", "filename": "tests/ui/parser/missing_right_paren.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fmissing_right_paren.rs", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fmissing_right_paren.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fmissing_right_paren.rs?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -1,4 +1,4 @@\n // ignore-tidy-trailing-newlines\n // error-pattern: this file contains an unclosed delimiter\n-// error-pattern: aborting due to 2 previous errors\n+// error-pattern: aborting due to previous error\n fn main((\u063c\n\\ No newline at end of file"}, {"sha": "994ce4d8541c0f70b6f4567f92ef9509c99212f6", "filename": "tests/ui/parser/missing_right_paren.stderr", "status": "modified", "additions": 1, "deletions": 10, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fmissing_right_paren.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Fparser%2Fmissing_right_paren.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fparser%2Fmissing_right_paren.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -7,14 +7,5 @@ LL | fn main((\u063c\n    |        |unclosed delimiter\n    |        unclosed delimiter\n \n-error: this file contains an unclosed delimiter\n-  --> $DIR/missing_right_paren.rs:4:11\n-   |\n-LL | fn main((\u063c\n-   |        -- ^\n-   |        ||\n-   |        |unclosed delimiter\n-   |        unclosed delimiter\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n "}, {"sha": "a3619d863e259a3d43b6f0ccdfdb9796b8e8e21b", "filename": "tests/ui/type/issue-91268.stderr", "status": "modified", "additions": 1, "deletions": 11, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Ftype%2Fissue-91268.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Ftype%2Fissue-91268.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftype%2Fissue-91268.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -8,15 +8,5 @@ LL |     0: u8(\u0163\n    |          |\n    |          unclosed delimiter\n \n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-91268.rs:5:12\n-   |\n-LL | fn main() {\n-   |           - unclosed delimiter\n-LL |     0: u8(\u0163\n-   |          - ^\n-   |          |\n-   |          unclosed delimiter\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n "}, {"sha": "7cb30eea530c6043e9f7c61f99f26d544eb58c36", "filename": "tests/ui/typeck/issue-91334.stderr", "status": "modified", "additions": 7, "deletions": 17, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Ftypeck%2Fissue-91334.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/65ad5f8de72c6994b6d2059bf5622af48de3afe4/tests%2Fui%2Ftypeck%2Fissue-91334.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Ftypeck%2Fissue-91334.stderr?ref=65ad5f8de72c6994b6d2059bf5622af48de3afe4", "patch": "@@ -1,12 +1,11 @@\n-error: this file contains an unclosed delimiter\n-  --> $DIR/issue-91334.rs:7:23\n+error: mismatched closing delimiter: `)`\n+  --> $DIR/issue-91334.rs:7:19\n    |\n LL | fn f(){||yield(((){),\n-   |       -       -    -  ^\n-   |       |       |    |\n-   |       |       |    missing open `(` for this delimiter\n-   |       |       unclosed delimiter\n-   |       unclosed delimiter\n+   |                -  ^^ mismatched closing delimiter\n+   |                |  |\n+   |                |  unclosed delimiter\n+   |                closing delimiter possibly meant for this\n \n error: this file contains an unclosed delimiter\n   --> $DIR/issue-91334.rs:7:23\n@@ -18,14 +17,5 @@ LL | fn f(){||yield(((){),\n    |       |       unclosed delimiter\n    |       unclosed delimiter\n \n-error: mismatched closing delimiter: `)`\n-  --> $DIR/issue-91334.rs:7:19\n-   |\n-LL | fn f(){||yield(((){),\n-   |                -  ^^ mismatched closing delimiter\n-   |                |  |\n-   |                |  unclosed delimiter\n-   |                closing delimiter possibly meant for this\n-\n-error: aborting due to 3 previous errors\n+error: aborting due to 2 previous errors\n "}]}