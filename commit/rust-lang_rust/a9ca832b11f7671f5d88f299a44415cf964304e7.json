{"sha": "a9ca832b11f7671f5d88f299a44415cf964304e7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE5Y2E4MzJiMTFmNzY3MWY1ZDg4ZjI5OWE0NDQxNWNmOTY0MzA0ZTc=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-06-07T19:33:03Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-06-07T19:37:55Z"}, "message": "Fix rebase fallout", "tree": {"sha": "86214f7bd6e8b6019dd46de753a2ce2ac040dfe8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/86214f7bd6e8b6019dd46de753a2ce2ac040dfe8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a9ca832b11f7671f5d88f299a44415cf964304e7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqv54U47RUUXZfOLnLO/Nsn7QvnkFAl7dQhMACgkQLO/Nsn7Q\nvnmHhxAAs5MiFt17WGj91bEkm8BB6I/fFl1fm7/V9bhCqfewGQ289Vu6ELjDCcVL\nShEpLJ990seNpfTeFAmLXzTipEKquHy6EdQCd1DV87BGm26Y3kosE0Ac3BPMM9Nt\nzJ02qZRb2pvbTrJjNwyjoYjmvM9KQ4gGexQQebdeg4w16HtnO3FGc46bhoHC+Sky\nWFWXLw/6NNPwZQkQj3b3S9rxu/QxnzvDWjqN8EC8wfYMyJFzQqKVruVV9TCt7v0E\nQg9pbv5sIzEaLQeawhYKbHa019Cxo+/Yyx7ZI2lQo1AK06MdyKwgOM8koRFzyWZN\nT8NrYz6MQLZOZ9l14Gjwq/KsXbhOWG4e9+iFZO5D7gGedtt4tcvSKgoiihy76i3N\n/Sx0KBls0+uQL1D59uyNo/5SOWyIcxm99j37T3MhlfEx3FrIcpVNy7TkC+mrmaB+\nr8tVgtNWpsFqwSP3lsMOdzexYA5j8cTu2Ncal5grPpfBkcbnnmwdw7xysrOufkC4\nLj3nRCkStBrqYVaO+idfhLBblTAxtiOhCsB/H6sLj5bnu0NrhU1LJg5PYcFoKuuZ\nxo4MTOCmDut90VpjzGV8KBZ1PNbsaLgthl0RYHayVdHxrF4YjC3WbgCFpQTWvtpC\nvK3OqEem9xiOI6tMdF7cE4eOKZF+HR2R2cp+8eRsgx1u1fX9TVc=\n=c5yP\n-----END PGP SIGNATURE-----", "payload": "tree 86214f7bd6e8b6019dd46de753a2ce2ac040dfe8\nparent ecabed67ec75ac6498c6176a7a6de3ad53b2e54b\nauthor flip1995 <hello@philkrones.com> 1591558383 +0200\ncommitter flip1995 <hello@philkrones.com> 1591558675 +0200\n\nFix rebase fallout\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a9ca832b11f7671f5d88f299a44415cf964304e7", "html_url": "https://github.com/rust-lang/rust/commit/a9ca832b11f7671f5d88f299a44415cf964304e7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a9ca832b11f7671f5d88f299a44415cf964304e7/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ecabed67ec75ac6498c6176a7a6de3ad53b2e54b", "url": "https://api.github.com/repos/rust-lang/rust/commits/ecabed67ec75ac6498c6176a7a6de3ad53b2e54b", "html_url": "https://github.com/rust-lang/rust/commit/ecabed67ec75ac6498c6176a7a6de3ad53b2e54b"}], "stats": {"total": 20, "additions": 8, "deletions": 12}, "files": [{"sha": "a88f922d8e03d32f7efba2c23fc6711f07e29fc2", "filename": "clippy_lints/src/await_holding_lock.rs", "status": "modified", "additions": 7, "deletions": 12, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/a9ca832b11f7671f5d88f299a44415cf964304e7/clippy_lints%2Fsrc%2Fawait_holding_lock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9ca832b11f7671f5d88f299a44415cf964304e7/clippy_lints%2Fsrc%2Fawait_holding_lock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fawait_holding_lock.rs?ref=a9ca832b11f7671f5d88f299a44415cf964304e7", "patch": "@@ -54,18 +54,13 @@ declare_lint_pass!(AwaitHoldingLock => [AWAIT_HOLDING_LOCK]);\n impl LateLintPass<'_, '_> for AwaitHoldingLock {\n     fn check_body(&mut self, cx: &LateContext<'_, '_>, body: &'_ Body<'_>) {\n         use AsyncGeneratorKind::{Block, Closure, Fn};\n-        match body.generator_kind {\n-            Some(GeneratorKind::Async(Block))\n-            | Some(GeneratorKind::Async(Closure))\n-            | Some(GeneratorKind::Async(Fn)) => {\n-                let body_id = BodyId {\n-                    hir_id: body.value.hir_id,\n-                };\n-                let def_id = cx.tcx.hir().body_owner_def_id(body_id);\n-                let tables = cx.tcx.typeck_tables_of(def_id);\n-                check_interior_types(cx, &tables.generator_interior_types, body.value.span);\n-            },\n-            _ => {},\n+        if let Some(GeneratorKind::Async(Block | Closure | Fn)) = body.generator_kind {\n+            let body_id = BodyId {\n+                hir_id: body.value.hir_id,\n+            };\n+            let def_id = cx.tcx.hir().body_owner_def_id(body_id);\n+            let tables = cx.tcx.typeck_tables_of(def_id);\n+            check_interior_types(cx, &tables.generator_interior_types, body.value.span);\n         }\n     }\n }"}, {"sha": "dcf09da198e2fe4965b93944796d485c696ae602", "filename": "clippy_lints/src/utils/ast_utils.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a9ca832b11f7671f5d88f299a44415cf964304e7/clippy_lints%2Fsrc%2Futils%2Fast_utils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a9ca832b11f7671f5d88f299a44415cf964304e7/clippy_lints%2Fsrc%2Futils%2Fast_utils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fast_utils.rs?ref=a9ca832b11f7671f5d88f299a44415cf964304e7", "patch": "@@ -7,6 +7,7 @@\n use crate::utils::{both, over};\n use rustc_ast::ast::{self, *};\n use rustc_ast::ptr::P;\n+use rustc_span::symbol::Ident;\n use std::mem;\n \n /// Checks if each element in the first slice is contained within the latter as per `eq_fn`."}]}