{"sha": "743ff73e20848dc769ebface2b3164c33ded5bae", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc0M2ZmNzNlMjA4NDhkYzc2OWViZmFjZTJiMzE2NGMzM2RlZDViYWU=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-10-09T16:16:24Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-10-09T16:27:22Z"}, "message": "Rollup merge of #45117 - johnthagen:fix-str-raise, r=alexcrichton\n\nFix raising a bare str as an exception in configure.py\n\nRaising a bare `str` has been [deprecated since Python 2.5](https://docs.python.org/2/whatsnew/2.5.html#pep-352-exceptions-as-new-style-classes).\n\nOn Python 2.7 it produces the following error:\n\n```\nTypeError: exceptions must be old-style classes or derived from BaseException, not str\n```\n\nFor maximum compatibility with Python 2.7 and 3.x, we wrap the error message in `RuntimeError` which derives from `Exception`.", "tree": {"sha": "71fb3d1c6386db615f7158f63dffb643e6df9c46", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/71fb3d1c6386db615f7158f63dffb643e6df9c46"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/743ff73e20848dc769ebface2b3164c33ded5bae", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAlnbo2oACgkQ/vbIBR0O\nATw5HRAApxS5Nfo5r1o+l2NFLlcoHdpb30nJoEcgcM3q1etUCDTimkX91Dgwr1bX\noRrYkDUuSKpAGFvkXN4HM7T+7MKvzMOKj43JW00tdAp0eBVJf7pCaiG4bfpLZsfI\nlgvhdw/uo0Qh+kCjhss2gQOa5/pK03F3tfSzTBJmeLB47yQnN9omcMgH//dKQflQ\nd9jGFidO7cH0yO1U0oUC5GrxJK135V8eZS0JiYK36Veg13bkQn92dR7hXNfRct/y\ndqHRPHQF/s4mDqOvBmdHInnlq+YPz7XBxXi3kL/KMZcw8TaHbX3IDdBYkJo8OXqX\nSsXyeHTi5Qr6SCzuS951p7QL44ysID4Yu9OL1yNYBqcOMSqHocdvW382uzw7zhop\ngaNNkld9elMlFCZRqZxzKTwQvPVao2Mvl6Jh7++rCMXFc8O/OBYFo5QV9mo4Pnpz\nNcIPv661QVgYzjyGhXOl9QFxcxMECAi8hsaT1wJvoKv+Psj94LzBTzALM0c0vTX4\njiziUi9TH6VuhI6xj3aoxLto0sRQX1hXjC4KOZV0Aib/0FDJQWfHufFT/haKKYO6\n8UHGtOzB9zky+BSEtWfMs0mmTzv4k2yv6WAdqtccdsDEamMl7N6oVcdGmsIoSRst\ns/rU6IUNSu3d+HKJ861IbKLoBPEpy66VxOQtpmTXHmPbF6XxvFY=\n=psIs\n-----END PGP SIGNATURE-----", "payload": "tree 71fb3d1c6386db615f7158f63dffb643e6df9c46\nparent 4c992111a3dee7eccdf789d730c26746b7d9b4ba\nparent dee517a286de6387ad75291f3f8068ada99f2a92\nauthor kennytm <kennytm@gmail.com> 1507565784 +0800\ncommitter kennytm <kennytm@gmail.com> 1507566442 +0800\n\nRollup merge of #45117 - johnthagen:fix-str-raise, r=alexcrichton\n\nFix raising a bare str as an exception in configure.py\n\nRaising a bare `str` has been [deprecated since Python 2.5](https://docs.python.org/2/whatsnew/2.5.html#pep-352-exceptions-as-new-style-classes).\n\nOn Python 2.7 it produces the following error:\n\n```\nTypeError: exceptions must be old-style classes or derived from BaseException, not str\n```\n\nFor maximum compatibility with Python 2.7 and 3.x, we wrap the error message in `RuntimeError` which derives from `Exception`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/743ff73e20848dc769ebface2b3164c33ded5bae", "html_url": "https://github.com/rust-lang/rust/commit/743ff73e20848dc769ebface2b3164c33ded5bae", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/743ff73e20848dc769ebface2b3164c33ded5bae/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4c992111a3dee7eccdf789d730c26746b7d9b4ba", "url": "https://api.github.com/repos/rust-lang/rust/commits/4c992111a3dee7eccdf789d730c26746b7d9b4ba", "html_url": "https://github.com/rust-lang/rust/commit/4c992111a3dee7eccdf789d730c26746b7d9b4ba"}, {"sha": "dee517a286de6387ad75291f3f8068ada99f2a92", "url": "https://api.github.com/repos/rust-lang/rust/commits/dee517a286de6387ad75291f3f8068ada99f2a92", "html_url": "https://github.com/rust-lang/rust/commit/dee517a286de6387ad75291f3f8068ada99f2a92"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "176e94355287f3429e1b7bbc8186e7c7a84d7100", "filename": "src/bootstrap/configure.py", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/743ff73e20848dc769ebface2b3164c33ded5bae/src%2Fbootstrap%2Fconfigure.py", "raw_url": "https://github.com/rust-lang/rust/raw/743ff73e20848dc769ebface2b3164c33ded5bae/src%2Fbootstrap%2Fconfigure.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfigure.py?ref=743ff73e20848dc769ebface2b3164c33ded5bae", "patch": "@@ -360,7 +360,7 @@ def to_toml(value):\n     elif isinstance(value, str):\n         return \"'\" + value + \"'\"\n     else:\n-        raise 'no toml'\n+        raise RuntimeError('no toml')\n \n def configure_section(lines, config):\n     for key in config:"}]}