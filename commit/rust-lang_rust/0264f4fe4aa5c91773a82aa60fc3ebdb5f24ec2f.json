{"sha": "0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAyNjRmNGZlNGFhNWM5MTc3M2E4MmFhNjBmYzNlYmRiNWYyNGVjMmY=", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2021-05-26T04:30:54Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-05-26T04:30:54Z"}, "message": "Rollup merge of #84048 - konan8205:master, r=jsha\n\nAvoid CJK legacy fonts in Windows\n\nAs metioned in #84035, the default serif CJK font in Windows is meh-looking.\nTo avoid this, we should use sans-serif font or provide CJK glyph supported font in `rustdoc.css`.", "tree": {"sha": "f8f51efeaa24913cc14b0f17f08b0134f05b90d5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f8f51efeaa24913cc14b0f17f08b0134f05b90d5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgrc8ACRBK7hj4Ov3rIwAA2sAIAHSkrU42pj2lDxcgNhgkZzLD\nx6mbP/uBxRowzKKIgFkHRGLYlkloWUwTRBsyyIkNVGXbO1EYy7IttB846Pc3OEKS\nZbksiNStKhldplZboddybzKtIxk+hejOBvp0cEevH/41LQ4dcN0V3wF+eT1a5GP8\n0z76ckbiocNYPuIYeIl/kNuFrw6mjDNPzpC2976aIp6Nz9QfuB/K3V94/Ksr6LJc\negnuY0dT0b1rBHnTY2BNptGV4J8G1a8tBepIOIQys61FRoHyPaO3c/wQtuSrm9Ci\ngIom9K9tYWzB2LKS6hXqKF89GydUSa8t7eSQlVqFFXl8tDnFydu7h+fTl1tf+d8=\n=WDzd\n-----END PGP SIGNATURE-----\n", "payload": "tree f8f51efeaa24913cc14b0f17f08b0134f05b90d5\nparent 47a90f452050d4ea484206447babb07dd33c21d5\nparent 8a2d66337e49d5b8e60911cb34c9e15f5123488f\nauthor Yuki Okushi <jtitor@2k36.org> 1622003454 +0900\ncommitter GitHub <noreply@github.com> 1622003454 +0900\n\nRollup merge of #84048 - konan8205:master, r=jsha\n\nAvoid CJK legacy fonts in Windows\n\nAs metioned in #84035, the default serif CJK font in Windows is meh-looking.\nTo avoid this, we should use sans-serif font or provide CJK glyph supported font in `rustdoc.css`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f", "html_url": "https://github.com/rust-lang/rust/commit/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "47a90f452050d4ea484206447babb07dd33c21d5", "url": "https://api.github.com/repos/rust-lang/rust/commits/47a90f452050d4ea484206447babb07dd33c21d5", "html_url": "https://github.com/rust-lang/rust/commit/47a90f452050d4ea484206447babb07dd33c21d5"}, {"sha": "8a2d66337e49d5b8e60911cb34c9e15f5123488f", "url": "https://api.github.com/repos/rust-lang/rust/commits/8a2d66337e49d5b8e60911cb34c9e15f5123488f", "html_url": "https://github.com/rust-lang/rust/commit/8a2d66337e49d5b8e60911cb34c9e15f5123488f"}], "stats": {"total": 118, "additions": 117, "deletions": 1}, "files": [{"sha": "dd0fb3a9e02ee899d8b51af7c5f5a0ff7def7c8d", "filename": "src/librustdoc/html/render/write_shared.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fwrite_shared.rs?ref=0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f", "patch": "@@ -33,6 +33,8 @@ crate static FILES_UNVERSIONED: Lazy<FxHashMap<&str, &[u8]>> = Lazy::new(|| {\n         \"SourceCodePro-Semibold.ttf.woff\" => static_files::source_code_pro::SEMIBOLD,\n         \"SourceCodePro-It.ttf.woff\" => static_files::source_code_pro::ITALIC,\n         \"SourceCodePro-LICENSE.txt\" => static_files::source_code_pro::LICENSE,\n+        \"noto-sans-kr-v13-korean-regular.woff\" => static_files::noto_sans_kr::REGULAR,\n+        \"noto-sans-kr-v13-korean-regular-LICENSE.txt\" => static_files::noto_sans_kr::LICENSE,\n         \"LICENSE-MIT.txt\" => static_files::LICENSE_MIT,\n         \"LICENSE-APACHE.txt\" => static_files::LICENSE_APACHE,\n         \"COPYRIGHT.txt\" => static_files::COPYRIGHT,"}, {"sha": "922d5fdc18dc9666ee3238485185749242476562", "filename": "src/librustdoc/html/static/noto-sans-kr-v13-korean-regular-LICENSE.txt", "status": "added", "additions": 93, "deletions": 0, "changes": 93, "blob_url": "https://github.com/rust-lang/rust/blob/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fnoto-sans-kr-v13-korean-regular-LICENSE.txt", "raw_url": "https://github.com/rust-lang/rust/raw/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fnoto-sans-kr-v13-korean-regular-LICENSE.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fnoto-sans-kr-v13-korean-regular-LICENSE.txt?ref=0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f", "patch": "@@ -0,0 +1,93 @@\n+Copyright 2014, 2015 Adobe Systems Incorporated (http://www.adobe.com/), with Reserved Font Name 'Source'. All Rights Reserved. Source is a trademark of Adobe Systems Incorporated in the United States and/or other countries.\n+\n+This Font Software is licensed under the SIL Open Font License, Version 1.1.\n+\n+This license is copied below, and is also available with a FAQ at: http://scripts.sil.org/OFL\n+\n+\n+-----------------------------------------------------------\n+SIL OPEN FONT LICENSE Version 1.1 - 26 February 2007\n+-----------------------------------------------------------\n+\n+PREAMBLE\n+The goals of the Open Font License (OFL) are to stimulate worldwide\n+development of collaborative font projects, to support the font creation\n+efforts of academic and linguistic communities, and to provide a free and\n+open framework in which fonts may be shared and improved in partnership\n+with others.\n+\n+The OFL allows the licensed fonts to be used, studied, modified and\n+redistributed freely as long as they are not sold by themselves. The\n+fonts, including any derivative works, can be bundled, embedded,\n+redistributed and/or sold with any software provided that any reserved\n+names are not used by derivative works. The fonts and derivatives,\n+however, cannot be released under any other type of license. The\n+requirement for fonts to remain under this license does not apply\n+to any document created using the fonts or their derivatives.\n+\n+DEFINITIONS\n+\"Font Software\" refers to the set of files released by the Copyright\n+Holder(s) under this license and clearly marked as such. This may\n+include source files, build scripts and documentation.\n+\n+\"Reserved Font Name\" refers to any names specified as such after the\n+copyright statement(s).\n+\n+\"Original Version\" refers to the collection of Font Software components as\n+distributed by the Copyright Holder(s).\n+\n+\"Modified Version\" refers to any derivative made by adding to, deleting,\n+or substituting -- in part or in whole -- any of the components of the\n+Original Version, by changing formats or by porting the Font Software to a\n+new environment.\n+\n+\"Author\" refers to any designer, engineer, programmer, technical\n+writer or other person who contributed to the Font Software.\n+\n+PERMISSION & CONDITIONS\n+Permission is hereby granted, free of charge, to any person obtaining\n+a copy of the Font Software, to use, study, copy, merge, embed, modify,\n+redistribute, and sell modified and unmodified copies of the Font\n+Software, subject to the following conditions:\n+\n+1) Neither the Font Software nor any of its individual components,\n+in Original or Modified Versions, may be sold by itself.\n+\n+2) Original or Modified Versions of the Font Software may be bundled,\n+redistributed and/or sold with any software, provided that each copy\n+contains the above copyright notice and this license. These can be\n+included either as stand-alone text files, human-readable headers or\n+in the appropriate machine-readable metadata fields within text or\n+binary files as long as those fields can be easily viewed by the user.\n+\n+3) No Modified Version of the Font Software may use the Reserved Font\n+Name(s) unless explicit written permission is granted by the corresponding\n+Copyright Holder. This restriction only applies to the primary font name as\n+presented to the users.\n+\n+4) The name(s) of the Copyright Holder(s) or the Author(s) of the Font\n+Software shall not be used to promote, endorse or advertise any\n+Modified Version, except to acknowledge the contribution(s) of the\n+Copyright Holder(s) and the Author(s) or with their explicit written\n+permission.\n+\n+5) The Font Software, modified or unmodified, in part or in whole,\n+must be distributed entirely under this license, and must not be\n+distributed under any other license. The requirement for fonts to\n+remain under this license does not apply to any document created\n+using the Font Software.\n+\n+TERMINATION\n+This license becomes null and void if any of the above conditions are\n+not met.\n+\n+DISCLAIMER\n+THE FONT SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n+EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF\n+MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT\n+OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL THE\n+COPYRIGHT HOLDER BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n+INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL\n+DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n+FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM\n+OTHER DEALINGS IN THE FONT SOFTWARE."}, {"sha": "01d6b6b54664c35f8180f7c245514d22751f9307", "filename": "src/librustdoc/html/static/noto-sans-kr-v13-korean-regular.woff", "status": "added", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fnoto-sans-kr-v13-korean-regular.woff", "raw_url": "https://github.com/rust-lang/rust/raw/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fnoto-sans-kr-v13-korean-regular.woff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fnoto-sans-kr-v13-korean-regular.woff?ref=0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f"}, {"sha": "f3866e211d95364fa6065fe01775643b0b85c717", "filename": "src/librustdoc/html/static/rustdoc.css", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css?ref=0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f", "patch": "@@ -66,6 +66,14 @@\n \tfont-display: swap;\n }\n \n+/* Avoid using legacy CJK serif fonts in Windows like Batang */\n+@font-face {\n+\tfont-family: 'Noto Sans KR';\n+\tsrc: url(\"noto-sans-kr-v13-korean-regular.woff\") format(\"woff\");\n+\tfont-display: swap;\n+\tunicode-range: U+A960-A97F, U+AC00-D7AF, U+D7B0-D7FF;\n+}\n+\n * {\n \t-webkit-box-sizing: border-box;\n \t-moz-box-sizing: border-box;\n@@ -90,7 +98,7 @@ html {\n /* General structure and fonts */\n \n body {\n-\tfont: 16px/1.4 \"Source Serif 4\", serif;\n+\tfont: 16px/1.4 \"Source Serif 4\", \"Noto Sans KR\", serif;\n \tmargin: 0;\n \tposition: relative;\n \tpadding: 10px 15px 20px 15px;"}, {"sha": "0e4fb086a157a899ce2a4c235adeeb0d43aad58e", "filename": "src/librustdoc/html/static_files.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic_files.rs?ref=0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f", "patch": "@@ -126,6 +126,17 @@ crate mod source_code_pro {\n     crate static LICENSE: &[u8] = include_bytes!(\"static/SourceCodePro-LICENSE.txt\");\n }\n \n+crate mod noto_sans_kr {\n+    /// The file `noto-sans-kr-v13-korean-regular.woff`, the Regular variant of the Noto Sans KR\n+    /// font.\n+    crate static REGULAR: &[u8] = include_bytes!(\"static/noto-sans-kr-v13-korean-regular.woff\");\n+\n+    /// The file `noto-sans-kr-v13-korean-regular-LICENSE.txt`, the license text of the Noto Sans KR\n+    /// font.\n+    crate static LICENSE: &[u8] =\n+        include_bytes!(\"static/noto-sans-kr-v13-korean-regular-LICENSE.txt\");\n+}\n+\n /// Files related to the sidebar in rustdoc sources.\n crate mod sidebar {\n     /// File script to handle sidebar."}, {"sha": "348cd1fdf37b3d3ceed08eb9d862824187ba1c7e", "filename": "src/test/run-make-fulldeps/print-unversioned-files/unversioned-files.txt", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Ftest%2Frun-make-fulldeps%2Fprint-unversioned-files%2Funversioned-files.txt", "raw_url": "https://github.com/rust-lang/rust/raw/0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f/src%2Ftest%2Frun-make-fulldeps%2Fprint-unversioned-files%2Funversioned-files.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fprint-unversioned-files%2Funversioned-files.txt?ref=0264f4fe4aa5c91773a82aa60fc3ebdb5f24ec2f", "patch": "@@ -14,3 +14,5 @@ SourceSerif4-Bold.ttf.woff\n SourceSerif4-It.ttf.woff\n SourceSerif4-LICENSE.md\n SourceSerif4-Regular.ttf.woff\n+noto-sans-kr-v13-korean-regular-LICENSE.txt\n+noto-sans-kr-v13-korean-regular.woff"}]}