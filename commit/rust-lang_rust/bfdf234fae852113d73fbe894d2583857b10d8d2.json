{"sha": "bfdf234fae852113d73fbe894d2583857b10d8d2", "node_id": "C_kwDOAAsO6NoAKGJmZGYyMzRmYWU4NTIxMTNkNzNmYmU4OTRkMjU4Mzg1N2IxMGQ4ZDI", "commit": {"author": {"name": "Jacob Pratt", "email": "jacob@jhpratt.dev", "date": "2022-04-12T00:41:10Z"}, "committer": {"name": "Jacob Pratt", "email": "jacob@jhpratt.dev", "date": "2022-04-15T01:19:46Z"}, "message": "Update error code docs", "tree": {"sha": "4bdde876b32a1829fb39d727d3f9b0a98124f2b1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4bdde876b32a1829fb39d727d3f9b0a98124f2b1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bfdf234fae852113d73fbe894d2583857b10d8d2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYKAB0WIQTgxeqBxcDGar1sVhy4DhnkZitapAUCYljIMgAKCRC4DhnkZita\npHp8AQDftp9fdSrOhr4Y23MJWZDtXIQWyQ0H52h6vpEkAYjfLgD+IkOgywcoYAY9\nkMP7p3n/WfEcQxMy44VU4qv6xO7kDQA=\n=+a3b\n-----END PGP SIGNATURE-----", "payload": "tree 4bdde876b32a1829fb39d727d3f9b0a98124f2b1\nparent e46f8b23dd2c4ddf3b68feaddad2c4b0b6e1c186\nauthor Jacob Pratt <jacob@jhpratt.dev> 1649724070 -0400\ncommitter Jacob Pratt <jacob@jhpratt.dev> 1649985586 -0400\n\nUpdate error code docs\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bfdf234fae852113d73fbe894d2583857b10d8d2", "html_url": "https://github.com/rust-lang/rust/commit/bfdf234fae852113d73fbe894d2583857b10d8d2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bfdf234fae852113d73fbe894d2583857b10d8d2/comments", "author": {"login": "jhpratt", "id": 3161395, "node_id": "MDQ6VXNlcjMxNjEzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3161395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhpratt", "html_url": "https://github.com/jhpratt", "followers_url": "https://api.github.com/users/jhpratt/followers", "following_url": "https://api.github.com/users/jhpratt/following{/other_user}", "gists_url": "https://api.github.com/users/jhpratt/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhpratt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhpratt/subscriptions", "organizations_url": "https://api.github.com/users/jhpratt/orgs", "repos_url": "https://api.github.com/users/jhpratt/repos", "events_url": "https://api.github.com/users/jhpratt/events{/privacy}", "received_events_url": "https://api.github.com/users/jhpratt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jhpratt", "id": 3161395, "node_id": "MDQ6VXNlcjMxNjEzOTU=", "avatar_url": "https://avatars.githubusercontent.com/u/3161395?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jhpratt", "html_url": "https://github.com/jhpratt", "followers_url": "https://api.github.com/users/jhpratt/followers", "following_url": "https://api.github.com/users/jhpratt/following{/other_user}", "gists_url": "https://api.github.com/users/jhpratt/gists{/gist_id}", "starred_url": "https://api.github.com/users/jhpratt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jhpratt/subscriptions", "organizations_url": "https://api.github.com/users/jhpratt/orgs", "repos_url": "https://api.github.com/users/jhpratt/repos", "events_url": "https://api.github.com/users/jhpratt/events{/privacy}", "received_events_url": "https://api.github.com/users/jhpratt/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e46f8b23dd2c4ddf3b68feaddad2c4b0b6e1c186", "url": "https://api.github.com/repos/rust-lang/rust/commits/e46f8b23dd2c4ddf3b68feaddad2c4b0b6e1c186", "html_url": "https://github.com/rust-lang/rust/commit/e46f8b23dd2c4ddf3b68feaddad2c4b0b6e1c186"}], "stats": {"total": 37, "additions": 18, "deletions": 19}, "files": [{"sha": "c53d60a5f4757b08a86b7e5e8e405cf611945548", "filename": "compiler/rustc_error_codes/src/error_codes/E0539.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0539.md", "raw_url": "https://github.com/rust-lang/rust/raw/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0539.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0539.md?ref=bfdf234fae852113d73fbe894d2583857b10d8d2", "patch": "@@ -6,7 +6,7 @@ Erroneous code example:\n #![feature(staged_api)]\n #![stable(since = \"1.0.0\", feature = \"test\")]\n \n-#[rustc_deprecated(reason)] // error!\n+#[deprecated(note)] // error!\n #[unstable(feature = \"deprecated_fn\", issue = \"123\")]\n fn deprecated() {}\n \n@@ -30,7 +30,7 @@ To fix these issues you need to give required key-value pairs.\n #![feature(staged_api)]\n #![stable(since = \"1.0.0\", feature = \"test\")]\n \n-#[rustc_deprecated(since = \"1.39.0\", reason = \"reason\")] // ok!\n+#[deprecated(since = \"1.39.0\", note = \"reason\")] // ok!\n #[unstable(feature = \"deprecated_fn\", issue = \"123\")]\n fn deprecated() {}\n "}, {"sha": "c69e574179b105691eee6e3083e62bdb99237472", "filename": "compiler/rustc_error_codes/src/error_codes/E0542.md", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0542.md", "raw_url": "https://github.com/rust-lang/rust/raw/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0542.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0542.md?ref=bfdf234fae852113d73fbe894d2583857b10d8d2", "patch": "@@ -13,8 +13,8 @@ fn _stable_fn() {}\n const fn _stable_const_fn() {}\n \n #[stable(feature = \"_deprecated_fn\", since = \"0.1.0\")]\n-#[rustc_deprecated(\n-    reason = \"explanation for deprecation\"\n+#[deprecated(\n+    note = \"explanation for deprecation\"\n )] // invalid\n fn _deprecated_fn() {}\n ```\n@@ -32,9 +32,9 @@ fn _stable_fn() {}\n const fn _stable_const_fn() {}\n \n #[stable(feature = \"_deprecated_fn\", since = \"0.1.0\")]\n-#[rustc_deprecated(\n+#[deprecated(\n     since = \"1.0.0\",\n-    reason = \"explanation for deprecation\"\n+    note = \"explanation for deprecation\"\n )] // ok!\n fn _deprecated_fn() {}\n ```"}, {"sha": "d0b2e2f7a7d0fe3ad8ee0abefe5909c4c19e9ec8", "filename": "compiler/rustc_error_codes/src/error_codes/E0543.md", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0543.md", "raw_url": "https://github.com/rust-lang/rust/raw/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0543.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0543.md?ref=bfdf234fae852113d73fbe894d2583857b10d8d2", "patch": "@@ -1,4 +1,4 @@\n-The `reason` value is missing in a stability attribute.\n+The `note` value is missing in a stability attribute.\n \n Erroneous code example:\n \n@@ -7,22 +7,22 @@ Erroneous code example:\n #![stable(since = \"1.0.0\", feature = \"test\")]\n \n #[stable(since = \"0.1.0\", feature = \"_deprecated_fn\")]\n-#[rustc_deprecated(\n+#[deprecated(\n     since = \"1.0.0\"\n )] // invalid\n fn _deprecated_fn() {}\n ```\n \n-To fix this issue, you need to provide the `reason` field. Example:\n+To fix this issue, you need to provide the `note` field. Example:\n \n ```\n #![feature(staged_api)]\n #![stable(since = \"1.0.0\", feature = \"test\")]\n \n #[stable(since = \"0.1.0\", feature = \"_deprecated_fn\")]\n-#[rustc_deprecated(\n+#[deprecated(\n     since = \"1.0.0\",\n-    reason = \"explanation for deprecation\"\n+    note = \"explanation for deprecation\"\n )] // ok!\n fn _deprecated_fn() {}\n ```"}, {"sha": "70e458a98673ce8c1e5f7d403ec5ac6defb4c430", "filename": "compiler/rustc_error_codes/src/error_codes/E0549.md", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0549.md", "raw_url": "https://github.com/rust-lang/rust/raw/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0549.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0549.md?ref=bfdf234fae852113d73fbe894d2583857b10d8d2", "patch": "@@ -1,15 +1,15 @@\n-A `rustc_deprecated` attribute wasn't paired with a `stable`/`unstable`\n-attribute.\n+A `deprecated` attribute wasn't paired with a `stable`/`unstable` attribute with\n+`#![feature(staged_api)]` enabled.\n \n Erroneous code example:\n \n ```compile_fail,E0549\n #![feature(staged_api)]\n #![stable(since = \"1.0.0\", feature = \"test\")]\n \n-#[rustc_deprecated(\n+#[deprecated(\n     since = \"1.0.1\",\n-    reason = \"explanation for deprecation\"\n+    note = \"explanation for deprecation\"\n )] // invalid\n fn _deprecated_fn() {}\n ```\n@@ -22,9 +22,9 @@ Example:\n #![stable(since = \"1.0.0\", feature = \"test\")]\n \n #[stable(since = \"1.0.0\", feature = \"test\")]\n-#[rustc_deprecated(\n+#[deprecated(\n     since = \"1.0.1\",\n-    reason = \"explanation for deprecation\"\n+    note = \"explanation for deprecation\"\n )] // ok!\n fn _deprecated_fn() {}\n ```"}, {"sha": "b912061ec42ccbaf43a067f3b8adec0cb457556e", "filename": "compiler/rustc_error_codes/src/error_codes/E0734.md", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0734.md", "raw_url": "https://github.com/rust-lang/rust/raw/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0734.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0734.md?ref=bfdf234fae852113d73fbe894d2583857b10d8d2", "patch": "@@ -3,7 +3,6 @@ A stability attribute has been used outside of the standard library.\n Erroneous code example:\n \n ```compile_fail,E0734\n-#[rustc_deprecated(since = \"b\", reason = \"text\")] // invalid\n #[stable(feature = \"a\", since = \"b\")] // invalid\n #[unstable(feature = \"b\", issue = \"none\")] // invalid\n fn foo(){}"}, {"sha": "60ac36ec69c34b16199478721b9a4ed9837954dd", "filename": "compiler/rustc_lint_defs/src/builtin.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bfdf234fae852113d73fbe894d2583857b10d8d2/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint_defs%2Fsrc%2Fbuiltin.rs?ref=bfdf234fae852113d73fbe894d2583857b10d8d2", "patch": "@@ -2206,7 +2206,7 @@ declare_lint! {\n     /// and then this lint will ensure that the item is no longer used in the\n     /// standard library. See the [stability documentation] for more details.\n     ///\n-    /// [stability documentation]: https://rustc-dev-guide.rust-lang.org/stability.html#rustc_deprecated\n+    /// [stability documentation]: https://rustc-dev-guide.rust-lang.org/stability.html#deprecated\n     pub DEPRECATED_IN_FUTURE,\n     Allow,\n     \"detects use of items that will be deprecated in a future version\","}]}