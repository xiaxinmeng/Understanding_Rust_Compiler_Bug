{"sha": "4709038d641ad009b44ed2bf5980fa3a252d6927", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ3MDkwMzhkNjQxYWQwMDliNDRlZDJiZjU5ODBmYTNhMjUyZDY5Mjc=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-10-06T00:41:01Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-10-07T01:12:15Z"}, "message": "Bring make distcheck up to date", "tree": {"sha": "12309a39f36f75f139c487358c579ac527893194", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/12309a39f36f75f139c487358c579ac527893194"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4709038d641ad009b44ed2bf5980fa3a252d6927", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4709038d641ad009b44ed2bf5980fa3a252d6927", "html_url": "https://github.com/rust-lang/rust/commit/4709038d641ad009b44ed2bf5980fa3a252d6927", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4709038d641ad009b44ed2bf5980fa3a252d6927/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ed5a962d6f1b9701b87b5e7e1200c7b6e0dd14b0", "url": "https://api.github.com/repos/rust-lang/rust/commits/ed5a962d6f1b9701b87b5e7e1200c7b6e0dd14b0", "html_url": "https://github.com/rust-lang/rust/commit/ed5a962d6f1b9701b87b5e7e1200c7b6e0dd14b0"}], "stats": {"total": 59, "additions": 52, "deletions": 7}, "files": [{"sha": "4b6c48779eb4d37e50af0773eaa78a2508b4d98e", "filename": "Makefile.in", "status": "modified", "additions": 11, "deletions": 3, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/4709038d641ad009b44ed2bf5980fa3a252d6927/Makefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/4709038d641ad009b44ed2bf5980fa3a252d6927/Makefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Makefile.in?ref=4709038d641ad009b44ed2bf5980fa3a252d6927", "patch": "@@ -47,9 +47,17 @@\n ######################################################################\n \n include config.mk\n-MKFILES := Makefile config.mk $(wildcard $(CFG_SRC_DIR)/mk/*.mk)\n-MKFILES += $(CFG_SRC_DIR)/src/rt/libuv/Makefile\n-MKFILES += $(wildcard $(CFG_SRC_DIR)/src/rt/libuv/*.mk)\n+OUR_MKFILES := Makefile config.mk $(wildcard $(CFG_SRC_DIR)/mk/*.mk)\n+3RDPARTY_MKFILES := $(CFG_SRC_DIR)/src/rt/libuv/Makefile \\\n+                    $(wildcard $(CFG_SRC_DIR)/src/rt/libuv/*.mk)\n+GEN_MKFILES := $(wildcard $(CFG_SRC_DIR)/mk/libuv/mac/*) \\\n+               $(wildcard $(CFG_SRC_DIR)/mk/libuv/unix/*) \\\n+               $(wildcard $(CFG_SRC_DIR)/mk/libuv/win/*) \\\n+               $(wildcard $(CFG_SRC_DIR)/mk/libuv/mac/src/rt/libuv/*) \\\n+               $(wildcard $(CFG_SRC_DIR)/mk/libuv/mac/src/rt/libuv/*) \\\n+               $(wildcard $(CFG_SRC_DIR)/mk/libuv/mac/src/rt/libuv/*)\n+\n+MKFILES := $(OUR_MKFILES) $(3RDPARTY_MKFILES) $(GEN_MKFILES)\n \n ifneq ($(MAKE_RESTARTS),)\n CFG_INFO := $(info cfg: make restarts: $(MAKE_RESTARTS))"}, {"sha": "535760b4bf4cd77edade0a7ae6434a0949af50d1", "filename": "mk/dist.mk", "status": "modified", "additions": 23, "deletions": 2, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/4709038d641ad009b44ed2bf5980fa3a252d6927/mk%2Fdist.mk", "raw_url": "https://github.com/rust-lang/rust/raw/4709038d641ad009b44ed2bf5980fa3a252d6927/mk%2Fdist.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdist.mk?ref=4709038d641ad009b44ed2bf5980fa3a252d6927", "patch": "@@ -19,21 +19,42 @@ PKG_3RDPARTY := rt/valgrind.h rt/memcheck.h \\\n                 rt/bigint/bigint.h rt/bigint/bigint_int.cpp \\\n                 rt/bigint/bigint_ext.cpp rt/bigint/low_primes.h\n \n+PKG_UV := \\\n+                $(wildcard $(S)src/rt/libuv/*) \\\n+                $(wildcard $(S)src/rt/libuv/include/*) \\\n+                $(wildcard $(S)src/rt/libuv/include/*/*) \\\n+                $(wildcard $(S)src/rt/libuv/src/*) \\\n+                $(wildcard $(S)src/rt/libuv/src/*/*) \\\n+                $(wildcard $(S)src/rt/libuv/src/*/*/*)\n+\n+PKG_PP_EXAMPLES = $(wildcard $(S)src/test/pretty/*.pp)\n+\n PKG_FILES = \\\n     $(wildcard $(S)src/etc/*.*)                \\\n     $(S)LICENSE.txt $(S)README                 \\\n     $(S)configure $(S)Makefile.in              \\\n+    $(S)src/snapshots.txt                      \\\n     $(addprefix $(S)src/,                      \\\n       README comp/README                       \\\n       $(RUNTIME_CS) $(RUNTIME_HDR)             \\\n+      $(RUNTIME_S)                             \\\n+      rt/rustrt.def.in                         \\\n+      rt/intrinsics/intrinsics.ll.in           \\\n+      rt/main.ll.in                            \\\n       $(RUSTLLVM_LIB_CS) $(RUSTLLVM_OBJS_CS)   \\\n       $(RUSTLLVM_HDR)                          \\\n+      rustllvm/rustllvm.def.in                 \\\n       $(PKG_3RDPARTY))                         \\\n-    $(GENERATED)                               \\\n+    $(PKG_UV)                                  \\\n     $(COMPILER_INPUTS)                         \\\n     $(STDLIB_INPUTS)                           \\\n     $(ALL_TEST_INPUTS)                         \\\n-    $(GENERATED)\n+    $(FUZZER_CRATE)                            \\\n+    $(FUZZER_INPUTS)                           \\\n+    $(COMPILETEST_CRATE)                       \\\n+    $(COMPILETEST_INPUTS)                      \\\n+    $(PKG_PP_EXAMPLES)                         \\\n+    $(MKFILES)\n \n dist: $(PKG_TAR) $(PKG_EXE)\n "}, {"sha": "414384f0821f9b28961c716cdfcc46a92417f006", "filename": "mk/rt.mk", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/4709038d641ad009b44ed2bf5980fa3a252d6927/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/4709038d641ad009b44ed2bf5980fa3a252d6927/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=4709038d641ad009b44ed2bf5980fa3a252d6927", "patch": "@@ -42,12 +42,20 @@ RUNTIME_S := rt/arch/i386/_context.S \\\n \n RUNTIME_HDR := rt/globals.h \\\n                rt/rust.h \\\n+               rt/rust_abi.h \\\n+               rt/rust_cc.h \\\n+               rt/rust_debug.h \\\n+               rt/rust_gc.h \\\n                rt/rust_internal.h \\\n                rt/rust_util.h \\\n                rt/rust_chan.h \\\n                rt/rust_env.h \\\n+               rt/rust_obstack.h \\\n+               rt/rust_unwind.h \\\n+               rt/rust_upcall.h \\\n                rt/rust_port.h \\\n                rt/rust_scheduler.h \\\n+               rt/rust_shape.h \\\n                rt/rust_task.h \\\n                rt/rust_task_list.h \\\n                rt/rust_log.h \\"}, {"sha": "ee0a2a6697bcf3691fa9d42d639d0c6b874d459b", "filename": "mk/tests.mk", "status": "modified", "additions": 10, "deletions": 2, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/4709038d641ad009b44ed2bf5980fa3a252d6927/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/4709038d641ad009b44ed2bf5980fa3a252d6927/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=4709038d641ad009b44ed2bf5980fa3a252d6927", "patch": "@@ -84,8 +84,16 @@ tidy:\n \t$(Q)echo \\\n \t  $(filter-out $(GENERATED) $(addprefix $(S)src/, $(GENERATED)) \\\n \t    $(addprefix $(S)src/, $(RUSTLLVM_LIB_CS) $(RUSTLLVM_OBJS_CS) \\\n-\t      $(RUSTLLVM_HDR) $(PKG_3RDPARTY)) \\\n-\t    $(S)src/etc/%, $(PKG_FILES)) \\\n+\t      $(RUSTLLVM_HDR) $(PKG_3RDPARTY) \\\n+              $(RUNTIME_CS) $(RUNTIME_HDR) $(RUNTIME_S)) \\\n+            $(S)src/etc/%,  \\\n+            $(COMPILER_CRATE) \\\n+            $(COMPILER_INPUTS) \\\n+            $(STDLIB_CRATE) \\\n+            $(STDLIB_INPUTS) \\\n+            $(COMPILETEST_CRATE) \\\n+            $(COMPILETEST_INPUTS) \\\n+            $(ALL_TEST_INPUTS)) \\\n \t  | xargs -n 10 python $(S)src/etc/tidy.py\n \n "}]}