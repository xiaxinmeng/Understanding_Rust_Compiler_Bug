{"sha": "4ac88c01c3ad5a65e3563d14aea2151d277b3010", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhYzg4YzAxYzNhZDVhNjVlMzU2M2QxNGFlYTIxNTFkMjc3YjMwMTA=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-09-08T23:35:11Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-09-08T23:35:11Z"}, "message": "Rollup merge of #76355 - calebcartwright:reduce-rustfmt-visibility, r=nikomatsakis\n\nremove public visibility previously needed for rustfmt\n\n`submod_path_from_attr` in rustc_expand::module was previously public because it was also consumed by rustfmt. However, we've done a bit of refactoring in rustfmt and no longer need to use this function.\n\nThis changes the visibility to the parent mod as was originally going to be done before the rustfmt dependency was realized (https://github.com/rust-lang/rust/commit/c189565edc5c9fc516170885b3a3061b936205fb#diff-cd1b379893bae95f7991d5a3f3c6d337R201)", "tree": {"sha": "7aeaa37c5ef28d725b6ef221ba1b513c6bda8bc0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7aeaa37c5ef28d725b6ef221ba1b513c6bda8bc0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4ac88c01c3ad5a65e3563d14aea2151d277b3010", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfWBUwCRBK7hj4Ov3rIwAAdHIIAILgms2VtQeAi++rZixryg3B\nGhonbRu5UGnij1HP/3BRHCPklKfVaBO0SAkAzzE/Nlz7YWXlm51qTCslDrkHXfpi\n30JTkHdAj/1O0nLF1DncX+Q3Y21l0jZRpdf3TEPMtY+kbq7sho1KPPucojfFpL53\nwKOLqC7QTY/8RvTuBYAoQGXlhJMI+yS/L19Mus0HTCV/UXC2yrssBqxuUyqdaQW+\nMvJHhjkKqbzEMSWhfbr1vj4gbVxSIXZ1T+5nnNYix5mb16J17DfQ64F92kMAhOp6\nwWGuQwNyumIb0Bz1JaOwPZDaCmOgteQJ7xfvActm6v8UlW1ScdKFPeQb7KRVKSM=\n=+ESx\n-----END PGP SIGNATURE-----\n", "payload": "tree 7aeaa37c5ef28d725b6ef221ba1b513c6bda8bc0\nparent 87302a297c465f3eda6df8f941636b3137342a9f\nparent 08e35155b42279c33b26512f5ce59734147de8b6\nauthor Dylan DPC <dylan.dpc@gmail.com> 1599608111 +0200\ncommitter GitHub <noreply@github.com> 1599608111 +0200\n\nRollup merge of #76355 - calebcartwright:reduce-rustfmt-visibility, r=nikomatsakis\n\nremove public visibility previously needed for rustfmt\n\n`submod_path_from_attr` in rustc_expand::module was previously public because it was also consumed by rustfmt. However, we've done a bit of refactoring in rustfmt and no longer need to use this function.\n\nThis changes the visibility to the parent mod as was originally going to be done before the rustfmt dependency was realized (https://github.com/rust-lang/rust/commit/c189565edc5c9fc516170885b3a3061b936205fb#diff-cd1b379893bae95f7991d5a3f3c6d337R201)\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4ac88c01c3ad5a65e3563d14aea2151d277b3010", "html_url": "https://github.com/rust-lang/rust/commit/4ac88c01c3ad5a65e3563d14aea2151d277b3010", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4ac88c01c3ad5a65e3563d14aea2151d277b3010/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "87302a297c465f3eda6df8f941636b3137342a9f", "url": "https://api.github.com/repos/rust-lang/rust/commits/87302a297c465f3eda6df8f941636b3137342a9f", "html_url": "https://github.com/rust-lang/rust/commit/87302a297c465f3eda6df8f941636b3137342a9f"}, {"sha": "08e35155b42279c33b26512f5ce59734147de8b6", "url": "https://api.github.com/repos/rust-lang/rust/commits/08e35155b42279c33b26512f5ce59734147de8b6", "html_url": "https://github.com/rust-lang/rust/commit/08e35155b42279c33b26512f5ce59734147de8b6"}], "stats": {"total": 3, "additions": 1, "deletions": 2}, "files": [{"sha": "fefc0bdeb7cc26338d651762a30a19d254870e96", "filename": "compiler/rustc_expand/src/module.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4ac88c01c3ad5a65e3563d14aea2151d277b3010/compiler%2Frustc_expand%2Fsrc%2Fmodule.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4ac88c01c3ad5a65e3563d14aea2151d277b3010/compiler%2Frustc_expand%2Fsrc%2Fmodule.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_expand%2Fsrc%2Fmodule.rs?ref=4ac88c01c3ad5a65e3563d14aea2151d277b3010", "patch": "@@ -219,8 +219,7 @@ fn error_cannot_declare_mod_here<'a, T>(\n \n /// Derive a submodule path from the first found `#[path = \"path_string\"]`.\n /// The provided `dir_path` is joined with the `path_string`.\n-// Public for rustfmt usage.\n-pub fn submod_path_from_attr(\n+pub(super) fn submod_path_from_attr(\n     sess: &Session,\n     attrs: &[Attribute],\n     dir_path: &Path,"}]}