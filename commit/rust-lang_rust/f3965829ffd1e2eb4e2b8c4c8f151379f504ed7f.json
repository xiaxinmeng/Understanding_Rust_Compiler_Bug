{"sha": "f3965829ffd1e2eb4e2b8c4c8f151379f504ed7f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYzOTY1ODI5ZmZkMWUyZWI0ZTJiOGM0YzhmMTUxMzc5ZjUwNGVkN2Y=", "commit": {"author": {"name": "Erick Tryzelaar", "email": "erick.tryzelaar@gmail.com", "date": "2013-02-24T18:00:25Z"}, "committer": {"name": "Erick Tryzelaar", "email": "erick.tryzelaar@gmail.com", "date": "2013-02-26T06:08:09Z"}, "message": "libsyntax: change flip_delimiter to take a &token::Token", "tree": {"sha": "0bb5b202bc8e8b8af120c2bfdc92867c8a9afea0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0bb5b202bc8e8b8af120c2bfdc92867c8a9afea0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f3965829ffd1e2eb4e2b8c4c8f151379f504ed7f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f3965829ffd1e2eb4e2b8c4c8f151379f504ed7f", "html_url": "https://github.com/rust-lang/rust/commit/f3965829ffd1e2eb4e2b8c4c8f151379f504ed7f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f3965829ffd1e2eb4e2b8c4c8f151379f504ed7f/comments", "author": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4650da5888427b60c6d38308bcdd76da40f1b181", "url": "https://api.github.com/repos/rust-lang/rust/commits/4650da5888427b60c6d38308bcdd76da40f1b181", "html_url": "https://github.com/rust-lang/rust/commit/4650da5888427b60c6d38308bcdd76da40f1b181"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "969f5cdb436ec7ac4e578c34c524a45b21998394", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f3965829ffd1e2eb4e2b8c4c8f151379f504ed7f/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f3965829ffd1e2eb4e2b8c4c8f151379f504ed7f/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=f3965829ffd1e2eb4e2b8c4c8f151379f504ed7f", "patch": "@@ -1228,7 +1228,7 @@ pub impl Parser {\n                   _ => self.fatal(~\"expected open delimiter\")\n                 };\n \n-                let ket = token::flip_delimiter(*self.token);\n+                let ket = token::flip_delimiter(&*self.token);\n                 let tts = self.parse_unspanned_seq(*self.token,\n                                                    ket,\n                                                    seq_sep_none(),\n@@ -1433,7 +1433,7 @@ pub impl Parser {\n           }\n           token::LPAREN | token::LBRACE | token::LBRACKET => {\n               // tjc: ??????\n-            let ket = token::flip_delimiter(*self.token);\n+            let ket = token::flip_delimiter(&*self.token);\n             tt_delim(vec::append(\n                 // the open delimiter:\n                 ~[parse_any_tt_tok(self)],\n@@ -1465,7 +1465,7 @@ pub impl Parser {\n           token::LBRACE | token::LPAREN | token::LBRACKET => {\n             self.parse_matcher_subseq(name_idx, *self.token,\n                                       // tjc: not sure why we need a copy\n-                                      token::flip_delimiter(*self.token))\n+                                      token::flip_delimiter(&*self.token))\n           }\n           _ => self.fatal(~\"expected open delimiter\")\n         }\n@@ -3915,7 +3915,7 @@ pub impl Parser {\n             // eat a matched-delimiter token tree:\n             let tts = match *self.token {\n               token::LPAREN | token::LBRACE => {\n-                let ket = token::flip_delimiter(*self.token);\n+                let ket = token::flip_delimiter(&*self.token);\n                 self.parse_unspanned_seq(*self.token, ket,\n                                          seq_sep_none(),\n                                          |p| p.parse_token_tree())"}, {"sha": "8e88ac1d52545f039e8fd81fd9080bd4cc7b3740", "filename": "src/libsyntax/parse/token.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f3965829ffd1e2eb4e2b8c4c8f151379f504ed7f/src%2Flibsyntax%2Fparse%2Ftoken.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f3965829ffd1e2eb4e2b8c4c8f151379f504ed7f/src%2Flibsyntax%2Fparse%2Ftoken.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Ftoken.rs?ref=f3965829ffd1e2eb4e2b8c4c8f151379f504ed7f", "patch": "@@ -257,8 +257,8 @@ pub pure fn can_begin_expr(t: Token) -> bool {\n }\n \n /// what's the opposite delimiter?\n-pub fn flip_delimiter(t: token::Token) -> token::Token {\n-    match t {\n+pub fn flip_delimiter(t: &token::Token) -> token::Token {\n+    match *t {\n       token::LPAREN => token::RPAREN,\n       token::LBRACE => token::RBRACE,\n       token::LBRACKET => token::RBRACKET,"}]}