{"sha": "77aee18c13a919e96b3064f38d54e87a9e892cc0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc3YWVlMThjMTNhOTE5ZTk2YjMwNjRmMzhkNTRlODdhOWU4OTJjYzA=", "commit": {"author": {"name": "Jeff Crocker", "email": "crockagile@gmail.com", "date": "2017-12-05T22:03:24Z"}, "committer": {"name": "Jeff Crocker", "email": "crockagile@gmail.com", "date": "2017-12-05T22:03:24Z"}, "message": "Update closure expression fingerprint hash tests", "tree": {"sha": "a07a908015a51d56f5c89e6d263156a29a00bdfe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a07a908015a51d56f5c89e6d263156a29a00bdfe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/77aee18c13a919e96b3064f38d54e87a9e892cc0", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v2\n\niQIcBAABCAAGBQJaJxesAAoJEAWZfbCdMLzWIfYP/Rolbe4qAgpj8PJhc9W93BF6\n/bZTWW2UESKWTG8VkBiOFVH71uhssuNkvz6gcpS4rKuE3/cZEe3aQJk2ABLfAJvq\nk+i1l+Z4AevLHGvN13lcl8n9UH/zbxBmWcASZ+XRnUzW7qxfht1WPVC7v4wEVkzs\nnNpZzTE1+hUSKcNwRhHrbmacPwdjs9B5MytU00H8NJNNa2+sNBIEvOkfKMan54DC\n/3bz6nHEvjkrL/CSsEeQlkZuiSRIDBoohrd6Fx8XkPgnsbW7n3B28CUSmrElupmE\nLIZSaUb2NFFS1Qgzyg1qigytMz3nDassM2PqlNRNjzgZVG8AXbsTKMAt4EScd/Yi\nNL51j8pr2uzlSXlZA456TTy89mOLsV7DQvP24bsh/tnuPkTqRWsjn0vrNhdjztJq\nXHfaOmX5nIsInhM4kqGglQjJIhhsry1jsjzj1Dft1p1o7g4pN6dYQq8qsPNxiXHD\nd9OBbstdbWQOED8r6jYB1CycusCWiJnX6Hj2SYDvjGA/Av1CfTegq4weMecOIZiq\nzCwOvnJSEmnjuz30+FlR+Hb6sRkWQBkcKfTh6/bsPHzHm+v7fYysNVPEug3Ul+mp\nmkhspsK1X7VDma/ayCsQT3rymKgtB5UEiy0b7DV5bKGZFDcXuoQCpKwP/zTrJScK\nPTJMC+qX5u5LmZDQrOwj\n=sR5B\n-----END PGP SIGNATURE-----", "payload": "tree a07a908015a51d56f5c89e6d263156a29a00bdfe\nparent 8503b3ff822c1ed01c89773d30e4e10b886d77a5\nauthor Jeff Crocker <crockagile@gmail.com> 1512511404 -0800\ncommitter Jeff Crocker <crockagile@gmail.com> 1512511404 -0800\n\nUpdate closure expression fingerprint hash tests\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/77aee18c13a919e96b3064f38d54e87a9e892cc0", "html_url": "https://github.com/rust-lang/rust/commit/77aee18c13a919e96b3064f38d54e87a9e892cc0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/77aee18c13a919e96b3064f38d54e87a9e892cc0/comments", "author": {"login": "CrockAgile", "id": 5395183, "node_id": "MDQ6VXNlcjUzOTUxODM=", "avatar_url": "https://avatars.githubusercontent.com/u/5395183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CrockAgile", "html_url": "https://github.com/CrockAgile", "followers_url": "https://api.github.com/users/CrockAgile/followers", "following_url": "https://api.github.com/users/CrockAgile/following{/other_user}", "gists_url": "https://api.github.com/users/CrockAgile/gists{/gist_id}", "starred_url": "https://api.github.com/users/CrockAgile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CrockAgile/subscriptions", "organizations_url": "https://api.github.com/users/CrockAgile/orgs", "repos_url": "https://api.github.com/users/CrockAgile/repos", "events_url": "https://api.github.com/users/CrockAgile/events{/privacy}", "received_events_url": "https://api.github.com/users/CrockAgile/received_events", "type": "User", "site_admin": false}, "committer": {"login": "CrockAgile", "id": 5395183, "node_id": "MDQ6VXNlcjUzOTUxODM=", "avatar_url": "https://avatars.githubusercontent.com/u/5395183?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CrockAgile", "html_url": "https://github.com/CrockAgile", "followers_url": "https://api.github.com/users/CrockAgile/followers", "following_url": "https://api.github.com/users/CrockAgile/following{/other_user}", "gists_url": "https://api.github.com/users/CrockAgile/gists{/gist_id}", "starred_url": "https://api.github.com/users/CrockAgile/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CrockAgile/subscriptions", "organizations_url": "https://api.github.com/users/CrockAgile/orgs", "repos_url": "https://api.github.com/users/CrockAgile/repos", "events_url": "https://api.github.com/users/CrockAgile/events{/privacy}", "received_events_url": "https://api.github.com/users/CrockAgile/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8503b3ff822c1ed01c89773d30e4e10b886d77a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/8503b3ff822c1ed01c89773d30e4e10b886d77a5", "html_url": "https://github.com/rust-lang/rust/commit/8503b3ff822c1ed01c89773d30e4e10b886d77a5"}], "stats": {"total": 60, "additions": 24, "deletions": 36}, "files": [{"sha": "6cea9a0cb140bbb1410de84cfe2c80dbfea0cbdd", "filename": "src/test/incremental/hashes/closure_expressions.rs", "status": "modified", "additions": 24, "deletions": 36, "changes": 60, "blob_url": "https://github.com/rust-lang/rust/blob/77aee18c13a919e96b3064f38d54e87a9e892cc0/src%2Ftest%2Fincremental%2Fhashes%2Fclosure_expressions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/77aee18c13a919e96b3064f38d54e87a9e892cc0/src%2Ftest%2Fincremental%2Fhashes%2Fclosure_expressions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fincremental%2Fhashes%2Fclosure_expressions.rs?ref=77aee18c13a919e96b3064f38d54e87a9e892cc0", "patch": "@@ -27,34 +27,30 @@\n \n // Change closure body ---------------------------------------------------------\n #[cfg(cfail1)]\n-fn change_closure_body() {\n+pub fn change_closure_body() {\n     let _ = || 1u32;\n }\n \n #[cfg(not(cfail1))]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n-#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n-fn change_closure_body() {\n+#[rustc_clean(cfg=\"cfail2\", except=\"HirBody\")]\n+#[rustc_clean(cfg=\"cfail3\")]\n+pub fn change_closure_body() {\n     let _ = || 3u32;\n }\n \n \n \n // Add parameter ---------------------------------------------------------------\n #[cfg(cfail1)]\n-fn add_parameter() {\n+pub fn add_parameter() {\n     let x = 0u32;\n     let _ = || x + 1;\n }\n \n #[cfg(not(cfail1))]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n-#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n-fn add_parameter() {\n+#[rustc_clean(cfg=\"cfail2\", except=\"HirBody, MirValidated, MirOptimized, TypeckTables\")]\n+#[rustc_clean(cfg=\"cfail3\")]\n+pub fn add_parameter() {\n     let x = 0u32;\n     let _ = |x: u32| x + 1;\n }\n@@ -63,51 +59,45 @@ fn add_parameter() {\n \n // Change parameter pattern ----------------------------------------------------\n #[cfg(cfail1)]\n-fn change_parameter_pattern() {\n+pub fn change_parameter_pattern() {\n     let _ = |x: &u32| x;\n }\n \n #[cfg(not(cfail1))]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n-#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n-fn change_parameter_pattern() {\n+#[rustc_clean(cfg=\"cfail2\", except=\"HirBody, MirValidated, MirOptimized, TypeckTables\")]\n+#[rustc_clean(cfg=\"cfail3\")]\n+pub fn change_parameter_pattern() {\n     let _ = |&x: &u32| x;\n }\n \n \n \n // Add `move` to closure -------------------------------------------------------\n #[cfg(cfail1)]\n-fn add_move() {\n+pub fn add_move() {\n     let _ = || 1;\n }\n \n #[cfg(not(cfail1))]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n-#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n-fn add_move() {\n+#[rustc_clean(cfg=\"cfail2\", except=\"HirBody\")]\n+#[rustc_clean(cfg=\"cfail3\")]\n+pub fn add_move() {\n     let _ = move || 1;\n }\n \n \n \n // Add type ascription to parameter --------------------------------------------\n #[cfg(cfail1)]\n-fn add_type_ascription_to_parameter() {\n+pub fn add_type_ascription_to_parameter() {\n     let closure = |x| x + 1u32;\n     let _: u32 = closure(1);\n }\n \n #[cfg(not(cfail1))]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n-#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n-fn add_type_ascription_to_parameter() {\n+#[rustc_clean(cfg=\"cfail2\", except=\"HirBody\")]\n+#[rustc_clean(cfg=\"cfail3\")]\n+pub fn add_type_ascription_to_parameter() {\n     let closure = |x: u32| x + 1u32;\n     let _: u32 = closure(1);\n }\n@@ -116,17 +106,15 @@ fn add_type_ascription_to_parameter() {\n \n // Change parameter type -------------------------------------------------------\n #[cfg(cfail1)]\n-fn change_parameter_type() {\n+pub fn change_parameter_type() {\n     let closure = |x: u32| (x as u64) + 1;\n     let _ = closure(1);\n }\n \n #[cfg(not(cfail1))]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"Hir\", cfg=\"cfail3\")]\n-#[rustc_dirty(label=\"HirBody\", cfg=\"cfail2\")]\n-#[rustc_clean(label=\"HirBody\", cfg=\"cfail3\")]\n-fn change_parameter_type() {\n+#[rustc_clean(cfg=\"cfail2\", except=\"HirBody, MirValidated, MirOptimized, TypeckTables\")]\n+#[rustc_clean(cfg=\"cfail3\")]\n+pub fn change_parameter_type() {\n     let closure = |x: u16| (x as u64) + 1;\n     let _ = closure(1);\n }"}]}