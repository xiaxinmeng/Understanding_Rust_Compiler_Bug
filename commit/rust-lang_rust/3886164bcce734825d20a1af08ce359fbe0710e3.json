{"sha": "3886164bcce734825d20a1af08ce359fbe0710e3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4ODYxNjRiY2NlNzM0ODI1ZDIwYTFhZjA4Y2UzNTlmYmUwNzEwZTM=", "commit": {"author": {"name": "Seivan Heidari", "email": "seivan.heidari@icloud.com", "date": "2019-11-10T21:30:53Z"}, "committer": {"name": "Seivan Heidari", "email": "seivan.heidari@icloud.com", "date": "2019-11-10T21:30:53Z"}, "message": "Probably a better approach to check for values before assigning lest we replace something.", "tree": {"sha": "1033d15c2aefff9d907f2f0017bcfb9d4b429835", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1033d15c2aefff9d907f2f0017bcfb9d4b429835"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3886164bcce734825d20a1af08ce359fbe0710e3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3886164bcce734825d20a1af08ce359fbe0710e3", "html_url": "https://github.com/rust-lang/rust/commit/3886164bcce734825d20a1af08ce359fbe0710e3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3886164bcce734825d20a1af08ce359fbe0710e3/comments", "author": {"login": "seivan", "id": 55424, "node_id": "MDQ6VXNlcjU1NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/55424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seivan", "html_url": "https://github.com/seivan", "followers_url": "https://api.github.com/users/seivan/followers", "following_url": "https://api.github.com/users/seivan/following{/other_user}", "gists_url": "https://api.github.com/users/seivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/seivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seivan/subscriptions", "organizations_url": "https://api.github.com/users/seivan/orgs", "repos_url": "https://api.github.com/users/seivan/repos", "events_url": "https://api.github.com/users/seivan/events{/privacy}", "received_events_url": "https://api.github.com/users/seivan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "seivan", "id": 55424, "node_id": "MDQ6VXNlcjU1NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/55424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seivan", "html_url": "https://github.com/seivan", "followers_url": "https://api.github.com/users/seivan/followers", "following_url": "https://api.github.com/users/seivan/following{/other_user}", "gists_url": "https://api.github.com/users/seivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/seivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seivan/subscriptions", "organizations_url": "https://api.github.com/users/seivan/orgs", "repos_url": "https://api.github.com/users/seivan/repos", "events_url": "https://api.github.com/users/seivan/events{/privacy}", "received_events_url": "https://api.github.com/users/seivan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "83a33fbbeae9cbec8bec855e9338b7ccd08bd3a0", "url": "https://api.github.com/repos/rust-lang/rust/commits/83a33fbbeae9cbec8bec855e9338b7ccd08bd3a0", "html_url": "https://github.com/rust-lang/rust/commit/83a33fbbeae9cbec8bec855e9338b7ccd08bd3a0"}], "stats": {"total": 30, "additions": 27, "deletions": 3}, "files": [{"sha": "0a38c9ef674b0955a4bdad4eaa967fd03c2be094", "filename": "editors/code/src/highlighting.ts", "status": "modified", "additions": 27, "deletions": 3, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/3886164bcce734825d20a1af08ce359fbe0710e3/editors%2Fcode%2Fsrc%2Fhighlighting.ts", "raw_url": "https://github.com/rust-lang/rust/raw/3886164bcce734825d20a1af08ce359fbe0710e3/editors%2Fcode%2Fsrc%2Fhighlighting.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fhighlighting.ts?ref=3886164bcce734825d20a1af08ce359fbe0710e3", "patch": "@@ -30,9 +30,33 @@ function createDecorationFromTextmate(\n ): vscode.TextEditorDecorationType {\n     const decorationOptions: vscode.DecorationRenderOptions = {};\n     decorationOptions.rangeBehavior = vscode.DecorationRangeBehavior.OpenOpen;\n-    decorationOptions.color = themeStyle.foreground;\n-    decorationOptions.backgroundColor = themeStyle.background;\n-    decorationOptions.fontStyle = themeStyle.fontStyle;\n+\n+    if (themeStyle.foreground) {\n+        decorationOptions.color = themeStyle.foreground;\n+    }\n+\n+    if (themeStyle.background) {\n+        decorationOptions.backgroundColor = themeStyle.background;\n+    }\n+\n+    if (themeStyle.fontStyle) {\n+        const parts: string[] = themeStyle.fontStyle.split(' ');\n+        parts.forEach(part => {\n+            switch (part) {\n+                case 'italic':\n+                    decorationOptions.fontStyle = 'italic';\n+                    break;\n+                case 'bold':\n+                    decorationOptions.fontWeight = 'bold';\n+                    break;\n+                case 'underline':\n+                    decorationOptions.textDecoration = 'underline';\n+                    break;\n+                default:\n+                    break;\n+            }\n+        });\n+    }\n     return vscode.window.createTextEditorDecorationType(decorationOptions);\n }\n "}]}