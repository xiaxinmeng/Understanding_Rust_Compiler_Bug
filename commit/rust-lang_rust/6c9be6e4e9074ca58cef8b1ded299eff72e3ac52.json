{"sha": "6c9be6e4e9074ca58cef8b1ded299eff72e3ac52", "node_id": "C_kwDOAAsO6NoAKDZjOWJlNmU0ZTkwNzRjYTU4Y2VmOGIxZGVkMjk5ZWZmNzJlM2FjNTI", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-06-19T03:30:05Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-06-19T03:30:05Z"}, "message": "Auto merge of #97944 - nikic:freebsd-update, r=Mark-Simulacrum\n\nUpdate FreeBSD toolchain to 12.3\n\nUpdate the FreeBSD toolchain to 12.3. FreeBSD 11 is EOL since September 30, 2021.\n\nI've locally verified that the `dist-x86_64-freebsd` docker image builds successfully.\n\nr? `@Mark-Simulacrum`", "tree": {"sha": "da460993e96b74329c1d1ba8ae15eea3ed342d22", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/da460993e96b74329c1d1ba8ae15eea3ed342d22"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6c9be6e4e9074ca58cef8b1ded299eff72e3ac52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6c9be6e4e9074ca58cef8b1ded299eff72e3ac52", "html_url": "https://github.com/rust-lang/rust/commit/6c9be6e4e9074ca58cef8b1ded299eff72e3ac52", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6c9be6e4e9074ca58cef8b1ded299eff72e3ac52/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3b98c08288528c243973a54934e4be75bcf20c31", "url": "https://api.github.com/repos/rust-lang/rust/commits/3b98c08288528c243973a54934e4be75bcf20c31", "html_url": "https://github.com/rust-lang/rust/commit/3b98c08288528c243973a54934e4be75bcf20c31"}, {"sha": "13b4000fd31e33e969776896b7e4e19efda576ed", "url": "https://api.github.com/repos/rust-lang/rust/commits/13b4000fd31e33e969776896b7e4e19efda576ed", "html_url": "https://github.com/rust-lang/rust/commit/13b4000fd31e33e969776896b7e4e19efda576ed"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "6f9980dbc865b48a41038cb25e89b8f6d84d4a81", "filename": "src/ci/docker/host-x86_64/dist-various-2/Dockerfile", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6c9be6e4e9074ca58cef8b1ded299eff72e3ac52/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/6c9be6e4e9074ca58cef8b1ded299eff72e3ac52/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2FDockerfile?ref=6c9be6e4e9074ca58cef8b1ded299eff72e3ac52", "patch": "@@ -52,9 +52,9 @@ ENV \\\n     CFLAGS_x86_64_fortanix_unknown_sgx=\"-D__ELF__ -isystem/usr/include/x86_64-linux-gnu -mlvi-hardening -mllvm -x86-experimental-lvi-inline-asm-hardening\" \\\n     CXX_x86_64_fortanix_unknown_sgx=clang++-11 \\\n     CXXFLAGS_x86_64_fortanix_unknown_sgx=\"-D__ELF__ -isystem/usr/include/x86_64-linux-gnu -mlvi-hardening -mllvm -x86-experimental-lvi-inline-asm-hardening\" \\\n-    AR_i686_unknown_freebsd=i686-unknown-freebsd11-ar \\\n-    CC_i686_unknown_freebsd=i686-unknown-freebsd11-clang \\\n-    CXX_i686_unknown_freebsd=i686-unknown-freebsd11-clang++ \\\n+    AR_i686_unknown_freebsd=i686-unknown-freebsd12-ar \\\n+    CC_i686_unknown_freebsd=i686-unknown-freebsd12-clang \\\n+    CXX_i686_unknown_freebsd=i686-unknown-freebsd12-clang++ \\\n     CC=gcc-8 \\\n     CXX=g++-8\n "}, {"sha": "f9b1fa8951adff3b88b7017a77d420800ba8fb1f", "filename": "src/ci/docker/host-x86_64/dist-x86_64-freebsd/Dockerfile", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6c9be6e4e9074ca58cef8b1ded299eff72e3ac52/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-freebsd%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/6c9be6e4e9074ca58cef8b1ded299eff72e3ac52/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-freebsd%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-x86_64-freebsd%2FDockerfile?ref=6c9be6e4e9074ca58cef8b1ded299eff72e3ac52", "patch": "@@ -27,9 +27,9 @@ COPY scripts/cmake.sh /scripts/\n RUN /scripts/cmake.sh\n \n ENV \\\n-    AR_x86_64_unknown_freebsd=x86_64-unknown-freebsd11-ar \\\n-    CC_x86_64_unknown_freebsd=x86_64-unknown-freebsd11-clang \\\n-    CXX_x86_64_unknown_freebsd=x86_64-unknown-freebsd11-clang++\n+    AR_x86_64_unknown_freebsd=x86_64-unknown-freebsd12-ar \\\n+    CC_x86_64_unknown_freebsd=x86_64-unknown-freebsd12-clang \\\n+    CXX_x86_64_unknown_freebsd=x86_64-unknown-freebsd12-clang++\n \n ENV HOSTS=x86_64-unknown-freebsd\n "}, {"sha": "4a4cac1b723c7db85dfc8d6c2099512aa97286a3", "filename": "src/ci/docker/scripts/freebsd-toolchain.sh", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/6c9be6e4e9074ca58cef8b1ded299eff72e3ac52/src%2Fci%2Fdocker%2Fscripts%2Ffreebsd-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/6c9be6e4e9074ca58cef8b1ded299eff72e3ac52/src%2Fci%2Fdocker%2Fscripts%2Ffreebsd-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fscripts%2Ffreebsd-toolchain.sh?ref=6c9be6e4e9074ca58cef8b1ded299eff72e3ac52", "patch": "@@ -5,8 +5,8 @@ set -eux\n \n arch=$1\n binutils_version=2.25.1\n-freebsd_version=11.4\n-triple=$arch-unknown-freebsd11\n+freebsd_version=12.3\n+triple=$arch-unknown-freebsd12\n sysroot=/usr/local/$triple\n \n hide_output() {\n@@ -59,7 +59,7 @@ done\n \n # Originally downloaded from:\n # URL=https://download.freebsd.org/ftp/releases/${freebsd_arch}/${freebsd_version}-RELEASE/base.txz\n-URL=https://ci-mirrors.rust-lang.org/rustc/2020-08-09-freebsd-${freebsd_arch}-${freebsd_version}-RELEASE-base.txz\n+URL=https://ci-mirrors.rust-lang.org/rustc/2022-05-06-freebsd-${freebsd_version}-${freebsd_arch}-base.txz\n curl \"$URL\" | tar xJf - -C \"$sysroot\" --wildcards \"${files_to_extract[@]}\"\n \n # Clang can do cross-builds out of the box, if we give it the right\n@@ -68,7 +68,7 @@ curl \"$URL\" | tar xJf - -C \"$sysroot\" --wildcards \"${files_to_extract[@]}\"\n # there might be other problems.)\n #\n # The --target option is last because the cross-build of LLVM uses\n-# --target without an OS version (\"-freebsd\" vs. \"-freebsd11\").  This\n+# --target without an OS version (\"-freebsd\" vs. \"-freebsd12\").  This\n # makes Clang default to libstdc++ (which no longer exists), and also\n # controls other features, like GNU-style symbol table hashing and\n # anything predicated on the version number in the __FreeBSD__"}]}