{"sha": "f3c4652d0c2529680222c53ea50a7aabdee28e3b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYzYzQ2NTJkMGMyNTI5NjgwMjIyYzUzZWE1MGE3YWFiZGVlMjhlM2I=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-02-13T03:37:08Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-02-13T03:37:08Z"}, "message": "Rollup merge of #58404 - euclio:cloudabi-keyserver, r=alexcrichton\n\nuse Ubuntu keyserver for CloudABI ports\n\nThe Ubuntu keyserver is more reliable than the MIT PGP server, which is\nprone to going down. This commit also explicitly uses port 80 on the\nkeyserver for reasons outlined in #57844.", "tree": {"sha": "a392836133c67e38ff095ada92dbfbf5b02e9485", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a392836133c67e38ff095ada92dbfbf5b02e9485"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f3c4652d0c2529680222c53ea50a7aabdee28e3b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcY5DkCRBK7hj4Ov3rIwAAdHIIABQdwq+/2ieyUghFJcqPegqi\n6MxQdkvzC5ZHiR8G221QpXi+QCg3zPtPW0eujefwcjNBDQw+Wy0wbVPrl9welbWJ\nZ0EAVpL0eP/D7lX1PLkhmpkIT7ksfPhX1eqVi090thEDxzT+in3gzb0fP7SxqJEb\nyOxVoRfBAnNl25R6+JF8H9fZDDbeXKdH9x/UcSebmtEjBLFI1hX9eFSSX5shFsoG\nV/iKYJHD4w3KxSLuK4U24s/OHWyksxu2svzoklZO/PFd5VRglfuTu4uBo2FMgF/d\ntnJ5s2LUiJ8LSFracnq4x78fMvG17OZsMhyb36k4tnmoIPTpZSJJdmGj7epcxqw=\n=ozdH\n-----END PGP SIGNATURE-----\n", "payload": "tree a392836133c67e38ff095ada92dbfbf5b02e9485\nparent a5e869eb6297d2afb3175b17fb0bae5e771ffeef\nparent 8b21a55b965aab6e5110fdb1d27c43d9212bd85f\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1550029028 +0100\ncommitter GitHub <noreply@github.com> 1550029028 +0100\n\nRollup merge of #58404 - euclio:cloudabi-keyserver, r=alexcrichton\n\nuse Ubuntu keyserver for CloudABI ports\n\nThe Ubuntu keyserver is more reliable than the MIT PGP server, which is\nprone to going down. This commit also explicitly uses port 80 on the\nkeyserver for reasons outlined in #57844.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f3c4652d0c2529680222c53ea50a7aabdee28e3b", "html_url": "https://github.com/rust-lang/rust/commit/f3c4652d0c2529680222c53ea50a7aabdee28e3b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f3c4652d0c2529680222c53ea50a7aabdee28e3b/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a5e869eb6297d2afb3175b17fb0bae5e771ffeef", "url": "https://api.github.com/repos/rust-lang/rust/commits/a5e869eb6297d2afb3175b17fb0bae5e771ffeef", "html_url": "https://github.com/rust-lang/rust/commit/a5e869eb6297d2afb3175b17fb0bae5e771ffeef"}, {"sha": "8b21a55b965aab6e5110fdb1d27c43d9212bd85f", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b21a55b965aab6e5110fdb1d27c43d9212bd85f", "html_url": "https://github.com/rust-lang/rust/commit/8b21a55b965aab6e5110fdb1d27c43d9212bd85f"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "3354a796c357e51672845828d83e4a0e94160722", "filename": "src/ci/docker/dist-various-2/build-cloudabi-toolchain.sh", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/f3c4652d0c2529680222c53ea50a7aabdee28e3b/src%2Fci%2Fdocker%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/f3c4652d0c2529680222c53ea50a7aabdee28e3b/src%2Fci%2Fdocker%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-various-2%2Fbuild-cloudabi-toolchain.sh?ref=f3c4652d0c2529680222c53ea50a7aabdee28e3b", "patch": "@@ -32,9 +32,8 @@ ln -s ../lib/llvm-5.0/bin/lld /usr/bin/${target}-ld\n ln -s ../../${target} /usr/lib/llvm-5.0/${target}\n \n # Install the C++ runtime libraries from CloudABI Ports.\n-echo deb https://nuxi.nl/distfiles/cloudabi-ports/debian/ cloudabi cloudabi > \\\n-    /etc/apt/sources.list.d/cloudabi.list\n-curl 'https://pgp.mit.edu/pks/lookup?op=get&search=0x0DA51B8531344B15' | \\\n-    apt-key add -\n+apt-key adv --batch --yes --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 0DA51B8531344B15\n+add-apt-repository -y 'deb https://nuxi.nl/distfiles/cloudabi-ports/debian/ cloudabi cloudabi'\n+\n apt-get update\n-apt-get install -y $(echo ${target} | sed -e s/_/-/g)-cxx-runtime\n+apt-get install -y \"${target//_/-}-cxx-runtime\""}]}