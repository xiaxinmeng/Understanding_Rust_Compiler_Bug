{"sha": "a668f703fa5361f59a170d40be667c7e59a4a3e5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE2NjhmNzAzZmE1MzYxZjU5YTE3MGQ0MGJlNjY3YzdlNTlhNGEzZTU=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-09-04T02:09:39Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2018-09-04T02:09:39Z"}, "message": "micro-optimize", "tree": {"sha": "483a7941d40abd3fc8d630782c2959492a2a15ef", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/483a7941d40abd3fc8d630782c2959492a2a15ef"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a668f703fa5361f59a170d40be667c7e59a4a3e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a668f703fa5361f59a170d40be667c7e59a4a3e5", "html_url": "https://github.com/rust-lang/rust/commit/a668f703fa5361f59a170d40be667c7e59a4a3e5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a668f703fa5361f59a170d40be667c7e59a4a3e5/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "294534abc7471604e0700d28aaac51000aff8c3e", "url": "https://api.github.com/repos/rust-lang/rust/commits/294534abc7471604e0700d28aaac51000aff8c3e", "html_url": "https://github.com/rust-lang/rust/commit/294534abc7471604e0700d28aaac51000aff8c3e"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "e3ccffbf0d6d651e973eb6f113f424ffda2b8ed3", "filename": "crates/libanalysis/src/imp.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/a668f703fa5361f59a170d40be667c7e59a4a3e5/crates%2Flibanalysis%2Fsrc%2Fimp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a668f703fa5361f59a170d40be667c7e59a4a3e5/crates%2Flibanalysis%2Fsrc%2Fimp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Flibanalysis%2Fsrc%2Fimp.rs?ref=a668f703fa5361f59a170d40be667c7e59a4a3e5", "patch": "@@ -113,13 +113,14 @@ impl AnalysisImpl {\n \n     }\n     pub fn parent_module(&self, file_id: FileId) -> Vec<(FileId, FileSymbol)> {\n-        let module_map = self.root(file_id).module_map();\n+        let root = self.root(file_id);\n+        let module_map = root.module_map();\n         let id = module_map.file2module(file_id);\n         module_map\n             .parent_modules(\n                 id,\n                 &*self.file_resolver,\n-                &|file_id| self.file_syntax(file_id),\n+                &|file_id| root.syntax(file_id),\n             )\n             .into_iter()\n             .map(|(id, name, node)| {"}]}