{"sha": "9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "node_id": "MDY6Q29tbWl0NzI0NzEyOjllYjg4ZjNiODIxZWM1Y2EyNzZlMmY1ZDVjNGY0MWRjM2U5ZjBlODc=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-06-21T23:42:37Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-06-21T23:42:37Z"}, "message": "Rollup merge of #61681 - asfreitas:addSendTrait, r=estebank\n\nChanged the error message to more clearly explain what is allowed\n\nThis is in regard to #61634. I changed the language to make it more clear what is allowed.", "tree": {"sha": "614d8d5fc4ba5147da0f7566d1ba812e0c7d2947", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/614d8d5fc4ba5147da0f7566d1ba812e0c7d2947"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJdDWttCRBK7hj4Ov3rIwAAdHIIACWQWOsIyvqiKGs0jvDyNEcU\nwf4hzqy6K/4te9UNelStyBDCz/AQYuhwibwYZ6sm+DMRUMiANDlqVx2ly6WCiGTU\naEBAnueAxJYFCGnFA/KJTqtl7iOgidP7r+Kxyj68UxGDi4sgeSt5OqftortkNKcr\nVJ/PThB70yyt1XVEeeo90k03HUpUEIL14syb4puUHTWCSEB9ifxJkaBvkbhImBaB\nVSsXxHQnx1Nz3AMzF1VbDxcg1gkaBs1uv5US2NL9Oh4uPjHGBVWiCzHf8w9+Wa8E\n33GNGJxnWynvo0iTFQFO2moploNkSuzumKcDLEvRiKgHWiwqGK7cROtjyqda5jQ=\n=wuCS\n-----END PGP SIGNATURE-----\n", "payload": "tree 614d8d5fc4ba5147da0f7566d1ba812e0c7d2947\nparent c3c3a5e7e7f6f19d828ca558b2c74313f3542f02\nparent f4cd3c205431e987504b5e3ca56de74fab49deb3\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1561160557 +0200\ncommitter GitHub <noreply@github.com> 1561160557 +0200\n\nRollup merge of #61681 - asfreitas:addSendTrait, r=estebank\n\nChanged the error message to more clearly explain what is allowed\n\nThis is in regard to #61634. I changed the language to make it more clear what is allowed.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "html_url": "https://github.com/rust-lang/rust/commit/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c3c3a5e7e7f6f19d828ca558b2c74313f3542f02", "url": "https://api.github.com/repos/rust-lang/rust/commits/c3c3a5e7e7f6f19d828ca558b2c74313f3542f02", "html_url": "https://github.com/rust-lang/rust/commit/c3c3a5e7e7f6f19d828ca558b2c74313f3542f02"}, {"sha": "f4cd3c205431e987504b5e3ca56de74fab49deb3", "url": "https://api.github.com/repos/rust-lang/rust/commits/f4cd3c205431e987504b5e3ca56de74fab49deb3", "html_url": "https://github.com/rust-lang/rust/commit/f4cd3c205431e987504b5e3ca56de74fab49deb3"}], "stats": {"total": 30, "additions": 15, "deletions": 15}, "files": [{"sha": "f3347021e63fa2039958b6acdecfe0aa8f5b465c", "filename": "src/librustc_typeck/astconv.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Flibrustc_typeck%2Fastconv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Flibrustc_typeck%2Fastconv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fastconv.rs?ref=9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "patch": "@@ -1253,7 +1253,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n \n         if regular_traits.is_empty() && auto_traits.is_empty() {\n             span_err!(tcx.sess, span, E0224,\n-                \"at least one non-builtin trait is required for an object type\");\n+                \"at least one trait is required for an object type\");\n             return tcx.types.err;\n         }\n "}, {"sha": "e4abf314e0a967b99283b3e0ff23235491d36508", "filename": "src/test/ui/traits/trait-alias/trait-alias-only-maybe-bound.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-alias%2Ftrait-alias-only-maybe-bound.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-alias%2Ftrait-alias-only-maybe-bound.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftrait-alias%2Ftrait-alias-only-maybe-bound.rs?ref=9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "patch": "@@ -11,12 +11,12 @@ trait _1 = _0;\n \n // Straight list expansion:\n type _T0 = dyn _1;\n-//~^ ERROR at least one non-builtin trait is required for an object type [E0224]\n+//~^ ERROR at least one trait is required for an object type [E0224]\n \n // Twice:\n trait _2 = _1 + _1;\n \n type _T1 = dyn _2;\n-//~^ ERROR at least one non-builtin trait is required for an object type [E0224]\n+//~^ ERROR at least one trait is required for an object type [E0224]\n \n fn main() {}"}, {"sha": "6de79fa917b16d704f3ba6e3aa21475755a9dfb2", "filename": "src/test/ui/traits/trait-alias/trait-alias-only-maybe-bound.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-alias%2Ftrait-alias-only-maybe-bound.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-alias%2Ftrait-alias-only-maybe-bound.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftrait-alias%2Ftrait-alias-only-maybe-bound.stderr?ref=9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "patch": "@@ -1,10 +1,10 @@\n-error[E0224]: at least one non-builtin trait is required for an object type\n+error[E0224]: at least one trait is required for an object type\n   --> $DIR/trait-alias-only-maybe-bound.rs:13:12\n    |\n LL | type _T0 = dyn _1;\n    |            ^^^^^^\n \n-error[E0224]: at least one non-builtin trait is required for an object type\n+error[E0224]: at least one trait is required for an object type\n   --> $DIR/trait-alias-only-maybe-bound.rs:19:12\n    |\n LL | type _T1 = dyn _2;"}, {"sha": "a6852569f3a12b85cfd9c882a17671176c7c6d48", "filename": "src/test/ui/traits/trait-object-macro-matcher.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-macro-matcher.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-macro-matcher.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-macro-matcher.rs?ref=9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "patch": "@@ -8,5 +8,5 @@ fn main() {\n     m!(dyn Copy + Send + 'static);\n     //~^ ERROR the trait `std::marker::Copy` cannot be made into an object\n     m!(dyn 'static + Send);\n-    m!(dyn 'static +); //~ ERROR at least one non-builtin trait is required for an object type\n+    m!(dyn 'static +); //~ ERROR at least one trait is required for an object type\n }"}, {"sha": "6b5effaad9bc4e49a73245d035f372f83e23da5f", "filename": "src/test/ui/traits/trait-object-macro-matcher.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-macro-matcher.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-macro-matcher.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-macro-matcher.stderr?ref=9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "patch": "@@ -1,4 +1,4 @@\n-error[E0224]: at least one non-builtin trait is required for an object type\n+error[E0224]: at least one trait is required for an object type\n   --> $DIR/trait-object-macro-matcher.rs:11:8\n    |\n LL |     m!(dyn 'static +);"}, {"sha": "0b33dc7f69a3ace1ea5894e4308788543d9ea5c6", "filename": "src/test/ui/traits/trait-object-vs-lifetime-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime-2.rs?ref=9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "patch": "@@ -5,7 +5,7 @@\n fn g() where\n     'static: 'static,\n     dyn 'static +: 'static + Copy,\n-    //~^ ERROR at least one non-builtin trait is required for an object type\n+    //~^ ERROR at least one trait is required for an object type\n {}\n \n fn main() {}"}, {"sha": "014d380b63ca5c05dedb798944d9819ff32053a6", "filename": "src/test/ui/traits/trait-object-vs-lifetime-2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime-2.stderr?ref=9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "patch": "@@ -1,4 +1,4 @@\n-error[E0224]: at least one non-builtin trait is required for an object type\n+error[E0224]: at least one trait is required for an object type\n   --> $DIR/trait-object-vs-lifetime-2.rs:7:5\n    |\n LL |     dyn 'static +: 'static + Copy,"}, {"sha": "e0ff73494837613385ab9b6b6ef3cdbb309382e0", "filename": "src/test/ui/traits/trait-object-vs-lifetime.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime.rs?ref=9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "patch": "@@ -7,11 +7,11 @@ fn main() {\n     // `'static` is a lifetime argument, `'static +` is a type argument\n     let _: S<'static, u8>;\n     let _: S<'static, dyn 'static +>;\n-    //~^ at least one non-builtin trait is required for an object type\n+    //~^ at least one trait is required for an object type\n     let _: S<'static, 'static>;\n     //~^ ERROR wrong number of lifetime arguments: expected 1, found 2\n     //~| ERROR wrong number of type arguments: expected 1, found 0\n     let _: S<dyn 'static +, 'static>;\n     //~^ ERROR lifetime arguments must be declared prior to type arguments\n-    //~| ERROR at least one non-builtin trait is required for an object type\n+    //~| ERROR at least one trait is required for an object type\n }"}, {"sha": "be1958770a426b73fa5b22e83d0a4581b7f3e6b1", "filename": "src/test/ui/traits/trait-object-vs-lifetime.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftrait-object-vs-lifetime.stderr?ref=9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "patch": "@@ -4,7 +4,7 @@ error: lifetime arguments must be declared prior to type arguments\n LL |     let _: S<dyn 'static +, 'static>;\n    |                             ^^^^^^^\n \n-error[E0224]: at least one non-builtin trait is required for an object type\n+error[E0224]: at least one trait is required for an object type\n   --> $DIR/trait-object-vs-lifetime.rs:9:23\n    |\n LL |     let _: S<'static, dyn 'static +>;\n@@ -22,7 +22,7 @@ error[E0107]: wrong number of type arguments: expected 1, found 0\n LL |     let _: S<'static, 'static>;\n    |            ^^^^^^^^^^^^^^^^^^^ expected 1 type argument\n \n-error[E0224]: at least one non-builtin trait is required for an object type\n+error[E0224]: at least one trait is required for an object type\n   --> $DIR/trait-object-vs-lifetime.rs:14:14\n    |\n LL |     let _: S<dyn 'static +, 'static>;"}, {"sha": "3e6db3e997c9b7da2007b5b0878fa051f1402c0c", "filename": "src/test/ui/traits/wf-trait-object-only-maybe-bound.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Fwf-trait-object-only-maybe-bound.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Fwf-trait-object-only-maybe-bound.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Fwf-trait-object-only-maybe-bound.rs?ref=9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "patch": "@@ -1,7 +1,7 @@\n // Test that `dyn ?Sized` (i.e., a trait object with only a maybe buond) is not allowed.\n \n type _0 = dyn ?Sized;\n-//~^ ERROR at least one non-builtin trait is required for an object type [E0224]\n+//~^ ERROR at least one trait is required for an object type [E0224]\n //~| ERROR ?Trait` is not permitted in trait object types\n \n fn main() {}"}, {"sha": "8cc97addc7dd4a832119c0f52587f5e320e5d6ca", "filename": "src/test/ui/traits/wf-trait-object-only-maybe-bound.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Fwf-trait-object-only-maybe-bound.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87/src%2Ftest%2Fui%2Ftraits%2Fwf-trait-object-only-maybe-bound.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Fwf-trait-object-only-maybe-bound.stderr?ref=9eb88f3b821ec5ca276e2f5d5c4f41dc3e9f0e87", "patch": "@@ -4,7 +4,7 @@ error: `?Trait` is not permitted in trait object types\n LL | type _0 = dyn ?Sized;\n    |               ^^^^^^\n \n-error[E0224]: at least one non-builtin trait is required for an object type\n+error[E0224]: at least one trait is required for an object type\n   --> $DIR/wf-trait-object-only-maybe-bound.rs:3:11\n    |\n LL | type _0 = dyn ?Sized;"}]}