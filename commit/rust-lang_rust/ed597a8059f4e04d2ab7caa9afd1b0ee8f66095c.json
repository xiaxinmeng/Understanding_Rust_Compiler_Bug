{"sha": "ed597a8059f4e04d2ab7caa9afd1b0ee8f66095c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVkNTk3YTgwNTlmNGUwNGQyYWI3Y2FhOWFmZDFiMGVlOGY2NjA5NWM=", "commit": {"author": {"name": "Eli Friedman", "email": "eli.friedman@gmail.com", "date": "2015-09-24T05:51:37Z"}, "committer": {"name": "Eli Friedman", "email": "eli.friedman@gmail.com", "date": "2015-09-24T05:51:37Z"}, "message": "Exhaustively enumerate expressions in expression rewriting.", "tree": {"sha": "c4f79df67f4ea3dc24f73673c2e8ee3678789dac", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c4f79df67f4ea3dc24f73673c2e8ee3678789dac"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ed597a8059f4e04d2ab7caa9afd1b0ee8f66095c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ed597a8059f4e04d2ab7caa9afd1b0ee8f66095c", "html_url": "https://github.com/rust-lang/rust/commit/ed597a8059f4e04d2ab7caa9afd1b0ee8f66095c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ed597a8059f4e04d2ab7caa9afd1b0ee8f66095c/comments", "author": {"login": "eefriedman", "id": 12769964, "node_id": "MDQ6VXNlcjEyNzY5OTY0", "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eefriedman", "html_url": "https://github.com/eefriedman", "followers_url": "https://api.github.com/users/eefriedman/followers", "following_url": "https://api.github.com/users/eefriedman/following{/other_user}", "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}", "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions", "organizations_url": "https://api.github.com/users/eefriedman/orgs", "repos_url": "https://api.github.com/users/eefriedman/repos", "events_url": "https://api.github.com/users/eefriedman/events{/privacy}", "received_events_url": "https://api.github.com/users/eefriedman/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eefriedman", "id": 12769964, "node_id": "MDQ6VXNlcjEyNzY5OTY0", "avatar_url": "https://avatars.githubusercontent.com/u/12769964?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eefriedman", "html_url": "https://github.com/eefriedman", "followers_url": "https://api.github.com/users/eefriedman/followers", "following_url": "https://api.github.com/users/eefriedman/following{/other_user}", "gists_url": "https://api.github.com/users/eefriedman/gists{/gist_id}", "starred_url": "https://api.github.com/users/eefriedman/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eefriedman/subscriptions", "organizations_url": "https://api.github.com/users/eefriedman/orgs", "repos_url": "https://api.github.com/users/eefriedman/repos", "events_url": "https://api.github.com/users/eefriedman/events{/privacy}", "received_events_url": "https://api.github.com/users/eefriedman/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c14cfca0e3de3dfa5fd91d39a85c5b452e7756e3", "url": "https://api.github.com/repos/rust-lang/rust/commits/c14cfca0e3de3dfa5fd91d39a85c5b452e7756e3", "html_url": "https://github.com/rust-lang/rust/commit/c14cfca0e3de3dfa5fd91d39a85c5b452e7756e3"}], "stats": {"total": 10, "additions": 9, "deletions": 1}, "files": [{"sha": "c1749668c5774808c234fd7dfbc974c4ba5e294a", "filename": "src/expr.rs", "status": "modified", "additions": 9, "deletions": 1, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ed597a8059f4e04d2ab7caa9afd1b0ee8f66095c/src%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ed597a8059f4e04d2ab7caa9afd1b0ee8f66095c/src%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fexpr.rs?ref=ed597a8059f4e04d2ab7caa9afd1b0ee8f66095c", "patch": "@@ -155,7 +155,15 @@ impl Rewrite for ast::Expr {\n             }\n             // We do not format these expressions yet, but they should still\n             // satisfy our width restrictions.\n-            _ => wrap_str(context.snippet(self.span), context.config.max_width, width, offset),\n+            ast::Expr_::ExprBox(..) |\n+            ast::Expr_::ExprCast(..) |\n+            ast::Expr_::ExprIndex(..) |\n+            ast::Expr_::ExprAddrOf(..) |\n+            ast::Expr_::ExprRet(..) |\n+            ast::Expr_::ExprInlineAsm(..) |\n+            ast::Expr_::ExprRepeat(..) => {\n+                wrap_str(context.snippet(self.span), context.config.max_width, width, offset)\n+            }\n         }\n     }\n }"}]}