{"sha": "0298095ac21e8fd5eb5ead8edc1b49a365972cc4", "node_id": "C_kwDOAAsO6NoAKDAyOTgwOTVhYzIxZThmZDVlYjVlYWQ4ZWRjMWI0OWEzNjU5NzJjYzQ", "commit": {"author": {"name": "Ray Redondo", "email": "raydredondo@gmail.com", "date": "2022-12-29T20:48:36Z"}, "committer": {"name": "Ray Redondo", "email": "raydredondo@gmail.com", "date": "2022-12-29T20:48:36Z"}, "message": "add comment about mutex_atomic issue to description", "tree": {"sha": "9a92cbc7f19d1d619bf062cb265fb55375b2e423", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9a92cbc7f19d1d619bf062cb265fb55375b2e423"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0298095ac21e8fd5eb5ead8edc1b49a365972cc4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0298095ac21e8fd5eb5ead8edc1b49a365972cc4", "html_url": "https://github.com/rust-lang/rust/commit/0298095ac21e8fd5eb5ead8edc1b49a365972cc4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0298095ac21e8fd5eb5ead8edc1b49a365972cc4/comments", "author": null, "committer": null, "parents": [{"sha": "0e5fcb7b7f13c30668637568e9eb11ce0672a5ed", "url": "https://api.github.com/repos/rust-lang/rust/commits/0e5fcb7b7f13c30668637568e9eb11ce0672a5ed", "html_url": "https://github.com/rust-lang/rust/commit/0e5fcb7b7f13c30668637568e9eb11ce0672a5ed"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "dc866ab6373bbb76fd013d62159e30f2ab3587e3", "filename": "clippy_lints/src/mutex_atomic.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/0298095ac21e8fd5eb5ead8edc1b49a365972cc4/clippy_lints%2Fsrc%2Fmutex_atomic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0298095ac21e8fd5eb5ead8edc1b49a365972cc4/clippy_lints%2Fsrc%2Fmutex_atomic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmutex_atomic.rs?ref=0298095ac21e8fd5eb5ead8edc1b49a365972cc4", "patch": "@@ -1,6 +1,6 @@\n //! Checks for uses of mutex where an atomic value could be used\n //!\n-//! This lint is **warn** by default\n+//! This lint is **allow** by default\n \n use clippy_utils::diagnostics::span_lint;\n use clippy_utils::ty::is_type_diagnostic_item;\n@@ -20,6 +20,10 @@ declare_clippy_lint! {\n     /// `std::sync::atomic::AtomicBool` and `std::sync::atomic::AtomicPtr` are leaner and\n     /// faster.\n     ///\n+    /// On the other hand, `Mutex`es are, in general, easier to\n+    /// verify correctness. An atomic does not behave the same as\n+    /// an equivalent mutex. See [this issue](https://github.com/rust-lang/rust-clippy/issues/4295)'s commentary for more details.\n+    ///\n     /// ### Known problems\n     /// This lint cannot detect if the mutex is actually used\n     /// for waiting before a critical section.\n@@ -40,7 +44,7 @@ declare_clippy_lint! {\n     #[clippy::version = \"pre 1.29.0\"]\n     pub MUTEX_ATOMIC,\n     restriction,\n-    \"using a mutex where an atomic value could be used instead\"\n+    \"using a mutex where an atomic value could be used instead.\"\n }\n \n declare_clippy_lint! {"}]}