{"sha": "943bf963004b07fbb8d31be3244b155ce00716fb", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk0M2JmOTYzMDA0YjA3ZmJiOGQzMWJlMzI0NGIxNTVjZTAwNzE2ZmI=", "commit": {"author": {"name": "Liigo Zhuang", "email": "com.liigo@gmail.com", "date": "2016-11-28T04:49:33Z"}, "committer": {"name": "Liigo Zhuang", "email": "com.liigo@gmail.com", "date": "2016-11-30T02:33:22Z"}, "message": "unstable --playground-url, add test code", "tree": {"sha": "c1d69fd8a77f7b36a3b699df4d022c0825d39702", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c1d69fd8a77f7b36a3b699df4d022c0825d39702"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/943bf963004b07fbb8d31be3244b155ce00716fb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/943bf963004b07fbb8d31be3244b155ce00716fb", "html_url": "https://github.com/rust-lang/rust/commit/943bf963004b07fbb8d31be3244b155ce00716fb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/943bf963004b07fbb8d31be3244b155ce00716fb/comments", "author": {"login": "liigo", "id": 346530, "node_id": "MDQ6VXNlcjM0NjUzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/346530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liigo", "html_url": "https://github.com/liigo", "followers_url": "https://api.github.com/users/liigo/followers", "following_url": "https://api.github.com/users/liigo/following{/other_user}", "gists_url": "https://api.github.com/users/liigo/gists{/gist_id}", "starred_url": "https://api.github.com/users/liigo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liigo/subscriptions", "organizations_url": "https://api.github.com/users/liigo/orgs", "repos_url": "https://api.github.com/users/liigo/repos", "events_url": "https://api.github.com/users/liigo/events{/privacy}", "received_events_url": "https://api.github.com/users/liigo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "liigo", "id": 346530, "node_id": "MDQ6VXNlcjM0NjUzMA==", "avatar_url": "https://avatars.githubusercontent.com/u/346530?v=4", "gravatar_id": "", "url": "https://api.github.com/users/liigo", "html_url": "https://github.com/liigo", "followers_url": "https://api.github.com/users/liigo/followers", "following_url": "https://api.github.com/users/liigo/following{/other_user}", "gists_url": "https://api.github.com/users/liigo/gists{/gist_id}", "starred_url": "https://api.github.com/users/liigo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/liigo/subscriptions", "organizations_url": "https://api.github.com/users/liigo/orgs", "repos_url": "https://api.github.com/users/liigo/repos", "events_url": "https://api.github.com/users/liigo/events{/privacy}", "received_events_url": "https://api.github.com/users/liigo/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c1a6f17031e95e74f55624e500ae8417334868ee", "url": "https://api.github.com/repos/rust-lang/rust/commits/c1a6f17031e95e74f55624e500ae8417334868ee", "html_url": "https://github.com/rust-lang/rust/commit/c1a6f17031e95e74f55624e500ae8417334868ee"}], "stats": {"total": 32, "additions": 28, "deletions": 4}, "files": [{"sha": "406f9ad81c8d2f704c1ef2271d4f25b0a15cc8be", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/943bf963004b07fbb8d31be3244b155ce00716fb/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/943bf963004b07fbb8d31be3244b155ce00716fb/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=943bf963004b07fbb8d31be3244b155ce00716fb", "patch": "@@ -162,10 +162,10 @@ pub fn opts() -> Vec<RustcOptGroup> {\n         unstable(optmulti(\"Z\", \"\",\n                           \"internal and debugging options (only on nightly build)\", \"FLAG\")),\n         stable(optopt(\"\", \"sysroot\", \"Override the system root\", \"PATH\")),\n-        stable(optopt(\"\", \"playground-url\",\n-                      \"URL to send code snippets to, may be reset by --markdown-playground-url \\\n-                       or `#![doc(html_playground_url=...)]`\",\n-                      \"URL\")),\n+        unstable(optopt(\"\", \"playground-url\",\n+                        \"URL to send code snippets to, may be reset by --markdown-playground-url \\\n+                         or `#![doc(html_playground_url=...)]`\",\n+                        \"URL\")),\n     ]\n }\n "}, {"sha": "f0d55ef6e9fcd1cc5760886c5aebe5df5f2eca84", "filename": "src/test/rustdoc/playground-arg.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/943bf963004b07fbb8d31be3244b155ce00716fb/src%2Ftest%2Frustdoc%2Fplayground-arg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/943bf963004b07fbb8d31be3244b155ce00716fb/src%2Ftest%2Frustdoc%2Fplayground-arg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fplayground-arg.rs?ref=943bf963004b07fbb8d31be3244b155ce00716fb", "patch": "@@ -0,0 +1,24 @@\n+// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --playground-url=https://example.com/ -Z unstable-options\n+// ignore-tidy-linelength\n+\n+#![crate_name = \"foo\"]\n+\n+//! ```\n+//! use foo::dummy;\n+//! dummy();\n+//! ```\n+\n+pub fn dummy() {}\n+\n+// ensure that `extern crate foo;` was inserted into code snips automatically:\n+// @matches foo/index.html '//a[@class=\"test-arrow\"][@href=\"https://example.com/?code=extern%20crate%20foo%3B%0Afn%20main()%20%7B%0Ause%20foo%3A%3Adummy%3B%0Adummy()%3B%0A%7D\"]' \"Run\""}]}