{"sha": "cea8f671994026cefdaadd7388aef9e05b479e66", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlYThmNjcxOTk0MDI2Y2VmZGFhZGQ3Mzg4YWVmOWUwNWI0NzllNjY=", "commit": {"author": {"name": "Brandon W Maister", "email": "bwm@knewton.com", "date": "2016-01-31T20:48:08Z"}, "committer": {"name": "Brandon W Maister", "email": "bwm@knewton.com", "date": "2016-01-31T20:48:08Z"}, "message": "Don't show `const` in docs when it's not available\n\nFixes #31098", "tree": {"sha": "397fa7d89ec10faf13fd61d1bf031949055ca9b3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/397fa7d89ec10faf13fd61d1bf031949055ca9b3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cea8f671994026cefdaadd7388aef9e05b479e66", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cea8f671994026cefdaadd7388aef9e05b479e66", "html_url": "https://github.com/rust-lang/rust/commit/cea8f671994026cefdaadd7388aef9e05b479e66", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cea8f671994026cefdaadd7388aef9e05b479e66/comments", "author": null, "committer": null, "parents": [{"sha": "9041b930585806b948b4cc68933047ffdc96f6f9", "url": "https://api.github.com/repos/rust-lang/rust/commits/9041b930585806b948b4cc68933047ffdc96f6f9", "html_url": "https://github.com/rust-lang/rust/commit/9041b930585806b948b4cc68933047ffdc96f6f9"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "68909b958ba70112192199e2a66a9ff5a8d1d43a", "filename": "src/librustdoc/html/format.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/cea8f671994026cefdaadd7388aef9e05b479e66/src%2Flibrustdoc%2Fhtml%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cea8f671994026cefdaadd7388aef9e05b479e66/src%2Flibrustdoc%2Fhtml%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fformat.rs?ref=cea8f671994026cefdaadd7388aef9e05b479e66", "patch": "@@ -657,6 +657,9 @@ impl fmt::Display for UnsafetySpace {\n \n impl fmt::Display for ConstnessSpace {\n     fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {\n+        if option_env!(\"CFG_DISABLE_UNSTABLE_FEATURES\").is_some() {\n+            return Ok(());\n+        }\n         match self.get() {\n             hir::Constness::Const => write!(f, \"const \"),\n             hir::Constness::NotConst => Ok(())"}]}