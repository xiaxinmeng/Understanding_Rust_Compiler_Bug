{"sha": "8007b506ac5da629f223b755f5a5391edd5f6d01", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgwMDdiNTA2YWM1ZGE2MjlmMjIzYjc1NWY1YTUzOTFlZGQ1ZjZkMDE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-08-14T19:59:08Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-08-14T19:59:08Z"}, "message": "Auto merge of #83417 - erikdesjardins:enableremovezsts, r=oli-obk\n\nRun RemoveZsts pass at mir-opt-level=1\n\nper https://github.com/rust-lang/rust/pull/83177#issuecomment-803942217\n\nThis pass removes assignments to ZST places.\n\nPerf (from https://github.com/rust-lang/rust/pull/83177#issuecomment-803442557): https://perf.rust-lang.org/compare.html?start=41b315a470d583f6446599984ff9ad3bd61012b2&end=bd5d1b96f0c64c9938feea831789e1b5bb2cd4a2\n\nr? `@oli-obk`", "tree": {"sha": "1ac94fdab8b713f049d02b1e8fd7b6c89cce657f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1ac94fdab8b713f049d02b1e8fd7b6c89cce657f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8007b506ac5da629f223b755f5a5391edd5f6d01", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8007b506ac5da629f223b755f5a5391edd5f6d01", "html_url": "https://github.com/rust-lang/rust/commit/8007b506ac5da629f223b755f5a5391edd5f6d01", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8007b506ac5da629f223b755f5a5391edd5f6d01/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e55c13e1099b78b1a485202fabc9c1b10b1f1d15", "url": "https://api.github.com/repos/rust-lang/rust/commits/e55c13e1099b78b1a485202fabc9c1b10b1f1d15", "html_url": "https://github.com/rust-lang/rust/commit/e55c13e1099b78b1a485202fabc9c1b10b1f1d15"}, {"sha": "585e4ae6e1ab354fb2f4e3290b3b7302953f7d89", "url": "https://api.github.com/repos/rust-lang/rust/commits/585e4ae6e1ab354fb2f4e3290b3b7302953f7d89", "html_url": "https://github.com/rust-lang/rust/commit/585e4ae6e1ab354fb2f4e3290b3b7302953f7d89"}], "stats": {"total": 77, "additions": 21, "deletions": 56}, "files": [{"sha": "03277b1b2e0be96441edcb949853198d18ba4c91", "filename": "compiler/rustc_mir/src/transform/remove_zsts.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fremove_zsts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fremove_zsts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Ftransform%2Fremove_zsts.rs?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -9,9 +9,6 @@ pub struct RemoveZsts;\n \n impl<'tcx> MirPass<'tcx> for RemoveZsts {\n     fn run_pass(&self, tcx: TyCtxt<'tcx>, body: &mut Body<'tcx>) {\n-        if tcx.sess.mir_opt_level() < 3 {\n-            return;\n-        }\n         let param_env = tcx.param_env(body.source.def_id());\n         let (basic_blocks, local_decls) = body.basic_blocks_and_local_decls_mut();\n         for block in basic_blocks.iter_mut() {"}, {"sha": "2d547f1748cb4a5ee9815e6a93cfd511117ac726", "filename": "src/test/incremental/hashes/trait_impls.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fincremental%2Fhashes%2Ftrait_impls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fincremental%2Fhashes%2Ftrait_impls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fincremental%2Fhashes%2Ftrait_impls.rs?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -62,7 +62,7 @@ impl ChangeMethodBodyTrait for Foo {\n #[rustc_clean(cfg=\"cfail2\")]\n #[rustc_clean(cfg=\"cfail3\")]\n impl ChangeMethodBodyTrait for Foo {\n-    #[rustc_clean(except=\"hir_owner_nodes,typeck,optimized_mir\", cfg=\"cfail2\")]\n+    #[rustc_clean(except=\"hir_owner_nodes,typeck\", cfg=\"cfail2\")]\n     #[rustc_clean(cfg=\"cfail3\")]\n     fn method_name() {\n         ()"}, {"sha": "1b7c51b395484b6e41cb4b7fc5e3912fd2302913", "filename": "src/test/mir-opt/const_prop/control_flow_simplification.hello.ConstProp.diff", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fcontrol_flow_simplification.hello.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fcontrol_flow_simplification.hello.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fcontrol_flow_simplification.hello.ConstProp.diff?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -29,7 +29,7 @@\n       }\n   \n       bb2: {\n-          _0 = const ();                   // scope 0 at $DIR/control-flow-simplification.rs:14:6: 14:6\n+          nop;                             // scope 0 at $DIR/control-flow-simplification.rs:14:6: 14:6\n           StorageDead(_1);                 // scope 0 at $DIR/control-flow-simplification.rs:14:5: 14:6\n           return;                          // scope 0 at $DIR/control-flow-simplification.rs:15:2: 15:2\n       }"}, {"sha": "30512d0bbe8747db0e327e055e8179044d7d571c", "filename": "src/test/mir-opt/const_prop/control_flow_simplification.hello.PreCodegen.before.mir", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fcontrol_flow_simplification.hello.PreCodegen.before.mir", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fcontrol_flow_simplification.hello.PreCodegen.before.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fcontrol_flow_simplification.hello.PreCodegen.before.mir?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -4,7 +4,6 @@ fn hello() -> () {\n     let mut _0: ();                      // return place in scope 0 at $DIR/control-flow-simplification.rs:11:14: 11:14\n \n     bb0: {\n-        _0 = const ();                   // scope 0 at $DIR/control-flow-simplification.rs:14:6: 14:6\n         return;                          // scope 0 at $DIR/control-flow-simplification.rs:15:2: 15:2\n     }\n }"}, {"sha": "546a95a86fa66d5c9179594f327d1819f5bbd0af", "filename": "src/test/mir-opt/remove_unneeded_drops.cannot_opt_generic.RemoveUnneededDrops.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.cannot_opt_generic.RemoveUnneededDrops.diff", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.cannot_opt_generic.RemoveUnneededDrops.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.cannot_opt_generic.RemoveUnneededDrops.diff?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -14,7 +14,6 @@\n           StorageLive(_2);                 // scope 0 at $DIR/remove_unneeded_drops.rs:21:5: 21:12\n           StorageLive(_3);                 // scope 0 at $DIR/remove_unneeded_drops.rs:21:10: 21:11\n           _3 = move _1;                    // scope 0 at $DIR/remove_unneeded_drops.rs:21:10: 21:11\n-          nop;                             // scope 1 at $DIR/remove_unneeded_drops.rs:21:5: 21:12\n           drop(_3) -> [return: bb2, unwind: bb1]; // scope 1 at $DIR/remove_unneeded_drops.rs:21:5: 21:12\n       }\n   "}, {"sha": "b42813447b151d088fc0820fcd68eee6b6c18e6b", "filename": "src/test/mir-opt/remove_unneeded_drops.dont_opt.RemoveUnneededDrops.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.dont_opt.RemoveUnneededDrops.diff", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.dont_opt.RemoveUnneededDrops.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.dont_opt.RemoveUnneededDrops.diff?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -14,7 +14,6 @@\n           StorageLive(_2);                 // scope 0 at $DIR/remove_unneeded_drops.rs:9:5: 9:12\n           StorageLive(_3);                 // scope 0 at $DIR/remove_unneeded_drops.rs:9:10: 9:11\n           _3 = move _1;                    // scope 0 at $DIR/remove_unneeded_drops.rs:9:10: 9:11\n-          nop;                             // scope 1 at $DIR/remove_unneeded_drops.rs:9:5: 9:12\n           drop(_3) -> [return: bb2, unwind: bb1]; // scope 1 at $DIR/remove_unneeded_drops.rs:9:5: 9:12\n       }\n   "}, {"sha": "ee52254f08b8ec09b98d6e4e7744ba87c3f6d430", "filename": "src/test/mir-opt/remove_unneeded_drops.opt.RemoveUnneededDrops.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt.RemoveUnneededDrops.diff", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt.RemoveUnneededDrops.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt.RemoveUnneededDrops.diff?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -14,7 +14,6 @@\n           StorageLive(_2);                 // scope 0 at $DIR/remove_unneeded_drops.rs:4:5: 4:12\n           StorageLive(_3);                 // scope 0 at $DIR/remove_unneeded_drops.rs:4:10: 4:11\n           _3 = _1;                         // scope 0 at $DIR/remove_unneeded_drops.rs:4:10: 4:11\n--         nop;                             // scope 1 at $DIR/remove_unneeded_drops.rs:4:5: 4:12\n -         drop(_3) -> bb1;                 // scope 1 at $DIR/remove_unneeded_drops.rs:4:5: 4:12\n -     }\n - "}, {"sha": "21bc90b0eb7035ce863721eeda7d4e0af5a42dcc", "filename": "src/test/mir-opt/remove_unneeded_drops.opt_generic_copy.RemoveUnneededDrops.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt_generic_copy.RemoveUnneededDrops.diff", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt_generic_copy.RemoveUnneededDrops.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fremove_unneeded_drops.opt_generic_copy.RemoveUnneededDrops.diff?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -14,7 +14,6 @@\n           StorageLive(_2);                 // scope 0 at $DIR/remove_unneeded_drops.rs:14:5: 14:12\n           StorageLive(_3);                 // scope 0 at $DIR/remove_unneeded_drops.rs:14:10: 14:11\n           _3 = _1;                         // scope 0 at $DIR/remove_unneeded_drops.rs:14:10: 14:11\n--         nop;                             // scope 1 at $DIR/remove_unneeded_drops.rs:14:5: 14:12\n -         drop(_3) -> bb1;                 // scope 1 at $DIR/remove_unneeded_drops.rs:14:5: 14:12\n -     }\n - "}, {"sha": "8b6e38843a86285653e550abc5ad4ea339bc0411", "filename": "src/test/mir-opt/simplify_locals_fixedpoint.foo.SimplifyLocals.diff", "status": "modified", "additions": 15, "deletions": 34, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fsimplify_locals_fixedpoint.foo.SimplifyLocals.diff", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fmir-opt%2Fsimplify_locals_fixedpoint.foo.SimplifyLocals.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals_fixedpoint.foo.SimplifyLocals.diff?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -9,8 +9,8 @@\n       let mut _4: isize;                   // in scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:22: 4:26\n       let mut _5: isize;                   // in scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:13: 4:20\n       let _6: u8;                          // in scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:18: 4:19\n-      let mut _7: bool;                    // in scope 0 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:20\n-      let mut _8: u8;                      // in scope 0 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:13\n+-     let mut _7: bool;                    // in scope 0 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:20\n+-     let mut _8: u8;                      // in scope 0 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:13\n       scope 1 {\n           debug a => _6;                   // in scope 1 at $DIR/simplify-locals-fixedpoint.rs:4:18: 4:19\n       }\n@@ -26,51 +26,32 @@\n           StorageDead(_3);                 // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:68: 4:69\n           StorageDead(_2);                 // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:68: 4:69\n           _5 = discriminant((_1.0: std::option::Option<u8>)); // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:13: 4:20\n-          switchInt(move _5) -> [1_isize: bb2, otherwise: bb1]; // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:13: 4:20\n+          switchInt(move _5) -> [1_isize: bb1, otherwise: bb3]; // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:13: 4:20\n       }\n   \n       bb1: {\n-          _0 = const ();                   // scope 0 at $DIR/simplify-locals-fixedpoint.rs:8:6: 8:6\n-          goto -> bb7;                     // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:5: 8:6\n-      }\n-  \n-      bb2: {\n           _4 = discriminant((_1.1: std::option::Option<T>)); // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:22: 4:26\n-          switchInt(move _4) -> [0_isize: bb3, otherwise: bb1]; // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:22: 4:26\n+          switchInt(move _4) -> [0_isize: bb2, otherwise: bb3]; // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:22: 4:26\n       }\n   \n-      bb3: {\n+      bb2: {\n           StorageLive(_6);                 // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:18: 4:19\n           _6 = (((_1.0: std::option::Option<u8>) as Some).0: u8); // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:18: 4:19\n-          StorageLive(_7);                 // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:20\n-          StorageLive(_8);                 // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:13\n-          _8 = _6;                         // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:13\n-          _7 = Gt(move _8, const 42_u8);   // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:20\n-          StorageDead(_8);                 // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:19: 5:20\n-          switchInt(move _7) -> [false: bb5, otherwise: bb4]; // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:9: 7:10\n-      }\n-  \n-      bb4: {\n-          _0 = const ();                   // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:21: 7:10\n-          goto -> bb6;                     // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:9: 7:10\n-      }\n-  \n-      bb5: {\n-          _0 = const ();                   // scope 1 at $DIR/simplify-locals-fixedpoint.rs:7:10: 7:10\n-          goto -> bb6;                     // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:9: 7:10\n-      }\n-  \n-      bb6: {\n-          StorageDead(_7);                 // scope 1 at $DIR/simplify-locals-fixedpoint.rs:7:9: 7:10\n+-         StorageLive(_7);                 // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:20\n+-         StorageLive(_8);                 // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:13\n+-         _8 = _6;                         // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:13\n+-         _7 = Gt(move _8, const 42_u8);   // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:12: 5:20\n+-         StorageDead(_8);                 // scope 1 at $DIR/simplify-locals-fixedpoint.rs:5:19: 5:20\n+-         StorageDead(_7);                 // scope 1 at $DIR/simplify-locals-fixedpoint.rs:7:9: 7:10\n           StorageDead(_6);                 // scope 0 at $DIR/simplify-locals-fixedpoint.rs:8:5: 8:6\n-          goto -> bb7;                     // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:5: 8:6\n+          goto -> bb3;                     // scope 0 at $DIR/simplify-locals-fixedpoint.rs:4:5: 8:6\n       }\n   \n-      bb7: {\n-          drop(_1) -> bb8;                 // scope 0 at $DIR/simplify-locals-fixedpoint.rs:9:1: 9:2\n+      bb3: {\n+          drop(_1) -> bb4;                 // scope 0 at $DIR/simplify-locals-fixedpoint.rs:9:1: 9:2\n       }\n   \n-      bb8: {\n+      bb4: {\n           StorageDead(_1);                 // scope 0 at $DIR/simplify-locals-fixedpoint.rs:9:1: 9:2\n           return;                          // scope 0 at $DIR/simplify-locals-fixedpoint.rs:9:2: 9:2\n       }"}, {"sha": "724b26300839ee6a67b11fc4d9ac3c2433ad044b", "filename": "src/test/run-make/const_fn_mir/dump.mir", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Frun-make%2Fconst_fn_mir%2Fdump.mir", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Frun-make%2Fconst_fn_mir%2Fdump.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make%2Fconst_fn_mir%2Fdump.mir?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -12,7 +12,6 @@ fn main() -> () {\n     }\n \n     bb1: {\n-        _0 = const ();                   // scope 0 at main.rs:8:11: 10:2\n         return;                          // scope 0 at main.rs:10:2: 10:2\n     }\n }"}, {"sha": "ab0256a986dbc5538c37a8e58a7b81342b66dbcc", "filename": "src/test/ui/consts/const-eval/panic-assoc-never-type.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpanic-assoc-never-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpanic-assoc-never-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpanic-assoc-never-type.rs?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -14,5 +14,4 @@ impl PrintName {\n \n fn main() {\n     let _ = PrintName::VOID;\n-    //~^ ERROR erroneous constant used\n }"}, {"sha": "f1c606a8a2e5d5776d11e298991bfc9cdf7d4d8d", "filename": "src/test/ui/consts/const-eval/panic-assoc-never-type.stderr", "status": "modified", "additions": 1, "deletions": 7, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpanic-assoc-never-type.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpanic-assoc-never-type.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fpanic-assoc-never-type.stderr?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -6,12 +6,6 @@ LL |     const VOID: ! = panic!();\n    |\n    = note: this error originates in the macro `$crate::panic::panic_2015` (in Nightly builds, run with -Z macro-backtrace for more info)\n \n-error[E0080]: erroneous constant used\n-  --> $DIR/panic-assoc-never-type.rs:16:13\n-   |\n-LL |     let _ = PrintName::VOID;\n-   |             ^^^^^^^^^^^^^^^ referenced constant has errors\n-\n-error: aborting due to 2 previous errors\n+error: aborting due to previous error\n \n For more information about this error, try `rustc --explain E0080`."}, {"sha": "be55890c08c88598619337f96ed63a1f557e24db", "filename": "src/test/ui/recursion/issue-26548-recursion-via-normalize.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fui%2Frecursion%2Fissue-26548-recursion-via-normalize.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8007b506ac5da629f223b755f5a5391edd5f6d01/src%2Ftest%2Fui%2Frecursion%2Fissue-26548-recursion-via-normalize.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frecursion%2Fissue-26548-recursion-via-normalize.stderr?ref=8007b506ac5da629f223b755f5a5391edd5f6d01", "patch": "@@ -1,7 +1,7 @@\n-error[E0391]: cycle detected when computing layout of `S`\n+error[E0391]: cycle detected when computing layout of `std::option::Option<S>`\n    |\n-   = note: ...which requires computing layout of `std::option::Option<S>`...\n-   = note: ...which again requires computing layout of `S`, completing the cycle\n+   = note: ...which requires computing layout of `S`...\n+   = note: ...which again requires computing layout of `std::option::Option<S>`, completing the cycle\n note: cycle used when optimizing MIR for `main`\n   --> $DIR/issue-26548-recursion-via-normalize.rs:15:1\n    |"}]}