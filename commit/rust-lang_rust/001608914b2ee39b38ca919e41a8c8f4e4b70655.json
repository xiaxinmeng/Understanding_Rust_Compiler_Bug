{"sha": "001608914b2ee39b38ca919e41a8c8f4e4b70655", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAwMTYwODkxNGIyZWUzOWIzOGNhOTE5ZTQxYThjOGY0ZTRiNzA2NTU=", "commit": {"author": {"name": "Oliver Cooper", "email": "oliver.cooper@me.com", "date": "2021-09-07T22:46:31Z"}, "committer": {"name": "Oliver Cooper", "email": "oliver.cooper@me.com", "date": "2021-09-07T22:46:31Z"}, "message": "Removed deprecated Task constructor", "tree": {"sha": "3e576b2def10db0e47194f257a03098cf1566454", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3e576b2def10db0e47194f257a03098cf1566454"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/001608914b2ee39b38ca919e41a8c8f4e4b70655", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/001608914b2ee39b38ca919e41a8c8f4e4b70655", "html_url": "https://github.com/rust-lang/rust/commit/001608914b2ee39b38ca919e41a8c8f4e4b70655", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/001608914b2ee39b38ca919e41a8c8f4e4b70655/comments", "author": {"login": "oeed", "id": 3835991, "node_id": "MDQ6VXNlcjM4MzU5OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3835991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oeed", "html_url": "https://github.com/oeed", "followers_url": "https://api.github.com/users/oeed/followers", "following_url": "https://api.github.com/users/oeed/following{/other_user}", "gists_url": "https://api.github.com/users/oeed/gists{/gist_id}", "starred_url": "https://api.github.com/users/oeed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oeed/subscriptions", "organizations_url": "https://api.github.com/users/oeed/orgs", "repos_url": "https://api.github.com/users/oeed/repos", "events_url": "https://api.github.com/users/oeed/events{/privacy}", "received_events_url": "https://api.github.com/users/oeed/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oeed", "id": 3835991, "node_id": "MDQ6VXNlcjM4MzU5OTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3835991?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oeed", "html_url": "https://github.com/oeed", "followers_url": "https://api.github.com/users/oeed/followers", "following_url": "https://api.github.com/users/oeed/following{/other_user}", "gists_url": "https://api.github.com/users/oeed/gists{/gist_id}", "starred_url": "https://api.github.com/users/oeed/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oeed/subscriptions", "organizations_url": "https://api.github.com/users/oeed/orgs", "repos_url": "https://api.github.com/users/oeed/repos", "events_url": "https://api.github.com/users/oeed/events{/privacy}", "received_events_url": "https://api.github.com/users/oeed/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0517247bbc30f7f72f4c2f993fe345d3c0634c57", "url": "https://api.github.com/repos/rust-lang/rust/commits/0517247bbc30f7f72f4c2f993fe345d3c0634c57", "html_url": "https://github.com/rust-lang/rust/commit/0517247bbc30f7f72f4c2f993fe345d3c0634c57"}], "stats": {"total": 28, "additions": 8, "deletions": 20}, "files": [{"sha": "02b4d34ff69f594ec7cb546a1f0cc2cc276ed96d", "filename": "editors/code/src/tasks.ts", "status": "modified", "additions": 8, "deletions": 20, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/001608914b2ee39b38ca919e41a8c8f4e4b70655/editors%2Fcode%2Fsrc%2Ftasks.ts", "raw_url": "https://github.com/rust-lang/rust/raw/001608914b2ee39b38ca919e41a8c8f4e4b70655/editors%2Fcode%2Fsrc%2Ftasks.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Ftasks.ts?ref=001608914b2ee39b38ca919e41a8c8f4e4b70655", "patch": "@@ -109,26 +109,14 @@ export async function buildCargoTask(\n         exec = new vscode.ProcessExecution(fullCommand[0], fullCommand.slice(1), definition);\n     }\n \n-    if (scope) {\n-        return new vscode.Task(\n-            definition,\n-            scope,\n-            name,\n-            TASK_SOURCE,\n-            exec,\n-            ['$rustc']\n-        );\n-    }\n-    else {\n-        // if the original task did not provide a scope retain the original lack of scope\n-        return new vscode.Task(\n-            definition,\n-            name,\n-            TASK_SOURCE,\n-            exec,\n-            ['$rustc']\n-        );\n-    }\n+    return new vscode.Task(\n+        definition,\n+        scope ?? vscode.TaskScope.Workspace,\n+        name,\n+        TASK_SOURCE,\n+        exec,\n+        ['$rustc']\n+    );\n }\n \n export function activateTaskProvider(config: Config): vscode.Disposable {"}]}