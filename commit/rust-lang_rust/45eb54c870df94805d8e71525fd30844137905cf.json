{"sha": "45eb54c870df94805d8e71525fd30844137905cf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ1ZWI1NGM4NzBkZjk0ODA1ZDhlNzE1MjVmZDMwODQ0MTM3OTA1Y2Y=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2015-04-08T19:06:29Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2015-04-08T19:07:35Z"}, "message": "configure: Remove obsolete --nightly flag", "tree": {"sha": "a87e88cf58756cc67b9e391ad52397e1320e709a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a87e88cf58756cc67b9e391ad52397e1320e709a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/45eb54c870df94805d8e71525fd30844137905cf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/45eb54c870df94805d8e71525fd30844137905cf", "html_url": "https://github.com/rust-lang/rust/commit/45eb54c870df94805d8e71525fd30844137905cf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/45eb54c870df94805d8e71525fd30844137905cf/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9266d599f4f2367bbc3a5a76a9ce3251da8a1736", "url": "https://api.github.com/repos/rust-lang/rust/commits/9266d599f4f2367bbc3a5a76a9ce3251da8a1736", "html_url": "https://github.com/rust-lang/rust/commit/9266d599f4f2367bbc3a5a76a9ce3251da8a1736"}], "stats": {"total": 13, "additions": 2, "deletions": 11}, "files": [{"sha": "8c190a6f42b228bee6aabb9f5c90f0f92cef6623", "filename": "configure", "status": "modified", "additions": 2, "deletions": 11, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/45eb54c870df94805d8e71525fd30844137905cf/configure", "raw_url": "https://github.com/rust-lang/rust/raw/45eb54c870df94805d8e71525fd30844137905cf/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=45eb54c870df94805d8e71525fd30844137905cf", "patch": "@@ -1,4 +1,4 @@\n-#!/bin/sh\n+<#!/bin/sh\n \n msg() {\n     echo \"configure: $1\"\n@@ -540,7 +540,6 @@ opt ccache 0 \"invoke gcc/clang via ccache to reuse object files between builds\"\n opt local-rust 0 \"use an installed rustc rather than downloading a snapshot\"\n opt llvm-static-stdcpp 0 \"statically link to libstdc++ for LLVM\"\n opt rpath 0 \"build rpaths into rustc itself\"\n-opt nightly 0 \"build nightly packages\"\n opt verify-install 1 \"verify installed binaries work\"\n # This is used by the automation to produce single-target nightlies\n opt dist-host-only 0 \"only install bins for the host architecture\"\n@@ -556,6 +555,7 @@ valopt llvm-root \"\" \"set LLVM root\"\n valopt jemalloc-root \"\" \"set directory where libjemalloc_pic.a is located\"\n valopt build \"${DEFAULT_BUILD}\" \"GNUs ./configure syntax LLVM build triple\"\n valopt android-cross-path \"/opt/ndk_standalone\" \"Android NDK standalone path\"\n+valopt release-channel \"dev\" \"the name of the release channel to build\"\n \n # Many of these are saved below during the \"writing configuration\" step\n # (others are conditionally saved).\n@@ -568,7 +568,6 @@ valopt_nosave local-rust-root \"/usr/local\" \"set prefix for local rust binary\"\n valopt_nosave host \"${CFG_BUILD}\" \"GNUs ./configure syntax LLVM host triples\"\n valopt_nosave target \"${CFG_HOST}\" \"GNUs ./configure syntax LLVM target triples\"\n valopt_nosave mandir \"${CFG_PREFIX}/share/man\" \"install man pages in PATH\"\n-valopt_nosave release-channel \"dev\" \"the name of the release channel to build\"\n \n # Temporarily support old triples until buildbots get updated\n CFG_BUILD=$(to_llvm_triple $CFG_BUILD)\n@@ -621,14 +620,6 @@ case \"$CFG_RELEASE_CHANNEL\" in\n         ;;\n esac\n \n-# Continue supporting the old --enable-nightly flag to transition the bots\n-# XXX Remove me\n-if [ ! -z \"$CFG_ENABLE_NIGHTLY\" ]\n-then\n-    CFG_RELEASE_CHANNEL=nightly\n-fi\n-putvar CFG_RELEASE_CHANNEL\n-\n # A magic value that allows the compiler to use unstable features\n # during the bootstrap even when doing so would normally be an error\n # because of feature staging or because the build turns on"}]}