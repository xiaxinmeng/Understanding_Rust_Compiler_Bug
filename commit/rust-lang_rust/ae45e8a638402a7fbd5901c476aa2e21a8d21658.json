{"sha": "ae45e8a638402a7fbd5901c476aa2e21a8d21658", "node_id": "C_kwDOAAsO6NoAKGFlNDVlOGE2Mzg0MDJhN2ZiZDU5MDFjNDc2YWEyZTIxYThkMjE2NTg", "commit": {"author": {"name": "lcnr", "email": "rust@lcnr.de", "date": "2022-02-22T09:53:45Z"}, "committer": {"name": "lcnr", "email": "rust@lcnr.de", "date": "2022-02-24T13:46:11Z"}, "message": "don't special case `DefKind::Ctor` in encoding", "tree": {"sha": "b6a31eb190dc502233cf335e8f387719b90fc0ef", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b6a31eb190dc502233cf335e8f387719b90fc0ef"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ae45e8a638402a7fbd5901c476aa2e21a8d21658", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ae45e8a638402a7fbd5901c476aa2e21a8d21658", "html_url": "https://github.com/rust-lang/rust/commit/ae45e8a638402a7fbd5901c476aa2e21a8d21658", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ae45e8a638402a7fbd5901c476aa2e21a8d21658/comments", "author": {"login": "lcnr", "id": 29864074, "node_id": "MDQ6VXNlcjI5ODY0MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/29864074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnr", "html_url": "https://github.com/lcnr", "followers_url": "https://api.github.com/users/lcnr/followers", "following_url": "https://api.github.com/users/lcnr/following{/other_user}", "gists_url": "https://api.github.com/users/lcnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnr/subscriptions", "organizations_url": "https://api.github.com/users/lcnr/orgs", "repos_url": "https://api.github.com/users/lcnr/repos", "events_url": "https://api.github.com/users/lcnr/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lcnr", "id": 29864074, "node_id": "MDQ6VXNlcjI5ODY0MDc0", "avatar_url": "https://avatars.githubusercontent.com/u/29864074?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lcnr", "html_url": "https://github.com/lcnr", "followers_url": "https://api.github.com/users/lcnr/followers", "following_url": "https://api.github.com/users/lcnr/following{/other_user}", "gists_url": "https://api.github.com/users/lcnr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lcnr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lcnr/subscriptions", "organizations_url": "https://api.github.com/users/lcnr/orgs", "repos_url": "https://api.github.com/users/lcnr/repos", "events_url": "https://api.github.com/users/lcnr/events{/privacy}", "received_events_url": "https://api.github.com/users/lcnr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7ccfe2ff1d59666dc0188dfd5847304fec257565", "url": "https://api.github.com/repos/rust-lang/rust/commits/7ccfe2ff1d59666dc0188dfd5847304fec257565", "html_url": "https://github.com/rust-lang/rust/commit/7ccfe2ff1d59666dc0188dfd5847304fec257565"}], "stats": {"total": 97, "additions": 46, "deletions": 51}, "files": [{"sha": "a7fbbb184f7c5e11834f75ebaa5a933416fe61da", "filename": "compiler/rustc_metadata/src/rmeta/encoder.rs", "status": "modified", "additions": 2, "deletions": 7, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/ae45e8a638402a7fbd5901c476aa2e21a8d21658/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fencoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ae45e8a638402a7fbd5901c476aa2e21a8d21658/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fencoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_metadata%2Fsrc%2Frmeta%2Fencoder.rs?ref=ae45e8a638402a7fbd5901c476aa2e21a8d21658", "patch": "@@ -6,7 +6,7 @@ use rustc_data_structures::fx::{FxHashMap, FxIndexSet};\n use rustc_data_structures::stable_hasher::StableHasher;\n use rustc_data_structures::sync::{join, par_iter, Lrc, ParallelIterator};\n use rustc_hir as hir;\n-use rustc_hir::def::{CtorOf, DefKind};\n+use rustc_hir::def::DefKind;\n use rustc_hir::def_id::{\n     CrateNum, DefId, DefIndex, LocalDefId, CRATE_DEF_ID, CRATE_DEF_INDEX, LOCAL_CRATE,\n };\n@@ -983,12 +983,7 @@ impl<'a, 'tcx> EncodeContext<'a, 'tcx> {\n             let def_id = local_id.to_def_id();\n             let def_kind = tcx.opt_def_kind(local_id);\n             let Some(def_kind) = def_kind else { continue };\n-            record!(self.tables.opt_def_kind[def_id] <- match def_kind {\n-                // Replace Ctor by the enclosing object to avoid leaking details in children crates.\n-                DefKind::Ctor(CtorOf::Struct, _) => DefKind::Struct,\n-                DefKind::Ctor(CtorOf::Variant, _) => DefKind::Variant,\n-                def_kind => def_kind,\n-            });\n+            record!(self.tables.opt_def_kind[def_id] <- def_kind);\n             record!(self.tables.def_span[def_id] <- tcx.def_span(def_id));\n             record!(self.tables.attributes[def_id] <- tcx.get_attrs(def_id));\n             record!(self.tables.expn_that_defined[def_id] <- self.tcx.expn_that_defined(def_id));"}, {"sha": "a1a149ab3a0e1c7386f67e8baf786b13c6300d98", "filename": "src/test/ui/deprecation/deprecation-lint.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Fdeprecation%2Fdeprecation-lint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Fdeprecation%2Fdeprecation-lint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdeprecation%2Fdeprecation-lint.rs?ref=ae45e8a638402a7fbd5901c476aa2e21a8d21658", "patch": "@@ -35,21 +35,21 @@ mod cross_crate {\n             i: 0 //~ ERROR use of deprecated field `deprecation_lint::DeprecatedStruct::i`: text\n         };\n \n-        let _ = DeprecatedUnitStruct; //~ ERROR use of deprecated struct `deprecation_lint::DeprecatedUnitStruct`: text\n+        let _ = DeprecatedUnitStruct; //~ ERROR use of deprecated unit struct `deprecation_lint::DeprecatedUnitStruct`: text\n \n-        let _ = Enum::DeprecatedVariant; //~ ERROR use of deprecated variant `deprecation_lint::Enum::DeprecatedVariant`: text\n+        let _ = Enum::DeprecatedVariant; //~ ERROR use of deprecated unit variant `deprecation_lint::Enum::DeprecatedVariant`: text\n \n-        let _ = DeprecatedTupleStruct (1); //~ ERROR use of deprecated struct `deprecation_lint::DeprecatedTupleStruct`: text\n+        let _ = DeprecatedTupleStruct (1); //~ ERROR use of deprecated tuple struct `deprecation_lint::DeprecatedTupleStruct`: text\n \n         let _ = nested::DeprecatedStruct { //~ ERROR use of deprecated struct `deprecation_lint::nested::DeprecatedStruct`: text\n             i: 0 //~ ERROR use of deprecated field `deprecation_lint::nested::DeprecatedStruct::i`: text\n         };\n \n-        let _ = nested::DeprecatedUnitStruct; //~ ERROR use of deprecated struct `deprecation_lint::nested::DeprecatedUnitStruct`: text\n+        let _ = nested::DeprecatedUnitStruct; //~ ERROR use of deprecated unit struct `deprecation_lint::nested::DeprecatedUnitStruct`: text\n \n-        let _ = nested::Enum::DeprecatedVariant; //~ ERROR use of deprecated variant `deprecation_lint::nested::Enum::DeprecatedVariant`: text\n+        let _ = nested::Enum::DeprecatedVariant; //~ ERROR use of deprecated unit variant `deprecation_lint::nested::Enum::DeprecatedVariant`: text\n \n-        let _ = nested::DeprecatedTupleStruct (1); //~ ERROR use of deprecated struct `deprecation_lint::nested::DeprecatedTupleStruct`: text\n+        let _ = nested::DeprecatedTupleStruct (1); //~ ERROR use of deprecated tuple struct `deprecation_lint::nested::DeprecatedTupleStruct`: text\n \n         // At the moment, the lint checker only checks stability in\n         // in the arguments of macros.\n@@ -130,7 +130,7 @@ mod cross_crate {\n             { .. } = x;\n \n         let x = Deprecated2(1, 2, 3);\n-        //~^ ERROR use of deprecated struct `deprecation_lint::Deprecated2`: text\n+        //~^ ERROR use of deprecated tuple struct `deprecation_lint::Deprecated2`: text\n \n         let _ = x.0;\n         //~^ ERROR use of deprecated field `deprecation_lint::Deprecated2::0`: text\n@@ -140,7 +140,7 @@ mod cross_crate {\n         //~^ ERROR use of deprecated field `deprecation_lint::Deprecated2::2`: text\n \n         let Deprecated2\n-        //~^ ERROR use of deprecated struct `deprecation_lint::Deprecated2`: text\n+        //~^ ERROR use of deprecated tuple struct `deprecation_lint::Deprecated2`: text\n             (_,\n              //~^ ERROR use of deprecated field `deprecation_lint::Deprecated2::0`: text\n              _,\n@@ -149,7 +149,7 @@ mod cross_crate {\n              //~^ ERROR use of deprecated field `deprecation_lint::Deprecated2::2`: text\n             = x;\n         let Deprecated2\n-        //~^ ERROR use of deprecated struct `deprecation_lint::Deprecated2`: text\n+        //~^ ERROR use of deprecated tuple struct `deprecation_lint::Deprecated2`: text\n             // the patterns are all fine:\n             (..) = x;\n     }"}, {"sha": "3842f8492956033a6caff4416e73280f5ead0da7", "filename": "src/test/ui/deprecation/deprecation-lint.stderr", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Fdeprecation%2Fdeprecation-lint.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Fdeprecation%2Fdeprecation-lint.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdeprecation%2Fdeprecation-lint.stderr?ref=ae45e8a638402a7fbd5901c476aa2e21a8d21658", "patch": "@@ -46,19 +46,19 @@ error: use of deprecated struct `deprecation_lint::DeprecatedStruct`: text\n LL |         let _ = DeprecatedStruct {\n    |                 ^^^^^^^^^^^^^^^^\n \n-error: use of deprecated struct `deprecation_lint::DeprecatedUnitStruct`: text\n+error: use of deprecated unit struct `deprecation_lint::DeprecatedUnitStruct`: text\n   --> $DIR/deprecation-lint.rs:38:17\n    |\n LL |         let _ = DeprecatedUnitStruct;\n    |                 ^^^^^^^^^^^^^^^^^^^^\n \n-error: use of deprecated variant `deprecation_lint::Enum::DeprecatedVariant`: text\n+error: use of deprecated unit variant `deprecation_lint::Enum::DeprecatedVariant`: text\n   --> $DIR/deprecation-lint.rs:40:23\n    |\n LL |         let _ = Enum::DeprecatedVariant;\n    |                       ^^^^^^^^^^^^^^^^^\n \n-error: use of deprecated struct `deprecation_lint::DeprecatedTupleStruct`: text\n+error: use of deprecated tuple struct `deprecation_lint::DeprecatedTupleStruct`: text\n   --> $DIR/deprecation-lint.rs:42:17\n    |\n LL |         let _ = DeprecatedTupleStruct (1);\n@@ -70,19 +70,19 @@ error: use of deprecated struct `deprecation_lint::nested::DeprecatedStruct`: te\n LL |         let _ = nested::DeprecatedStruct {\n    |                         ^^^^^^^^^^^^^^^^\n \n-error: use of deprecated struct `deprecation_lint::nested::DeprecatedUnitStruct`: text\n+error: use of deprecated unit struct `deprecation_lint::nested::DeprecatedUnitStruct`: text\n   --> $DIR/deprecation-lint.rs:48:25\n    |\n LL |         let _ = nested::DeprecatedUnitStruct;\n    |                         ^^^^^^^^^^^^^^^^^^^^\n \n-error: use of deprecated variant `deprecation_lint::nested::Enum::DeprecatedVariant`: text\n+error: use of deprecated unit variant `deprecation_lint::nested::Enum::DeprecatedVariant`: text\n   --> $DIR/deprecation-lint.rs:50:31\n    |\n LL | ...   let _ = nested::Enum::DeprecatedVariant;\n    |                             ^^^^^^^^^^^^^^^^^\n \n-error: use of deprecated struct `deprecation_lint::nested::DeprecatedTupleStruct`: text\n+error: use of deprecated tuple struct `deprecation_lint::nested::DeprecatedTupleStruct`: text\n   --> $DIR/deprecation-lint.rs:52:25\n    |\n LL | ...   let _ = nested::DeprecatedTupleStruct (1);\n@@ -154,19 +154,19 @@ error: use of deprecated struct `deprecation_lint::Deprecated`: text\n LL |         let Deprecated\n    |             ^^^^^^^^^^\n \n-error: use of deprecated struct `deprecation_lint::Deprecated2`: text\n+error: use of deprecated tuple struct `deprecation_lint::Deprecated2`: text\n   --> $DIR/deprecation-lint.rs:132:17\n    |\n LL |         let x = Deprecated2(1, 2, 3);\n    |                 ^^^^^^^^^^^\n \n-error: use of deprecated struct `deprecation_lint::Deprecated2`: text\n+error: use of deprecated tuple struct `deprecation_lint::Deprecated2`: text\n   --> $DIR/deprecation-lint.rs:142:13\n    |\n LL |         let Deprecated2\n    |             ^^^^^^^^^^^\n \n-error: use of deprecated struct `deprecation_lint::Deprecated2`: text\n+error: use of deprecated tuple struct `deprecation_lint::Deprecated2`: text\n   --> $DIR/deprecation-lint.rs:151:13\n    |\n LL |         let Deprecated2"}, {"sha": "2f600971da113acd640856ae8b87374acd0833b9", "filename": "src/test/ui/lint/lint-stability-deprecated.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Flint%2Flint-stability-deprecated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Flint%2Flint-stability-deprecated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-stability-deprecated.rs?ref=ae45e8a638402a7fbd5901c476aa2e21a8d21658", "patch": "@@ -115,18 +115,18 @@ mod cross_crate {\n         let _ = UnstableStruct { i: 0 };\n         let _ = StableStruct { i: 0 };\n \n-        let _ = DeprecatedUnitStruct; //~ WARN use of deprecated struct `lint_stability::DeprecatedUnitStruct`\n-        let _ = DeprecatedUnstableUnitStruct; //~ WARN use of deprecated struct `lint_stability::DeprecatedUnstableUnitStruct`\n+        let _ = DeprecatedUnitStruct; //~ WARN use of deprecated unit struct `lint_stability::DeprecatedUnitStruct`\n+        let _ = DeprecatedUnstableUnitStruct; //~ WARN use of deprecated unit struct `lint_stability::DeprecatedUnstableUnitStruct`\n         let _ = UnstableUnitStruct;\n         let _ = StableUnitStruct;\n \n-        let _ = Enum::DeprecatedVariant; //~ WARN use of deprecated variant `lint_stability::Enum::DeprecatedVariant`\n-        let _ = Enum::DeprecatedUnstableVariant; //~ WARN use of deprecated variant `lint_stability::Enum::DeprecatedUnstableVariant`\n+        let _ = Enum::DeprecatedVariant; //~ WARN use of deprecated unit variant `lint_stability::Enum::DeprecatedVariant`\n+        let _ = Enum::DeprecatedUnstableVariant; //~ WARN use of deprecated unit variant `lint_stability::Enum::DeprecatedUnstableVariant`\n         let _ = Enum::UnstableVariant;\n         let _ = Enum::StableVariant;\n \n-        let _ = DeprecatedTupleStruct (1); //~ WARN use of deprecated struct `lint_stability::DeprecatedTupleStruct`\n-        let _ = DeprecatedUnstableTupleStruct (1); //~ WARN use of deprecated struct `lint_stability::DeprecatedUnstableTupleStruct`\n+        let _ = DeprecatedTupleStruct (1); //~ WARN use of deprecated tuple struct `lint_stability::DeprecatedTupleStruct`\n+        let _ = DeprecatedUnstableTupleStruct (1); //~ WARN use of deprecated tuple struct `lint_stability::DeprecatedUnstableTupleStruct`\n         let _ = UnstableTupleStruct (1);\n         let _ = StableTupleStruct (1);\n "}, {"sha": "9f1e7b281e982a76e3dead827d7f574a4cdfc276", "filename": "src/test/ui/lint/lint-stability-deprecated.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Flint%2Flint-stability-deprecated.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Flint%2Flint-stability-deprecated.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-stability-deprecated.stderr?ref=ae45e8a638402a7fbd5901c476aa2e21a8d21658", "patch": "@@ -88,37 +88,37 @@ warning: use of deprecated struct `lint_stability::DeprecatedUnstableStruct`: te\n LL |         let _ = DeprecatedUnstableStruct {\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^\n \n-warning: use of deprecated struct `lint_stability::DeprecatedUnitStruct`: text\n+warning: use of deprecated unit struct `lint_stability::DeprecatedUnitStruct`: text\n   --> $DIR/lint-stability-deprecated.rs:118:17\n    |\n LL |         let _ = DeprecatedUnitStruct;\n    |                 ^^^^^^^^^^^^^^^^^^^^\n \n-warning: use of deprecated struct `lint_stability::DeprecatedUnstableUnitStruct`: text\n+warning: use of deprecated unit struct `lint_stability::DeprecatedUnstableUnitStruct`: text\n   --> $DIR/lint-stability-deprecated.rs:119:17\n    |\n LL |         let _ = DeprecatedUnstableUnitStruct;\n    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-warning: use of deprecated variant `lint_stability::Enum::DeprecatedVariant`: text\n+warning: use of deprecated unit variant `lint_stability::Enum::DeprecatedVariant`: text\n   --> $DIR/lint-stability-deprecated.rs:123:23\n    |\n LL |         let _ = Enum::DeprecatedVariant;\n    |                       ^^^^^^^^^^^^^^^^^\n \n-warning: use of deprecated variant `lint_stability::Enum::DeprecatedUnstableVariant`: text\n+warning: use of deprecated unit variant `lint_stability::Enum::DeprecatedUnstableVariant`: text\n   --> $DIR/lint-stability-deprecated.rs:124:23\n    |\n LL |         let _ = Enum::DeprecatedUnstableVariant;\n    |                       ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n-warning: use of deprecated struct `lint_stability::DeprecatedTupleStruct`: text\n+warning: use of deprecated tuple struct `lint_stability::DeprecatedTupleStruct`: text\n   --> $DIR/lint-stability-deprecated.rs:128:17\n    |\n LL |         let _ = DeprecatedTupleStruct (1);\n    |                 ^^^^^^^^^^^^^^^^^^^^^\n \n-warning: use of deprecated struct `lint_stability::DeprecatedUnstableTupleStruct`: text\n+warning: use of deprecated tuple struct `lint_stability::DeprecatedUnstableTupleStruct`: text\n   --> $DIR/lint-stability-deprecated.rs:129:17\n    |\n LL |         let _ = DeprecatedUnstableTupleStruct (1);"}, {"sha": "a44eb1ce10a22aea4734f6dfe69f687a1c7e42bf", "filename": "src/test/ui/lint/lint-stability-fields-deprecated.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Flint%2Flint-stability-fields-deprecated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Flint%2Flint-stability-fields-deprecated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-stability-fields-deprecated.rs?ref=ae45e8a638402a7fbd5901c476aa2e21a8d21658", "patch": "@@ -129,7 +129,7 @@ mod cross_crate {\n             { .. } = x;\n \n         let x = Deprecated2(1, 2, 3);\n-        //~^ ERROR use of deprecated struct\n+        //~^ ERROR use of deprecated tuple struct\n \n         let _ = x.0;\n         //~^ ERROR use of deprecated field\n@@ -139,7 +139,7 @@ mod cross_crate {\n         //~^ ERROR use of deprecated field\n \n         let Deprecated2\n-        //~^ ERROR use of deprecated struct\n+        //~^ ERROR use of deprecated tuple struct\n             (_,\n              //~^ ERROR use of deprecated field\n              _,\n@@ -148,7 +148,7 @@ mod cross_crate {\n              //~^ ERROR use of deprecated field\n             = x;\n         let Deprecated2\n-        //~^ ERROR use of deprecated struct\n+        //~^ ERROR use of deprecated tuple struct\n             // the patterns are all fine:\n             (..) = x;\n     }"}, {"sha": "2d83260206f81084fe8e486a7b7ccd8069009dc1", "filename": "src/test/ui/lint/lint-stability-fields-deprecated.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Flint%2Flint-stability-fields-deprecated.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Flint%2Flint-stability-fields-deprecated.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Flint%2Flint-stability-fields-deprecated.stderr?ref=ae45e8a638402a7fbd5901c476aa2e21a8d21658", "patch": "@@ -22,19 +22,19 @@ error: use of deprecated struct `cross_crate::lint_stability_fields::Deprecated`\n LL |         let Deprecated\n    |             ^^^^^^^^^^\n \n-error: use of deprecated struct `cross_crate::lint_stability_fields::Deprecated2`: text\n+error: use of deprecated tuple struct `cross_crate::lint_stability_fields::Deprecated2`: text\n   --> $DIR/lint-stability-fields-deprecated.rs:131:17\n    |\n LL |         let x = Deprecated2(1, 2, 3);\n    |                 ^^^^^^^^^^^\n \n-error: use of deprecated struct `cross_crate::lint_stability_fields::Deprecated2`: text\n+error: use of deprecated tuple struct `cross_crate::lint_stability_fields::Deprecated2`: text\n   --> $DIR/lint-stability-fields-deprecated.rs:141:13\n    |\n LL |         let Deprecated2\n    |             ^^^^^^^^^^^\n \n-error: use of deprecated struct `cross_crate::lint_stability_fields::Deprecated2`: text\n+error: use of deprecated tuple struct `cross_crate::lint_stability_fields::Deprecated2`: text\n   --> $DIR/lint-stability-fields-deprecated.rs:150:13\n    |\n LL |         let Deprecated2"}, {"sha": "300cc34d63df205e8a0c056dc90ddfbc03a9200e", "filename": "src/test/ui/stability-attribute/generics-default-stability.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Fstability-attribute%2Fgenerics-default-stability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Fstability-attribute%2Fgenerics-default-stability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fgenerics-default-stability.rs?ref=ae45e8a638402a7fbd5901c476aa2e21a8d21658", "patch": "@@ -217,25 +217,25 @@ fn main() {\n \n     let _ = ENUM4;\n     let _: Enum4<isize> = Enum4::Some(1);\n-    //~^ use of deprecated variant `unstable_generic_param::Enum4::Some`: test [deprecated]\n+    //~^ use of deprecated tuple variant `unstable_generic_param::Enum4::Some`: test [deprecated]\n     //~^^ use of deprecated enum `unstable_generic_param::Enum4`: test [deprecated]\n     let _ = ENUM4;\n     let _: Enum4 = ENUM4; //~ use of deprecated enum `unstable_generic_param::Enum4`: test [deprecated]\n     let _: Enum4<usize> = ENUM4; //~ use of deprecated enum `unstable_generic_param::Enum4`: test [deprecated]\n     let _: Enum4<isize> = Enum4::Some(0);\n-    //~^ use of deprecated variant `unstable_generic_param::Enum4::Some`: test [deprecated]\n+    //~^ use of deprecated tuple variant `unstable_generic_param::Enum4::Some`: test [deprecated]\n     //~^^ use of deprecated enum `unstable_generic_param::Enum4`: test [deprecated]\n \n     let _ = ENUM5;\n     let _: Enum5<isize> = Enum5::Some(1); //~ ERROR use of unstable library feature 'unstable_default'\n-    //~^ use of deprecated variant `unstable_generic_param::Enum5::Some`: test [deprecated]\n+    //~^ use of deprecated tuple variant `unstable_generic_param::Enum5::Some`: test [deprecated]\n     //~^^ use of deprecated enum `unstable_generic_param::Enum5`: test [deprecated]\n     let _ = ENUM5;\n     let _: Enum5 = ENUM5; //~ use of deprecated enum `unstable_generic_param::Enum5`: test [deprecated]\n     let _: Enum5<usize> = ENUM5; //~ ERROR use of unstable library feature 'unstable_default'\n     //~^ use of deprecated enum `unstable_generic_param::Enum5`: test [deprecated]\n     let _: Enum5<isize> = Enum5::Some(0); //~ ERROR use of unstable library feature 'unstable_default'\n-    //~^ use of deprecated variant `unstable_generic_param::Enum5::Some`: test [deprecated]\n+    //~^ use of deprecated tuple variant `unstable_generic_param::Enum5::Some`: test [deprecated]\n     //~^^ use of deprecated enum `unstable_generic_param::Enum5`: test [deprecated]\n \n     let _: Enum6<isize> = Enum6::Some(1); // ok"}, {"sha": "e094a10c8e7b474ceaa7de3a8a042df2eb0514a9", "filename": "src/test/ui/stability-attribute/generics-default-stability.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Fstability-attribute%2Fgenerics-default-stability.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ae45e8a638402a7fbd5901c476aa2e21a8d21658/src%2Ftest%2Fui%2Fstability-attribute%2Fgenerics-default-stability.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstability-attribute%2Fgenerics-default-stability.stderr?ref=ae45e8a638402a7fbd5901c476aa2e21a8d21658", "patch": "@@ -144,7 +144,7 @@ warning: use of deprecated type alias `unstable_generic_param::Alias5`: test\n LL |     let _: Alias5<isize> = Alias5::Some(0);\n    |            ^^^^^^\n \n-warning: use of deprecated variant `unstable_generic_param::Enum4::Some`: test\n+warning: use of deprecated tuple variant `unstable_generic_param::Enum4::Some`: test\n   --> $DIR/generics-default-stability.rs:219:34\n    |\n LL |     let _: Enum4<isize> = Enum4::Some(1);\n@@ -168,7 +168,7 @@ warning: use of deprecated enum `unstable_generic_param::Enum4`: test\n LL |     let _: Enum4<usize> = ENUM4;\n    |            ^^^^^\n \n-warning: use of deprecated variant `unstable_generic_param::Enum4::Some`: test\n+warning: use of deprecated tuple variant `unstable_generic_param::Enum4::Some`: test\n   --> $DIR/generics-default-stability.rs:225:34\n    |\n LL |     let _: Enum4<isize> = Enum4::Some(0);\n@@ -180,7 +180,7 @@ warning: use of deprecated enum `unstable_generic_param::Enum4`: test\n LL |     let _: Enum4<isize> = Enum4::Some(0);\n    |            ^^^^^\n \n-warning: use of deprecated variant `unstable_generic_param::Enum5::Some`: test\n+warning: use of deprecated tuple variant `unstable_generic_param::Enum5::Some`: test\n   --> $DIR/generics-default-stability.rs:230:34\n    |\n LL |     let _: Enum5<isize> = Enum5::Some(1);\n@@ -204,7 +204,7 @@ warning: use of deprecated enum `unstable_generic_param::Enum5`: test\n LL |     let _: Enum5<usize> = ENUM5;\n    |            ^^^^^\n \n-warning: use of deprecated variant `unstable_generic_param::Enum5::Some`: test\n+warning: use of deprecated tuple variant `unstable_generic_param::Enum5::Some`: test\n   --> $DIR/generics-default-stability.rs:237:34\n    |\n LL |     let _: Enum5<isize> = Enum5::Some(0);"}]}