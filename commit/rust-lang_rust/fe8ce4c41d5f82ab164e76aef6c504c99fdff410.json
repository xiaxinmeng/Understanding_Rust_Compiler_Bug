{"sha": "fe8ce4c41d5f82ab164e76aef6c504c99fdff410", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZlOGNlNGM0MWQ1ZjgyYWIxNjRlNzZhZWY2YzUwNGM5OWZkZmY0MTA=", "commit": {"author": {"name": "adamrk", "email": "ark.email@gmail.com", "date": "2020-02-20T09:34:22Z"}, "committer": {"name": "adamrk", "email": "ark.email@gmail.com", "date": "2020-02-21T22:51:30Z"}, "message": "remove unneeded `collect`", "tree": {"sha": "72909c3e5d3051357c0bc0f6e121f65eec4ba0f1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/72909c3e5d3051357c0bc0f6e121f65eec4ba0f1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fe8ce4c41d5f82ab164e76aef6c504c99fdff410", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fe8ce4c41d5f82ab164e76aef6c504c99fdff410", "html_url": "https://github.com/rust-lang/rust/commit/fe8ce4c41d5f82ab164e76aef6c504c99fdff410", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fe8ce4c41d5f82ab164e76aef6c504c99fdff410/comments", "author": {"login": "adamrk", "id": 16367467, "node_id": "MDQ6VXNlcjE2MzY3NDY3", "avatar_url": "https://avatars.githubusercontent.com/u/16367467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamrk", "html_url": "https://github.com/adamrk", "followers_url": "https://api.github.com/users/adamrk/followers", "following_url": "https://api.github.com/users/adamrk/following{/other_user}", "gists_url": "https://api.github.com/users/adamrk/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamrk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamrk/subscriptions", "organizations_url": "https://api.github.com/users/adamrk/orgs", "repos_url": "https://api.github.com/users/adamrk/repos", "events_url": "https://api.github.com/users/adamrk/events{/privacy}", "received_events_url": "https://api.github.com/users/adamrk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "adamrk", "id": 16367467, "node_id": "MDQ6VXNlcjE2MzY3NDY3", "avatar_url": "https://avatars.githubusercontent.com/u/16367467?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adamrk", "html_url": "https://github.com/adamrk", "followers_url": "https://api.github.com/users/adamrk/followers", "following_url": "https://api.github.com/users/adamrk/following{/other_user}", "gists_url": "https://api.github.com/users/adamrk/gists{/gist_id}", "starred_url": "https://api.github.com/users/adamrk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adamrk/subscriptions", "organizations_url": "https://api.github.com/users/adamrk/orgs", "repos_url": "https://api.github.com/users/adamrk/repos", "events_url": "https://api.github.com/users/adamrk/events{/privacy}", "received_events_url": "https://api.github.com/users/adamrk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7be104410468a1fdcb01e5b98bedb7438b2c99f0", "url": "https://api.github.com/repos/rust-lang/rust/commits/7be104410468a1fdcb01e5b98bedb7438b2c99f0", "html_url": "https://github.com/rust-lang/rust/commit/7be104410468a1fdcb01e5b98bedb7438b2c99f0"}], "stats": {"total": 18, "additions": 7, "deletions": 11}, "files": [{"sha": "bdb90020bbe4329cd41f676ba693ed55f381f869", "filename": "crates/ra_ide/src/references/rename.rs", "status": "modified", "additions": 7, "deletions": 11, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/fe8ce4c41d5f82ab164e76aef6c504c99fdff410/crates%2Fra_ide%2Fsrc%2Freferences%2Frename.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fe8ce4c41d5f82ab164e76aef6c504c99fdff410/crates%2Fra_ide%2Fsrc%2Freferences%2Frename.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Freferences%2Frename.rs?ref=fe8ce4c41d5f82ab164e76aef6c504c99fdff410", "patch": "@@ -99,17 +99,13 @@ fn rename_mod(\n     source_file_edits.push(edit);\n \n     if let Some(RangeInfo { range: _, info: refs }) = find_all_refs(db, position, None) {\n-        let ref_edits = refs\n-            .references\n-            .into_iter()\n-            .map(|reference| {\n-                source_edit_from_file_id_range(\n-                    reference.file_range.file_id,\n-                    reference.file_range.range,\n-                    new_name,\n-                )\n-            })\n-            .collect::<Vec<_>>();\n+        let ref_edits = refs.references.into_iter().map(|reference| {\n+            source_edit_from_file_id_range(\n+                reference.file_range.file_id,\n+                reference.file_range.range,\n+                new_name,\n+            )\n+        });\n         source_file_edits.extend(ref_edits);\n     }\n "}]}