{"sha": "b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI3MGIzYjE0YWEzMTI1ZmU0Zjc0YTZhNzFmYjdhN2I3ZTc4YWIxM2Y=", "commit": {"author": {"name": "uHOOCCOOHu", "email": "hooccooh1896@gmail.com", "date": "2019-07-19T16:50:18Z"}, "committer": {"name": "uHOOCCOOHu", "email": "hooccooh1896@gmail.com", "date": "2019-07-19T16:50:18Z"}, "message": "Revert global fmt config and use `rustfmt::skip`", "tree": {"sha": "367b25e1b49339278cf9d1c295127fba273ee296", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/367b25e1b49339278cf9d1c295127fba273ee296"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEXLDp5dXVcfV/VA/qztOS3gxIPQAFAl0x9MoACgkQztOS3gxI\nPQAbQw/+NV0tGBjp0zr4YfVhcpICnJ+fNQmZ8HhE0/GZXOXto5AfPudmKSaP2EP1\nsZ14Hz++pU9c2DvvNdAf0np+FlCdK0wF2Yok4+Zir/RkGW1gzF2CJEr3x2aZ77mL\nA7nr73XtYdm4gOc3956nrTc++8q2zZgSyyNAC4Lt86v2a4e2y+ZVEaqhID+j4MvL\nzQWOJqTOcCMeaiRmolqMIesemAIXe+ihO6XtRUGCUP0b//TeCzU78GrXkTQcxfr2\nLjtg/59sHV7T9juuAs71ov3AB7jZzH96hxQ2efvoWKl+VGhq9JChQ9D/uhTAkw3I\nS2FtGMeiwdk6+CSoakQRMXfbgYnBEQctyrZIguiqsSK4olm0K3tTZwUV9+eCaQvu\nBwDztIrqQE3tQwsi/wuO9iTreWzpjB/cUwMLrZ0EWVPcG20+tBvY7+thD7AqwBGs\nq6WqMjiblAPwBhwcANjX1kpAE+IfS1jRG36rY/gAMkSc7Yb93xX8B8JHdWUkGO4y\nqQ/Gng2d7TbT7Uf43+mNLAl2mLAcGWgI2/r7cdwSTchonPKhiQUbhlF2Hksa1vom\nLn7O9/UJIRni3QjJ3jfEFJrJWrCFvgZVuHzwT3uF9FxK+khMVfq8p+IKgUnjmBbb\nuYw5wYP701y339kBrrgf1zToUOM1NX9fI1vxPeN7VyGtPdXOyKU=\n=hUHO\n-----END PGP SIGNATURE-----", "payload": "tree 367b25e1b49339278cf9d1c295127fba273ee296\nparent 2cc373ac54e7d244cea22b305cefc1c2d08d81f6\nauthor uHOOCCOOHu <hooccooh1896@gmail.com> 1563555018 +0800\ncommitter uHOOCCOOHu <hooccooh1896@gmail.com> 1563555018 +0800\n\nRevert global fmt config and use `rustfmt::skip`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f", "html_url": "https://github.com/rust-lang/rust/commit/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f/comments", "author": null, "committer": null, "parents": [{"sha": "2cc373ac54e7d244cea22b305cefc1c2d08d81f6", "url": "https://api.github.com/repos/rust-lang/rust/commits/2cc373ac54e7d244cea22b305cefc1c2d08d81f6", "html_url": "https://github.com/rust-lang/rust/commit/2cc373ac54e7d244cea22b305cefc1c2d08d81f6"}], "stats": {"total": 72, "additions": 38, "deletions": 34}, "files": [{"sha": "797eccdad99ec9652ad3e1ff737614c60a820d58", "filename": "rustfmt.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f/rustfmt.toml", "raw_url": "https://github.com/rust-lang/rust/raw/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f/rustfmt.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rustfmt.toml?ref=b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f", "patch": "@@ -2,5 +2,5 @@ max_width = 120\n comment_width = 100\n match_block_trailing_comma = true\n wrap_comments = true\n-edition = \"2018\"\n+\n error_on_line_overflow = true"}, {"sha": "737e718c4c088cb271c3439740de68d84279e701", "filename": "tests/ui/issue_4266.rs", "status": "modified", "additions": 29, "deletions": 25, "changes": 54, "blob_url": "https://github.com/rust-lang/rust/blob/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f/tests%2Fui%2Fissue_4266.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f/tests%2Fui%2Fissue_4266.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fissue_4266.rs?ref=b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f", "patch": "@@ -2,37 +2,41 @@\n #![feature(async_await)]\n #![allow(dead_code)]\n \n-async fn sink1<'a>(_: &'a str) {} // lint\n-async fn sink1_elided(_: &str) {} // ok\n+// No edition 2018\n+#[rustfmt::skip]\n+mod m {\n+    async fn sink1<'a>(_: &'a str) {} // lint\n+    async fn sink1_elided(_: &str) {} // ok\n \n-// lint\n-async fn one_to_one<'a>(s: &'a str) -> &'a str {\n-    s\n-}\n+    // lint\n+    async fn one_to_one<'a>(s: &'a str) -> &'a str {\n+        s\n+    }\n \n-// ok\n-async fn one_to_one_elided(s: &str) -> &str {\n-    s\n-}\n+    // ok\n+    async fn one_to_one_elided(s: &str) -> &str {\n+        s\n+    }\n \n-// ok\n-async fn all_to_one<'a>(a: &'a str, _b: &'a str) -> &'a str {\n-    a\n-}\n+    // ok\n+    async fn all_to_one<'a>(a: &'a str, _b: &'a str) -> &'a str {\n+        a\n+    }\n \n-// async fn unrelated(_: &str, _: &str) {} // Not allowed in async fn\n+    // async fn unrelated(_: &str, _: &str) {} // Not allowed in async fn\n \n-// #3988\n-struct Foo;\n-impl Foo {\n-    // ok\n-    pub async fn foo(&mut self) {}\n-}\n+    // #3988\n+    struct Foo;\n+    impl Foo {\n+        // ok\n+        pub async fn foo(&mut self) {}\n+    }\n \n-// rust-lang/rust#61115\n-// ok\n-async fn print(s: &str) {\n-    println!(\"{}\", s);\n+    // rust-lang/rust#61115\n+    // ok\n+    async fn print(s: &str) {\n+        println!(\"{}\", s);\n+    }\n }\n \n fn main() {}"}, {"sha": "649d01dca1efc48d4ff2f6da0ee75d30aa516645", "filename": "tests/ui/issue_4266.stderr", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f/tests%2Fui%2Fissue_4266.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f/tests%2Fui%2Fissue_4266.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fissue_4266.stderr?ref=b70b3b14aa3125fe4f74a6a71fb7a7b7e78ab13f", "patch": "@@ -1,18 +1,18 @@\n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/issue_4266.rs:5:1\n+  --> $DIR/issue_4266.rs:8:5\n    |\n-LL | async fn sink1<'a>(_: &'a str) {} // lint\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+LL |     async fn sink1<'a>(_: &'a str) {} // lint\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::needless-lifetimes` implied by `-D warnings`\n \n error: explicit lifetimes given in parameter types where they could be elided (or replaced with `'_` if needed by type declaration)\n-  --> $DIR/issue_4266.rs:9:1\n+  --> $DIR/issue_4266.rs:12:5\n    |\n-LL | / async fn one_to_one<'a>(s: &'a str) -> &'a str {\n-LL | |     s\n-LL | | }\n-   | |_^\n+LL | /     async fn one_to_one<'a>(s: &'a str) -> &'a str {\n+LL | |         s\n+LL | |     }\n+   | |_____^\n \n error: aborting due to 2 previous errors\n "}]}