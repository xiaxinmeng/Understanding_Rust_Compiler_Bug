{"sha": "d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQzNmM0ZGI5NmQxMTdmNGE0NWQzYTdhMGQzYmE2OGZlOGI2ZWU5OTM=", "commit": {"author": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-02-27T15:13:30Z"}, "committer": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-04-03T12:46:09Z"}, "message": "Add the tests for duplicate symbol errors", "tree": {"sha": "f26353bb9eaa7fcbaf9b93501550aef07ec28d7c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f26353bb9eaa7fcbaf9b93501550aef07ec28d7c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "html_url": "https://github.com/rust-lang/rust/commit/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/comments", "author": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "baa52caf83ef82c301e1264f370de5c22fc3c48d", "url": "https://api.github.com/repos/rust-lang/rust/commits/baa52caf83ef82c301e1264f370de5c22fc3c48d", "html_url": "https://github.com/rust-lang/rust/commit/baa52caf83ef82c301e1264f370de5c22fc3c48d"}], "stats": {"total": 172, "additions": 172, "deletions": 0}, "files": [{"sha": "08370b534cdf18dc3626bb5510afa7754ae2440f", "filename": "src/test/compile-fail/dupe-symbols-1.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-1.rs?ref=d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+//\n+#![crate_type=\"rlib\"]\n+#![allow(warnings)]\n+\n+#[export_name=\"fail\"]\n+pub fn a() {\n+}\n+\n+#[export_name=\"fail\"]\n+pub fn b() {\n+//~^ symbol `fail` already exists\n+}"}, {"sha": "592874491e0153f216a61b53e38bd0e9b3d46784", "filename": "src/test/compile-fail/dupe-symbols-2.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-2.rs?ref=d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "patch": "@@ -0,0 +1,25 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+//\n+#![crate_type=\"rlib\"]\n+#![allow(warnings)]\n+\n+mod a {\n+    #[no_mangle]\n+    pub extern fn fail() {\n+    }\n+}\n+\n+mod b {\n+    #[no_mangle]\n+    pub extern fn fail() {\n+    //~^ symbol `fail` already exists\n+    }\n+}"}, {"sha": "af5622861ef71267349f4014175f64f819f98b98", "filename": "src/test/compile-fail/dupe-symbols-3.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-3.rs?ref=d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+//\n+#![crate_type=\"rlib\"]\n+#![allow(warnings)]\n+\n+#[export_name=\"fail\"]\n+pub fn a() {\n+}\n+\n+#[no_mangle]\n+pub fn fail() {\n+//~^ symbol `fail` already exists\n+}"}, {"sha": "738dce6fed1a3555d81bcb704c18b06c4a415b0d", "filename": "src/test/compile-fail/dupe-symbols-4.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-4.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-4.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-4.rs?ref=d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "patch": "@@ -0,0 +1,31 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+//\n+#![crate_type=\"rlib\"]\n+#![allow(warnings)]\n+\n+\n+pub trait A {\n+    fn fail(self);\n+}\n+\n+struct B;\n+struct C;\n+\n+impl A for B {\n+    #[no_mangle]\n+    fn fail(self) {}\n+}\n+\n+impl A for C {\n+    #[no_mangle]\n+    fn fail(self) {}\n+    //~^ symbol `fail` already exists\n+}"}, {"sha": "5ca9ca871289ed6e10ab61c25f10f42082af2998", "filename": "src/test/compile-fail/dupe-symbols-5.rs", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-5.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-5.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-5.rs?ref=d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "patch": "@@ -0,0 +1,20 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+//\n+#![crate_type=\"rlib\"]\n+#![allow(warnings)]\n+\n+#[export_name=\"fail\"]\n+static HELLO: u8 = 0;\n+\n+#[export_name=\"fail\"]\n+pub fn b() {\n+//~^ symbol `fail` already exists\n+}"}, {"sha": "9fbc292930ecb73dbc5db0901392c77071771510", "filename": "src/test/compile-fail/dupe-symbols-6.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-6.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-6.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-6.rs?ref=d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+#![crate_type=\"rlib\"]\n+#![allow(warnings)]\n+\n+#[export_name=\"fail\"]\n+static HELLO: u8 = 0;\n+\n+#[export_name=\"fail\"]\n+static HELLO_TWICE: u16 = 0;\n+//~^ symbol `fail` already exists"}, {"sha": "b061f9e257e7d29fa85e8dd4c8a12e53470e999b", "filename": "src/test/compile-fail/dupe-symbols-7.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-7.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-7.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-7.rs?ref=d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "patch": "@@ -0,0 +1,21 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+//\n+#![crate_type=\"rlib\"]\n+#![allow(warnings)]\n+\n+extern {\n+    fn fail();\n+}\n+\n+#[export_name=\"fail\"]\n+pub fn a() {\n+//~^ symbol `fail` already exists\n+}"}, {"sha": "c2880ba6f51e9f7f1c21caccb08ab8d8d596e5fd", "filename": "src/test/compile-fail/dupe-symbols-8.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-8.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-8.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fdupe-symbols-8.rs?ref=d36c4db96d117f4a45d3a7a0d3ba68fe8b6ee993", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+//\n+// error-pattern: entry symbol `main` defined multiple times\n+#![allow(warnings)]\n+\n+#[no_mangle]\n+fn main(){}"}]}