{"sha": "7ed418c3b4ede0364bf419b2c12b27f89b706dcf", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdlZDQxOGMzYjRlZGUwMzY0YmY0MTliMmMxMmIyN2Y4OWI3MDZkY2Y=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-03-05T18:41:42Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2015-03-05T18:41:42Z"}, "message": "std: Deprecate the old_io::process module\n\nThis module is now superseded by the `std::process` module. This module still\nhas some room to expand to get quite back up to parity with the `old_io`\nversion, and there is a [tracking issue][issue] for feature requests as well as\nknown room for expansion.\n\n[issue]: https://github.com/rust-lang/rfcs/issues/941\n[breaking-change]", "tree": {"sha": "a7d0ab09a3c17fc6e987312293c3ffb2a0e2c469", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a7d0ab09a3c17fc6e987312293c3ffb2a0e2c469"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7ed418c3b4ede0364bf419b2c12b27f89b706dcf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7ed418c3b4ede0364bf419b2c12b27f89b706dcf", "html_url": "https://github.com/rust-lang/rust/commit/7ed418c3b4ede0364bf419b2c12b27f89b706dcf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7ed418c3b4ede0364bf419b2c12b27f89b706dcf/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "68740b405404a3f885e388c8d31722797d519c30", "url": "https://api.github.com/repos/rust-lang/rust/commits/68740b405404a3f885e388c8d31722797d519c30", "html_url": "https://github.com/rust-lang/rust/commit/68740b405404a3f885e388c8d31722797d519c30"}], "stats": {"total": 23, "additions": 15, "deletions": 8}, "files": [{"sha": "2fbbe7d1f7c5ea60e7865617f78a5ecc8898e4da", "filename": "src/librustc_back/target/apple_ios_base.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7ed418c3b4ede0364bf419b2c12b27f89b706dcf/src%2Flibrustc_back%2Ftarget%2Fapple_ios_base.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ed418c3b4ede0364bf419b2c12b27f89b706dcf/src%2Flibrustc_back%2Ftarget%2Fapple_ios_base.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Ftarget%2Fapple_ios_base.rs?ref=7ed418c3b4ede0364bf419b2c12b27f89b706dcf", "patch": "@@ -8,7 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-use std::old_io::{Command, IoError, OtherIoError};\n+use std::io;\n+use std::process::Command;\n use target::TargetOptions;\n \n use self::Arch::*;\n@@ -40,16 +41,15 @@ pub fn get_sdk_root(sdk_name: &str) -> String {\n                       .arg(\"--show-sdk-path\")\n                       .arg(\"-sdk\")\n                       .arg(sdk_name)\n-                      .spawn()\n-                      .and_then(|c| c.wait_with_output())\n+                      .output()\n                       .and_then(|output| {\n                           if output.status.success() {\n-                              Ok(String::from_utf8(output.output).unwrap())\n+                              Ok(String::from_utf8(output.stdout).unwrap())\n                           } else {\n-                              Err(IoError {\n-                                  kind: OtherIoError,\n-                                  desc: \"process exit with error\",\n-                                  detail: String::from_utf8(output.error).ok()})\n+                              let error = String::from_utf8(output.stderr);\n+                              Err(io::Error::new(io::ErrorKind::Other,\n+                                                 \"process exit with error\",\n+                                                 error.ok()))\n                           }\n                       });\n "}, {"sha": "e02e863516ab1ebdddcea006f24af713076c48ae", "filename": "src/libstd/old_io/process.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7ed418c3b4ede0364bf419b2c12b27f89b706dcf/src%2Flibstd%2Fold_io%2Fprocess.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ed418c3b4ede0364bf419b2c12b27f89b706dcf/src%2Flibstd%2Fold_io%2Fprocess.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fold_io%2Fprocess.rs?ref=7ed418c3b4ede0364bf419b2c12b27f89b706dcf", "patch": "@@ -11,6 +11,9 @@\n //! Bindings for executing child processes\n \n #![allow(non_upper_case_globals)]\n+#![unstable(feature = \"old_io\")]\n+#![deprecated(since = \"1.0.0\",\n+              reason = \"replaced with the std::process module\")]\n \n pub use self::StdioContainer::*;\n pub use self::ProcessExit::*;"}, {"sha": "62a1799de94c938fe0c3ef9f94ef6632323bff86", "filename": "src/libstd/sys/unix/process.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7ed418c3b4ede0364bf419b2c12b27f89b706dcf/src%2Flibstd%2Fsys%2Funix%2Fprocess.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ed418c3b4ede0364bf419b2c12b27f89b706dcf/src%2Flibstd%2Fsys%2Funix%2Fprocess.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Funix%2Fprocess.rs?ref=7ed418c3b4ede0364bf419b2c12b27f89b706dcf", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![allow(deprecated)]\n+\n use prelude::v1::*;\n use self::Req::*;\n "}, {"sha": "ca3ed54eb036a4b2e55e11235fe21d63086dfbfb", "filename": "src/libstd/sys/windows/process.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7ed418c3b4ede0364bf419b2c12b27f89b706dcf/src%2Flibstd%2Fsys%2Fwindows%2Fprocess.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ed418c3b4ede0364bf419b2c12b27f89b706dcf/src%2Flibstd%2Fsys%2Fwindows%2Fprocess.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fwindows%2Fprocess.rs?ref=7ed418c3b4ede0364bf419b2c12b27f89b706dcf", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![allow(deprecated)]\n+\n use prelude::v1::*;\n \n use collections;"}]}