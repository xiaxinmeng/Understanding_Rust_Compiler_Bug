{"sha": "133f60f82012ad92c40693bf1ae28419b60146a7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEzM2Y2MGY4MjAxMmFkOTJjNDA2OTNiZjFhZTI4NDE5YjYwMTQ2YTc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2016-04-20T11:58:44Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2016-04-20T11:58:44Z"}, "message": "Auto merge of #32951 - LukasKalbertodt:collection_contains_rfc1552, r=brson\n\nAdd `contains` to `VecDeque` and `LinkedList` (+ tests)\n\nThis implements [RFC 1552](https://github.com/rust-lang/rfcs/blob/master/text/1552-contains-method-for-various-collections.md). Tracking issue: #32630\n\nSorry for the late response. This is my first contribution, so please tell me if anything isn't optimal!", "tree": {"sha": "3bbb49eca49537bd9ceb893d8598edaa1e370c29", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3bbb49eca49537bd9ceb893d8598edaa1e370c29"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/133f60f82012ad92c40693bf1ae28419b60146a7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/133f60f82012ad92c40693bf1ae28419b60146a7", "html_url": "https://github.com/rust-lang/rust/commit/133f60f82012ad92c40693bf1ae28419b60146a7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/133f60f82012ad92c40693bf1ae28419b60146a7/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9bba2907ee712753e44d7e248560031c190724e0", "url": "https://api.github.com/repos/rust-lang/rust/commits/9bba2907ee712753e44d7e248560031c190724e0", "html_url": "https://github.com/rust-lang/rust/commit/9bba2907ee712753e44d7e248560031c190724e0"}, {"sha": "bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d", "url": "https://api.github.com/repos/rust-lang/rust/commits/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d", "html_url": "https://github.com/rust-lang/rust/commit/bf3aefeba0bc72d1e26d36a7d88e2995e460bc1d"}], "stats": {"total": 49, "additions": 49, "deletions": 0}, "files": [{"sha": "406b979a37087831820e3e62090548a15c9cc1bb", "filename": "src/libcollections/linked_list.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/133f60f82012ad92c40693bf1ae28419b60146a7/src%2Flibcollections%2Flinked_list.rs", "raw_url": "https://github.com/rust-lang/rust/raw/133f60f82012ad92c40693bf1ae28419b60146a7/src%2Flibcollections%2Flinked_list.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Flinked_list.rs?ref=133f60f82012ad92c40693bf1ae28419b60146a7", "patch": "@@ -403,6 +403,16 @@ impl<T> LinkedList<T> {\n         *self = LinkedList::new()\n     }\n \n+    /// Returns `true` if the `LinkedList` contains an element equal to the\n+    /// given value.\n+    #[unstable(feature = \"linked_list_contains\", reason = \"recently added\",\n+               issue = \"32630\")]\n+    pub fn contains(&self, x: &T) -> bool\n+        where T: PartialEq<T>\n+    {\n+        self.iter().any(|e| e == x)\n+    }\n+\n     /// Provides a reference to the front element, or `None` if the list is\n     /// empty.\n     ///"}, {"sha": "84a0bbbd24983468ce4b639a9c736db07b193364", "filename": "src/libcollections/vec_deque.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/133f60f82012ad92c40693bf1ae28419b60146a7/src%2Flibcollections%2Fvec_deque.rs", "raw_url": "https://github.com/rust-lang/rust/raw/133f60f82012ad92c40693bf1ae28419b60146a7/src%2Flibcollections%2Fvec_deque.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fvec_deque.rs?ref=133f60f82012ad92c40693bf1ae28419b60146a7", "patch": "@@ -873,6 +873,17 @@ impl<T> VecDeque<T> {\n         self.drain(..);\n     }\n \n+    /// Returns `true` if the `VecDeque` contains an element equal to the\n+    /// given value.\n+    #[unstable(feature = \"vec_deque_contains\", reason = \"recently added\",\n+               issue = \"32630\")]\n+    pub fn contains(&self, x: &T) -> bool\n+        where T: PartialEq<T>\n+    {\n+        let (a, b) = self.as_slices();\n+        a.contains(x) || b.contains(x)\n+    }\n+\n     /// Provides a reference to the front element, or `None` if the sequence is\n     /// empty.\n     ///"}, {"sha": "056ac13585c0ea3796458a63e6bf71372734bfb4", "filename": "src/libcollectionstest/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/133f60f82012ad92c40693bf1ae28419b60146a7/src%2Flibcollectionstest%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/133f60f82012ad92c40693bf1ae28419b60146a7/src%2Flibcollectionstest%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollectionstest%2Flib.rs?ref=133f60f82012ad92c40693bf1ae28419b60146a7", "patch": "@@ -20,6 +20,7 @@\n #![feature(fn_traits)]\n #![feature(enumset)]\n #![feature(iter_arith)]\n+#![feature(linked_list_contains)]\n #![feature(map_entry_keys)]\n #![feature(map_values_mut)]\n #![feature(pattern)]\n@@ -30,6 +31,7 @@\n #![feature(test)]\n #![feature(unboxed_closures)]\n #![feature(unicode)]\n+#![feature(vec_deque_contains)]\n \n extern crate collections;\n extern crate test;"}, {"sha": "7265d53be4837d2979c6579a9141875502a01e7f", "filename": "src/libcollectionstest/linked_list.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/133f60f82012ad92c40693bf1ae28419b60146a7/src%2Flibcollectionstest%2Flinked_list.rs", "raw_url": "https://github.com/rust-lang/rust/raw/133f60f82012ad92c40693bf1ae28419b60146a7/src%2Flibcollectionstest%2Flinked_list.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollectionstest%2Flinked_list.rs?ref=133f60f82012ad92c40693bf1ae28419b60146a7", "patch": "@@ -429,3 +429,16 @@ fn bench_iter_mut_rev(b: &mut test::Bencher) {\n         assert!(m.iter_mut().rev().count() == 128);\n     })\n }\n+\n+#[test]\n+fn test_contains() {\n+    let mut l = LinkedList::new();\n+    l.extend(&[2, 3, 4]);\n+\n+    assert!(l.contains(&3));\n+    assert!(!l.contains(&1));\n+\n+    l.clear();\n+\n+    assert!(!l.contains(&3));\n+}"}, {"sha": "05af9bd704dc819ee6152b7066c04654b15a44e7", "filename": "src/libcollectionstest/vec_deque.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/133f60f82012ad92c40693bf1ae28419b60146a7/src%2Flibcollectionstest%2Fvec_deque.rs", "raw_url": "https://github.com/rust-lang/rust/raw/133f60f82012ad92c40693bf1ae28419b60146a7/src%2Flibcollectionstest%2Fvec_deque.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollectionstest%2Fvec_deque.rs?ref=133f60f82012ad92c40693bf1ae28419b60146a7", "patch": "@@ -959,3 +959,16 @@ fn test_extend_ref() {\n     assert_eq!(v[4], 5);\n     assert_eq!(v[5], 6);\n }\n+\n+#[test]\n+fn test_contains() {\n+    let mut v = VecDeque::new();\n+    v.extend(&[2, 3, 4]);\n+\n+    assert!(v.contains(&3));\n+    assert!(!v.contains(&1));\n+\n+    v.clear();\n+\n+    assert!(!v.contains(&3));\n+}"}]}