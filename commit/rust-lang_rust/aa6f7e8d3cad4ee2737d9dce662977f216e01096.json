{"sha": "aa6f7e8d3cad4ee2737d9dce662977f216e01096", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFhNmY3ZThkM2NhZDRlZTI3MzdkOWRjZTY2Mjk3N2YyMTZlMDEwOTY=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2015-05-23T03:28:41Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2015-05-23T03:28:41Z"}, "message": "Add default.toml and modify the build system for it", "tree": {"sha": "9097b356d2cf55faf7a03640e70afcc4c28d83ab", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9097b356d2cf55faf7a03640e70afcc4c28d83ab"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aa6f7e8d3cad4ee2737d9dce662977f216e01096", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aa6f7e8d3cad4ee2737d9dce662977f216e01096", "html_url": "https://github.com/rust-lang/rust/commit/aa6f7e8d3cad4ee2737d9dce662977f216e01096", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aa6f7e8d3cad4ee2737d9dce662977f216e01096/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "910ca8071031fc53af2fdcb6e0161c7d2a651e84", "url": "https://api.github.com/repos/rust-lang/rust/commits/910ca8071031fc53af2fdcb6e0161c7d2a651e84", "html_url": "https://github.com/rust-lang/rust/commit/910ca8071031fc53af2fdcb6e0161c7d2a651e84"}], "stats": {"total": 46, "additions": 46, "deletions": 0}, "files": [{"sha": "a1534ecd913f761c869804fc1df63bc4f7e9f501", "filename": "Cargo.lock", "status": "modified", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/aa6f7e8d3cad4ee2737d9dce662977f216e01096/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/aa6f7e8d3cad4ee2737d9dce662977f216e01096/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=aa6f7e8d3cad4ee2737d9dce662977f216e01096", "patch": "@@ -4,15 +4,29 @@ version = \"0.0.1\"\n dependencies = [\n  \"diff 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"strings 0.0.1 (git+https://github.com/nrc/strings.rs.git)\",\n+ \"toml 0.1.20 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"diff\"\n version = \"0.1.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n+[[package]]\n+name = \"rustc-serialize\"\n+version = \"0.3.14\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+\n [[package]]\n name = \"strings\"\n version = \"0.0.1\"\n source = \"git+https://github.com/nrc/strings.rs.git#551331d01911b7e8da056a4a019eb367cfaf03bd\"\n \n+[[package]]\n+name = \"toml\"\n+version = \"0.1.20\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+dependencies = [\n+ \"rustc-serialize 0.3.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n+]\n+"}, {"sha": "acf53b77e7c3ef7352b6f19ffc60b154483726ef", "filename": "Cargo.toml", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/aa6f7e8d3cad4ee2737d9dce662977f216e01096/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/aa6f7e8d3cad4ee2737d9dce662977f216e01096/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=aa6f7e8d3cad4ee2737d9dce662977f216e01096", "patch": "@@ -7,10 +7,12 @@ description = \"Tool to find and fix Rust formatting issues\"\n repository = \"https://github.com/nick29581/rustfmt\"\n readme = \"README.md\"\n license = \"Apache-2.0/MIT\"\n+build = \"build.rs\"\n \n [dependencies.strings]\n strings = \"0.0.1\"\n git = \"https://github.com/nrc/strings.rs.git\"\n \n [dev-dependencies]\n diff = \"0.1.0\"\n+toml = \"0.1.20\""}, {"sha": "ac27db564939f1bd2b614dcd72c59d407323372f", "filename": "build.rs", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/aa6f7e8d3cad4ee2737d9dce662977f216e01096/build.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aa6f7e8d3cad4ee2737d9dce662977f216e01096/build.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/build.rs?ref=aa6f7e8d3cad4ee2737d9dce662977f216e01096", "patch": "@@ -0,0 +1,28 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// Build script. Just copies default.toml from the src to the target dir.\n+\n+use std::env;\n+use std::path::{Path, PathBuf};\n+\n+fn main() {\n+    let in_file = Path::new(\"src/default.toml\");\n+\n+    let manifest_dir = env::var(\"CARGO_MANIFEST_DIR\").unwrap();\n+    let profile = env::var(\"PROFILE\").unwrap();\n+    let mut out_file = PathBuf::new();\n+    out_file.push(manifest_dir);\n+    out_file.push(\"target\");\n+    out_file.push(profile);\n+    out_file.push(\"default.toml\");\n+\n+    std::fs::copy(in_file, out_file).unwrap();\n+}"}, {"sha": "e049dfa59ba485237fbd96d5c0b05651563d365e", "filename": "src/default.toml", "status": "added", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/aa6f7e8d3cad4ee2737d9dce662977f216e01096/src%2Fdefault.toml", "raw_url": "https://github.com/rust-lang/rust/raw/aa6f7e8d3cad4ee2737d9dce662977f216e01096/src%2Fdefault.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdefault.toml?ref=aa6f7e8d3cad4ee2737d9dce662977f216e01096", "patch": "@@ -0,0 +1,2 @@\n+max-width = 100\n+ideal-width = 80"}]}