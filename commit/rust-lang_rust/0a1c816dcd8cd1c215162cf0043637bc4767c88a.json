{"sha": "0a1c816dcd8cd1c215162cf0043637bc4767c88a", "node_id": "C_kwDOAAsO6NoAKDBhMWM4MTZkY2Q4Y2QxYzIxNTE2MmNmMDA0MzYzN2JjNDc2N2M4OGE", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-09-07T19:48:16Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-09-07T19:48:16Z"}, "message": "Rollup merge of #101503 - spastorino:add-debug-calls, r=compiler-errors\n\nAdd debug calls\n\n`@oli-obk` requested this and other changes as a way of simplifying https://github.com/rust-lang/rust/pull/101345. This is just going to make the diff of https://github.com/rust-lang/rust/pull/101345 smaller.\n\nr? `@oli-obk` `@cjgillot`", "tree": {"sha": "734a284d04f20b683b479dc9b099f7d706752659", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/734a284d04f20b683b479dc9b099f7d706752659"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0a1c816dcd8cd1c215162cf0043637bc4767c88a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjGPWACRBK7hj4Ov3rIwAA5VUIAHAXXAWoZIjFKgibJn5KpTwU\nj+/QOLvACbrSiTNY8IJAFF9ftRdaGioGhTD/hpUx8hjw+Yl+6Saup5dPDOVtqXzB\nhYsGBcJXbWUyzqwpYsibyWyz9rI43hOXzwBb6sfGMyJK9Msq3RsiE56iQSZIKqMC\nnvqgGGCWgx1/e4JFYzWdrwKh6dT36hFLZwMw/aW9yzbokUOLXAU9mwlHfaNs1D1c\nXDAbJZ0j9NewWOpX84JguEHNAYeQkBM/EgRIXPf594KIPm3ZQrV8MGrf/0RAPcgG\nsizKiTkaA8gR6r4SO2TactIKGK3CU656KpPVWKhF6F6EGLnhl9DSRmhqPeC5L/M=\n=5HVI\n-----END PGP SIGNATURE-----\n", "payload": "tree 734a284d04f20b683b479dc9b099f7d706752659\nparent c365ce3ffddd05d85c55bdbcdb30a1106baf6072\nparent d42afd2bd19a33e99bad027909b88becab1068c4\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1662580096 +0200\ncommitter GitHub <noreply@github.com> 1662580096 +0200\n\nRollup merge of #101503 - spastorino:add-debug-calls, r=compiler-errors\n\nAdd debug calls\n\n`@oli-obk` requested this and other changes as a way of simplifying https://github.com/rust-lang/rust/pull/101345. This is just going to make the diff of https://github.com/rust-lang/rust/pull/101345 smaller.\n\nr? `@oli-obk` `@cjgillot`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0a1c816dcd8cd1c215162cf0043637bc4767c88a", "html_url": "https://github.com/rust-lang/rust/commit/0a1c816dcd8cd1c215162cf0043637bc4767c88a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0a1c816dcd8cd1c215162cf0043637bc4767c88a/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c365ce3ffddd05d85c55bdbcdb30a1106baf6072", "url": "https://api.github.com/repos/rust-lang/rust/commits/c365ce3ffddd05d85c55bdbcdb30a1106baf6072", "html_url": "https://github.com/rust-lang/rust/commit/c365ce3ffddd05d85c55bdbcdb30a1106baf6072"}, {"sha": "d42afd2bd19a33e99bad027909b88becab1068c4", "url": "https://api.github.com/repos/rust-lang/rust/commits/d42afd2bd19a33e99bad027909b88becab1068c4", "html_url": "https://github.com/rust-lang/rust/commit/d42afd2bd19a33e99bad027909b88becab1068c4"}], "stats": {"total": 50, "additions": 34, "deletions": 16}, "files": [{"sha": "e7bbf7dbdec295d2084e5d4f5845a279fa27414b", "filename": "compiler/rustc_ast_lowering/src/lib.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_ast_lowering%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_ast_lowering%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_lowering%2Fsrc%2Flib.rs?ref=0a1c816dcd8cd1c215162cf0043637bc4767c88a", "patch": "@@ -660,6 +660,7 @@ impl<'a, 'hir> LoweringContext<'a, 'hir> {\n     /// actually used in the HIR, as that would trigger an assertion in the\n     /// `HirIdValidator` later on, which makes sure that all `NodeId`s got mapped\n     /// properly. Calling the method twice with the same `NodeId` is fine though.\n+    #[instrument(level = \"debug\", skip(self), ret)]\n     fn lower_node_id(&mut self, ast_node_id: NodeId) -> hir::HirId {\n         assert_ne!(ast_node_id, DUMMY_NODE_ID);\n \n@@ -693,6 +694,7 @@ impl<'a, 'hir> LoweringContext<'a, 'hir> {\n     }\n \n     /// Generate a new `HirId` without a backing `NodeId`.\n+    #[instrument(level = \"debug\", skip(self), ret)]\n     fn next_id(&mut self) -> hir::HirId {\n         let owner = self.current_hir_id_owner;\n         let local_id = self.item_local_id_counter;\n@@ -1382,7 +1384,7 @@ impl<'a, 'hir> LoweringContext<'a, 'hir> {\n     /// added explicitly in the HIR). But this includes all the lifetimes, and we only want to\n     /// capture the lifetimes that are referenced in the bounds. Therefore, we add *extra* lifetime parameters\n     /// for the lifetimes that get captured (`'x`, in our example above) and reference those.\n-    #[instrument(level = \"debug\", skip(self))]\n+    #[instrument(level = \"debug\", skip(self), ret)]\n     fn lower_opaque_impl_trait(\n         &mut self,\n         span: Span,\n@@ -2148,6 +2150,7 @@ impl<'a, 'hir> LoweringContext<'a, 'hir> {\n         hir::MutTy { ty: self.lower_ty(&mt.ty, itctx), mutbl: mt.mutbl }\n     }\n \n+    #[instrument(level = \"debug\", skip(self), ret)]\n     fn lower_param_bounds(\n         &mut self,\n         bounds: &[GenericBound],\n@@ -2165,6 +2168,7 @@ impl<'a, 'hir> LoweringContext<'a, 'hir> {\n         bounds.iter().map(move |bound| self.lower_param_bound(bound, itctx))\n     }\n \n+    #[instrument(level = \"debug\", skip(self), ret)]\n     fn lower_generic_and_bounds(\n         &mut self,\n         node_id: NodeId,"}, {"sha": "75233495040ca561dfed4ab9a4425641bd816e64", "filename": "compiler/rustc_infer/src/infer/outlives/verify.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_infer%2Fsrc%2Finfer%2Foutlives%2Fverify.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_infer%2Fsrc%2Finfer%2Foutlives%2Fverify.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_infer%2Fsrc%2Finfer%2Foutlives%2Fverify.rs?ref=0a1c816dcd8cd1c215162cf0043637bc4767c88a", "patch": "@@ -50,13 +50,13 @@ impl<'cx, 'tcx> VerifyBoundCx<'cx, 'tcx> {\n         }\n     }\n \n+    #[instrument(level = \"debug\", skip(self))]\n     fn param_bound(&self, param_ty: ty::ParamTy) -> VerifyBound<'tcx> {\n-        debug!(\"param_bound(param_ty={:?})\", param_ty);\n-\n         // Start with anything like `T: 'a` we can scrape from the\n         // environment. If the environment contains something like\n         // `for<'a> T: 'a`, then we know that `T` outlives everything.\n         let declared_bounds_from_env = self.declared_generic_bounds_from_env(param_ty);\n+        debug!(?declared_bounds_from_env);\n         let mut param_bounds = vec![];\n         for declared_bound in declared_bounds_from_env {\n             let bound_region = declared_bound.map_bound(|outlives| outlives.1);\n@@ -65,13 +65,15 @@ impl<'cx, 'tcx> VerifyBoundCx<'cx, 'tcx> {\n                 param_bounds.push(VerifyBound::OutlivedBy(region));\n             } else {\n                 // This is `for<'a> T: 'a`. This means that `T` outlives everything! All done here.\n+                debug!(\"found that {param_ty:?} outlives any lifetime, returning empty vector\");\n                 return VerifyBound::AllBounds(vec![]);\n             }\n         }\n \n         // Add in the default bound of fn body that applies to all in\n         // scope type parameters:\n         if let Some(r) = self.implicit_region_bound {\n+            debug!(\"adding implicit region bound of {r:?}\");\n             param_bounds.push(VerifyBound::OutlivedBy(r));\n         }\n "}, {"sha": "8631ee91fa456c280b9b01eb80339c1565e20519", "filename": "compiler/rustc_middle/src/ty/generics.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_middle%2Fsrc%2Fty%2Fgenerics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_middle%2Fsrc%2Fty%2Fgenerics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fty%2Fgenerics.rs?ref=0a1c816dcd8cd1c215162cf0043637bc4767c88a", "patch": "@@ -328,6 +328,7 @@ impl<'tcx> GenericPredicates<'tcx> {\n         }\n     }\n \n+    #[instrument(level = \"debug\", skip(self, tcx))]\n     fn instantiate_into(\n         &self,\n         tcx: TyCtxt<'tcx>,"}, {"sha": "3bb8c0bb48c5f3b00771355529f517a7686296b0", "filename": "compiler/rustc_passes/src/hir_id_validator.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_passes%2Fsrc%2Fhir_id_validator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_passes%2Fsrc%2Fhir_id_validator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Fhir_id_validator.rs?ref=0a1c816dcd8cd1c215162cf0043637bc4767c88a", "patch": "@@ -103,7 +103,7 @@ impl<'a, 'hir> HirIdValidator<'a, 'hir> {\n             self.error(|| {\n                 format!(\n                     \"ItemLocalIds not assigned densely in {}. \\\n-                Max ItemLocalId = {}, missing IDs = {:?}; seens IDs = {:?}\",\n+                Max ItemLocalId = {}, missing IDs = {:#?}; seens IDs = {:#?}\",\n                     self.hir_map.def_path(owner).to_string_no_crate_verbose(),\n                     max,\n                     missing_items,"}, {"sha": "101679aa6dc93fade0f481b74e1cd03dff34f7dd", "filename": "compiler/rustc_resolve/src/late/lifetimes.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_resolve%2Fsrc%2Flate%2Flifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_resolve%2Fsrc%2Flate%2Flifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Flate%2Flifetimes.rs?ref=0a1c816dcd8cd1c215162cf0043637bc4767c88a", "patch": "@@ -525,6 +525,7 @@ impl<'a, 'tcx> Visitor<'tcx> for LifetimeContext<'a, 'tcx> {\n         }\n     }\n \n+    #[instrument(level = \"debug\", skip(self))]\n     fn visit_item(&mut self, item: &'tcx hir::Item<'tcx>) {\n         match &item.kind {\n             hir::ItemKind::Impl(hir::Impl { of_trait, .. }) => {\n@@ -839,6 +840,7 @@ impl<'a, 'tcx> Visitor<'tcx> for LifetimeContext<'a, 'tcx> {\n         }\n     }\n \n+    #[instrument(level = \"debug\", skip(self))]\n     fn visit_trait_item(&mut self, trait_item: &'tcx hir::TraitItem<'tcx>) {\n         use self::hir::TraitItemKind::*;\n         match trait_item.kind {\n@@ -888,6 +890,7 @@ impl<'a, 'tcx> Visitor<'tcx> for LifetimeContext<'a, 'tcx> {\n         }\n     }\n \n+    #[instrument(level = \"debug\", skip(self))]\n     fn visit_impl_item(&mut self, impl_item: &'tcx hir::ImplItem<'tcx>) {\n         use self::hir::ImplItemKind::*;\n         match impl_item.kind {"}, {"sha": "9a571837e9f5a04521b7aeaa9553af7d18e41003", "filename": "compiler/rustc_trait_selection/src/traits/wf.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fwf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fwf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_trait_selection%2Fsrc%2Ftraits%2Fwf.rs?ref=0a1c816dcd8cd1c215162cf0043637bc4767c88a", "patch": "@@ -434,6 +434,7 @@ impl<'tcx> WfPredicates<'tcx> {\n     }\n \n     /// Pushes all the predicates needed to validate that `ty` is WF into `out`.\n+    #[instrument(level = \"debug\", skip(self))]\n     fn compute(&mut self, arg: GenericArg<'tcx>) {\n         let mut walker = arg.walk();\n         let param_env = self.param_env;\n@@ -488,6 +489,8 @@ impl<'tcx> WfPredicates<'tcx> {\n                 }\n             };\n \n+            debug!(\"wf bounds for ty={:?} ty.kind={:#?}\", ty, ty.kind());\n+\n             match *ty.kind() {\n                 ty::Bool\n                 | ty::Char"}, {"sha": "801063583e633e42928ee7b42e1ab92092d4bf19", "filename": "compiler/rustc_typeck/src/astconv/mod.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_typeck%2Fsrc%2Fastconv%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_typeck%2Fsrc%2Fastconv%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fastconv%2Fmod.rs?ref=0a1c816dcd8cd1c215162cf0043637bc4767c88a", "patch": "@@ -2697,6 +2697,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n         result_ty\n     }\n \n+    #[instrument(level = \"debug\", skip(self), ret)]\n     fn impl_trait_ty_to_ty(\n         &self,\n         def_id: DefId,\n@@ -2745,9 +2746,7 @@ impl<'o, 'tcx> dyn AstConv<'tcx> + 'o {\n         });\n         debug!(\"impl_trait_ty_to_ty: substs={:?}\", substs);\n \n-        let ty = tcx.mk_opaque(def_id, substs);\n-        debug!(\"impl_trait_ty_to_ty: {}\", ty);\n-        ty\n+        tcx.mk_opaque(def_id, substs)\n     }\n \n     pub fn ty_of_arg(&self, ty: &hir::Ty<'_>, expected_ty: Option<Ty<'tcx>>) -> Ty<'tcx> {"}, {"sha": "e70f728d7dcce3db1bdff7e48aa5e20b8be200a5", "filename": "compiler/rustc_typeck/src/collect.rs", "status": "modified", "additions": 12, "deletions": 9, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcollect.rs?ref=0a1c816dcd8cd1c215162cf0043637bc4767c88a", "patch": "@@ -573,6 +573,7 @@ fn get_new_lifetime_name<'tcx>(\n \n /// Returns the predicates defined on `item_def_id` of the form\n /// `X: Foo` where `X` is the type parameter `def_id`.\n+#[instrument(level = \"trace\", skip(tcx))]\n fn type_param_predicates(\n     tcx: TyCtxt<'_>,\n     (item_def_id, def_id, assoc_name): (DefId, LocalDefId, Ident),\n@@ -679,7 +680,7 @@ impl<'tcx> ItemCtxt<'tcx> {\n         assoc_name: Option<Ident>,\n     ) -> Vec<(ty::Predicate<'tcx>, Span)> {\n         let param_def_id = self.tcx.hir().local_def_id(param_id).to_def_id();\n-        debug!(?param_def_id);\n+        trace!(?param_def_id);\n         ast_generics\n             .predicates\n             .iter()\n@@ -708,9 +709,8 @@ impl<'tcx> ItemCtxt<'tcx> {\n             .collect()\n     }\n \n+    #[instrument(level = \"trace\", skip(self))]\n     fn bound_defines_assoc_item(&self, b: &hir::GenericBound<'_>, assoc_name: Ident) -> bool {\n-        debug!(\"bound_defines_assoc_item(b={:?}, assoc_name={:?})\", b, assoc_name);\n-\n         match b {\n             hir::GenericBound::Trait(poly_trait_ref, _) => {\n                 let trait_ref = &poly_trait_ref.trait_ref;\n@@ -2105,11 +2105,10 @@ fn predicates_of(tcx: TyCtxt<'_>, def_id: DefId) -> ty::GenericPredicates<'_> {\n \n /// Returns a list of user-specified type predicates for the definition with ID `def_id`.\n /// N.B., this does not include any implied/inferred constraints.\n+#[instrument(level = \"trace\", skip(tcx), ret)]\n fn gather_explicit_predicates_of(tcx: TyCtxt<'_>, def_id: DefId) -> ty::GenericPredicates<'_> {\n     use rustc_hir::*;\n \n-    debug!(\"explicit_predicates_of(def_id={:?})\", def_id);\n-\n     let hir_id = tcx.hir().local_def_id_to_hir_id(def_id.expect_local());\n     let node = tcx.hir().get(hir_id);\n \n@@ -2224,6 +2223,9 @@ fn gather_explicit_predicates_of(tcx: TyCtxt<'_>, def_id: DefId) -> ty::GenericP\n         + has_own_self as u32\n         + early_bound_lifetimes_from_generics(tcx, ast_generics).count() as u32;\n \n+    trace!(?predicates);\n+    trace!(?ast_generics);\n+\n     // Collect the predicates that were written inline by the user on each\n     // type parameter (e.g., `<T: Foo>`).\n     for param in ast_generics.params {\n@@ -2244,7 +2246,9 @@ fn gather_explicit_predicates_of(tcx: TyCtxt<'_>, def_id: DefId) -> ty::GenericP\n                     Some((param.hir_id, ast_generics.predicates)),\n                     param.span,\n                 );\n+                trace!(?bounds);\n                 predicates.extend(bounds.predicates(tcx, param_ty));\n+                trace!(?predicates);\n             }\n             GenericParamKind::Const { .. } => {\n                 // Bounds on const parameters are currently not possible.\n@@ -2253,6 +2257,7 @@ fn gather_explicit_predicates_of(tcx: TyCtxt<'_>, def_id: DefId) -> ty::GenericP\n         }\n     }\n \n+    trace!(?predicates);\n     // Add in the bounds that appear in the where-clause.\n     for predicate in ast_generics.predicates {\n         match predicate {\n@@ -2338,12 +2343,10 @@ fn gather_explicit_predicates_of(tcx: TyCtxt<'_>, def_id: DefId) -> ty::GenericP\n         );\n     }\n \n-    let result = ty::GenericPredicates {\n+    ty::GenericPredicates {\n         parent: generics.parent,\n         predicates: tcx.arena.alloc_from_iter(predicates),\n-    };\n-    debug!(\"explicit_predicates_of(def_id={:?}) = {:?}\", def_id, result);\n-    result\n+    }\n }\n \n fn const_evaluatable_predicates_of<'tcx>("}, {"sha": "318e8f581f7c8b42f711887229ff2133ebfe058b", "filename": "compiler/rustc_typeck/src/collect/item_bounds.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_typeck%2Fsrc%2Fcollect%2Fitem_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0a1c816dcd8cd1c215162cf0043637bc4767c88a/compiler%2Frustc_typeck%2Fsrc%2Fcollect%2Fitem_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcollect%2Fitem_bounds.rs?ref=0a1c816dcd8cd1c215162cf0043637bc4767c88a", "patch": "@@ -53,6 +53,7 @@ fn associated_type_bounds<'tcx>(\n /// impl trait it isn't possible to write a suitable predicate on the\n /// containing function and for type-alias impl trait we don't have a backwards\n /// compatibility issue.\n+#[instrument(level = \"trace\", skip(tcx), ret)]\n fn opaque_type_bounds<'tcx>(\n     tcx: TyCtxt<'tcx>,\n     opaque_def_id: DefId,\n@@ -67,6 +68,8 @@ fn opaque_type_bounds<'tcx>(\n         let mut bounds = <dyn AstConv<'_>>::compute_bounds(&icx, item_ty, ast_bounds);\n         // Opaque types are implicitly sized unless a `?Sized` bound is found\n         <dyn AstConv<'_>>::add_implicitly_sized(&icx, &mut bounds, ast_bounds, None, span);\n+        debug!(?bounds);\n+\n         tcx.arena.alloc_from_iter(bounds.predicates(tcx, item_ty))\n     })\n }"}]}