{"sha": "25537d294cb7a3e01d2329a7d07b469d734fc829", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI1NTM3ZDI5NGNiN2EzZTAxZDIzMjlhN2QwN2I0NjlkNzM0ZmM4Mjk=", "commit": {"author": {"name": "Seivan Heidari", "email": "seivan.heidari@icloud.com", "date": "2019-12-23T23:04:36Z"}, "committer": {"name": "Seivan Heidari", "email": "seivan.heidari@icloud.com", "date": "2019-12-23T23:04:36Z"}, "message": "Fix https://github.com/rust-analyzer/rust-analyzer/pull/2061#discussion_r348716036\nFix https://github.com/rust-analyzer/rust-analyzer/pull/2061/files/68a5ff050faf514e9d122212a66703ca8ce66ab7#r361019340", "tree": {"sha": "6d08e6c48ddf4bf8a3168daee0d0d31c137b8785", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6d08e6c48ddf4bf8a3168daee0d0d31c137b8785"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/25537d294cb7a3e01d2329a7d07b469d734fc829", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/25537d294cb7a3e01d2329a7d07b469d734fc829", "html_url": "https://github.com/rust-lang/rust/commit/25537d294cb7a3e01d2329a7d07b469d734fc829", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/25537d294cb7a3e01d2329a7d07b469d734fc829/comments", "author": {"login": "seivan", "id": 55424, "node_id": "MDQ6VXNlcjU1NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/55424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seivan", "html_url": "https://github.com/seivan", "followers_url": "https://api.github.com/users/seivan/followers", "following_url": "https://api.github.com/users/seivan/following{/other_user}", "gists_url": "https://api.github.com/users/seivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/seivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seivan/subscriptions", "organizations_url": "https://api.github.com/users/seivan/orgs", "repos_url": "https://api.github.com/users/seivan/repos", "events_url": "https://api.github.com/users/seivan/events{/privacy}", "received_events_url": "https://api.github.com/users/seivan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "seivan", "id": 55424, "node_id": "MDQ6VXNlcjU1NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/55424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/seivan", "html_url": "https://github.com/seivan", "followers_url": "https://api.github.com/users/seivan/followers", "following_url": "https://api.github.com/users/seivan/following{/other_user}", "gists_url": "https://api.github.com/users/seivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/seivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/seivan/subscriptions", "organizations_url": "https://api.github.com/users/seivan/orgs", "repos_url": "https://api.github.com/users/seivan/repos", "events_url": "https://api.github.com/users/seivan/events{/privacy}", "received_events_url": "https://api.github.com/users/seivan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b21d9337d9200e2cfdc90b386591c72c302dc03e", "url": "https://api.github.com/repos/rust-lang/rust/commits/b21d9337d9200e2cfdc90b386591c72c302dc03e", "html_url": "https://github.com/rust-lang/rust/commit/b21d9337d9200e2cfdc90b386591c72c302dc03e"}], "stats": {"total": 36, "additions": 20, "deletions": 16}, "files": [{"sha": "67081f3fdde827704068d0ea06c499b919380c18", "filename": "editors/code/package-lock.json", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/25537d294cb7a3e01d2329a7d07b469d734fc829/editors%2Fcode%2Fpackage-lock.json", "raw_url": "https://github.com/rust-lang/rust/raw/25537d294cb7a3e01d2329a7d07b469d734fc829/editors%2Fcode%2Fpackage-lock.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage-lock.json?ref=25537d294cb7a3e01d2329a7d07b469d734fc829", "patch": "@@ -750,6 +750,11 @@\n                 \"esprima\": \"^4.0.0\"\n             }\n         },\n+        \"jsonc-parser\": {\n+            \"version\": \"2.2.0\",\n+            \"resolved\": \"https://registry.npmjs.org/jsonc-parser/-/jsonc-parser-2.2.0.tgz\",\n+            \"integrity\": \"sha512-4fLQxW1j/5fWj6p78vAlAafoCKtuBm6ghv+Ij5W2DrDx0qE+ZdEl2c6Ko1mgJNF5ftX1iEWQQ4Ap7+3GlhjkOA==\"\n+        },\n         \"lines-and-columns\": {\n             \"version\": \"1.1.6\",\n             \"resolved\": \"https://registry.npmjs.org/lines-and-columns/-/lines-and-columns-1.1.6.tgz\","}, {"sha": "4e224a54c11652056989fb2dbf97d5fb70e3d6c4", "filename": "editors/code/src/highlighting.ts", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/25537d294cb7a3e01d2329a7d07b469d734fc829/editors%2Fcode%2Fsrc%2Fhighlighting.ts", "raw_url": "https://github.com/rust-lang/rust/raw/25537d294cb7a3e01d2329a7d07b469d734fc829/editors%2Fcode%2Fsrc%2Fhighlighting.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fhighlighting.ts?ref=25537d294cb7a3e01d2329a7d07b469d734fc829", "patch": "@@ -26,7 +26,7 @@ function fancify(seed: string, shade: 'light' | 'dark') {\n }\n \n function createDecorationFromTextmate(\n-    themeStyle: scopes.TextMateRuleSettings\n+    themeStyle: scopes.TextMateRuleSettings,\n ): vscode.TextEditorDecorationType {\n     const decorationOptions: vscode.DecorationRenderOptions = {};\n     decorationOptions.rangeBehavior = vscode.DecorationRangeBehavior.OpenOpen;\n@@ -84,7 +84,7 @@ export class Highlighter {\n                 const color = new vscode.ThemeColor(fallBackTag);\n                 const decor = vscode.window.createTextEditorDecorationType({\n                     color,\n-                    textDecoration\n+                    textDecoration,\n                 });\n                 return [tag, decor];\n             }"}, {"sha": "cb250b853ad0ecf50e721fdd441a4a73ea7a64e0", "filename": "editors/code/src/scopes.ts", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/25537d294cb7a3e01d2329a7d07b469d734fc829/editors%2Fcode%2Fsrc%2Fscopes.ts", "raw_url": "https://github.com/rust-lang/rust/raw/25537d294cb7a3e01d2329a7d07b469d734fc829/editors%2Fcode%2Fsrc%2Fscopes.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fscopes.ts?ref=25537d294cb7a3e01d2329a7d07b469d734fc829", "patch": "@@ -58,10 +58,10 @@ function loadThemeNamed(themeName: string) {\n             return extension.packageJSON.contributes.themes\n                 .filter(\n                     (element: any) =>\n-                        (element.id || element.label) === themeName\n+                        (element.id || element.label) === themeName,\n                 )\n                 .map((element: any) =>\n-                    path.join(extension.extensionPath, element.path)\n+                    path.join(extension.extensionPath, element.path),\n                 )\n                 .concat(list);\n         }, Array<string>());\n@@ -71,7 +71,7 @@ function loadThemeNamed(themeName: string) {\n     const tokenColorCustomizations: [any] = [\n         vscode.workspace\n             .getConfiguration('editor')\n-            .get('tokenColorCustomizations')\n+            .get('tokenColorCustomizations'),\n     ];\n \n     tokenColorCustomizations\n@@ -100,7 +100,7 @@ function loadThemeFile(themePath: string) {\n \n function mergeRuleSettings(\n     defaultSetting: TextMateRuleSettings | undefined,\n-    override: TextMateRuleSettings\n+    override: TextMateRuleSettings,\n ): TextMateRuleSettings {\n     if (defaultSetting === undefined) {\n         return override;\n@@ -116,7 +116,7 @@ function mergeRuleSettings(\n \n function updateRules(\n     scope: string,\n-    updatedSettings: TextMateRuleSettings\n+    updatedSettings: TextMateRuleSettings,\n ): void {\n     [rules.get(scope)]\n         .map(settings => mergeRuleSettings(settings, updatedSettings))"}, {"sha": "e738fa2396d6c9f7fe22a3dbaca3147fcc1d9e0d", "filename": "editors/code/src/scopes_mapper.ts", "status": "modified", "additions": 8, "deletions": 9, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/25537d294cb7a3e01d2329a7d07b469d734fc829/editors%2Fcode%2Fsrc%2Fscopes_mapper.ts", "raw_url": "https://github.com/rust-lang/rust/raw/25537d294cb7a3e01d2329a7d07b469d734fc829/editors%2Fcode%2Fsrc%2Fscopes_mapper.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fscopes_mapper.ts?ref=25537d294cb7a3e01d2329a7d07b469d734fc829", "patch": "@@ -10,15 +10,15 @@ const defaultMapping = new Map<string, string[]>([\n             'comment',\n             'comment.block',\n             'comment.line',\n-            'comment.block.documentation'\n-        ]\n+            'comment.block.documentation',\n+        ],\n     ],\n     ['string', ['string']],\n     ['keyword', ['keyword']],\n     ['keyword.control', ['keyword.control', 'keyword', 'keyword.other']],\n     [\n         'keyword.unsafe',\n-        ['storage.modifier', 'keyword.other', 'keyword.control', 'keyword']\n+        ['storage.modifier', 'keyword.other', 'keyword.control', 'keyword'],\n     ],\n     ['function', ['entity.name.function']],\n     ['parameter', ['variable.parameter']],\n@@ -28,7 +28,7 @@ const defaultMapping = new Map<string, string[]>([\n     ['text', ['string', 'string.quoted', 'string.regexp']],\n     ['attribute', ['keyword']],\n     ['literal', ['string', 'string.quoted', 'string.regexp']],\n-    ['macro', ['support.other']],\n+    ['macro', ['entity.name.function', 'keyword.other', 'entity.name.macro']],\n     ['variable', ['variable']],\n     ['variable.mut', ['variable', 'storage.modifier']],\n     [\n@@ -37,20 +37,19 @@ const defaultMapping = new Map<string, string[]>([\n             'variable.object.property',\n             'meta.field.declaration',\n             'meta.definition.property',\n-            'variable.other'\n-        ]\n+            'variable.other',\n+        ],\n     ],\n-    ['module', ['entity.name.section', 'entity.other']]\n+    ['module', ['entity.name.section', 'entity.other']],\n ]);\n \n-// Temporary exported for debugging for now.\n export function find(scope: string): string[] {\n     return mappings.get(scope) || [];\n }\n \n export function toRule(\n     scope: string,\n-    intoRule: (scope: string) => TextMateRuleSettings | undefined\n+    intoRule: (scope: string) => TextMateRuleSettings | undefined,\n ): TextMateRuleSettings | undefined {\n     return find(scope)\n         .map(intoRule)"}]}