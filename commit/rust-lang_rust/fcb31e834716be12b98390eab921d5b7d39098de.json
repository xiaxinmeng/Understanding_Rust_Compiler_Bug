{"sha": "fcb31e834716be12b98390eab921d5b7d39098de", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZjYjMxZTgzNDcxNmJlMTJiOTgzOTBlYWI5MjFkNWI3ZDM5MDk4ZGU=", "commit": {"author": {"name": "Erick Tryzelaar", "email": "erick.tryzelaar@gmail.com", "date": "2014-12-01T04:08:06Z"}, "committer": {"name": "Erick Tryzelaar", "email": "erick.tryzelaar@gmail.com", "date": "2014-12-03T22:40:33Z"}, "message": "rustup: rename TMP_DIR to CFG_TMP_DIR", "tree": {"sha": "49b3e7e507fe5d78a9802dee0cf99415634f74ef", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/49b3e7e507fe5d78a9802dee0cf99415634f74ef"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fcb31e834716be12b98390eab921d5b7d39098de", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fcb31e834716be12b98390eab921d5b7d39098de", "html_url": "https://github.com/rust-lang/rust/commit/fcb31e834716be12b98390eab921d5b7d39098de", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fcb31e834716be12b98390eab921d5b7d39098de/comments", "author": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "committer": {"login": "erickt", "id": 84711, "node_id": "MDQ6VXNlcjg0NzEx", "avatar_url": "https://avatars.githubusercontent.com/u/84711?v=4", "gravatar_id": "", "url": "https://api.github.com/users/erickt", "html_url": "https://github.com/erickt", "followers_url": "https://api.github.com/users/erickt/followers", "following_url": "https://api.github.com/users/erickt/following{/other_user}", "gists_url": "https://api.github.com/users/erickt/gists{/gist_id}", "starred_url": "https://api.github.com/users/erickt/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/erickt/subscriptions", "organizations_url": "https://api.github.com/users/erickt/orgs", "repos_url": "https://api.github.com/users/erickt/repos", "events_url": "https://api.github.com/users/erickt/events{/privacy}", "received_events_url": "https://api.github.com/users/erickt/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e688eb3b4fcf4c5a22c4e69a2216d8d48a4109aa", "url": "https://api.github.com/repos/rust-lang/rust/commits/e688eb3b4fcf4c5a22c4e69a2216d8d48a4109aa", "html_url": "https://github.com/rust-lang/rust/commit/e688eb3b4fcf4c5a22c4e69a2216d8d48a4109aa"}], "stats": {"total": 32, "additions": 16, "deletions": 16}, "files": [{"sha": "a0436f23e4077d4ec927702c64edaf4fbc4340c0", "filename": "src/etc/rustup.sh", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/fcb31e834716be12b98390eab921d5b7d39098de/src%2Fetc%2Frustup.sh", "raw_url": "https://github.com/rust-lang/rust/raw/fcb31e834716be12b98390eab921d5b7d39098de/src%2Fetc%2Frustup.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Frustup.sh?ref=fcb31e834716be12b98390eab921d5b7d39098de", "patch": "@@ -389,35 +389,35 @@ esac\n \n msg \"host triple: ${HOST_TRIPLE}\"\n \n-TMP_DIR=\"./rustup-tmp-install\"\n+CFG_TMP_DIR=\"./rustup-tmp-install\"\n \n RUST_PACKAGE_NAME=rust-nightly\n RUST_PACKAGE_NAME_AND_TRIPLE=\"${RUST_PACKAGE_NAME}-${HOST_TRIPLE}\"\n RUST_TARBALL_NAME=\"${RUST_PACKAGE_NAME_AND_TRIPLE}.tar.gz\"\n RUST_REMOTE_TARBALL=\"https://static.rust-lang.org/dist/${RUST_TARBALL_NAME}\"\n-RUST_LOCAL_TARBALL=\"${TMP_DIR}/${RUST_TARBALL_NAME}\"\n-RUST_LOCAL_INSTALL_DIR=\"${TMP_DIR}/${RUST_PACKAGE_NAME_AND_TRIPLE}\"\n+RUST_LOCAL_TARBALL=\"${CFG_TMP_DIR}/${RUST_TARBALL_NAME}\"\n+RUST_LOCAL_INSTALL_DIR=\"${CFG_TMP_DIR}/${RUST_PACKAGE_NAME_AND_TRIPLE}\"\n RUST_LOCAL_INSTALL_SCRIPT=\"${RUST_LOCAL_INSTALL_DIR}/install.sh\"\n \n CARGO_PACKAGE_NAME=cargo-nightly\n CARGO_PACKAGE_NAME_AND_TRIPLE=\"${CARGO_PACKAGE_NAME}-${HOST_TRIPLE}\"\n CARGO_TARBALL_NAME=\"${CARGO_PACKAGE_NAME_AND_TRIPLE}.tar.gz\"\n CARGO_REMOTE_TARBALL=\"https://static.rust-lang.org/cargo-dist/${CARGO_TARBALL_NAME}\"\n-CARGO_LOCAL_TARBALL=\"${TMP_DIR}/${CARGO_TARBALL_NAME}\"\n-CARGO_LOCAL_INSTALL_DIR=\"${TMP_DIR}/${CARGO_PACKAGE_NAME_AND_TRIPLE}\"\n+CARGO_LOCAL_TARBALL=\"${CFG_TMP_DIR}/${CARGO_TARBALL_NAME}\"\n+CARGO_LOCAL_INSTALL_DIR=\"${CFG_TMP_DIR}/${CARGO_PACKAGE_NAME_AND_TRIPLE}\"\n CARGO_LOCAL_INSTALL_SCRIPT=\"${CARGO_LOCAL_INSTALL_DIR}/install.sh\"\n \n-rm -Rf \"${TMP_DIR}\"\n+rm -Rf \"${CFG_TMP_DIR}\"\n need_ok \"failed to remove temporary installation directory\"\n \n-mkdir -p \"${TMP_DIR}\"\n+mkdir -p \"${CFG_TMP_DIR}\"\n need_ok \"failed to create create temporary installation directory\"\n \n msg \"downloading rust installer\"\n \"${CFG_CURL}\" \"${RUST_REMOTE_TARBALL}\" > \"${RUST_LOCAL_TARBALL}\"\n if [ $? -ne 0 ]\n then\n-        rm -Rf \"${TMP_DIR}\"\n+        rm -Rf \"${CFG_TMP_DIR}\"\n         err \"failed to download installer\"\n fi\n \n@@ -426,16 +426,16 @@ if [ -z \"${CFG_DISABLE_CARGO}\" ]; then\n     \"${CFG_CURL}\" \"${CARGO_REMOTE_TARBALL}\" > \"${CARGO_LOCAL_TARBALL}\"\n     if [ $? -ne 0 ]\n     then\n-            rm -Rf \"${TMP_DIR}\"\n+            rm -Rf \"${CFG_TMP_DIR}\"\n             err \"failed to download cargo installer\"\n     fi\n fi\n \n \n-(cd \"${TMP_DIR}\" && ${CFG_TAR} xzf \"${RUST_TARBALL_NAME}\")\n+(cd \"${CFG_TMP_DIR}\" && ${CFG_TAR} xzf \"${RUST_TARBALL_NAME}\")\n if [ $? -ne 0 ]\n then\n-        rm -Rf \"${TMP_DIR}\"\n+        rm -Rf \"${CFG_TMP_DIR}\"\n         err \"failed to unpack installer\"\n fi\n \n@@ -454,25 +454,25 @@ fi\n sh \"${RUST_LOCAL_INSTALL_SCRIPT}\" \"${MAYBE_UNINSTALL}\" \"${MAYBE_PREFIX}\"\n if [ $? -ne 0 ]\n then\n-        rm -Rf \"${TMP_DIR}\"\n+        rm -Rf \"${CFG_TMP_DIR}\"\n         err \"failed to install Rust\"\n fi\n \n if [ -z \"${CFG_DISABLE_CARGO}\" ]; then\n-    (cd \"${TMP_DIR}\" && ${CFG_TAR} xzf \"${CARGO_TARBALL_NAME}\")\n+    (cd \"${CFG_TMP_DIR}\" && ${CFG_TAR} xzf \"${CARGO_TARBALL_NAME}\")\n     if [ $? -ne 0 ]\n     then\n-            rm -Rf \"${TMP_DIR}\"\n+            rm -Rf \"${CFG_TMP_DIR}\"\n             err \"failed to unpack cargo installer\"\n     fi\n \n     sh \"${CARGO_LOCAL_INSTALL_SCRIPT}\" \"${MAYBE_UNINSTALL}\" \"${MAYBE_PREFIX}\"\n     if [ $? -ne 0 ]\n     then\n-            rm -Rf \"${TMP_DIR}\"\n+            rm -Rf \"${CFG_TMP_DIR}\"\n             err \"failed to install Cargo\"\n     fi\n fi\n \n-rm -Rf \"${TMP_DIR}\"\n+rm -Rf \"${CFG_TMP_DIR}\"\n need_ok \"couldn't rm temporary installation directory\""}]}