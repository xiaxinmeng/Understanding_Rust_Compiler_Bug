{"sha": "d8d8669439bd9e636b9209733c24c32063cc611d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ4ZDg2Njk0MzliZDllNjM2YjkyMDk3MzNjMjRjMzIwNjNjYzYxMWQ=", "commit": {"author": {"name": "pierzchalski", "email": "e.a.pierzchalski@gmail.com", "date": "2016-04-14T03:57:01Z"}, "committer": {"name": "pierzchalski", "email": "e.a.pierzchalski@gmail.com", "date": "2016-04-14T03:57:01Z"}, "message": "Delegate whether to print docblocks to 'document'\n\nAdd test to check this resolves #24838 and #26871.", "tree": {"sha": "81d00b6ac28dcd96696b2617064bcd93ed3b15b8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/81d00b6ac28dcd96696b2617064bcd93ed3b15b8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d8d8669439bd9e636b9209733c24c32063cc611d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d8d8669439bd9e636b9209733c24c32063cc611d", "html_url": "https://github.com/rust-lang/rust/commit/d8d8669439bd9e636b9209733c24c32063cc611d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d8d8669439bd9e636b9209733c24c32063cc611d/comments", "author": {"login": "pierzchalski", "id": 1725294, "node_id": "MDQ6VXNlcjE3MjUyOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1725294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pierzchalski", "html_url": "https://github.com/pierzchalski", "followers_url": "https://api.github.com/users/pierzchalski/followers", "following_url": "https://api.github.com/users/pierzchalski/following{/other_user}", "gists_url": "https://api.github.com/users/pierzchalski/gists{/gist_id}", "starred_url": "https://api.github.com/users/pierzchalski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pierzchalski/subscriptions", "organizations_url": "https://api.github.com/users/pierzchalski/orgs", "repos_url": "https://api.github.com/users/pierzchalski/repos", "events_url": "https://api.github.com/users/pierzchalski/events{/privacy}", "received_events_url": "https://api.github.com/users/pierzchalski/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pierzchalski", "id": 1725294, "node_id": "MDQ6VXNlcjE3MjUyOTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1725294?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pierzchalski", "html_url": "https://github.com/pierzchalski", "followers_url": "https://api.github.com/users/pierzchalski/followers", "following_url": "https://api.github.com/users/pierzchalski/following{/other_user}", "gists_url": "https://api.github.com/users/pierzchalski/gists{/gist_id}", "starred_url": "https://api.github.com/users/pierzchalski/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pierzchalski/subscriptions", "organizations_url": "https://api.github.com/users/pierzchalski/orgs", "repos_url": "https://api.github.com/users/pierzchalski/repos", "events_url": "https://api.github.com/users/pierzchalski/events{/privacy}", "received_events_url": "https://api.github.com/users/pierzchalski/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2b6020723115e77ebe94f228c0c9b977b9199c6e", "url": "https://api.github.com/repos/rust-lang/rust/commits/2b6020723115e77ebe94f228c0c9b977b9199c6e", "html_url": "https://github.com/rust-lang/rust/commit/2b6020723115e77ebe94f228c0c9b977b9199c6e"}], "stats": {"total": 35, "additions": 30, "deletions": 5}, "files": [{"sha": "58901dcb380652da5ec2d667c0d7256ad4a51543", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/d8d8669439bd9e636b9209733c24c32063cc611d/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8d8669439bd9e636b9209733c24c32063cc611d/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=d8d8669439bd9e636b9209733c24c32063cc611d", "patch": "@@ -2540,11 +2540,10 @@ fn render_impl(w: &mut fmt::Formatter, cx: &Context, i: &Impl, link: AssocItemLi\n             _ => panic!(\"can't make docs for trait item with name {:?}\", item.name)\n         }\n \n-        match link {\n-            AssocItemLink::Anchor if !is_static || render_static => {\n-                document(w, cx, item)\n-            },\n-            _ => Ok(()),\n+        if !is_static || render_static {\n+            document(w, cx, item)\n+        } else {\n+            Ok(())\n         }\n     }\n "}, {"sha": "540cf58d38ebeabdfd5f4cff98439c09b60bcbe3", "filename": "src/test/rustdoc/manual_impl.rs", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/d8d8669439bd9e636b9209733c24c32063cc611d/src%2Ftest%2Frustdoc%2Fmanual_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8d8669439bd9e636b9209733c24c32063cc611d/src%2Ftest%2Frustdoc%2Fmanual_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fmanual_impl.rs?ref=d8d8669439bd9e636b9209733c24c32063cc611d", "patch": "@@ -0,0 +1,26 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+pub trait T {\n+    fn a_method(&self) -> usize;\n+}\n+\n+// @has manual_impl/struct.S.html '//*[@class=\"trait\"]' 'T'\n+// @has - '//*[@class=\"docblock\"]' 'Docs associated with the trait implementation.'\n+// @has - '//*[@class=\"docblock\"]' 'Docs associated with the trait method implementation.'\n+pub struct S(usize);\n+\n+/// Docs associated with the trait implementation.\n+impl T for S {\n+    /// Docs associated with the trait method implementation.\n+    fn a_method(&self) -> usize {\n+        self.0\n+    }\n+}"}]}