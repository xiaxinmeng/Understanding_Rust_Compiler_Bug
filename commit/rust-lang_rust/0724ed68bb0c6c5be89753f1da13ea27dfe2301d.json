{"sha": "0724ed68bb0c6c5be89753f1da13ea27dfe2301d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA3MjRlZDY4YmIwYzZjNWJlODk3NTNmMWRhMTNlYTI3ZGZlMjMwMWQ=", "commit": {"author": {"name": "Christian Poveda", "email": "christianpoveda@protonmail.com", "date": "2018-09-28T07:07:44Z"}, "committer": {"name": "Christian Poveda", "email": "christianpoveda@protonmail.com", "date": "2018-09-28T13:55:18Z"}, "message": "Add DIST_REQUIRE_ALL_TOOLS to CI scripts", "tree": {"sha": "d59c4af359d14154ff724a2a9885670cb757423f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d59c4af359d14154ff724a2a9885670cb757423f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0724ed68bb0c6c5be89753f1da13ea27dfe2301d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0724ed68bb0c6c5be89753f1da13ea27dfe2301d", "html_url": "https://github.com/rust-lang/rust/commit/0724ed68bb0c6c5be89753f1da13ea27dfe2301d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0724ed68bb0c6c5be89753f1da13ea27dfe2301d/comments", "author": {"login": "pvdrz", "id": 31802960, "node_id": "MDQ6VXNlcjMxODAyOTYw", "avatar_url": "https://avatars.githubusercontent.com/u/31802960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvdrz", "html_url": "https://github.com/pvdrz", "followers_url": "https://api.github.com/users/pvdrz/followers", "following_url": "https://api.github.com/users/pvdrz/following{/other_user}", "gists_url": "https://api.github.com/users/pvdrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvdrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvdrz/subscriptions", "organizations_url": "https://api.github.com/users/pvdrz/orgs", "repos_url": "https://api.github.com/users/pvdrz/repos", "events_url": "https://api.github.com/users/pvdrz/events{/privacy}", "received_events_url": "https://api.github.com/users/pvdrz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pvdrz", "id": 31802960, "node_id": "MDQ6VXNlcjMxODAyOTYw", "avatar_url": "https://avatars.githubusercontent.com/u/31802960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvdrz", "html_url": "https://github.com/pvdrz", "followers_url": "https://api.github.com/users/pvdrz/followers", "following_url": "https://api.github.com/users/pvdrz/following{/other_user}", "gists_url": "https://api.github.com/users/pvdrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvdrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvdrz/subscriptions", "organizations_url": "https://api.github.com/users/pvdrz/orgs", "repos_url": "https://api.github.com/users/pvdrz/repos", "events_url": "https://api.github.com/users/pvdrz/events{/privacy}", "received_events_url": "https://api.github.com/users/pvdrz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "53254a888b424b02b1daaedfae63acb4e3231912", "url": "https://api.github.com/repos/rust-lang/rust/commits/53254a888b424b02b1daaedfae63acb4e3231912", "html_url": "https://github.com/rust-lang/rust/commit/53254a888b424b02b1daaedfae63acb4e3231912"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "ec8060b9f56aaae8c934c60f9e11ae613306dd74", "filename": ".travis.yml", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0724ed68bb0c6c5be89753f1da13ea27dfe2301d/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/0724ed68bb0c6c5be89753f1da13ea27dfe2301d/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=0724ed68bb0c6c5be89753f1da13ea27dfe2301d", "patch": "@@ -94,6 +94,7 @@ matrix:\n         MACOSX_DEPLOYMENT_TARGET=10.7\n         NO_LLVM_ASSERTIONS=1\n         NO_DEBUG_ASSERTIONS=1\n+        DIST_REQUIRE_ALL_TOOLS=1\n         CI_JOB_NAME=dist-i686-apple\n       os: osx\n       osx_image: xcode9.3-moar\n@@ -108,6 +109,7 @@ matrix:\n         MACOSX_DEPLOYMENT_TARGET=10.7\n         NO_LLVM_ASSERTIONS=1\n         NO_DEBUG_ASSERTIONS=1\n+        DIST_REQUIRE_ALL_TOOLS=1\n         CI_JOB_NAME=dist-x86_64-apple\n       os: osx\n       osx_image: xcode9.3-moar"}, {"sha": "04951454c29e1316fa7a08fcd5a5cbf3cc9c760d", "filename": "appveyor.yml", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0724ed68bb0c6c5be89753f1da13ea27dfe2301d/appveyor.yml", "raw_url": "https://github.com/rust-lang/rust/raw/0724ed68bb0c6c5be89753f1da13ea27dfe2301d/appveyor.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/appveyor.yml?ref=0724ed68bb0c6c5be89753f1da13ea27dfe2301d", "patch": "@@ -85,6 +85,7 @@ environment:\n       --enable-full-tools\n       --enable-profiler\n     SCRIPT: python x.py dist\n+    DIST_REQUIRE_ALL_TOOLS: 1\n     DEPLOY: 1\n     CI_JOB_NAME: dist-x86_64-msvc\n   - RUST_CONFIGURE_ARGS: >\n@@ -93,6 +94,7 @@ environment:\n       --enable-full-tools\n       --enable-profiler\n     SCRIPT: python x.py dist\n+    DIST_REQUIRE_ALL_TOOLS: 1\n     DEPLOY: 1\n     CI_JOB_NAME: dist-i686-msvc\n   - MSYS_BITS: 32\n@@ -101,6 +103,7 @@ environment:\n     MINGW_URL: https://s3-us-west-1.amazonaws.com/rust-lang-ci2/rust-ci-mirror\n     MINGW_ARCHIVE: i686-6.3.0-release-posix-dwarf-rt_v5-rev2.7z\n     MINGW_DIR: mingw32\n+    DIST_REQUIRE_ALL_TOOLS: 1\n     DEPLOY: 1\n     CI_JOB_NAME: dist-i686-mingw\n   - MSYS_BITS: 64\n@@ -109,6 +112,7 @@ environment:\n     MINGW_URL: https://s3-us-west-1.amazonaws.com/rust-lang-ci2/rust-ci-mirror\n     MINGW_ARCHIVE: x86_64-6.3.0-release-posix-seh-rt_v5-rev2.7z\n     MINGW_DIR: mingw64\n+    DIST_REQUIRE_ALL_TOOLS: 1\n     DEPLOY: 1\n     CI_JOB_NAME: dist-x86_64-mingw\n "}, {"sha": "8a84e474687442ccbe9f6f2cf0de0faf4589479f", "filename": "src/ci/docker/dist-i686-linux/Dockerfile", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0724ed68bb0c6c5be89753f1da13ea27dfe2301d/src%2Fci%2Fdocker%2Fdist-i686-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/0724ed68bb0c6c5be89753f1da13ea27dfe2301d/src%2Fci%2Fdocker%2Fdist-i686-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-i686-linux%2FDockerfile?ref=0724ed68bb0c6c5be89753f1da13ea27dfe2301d", "patch": "@@ -110,3 +110,5 @@ ENV CFLAGS -mstackrealign\n # When we build cargo in this container, we don't want it to use the system\n # libcurl, instead it should compile its own.\n ENV LIBCURL_NO_PKG_CONFIG 1\n+\n+ENV DIST_REQUIRE_ALL_TOOLS 1"}, {"sha": "7e3cc10b0c10cda557cfe83b805070f4c468f399", "filename": "src/ci/docker/dist-x86_64-linux/Dockerfile", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0724ed68bb0c6c5be89753f1da13ea27dfe2301d/src%2Fci%2Fdocker%2Fdist-x86_64-linux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/0724ed68bb0c6c5be89753f1da13ea27dfe2301d/src%2Fci%2Fdocker%2Fdist-x86_64-linux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fdist-x86_64-linux%2FDockerfile?ref=0724ed68bb0c6c5be89753f1da13ea27dfe2301d", "patch": "@@ -106,3 +106,5 @@ ENV DIST_SRC 1\n # When we build cargo in this container, we don't want it to use the system\n # libcurl, instead it should compile its own.\n ENV LIBCURL_NO_PKG_CONFIG 1\n+\n+ENV DIST_REQUIRE_ALL_TOOLS 1"}]}