{"sha": "e4b913f60f109e0646f532a9b74e9dbd8ac06b1b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU0YjkxM2Y2MGYxMDllMDY0NmY1MzJhOWI3NGU5ZGJkOGFjMDZiMWI=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2014-10-23T22:25:35Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2014-10-23T22:25:35Z"}, "message": "s/vtable2/vtable", "tree": {"sha": "7f0076ffd23c44306d5fff51491a1de25f6b6265", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7f0076ffd23c44306d5fff51491a1de25f6b6265"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b", "html_url": "https://github.com/rust-lang/rust/commit/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "091b9811c83d545a56a8dea8cbf9e9a2a39caa3c", "url": "https://api.github.com/repos/rust-lang/rust/commits/091b9811c83d545a56a8dea8cbf9e9a2a39caa3c", "html_url": "https://github.com/rust-lang/rust/commit/091b9811c83d545a56a8dea8cbf9e9a2a39caa3c"}], "stats": {"total": 24, "additions": 12, "deletions": 12}, "files": [{"sha": "b768bb8f2d65a6baeb2a3823b010b12335dbae2e", "filename": "src/librustc/middle/typeck/check/method.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmethod.rs?ref=e4b913f60f109e0646f532a9b74e9dbd8ac06b1b", "patch": "@@ -88,7 +88,7 @@ use middle::ty;\n use middle::typeck::astconv::AstConv;\n use middle::typeck::check::{FnCtxt, NoPreference, PreferMutLvalue};\n use middle::typeck::check::{impl_self_ty};\n-use middle::typeck::check::vtable2::select_fcx_obligations_where_possible;\n+use middle::typeck::check::vtable::select_fcx_obligations_where_possible;\n use middle::typeck::check;\n use middle::typeck::infer;\n use middle::typeck::{MethodCall, MethodCallee};"}, {"sha": "596e30f00cd5b204a0580a06214bb51922637ddb", "filename": "src/librustc/middle/typeck/check/mod.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fmod.rs?ref=e4b913f60f109e0646f532a9b74e9dbd8ac06b1b", "patch": "@@ -139,7 +139,7 @@ use syntax::visit::Visitor;\n use syntax;\n \n pub mod _match;\n-pub mod vtable2; // New trait code\n+pub mod vtable;\n pub mod writeback;\n pub mod regionmanip;\n pub mod regionck;\n@@ -409,7 +409,7 @@ fn check_bare_fn(ccx: &CrateCtxt,\n             let fcx = check_fn(ccx, fn_ty.fn_style, id, &fn_ty.sig,\n                                decl, id, body, &inh);\n \n-            vtable2::select_all_fcx_obligations_or_error(&fcx);\n+            vtable::select_all_fcx_obligations_or_error(&fcx);\n             regionck::regionck_fn(&fcx, id, body);\n             writeback::resolve_type_vars_in_fn(&fcx, decl, body);\n         }\n@@ -1377,7 +1377,7 @@ fn check_cast(fcx: &FnCtxt,\n \n     if ty::type_is_trait(t_1) {\n         // This will be looked up later on.\n-        vtable2::check_object_cast(fcx, cast_expr, e, t_1);\n+        vtable::check_object_cast(fcx, cast_expr, e, t_1);\n         fcx.write_ty(id, t_1);\n         return\n     }\n@@ -1682,7 +1682,7 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n             ty::UnsizeVtable(ref ty_trait, self_ty) => {\n                 // If the type is `Foo+'a`, ensures that the type\n                 // being cast to `Foo+'a` implements `Foo`:\n-                vtable2::register_object_cast_obligations(self,\n+                vtable::register_object_cast_obligations(self,\n                                                           span,\n                                                           ty_trait,\n                                                           self_ty);\n@@ -2565,7 +2565,7 @@ fn check_argument_types<'a>(fcx: &FnCtxt,\n         // an \"opportunistic\" vtable resolution of any trait\n         // bounds on the call.\n         if check_blocks {\n-            vtable2::select_fcx_obligations_where_possible(fcx);\n+            vtable::select_fcx_obligations_where_possible(fcx);\n         }\n \n         // For variadic functions, we don't have a declared type for all of\n@@ -4037,7 +4037,7 @@ fn check_expr_with_unifier(fcx: &FnCtxt,\n       ast::ExprForLoop(ref pat, ref head, ref block, _) => {\n         check_expr(fcx, &**head);\n         let typ = lookup_method_for_for_loop(fcx, &**head, expr.id);\n-        vtable2::select_fcx_obligations_where_possible(fcx);\n+        vtable::select_fcx_obligations_where_possible(fcx);\n \n         let pcx = pat_ctxt {\n             fcx: fcx,\n@@ -4744,7 +4744,7 @@ pub fn check_const_with_ty(fcx: &FnCtxt,\n \n     check_expr_with_hint(fcx, e, declty);\n     demand::coerce(fcx, e.span, declty, e);\n-    vtable2::select_all_fcx_obligations_or_error(fcx);\n+    vtable::select_all_fcx_obligations_or_error(fcx);\n     regionck::regionck_expr(fcx, e);\n     writeback::resolve_type_vars_in_expr(fcx, e);\n }"}, {"sha": "7cca4f241d1e63ff4fbe10483f5259f31aae9592", "filename": "src/librustc/middle/typeck/check/regionck.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fregionck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fregionck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fregionck.rs?ref=e4b913f60f109e0646f532a9b74e9dbd8ac06b1b", "patch": "@@ -126,7 +126,7 @@ use middle::ty;\n use middle::typeck::astconv::AstConv;\n use middle::typeck::check::FnCtxt;\n use middle::typeck::check::regionmanip;\n-use middle::typeck::check::vtable2;\n+use middle::typeck::check::vtable;\n use middle::typeck::infer::resolve_and_force_all_but_regions;\n use middle::typeck::infer::resolve_type;\n use middle::typeck::infer;\n@@ -172,7 +172,7 @@ pub fn regionck_fn(fcx: &FnCtxt, id: ast::NodeId, blk: &ast::Block) {\n \n     // Region checking a fn can introduce new trait obligations,\n     // particularly around closure bounds.\n-    vtable2::select_all_fcx_obligations_or_error(fcx);\n+    vtable::select_all_fcx_obligations_or_error(fcx);\n \n     fcx.infcx().resolve_regions_and_report_errors();\n }"}, {"sha": "d557a2b713be7127a3169de9ba05facef2fe4ce4", "filename": "src/librustc/middle/typeck/check/vtable.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fvtable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fvtable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fvtable.rs?ref=e4b913f60f109e0646f532a9b74e9dbd8ac06b1b", "previous_filename": "src/librustc/middle/typeck/check/vtable2.rs"}, {"sha": "3c594fbf2d3661ea4277cdfe79dd34d41092b48e", "filename": "src/librustc/middle/typeck/check/wf.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fwf.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4b913f60f109e0646f532a9b74e9dbd8ac06b1b/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fwf.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fcheck%2Fwf.rs?ref=e4b913f60f109e0646f532a9b74e9dbd8ac06b1b", "patch": "@@ -14,7 +14,7 @@ use middle::traits;\n use middle::ty;\n use middle::ty_fold::{TypeFolder, TypeFoldable};\n use middle::typeck::astconv::AstConv;\n-use middle::typeck::check::{FnCtxt, Inherited, blank_fn_ctxt, vtable2, regionck};\n+use middle::typeck::check::{FnCtxt, Inherited, blank_fn_ctxt, vtable, regionck};\n use middle::typeck::check::regionmanip::replace_late_bound_regions;\n use middle::typeck::CrateCtxt;\n use util::ppaux::Repr;\n@@ -100,7 +100,7 @@ impl<'ccx, 'tcx> CheckTypeWellFormedVisitor<'ccx, 'tcx> {\n         let inh = Inherited::new(ccx.tcx, param_env);\n         let fcx = blank_fn_ctxt(ccx, &inh, polytype.ty, item.id);\n         f(self, &fcx);\n-        vtable2::select_all_fcx_obligations_or_error(&fcx);\n+        vtable::select_all_fcx_obligations_or_error(&fcx);\n         regionck::regionck_item(&fcx, item);\n     }\n "}]}