{"sha": "3148ea31ebd3defd5c33d61bc720a0a286883ad2", "node_id": "C_kwDOAAsO6NoAKDMxNDhlYTMxZWJkM2RlZmQ1YzMzZDYxYmM3MjBhMGEyODY4ODNhZDI", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-07-22T18:15:14Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-07-25T17:19:23Z"}, "message": "Update file description.", "tree": {"sha": "254e2bde664e029e494d29fb80bc7b9a76de0de9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/254e2bde664e029e494d29fb80bc7b9a76de0de9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3148ea31ebd3defd5c33d61bc720a0a286883ad2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3148ea31ebd3defd5c33d61bc720a0a286883ad2", "html_url": "https://github.com/rust-lang/rust/commit/3148ea31ebd3defd5c33d61bc720a0a286883ad2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3148ea31ebd3defd5c33d61bc720a0a286883ad2/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3c5048d2eceb315341582093d2102786c8be38c9", "url": "https://api.github.com/repos/rust-lang/rust/commits/3c5048d2eceb315341582093d2102786c8be38c9", "html_url": "https://github.com/rust-lang/rust/commit/3c5048d2eceb315341582093d2102786c8be38c9"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "a7fd7c427c759402444e127ccec7648c2a7bafc2", "filename": "compiler/rustc_resolve/src/late/lifetimes.rs", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/3148ea31ebd3defd5c33d61bc720a0a286883ad2/compiler%2Frustc_resolve%2Fsrc%2Flate%2Flifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3148ea31ebd3defd5c33d61bc720a0a286883ad2/compiler%2Frustc_resolve%2Fsrc%2Flate%2Flifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Flate%2Flifetimes.rs?ref=3148ea31ebd3defd5c33d61bc720a0a286883ad2", "patch": "@@ -1,10 +1,11 @@\n // ignore-tidy-filelength\n-//! Name resolution for lifetimes.\n+//! Resolution of early vs late bound lifetimes.\n //!\n-//! Name resolution for lifetimes follows *much* simpler rules than the\n-//! full resolve. For example, lifetime names are never exported or\n-//! used between functions, and they operate in a purely top-down\n-//! way. Therefore, we break lifetime name resolution into a separate pass.\n+//! Name resolution for lifetimes is performed on the AST and embedded into HIR.  From this\n+//! information, typechecking needs to transform the lifetime parameters into bound lifetimes.\n+//! Lifetimes can be early-bound or late-bound.  Construction of typechecking terms needs to visit\n+//! the types in HIR to identify late-bound lifetimes and assign their Debruijn indices.  This file\n+//! is also responsible for assigning their semantics to implicit lifetimes in trait objects.\n \n use rustc_ast::walk_list;\n use rustc_data_structures::fx::{FxHashSet, FxIndexMap, FxIndexSet};"}]}