{"sha": "6f5ac06b47b040936c6e0a1fbac9cdba13e26197", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZmNWFjMDZiNDdiMDQwOTM2YzZlMGExZmJhYzljZGJhMTNlMjYxOTc=", "commit": {"author": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2019-08-04T10:49:13Z"}, "committer": {"name": "Lauren\u021biu Nicola", "email": "lnicola@dend.ro", "date": "2019-08-05T13:53:54Z"}, "message": "Display the parsing time in ra_cli analysis-stats", "tree": {"sha": "35b204a4604cbbf7d23faed71518f1206c8174ba", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/35b204a4604cbbf7d23faed71518f1206c8174ba"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6f5ac06b47b040936c6e0a1fbac9cdba13e26197", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6f5ac06b47b040936c6e0a1fbac9cdba13e26197", "html_url": "https://github.com/rust-lang/rust/commit/6f5ac06b47b040936c6e0a1fbac9cdba13e26197", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6f5ac06b47b040936c6e0a1fbac9cdba13e26197/comments", "author": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lnicola", "id": 308347, "node_id": "MDQ6VXNlcjMwODM0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/308347?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lnicola", "html_url": "https://github.com/lnicola", "followers_url": "https://api.github.com/users/lnicola/followers", "following_url": "https://api.github.com/users/lnicola/following{/other_user}", "gists_url": "https://api.github.com/users/lnicola/gists{/gist_id}", "starred_url": "https://api.github.com/users/lnicola/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lnicola/subscriptions", "organizations_url": "https://api.github.com/users/lnicola/orgs", "repos_url": "https://api.github.com/users/lnicola/repos", "events_url": "https://api.github.com/users/lnicola/events{/privacy}", "received_events_url": "https://api.github.com/users/lnicola/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a490f80a9c49380c5088b704047bb20b76c06e4d", "url": "https://api.github.com/repos/rust-lang/rust/commits/a490f80a9c49380c5088b704047bb20b76c06e4d", "html_url": "https://github.com/rust-lang/rust/commit/a490f80a9c49380c5088b704047bb20b76c06e4d"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "4fe3cb43ad52212e00b6a98a362beb2efa2c8f42", "filename": "crates/ra_cli/src/analysis_stats.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6f5ac06b47b040936c6e0a1fbac9cdba13e26197/crates%2Fra_cli%2Fsrc%2Fanalysis_stats.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6f5ac06b47b040936c6e0a1fbac9cdba13e26197/crates%2Fra_cli%2Fsrc%2Fanalysis_stats.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_cli%2Fsrc%2Fanalysis_stats.rs?ref=6f5ac06b47b040936c6e0a1fbac9cdba13e26197", "patch": "@@ -52,6 +52,9 @@ pub fn run(verbose: bool, memory_usage: bool, path: &Path, only: Option<&str>) -\n     println!(\"Total modules found: {}\", visited_modules.len());\n     println!(\"Total declarations: {}\", num_decls);\n     println!(\"Total functions: {}\", funcs.len());\n+    println!(\"Parsing: {:?}, {}\", analysis_time.elapsed(), ra_prof::memory_usage());\n+\n+    let inference_time = Instant::now();\n     let bar = indicatif::ProgressBar::with_draw_target(\n         funcs.len() as u64,\n         indicatif::ProgressDrawTarget::stderr_nohz(),\n@@ -112,7 +115,8 @@ pub fn run(verbose: bool, memory_usage: bool, path: &Path, only: Option<&str>) -\n         num_exprs_partially_unknown,\n         (num_exprs_partially_unknown * 100 / num_exprs)\n     );\n-    println!(\"Analysis: {:?}, {}\", analysis_time.elapsed(), ra_prof::memory_usage());\n+    println!(\"Inference: {:?}, {}\", inference_time.elapsed(), ra_prof::memory_usage());\n+    println!(\"Total: {:?}, {}\", analysis_time.elapsed(), ra_prof::memory_usage());\n \n     if memory_usage {\n         drop(db);"}]}