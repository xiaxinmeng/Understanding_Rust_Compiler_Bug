{"sha": "e53e86a3f35a7d36308c758d67238c2cdc927ed3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU1M2U4NmEzZjM1YTdkMzYzMDhjNzU4ZDY3MjM4YzJjZGM5MjdlZDM=", "commit": {"author": {"name": "Corey Richardson", "email": "corey@octayn.net", "date": "2013-12-29T05:13:19Z"}, "committer": {"name": "Corey Richardson", "email": "corey@octayn.net", "date": "2013-12-29T05:13:19Z"}, "message": "Add a compiler-docs target", "tree": {"sha": "790ee062e3bdc9968cbac2e018984ef72778dd2d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/790ee062e3bdc9968cbac2e018984ef72778dd2d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e53e86a3f35a7d36308c758d67238c2cdc927ed3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e53e86a3f35a7d36308c758d67238c2cdc927ed3", "html_url": "https://github.com/rust-lang/rust/commit/e53e86a3f35a7d36308c758d67238c2cdc927ed3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e53e86a3f35a7d36308c758d67238c2cdc927ed3/comments", "author": {"login": "emberian", "id": 704250, "node_id": "MDQ6VXNlcjcwNDI1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emberian", "html_url": "https://github.com/emberian", "followers_url": "https://api.github.com/users/emberian/followers", "following_url": "https://api.github.com/users/emberian/following{/other_user}", "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}", "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emberian/subscriptions", "organizations_url": "https://api.github.com/users/emberian/orgs", "repos_url": "https://api.github.com/users/emberian/repos", "events_url": "https://api.github.com/users/emberian/events{/privacy}", "received_events_url": "https://api.github.com/users/emberian/received_events", "type": "User", "site_admin": false}, "committer": {"login": "emberian", "id": 704250, "node_id": "MDQ6VXNlcjcwNDI1MA==", "avatar_url": "https://avatars.githubusercontent.com/u/704250?v=4", "gravatar_id": "", "url": "https://api.github.com/users/emberian", "html_url": "https://github.com/emberian", "followers_url": "https://api.github.com/users/emberian/followers", "following_url": "https://api.github.com/users/emberian/following{/other_user}", "gists_url": "https://api.github.com/users/emberian/gists{/gist_id}", "starred_url": "https://api.github.com/users/emberian/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/emberian/subscriptions", "organizations_url": "https://api.github.com/users/emberian/orgs", "repos_url": "https://api.github.com/users/emberian/repos", "events_url": "https://api.github.com/users/emberian/events{/privacy}", "received_events_url": "https://api.github.com/users/emberian/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8ca1c344d528d0e8f2c5c351f9e091a77e582677", "url": "https://api.github.com/repos/rust-lang/rust/commits/8ca1c344d528d0e8f2c5c351f9e091a77e582677", "html_url": "https://github.com/rust-lang/rust/commit/8ca1c344d528d0e8f2c5c351f9e091a77e582677"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "add5f8c07ed8ab73b4132b0aff64c9757fa6de1b", "filename": "mk/docs.mk", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/e53e86a3f35a7d36308c758d67238c2cdc927ed3/mk%2Fdocs.mk", "raw_url": "https://github.com/rust-lang/rust/raw/e53e86a3f35a7d36308c758d67238c2cdc927ed3/mk%2Fdocs.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdocs.mk?ref=e53e86a3f35a7d36308c758d67238c2cdc927ed3", "patch": "@@ -13,6 +13,7 @@\n ######################################################################\n \n DOCS :=\n+CDOCS :=\n DOCS_L10N :=\n \n BASE_DOC_OPTS := --from=markdown --standalone --toc --number-sections\n@@ -232,12 +233,21 @@ doc/$(1)/index.html: $$(RUSTDOC) $$(TLIB2_T_$(3)_H_$(3))/$(CFG_STDLIB_$(3))\n DOCS += doc/$(1)/index.html\n endef\n \n+define compiledoc\n+doc/$(1)/index.html: $$(RUSTDOC) $$(TLIB2_T_$(3)_H_$(3))/$(CFG_STDLIB_$(3))\n+\t@$$(call E, rustdoc: $$@)\n+\t$(Q)$(RUSTDOC) --cfg stage2 $(2)\n+\n+CDOCS += doc/$(1)/index.html\n+endef\n+\n $(eval $(call libdoc,std,$(STDLIB_CRATE),$(CFG_BUILD)))\n $(eval $(call libdoc,extra,$(EXTRALIB_CRATE),$(CFG_BUILD)))\n $(eval $(call libdoc,native,$(LIBNATIVE_CRATE),$(CFG_BUILD)))\n $(eval $(call libdoc,green,$(LIBGREEN_CRATE),$(CFG_BUILD)))\n-$(eval $(call libdoc,rustc,$(COMPILER_CRATE),$(CFG_BUILD)))\n-$(eval $(call libdoc,syntax,$(LIBSYNTAX_CRATE),$(CFG_BUILD)))\n+\n+$(eval $(call compiledoc,rustc,$(COMPILER_CRATE),$(CFG_BUILD)))\n+$(eval $(call compiledoc,syntax,$(LIBSYNTAX_CRATE),$(CFG_BUILD)))\n \n \n ifdef CFG_DISABLE_DOCS\n@@ -260,6 +270,7 @@ doc/version_info.html: version_info.html.template $(MKFILE_DEPS) \\\n GENERATED += doc/version.md doc/version_info.html\n \n docs: $(DOCS)\n+compiler-docs: $(CDOCS)\n \n docs-l10n: $(DOCS_L10N)\n "}]}