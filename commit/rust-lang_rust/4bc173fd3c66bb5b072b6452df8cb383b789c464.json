{"sha": "4bc173fd3c66bb5b072b6452df8cb383b789c464", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRiYzE3M2ZkM2M2NmJiNWIwNzJiNjQ1MmRmOGNiMzgzYjc4OWM0NjQ=", "commit": {"author": {"name": "Tohava", "email": "tohava@tohava-laptop.(none)", "date": "2010-08-06T13:11:15Z"}, "committer": {"name": "Tohava", "email": "tohava@tohava-laptop.(none)", "date": "2010-08-06T13:11:15Z"}, "message": "Added AST pretty printing for slice expression", "tree": {"sha": "cebd24a54856c689392ff44cbec0d60d59635e02", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cebd24a54856c689392ff44cbec0d60d59635e02"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4bc173fd3c66bb5b072b6452df8cb383b789c464", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4bc173fd3c66bb5b072b6452df8cb383b789c464", "html_url": "https://github.com/rust-lang/rust/commit/4bc173fd3c66bb5b072b6452df8cb383b789c464", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4bc173fd3c66bb5b072b6452df8cb383b789c464/comments", "author": null, "committer": null, "parents": [{"sha": "ce79b0e492f1583debbce3c8155da3536c684d9a", "url": "https://api.github.com/repos/rust-lang/rust/commits/ce79b0e492f1583debbce3c8155da3536c684d9a", "html_url": "https://github.com/rust-lang/rust/commit/ce79b0e492f1583debbce3c8155da3536c684d9a"}], "stats": {"total": 29, "additions": 28, "deletions": 1}, "files": [{"sha": "9cad5ce539ed8fae5a43eea20c75558e16b90fcb", "filename": "src/boot/fe/ast.ml", "status": "modified", "additions": 28, "deletions": 1, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/4bc173fd3c66bb5b072b6452df8cb383b789c464/src%2Fboot%2Ffe%2Fast.ml", "raw_url": "https://github.com/rust-lang/rust/raw/4bc173fd3c66bb5b072b6452df8cb383b789c464/src%2Fboot%2Ffe%2Fast.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Ffe%2Fast.ml?ref=4bc173fd3c66bb5b072b6452df8cb383b789c464", "patch": "@@ -1237,7 +1237,13 @@ and fmt_stmt_body (ff:Format.formatter) (s:stmt) : unit =\n           \n       | STMT_alt_port _ -> fmt ff \"?stmt_alt_port?\"\n       | STMT_note _ -> fmt ff \"?stmt_note?\"\n-      | STMT_slice _ -> fmt ff \"?stmt_slice?\"\n+      | STMT_slice (dst, src, slice) -> \n+          fmt_lval ff dst;\n+          fmt ff \" = \";\n+          fmt_lval ff src;\n+          fmt ff \".\";\n+          fmt_slice ff slice;\n+          fmt ff \";\";\n   end\n \n and fmt_arm \n@@ -1275,6 +1281,27 @@ and fmt_pat (ff:Format.formatter) (pat:pat) : unit =\n     | PAT_wild ->\n         fmt ff \"_\"\n \n+and fmt_slice (ff:Format.formatter) (slice:slice) : unit =\n+  let fmt_slice_start = (match slice.slice_start with\n+                             None -> (fun ff -> fmt ff \"0\")\n+                           | Some atom -> (fun ff -> fmt_atom ff atom)) in\n+    fmt ff \"(@[\";\n+    fmt_slice_start ff;\n+    begin\n+      match slice.slice_len with\n+          None -> fmt ff \",\"\n+        | Some slice_len ->\n+            fmt ff \",@ @[\";\n+            fmt_slice_start ff;\n+            fmt ff \" +@ \";\n+            fmt_atom ff slice_len;\n+            fmt ff \"@]\";\n+    end;\n+    fmt ff \"@])\";\n+    \n+\n+    \n+\n and fmt_decl_param (ff:Format.formatter) (param:ty_param) : unit =\n   let (ident, (i, e)) = param in\n   fmt_effect ff e;"}]}