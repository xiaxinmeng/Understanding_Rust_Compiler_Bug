{"sha": "f954ce5ef18391efcb21e757e5e6546b2599e940", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY5NTRjZTVlZjE4MzkxZWZjYjIxZTc1N2U1ZTY1NDZiMjU5OWU5NDA=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-02-02T00:02:19Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-02-02T00:05:17Z"}, "message": "rt: Remove calls to signal the kernel lock\n\nNobody ever waits for it", "tree": {"sha": "bf0add80f65a7810951b3b5bd5bf17523ba6d71e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bf0add80f65a7810951b3b5bd5bf17523ba6d71e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f954ce5ef18391efcb21e757e5e6546b2599e940", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f954ce5ef18391efcb21e757e5e6546b2599e940", "html_url": "https://github.com/rust-lang/rust/commit/f954ce5ef18391efcb21e757e5e6546b2599e940", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f954ce5ef18391efcb21e757e5e6546b2599e940/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5c8993854495a35a182182b00d472e08be796a6b", "url": "https://api.github.com/repos/rust-lang/rust/commits/5c8993854495a35a182182b00d472e08be796a6b", "html_url": "https://github.com/rust-lang/rust/commit/5c8993854495a35a182182b00d472e08be796a6b"}], "stats": {"total": 3, "additions": 0, "deletions": 3}, "files": [{"sha": "3a28af4473b62f8d468fba8c778b5369bf2ef46f", "filename": "src/rt/rust_kernel.cpp", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f954ce5ef18391efcb21e757e5e6546b2599e940/src%2Frt%2Frust_kernel.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/f954ce5ef18391efcb21e757e5e6546b2599e940/src%2Frt%2Frust_kernel.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_kernel.cpp?ref=f954ce5ef18391efcb21e757e5e6546b2599e940", "patch": "@@ -28,7 +28,6 @@ rust_kernel::create_scheduler(int id) {\n         new (this, \"rust_scheduler\") rust_scheduler(this, srv, id);\n     KLOG_(\"created scheduler: \" PTR \", id: %d, index: %d\",\n           sched, id, sched->list_index);\n-    _kernel_lock.signal_all();\n     _kernel_lock.unlock();\n     return sched;\n }\n@@ -41,7 +40,6 @@ rust_kernel::destroy_scheduler(rust_scheduler *sched) {\n     rust_srv *srv = sched->srv;\n     delete sched;\n     delete srv;\n-    _kernel_lock.signal_all();\n     _kernel_lock.unlock();\n }\n \n@@ -116,7 +114,6 @@ void rust_kernel::free(void *mem) {\n void\n rust_kernel::signal_kernel_lock() {\n     _kernel_lock.lock();\n-    _kernel_lock.signal_all();\n     _kernel_lock.unlock();\n }\n "}]}