{"sha": "0d69a02c31f781568ce11c877b2add7b5deea1b9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBkNjlhMDJjMzFmNzgxNTY4Y2UxMWM4NzdiMmFkZDdiNWRlZWExYjk=", "commit": {"author": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2021-06-21T12:15:27Z"}, "committer": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2021-06-21T12:15:27Z"}, "message": "Removed/Updated some cases and simplified `match`", "tree": {"sha": "ad1ff9ce2bcd9b3d7ffac29f672cefb10b5d94fb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad1ff9ce2bcd9b3d7ffac29f672cefb10b5d94fb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0d69a02c31f781568ce11c877b2add7b5deea1b9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEjbeLZzPb62/vY3smZSV3NIU3bZIFAmDQguYACgkQZSV3NIU3\nbZLqvQ//UgzseLmKRNX8uiTfvBiwhHGfXDOExnfNx8Lp4A1R29HcsoTJNG0vGLjp\nIVYZkK1cs4MA1bd7J51slaRlRl0/f55NdMR6Z6xvtgHLtH4l0mFxHrn7ZG5sypqe\n2npUIOUmpRhE/Uk/WVo2gauUz19V31OV3bCcmWSFPfXkgRjywTeOMTQ2jg/wxE/H\nW6S+Jac+6pJuWuYimJbq4TReMQdWtZvfHrWCreOkxc0cCuAbLvHjeYiXYr9/uLjd\nnNV1UhPa59tiFKYBcOwdi14q3jI4+gFmdOPu7yprhja0X4sRakAv19OLcE6vYyR4\nPoqjUXqrABEhI+1d+4F0Jh4mtTWs0lL6zJP+iH3sabUcZMNWCn4gHJx8rqIY8OJJ\n/GyTLZIjzeTdRuBW3EMa2tG2MTwn+TivG/2uLYkYPFHzBej4U5ljAGhhhegBzdvj\n/XbTm9DYqYS0Gzb33ZvjHo0cNdyEf71sxslXI34tyHxdO21pHu6xkfSKbj492JR5\nWi042nr5zF0LcLEEthdHhyZhMnbvGJOcG8CRs5gsb2t3JrlJ2+e/5+s4m7s3tSmt\n3z1smO7wRwUr4NAMI1K7wWcNwQYWGu7+1mhyh2IIb7WOIgqXCb4cdEpoQcSC03hZ\nREMckJtzOsVz1FO4RHUbrkAYWlmBkoXFJzQq2Segqf3cJj+b4KY=\n=gyKx\n-----END PGP SIGNATURE-----", "payload": "tree ad1ff9ce2bcd9b3d7ffac29f672cefb10b5d94fb\nparent c4396f476e65ad6d687df414e74b94d1caaacb2b\nauthor Deadbeef <ent3rm4n@gmail.com> 1624277727 +0800\ncommitter Deadbeef <ent3rm4n@gmail.com> 1624277727 +0800\n\nRemoved/Updated some cases and simplified `match`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0d69a02c31f781568ce11c877b2add7b5deea1b9", "html_url": "https://github.com/rust-lang/rust/commit/0d69a02c31f781568ce11c877b2add7b5deea1b9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0d69a02c31f781568ce11c877b2add7b5deea1b9/comments", "author": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c4396f476e65ad6d687df414e74b94d1caaacb2b", "url": "https://api.github.com/repos/rust-lang/rust/commits/c4396f476e65ad6d687df414e74b94d1caaacb2b", "html_url": "https://github.com/rust-lang/rust/commit/c4396f476e65ad6d687df414e74b94d1caaacb2b"}], "stats": {"total": 33, "additions": 4, "deletions": 29}, "files": [{"sha": "11d40d9898c086c5bf435926e793388a0ba0c68e", "filename": "src/librustdoc/html/format.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0d69a02c31f781568ce11c877b2add7b5deea1b9/src%2Flibrustdoc%2Fhtml%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0d69a02c31f781568ce11c877b2add7b5deea1b9/src%2Flibrustdoc%2Fhtml%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fformat.rs?ref=0d69a02c31f781568ce11c877b2add7b5deea1b9", "patch": "@@ -1284,7 +1284,7 @@ crate fn print_constness_with_space(\n         )\n         | (hir::Constness::Const, None) => \"const \",\n         // const unstable or not const\n-        (hir::Constness::Const, _) | (hir::Constness::NotConst, _) => \"\",\n+        _ => \"\",\n     }\n }\n "}, {"sha": "33b65bb596fd53feb627803a2ea6d221d1941466", "filename": "src/test/rustdoc/const-display.rs", "status": "modified", "additions": 3, "deletions": 28, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/0d69a02c31f781568ce11c877b2add7b5deea1b9/src%2Ftest%2Frustdoc%2Fconst-display.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0d69a02c31f781568ce11c877b2add7b5deea1b9/src%2Ftest%2Frustdoc%2Fconst-display.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fconst-display.rs?ref=0d69a02c31f781568ce11c877b2add7b5deea1b9", "patch": "@@ -20,51 +20,32 @@ pub const fn foo() -> u32 { 42 }\n pub const unsafe fn foo_unsafe() -> u32 { 42 }\n \n // @has 'foo/fn.foo2.html' '//pre' 'pub const fn foo2() -> u32'\n+// @!has - '//span[@class=\"since\"]'\n #[unstable(feature = \"humans\", issue = \"none\")]\n pub const fn foo2() -> u32 { 42 }\n \n-// @has 'foo/fn.foo2_unsafe.html' '//pre' 'pub const unsafe fn foo2_unsafe() -> u32'\n-#[unstable(feature = \"humans\", issue = \"none\")]\n-pub const unsafe fn foo2_unsafe() -> u32 { 42 }\n-\n // @has 'foo/fn.bar2.html' '//pre' 'pub const fn bar2() -> u32'\n // @has - //span '1.0.0 (const: 1.0.0)'\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n #[rustc_const_stable(feature = \"rust1\", since = \"1.0.0\")]\n pub const fn bar2() -> u32 { 42 }\n \n-// @has 'foo/fn.bar2_unsafe.html' '//pre' 'pub const unsafe fn bar2_unsafe() -> u32'\n-// @has - //span '1.0.0 (const: 1.0.0)'\n-#[stable(feature = \"rust1\", since = \"1.0.0\")]\n-#[rustc_const_stable(feature = \"rust1\", since = \"1.0.0\")]\n-pub const unsafe fn bar2_unsafe() -> u32 { 42 }\n \n // @has 'foo/fn.foo2_gated.html' '//pre' 'pub const fn foo2_gated() -> u32'\n+// @!has - '//span[@class=\"since\"]'\n #[unstable(feature = \"foo2\", issue = \"none\")]\n pub const fn foo2_gated() -> u32 { 42 }\n \n-// @has 'foo/fn.foo2_gated_unsafe.html' '//pre' 'pub const unsafe fn foo2_gated_unsafe() -> u32'\n-#[unstable(feature = \"foo2\", issue = \"none\")]\n-pub const unsafe fn foo2_gated_unsafe() -> u32 { 42 }\n-\n // @has 'foo/fn.bar2_gated.html' '//pre' 'pub const fn bar2_gated() -> u32'\n // @has - '//span[@class=\"since\"]' '1.0.0 (const: 1.0.0)'\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n #[rustc_const_stable(feature = \"rust1\", since = \"1.0.0\")]\n pub const fn bar2_gated() -> u32 { 42 }\n \n-// @has 'foo/fn.bar2_gated_unsafe.html' '//pre' 'pub const unsafe fn bar2_gated_unsafe() -> u32'\n-// @has - '//span[@class=\"since\"]' '1.0.0 (const: 1.0.0)'\n-#[stable(feature = \"rust1\", since = \"1.0.0\")]\n-#[rustc_const_stable(feature = \"rust1\", since = \"1.0.0\")]\n-pub const unsafe fn bar2_gated_unsafe() -> u32 { 42 }\n-\n // @has 'foo/fn.bar_not_gated.html' '//pre' 'pub const fn bar_not_gated() -> u32'\n+// @!has - '//span[@class=\"since\"]'\n pub const fn bar_not_gated() -> u32 { 42 }\n \n-// @has 'foo/fn.bar_not_gated_unsafe.html' '//pre' 'pub const unsafe fn bar_not_gated_unsafe() -> u32'\n-pub const unsafe fn bar_not_gated_unsafe() -> u32 { 42 }\n-\n pub struct Foo;\n \n impl Foo {\n@@ -85,10 +66,4 @@ impl Foo {\n     #[stable(feature = \"rust1\", since = \"1.0.0\")]\n     #[rustc_const_stable(feature = \"rust1\", since = \"1.2.0\")]\n     pub const fn stable_impl() -> u32 { 42 }\n-\n-    // @has 'foo/struct.Foo.html' '//div[@id=\"method.stable_impl_unsafe\"]/code' 'pub const unsafe fn stable_impl_unsafe() -> u32'\n-    // @has - '//span[@class=\"since\"]' '1.0.0 (const: 1.2.0)'\n-    #[stable(feature = \"rust1\", since = \"1.0.0\")]\n-    #[rustc_const_stable(feature = \"rust1\", since = \"1.2.0\")]\n-    pub const unsafe fn stable_impl_unsafe() -> u32 { 42 }\n }"}]}