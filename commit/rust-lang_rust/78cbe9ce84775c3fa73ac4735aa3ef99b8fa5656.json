{"sha": "78cbe9ce84775c3fa73ac4735aa3ef99b8fa5656", "node_id": "C_kwDOAAsO6NoAKDc4Y2JlOWNlODQ3NzVjM2ZhNzNhYzQ3MzVhYTNlZjk5YjhmYTU2NTY", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-11-21T23:01:11Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-11-21T23:01:11Z"}, "message": "Rollup merge of #104663 - notriddle:notriddle/button-cursor, r=GuillaumeGomez\n\nrustdoc: factor out common button CSS", "tree": {"sha": "7eccf25c00162480d91f9a6db9bd06dce8373d1f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7eccf25c00162480d91f9a6db9bd06dce8373d1f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/78cbe9ce84775c3fa73ac4735aa3ef99b8fa5656", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjfAM3CRBK7hj4Ov3rIwAAhGoIAI5YM37FiB8sfm3AY+FQSZ3B\ndLQVB4dcxgSClOQL8ryrGjoJqCiekIA8glkDGG8aXW6xkTRhqHAv4j1/Ax2AwKjQ\nLcFF7kY00U51Mf1Q1UFD4ZQMb9SgQ3mzAAFZm0Umiua6vXEdCBycv6tWTq24JtHK\nhzrPnuiQ74+T8gQ9No2lMG5XhZKLbb+uZqTp6u7iVRfwDJjRzZarTLO42xdIFCz9\nwroNzwyUCtIw1EiwZ+buFqDVrrphtsLpL7JlW+cy5eGlBZs9NHgHRQwPedl/ROT5\nvh3/+gA+V0EHao1nkTKXiW0MAuto8VE/Q48OSmm2wj4WKK8ojrlfFu4DMhnAKKo=\n=3nm5\n-----END PGP SIGNATURE-----\n", "payload": "tree 7eccf25c00162480d91f9a6db9bd06dce8373d1f\nparent 9cefd9dd29a918e26f10df08eaef401cd5d651e4\nparent 709e9dea919fb54e62185b5e20e03353b42c7b6d\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1669071671 +0100\ncommitter GitHub <noreply@github.com> 1669071671 +0100\n\nRollup merge of #104663 - notriddle:notriddle/button-cursor, r=GuillaumeGomez\n\nrustdoc: factor out common button CSS\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/78cbe9ce84775c3fa73ac4735aa3ef99b8fa5656", "html_url": "https://github.com/rust-lang/rust/commit/78cbe9ce84775c3fa73ac4735aa3ef99b8fa5656", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/78cbe9ce84775c3fa73ac4735aa3ef99b8fa5656/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9cefd9dd29a918e26f10df08eaef401cd5d651e4", "url": "https://api.github.com/repos/rust-lang/rust/commits/9cefd9dd29a918e26f10df08eaef401cd5d651e4", "html_url": "https://github.com/rust-lang/rust/commit/9cefd9dd29a918e26f10df08eaef401cd5d651e4"}, {"sha": "709e9dea919fb54e62185b5e20e03353b42c7b6d", "url": "https://api.github.com/repos/rust-lang/rust/commits/709e9dea919fb54e62185b5e20e03353b42c7b6d", "html_url": "https://github.com/rust-lang/rust/commit/709e9dea919fb54e62185b5e20e03353b42c7b6d"}], "stats": {"total": 36, "additions": 28, "deletions": 8}, "files": [{"sha": "26c1eb5389fa935e9ff930dccb85019bd1f74762", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 4, "deletions": 8, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/78cbe9ce84775c3fa73ac4735aa3ef99b8fa5656/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/78cbe9ce84775c3fa73ac4735aa3ef99b8fa5656/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=78cbe9ce84775c3fa73ac4735aa3ef99b8fa5656", "patch": "@@ -290,20 +290,21 @@ p:last-child {\n button {\n \t/* Buttons on Safari have different default padding than other platforms. Make them the same. */\n \tpadding: 1px 6px;\n+\t/* Opinionated tweak: use pointer cursor as clickability signifier. */\n+\tcursor: pointer;\n }\n \n+/* end tweaks for normalize.css 8 */\n+\n button#toggle-all-docs {\n \tpadding: 0;\n \tbackground: none;\n \tborder: none;\n-\tcursor: pointer;\n \t/* iOS button gradient: https://stackoverflow.com/q/5438567 */\n \t-webkit-appearance: none;\n \topacity: 1;\n }\n \n-/* end tweaks for normalize.css 8 */\n-\n .rustdoc {\n \tdisplay: flex;\n \tflex-direction: row;\n@@ -1305,7 +1306,6 @@ a.test-arrow:hover {\n #titles > button {\n \ttext-align: center;\n \tfont-size: 1.125rem;\n-\tcursor: pointer;\n \tborder: 0;\n \tborder-top: 2px solid;\n \tflex: 1;\n@@ -1345,7 +1345,6 @@ a.test-arrow:hover {\n \tfont-weight: bold;\n \tbackground: none;\n \tcolor: inherit;\n-\tcursor: pointer;\n \ttext-align: center;\n \tborder: none;\n \toutline: none;\n@@ -1367,7 +1366,6 @@ a.test-arrow:hover {\n \n #settings-menu > a, #help-button > a, #copy-path {\n \twidth: 33px;\n-\tcursor: pointer;\n \tline-height: 1.5;\n }\n \n@@ -1796,7 +1794,6 @@ in storage.js\n \t\tz-index: 10;\n \t\tborder-top-right-radius: 3px;\n \t\tborder-bottom-right-radius: 3px;\n-\t\tcursor: pointer;\n \t\tborder: 1px solid;\n \t\tborder-left: 0;\n \t}\n@@ -1967,7 +1964,6 @@ in storage.js\n \tposition: absolute;\n \ttop: 0.25em;\n \tz-index: 1;\n-\tcursor: pointer;\n \tpadding: 0;\n \tbackground: none;\n \tborder: none;"}, {"sha": "b2e91cb81fba7495b9e79a1a67204f28263796c9", "filename": "src/test/rustdoc-gui/cursor.goml", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/78cbe9ce84775c3fa73ac4735aa3ef99b8fa5656/src%2Ftest%2Frustdoc-gui%2Fcursor.goml", "raw_url": "https://github.com/rust-lang/rust/raw/78cbe9ce84775c3fa73ac4735aa3ef99b8fa5656/src%2Ftest%2Frustdoc-gui%2Fcursor.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fcursor.goml?ref=78cbe9ce84775c3fa73ac4735aa3ef99b8fa5656", "patch": "@@ -0,0 +1,24 @@\n+// This test ensures that several clickable items actually have the pointer cursor.\n+goto: \"file://\" + |DOC_PATH| + \"/lib2/struct.Foo.html\"\n+\n+// the `[+]/[-]` button\n+assert-css: (\"#toggle-all-docs\", {\"cursor\": \"pointer\"})\n+\n+// the button next to the path header\n+assert-css: (\"#copy-path\", {\"cursor\": \"pointer\"})\n+\n+// the search tabs\n+write: (\".search-input\", \"Foo\")\n+// To be SURE that the search will be run.\n+press-key: 'Enter'\n+// Waiting for the search results to appear...\n+wait-for: \"#titles\"\n+assert-css: (\"#titles > button\", {\"cursor\": \"pointer\"})\n+\n+// mobile sidebar toggle button\n+size: (500, 700)\n+assert-css: (\".sidebar-menu-toggle\", {\"cursor\": \"pointer\"})\n+\n+// the sidebar toggle button on the source code pages\n+goto: \"file://\" + |DOC_PATH| + \"/src/lib2/lib.rs.html\"\n+assert-css: (\"#sidebar-toggle > button\", {\"cursor\": \"pointer\"})"}]}