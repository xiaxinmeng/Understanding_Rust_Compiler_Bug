{"sha": "940ef65e0e945f4c0e072ae4ebe86bfaddeb9710", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk0MGVmNjVlMGU5NDVmNGMwZTA3MmFlNGViZTg2YmZhZGRlYjk3MTA=", "commit": {"author": {"name": "Brian Anderson", "email": "andersrb@gmail.com", "date": "2012-09-08T20:06:31Z"}, "committer": {"name": "Brian Anderson", "email": "andersrb@gmail.com", "date": "2012-09-08T20:06:31Z"}, "message": "Merge pull request #3426 from killerswan/fix_incoming_2\n\n(fix incoming) Add the necessary traits to some generic functions", "tree": {"sha": "e119d7abe787c960a13a8c6f2c46bae6774d8e99", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e119d7abe787c960a13a8c6f2c46bae6774d8e99"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/940ef65e0e945f4c0e072ae4ebe86bfaddeb9710", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/940ef65e0e945f4c0e072ae4ebe86bfaddeb9710", "html_url": "https://github.com/rust-lang/rust/commit/940ef65e0e945f4c0e072ae4ebe86bfaddeb9710", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/940ef65e0e945f4c0e072ae4ebe86bfaddeb9710/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6be5fe2d47eb507d9b8dc746b608e0dddf2d233b", "url": "https://api.github.com/repos/rust-lang/rust/commits/6be5fe2d47eb507d9b8dc746b608e0dddf2d233b", "html_url": "https://github.com/rust-lang/rust/commit/6be5fe2d47eb507d9b8dc746b608e0dddf2d233b"}, {"sha": "00d1d4e647149aab6d3047cf8671b85384bd4fce", "url": "https://api.github.com/repos/rust-lang/rust/commits/00d1d4e647149aab6d3047cf8671b85384bd4fce", "html_url": "https://github.com/rust-lang/rust/commit/00d1d4e647149aab6d3047cf8671b85384bd4fce"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "a4dc2539eb3fc465485e690d78a8c99d651ca7d9", "filename": "src/test/bench/task-perf-word-count-generic.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/940ef65e0e945f4c0e072ae4ebe86bfaddeb9710/src%2Ftest%2Fbench%2Ftask-perf-word-count-generic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/940ef65e0e945f4c0e072ae4ebe86bfaddeb9710/src%2Ftest%2Fbench%2Ftask-perf-word-count-generic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fbench%2Ftask-perf-word-count-generic.rs?ref=940ef65e0e945f4c0e072ae4ebe86bfaddeb9710", "patch": "@@ -17,6 +17,7 @@ use option::Some;\n use option::None;\n use std::map;\n use std::map::hashmap;\n+use hash::Hash;\n use io::WriterUtil;\n \n use std::time;\n@@ -25,6 +26,8 @@ use comm::Chan;\n use comm::Port;\n use comm::recv;\n use comm::send;\n+use cmp::Eq;\n+use to_bytes::IterBytes;\n \n macro_rules! move_out (\n     { $x:expr } => { unsafe { let y <- *ptr::addr_of($x); y } }\n@@ -145,7 +148,7 @@ mod map_reduce {\n \n     enum reduce_proto<V: Copy Send> { emit_val(V), done, addref, release }\n \n-    fn start_mappers<K1: Copy Send, K2: Const Copy Send hash_key,\n+    fn start_mappers<K1: Copy Send, K2: Hash IterBytes Eq Const Copy Send hash_key,\n                      V: Copy Send>(\n         map: mapper<K1, K2, V>,\n         &ctrls: ~[ctrl_proto::server::open<K2, V>],\n@@ -162,7 +165,7 @@ mod map_reduce {\n         return tasks;\n     }\n \n-    fn map_task<K1: Copy Send, K2: Const Copy Send hash_key, V: Copy Send>(\n+    fn map_task<K1: Copy Send, K2: Hash IterBytes Eq Const Copy Send hash_key, V: Copy Send>(\n         map: mapper<K1, K2, V>,\n         ctrl: box<ctrl_proto::client::open<K2, V>>,\n         input: K1)\n@@ -235,7 +238,7 @@ mod map_reduce {\n         reduce(key, || get(p, ref_count, is_done) );\n     }\n \n-    fn map_reduce<K1: Copy Send, K2: Const Copy Send hash_key, V: Copy Send>(\n+    fn map_reduce<K1: Copy Send, K2: Hash IterBytes Eq Const Copy Send hash_key, V: Copy Send>(\n         map: mapper<K1, K2, V>,\n         reduce: reducer<K2, V>,\n         inputs: ~[K1])"}]}