{"sha": "2671cf34a58b11f995add8402e75c1cd94ed051e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI2NzFjZjM0YTU4YjExZjk5NWFkZDg0MDJlNzVjMWNkOTRlZDA1MWU=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2017-12-15T09:14:02Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2017-12-15T09:14:02Z"}, "message": "Update to some cleanups in rustc", "tree": {"sha": "ff92489f8736ca40830f291e238679a39640963d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ff92489f8736ca40830f291e238679a39640963d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2671cf34a58b11f995add8402e75c1cd94ed051e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEYFTdM4NKd7XQft77pp+NIls619kFAlozkloACgkQpp+NIls6\n19mEQhAArF3JAMC83PUWTDcBupUkUaIebmHcTaHESK0HGkZ4L0QmRRr3Rx8wrMw7\nZgDo12ASE/naRujaZjXnhiLwwli1JdNegs0/J/G3X9aXfJdo8Q+gzdKjo/FbT10I\n8k/xlObG1jZDV82R8s9M0MMyGDM8yG5W1uE4PIWPkHC6gBEz0zxh+UQDC/W3ipx8\nxc8DkibQ4Nb5/Ex/8av9lVt4RAnNchPswSsmTKtLZYYra+WzZeC8xUNnVQ3GmVM0\nucqgX6Az7sahpkV0ti7JUynqMW4DgRc4l6YCy3GxX40kLIuqGEoTr6qpHSdq6C2/\npZR5Q7L75mg8+H/+UnqJ2jmlwnfXc8cu2Rd8oeyFShCQrKRJndr/mTayOBIUzGkO\n9s7T/6Cq1bnrn6u91flfB2SjMNPY47MFSMDl4kQYYB9bomWuf9pKJJOdk9xBFBXK\nekmf+Cy/E1wTi8lT9e9SiYVLr8NdK58AU9PpUg7JUeS1sUFAMcSF+W6c1trJLzxW\nqHocpDY7UXR2+MlHNvWDUFFqCwRjndsBYE+IFjMKCpq/nt5PIp9AqFtzsGQoc13i\nD4J/NwdoeymecRwzTOoQVUKVpTbLppt1nu1xs09Qn6SNEkGkPbQJdb8dvAoIsFyF\nImLktSHAZTPA47gHu3Yet/Z26XXy2XdCOBTGa7zmIb6OTRYWXkk=\n=YqK7\n-----END PGP SIGNATURE-----", "payload": "tree ff92489f8736ca40830f291e238679a39640963d\nparent aa9177fec6b080024ffaf6e287cd3dc25bbad9b5\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1513329242 +0100\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1513329242 +0100\n\nUpdate to some cleanups in rustc\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2671cf34a58b11f995add8402e75c1cd94ed051e", "html_url": "https://github.com/rust-lang/rust/commit/2671cf34a58b11f995add8402e75c1cd94ed051e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2671cf34a58b11f995add8402e75c1cd94ed051e/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aa9177fec6b080024ffaf6e287cd3dc25bbad9b5", "url": "https://api.github.com/repos/rust-lang/rust/commits/aa9177fec6b080024ffaf6e287cd3dc25bbad9b5", "html_url": "https://github.com/rust-lang/rust/commit/aa9177fec6b080024ffaf6e287cd3dc25bbad9b5"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "3ca71e9b90c20824860d49ae27324ea4f4db98d7", "filename": "miri/fn_call.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2671cf34a58b11f995add8402e75c1cd94ed051e/miri%2Ffn_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2671cf34a58b11f995add8402e75c1cd94ed051e/miri%2Ffn_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/miri%2Ffn_call.rs?ref=2671cf34a58b11f995add8402e75c1cd94ed051e", "patch": "@@ -385,7 +385,7 @@ impl<'a, 'tcx> EvalContextExt<'tcx> for EvalContext<'a, 'tcx, super::Evaluator<'\n                         // compute global if not cached\n                         let val = match self.tcx.interpret_interner.borrow().get_cached(cid) {\n                             Some(ptr) => ptr,\n-                            None => eval_body(self.tcx, instance, ty::ParamEnv::empty(traits::Reveal::All)).0?.0,\n+                            None => eval_body(self.tcx, instance, ty::ParamEnv::empty(traits::Reveal::All))?.0,\n                         };\n                         let val = self.value_to_primval(ValTy { value: Value::ByRef(val), ty: args[0].ty })?.to_u64()?;\n                         if val == name {"}, {"sha": "fc282104e116e890f3c71bea4162acbd9f62b080", "filename": "miri/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2671cf34a58b11f995add8402e75c1cd94ed051e/miri%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2671cf34a58b11f995add8402e75c1cd94ed051e/miri%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/miri%2Flib.rs?ref=2671cf34a58b11f995add8402e75c1cd94ed051e", "patch": "@@ -20,6 +20,7 @@ extern crate lazy_static;\n use rustc::ty::{self, TyCtxt};\n use rustc::ty::layout::{TyLayout, LayoutOf};\n use rustc::hir::def_id::DefId;\n+use rustc::ty::subst::Substs;\n use rustc::mir;\n use rustc::traits;\n \n@@ -157,7 +158,7 @@ pub fn eval_main<'a, 'tcx: 'a>(\n         Ok(())\n     }\n \n-    let mut ecx = EvalContext::new(tcx, ty::ParamEnv::empty(traits::Reveal::All), limits, Default::default(), Default::default());\n+    let mut ecx = EvalContext::new(tcx, ty::ParamEnv::empty(traits::Reveal::All), limits, Default::default(), Default::default(), Substs::empty());\n     match run_main(&mut ecx, main_id, start_wrapper) {\n         Ok(()) => {\n             let leaks = ecx.memory().leak_report();"}]}