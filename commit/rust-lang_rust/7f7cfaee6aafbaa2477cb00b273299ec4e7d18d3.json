{"sha": "7f7cfaee6aafbaa2477cb00b273299ec4e7d18d3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdmN2NmYWVlNmFhZmJhYTI0NzdjYjAwYjI3MzI5OWVjNGU3ZDE4ZDM=", "commit": {"author": {"name": "Linus Unneb\u00e4ck", "email": "linus@folkdatorn.se", "date": "2019-03-12T16:50:00Z"}, "committer": {"name": "Linus Unneb\u00e4ck", "email": "linus@folkdatorn.se", "date": "2019-03-16T11:13:32Z"}, "message": "Add test for UdpSocket peer_addr", "tree": {"sha": "555435cc789c19030c55bd6c0566ba71062974ca", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/555435cc789c19030c55bd6c0566ba71062974ca"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7f7cfaee6aafbaa2477cb00b273299ec4e7d18d3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJIBAABCgAyFiEEGVAiYwRM3WarYwjjznDOrpwPpm8FAlyM2l4UHGxpbnVzQGZv\nbGtkYXRvcm4uc2UACgkQznDOrpwPpm9TAg/7B80Ov/yhYl/Y5PgV2rhDGx5tCjQs\ns5iprMtaDRfQwNQ3H+ybWuZebzexDw9OKahce/laQQ3yexhWaMQp0v7TMNMLy64/\n8b50j4cwE8u7En6iYUoJzKReyZRmQfQwWpDSO1zI0cV30iR72M4fqUiY1HfzCf9U\njDsY9/r2rbMkCRbUN4tZZgdnEsY4rD/nHziVBtOdBvqYw3ITs3gWwjGUyKy2g2io\nDcpMIF9Ng+zq9rq2zhCSMbebomyXxYvCNfblisX2N0tvl8d7+xVWCWee24+GHpdj\nWr1Bl9Ziexzg0hGPdVq52yXtqyMkUkcw+22Uto2EY+FZ1d8zGU6MNq0nrHgpBMBa\nChHSf5vz5TozJohYGCCX8QXQST4qMQuU5THQqV3zSsuyKbHSM1R0js8mP0wFdxev\nAFiJfI202cC+f9XHXLeT2q9f0L83WcUoy76ojSIEhs/xRPvLKUyEAP1j9WNb3hwu\n6zK+YKR7hecrbAsq2UL9+LHsWfjDkjmpZImihIKIFc/zBqtoHz8aICVld0mkpTzZ\n3mX87ANNAfBugS2W/Hk2p9nFbiq3bMsWYN7VBmemEHmuEFKPQEO3Tdk4bZw5RnXO\nKPvHq4MQw4mr5mKsWOLHzglyvcJX66yIksneTFygyIwoWDYCs4f6t02RTdgalDXv\n6mv+n0pxvbwMlew=\n=zlyW\n-----END PGP SIGNATURE-----", "payload": "tree 555435cc789c19030c55bd6c0566ba71062974ca\nparent 24e3fa079c150675e1911f1a9f958b690ecaa1bd\nauthor Linus Unneb\u00e4ck <linus@folkdatorn.se> 1552409400 +0000\ncommitter Linus Unneb\u00e4ck <linus@folkdatorn.se> 1552734812 +0000\n\nAdd test for UdpSocket peer_addr\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7f7cfaee6aafbaa2477cb00b273299ec4e7d18d3", "html_url": "https://github.com/rust-lang/rust/commit/7f7cfaee6aafbaa2477cb00b273299ec4e7d18d3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7f7cfaee6aafbaa2477cb00b273299ec4e7d18d3/comments", "author": {"login": "LinusU", "id": 189580, "node_id": "MDQ6VXNlcjE4OTU4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/189580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusU", "html_url": "https://github.com/LinusU", "followers_url": "https://api.github.com/users/LinusU/followers", "following_url": "https://api.github.com/users/LinusU/following{/other_user}", "gists_url": "https://api.github.com/users/LinusU/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusU/subscriptions", "organizations_url": "https://api.github.com/users/LinusU/orgs", "repos_url": "https://api.github.com/users/LinusU/repos", "events_url": "https://api.github.com/users/LinusU/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusU/received_events", "type": "User", "site_admin": false}, "committer": {"login": "LinusU", "id": 189580, "node_id": "MDQ6VXNlcjE4OTU4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/189580?v=4", "gravatar_id": "", "url": "https://api.github.com/users/LinusU", "html_url": "https://github.com/LinusU", "followers_url": "https://api.github.com/users/LinusU/followers", "following_url": "https://api.github.com/users/LinusU/following{/other_user}", "gists_url": "https://api.github.com/users/LinusU/gists{/gist_id}", "starred_url": "https://api.github.com/users/LinusU/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/LinusU/subscriptions", "organizations_url": "https://api.github.com/users/LinusU/orgs", "repos_url": "https://api.github.com/users/LinusU/repos", "events_url": "https://api.github.com/users/LinusU/events{/privacy}", "received_events_url": "https://api.github.com/users/LinusU/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "24e3fa079c150675e1911f1a9f958b690ecaa1bd", "url": "https://api.github.com/repos/rust-lang/rust/commits/24e3fa079c150675e1911f1a9f958b690ecaa1bd", "html_url": "https://github.com/rust-lang/rust/commit/24e3fa079c150675e1911f1a9f958b690ecaa1bd"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "f3f65034f425626e34cc4453495e95f70ccdebd7", "filename": "src/libstd/net/udp.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/7f7cfaee6aafbaa2477cb00b273299ec4e7d18d3/src%2Flibstd%2Fnet%2Fudp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7f7cfaee6aafbaa2477cb00b273299ec4e7d18d3/src%2Flibstd%2Fnet%2Fudp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnet%2Fudp.rs?ref=7f7cfaee6aafbaa2477cb00b273299ec4e7d18d3", "patch": "@@ -903,6 +903,16 @@ mod tests {\n         })\n     }\n \n+    #[test]\n+    fn socket_peer_ip4() {\n+        each_ip(&mut |addr1, addr2| {\n+            let server = t!(UdpSocket::bind(&addr1));\n+            assert_eq!(server.peer_addr().unwrap_err().kind(), ErrorKind::NotConnected);\n+            t!(server.connect(&addr2));\n+            assert_eq!(addr2, t!(server.peer_addr()));\n+        })\n+    }\n+\n     #[test]\n     fn udp_clone_smoke() {\n         each_ip(&mut |addr1, addr2| {"}]}