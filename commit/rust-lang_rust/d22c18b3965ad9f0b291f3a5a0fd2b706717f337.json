{"sha": "d22c18b3965ad9f0b291f3a5a0fd2b706717f337", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQyMmMxOGIzOTY1YWQ5ZjBiMjkxZjNhNWEwZmQyYjcwNjcxN2YzMzc=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-05-10T09:34:34Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-05-10T09:34:34Z"}, "message": "Rollup merge of #71945 - GuillaumeGomez:sort-impl-on-foreign-types-section, r=kinnison,ollie27\n\nSort \"implementations on foreign types\" section in the sidebar\n\nFixes #71926.\n\nWe were sorting by the ID instead of sorting by the name. They're not in the same order as the implementations but I think it makes more sense this way considering this is what we do for the methods as well.\n\nr? @kinnison\n\ncc @rust-lang/rustdoc", "tree": {"sha": "3294c708b9d7b5d78e4f7b8c1aae12e47e45f875", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3294c708b9d7b5d78e4f7b8c1aae12e47e45f875"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d22c18b3965ad9f0b291f3a5a0fd2b706717f337", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJet8qqCRBK7hj4Ov3rIwAAdHIIABSOUiSBofkplezvGiFnOK0S\n9tylKX0F7sV+zHt0ySFSE0Ufg5d91Qa7qFfH6LM7x46tsXqEeYCXnuruRzwiLheb\nU2a82u+mM6NScYQZi1o02WV14SGCf1l7Arh361KXEgQJ8EJkb+8ZydnkgAuiJ23L\n1fAMY4wbSn+f7SmtMbOlC/gY0tOC9xup7kyOahng7jJHXMKl5f0YFcOuCEfCrx5X\nRRwe304RTmyf2XMunS4Dh8Abb2NhMU3dRdqJrXlSDo3WxT1X8bvhOSqbEqvWPaNq\nwuzrQDDZG2SWYbXvCbEyZoBm6psXYLsgo8fHEOUAMHP33JVtE5aMGqEkYdza4wI=\n=EYyv\n-----END PGP SIGNATURE-----\n", "payload": "tree 3294c708b9d7b5d78e4f7b8c1aae12e47e45f875\nparent 37a91928268a36f1f071edb97b944063d8370422\nparent b865db046216b97d9ddc09ffaa1edb14c13ec17a\nauthor Ralf Jung <post@ralfj.de> 1589103274 +0200\ncommitter GitHub <noreply@github.com> 1589103274 +0200\n\nRollup merge of #71945 - GuillaumeGomez:sort-impl-on-foreign-types-section, r=kinnison,ollie27\n\nSort \"implementations on foreign types\" section in the sidebar\n\nFixes #71926.\n\nWe were sorting by the ID instead of sorting by the name. They're not in the same order as the implementations but I think it makes more sense this way considering this is what we do for the methods as well.\n\nr? @kinnison\n\ncc @rust-lang/rustdoc\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d22c18b3965ad9f0b291f3a5a0fd2b706717f337", "html_url": "https://github.com/rust-lang/rust/commit/d22c18b3965ad9f0b291f3a5a0fd2b706717f337", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d22c18b3965ad9f0b291f3a5a0fd2b706717f337/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "37a91928268a36f1f071edb97b944063d8370422", "url": "https://api.github.com/repos/rust-lang/rust/commits/37a91928268a36f1f071edb97b944063d8370422", "html_url": "https://github.com/rust-lang/rust/commit/37a91928268a36f1f071edb97b944063d8370422"}, {"sha": "b865db046216b97d9ddc09ffaa1edb14c13ec17a", "url": "https://api.github.com/repos/rust-lang/rust/commits/b865db046216b97d9ddc09ffaa1edb14c13ec17a", "html_url": "https://github.com/rust-lang/rust/commit/b865db046216b97d9ddc09ffaa1edb14c13ec17a"}], "stats": {"total": 15, "additions": 7, "deletions": 8}, "files": [{"sha": "4ad9651d563000f3e276475dce08db020b4e63e2", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 7, "deletions": 8, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/d22c18b3965ad9f0b291f3a5a0fd2b706717f337/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d22c18b3965ad9f0b291f3a5a0fd2b706717f337/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=d22c18b3965ad9f0b291f3a5a0fd2b706717f337", "patch": "@@ -4344,20 +4344,19 @@ fn sidebar_trait(buf: &mut Buffer, it: &clean::Item, t: &clean::Trait) {\n         let mut res = implementors\n             .iter()\n             .filter(|i| i.inner_impl().for_.def_id().map_or(false, |d| !c.paths.contains_key(&d)))\n-            .filter_map(|i| match extract_for_impl_name(&i.impl_item) {\n-                Some((ref name, ref id)) => {\n-                    Some(format!(\"<a href=\\\"#{}\\\">{}</a>\", id, Escape(name)))\n-                }\n-                _ => None,\n-            })\n-            .collect::<Vec<String>>();\n+            .filter_map(|i| extract_for_impl_name(&i.impl_item))\n+            .collect::<Vec<_>>();\n+\n         if !res.is_empty() {\n             res.sort();\n             sidebar.push_str(&format!(\n                 \"<a class=\\\"sidebar-title\\\" href=\\\"#foreign-impls\\\">\\\n                                        Implementations on Foreign Types</a><div \\\n                                        class=\\\"sidebar-links\\\">{}</div>\",\n-                res.join(\"\")\n+                res.into_iter()\n+                    .map(|(name, id)| format!(\"<a href=\\\"#{}\\\">{}</a>\", id, Escape(&name)))\n+                    .collect::<Vec<_>>()\n+                    .join(\"\")\n             ));\n         }\n     }"}]}