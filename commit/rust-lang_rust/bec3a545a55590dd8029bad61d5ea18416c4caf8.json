{"sha": "bec3a545a55590dd8029bad61d5ea18416c4caf8", "node_id": "C_kwDOAAsO6NoAKGJlYzNhNTQ1YTU1NTkwZGQ4MDI5YmFkNjFkNWVhMTg0MTZjNGNhZjg", "commit": {"author": {"name": "jam1garner", "email": "jam@jam1.re", "date": "2022-07-19T00:40:41Z"}, "committer": {"name": "jam1garner", "email": "jam@jam1.re", "date": "2022-07-19T00:40:41Z"}, "message": "Add support for MIPS VZ ISA extension", "tree": {"sha": "107db82de4dfa5fb336cf826cd7ec5a4b53ddc72", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/107db82de4dfa5fb336cf826cd7ec5a4b53ddc72"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bec3a545a55590dd8029bad61d5ea18416c4caf8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJABAABCAAqFiEEqxCgHQA1qmiFwKi3AMNXsmabaZ8FAmLV/YkMHGphbUBqYW0x\nLnJlAAoJEADDV7Jmm2mf7FIQAIyvPCilnZ0pT48pfoDiIH+8my17qo0updRAvFh6\nbONj+quXCWKyy+H0bMo7zX+DNbRE2UukTRmoYopaKJLlBUqeBsMCZea507EQYu8u\noJd7+QQRZ1lNa6/pmvG1NXXSJvPapPXroBImg255hsDrJ5Os93vZWcl6qd5VV3FI\nfCh0xdJRgv/Gh6x48X1OcQspEqrm/hYAziKmLYobs+tHNzEjTcvb1FPbcLC5yT2U\nGScb8YIgecWt0bNGS+j1YpWt1GQJ0b1mx3OkRdkzzia56ubJwht24KXHyrRV4At5\nhWxjgRCXZddYdbrR++BL+8bo2giZDJhLrj9p3xTie3wheGlKiO1fZcpNfUdfloh9\nVwPIr78bRtS34xtRRyx7LsoKiG7Suy1JRWK5YP+KkDHyOv1wLfY0CpPE/KqVJbBE\nUuZRFAaJ6dj53fwRpc0YEZZ1elce3SPTLazuXUHvavLVW4jtwm/GH+KbFvVKlAkO\ntuydyqr0+jbQ9UJg1wi03Pdlt4CI9+vbig9q513/DMF3iKqjUepkotPAmcsgvhO5\n9kwrst7oppAXsaE51pku34wTj3DPKwp7l5gS2n8ZIk4M4cKZ/GqTog2k8/1Tp7bu\nAvqC90fLVWOZ/uO//2aplNtRt3DQ0ZF47SYM5WEJYXz3CxJxf5Fkj+6VBQ2uvT2S\nT/6M\n=8gl0\n-----END PGP SIGNATURE-----", "payload": "tree 107db82de4dfa5fb336cf826cd7ec5a4b53ddc72\nparent ed9173276a176126150b4c684a4262a135ce51ef\nauthor jam1garner <jam@jam1.re> 1658191241 -0400\ncommitter jam1garner <jam@jam1.re> 1658191241 -0400\n\nAdd support for MIPS VZ ISA extension\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bec3a545a55590dd8029bad61d5ea18416c4caf8", "html_url": "https://github.com/rust-lang/rust/commit/bec3a545a55590dd8029bad61d5ea18416c4caf8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bec3a545a55590dd8029bad61d5ea18416c4caf8/comments", "author": {"login": "jam1garner", "id": 8260240, "node_id": "MDQ6VXNlcjgyNjAyNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8260240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jam1garner", "html_url": "https://github.com/jam1garner", "followers_url": "https://api.github.com/users/jam1garner/followers", "following_url": "https://api.github.com/users/jam1garner/following{/other_user}", "gists_url": "https://api.github.com/users/jam1garner/gists{/gist_id}", "starred_url": "https://api.github.com/users/jam1garner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jam1garner/subscriptions", "organizations_url": "https://api.github.com/users/jam1garner/orgs", "repos_url": "https://api.github.com/users/jam1garner/repos", "events_url": "https://api.github.com/users/jam1garner/events{/privacy}", "received_events_url": "https://api.github.com/users/jam1garner/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jam1garner", "id": 8260240, "node_id": "MDQ6VXNlcjgyNjAyNDA=", "avatar_url": "https://avatars.githubusercontent.com/u/8260240?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jam1garner", "html_url": "https://github.com/jam1garner", "followers_url": "https://api.github.com/users/jam1garner/followers", "following_url": "https://api.github.com/users/jam1garner/following{/other_user}", "gists_url": "https://api.github.com/users/jam1garner/gists{/gist_id}", "starred_url": "https://api.github.com/users/jam1garner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jam1garner/subscriptions", "organizations_url": "https://api.github.com/users/jam1garner/orgs", "repos_url": "https://api.github.com/users/jam1garner/repos", "events_url": "https://api.github.com/users/jam1garner/events{/privacy}", "received_events_url": "https://api.github.com/users/jam1garner/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ed9173276a176126150b4c684a4262a135ce51ef", "url": "https://api.github.com/repos/rust-lang/rust/commits/ed9173276a176126150b4c684a4262a135ce51ef", "html_url": "https://github.com/rust-lang/rust/commit/ed9173276a176126150b4c684a4262a135ce51ef"}], "stats": {"total": 11, "additions": 9, "deletions": 2}, "files": [{"sha": "47590c8578c56db3d94c1715195d1816c5e4eed1", "filename": "compiler/rustc_codegen_llvm/src/llvm_util.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bec3a545a55590dd8029bad61d5ea18416c4caf8/compiler%2Frustc_codegen_llvm%2Fsrc%2Fllvm_util.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bec3a545a55590dd8029bad61d5ea18416c4caf8/compiler%2Frustc_codegen_llvm%2Fsrc%2Fllvm_util.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_llvm%2Fsrc%2Fllvm_util.rs?ref=bec3a545a55590dd8029bad61d5ea18416c4caf8", "patch": "@@ -165,6 +165,10 @@ pub fn time_trace_profiler_finish(file_name: &Path) {\n //\n // To find a list of LLVM's names, check llvm-project/llvm/include/llvm/Support/*TargetParser.def\n // where the * matches the architecture's name\n+//\n+// For targets not present in the above location, see llvm-project/llvm/lib/Target/{ARCH}/*.td\n+// where `{ARCH}` is the architecture name. Look for instances of `SubtargetFeature`.\n+//\n // Beware to not use the llvm github project for this, but check the git submodule\n // found in src/llvm-project\n // Though note that Rust can also be build with an external precompiled version of LLVM"}, {"sha": "a3ad6a3fcbd4088bd26747cec1625c1d9669d46c", "filename": "compiler/rustc_codegen_ssa/src/target_features.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/bec3a545a55590dd8029bad61d5ea18416c4caf8/compiler%2Frustc_codegen_ssa%2Fsrc%2Ftarget_features.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bec3a545a55590dd8029bad61d5ea18416c4caf8/compiler%2Frustc_codegen_ssa%2Fsrc%2Ftarget_features.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_ssa%2Fsrc%2Ftarget_features.rs?ref=bec3a545a55590dd8029bad61d5ea18416c4caf8", "patch": "@@ -210,8 +210,11 @@ const POWERPC_ALLOWED_FEATURES: &[(&str, Option<Symbol>)] = &[\n     (\"vsx\", Some(sym::powerpc_target_feature)),\n ];\n \n-const MIPS_ALLOWED_FEATURES: &[(&str, Option<Symbol>)] =\n-    &[(\"fp64\", Some(sym::mips_target_feature)), (\"msa\", Some(sym::mips_target_feature))];\n+const MIPS_ALLOWED_FEATURES: &[(&str, Option<Symbol>)] = &[\n+    (\"fp64\", Some(sym::mips_target_feature)),\n+    (\"msa\", Some(sym::mips_target_feature)),\n+    (\"virt\", Some(sym::mips_target_feature)),\n+];\n \n const RISCV_ALLOWED_FEATURES: &[(&str, Option<Symbol>)] = &[\n     (\"m\", Some(sym::riscv_target_feature)),"}]}