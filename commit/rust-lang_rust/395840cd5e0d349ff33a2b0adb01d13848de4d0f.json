{"sha": "395840cd5e0d349ff33a2b0adb01d13848de4d0f", "node_id": "C_kwDOAAsO6NoAKDM5NTg0MGNkNWUwZDM0OWZmMzNhMmIwYWRiMDFkMTM4NDhkZTRkMGY", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2023-04-20T21:32:02Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2023-04-20T21:32:02Z"}, "message": "rustdoc-search: use more descriptive \"x not found; y instead\" message", "tree": {"sha": "873bff4643a94e3b97b4fcad0d301bccdcef0c4e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/873bff4643a94e3b97b4fcad0d301bccdcef0c4e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/395840cd5e0d349ff33a2b0adb01d13848de4d0f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/395840cd5e0d349ff33a2b0adb01d13848de4d0f", "html_url": "https://github.com/rust-lang/rust/commit/395840cd5e0d349ff33a2b0adb01d13848de4d0f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/395840cd5e0d349ff33a2b0adb01d13848de4d0f/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7529d874075df61209d3aa61b7072ba1714f4a17", "url": "https://api.github.com/repos/rust-lang/rust/commits/7529d874075df61209d3aa61b7072ba1714f4a17", "html_url": "https://github.com/rust-lang/rust/commit/7529d874075df61209d3aa61b7072ba1714f4a17"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "92e5f4089366fc93846cfa14f9957b41619d4f4b", "filename": "src/librustdoc/html/static/js/search.js", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/395840cd5e0d349ff33a2b0adb01d13848de4d0f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js", "raw_url": "https://github.com/rust-lang/rust/raw/395840cd5e0d349ff33a2b0adb01d13848de4d0f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsearch.js?ref=395840cd5e0d349ff33a2b0adb01d13848de4d0f", "patch": "@@ -2000,7 +2000,7 @@ function initSearch(rawSearchIndex) {\n                 : results.query.elems[0].name;\n             output += \"<h3 class=\\\"search-corrections\\\">\" +\n                 `Type \"${orig}\" not found. ` +\n-                \"Showing results for \" +\n+                \"Showing results for closest type name \" +\n                 `\"${results.query.correction}\" instead.</h3>`;\n         }\n "}, {"sha": "5d1b83b35c5ee16b4cca2e2d43b3cf6e172677fe", "filename": "tests/rustdoc-gui/search-corrections.goml", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/395840cd5e0d349ff33a2b0adb01d13848de4d0f/tests%2Frustdoc-gui%2Fsearch-corrections.goml", "raw_url": "https://github.com/rust-lang/rust/raw/395840cd5e0d349ff33a2b0adb01d13848de4d0f/tests%2Frustdoc-gui%2Fsearch-corrections.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frustdoc-gui%2Fsearch-corrections.goml?ref=395840cd5e0d349ff33a2b0adb01d13848de4d0f", "patch": "@@ -1,3 +1,5 @@\n+// ignore-tidy-linelength\n+\n // Checks that the search tab result tell the user about corrections\n // First, try a search-by-name\n go-to: \"file://\" + |DOC_PATH| + \"/test_docs/index.html\"\n@@ -22,7 +24,7 @@ assert-css: (\".search-corrections\", {\n })\n assert-text: (\n     \".search-corrections\",\n-    \"Type \\\"notablestructwithlongnamr\\\" not found. Showing results for \\\"notablestructwithlongname\\\" instead.\"\n+    \"Type \\\"notablestructwithlongnamr\\\" not found. Showing results for closest type name \\\"notablestructwithlongname\\\" instead.\"\n )\n \n // Corrections do get shown on the \"In Return Type\" tab.\n@@ -33,7 +35,7 @@ assert-css: (\".search-corrections\", {\n })\n assert-text: (\n     \".search-corrections\",\n-    \"Type \\\"notablestructwithlongnamr\\\" not found. Showing results for \\\"notablestructwithlongname\\\" instead.\"\n+    \"Type \\\"notablestructwithlongnamr\\\" not found. Showing results for closest type name \\\"notablestructwithlongname\\\" instead.\"\n )\n \n // Now, explicit return values\n@@ -50,5 +52,5 @@ assert-css: (\".search-corrections\", {\n })\n assert-text: (\n     \".search-corrections\",\n-    \"Type \\\"notablestructwithlongnamr\\\" not found. Showing results for \\\"notablestructwithlongname\\\" instead.\"\n+    \"Type \\\"notablestructwithlongnamr\\\" not found. Showing results for closest type name \\\"notablestructwithlongname\\\" instead.\"\n )"}]}