{"sha": "6363bc497529dbce3000ec213a8023112eebd512", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYzNjNiYzQ5NzUyOWRiY2UzMDAwZWMyMTNhODAyMzExMmVlYmQ1MTI=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-11-30T09:31:53Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-11-30T09:31:53Z"}, "message": "test should_panic checking the panic string", "tree": {"sha": "c1f7c693993ce9dd848ca1b50580e782ddc458e3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c1f7c693993ce9dd848ca1b50580e782ddc458e3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6363bc497529dbce3000ec213a8023112eebd512", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6363bc497529dbce3000ec213a8023112eebd512", "html_url": "https://github.com/rust-lang/rust/commit/6363bc497529dbce3000ec213a8023112eebd512", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6363bc497529dbce3000ec213a8023112eebd512/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e1b639afcadde8a1a82dac8eb0b5357c3741420c", "url": "https://api.github.com/repos/rust-lang/rust/commits/e1b639afcadde8a1a82dac8eb0b5357c3741420c", "html_url": "https://github.com/rust-lang/rust/commit/e1b639afcadde8a1a82dac8eb0b5357c3741420c"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "ce85f929049bc28c40f597685901f0e194f35af4", "filename": "test-cargo-miri/tests/test.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6363bc497529dbce3000ec213a8023112eebd512/test-cargo-miri%2Ftests%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6363bc497529dbce3000ec213a8023112eebd512/test-cargo-miri%2Ftests%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/test-cargo-miri%2Ftests%2Ftest.rs?ref=6363bc497529dbce3000ec213a8023112eebd512", "patch": "@@ -12,7 +12,7 @@ fn simple2() {\n     assert_ne!(42, 24);\n }\n \n-// A test that won't work on miri (tests disabling tests)\n+// A test that won't work on miri (tests disabling tests).\n #[cfg(not(miri))]\n #[test]\n fn does_not_work_on_miri() {\n@@ -45,9 +45,9 @@ fn num_cpus() {\n \n // FIXME: Remove this `cfg` once we fix https://github.com/rust-lang/miri/issues/1059\n // We cfg-gate the `should_panic` attribute and the `panic!` itself, so that the test\n-// stdout does not depend on the platform\n+// stdout does not depend on the platform.\n #[test]\n-#[cfg_attr(not(windows), should_panic)]\n+#[cfg_attr(not(windows), should_panic(expected=\"Explicit panic\"))]\n fn do_panic() { // In large, friendly letters :)\n     #[cfg(not(windows))]\n     panic!(\"Explicit panic from test!\");"}]}