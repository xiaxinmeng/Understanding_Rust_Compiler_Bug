{"sha": "59cc8636b72e944d22b065874646ad14d44010a9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU5Y2M4NjM2YjcyZTk0NGQyMmIwNjU4NzQ2NDZhZDE0ZDQ0MDEwYTk=", "commit": {"author": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-11-01T13:47:13Z"}, "committer": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-11-01T13:47:13Z"}, "message": "Fix file timestamp extraction in tutorial builder", "tree": {"sha": "43fead755b2656c398baf6541d9083cbceedec85", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/43fead755b2656c398baf6541d9083cbceedec85"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/59cc8636b72e944d22b065874646ad14d44010a9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/59cc8636b72e944d22b065874646ad14d44010a9", "html_url": "https://github.com/rust-lang/rust/commit/59cc8636b72e944d22b065874646ad14d44010a9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/59cc8636b72e944d22b065874646ad14d44010a9/comments", "author": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aa01876c95a3f50ef6129f1501d97c7a6bb0e856", "url": "https://api.github.com/repos/rust-lang/rust/commits/aa01876c95a3f50ef6129f1501d97c7a6bb0e856", "html_url": "https://github.com/rust-lang/rust/commit/aa01876c95a3f50ef6129f1501d97c7a6bb0e856"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "edefdfe32017d26a51c69cb30037ee15d25d637a", "filename": "doc/tutorial/build.js", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/59cc8636b72e944d22b065874646ad14d44010a9/doc%2Ftutorial%2Fbuild.js", "raw_url": "https://github.com/rust-lang/rust/raw/59cc8636b72e944d22b065874646ad14d44010a9/doc%2Ftutorial%2Fbuild.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Ftutorial%2Fbuild.js?ref=59cc8636b72e944d22b065874646ad14d44010a9", "patch": "@@ -24,13 +24,13 @@ function fileDates(file, c) {\n   function takeTime(str) {\n     return Number(str.match(/^(\\S+)\\s/)[1]) * 1000;\n   }\n-  require(\"child_process\").exec(\"git rev-list --timestamp HEAD -- \" + file, function(err, stdout) {\n+  require(\"child_process\").exec(\"git rev-list --timestamp HEAD -- \" + file + \".md\", function(err, stdout) {\n     if (err != null) { console.log(\"Failed to run git rev-list\"); return; }\n     var history = stdout.split(\"\\n\");\n     if (history.length && history[history.length-1] == \"\") history.pop();\n-    var created = history.length ? takeTime(history[0]) : Date.now();\n+    var created = history.length ? takeTime(history[history.length-1]) : Date.now();\n     var modified = created;\n-    if (history.length > 1) modified = takeTime(history[history.length-1]);\n+    if (history.length > 1) modified = takeTime(history[0]);\n     c(created, modified);\n   });\n }"}]}