{"sha": "50799265ca7f1d33d52a3f99337a4da83a190f5a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjUwNzk5MjY1Y2E3ZjFkMzNkNTJhM2Y5OTMzN2E0ZGE4M2ExOTBmNWE=", "commit": {"author": {"name": "Mark Simulacrum", "email": "mark.simulacrum@gmail.com", "date": "2017-07-10T17:43:02Z"}, "committer": {"name": "Mark Simulacrum", "email": "mark.simulacrum@gmail.com", "date": "2017-07-10T17:43:02Z"}, "message": "Test src/doc once more", "tree": {"sha": "18b4ea3452dbb37d4ea649c9f436cef63b27e458", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/18b4ea3452dbb37d4ea649c9f436cef63b27e458"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/50799265ca7f1d33d52a3f99337a4da83a190f5a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/50799265ca7f1d33d52a3f99337a4da83a190f5a", "html_url": "https://github.com/rust-lang/rust/commit/50799265ca7f1d33d52a3f99337a4da83a190f5a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/50799265ca7f1d33d52a3f99337a4da83a190f5a/comments", "author": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d84693b93dae3958e3504f817face0184c5c3fdd", "url": "https://api.github.com/repos/rust-lang/rust/commits/d84693b93dae3958e3504f817face0184c5c3fdd", "html_url": "https://github.com/rust-lang/rust/commit/d84693b93dae3958e3504f817face0184c5c3fdd"}], "stats": {"total": 25, "additions": 15, "deletions": 10}, "files": [{"sha": "371512908a03191fd9bba477d789f7b9f91fbefc", "filename": "src/bootstrap/check.rs", "status": "modified", "additions": 11, "deletions": 6, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/50799265ca7f1d33d52a3f99337a4da83a190f5a/src%2Fbootstrap%2Fcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/50799265ca7f1d33d52a3f99337a4da83a190f5a/src%2Fbootstrap%2Fcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fcheck.rs?ref=50799265ca7f1d33d52a3f99337a4da83a190f5a", "patch": "@@ -334,15 +334,20 @@ pub fn docs(build: &Build, compiler: &Compiler) {\n \n     while let Some(p) = stack.pop() {\n         if p.is_dir() {\n-            stack.extend(t!(p.read_dir()).map(|p| t!(p).path()).filter(|p| {\n-                p.extension().and_then(|s| s.to_str()) == Some(\"md\") &&\n-                // The nostarch directory in the book is for no starch, and so isn't guaranteed to\n-                // build. We don't care if it doesn't build, so skip it.\n-                p.to_str().map_or(true, |p| !p.contains(\"nostarch\"))\n-            }));\n+            stack.extend(t!(p.read_dir()).map(|p| t!(p).path()));\n             continue\n         }\n \n+        if p.extension().and_then(|s| s.to_str()) != Some(\"md\") {\n+            continue;\n+        }\n+\n+        // The nostarch directory in the book is for no starch, and so isn't\n+        // guaranteed to build. We don't care if it doesn't build, so skip it.\n+        if p.to_str().map_or(false, |p| p.contains(\"nostarch\")) {\n+            continue;\n+        }\n+\n         markdown_test(build, compiler, &p);\n     }\n }"}, {"sha": "eee5ffb12773469bc02895d6b5e7e663b3a572a2", "filename": "src/doc/nomicon", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fnomicon?ref=50799265ca7f1d33d52a3f99337a4da83a190f5a", "patch": "@@ -1 +1 @@\n-Subproject commit c0e8c56d76bdf6bd16c64338f81c04d48c60f117\n+Subproject commit eee5ffb12773469bc02895d6b5e7e663b3a572a2"}, {"sha": "4de631e1fb30775f235db383ee6e0be0badce63e", "filename": "src/doc/unstable-book/src/language-features/compile-error.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/50799265ca7f1d33d52a3f99337a4da83a190f5a/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fcompile-error.md", "raw_url": "https://github.com/rust-lang/rust/raw/50799265ca7f1d33d52a3f99337a4da83a190f5a/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fcompile-error.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fcompile-error.md?ref=50799265ca7f1d33d52a3f99337a4da83a190f5a", "patch": "@@ -11,7 +11,7 @@ error with the specified error message.\n \n ## Examples\n \n-```rust\n+```rust,compile_fail\n #![feature(compile_error)]\n \n fn main() {"}, {"sha": "b3e6925b666b77dd30fb44c5ba933a0e21a273b9", "filename": "src/doc/unstable-book/src/language-features/global-allocator.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/50799265ca7f1d33d52a3f99337a4da83a190f5a/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fglobal-allocator.md", "raw_url": "https://github.com/rust-lang/rust/raw/50799265ca7f1d33d52a3f99337a4da83a190f5a/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fglobal-allocator.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fglobal-allocator.md?ref=50799265ca7f1d33d52a3f99337a4da83a190f5a", "patch": "@@ -27,7 +27,7 @@ looks like:\n [RFC 1974]: https://github.com/rust-lang/rfcs/pull/1974\n \n ```rust\n-#![feature(global_allocator, heap_api)]\n+#![feature(global_allocator, allocator_api, heap_api)]\n \n use std::heap::{Alloc, System, Layout, AllocErr};\n "}, {"sha": "731d2acbfdd5acc1f2856ced63146cc517d1c0cd", "filename": "src/doc/unstable-book/src/language-features/unsized-tuple-coercion.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/50799265ca7f1d33d52a3f99337a4da83a190f5a/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Funsized-tuple-coercion.md", "raw_url": "https://github.com/rust-lang/rust/raw/50799265ca7f1d33d52a3f99337a4da83a190f5a/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Funsized-tuple-coercion.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Funsized-tuple-coercion.md?ref=50799265ca7f1d33d52a3f99337a4da83a190f5a", "patch": "@@ -8,7 +8,7 @@ The tracking issue for this feature is: [#42877]\n \n This is a part of [RFC0401]. According to the RFC, there should be an implementation like this:\n \n-```rust\n+```rust,ignore\n impl<..., T, U: ?Sized> Unsized<(..., U)> for (..., T) where T: Unsized<U> {}\n ```\n "}]}