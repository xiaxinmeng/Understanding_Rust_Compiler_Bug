{"sha": "9698e8fd17a3517bc5904ceb74e0bdbf7e332413", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk2OThlOGZkMTdhMzUxN2JjNTkwNGNlYjc0ZTBiZGJmN2UzMzI0MTM=", "commit": {"author": {"name": "Martin Wernst\u00e5l", "email": "m4rw3r@gmail.com", "date": "2015-08-16T15:20:37Z"}, "committer": {"name": "Martin Wernst\u00e5l", "email": "m4rw3r@gmail.com", "date": "2015-08-16T20:15:26Z"}, "message": "rustdoc: Print feature flag and issue link if present in short_stability", "tree": {"sha": "b7a5b20dcc19c6bbbf86d991db9568168a07dbcf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b7a5b20dcc19c6bbbf86d991db9568168a07dbcf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9698e8fd17a3517bc5904ceb74e0bdbf7e332413", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9698e8fd17a3517bc5904ceb74e0bdbf7e332413", "html_url": "https://github.com/rust-lang/rust/commit/9698e8fd17a3517bc5904ceb74e0bdbf7e332413", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9698e8fd17a3517bc5904ceb74e0bdbf7e332413/comments", "author": {"login": "m4rw3r", "id": 108100, "node_id": "MDQ6VXNlcjEwODEwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/108100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m4rw3r", "html_url": "https://github.com/m4rw3r", "followers_url": "https://api.github.com/users/m4rw3r/followers", "following_url": "https://api.github.com/users/m4rw3r/following{/other_user}", "gists_url": "https://api.github.com/users/m4rw3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/m4rw3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m4rw3r/subscriptions", "organizations_url": "https://api.github.com/users/m4rw3r/orgs", "repos_url": "https://api.github.com/users/m4rw3r/repos", "events_url": "https://api.github.com/users/m4rw3r/events{/privacy}", "received_events_url": "https://api.github.com/users/m4rw3r/received_events", "type": "User", "site_admin": false}, "committer": {"login": "m4rw3r", "id": 108100, "node_id": "MDQ6VXNlcjEwODEwMA==", "avatar_url": "https://avatars.githubusercontent.com/u/108100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m4rw3r", "html_url": "https://github.com/m4rw3r", "followers_url": "https://api.github.com/users/m4rw3r/followers", "following_url": "https://api.github.com/users/m4rw3r/following{/other_user}", "gists_url": "https://api.github.com/users/m4rw3r/gists{/gist_id}", "starred_url": "https://api.github.com/users/m4rw3r/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m4rw3r/subscriptions", "organizations_url": "https://api.github.com/users/m4rw3r/orgs", "repos_url": "https://api.github.com/users/m4rw3r/repos", "events_url": "https://api.github.com/users/m4rw3r/events{/privacy}", "received_events_url": "https://api.github.com/users/m4rw3r/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b31038764dbc060b8fcccdee89e5e43072428458", "url": "https://api.github.com/repos/rust-lang/rust/commits/b31038764dbc060b8fcccdee89e5e43072428458", "html_url": "https://github.com/rust-lang/rust/commit/b31038764dbc060b8fcccdee89e5e43072428458"}], "stats": {"total": 23, "additions": 19, "deletions": 4}, "files": [{"sha": "c36fb95be42b299f0416c66f0544785c27e65897", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/9698e8fd17a3517bc5904ceb74e0bdbf7e332413/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9698e8fd17a3517bc5904ceb74e0bdbf7e332413/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=9698e8fd17a3517bc5904ceb74e0bdbf7e332413", "patch": "@@ -1709,7 +1709,22 @@ fn short_stability(item: &clean::Item, cx: &Context, show_reason: bool) -> Optio\n             };\n             format!(\"Deprecated{}{}\", since, Markdown(&reason))\n         } else if stab.level == attr::Unstable {\n-            format!(\"Unstable{}\", Markdown(&reason))\n+            let unstable_extra = if show_reason {\n+                match (!stab.feature.is_empty(), &cx.issue_tracker_base_url, stab.issue) {\n+                    (true, &Some(ref tracker_url), Some(issue_no)) =>\n+                        format!(\" (<code>{}</code> <a href=\\\"{}{}\\\">#{}</a>)\", Escape(&stab.feature),\n+                                tracker_url, issue_no, issue_no),\n+                    (false, &Some(ref tracker_url), Some(issue_no)) =>\n+                        format!(\" (<a href=\\\"{}{}\\\">#{}</a>)\", Escape(&tracker_url), issue_no,\n+                                issue_no),\n+                    (true, _, _) =>\n+                        format!(\" (<code>{}</code>)\", Escape(&stab.feature)),\n+                    _ => String::new(),\n+                }\n+            } else {\n+                String::new()\n+            };\n+            format!(\"Unstable{}{}\", unstable_extra, Markdown(&reason))\n         } else {\n             return None\n         };"}, {"sha": "ea1c1ae283fd39ed7ec6adce2173665a55aa51a4", "filename": "src/librustdoc/html/static/main.css", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/9698e8fd17a3517bc5904ceb74e0bdbf7e332413/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "raw_url": "https://github.com/rust-lang/rust/raw/9698e8fd17a3517bc5904ceb74e0bdbf7e332413/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.css?ref=9698e8fd17a3517bc5904ceb74e0bdbf7e332413", "patch": "@@ -123,7 +123,7 @@ code, pre {\n     font-family: \"Source Code Pro\", Menlo, Monaco, Consolas, \"DejaVu Sans Mono\", Inconsolata, monospace;\n     white-space: pre-wrap;\n }\n-.docblock code {\n+.docblock code, .stability code {\n     background-color: #F5F5F5;\n     border-radius: 3px;\n     padding: 0 0.2em;\n@@ -387,11 +387,11 @@ a {\n     background: transparent;\n }\n \n-.docblock a {\n+.docblock a, .stability a {\n     color: #4e8bca;\n }\n \n-.docblock a:hover {\n+.docblock a:hover, .stability a {\n     text-decoration: underline;\n }\n "}]}