{"sha": "14de9e54a6d9ef070399b34a11634294a8cc3ca5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE0ZGU5ZTU0YTZkOWVmMDcwMzk5YjM0YTExNjM0Mjk0YThjYzNjYTU=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-02-21T17:34:54Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-02-21T17:34:54Z"}, "message": "Merge #7739\n\n7739: Bump deps r=lnicola a=lnicola\n\nCloses #7273\r\n\r\nbors r+\n\nCo-authored-by: Lauren\u021biu Nicola <lnicola@dend.ro>", "tree": {"sha": "2fcc4a63edebc2d9055b3a614575d8578d38f33d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2fcc4a63edebc2d9055b3a614575d8578d38f33d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/14de9e54a6d9ef070399b34a11634294a8cc3ca5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgMpm+CRBK7hj4Ov3rIwAAdHIIAJMspsafSjwGviYr64Kthz/5\nPf/Rf1gn6t8pPsJ89Pk+AoRZNAe0UaYG3UGI4ebdkjO6Atf8ZeAbWXhYq7mCv8vZ\nqY0k6c0GWT/aluSKA1bCoieBS3Tq5mSQHpi2jRtojmptYEsPXMYQkM7mx18AXSWI\njYVVlZu2wAYqPXwJIVWptnQCbQFwgF4yae9Npa3/ZZJh5cvx6650bHdLXzEOoJzE\nquPnVbzIaNcjwkA5S6EKYJS3ezpx51EZed9NhQwmrYe6Ktr5jsOYcaUNACaHWLci\ndlITAx/vWuQz43+DXwvptRMKLHCmSdOraThZxaAtOGeaci9MRj3P1rf8/7cDJSE=\n=KJp0\n-----END PGP SIGNATURE-----\n", "payload": "tree 2fcc4a63edebc2d9055b3a614575d8578d38f33d\nparent 238f3a51733afc564215d14d3366d2cbc4b7a64a\nparent 6c0f7a2f56016b2ded22460806d13026e9489a69\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1613928894 +0000\ncommitter GitHub <noreply@github.com> 1613928894 +0000\n\nMerge #7739\n\n7739: Bump deps r=lnicola a=lnicola\n\nCloses #7273\r\n\r\nbors r+\n\nCo-authored-by: Lauren\u021biu Nicola <lnicola@dend.ro>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/14de9e54a6d9ef070399b34a11634294a8cc3ca5", "html_url": "https://github.com/rust-lang/rust/commit/14de9e54a6d9ef070399b34a11634294a8cc3ca5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/14de9e54a6d9ef070399b34a11634294a8cc3ca5/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "238f3a51733afc564215d14d3366d2cbc4b7a64a", "url": "https://api.github.com/repos/rust-lang/rust/commits/238f3a51733afc564215d14d3366d2cbc4b7a64a", "html_url": "https://github.com/rust-lang/rust/commit/238f3a51733afc564215d14d3366d2cbc4b7a64a"}, {"sha": "6c0f7a2f56016b2ded22460806d13026e9489a69", "url": "https://api.github.com/repos/rust-lang/rust/commits/6c0f7a2f56016b2ded22460806d13026e9489a69", "html_url": "https://github.com/rust-lang/rust/commit/6c0f7a2f56016b2ded22460806d13026e9489a69"}], "stats": {"total": 128, "additions": 100, "deletions": 28}, "files": [{"sha": "2a8ef7ef371897002b6700bc3d15a7b15b816027", "filename": "Cargo.lock", "status": "modified", "additions": 50, "deletions": 23, "changes": 73, "blob_url": "https://github.com/rust-lang/rust/blob/14de9e54a6d9ef070399b34a11634294a8cc3ca5/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/14de9e54a6d9ef070399b34a11634294a8cc3ca5/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=14de9e54a6d9ef070399b34a11634294a8cc3ca5", "patch": "@@ -1,5 +1,7 @@\n # This file is automatically @generated by Cargo.\n # It is not intended for manual editing.\n+version = 3\n+\n [[package]]\n name = \"addr2line\"\n version = \"0.14.1\"\n@@ -172,9 +174,9 @@ checksum = \"baf1de4339761588bc0619e3cbc0120ee582ebb74b53b4efbf79117bd2da40fd\"\n \n [[package]]\n name = \"chalk-derive\"\n-version = \"0.56.0\"\n+version = \"0.58.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"51f6c7a4b1a119cff6c5a17cf68056069dece7bc525c2a2e26e1117e27f48ca2\"\n+checksum = \"e625b7c688272783140509a0de8f7aa9000217cb0982c9b10606a12b0b747ba8\"\n dependencies = [\n  \"proc-macro2\",\n  \"quote\",\n@@ -184,9 +186,9 @@ dependencies = [\n \n [[package]]\n name = \"chalk-ir\"\n-version = \"0.56.0\"\n+version = \"0.58.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"7d5f524bc3a5798fe3711c360fde350bffb938b52ef7b302d637550229995e20\"\n+checksum = \"c220d870128959d7d56667060d556ffdebd490f32ee0fc9f4060a76c1193f206\"\n dependencies = [\n  \"bitflags\",\n  \"chalk-derive\",\n@@ -195,9 +197,9 @@ dependencies = [\n \n [[package]]\n name = \"chalk-recursive\"\n-version = \"0.56.0\"\n+version = \"0.58.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f7c0525fb9c43f8f1d7ba4fb42f9ada2a2415901a04b5c655cfe11e559085d4d\"\n+checksum = \"7d8cd81a15aa936215378e695a8907b9f1af8626a27a32ee22e97a50984960da\"\n dependencies = [\n  \"chalk-derive\",\n  \"chalk-ir\",\n@@ -208,9 +210,9 @@ dependencies = [\n \n [[package]]\n name = \"chalk-solve\"\n-version = \"0.56.0\"\n+version = \"0.58.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3c2e7b54add0f18d5ee7bb043a3108b819e60b1b409d214291bcdc97927cdc32\"\n+checksum = \"55571250dfe096a4c899be88c81418284c952ce1c8a06aa16afb5781b298e9c9\"\n dependencies = [\n  \"chalk-derive\",\n  \"chalk-ir\",\n@@ -245,12 +247,6 @@ dependencies = [\n  \"cc\",\n ]\n \n-[[package]]\n-name = \"const_fn\"\n-version = \"0.4.5\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"28b9d6de7f49e22cf97ad17fc4036ece69300032f45f78f30b4a4482cdc3f4a6\"\n-\n [[package]]\n name = \"countme\"\n version = \"2.0.4\"\n@@ -294,27 +290,28 @@ dependencies = [\n \n [[package]]\n name = \"crossbeam-epoch\"\n-version = \"0.9.1\"\n+version = \"0.9.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"a1aaa739f95311c2c7887a76863f500026092fb1dce0161dab577e559ef3569d\"\n+checksum = \"d60ab4a8dba064f2fbb5aa270c28da5cf4bbd0e72dae1140a6b0353a779dbe00\"\n dependencies = [\n  \"cfg-if\",\n- \"const_fn\",\n  \"crossbeam-utils\",\n  \"lazy_static\",\n+ \"loom\",\n  \"memoffset\",\n  \"scopeguard\",\n ]\n \n [[package]]\n name = \"crossbeam-utils\"\n-version = \"0.8.1\"\n+version = \"0.8.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"02d96d1e189ef58269ebe5b97953da3274d83a93af647c2ddd6f9dab28cedb8d\"\n+checksum = \"bae8f328835f8f5a6ceb6a7842a7f2d0c03692adb5c889347235d59194731fe3\"\n dependencies = [\n  \"autocfg\",\n  \"cfg-if\",\n  \"lazy_static\",\n+ \"loom\",\n ]\n \n [[package]]\n@@ -457,6 +454,19 @@ version = \"0.4.5\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"d79238883cf0307100b90aba4a755d8051a3182305dfe7f649a1e9dc0517006f\"\n \n+[[package]]\n+name = \"generator\"\n+version = \"0.6.24\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"a9fed24fd1e18827652b4d55652899a1e9da8e54d91624dc3437a5bc3a9f9a9c\"\n+dependencies = [\n+ \"cc\",\n+ \"libc\",\n+ \"log\",\n+ \"rustversion\",\n+ \"winapi\",\n+]\n+\n [[package]]\n name = \"gimli\"\n version = \"0.23.0\"\n@@ -820,6 +830,17 @@ dependencies = [\n  \"cfg-if\",\n ]\n \n+[[package]]\n+name = \"loom\"\n+version = \"0.4.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"d44c73b4636e497b4917eb21c33539efa3816741a2d3ff26c6316f1b529481a4\"\n+dependencies = [\n+ \"cfg-if\",\n+ \"generator\",\n+ \"scoped-tls\",\n+]\n+\n [[package]]\n name = \"lsp-server\"\n version = \"0.5.0\"\n@@ -1299,9 +1320,9 @@ checksum = \"b5eb417147ba9860a96cfe72a0b93bf88fee1744b5636ec99ab20c1aa9376581\"\n \n [[package]]\n name = \"rowan\"\n-version = \"0.12.5\"\n+version = \"0.12.6\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"e29b035c9f476b43074a36257464c487788a0a1b9aaf427b068dc147135eb1ab\"\n+checksum = \"a1b36e449f3702f3b0c821411db1cbdf30fb451726a9456dce5dabcd44420043\"\n dependencies = [\n  \"countme\",\n  \"hashbrown\",\n@@ -1364,9 +1385,9 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_lexer\"\n-version = \"705.0.0\"\n+version = \"707.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"3a030d00510966cd31e13dca5e6c1bd40d303a932c54eca40e854188bca8c49e\"\n+checksum = \"e27206aceb3b2153a3c367727d534362a1ce63a43ece8fd878195738a83aaf6f\"\n dependencies = [\n  \"unicode-xid\",\n ]\n@@ -1383,6 +1404,12 @@ version = \"1.1.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"08d43f7aa6b08d49f382cde6a7982047c3426db949b1424bc4b7ec9ae12c6ce2\"\n \n+[[package]]\n+name = \"rustversion\"\n+version = \"1.0.4\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"cb5d2a036dc6d2d8fd16fde3498b04306e29bd193bf306a57427019b823d5acd\"\n+\n [[package]]\n name = \"ryu\"\n version = \"1.0.5\""}, {"sha": "6ef9d1e7e03b787152a3e89b1ae8c216a2a4d461", "filename": "crates/hir_ty/Cargo.toml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/14de9e54a6d9ef070399b34a11634294a8cc3ca5/crates%2Fhir_ty%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/14de9e54a6d9ef070399b34a11634294a8cc3ca5/crates%2Fhir_ty%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2FCargo.toml?ref=14de9e54a6d9ef070399b34a11634294a8cc3ca5", "patch": "@@ -17,9 +17,9 @@ ena = \"0.14.0\"\n log = \"0.4.8\"\n rustc-hash = \"1.1.0\"\n scoped-tls = \"1\"\n-chalk-solve = { version = \"0.56\", default-features = false }\n-chalk-ir = \"0.56\"\n-chalk-recursive = \"0.56\"\n+chalk-solve = { version = \"0.58\", default-features = false }\n+chalk-ir = \"0.58\"\n+chalk-recursive = \"0.58\"\n la-arena = { version = \"0.2.0\", path = \"../../lib/arena\" }\n \n stdx = { path = \"../stdx\", version = \"0.0.0\" }"}, {"sha": "a9901d7b8523392758a3e0b32bd3bf0cf690bf0d", "filename": "crates/hir_ty/src/tests/method_resolution.rs", "status": "modified", "additions": 45, "deletions": 0, "changes": 45, "blob_url": "https://github.com/rust-lang/rust/blob/14de9e54a6d9ef070399b34a11634294a8cc3ca5/crates%2Fhir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs", "raw_url": "https://github.com/rust-lang/rust/raw/14de9e54a6d9ef070399b34a11634294a8cc3ca5/crates%2Fhir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Ftests%2Fmethod_resolution.rs?ref=14de9e54a6d9ef070399b34a11634294a8cc3ca5", "patch": "@@ -955,6 +955,51 @@ fn test() { foo.call(); }\n     );\n }\n \n+#[test]\n+fn super_trait_impl_return_trait_method_resolution() {\n+    check_infer(\n+        r#\"\n+        trait Base {\n+            fn foo(self) -> usize;\n+        }\n+\n+        trait Super : Base {}\n+\n+        fn base1() -> impl Base { loop {} }\n+        fn super1() -> impl Super { loop {} }\n+\n+        fn test(base2: impl Base, super2: impl Super) {\n+            base1().foo();\n+            super1().foo();\n+            base2.foo();\n+            super2.foo();\n+        }\n+        \"#,\n+        expect![[r#\"\n+            24..28 'self': Self\n+            90..101 '{ loop {} }': !\n+            92..99 'loop {}': !\n+            97..99 '{}': ()\n+            128..139 '{ loop {} }': !\n+            130..137 'loop {}': !\n+            135..137 '{}': ()\n+            149..154 'base2': impl Base\n+            167..173 'super2': impl Super\n+            187..264 '{     ...o(); }': ()\n+            193..198 'base1': fn base1() -> impl Base\n+            193..200 'base1()': impl Base\n+            193..206 'base1().foo()': usize\n+            212..218 'super1': fn super1() -> impl Super\n+            212..220 'super1()': impl Super\n+            212..226 'super1().foo()': usize\n+            232..237 'base2': impl Base\n+            232..243 'base2.foo()': usize\n+            249..255 'super2': impl Super\n+            249..261 'super2.foo()': usize\n+        \"#]],\n+    );\n+}\n+\n #[test]\n fn method_resolution_non_parameter_type() {\n     check_types("}, {"sha": "e41171b57a731356e1d9685a26ecf13dbd9abecd", "filename": "crates/syntax/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/14de9e54a6d9ef070399b34a11634294a8cc3ca5/crates%2Fsyntax%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/14de9e54a6d9ef070399b34a11634294a8cc3ca5/crates%2Fsyntax%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fsyntax%2FCargo.toml?ref=14de9e54a6d9ef070399b34a11634294a8cc3ca5", "patch": "@@ -13,7 +13,7 @@ doctest = false\n [dependencies]\n itertools = \"0.10.0\"\n rowan = \"0.12.2\"\n-rustc_lexer = { version = \"705.0.0\", package = \"rustc-ap-rustc_lexer\" }\n+rustc_lexer = { version = \"707.0.0\", package = \"rustc-ap-rustc_lexer\" }\n rustc-hash = \"1.1.0\"\n arrayvec = \"0.5.1\"\n once_cell = \"1.3.1\""}, {"sha": "b379797f983d89f96a472a253dc4a154620f5153", "filename": "xtask/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/14de9e54a6d9ef070399b34a11634294a8cc3ca5/xtask%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/14de9e54a6d9ef070399b34a11634294a8cc3ca5/xtask%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/xtask%2FCargo.toml?ref=14de9e54a6d9ef070399b34a11634294a8cc3ca5", "patch": "@@ -15,7 +15,7 @@ flate2 = \"1.0\"\n pico-args = \"0.4.0\"\n proc-macro2 = \"1.0.8\"\n quote = \"1.0.2\"\n-ungrammar = \"1.9\"\n+ungrammar = \"=1.11\"\n walkdir = \"2.3.1\"\n write-json = \"0.1.0\"\n xshell = \"0.1\""}]}