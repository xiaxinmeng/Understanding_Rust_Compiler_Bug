{"sha": "ccec777f929c9a3094caa37842367c21387d95a0", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNjZWM3NzdmOTI5YzlhMzA5NGNhYTM3ODQyMzY3YzIxMzg3ZDk1YTA=", "commit": {"author": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2018-03-22T07:09:21Z"}, "committer": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2018-03-22T07:09:21Z"}, "message": "Cargo fmt and update tests", "tree": {"sha": "0c4be9b15dee42adea101813ede79eae5b2242ba", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0c4be9b15dee42adea101813ede79eae5b2242ba"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ccec777f929c9a3094caa37842367c21387d95a0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ccec777f929c9a3094caa37842367c21387d95a0", "html_url": "https://github.com/rust-lang/rust/commit/ccec777f929c9a3094caa37842367c21387d95a0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ccec777f929c9a3094caa37842367c21387d95a0/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6115dcdbdcd6ec0087172829851dfce9a33c59b6", "url": "https://api.github.com/repos/rust-lang/rust/commits/6115dcdbdcd6ec0087172829851dfce9a33c59b6", "html_url": "https://github.com/rust-lang/rust/commit/6115dcdbdcd6ec0087172829851dfce9a33c59b6"}], "stats": {"total": 99, "additions": 49, "deletions": 50}, "files": [{"sha": "990e25966603746273f81afbe16048e4d1b2aa77", "filename": "src/cargo-fmt/main.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ccec777f929c9a3094caa37842367c21387d95a0/src%2Fcargo-fmt%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ccec777f929c9a3094caa37842367c21387d95a0/src%2Fcargo-fmt%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcargo-fmt%2Fmain.rs?ref=ccec777f929c9a3094caa37842367c21387d95a0", "patch": "@@ -97,7 +97,7 @@ fn execute() -> i32 {\n }\n \n macro_rules! print_usage {\n-    ($print: ident, $opts: ident, $reason: expr) => {{\n+    ($print:ident, $opts:ident, $reason:expr) => {{\n         let msg = format!(\"{}\\nusage: cargo fmt [options]\", $reason);\n         $print!(\n             \"{}\\nThis utility formats all bin and lib files of the current crate using rustfmt. \\"}, {"sha": "d1679fb9e4f06e816dc07f1bfc8b0b4c08bda21e", "filename": "src/macros.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ccec777f929c9a3094caa37842367c21387d95a0/src%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ccec777f929c9a3094caa37842367c21387d95a0/src%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fmacros.rs?ref=ccec777f929c9a3094caa37842367c21387d95a0", "patch": "@@ -103,7 +103,7 @@ impl Rewrite for MacroArg {\n \n fn parse_macro_arg(parser: &mut Parser) -> Option<MacroArg> {\n     macro_rules! parse_macro_arg {\n-        ($macro_arg: ident, $parser: ident) => {\n+        ($macro_arg:ident, $parser:ident) => {\n             let mut cloned_parser = (*parser).clone();\n             match cloned_parser.$parser() {\n                 Ok(x) => {"}, {"sha": "bcbf6bd60601e7d13ca215ddf7dbcb246e85df6e", "filename": "src/spanned.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ccec777f929c9a3094caa37842367c21387d95a0/src%2Fspanned.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ccec777f929c9a3094caa37842367c21387d95a0/src%2Fspanned.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fspanned.rs?ref=ccec777f929c9a3094caa37842367c21387d95a0", "patch": "@@ -20,7 +20,7 @@ pub trait Spanned {\n }\n \n macro_rules! span_with_attrs_lo_hi {\n-    ($this: ident, $lo: expr, $hi: expr) => {{\n+    ($this:ident, $lo:expr, $hi:expr) => {{\n         let attrs = outer_attributes(&$this.attrs);\n         if attrs.is_empty() {\n             mk_sp($lo, $hi)\n@@ -31,13 +31,13 @@ macro_rules! span_with_attrs_lo_hi {\n }\n \n macro_rules! span_with_attrs {\n-    ($this: ident) => {\n+    ($this:ident) => {\n         span_with_attrs_lo_hi!($this, $this.span.lo(), $this.span.hi())\n     };\n }\n \n macro_rules! implement_spanned {\n-    ($this: ty) => {\n+    ($this:ty) => {\n         impl Spanned for $this {\n             fn span(&self) -> Span {\n                 span_with_attrs!(self)"}, {"sha": "43ddaedefbe82a69dd87f752ba1eb77da09c4ba0", "filename": "src/utils.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ccec777f929c9a3094caa37842367c21387d95a0/src%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ccec777f929c9a3094caa37842367c21387d95a0/src%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Futils.rs?ref=ccec777f929c9a3094caa37842367c21387d95a0", "patch": "@@ -266,7 +266,7 @@ macro_rules! msg {\n // For format_missing and last_pos, need to use the source callsite (if applicable).\n // Required as generated code spans aren't guaranteed to follow on from the last span.\n macro_rules! source {\n-    ($this: ident, $sp: expr) => {\n+    ($this:ident, $sp:expr) => {\n         $sp.source_callsite()\n     };\n }\n@@ -277,7 +277,7 @@ pub fn mk_sp(lo: BytePos, hi: BytePos) -> Span {\n \n // Return true if the given span does not intersect with file lines.\n macro_rules! out_of_file_lines_range {\n-    ($self: ident, $span: expr) => {\n+    ($self:ident, $span:expr) => {\n         !$self.config.file_lines().is_all()\n             && !$self\n                 .config\n@@ -287,15 +287,15 @@ macro_rules! out_of_file_lines_range {\n }\n \n macro_rules! skip_out_of_file_lines_range {\n-    ($self: ident, $span: expr) => {\n+    ($self:ident, $span:expr) => {\n         if out_of_file_lines_range!($self, $span) {\n             return None;\n         }\n     };\n }\n \n macro_rules! skip_out_of_file_lines_range_visitor {\n-    ($self: ident, $span: expr) => {\n+    ($self:ident, $span:expr) => {\n         if out_of_file_lines_range!($self, $span) {\n             $self.push_rewrite($span, None);\n             return;"}, {"sha": "45f85ff2c93e330ebccfea02b04a95f23b847082", "filename": "tests/target/macro_not_expr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ccec777f929c9a3094caa37842367c21387d95a0/tests%2Ftarget%2Fmacro_not_expr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ccec777f929c9a3094caa37842367c21387d95a0/tests%2Ftarget%2Fmacro_not_expr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fmacro_not_expr.rs?ref=ccec777f929c9a3094caa37842367c21387d95a0", "patch": "@@ -1,5 +1,5 @@\n macro_rules! test {\n-    ($($t: tt)*) => {};\n+    ($($t:tt)*) => {};\n }\n \n fn main() {"}, {"sha": "12fdb7b026e4c1ff4b6595bf021beeb087f1a162", "filename": "tests/target/macro_rules.rs", "status": "modified", "additions": 36, "deletions": 37, "changes": 73, "blob_url": "https://github.com/rust-lang/rust/blob/ccec777f929c9a3094caa37842367c21387d95a0/tests%2Ftarget%2Fmacro_rules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ccec777f929c9a3094caa37842367c21387d95a0/tests%2Ftarget%2Fmacro_rules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fmacro_rules.rs?ref=ccec777f929c9a3094caa37842367c21387d95a0", "patch": "@@ -2,33 +2,33 @@\n \n macro_rules! m {\n     () => {};\n-    ($x: ident) => {};\n-    ($m1: ident, $m2: ident, $x: ident) => {};\n-    ($($beginning: ident),*; $middle: ident; $($end: ident),*) => {};\n+    ($x:ident) => {};\n+    ($m1:ident, $m2:ident, $x:ident) => {};\n+    ($($beginning:ident),*; $middle:ident; $($end:ident),*) => {};\n     (\n-        $($beginning: ident),*;\n-        $middle: ident;\n-        $($end: ident),*;\n-        $($beginning: ident),*;\n-        $middle: ident;\n-        $($end: ident),*\n+        $($beginning:ident),*;\n+        $middle:ident;\n+        $($end:ident),*;\n+        $($beginning:ident),*;\n+        $middle:ident;\n+        $($end:ident),*\n     ) => {};\n-    ($name: ident($($dol: tt $var: ident)*) $($body: tt)*) => {};\n+    ($name:ident($($dol:tt $var:ident)*) $($body:tt)*) => {};\n     (\n-        $($i: ident : $ty: ty, $def: expr, $stb: expr, $($dstring: tt),+);+ $(;)*\n-        $($i: ident : $ty: ty, $def: expr, $stb: expr, $($dstring: tt),+);+ $(;)*\n+        $($i:ident : $ty:ty, $def:expr, $stb:expr, $($dstring:tt),+);+ $(;)*\n+        $($i:ident : $ty:ty, $def:expr, $stb:expr, $($dstring:tt),+);+ $(;)*\n     ) => {};\n-    ($foo: tt foo[$attr: meta] $name: ident) => {};\n-    ($foo: tt[$attr: meta] $name: ident) => {};\n-    ($foo: tt &'a[$attr: meta] $name: ident) => {};\n-    ($foo: tt foo #[$attr: meta] $name: ident) => {};\n-    ($foo: tt #[$attr: meta] $name: ident) => {};\n-    ($foo: tt &'a #[$attr: meta] $name: ident) => {};\n-    ($x: tt foo bar foo bar foo bar $y: tt => x * y * z $z: tt, $($a: tt),*) => {};\n+    ($foo:tt foo[$attr:meta] $name:ident) => {};\n+    ($foo:tt[$attr:meta] $name:ident) => {};\n+    ($foo:tt &'a[$attr:meta] $name:ident) => {};\n+    ($foo:tt foo #[$attr:meta] $name:ident) => {};\n+    ($foo:tt #[$attr:meta] $name:ident) => {};\n+    ($foo:tt &'a #[$attr:meta] $name:ident) => {};\n+    ($x:tt foo bar foo bar foo bar $y:tt => x * y * z $z:tt, $($a:tt),*) => {};\n }\n \n macro_rules! impl_a_method {\n-    ($n: ident($a: ident : $ta: ty) -> $ret: ty { $body: expr }) => {\n+    ($n:ident($a:ident : $ta:ty) -> $ret:ty { $body:expr }) => {\n         fn $n($a: $ta) -> $ret {\n             $body\n         }\n@@ -38,7 +38,7 @@ macro_rules! impl_a_method {\n             };\n         }\n     };\n-    ($n: ident($a: ident : $ta: ty, $b: ident : $tb: ty) -> $ret: ty { $body: expr }) => {\n+    ($n:ident($a:ident : $ta:ty, $b:ident : $tb:ty) -> $ret:ty { $body:expr }) => {\n         fn $n($a: $ta, $b: $tb) -> $ret {\n             $body\n         }\n@@ -49,8 +49,7 @@ macro_rules! impl_a_method {\n         }\n     };\n     (\n-        $n: ident($a: ident : $ta: ty, $b: ident : $tb: ty, $c: ident : $tc: ty) ->\n-        $ret: ty { $body: expr }\n+        $n:ident($a:ident : $ta:ty, $b:ident : $tb:ty, $c:ident : $tc:ty) -> $ret:ty { $body:expr }\n     ) => {\n         fn $n($a: $ta, $b: $tb, $c: $tc) -> $ret {\n             $body\n@@ -62,8 +61,8 @@ macro_rules! impl_a_method {\n         }\n     };\n     (\n-        $n: ident($a: ident : $ta: ty, $b: ident : $tb: ty, $c: ident : $tc: ty, $d: ident : $td: ty) ->\n-        $ret: ty { $body: expr }\n+        $n:ident($a:ident : $ta:ty, $b:ident : $tb:ty, $c:ident : $tc:ty, $d:ident : $td:ty) ->\n+        $ret:ty { $body:expr }\n     ) => {\n         fn $n($a: $ta, $b: $tb, $c: $tc, $d: $td) -> $ret {\n             $body\n@@ -78,7 +77,7 @@ macro_rules! impl_a_method {\n \n macro_rules! m {\n     // a\n-    ($expr: expr, $($func: ident)*) => {{\n+    ($expr:expr, $($func:ident)*) => {{\n         let x = $expr;\n         $func(x)\n     }};\n@@ -91,7 +90,7 @@ macro_rules! m {\n     (@tag) => {};\n \n     // d\n-    ($item: ident) => {\n+    ($item:ident) => {\n         mod macro_item {\n             struct $item;\n         }\n@@ -100,7 +99,7 @@ macro_rules! m {\n \n macro m2 {\n     // a\n-    ($expr: expr, $($func: ident)*) => {{\n+    ($expr:expr, $($func:ident)*) => {{\n         let x = $expr;\n         $func(x)\n     }}\n@@ -113,7 +112,7 @@ macro m2 {\n     (@tag) => {}\n \n     // d\n-    ($item: ident) => {\n+    ($item:ident) => {\n         mod macro_item {\n             struct $item;\n         }\n@@ -156,10 +155,10 @@ macro_rules! m {\n // #2439\n macro_rules! m {\n     (\n-        $line0_xxxxxxxxxxxxxxxxx: expr,\n-        $line1_xxxxxxxxxxxxxxxxx: expr,\n-        $line2_xxxxxxxxxxxxxxxxx: expr,\n-        $line3_xxxxxxxxxxxxxxxxx: expr,\n+        $line0_xxxxxxxxxxxxxxxxx:expr,\n+        $line1_xxxxxxxxxxxxxxxxx:expr,\n+        $line2_xxxxxxxxxxxxxxxxx:expr,\n+        $line3_xxxxxxxxxxxxxxxxx:expr,\n     ) => {};\n }\n \n@@ -173,7 +172,7 @@ macro_rules! m [\n ];\n \n // #2470\n-macro foo($type_name: ident, $docs: expr) {\n+macro foo($type_name:ident, $docs:expr) {\n     #[allow(non_camel_case_types)]\n     #[doc=$docs]\n     #[derive(Debug, Clone, Copy)]\n@@ -182,13 +181,13 @@ macro foo($type_name: ident, $docs: expr) {\n \n // #2534\n macro_rules! foo {\n-    ($a: ident : $b: ty) => {};\n-    ($a: ident $b: ident $c: ident) => {};\n+    ($a:ident : $b:ty) => {};\n+    ($a:ident $b:ident $c:ident) => {};\n }\n \n // #2538\n macro_rules! add_message_to_notes {\n-    ($msg: expr) => {{\n+    ($msg:expr) => {{\n         let mut lines = message.lines();\n         notes.push_str(&format!(\"\\n{}: {}\", level, lines.next().unwrap()));\n         for line in lines {"}, {"sha": "f5d8e11e35ebb6969426e47b3c43234d112da6a6", "filename": "tests/target/macros.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ccec777f929c9a3094caa37842367c21387d95a0/tests%2Ftarget%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ccec777f929c9a3094caa37842367c21387d95a0/tests%2Ftarget%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fmacros.rs?ref=ccec777f929c9a3094caa37842367c21387d95a0", "patch": "@@ -141,7 +141,7 @@ fn issue_1555() {\n \n fn issue1178() {\n     macro_rules! foo {\n-        (#[$attr: meta] $name: ident) => {};\n+        (#[$attr:meta] $name:ident) => {};\n     }\n \n     foo!(\n@@ -246,7 +246,7 @@ fn __bindgen_test_layout_HandleWithDtor_open0_int_close0_instantiation() {\n \n // #878\n macro_rules! try_opt {\n-    ($expr: expr) => {\n+    ($expr:expr) => {\n         match $expr {\n             Some(val) => val,\n \n@@ -891,7 +891,7 @@ fn macro_in_pattern_position() {\n \n macro foo() {}\n \n-pub macro bar($x: ident + $y: expr;) {\n+pub macro bar($x:ident + $y:expr;) {\n     fn foo($x: Foo) {\n         long_function(\n             a_long_argument_to_a_long_function_is_what_this_is(AAAAAAAAAAAAAAAAAAAAAAAAAAAA),"}]}