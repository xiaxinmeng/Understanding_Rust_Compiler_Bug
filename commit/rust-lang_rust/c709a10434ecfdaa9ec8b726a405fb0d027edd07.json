{"sha": "c709a10434ecfdaa9ec8b726a405fb0d027edd07", "node_id": "MDY6Q29tbWl0NzI0NzEyOmM3MDlhMTA0MzRlY2ZkYWE5ZWM4YjcyNmE0MDVmYjBkMDI3ZWRkMDc=", "commit": {"author": {"name": "Chris Gregory", "email": "czipperz@gmail.com", "date": "2019-03-24T03:02:16Z"}, "committer": {"name": "Chris Gregory", "email": "czipperz@gmail.com", "date": "2019-03-25T17:00:57Z"}, "message": "Refactor tuple comparison tests", "tree": {"sha": "31e5a497bda7a5bec1591142d21ac2d0efa963e1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/31e5a497bda7a5bec1591142d21ac2d0efa963e1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c709a10434ecfdaa9ec8b726a405fb0d027edd07", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c709a10434ecfdaa9ec8b726a405fb0d027edd07", "html_url": "https://github.com/rust-lang/rust/commit/c709a10434ecfdaa9ec8b726a405fb0d027edd07", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c709a10434ecfdaa9ec8b726a405fb0d027edd07/comments", "author": {"login": "czipperz", "id": 10054343, "node_id": "MDQ6VXNlcjEwMDU0MzQz", "avatar_url": "https://avatars.githubusercontent.com/u/10054343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/czipperz", "html_url": "https://github.com/czipperz", "followers_url": "https://api.github.com/users/czipperz/followers", "following_url": "https://api.github.com/users/czipperz/following{/other_user}", "gists_url": "https://api.github.com/users/czipperz/gists{/gist_id}", "starred_url": "https://api.github.com/users/czipperz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/czipperz/subscriptions", "organizations_url": "https://api.github.com/users/czipperz/orgs", "repos_url": "https://api.github.com/users/czipperz/repos", "events_url": "https://api.github.com/users/czipperz/events{/privacy}", "received_events_url": "https://api.github.com/users/czipperz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "czipperz", "id": 10054343, "node_id": "MDQ6VXNlcjEwMDU0MzQz", "avatar_url": "https://avatars.githubusercontent.com/u/10054343?v=4", "gravatar_id": "", "url": "https://api.github.com/users/czipperz", "html_url": "https://github.com/czipperz", "followers_url": "https://api.github.com/users/czipperz/followers", "following_url": "https://api.github.com/users/czipperz/following{/other_user}", "gists_url": "https://api.github.com/users/czipperz/gists{/gist_id}", "starred_url": "https://api.github.com/users/czipperz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/czipperz/subscriptions", "organizations_url": "https://api.github.com/users/czipperz/orgs", "repos_url": "https://api.github.com/users/czipperz/repos", "events_url": "https://api.github.com/users/czipperz/events{/privacy}", "received_events_url": "https://api.github.com/users/czipperz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0633c55d2030969d91b57142b8582c53101e6339", "url": "https://api.github.com/repos/rust-lang/rust/commits/0633c55d2030969d91b57142b8582c53101e6339", "html_url": "https://github.com/rust-lang/rust/commit/0633c55d2030969d91b57142b8582c53101e6339"}], "stats": {"total": 44, "additions": 24, "deletions": 20}, "files": [{"sha": "c7ed1612dd5eaa1ce96b5e4514cadf7c0bdd2edf", "filename": "src/libcore/tests/tuple.rs", "status": "modified", "additions": 24, "deletions": 20, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/c709a10434ecfdaa9ec8b726a405fb0d027edd07/src%2Flibcore%2Ftests%2Ftuple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c709a10434ecfdaa9ec8b726a405fb0d027edd07/src%2Flibcore%2Ftests%2Ftuple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ftests%2Ftuple.rs?ref=c709a10434ecfdaa9ec8b726a405fb0d027edd07", "patch": "@@ -1,4 +1,5 @@\n use std::cmp::Ordering::{Equal, Less, Greater};\n+use std::f64::NAN;\n \n #[test]\n fn test_clone() {\n@@ -8,18 +9,18 @@ fn test_clone() {\n }\n \n #[test]\n-fn test_tuple_cmp() {\n+fn test_partial_eq() {\n     let (small, big) = ((1, 2, 3), (3, 2, 1));\n-\n-    let nan = 0.0f64/0.0;\n-\n-    // PartialEq\n     assert_eq!(small, small);\n     assert_eq!(big, big);\n-    assert!(small != big);\n-    assert!(big != small);\n+    assert_ne!(small, big);\n+    assert_ne!(big, small);\n+}\n+\n+#[test]\n+fn test_partial_ord() {\n+    let (small, big) = ((1, 2, 3), (3, 2, 1));\n \n-    // PartialOrd\n     assert!(small < big);\n     assert!(!(small < small));\n     assert!(!(big < small));\n@@ -33,18 +34,21 @@ fn test_tuple_cmp() {\n     assert!(big >= small);\n     assert!(big >= big);\n \n-    assert!(!((1.0f64, 2.0f64) < (nan, 3.0)));\n-    assert!(!((1.0f64, 2.0f64) <= (nan, 3.0)));\n-    assert!(!((1.0f64, 2.0f64) > (nan, 3.0)));\n-    assert!(!((1.0f64, 2.0f64) >= (nan, 3.0)));\n-    assert!(((1.0f64, 2.0f64) < (2.0, nan)));\n-    assert!(!((2.0f64, 2.0f64) < (2.0, nan)));\n-\n-    // Ord\n-    assert!(small.cmp(&small) == Equal);\n-    assert!(big.cmp(&big) == Equal);\n-    assert!(small.cmp(&big) == Less);\n-    assert!(big.cmp(&small) == Greater);\n+    assert!(!((1.0f64, 2.0f64) < (NAN, 3.0)));\n+    assert!(!((1.0f64, 2.0f64) <= (NAN, 3.0)));\n+    assert!(!((1.0f64, 2.0f64) > (NAN, 3.0)));\n+    assert!(!((1.0f64, 2.0f64) >= (NAN, 3.0)));\n+    assert!(((1.0f64, 2.0f64) < (2.0, NAN)));\n+    assert!(!((2.0f64, 2.0f64) < (2.0, NAN)));\n+}\n+\n+#[test]\n+fn test_ord() {\n+    let (small, big) = ((1, 2, 3), (3, 2, 1));\n+    assert_eq!(small.cmp(&small), Equal);\n+    assert_eq!(big.cmp(&big), Equal);\n+    assert_eq!(small.cmp(&big), Less);\n+    assert_eq!(big.cmp(&small), Greater);\n }\n \n #[test]"}]}