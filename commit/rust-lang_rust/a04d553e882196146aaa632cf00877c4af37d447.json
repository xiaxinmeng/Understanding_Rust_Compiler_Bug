{"sha": "a04d553e882196146aaa632cf00877c4af37d447", "node_id": "C_kwDOAAsO6NoAKGEwNGQ1NTNlODgyMTk2MTQ2YWFhNjMyY2YwMDg3N2M0YWYzN2Q0NDc", "commit": {"author": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2022-01-19T23:57:36Z"}, "committer": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2022-01-19T23:57:40Z"}, "message": "impl Write for Cursor<[u8; N]>", "tree": {"sha": "b56f8a91e84cd4e45577cae3b97a6bf0311bd715", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b56f8a91e84cd4e45577cae3b97a6bf0311bd715"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a04d553e882196146aaa632cf00877c4af37d447", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a04d553e882196146aaa632cf00877c4af37d447", "html_url": "https://github.com/rust-lang/rust/commit/a04d553e882196146aaa632cf00877c4af37d447", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a04d553e882196146aaa632cf00877c4af37d447/comments", "author": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4038ca0965151b42afa4692b23b2eeaa4236a29f", "url": "https://api.github.com/repos/rust-lang/rust/commits/4038ca0965151b42afa4692b23b2eeaa4236a29f", "html_url": "https://github.com/rust-lang/rust/commit/4038ca0965151b42afa4692b23b2eeaa4236a29f"}], "stats": {"total": 35, "additions": 35, "deletions": 0}, "files": [{"sha": "7670a8592925ffa50e815b13b93615ca23ffd137", "filename": "library/std/src/io/cursor.rs", "status": "modified", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/a04d553e882196146aaa632cf00877c4af37d447/library%2Fstd%2Fsrc%2Fio%2Fcursor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a04d553e882196146aaa632cf00877c4af37d447/library%2Fstd%2Fsrc%2Fio%2Fcursor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fio%2Fcursor.rs?ref=a04d553e882196146aaa632cf00877c4af37d447", "patch": "@@ -525,3 +525,26 @@ impl Write for Cursor<Box<[u8]>> {\n         Ok(())\n     }\n }\n+\n+#[stable(feature = \"cursor_array\", since = \"1.60.0\")]\n+impl<const N: usize> Write for Cursor<[u8; N]> {\n+    #[inline]\n+    fn write(&mut self, buf: &[u8]) -> io::Result<usize> {\n+        slice_write(&mut self.pos, &mut self.inner, buf)\n+    }\n+\n+    #[inline]\n+    fn write_vectored(&mut self, bufs: &[IoSlice<'_>]) -> io::Result<usize> {\n+        slice_write_vectored(&mut self.pos, &mut self.inner, bufs)\n+    }\n+\n+    #[inline]\n+    fn is_write_vectored(&self) -> bool {\n+        true\n+    }\n+\n+    #[inline]\n+    fn flush(&mut self) -> io::Result<()> {\n+        Ok(())\n+    }\n+}"}, {"sha": "f1ee177b7f3bccaaef053a128053334ab8c63a58", "filename": "library/std/src/io/cursor/tests.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/a04d553e882196146aaa632cf00877c4af37d447/library%2Fstd%2Fsrc%2Fio%2Fcursor%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a04d553e882196146aaa632cf00877c4af37d447/library%2Fstd%2Fsrc%2Fio%2Fcursor%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fio%2Fcursor%2Ftests.rs?ref=a04d553e882196146aaa632cf00877c4af37d447", "patch": "@@ -104,6 +104,18 @@ fn test_box_slice_writer_vectored() {\n     test_slice_writer_vectored(&mut writer);\n }\n \n+#[test]\n+fn test_array_writer() {\n+    let mut writer = Cursor::new([0u8; 9]);\n+    test_slice_writer(&mut writer);\n+}\n+\n+#[test]\n+fn test_array_writer_vectored() {\n+    let mut writer = Cursor::new([0u8; 9]);\n+    test_slice_writer_vectored(&mut writer);\n+}\n+\n #[test]\n fn test_buf_writer() {\n     let mut buf = [0 as u8; 9];"}]}