{"sha": "f0525da1242cc50297e7fa97f3ba148c2734bea8", "node_id": "C_kwDOAAsO6NoAKGYwNTI1ZGExMjQyY2M1MDI5N2U3ZmE5N2YzYmExNDhjMjczNGJlYTg", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-01-20T13:18:59Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-01-21T22:38:48Z"}, "message": "Unify search input and buttons size", "tree": {"sha": "9051121183dcdb77b39db1e43029d9c1549b189a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9051121183dcdb77b39db1e43029d9c1549b189a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f0525da1242cc50297e7fa97f3ba148c2734bea8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f0525da1242cc50297e7fa97f3ba148c2734bea8", "html_url": "https://github.com/rust-lang/rust/commit/f0525da1242cc50297e7fa97f3ba148c2734bea8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f0525da1242cc50297e7fa97f3ba148c2734bea8/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cbaeec14f90b59a91a6b0f17fc046c66fa811892", "url": "https://api.github.com/repos/rust-lang/rust/commits/cbaeec14f90b59a91a6b0f17fc046c66fa811892", "html_url": "https://github.com/rust-lang/rust/commit/cbaeec14f90b59a91a6b0f17fc046c66fa811892"}], "stats": {"total": 139, "additions": 33, "deletions": 106}, "files": [{"sha": "d9fa25708563349fa7d6f063dc0c02f7dc10069e", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 19, "deletions": 64, "changes": 83, "blob_url": "https://github.com/rust-lang/rust/blob/f0525da1242cc50297e7fa97f3ba148c2734bea8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/f0525da1242cc50297e7fa97f3ba148c2734bea8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=f0525da1242cc50297e7fa97f3ba148c2734bea8", "patch": "@@ -873,11 +873,11 @@ h2.small-section-header > .anchor {\n \n .search-container {\n \tposition: relative;\n-\tmax-width: 960px;\n+\tdisplay: flex;\n+\theight: 34px;\n }\n-.search-container > div {\n-\tdisplay: inline-flex;\n-\twidth: calc(100% - 63px);\n+.search-container > * {\n+\theight: 100%;\n }\n .search-results-title {\n \tdisplay: inline;\n@@ -908,10 +908,8 @@ h2.small-section-header > .anchor {\n \tbackground-position: calc(100% - 1px) 56%;\n \tbackground-image: /* AUTOREPLACE: */url(\"down-arrow.svg\");\n }\n-.search-container > .top-button {\n-\tposition: absolute;\n-\tright: 0;\n-\ttop: 10px;\n+.search-container {\n+\tmargin-top: 4px;\n }\n .search-input {\n \t/* Override Normalize.css: it has a rule that sets\n@@ -924,23 +922,14 @@ h2.small-section-header > .anchor {\n \t-moz-box-sizing: border-box !important;\n \tbox-sizing: border-box !important;\n \toutline: none;\n-\tborder: none;\n-\tborder-radius: 1px;\n-\tmargin-top: 5px;\n-\tpadding: 10px 16px;\n+\tborder: 1px solid;\n+\tborder-radius: 2px;\n+\tpadding: 5px 8px;\n \tfont-size: 1.0625rem;\n \ttransition: border-color 300ms ease;\n-\ttransition: border-radius 300ms ease-in-out;\n-\ttransition: box-shadow 300ms ease-in-out;\n \twidth: 100%;\n }\n \n-.search-input:focus {\n-\tborder-radius: 2px;\n-\tborder: 0;\n-\toutline: 0;\n-}\n-\n .search-results {\n \tdisplay: none;\n \tpadding-bottom: 2em;\n@@ -1414,43 +1403,36 @@ pre.rust {\n \n .theme-picker {\n \tposition: absolute;\n-\tleft: -34px;\n-\ttop: 9px;\n+\tleft: -38px;\n+\ttop: 4px;\n }\n \n .theme-picker button {\n \toutline: none;\n }\n \n #settings-menu, #help-button {\n-\tposition: absolute;\n-\ttop: 10px;\n-}\n-\n-#settings-menu {\n-\tright: 0;\n+\tmargin-left: 4px;\n \toutline: none;\n }\n \n+#theme-picker, #copy-path {\n+\theight: 34px;\n+}\n #theme-picker, #settings-menu, #help-button, #copy-path {\n-\tpadding: 4px;\n-\t/* Rare exception to specifying font sizes in rem. Since these are acting\n-\t   as icons, it's okay to specify their sizes in pixels. */\n-\tfont-size: 16px;\n-\twidth: 27px;\n-\theight: 29px;\n+\tpadding: 5px;\n+\twidth: 33px;\n \tborder: 1px solid;\n-\tborder-radius: 3px;\n+\tborder-radius: 2px;\n \tcursor: pointer;\n }\n \n #help-button {\n-\tright: 30px;\n \tfont-family: \"Fira Sans\", Arial, sans-serif;\n \ttext-align: center;\n \t/* Rare exception to specifying font sizes in rem. Since this is acting\n \t   as an icon, it's okay to specify their sizes in pixels. */\n-\tfont-size: 16px;\n+\tfont-size: 20px;\n \tpadding-top: 2px;\n }\n \n@@ -1887,10 +1869,6 @@ details.rustdoc-toggle[open] > summary.hideme::after {\n \t\tdisplay: none !important;\n \t}\n \n-\t.theme-picker {\n-\t\tz-index: 1;\n-\t}\n-\n \t.notable-traits {\n \t\tposition: absolute;\n \t\tleft: -22px;\n@@ -1977,10 +1955,6 @@ details.rustdoc-toggle[open] > summary.hideme::after {\n \t\twidth: 100%;\n \t}\n \n-\t.search-container > div {\n-\t\twidth: calc(100% - 32px);\n-\t}\n-\n \t/* Display an alternating layout on tablets and phones */\n \t.search-results > a {\n \t\tborder-bottom: 1px solid #aaa9;\n@@ -2025,30 +1999,11 @@ details.rustdoc-toggle[open] > summary.hideme::after {\n \t\twidth: 50%;\n \t}\n \n-\t.search-container > div {\n-\t\tdisplay: block;\n-\t\twidth: calc(100% - 37px);\n-\t}\n-\n \t#crate-search {\n \t\tborder-radius: 4px;\n \t\tborder: 0;\n \t}\n \n-\t#theme-picker, #settings-menu {\n-\t\tpadding: 5px;\n-\t\twidth: 31px;\n-\t\theight: 31px;\n-\t}\n-\n-\t#theme-picker {\n-\t\tmargin-top: -2px;\n-\t}\n-\n-\t#settings-menu {\n-\t\ttop: 7px;\n-\t}\n-\n \t.docblock {\n \t\tmargin-left: 12px;\n \t}"}, {"sha": "b217d0e27f3fc5ebac478d11fef02b80cfcba901", "filename": "src/librustdoc/html/static/css/themes/ayu.css", "status": "modified", "additions": 2, "deletions": 10, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/f0525da1242cc50297e7fa97f3ba148c2734bea8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/f0525da1242cc50297e7fa97f3ba148c2734bea8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fayu.css?ref=f0525da1242cc50297e7fa97f3ba148c2734bea8", "patch": "@@ -233,22 +233,14 @@ details.undocumented > summary::before {\n \tfilter: invert(100%);\n }\n \n-#crate-search {\n-\tcolor: #c5c5c5;\n+#crate-search, .search-input {\n \tbackground-color: #141920;\n-\tbox-shadow: 0 0 0 1px #424c57,0 0 0 2px transparent;\n \tborder-color: #424c57;\n+\tcolor: #c5c5c5;\n }\n \n .search-input {\n \tcolor: #ffffff;\n-\tbackground-color: #141920;\n-\tbox-shadow: 0 0 0 1px #424c57,0 0 0 2px transparent;\n-\ttransition: box-shadow 150ms ease-in-out;\n-}\n-\n-#crate-search+.search-input:focus {\n-\tbox-shadow: 0 0 0 1px #148099,0 0 0 2px transparent;\n }\n \n .module-item .stab,"}, {"sha": "ead1e08386e8fa591bc41ae5c01ed0e916bfa9e1", "filename": "src/librustdoc/html/static/css/themes/dark.css", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/f0525da1242cc50297e7fa97f3ba148c2734bea8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/f0525da1242cc50297e7fa97f3ba148c2734bea8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Fdark.css?ref=f0525da1242cc50297e7fa97f3ba148c2734bea8", "patch": "@@ -194,27 +194,20 @@ details.undocumented > summary::before {\n \tfilter: invert(100%);\n }\n \n-#crate-search {\n+#crate-search, .search-input {\n \tcolor: #111;\n \tbackground-color: #f0f0f0;\n \tborder-color: #000;\n-\tbox-shadow: 0 0 0 1px #000, 0 0 0 2px transparent;\n }\n \n .search-input {\n-\tcolor: #111;\n-\tbackground-color: #f0f0f0;\n-\tbox-shadow: 0 0 0 1px #000, 0 0 0 2px transparent;\n+\tborder-color: #e0e0e0;\n }\n \n .search-input:focus {\n \tborder-color: #008dfd;\n }\n \n-#crate-search + .search-input:focus {\n-\tbox-shadow: 0 0 8px 4px #078dd8;\n-}\n-\n .module-item .stab,\n .import-item .stab {\n \tcolor: #ddd;"}, {"sha": "cd77b80cd385f2eb8708e72758565ddd9ed39c4a", "filename": "src/librustdoc/html/static/css/themes/light.css", "status": "modified", "additions": 1, "deletions": 12, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/f0525da1242cc50297e7fa97f3ba148c2734bea8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/f0525da1242cc50297e7fa97f3ba148c2734bea8/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Fthemes%2Flight.css?ref=f0525da1242cc50297e7fa97f3ba148c2734bea8", "patch": "@@ -186,27 +186,16 @@ details.undocumented > summary::before {\n \tcolor: #999;\n }\n \n-#crate-search {\n+#crate-search, .search-input {\n \tcolor: #555;\n \tbackground-color: white;\n \tborder-color: #e0e0e0;\n-\tbox-shadow: 0 0 0 1px #e0e0e0, 0 0 0 2px transparent;\n-}\n-\n-.search-input {\n-\tcolor: #555;\n-\tbackground-color: white;\n-\tbox-shadow: 0 0 0 1px #e0e0e0, 0 0 0 2px transparent;\n }\n \n .search-input:focus {\n \tborder-color: #66afe9;\n }\n \n-#crate-search + .search-input:focus {\n-\tbox-shadow: 0 0 8px #078dd8;\n-}\n-\n .module-item .stab,\n .import-item .stab {\n \tcolor: #000;"}, {"sha": "3325515bef6067e79ba260d710ee565ce539df44", "filename": "src/librustdoc/html/templates/page.html", "status": "modified", "additions": 9, "deletions": 11, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/f0525da1242cc50297e7fa97f3ba148c2734bea8/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "raw_url": "https://github.com/rust-lang/rust/raw/f0525da1242cc50297e7fa97f3ba148c2734bea8/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html?ref=f0525da1242cc50297e7fa97f3ba148c2734bea8", "patch": "@@ -110,25 +110,23 @@ <h2 class=\"location\"></h2>\n                 <nav class=\"sub\"> {#- -#}\n                     <div class=\"theme-picker hidden\"> {#- -#}\n                         <button id=\"theme-picker\" aria-label=\"Pick another theme!\" aria-haspopup=\"menu\" title=\"themes\"> {#- -#}\n-                            <img width=\"18\" height=\"18\" alt=\"Pick another theme!\" {# -#}\n+                            <img width=\"22\" height=\"22\" alt=\"Pick another theme!\" {# -#}\n                              src=\"{{static_root_path|safe}}brush{{page.resource_suffix}}.svg\"> {#- -#}\n                         </button> {#- -#}\n                         <div id=\"theme-choices\" role=\"menu\"></div> {#- -#}\n                     </div> {#- -#}\n                     <form class=\"search-form\"> {#- -#}\n                         <div class=\"search-container\"> {#- -#}\n-                            <div>\n-                                <input {# -#}\n-                                    class=\"search-input\" {# -#}\n-                                    name=\"search\" {# -#}\n-                                    autocomplete=\"off\" {# -#}\n-                                    spellcheck=\"false\" {# -#}\n-                                    placeholder=\"Click or press \u2018S\u2019 to search, \u2018?\u2019 for more options\u2026\" {# -#}\n-                                    type=\"search\"> {#- -#}\n-                            </div> {#- -#}\n+                            <input {# -#}\n+                                class=\"search-input\" {# -#}\n+                                name=\"search\" {# -#}\n+                                autocomplete=\"off\" {# -#}\n+                                spellcheck=\"false\" {# -#}\n+                                placeholder=\"Click or press \u2018S\u2019 to search, \u2018?\u2019 for more options\u2026\" {# -#}\n+                                type=\"search\"> {#- -#}\n                             <button type=\"button\" id=\"help-button\" title=\"help\">?</button> {#- -#}\n                             <a id=\"settings-menu\" href=\"{{page.root_path|safe}}settings.html\" title=\"settings\"> {#- -#}\n-                                <img width=\"18\" height=\"18\" alt=\"Change settings\" {# -#}\n+                                <img width=\"22\" height=\"22\" alt=\"Change settings\" {# -#}\n                                      src=\"{{static_root_path|safe}}wheel{{page.resource_suffix}}.svg\"> {#- -#}\n                             </a> {#- -#}\n                         </div> {#- -#}"}]}