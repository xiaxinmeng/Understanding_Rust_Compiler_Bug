{"sha": "84fde47d00bb3ccba3876ad2b2e46c5c59cd07c4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg0ZmRlNDdkMDBiYjNjY2JhMzg3NmFkMmIyZTQ2YzVjNTljZDA3YzQ=", "commit": {"author": {"name": "Ville Penttinen", "email": "villem.penttinen@gmail.com", "date": "2019-04-04T15:06:22Z"}, "committer": {"name": "Ville Penttinen", "email": "villem.penttinen@gmail.com", "date": "2019-04-09T11:45:04Z"}, "message": "Move test specific things", "tree": {"sha": "1c5109cf9abd2a881e38486279e93b01245e9a7a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1c5109cf9abd2a881e38486279e93b01245e9a7a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/84fde47d00bb3ccba3876ad2b2e46c5c59cd07c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/84fde47d00bb3ccba3876ad2b2e46c5c59cd07c4", "html_url": "https://github.com/rust-lang/rust/commit/84fde47d00bb3ccba3876ad2b2e46c5c59cd07c4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/84fde47d00bb3ccba3876ad2b2e46c5c59cd07c4/comments", "author": {"login": "vipentti", "id": 4726680, "node_id": "MDQ6VXNlcjQ3MjY2ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/4726680?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vipentti", "html_url": "https://github.com/vipentti", "followers_url": "https://api.github.com/users/vipentti/followers", "following_url": "https://api.github.com/users/vipentti/following{/other_user}", "gists_url": "https://api.github.com/users/vipentti/gists{/gist_id}", "starred_url": "https://api.github.com/users/vipentti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vipentti/subscriptions", "organizations_url": "https://api.github.com/users/vipentti/orgs", "repos_url": "https://api.github.com/users/vipentti/repos", "events_url": "https://api.github.com/users/vipentti/events{/privacy}", "received_events_url": "https://api.github.com/users/vipentti/received_events", "type": "User", "site_admin": false}, "committer": {"login": "vipentti", "id": 4726680, "node_id": "MDQ6VXNlcjQ3MjY2ODA=", "avatar_url": "https://avatars.githubusercontent.com/u/4726680?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vipentti", "html_url": "https://github.com/vipentti", "followers_url": "https://api.github.com/users/vipentti/followers", "following_url": "https://api.github.com/users/vipentti/following{/other_user}", "gists_url": "https://api.github.com/users/vipentti/gists{/gist_id}", "starred_url": "https://api.github.com/users/vipentti/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vipentti/subscriptions", "organizations_url": "https://api.github.com/users/vipentti/orgs", "repos_url": "https://api.github.com/users/vipentti/repos", "events_url": "https://api.github.com/users/vipentti/events{/privacy}", "received_events_url": "https://api.github.com/users/vipentti/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "751b4544426509b6b9a072c54604fa0ca4438e64", "url": "https://api.github.com/repos/rust-lang/rust/commits/751b4544426509b6b9a072c54604fa0ca4438e64", "html_url": "https://github.com/rust-lang/rust/commit/751b4544426509b6b9a072c54604fa0ca4438e64"}], "stats": {"total": 27, "additions": 11, "deletions": 16}, "files": [{"sha": "5db72c08a3e7c39c90a5b133d474e722f14db483", "filename": "crates/ra_hir/src/docs.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/84fde47d00bb3ccba3876ad2b2e46c5c59cd07c4/crates%2Fra_hir%2Fsrc%2Fdocs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/84fde47d00bb3ccba3876ad2b2e46c5c59cd07c4/crates%2Fra_hir%2Fsrc%2Fdocs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fdocs.rs?ref=84fde47d00bb3ccba3876ad2b2e46c5c59cd07c4", "patch": "@@ -22,12 +22,6 @@ impl Into<String> for Documentation {\n     }\n }\n \n-impl<'a> Into<String> for &'a Documentation {\n-    fn into(self) -> String {\n-        self.contents().into()\n-    }\n-}\n-\n pub trait Docs {\n     fn docs(&self, db: &impl HirDatabase) -> Option<Documentation>;\n }"}, {"sha": "3c53bd11a793ca426575d9e0305d1e8219e668c6", "filename": "crates/ra_ide_api/src/call_info.rs", "status": "modified", "additions": 11, "deletions": 10, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/84fde47d00bb3ccba3876ad2b2e46c5c59cd07c4/crates%2Fra_ide_api%2Fsrc%2Fcall_info.rs", "raw_url": "https://github.com/rust-lang/rust/raw/84fde47d00bb3ccba3876ad2b2e46c5c59cd07c4/crates%2Fra_ide_api%2Fsrc%2Fcall_info.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fcall_info.rs?ref=84fde47d00bb3ccba3876ad2b2e46c5c59cd07c4", "patch": "@@ -118,16 +118,6 @@ impl CallInfo {\n     fn parameters(&self) -> &[String] {\n         &self.signature.parameters\n     }\n-\n-    #[cfg(test)]\n-    fn doc(&self) -> Option<&hir::Documentation> {\n-        self.signature.doc.as_ref()\n-    }\n-\n-    #[cfg(test)]\n-    fn label(&self) -> String {\n-        self.signature.to_string()\n-    }\n }\n \n #[cfg(test)]\n@@ -138,6 +128,17 @@ mod tests {\n \n     use super::*;\n \n+    // These are only used when testing\n+    impl CallInfo {\n+        fn doc(&self) -> Option<hir::Documentation> {\n+            self.signature.doc.clone()\n+        }\n+\n+        fn label(&self) -> String {\n+            self.signature.to_string()\n+        }\n+    }\n+\n     fn call_info(text: &str) -> CallInfo {\n         let (analysis, position) = single_file_with_position(text);\n         analysis.call_info(position).unwrap().unwrap()"}]}