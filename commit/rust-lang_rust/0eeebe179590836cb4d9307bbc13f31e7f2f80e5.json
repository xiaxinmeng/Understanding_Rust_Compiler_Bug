{"sha": "0eeebe179590836cb4d9307bbc13f31e7f2f80e5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlZWViZTE3OTU5MDgzNmNiNGQ5MzA3YmJjMTNmMzFlN2YyZjgwZTU=", "commit": {"author": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-05-27T10:31:05Z"}, "committer": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-05-27T10:31:05Z"}, "message": "Ensure that we don't skip the last statement.", "tree": {"sha": "7f0ada9018b819da851c67cc1470752da55438b4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7f0ada9018b819da851c67cc1470752da55438b4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0eeebe179590836cb4d9307bbc13f31e7f2f80e5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEWwgxPGhT5b/6kagXAXYLT59T8VQFAlsKiOkACgkQAXYLT59T\n8VTR5Q/+KltOQ6g4nTSbWW9Kg4lz5CivkYrC3maiLh9GNXgELKOTiwntonAqi/A2\nTEWOPfT7Yw6lWH4QWAL6ghNZFhjJRCaUyk6O36RJjXT7kPLCLAvq1AmMVmQ97D12\n405Um7ZaEXWQWLLaxp1uCCz/qr5QPOOpMAeQc9aL3R6Ci114HcCaBrmVc2tXvzaD\n+U5PGV1VGZy1FPkuHav7eZgKhlV8ntMmowaPo6zg9RGNLG1F/hr05RyRZ32mmvCL\nAWTnONSt4bePgDUB6EGVdTNtmkwEDNiiQCEvOLTLsorEcbJlx70ikgrcPGsci5g2\ngLedLBLOOjpFyB5XcBn8OhgnP5OV9tzR5m6oEZDNU5qXZRwD49//3dx6Bih9nzWA\n9hWM5fRecX2QDezcjPbuMXFeslEQOigQIQfbVhkic7sDxUmNTf0Htkqte0W9OWyi\n6Vtwg59PJoKPNTrkWlCdB2r38LVzhBKRXVIhvcSaXEv/o6FMCPYofvwlxoSlqd9F\nsI8yv+Xb3nx564w4G5pBSJyqw+a6QCnPgiH0HvW/01kUN4NGyHGvlX7M/nm1/eRu\n4/fHOFd7ME/7uzn4GhenLSnIcjKpTCbnm1wS89cFAPEq36SQGj990ltl2CYm6OWp\nZ4W4NJRmZjk+SYm5TavD/iCbyjDQYhJNmt3pNZIUvRuFnr4KeR0=\n=2GhQ\n-----END PGP SIGNATURE-----", "payload": "tree 7f0ada9018b819da851c67cc1470752da55438b4\nparent bbcace5080a73ea36417b1d4f6b846a2a01f9202\nauthor David Wood <david@davidtw.co> 1527417065 +0100\ncommitter David Wood <david@davidtw.co> 1527417065 +0100\n\nEnsure that we don't skip the last statement.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0eeebe179590836cb4d9307bbc13f31e7f2f80e5", "html_url": "https://github.com/rust-lang/rust/commit/0eeebe179590836cb4d9307bbc13f31e7f2f80e5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0eeebe179590836cb4d9307bbc13f31e7f2f80e5/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bbcace5080a73ea36417b1d4f6b846a2a01f9202", "url": "https://api.github.com/repos/rust-lang/rust/commits/bbcace5080a73ea36417b1d4f6b846a2a01f9202", "html_url": "https://github.com/rust-lang/rust/commit/bbcace5080a73ea36417b1d4f6b846a2a01f9202"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "ed111c994f41a52495b4d608cfacf1817e56fc0f", "filename": "src/librustc_mir/dataflow/impls/borrows.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0eeebe179590836cb4d9307bbc13f31e7f2f80e5/src%2Flibrustc_mir%2Fdataflow%2Fimpls%2Fborrows.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0eeebe179590836cb4d9307bbc13f31e7f2f80e5/src%2Flibrustc_mir%2Fdataflow%2Fimpls%2Fborrows.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fdataflow%2Fimpls%2Fborrows.rs?ref=0eeebe179590836cb4d9307bbc13f31e7f2f80e5", "patch": "@@ -70,9 +70,9 @@ fn precompute_borrows_out_of_scope<'a, 'tcx>(\n     }\n \n     let bb_data = &mir[location.block];\n-    // If we are on the last statement, then check the terminator\n+    // If we are past the last statement, then check the terminator\n     // to determine which location to proceed to.\n-    if location.statement_index == bb_data.statements.len() - 1 {\n+    if location.statement_index == bb_data.statements.len() {\n         if let Some(ref terminator) = bb_data.terminator {\n             match terminator.kind {\n                 TerminatorKind::Goto { target } |"}]}