{"sha": "6c73f989e2682b0fde6759428df27e6f8aacd656", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZjNzNmOTg5ZTI2ODJiMGZkZTY3NTk0MjhkZjI3ZTZmOGFhY2Q2NTY=", "commit": {"author": {"name": "daxpedda", "email": "daxpedda@gmail.com", "date": "2021-02-08T16:25:10Z"}, "committer": {"name": "daxpedda", "email": "daxpedda@gmail.com", "date": "2021-02-08T16:25:10Z"}, "message": "Fix missing_panics_doc warning on `unreachable!`.", "tree": {"sha": "053be94adf7d6c1d10799ba0ecd6a767f687bc21", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/053be94adf7d6c1d10799ba0ecd6a767f687bc21"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6c73f989e2682b0fde6759428df27e6f8aacd656", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEE3qx/rJh59vdc2+v9Q9YqPqOI5G8FAmAhZeYACgkQQ9YqPqOI\n5G/05BAAjUfBslzVnW6GLNVYLYRFruJAn5cUBtoXa3ALyjfeaRbsPQlc5Ho1fDtg\nj0rFT6Euy9/VYi+HsUxYqETcy5whNLDEMmsQPG+BbR9redCXywIB9QqUPQcZwLEn\nPIH3urVzjR4uRKJKfWgh2mgbBkOnsc7LxW5LT7SaSTIeAmGno77WOWNqAvQHbbzg\ncCqDcJYlXdDdIqdCLT+LunPK40QzKiUd3yo03VLgtcCAigdwkBf1UdasCec58Xag\npLPJDyRN5xYhbZyAJFd333BTV1S+CZSmHTvQ/c09WP/mju9OmmIReRSxYKAoQSc6\nQm3ejJPo9pxTqLHoyzRMH5Vn0cQpF1XW1crqoFDRhL7JOvLYHktxv8zEC0+5M6nw\n0IctYM7x+Pu/bX/fQRiOaNuNrKPGIqGHpXGdK5iScBNcyVF+vNXqknC4lFv9XuIs\nMEk0zSTtBfNf4evwOHYg8J7iH4XfRqQzbNU7MkYUJFVtxjYEYwniUrcWs+Yev1oV\nRBHMGNA+j1fXXdeT8VpwZ8TZWBYR9gyVIq96GLnLbXbcrlAQgqIOTRqiiBRjGWIb\nQfUByrgpIf/LPlz8ie7z3Vh5MsXmT0jpTfVlHdg7y/MpYD60YdXzC6bzHF7Esh0w\nliCZmjS6IUYrvO8XmniR2ddlzhs5nRU1GJdPFWWMOeoP+psiJsk=\n=Tdcu\n-----END PGP SIGNATURE-----", "payload": "tree 053be94adf7d6c1d10799ba0ecd6a767f687bc21\nparent 4bbd7e46ee274d1128d3d3e0f7f681127fcb0e14\nauthor daxpedda <daxpedda@gmail.com> 1612801510 +0100\ncommitter daxpedda <daxpedda@gmail.com> 1612801510 +0100\n\nFix missing_panics_doc warning on `unreachable!`.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6c73f989e2682b0fde6759428df27e6f8aacd656", "html_url": "https://github.com/rust-lang/rust/commit/6c73f989e2682b0fde6759428df27e6f8aacd656", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6c73f989e2682b0fde6759428df27e6f8aacd656/comments", "author": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "committer": {"login": "daxpedda", "id": 1645124, "node_id": "MDQ6VXNlcjE2NDUxMjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1645124?v=4", "gravatar_id": "", "url": "https://api.github.com/users/daxpedda", "html_url": "https://github.com/daxpedda", "followers_url": "https://api.github.com/users/daxpedda/followers", "following_url": "https://api.github.com/users/daxpedda/following{/other_user}", "gists_url": "https://api.github.com/users/daxpedda/gists{/gist_id}", "starred_url": "https://api.github.com/users/daxpedda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/daxpedda/subscriptions", "organizations_url": "https://api.github.com/users/daxpedda/orgs", "repos_url": "https://api.github.com/users/daxpedda/repos", "events_url": "https://api.github.com/users/daxpedda/events{/privacy}", "received_events_url": "https://api.github.com/users/daxpedda/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4bbd7e46ee274d1128d3d3e0f7f681127fcb0e14", "url": "https://api.github.com/repos/rust-lang/rust/commits/4bbd7e46ee274d1128d3d3e0f7f681127fcb0e14", "html_url": "https://github.com/rust-lang/rust/commit/4bbd7e46ee274d1128d3d3e0f7f681127fcb0e14"}], "stats": {"total": 10, "additions": 8, "deletions": 2}, "files": [{"sha": "ae06c2c60be4bc287e93715a4858078ec92cd496", "filename": "clippy_lints/src/doc.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/6c73f989e2682b0fde6759428df27e6f8aacd656/clippy_lints%2Fsrc%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6c73f989e2682b0fde6759428df27e6f8aacd656/clippy_lints%2Fsrc%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdoc.rs?ref=6c73f989e2682b0fde6759428df27e6f8aacd656", "patch": "@@ -1,6 +1,6 @@\n use crate::utils::{\n-    implements_trait, is_entrypoint_fn, is_type_diagnostic_item, match_panic_def_id, method_chain_args, return_ty,\n-    span_lint, span_lint_and_note,\n+    implements_trait, is_entrypoint_fn, is_expn_of, is_type_diagnostic_item, match_panic_def_id, method_chain_args,\n+    return_ty, span_lint, span_lint_and_note,\n };\n use if_chain::if_chain;\n use itertools::Itertools;\n@@ -699,6 +699,7 @@ impl<'a, 'tcx> Visitor<'tcx> for FindPanicUnwrap<'a, 'tcx> {\n             if let ExprKind::Path(QPath::Resolved(_, ref path)) = func_expr.kind;\n             if let Some(path_def_id) = path.res.opt_def_id();\n             if match_panic_def_id(self.cx, path_def_id);\n+            if is_expn_of(expr.span, \"unreachable\").is_none();\n             then {\n                 self.panic_span = Some(expr.span);\n             }"}, {"sha": "a3b9cbb5114147c0dc9af1b074114ffbd0dd72c1", "filename": "tests/ui/doc_panics.rs", "status": "modified", "additions": 5, "deletions": 0, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/6c73f989e2682b0fde6759428df27e6f8aacd656/tests%2Fui%2Fdoc_panics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6c73f989e2682b0fde6759428df27e6f8aacd656/tests%2Fui%2Fdoc_panics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdoc_panics.rs?ref=6c73f989e2682b0fde6759428df27e6f8aacd656", "patch": "@@ -93,3 +93,8 @@ fn inner_body_private(opt: Option<u32>) {\n         }\n     });\n }\n+\n+/// This is okay because unreachable\n+pub fn unreachable() {\n+    unreachable!(\"This function panics\")\n+}"}]}