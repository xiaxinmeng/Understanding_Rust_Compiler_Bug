{"sha": "00a97272f2fe00c09dd954c21fffb4efebc208af", "node_id": "C_kwDOAAsO6NoAKDAwYTk3MjcyZjJmZTAwYzA5ZGQ5NTRjMjFmZmZiNGVmZWJjMjA4YWY", "commit": {"author": {"name": "Andrei Listochkin", "email": "andrei.listochkin@ferrous-systems.com", "date": "2022-05-17T17:31:51Z"}, "committer": {"name": "Andrei Listochkin", "email": "andrei.listochkin@ferrous-systems.com", "date": "2022-05-17T17:31:51Z"}, "message": "automate braceless return substitution for long lines\n\nPer [bjorn3][https://github.com/bjorn3] suggestion resolves cases where\nan early return is moved to a separate line due to line width formatting.\n\nThis setting changes\n```\nif (a very long condition) return;\n```\nto\n```\nif (a very long\n    condition) {\n  return;\n}\n```\nwhile keeping\n```\nif (short) return;\n```\nas is.\n\nIn pathological cases this may cause `npm run fix` not to fix formatting\nin one go and may require running it twice.", "tree": {"sha": "ea1e1dc99826158202fa692aa1c43a9d1711c4ad", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ea1e1dc99826158202fa692aa1c43a9d1711c4ad"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/00a97272f2fe00c09dd954c21fffb4efebc208af", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/00a97272f2fe00c09dd954c21fffb4efebc208af", "html_url": "https://github.com/rust-lang/rust/commit/00a97272f2fe00c09dd954c21fffb4efebc208af", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/00a97272f2fe00c09dd954c21fffb4efebc208af/comments", "author": {"login": "listochkin", "id": 405222, "node_id": "MDQ6VXNlcjQwNTIyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/405222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/listochkin", "html_url": "https://github.com/listochkin", "followers_url": "https://api.github.com/users/listochkin/followers", "following_url": "https://api.github.com/users/listochkin/following{/other_user}", "gists_url": "https://api.github.com/users/listochkin/gists{/gist_id}", "starred_url": "https://api.github.com/users/listochkin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/listochkin/subscriptions", "organizations_url": "https://api.github.com/users/listochkin/orgs", "repos_url": "https://api.github.com/users/listochkin/repos", "events_url": "https://api.github.com/users/listochkin/events{/privacy}", "received_events_url": "https://api.github.com/users/listochkin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "listochkin", "id": 405222, "node_id": "MDQ6VXNlcjQwNTIyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/405222?v=4", "gravatar_id": "", "url": "https://api.github.com/users/listochkin", "html_url": "https://github.com/listochkin", "followers_url": "https://api.github.com/users/listochkin/followers", "following_url": "https://api.github.com/users/listochkin/following{/other_user}", "gists_url": "https://api.github.com/users/listochkin/gists{/gist_id}", "starred_url": "https://api.github.com/users/listochkin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/listochkin/subscriptions", "organizations_url": "https://api.github.com/users/listochkin/orgs", "repos_url": "https://api.github.com/users/listochkin/repos", "events_url": "https://api.github.com/users/listochkin/events{/privacy}", "received_events_url": "https://api.github.com/users/listochkin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e0df2c9beed4107f66d185452fdbf0aed9271b8d", "url": "https://api.github.com/repos/rust-lang/rust/commits/e0df2c9beed4107f66d185452fdbf0aed9271b8d", "html_url": "https://github.com/rust-lang/rust/commit/e0df2c9beed4107f66d185452fdbf0aed9271b8d"}], "stats": {"total": 7, "additions": 5, "deletions": 2}, "files": [{"sha": "297e9fa1e5c897114ad4d3f908288bdca34414ee", "filename": "editors/code/.eslintrc.js", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/00a97272f2fe00c09dd954c21fffb4efebc208af/editors%2Fcode%2F.eslintrc.js", "raw_url": "https://github.com/rust-lang/rust/raw/00a97272f2fe00c09dd954c21fffb4efebc208af/editors%2Fcode%2F.eslintrc.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2F.eslintrc.js?ref=00a97272f2fe00c09dd954c21fffb4efebc208af", "patch": "@@ -14,6 +14,7 @@ module.exports = {\n     rules: {\n         camelcase: [\"error\"],\n         eqeqeq: [\"error\", \"always\", { null: \"ignore\" }],\n+        curly: [\"error\", \"multi-line\"],\n         \"no-console\": [\"error\", { allow: [\"warn\", \"error\"] }],\n         \"prefer-const\": \"error\",\n         \"@typescript-eslint/member-delimiter-style\": ["}, {"sha": "e57fb20e2cf8b97992b43581ae22dc58a2b1c87a", "filename": "editors/code/src/ast_inspector.ts", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/00a97272f2fe00c09dd954c21fffb4efebc208af/editors%2Fcode%2Fsrc%2Fast_inspector.ts", "raw_url": "https://github.com/rust-lang/rust/raw/00a97272f2fe00c09dd954c21fffb4efebc208af/editors%2Fcode%2Fsrc%2Fast_inspector.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fast_inspector.ts?ref=00a97272f2fe00c09dd954c21fffb4efebc208af", "patch": "@@ -101,8 +101,9 @@ export class AstInspector implements vscode.HoverProvider, vscode.DefinitionProv\n         doc: vscode.TextDocument,\n         pos: vscode.Position\n     ): vscode.ProviderResult<vscode.DefinitionLink[]> {\n-        if (!this.rustEditor || doc.uri.toString() !== this.rustEditor.document.uri.toString())\n+        if (!this.rustEditor || doc.uri.toString() !== this.rustEditor.document.uri.toString()) {\n             return;\n+        }\n \n         const astEditor = this.findAstTextEditor();\n         if (!astEditor) return;"}, {"sha": "299d29c27ee02e1de3b9e67fe0696c046ffd6e62", "filename": "editors/code/src/snippets.ts", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/00a97272f2fe00c09dd954c21fffb4efebc208af/editors%2Fcode%2Fsrc%2Fsnippets.ts", "raw_url": "https://github.com/rust-lang/rust/raw/00a97272f2fe00c09dd954c21fffb4efebc208af/editors%2Fcode%2Fsrc%2Fsnippets.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fsnippets.ts?ref=00a97272f2fe00c09dd954c21fffb4efebc208af", "patch": "@@ -11,7 +11,7 @@ export async function applySnippetWorkspaceEdit(edit: vscode.WorkspaceEdit) {\n     }\n     for (const [uri, edits] of edit.entries()) {\n         const editor = await editorFromUri(uri);\n-        if (editor)\n+        if (editor) {\n             await editor.edit((builder) => {\n                 for (const indel of edits) {\n                     assert(\n@@ -21,6 +21,7 @@ export async function applySnippetWorkspaceEdit(edit: vscode.WorkspaceEdit) {\n                     builder.replace(indel.range, indel.newText);\n                 }\n             });\n+        }\n     }\n }\n "}]}