{"sha": "b5d449949a5833d2ea3484d840b704a731bac516", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI1ZDQ0OTk0OWE1ODMzZDJlYTM0ODRkODQwYjcwNGE3MzFiYWM1MTY=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-09-29T15:49:04Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-09-29T15:49:04Z"}, "message": "comments and another test", "tree": {"sha": "5663069f5c702e9c0737e5839700e9c3fac3edfe", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5663069f5c702e9c0737e5839700e9c3fac3edfe"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b5d449949a5833d2ea3484d840b704a731bac516", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b5d449949a5833d2ea3484d840b704a731bac516", "html_url": "https://github.com/rust-lang/rust/commit/b5d449949a5833d2ea3484d840b704a731bac516", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b5d449949a5833d2ea3484d840b704a731bac516/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9650b7868e64971f6a154c87ddd13e9cc33f1589", "url": "https://api.github.com/repos/rust-lang/rust/commits/9650b7868e64971f6a154c87ddd13e9cc33f1589", "html_url": "https://github.com/rust-lang/rust/commit/9650b7868e64971f6a154c87ddd13e9cc33f1589"}], "stats": {"total": 13, "additions": 10, "deletions": 3}, "files": [{"sha": "8388089b8f448454356b0c9b2dc4d48911080734", "filename": "tests/run-pass/align_offset.rs", "status": "modified", "additions": 10, "deletions": 3, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/b5d449949a5833d2ea3484d840b704a731bac516/tests%2Frun-pass%2Falign_offset.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b5d449949a5833d2ea3484d840b704a731bac516/tests%2Frun-pass%2Falign_offset.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Falign_offset.rs?ref=b5d449949a5833d2ea3484d840b704a731bac516", "patch": "@@ -5,15 +5,15 @@ fn test_align_offset() {\n \n     assert_eq!(raw.align_offset(2), 0);\n     assert_eq!(raw.align_offset(4), 0);\n-    assert_eq!(raw.align_offset(8), usize::max_value());\n+    assert_eq!(raw.align_offset(8), usize::max_value()); // requested alignment higher than allocation alignment\n \n     assert_eq!(raw.wrapping_offset(1).align_offset(2), 1);\n     assert_eq!(raw.wrapping_offset(1).align_offset(4), 3);\n-    assert_eq!(raw.wrapping_offset(1).align_offset(8), usize::max_value());\n+    assert_eq!(raw.wrapping_offset(1).align_offset(8), usize::max_value()); // requested alignment higher than allocation alignment\n \n     assert_eq!(raw.wrapping_offset(2).align_offset(2), 0);\n     assert_eq!(raw.wrapping_offset(2).align_offset(4), 2);\n-    assert_eq!(raw.wrapping_offset(2).align_offset(8), usize::max_value());\n+    assert_eq!(raw.wrapping_offset(2).align_offset(8), usize::max_value()); // requested alignment higher than allocation alignment\n }\n \n fn test_align_to() {\n@@ -54,6 +54,13 @@ fn test_align_to() {\n         assert_eq!(r.len(), 3);\n         assert_eq!(raw.wrapping_offset(4), m.as_ptr() as *const u8);\n     }\n+\n+    {\n+        let (l, m, r) = unsafe { s.align_to::<u64>() }; // requested alignment higher than allocation alignment\n+        assert_eq!(l.len(), 4*N);\n+        assert_eq!(r.len(), 0);\n+        assert_eq!(m.len(), 0);\n+    }\n }\n \n fn test_from_utf8() {"}]}