{"sha": "67f9d24c1b32ddc44765e55a0daf8d038426acba", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY3ZjlkMjRjMWIzMmRkYzQ0NzY1ZTU1YTBkYWY4ZDAzODQyNmFjYmE=", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2018-12-02T01:19:39Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2018-12-02T01:19:39Z"}, "message": "Keep testing unsafe_vector_initialization as ui test", "tree": {"sha": "3ec6a621c1d555e2182dec1f3aa4b0b5bf1a9a70", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3ec6a621c1d555e2182dec1f3aa4b0b5bf1a9a70"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/67f9d24c1b32ddc44765e55a0daf8d038426acba", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nVersion: GnuPG v1\n\niQIcBAABAgAGBQJcAzMrAAoJEPm6FDuV/22CM04P/imaf9oewxiDJiPg3wMV0nT/\nIZNVzUqSQfebgm/O2yHjwpQVBwc4UygfNWvlQ5MeAZReYhmidXOE27IvPHOL/LCi\ncPigMDiyCN2zh/RDb1mOA6tjkN5x4G2TWbnmvCxYwOHA3St/RlnrrpW8RmUrFopz\nI1s/lBup9LjFgj5epc0GROT3XnSUH3LIpmC40dniG8cT1FPK/+sw1uGGbCVCcG3j\nfVAmXPaHfWafvWamaaIJhpkXjSdxpYaSea4nuENAZaKjdfCPYn+8zGXp6ElOqvrm\neUQ2KsuqcWBS7kwbjSa2JVKNgFd5RnG9Bb+ol0f/Ubdp5sMXBm7W/tSRLC6lEr8T\nFzrYKtAZTqaJ7TAm1l9QlqdSNXrybQdb2jTVY/Og8KqzB7nXLZE6DX64fTTkUEs6\n0IsjIYMk+p6FL/M1oYhtrtnMIsrculaUUC28A999RdDzxZzx1oD/rggyV2Ws62iu\nFhCa6PjlgXEN6AeKcIwKH6wBjXe6TTukOoxhGK3+bK82zrDtJoN55CACcneCwVwN\n+yfyasCzumvblOYp8/RFv3zkzVkdbFtevX/jQV3i05qRauYQEvERYh1lPCVXH1/Y\nRhTjR8Ao8f9esbfe7hYDdUpO/Uqh1cPrsxfrY0093eYz/fblYw088bRwx49iBgl4\notEIhqBsbZpW9nvTDdy2\n=ZbQO\n-----END PGP SIGNATURE-----", "payload": "tree 3ec6a621c1d555e2182dec1f3aa4b0b5bf1a9a70\nparent 8b1f69a485d394f4439336f958451054c0e89184\nauthor David Tolnay <dtolnay@gmail.com> 1543713579 -0800\ncommitter David Tolnay <dtolnay@gmail.com> 1543713579 -0800\n\nKeep testing unsafe_vector_initialization as ui test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/67f9d24c1b32ddc44765e55a0daf8d038426acba", "html_url": "https://github.com/rust-lang/rust/commit/67f9d24c1b32ddc44765e55a0daf8d038426acba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/67f9d24c1b32ddc44765e55a0daf8d038426acba/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b1f69a485d394f4439336f958451054c0e89184", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b1f69a485d394f4439336f958451054c0e89184", "html_url": "https://github.com/rust-lang/rust/commit/8b1f69a485d394f4439336f958451054c0e89184"}], "stats": {"total": 52, "additions": 27, "deletions": 25}, "files": [{"sha": "aa80fc87aa268242f7dcb8a491592a5740827b4a", "filename": "tests/ui/slow_vector_initialization.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/67f9d24c1b32ddc44765e55a0daf8d038426acba/tests%2Fui%2Fslow_vector_initialization.rs", "raw_url": "https://github.com/rust-lang/rust/raw/67f9d24c1b32ddc44765e55a0daf8d038426acba/tests%2Fui%2Fslow_vector_initialization.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fslow_vector_initialization.rs?ref=67f9d24c1b32ddc44765e55a0daf8d038426acba", "patch": "@@ -7,6 +7,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![warn(clippy::unsafe_vector_initialization)]\n+\n use std::iter::repeat;\n \n fn main() {"}, {"sha": "bc05dd6e1e573d0b1389ea89819b2c58c7f648e2", "filename": "tests/ui/slow_vector_initialization.stderr", "status": "modified", "additions": 25, "deletions": 25, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/67f9d24c1b32ddc44765e55a0daf8d038426acba/tests%2Fui%2Fslow_vector_initialization.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/67f9d24c1b32ddc44765e55a0daf8d038426acba/tests%2Fui%2Fslow_vector_initialization.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fslow_vector_initialization.stderr?ref=67f9d24c1b32ddc44765e55a0daf8d038426acba", "patch": "@@ -1,71 +1,71 @@\n error: slow zero-filling initialization\n-  --> $DIR/slow_vector_initialization.rs:23:5\n+  --> $DIR/slow_vector_initialization.rs:25:5\n    |\n-22 |     let mut vec1 = Vec::with_capacity(len);\n+24 |     let mut vec1 = Vec::with_capacity(len);\n    |                    ----------------------- help: consider replace allocation with: `vec![0; len]`\n-23 |     vec1.extend(repeat(0).take(len));\n+25 |     vec1.extend(repeat(0).take(len));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::slow-vector-initialization` implied by `-D warnings`\n \n error: slow zero-filling initialization\n-  --> $DIR/slow_vector_initialization.rs:27:5\n+  --> $DIR/slow_vector_initialization.rs:29:5\n    |\n-26 |     let mut vec2 = Vec::with_capacity(len - 10);\n+28 |     let mut vec2 = Vec::with_capacity(len - 10);\n    |                    ---------------------------- help: consider replace allocation with: `vec![0; len - 10]`\n-27 |     vec2.extend(repeat(0).take(len - 10));\n+29 |     vec2.extend(repeat(0).take(len - 10));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: slow zero-filling initialization\n-  --> $DIR/slow_vector_initialization.rs:41:5\n+  --> $DIR/slow_vector_initialization.rs:43:5\n    |\n-40 |     let mut resized_vec = Vec::with_capacity(30);\n+42 |     let mut resized_vec = Vec::with_capacity(30);\n    |                           ---------------------- help: consider replace allocation with: `vec![0; 30]`\n-41 |     resized_vec.resize(30, 0);\n+43 |     resized_vec.resize(30, 0);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: slow zero-filling initialization\n-  --> $DIR/slow_vector_initialization.rs:44:5\n+  --> $DIR/slow_vector_initialization.rs:46:5\n    |\n-43 |     let mut extend_vec = Vec::with_capacity(30);\n+45 |     let mut extend_vec = Vec::with_capacity(30);\n    |                          ---------------------- help: consider replace allocation with: `vec![0; 30]`\n-44 |     extend_vec.extend(repeat(0).take(30));\n+46 |     extend_vec.extend(repeat(0).take(30));\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: slow zero-filling initialization\n-  --> $DIR/slow_vector_initialization.rs:51:5\n+  --> $DIR/slow_vector_initialization.rs:53:5\n    |\n-50 |     let mut vec1 = Vec::with_capacity(len);\n+52 |     let mut vec1 = Vec::with_capacity(len);\n    |                    ----------------------- help: consider replace allocation with: `vec![0; len]`\n-51 |     vec1.resize(len, 0);\n+53 |     vec1.resize(len, 0);\n    |     ^^^^^^^^^^^^^^^^^^^\n \n error: slow zero-filling initialization\n-  --> $DIR/slow_vector_initialization.rs:59:5\n+  --> $DIR/slow_vector_initialization.rs:61:5\n    |\n-58 |     let mut vec3 = Vec::with_capacity(len - 10);\n+60 |     let mut vec3 = Vec::with_capacity(len - 10);\n    |                    ---------------------------- help: consider replace allocation with: `vec![0; len - 10]`\n-59 |     vec3.resize(len - 10, 0);\n+61 |     vec3.resize(len - 10, 0);\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: slow zero-filling initialization\n-  --> $DIR/slow_vector_initialization.rs:63:5\n+  --> $DIR/slow_vector_initialization.rs:65:5\n    |\n-62 |     vec1 = Vec::with_capacity(10);\n+64 |     vec1 = Vec::with_capacity(10);\n    |            ---------------------- help: consider replace allocation with: `vec![0; 10]`\n-63 |     vec1.resize(10, 0);\n+65 |     vec1.resize(10, 0);\n    |     ^^^^^^^^^^^^^^^^^^\n \n error: unsafe vector initialization\n-  --> $DIR/slow_vector_initialization.rs:70:9\n+  --> $DIR/slow_vector_initialization.rs:72:9\n    |\n-67 |     let mut unsafe_vec: Vec<u8> = Vec::with_capacity(200);\n+69 |     let mut unsafe_vec: Vec<u8> = Vec::with_capacity(200);\n    |                                   ----------------------- help: consider replace allocation with: `vec![0; 200]`\n ...\n-70 |         unsafe_vec.set_len(200);\n+72 |         unsafe_vec.set_len(200);\n    |         ^^^^^^^^^^^^^^^^^^^^^^^\n    |\n-   = note: #[deny(clippy::unsafe_vector_initialization)] on by default\n+   = note: `-D clippy::unsafe-vector-initialization` implied by `-D warnings`\n \n error: aborting due to 8 previous errors\n "}]}