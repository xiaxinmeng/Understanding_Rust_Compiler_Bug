{"sha": "0efb5677d74451787a4dbd77fce1701c52c72a68", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBlZmI1Njc3ZDc0NDUxNzg3YTRkYmQ3N2ZjZTE3MDFjNTJjNzJhNjg=", "commit": {"author": {"name": "Christian Poveda", "email": "christianpoveda@protonmail.com", "date": "2018-04-12T21:55:09Z"}, "committer": {"name": "Christian Poveda", "email": "christianpoveda@protonmail.com", "date": "2018-04-27T15:04:58Z"}, "message": "dyn_trait feature-gate just for stage0", "tree": {"sha": "692841b27d4136c166c125c0ae1cc98fde038f8a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/692841b27d4136c166c125c0ae1cc98fde038f8a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0efb5677d74451787a4dbd77fce1701c52c72a68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0efb5677d74451787a4dbd77fce1701c52c72a68", "html_url": "https://github.com/rust-lang/rust/commit/0efb5677d74451787a4dbd77fce1701c52c72a68", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0efb5677d74451787a4dbd77fce1701c52c72a68/comments", "author": {"login": "pvdrz", "id": 31802960, "node_id": "MDQ6VXNlcjMxODAyOTYw", "avatar_url": "https://avatars.githubusercontent.com/u/31802960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvdrz", "html_url": "https://github.com/pvdrz", "followers_url": "https://api.github.com/users/pvdrz/followers", "following_url": "https://api.github.com/users/pvdrz/following{/other_user}", "gists_url": "https://api.github.com/users/pvdrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvdrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvdrz/subscriptions", "organizations_url": "https://api.github.com/users/pvdrz/orgs", "repos_url": "https://api.github.com/users/pvdrz/repos", "events_url": "https://api.github.com/users/pvdrz/events{/privacy}", "received_events_url": "https://api.github.com/users/pvdrz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pvdrz", "id": 31802960, "node_id": "MDQ6VXNlcjMxODAyOTYw", "avatar_url": "https://avatars.githubusercontent.com/u/31802960?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pvdrz", "html_url": "https://github.com/pvdrz", "followers_url": "https://api.github.com/users/pvdrz/followers", "following_url": "https://api.github.com/users/pvdrz/following{/other_user}", "gists_url": "https://api.github.com/users/pvdrz/gists{/gist_id}", "starred_url": "https://api.github.com/users/pvdrz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pvdrz/subscriptions", "organizations_url": "https://api.github.com/users/pvdrz/orgs", "repos_url": "https://api.github.com/users/pvdrz/repos", "events_url": "https://api.github.com/users/pvdrz/events{/privacy}", "received_events_url": "https://api.github.com/users/pvdrz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c86f1c8cc396df443e0933278c441e36302047b1", "url": "https://api.github.com/repos/rust-lang/rust/commits/c86f1c8cc396df443e0933278c441e36302047b1", "html_url": "https://github.com/rust-lang/rust/commit/c86f1c8cc396df443e0933278c441e36302047b1"}], "stats": {"total": 19, "additions": 5, "deletions": 14}, "files": [{"sha": "f29da5eb112809972fa17ad66c17b25f4086f7b7", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=0efb5677d74451787a4dbd77fce1701c52c72a68", "patch": "@@ -45,8 +45,8 @@\n #![feature(const_fn)]\n #![feature(core_intrinsics)]\n #![feature(drain_filter)]\n-#![feature(dyn_trait)]\n #![feature(entry_or_default)]\n+#![cfg_attr(stage0, feature(dyn_trait))]\n #![feature(from_ref)]\n #![feature(fs_read_write)]\n #![cfg_attr(windows, feature(libc))]"}, {"sha": "482fd5989f8bdd0bf5950b812c13228f8e2556ef", "filename": "src/librustc_mir/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Flibrustc_mir%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Flibrustc_mir%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Flib.rs?ref=0efb5677d74451787a4dbd77fce1701c52c72a68", "patch": "@@ -24,7 +24,7 @@ Rust MIR: a lowered representation of Rust. Also: an experiment!\n #![feature(const_fn)]\n #![feature(core_intrinsics)]\n #![feature(decl_macro)]\n-#![feature(dyn_trait)]\n+#![cfg_attr(stage0, feature(dyn_trait))]\n #![feature(fs_read_write)]\n #![feature(macro_vis_matcher)]\n #![feature(exhaustive_patterns)]"}, {"sha": "e852edc6eed00af5c8964be751a9fd680c44fea1", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=0efb5677d74451787a4dbd77fce1701c52c72a68", "patch": "@@ -71,6 +71,8 @@ This API is completely unstable and subject to change.\n \n #![allow(non_camel_case_types)]\n \n+#![cfg_attr(stage0, feature(dyn_trait))]\n+\n #![feature(box_patterns)]\n #![feature(box_syntax)]\n #![feature(crate_visibility_modifier)]\n@@ -81,8 +83,8 @@ This API is completely unstable and subject to change.\n #![feature(rustc_diagnostic_macros)]\n #![feature(slice_patterns)]\n #![feature(slice_sort_by_cached_key)]\n-#![feature(dyn_trait)]\n #![feature(never_type)]\n+#![feature(underscore_lifetimes)]\n \n #[macro_use] extern crate log;\n #[macro_use] extern crate syntax;"}, {"sha": "66a6e6afed34b12952feeadd1c6712b61046efdd", "filename": "src/test/run-fail/rfc-1937-termination-trait/termination-trait-for-box-dyn-error.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Frun-fail%2Frfc-1937-termination-trait%2Ftermination-trait-for-box-dyn-error.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Frun-fail%2Frfc-1937-termination-trait%2Ftermination-trait-for-box-dyn-error.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Frfc-1937-termination-trait%2Ftermination-trait-for-box-dyn-error.rs?ref=0efb5677d74451787a4dbd77fce1701c52c72a68", "patch": "@@ -11,8 +11,6 @@\n // compile-pass\n // failure-status: 1\n \n-#![feature(dyn_trait)]\n-\n use std::error::Error;\n use std::io;\n "}, {"sha": "183bb55353052140888580034783ebf0f58d85c8", "filename": "src/test/run-pass/rfc-1937-termination-trait/termination-trait-for-box-dyn-error.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Frun-pass%2Frfc-1937-termination-trait%2Ftermination-trait-for-box-dyn-error.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Frun-pass%2Frfc-1937-termination-trait%2Ftermination-trait-for-box-dyn-error.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Frfc-1937-termination-trait%2Ftermination-trait-for-box-dyn-error.rs?ref=0efb5677d74451787a4dbd77fce1701c52c72a68", "patch": "@@ -8,8 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(dyn_trait)]\n-\n use std::error::Error;\n \n fn main() -> Result<(), Box<dyn Error>> {"}, {"sha": "e8f39e169ff9aed753f0cdf04bf77cf293db1f34", "filename": "src/test/ui/impl_trait_projections.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Fui%2Fimpl_trait_projections.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Fui%2Fimpl_trait_projections.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimpl_trait_projections.rs?ref=0efb5677d74451787a4dbd77fce1701c52c72a68", "patch": "@@ -8,7 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![feature(dyn_trait)]\n #![feature(conservative_impl_trait, universal_impl_trait)]\n \n use std::fmt::Debug;"}, {"sha": "c27bbe77fbf19fba4c91d64a867de1384916169f", "filename": "src/test/ui/in-band-lifetimes/impl/dyn-trait.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Fui%2Fin-band-lifetimes%2Fimpl%2Fdyn-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Fui%2Fin-band-lifetimes%2Fimpl%2Fdyn-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fin-band-lifetimes%2Fimpl%2Fdyn-trait.rs?ref=0efb5677d74451787a4dbd77fce1701c52c72a68", "patch": "@@ -13,7 +13,6 @@\n \n #![allow(warnings)]\n \n-#![feature(dyn_trait)]\n #![feature(in_band_lifetimes)]\n \n use std::fmt::Debug;"}, {"sha": "9bb6653d770803e7065064a2696ab99ee3e5bbe1", "filename": "src/test/ui/raw-literal-keywords.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Fui%2Fraw-literal-keywords.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Fui%2Fraw-literal-keywords.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fraw-literal-keywords.rs?ref=0efb5677d74451787a4dbd77fce1701c52c72a68", "patch": "@@ -10,7 +10,6 @@\n \n // compile-flags: -Z parse-only\n \n-#![feature(dyn_trait)]\n #![feature(raw_identifiers)]\n \n fn test_if() {"}, {"sha": "6c83205d0504c593667707aa57dcb6abeb147897", "filename": "src/test/ui/underscore-lifetime/dyn-trait-underscore-in-struct.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Fui%2Funderscore-lifetime%2Fdyn-trait-underscore-in-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Fui%2Funderscore-lifetime%2Fdyn-trait-underscore-in-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funderscore-lifetime%2Fdyn-trait-underscore-in-struct.rs?ref=0efb5677d74451787a4dbd77fce1701c52c72a68", "patch": "@@ -13,8 +13,6 @@\n //\n // cc #48468\n \n-#![feature(dyn_trait)]\n-\n use std::fmt::Debug;\n \n struct Foo {"}, {"sha": "247492fb7b77b4125f79289f11a70484e1d9440b", "filename": "src/test/ui/underscore-lifetime/dyn-trait-underscore.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Fui%2Funderscore-lifetime%2Fdyn-trait-underscore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0efb5677d74451787a4dbd77fce1701c52c72a68/src%2Ftest%2Fui%2Funderscore-lifetime%2Fdyn-trait-underscore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funderscore-lifetime%2Fdyn-trait-underscore.rs?ref=0efb5677d74451787a4dbd77fce1701c52c72a68", "patch": "@@ -13,8 +13,6 @@\n //\n // cc #48468\n \n-#![feature(dyn_trait)]\n-\n fn a<T>(items: &[T]) -> Box<dyn Iterator<Item=&T>> {\n     //                      ^^^^^^^^^^^^^^^^^^^^^ bound *here* defaults to `'static`\n     Box::new(items.iter()) //~ ERROR cannot infer an appropriate lifetime"}]}