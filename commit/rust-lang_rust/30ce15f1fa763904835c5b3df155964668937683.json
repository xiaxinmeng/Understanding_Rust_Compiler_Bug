{"sha": "30ce15f1fa763904835c5b3df155964668937683", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMwY2UxNWYxZmE3NjM5MDQ4MzVjNWIzZGYxNTU5NjQ2Njg5Mzc2ODM=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-08-31T16:01:01Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-08-31T16:01:01Z"}, "message": "Make StringReader private\n\nAfter the recent refactorings, we can actually completely hide this\ntype. It should help with #63689.", "tree": {"sha": "06db6ed0bd685f44c383720147d8812bc131bfa4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/06db6ed0bd685f44c383720147d8812bc131bfa4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/30ce15f1fa763904835c5b3df155964668937683", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/30ce15f1fa763904835c5b3df155964668937683", "html_url": "https://github.com/rust-lang/rust/commit/30ce15f1fa763904835c5b3df155964668937683", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/30ce15f1fa763904835c5b3df155964668937683/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1baf3ff7e98ea14e84159e213bd9872efd53e07f", "url": "https://api.github.com/repos/rust-lang/rust/commits/1baf3ff7e98ea14e84159e213bd9872efd53e07f", "html_url": "https://github.com/rust-lang/rust/commit/1baf3ff7e98ea14e84159e213bd9872efd53e07f"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "1131f00cb425e0250118cfd18cbcf59573c5ba20", "filename": "compiler/rustc_parse/src/lexer/mod.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/30ce15f1fa763904835c5b3df155964668937683/compiler%2Frustc_parse%2Fsrc%2Flexer%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/30ce15f1fa763904835c5b3df155964668937683/compiler%2Frustc_parse%2Fsrc%2Flexer%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Flexer%2Fmod.rs?ref=30ce15f1fa763904835c5b3df155964668937683", "patch": "@@ -27,7 +27,7 @@ pub struct UnmatchedBrace {\n     pub candidate_span: Option<Span>,\n }\n \n-pub struct StringReader<'a> {\n+crate struct StringReader<'a> {\n     sess: &'a ParseSess,\n     /// Initial position, read-only.\n     start_pos: BytePos,\n@@ -41,7 +41,7 @@ pub struct StringReader<'a> {\n }\n \n impl<'a> StringReader<'a> {\n-    pub fn new(\n+    crate fn new(\n         sess: &'a ParseSess,\n         source_file: Lrc<rustc_span::SourceFile>,\n         override_span: Option<Span>,\n@@ -66,7 +66,7 @@ impl<'a> StringReader<'a> {\n     }\n \n     /// Returns the next token, including trivia like whitespace or comments.\n-    pub fn next_token(&mut self) -> Token {\n+    fn next_token(&mut self) -> Token {\n         let start_src_index = self.src_index(self.pos);\n         let text: &str = &self.src[start_src_index..self.end_src_index];\n "}]}