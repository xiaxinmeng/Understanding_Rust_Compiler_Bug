{"sha": "0aeb82cb674b4a78b41eb1cddf604d799da5e0f7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBhZWI4MmNiNjc0YjRhNzhiNDFlYjFjZGRmNjA0ZDc5OWRhNWUwZjc=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-07-29T10:15:17Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-07-29T10:15:17Z"}, "message": "Merge pull request #2959 from chrisduerr/master\n\nAdd known problem to `needless_borrow` lint", "tree": {"sha": "6f5f95dfbe38d339645c37dee02b26a503c8d754", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6f5f95dfbe38d339645c37dee02b26a503c8d754"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0aeb82cb674b4a78b41eb1cddf604d799da5e0f7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbXZO1CRBK7hj4Ov3rIwAAdHIIAGNCtUEtumLZ8FjGwo3ZjhRY\nvWk86ejKYLF3Fs5ormpFZhUeHUQsfc6uVhS34zvXyn79m8mbHYPiK+UsLBr0UZk4\ni4VIB65FAvzEmurgBBGQhbDfswY1GvVVFUHbL+u0pV32TssgzNPeMZp5UGP/lOck\nsaPbpyQUJSrzlDc6TMDET9AEHUZ1NP0SKhhwl4OATmaUVobNZrj6DiqpdHZQ6nYr\nZtmoxs0Siqwyua1JLWnNLZfuuaMieRWz5CIapZdmJ6V5kmSNJOEzol+Avm18vdRQ\nQkZM4SDO6QYFRts0gIxlTV6I9lpKPlkATtb1s32CH59lCqAuq4Ofs6HCxOr0Tos=\n=PYrt\n-----END PGP SIGNATURE-----\n", "payload": "tree 6f5f95dfbe38d339645c37dee02b26a503c8d754\nparent b0dabce47803c18b935ec5390de69e04ad5304c2\nparent 13353111dadc932c52a63ca8c243f1dd8fce9a7a\nauthor Philipp Hansch <dev@phansch.net> 1532859317 +0200\ncommitter GitHub <noreply@github.com> 1532859317 +0200\n\nMerge pull request #2959 from chrisduerr/master\n\nAdd known problem to `needless_borrow` lint"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0aeb82cb674b4a78b41eb1cddf604d799da5e0f7", "html_url": "https://github.com/rust-lang/rust/commit/0aeb82cb674b4a78b41eb1cddf604d799da5e0f7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0aeb82cb674b4a78b41eb1cddf604d799da5e0f7/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b0dabce47803c18b935ec5390de69e04ad5304c2", "url": "https://api.github.com/repos/rust-lang/rust/commits/b0dabce47803c18b935ec5390de69e04ad5304c2", "html_url": "https://github.com/rust-lang/rust/commit/b0dabce47803c18b935ec5390de69e04ad5304c2"}, {"sha": "13353111dadc932c52a63ca8c243f1dd8fce9a7a", "url": "https://api.github.com/repos/rust-lang/rust/commits/13353111dadc932c52a63ca8c243f1dd8fce9a7a", "html_url": "https://github.com/rust-lang/rust/commit/13353111dadc932c52a63ca8c243f1dd8fce9a7a"}], "stats": {"total": 15, "additions": 13, "deletions": 2}, "files": [{"sha": "cb2c572743db87831c23b9690b5544028043927c", "filename": "clippy_lints/src/needless_borrow.rs", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/0aeb82cb674b4a78b41eb1cddf604d799da5e0f7/clippy_lints%2Fsrc%2Fneedless_borrow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0aeb82cb674b4a78b41eb1cddf604d799da5e0f7/clippy_lints%2Fsrc%2Fneedless_borrow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_borrow.rs?ref=0aeb82cb674b4a78b41eb1cddf604d799da5e0f7", "patch": "@@ -16,12 +16,23 @@ use crate::utils::{in_macro, snippet_opt, span_lint_and_then};\n /// **Why is this bad?** Suggests that the receiver of the expression borrows\n /// the expression.\n ///\n-/// **Known problems:** None.\n-///\n /// **Example:**\n /// ```rust\n /// let x: &i32 = &&&&&&5;\n /// ```\n+///\n+/// **Known problems:** This will cause false positives in code generated by `derive`.\n+/// For instance in the following snippet:\n+/// ```rust\n+/// #[derive(Debug)]\n+/// pub enum Error {\n+///     Type(\n+///         &'static str,\n+///     ),\n+/// }\n+/// ```\n+/// A warning will be emitted that `&'static str` should be replaced with `&'static str`,\n+/// however there is nothing that can or should be done to fix this.\n declare_clippy_lint! {\n     pub NEEDLESS_BORROW,\n     nursery,"}]}