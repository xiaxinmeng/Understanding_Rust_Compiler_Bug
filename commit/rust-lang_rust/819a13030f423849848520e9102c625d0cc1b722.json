{"sha": "819a13030f423849848520e9102c625d0cc1b722", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgxOWExMzAzMGY0MjM4NDk4NDg1MjBlOTEwMmM2MjVkMGNjMWI3MjI=", "commit": {"author": {"name": "Seiichi Uchida", "email": "topecongiro@localhost.localdomain", "date": "2017-05-13T12:07:36Z"}, "committer": {"name": "Seiichi Uchida", "email": "topecongiro@localhost.localdomain", "date": "2017-05-13T12:07:36Z"}, "message": "Use precise width when rewriting else if", "tree": {"sha": "3d1a0c5425f1b26bacbcf7591dcee2caffe2d473", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3d1a0c5425f1b26bacbcf7591dcee2caffe2d473"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/819a13030f423849848520e9102c625d0cc1b722", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/819a13030f423849848520e9102c625d0cc1b722", "html_url": "https://github.com/rust-lang/rust/commit/819a13030f423849848520e9102c625d0cc1b722", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/819a13030f423849848520e9102c625d0cc1b722/comments", "author": null, "committer": null, "parents": [{"sha": "d0a094eefb901d2c395250dd2948293564b19eaa", "url": "https://api.github.com/repos/rust-lang/rust/commits/d0a094eefb901d2c395250dd2948293564b19eaa", "html_url": "https://github.com/rust-lang/rust/commit/d0a094eefb901d2c395250dd2948293564b19eaa"}], "stats": {"total": 7, "additions": 1, "deletions": 6}, "files": [{"sha": "5f2b1f0353efede60518913155c265a4b222b864", "filename": "src/expr.rs", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/819a13030f423849848520e9102c625d0cc1b722/src%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/819a13030f423849848520e9102c625d0cc1b722/src%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fexpr.rs?ref=819a13030f423849848520e9102c625d0cc1b722", "patch": "@@ -986,12 +986,7 @@ impl<'a> Rewrite for ControlFlow<'a> {\n                                  block_str);\n \n         if let Some(else_block) = self.else_block {\n-            // Since this is an else block, we should not indent for the assignment preceding\n-            // the original if, so set shape.offset to shape.indent.alignment.\n-            let shape = Shape {\n-                offset: shape.indent.alignment,\n-                ..shape\n-            };\n+            let shape = Shape::indented(shape.indent, context.config);\n             let mut last_in_chain = false;\n             let rewrite = match else_block.node {\n                 // If the else expression is another if-else expression, prevent it"}]}