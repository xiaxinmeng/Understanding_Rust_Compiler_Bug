{"sha": "f586d79d183d144e0cbf519e29247f36670e2076", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY1ODZkNzlkMTgzZDE0NGUwY2JmNTE5ZTI5MjQ3ZjM2NjcwZTIwNzY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-06-13T20:13:32Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2021-06-13T20:13:32Z"}, "message": "Auto merge of #86271 - GuillaumeGomez:fix-font-weight, r=jsha\n\nFix font weight\n\nFixes #86256.\n\nI realized that the only cases where we actually needed to have bold text was inside `impl-items`.\n\ncc `@camelid`\nr? `@jsha`", "tree": {"sha": "07c428e7589e3acbf3251db1ab8b38dd5060ed17", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/07c428e7589e3acbf3251db1ab8b38dd5060ed17"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f586d79d183d144e0cbf519e29247f36670e2076", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f586d79d183d144e0cbf519e29247f36670e2076", "html_url": "https://github.com/rust-lang/rust/commit/f586d79d183d144e0cbf519e29247f36670e2076", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f586d79d183d144e0cbf519e29247f36670e2076/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fb3ea63d9b4c3e9bb90d4250b870faaffb9c8fd2", "url": "https://api.github.com/repos/rust-lang/rust/commits/fb3ea63d9b4c3e9bb90d4250b870faaffb9c8fd2", "html_url": "https://github.com/rust-lang/rust/commit/fb3ea63d9b4c3e9bb90d4250b870faaffb9c8fd2"}, {"sha": "466aec9957a57687d607dba4859c7178767b9b6a", "url": "https://api.github.com/repos/rust-lang/rust/commits/466aec9957a57687d607dba4859c7178767b9b6a", "html_url": "https://github.com/rust-lang/rust/commit/466aec9957a57687d607dba4859c7178767b9b6a"}], "stats": {"total": 40, "additions": 35, "deletions": 5}, "files": [{"sha": "e2c064ee75d233994fd7041722d97564af4f52b4", "filename": "src/ci/docker/host-x86_64/x86_64-gnu-tools/Dockerfile", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f586d79d183d144e0cbf519e29247f36670e2076/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/f586d79d183d144e0cbf519e29247f36670e2076/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fx86_64-gnu-tools%2FDockerfile?ref=f586d79d183d144e0cbf519e29247f36670e2076", "patch": "@@ -71,7 +71,7 @@ ENV PATH=\"/node-v14.4.0-linux-x64/bin:${PATH}\"\n # https://github.com/puppeteer/puppeteer/issues/375\n #\n # We also specify the version in case we need to update it to go around cache limitations.\n-RUN npm install -g browser-ui-test@0.2.12 --unsafe-perm=true\n+RUN npm install -g browser-ui-test@0.2.14 --unsafe-perm=true\n \n ENV RUST_CONFIGURE_ARGS \\\n   --build=x86_64-unknown-linux-gnu \\"}, {"sha": "7535145caa5c86b73d8ed3565662ea55d48c18a5", "filename": "src/librustdoc/html/static/rustdoc.css", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f586d79d183d144e0cbf519e29247f36670e2076/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/f586d79d183d144e0cbf519e29247f36670e2076/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css?ref=f586d79d183d144e0cbf519e29247f36670e2076", "patch": "@@ -137,9 +137,9 @@ h1.fqn > .in-band > a:hover {\n h2, h3, h4 {\n \tborder-bottom: 1px solid;\n }\n-.impl, .method,\n-.type:not(.container-rustdoc), .associatedconstant,\n-.associatedtype {\n+.impl, .impl-items .method,\n+.impl-items .type, .impl-items .associatedconstant,\n+.impl-items .associatedtype {\n \tflex-basis: 100%;\n \tfont-weight: 600;\n \tmargin-top: 16px;"}, {"sha": "d8ad6c2e3f5be5ce41ab859c6b20e6229a143118", "filename": "src/test/rustdoc-gui/font-weight.goml", "status": "added", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f586d79d183d144e0cbf519e29247f36670e2076/src%2Ftest%2Frustdoc-gui%2Ffont-weight.goml", "raw_url": "https://github.com/rust-lang/rust/raw/f586d79d183d144e0cbf519e29247f36670e2076/src%2Ftest%2Frustdoc-gui%2Ffont-weight.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ffont-weight.goml?ref=f586d79d183d144e0cbf519e29247f36670e2076", "patch": "@@ -0,0 +1,7 @@\n+goto: file://|DOC_PATH|/lib2/struct.Foo.html\n+// This test checks that the font weight is correctly applied.\n+assert: (\"//*[@class='docblock type-decl']//a[text()='Alias']\", {\"font-weight\": \"400\"})\n+assert: (\"//*[@class='structfield small-section-header']//a[text()='Alias']\", {\"font-weight\": \"400\"})\n+assert: (\"#method\\.a_method > code\", {\"font-weight\": \"600\"})\n+assert: (\"#associatedtype\\.X > code\", {\"font-weight\": \"600\"})\n+assert: (\"#associatedconstant\\.Y > code\", {\"font-weight\": \"600\"})"}, {"sha": "e0e6d19cace36608c0100298ae5c2a98986bfca7", "filename": "src/test/rustdoc-gui/sidebar.goml", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/f586d79d183d144e0cbf519e29247f36670e2076/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml", "raw_url": "https://github.com/rust-lang/rust/raw/f586d79d183d144e0cbf519e29247f36670e2076/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml?ref=f586d79d183d144e0cbf519e29247f36670e2076", "patch": "@@ -31,7 +31,10 @@ assert: (\".sidebar > .location\", \"Crate lib2\")\n assert: (\".sidebar-elems > .crate > ul > li > a.current\", \"lib2\")\n // We now go to the \"foobar\" function page.\n assert: (\".sidebar-elems > .items > ul > li:nth-child(1)\", \"Modules\")\n-assert: (\".sidebar-elems > .items > ul > li:nth-child(2)\", \"Functions\")\n+assert: (\".sidebar-elems > .items > ul > li:nth-child(2)\", \"Structs\")\n+assert: (\".sidebar-elems > .items > ul > li:nth-child(3)\", \"Traits\")\n+assert: (\".sidebar-elems > .items > ul > li:nth-child(4)\", \"Functions\")\n+assert: (\".sidebar-elems > .items > ul > li:nth-child(5)\", \"Type Definitions\")\n assert:\t(\"#functions + table td > a\", \"foobar\")\n click: \"#functions + table td > a\"\n "}, {"sha": "6fa1b36b29bb949af799ae49913c9483f4833e9a", "filename": "src/test/rustdoc-gui/src/lib2.rs", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/f586d79d183d144e0cbf519e29247f36670e2076/src%2Ftest%2Frustdoc-gui%2Fsrc%2Flib2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f586d79d183d144e0cbf519e29247f36670e2076/src%2Ftest%2Frustdoc-gui%2Fsrc%2Flib2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsrc%2Flib2.rs?ref=f586d79d183d144e0cbf519e29247f36670e2076", "patch": "@@ -9,3 +9,23 @@ pub mod module {\n }\n \n pub fn foobar() {}\n+\n+pub type Alias = u32;\n+\n+pub struct Foo {\n+    pub x: Alias,\n+}\n+\n+impl Foo {\n+    pub fn a_method(&self) {}\n+}\n+\n+pub trait Trait {\n+    type X;\n+    const Y: u32;\n+}\n+\n+impl Trait for Foo {\n+    type X = u32;\n+    const Y: u32 = 0;\n+}"}]}