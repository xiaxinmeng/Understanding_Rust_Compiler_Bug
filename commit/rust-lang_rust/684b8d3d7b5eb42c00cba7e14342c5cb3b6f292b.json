{"sha": "684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY4NGI4ZDNkN2I1ZWI0MmMwMGNiYTdlMTQzNDJjNWNiM2I2ZjI5MmI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-06-10T08:26:10Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-06-10T08:26:10Z"}, "message": "Auto merge of #51196 - Havvy:remove-keywords, r=petrochenkov\n\nImplement RFC 2421, 'Keyword unreservations (pure, sizeof, alignof, offsetof)\n\nOn my local machine I was getting failures in `test/ui-fulldeps`, but I was also getting them again after reverting the change, so I'm hoping that this works.\n\nI removed the test because that's what the other PR that unreserved a keyword did and I feel that it doesn't make sense/keep value to keep a test for something removed years ago.", "tree": {"sha": "8ab749dd8c21cd2046b0deeba19ad8044fabf728", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8ab749dd8c21cd2046b0deeba19ad8044fabf728"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b", "html_url": "https://github.com/rust-lang/rust/commit/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b4d836c98bf9fec7ab3bddd559bab1240240a9d7", "url": "https://api.github.com/repos/rust-lang/rust/commits/b4d836c98bf9fec7ab3bddd559bab1240240a9d7", "html_url": "https://github.com/rust-lang/rust/commit/b4d836c98bf9fec7ab3bddd559bab1240240a9d7"}, {"sha": "679a5219e7e8f7e7c9c1709c75184569be254be3", "url": "https://api.github.com/repos/rust-lang/rust/commits/679a5219e7e8f7e7c9c1709c75184569be254be3", "html_url": "https://github.com/rust-lang/rust/commit/679a5219e7e8f7e7c9c1709c75184569be254be3"}], "stats": {"total": 55, "additions": 30, "deletions": 25}, "files": [{"sha": "abe738d751c133871d560a6c1836e7aae6198f8d", "filename": "src/libsyntax_pos/symbol.rs", "status": "modified", "additions": 18, "deletions": 22, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b/src%2Flibsyntax_pos%2Fsymbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b/src%2Flibsyntax_pos%2Fsymbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax_pos%2Fsymbol.rs?ref=684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b", "patch": "@@ -384,34 +384,30 @@ declare_keywords! {\n \n     // Keywords reserved for future use.\n     (40, Abstract,           \"abstract\")\n-    (41, Alignof,            \"alignof\")\n-    (42, Become,             \"become\")\n-    (43, Do,                 \"do\")\n-    (44, Final,              \"final\")\n-    (45, Macro,              \"macro\")\n-    (46, Offsetof,           \"offsetof\")\n-    (47, Override,           \"override\")\n-    (48, Priv,               \"priv\")\n-    (49, Pure,               \"pure\")\n-    (50, Sizeof,             \"sizeof\")\n-    (51, Typeof,             \"typeof\")\n-    (52, Unsized,            \"unsized\")\n-    (53, Virtual,            \"virtual\")\n-    (54, Yield,              \"yield\")\n+    (41, Become,             \"become\")\n+    (42, Do,                 \"do\")\n+    (43, Final,              \"final\")\n+    (44, Macro,              \"macro\")\n+    (45, Override,           \"override\")\n+    (46, Priv,               \"priv\")\n+    (47, Typeof,             \"typeof\")\n+    (48, Unsized,            \"unsized\")\n+    (49, Virtual,            \"virtual\")\n+    (50, Yield,              \"yield\")\n \n     // Edition-specific keywords reserved for future use.\n-    (55, Async,              \"async\") // >= 2018 Edition Only\n+    (51, Async,              \"async\") // >= 2018 Edition Only\n \n     // Special lifetime names\n-    (56, UnderscoreLifetime, \"'_\")\n-    (57, StaticLifetime,     \"'static\")\n+    (52, UnderscoreLifetime, \"'_\")\n+    (53, StaticLifetime,     \"'static\")\n \n     // Weak keywords, have special meaning only in specific contexts.\n-    (58, Auto,               \"auto\")\n-    (59, Catch,              \"catch\")\n-    (60, Default,            \"default\")\n-    (61, Dyn,                \"dyn\")\n-    (62, Union,              \"union\")\n+    (54, Auto,               \"auto\")\n+    (55, Catch,              \"catch\")\n+    (56, Default,            \"default\")\n+    (57, Dyn,                \"dyn\")\n+    (58, Union,              \"union\")\n }\n \n impl Symbol {"}, {"sha": "7d8050a07a3100799ce8c6878c77b72267422dc6", "filename": "src/test/run-pass/rfc-2421-unreserve-pure-offsetof-sizeof-alignof.rs", "status": "renamed", "additions": 12, "deletions": 3, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b/src%2Ftest%2Frun-pass%2Frfc-2421-unreserve-pure-offsetof-sizeof-alignof.rs", "raw_url": "https://github.com/rust-lang/rust/raw/684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b/src%2Ftest%2Frun-pass%2Frfc-2421-unreserve-pure-offsetof-sizeof-alignof.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Frfc-2421-unreserve-pure-offsetof-sizeof-alignof.rs?ref=684b8d3d7b5eb42c00cba7e14342c5cb3b6f292b", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -8,6 +8,15 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// compile-flags: -Z parse-only\n+// Test that removed keywords are allowed as identifiers.\n+fn main () {\n+    let offsetof = ();\n+    let alignof = ();\n+    let sizeof = ();\n+    let pure = ();\n+}\n \n-pure fn f() {} //~ ERROR expected item, found `pure`\n+fn offsetof() {}\n+fn alignof() {}\n+fn sizeof() {}\n+fn pure() {}", "previous_filename": "src/test/parse-fail/removed-syntax-fn-pure.rs"}]}