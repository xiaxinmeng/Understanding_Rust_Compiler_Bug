{"sha": "6161fb8c65de602b34702a5891d22baf624fe54a", "node_id": "C_kwDOAAsO6NoAKDYxNjFmYjhjNjVkZTYwMmIzNDcwMmE1ODkxZDIyYmFmNjI0ZmU1NGE", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-04-13T09:21:00Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-04-13T09:21:00Z"}, "message": "Rollup merge of #110072 - joshtriplett:stabilize-is-terminal, r=Mark-Simulacrum\n\nStabilize IsTerminal\n\nFCP completed in https://github.com/rust-lang/rust/issues/98070 .\n\ncloses: https://github.com/rust-lang/rust/issues/98070", "tree": {"sha": "b2deae57b329a1e20251c184ab59d4be3b86eb39", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b2deae57b329a1e20251c184ab59d4be3b86eb39"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6161fb8c65de602b34702a5891d22baf624fe54a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkN8l8CRBK7hj4Ov3rIwAAAWYIADSMdmZ2iPc53QejwvfPzDaW\nsQ/TS2ccwWTd5OlPdx7xzMxSG9wiv/cbDatZ0jpAr9HI5L+LCHIEUtH+bLvtmeLA\nXkst0J59Ka4AZz5fP3tQD+qpABfPoOmJ4LYIsbrDbJAdGdvoYUXTnMEeitdB/Hb1\nszfb5r71ecsSxZqy+IhG+MKs0uIy/Usu3A8kYp91ClsXMWImvjAobAcrXFE9Rw9A\nS1rastcYO8VD+BRWiyvdfJi8HdVlzYj9Ce9eVfylZkgcvqEuNZnsl6F4JQKCark2\nfpJJFhF/lgrBRBonu+Hmixj5x2HI0JNRht+bzXLvhlcQLVsNbU59B2PRFdxy1xU=\n=AqQQ\n-----END PGP SIGNATURE-----\n", "payload": "tree b2deae57b329a1e20251c184ab59d4be3b86eb39\nparent d37e2f74afd131cda7b08520d37426bfbb622b5c\nparent afd45c2e10d9a5dbb277852384bb3d2245239f63\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1681377660 +0200\ncommitter GitHub <noreply@github.com> 1681377660 +0200\n\nRollup merge of #110072 - joshtriplett:stabilize-is-terminal, r=Mark-Simulacrum\n\nStabilize IsTerminal\n\nFCP completed in https://github.com/rust-lang/rust/issues/98070 .\n\ncloses: https://github.com/rust-lang/rust/issues/98070\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6161fb8c65de602b34702a5891d22baf624fe54a", "html_url": "https://github.com/rust-lang/rust/commit/6161fb8c65de602b34702a5891d22baf624fe54a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6161fb8c65de602b34702a5891d22baf624fe54a/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d37e2f74afd131cda7b08520d37426bfbb622b5c", "url": "https://api.github.com/repos/rust-lang/rust/commits/d37e2f74afd131cda7b08520d37426bfbb622b5c", "html_url": "https://github.com/rust-lang/rust/commit/d37e2f74afd131cda7b08520d37426bfbb622b5c"}, {"sha": "afd45c2e10d9a5dbb277852384bb3d2245239f63", "url": "https://api.github.com/repos/rust-lang/rust/commits/afd45c2e10d9a5dbb277852384bb3d2245239f63", "html_url": "https://github.com/rust-lang/rust/commit/afd45c2e10d9a5dbb277852384bb3d2245239f63"}], "stats": {"total": 21, "additions": 6, "deletions": 15}, "files": [{"sha": "b9f0e756e65fee115492cff4e3c8ca3696d83a41", "filename": "compiler/rustc_driver_impl/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/compiler%2Frustc_driver_impl%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/compiler%2Frustc_driver_impl%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_driver_impl%2Fsrc%2Flib.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -5,7 +5,6 @@\n //! This API is completely unstable and subject to change.\n \n #![doc(html_root_url = \"https://doc.rust-lang.org/nightly/nightly-rustc/\")]\n-#![feature(is_terminal)]\n #![feature(lazy_cell)]\n #![feature(decl_macro)]\n #![recursion_limit = \"256\"]"}, {"sha": "d20b168904d6f993330b84c11f1226a14b25c2f5", "filename": "compiler/rustc_errors/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/compiler%2Frustc_errors%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/compiler%2Frustc_errors%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Flib.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -6,7 +6,6 @@\n #![feature(array_windows)]\n #![feature(drain_filter)]\n #![feature(if_let_guard)]\n-#![feature(is_terminal)]\n #![feature(adt_const_params)]\n #![feature(let_chains)]\n #![feature(never_type)]"}, {"sha": "3cbb2c21e289e9c72c7f4cc7559dd0abc329f081", "filename": "compiler/rustc_log/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/compiler%2Frustc_log%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/compiler%2Frustc_log%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_log%2Fsrc%2Flib.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -40,7 +40,6 @@\n \n #![deny(rustc::untranslatable_diagnostic)]\n #![deny(rustc::diagnostic_outside_of_impl)]\n-#![feature(is_terminal)]\n \n use std::env::{self, VarError};\n use std::fmt::{self, Display};"}, {"sha": "020c723925aebc412dc79328350ca7c2d8244fcc", "filename": "library/std/src/io/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Fstd%2Fsrc%2Fio%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Fstd%2Fsrc%2Fio%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fio%2Fmod.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -268,7 +268,7 @@ pub(crate) use self::stdio::attempt_print_to_stderr;\n #[unstable(feature = \"internal_output_capture\", issue = \"none\")]\n #[doc(no_inline, hidden)]\n pub use self::stdio::set_output_capture;\n-#[unstable(feature = \"is_terminal\", issue = \"98070\")]\n+#[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n pub use self::stdio::IsTerminal;\n #[unstable(feature = \"print_internals\", issue = \"none\")]\n pub use self::stdio::{_eprint, _print};"}, {"sha": "b2c57b8ddc78e6bdda75a95a16d1488ef5318bd9", "filename": "library/std/src/io/stdio.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Fstd%2Fsrc%2Fio%2Fstdio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Fstd%2Fsrc%2Fio%2Fstdio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fio%2Fstdio.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -1047,7 +1047,7 @@ pub(crate) fn attempt_print_to_stderr(args: fmt::Arguments<'_>) {\n }\n \n /// Trait to determine if a descriptor/handle refers to a terminal/tty.\n-#[unstable(feature = \"is_terminal\", issue = \"98070\")]\n+#[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n pub trait IsTerminal: crate::sealed::Sealed {\n     /// Returns `true` if the descriptor/handle refers to a terminal/tty.\n     ///\n@@ -1063,6 +1063,7 @@ pub trait IsTerminal: crate::sealed::Sealed {\n     /// Note that this [may change in the future][changes].\n     ///\n     /// [changes]: io#platform-specific-behavior\n+    #[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n     fn is_terminal(&self) -> bool;\n }\n \n@@ -1071,7 +1072,7 @@ macro_rules! impl_is_terminal {\n         #[unstable(feature = \"sealed\", issue = \"none\")]\n         impl crate::sealed::Sealed for $t {}\n \n-        #[unstable(feature = \"is_terminal\", issue = \"98070\")]\n+        #[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n         impl IsTerminal for $t {\n             #[inline]\n             fn is_terminal(&self) -> bool {"}, {"sha": "71f3576c93d4b440ec4b0f4100f49000b7862168", "filename": "library/std/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Fstd%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Fstd%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Flib.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -254,7 +254,6 @@\n #![feature(exhaustive_patterns)]\n #![feature(if_let_guard)]\n #![feature(intra_doc_pointers)]\n-#![feature(is_terminal)]\n #![feature(lang_items)]\n #![feature(let_chains)]\n #![feature(linkage)]"}, {"sha": "6a6e6f33158fc5c654ca4d250958a5a3c22cf64e", "filename": "library/std/src/os/fd/owned.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fowned.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fowned.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Ffd%2Fowned.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -201,7 +201,7 @@ macro_rules! impl_is_terminal {\n         #[unstable(feature = \"sealed\", issue = \"none\")]\n         impl crate::sealed::Sealed for $t {}\n \n-        #[unstable(feature = \"is_terminal\", issue = \"98070\")]\n+        #[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n         impl crate::io::IsTerminal for $t {\n             #[inline]\n             fn is_terminal(&self) -> bool {"}, {"sha": "f6622874625fcfc8e15b3a5c2a6dd6d387104190", "filename": "library/std/src/os/windows/io/handle.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio%2Fhandle.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio%2Fhandle.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fos%2Fwindows%2Fio%2Fhandle.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -389,7 +389,7 @@ macro_rules! impl_is_terminal {\n         #[unstable(feature = \"sealed\", issue = \"none\")]\n         impl crate::sealed::Sealed for $t {}\n \n-        #[unstable(feature = \"is_terminal\", issue = \"98070\")]\n+        #[stable(feature = \"is_terminal\", since = \"CURRENT_RUSTC_VERSION\")]\n         impl crate::io::IsTerminal for $t {\n             #[inline]\n             fn is_terminal(&self) -> bool {"}, {"sha": "9fb31ed7663d051722c6192a0f845a613012e9b2", "filename": "library/test/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Ftest%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/library%2Ftest%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Ftest%2Fsrc%2Flib.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -17,7 +17,6 @@\n #![unstable(feature = \"test\", issue = \"50297\")]\n #![doc(test(attr(deny(warnings))))]\n #![feature(internal_output_capture)]\n-#![feature(is_terminal)]\n #![feature(staged_api)]\n #![feature(process_exitcode_internals)]\n #![feature(panic_can_unwind)]"}, {"sha": "b3640eab95339e2445e2b3fb7c00811eb581333a", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -7,7 +7,6 @@\n #![feature(assert_matches)]\n #![feature(box_patterns)]\n #![feature(drain_filter)]\n-#![feature(is_terminal)]\n #![feature(let_chains)]\n #![feature(test)]\n #![feature(never_type)]"}, {"sha": "f67a718ba73a91508354fbada1002294437b437d", "filename": "src/tools/miri/src/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/src%2Ftools%2Fmiri%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/src%2Ftools%2Fmiri%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Fsrc%2Flib.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -7,7 +7,6 @@\n #![feature(yeet_expr)]\n #![feature(nonzero_ops)]\n #![feature(local_key_cell_methods)]\n-#![feature(is_terminal)]\n #![feature(round_ties_even)]\n // Configure clippy and other lints\n #![allow("}, {"sha": "e379288de01cbf06911c97cfa4e90446b137b803", "filename": "src/tools/miri/tests/pass/shims/fs.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Ffs.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -3,7 +3,6 @@\n \n #![feature(io_error_more)]\n #![feature(io_error_uncategorized)]\n-#![feature(is_terminal)]\n \n use std::collections::HashMap;\n use std::ffi::{c_char, OsString};"}, {"sha": "295723957a4265fe55f08986076a9597f6c13392", "filename": "src/tools/miri/tests/pass/shims/io.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6161fb8c65de602b34702a5891d22baf624fe54a/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Fio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6161fb8c65de602b34702a5891d22baf624fe54a/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Fio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fmiri%2Ftests%2Fpass%2Fshims%2Fio.rs?ref=6161fb8c65de602b34702a5891d22baf624fe54a", "patch": "@@ -1,5 +1,3 @@\n-#![feature(is_terminal)]\n-\n use std::io::IsTerminal;\n \n fn main() {"}]}