{"sha": "3a4d7ff2b9faf8c6861869f0835cfd8abcf47577", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNhNGQ3ZmYyYjlmYWY4YzY4NjE4NjlmMDgzNWNmZDhhYmNmNDc1Nzc=", "commit": {"author": {"name": "Chris Morgan", "email": "me@chrismorgan.info", "date": "2013-12-10T03:17:26Z"}, "committer": {"name": "Chris Morgan", "email": "me@chrismorgan.info", "date": "2013-12-10T03:17:26Z"}, "message": "Fix up float highlighting in Vim.\n\nThis fixes a regression introduced in #10793.\n\nHaving a colorscheme which highlights Float the same as Number (I\nbelieve most do), I hadn't noticed that having the special case of \"5.\"\nfloats (which was one of the added features in #10793) last made it take\nprecedence, and so it was left to @thestinger to notice it.\n\nThe regression meant that in `5.0`, the `5.` was a `rustFloat` (linked\nby default to `Float`) and the `0` was a `rustDecNumber` (linked by\ndefault to `Number`), and for `5.0f32` the `5.` was a `rustFloat` and\nthe `0f32` was a second `rustFloat` (and thus appeared correctly, though\nfor the wrong reason).", "tree": {"sha": "242fc9df69fd0b545b9852e73e0eecfebc0753d5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/242fc9df69fd0b545b9852e73e0eecfebc0753d5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3a4d7ff2b9faf8c6861869f0835cfd8abcf47577", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3a4d7ff2b9faf8c6861869f0835cfd8abcf47577", "html_url": "https://github.com/rust-lang/rust/commit/3a4d7ff2b9faf8c6861869f0835cfd8abcf47577", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3a4d7ff2b9faf8c6861869f0835cfd8abcf47577/comments", "author": {"login": "chris-morgan", "id": 392868, "node_id": "MDQ6VXNlcjM5Mjg2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chris-morgan", "html_url": "https://github.com/chris-morgan", "followers_url": "https://api.github.com/users/chris-morgan/followers", "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}", "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}", "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions", "organizations_url": "https://api.github.com/users/chris-morgan/orgs", "repos_url": "https://api.github.com/users/chris-morgan/repos", "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}", "received_events_url": "https://api.github.com/users/chris-morgan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chris-morgan", "id": 392868, "node_id": "MDQ6VXNlcjM5Mjg2OA==", "avatar_url": "https://avatars.githubusercontent.com/u/392868?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chris-morgan", "html_url": "https://github.com/chris-morgan", "followers_url": "https://api.github.com/users/chris-morgan/followers", "following_url": "https://api.github.com/users/chris-morgan/following{/other_user}", "gists_url": "https://api.github.com/users/chris-morgan/gists{/gist_id}", "starred_url": "https://api.github.com/users/chris-morgan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chris-morgan/subscriptions", "organizations_url": "https://api.github.com/users/chris-morgan/orgs", "repos_url": "https://api.github.com/users/chris-morgan/repos", "events_url": "https://api.github.com/users/chris-morgan/events{/privacy}", "received_events_url": "https://api.github.com/users/chris-morgan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "29ca4350c8d64facb39311660e8ee919766f481a", "url": "https://api.github.com/repos/rust-lang/rust/commits/29ca4350c8d64facb39311660e8ee919766f481a", "html_url": "https://github.com/rust-lang/rust/commit/29ca4350c8d64facb39311660e8ee919766f481a"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "4a7bdb79b9e8c01e68ba658eb29e46d2d68f7940", "filename": "src/etc/vim/syntax/rust.vim", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/3a4d7ff2b9faf8c6861869f0835cfd8abcf47577/src%2Fetc%2Fvim%2Fsyntax%2Frust.vim", "raw_url": "https://github.com/rust-lang/rust/raw/3a4d7ff2b9faf8c6861869f0835cfd8abcf47577/src%2Fetc%2Fvim%2Fsyntax%2Frust.vim", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fvim%2Fsyntax%2Frust.vim?ref=3a4d7ff2b9faf8c6861869f0835cfd8abcf47577", "patch": "@@ -3,7 +3,7 @@\n \" Maintainer:   Patrick Walton <pcwalton@mozilla.com>\n \" Maintainer:   Ben Blum <bblum@cs.cmu.edu>\n \" Maintainer:   Chris Morgan <me@chrismorgan.info>\n-\" Last Change:  2013 Dec 04\n+\" Last Change:  2013 Dec 10\n \n if version < 600\n   syntax clear\n@@ -160,14 +160,15 @@ syn match     rustHexNumber   display \"\\<0x[a-fA-F0-9_]\\+\\%([iu]\\%(8\\|16\\|32\\|64\n syn match     rustOctNumber   display \"\\<0o[0-7_]\\+\\%([iu]\\%(8\\|16\\|32\\|64\\)\\=\\)\\=\"\n syn match     rustBinNumber   display \"\\<0b[01_]\\+\\%([iu]\\%(8\\|16\\|32\\|64\\)\\=\\)\\=\"\n \n-\" To mark it as a float, it must have at least one of the three things integral values don't have:\n+\" Special case for numbers of the form \"1.\" which are float literals, unless followed by\n+\" an identifier, which makes them integer literals with a method call or field access.\n+\" (This must go first so the others take precedence.)\n+syn match     rustFloat       display \"\\<[0-9][0-9_]*\\.\\%([^[:cntrl:][:space:][:punct:][:digit:]]\\|_\\)\\@!\"\n+\" To mark a number as a normal float, it must have at least one of the three things integral values don't have:\n \" a decimal point and more numbers; an exponent; and a type suffix.\n syn match     rustFloat       display \"\\<[0-9][0-9_]*\\%(\\.[0-9][0-9_]*\\)\\%([eE][+-]\\=[0-9_]\\+\\)\\=\\(f32\\|f64\\)\\=\"\n syn match     rustFloat       display \"\\<[0-9][0-9_]*\\%(\\.[0-9][0-9_]*\\)\\=\\%([eE][+-]\\=[0-9_]\\+\\)\\(f32\\|f64\\)\\=\"\n syn match     rustFloat       display \"\\<[0-9][0-9_]*\\%(\\.[0-9][0-9_]*\\)\\=\\%([eE][+-]\\=[0-9_]\\+\\)\\=\\(f32\\|f64\\)\"\n-\" Special case for numbers of the form \"1.\" which are float literals, unless followed by\n-\" an identifier, which makes them integer literals with a method call or field access.\n-syn match     rustFloat       display \"\\<[0-9][0-9_]*\\.\\%([^[:cntrl:][:space:][:punct:][:digit:]]\\|_\\)\\@!\"\n \n \" For the benefit of delimitMate\n syn region rustLifetimeCandidate display start=/&'\\%(\\([^'\\\\]\\|\\\\\\(['nrt0\\\\\\\"]\\|x\\x\\{2}\\|u\\x\\{4}\\|U\\x\\{8}\\)\\)'\\)\\@!/ end=/[[:cntrl:][:space:][:punct:]]\\@=\\|$/ contains=rustSigil,rustLifetime"}]}