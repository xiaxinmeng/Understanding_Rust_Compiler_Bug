{"sha": "aaa288126bd27f7b4d3d87827d1b8d3adf01d584", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFhYTI4ODEyNmJkMjdmN2I0ZDNkODc4MjdkMWI4ZDNhZGYwMWQ1ODQ=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-06-01T15:42:46Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-06-01T15:42:46Z"}, "message": "Document initilizationOptions used by rust-analyzer", "tree": {"sha": "7ae4a168c4ef709623c0464d82ffce09b2aae39f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7ae4a168c4ef709623c0464d82ffce09b2aae39f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aaa288126bd27f7b4d3d87827d1b8d3adf01d584", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aaa288126bd27f7b4d3d87827d1b8d3adf01d584", "html_url": "https://github.com/rust-lang/rust/commit/aaa288126bd27f7b4d3d87827d1b8d3adf01d584", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aaa288126bd27f7b4d3d87827d1b8d3adf01d584/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d23814bf3dd3429b35690ba0f57e0b0bb0913d7d", "url": "https://api.github.com/repos/rust-lang/rust/commits/d23814bf3dd3429b35690ba0f57e0b0bb0913d7d", "html_url": "https://github.com/rust-lang/rust/commit/d23814bf3dd3429b35690ba0f57e0b0bb0913d7d"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "6b2d385fc66436f280e1f2e54c300c6f6f6bd6a6", "filename": "docs/dev/lsp-extensions.md", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/aaa288126bd27f7b4d3d87827d1b8d3adf01d584/docs%2Fdev%2Flsp-extensions.md", "raw_url": "https://github.com/rust-lang/rust/raw/aaa288126bd27f7b4d3d87827d1b8d3adf01d584/docs%2Fdev%2Flsp-extensions.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fdev%2Flsp-extensions.md?ref=aaa288126bd27f7b4d3d87827d1b8d3adf01d584", "patch": "@@ -7,6 +7,14 @@ All capabilities are enabled via `experimental` field of `ClientCapabilities` or\n Requests which we hope to upstream live under `experimental/` namespace.\n Requests, which are likely to always remain specific to `rust-analyzer` are under `rust-analyzer/` namespace.\n \n+## `initializationOptions`\n+\n+As `initializationOptions`, `rust-analyzer` expects `\"rust-analyzer\"` section of the configuration.\n+That is, `rust-analyzer` usually sends `\"workspace/configuration\"` request with `{ \"items\": [\"rust-analyzer\"] }` payload.\n+`initializationOptions` should contain the same data that would be in the first item of the result.\n+It's OK to not send anything, then all the settings would take their default values.\n+However, some settings can not be changed after startup at the moment.\n+\n ## Snippet `TextEdit`\n \n **Issue:** https://github.com/microsoft/language-server-protocol/issues/724"}]}