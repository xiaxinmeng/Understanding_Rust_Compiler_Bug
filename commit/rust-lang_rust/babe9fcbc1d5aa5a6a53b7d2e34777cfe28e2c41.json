{"sha": "babe9fcbc1d5aa5a6a53b7d2e34777cfe28e2c41", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJhYmU5ZmNiYzFkNWFhNWE2YTUzYjdkMmUzNDc3N2NmZTI4ZTJjNDE=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-11-26T09:23:15Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2019-11-26T09:23:15Z"}, "message": "rename update_count_then_panic -> rust_panic_without_hook", "tree": {"sha": "9fc1b09d980b601f963373b9ff75c6b1b3a20c91", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9fc1b09d980b601f963373b9ff75c6b1b3a20c91"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/babe9fcbc1d5aa5a6a53b7d2e34777cfe28e2c41", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/babe9fcbc1d5aa5a6a53b7d2e34777cfe28e2c41", "html_url": "https://github.com/rust-lang/rust/commit/babe9fcbc1d5aa5a6a53b7d2e34777cfe28e2c41", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/babe9fcbc1d5aa5a6a53b7d2e34777cfe28e2c41/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4a19ef938c3670afb8cc278d3d31a803b19addab", "url": "https://api.github.com/repos/rust-lang/rust/commits/4a19ef938c3670afb8cc278d3d31a803b19addab", "html_url": "https://github.com/rust-lang/rust/commit/4a19ef938c3670afb8cc278d3d31a803b19addab"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "cd024068d2d47bfeda8c2cb7e43954280c097917", "filename": "src/libstd/panic.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/babe9fcbc1d5aa5a6a53b7d2e34777cfe28e2c41/src%2Flibstd%2Fpanic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/babe9fcbc1d5aa5a6a53b7d2e34777cfe28e2c41/src%2Flibstd%2Fpanic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpanic.rs?ref=babe9fcbc1d5aa5a6a53b7d2e34777cfe28e2c41", "patch": "@@ -425,5 +425,5 @@ pub fn catch_unwind<F: FnOnce() -> R + UnwindSafe, R>(f: F) -> Result<R> {\n /// ```\n #[stable(feature = \"resume_unwind\", since = \"1.9.0\")]\n pub fn resume_unwind(payload: Box<dyn Any + Send>) -> ! {\n-    panicking::update_count_then_panic(payload)\n+    panicking::rust_panic_without_hook(payload)\n }"}, {"sha": "c028ddcd676fca021d548399a18aaa59bf6a33ce", "filename": "src/libstd/panicking.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/babe9fcbc1d5aa5a6a53b7d2e34777cfe28e2c41/src%2Flibstd%2Fpanicking.rs", "raw_url": "https://github.com/rust-lang/rust/raw/babe9fcbc1d5aa5a6a53b7d2e34777cfe28e2c41/src%2Flibstd%2Fpanicking.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpanicking.rs?ref=babe9fcbc1d5aa5a6a53b7d2e34777cfe28e2c41", "patch": "@@ -491,8 +491,9 @@ fn rust_panic_with_hook(payload: &mut dyn BoxMeUp,\n     rust_panic(payload)\n }\n \n-/// Shim around rust_panic. Called by resume_unwind.\n-pub fn update_count_then_panic(msg: Box<dyn Any + Send>) -> ! {\n+/// This is the entry point for `resume_unwind`.\n+/// It just forwards the payload to the panic runtime.\n+pub fn rust_panic_without_hook(payload: Box<dyn Any + Send>) -> ! {\n     update_panic_count(1);\n \n     struct RewrapBox(Box<dyn Any + Send>);\n@@ -507,7 +508,7 @@ pub fn update_count_then_panic(msg: Box<dyn Any + Send>) -> ! {\n         }\n     }\n \n-    rust_panic(&mut RewrapBox(msg))\n+    rust_panic(&mut RewrapBox(payload))\n }\n \n /// An unmangled function (through `rustc_std_internal_symbol`) on which to slap"}]}