{"sha": "21a3d294dc096422ebdd492d06d4e4ba4998d8a2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIxYTNkMjk0ZGMwOTY0MjJlYmRkNDkyZDA2ZDRlNGJhNDk5OGQ4YTI=", "commit": {"author": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2020-07-20T14:12:21Z"}, "committer": {"name": "Mark Rousskov", "email": "mark.simulacrum@gmail.com", "date": "2020-07-21T01:22:14Z"}, "message": "rustc_depr no longer needs to be connected to stability\n\nWe can deprecate non-stable/unstable items.", "tree": {"sha": "8f72507a66d54d37b5e52e254d6212b1cb4abe13", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8f72507a66d54d37b5e52e254d6212b1cb4abe13"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/21a3d294dc096422ebdd492d06d4e4ba4998d8a2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/21a3d294dc096422ebdd492d06d4e4ba4998d8a2", "html_url": "https://github.com/rust-lang/rust/commit/21a3d294dc096422ebdd492d06d4e4ba4998d8a2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/21a3d294dc096422ebdd492d06d4e4ba4998d8a2/comments", "author": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Mark-Simulacrum", "id": 5047365, "node_id": "MDQ6VXNlcjUwNDczNjU=", "avatar_url": "https://avatars.githubusercontent.com/u/5047365?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Mark-Simulacrum", "html_url": "https://github.com/Mark-Simulacrum", "followers_url": "https://api.github.com/users/Mark-Simulacrum/followers", "following_url": "https://api.github.com/users/Mark-Simulacrum/following{/other_user}", "gists_url": "https://api.github.com/users/Mark-Simulacrum/gists{/gist_id}", "starred_url": "https://api.github.com/users/Mark-Simulacrum/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Mark-Simulacrum/subscriptions", "organizations_url": "https://api.github.com/users/Mark-Simulacrum/orgs", "repos_url": "https://api.github.com/users/Mark-Simulacrum/repos", "events_url": "https://api.github.com/users/Mark-Simulacrum/events{/privacy}", "received_events_url": "https://api.github.com/users/Mark-Simulacrum/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c5cc29b0e0bb8238955691dc0cc324050653cbeb", "url": "https://api.github.com/repos/rust-lang/rust/commits/c5cc29b0e0bb8238955691dc0cc324050653cbeb", "html_url": "https://github.com/rust-lang/rust/commit/c5cc29b0e0bb8238955691dc0cc324050653cbeb"}], "stats": {"total": 16, "additions": 0, "deletions": 16}, "files": [{"sha": "60ceb3e5df977331bc5fb1f4e5d2c4fc5b77275f", "filename": "src/librustc_attr/builtin.rs", "status": "modified", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/21a3d294dc096422ebdd492d06d4e4ba4998d8a2/src%2Flibrustc_attr%2Fbuiltin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/21a3d294dc096422ebdd492d06d4e4ba4998d8a2/src%2Flibrustc_attr%2Fbuiltin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_attr%2Fbuiltin.rs?ref=21a3d294dc096422ebdd492d06d4e4ba4998d8a2", "patch": "@@ -495,22 +495,6 @@ where\n         }\n     }\n \n-    // Merge the deprecation info into the stability info\n-    if let Some(rustc_depr) = rustc_depr {\n-        if let Some(ref mut stab) = stab {\n-            stab.rustc_depr = Some(rustc_depr);\n-        } else {\n-            struct_span_err!(\n-                diagnostic,\n-                item_sp,\n-                E0549,\n-                \"rustc_deprecated attribute must be paired with \\\n-                       either stable or unstable attribute\"\n-            )\n-            .emit();\n-        }\n-    }\n-\n     // Merge the const-unstable info into the stability info\n     if promotable || allow_const_fn_ptr {\n         if let Some(ref mut stab) = const_stab {"}]}