{"sha": "785aeac521e54da8c6826396d05446227e19ee40", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc4NWFlYWM1MjFlNTRkYThjNjgyNjM5NmQwNTQ0NjIyN2UxOWVlNDA=", "commit": {"author": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2021-03-15T19:11:40Z"}, "committer": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2021-03-28T02:16:33Z"}, "message": "Remove unused `DiagnosticBuilder::sub` function\n\n`Diagnostic::sub` is only ever used directly; it doesn't need to be\nincluded in the builder.", "tree": {"sha": "b18860bd1fe140e1fcbe5de4d7f650a1d1582bc2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b18860bd1fe140e1fcbe5de4d7f650a1d1582bc2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/785aeac521e54da8c6826396d05446227e19ee40", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/785aeac521e54da8c6826396d05446227e19ee40", "html_url": "https://github.com/rust-lang/rust/commit/785aeac521e54da8c6826396d05446227e19ee40", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/785aeac521e54da8c6826396d05446227e19ee40/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8cd7d86ce27f22260a89ff0d47638cc1de827c9d", "url": "https://api.github.com/repos/rust-lang/rust/commits/8cd7d86ce27f22260a89ff0d47638cc1de827c9d", "html_url": "https://github.com/rust-lang/rust/commit/8cd7d86ce27f22260a89ff0d47638cc1de827c9d"}], "stats": {"total": 15, "additions": 2, "deletions": 13}, "files": [{"sha": "b2dee6ab78ce8c2f4a5f4547aa8bd8f8ba72d7f1", "filename": "compiler/rustc_errors/src/diagnostic.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/785aeac521e54da8c6826396d05446227e19ee40/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic.rs", "raw_url": "https://github.com/rust-lang/rust/raw/785aeac521e54da8c6826396d05446227e19ee40/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic.rs?ref=785aeac521e54da8c6826396d05446227e19ee40", "patch": "@@ -582,6 +582,8 @@ impl Diagnostic {\n \n     /// Convenience function for internal use, clients should use one of the\n     /// public methods above.\n+    ///\n+    /// Used by `proc_macro_server` for implementing `server::Diagnostic`.\n     pub fn sub(\n         &mut self,\n         level: Level,"}, {"sha": "26c7f094f6a0fedec8efb847c8817b68cebd6130", "filename": "compiler/rustc_errors/src/diagnostic_builder.rs", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/785aeac521e54da8c6826396d05446227e19ee40/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic_builder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/785aeac521e54da8c6826396d05446227e19ee40/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic_builder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_errors%2Fsrc%2Fdiagnostic_builder.rs?ref=785aeac521e54da8c6826396d05446227e19ee40", "patch": "@@ -157,19 +157,6 @@ impl<'a> DiagnosticBuilder<'a> {\n         buffered_diagnostics.extend(self.into_diagnostic().map(|(diag, _)| diag));\n     }\n \n-    /// Convenience function for internal use, clients should use one of the\n-    /// span_* methods instead.\n-    pub fn sub<S: Into<MultiSpan>>(\n-        &mut self,\n-        level: Level,\n-        message: &str,\n-        span: Option<S>,\n-    ) -> &mut Self {\n-        let span = span.map(|s| s.into()).unwrap_or_else(MultiSpan::new);\n-        self.0.diagnostic.sub(level, message, span, None);\n-        self\n-    }\n-\n     /// Delay emission of this diagnostic as a bug.\n     ///\n     /// This can be useful in contexts where an error indicates a bug but"}]}