{"sha": "47cf912c2c95675bc39bbd1045724ede4a0e6f9d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ3Y2Y5MTJjMmM5NTY3NWJjMzliYmQxMDQ1NzI0ZWRlNGEwZTZmOWQ=", "commit": {"author": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2017-10-05T12:05:28Z"}, "committer": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2017-10-05T12:05:28Z"}, "message": "Use push_str() instead of write!()", "tree": {"sha": "31db4315a5aad486dffabc1b6b52dd7997299584", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/31db4315a5aad486dffabc1b6b52dd7997299584"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/47cf912c2c95675bc39bbd1045724ede4a0e6f9d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/47cf912c2c95675bc39bbd1045724ede4a0e6f9d", "html_url": "https://github.com/rust-lang/rust/commit/47cf912c2c95675bc39bbd1045724ede4a0e6f9d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/47cf912c2c95675bc39bbd1045724ede4a0e6f9d/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ce8e6455376278067f1a79ff88e0ff8f9c0d34a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/ce8e6455376278067f1a79ff88e0ff8f9c0d34a5", "html_url": "https://github.com/rust-lang/rust/commit/ce8e6455376278067f1a79ff88e0ff8f9c0d34a5"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "f41feb52631eca992a0294bae9ae56b4951b72a4", "filename": "src/expr.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/47cf912c2c95675bc39bbd1045724ede4a0e6f9d/src%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/47cf912c2c95675bc39bbd1045724ede4a0e6f9d/src%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fexpr.rs?ref=47cf912c2c95675bc39bbd1045724ede4a0e6f9d", "patch": "@@ -10,7 +10,6 @@\n \n use std::cmp::min;\n use std::borrow::Cow;\n-use std::fmt::Write;\n use std::iter::{repeat, ExactSizeIterator};\n \n use syntax::{ast, ptr};\n@@ -1351,14 +1350,14 @@ impl<'a> Rewrite for ControlFlow<'a> {\n                 ControlBraceStyle::AlwaysNextLine if last_in_chain => &*alt_block_sep,\n                 _ => \" \",\n             };\n-            write!(\n-                &mut result,\n+\n+            result.push_str(&format!(\n                 \"{}else{}\",\n                 between_kwd_else_block_comment\n                     .as_ref()\n                     .map_or(between_sep, |s| &**s),\n-                after_else_comment.as_ref().map_or(after_sep, |s| &**s)\n-            ).ok()?;\n+                after_else_comment.as_ref().map_or(after_sep, |s| &**s),\n+            ));\n             result.push_str(&rewrite?);\n         }\n "}]}