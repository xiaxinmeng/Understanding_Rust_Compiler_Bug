{"sha": "b0b175214a794a9f84f65ae8687522491f8b9c4b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIwYjE3NTIxNGE3OTRhOWY4NGY2NWFlODY4NzUyMjQ5MWY4YjljNGI=", "commit": {"author": {"name": "Jeff Olson", "email": "olson.jeffery@gmail.com", "date": "2012-05-22T21:07:42Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-05-23T05:29:17Z"}, "message": "std: more work on uv tests to endure valgrind's machinations against them\n\n- change port of tcp server test in uv_ll to avoid conflict w/ test in\nnet::tcp\n- a few places the tcp::read fn is used in test w/ a timeout.. suspend\nuse of the timeout from here on out.", "tree": {"sha": "1a314468fe56345e151464b2b5983711cdae93d5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1a314468fe56345e151464b2b5983711cdae93d5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b0b175214a794a9f84f65ae8687522491f8b9c4b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b0b175214a794a9f84f65ae8687522491f8b9c4b", "html_url": "https://github.com/rust-lang/rust/commit/b0b175214a794a9f84f65ae8687522491f8b9c4b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b0b175214a794a9f84f65ae8687522491f8b9c4b/comments", "author": {"login": "olsonjeffery", "id": 10408, "node_id": "MDQ6VXNlcjEwNDA4", "avatar_url": "https://avatars.githubusercontent.com/u/10408?v=4", "gravatar_id": "", "url": "https://api.github.com/users/olsonjeffery", "html_url": "https://github.com/olsonjeffery", "followers_url": "https://api.github.com/users/olsonjeffery/followers", "following_url": "https://api.github.com/users/olsonjeffery/following{/other_user}", "gists_url": "https://api.github.com/users/olsonjeffery/gists{/gist_id}", "starred_url": "https://api.github.com/users/olsonjeffery/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/olsonjeffery/subscriptions", "organizations_url": "https://api.github.com/users/olsonjeffery/orgs", "repos_url": "https://api.github.com/users/olsonjeffery/repos", "events_url": "https://api.github.com/users/olsonjeffery/events{/privacy}", "received_events_url": "https://api.github.com/users/olsonjeffery/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c7656f67ad6c6ee687332f613a6074f76107c1b8", "url": "https://api.github.com/repos/rust-lang/rust/commits/c7656f67ad6c6ee687332f613a6074f76107c1b8", "html_url": "https://github.com/rust-lang/rust/commit/c7656f67ad6c6ee687332f613a6074f76107c1b8"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "7ac0b3f00159bc43f858ce8d97ba72334ccf7831", "filename": "src/libstd/net_tcp.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b0b175214a794a9f84f65ae8687522491f8b9c4b/src%2Flibstd%2Fnet_tcp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0b175214a794a9f84f65ae8687522491f8b9c4b/src%2Flibstd%2Fnet_tcp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnet_tcp.rs?ref=b0b175214a794a9f84f65ae8687522491f8b9c4b", "patch": "@@ -1424,7 +1424,7 @@ mod test {\n                             let sock = result::unwrap(accept_result);\n                             log(debug, \"SERVER: successfully accepted\"+\n                                 \"connection!\");\n-                            let received_req_bytes = sock.read(2000u);\n+                            let received_req_bytes = sock.read(0u);\n                             alt received_req_bytes {\n                               result::ok(data) {\n                                 server_ch.send(\n@@ -1492,7 +1492,7 @@ mod test {\n             log(debug, \"SERVER: successfully accepted\"+\n                 \"connection!\");\n             let received_req_bytes =\n-                sock.read(2000u);\n+                sock.read(0u);\n             alt received_req_bytes {\n               result::ok(data) {\n                 server_ch.send(\n@@ -1529,7 +1529,7 @@ mod test {\n             let sock = result::unwrap(connect_result);\n             let resp_bytes = str::bytes(resp);\n             tcp_write_single(sock, resp_bytes);\n-            let read_result = sock.read(2000u);\n+            let read_result = sock.read(0u);\n             if read_result.is_failure() {\n                 log(debug, \"CLIENT: failure to read\");\n                 \"\""}, {"sha": "c7610d04586da98d6de373eae2297a6ee034fdcd", "filename": "src/libstd/uv_ll.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0b175214a794a9f84f65ae8687522491f8b9c4b/src%2Flibstd%2Fuv_ll.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0b175214a794a9f84f65ae8687522491f8b9c4b/src%2Flibstd%2Fuv_ll.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fuv_ll.rs?ref=b0b175214a794a9f84f65ae8687522491f8b9c4b", "patch": "@@ -1280,7 +1280,7 @@ mod test {\n     fn impl_uv_tcp_server_and_request() unsafe {\n         let bind_ip = \"0.0.0.0\";\n         let request_ip = \"127.0.0.1\";\n-        let port = 8888;\n+        let port = 8887;\n         let kill_server_msg = \"does a dog have buddha nature?\";\n         let server_resp_msg = \"mu!\";\n         let client_port = comm::port::<str>();"}]}