{"sha": "bbe1bc4a08ce850849e8915778a91256a09f1e0e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJiZTFiYzRhMDhjZTg1MDg0OWU4OTE1Nzc4YTkxMjU2YTA5ZjFlMGU=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2020-06-04T15:27:25Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2020-06-04T15:27:25Z"}, "message": "Revert \"Address review comments\"\n\nThis reverts commit b998497bd41d6de71ec035433247dee856d1f3a5.", "tree": {"sha": "8cf4a4edfad918b22606d1c109a17f038c24289a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8cf4a4edfad918b22606d1c109a17f038c24289a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bbe1bc4a08ce850849e8915778a91256a09f1e0e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bbe1bc4a08ce850849e8915778a91256a09f1e0e", "html_url": "https://github.com/rust-lang/rust/commit/bbe1bc4a08ce850849e8915778a91256a09f1e0e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bbe1bc4a08ce850849e8915778a91256a09f1e0e/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2a5cbb0e42f330617a061243f8725d861dd5118b", "url": "https://api.github.com/repos/rust-lang/rust/commits/2a5cbb0e42f330617a061243f8725d861dd5118b", "html_url": "https://github.com/rust-lang/rust/commit/2a5cbb0e42f330617a061243f8725d861dd5118b"}], "stats": {"total": 18, "additions": 7, "deletions": 11}, "files": [{"sha": "e4aef39ebe220bff1388115064b8933743f3eafc", "filename": "src/librustc_mir/dataflow/move_paths/builder.rs", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/bbe1bc4a08ce850849e8915778a91256a09f1e0e/src%2Flibrustc_mir%2Fdataflow%2Fmove_paths%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bbe1bc4a08ce850849e8915778a91256a09f1e0e/src%2Flibrustc_mir%2Fdataflow%2Fmove_paths%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fdataflow%2Fmove_paths%2Fbuilder.rs?ref=bbe1bc4a08ce850849e8915778a91256a09f1e0e", "patch": "@@ -362,16 +362,12 @@ impl<'b, 'a, 'tcx> Gatherer<'b, 'a, 'tcx> {\n     fn gather_terminator(&mut self, term: &Terminator<'tcx>) {\n         match term.kind {\n             TerminatorKind::Goto { target: _ }\n-            | TerminatorKind::FalseEdges { .. }\n-            | TerminatorKind::FalseUnwind { .. }\n-            // In some sense returning moves the return place into the current\n-            // call's destination, however, since there are no statements after\n-            // this that could possibly access the return place, this doesn't\n-            // need recording.\n             | TerminatorKind::Return\n             | TerminatorKind::Resume\n             | TerminatorKind::Abort\n             | TerminatorKind::GeneratorDrop\n+            | TerminatorKind::FalseEdges { .. }\n+            | TerminatorKind::FalseUnwind { .. }\n             | TerminatorKind::Unreachable => {}\n \n             TerminatorKind::Assert { ref cond, .. } => {"}, {"sha": "b76141817cbdfd145d3958bba8fe8274438e87c2", "filename": "src/librustc_mir_build/build/scope.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/bbe1bc4a08ce850849e8915778a91256a09f1e0e/src%2Flibrustc_mir_build%2Fbuild%2Fscope.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bbe1bc4a08ce850849e8915778a91256a09f1e0e/src%2Flibrustc_mir_build%2Fbuild%2Fscope.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir_build%2Fbuild%2Fscope.rs?ref=bbe1bc4a08ce850849e8915778a91256a09f1e0e", "patch": "@@ -69,7 +69,7 @@ scheduled in a [DropTree]. Later, before `in_breakable_scope` exits, the drops\n will be added to the CFG.\n \n Panics are handled in a similar fashion, except that the drops are added to the\n-MIR once the rest of the function has finished being lowered. If a terminator\n+mir once the rest of the function has finished being lowered. If a terminator\n can panic, call `diverge_from(block)` with the block containing the terminator\n `block`.\n \n@@ -284,8 +284,8 @@ impl DropTree {\n         blocks: &mut IndexVec<DropIdx, Option<BasicBlock>>,\n     ) {\n         // StorageDead statements can share blocks with each other and also with\n-        // a Drop terminator. We iterate through the drops to find which drops\n-        // need their own block.\n+        // a Drop terminator. We iterate through the blocks to find which blocks\n+        // need\n         #[derive(Clone, Copy)]\n         enum Block {\n             // This drop is unreachable\n@@ -294,7 +294,7 @@ impl DropTree {\n             // specified index.\n             Shares(DropIdx),\n             // This drop has more than one way of being reached, or it is\n-            // branched to from outside the tree, or its predecessor is a\n+            // branched to from outside the tree, or it's predecessor is a\n             // `Value` drop.\n             Own,\n         }\n@@ -307,7 +307,7 @@ impl DropTree {\n             needs_block[ROOT_NODE] = Block::Own;\n         }\n \n-        // Sort so that we only need to check the last value.\n+        // Sort so that we only need to check the last\n         let entry_points = &mut self.entry_points;\n         entry_points.sort();\n "}]}