{"sha": "58b336d90b3155cb42a31de6c914bb784aad47bc", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU4YjMzNmQ5MGIzMTU1Y2I0MmEzMWRlNmM5MTRiYjc4NGFhZDQ3YmM=", "commit": {"author": {"name": "sp3d", "email": "sp3d@github", "date": "2013-10-18T03:35:26Z"}, "committer": {"name": "sp3d", "email": "sp3d@github", "date": "2013-10-18T03:35:26Z"}, "message": "track language changes, improve attr handling in GtkSourceView language-spec\n\nRefactors parsing of numerical literals to make it more readable.\nRemoves 'float'/the 'f' literal suffix and invalid character literals ''' and '\\'.\nAlso makes attribute highlighting more robust and allows urls in attributes to be recognized.", "tree": {"sha": "2deda375a9af32920ef11f64afc788b2ac9ec397", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2deda375a9af32920ef11f64afc788b2ac9ec397"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/58b336d90b3155cb42a31de6c914bb784aad47bc", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/58b336d90b3155cb42a31de6c914bb784aad47bc", "html_url": "https://github.com/rust-lang/rust/commit/58b336d90b3155cb42a31de6c914bb784aad47bc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/58b336d90b3155cb42a31de6c914bb784aad47bc/comments", "author": {"login": "sp3d", "id": 4684824, "node_id": "MDQ6VXNlcjQ2ODQ4MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4684824?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sp3d", "html_url": "https://github.com/sp3d", "followers_url": "https://api.github.com/users/sp3d/followers", "following_url": "https://api.github.com/users/sp3d/following{/other_user}", "gists_url": "https://api.github.com/users/sp3d/gists{/gist_id}", "starred_url": "https://api.github.com/users/sp3d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sp3d/subscriptions", "organizations_url": "https://api.github.com/users/sp3d/orgs", "repos_url": "https://api.github.com/users/sp3d/repos", "events_url": "https://api.github.com/users/sp3d/events{/privacy}", "received_events_url": "https://api.github.com/users/sp3d/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sp3d", "id": 4684824, "node_id": "MDQ6VXNlcjQ2ODQ4MjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4684824?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sp3d", "html_url": "https://github.com/sp3d", "followers_url": "https://api.github.com/users/sp3d/followers", "following_url": "https://api.github.com/users/sp3d/following{/other_user}", "gists_url": "https://api.github.com/users/sp3d/gists{/gist_id}", "starred_url": "https://api.github.com/users/sp3d/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sp3d/subscriptions", "organizations_url": "https://api.github.com/users/sp3d/orgs", "repos_url": "https://api.github.com/users/sp3d/repos", "events_url": "https://api.github.com/users/sp3d/events{/privacy}", "received_events_url": "https://api.github.com/users/sp3d/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d8d1b8f8be250b9e19bb70aa0968c1b4a4aec2f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/d8d1b8f8be250b9e19bb70aa0968c1b4a4aec2f8", "html_url": "https://github.com/rust-lang/rust/commit/d8d1b8f8be250b9e19bb70aa0968c1b4a4aec2f8"}], "stats": {"total": 68, "additions": 46, "deletions": 22}, "files": [{"sha": "1c1bb0a00121a8d5b184db21a2e2b06944dba8d9", "filename": "src/etc/gedit/share/gtksourceview-3.0/language-specs/rust.lang", "status": "modified", "additions": 46, "deletions": 22, "changes": 68, "blob_url": "https://github.com/rust-lang/rust/blob/58b336d90b3155cb42a31de6c914bb784aad47bc/src%2Fetc%2Fgedit%2Fshare%2Fgtksourceview-3.0%2Flanguage-specs%2Frust.lang", "raw_url": "https://github.com/rust-lang/rust/raw/58b336d90b3155cb42a31de6c914bb784aad47bc/src%2Fetc%2Fgedit%2Fshare%2Fgtksourceview-3.0%2Flanguage-specs%2Frust.lang", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fgedit%2Fshare%2Fgtksourceview-3.0%2Flanguage-specs%2Frust.lang?ref=58b336d90b3155cb42a31de6c914bb784aad47bc", "patch": "@@ -85,7 +85,6 @@\n \t\t<keyword>u64</keyword>\n \t\t<keyword>f32</keyword>\n \t\t<keyword>f64</keyword>\n-\t\t<keyword>float</keyword>\n \t\t<keyword>char</keyword>\n \t\t<keyword>str</keyword>\n \t\t<keyword>Either</keyword>\n@@ -205,16 +204,36 @@\n       </include>\n     </context>\n \n+    <define-regex id=\"int_suffix\" extended=\"true\">\n+      (i8|i16|i32|i64|i|u8|u16|u32|u64|u)\n+    </define-regex>\n+\n+    <define-regex id=\"exponent\" extended=\"true\">\n+      ([eE][+-]?[0-9_]+)\n+    </define-regex>\n+\n+    <define-regex id=\"float_suffix\" extended=\"true\">\n+      (\\%{exponent}?(f32|f64)?)|(\\.[0-9][0-9_]*\\%{exponent}?)?(f32|f64)?|\\.\n+    </define-regex>\n+\n+    <define-regex id=\"num_suffix\" extended=\"true\">\n+      \\%{int_suffix}|\\%{float_suffix}\n+    </define-regex>\n+\n+    <define-regex id=\"hex_digit\" extended=\"true\">\n+      [0-9a-fA-F]\n+    </define-regex>\n+\n     <context id=\"number\" style-ref=\"number\">\n       <match extended=\"true\">\n-        (?&lt;![\\w\\.])\n+        ((?&lt;=\\.\\.)|(?&lt;![\\w\\.]))\n         (\n-        0x[0-9a-fA-F_]+(u8|u16|u32|u64|i8|i16|i32|i64|u|i)?|\n-        0b[0-1_]+(u8|u16|u32|u64|i8|i16|i32|i64|u|i)?|\n-        [0-9][0-9_]*\\.[0-9_]*([eE][+-]?[0-9_]+)?(f32|f64|f)?|\n-        [0-9][0-9_]*(u8|u16|u32|u64|i8|i16|i32|i64|u|i)?\n+        [1-9][0-9_]*\\%{num_suffix}?|\n+        0[0-9_]*\\%{num_suffix}?|\n+        0b[01_]+\\%{int_suffix}?|\n+        0x(\\%{hex_digit}|_)+\\%{int_suffix}?\n         )\n-        (?![\\w\\.])\n+        ((?![\\w\\.].)|(?=\\.\\.))\n       </match>\n     </context>\n \n@@ -234,32 +253,37 @@\n       </match>\n     </context>\n \n+    <define-regex id=\"common_escape\" extended=\"true\">\n+      '|\"|\n+      \\\\|n|r|t|\n+      x\\%{hex_digit}{2}|\n+      u\\%{hex_digit}{4}|\n+      U\\%{hex_digit}{8}\n+    </define-regex>\n+\n+    <context id=\"string_escape\" style-ref=\"def:special-char\">\n+      <match>\\\\\\%{common_escape}</match>\n+    </context>\n+\n     <context id=\"string\" style-ref=\"string\" class=\"string\" class-disabled=\"no-spell-check\">\n       <start>\"</start>\n       <end>\"</end>\n       <include>\n-        <context ref=\"def:escape\"/>\n+        <context ref=\"string_escape\"/>\n         <context ref=\"def:line-continue\"/>\n       </include>\n     </context>\n \n-    <define-regex id=\"hex_digit\" extended=\"true\">\n-      [0-9a-fA-F]\n-    </define-regex>\n-\n-    <define-regex id=\"common_escape\" extended=\"true\">\n-      (n|r|t)|\n-      x\\%{hex_digit}{2}|\n-      u\\%{hex_digit}{4}|\n-      U\\%{hex_digit}{8}\n-    </define-regex>\n-\n-    <context id=\"char\" style-ref=\"char\" class=\"char\">\n-      <match extended=\"true\">'([^\\\\]|\\\\\\%{common_escape})'</match>\n+    <context id=\"char\" style-ref=\"char\">\n+      <match extended=\"true\">'([^\\\\']|\\\\\\%{common_escape})'</match>\n     </context>\n \n     <context id=\"attribute\" style-ref=\"attribute\" class=\"attribute\">\n-      <match extended=\"true\">\\#\\[[^\\]]+\\]</match>\n+      <start extended=\"true\">\\#\\[</start>\n+      <end>\\]</end>\n+      <include>\n+        <context ref=\"def:in-comment\"/>\n+      </include>\n     </context>\n \n     <context id=\"rust\" class=\"no-spell-check\">"}]}