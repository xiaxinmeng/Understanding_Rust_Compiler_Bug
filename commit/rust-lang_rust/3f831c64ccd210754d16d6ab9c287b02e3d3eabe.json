{"sha": "3f831c64ccd210754d16d6ab9c287b02e3d3eabe", "node_id": "C_kwDOAAsO6NoAKDNmODMxYzY0Y2NkMjEwNzU0ZDE2ZDZhYjljMjg3YjAyZTNkM2VhYmU", "commit": {"author": {"name": "b-naber", "email": "bn263@gmx.de", "date": "2021-12-05T11:35:49Z"}, "committer": {"name": "b-naber", "email": "bn263@gmx.de", "date": "2021-12-05T11:43:45Z"}, "message": "add test and bless existing ones", "tree": {"sha": "7398d504dc7f394b9a3353cf65c8981c774ced3a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7398d504dc7f394b9a3353cf65c8981c774ced3a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3f831c64ccd210754d16d6ab9c287b02e3d3eabe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3f831c64ccd210754d16d6ab9c287b02e3d3eabe", "html_url": "https://github.com/rust-lang/rust/commit/3f831c64ccd210754d16d6ab9c287b02e3d3eabe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3f831c64ccd210754d16d6ab9c287b02e3d3eabe/comments", "author": {"login": "b-naber", "id": 71934879, "node_id": "MDQ6VXNlcjcxOTM0ODc5", "avatar_url": "https://avatars.githubusercontent.com/u/71934879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b-naber", "html_url": "https://github.com/b-naber", "followers_url": "https://api.github.com/users/b-naber/followers", "following_url": "https://api.github.com/users/b-naber/following{/other_user}", "gists_url": "https://api.github.com/users/b-naber/gists{/gist_id}", "starred_url": "https://api.github.com/users/b-naber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b-naber/subscriptions", "organizations_url": "https://api.github.com/users/b-naber/orgs", "repos_url": "https://api.github.com/users/b-naber/repos", "events_url": "https://api.github.com/users/b-naber/events{/privacy}", "received_events_url": "https://api.github.com/users/b-naber/received_events", "type": "User", "site_admin": false}, "committer": {"login": "b-naber", "id": 71934879, "node_id": "MDQ6VXNlcjcxOTM0ODc5", "avatar_url": "https://avatars.githubusercontent.com/u/71934879?v=4", "gravatar_id": "", "url": "https://api.github.com/users/b-naber", "html_url": "https://github.com/b-naber", "followers_url": "https://api.github.com/users/b-naber/followers", "following_url": "https://api.github.com/users/b-naber/following{/other_user}", "gists_url": "https://api.github.com/users/b-naber/gists{/gist_id}", "starred_url": "https://api.github.com/users/b-naber/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/b-naber/subscriptions", "organizations_url": "https://api.github.com/users/b-naber/orgs", "repos_url": "https://api.github.com/users/b-naber/repos", "events_url": "https://api.github.com/users/b-naber/events{/privacy}", "received_events_url": "https://api.github.com/users/b-naber/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "61cab770bd55fdc3d9d6ac86a9e0ccf7ddbb3f51", "url": "https://api.github.com/repos/rust-lang/rust/commits/61cab770bd55fdc3d9d6ac86a9e0ccf7ddbb3f51", "html_url": "https://github.com/rust-lang/rust/commit/61cab770bd55fdc3d9d6ac86a9e0ccf7ddbb3f51"}], "stats": {"total": 63, "additions": 62, "deletions": 1}, "files": [{"sha": "bea5dc8ba21e6fb23a0e4ac5c09b918f152d3ca0", "filename": "src/test/ui/const-generics/issues/issue-72845.rs", "status": "added", "additions": 49, "deletions": 0, "changes": 49, "blob_url": "https://github.com/rust-lang/rust/blob/3f831c64ccd210754d16d6ab9c287b02e3d3eabe/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-72845.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f831c64ccd210754d16d6ab9c287b02e3d3eabe/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-72845.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-72845.rs?ref=3f831c64ccd210754d16d6ab9c287b02e3d3eabe", "patch": "@@ -0,0 +1,49 @@\n+#![feature(generic_const_exprs)]\n+#![feature(specialization)]\n+#![allow(incomplete_features)]\n+\n+//--------------------------------------------------\n+\n+trait Depth {\n+    const C: usize;\n+}\n+\n+trait Type {\n+    type AT: Depth;\n+}\n+\n+//--------------------------------------------------\n+\n+enum Predicate<const B: bool> {}\n+\n+trait Satisfied {}\n+\n+impl Satisfied for Predicate<true> {}\n+\n+//--------------------------------------------------\n+\n+trait Spec1 {}\n+\n+impl<T: Type> Spec1 for T where Predicate<{T::AT::C > 0}>: Satisfied {}\n+\n+trait Spec2 {}\n+\n+//impl<T: Type > Spec2 for T where Predicate<{T::AT::C > 1}>: Satisfied {}\n+impl<T: Type > Spec2 for T where Predicate<true>: Satisfied {}\n+\n+//--------------------------------------------------\n+\n+trait Foo {\n+    fn Bar();\n+}\n+\n+impl<T: Spec1> Foo for T {\n+    default fn Bar() {}\n+}\n+\n+impl<T: Spec2> Foo for T {\n+//~^ ERROR conflicting implementations of trait\n+    fn Bar() {}\n+}\n+\n+fn main() {}"}, {"sha": "631c8605fb4d6a3a752c29b70f726e926010e95c", "filename": "src/test/ui/const-generics/issues/issue-72845.stderr", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/3f831c64ccd210754d16d6ab9c287b02e3d3eabe/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-72845.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3f831c64ccd210754d16d6ab9c287b02e3d3eabe/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-72845.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-generics%2Fissues%2Fissue-72845.stderr?ref=3f831c64ccd210754d16d6ab9c287b02e3d3eabe", "patch": "@@ -0,0 +1,12 @@\n+error[E0119]: conflicting implementations of trait `Foo`\n+  --> $DIR/issue-72845.rs:44:1\n+   |\n+LL | impl<T: Spec1> Foo for T {\n+   | ------------------------ first implementation here\n+...\n+LL | impl<T: Spec2> Foo for T {\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^ conflicting implementation\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0119`."}, {"sha": "45a3d901c987119540915c195daa098f28fe0c01", "filename": "src/test/ui/consts/const-eval/const-eval-query-stack.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f831c64ccd210754d16d6ab9c287b02e3d3eabe/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst-eval-query-stack.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3f831c64ccd210754d16d6ab9c287b02e3d3eabe/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst-eval-query-stack.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Fconst-eval%2Fconst-eval-query-stack.stderr?ref=3f831c64ccd210754d16d6ab9c287b02e3d3eabe", "patch": "@@ -20,7 +20,7 @@ error[E0080]: evaluation of constant value failed\n LL |     let x: &'static i32 = &X;\n    |                            ^ referenced constant has errors\n query stack during panic:\n-#0 [normalize_mir_const_after_erasing_regions] normalizing `main::promoted[1]`\n+#0 [try_normalize_mir_const_after_erasing_regions] normalizing `main::promoted[1]`\n #1 [optimized_mir] optimizing MIR for `main`\n #2 [collect_and_partition_mono_items] collect_and_partition_mono_items\n end of query stack"}]}