{"sha": "44d3ea53081f7f0065d54fc29cbfd234b44208a8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ0ZDNlYTUzMDgxZjdmMDA2NWQ1NGZjMjljYmZkMjM0YjQ0MjA4YTg=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-10-31T17:03:54Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2017-10-31T17:04:02Z"}, "message": "Fix lint_without_lint_pass", "tree": {"sha": "869279fe8a678ece7780a497fc93ad6fde6dc082", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/869279fe8a678ece7780a497fc93ad6fde6dc082"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/44d3ea53081f7f0065d54fc29cbfd234b44208a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/44d3ea53081f7f0065d54fc29cbfd234b44208a8", "html_url": "https://github.com/rust-lang/rust/commit/44d3ea53081f7f0065d54fc29cbfd234b44208a8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/44d3ea53081f7f0065d54fc29cbfd234b44208a8/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c526c51923b30d6c372c5a45a27f4caded53060d", "url": "https://api.github.com/repos/rust-lang/rust/commits/c526c51923b30d6c372c5a45a27f4caded53060d", "html_url": "https://github.com/rust-lang/rust/commit/c526c51923b30d6c372c5a45a27f4caded53060d"}], "stats": {"total": 10, "additions": 3, "deletions": 7}, "files": [{"sha": "6e62f96749ed863d327ed61faeca91f38f9177ca", "filename": "clippy_lints/src/utils/internal_lints.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/44d3ea53081f7f0065d54fc29cbfd234b44208a8/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/44d3ea53081f7f0065d54fc29cbfd234b44208a8/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finternal_lints.rs?ref=44d3ea53081f7f0065d54fc29cbfd234b44208a8", "patch": "@@ -161,16 +161,13 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for LintWithoutLintPass {\n \n fn is_lint_ref_type(ty: &Ty) -> bool {\n     if let TyRptr(\n-        ref lt,\n+        _,\n         MutTy {\n             ty: ref inner,\n             mutbl: MutImmutable,\n         },\n     ) = ty.node\n     {\n-        if lt.is_elided() {\n-            return false;\n-        }\n         if let TyPath(ref path) = inner.node {\n             return match_qpath(path, &paths::LINT);\n         }"}, {"sha": "95e146091824dabd06734f64a5834c9aeaac714d", "filename": "clippy_lints/src/utils/paths.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/44d3ea53081f7f0065d54fc29cbfd234b44208a8/clippy_lints%2Fsrc%2Futils%2Fpaths.rs", "raw_url": "https://github.com/rust-lang/rust/raw/44d3ea53081f7f0065d54fc29cbfd234b44208a8/clippy_lints%2Fsrc%2Futils%2Fpaths.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fpaths.rs?ref=44d3ea53081f7f0065d54fc29cbfd234b44208a8", "patch": "@@ -41,8 +41,8 @@ pub const IO_READ: [&str; 3] = [\"std\", \"io\", \"Read\"];\n pub const IO_WRITE: [&str; 3] = [\"std\", \"io\", \"Write\"];\n pub const ITERATOR: [&str; 4] = [\"core\", \"iter\", \"iterator\", \"Iterator\"];\n pub const LINKED_LIST: [&str; 3] = [\"alloc\", \"linked_list\", \"LinkedList\"];\n-pub const LINT: [&str; 3] = [\"rustc\", \"lint\", \"Lint\"];\n-pub const LINT_ARRAY: [&str; 3] = [\"rustc\", \"lint\", \"LintArray\"];\n+pub const LINT: [&str; 2] = [\"lint\", \"Lint\"];\n+pub const LINT_ARRAY: [&str; 2] = [\"lint\", \"LintArray\"];\n pub const MEM_FORGET: [&str; 3] = [\"core\", \"mem\", \"forget\"];\n pub const MEM_UNINIT: [&str; 3] = [\"core\", \"mem\", \"uninitialized\"];\n pub const MEM_ZEROED: [&str; 3] = [\"core\", \"mem\", \"zeroed\"];"}, {"sha": "29c93e745b3e021688ac8b1e9fecb2d1c85372a6", "filename": "tests/ui/lint_pass.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/44d3ea53081f7f0065d54fc29cbfd234b44208a8/tests%2Fui%2Flint_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/44d3ea53081f7f0065d54fc29cbfd234b44208a8/tests%2Fui%2Flint_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Flint_pass.rs?ref=44d3ea53081f7f0065d54fc29cbfd234b44208a8", "patch": "@@ -2,7 +2,6 @@\n #![feature(rustc_private)]\n #![feature(macro_vis_matcher)]\n \n-\n #![warn(lint_without_lint_pass)]\n \n #[macro_use] extern crate rustc;"}]}