{"sha": "46a25581aae5815382aa9291ec7071aafbfea7ba", "node_id": "C_kwDOAAsO6NoAKDQ2YTI1NTgxYWFlNTgxNTM4MmFhOTI5MWVjNzA3MWFhZmJmZWE3YmE", "commit": {"author": {"name": "Nilstrieb", "email": "48135649+Nilstrieb@users.noreply.github.com", "date": "2023-04-16T19:36:05Z"}, "committer": {"name": "Nilstrieb", "email": "48135649+Nilstrieb@users.noreply.github.com", "date": "2023-04-16T19:36:05Z"}, "message": "Extract variable", "tree": {"sha": "6046638c80370f6b76d6c886b970180062859ecf", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6046638c80370f6b76d6c886b970180062859ecf"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/46a25581aae5815382aa9291ec7071aafbfea7ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/46a25581aae5815382aa9291ec7071aafbfea7ba", "html_url": "https://github.com/rust-lang/rust/commit/46a25581aae5815382aa9291ec7071aafbfea7ba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/46a25581aae5815382aa9291ec7071aafbfea7ba/comments", "author": {"login": "Nilstrieb", "id": 48135649, "node_id": "MDQ6VXNlcjQ4MTM1NjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/48135649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nilstrieb", "html_url": "https://github.com/Nilstrieb", "followers_url": "https://api.github.com/users/Nilstrieb/followers", "following_url": "https://api.github.com/users/Nilstrieb/following{/other_user}", "gists_url": "https://api.github.com/users/Nilstrieb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nilstrieb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nilstrieb/subscriptions", "organizations_url": "https://api.github.com/users/Nilstrieb/orgs", "repos_url": "https://api.github.com/users/Nilstrieb/repos", "events_url": "https://api.github.com/users/Nilstrieb/events{/privacy}", "received_events_url": "https://api.github.com/users/Nilstrieb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Nilstrieb", "id": 48135649, "node_id": "MDQ6VXNlcjQ4MTM1NjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/48135649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nilstrieb", "html_url": "https://github.com/Nilstrieb", "followers_url": "https://api.github.com/users/Nilstrieb/followers", "following_url": "https://api.github.com/users/Nilstrieb/following{/other_user}", "gists_url": "https://api.github.com/users/Nilstrieb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nilstrieb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nilstrieb/subscriptions", "organizations_url": "https://api.github.com/users/Nilstrieb/orgs", "repos_url": "https://api.github.com/users/Nilstrieb/repos", "events_url": "https://api.github.com/users/Nilstrieb/events{/privacy}", "received_events_url": "https://api.github.com/users/Nilstrieb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fa4639195c3e3b010df68dcbc9f908dd57282894", "url": "https://api.github.com/repos/rust-lang/rust/commits/fa4639195c3e3b010df68dcbc9f908dd57282894", "html_url": "https://github.com/rust-lang/rust/commit/fa4639195c3e3b010df68dcbc9f908dd57282894"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "30613e47cbd1a5149452bbde93fafded332db2f3", "filename": "src/bootstrap/bootstrap.py", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/46a25581aae5815382aa9291ec7071aafbfea7ba/src%2Fbootstrap%2Fbootstrap.py", "raw_url": "https://github.com/rust-lang/rust/raw/46a25581aae5815382aa9291ec7071aafbfea7ba/src%2Fbootstrap%2Fbootstrap.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap.py?ref=46a25581aae5815382aa9291ec7071aafbfea7ba", "patch": "@@ -438,11 +438,12 @@ def download_toolchain(self):\n \n             tarball_suffix = '.tar.gz' if lzma is None else '.tar.xz'\n \n+            toolchain_suffix = \"{}-{}{}\".format(rustc_channel, self.build, tarball_suffix)\n+\n             tarballs_to_download = [\n-                (\"rust-std-{}-{}{}\".format(rustc_channel, self.build, tarball_suffix),\n-                    \"rust-std-{}\".format(self.build)),\n-                (\"rustc-{}-{}{}\".format(rustc_channel, self.build, tarball_suffix), \"rustc\"),\n-                (\"cargo-{}-{}{}\".format(rustc_channel, self.build, tarball_suffix), \"cargo\"),\n+                (\"rust-std-{}\".format(toolchain_suffix), \"rust-std-{}\".format(self.build)),\n+                (\"rustc-{}\".format(toolchain_suffix), \"rustc\"),\n+                (\"cargo-{}\".format(toolchain_suffix), \"cargo\"),\n             ]\n \n             for filename, pattern in tarballs_to_download:"}]}