{"sha": "cefb7b0f5862fe58294d56842327bc9cb62bfda7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNlZmI3YjBmNTg2MmZlNTgyOTRkNTY4NDIzMjdiYzljYjYyYmZkYTc=", "commit": {"author": {"name": "Oliver Schneider", "email": "oli-obk@users.noreply.github.com", "date": "2018-04-15T09:57:01Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-04-15T09:57:01Z"}, "message": "Merge pull request #2670 from mikerite/fix_compilation_20180415\n\nFix compilation for nightly 2018-04-15", "tree": {"sha": "8246e8dc328b0ae377cb2704c6ca68f35ff295e5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8246e8dc328b0ae377cb2704c6ca68f35ff295e5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cefb7b0f5862fe58294d56842327bc9cb62bfda7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJa0yHtCRBK7hj4Ov3rIwAAdHIIABaAWusAdNmWGOpBdXq3T3CH\nxdNiBzyYu3yMEPKpKb0Eh40clFkEW0b64C6w3FGBjs2yW7kjPnh/LfjiBm+WMG4h\ntM+oX1q5OtM5HFPrcudQx1WgULLtsRYUZ0nYzko1+7dsZLGcdp9ixVP9O92P5ziS\nnWBpTnXCDz7/Q5pnQAVN8ITLBu4D6DFjAfKGcv8L3Zh02E1w/jl45Sxjk3TEpsGF\nGL+4bg05JtqsQuWXkdpmWM9wuluf6qKChbUiCtZcwOnsI7HDAQH2dZc2mjeBfKBF\nYVyYqzi3rxfBIMsGnXbUDBf3TBwIOuPYGrd37J8OK4WDkO1SjraRwqB84MRkHg8=\n=qBbZ\n-----END PGP SIGNATURE-----\n", "payload": "tree 8246e8dc328b0ae377cb2704c6ca68f35ff295e5\nparent fc8e35884b77197c03c14cac6cfad24a91e3fd33\nparent d171e8987e7c4c6900f8593c9bb3c5b7eb420e85\nauthor Oliver Schneider <oli-obk@users.noreply.github.com> 1523786221 +0200\ncommitter GitHub <noreply@github.com> 1523786221 +0200\n\nMerge pull request #2670 from mikerite/fix_compilation_20180415\n\nFix compilation for nightly 2018-04-15"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cefb7b0f5862fe58294d56842327bc9cb62bfda7", "html_url": "https://github.com/rust-lang/rust/commit/cefb7b0f5862fe58294d56842327bc9cb62bfda7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cefb7b0f5862fe58294d56842327bc9cb62bfda7/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fc8e35884b77197c03c14cac6cfad24a91e3fd33", "url": "https://api.github.com/repos/rust-lang/rust/commits/fc8e35884b77197c03c14cac6cfad24a91e3fd33", "html_url": "https://github.com/rust-lang/rust/commit/fc8e35884b77197c03c14cac6cfad24a91e3fd33"}, {"sha": "d171e8987e7c4c6900f8593c9bb3c5b7eb420e85", "url": "https://api.github.com/repos/rust-lang/rust/commits/d171e8987e7c4c6900f8593c9bb3c5b7eb420e85", "html_url": "https://github.com/rust-lang/rust/commit/d171e8987e7c4c6900f8593c9bb3c5b7eb420e85"}], "stats": {"total": 38, "additions": 5, "deletions": 33}, "files": [{"sha": "cfef1e85b94e1448dbaa5ecd9fa9b3ad00dfd35c", "filename": "clippy_lints/src/loops.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Floops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Floops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Floops.rs?ref=cefb7b0f5862fe58294d56842327bc9cb62bfda7", "patch": "@@ -602,7 +602,6 @@ fn never_loop_expr(expr: &Expr, main_loop_id: &NodeId) -> NeverLoopResult {\n         ExprCast(ref e, _) |\n         ExprType(ref e, _) |\n         ExprField(ref e, _) |\n-        ExprTupField(ref e, _) |\n         ExprAddrOf(_, ref e) |\n         ExprStruct(_, _, Some(ref e)) |\n         ExprRepeat(ref e, _) => never_loop_expr(e, main_loop_id),"}, {"sha": "2765c1b2ee039d56ef1c3bea3481b74b45484c4b", "filename": "clippy_lints/src/no_effect.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Fno_effect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Fno_effect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fno_effect.rs?ref=cefb7b0f5862fe58294d56842327bc9cb62bfda7", "patch": "@@ -56,7 +56,6 @@ fn has_no_effect(cx: &LateContext, expr: &Expr) -> bool {\n         Expr_::ExprType(ref inner, _) |\n         Expr_::ExprUnary(_, ref inner) |\n         Expr_::ExprField(ref inner, _) |\n-        Expr_::ExprTupField(ref inner, _) |\n         Expr_::ExprAddrOf(_, ref inner) |\n         Expr_::ExprBox(ref inner) => has_no_effect(cx, inner),\n         Expr_::ExprStruct(_, ref fields, ref base) => {\n@@ -143,7 +142,6 @@ fn reduce_expression<'a>(cx: &LateContext, expr: &'a Expr) -> Option<Vec<&'a Exp\n         Expr_::ExprType(ref inner, _) |\n         Expr_::ExprUnary(_, ref inner) |\n         Expr_::ExprField(ref inner, _) |\n-        Expr_::ExprTupField(ref inner, _) |\n         Expr_::ExprAddrOf(_, ref inner) |\n         Expr_::ExprBox(ref inner) => reduce_expression(cx, inner).or_else(|| Some(vec![inner])),\n         Expr_::ExprStruct(_, ref fields, ref base) => if has_drop(cx, expr) {"}, {"sha": "b7e79a06327ee4c30d39172010d0fd5a58adbf8f", "filename": "clippy_lints/src/shadow.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Fshadow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Fshadow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fshadow.rs?ref=cefb7b0f5862fe58294d56842327bc9cb62bfda7", "patch": "@@ -306,7 +306,7 @@ fn check_expr<'a, 'tcx>(cx: &LateContext<'a, 'tcx>, expr: &'tcx Expr, bindings:\n         return;\n     }\n     match expr.node {\n-        ExprUnary(_, ref e) | ExprField(ref e, _) | ExprTupField(ref e, _) | ExprAddrOf(_, ref e) | ExprBox(ref e) => {\n+        ExprUnary(_, ref e) | ExprField(ref e, _) | ExprAddrOf(_, ref e) | ExprBox(ref e) => {\n             check_expr(cx, e, bindings)\n         },\n         ExprBlock(ref block) | ExprLoop(ref block, _, _) => check_block(cx, block, bindings),"}, {"sha": "fe1012aa98c37425245feb2cc18e52fa846748e3", "filename": "clippy_lints/src/temporary_assignment.rs", "status": "modified", "additions": 4, "deletions": 5, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Ftemporary_assignment.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Ftemporary_assignment.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftemporary_assignment.rs?ref=cefb7b0f5862fe58294d56842327bc9cb62bfda7", "patch": "@@ -1,5 +1,5 @@\n use rustc::lint::{LateContext, LateLintPass, LintArray, LintPass};\n-use rustc::hir::{Expr, ExprAssign, ExprField, ExprStruct, ExprTup, ExprTupField};\n+use rustc::hir::{Expr, ExprAssign, ExprField, ExprStruct, ExprTup};\n use utils::is_adjusted;\n use utils::span_lint;\n \n@@ -40,11 +40,10 @@ impl LintPass for Pass {\n impl<'a, 'tcx> LateLintPass<'a, 'tcx> for Pass {\n     fn check_expr(&mut self, cx: &LateContext<'a, 'tcx>, expr: &'tcx Expr) {\n         if let ExprAssign(ref target, _) = expr.node {\n-            match target.node {\n-                ExprField(ref base, _) | ExprTupField(ref base, _) => if is_temporary(base) && !is_adjusted(cx, base) {\n+            if let ExprField(ref base, _) = target.node {\n+                if is_temporary(base) && !is_adjusted(cx, base) {\n                     span_lint(cx, TEMPORARY_ASSIGNMENT, expr.span, \"assignment to temporary\");\n-                },\n-                _ => (),\n+                }\n             }\n         }\n     }"}, {"sha": "8e81d9440b0662f23e692d6aba57b3eb4e06e308", "filename": "clippy_lints/src/utils/author.rs", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Futils%2Fauthor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Futils%2Fauthor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fauthor.rs?ref=cefb7b0f5862fe58294d56842327bc9cb62bfda7", "patch": "@@ -371,14 +371,6 @@ impl<'tcx> Visitor<'tcx> for PrintVisitor {\n                 self.current = obj_pat;\n                 self.visit_expr(object);\n             },\n-            Expr_::ExprTupField(ref object, ref field_id) => {\n-                let obj_pat = self.next(\"object\");\n-                let field_id_pat = self.next(\"field_id\");\n-                println!(\"TupField(ref {}, ref {}) = {};\", obj_pat, field_id_pat, current);\n-                println!(\"    if {}.node == {}\", field_id_pat, field_id.node);\n-                self.current = obj_pat;\n-                self.visit_expr(object);\n-            },\n             Expr_::ExprIndex(ref object, ref index) => {\n                 let object_pat = self.next(\"object\");\n                 let index_pat = self.next(\"index\");"}, {"sha": "780d8339c27a9adef603ba51796018389b2cd4e9", "filename": "clippy_lints/src/utils/hir_utils.rs", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Futils%2Fhir_utils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Futils%2Fhir_utils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fhir_utils.rs?ref=cefb7b0f5862fe58294d56842327bc9cb62bfda7", "patch": "@@ -131,7 +131,6 @@ impl<'a, 'tcx: 'a> SpanlessEq<'a, 'tcx> {\n                     && over(lf, rf, |l, r| self.eq_field(l, r))\n             },\n             (&ExprTup(ref l_tup), &ExprTup(ref r_tup)) => self.eq_exprs(l_tup, r_tup),\n-            (&ExprTupField(ref le, li), &ExprTupField(ref re, ri)) => li.node == ri.node && self.eq_expr(le, re),\n             (&ExprUnary(l_op, ref le), &ExprUnary(r_op, ref re)) => l_op == r_op && self.eq_expr(le, re),\n             (&ExprArray(ref l), &ExprArray(ref r)) => self.eq_exprs(l, r),\n             (&ExprWhile(ref lc, ref lb, ref ll), &ExprWhile(ref rc, ref rb, ref rl)) => {\n@@ -496,13 +495,6 @@ impl<'a, 'tcx: 'a> SpanlessHash<'a, 'tcx> {\n                 c.hash(&mut self.s);\n                 self.hash_exprs(tup);\n             },\n-            ExprTupField(ref le, li) => {\n-                let c: fn(_, _) -> _ = ExprTupField;\n-                c.hash(&mut self.s);\n-\n-                self.hash_expr(le);\n-                li.node.hash(&mut self.s);\n-            },\n             ExprType(ref e, ref _ty) => {\n                 let c: fn(_, _) -> _ = ExprType;\n                 c.hash(&mut self.s);"}, {"sha": "ac38227c3024e2324265c586646e3c140c34b5da", "filename": "clippy_lints/src/utils/inspector.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Futils%2Finspector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Futils%2Finspector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finspector.rs?ref=cefb7b0f5862fe58294d56842327bc9cb62bfda7", "patch": "@@ -274,12 +274,6 @@ fn print_expr(cx: &LateContext, expr: &hir::Expr, indent: usize) {\n             println!(\"{}struct expr:\", ind);\n             print_expr(cx, e, indent + 1);\n         },\n-        hir::ExprTupField(ref e, ref idx) => {\n-            println!(\"{}TupField\", ind);\n-            println!(\"{}field index: {}\", ind, idx.node);\n-            println!(\"{}tuple expr:\", ind);\n-            print_expr(cx, e, indent + 1);\n-        },\n         hir::ExprIndex(ref arr, ref idx) => {\n             println!(\"{}Index\", ind);\n             println!(\"{}array expr:\", ind);"}, {"sha": "a9e5a3222ac6fcb890b0563625ed0fa7d706ff80", "filename": "clippy_lints/src/utils/sugg.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Futils%2Fsugg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cefb7b0f5862fe58294d56842327bc9cb62bfda7/clippy_lints%2Fsrc%2Futils%2Fsugg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fsugg.rs?ref=cefb7b0f5862fe58294d56842327bc9cb62bfda7", "patch": "@@ -69,7 +69,6 @@ impl<'a> Sugg<'a> {\n                 hir::ExprRet(..) |\n                 hir::ExprStruct(..) |\n                 hir::ExprTup(..) |\n-                hir::ExprTupField(..) |\n                 hir::ExprWhile(..) => Sugg::NonParen(snippet),\n                 hir::ExprAssign(..) => Sugg::BinOp(AssocOp::Assign, snippet),\n                 hir::ExprAssignOp(op, ..) => Sugg::BinOp(hirbinop2assignop(op), snippet),\n@@ -121,7 +120,6 @@ impl<'a> Sugg<'a> {\n             ast::ExprKind::Struct(..) |\n             ast::ExprKind::Try(..) |\n             ast::ExprKind::Tup(..) |\n-            ast::ExprKind::TupField(..) |\n             ast::ExprKind::Array(..) |\n             ast::ExprKind::While(..) |\n             ast::ExprKind::WhileLet(..) => Sugg::NonParen(snippet),"}]}