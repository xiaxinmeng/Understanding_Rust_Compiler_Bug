{"sha": "dfdfc76cd92d3d112ff9e8dd9fb22da6f0ac5a4c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRmZGZjNzZjZDkyZDNkMTEyZmY5ZThkZDlmYjIyZGE2ZjBhYzVhNGM=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-04-18T23:04:54Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-04-18T23:04:54Z"}, "message": "Rollup merge of #71287 - JohnTitor:comment-vec, r=RalfJung\n\nExplain why we shouldn't add inline attr to into_vec\n\nFollow-up of #71204\nr? @RalfJung", "tree": {"sha": "ce10461b3011a0b9213fd11a6a26ca39e2dd7110", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ce10461b3011a0b9213fd11a6a26ca39e2dd7110"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/dfdfc76cd92d3d112ff9e8dd9fb22da6f0ac5a4c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJem4eXCRBK7hj4Ov3rIwAAdHIIAAbcKcGvGqoR+Bm8aCGRA7GL\noftR0S5fAppgyfzHLupsBSq4wjPalDTmju7v8ytm7FSVxHbkS6iL6vLQ/sErwKZR\nif6/dCn8j0xEUaykerm/rzUZ9zo+g0xOFF2iFEiS0x6Nt4GM0riLeOiclk8Nc22+\nSZpn1yCi8FIl3cv8CCRw/H610rfzZZZ//fi5marrNcrZdt/qKep6qtPojWM9gQIa\naxVIfkgbSEBTmpXQEgEw3wFAa0gF5N0GAPi1TgJf1VAidhKbkBVSTI94PQTzsYSV\nv/OobaNei0pKBmTIrkfAO5Y85nP1H7U1fFQiRi89uyGArGcWOjsjuMKHei7193o=\n=VNsR\n-----END PGP SIGNATURE-----\n", "payload": "tree ce10461b3011a0b9213fd11a6a26ca39e2dd7110\nparent cd748abc56108dd6a5cc9f58562a49832742464e\nparent 1a461598280f3f0ed047c89d1f2ec10be354e609\nauthor Dylan DPC <dylan.dpc@gmail.com> 1587251094 +0200\ncommitter GitHub <noreply@github.com> 1587251094 +0200\n\nRollup merge of #71287 - JohnTitor:comment-vec, r=RalfJung\n\nExplain why we shouldn't add inline attr to into_vec\n\nFollow-up of #71204\nr? @RalfJung\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/dfdfc76cd92d3d112ff9e8dd9fb22da6f0ac5a4c", "html_url": "https://github.com/rust-lang/rust/commit/dfdfc76cd92d3d112ff9e8dd9fb22da6f0ac5a4c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/dfdfc76cd92d3d112ff9e8dd9fb22da6f0ac5a4c/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cd748abc56108dd6a5cc9f58562a49832742464e", "url": "https://api.github.com/repos/rust-lang/rust/commits/cd748abc56108dd6a5cc9f58562a49832742464e", "html_url": "https://github.com/rust-lang/rust/commit/cd748abc56108dd6a5cc9f58562a49832742464e"}, {"sha": "1a461598280f3f0ed047c89d1f2ec10be354e609", "url": "https://api.github.com/repos/rust-lang/rust/commits/1a461598280f3f0ed047c89d1f2ec10be354e609", "html_url": "https://github.com/rust-lang/rust/commit/1a461598280f3f0ed047c89d1f2ec10be354e609"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "53477288b59ee8a89d39bb2bbbd5eceb0730ea8e", "filename": "src/liballoc/slice.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/dfdfc76cd92d3d112ff9e8dd9fb22da6f0ac5a4c/src%2Fliballoc%2Fslice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/dfdfc76cd92d3d112ff9e8dd9fb22da6f0ac5a4c/src%2Fliballoc%2Fslice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fslice.rs?ref=dfdfc76cd92d3d112ff9e8dd9fb22da6f0ac5a4c", "patch": "@@ -140,6 +140,9 @@ mod hack {\n     use crate::string::ToString;\n     use crate::vec::Vec;\n \n+    // We shouldn't add inline attribute to this since this is used in\n+    // `vec!` macro mostly and causes perf regression. See #71204 for\n+    // discussion and perf results.\n     pub fn into_vec<T>(b: Box<[T]>) -> Vec<T> {\n         unsafe {\n             let len = b.len();"}]}