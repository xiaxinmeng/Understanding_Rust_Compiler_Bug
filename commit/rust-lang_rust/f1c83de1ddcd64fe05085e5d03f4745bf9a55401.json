{"sha": "f1c83de1ddcd64fe05085e5d03f4745bf9a55401", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYxYzgzZGUxZGRjZDY0ZmUwNTA4NWU1ZDAzZjQ3NDViZjlhNTU0MDE=", "commit": {"author": {"name": "varkor", "email": "github@varkor.com", "date": "2019-03-08T01:12:51Z"}, "committer": {"name": "varkor", "email": "github@varkor.com", "date": "2019-05-01T22:10:05Z"}, "message": "Add `consts` to `TypeRelation`\n\nCo-Authored-By: Gabriel Smith <yodaldevoid@users.noreply.github.com>", "tree": {"sha": "41a760b212c95a8a4bb6cf0553bbf5e17b09be28", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/41a760b212c95a8a4bb6cf0553bbf5e17b09be28"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f1c83de1ddcd64fe05085e5d03f4745bf9a55401", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f1c83de1ddcd64fe05085e5d03f4745bf9a55401", "html_url": "https://github.com/rust-lang/rust/commit/f1c83de1ddcd64fe05085e5d03f4745bf9a55401", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f1c83de1ddcd64fe05085e5d03f4745bf9a55401/comments", "author": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "varkor", "id": 3943692, "node_id": "MDQ6VXNlcjM5NDM2OTI=", "avatar_url": "https://avatars.githubusercontent.com/u/3943692?v=4", "gravatar_id": "", "url": "https://api.github.com/users/varkor", "html_url": "https://github.com/varkor", "followers_url": "https://api.github.com/users/varkor/followers", "following_url": "https://api.github.com/users/varkor/following{/other_user}", "gists_url": "https://api.github.com/users/varkor/gists{/gist_id}", "starred_url": "https://api.github.com/users/varkor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/varkor/subscriptions", "organizations_url": "https://api.github.com/users/varkor/orgs", "repos_url": "https://api.github.com/users/varkor/repos", "events_url": "https://api.github.com/users/varkor/events{/privacy}", "received_events_url": "https://api.github.com/users/varkor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9b67bd42b7cbf97f72d039afcba02f5177d0d68c", "url": "https://api.github.com/repos/rust-lang/rust/commits/9b67bd42b7cbf97f72d039afcba02f5177d0d68c", "html_url": "https://github.com/rust-lang/rust/commit/9b67bd42b7cbf97f72d039afcba02f5177d0d68c"}], "stats": {"total": 18, "additions": 13, "deletions": 5}, "files": [{"sha": "03ca414cd5462b5e47aafe2aedbf2cb8242a94a3", "filename": "src/librustc/ty/relate.rs", "status": "modified", "additions": 13, "deletions": 5, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/f1c83de1ddcd64fe05085e5d03f4745bf9a55401/src%2Flibrustc%2Fty%2Frelate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1c83de1ddcd64fe05085e5d03f4745bf9a55401/src%2Flibrustc%2Fty%2Frelate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Frelate.rs?ref=f1c83de1ddcd64fe05085e5d03f4745bf9a55401", "patch": "@@ -76,11 +76,19 @@ pub trait TypeRelation<'a, 'gcx: 'a+'tcx, 'tcx: 'a> : Sized {\n     // additional hooks for other types in the future if needed\n     // without making older code, which called `relate`, obsolete.\n \n-    fn tys(&mut self, a: Ty<'tcx>, b: Ty<'tcx>)\n-           -> RelateResult<'tcx, Ty<'tcx>>;\n-\n-    fn regions(&mut self, a: ty::Region<'tcx>, b: ty::Region<'tcx>)\n-               -> RelateResult<'tcx, ty::Region<'tcx>>;\n+    fn tys(&mut self, a: Ty<'tcx>, b: Ty<'tcx>) -> RelateResult<'tcx, Ty<'tcx>>;\n+\n+    fn regions(\n+        &mut self,\n+        a: ty::Region<'tcx>,\n+        b: ty::Region<'tcx>\n+    ) -> RelateResult<'tcx, ty::Region<'tcx>>;\n+\n+    fn consts(\n+        &mut self,\n+        a: &'tcx ty::LazyConst<'tcx>,\n+        b: &'tcx ty::LazyConst<'tcx>\n+    ) -> RelateResult<'tcx, &'tcx ty::LazyConst<'tcx>>;\n \n     fn binders<T>(&mut self, a: &ty::Binder<T>, b: &ty::Binder<T>)\n                   -> RelateResult<'tcx, ty::Binder<T>>"}]}