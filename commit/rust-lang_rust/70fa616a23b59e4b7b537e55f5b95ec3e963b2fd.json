{"sha": "70fa616a23b59e4b7b537e55f5b95ec3e963b2fd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwZmE2MTZhMjNiNTllNGI3YjUzN2U1NWY1Yjk1ZWMzZTk2M2IyZmQ=", "commit": {"author": {"name": "Jean-Marie Comets", "email": "jean.marie.comets@gmail.com", "date": "2019-03-31T08:54:00Z"}, "committer": {"name": "Jean-Marie Comets", "email": "jean.marie.comets@gmail.com", "date": "2019-03-31T08:54:14Z"}, "message": "Stabilize refcell_replace_swap feature, closes #43570", "tree": {"sha": "6ccaa16db43e513bf6efe6085e49819b69c39a97", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6ccaa16db43e513bf6efe6085e49819b69c39a97"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd", "html_url": "https://github.com/rust-lang/rust/commit/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd/comments", "author": {"login": "jmcomets", "id": 1894019, "node_id": "MDQ6VXNlcjE4OTQwMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1894019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmcomets", "html_url": "https://github.com/jmcomets", "followers_url": "https://api.github.com/users/jmcomets/followers", "following_url": "https://api.github.com/users/jmcomets/following{/other_user}", "gists_url": "https://api.github.com/users/jmcomets/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmcomets/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmcomets/subscriptions", "organizations_url": "https://api.github.com/users/jmcomets/orgs", "repos_url": "https://api.github.com/users/jmcomets/repos", "events_url": "https://api.github.com/users/jmcomets/events{/privacy}", "received_events_url": "https://api.github.com/users/jmcomets/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jmcomets", "id": 1894019, "node_id": "MDQ6VXNlcjE4OTQwMTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1894019?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jmcomets", "html_url": "https://github.com/jmcomets", "followers_url": "https://api.github.com/users/jmcomets/followers", "following_url": "https://api.github.com/users/jmcomets/following{/other_user}", "gists_url": "https://api.github.com/users/jmcomets/gists{/gist_id}", "starred_url": "https://api.github.com/users/jmcomets/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jmcomets/subscriptions", "organizations_url": "https://api.github.com/users/jmcomets/orgs", "repos_url": "https://api.github.com/users/jmcomets/repos", "events_url": "https://api.github.com/users/jmcomets/events{/privacy}", "received_events_url": "https://api.github.com/users/jmcomets/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cee58fdc12bea8cc373366bd84fc786277729b1c", "url": "https://api.github.com/repos/rust-lang/rust/commits/cee58fdc12bea8cc373366bd84fc786277729b1c", "html_url": "https://github.com/rust-lang/rust/commit/cee58fdc12bea8cc373366bd84fc786277729b1c"}], "stats": {"total": 8, "additions": 3, "deletions": 5}, "files": [{"sha": "99169a6a259ce3ade86ea20df12c0d882d0c3180", "filename": "src/libcore/cell.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd/src%2Flibcore%2Fcell.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd/src%2Flibcore%2Fcell.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcell.rs?ref=70fa616a23b59e4b7b537e55f5b95ec3e963b2fd", "patch": "@@ -711,15 +711,14 @@ impl<T> RefCell<T> {\n     /// # Examples\n     ///\n     /// ```\n-    /// #![feature(refcell_replace_swap)]\n     /// use std::cell::RefCell;\n     /// let cell = RefCell::new(5);\n     /// let old_value = cell.replace_with(|&mut old| old + 1);\n     /// assert_eq!(old_value, 5);\n     /// assert_eq!(cell, RefCell::new(6));\n     /// ```\n     #[inline]\n-    #[unstable(feature = \"refcell_replace_swap\", issue=\"43570\")]\n+    #[stable(feature = \"refcell_replace_swap\", since=\"1.35.0\")]\n     pub fn replace_with<F: FnOnce(&mut T) -> T>(&self, f: F) -> T {\n         let mut_borrow = &mut *self.borrow_mut();\n         let replacement = f(mut_borrow);"}, {"sha": "5e0dbb7ab2f120e8730f57aba75c87a1a4f6198a", "filename": "src/libcore/tests/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd/src%2Flibcore%2Ftests%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd/src%2Flibcore%2Ftests%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ftests%2Flib.rs?ref=70fa616a23b59e4b7b537e55f5b95ec3e963b2fd", "patch": "@@ -16,7 +16,6 @@\n #![feature(pattern)]\n #![feature(range_is_empty)]\n #![feature(raw)]\n-#![feature(refcell_replace_swap)]\n #![feature(slice_patterns)]\n #![feature(sort_internals)]\n #![feature(specialization)]"}, {"sha": "b87343b43c9f9c789930c8c05e06fe0186658bc4", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=70fa616a23b59e4b7b537e55f5b95ec3e963b2fd", "patch": "@@ -45,7 +45,6 @@\n #![feature(proc_macro_internals)]\n #![feature(optin_builtin_traits)]\n #![feature(range_is_empty)]\n-#![feature(refcell_replace_swap)]\n #![feature(rustc_diagnostic_macros)]\n #![feature(rustc_attrs)]\n #![feature(slice_patterns)]"}, {"sha": "1fa16352b867ad0609d96fc3274ca01aa624d47b", "filename": "src/librustc_typeck/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd/src%2Flibrustc_typeck%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd/src%2Flibrustc_typeck%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Flib.rs?ref=70fa616a23b59e4b7b537e55f5b95ec3e963b2fd", "patch": "@@ -64,7 +64,6 @@ This API is completely unstable and subject to change.\n #![feature(crate_visibility_modifier)]\n #![feature(exhaustive_patterns)]\n #![feature(nll)]\n-#![feature(refcell_replace_swap)]\n #![feature(rustc_diagnostic_macros)]\n #![feature(slice_patterns)]\n #![feature(never_type)]"}, {"sha": "d53cfddaf8de9f2ccfa343ad51c2e969eb6fb8b1", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/70fa616a23b59e4b7b537e55f5b95ec3e963b2fd/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=70fa616a23b59e4b7b537e55f5b95ec3e963b2fd", "patch": "@@ -703,6 +703,8 @@ declare_features! (\n     (accepted, extern_crate_self, \"1.34.0\", Some(56409), None),\n     // support for arbitrary delimited token streams in non-macro attributes\n     (accepted, unrestricted_attribute_tokens, \"1.34.0\", Some(55208), None),\n+    // add replace and swap functions to RefCell\n+    (accepted, refcell_replace_swap, \"1.35.0\", Some(43570), None),\n );\n \n // If you change this, please modify `src/doc/unstable-book` as well. You must"}]}