{"sha": "e70473d9442d17de7f7d38d3d7e8606226d1c4fa", "node_id": "C_kwDOAAsO6NoAKGU3MDQ3M2Q5NDQyZDE3ZGU3ZjdkMzhkM2Q3ZTg2MDYyMjZkMWM0ZmE", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-08-14T11:51:45Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-08-14T11:51:45Z"}, "message": "rustup", "tree": {"sha": "59a898275e0019462e3514efa3ce712a295989d8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/59a898275e0019462e3514efa3ce712a295989d8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e70473d9442d17de7f7d38d3d7e8606226d1c4fa", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e70473d9442d17de7f7d38d3d7e8606226d1c4fa", "html_url": "https://github.com/rust-lang/rust/commit/e70473d9442d17de7f7d38d3d7e8606226d1c4fa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e70473d9442d17de7f7d38d3d7e8606226d1c4fa/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "50ef22af522f2545295090cc1ad3e4bd4aa8632c", "url": "https://api.github.com/repos/rust-lang/rust/commits/50ef22af522f2545295090cc1ad3e4bd4aa8632c", "html_url": "https://github.com/rust-lang/rust/commit/50ef22af522f2545295090cc1ad3e4bd4aa8632c"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "aaf664f44e3e099f8025c23d8a76623d58f3a822", "filename": "rust-version", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e70473d9442d17de7f7d38d3d7e8606226d1c4fa/rust-version", "raw_url": "https://github.com/rust-lang/rust/raw/e70473d9442d17de7f7d38d3d7e8606226d1c4fa/rust-version", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/rust-version?ref=e70473d9442d17de7f7d38d3d7e8606226d1c4fa", "patch": "@@ -1 +1 @@\n-75b7e52e92c3b00fc891b47f5b2efdff0a2be55a\n+2fbc08e2ce64dee45a29cb6133da6b32366268aa"}, {"sha": "04552d0c332fdd423b642bdddb009e75144dbba0", "filename": "tests/fail/provenance/strict_provenance_cast.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/e70473d9442d17de7f7d38d3d7e8606226d1c4fa/tests%2Ffail%2Fprovenance%2Fstrict_provenance_cast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e70473d9442d17de7f7d38d3d7e8606226d1c4fa/tests%2Ffail%2Fprovenance%2Fstrict_provenance_cast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fprovenance%2Fstrict_provenance_cast.rs?ref=e70473d9442d17de7f7d38d3d7e8606226d1c4fa", "patch": "@@ -1,6 +1,7 @@\n //@compile-flags: -Zmiri-strict-provenance\n+#![feature(strict_provenance)]\n \n fn main() {\n     let addr = &0 as *const i32 as usize;\n-    let _ptr = addr as *const i32; //~ ERROR: integer-to-pointer casts and `ptr::from_exposed_addr` are not supported\n+    let _ptr = std::ptr::from_exposed_addr::<i32>(addr); //~ ERROR: integer-to-pointer casts and `ptr::from_exposed_addr` are not supported\n }"}, {"sha": "5796a3196dc6c2435f68eeded878d3191e8315d9", "filename": "tests/fail/provenance/strict_provenance_cast.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e70473d9442d17de7f7d38d3d7e8606226d1c4fa/tests%2Ffail%2Fprovenance%2Fstrict_provenance_cast.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e70473d9442d17de7f7d38d3d7e8606226d1c4fa/tests%2Ffail%2Fprovenance%2Fstrict_provenance_cast.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ffail%2Fprovenance%2Fstrict_provenance_cast.stderr?ref=e70473d9442d17de7f7d38d3d7e8606226d1c4fa", "patch": "@@ -1,8 +1,8 @@\n error: unsupported operation: integer-to-pointer casts and `ptr::from_exposed_addr` are not supported with `-Zmiri-strict-provenance`\n   --> $DIR/strict_provenance_cast.rs:LL:CC\n    |\n-LL |     let _ptr = addr as *const i32;\n-   |                ^^^^^^^^^^^^^^^^^^ integer-to-pointer casts and `ptr::from_exposed_addr` are not supported with `-Zmiri-strict-provenance`\n+LL |     let _ptr = std::ptr::from_exposed_addr::<i32>(addr);\n+   |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ integer-to-pointer casts and `ptr::from_exposed_addr` are not supported with `-Zmiri-strict-provenance`\n    |\n    = help: use Strict Provenance APIs (https://doc.rust-lang.org/nightly/std/ptr/index.html#strict-provenance, https://crates.io/crates/sptr) instead\n    = note: backtrace:"}]}