{"sha": "afe841587df0d20b344b576641d0a32d32b87f54", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFmZTg0MTU4N2RmMGQyMGIzNDRiNTc2NjQxZDBhMzJkMzJiODdmNTQ=", "commit": {"author": {"name": "Inokentiy Babushkin", "email": "twk@twki.de", "date": "2017-06-11T14:45:51Z"}, "committer": {"name": "Inokentiy Babushkin", "email": "twk@twki.de", "date": "2017-06-11T14:45:51Z"}, "message": "External spans: fixed unit tests and addressed review.", "tree": {"sha": "db83f7678bcc6d614803197dbab1cd1bde11126e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/db83f7678bcc6d614803197dbab1cd1bde11126e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/afe841587df0d20b344b576641d0a32d32b87f54", "comment_count": 0, "verification": {"verified": false, "reason": "unverified_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEXezFNCHL3+3lgSPSfvyOxSJN6OwFAlk9V74ACgkQfvyOxSJN\n6Oy+jw/9F0kTctdLOyjZa2daM4ZSsE8r/mvsCLveh1tGA3Q90NL69W+xuwRbFSTr\nWr9bx2IGSWGvYgWVLatIgUAV261kqFXBy3RfvFdSmKyPj112Wa5mG4QUUVAaBv1x\nmWA7LmzZbVm0IQHul2V/vWCNcj2e3yVcPNYB/acNRSlFnxIqOr43kadDqKcpjasv\net6zIewYLaUz5OUEVuTlSYWBJw10zGZ6OHNcci8fQeBSGA0xxpVTOhangDHS7Yp5\nPsAzTeNU0J5lXGe/WIimhZymAYXU6gILVyP1TcE4zvpTbJXnvrpgwI5TZk2Wwy/F\nswU8b7uH/AcmxgjYXZXtMPe9qoncpBExKGHZg3BkhZ4dsTQ8mP8d7T35gx4ve7Sj\nutFVI5SWLKHzv/ZHpDzhYh65w0PC98A10mAeugRq0lBQPfkMwmswjEMhahcLKvsa\nK/LrGomCPjPv+Te5brQMtmM54tnsgOQSMmynR9VtpYnlyqrzEUmNCTl+1yntMQfM\nR26UJVm9EKKRrIVgXik+cLAsapnVydAvVaeZylOfgI3/dU1B/76xuut2uqfChhle\nctwGGE4EoJ2QRKdeiK3Ul2entOk5TaiXl1eBHDVz2M19TPeweTR6FizHUj27xqR2\nT2MLA+w2hTciPdj5eN4hOHvBoCRYfYeSDS59SR10Rb+cwq1B6GY=\n=HoGt\n-----END PGP SIGNATURE-----", "payload": "tree db83f7678bcc6d614803197dbab1cd1bde11126e\nparent 634cd2ce7398a82ee066e3111b9d20f837d39728\nauthor Inokentiy Babushkin <twk@twki.de> 1497192351 +0200\ncommitter Inokentiy Babushkin <twk@twki.de> 1497192351 +0200\n\nExternal spans: fixed unit tests and addressed review.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/afe841587df0d20b344b576641d0a32d32b87f54", "html_url": "https://github.com/rust-lang/rust/commit/afe841587df0d20b344b576641d0a32d32b87f54", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/afe841587df0d20b344b576641d0a32d32b87f54/comments", "author": {"login": "ibabushkin", "id": 10811417, "node_id": "MDQ6VXNlcjEwODExNDE3", "avatar_url": "https://avatars.githubusercontent.com/u/10811417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibabushkin", "html_url": "https://github.com/ibabushkin", "followers_url": "https://api.github.com/users/ibabushkin/followers", "following_url": "https://api.github.com/users/ibabushkin/following{/other_user}", "gists_url": "https://api.github.com/users/ibabushkin/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibabushkin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibabushkin/subscriptions", "organizations_url": "https://api.github.com/users/ibabushkin/orgs", "repos_url": "https://api.github.com/users/ibabushkin/repos", "events_url": "https://api.github.com/users/ibabushkin/events{/privacy}", "received_events_url": "https://api.github.com/users/ibabushkin/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ibabushkin", "id": 10811417, "node_id": "MDQ6VXNlcjEwODExNDE3", "avatar_url": "https://avatars.githubusercontent.com/u/10811417?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ibabushkin", "html_url": "https://github.com/ibabushkin", "followers_url": "https://api.github.com/users/ibabushkin/followers", "following_url": "https://api.github.com/users/ibabushkin/following{/other_user}", "gists_url": "https://api.github.com/users/ibabushkin/gists{/gist_id}", "starred_url": "https://api.github.com/users/ibabushkin/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ibabushkin/subscriptions", "organizations_url": "https://api.github.com/users/ibabushkin/orgs", "repos_url": "https://api.github.com/users/ibabushkin/repos", "events_url": "https://api.github.com/users/ibabushkin/events{/privacy}", "received_events_url": "https://api.github.com/users/ibabushkin/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "634cd2ce7398a82ee066e3111b9d20f837d39728", "url": "https://api.github.com/repos/rust-lang/rust/commits/634cd2ce7398a82ee066e3111b9d20f837d39728", "html_url": "https://github.com/rust-lang/rust/commit/634cd2ce7398a82ee066e3111b9d20f837d39728"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "5e291ea3c152b7e00caa0fcb571f9cd09ef9ba17", "filename": "src/librustc_data_structures/stable_hasher.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/afe841587df0d20b344b576641d0a32d32b87f54/src%2Flibrustc_data_structures%2Fstable_hasher.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afe841587df0d20b344b576641d0a32d32b87f54/src%2Flibrustc_data_structures%2Fstable_hasher.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2Fstable_hasher.rs?ref=afe841587df0d20b344b576641d0a32d32b87f54", "patch": "@@ -81,7 +81,7 @@ impl StableHasherResult for [u8; 20] {\n impl StableHasherResult for u128 {\n     fn finish(mut hasher: StableHasher<Self>) -> Self {\n         let hash_bytes: &[u8] = hasher.finalize();\n-        assert!(hash_bytes.len() >= mem::size_of::<u64>() * 2);\n+        assert!(hash_bytes.len() >= mem::size_of::<u128>());\n \n         unsafe {\n             ::std::ptr::read_unaligned(hash_bytes.as_ptr() as *const u128)"}, {"sha": "7267f510a490f3a150ad31c902675d1a48708ac1", "filename": "src/libsyntax/codemap.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/afe841587df0d20b344b576641d0a32d32b87f54/src%2Flibsyntax%2Fcodemap.rs", "raw_url": "https://github.com/rust-lang/rust/raw/afe841587df0d20b344b576641d0a32d32b87f54/src%2Flibsyntax%2Fcodemap.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fcodemap.rs?ref=afe841587df0d20b344b576641d0a32d32b87f54", "patch": "@@ -618,6 +618,7 @@ impl FilePathMapping {\n #[cfg(test)]\n mod tests {\n     use super::*;\n+    use std::borrow::Cow;\n     use std::rc::Rc;\n \n     #[test]\n@@ -627,12 +628,12 @@ mod tests {\n                                 \"first line.\\nsecond line\".to_string());\n         fm.next_line(BytePos(0));\n         // Test we can get lines with partial line info.\n-        assert_eq!(fm.get_line(0), Some(\"first line.\"));\n+        assert_eq!(fm.get_line(0), Some(Cow::from(\"first line.\")));\n         // TESTING BROKEN BEHAVIOR: line break declared before actual line break.\n         fm.next_line(BytePos(10));\n-        assert_eq!(fm.get_line(1), Some(\".\"));\n+        assert_eq!(fm.get_line(1), Some(Cow::from(\".\")));\n         fm.next_line(BytePos(12));\n-        assert_eq!(fm.get_line(2), Some(\"second line\"));\n+        assert_eq!(fm.get_line(2), Some(Cow::from(\"second line\")));\n     }\n \n     #[test]"}]}