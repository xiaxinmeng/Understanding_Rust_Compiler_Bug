{"sha": "1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFkN2Q0ZTkyMTdmYzFiZTM3NWU1ZjVkNjNiMWQ4ZTk0ZjRjZDYxYzQ=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-01-11T00:05:51Z"}, "committer": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-01-11T00:05:51Z"}, "message": "Rustup to rust-lang/rust#67258", "tree": {"sha": "a8a23d894b38a65ba252217eff5cb5861facd47f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a8a23d894b38a65ba252217eff5cb5861facd47f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4", "html_url": "https://github.com/rust-lang/rust/commit/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "43ac9416d935942d6c7d2b2e0c876c551652c4ec", "url": "https://api.github.com/repos/rust-lang/rust/commits/43ac9416d935942d6c7d2b2e0c876c551652c4ec", "html_url": "https://github.com/rust-lang/rust/commit/43ac9416d935942d6c7d2b2e0c876c551652c4ec"}], "stats": {"total": 43, "additions": 28, "deletions": 15}, "files": [{"sha": "5aed9770d2e8132ba0c380ca15b25cf97541f245", "filename": "clippy_lints/src/matches.rs", "status": "modified", "additions": 12, "deletions": 10, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4/clippy_lints%2Fsrc%2Fmatches.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4/clippy_lints%2Fsrc%2Fmatches.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatches.rs?ref=1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4", "patch": "@@ -713,16 +713,18 @@ fn all_ranges<'a, 'tcx>(cx: &LateContext<'a, 'tcx>, arms: &'tcx [Arm<'_>]) -> Ve\n             } = *arm\n             {\n                 if let PatKind::Range(ref lhs, ref rhs, ref range_end) = pat.kind {\n-                    let lhs = constant(cx, cx.tables, lhs)?.0;\n-                    let rhs = constant(cx, cx.tables, rhs)?.0;\n-                    let rhs = match *range_end {\n-                        RangeEnd::Included => Bound::Included(rhs),\n-                        RangeEnd::Excluded => Bound::Excluded(rhs),\n-                    };\n-                    return Some(SpannedRange {\n-                        span: pat.span,\n-                        node: (lhs, rhs),\n-                    });\n+                    if let (Some(l), Some(r)) = (lhs, rhs) {\n+                        let lhs = constant(cx, cx.tables, l)?.0;\n+                        let rhs = constant(cx, cx.tables, r)?.0;\n+                        let rhs = match *range_end {\n+                            RangeEnd::Included => Bound::Included(rhs),\n+                            RangeEnd::Excluded => Bound::Excluded(rhs),\n+                        };\n+                        return Some(SpannedRange {\n+                            span: pat.span,\n+                            node: (lhs, rhs),\n+                        });\n+                    }\n                 }\n \n                 if let PatKind::Lit(ref value) = pat.kind {"}, {"sha": "b9f11f79a372171b80648d069adb094440f17d2e", "filename": "clippy_lints/src/utils/author.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4/clippy_lints%2Fsrc%2Futils%2Fauthor.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4/clippy_lints%2Fsrc%2Futils%2Fauthor.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fauthor.rs?ref=1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4", "patch": "@@ -617,9 +617,13 @@ impl<'tcx> Visitor<'tcx> for PrintVisitor {\n                     start_pat, end_pat, end_kind, current\n                 );\n                 self.current = start_pat;\n-                self.visit_expr(start);\n+                if let Some(expr) = start {\n+                    self.visit_expr(expr);\n+                }\n                 self.current = end_pat;\n-                self.visit_expr(end);\n+                if let Some(expr) = end {\n+                    self.visit_expr(expr);\n+                }\n             },\n             PatKind::Slice(ref start, ref middle, ref end) => {\n                 let start_pat = self.next(\"start\");"}, {"sha": "00baad72e6dea8da2178e792d0fa445f031c7af5", "filename": "clippy_lints/src/utils/hir_utils.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4/clippy_lints%2Fsrc%2Futils%2Fhir_utils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4/clippy_lints%2Fsrc%2Futils%2Fhir_utils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Fhir_utils.rs?ref=1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4", "patch": "@@ -195,7 +195,10 @@ impl<'a, 'tcx> SpanlessEq<'a, 'tcx> {\n                 ls == rs && over(l, r, |l, r| self.eq_pat(l, r))\n             },\n             (&PatKind::Range(ref ls, ref le, ref li), &PatKind::Range(ref rs, ref re, ref ri)) => {\n-                self.eq_expr(ls, rs) && self.eq_expr(le, re) && (*li == *ri)\n+                if let (Some(ls), Some(rs), Some(le), Some(re)) = (ls, rs, le, re) {\n+                    return self.eq_expr(ls, rs) && self.eq_expr(le, re) && (*li == *ri);\n+                }\n+                false\n             },\n             (&PatKind::Ref(ref le, ref lm), &PatKind::Ref(ref re, ref rm)) => lm == rm && self.eq_pat(le, re),\n             (&PatKind::Slice(ref ls, ref li, ref le), &PatKind::Slice(ref rs, ref ri, ref re)) => {"}, {"sha": "eb889ccc75c542bbb994e75925702b45b23aac2d", "filename": "clippy_lints/src/utils/inspector.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4/clippy_lints%2Fsrc%2Futils%2Finspector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4/clippy_lints%2Fsrc%2Futils%2Finspector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Futils%2Finspector.rs?ref=1d7d4e9217fc1be375e5f5d63b1d8e94f4cd61c4", "patch": "@@ -483,8 +483,12 @@ fn print_pat(cx: &LateContext<'_, '_>, pat: &hir::Pat<'_>, indent: usize) {\n         },\n         hir::PatKind::Range(ref l, ref r, ref range_end) => {\n             println!(\"{}Range\", ind);\n-            print_expr(cx, l, indent + 1);\n-            print_expr(cx, r, indent + 1);\n+            if let Some(expr) = l {\n+                print_expr(cx, expr, indent + 1);\n+            }\n+            if let Some(expr) = r {\n+                print_expr(cx, expr, indent + 1);\n+            }\n             match *range_end {\n                 hir::RangeEnd::Included => println!(\"{} end included\", ind),\n                 hir::RangeEnd::Excluded => println!(\"{} end excluded\", ind),"}]}