{"sha": "b1691f6413a4afd7529ab309965123cc63e82021", "node_id": "C_kwDOAAsO6NoAKGIxNjkxZjY0MTNhNGFmZDc1MjlhYjMwOTk2NTEyM2NjNjNlODIwMjE", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-01-07T16:13:18Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-01-07T16:13:18Z"}, "message": "Auto merge of #105323 - cjgillot:simplify-const-prop, r=davidtwco\n\nPerform SimplifyLocals before ConstProp.\n\nMIR before `ConstProp` may have a lot of dead writes, this makes `ConstProp` do unnecessary work.\n\nr? `@ghost`", "tree": {"sha": "2f35c6736a61332a704244fdf3465a8c10874cc3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f35c6736a61332a704244fdf3465a8c10874cc3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b1691f6413a4afd7529ab309965123cc63e82021", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b1691f6413a4afd7529ab309965123cc63e82021", "html_url": "https://github.com/rust-lang/rust/commit/b1691f6413a4afd7529ab309965123cc63e82021", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b1691f6413a4afd7529ab309965123cc63e82021/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a2112fcb0ad7327b9f1ee618c18567d74fc084b1", "url": "https://api.github.com/repos/rust-lang/rust/commits/a2112fcb0ad7327b9f1ee618c18567d74fc084b1", "html_url": "https://github.com/rust-lang/rust/commit/a2112fcb0ad7327b9f1ee618c18567d74fc084b1"}, {"sha": "a48127f0dc019e75b2e3c96d6c37b4c022f6edc6", "url": "https://api.github.com/repos/rust-lang/rust/commits/a48127f0dc019e75b2e3c96d6c37b4c022f6edc6", "html_url": "https://github.com/rust-lang/rust/commit/a48127f0dc019e75b2e3c96d6c37b4c022f6edc6"}], "stats": {"total": 891, "additions": 379, "deletions": 512}, "files": [{"sha": "09546330cec92672a2a5c906ba1d1847c108e7ed", "filename": "compiler/rustc_mir_transform/src/dead_store_elimination.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/compiler%2Frustc_mir_transform%2Fsrc%2Fdead_store_elimination.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/compiler%2Frustc_mir_transform%2Fsrc%2Fdead_store_elimination.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Fdead_store_elimination.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -71,7 +71,7 @@ pub fn eliminate<'tcx>(tcx: TyCtxt<'tcx>, body: &mut Body<'tcx>, borrowed: &BitS\n         bbs[block].statements[statement_index].make_nop();\n     }\n \n-    crate::simplify::SimplifyLocals.run_pass(tcx, body)\n+    crate::simplify::simplify_locals(body, tcx)\n }\n \n pub struct DeadStoreElimination;"}, {"sha": "16b8a901f36512140a87c147910aeabcec5eadfe", "filename": "compiler/rustc_mir_transform/src/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/compiler%2Frustc_mir_transform%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/compiler%2Frustc_mir_transform%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Flib.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -557,6 +557,7 @@ fn run_optimization_passes<'tcx>(tcx: TyCtxt<'tcx>, body: &mut Body<'tcx>) {\n             &multiple_return_terminators::MultipleReturnTerminators,\n             &instcombine::InstCombine,\n             &separate_const_switch::SeparateConstSwitch,\n+            &simplify::SimplifyLocals::new(\"before-const-prop\"),\n             //\n             // FIXME(#70073): This pass is responsible for both optimization as well as some lints.\n             &const_prop::ConstProp,\n@@ -575,7 +576,7 @@ fn run_optimization_passes<'tcx>(tcx: TyCtxt<'tcx>, body: &mut Body<'tcx>) {\n             &o1(remove_noop_landing_pads::RemoveNoopLandingPads),\n             &o1(simplify::SimplifyCfg::new(\"final\")),\n             &nrvo::RenameReturnPlace,\n-            &simplify::SimplifyLocals,\n+            &simplify::SimplifyLocals::new(\"final\"),\n             &multiple_return_terminators::MultipleReturnTerminators,\n             &deduplicate_blocks::DeduplicateBlocks,\n             // Some cleanup necessary at least for LLVM and potentially other codegen backends."}, {"sha": "8f6abe7a912feefefadb5ac24abbc8dbe97c3af9", "filename": "compiler/rustc_mir_transform/src/simplify.rs", "status": "modified", "additions": 14, "deletions": 1, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/compiler%2Frustc_mir_transform%2Fsrc%2Fsimplify.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/compiler%2Frustc_mir_transform%2Fsrc%2Fsimplify.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Fsimplify.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -379,9 +379,21 @@ fn save_unreachable_coverage(\n     ));\n }\n \n-pub struct SimplifyLocals;\n+pub struct SimplifyLocals {\n+    label: String,\n+}\n+\n+impl SimplifyLocals {\n+    pub fn new(label: &str) -> SimplifyLocals {\n+        SimplifyLocals { label: format!(\"SimplifyLocals-{}\", label) }\n+    }\n+}\n \n impl<'tcx> MirPass<'tcx> for SimplifyLocals {\n+    fn name(&self) -> &str {\n+        &self.label\n+    }\n+\n     fn is_enabled(&self, sess: &rustc_session::Session) -> bool {\n         sess.mir_opt_level() > 0\n     }\n@@ -557,6 +569,7 @@ fn remove_unused_definitions(used_locals: &mut UsedLocals, body: &mut Body<'_>)\n \n                     StatementKind::SetDiscriminant { ref place, .. }\n                     | StatementKind::Deinit(ref place) => used_locals.is_used(place.local),\n+                    StatementKind::Nop => false,\n                     _ => true,\n                 };\n "}, {"sha": "844d5870a846fa6c52f362b3a2e578990c5cd4cc", "filename": "src/test/codegen/zst-offset.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fcodegen%2Fzst-offset.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fcodegen%2Fzst-offset.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fzst-offset.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -15,7 +15,7 @@ pub fn helper(_: usize) {\n pub fn scalar_layout(s: &(u64, ())) {\n // CHECK: getelementptr i8, {{.+}}, [[USIZE]] 8\n     let x = &s.1;\n-    &x; // keep variable in an alloca\n+    witness(&x); // keep variable in an alloca\n }\n \n // Check that we correctly generate a GEP for a ZST that is not included in ScalarPair layout\n@@ -24,7 +24,7 @@ pub fn scalar_layout(s: &(u64, ())) {\n pub fn scalarpair_layout(s: &(u64, u32, ())) {\n // CHECK: getelementptr i8, {{.+}}, [[USIZE]] 12\n     let x = &s.2;\n-    &x; // keep variable in an alloca\n+    witness(&x); // keep variable in an alloca\n }\n \n #[repr(simd)]\n@@ -36,5 +36,8 @@ pub struct U64x4(u64, u64, u64, u64);\n pub fn vector_layout(s: &(U64x4, ())) {\n // CHECK: getelementptr i8, {{.+}}, [[USIZE]] 32\n     let x = &s.1;\n-    &x; // keep variable in an alloca\n+    witness(&x); // keep variable in an alloca\n }\n+\n+#[inline(never)]\n+fn witness(_: &impl Sized) {}"}, {"sha": "927bcd96e6f4b966b923eba40b6c41c93ee3af9d", "filename": "src/test/incremental/hashes/closure_expressions.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fincremental%2Fhashes%2Fclosure_expressions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fincremental%2Fhashes%2Fclosure_expressions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fincremental%2Fhashes%2Fclosure_expressions.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -42,9 +42,9 @@ pub fn add_parameter() {\n }\n \n #[cfg(not(any(cfail1,cfail4)))]\n-#[rustc_clean(cfg=\"cfail2\", except=\"hir_owner_nodes, optimized_mir, typeck\")]\n+#[rustc_clean(cfg=\"cfail2\", except=\"hir_owner_nodes, typeck\")]\n #[rustc_clean(cfg=\"cfail3\")]\n-#[rustc_clean(cfg=\"cfail5\", except=\"hir_owner_nodes, optimized_mir, typeck\")]\n+#[rustc_clean(cfg=\"cfail5\", except=\"hir_owner_nodes, typeck\")]\n #[rustc_clean(cfg=\"cfail6\")]\n pub fn add_parameter() {\n     let x = 0u32;"}, {"sha": "6140fc52f650e88de055efd6559db8bedf63c29f", "filename": "src/test/mir-opt/const_allocation.main.ConstProp.after.32bit.mir", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation.main.ConstProp.after.32bit.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation.main.ConstProp.after.32bit.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_allocation.main.ConstProp.after.32bit.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -10,12 +10,12 @@ fn main() -> () {\n         StorageLive(_2);                 // scope 0 at $DIR/const_allocation.rs:+1:5: +1:8\n         _2 = const {alloc1: &&[(Option<i32>, &[&str])]}; // scope 0 at $DIR/const_allocation.rs:+1:5: +1:8\n                                          // mir::Constant\n-                                         // + span: $DIR/const_allocation.rs:8:5: 8:8\n+                                         // + span: $DIR/const_allocation.rs:9:5: 9:8\n                                          // + literal: Const { ty: &&[(Option<i32>, &[&str])], val: Value(Scalar(alloc1)) }\n         _1 = (*_2);                      // scope 0 at $DIR/const_allocation.rs:+1:5: +1:8\n         StorageDead(_2);                 // scope 0 at $DIR/const_allocation.rs:+1:8: +1:9\n         StorageDead(_1);                 // scope 0 at $DIR/const_allocation.rs:+1:8: +1:9\n-        nop;                             // scope 0 at $DIR/const_allocation.rs:+0:11: +2:2\n+        _0 = const ();                   // scope 0 at $DIR/const_allocation.rs:+0:11: +2:2\n         return;                          // scope 0 at $DIR/const_allocation.rs:+2:2: +2:2\n     }\n }"}, {"sha": "b2ed23c6873cdf71e9ade7c9afa919652abf87e2", "filename": "src/test/mir-opt/const_allocation.main.ConstProp.after.64bit.mir", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation.main.ConstProp.after.64bit.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation.main.ConstProp.after.64bit.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_allocation.main.ConstProp.after.64bit.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -10,12 +10,12 @@ fn main() -> () {\n         StorageLive(_2);                 // scope 0 at $DIR/const_allocation.rs:+1:5: +1:8\n         _2 = const {alloc1: &&[(Option<i32>, &[&str])]}; // scope 0 at $DIR/const_allocation.rs:+1:5: +1:8\n                                          // mir::Constant\n-                                         // + span: $DIR/const_allocation.rs:8:5: 8:8\n+                                         // + span: $DIR/const_allocation.rs:9:5: 9:8\n                                          // + literal: Const { ty: &&[(Option<i32>, &[&str])], val: Value(Scalar(alloc1)) }\n         _1 = (*_2);                      // scope 0 at $DIR/const_allocation.rs:+1:5: +1:8\n         StorageDead(_2);                 // scope 0 at $DIR/const_allocation.rs:+1:8: +1:9\n         StorageDead(_1);                 // scope 0 at $DIR/const_allocation.rs:+1:8: +1:9\n-        nop;                             // scope 0 at $DIR/const_allocation.rs:+0:11: +2:2\n+        _0 = const ();                   // scope 0 at $DIR/const_allocation.rs:+0:11: +2:2\n         return;                          // scope 0 at $DIR/const_allocation.rs:+2:2: +2:2\n     }\n }"}, {"sha": "91a2455eb836a94e1f4406b376f84a63d92a0509", "filename": "src/test/mir-opt/const_allocation.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_allocation.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,3 +1,4 @@\n+// unit-test: ConstProp\n // ignore-endian-big\n // EMIT_MIR_FOR_EACH_BIT_WIDTH\n static FOO: &[(Option<i32>, &[&str])] ="}, {"sha": "aab005c52d6a02d4c05e984d53519289cfde1917", "filename": "src/test/mir-opt/const_allocation2.main.ConstProp.after.32bit.mir", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation2.main.ConstProp.after.32bit.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation2.main.ConstProp.after.32bit.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_allocation2.main.ConstProp.after.32bit.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -10,12 +10,12 @@ fn main() -> () {\n         StorageLive(_2);                 // scope 0 at $DIR/const_allocation2.rs:+1:5: +1:8\n         _2 = const {alloc1: &&[(Option<i32>, &[&u8])]}; // scope 0 at $DIR/const_allocation2.rs:+1:5: +1:8\n                                          // mir::Constant\n-                                         // + span: $DIR/const_allocation2.rs:5:5: 5:8\n+                                         // + span: $DIR/const_allocation2.rs:6:5: 6:8\n                                          // + literal: Const { ty: &&[(Option<i32>, &[&u8])], val: Value(Scalar(alloc1)) }\n         _1 = (*_2);                      // scope 0 at $DIR/const_allocation2.rs:+1:5: +1:8\n         StorageDead(_2);                 // scope 0 at $DIR/const_allocation2.rs:+1:8: +1:9\n         StorageDead(_1);                 // scope 0 at $DIR/const_allocation2.rs:+1:8: +1:9\n-        nop;                             // scope 0 at $DIR/const_allocation2.rs:+0:11: +2:2\n+        _0 = const ();                   // scope 0 at $DIR/const_allocation2.rs:+0:11: +2:2\n         return;                          // scope 0 at $DIR/const_allocation2.rs:+2:2: +2:2\n     }\n }"}, {"sha": "0eff9474c2051893fa7510d7f72963278a7b224d", "filename": "src/test/mir-opt/const_allocation2.main.ConstProp.after.64bit.mir", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation2.main.ConstProp.after.64bit.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation2.main.ConstProp.after.64bit.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_allocation2.main.ConstProp.after.64bit.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -10,12 +10,12 @@ fn main() -> () {\n         StorageLive(_2);                 // scope 0 at $DIR/const_allocation2.rs:+1:5: +1:8\n         _2 = const {alloc1: &&[(Option<i32>, &[&u8])]}; // scope 0 at $DIR/const_allocation2.rs:+1:5: +1:8\n                                          // mir::Constant\n-                                         // + span: $DIR/const_allocation2.rs:5:5: 5:8\n+                                         // + span: $DIR/const_allocation2.rs:6:5: 6:8\n                                          // + literal: Const { ty: &&[(Option<i32>, &[&u8])], val: Value(Scalar(alloc1)) }\n         _1 = (*_2);                      // scope 0 at $DIR/const_allocation2.rs:+1:5: +1:8\n         StorageDead(_2);                 // scope 0 at $DIR/const_allocation2.rs:+1:8: +1:9\n         StorageDead(_1);                 // scope 0 at $DIR/const_allocation2.rs:+1:8: +1:9\n-        nop;                             // scope 0 at $DIR/const_allocation2.rs:+0:11: +2:2\n+        _0 = const ();                   // scope 0 at $DIR/const_allocation2.rs:+0:11: +2:2\n         return;                          // scope 0 at $DIR/const_allocation2.rs:+2:2: +2:2\n     }\n }"}, {"sha": "f2870aa47c5635cca528c8fd003092bb0945bea7", "filename": "src/test/mir-opt/const_allocation2.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_allocation2.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,3 +1,4 @@\n+// unit-test: ConstProp\n // ignore-endian-big\n // EMIT_MIR_FOR_EACH_BIT_WIDTH\n // EMIT_MIR const_allocation2.main.ConstProp.after.mir"}, {"sha": "55c6db5d0ce91aeed98bbad0e085174782a982c5", "filename": "src/test/mir-opt/const_allocation3.main.ConstProp.after.32bit.mir", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation3.main.ConstProp.after.32bit.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation3.main.ConstProp.after.32bit.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_allocation3.main.ConstProp.after.32bit.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -10,12 +10,12 @@ fn main() -> () {\n         StorageLive(_2);                 // scope 0 at $DIR/const_allocation3.rs:+1:5: +1:8\n         _2 = const {alloc1: &&Packed};   // scope 0 at $DIR/const_allocation3.rs:+1:5: +1:8\n                                          // mir::Constant\n-                                         // + span: $DIR/const_allocation3.rs:5:5: 5:8\n+                                         // + span: $DIR/const_allocation3.rs:6:5: 6:8\n                                          // + literal: Const { ty: &&Packed, val: Value(Scalar(alloc1)) }\n         _1 = (*_2);                      // scope 0 at $DIR/const_allocation3.rs:+1:5: +1:8\n         StorageDead(_2);                 // scope 0 at $DIR/const_allocation3.rs:+1:8: +1:9\n         StorageDead(_1);                 // scope 0 at $DIR/const_allocation3.rs:+1:8: +1:9\n-        nop;                             // scope 0 at $DIR/const_allocation3.rs:+0:11: +2:2\n+        _0 = const ();                   // scope 0 at $DIR/const_allocation3.rs:+0:11: +2:2\n         return;                          // scope 0 at $DIR/const_allocation3.rs:+2:2: +2:2\n     }\n }"}, {"sha": "27492a7fd22c1780309074728ac03b25b06c4643", "filename": "src/test/mir-opt/const_allocation3.main.ConstProp.after.64bit.mir", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation3.main.ConstProp.after.64bit.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation3.main.ConstProp.after.64bit.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_allocation3.main.ConstProp.after.64bit.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -10,12 +10,12 @@ fn main() -> () {\n         StorageLive(_2);                 // scope 0 at $DIR/const_allocation3.rs:+1:5: +1:8\n         _2 = const {alloc1: &&Packed};   // scope 0 at $DIR/const_allocation3.rs:+1:5: +1:8\n                                          // mir::Constant\n-                                         // + span: $DIR/const_allocation3.rs:5:5: 5:8\n+                                         // + span: $DIR/const_allocation3.rs:6:5: 6:8\n                                          // + literal: Const { ty: &&Packed, val: Value(Scalar(alloc1)) }\n         _1 = (*_2);                      // scope 0 at $DIR/const_allocation3.rs:+1:5: +1:8\n         StorageDead(_2);                 // scope 0 at $DIR/const_allocation3.rs:+1:8: +1:9\n         StorageDead(_1);                 // scope 0 at $DIR/const_allocation3.rs:+1:8: +1:9\n-        nop;                             // scope 0 at $DIR/const_allocation3.rs:+0:11: +2:2\n+        _0 = const ();                   // scope 0 at $DIR/const_allocation3.rs:+0:11: +2:2\n         return;                          // scope 0 at $DIR/const_allocation3.rs:+2:2: +2:2\n     }\n }"}, {"sha": "da3fd089b026be26238cd1f9a9e98430fce4060e", "filename": "src/test/mir-opt/const_allocation3.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_allocation3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_allocation3.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,3 +1,4 @@\n+// unit-test: ConstProp\n // ignore-endian-big\n // EMIT_MIR_FOR_EACH_BIT_WIDTH\n // EMIT_MIR const_allocation3.main.ConstProp.after.mir"}, {"sha": "dd548adde7e5fe0f05f5ddd7b8d6c642e92d7762", "filename": "src/test/mir-opt/const_debuginfo.main.ConstDebugInfo.diff", "status": "modified", "additions": 44, "deletions": 47, "changes": 91, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_debuginfo.main.ConstDebugInfo.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_debuginfo.main.ConstDebugInfo.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_debuginfo.main.ConstDebugInfo.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -8,8 +8,8 @@\n       let mut _6: u8;                      // in scope 0 at $DIR/const_debuginfo.rs:+4:15: +4:16\n       let mut _7: u8;                      // in scope 0 at $DIR/const_debuginfo.rs:+4:19: +4:20\n       let mut _8: u8;                      // in scope 0 at $DIR/const_debuginfo.rs:+4:23: +4:24\n-      let mut _14: u32;                    // in scope 0 at $DIR/const_debuginfo.rs:+13:13: +13:16\n-      let mut _15: u32;                    // in scope 0 at $DIR/const_debuginfo.rs:+13:19: +13:22\n+      let mut _12: u32;                    // in scope 0 at $DIR/const_debuginfo.rs:+13:13: +13:16\n+      let mut _13: u32;                    // in scope 0 at $DIR/const_debuginfo.rs:+13:19: +13:22\n       scope 1 {\n -         debug x => _1;                   // in scope 1 at $DIR/const_debuginfo.rs:+1:9: +1:10\n +         debug x => const 1_u8;           // in scope 1 at $DIR/const_debuginfo.rs:+1:9: +1:10\n@@ -29,23 +29,21 @@\n                       scope 5 {\n -                         debug s => _9;   // in scope 5 at $DIR/const_debuginfo.rs:+6:9: +6:10\n +                         debug s => const \"hello, world!\"; // in scope 5 at $DIR/const_debuginfo.rs:+6:9: +6:10\n-                          let _10: (bool, bool, u32); // in scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n-                          let _16: bool;   // in scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n-                          let _17: bool;   // in scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n-                          let _18: u32;    // in scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n+                          let _14: bool;   // in scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n+                          let _15: bool;   // in scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n+                          let _16: u32;    // in scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n                           scope 6 {\n-                              debug f => (bool, bool, u32){ .0 => _16, .1 => _17, .2 => _18, }; // in scope 6 at $DIR/const_debuginfo.rs:+8:9: +8:10\n-                              let _11: std::option::Option<u16>; // in scope 6 at $DIR/const_debuginfo.rs:+10:9: +10:10\n+                              debug f => (bool, bool, u32){ .0 => _14, .1 => _15, .2 => _16, }; // in scope 6 at $DIR/const_debuginfo.rs:+8:9: +8:10\n+                              let _10: std::option::Option<u16>; // in scope 6 at $DIR/const_debuginfo.rs:+10:9: +10:10\n                               scope 7 {\n-                                  debug o => _11; // in scope 7 at $DIR/const_debuginfo.rs:+10:9: +10:10\n-                                  let _12: Point; // in scope 7 at $DIR/const_debuginfo.rs:+12:9: +12:10\n-                                  let _19: u32; // in scope 7 at $DIR/const_debuginfo.rs:+12:9: +12:10\n-                                  let _20: u32; // in scope 7 at $DIR/const_debuginfo.rs:+12:9: +12:10\n+                                  debug o => _10; // in scope 7 at $DIR/const_debuginfo.rs:+10:9: +10:10\n+                                  let _17: u32; // in scope 7 at $DIR/const_debuginfo.rs:+12:9: +12:10\n+                                  let _18: u32; // in scope 7 at $DIR/const_debuginfo.rs:+12:9: +12:10\n                                   scope 8 {\n-                                      debug p => Point{ .0 => _19, .1 => _20, }; // in scope 8 at $DIR/const_debuginfo.rs:+12:9: +12:10\n-                                      let _13: u32; // in scope 8 at $DIR/const_debuginfo.rs:+13:9: +13:10\n+                                      debug p => Point{ .0 => _17, .1 => _18, }; // in scope 8 at $DIR/const_debuginfo.rs:+12:9: +12:10\n+                                      let _11: u32; // in scope 8 at $DIR/const_debuginfo.rs:+13:9: +13:10\n                                       scope 9 {\n--                                         debug a => _13; // in scope 9 at $DIR/const_debuginfo.rs:+13:9: +13:10\n+-                                         debug a => _11; // in scope 9 at $DIR/const_debuginfo.rs:+13:9: +13:10\n +                                         debug a => const 64_u32; // in scope 9 at $DIR/const_debuginfo.rs:+13:9: +13:10\n                                       }\n                                   }\n@@ -83,41 +81,40 @@\n                                            // mir::Constant\n                                            // + span: $DIR/const_debuginfo.rs:14:13: 14:28\n                                            // + literal: Const { ty: &str, val: Value(Slice(..)) }\n+          StorageLive(_14);                // scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n+          StorageLive(_15);                // scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n           StorageLive(_16);                // scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n-          StorageLive(_17);                // scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n-          StorageLive(_18);                // scope 5 at $DIR/const_debuginfo.rs:+8:9: +8:10\n+          Deinit(_14);                     // scope 5 at $DIR/const_debuginfo.rs:+8:13: +8:34\n+          Deinit(_15);                     // scope 5 at $DIR/const_debuginfo.rs:+8:13: +8:34\n           Deinit(_16);                     // scope 5 at $DIR/const_debuginfo.rs:+8:13: +8:34\n-          Deinit(_17);                     // scope 5 at $DIR/const_debuginfo.rs:+8:13: +8:34\n-          Deinit(_18);                     // scope 5 at $DIR/const_debuginfo.rs:+8:13: +8:34\n-          _16 = const true;                // scope 5 at $DIR/const_debuginfo.rs:+8:13: +8:34\n-          _17 = const false;               // scope 5 at $DIR/const_debuginfo.rs:+8:13: +8:34\n-          _18 = const 123_u32;             // scope 5 at $DIR/const_debuginfo.rs:+8:13: +8:34\n-          StorageLive(_11);                // scope 6 at $DIR/const_debuginfo.rs:+10:9: +10:10\n-          Deinit(_11);                     // scope 6 at $DIR/const_debuginfo.rs:+10:13: +10:24\n-          ((_11 as Some).0: u16) = const 99_u16; // scope 6 at $DIR/const_debuginfo.rs:+10:13: +10:24\n-          discriminant(_11) = 1;           // scope 6 at $DIR/const_debuginfo.rs:+10:13: +10:24\n-          StorageLive(_19);                // scope 7 at $DIR/const_debuginfo.rs:+12:9: +12:10\n-          StorageLive(_20);                // scope 7 at $DIR/const_debuginfo.rs:+12:9: +12:10\n-          Deinit(_19);                     // scope 7 at $DIR/const_debuginfo.rs:+12:13: +12:35\n-          Deinit(_20);                     // scope 7 at $DIR/const_debuginfo.rs:+12:13: +12:35\n-          _19 = const 32_u32;              // scope 7 at $DIR/const_debuginfo.rs:+12:13: +12:35\n-          _20 = const 32_u32;              // scope 7 at $DIR/const_debuginfo.rs:+12:13: +12:35\n-          StorageLive(_13);                // scope 8 at $DIR/const_debuginfo.rs:+13:9: +13:10\n-          StorageLive(_14);                // scope 8 at $DIR/const_debuginfo.rs:+13:13: +13:16\n-          _14 = const 32_u32;              // scope 8 at $DIR/const_debuginfo.rs:+13:13: +13:16\n-          StorageLive(_15);                // scope 8 at $DIR/const_debuginfo.rs:+13:19: +13:22\n-          _15 = const 32_u32;              // scope 8 at $DIR/const_debuginfo.rs:+13:19: +13:22\n-          _13 = const 64_u32;              // scope 8 at $DIR/const_debuginfo.rs:+13:13: +13:22\n-          StorageDead(_15);                // scope 8 at $DIR/const_debuginfo.rs:+13:21: +13:22\n-          StorageDead(_14);                // scope 8 at $DIR/const_debuginfo.rs:+13:21: +13:22\n-          nop;                             // scope 0 at $DIR/const_debuginfo.rs:+0:11: +14:2\n-          StorageDead(_13);                // scope 8 at $DIR/const_debuginfo.rs:+14:1: +14:2\n-          StorageDead(_19);                // scope 7 at $DIR/const_debuginfo.rs:+14:1: +14:2\n-          StorageDead(_20);                // scope 7 at $DIR/const_debuginfo.rs:+14:1: +14:2\n-          StorageDead(_11);                // scope 6 at $DIR/const_debuginfo.rs:+14:1: +14:2\n+          _14 = const true;                // scope 5 at $DIR/const_debuginfo.rs:+8:13: +8:34\n+          _15 = const false;               // scope 5 at $DIR/const_debuginfo.rs:+8:13: +8:34\n+          _16 = const 123_u32;             // scope 5 at $DIR/const_debuginfo.rs:+8:13: +8:34\n+          StorageLive(_10);                // scope 6 at $DIR/const_debuginfo.rs:+10:9: +10:10\n+          Deinit(_10);                     // scope 6 at $DIR/const_debuginfo.rs:+10:13: +10:24\n+          ((_10 as Some).0: u16) = const 99_u16; // scope 6 at $DIR/const_debuginfo.rs:+10:13: +10:24\n+          discriminant(_10) = 1;           // scope 6 at $DIR/const_debuginfo.rs:+10:13: +10:24\n+          StorageLive(_17);                // scope 7 at $DIR/const_debuginfo.rs:+12:9: +12:10\n+          StorageLive(_18);                // scope 7 at $DIR/const_debuginfo.rs:+12:9: +12:10\n+          Deinit(_17);                     // scope 7 at $DIR/const_debuginfo.rs:+12:13: +12:35\n+          Deinit(_18);                     // scope 7 at $DIR/const_debuginfo.rs:+12:13: +12:35\n+          _17 = const 32_u32;              // scope 7 at $DIR/const_debuginfo.rs:+12:13: +12:35\n+          _18 = const 32_u32;              // scope 7 at $DIR/const_debuginfo.rs:+12:13: +12:35\n+          StorageLive(_11);                // scope 8 at $DIR/const_debuginfo.rs:+13:9: +13:10\n+          StorageLive(_12);                // scope 8 at $DIR/const_debuginfo.rs:+13:13: +13:16\n+          _12 = const 32_u32;              // scope 8 at $DIR/const_debuginfo.rs:+13:13: +13:16\n+          StorageLive(_13);                // scope 8 at $DIR/const_debuginfo.rs:+13:19: +13:22\n+          _13 = const 32_u32;              // scope 8 at $DIR/const_debuginfo.rs:+13:19: +13:22\n+          _11 = const 64_u32;              // scope 8 at $DIR/const_debuginfo.rs:+13:13: +13:22\n+          StorageDead(_13);                // scope 8 at $DIR/const_debuginfo.rs:+13:21: +13:22\n+          StorageDead(_12);                // scope 8 at $DIR/const_debuginfo.rs:+13:21: +13:22\n+          StorageDead(_11);                // scope 8 at $DIR/const_debuginfo.rs:+14:1: +14:2\n+          StorageDead(_17);                // scope 7 at $DIR/const_debuginfo.rs:+14:1: +14:2\n+          StorageDead(_18);                // scope 7 at $DIR/const_debuginfo.rs:+14:1: +14:2\n+          StorageDead(_10);                // scope 6 at $DIR/const_debuginfo.rs:+14:1: +14:2\n+          StorageDead(_14);                // scope 5 at $DIR/const_debuginfo.rs:+14:1: +14:2\n+          StorageDead(_15);                // scope 5 at $DIR/const_debuginfo.rs:+14:1: +14:2\n           StorageDead(_16);                // scope 5 at $DIR/const_debuginfo.rs:+14:1: +14:2\n-          StorageDead(_17);                // scope 5 at $DIR/const_debuginfo.rs:+14:1: +14:2\n-          StorageDead(_18);                // scope 5 at $DIR/const_debuginfo.rs:+14:1: +14:2\n           StorageDead(_9);                 // scope 4 at $DIR/const_debuginfo.rs:+14:1: +14:2\n           StorageDead(_4);                 // scope 3 at $DIR/const_debuginfo.rs:+14:1: +14:2\n           StorageDead(_3);                 // scope 2 at $DIR/const_debuginfo.rs:+14:1: +14:2"}, {"sha": "8485703e39f2c5b1b68261bf650caf15ef2f49c8", "filename": "src/test/mir-opt/const_prop/bad_op_mod_by_zero.main.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fbad_op_mod_by_zero.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fbad_op_mod_by_zero.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fbad_op_mod_by_zero.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -45,7 +45,6 @@\n -         _2 = Rem(const 1_i32, move _3);  // scope 1 at $DIR/bad_op_mod_by_zero.rs:+2:14: +2:19\n +         _2 = Rem(const 1_i32, const 0_i32); // scope 1 at $DIR/bad_op_mod_by_zero.rs:+2:14: +2:19\n           StorageDead(_3);                 // scope 1 at $DIR/bad_op_mod_by_zero.rs:+2:18: +2:19\n-          nop;                             // scope 0 at $DIR/bad_op_mod_by_zero.rs:+0:11: +3:2\n           StorageDead(_2);                 // scope 1 at $DIR/bad_op_mod_by_zero.rs:+3:1: +3:2\n           StorageDead(_1);                 // scope 0 at $DIR/bad_op_mod_by_zero.rs:+3:1: +3:2\n           return;                          // scope 0 at $DIR/bad_op_mod_by_zero.rs:+3:2: +3:2"}, {"sha": "27e41d4869d759b74f8cad5bbc981311a0b7cb26", "filename": "src/test/mir-opt/const_prop/bad_op_unsafe_oob_for_slices.main.ConstProp.32bit.diff", "status": "modified", "additions": 19, "deletions": 21, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fbad_op_unsafe_oob_for_slices.main.ConstProp.32bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fbad_op_unsafe_oob_for_slices.main.ConstProp.32bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fbad_op_unsafe_oob_for_slices.main.ConstProp.32bit.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -6,17 +6,16 @@\n       let _1: *const [i32];                // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:9: +1:10\n       let mut _2: *const [i32; 3];         // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n       let _3: &[i32; 3];                   // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n-      let _4: [i32; 3];                    // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:26: +1:35\n-      let _6: usize;                       // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n-      let mut _7: usize;                   // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n-      let mut _8: bool;                    // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n-      let mut _9: &[i32; 3];               // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n+      let _5: usize;                       // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n+      let mut _6: usize;                   // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+      let mut _7: bool;                    // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+      let mut _8: &[i32; 3];               // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n       scope 1 {\n           debug a => _1;                   // in scope 1 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:9: +1:10\n           scope 2 {\n-              let _5: i32;                 // in scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n+              let _4: i32;                 // in scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n               scope 3 {\n-                  debug _b => _5;          // in scope 3 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n+                  debug _b => _4;          // in scope 3 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n               }\n           }\n       }\n@@ -25,30 +24,29 @@\n           StorageLive(_1);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:9: +1:10\n           StorageLive(_2);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n           StorageLive(_3);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n-          _9 = const _;                    // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n+          _8 = const _;                    // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n                                            // mir::Constant\n                                            // + span: $DIR/bad_op_unsafe_oob_for_slices.rs:5:25: 5:35\n                                            // + literal: Const { ty: &[i32; 3], val: Unevaluated(main, [], Some(promoted[0])) }\n-          _3 = _9;                         // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n+          _3 = _8;                         // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n           _2 = &raw const (*_3);           // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n           _1 = move _2 as *const [i32] (Pointer(Unsize)); // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n           StorageDead(_2);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:34: +1:35\n           StorageDead(_3);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:35: +1:36\n-          StorageLive(_5);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n-          StorageLive(_6);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n-          _6 = const 3_usize;              // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n-          _7 = Len((*_1));                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n--         _8 = Lt(_6, _7);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n--         assert(move _8, \"index out of bounds: the length is {} but the index is {}\", move _7, _6) -> bb1; // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n-+         _8 = Lt(const 3_usize, _7);      // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n-+         assert(move _8, \"index out of bounds: the length is {} but the index is {}\", move _7, const 3_usize) -> bb1; // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+          StorageLive(_4);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n+          StorageLive(_5);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n+          _5 = const 3_usize;              // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n+          _6 = Len((*_1));                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+-         _7 = Lt(_5, _6);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+-         assert(move _7, \"index out of bounds: the length is {} but the index is {}\", move _6, _5) -> bb1; // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n++         _7 = Lt(const 3_usize, _6);      // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n++         assert(move _7, \"index out of bounds: the length is {} but the index is {}\", move _6, const 3_usize) -> bb1; // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n       }\n   \n       bb1: {\n-          _5 = (*_1)[_6];                  // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n-          StorageDead(_6);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:25: +3:26\n-          nop;                             // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+2:5: +4:6\n-          StorageDead(_5);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+4:5: +4:6\n+          _4 = (*_1)[_5];                  // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+          StorageDead(_5);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:25: +3:26\n+          StorageDead(_4);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+4:5: +4:6\n           StorageDead(_1);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+5:1: +5:2\n           return;                          // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+5:2: +5:2\n       }"}, {"sha": "27e41d4869d759b74f8cad5bbc981311a0b7cb26", "filename": "src/test/mir-opt/const_prop/bad_op_unsafe_oob_for_slices.main.ConstProp.64bit.diff", "status": "modified", "additions": 19, "deletions": 21, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fbad_op_unsafe_oob_for_slices.main.ConstProp.64bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fbad_op_unsafe_oob_for_slices.main.ConstProp.64bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fbad_op_unsafe_oob_for_slices.main.ConstProp.64bit.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -6,17 +6,16 @@\n       let _1: *const [i32];                // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:9: +1:10\n       let mut _2: *const [i32; 3];         // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n       let _3: &[i32; 3];                   // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n-      let _4: [i32; 3];                    // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:26: +1:35\n-      let _6: usize;                       // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n-      let mut _7: usize;                   // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n-      let mut _8: bool;                    // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n-      let mut _9: &[i32; 3];               // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n+      let _5: usize;                       // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n+      let mut _6: usize;                   // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+      let mut _7: bool;                    // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+      let mut _8: &[i32; 3];               // in scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n       scope 1 {\n           debug a => _1;                   // in scope 1 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:9: +1:10\n           scope 2 {\n-              let _5: i32;                 // in scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n+              let _4: i32;                 // in scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n               scope 3 {\n-                  debug _b => _5;          // in scope 3 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n+                  debug _b => _4;          // in scope 3 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n               }\n           }\n       }\n@@ -25,30 +24,29 @@\n           StorageLive(_1);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:9: +1:10\n           StorageLive(_2);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n           StorageLive(_3);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n-          _9 = const _;                    // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n+          _8 = const _;                    // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n                                            // mir::Constant\n                                            // + span: $DIR/bad_op_unsafe_oob_for_slices.rs:5:25: 5:35\n                                            // + literal: Const { ty: &[i32; 3], val: Unevaluated(main, [], Some(promoted[0])) }\n-          _3 = _9;                         // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n+          _3 = _8;                         // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n           _2 = &raw const (*_3);           // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n           _1 = move _2 as *const [i32] (Pointer(Unsize)); // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:25: +1:35\n           StorageDead(_2);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:34: +1:35\n           StorageDead(_3);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+1:35: +1:36\n-          StorageLive(_5);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n-          StorageLive(_6);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n-          _6 = const 3_usize;              // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n-          _7 = Len((*_1));                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n--         _8 = Lt(_6, _7);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n--         assert(move _8, \"index out of bounds: the length is {} but the index is {}\", move _7, _6) -> bb1; // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n-+         _8 = Lt(const 3_usize, _7);      // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n-+         assert(move _8, \"index out of bounds: the length is {} but the index is {}\", move _7, const 3_usize) -> bb1; // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+          StorageLive(_4);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:13: +3:15\n+          StorageLive(_5);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n+          _5 = const 3_usize;              // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:23: +3:24\n+          _6 = Len((*_1));                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+-         _7 = Lt(_5, _6);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+-         assert(move _7, \"index out of bounds: the length is {} but the index is {}\", move _6, _5) -> bb1; // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n++         _7 = Lt(const 3_usize, _6);      // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n++         assert(move _7, \"index out of bounds: the length is {} but the index is {}\", move _6, const 3_usize) -> bb1; // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n       }\n   \n       bb1: {\n-          _5 = (*_1)[_6];                  // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n-          StorageDead(_6);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:25: +3:26\n-          nop;                             // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+2:5: +4:6\n-          StorageDead(_5);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+4:5: +4:6\n+          _4 = (*_1)[_5];                  // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:18: +3:25\n+          StorageDead(_5);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+3:25: +3:26\n+          StorageDead(_4);                 // scope 2 at $DIR/bad_op_unsafe_oob_for_slices.rs:+4:5: +4:6\n           StorageDead(_1);                 // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+5:1: +5:2\n           return;                          // scope 0 at $DIR/bad_op_unsafe_oob_for_slices.rs:+5:2: +5:2\n       }"}, {"sha": "f270ab8b69f0ed43f6754f762623c41a1ae25120", "filename": "src/test/mir-opt/const_prop/control_flow_simplification.hello.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fcontrol_flow_simplification.hello.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fcontrol_flow_simplification.hello.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fcontrol_flow_simplification.hello.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -25,7 +25,6 @@\n       }\n   \n       bb2: {\n-          nop;                             // scope 0 at $DIR/control_flow_simplification.rs:+3:6: +3:6\n           StorageDead(_1);                 // scope 0 at $DIR/control_flow_simplification.rs:+3:5: +3:6\n           return;                          // scope 0 at $DIR/control_flow_simplification.rs:+4:2: +4:2\n       }"}, {"sha": "6c4757c1a81036cc1102860e69edde66bc79d750", "filename": "src/test/mir-opt/const_prop/invalid_constant.main.ConstProp.diff", "status": "modified", "additions": 4, "deletions": 15, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Finvalid_constant.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Finvalid_constant.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Finvalid_constant.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -7,8 +7,6 @@\n       let mut _2: main::InvalidChar;       // in scope 0 at $DIR/invalid_constant.rs:+6:34: +6:63\n       let mut _4: E;                       // in scope 0 at $DIR/invalid_constant.rs:+13:25: +13:59\n       let mut _5: main::InvalidTag;        // in scope 0 at $DIR/invalid_constant.rs:+13:34: +13:55\n-      let mut _7: Empty;                   // in scope 0 at $DIR/invalid_constant.rs:+20:35: +20:73\n-      let mut _8: main::NoVariants;        // in scope 0 at $DIR/invalid_constant.rs:+20:44: +20:65\n       scope 1 {\n           debug _invalid_char => _1;       // in scope 1 at $DIR/invalid_constant.rs:+6:9: +6:22\n           let _3: [E; 1];                  // in scope 1 at $DIR/invalid_constant.rs:+13:9: +13:21\n@@ -17,9 +15,9 @@\n               let _6: [Empty; 1];          // in scope 3 at $DIR/invalid_constant.rs:+20:9: +20:31\n               scope 5 {\n                   debug _enum_without_variants => _6; // in scope 5 at $DIR/invalid_constant.rs:+20:9: +20:31\n-                  let _9: main::Str<\"\ufffd\ufffd\ufffd\">; // in scope 5 at $DIR/invalid_constant.rs:+24:9: +24:22\n+                  let _7: main::Str<\"\ufffd\ufffd\ufffd\">; // in scope 5 at $DIR/invalid_constant.rs:+24:9: +24:22\n                   scope 7 {\n-                      debug _non_utf8_str => _9; // in scope 7 at $DIR/invalid_constant.rs:+24:9: +24:22\n+                      debug _non_utf8_str => _7; // in scope 7 at $DIR/invalid_constant.rs:+24:9: +24:22\n                   }\n               }\n               scope 6 {\n@@ -57,17 +55,8 @@\n           StorageDead(_4);                 // scope 1 at $DIR/invalid_constant.rs:+13:59: +13:60\n           StorageDead(_5);                 // scope 1 at $DIR/invalid_constant.rs:+13:60: +13:61\n           StorageLive(_6);                 // scope 3 at $DIR/invalid_constant.rs:+20:9: +20:31\n-          StorageLive(_7);                 // scope 3 at $DIR/invalid_constant.rs:+20:35: +20:73\n-          StorageLive(_8);                 // scope 6 at $DIR/invalid_constant.rs:+20:44: +20:65\n-          Deinit(_8);                      // scope 6 at $DIR/invalid_constant.rs:+20:44: +20:65\n-          (_8.0: u32) = const 0_u32;       // scope 6 at $DIR/invalid_constant.rs:+20:44: +20:65\n-          nop;                             // scope 6 at $DIR/invalid_constant.rs:+20:44: +20:71\n-          nop;                             // scope 3 at $DIR/invalid_constant.rs:+20:34: +20:74\n-          StorageDead(_7);                 // scope 3 at $DIR/invalid_constant.rs:+20:73: +20:74\n-          StorageDead(_8);                 // scope 3 at $DIR/invalid_constant.rs:+20:74: +20:75\n-          StorageLive(_9);                 // scope 5 at $DIR/invalid_constant.rs:+24:9: +24:22\n-          nop;                             // scope 0 at $DIR/invalid_constant.rs:+0:11: +27:2\n-          StorageDead(_9);                 // scope 5 at $DIR/invalid_constant.rs:+27:1: +27:2\n+          StorageLive(_7);                 // scope 5 at $DIR/invalid_constant.rs:+24:9: +24:22\n+          StorageDead(_7);                 // scope 5 at $DIR/invalid_constant.rs:+27:1: +27:2\n           StorageDead(_6);                 // scope 3 at $DIR/invalid_constant.rs:+27:1: +27:2\n           StorageDead(_3);                 // scope 1 at $DIR/invalid_constant.rs:+27:1: +27:2\n           StorageDead(_1);                 // scope 0 at $DIR/invalid_constant.rs:+27:1: +27:2"}, {"sha": "488e772d0ea8b3c735129c3db20d0b71a0aec860", "filename": "src/test/mir-opt/const_prop/issue_66971.main.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fissue_66971.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fissue_66971.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fissue_66971.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -5,18 +5,13 @@\n       let mut _0: ();                      // return place in scope 0 at $DIR/issue_66971.rs:+0:11: +0:11\n       let _1: ();                          // in scope 0 at $DIR/issue_66971.rs:+1:5: +1:23\n       let mut _2: ((), u8, u8);            // in scope 0 at $DIR/issue_66971.rs:+1:12: +1:22\n-      let mut _3: ();                      // in scope 0 at $DIR/issue_66971.rs:+1:13: +1:15\n   \n       bb0: {\n           StorageLive(_1);                 // scope 0 at $DIR/issue_66971.rs:+1:5: +1:23\n           StorageLive(_2);                 // scope 0 at $DIR/issue_66971.rs:+1:12: +1:22\n-          StorageLive(_3);                 // scope 0 at $DIR/issue_66971.rs:+1:13: +1:15\n-          nop;                             // scope 0 at $DIR/issue_66971.rs:+1:13: +1:15\n           Deinit(_2);                      // scope 0 at $DIR/issue_66971.rs:+1:12: +1:22\n-          nop;                             // scope 0 at $DIR/issue_66971.rs:+1:12: +1:22\n           (_2.1: u8) = const 0_u8;         // scope 0 at $DIR/issue_66971.rs:+1:12: +1:22\n           (_2.2: u8) = const 0_u8;         // scope 0 at $DIR/issue_66971.rs:+1:12: +1:22\n-          StorageDead(_3);                 // scope 0 at $DIR/issue_66971.rs:+1:21: +1:22\n           _1 = encode(move _2) -> bb1;     // scope 0 at $DIR/issue_66971.rs:+1:5: +1:23\n                                            // mir::Constant\n                                            // + span: $DIR/issue_66971.rs:17:5: 17:11\n@@ -26,7 +21,6 @@\n       bb1: {\n           StorageDead(_2);                 // scope 0 at $DIR/issue_66971.rs:+1:22: +1:23\n           StorageDead(_1);                 // scope 0 at $DIR/issue_66971.rs:+1:23: +1:24\n-          nop;                             // scope 0 at $DIR/issue_66971.rs:+0:11: +2:2\n           return;                          // scope 0 at $DIR/issue_66971.rs:+2:2: +2:2\n       }\n   }"}, {"sha": "cd53048597b82083e9e58e0e8770c24ac7b6af17", "filename": "src/test/mir-opt/const_prop/issue_67019.main.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fissue_67019.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fissue_67019.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fissue_67019.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -27,7 +27,6 @@\n       bb1: {\n           StorageDead(_2);                 // scope 0 at $DIR/issue_67019.rs:+1:19: +1:20\n           StorageDead(_1);                 // scope 0 at $DIR/issue_67019.rs:+1:20: +1:21\n-          nop;                             // scope 0 at $DIR/issue_67019.rs:+0:11: +2:2\n           return;                          // scope 0 at $DIR/issue_67019.rs:+2:2: +2:2\n       }\n   }"}, {"sha": "5331e5b82122e301908e60caf444cb897fc89b3f", "filename": "src/test/mir-opt/const_prop/large_array_index.main.ConstProp.32bit.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Flarge_array_index.main.ConstProp.32bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Flarge_array_index.main.ConstProp.32bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Flarge_array_index.main.ConstProp.32bit.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -29,7 +29,6 @@\n           _1 = _2[_3];                     // scope 0 at $DIR/large_array_index.rs:+2:17: +2:32\n           StorageDead(_3);                 // scope 0 at $DIR/large_array_index.rs:+2:32: +2:33\n           StorageDead(_2);                 // scope 0 at $DIR/large_array_index.rs:+2:32: +2:33\n-          nop;                             // scope 0 at $DIR/large_array_index.rs:+0:11: +3:2\n           StorageDead(_1);                 // scope 0 at $DIR/large_array_index.rs:+3:1: +3:2\n           return;                          // scope 0 at $DIR/large_array_index.rs:+3:2: +3:2\n       }"}, {"sha": "5331e5b82122e301908e60caf444cb897fc89b3f", "filename": "src/test/mir-opt/const_prop/large_array_index.main.ConstProp.64bit.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Flarge_array_index.main.ConstProp.64bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Flarge_array_index.main.ConstProp.64bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Flarge_array_index.main.ConstProp.64bit.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -29,7 +29,6 @@\n           _1 = _2[_3];                     // scope 0 at $DIR/large_array_index.rs:+2:17: +2:32\n           StorageDead(_3);                 // scope 0 at $DIR/large_array_index.rs:+2:32: +2:33\n           StorageDead(_2);                 // scope 0 at $DIR/large_array_index.rs:+2:32: +2:33\n-          nop;                             // scope 0 at $DIR/large_array_index.rs:+0:11: +3:2\n           StorageDead(_1);                 // scope 0 at $DIR/large_array_index.rs:+3:1: +3:2\n           return;                          // scope 0 at $DIR/large_array_index.rs:+3:2: +3:2\n       }"}, {"sha": "a672c457a72b13d5c7e694ef63f64f8ce1732ac0", "filename": "src/test/mir-opt/const_prop/mutable_variable.main.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -19,7 +19,6 @@\n           StorageLive(_2);                 // scope 1 at $DIR/mutable_variable.rs:+3:9: +3:10\n -         _2 = _1;                         // scope 1 at $DIR/mutable_variable.rs:+3:13: +3:14\n +         _2 = const 99_i32;               // scope 1 at $DIR/mutable_variable.rs:+3:13: +3:14\n-          nop;                             // scope 0 at $DIR/mutable_variable.rs:+0:11: +4:2\n           StorageDead(_2);                 // scope 1 at $DIR/mutable_variable.rs:+4:1: +4:2\n           StorageDead(_1);                 // scope 0 at $DIR/mutable_variable.rs:+4:1: +4:2\n           return;                          // scope 0 at $DIR/mutable_variable.rs:+4:2: +4:2"}, {"sha": "f6bf522065bac59ff89dee8edb63e5cc4785ab90", "filename": "src/test/mir-opt/const_prop/mutable_variable_aggregate.main.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_aggregate.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_aggregate.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_aggregate.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -21,7 +21,6 @@\n           StorageLive(_2);                 // scope 1 at $DIR/mutable_variable_aggregate.rs:+3:9: +3:10\n -         _2 = _1;                         // scope 1 at $DIR/mutable_variable_aggregate.rs:+3:13: +3:14\n +         _2 = const (42_i32, 99_i32);     // scope 1 at $DIR/mutable_variable_aggregate.rs:+3:13: +3:14\n-          nop;                             // scope 0 at $DIR/mutable_variable_aggregate.rs:+0:11: +4:2\n           StorageDead(_2);                 // scope 1 at $DIR/mutable_variable_aggregate.rs:+4:1: +4:2\n           StorageDead(_1);                 // scope 0 at $DIR/mutable_variable_aggregate.rs:+4:1: +4:2\n           return;                          // scope 0 at $DIR/mutable_variable_aggregate.rs:+4:2: +4:2"}, {"sha": "213a70227d876324abbc04286d9971d128596929", "filename": "src/test/mir-opt/const_prop/mutable_variable_aggregate_mut_ref.main.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_aggregate_mut_ref.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_aggregate_mut_ref.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_aggregate_mut_ref.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -26,7 +26,6 @@\n           ((*_2).1: i32) = const 99_i32;   // scope 2 at $DIR/mutable_variable_aggregate_mut_ref.rs:+3:5: +3:13\n           StorageLive(_3);                 // scope 2 at $DIR/mutable_variable_aggregate_mut_ref.rs:+4:9: +4:10\n           _3 = _1;                         // scope 2 at $DIR/mutable_variable_aggregate_mut_ref.rs:+4:13: +4:14\n-          nop;                             // scope 0 at $DIR/mutable_variable_aggregate_mut_ref.rs:+0:11: +5:2\n           StorageDead(_3);                 // scope 2 at $DIR/mutable_variable_aggregate_mut_ref.rs:+5:1: +5:2\n           StorageDead(_2);                 // scope 1 at $DIR/mutable_variable_aggregate_mut_ref.rs:+5:1: +5:2\n           StorageDead(_1);                 // scope 0 at $DIR/mutable_variable_aggregate_mut_ref.rs:+5:1: +5:2"}, {"sha": "149aa6290d0ea5d62baf67188f1a1eed3fb585f8", "filename": "src/test/mir-opt/const_prop/mutable_variable_aggregate_partial_read.main.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_aggregate_partial_read.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_aggregate_partial_read.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_aggregate_partial_read.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -26,7 +26,6 @@\n           StorageLive(_2);                 // scope 1 at $DIR/mutable_variable_aggregate_partial_read.rs:+4:9: +4:10\n -         _2 = (_1.1: i32);                // scope 1 at $DIR/mutable_variable_aggregate_partial_read.rs:+4:13: +4:16\n +         _2 = const 99_i32;               // scope 1 at $DIR/mutable_variable_aggregate_partial_read.rs:+4:13: +4:16\n-          nop;                             // scope 0 at $DIR/mutable_variable_aggregate_partial_read.rs:+0:11: +5:2\n           StorageDead(_2);                 // scope 1 at $DIR/mutable_variable_aggregate_partial_read.rs:+5:1: +5:2\n           StorageDead(_1);                 // scope 0 at $DIR/mutable_variable_aggregate_partial_read.rs:+5:1: +5:2\n           return;                          // scope 0 at $DIR/mutable_variable_aggregate_partial_read.rs:+5:2: +5:2"}, {"sha": "b9d551c5e5fc26a318b368d671927eb65ac77146", "filename": "src/test/mir-opt/const_prop/mutable_variable_no_prop.main.ConstProp.diff", "status": "modified", "additions": 13, "deletions": 18, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_no_prop.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_no_prop.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_no_prop.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -4,39 +4,34 @@\n   fn main() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/mutable_variable_no_prop.rs:+0:11: +0:11\n       let mut _1: u32;                     // in scope 0 at $DIR/mutable_variable_no_prop.rs:+1:9: +1:14\n-      let _2: ();                          // in scope 0 at $DIR/mutable_variable_no_prop.rs:+2:5: +4:6\n-      let mut _3: u32;                     // in scope 0 at $DIR/mutable_variable_no_prop.rs:+3:13: +3:19\n-      let mut _4: *mut u32;                // in scope 0 at $DIR/mutable_variable_no_prop.rs:+3:13: +3:19\n+      let mut _2: u32;                     // in scope 0 at $DIR/mutable_variable_no_prop.rs:+3:13: +3:19\n+      let mut _3: *mut u32;                // in scope 0 at $DIR/mutable_variable_no_prop.rs:+3:13: +3:19\n       scope 1 {\n           debug x => _1;                   // in scope 1 at $DIR/mutable_variable_no_prop.rs:+1:9: +1:14\n-          let _5: u32;                     // in scope 1 at $DIR/mutable_variable_no_prop.rs:+5:9: +5:10\n+          let _4: u32;                     // in scope 1 at $DIR/mutable_variable_no_prop.rs:+5:9: +5:10\n           scope 2 {\n           }\n           scope 3 {\n-              debug y => _5;               // in scope 3 at $DIR/mutable_variable_no_prop.rs:+5:9: +5:10\n+              debug y => _4;               // in scope 3 at $DIR/mutable_variable_no_prop.rs:+5:9: +5:10\n           }\n       }\n   \n       bb0: {\n           StorageLive(_1);                 // scope 0 at $DIR/mutable_variable_no_prop.rs:+1:9: +1:14\n           _1 = const 42_u32;               // scope 0 at $DIR/mutable_variable_no_prop.rs:+1:17: +1:19\n-          StorageLive(_2);                 // scope 1 at $DIR/mutable_variable_no_prop.rs:+2:5: +4:6\n+          StorageLive(_2);                 // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:13: +3:19\n           StorageLive(_3);                 // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:13: +3:19\n-          StorageLive(_4);                 // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:13: +3:19\n-          _4 = const {alloc1: *mut u32};   // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:13: +3:19\n+          _3 = const {alloc1: *mut u32};   // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:13: +3:19\n                                            // mir::Constant\n                                            // + span: $DIR/mutable_variable_no_prop.rs:10:13: 10:19\n                                            // + literal: Const { ty: *mut u32, val: Value(Scalar(alloc1)) }\n-          _3 = (*_4);                      // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:13: +3:19\n-          _1 = move _3;                    // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:9: +3:19\n-          StorageDead(_3);                 // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:18: +3:19\n-          StorageDead(_4);                 // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:19: +3:20\n-          nop;                             // scope 2 at $DIR/mutable_variable_no_prop.rs:+2:5: +4:6\n-          StorageDead(_2);                 // scope 1 at $DIR/mutable_variable_no_prop.rs:+4:5: +4:6\n-          StorageLive(_5);                 // scope 1 at $DIR/mutable_variable_no_prop.rs:+5:9: +5:10\n-          _5 = _1;                         // scope 1 at $DIR/mutable_variable_no_prop.rs:+5:13: +5:14\n-          nop;                             // scope 0 at $DIR/mutable_variable_no_prop.rs:+0:11: +6:2\n-          StorageDead(_5);                 // scope 1 at $DIR/mutable_variable_no_prop.rs:+6:1: +6:2\n+          _2 = (*_3);                      // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:13: +3:19\n+          _1 = move _2;                    // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:9: +3:19\n+          StorageDead(_2);                 // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:18: +3:19\n+          StorageDead(_3);                 // scope 2 at $DIR/mutable_variable_no_prop.rs:+3:19: +3:20\n+          StorageLive(_4);                 // scope 1 at $DIR/mutable_variable_no_prop.rs:+5:9: +5:10\n+          _4 = _1;                         // scope 1 at $DIR/mutable_variable_no_prop.rs:+5:13: +5:14\n+          StorageDead(_4);                 // scope 1 at $DIR/mutable_variable_no_prop.rs:+6:1: +6:2\n           StorageDead(_1);                 // scope 0 at $DIR/mutable_variable_no_prop.rs:+6:1: +6:2\n           return;                          // scope 0 at $DIR/mutable_variable_no_prop.rs:+6:2: +6:2\n       }"}, {"sha": "c3f77b960a2dc1b2bccaf4c1114051b436e5310e", "filename": "src/test/mir-opt/const_prop/mutable_variable_unprop_assign.main.ConstProp.diff", "status": "modified", "additions": 23, "deletions": 25, "changes": 48, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_unprop_assign.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_unprop_assign.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fmutable_variable_unprop_assign.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -4,20 +4,19 @@\n   fn main() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/mutable_variable_unprop_assign.rs:+0:11: +0:11\n       let _1: i32;                         // in scope 0 at $DIR/mutable_variable_unprop_assign.rs:+1:9: +1:10\n-      let mut _3: i32;                     // in scope 0 at $DIR/mutable_variable_unprop_assign.rs:+3:11: +3:12\n+      let mut _2: i32;                     // in scope 0 at $DIR/mutable_variable_unprop_assign.rs:+3:11: +3:12\n       scope 1 {\n           debug a => _1;                   // in scope 1 at $DIR/mutable_variable_unprop_assign.rs:+1:9: +1:10\n-          let mut _2: (i32, i32);          // in scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:9: +2:14\n+          let mut _5: i32;                 // in scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:9: +2:14\n           let mut _6: i32;                 // in scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:9: +2:14\n-          let mut _7: i32;                 // in scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:9: +2:14\n           scope 2 {\n-              debug x => (i32, i32){ .0 => _6, .1 => _7, }; // in scope 2 at $DIR/mutable_variable_unprop_assign.rs:+2:9: +2:14\n-              let _4: i32;                 // in scope 2 at $DIR/mutable_variable_unprop_assign.rs:+4:9: +4:10\n+              debug x => (i32, i32){ .0 => _5, .1 => _6, }; // in scope 2 at $DIR/mutable_variable_unprop_assign.rs:+2:9: +2:14\n+              let _3: i32;                 // in scope 2 at $DIR/mutable_variable_unprop_assign.rs:+4:9: +4:10\n               scope 3 {\n-                  debug y => _4;           // in scope 3 at $DIR/mutable_variable_unprop_assign.rs:+4:9: +4:10\n-                  let _5: i32;             // in scope 3 at $DIR/mutable_variable_unprop_assign.rs:+5:9: +5:10\n+                  debug y => _3;           // in scope 3 at $DIR/mutable_variable_unprop_assign.rs:+4:9: +4:10\n+                  let _4: i32;             // in scope 3 at $DIR/mutable_variable_unprop_assign.rs:+5:9: +5:10\n                   scope 4 {\n-                      debug z => _5;       // in scope 4 at $DIR/mutable_variable_unprop_assign.rs:+5:9: +5:10\n+                      debug z => _4;       // in scope 4 at $DIR/mutable_variable_unprop_assign.rs:+5:9: +5:10\n                   }\n               }\n           }\n@@ -32,26 +31,25 @@\n       }\n   \n       bb1: {\n+          StorageLive(_5);                 // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:9: +2:14\n           StorageLive(_6);                 // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:9: +2:14\n-          StorageLive(_7);                 // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:9: +2:14\n+          Deinit(_5);                      // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:29: +2:35\n           Deinit(_6);                      // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:29: +2:35\n-          Deinit(_7);                      // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:29: +2:35\n-          _6 = const 1_i32;                // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:29: +2:35\n-          _7 = const 2_i32;                // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:29: +2:35\n-          StorageLive(_3);                 // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+3:11: +3:12\n-          _3 = _1;                         // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+3:11: +3:12\n-          _7 = move _3;                    // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+3:5: +3:12\n-          StorageDead(_3);                 // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+3:11: +3:12\n-          StorageLive(_4);                 // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+4:9: +4:10\n-          _4 = _7;                         // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+4:13: +4:16\n-          StorageLive(_5);                 // scope 3 at $DIR/mutable_variable_unprop_assign.rs:+5:9: +5:10\n--         _5 = _6;                         // scope 3 at $DIR/mutable_variable_unprop_assign.rs:+5:13: +5:16\n-+         _5 = const 1_i32;                // scope 3 at $DIR/mutable_variable_unprop_assign.rs:+5:13: +5:16\n-          nop;                             // scope 0 at $DIR/mutable_variable_unprop_assign.rs:+0:11: +6:2\n-          StorageDead(_5);                 // scope 3 at $DIR/mutable_variable_unprop_assign.rs:+6:1: +6:2\n-          StorageDead(_4);                 // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+6:1: +6:2\n+          _5 = const 1_i32;                // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:29: +2:35\n+          _6 = const 2_i32;                // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+2:29: +2:35\n+          StorageLive(_2);                 // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+3:11: +3:12\n+          _2 = _1;                         // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+3:11: +3:12\n+          _6 = move _2;                    // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+3:5: +3:12\n+          StorageDead(_2);                 // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+3:11: +3:12\n+          StorageLive(_3);                 // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+4:9: +4:10\n+          _3 = _6;                         // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+4:13: +4:16\n+          StorageLive(_4);                 // scope 3 at $DIR/mutable_variable_unprop_assign.rs:+5:9: +5:10\n+-         _4 = _5;                         // scope 3 at $DIR/mutable_variable_unprop_assign.rs:+5:13: +5:16\n++         _4 = const 1_i32;                // scope 3 at $DIR/mutable_variable_unprop_assign.rs:+5:13: +5:16\n+          StorageDead(_4);                 // scope 3 at $DIR/mutable_variable_unprop_assign.rs:+6:1: +6:2\n+          StorageDead(_3);                 // scope 2 at $DIR/mutable_variable_unprop_assign.rs:+6:1: +6:2\n+          StorageDead(_5);                 // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+6:1: +6:2\n           StorageDead(_6);                 // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+6:1: +6:2\n-          StorageDead(_7);                 // scope 1 at $DIR/mutable_variable_unprop_assign.rs:+6:1: +6:2\n           StorageDead(_1);                 // scope 0 at $DIR/mutable_variable_unprop_assign.rs:+6:1: +6:2\n           return;                          // scope 0 at $DIR/mutable_variable_unprop_assign.rs:+6:2: +6:2\n       }"}, {"sha": "7c7aeac4c451bf0aa3c8a5d4c169ba9ba0c9accf", "filename": "src/test/mir-opt/const_prop/optimizes_into_variable.main.ConstProp.32bit.diff", "status": "modified", "additions": 6, "deletions": 13, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.ConstProp.32bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.ConstProp.32bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.ConstProp.32bit.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -9,9 +9,7 @@\n       let _5: usize;                       // in scope 0 at $DIR/optimizes_into_variable.rs:+2:32: +2:33\n       let mut _6: usize;                   // in scope 0 at $DIR/optimizes_into_variable.rs:+2:13: +2:34\n       let mut _7: bool;                    // in scope 0 at $DIR/optimizes_into_variable.rs:+2:13: +2:34\n-      let mut _9: Point;                   // in scope 0 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-      let mut _10: u32;                    // in scope 0 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-      let mut _11: u32;                    // in scope 0 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n+      let mut _9: u32;                     // in scope 0 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n       scope 1 {\n           debug x => _1;                   // in scope 1 at $DIR/optimizes_into_variable.rs:+1:9: +1:10\n           let _3: i32;                     // in scope 1 at $DIR/optimizes_into_variable.rs:+2:9: +2:10\n@@ -53,17 +51,12 @@\n           StorageDead(_5);                 // scope 1 at $DIR/optimizes_into_variable.rs:+2:34: +2:35\n           StorageDead(_4);                 // scope 1 at $DIR/optimizes_into_variable.rs:+2:34: +2:35\n           StorageLive(_8);                 // scope 2 at $DIR/optimizes_into_variable.rs:+3:9: +3:10\n-          StorageLive(_10);                // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-          StorageLive(_11);                // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-          Deinit(_10);                     // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-          Deinit(_11);                     // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-          _10 = const 12_u32;              // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-          _11 = const 42_u32;              // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n--         _8 = _11;                        // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:38\n+          StorageLive(_9);                 // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n+          Deinit(_9);                      // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n+          _9 = const 42_u32;               // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n+-         _8 = _9;                         // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:38\n +         _8 = const 42_u32;               // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:38\n-          StorageDead(_10);                // scope 2 at $DIR/optimizes_into_variable.rs:+3:38: +3:39\n-          StorageDead(_11);                // scope 2 at $DIR/optimizes_into_variable.rs:+3:38: +3:39\n-          nop;                             // scope 0 at $DIR/optimizes_into_variable.rs:+0:11: +4:2\n+          StorageDead(_9);                 // scope 2 at $DIR/optimizes_into_variable.rs:+3:38: +3:39\n           StorageDead(_8);                 // scope 2 at $DIR/optimizes_into_variable.rs:+4:1: +4:2\n           StorageDead(_3);                 // scope 1 at $DIR/optimizes_into_variable.rs:+4:1: +4:2\n           StorageDead(_1);                 // scope 0 at $DIR/optimizes_into_variable.rs:+4:1: +4:2"}, {"sha": "7c7aeac4c451bf0aa3c8a5d4c169ba9ba0c9accf", "filename": "src/test/mir-opt/const_prop/optimizes_into_variable.main.ConstProp.64bit.diff", "status": "modified", "additions": 6, "deletions": 13, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.ConstProp.64bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.ConstProp.64bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.ConstProp.64bit.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -9,9 +9,7 @@\n       let _5: usize;                       // in scope 0 at $DIR/optimizes_into_variable.rs:+2:32: +2:33\n       let mut _6: usize;                   // in scope 0 at $DIR/optimizes_into_variable.rs:+2:13: +2:34\n       let mut _7: bool;                    // in scope 0 at $DIR/optimizes_into_variable.rs:+2:13: +2:34\n-      let mut _9: Point;                   // in scope 0 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-      let mut _10: u32;                    // in scope 0 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-      let mut _11: u32;                    // in scope 0 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n+      let mut _9: u32;                     // in scope 0 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n       scope 1 {\n           debug x => _1;                   // in scope 1 at $DIR/optimizes_into_variable.rs:+1:9: +1:10\n           let _3: i32;                     // in scope 1 at $DIR/optimizes_into_variable.rs:+2:9: +2:10\n@@ -53,17 +51,12 @@\n           StorageDead(_5);                 // scope 1 at $DIR/optimizes_into_variable.rs:+2:34: +2:35\n           StorageDead(_4);                 // scope 1 at $DIR/optimizes_into_variable.rs:+2:34: +2:35\n           StorageLive(_8);                 // scope 2 at $DIR/optimizes_into_variable.rs:+3:9: +3:10\n-          StorageLive(_10);                // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-          StorageLive(_11);                // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-          Deinit(_10);                     // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-          Deinit(_11);                     // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-          _10 = const 12_u32;              // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n-          _11 = const 42_u32;              // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n--         _8 = _11;                        // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:38\n+          StorageLive(_9);                 // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n+          Deinit(_9);                      // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n+          _9 = const 42_u32;               // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:36\n+-         _8 = _9;                         // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:38\n +         _8 = const 42_u32;               // scope 2 at $DIR/optimizes_into_variable.rs:+3:13: +3:38\n-          StorageDead(_10);                // scope 2 at $DIR/optimizes_into_variable.rs:+3:38: +3:39\n-          StorageDead(_11);                // scope 2 at $DIR/optimizes_into_variable.rs:+3:38: +3:39\n-          nop;                             // scope 0 at $DIR/optimizes_into_variable.rs:+0:11: +4:2\n+          StorageDead(_9);                 // scope 2 at $DIR/optimizes_into_variable.rs:+3:38: +3:39\n           StorageDead(_8);                 // scope 2 at $DIR/optimizes_into_variable.rs:+4:1: +4:2\n           StorageDead(_3);                 // scope 1 at $DIR/optimizes_into_variable.rs:+4:1: +4:2\n           StorageDead(_1);                 // scope 0 at $DIR/optimizes_into_variable.rs:+4:1: +4:2"}, {"sha": "d926b9df73317fe6ffbcaaec89d09ad4b471fd48", "filename": "src/test/mir-opt/const_prop/optimizes_into_variable.main.SimplifyLocals-final.after.32bit.mir", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.SimplifyLocals-final.after.32bit.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.SimplifyLocals-final.after.32bit.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.SimplifyLocals-final.after.32bit.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,4 +1,4 @@\n-// MIR for `main` after SimplifyLocals\n+// MIR for `main` after SimplifyLocals-final\n \n fn main() -> () {\n     let mut _0: ();                      // return place in scope 0 at $DIR/optimizes_into_variable.rs:+0:11: +0:11", "previous_filename": "src/test/mir-opt/const_prop/optimizes_into_variable.main.SimplifyLocals.after.32bit.mir"}, {"sha": "d926b9df73317fe6ffbcaaec89d09ad4b471fd48", "filename": "src/test/mir-opt/const_prop/optimizes_into_variable.main.SimplifyLocals-final.after.64bit.mir", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.SimplifyLocals-final.after.64bit.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.SimplifyLocals-final.after.64bit.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.main.SimplifyLocals-final.after.64bit.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,4 +1,4 @@\n-// MIR for `main` after SimplifyLocals\n+// MIR for `main` after SimplifyLocals-final\n \n fn main() -> () {\n     let mut _0: ();                      // return place in scope 0 at $DIR/optimizes_into_variable.rs:+0:11: +0:11", "previous_filename": "src/test/mir-opt/const_prop/optimizes_into_variable.main.SimplifyLocals.after.64bit.mir"}, {"sha": "abea07e2025b77b28b33fbe0b059a8d9d08acf8f", "filename": "src/test/mir-opt/const_prop/optimizes_into_variable.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Foptimizes_into_variable.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -9,7 +9,7 @@ struct Point {\n // EMIT_MIR_FOR_EACH_BIT_WIDTH\n // EMIT_MIR optimizes_into_variable.main.ScalarReplacementOfAggregates.diff\n // EMIT_MIR optimizes_into_variable.main.ConstProp.diff\n-// EMIT_MIR optimizes_into_variable.main.SimplifyLocals.after.mir\n+// EMIT_MIR optimizes_into_variable.main.SimplifyLocals-final.after.mir\n // EMIT_MIR optimizes_into_variable.main.PreCodegen.after.mir\n fn main() {\n     let x = 2 + 2;"}, {"sha": "388c6ca810b6e724851d3969705a06b6a2633306", "filename": "src/test/mir-opt/const_prop/read_immutable_static.main.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fread_immutable_static.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fread_immutable_static.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fread_immutable_static.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -36,7 +36,6 @@\n           StorageDead(_2);                 // scope 0 at $DIR/read_immutable_static.rs:+1:21: +1:22\n           StorageDead(_5);                 // scope 0 at $DIR/read_immutable_static.rs:+1:22: +1:23\n           StorageDead(_3);                 // scope 0 at $DIR/read_immutable_static.rs:+1:22: +1:23\n-          nop;                             // scope 0 at $DIR/read_immutable_static.rs:+0:11: +2:2\n           StorageDead(_1);                 // scope 0 at $DIR/read_immutable_static.rs:+2:1: +2:2\n           return;                          // scope 0 at $DIR/read_immutable_static.rs:+2:2: +2:2\n       }"}, {"sha": "8a73f0390e122fab4b66423fe548ef3ac0759051", "filename": "src/test/mir-opt/const_prop/ref_deref.main.ConstProp.diff", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -13,7 +13,7 @@\n           StorageLive(_2);                 // scope 0 at $DIR/ref_deref.rs:+1:6: +1:10\n           _4 = const _;                    // scope 0 at $DIR/ref_deref.rs:+1:6: +1:10\n                                            // mir::Constant\n-                                           // + span: $DIR/ref_deref.rs:5:6: 5:10\n+                                           // + span: $DIR/ref_deref.rs:6:6: 6:10\n                                            // + literal: Const { ty: &i32, val: Unevaluated(main, [], Some(promoted[0])) }\n           _2 = _4;                         // scope 0 at $DIR/ref_deref.rs:+1:6: +1:10\n -         _1 = (*_2);                      // scope 0 at $DIR/ref_deref.rs:+1:5: +1:10"}, {"sha": "015ec4d078c10cc1d9da5bc035cf4134d127af0f", "filename": "src/test/mir-opt/const_prop/ref_deref.main.PromoteTemps.diff", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref.main.PromoteTemps.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref.main.PromoteTemps.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref.main.PromoteTemps.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -16,7 +16,7 @@\n -         _2 = &_3;                        // scope 0 at $DIR/ref_deref.rs:+1:6: +1:10\n +         _4 = const _;                    // scope 0 at $DIR/ref_deref.rs:+1:6: +1:10\n +                                          // mir::Constant\n-+                                          // + span: $DIR/ref_deref.rs:5:6: 5:10\n++                                          // + span: $DIR/ref_deref.rs:6:6: 6:10\n +                                          // + literal: Const { ty: &i32, val: Unevaluated(main, [], Some(promoted[0])) }\n +         _2 = &(*_4);                     // scope 0 at $DIR/ref_deref.rs:+1:6: +1:10\n           _1 = (*_2);                      // scope 0 at $DIR/ref_deref.rs:+1:5: +1:10"}, {"sha": "d2549c8b6aa5aa13277bcc168dc6edb04f277264", "filename": "src/test/mir-opt/const_prop/ref_deref.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,3 +1,4 @@\n+// compile-flags: -Zmir-enable-passes=-SimplifyLocals-before-const-prop\n // EMIT_MIR ref_deref.main.PromoteTemps.diff\n // EMIT_MIR ref_deref.main.ConstProp.diff\n "}, {"sha": "2fdd4e15319014cd28efabf768483b81bcd84044", "filename": "src/test/mir-opt/const_prop/ref_deref_project.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref_project.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref_project.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fref_deref_project.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,4 +1,4 @@\n-// unit-test\n+// compile-flags: -Zmir-enable-passes=-SimplifyLocals-before-const-prop\n // EMIT_MIR ref_deref_project.main.PromoteTemps.diff\n // EMIT_MIR ref_deref_project.main.ConstProp.diff\n "}, {"sha": "15c93f270d70732a7b7b8a98d57190efcc641f4b", "filename": "src/test/mir-opt/const_prop/reify_fn_ptr.main.ConstProp.diff", "status": "modified", "additions": 8, "deletions": 13, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Freify_fn_ptr.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Freify_fn_ptr.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Freify_fn_ptr.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -3,26 +3,21 @@\n   \n   fn main() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/reify_fn_ptr.rs:+0:11: +0:11\n-      let mut _1: *const fn();             // in scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:41\n-      let mut _2: usize;                   // in scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:26\n-      let mut _3: fn();                    // in scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:17\n+      let mut _1: usize;                   // in scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:26\n+      let mut _2: fn();                    // in scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:17\n       scope 1 {\n       }\n   \n       bb0: {\n-          StorageLive(_1);                 // scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:41\n-          StorageLive(_2);                 // scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:26\n-          StorageLive(_3);                 // scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:17\n-          _3 = main as fn() (Pointer(ReifyFnPointer)); // scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:17\n+          StorageLive(_1);                 // scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:26\n+          StorageLive(_2);                 // scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:17\n+          _2 = main as fn() (Pointer(ReifyFnPointer)); // scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:17\n                                            // mir::Constant\n                                            // + span: $DIR/reify_fn_ptr.rs:4:13: 4:17\n                                            // + literal: Const { ty: fn() {main}, val: Value(<ZST>) }\n-          _2 = move _3 as usize (PointerExposeAddress); // scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:26\n-          StorageDead(_3);                 // scope 0 at $DIR/reify_fn_ptr.rs:+1:25: +1:26\n-          _1 = move _2 as *const fn() (PointerFromExposedAddress); // scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:41\n-          StorageDead(_2);                 // scope 0 at $DIR/reify_fn_ptr.rs:+1:40: +1:41\n-          StorageDead(_1);                 // scope 0 at $DIR/reify_fn_ptr.rs:+1:41: +1:42\n-          nop;                             // scope 0 at $DIR/reify_fn_ptr.rs:+0:11: +2:2\n+          _1 = move _2 as usize (PointerExposeAddress); // scope 0 at $DIR/reify_fn_ptr.rs:+1:13: +1:26\n+          StorageDead(_2);                 // scope 0 at $DIR/reify_fn_ptr.rs:+1:25: +1:26\n+          StorageDead(_1);                 // scope 0 at $DIR/reify_fn_ptr.rs:+1:40: +1:41\n           return;                          // scope 0 at $DIR/reify_fn_ptr.rs:+2:2: +2:2\n       }\n   }"}, {"sha": "636032adb819133a517fb3202e23f17c8908a57d", "filename": "src/test/mir-opt/const_prop/repeat.main.ConstProp.32bit.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Frepeat.main.ConstProp.32bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Frepeat.main.ConstProp.32bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Frepeat.main.ConstProp.32bit.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -35,7 +35,6 @@\n           StorageDead(_2);                 // scope 0 at $DIR/repeat.rs:+1:31: +1:32\n           StorageDead(_4);                 // scope 0 at $DIR/repeat.rs:+1:32: +1:33\n           StorageDead(_3);                 // scope 0 at $DIR/repeat.rs:+1:32: +1:33\n-          nop;                             // scope 0 at $DIR/repeat.rs:+0:11: +2:2\n           StorageDead(_1);                 // scope 0 at $DIR/repeat.rs:+2:1: +2:2\n           return;                          // scope 0 at $DIR/repeat.rs:+2:2: +2:2\n       }"}, {"sha": "636032adb819133a517fb3202e23f17c8908a57d", "filename": "src/test/mir-opt/const_prop/repeat.main.ConstProp.64bit.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Frepeat.main.ConstProp.64bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Frepeat.main.ConstProp.64bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Frepeat.main.ConstProp.64bit.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -35,7 +35,6 @@\n           StorageDead(_2);                 // scope 0 at $DIR/repeat.rs:+1:31: +1:32\n           StorageDead(_4);                 // scope 0 at $DIR/repeat.rs:+1:32: +1:33\n           StorageDead(_3);                 // scope 0 at $DIR/repeat.rs:+1:32: +1:33\n-          nop;                             // scope 0 at $DIR/repeat.rs:+0:11: +2:2\n           StorageDead(_1);                 // scope 0 at $DIR/repeat.rs:+2:1: +2:2\n           return;                          // scope 0 at $DIR/repeat.rs:+2:2: +2:2\n       }"}, {"sha": "d518eff04eba21af52d1036f9ba2c6a2f808b444", "filename": "src/test/mir-opt/const_prop/scalar_literal_propagation.main.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fscalar_literal_propagation.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fscalar_literal_propagation.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fscalar_literal_propagation.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -27,7 +27,6 @@\n       bb1: {\n           StorageDead(_3);                 // scope 1 at $DIR/scalar_literal_propagation.rs:+2:14: +2:15\n           StorageDead(_2);                 // scope 1 at $DIR/scalar_literal_propagation.rs:+2:15: +2:16\n-          nop;                             // scope 0 at $DIR/scalar_literal_propagation.rs:+0:11: +3:2\n           StorageDead(_1);                 // scope 0 at $DIR/scalar_literal_propagation.rs:+3:1: +3:2\n           return;                          // scope 0 at $DIR/scalar_literal_propagation.rs:+3:2: +3:2\n       }"}, {"sha": "9017fd18e48752f510e3326a1fbcfdcc1d49f6c9", "filename": "src/test/mir-opt/const_prop/slice_len.main.ConstProp.32bit.diff", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fslice_len.main.ConstProp.32bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fslice_len.main.ConstProp.32bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fslice_len.main.ConstProp.32bit.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -20,7 +20,7 @@\n           StorageLive(_4);                 // scope 0 at $DIR/slice_len.rs:+1:6: +1:19\n           _9 = const _;                    // scope 0 at $DIR/slice_len.rs:+1:6: +1:19\n                                            // mir::Constant\n-                                           // + span: $DIR/slice_len.rs:5:6: 5:19\n+                                           // + span: $DIR/slice_len.rs:6:6: 6:19\n                                            // + literal: Const { ty: &[u32; 3], val: Unevaluated(main, [], Some(promoted[0])) }\n           _4 = _9;                         // scope 0 at $DIR/slice_len.rs:+1:6: +1:19\n           _3 = _4;                         // scope 0 at $DIR/slice_len.rs:+1:6: +1:19"}, {"sha": "9017fd18e48752f510e3326a1fbcfdcc1d49f6c9", "filename": "src/test/mir-opt/const_prop/slice_len.main.ConstProp.64bit.diff", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fslice_len.main.ConstProp.64bit.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fslice_len.main.ConstProp.64bit.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fslice_len.main.ConstProp.64bit.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -20,7 +20,7 @@\n           StorageLive(_4);                 // scope 0 at $DIR/slice_len.rs:+1:6: +1:19\n           _9 = const _;                    // scope 0 at $DIR/slice_len.rs:+1:6: +1:19\n                                            // mir::Constant\n-                                           // + span: $DIR/slice_len.rs:5:6: 5:19\n+                                           // + span: $DIR/slice_len.rs:6:6: 6:19\n                                            // + literal: Const { ty: &[u32; 3], val: Unevaluated(main, [], Some(promoted[0])) }\n           _4 = _9;                         // scope 0 at $DIR/slice_len.rs:+1:6: +1:19\n           _3 = _4;                         // scope 0 at $DIR/slice_len.rs:+1:6: +1:19"}, {"sha": "eaaf34b960eb66a84bd0ef5f43aa95c3b26e3bcc", "filename": "src/test/mir-opt/const_prop/slice_len.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fslice_len.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fslice_len.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Fslice_len.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,3 +1,4 @@\n+// compile-flags: -Zmir-enable-passes=-SimplifyLocals-before-const-prop\n // EMIT_MIR_FOR_EACH_BIT_WIDTH\n \n // EMIT_MIR slice_len.main.ConstProp.diff"}, {"sha": "e4c92b617c6a31180d3888899e8b05ec6d046f96", "filename": "src/test/mir-opt/const_prop/tuple_literal_propagation.main.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Ftuple_literal_propagation.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop%2Ftuple_literal_propagation.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop%2Ftuple_literal_propagation.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -28,7 +28,6 @@\n       bb1: {\n           StorageDead(_3);                 // scope 1 at $DIR/tuple_literal_propagation.rs:+3:14: +3:15\n           StorageDead(_2);                 // scope 1 at $DIR/tuple_literal_propagation.rs:+3:15: +3:16\n-          nop;                             // scope 0 at $DIR/tuple_literal_propagation.rs:+0:11: +4:2\n           StorageDead(_1);                 // scope 0 at $DIR/tuple_literal_propagation.rs:+4:1: +4:2\n           return;                          // scope 0 at $DIR/tuple_literal_propagation.rs:+4:2: +4:2\n       }"}, {"sha": "ea9fec0aa15d1a6f0c09371fbbe1ecacb9bc2a98", "filename": "src/test/mir-opt/const_prop_miscompile.bar.ConstProp.diff", "status": "modified", "additions": 14, "deletions": 19, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop_miscompile.bar.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop_miscompile.bar.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop_miscompile.bar.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -4,37 +4,32 @@\n   fn bar() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/const_prop_miscompile.rs:+0:10: +0:10\n       let mut _1: (i32,);                  // in scope 0 at $DIR/const_prop_miscompile.rs:+1:9: +1:14\n-      let _2: ();                          // in scope 0 at $DIR/const_prop_miscompile.rs:+2:5: +4:6\n-      let mut _3: *mut i32;                // in scope 0 at $DIR/const_prop_miscompile.rs:+3:10: +3:22\n-      let mut _5: i32;                     // in scope 0 at $DIR/const_prop_miscompile.rs:+5:13: +5:20\n+      let mut _2: *mut i32;                // in scope 0 at $DIR/const_prop_miscompile.rs:+3:10: +3:22\n+      let mut _4: i32;                     // in scope 0 at $DIR/const_prop_miscompile.rs:+5:13: +5:20\n       scope 1 {\n           debug v => _1;                   // in scope 1 at $DIR/const_prop_miscompile.rs:+1:9: +1:14\n-          let _4: bool;                    // in scope 1 at $DIR/const_prop_miscompile.rs:+5:9: +5:10\n+          let _3: bool;                    // in scope 1 at $DIR/const_prop_miscompile.rs:+5:9: +5:10\n           scope 2 {\n           }\n           scope 3 {\n-              debug y => _4;               // in scope 3 at $DIR/const_prop_miscompile.rs:+5:9: +5:10\n+              debug y => _3;               // in scope 3 at $DIR/const_prop_miscompile.rs:+5:9: +5:10\n           }\n       }\n   \n       bb0: {\n           StorageLive(_1);                 // scope 0 at $DIR/const_prop_miscompile.rs:+1:9: +1:14\n           Deinit(_1);                      // scope 0 at $DIR/const_prop_miscompile.rs:+1:17: +1:21\n           (_1.0: i32) = const 1_i32;       // scope 0 at $DIR/const_prop_miscompile.rs:+1:17: +1:21\n-          StorageLive(_2);                 // scope 1 at $DIR/const_prop_miscompile.rs:+2:5: +4:6\n-          StorageLive(_3);                 // scope 2 at $DIR/const_prop_miscompile.rs:+3:10: +3:22\n-          _3 = &raw mut (_1.0: i32);       // scope 2 at $DIR/const_prop_miscompile.rs:+3:10: +3:22\n-          (*_3) = const 5_i32;             // scope 2 at $DIR/const_prop_miscompile.rs:+3:9: +3:26\n-          StorageDead(_3);                 // scope 2 at $DIR/const_prop_miscompile.rs:+3:26: +3:27\n-          nop;                             // scope 2 at $DIR/const_prop_miscompile.rs:+2:5: +4:6\n-          StorageDead(_2);                 // scope 1 at $DIR/const_prop_miscompile.rs:+4:5: +4:6\n-          StorageLive(_4);                 // scope 1 at $DIR/const_prop_miscompile.rs:+5:9: +5:10\n-          StorageLive(_5);                 // scope 1 at $DIR/const_prop_miscompile.rs:+5:13: +5:20\n-          _5 = (_1.0: i32);                // scope 1 at $DIR/const_prop_miscompile.rs:+5:15: +5:18\n-          _4 = Eq(move _5, const 5_i32);   // scope 1 at $DIR/const_prop_miscompile.rs:+5:13: +5:25\n-          StorageDead(_5);                 // scope 1 at $DIR/const_prop_miscompile.rs:+5:24: +5:25\n-          nop;                             // scope 0 at $DIR/const_prop_miscompile.rs:+0:10: +6:2\n-          StorageDead(_4);                 // scope 1 at $DIR/const_prop_miscompile.rs:+6:1: +6:2\n+          StorageLive(_2);                 // scope 2 at $DIR/const_prop_miscompile.rs:+3:10: +3:22\n+          _2 = &raw mut (_1.0: i32);       // scope 2 at $DIR/const_prop_miscompile.rs:+3:10: +3:22\n+          (*_2) = const 5_i32;             // scope 2 at $DIR/const_prop_miscompile.rs:+3:9: +3:26\n+          StorageDead(_2);                 // scope 2 at $DIR/const_prop_miscompile.rs:+3:26: +3:27\n+          StorageLive(_3);                 // scope 1 at $DIR/const_prop_miscompile.rs:+5:9: +5:10\n+          StorageLive(_4);                 // scope 1 at $DIR/const_prop_miscompile.rs:+5:13: +5:20\n+          _4 = (_1.0: i32);                // scope 1 at $DIR/const_prop_miscompile.rs:+5:15: +5:18\n+          _3 = Eq(move _4, const 5_i32);   // scope 1 at $DIR/const_prop_miscompile.rs:+5:13: +5:25\n+          StorageDead(_4);                 // scope 1 at $DIR/const_prop_miscompile.rs:+5:24: +5:25\n+          StorageDead(_3);                 // scope 1 at $DIR/const_prop_miscompile.rs:+6:1: +6:2\n           StorageDead(_1);                 // scope 0 at $DIR/const_prop_miscompile.rs:+6:1: +6:2\n           return;                          // scope 0 at $DIR/const_prop_miscompile.rs:+6:2: +6:2\n       }"}, {"sha": "043f404741710a9af58bb2d0f7d7781e350659f9", "filename": "src/test/mir-opt/const_prop_miscompile.foo.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop_miscompile.foo.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fconst_prop_miscompile.foo.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fconst_prop_miscompile.foo.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -27,7 +27,6 @@\n           _4 = (_1.0: i32);                // scope 1 at $DIR/const_prop_miscompile.rs:+3:15: +3:18\n           _3 = Eq(move _4, const 5_i32);   // scope 1 at $DIR/const_prop_miscompile.rs:+3:13: +3:25\n           StorageDead(_4);                 // scope 1 at $DIR/const_prop_miscompile.rs:+3:24: +3:25\n-          nop;                             // scope 0 at $DIR/const_prop_miscompile.rs:+0:10: +4:2\n           StorageDead(_3);                 // scope 1 at $DIR/const_prop_miscompile.rs:+4:1: +4:2\n           StorageDead(_1);                 // scope 0 at $DIR/const_prop_miscompile.rs:+4:1: +4:2\n           return;                          // scope 0 at $DIR/const_prop_miscompile.rs:+4:2: +4:2"}, {"sha": "02aafd7acc4ca5660cae57c17a18394031362f13", "filename": "src/test/mir-opt/dataflow-const-prop/inherit_overflow.main.DataflowConstProp.diff", "status": "modified", "additions": 13, "deletions": 19, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fdataflow-const-prop%2Finherit_overflow.main.DataflowConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fdataflow-const-prop%2Finherit_overflow.main.DataflowConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdataflow-const-prop%2Finherit_overflow.main.DataflowConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -5,40 +5,34 @@\n       let mut _0: ();                      // return place in scope 0 at $DIR/inherit_overflow.rs:+0:11: +0:11\n       let mut _1: u8;                      // in scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n       let mut _2: u8;                      // in scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n-      let mut _3: u8;                      // in scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n       scope 1 {\n       }\n       scope 2 (inlined <u8 as Add>::add) { // at $DIR/inherit_overflow.rs:7:13: 7:47\n-          debug self => _2;                // in scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n-          debug other => _3;               // in scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n+          debug self => _1;                // in scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n+          debug other => _2;               // in scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n+          let mut _3: u8;                  // in scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n           let mut _4: u8;                  // in scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n-          let mut _5: u8;                  // in scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n-          let mut _6: (u8, bool);          // in scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n+          let mut _5: (u8, bool);          // in scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n       }\n   \n       bb0: {\n           StorageLive(_1);                 // scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n+          _1 = const u8::MAX;              // scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n           StorageLive(_2);                 // scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n-          _2 = const u8::MAX;              // scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n-          StorageLive(_3);                 // scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n-          _3 = const 1_u8;                 // scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n+          _2 = const 1_u8;                 // scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n+          StorageLive(_3);                 // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n+          _3 = const u8::MAX;              // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n           StorageLive(_4);                 // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n-          _4 = const u8::MAX;              // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n-          StorageLive(_5);                 // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n-          _5 = const 1_u8;                 // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n-          _6 = CheckedAdd(const u8::MAX, const 1_u8); // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n-          assert(!move (_6.1: bool), \"attempt to compute `{} + {}`, which would overflow\", const u8::MAX, const 1_u8) -> bb1; // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n+          _4 = const 1_u8;                 // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n+          _5 = CheckedAdd(const u8::MAX, const 1_u8); // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n+          assert(!move (_5.1: bool), \"attempt to compute `{} + {}`, which would overflow\", const u8::MAX, const 1_u8) -> bb1; // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n       }\n   \n       bb1: {\n--         _1 = move (_6.0: u8);            // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n-+         _1 = const 0_u8;                 // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n-          StorageDead(_5);                 // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n           StorageDead(_4);                 // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n-          StorageDead(_3);                 // scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n+          StorageDead(_3);                 // scope 2 at $SRC_DIR/core/src/ops/arith.rs:LL:COL\n           StorageDead(_2);                 // scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n-          StorageDead(_1);                 // scope 0 at $DIR/inherit_overflow.rs:+3:47: +3:48\n-          nop;                             // scope 0 at $DIR/inherit_overflow.rs:+0:11: +4:2\n+          StorageDead(_1);                 // scope 0 at $DIR/inherit_overflow.rs:+3:13: +3:47\n           return;                          // scope 0 at $DIR/inherit_overflow.rs:+4:2: +4:2\n       }\n   }"}, {"sha": "cd3b792fb751d9bbf592e6c72dd0d62033ba48a0", "filename": "src/test/mir-opt/dead-store-elimination/cycle.cycle.DeadStoreElimination.diff", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fdead-store-elimination%2Fcycle.cycle.DeadStoreElimination.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fdead-store-elimination%2Fcycle.cycle.DeadStoreElimination.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdead-store-elimination%2Fcycle.cycle.DeadStoreElimination.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -59,14 +59,6 @@\n -         _4 = const ();                   // scope 0 at $DIR/cycle.rs:+3:18: +8:6\n -         StorageDead(_6);                 // scope 0 at $DIR/cycle.rs:+8:5: +8:6\n +         StorageLive(_5);                 // scope 0 at $DIR/cycle.rs:+4:13: +4:17\n-+         nop;                             // scope 0 at $DIR/cycle.rs:+4:20: +4:21\n-+         nop;                             // scope 1 at $DIR/cycle.rs:+5:13: +5:14\n-+         nop;                             // scope 1 at $DIR/cycle.rs:+5:9: +5:14\n-+         nop;                             // scope 1 at $DIR/cycle.rs:+6:13: +6:14\n-+         nop;                             // scope 1 at $DIR/cycle.rs:+6:9: +6:14\n-+         nop;                             // scope 1 at $DIR/cycle.rs:+7:13: +7:17\n-+         nop;                             // scope 1 at $DIR/cycle.rs:+7:9: +7:17\n-+         nop;                             // scope 0 at $DIR/cycle.rs:+3:18: +8:6\n           StorageDead(_5);                 // scope 0 at $DIR/cycle.rs:+8:5: +8:6\n +         StorageDead(_4);                 // scope 0 at $DIR/cycle.rs:+8:5: +8:6\n           goto -> bb1;                     // scope 0 at $DIR/cycle.rs:+3:5: +8:6"}, {"sha": "26068931aaf2cc0052bb607636efeaea43c90dfd", "filename": "src/test/mir-opt/dest-prop/dead_stores_better.f.DestinationPropagation.after.mir", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fdead_stores_better.f.DestinationPropagation.after.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fdead_stores_better.f.DestinationPropagation.after.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Fdead_stores_better.f.DestinationPropagation.after.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -13,7 +13,6 @@ fn f(_1: usize) -> usize {\n     bb0: {\n         nop;                             // scope 0 at $DIR/dead_stores_better.rs:+1:9: +1:10\n         nop;                             // scope 0 at $DIR/dead_stores_better.rs:+1:13: +1:14\n-        nop;                             // scope 1 at $DIR/dead_stores_better.rs:+2:5: +2:10\n         nop;                             // scope 1 at $DIR/dead_stores_better.rs:+3:9: +3:10\n         nop;                             // scope 1 at $DIR/dead_stores_better.rs:+3:9: +3:10\n         nop;                             // scope 1 at $DIR/dead_stores_better.rs:+3:5: +3:10"}, {"sha": "fbed3178801f0a275a451d3bb2fb577634a1ddba", "filename": "src/test/mir-opt/dest-prop/union.main.DestinationPropagation.diff", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.main.DestinationPropagation.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.main.DestinationPropagation.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdest-prop%2Funion.main.DestinationPropagation.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -25,11 +25,8 @@\n       }\n   \n       bb1: {\n-          nop;                             // scope 0 at $DIR/union.rs:+5:14: +5:30\n-          nop;                             // scope 0 at $DIR/union.rs:+5:14: +5:30\n           StorageDead(_2);                 // scope 0 at $DIR/union.rs:+5:29: +5:30\n           StorageLive(_3);                 // scope 1 at $DIR/union.rs:+7:10: +7:26\n-          nop;                             // scope 2 at $DIR/union.rs:+7:19: +7:24\n           StorageDead(_3);                 // scope 1 at $DIR/union.rs:+7:26: +7:27\n           StorageDead(_1);                 // scope 0 at $DIR/union.rs:+8:1: +8:2\n           return;                          // scope 0 at $DIR/union.rs:+8:2: +8:2"}, {"sha": "bf3bcfdb5944266469c7ac301f05337fbd97b776", "filename": "src/test/mir-opt/issue_73223.main.SimplifyArmIdentity.diff", "status": "modified", "additions": 83, "deletions": 93, "changes": 176, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fissue_73223.main.SimplifyArmIdentity.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fissue_73223.main.SimplifyArmIdentity.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fissue_73223.main.SimplifyArmIdentity.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -7,41 +7,36 @@\n       let mut _2: std::option::Option<i32>; // in scope 0 at $DIR/issue_73223.rs:+1:23: +1:30\n       let mut _3: isize;                   // in scope 0 at $DIR/issue_73223.rs:+2:9: +2:16\n       let _4: i32;                         // in scope 0 at $DIR/issue_73223.rs:+2:14: +2:15\n-      let mut _5: !;                       // in scope 0 at $DIR/issue_73223.rs:+3:17: +3:23\n-      let mut _7: i32;                     // in scope 0 at $DIR/issue_73223.rs:+6:22: +6:27\n-      let _8: ();                          // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _9: (&i32, &i32);            // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _10: &i32;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _11: &i32;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let _12: i32;                        // in scope 0 at $DIR/issue_73223.rs:+7:23: +7:24\n-      let mut _15: bool;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _16: bool;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _17: i32;                    // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _18: i32;                    // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _19: !;                      // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let _21: !;                          // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _22: core::panicking::AssertKind; // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _23: &i32;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let _24: &i32;                       // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let mut _6: i32;                     // in scope 0 at $DIR/issue_73223.rs:+6:22: +6:27\n+      let mut _7: &i32;                    // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let mut _8: &i32;                    // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let mut _11: bool;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let mut _12: bool;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let mut _13: i32;                    // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let mut _14: i32;                    // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let _16: !;                          // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let mut _17: core::panicking::AssertKind; // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let mut _18: &i32;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let _19: &i32;                       // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let mut _20: &i32;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let _21: &i32;                       // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let mut _22: std::option::Option<std::fmt::Arguments<'_>>; // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+      let mut _24: &i32;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n       let mut _25: &i32;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let _26: &i32;                       // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _27: std::option::Option<std::fmt::Arguments<'_>>; // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _29: &i32;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-      let mut _30: &i32;                   // in scope 0 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n       scope 1 {\n           debug split => _1;               // in scope 1 at $DIR/issue_73223.rs:+1:9: +1:14\n-          let _6: std::option::Option<i32>; // in scope 1 at $DIR/issue_73223.rs:+6:9: +6:14\n+          let _5: std::option::Option<i32>; // in scope 1 at $DIR/issue_73223.rs:+6:9: +6:14\n           scope 3 {\n-              debug _prev => _6;           // in scope 3 at $DIR/issue_73223.rs:+6:9: +6:14\n-              let _13: &i32;               // in scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-              let _14: &i32;               // in scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-              let mut _28: &i32;           // in scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+              debug _prev => _5;           // in scope 3 at $DIR/issue_73223.rs:+6:9: +6:14\n+              let _9: &i32;                // in scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+              let _10: &i32;               // in scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+              let mut _23: &i32;           // in scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n               scope 4 {\n-                  debug left_val => _13;   // in scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-                  debug right_val => _14;  // in scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-                  let _20: core::panicking::AssertKind; // in scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+                  debug left_val => _9;    // in scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+                  debug right_val => _10;  // in scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+                  let _15: core::panicking::AssertKind; // in scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n                   scope 5 {\n-                      debug kind => _20;   // in scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+                      debug kind => _15;   // in scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n                   }\n               }\n           }\n@@ -61,7 +56,6 @@\n       }\n   \n       bb1: {\n-          nop;                             // scope 0 at $DIR/issue_73223.rs:+3:17: +3:23\n           StorageDead(_2);                 // scope 0 at $DIR/issue_73223.rs:+4:6: +4:7\n           StorageDead(_1);                 // scope 0 at $DIR/issue_73223.rs:+8:1: +8:2\n           return;                          // scope 0 at $DIR/issue_73223.rs:+8:2: +8:2\n@@ -77,70 +71,69 @@\n           _1 = _4;                         // scope 2 at $DIR/issue_73223.rs:+2:20: +2:21\n           StorageDead(_4);                 // scope 0 at $DIR/issue_73223.rs:+2:20: +2:21\n           StorageDead(_2);                 // scope 0 at $DIR/issue_73223.rs:+4:6: +4:7\n-          StorageLive(_6);                 // scope 1 at $DIR/issue_73223.rs:+6:9: +6:14\n-          StorageLive(_7);                 // scope 1 at $DIR/issue_73223.rs:+6:22: +6:27\n-          _7 = _1;                         // scope 1 at $DIR/issue_73223.rs:+6:22: +6:27\n-          Deinit(_6);                      // scope 1 at $DIR/issue_73223.rs:+6:17: +6:28\n-          ((_6 as Some).0: i32) = move _7; // scope 1 at $DIR/issue_73223.rs:+6:17: +6:28\n-          discriminant(_6) = 1;            // scope 1 at $DIR/issue_73223.rs:+6:17: +6:28\n-          StorageDead(_7);                 // scope 1 at $DIR/issue_73223.rs:+6:27: +6:28\n+          StorageLive(_5);                 // scope 1 at $DIR/issue_73223.rs:+6:9: +6:14\n+          StorageLive(_6);                 // scope 1 at $DIR/issue_73223.rs:+6:22: +6:27\n+          _6 = _1;                         // scope 1 at $DIR/issue_73223.rs:+6:22: +6:27\n+          Deinit(_5);                      // scope 1 at $DIR/issue_73223.rs:+6:17: +6:28\n+          ((_5 as Some).0: i32) = move _6; // scope 1 at $DIR/issue_73223.rs:+6:17: +6:28\n+          discriminant(_5) = 1;            // scope 1 at $DIR/issue_73223.rs:+6:17: +6:28\n+          StorageDead(_6);                 // scope 1 at $DIR/issue_73223.rs:+6:27: +6:28\n+          StorageLive(_24);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_25);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_7);                 // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _7 = &_1;                        // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n           StorageLive(_8);                 // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_29);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_30);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_10);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _10 = &_1;                       // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_11);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _28 = const _;                   // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _23 = const _;                   // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n                                            // mir::Constant\n                                            // + span: $SRC_DIR/core/src/macros/mod.rs:LL:COL\n                                            // + literal: Const { ty: &i32, val: Unevaluated(main, [], Some(promoted[0])) }\n-          _11 = _28;                       // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          Deinit(_29);                     // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          Deinit(_30);                     // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _29 = move _10;                  // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _30 = move _11;                  // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageDead(_11);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageDead(_10);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_13);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _13 = _29;                       // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_14);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _14 = _30;                       // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_15);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_16);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_17);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _17 = (*_13);                    // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_18);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _18 = const 1_i32;               // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _16 = Eq(move _17, const 1_i32); // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageDead(_18);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageDead(_17);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _15 = Not(move _16);             // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageDead(_16);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          switchInt(move _15) -> [0: bb5, otherwise: bb4]; // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _8 = _23;                        // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          Deinit(_24);                     // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          Deinit(_25);                     // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _24 = move _7;                   // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _25 = move _8;                   // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageDead(_8);                 // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageDead(_7);                 // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_9);                 // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _9 = _24;                        // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_10);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _10 = _25;                       // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_11);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_12);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_13);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _13 = (*_9);                     // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_14);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _14 = const 1_i32;               // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _12 = Eq(move _13, const 1_i32); // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageDead(_14);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageDead(_13);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _11 = Not(move _12);             // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageDead(_12);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          switchInt(move _11) -> [0: bb5, otherwise: bb4]; // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n       }\n   \n       bb4: {\n-          StorageLive(_20);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          Deinit(_20);                     // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          discriminant(_20) = 0;           // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_21);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_22);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _22 = const core::panicking::AssertKind::Eq; // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_15);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          Deinit(_15);                     // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          discriminant(_15) = 0;           // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_16);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_17);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _17 = const core::panicking::AssertKind::Eq; // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n                                            // mir::Constant\n                                            // + span: $SRC_DIR/core/src/macros/mod.rs:LL:COL\n                                            // + literal: Const { ty: core::panicking::AssertKind, val: Value(Scalar(0x00)) }\n-          StorageLive(_23);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_24);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _24 = _13;                       // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _23 = _24;                       // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_25);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_26);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _26 = _14;                       // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _25 = _26;                       // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageLive(_27);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          Deinit(_27);                     // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          discriminant(_27) = 0;           // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          _21 = core::panicking::assert_failed::<i32, i32>(const core::panicking::AssertKind::Eq, move _23, move _25, move _27); // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_18);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_19);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _19 = _9;                        // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _18 = _19;                       // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_20);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_21);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _21 = _10;                       // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _20 = _21;                       // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageLive(_22);                // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          Deinit(_22);                     // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          discriminant(_22) = 0;           // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          _16 = core::panicking::assert_failed::<i32, i32>(const core::panicking::AssertKind::Eq, move _18, move _20, move _22); // scope 5 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n                                            // mir::Constant\n                                            // + span: $SRC_DIR/core/src/macros/mod.rs:LL:COL\n                                            // + literal: Const { ty: for<'a, 'b, 'c> fn(core::panicking::AssertKind, &'a i32, &'b i32, Option<Arguments<'c>>) -> ! {core::panicking::assert_failed::<i32, i32>}, val: Value(<ZST>) }\n@@ -150,15 +143,12 @@\n       }\n   \n       bb5: {\n-          nop;                             // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageDead(_15);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageDead(_14);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageDead(_13);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageDead(_29);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageDead(_30);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          StorageDead(_8);                 // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n-          nop;                             // scope 0 at $DIR/issue_73223.rs:+0:11: +8:2\n-          StorageDead(_6);                 // scope 1 at $DIR/issue_73223.rs:+8:1: +8:2\n+          StorageDead(_11);                // scope 4 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageDead(_10);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageDead(_9);                 // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageDead(_24);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageDead(_25);                // scope 3 at $SRC_DIR/core/src/macros/mod.rs:LL:COL\n+          StorageDead(_5);                 // scope 1 at $DIR/issue_73223.rs:+8:1: +8:2\n           StorageDead(_1);                 // scope 0 at $DIR/issue_73223.rs:+8:1: +8:2\n           return;                          // scope 0 at $DIR/issue_73223.rs:+8:2: +8:2\n       }"}, {"sha": "c24543daeacb7939e50261e7f38a4ba7dab1e932", "filename": "src/test/mir-opt/issue_76432.test.SimplifyComparisonIntegral.diff", "status": "modified", "additions": 23, "deletions": 52, "changes": 75, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fissue_76432.test.SimplifyComparisonIntegral.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fissue_76432.test.SimplifyComparisonIntegral.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fissue_76432.test.SimplifyComparisonIntegral.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -11,26 +11,19 @@\n       let mut _6: T;                       // in scope 0 at $DIR/issue_76432.rs:+1:21: +1:22\n       let mut _7: T;                       // in scope 0 at $DIR/issue_76432.rs:+1:24: +1:25\n       let mut _8: T;                       // in scope 0 at $DIR/issue_76432.rs:+1:27: +1:28\n-      let _9: [*const T; 3];               // in scope 0 at $DIR/issue_76432.rs:+2:5: +5:6\n+      let mut _9: usize;                   // in scope 0 at $DIR/issue_76432.rs:+3:9: +3:33\n       let mut _10: usize;                  // in scope 0 at $DIR/issue_76432.rs:+3:9: +3:33\n-      let mut _11: usize;                  // in scope 0 at $DIR/issue_76432.rs:+3:9: +3:33\n-      let mut _12: bool;                   // in scope 0 at $DIR/issue_76432.rs:+3:9: +3:33\n-      let mut _16: *const T;               // in scope 0 at $DIR/issue_76432.rs:+3:38: +3:52\n-      let mut _17: *const T;               // in scope 0 at $DIR/issue_76432.rs:+3:38: +3:52\n-      let mut _18: *const T;               // in scope 0 at $DIR/issue_76432.rs:+3:54: +3:68\n-      let mut _19: *const T;               // in scope 0 at $DIR/issue_76432.rs:+3:54: +3:68\n-      let mut _20: *const T;               // in scope 0 at $DIR/issue_76432.rs:+3:70: +3:84\n-      let mut _21: *const T;               // in scope 0 at $DIR/issue_76432.rs:+3:70: +3:84\n-      let mut _22: !;                      // in scope 0 at $SRC_DIR/core/src/panic.rs:LL:COL\n+      let mut _11: bool;                   // in scope 0 at $DIR/issue_76432.rs:+3:9: +3:33\n+      let mut _15: !;                      // in scope 0 at $SRC_DIR/core/src/panic.rs:LL:COL\n       scope 1 {\n           debug v => _2;                   // in scope 1 at $DIR/issue_76432.rs:+1:9: +1:10\n-          let _13: &T;                     // in scope 1 at $DIR/issue_76432.rs:+3:10: +3:16\n-          let _14: &T;                     // in scope 1 at $DIR/issue_76432.rs:+3:18: +3:24\n-          let _15: &T;                     // in scope 1 at $DIR/issue_76432.rs:+3:26: +3:32\n+          let _12: &T;                     // in scope 1 at $DIR/issue_76432.rs:+3:10: +3:16\n+          let _13: &T;                     // in scope 1 at $DIR/issue_76432.rs:+3:18: +3:24\n+          let _14: &T;                     // in scope 1 at $DIR/issue_76432.rs:+3:26: +3:32\n           scope 2 {\n-              debug v1 => _13;             // in scope 2 at $DIR/issue_76432.rs:+3:10: +3:16\n-              debug v2 => _14;             // in scope 2 at $DIR/issue_76432.rs:+3:18: +3:24\n-              debug v3 => _15;             // in scope 2 at $DIR/issue_76432.rs:+3:26: +3:32\n+              debug v1 => _12;             // in scope 2 at $DIR/issue_76432.rs:+3:10: +3:16\n+              debug v2 => _13;             // in scope 2 at $DIR/issue_76432.rs:+3:18: +3:24\n+              debug v3 => _14;             // in scope 2 at $DIR/issue_76432.rs:+3:26: +3:32\n           }\n       }\n   \n@@ -54,18 +47,17 @@\n           _2 = move _3 as &[T] (Pointer(Unsize)); // scope 0 at $DIR/issue_76432.rs:+1:19: +1:29\n           StorageDead(_3);                 // scope 0 at $DIR/issue_76432.rs:+1:28: +1:29\n           StorageDead(_4);                 // scope 0 at $DIR/issue_76432.rs:+1:29: +1:30\n-          StorageLive(_9);                 // scope 1 at $DIR/issue_76432.rs:+2:5: +5:6\n-          _10 = Len((*_2));                // scope 1 at $DIR/issue_76432.rs:+3:9: +3:33\n-          _11 = const 3_usize;             // scope 1 at $DIR/issue_76432.rs:+3:9: +3:33\n--         _12 = Eq(move _10, const 3_usize); // scope 1 at $DIR/issue_76432.rs:+3:9: +3:33\n--         switchInt(move _12) -> [0: bb1, otherwise: bb2]; // scope 1 at $DIR/issue_76432.rs:+3:9: +3:33\n+          _9 = Len((*_2));                 // scope 1 at $DIR/issue_76432.rs:+3:9: +3:33\n+          _10 = const 3_usize;             // scope 1 at $DIR/issue_76432.rs:+3:9: +3:33\n+-         _11 = Eq(move _9, const 3_usize); // scope 1 at $DIR/issue_76432.rs:+3:9: +3:33\n+-         switchInt(move _11) -> [0: bb1, otherwise: bb2]; // scope 1 at $DIR/issue_76432.rs:+3:9: +3:33\n +         nop;                             // scope 1 at $DIR/issue_76432.rs:+3:9: +3:33\n-+         switchInt(move _10) -> [3: bb2, otherwise: bb1]; // scope 1 at $DIR/issue_76432.rs:+3:9: +3:33\n++         switchInt(move _9) -> [3: bb2, otherwise: bb1]; // scope 1 at $DIR/issue_76432.rs:+3:9: +3:33\n       }\n   \n       bb1: {\n-          StorageLive(_22);                // scope 1 at $SRC_DIR/core/src/panic.rs:LL:COL\n-          _22 = core::panicking::panic(const \"internal error: entered unreachable code\"); // scope 1 at $SRC_DIR/core/src/panic.rs:LL:COL\n+          StorageLive(_15);                // scope 1 at $SRC_DIR/core/src/panic.rs:LL:COL\n+          _15 = core::panicking::panic(const \"internal error: entered unreachable code\"); // scope 1 at $SRC_DIR/core/src/panic.rs:LL:COL\n                                            // mir::Constant\n                                            // + span: $SRC_DIR/core/src/panic.rs:LL:COL\n                                            // + literal: Const { ty: fn(&'static str) -> ! {core::panicking::panic}, val: Value(<ZST>) }\n@@ -75,36 +67,15 @@\n       }\n   \n       bb2: {\n-          StorageLive(_13);                // scope 1 at $DIR/issue_76432.rs:+3:10: +3:16\n-          _13 = &(*_2)[0 of 3];            // scope 1 at $DIR/issue_76432.rs:+3:10: +3:16\n-          StorageLive(_14);                // scope 1 at $DIR/issue_76432.rs:+3:18: +3:24\n-          _14 = &(*_2)[1 of 3];            // scope 1 at $DIR/issue_76432.rs:+3:18: +3:24\n-          StorageLive(_15);                // scope 1 at $DIR/issue_76432.rs:+3:26: +3:32\n-          _15 = &(*_2)[2 of 3];            // scope 1 at $DIR/issue_76432.rs:+3:26: +3:32\n-          StorageLive(_16);                // scope 2 at $DIR/issue_76432.rs:+3:38: +3:52\n-          StorageLive(_17);                // scope 2 at $DIR/issue_76432.rs:+3:38: +3:52\n-          _17 = &raw const (*_13);         // scope 2 at $DIR/issue_76432.rs:+3:38: +3:40\n-          _16 = _17;                       // scope 2 at $DIR/issue_76432.rs:+3:38: +3:52\n-          StorageLive(_18);                // scope 2 at $DIR/issue_76432.rs:+3:54: +3:68\n-          StorageLive(_19);                // scope 2 at $DIR/issue_76432.rs:+3:54: +3:68\n-          _19 = &raw const (*_14);         // scope 2 at $DIR/issue_76432.rs:+3:54: +3:56\n-          _18 = _19;                       // scope 2 at $DIR/issue_76432.rs:+3:54: +3:68\n-          StorageLive(_20);                // scope 2 at $DIR/issue_76432.rs:+3:70: +3:84\n-          StorageLive(_21);                // scope 2 at $DIR/issue_76432.rs:+3:70: +3:84\n-          _21 = &raw const (*_15);         // scope 2 at $DIR/issue_76432.rs:+3:70: +3:72\n-          _20 = _21;                       // scope 2 at $DIR/issue_76432.rs:+3:70: +3:84\n-          _9 = [move _16, move _18, move _20]; // scope 2 at $DIR/issue_76432.rs:+3:37: +3:85\n-          StorageDead(_21);                // scope 2 at $DIR/issue_76432.rs:+3:84: +3:85\n-          StorageDead(_20);                // scope 2 at $DIR/issue_76432.rs:+3:84: +3:85\n-          StorageDead(_19);                // scope 2 at $DIR/issue_76432.rs:+3:84: +3:85\n-          StorageDead(_18);                // scope 2 at $DIR/issue_76432.rs:+3:84: +3:85\n-          StorageDead(_17);                // scope 2 at $DIR/issue_76432.rs:+3:84: +3:85\n-          StorageDead(_16);                // scope 2 at $DIR/issue_76432.rs:+3:84: +3:85\n-          StorageDead(_15);                // scope 1 at $DIR/issue_76432.rs:+3:84: +3:85\n+          StorageLive(_12);                // scope 1 at $DIR/issue_76432.rs:+3:10: +3:16\n+          _12 = &(*_2)[0 of 3];            // scope 1 at $DIR/issue_76432.rs:+3:10: +3:16\n+          StorageLive(_13);                // scope 1 at $DIR/issue_76432.rs:+3:18: +3:24\n+          _13 = &(*_2)[1 of 3];            // scope 1 at $DIR/issue_76432.rs:+3:18: +3:24\n+          StorageLive(_14);                // scope 1 at $DIR/issue_76432.rs:+3:26: +3:32\n+          _14 = &(*_2)[2 of 3];            // scope 1 at $DIR/issue_76432.rs:+3:26: +3:32\n           StorageDead(_14);                // scope 1 at $DIR/issue_76432.rs:+3:84: +3:85\n           StorageDead(_13);                // scope 1 at $DIR/issue_76432.rs:+3:84: +3:85\n-          StorageDead(_9);                 // scope 1 at $DIR/issue_76432.rs:+5:6: +5:7\n-          nop;                             // scope 0 at $DIR/issue_76432.rs:+0:44: +6:2\n+          StorageDead(_12);                // scope 1 at $DIR/issue_76432.rs:+3:84: +3:85\n           StorageDead(_5);                 // scope 0 at $DIR/issue_76432.rs:+6:1: +6:2\n           StorageDead(_2);                 // scope 0 at $DIR/issue_76432.rs:+6:1: +6:2\n           return;                          // scope 0 at $DIR/issue_76432.rs:+6:2: +6:2"}, {"sha": "f9e22866bee9947be9243c53747709f596015dc8", "filename": "src/test/mir-opt/simplify_if.main.SimplifyConstCondition-after-const-prop.diff", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_if.main.SimplifyConstCondition-after-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_if.main.SimplifyConstCondition-after-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_if.main.SimplifyConstCondition-after-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -23,12 +23,10 @@\n   \n       bb2: {\n           StorageDead(_2);                 // scope 0 at $DIR/simplify_if.rs:+2:15: +2:16\n-          nop;                             // scope 0 at $DIR/simplify_if.rs:+1:14: +3:6\n           goto -> bb4;                     // scope 0 at $DIR/simplify_if.rs:+1:5: +3:6\n       }\n   \n       bb3: {\n-          nop;                             // scope 0 at $DIR/simplify_if.rs:+3:6: +3:6\n           goto -> bb4;                     // scope 0 at $DIR/simplify_if.rs:+1:5: +3:6\n       }\n   "}, {"sha": "1be27e96397de144c3f25752c79a1545ea5fb755", "filename": "src/test/mir-opt/simplify_locals.c.SimplifyLocals-before-const-prop.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.c.SimplifyLocals-before-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.c.SimplifyLocals-before-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals.c.SimplifyLocals-before-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `c` before SimplifyLocals\n-+ // MIR for `c` after SimplifyLocals\n+- // MIR for `c` before SimplifyLocals-before-const-prop\n++ // MIR for `c` after SimplifyLocals-before-const-prop\n   \n   fn c() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/simplify_locals.rs:+0:8: +0:8", "previous_filename": "src/test/mir-opt/simplify_locals.c.SimplifyLocals.diff"}, {"sha": "9817380301862f9d5aeffb9b83d220babdccc957", "filename": "src/test/mir-opt/simplify_locals.d1.SimplifyLocals-before-const-prop.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.d1.SimplifyLocals-before-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.d1.SimplifyLocals-before-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals.d1.SimplifyLocals-before-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `d1` before SimplifyLocals\n-+ // MIR for `d1` after SimplifyLocals\n+- // MIR for `d1` before SimplifyLocals-before-const-prop\n++ // MIR for `d1` after SimplifyLocals-before-const-prop\n   \n   fn d1() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/simplify_locals.rs:+0:9: +0:9", "previous_filename": "src/test/mir-opt/simplify_locals.d1.SimplifyLocals.diff"}, {"sha": "b152dc8cca3a9ce12a2697a455e4eedd6f672435", "filename": "src/test/mir-opt/simplify_locals.d2.SimplifyLocals-before-const-prop.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.d2.SimplifyLocals-before-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.d2.SimplifyLocals-before-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals.d2.SimplifyLocals-before-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `d2` before SimplifyLocals\n-+ // MIR for `d2` after SimplifyLocals\n+- // MIR for `d2` before SimplifyLocals-before-const-prop\n++ // MIR for `d2` after SimplifyLocals-before-const-prop\n   \n   fn d2() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/simplify_locals.rs:+0:9: +0:9", "previous_filename": "src/test/mir-opt/simplify_locals.d2.SimplifyLocals.diff"}, {"sha": "9ca1dbbd071b06f43af07edb34f581e2f83f20fb", "filename": "src/test/mir-opt/simplify_locals.expose_addr.SimplifyLocals-before-const-prop.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.expose_addr.SimplifyLocals-before-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.expose_addr.SimplifyLocals-before-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals.expose_addr.SimplifyLocals-before-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `expose_addr` before SimplifyLocals\n-+ // MIR for `expose_addr` after SimplifyLocals\n+- // MIR for `expose_addr` before SimplifyLocals-before-const-prop\n++ // MIR for `expose_addr` after SimplifyLocals-before-const-prop\n   \n   fn expose_addr(_1: *const usize) -> () {\n       debug p => _1;                       // in scope 0 at $DIR/simplify_locals.rs:+0:16: +0:17", "previous_filename": "src/test/mir-opt/simplify_locals.expose_addr.SimplifyLocals.diff"}, {"sha": "19dacb427f5773dcdd87a6801313c771eb099ab0", "filename": "src/test/mir-opt/simplify_locals.r.SimplifyLocals-before-const-prop.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.r.SimplifyLocals-before-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.r.SimplifyLocals-before-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals.r.SimplifyLocals-before-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `r` before SimplifyLocals\n-+ // MIR for `r` after SimplifyLocals\n+- // MIR for `r` before SimplifyLocals-before-const-prop\n++ // MIR for `r` after SimplifyLocals-before-const-prop\n   \n   fn r() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/simplify_locals.rs:+0:8: +0:8", "previous_filename": "src/test/mir-opt/simplify_locals.r.SimplifyLocals.diff"}, {"sha": "7bbc0481c68a49a8010d1c228423a6cc413df2f6", "filename": "src/test/mir-opt/simplify_locals.rs", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,4 +1,4 @@\n-// unit-test: SimplifyLocals\n+// unit-test: SimplifyLocals-before-const-prop\n \n \n #![feature(thread_local)]\n@@ -9,26 +9,26 @@ enum E {\n      B,\n }\n \n-// EMIT_MIR simplify_locals.c.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals.c.SimplifyLocals-before-const-prop.diff\n fn c() {\n     let bytes = [0u8; 10];\n     // Unused cast\n     let _: &[u8] = &bytes;\n }\n \n-// EMIT_MIR simplify_locals.d1.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals.d1.SimplifyLocals-before-const-prop.diff\n fn d1() {\n     // Unused set discriminant\n     let _ = E::A;\n }\n \n-// EMIT_MIR simplify_locals.d2.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals.d2.SimplifyLocals-before-const-prop.diff\n fn d2() {\n     // Unused set discriminant\n     {(10, E::A)}.1 = E::B;\n }\n \n-// EMIT_MIR simplify_locals.r.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals.r.SimplifyLocals-before-const-prop.diff\n fn r() {\n     let mut a = 1;\n     // Unused references\n@@ -38,31 +38,31 @@ fn r() {\n \n #[thread_local] static mut X: u32 = 0;\n \n-// EMIT_MIR simplify_locals.t1.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals.t1.SimplifyLocals-before-const-prop.diff\n fn t1() {\n     // Unused thread local\n     unsafe { X };\n }\n \n-// EMIT_MIR simplify_locals.t2.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals.t2.SimplifyLocals-before-const-prop.diff\n fn t2() {\n     // Unused thread local\n     unsafe { &mut X };\n }\n \n-// EMIT_MIR simplify_locals.t3.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals.t3.SimplifyLocals-before-const-prop.diff\n fn t3() {\n     // Unused thread local\n     unsafe { *&mut X };\n }\n \n-// EMIT_MIR simplify_locals.t4.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals.t4.SimplifyLocals-before-const-prop.diff\n fn t4() -> u32 {\n     // Used thread local\n     unsafe { X + 1 }\n }\n \n-// EMIT_MIR simplify_locals.expose_addr.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals.expose_addr.SimplifyLocals-before-const-prop.diff\n fn expose_addr(p: *const usize) {\n     // Used pointer to address cast. Has a side effect of exposing the provenance.\n     p as usize;"}, {"sha": "1b2e1158e45cc3855537bbbd8e7bb4ac8c3f3f07", "filename": "src/test/mir-opt/simplify_locals.t1.SimplifyLocals-before-const-prop.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t1.SimplifyLocals-before-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t1.SimplifyLocals-before-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t1.SimplifyLocals-before-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `t1` before SimplifyLocals\n-+ // MIR for `t1` after SimplifyLocals\n+- // MIR for `t1` before SimplifyLocals-before-const-prop\n++ // MIR for `t1` after SimplifyLocals-before-const-prop\n   \n   fn t1() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/simplify_locals.rs:+0:9: +0:9", "previous_filename": "src/test/mir-opt/simplify_locals.t1.SimplifyLocals.diff"}, {"sha": "cf019357be776f8c064710682a0da8aeb8f9c8cc", "filename": "src/test/mir-opt/simplify_locals.t2.SimplifyLocals-before-const-prop.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t2.SimplifyLocals-before-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t2.SimplifyLocals-before-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t2.SimplifyLocals-before-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `t2` before SimplifyLocals\n-+ // MIR for `t2` after SimplifyLocals\n+- // MIR for `t2` before SimplifyLocals-before-const-prop\n++ // MIR for `t2` after SimplifyLocals-before-const-prop\n   \n   fn t2() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/simplify_locals.rs:+0:9: +0:9", "previous_filename": "src/test/mir-opt/simplify_locals.t2.SimplifyLocals.diff"}, {"sha": "90ee215808c7a84f0444a8619e6117ba5b8a8aa2", "filename": "src/test/mir-opt/simplify_locals.t3.SimplifyLocals-before-const-prop.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t3.SimplifyLocals-before-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t3.SimplifyLocals-before-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t3.SimplifyLocals-before-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `t3` before SimplifyLocals\n-+ // MIR for `t3` after SimplifyLocals\n+- // MIR for `t3` before SimplifyLocals-before-const-prop\n++ // MIR for `t3` after SimplifyLocals-before-const-prop\n   \n   fn t3() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/simplify_locals.rs:+0:9: +0:9", "previous_filename": "src/test/mir-opt/simplify_locals.t3.SimplifyLocals.diff"}, {"sha": "9add9a6c5e061469c53807fbca04c26f0c17fb6b", "filename": "src/test/mir-opt/simplify_locals.t4.SimplifyLocals-before-const-prop.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t4.SimplifyLocals-before-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t4.SimplifyLocals-before-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals.t4.SimplifyLocals-before-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `t4` before SimplifyLocals\n-+ // MIR for `t4` after SimplifyLocals\n+- // MIR for `t4` before SimplifyLocals-before-const-prop\n++ // MIR for `t4` after SimplifyLocals-before-const-prop\n   \n   fn t4() -> u32 {\n       let mut _0: u32;                     // return place in scope 0 at $DIR/simplify_locals.rs:+0:12: +0:15", "previous_filename": "src/test/mir-opt/simplify_locals.t4.SimplifyLocals.diff"}, {"sha": "f888c622d90856b46ec46cb31df263ae65de58cf", "filename": "src/test/mir-opt/simplify_locals_fixedpoint.foo.SimplifyLocals-final.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_fixedpoint.foo.SimplifyLocals-final.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_fixedpoint.foo.SimplifyLocals-final.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals_fixedpoint.foo.SimplifyLocals-final.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `foo` before SimplifyLocals\n-+ // MIR for `foo` after SimplifyLocals\n+- // MIR for `foo` before SimplifyLocals-final\n++ // MIR for `foo` after SimplifyLocals-final\n   \n   fn foo() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/simplify_locals_fixedpoint.rs:+0:13: +0:13", "previous_filename": "src/test/mir-opt/simplify_locals_fixedpoint.foo.SimplifyLocals.diff"}, {"sha": "1fdba6e99e3ede935872c9e9af7c058e29a2a358", "filename": "src/test/mir-opt/simplify_locals_fixedpoint.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_fixedpoint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_fixedpoint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals_fixedpoint.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -12,4 +12,4 @@ fn main() {\n     foo::<()>();\n }\n \n-// EMIT_MIR simplify_locals_fixedpoint.foo.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals_fixedpoint.foo.SimplifyLocals-final.diff"}, {"sha": "efb2b0961cc1dee2e05fe83e5bffe67ca8ac7303", "filename": "src/test/mir-opt/simplify_locals_removes_unused_consts.main.SimplifyLocals-before-const-prop.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_consts.main.SimplifyLocals-before-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_consts.main.SimplifyLocals-before-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_consts.main.SimplifyLocals-before-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `main` before SimplifyLocals\n-+ // MIR for `main` after SimplifyLocals\n+- // MIR for `main` before SimplifyLocals-before-const-prop\n++ // MIR for `main` after SimplifyLocals-before-const-prop\n   \n   fn main() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/simplify_locals_removes_unused_consts.rs:+0:11: +0:11", "previous_filename": "src/test/mir-opt/simplify_locals_removes_unused_consts.main.SimplifyLocals.diff"}, {"sha": "7a03a2837ae7ffdf59c21495871f4774e007a6ca", "filename": "src/test/mir-opt/simplify_locals_removes_unused_consts.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_consts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_consts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_consts.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,4 +1,4 @@\n-// unit-test: SimplifyLocals\n+// unit-test: SimplifyLocals-before-const-prop\n // compile-flags: -C overflow-checks=no\n \n fn use_zst(_: ((), ())) {}\n@@ -9,7 +9,7 @@ struct Temp {\n \n fn use_u8(_: u8) {}\n \n-// EMIT_MIR simplify_locals_removes_unused_consts.main.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals_removes_unused_consts.main.SimplifyLocals-before-const-prop.diff\n fn main() {\n     let ((), ()) = ((), ());\n     use_zst(((), ()));"}, {"sha": "027c983e6b4c80c263638ec60433915717dfa9f7", "filename": "src/test/mir-opt/simplify_locals_removes_unused_discriminant_reads.map.SimplifyLocals-before-const-prop.diff", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_discriminant_reads.map.SimplifyLocals-before-const-prop.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_discriminant_reads.map.SimplifyLocals-before-const-prop.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_discriminant_reads.map.SimplifyLocals-before-const-prop.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,5 +1,5 @@\n-- // MIR for `map` before SimplifyLocals\n-+ // MIR for `map` after SimplifyLocals\n+- // MIR for `map` before SimplifyLocals-before-const-prop\n++ // MIR for `map` after SimplifyLocals-before-const-prop\n   \n   fn map(_1: Option<Box<()>>) -> Option<Box<()>> {\n       debug x => _1;                       // in scope 0 at $DIR/simplify_locals_removes_unused_discriminant_reads.rs:+0:8: +0:9", "previous_filename": "src/test/mir-opt/simplify_locals_removes_unused_discriminant_reads.map.SimplifyLocals.diff"}, {"sha": "de65857412cfc7a422194a4956461295349b4c6f", "filename": "src/test/mir-opt/simplify_locals_removes_unused_discriminant_reads.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_discriminant_reads.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_discriminant_reads.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_locals_removes_unused_discriminant_reads.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,4 +1,4 @@\n-// unit-test: SimplifyLocals\n+// unit-test: SimplifyLocals-before-const-prop\n \n fn map(x: Option<Box<()>>) -> Option<Box<()>> {\n     match x {\n@@ -11,4 +11,4 @@ fn main() {\n     map(None);\n }\n \n-// EMIT_MIR simplify_locals_removes_unused_discriminant_reads.map.SimplifyLocals.diff\n+// EMIT_MIR simplify_locals_removes_unused_discriminant_reads.map.SimplifyLocals-before-const-prop.diff"}, {"sha": "70bfbf1b3e366473e3dd9fed7c2e3c0500a84790", "filename": "src/test/mir-opt/simplify_match.main.ConstProp.diff", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_match.main.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fsimplify_match.main.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fsimplify_match.main.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -21,7 +21,6 @@\n       }\n   \n       bb1: {\n-          nop;                             // scope 0 at $DIR/simplify_match.rs:+3:18: +3:20\n           goto -> bb3;                     // scope 0 at $DIR/simplify_match.rs:+3:18: +3:20\n       }\n   "}, {"sha": "b4fb330f3df2437f638b187bccf08ab13222e446", "filename": "src/test/mir-opt/uninhabited_enum.process_never.SimplifyLocals-final.after.mir", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Funinhabited_enum.process_never.SimplifyLocals-final.after.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Funinhabited_enum.process_never.SimplifyLocals-final.after.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Funinhabited_enum.process_never.SimplifyLocals-final.after.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,4 +1,4 @@\n-// MIR for `process_never` after SimplifyLocals\n+// MIR for `process_never` after SimplifyLocals-final\n \n fn process_never(_1: *const !) -> () {\n     debug input => _1;                   // in scope 0 at $DIR/uninhabited_enum.rs:+0:22: +0:27", "previous_filename": "src/test/mir-opt/uninhabited_enum.process_never.SimplifyLocals.after.mir"}, {"sha": "2af864998cb08a490b32fd31a4744d565c808625", "filename": "src/test/mir-opt/uninhabited_enum.process_void.SimplifyLocals-final.after.mir", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Funinhabited_enum.process_void.SimplifyLocals-final.after.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Funinhabited_enum.process_void.SimplifyLocals-final.after.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Funinhabited_enum.process_void.SimplifyLocals-final.after.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -1,4 +1,4 @@\n-// MIR for `process_void` after SimplifyLocals\n+// MIR for `process_void` after SimplifyLocals-final\n \n fn process_void(_1: *const Void) -> () {\n     debug input => _1;                   // in scope 0 at $DIR/uninhabited_enum.rs:+0:21: +0:26", "previous_filename": "src/test/mir-opt/uninhabited_enum.process_void.SimplifyLocals.after.mir"}, {"sha": "19db548157a66742a63a97e77e580e62efc26c8d", "filename": "src/test/mir-opt/uninhabited_enum.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Funinhabited_enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Funinhabited_enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Funinhabited_enum.rs?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -2,13 +2,13 @@\n \n pub enum Void {}\n \n-// EMIT_MIR uninhabited_enum.process_never.SimplifyLocals.after.mir\n+// EMIT_MIR uninhabited_enum.process_never.SimplifyLocals-final.after.mir\n #[no_mangle]\n pub fn process_never(input: *const !) {\n    let _input = unsafe { &*input };\n }\n \n-// EMIT_MIR uninhabited_enum.process_void.SimplifyLocals.after.mir\n+// EMIT_MIR uninhabited_enum.process_void.SimplifyLocals-final.after.mir\n #[no_mangle]\n pub fn process_void(input: *const Void) {\n    let _input = unsafe { &*input };"}, {"sha": "bb1de59d4a73f0b2c059a85e312178a06ca585f1", "filename": "src/test/mir-opt/while_let_loops.change_loop_body.ConstProp.diff", "status": "modified", "additions": 10, "deletions": 19, "changes": 29, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fwhile_let_loops.change_loop_body.ConstProp.diff", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fwhile_let_loops.change_loop_body.ConstProp.diff", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fwhile_let_loops.change_loop_body.ConstProp.diff?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -4,13 +4,8 @@\n   fn change_loop_body() -> () {\n       let mut _0: ();                      // return place in scope 0 at $DIR/while_let_loops.rs:+0:27: +0:27\n       let mut _1: i32;                     // in scope 0 at $DIR/while_let_loops.rs:+1:9: +1:15\n-      let mut _2: ();                      // in scope 0 at $DIR/while_let_loops.rs:+0:1: +6:2\n-      let mut _3: std::option::Option<u32>; // in scope 0 at $DIR/while_let_loops.rs:+2:28: +2:32\n-      let mut _4: isize;                   // in scope 0 at $DIR/while_let_loops.rs:+2:15: +2:25\n-      let mut _5: !;                       // in scope 0 at $DIR/while_let_loops.rs:+2:33: +5:6\n-      let mut _6: !;                       // in scope 0 at $DIR/while_let_loops.rs:+2:5: +5:6\n-      let _7: ();                          // in scope 0 at $DIR/while_let_loops.rs:+2:5: +5:6\n-      let mut _8: !;                       // in scope 0 at $DIR/while_let_loops.rs:+2:5: +5:6\n+      let mut _2: std::option::Option<u32>; // in scope 0 at $DIR/while_let_loops.rs:+2:28: +2:32\n+      let mut _3: isize;                   // in scope 0 at $DIR/while_let_loops.rs:+2:15: +2:25\n       scope 1 {\n           debug _x => _1;                  // in scope 1 at $DIR/while_let_loops.rs:+1:9: +1:15\n           scope 2 {\n@@ -20,34 +15,30 @@\n       bb0: {\n           StorageLive(_1);                 // scope 0 at $DIR/while_let_loops.rs:+1:9: +1:15\n           _1 = const 0_i32;                // scope 0 at $DIR/while_let_loops.rs:+1:18: +1:19\n-          StorageLive(_3);                 // scope 2 at $DIR/while_let_loops.rs:+2:28: +2:32\n-          Deinit(_3);                      // scope 2 at $DIR/while_let_loops.rs:+2:28: +2:32\n-          discriminant(_3) = 0;            // scope 2 at $DIR/while_let_loops.rs:+2:28: +2:32\n--         _4 = discriminant(_3);           // scope 2 at $DIR/while_let_loops.rs:+2:15: +2:25\n--         switchInt(move _4) -> [1: bb1, otherwise: bb3]; // scope 2 at $DIR/while_let_loops.rs:+2:15: +2:25\n-+         _4 = const 0_isize;              // scope 2 at $DIR/while_let_loops.rs:+2:15: +2:25\n+          StorageLive(_2);                 // scope 2 at $DIR/while_let_loops.rs:+2:28: +2:32\n+          Deinit(_2);                      // scope 2 at $DIR/while_let_loops.rs:+2:28: +2:32\n+          discriminant(_2) = 0;            // scope 2 at $DIR/while_let_loops.rs:+2:28: +2:32\n+-         _3 = discriminant(_2);           // scope 2 at $DIR/while_let_loops.rs:+2:15: +2:25\n+-         switchInt(move _3) -> [1: bb1, otherwise: bb3]; // scope 2 at $DIR/while_let_loops.rs:+2:15: +2:25\n++         _3 = const 0_isize;              // scope 2 at $DIR/while_let_loops.rs:+2:15: +2:25\n +         switchInt(const 0_isize) -> [1: bb1, otherwise: bb3]; // scope 2 at $DIR/while_let_loops.rs:+2:15: +2:25\n       }\n   \n       bb1: {\n-          switchInt(((_3 as Some).0: u32)) -> [0: bb2, otherwise: bb3]; // scope 2 at $DIR/while_let_loops.rs:+2:15: +2:25\n+          switchInt(((_2 as Some).0: u32)) -> [0: bb2, otherwise: bb3]; // scope 2 at $DIR/while_let_loops.rs:+2:15: +2:25\n       }\n   \n       bb2: {\n           _1 = const 1_i32;                // scope 2 at $DIR/while_let_loops.rs:+3:9: +3:15\n-          nop;                             // scope 2 at $DIR/while_let_loops.rs:+4:9: +4:14\n           goto -> bb4;                     // scope 2 at $DIR/while_let_loops.rs:+4:9: +4:14\n       }\n   \n       bb3: {\n-          StorageLive(_7);                 // scope 1 at $DIR/while_let_loops.rs:+2:5: +5:6\n-          nop;                             // scope 1 at $DIR/while_let_loops.rs:+2:5: +5:6\n-          StorageDead(_7);                 // scope 1 at $DIR/while_let_loops.rs:+5:5: +5:6\n           goto -> bb4;                     // scope 1 at no-location\n       }\n   \n       bb4: {\n-          StorageDead(_3);                 // scope 1 at $DIR/while_let_loops.rs:+5:5: +5:6\n+          StorageDead(_2);                 // scope 1 at $DIR/while_let_loops.rs:+5:5: +5:6\n           StorageDead(_1);                 // scope 0 at $DIR/while_let_loops.rs:+6:1: +6:2\n           return;                          // scope 0 at $DIR/while_let_loops.rs:+6:2: +6:2\n       }"}, {"sha": "b95d91b13dd7976c646481fc8425b4754b874095", "filename": "src/test/mir-opt/while_storage.while_loop.PreCodegen.after.mir", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fwhile_storage.while_loop.PreCodegen.after.mir", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fmir-opt%2Fwhile_storage.while_loop.PreCodegen.after.mir", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fwhile_storage.while_loop.PreCodegen.after.mir?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -44,7 +44,7 @@ fn while_loop(_1: bool) -> () {\n \n     bb5: {\n         StorageDead(_4);                 // scope 0 at $DIR/while_storage.rs:+4:9: +4:10\n-        goto -> bb8;                     // scope 0 at no-location\n+        goto -> bb7;                     // scope 0 at no-location\n     }\n \n     bb6: {\n@@ -54,10 +54,6 @@ fn while_loop(_1: bool) -> () {\n     }\n \n     bb7: {\n-        goto -> bb8;                     // scope 0 at no-location\n-    }\n-\n-    bb8: {\n         StorageDead(_2);                 // scope 0 at $DIR/while_storage.rs:+5:5: +5:6\n         return;                          // scope 0 at $DIR/while_storage.rs:+6:2: +6:2\n     }"}, {"sha": "0dd18a55786ad34cdb3a2d2a5b6cc1ee57ab9eef", "filename": "src/test/ui/consts/invalid-union.32bit.stderr", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fui%2Fconsts%2Finvalid-union.32bit.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fui%2Fconsts%2Finvalid-union.32bit.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Finvalid-union.32bit.stderr?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -21,12 +21,6 @@ note: erroneous constant used\n LL |     let _: &'static _ = &C;\n    |                         ^^\n \n-note: erroneous constant used\n-  --> $DIR/invalid-union.rs:43:25\n-   |\n-LL |     let _: &'static _ = &C;\n-   |                         ^^\n-\n error: aborting due to previous error\n \n For more information about this error, try `rustc --explain E0080`."}, {"sha": "07f36ee283264dc9181a92f7de95e759313f83d9", "filename": "src/test/ui/consts/invalid-union.64bit.stderr", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fui%2Fconsts%2Finvalid-union.64bit.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b1691f6413a4afd7529ab309965123cc63e82021/src%2Ftest%2Fui%2Fconsts%2Finvalid-union.64bit.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconsts%2Finvalid-union.64bit.stderr?ref=b1691f6413a4afd7529ab309965123cc63e82021", "patch": "@@ -21,12 +21,6 @@ note: erroneous constant used\n LL |     let _: &'static _ = &C;\n    |                         ^^\n \n-note: erroneous constant used\n-  --> $DIR/invalid-union.rs:43:25\n-   |\n-LL |     let _: &'static _ = &C;\n-   |                         ^^\n-\n error: aborting due to previous error\n \n For more information about this error, try `rustc --explain E0080`."}]}