{"sha": "1d30adb06860ae215634d1dd1eaf8ee600ed1347", "node_id": "C_kwDOAAsO6NoAKDFkMzBhZGIwNjg2MGFlMjE1NjM0ZDFkZDFlYWY4ZWU2MDBlZDEzNDc", "commit": {"author": {"name": "fee1-dead", "email": "ent3rm4n@gmail.com", "date": "2023-04-16T11:36:02Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-04-16T11:36:02Z"}, "message": "Rollup merge of #110400 - matthiaskrgr:style_mix, r=fee1-dead\n\nmore clippy fixes: clippy::{iter_cloned_collect, unwarp_or_else_defau\u2026\n\n\u2026lt, option_map_or_none}\n\nr? `@Nilstrieb`", "tree": {"sha": "4f8d4c450c55f66889558f434a2ad68f6570ad4c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4f8d4c450c55f66889558f434a2ad68f6570ad4c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1d30adb06860ae215634d1dd1eaf8ee600ed1347", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkO92iCRBK7hj4Ov3rIwAA5SwIAFgv2dHR4Kkr3YJlAAsRDprV\nnFGTmuqZ6koE3occ0KMpKyRvd3dHgWvVH6RjDS0EZ5UE3qSayTZ4q7xLNXJ7hgdV\nUbwnwZUGJZ7wOYTNTRDYOeFn+zLuCoBZk+2TnJleDOlA2CzcPNWUVrHibla4uY//\nLlh3GX2/Oj573G6W04M50QYdMhiSjYDBujoLEERoazFVLe5FKJ9yZZpAMS9qBmJi\n9S9zCYEFotdNqBJWq6WsdbA98vEjNMLlTfkOcOKHNn0qxZKRJfmniO4TlPuIIye5\nHRiJNWketLZ/6DKG7sad6XdS0o1mg9v/vZaKObVJVkE+EcF4lDkW+3J2xLBAoMc=\n=WUC5\n-----END PGP SIGNATURE-----\n", "payload": "tree 4f8d4c450c55f66889558f434a2ad68f6570ad4c\nparent fba49a7ee2da30a34a1cb05efa249e4267879d7e\nparent 6ef8648a4860e5d6108ebd21839c750de4f79dff\nauthor fee1-dead <ent3rm4n@gmail.com> 1681644962 +0800\ncommitter GitHub <noreply@github.com> 1681644962 +0800\n\nRollup merge of #110400 - matthiaskrgr:style_mix, r=fee1-dead\n\nmore clippy fixes: clippy::{iter_cloned_collect, unwarp_or_else_defau\u2026\n\n\u2026lt, option_map_or_none}\n\nr? `@Nilstrieb`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1d30adb06860ae215634d1dd1eaf8ee600ed1347", "html_url": "https://github.com/rust-lang/rust/commit/1d30adb06860ae215634d1dd1eaf8ee600ed1347", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1d30adb06860ae215634d1dd1eaf8ee600ed1347/comments", "author": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fba49a7ee2da30a34a1cb05efa249e4267879d7e", "url": "https://api.github.com/repos/rust-lang/rust/commits/fba49a7ee2da30a34a1cb05efa249e4267879d7e", "html_url": "https://github.com/rust-lang/rust/commit/fba49a7ee2da30a34a1cb05efa249e4267879d7e"}, {"sha": "6ef8648a4860e5d6108ebd21839c750de4f79dff", "url": "https://api.github.com/repos/rust-lang/rust/commits/6ef8648a4860e5d6108ebd21839c750de4f79dff", "html_url": "https://github.com/rust-lang/rust/commit/6ef8648a4860e5d6108ebd21839c750de4f79dff"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "863a9977446c16ee850598f695d20ccaf917c0a0", "filename": "compiler/rustc_hir_analysis/src/check/compare_impl_item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1d30adb06860ae215634d1dd1eaf8ee600ed1347/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcompare_impl_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d30adb06860ae215634d1dd1eaf8ee600ed1347/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcompare_impl_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcompare_impl_item.rs?ref=1d30adb06860ae215634d1dd1eaf8ee600ed1347", "patch": "@@ -1317,7 +1317,7 @@ fn compare_number_of_generics<'tcx>(\n                         impl_count,\n                         kind,\n                         pluralize!(impl_count),\n-                        suffix.unwrap_or_else(String::new),\n+                        suffix.unwrap_or_default(),\n                     ),\n                 );\n             }"}, {"sha": "e554c47064680137df597edf8fcea57ba8c319da", "filename": "compiler/rustc_mir_transform/src/coverage/debug.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/1d30adb06860ae215634d1dd1eaf8ee600ed1347/compiler%2Frustc_mir_transform%2Fsrc%2Fcoverage%2Fdebug.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d30adb06860ae215634d1dd1eaf8ee600ed1347/compiler%2Frustc_mir_transform%2Fsrc%2Fcoverage%2Fdebug.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Fcoverage%2Fdebug.rs?ref=1d30adb06860ae215634d1dd1eaf8ee600ed1347", "patch": "@@ -292,10 +292,8 @@ impl DebugCounters {\n     }\n \n     pub fn some_block_label(&self, operand: ExpressionOperandId) -> Option<&String> {\n-        self.some_counters.as_ref().map_or(None, |counters| {\n-            counters\n-                .get(&operand)\n-                .map_or(None, |debug_counter| debug_counter.some_block_label.as_ref())\n+        self.some_counters.as_ref().and_then(|counters| {\n+            counters.get(&operand).and_then(|debug_counter| debug_counter.some_block_label.as_ref())\n         })\n     }\n "}, {"sha": "a6d88b1342ae8038bedd9ae446c3fa618b5a2d32", "filename": "compiler/rustc_transmute/src/layout/tree.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1d30adb06860ae215634d1dd1eaf8ee600ed1347/compiler%2Frustc_transmute%2Fsrc%2Flayout%2Ftree.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d30adb06860ae215634d1dd1eaf8ee600ed1347/compiler%2Frustc_transmute%2Fsrc%2Flayout%2Ftree.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_transmute%2Fsrc%2Flayout%2Ftree.rs?ref=1d30adb06860ae215634d1dd1eaf8ee600ed1347", "patch": "@@ -196,7 +196,7 @@ pub(crate) mod rustc {\n         fn from(err: LayoutError<'tcx>) -> Self {\n             match err {\n                 LayoutError::Unknown(..) => Self::Unknown,\n-                err @ _ => unimplemented!(\"{:?}\", err),\n+                err => unimplemented!(\"{:?}\", err),\n             }\n         }\n     }"}, {"sha": "767ea8c3100fa1ca1fbe2ebbedc0f4f8ec8121f7", "filename": "src/librustdoc/clean/auto_trait.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1d30adb06860ae215634d1dd1eaf8ee600ed1347/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1d30adb06860ae215634d1dd1eaf8ee600ed1347/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs?ref=1d30adb06860ae215634d1dd1eaf8ee600ed1347", "patch": "@@ -141,7 +141,7 @@ where\n         let f = auto_trait::AutoTraitFinder::new(tcx);\n \n         debug!(\"get_auto_trait_impls({:?})\", ty);\n-        let auto_traits: Vec<_> = self.cx.auto_traits.iter().copied().collect();\n+        let auto_traits: Vec<_> = self.cx.auto_traits.to_vec();\n         let mut auto_traits: Vec<Item> = auto_traits\n             .into_iter()\n             .filter_map(|trait_def_id| {"}]}