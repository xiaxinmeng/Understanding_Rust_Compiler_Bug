{"sha": "acfe199c02a3cbc0d500678ea30426daf392f0d3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFjZmUxOTljMDJhM2NiYzBkNTAwNjc4ZWEzMDQyNmRhZjM5MmYwZDM=", "commit": {"author": {"name": "Timothy McRoy", "email": "timothy-mcroy@uiowa.edu", "date": "2016-05-15T20:30:59Z"}, "committer": {"name": "Timothy McRoy", "email": "timothy-mcroy@uiowa.edu", "date": "2016-05-18T02:13:02Z"}, "message": "Add descriptive error explanation for E0502", "tree": {"sha": "d50e073e127a70ba9552453b992591f411ba461e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d50e073e127a70ba9552453b992591f411ba461e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/acfe199c02a3cbc0d500678ea30426daf392f0d3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/acfe199c02a3cbc0d500678ea30426daf392f0d3", "html_url": "https://github.com/rust-lang/rust/commit/acfe199c02a3cbc0d500678ea30426daf392f0d3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/acfe199c02a3cbc0d500678ea30426daf392f0d3/comments", "author": null, "committer": null, "parents": [{"sha": "9f58fb776a74a44f4fcc2cb57084d33c55530aa4", "url": "https://api.github.com/repos/rust-lang/rust/commits/9f58fb776a74a44f4fcc2cb57084d33c55530aa4", "html_url": "https://github.com/rust-lang/rust/commit/9f58fb776a74a44f4fcc2cb57084d33c55530aa4"}], "stats": {"total": 28, "additions": 27, "deletions": 1}, "files": [{"sha": "59484254909832b8badb86214096a2bf8a49614b", "filename": "src/librustc_borrowck/diagnostics.rs", "status": "modified", "additions": 27, "deletions": 1, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/acfe199c02a3cbc0d500678ea30426daf392f0d3/src%2Flibrustc_borrowck%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/acfe199c02a3cbc0d500678ea30426daf392f0d3/src%2Flibrustc_borrowck%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fdiagnostics.rs?ref=acfe199c02a3cbc0d500678ea30426daf392f0d3", "patch": "@@ -501,6 +501,33 @@ fn foo(a: &mut i32) {\n ```\n \"##,\n \n+E0502: r##\"\n+This error indicates that you are trying to borrow a variable as mutable when it\n+has already been borrowed as immutable.\n+\n+Example of erroneous code:\n+\n+```compile_fail\n+fn bar(x: &mut i32) {}\n+fn foo(a: &mut i32) {\n+    let ref y = a; // a is borrowed as immutable.\n+    bar(a); // error: cannot borrow `*a` as mutable because `a` is also borrowed\n+            //        as immutable\n+}\n+```\n+To fix this error, ensure that you don't have any other references to the\n+variable before trying to access it mutably:\n+```\n+fn bar(x: &mut i32) {}\n+fn foo(a: &mut i32) {\n+    bar(a);\n+    let ref y = a; // ok!\n+}\n+```\n+For more information on the rust ownership system, take a look at\n+https://doc.rust-lang.org/stable/book/references-and-borrowing.html.\n+\"##,\n+\n E0504: r##\"\n This error occurs when an attempt is made to move a borrowed variable into a\n closure.\n@@ -983,7 +1010,6 @@ fn main() {\n register_diagnostics! {\n     E0385, // {} in an aliasable location\n     E0388, // {} in a static location\n-    E0502, // cannot borrow `..`.. as .. because .. is also borrowed as ...\n     E0503, // cannot use `..` because it was mutably borrowed\n     E0508, // cannot move out of type `..`, a non-copy fixed-size array\n     E0524, // two closures require unique access to `..` at the same time"}]}