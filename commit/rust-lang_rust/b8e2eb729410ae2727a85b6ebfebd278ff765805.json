{"sha": "b8e2eb729410ae2727a85b6ebfebd278ff765805", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI4ZTJlYjcyOTQxMGFlMjcyN2E4NWI2ZWJmZWJkMjc4ZmY3NjU4MDU=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-11-03T23:29:03Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-11-03T23:29:03Z"}, "message": "rollup merge of #18247 : kballard/vim_rust_run_cwd_space", "tree": {"sha": "22539e1595b1d0c98c32659cfa089de0286bdcf6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/22539e1595b1d0c98c32659cfa089de0286bdcf6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b8e2eb729410ae2727a85b6ebfebd278ff765805", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b8e2eb729410ae2727a85b6ebfebd278ff765805", "html_url": "https://github.com/rust-lang/rust/commit/b8e2eb729410ae2727a85b6ebfebd278ff765805", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b8e2eb729410ae2727a85b6ebfebd278ff765805/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "59d47a3ca4bfc3c1b1ff6f46f23bef7874146604", "url": "https://api.github.com/repos/rust-lang/rust/commits/59d47a3ca4bfc3c1b1ff6f46f23bef7874146604", "html_url": "https://github.com/rust-lang/rust/commit/59d47a3ca4bfc3c1b1ff6f46f23bef7874146604"}, {"sha": "c5829746f9af8f1e8fdabfcbdbb8a76da2fcbd98", "url": "https://api.github.com/repos/rust-lang/rust/commits/c5829746f9af8f1e8fdabfcbdbb8a76da2fcbd98", "html_url": "https://github.com/rust-lang/rust/commit/c5829746f9af8f1e8fdabfcbdbb8a76da2fcbd98"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "fe8e743e7826dae0055ed476667fd304a9588b73", "filename": "src/etc/vim/autoload/rust.vim", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/b8e2eb729410ae2727a85b6ebfebd278ff765805/src%2Fetc%2Fvim%2Fautoload%2Frust.vim", "raw_url": "https://github.com/rust-lang/rust/raw/b8e2eb729410ae2727a85b6ebfebd278ff765805/src%2Fetc%2Fvim%2Fautoload%2Frust.vim", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fvim%2Fautoload%2Frust.vim?ref=b8e2eb729410ae2727a85b6ebfebd278ff765805", "patch": "@@ -178,14 +178,14 @@ function! s:WithPath(func, ...)\n \t\t\tcall mkdir(tmpdir)\n \n \t\t\tlet save_cwd = getcwd()\n-\t\t\tsilent exe 'lcd' tmpdir\n+\t\t\tsilent exe 'lcd' fnameescape(tmpdir)\n \n \t\t\tlet path = 'unnamed.rs'\n \n \t\t\tlet save_mod = &mod\n \t\t\tset nomod\n \n-\t\t\tsilent exe 'keepalt write! ' . path\n+\t\t\tsilent exe 'keepalt write! ' . fnameescape(path)\n \t\t\tif pathisempty\n \t\t\t\tsilent keepalt 0file\n \t\t\tendif\n@@ -195,10 +195,10 @@ function! s:WithPath(func, ...)\n \n \t\tcall call(a:func, [path] + a:000)\n \tfinally\n-\t\tif exists(\"save_mod\")   | let &mod = save_mod          | endif\n-\t\tif exists(\"save_write\") | let &write = save_write      | endif\n-\t\tif exists(\"save_cwd\")   | silent exe 'lcd' save_cwd    | endif\n-\t\tif exists(\"tmpdir\")     | silent call s:RmDir(tmpdir)  | endif\n+\t\tif exists(\"save_mod\")   | let &mod = save_mod                    | endif\n+\t\tif exists(\"save_write\") | let &write = save_write                | endif\n+\t\tif exists(\"save_cwd\")   | silent exe 'lcd' fnameescape(save_cwd) | endif\n+\t\tif exists(\"tmpdir\")     | silent call s:RmDir(tmpdir)            | endif\n \tendtry\n endfunction\n "}]}