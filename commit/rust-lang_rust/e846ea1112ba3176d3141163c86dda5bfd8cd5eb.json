{"sha": "e846ea1112ba3176d3141163c86dda5bfd8cd5eb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU4NDZlYTExMTJiYTMxNzZkMzE0MTE2M2M4NmRkYTViZmQ4Y2Q1ZWI=", "commit": {"author": {"name": "yuyoyuppe", "email": "a.yuyoyuppe@gmail.com", "date": "2019-11-25T20:44:26Z"}, "committer": {"name": "yuyoyuppe", "email": "a.yuyoyuppe@gmail.com", "date": "2019-11-25T20:52:10Z"}, "message": "Use LLVMDisposePassManager instead of raw delete in rustllvm", "tree": {"sha": "6c319be69011acaa6f8ef8931b5fdc3b85a2ab76", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6c319be69011acaa6f8ef8931b5fdc3b85a2ab76"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e846ea1112ba3176d3141163c86dda5bfd8cd5eb", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEENASiVcXJ+KCnypkXskAhnZLBl9AFAl3cPv0ACgkQskAhnZLB\nl9Cfyg/9F9r2eqLhkAX0d+LdIhUxa1f1eLGVa5IHuBjVjy5UUtR0op15MKUcRPx7\nhy064J9V9af7r/9Z1GxBODLC8jLjMg4JasC/kS7LOXimgxPvoFyznV2SIGxv7i4s\nXmhB+ixa6hBWZYJKr7YLR/2p68CKLlu4RM6Mfwb9zm0hNxQI9+NKPYR3NthDF9Yo\nNYsxnyxaKFQvrXstIvREPHeyAviLaiHC70sgCq6k74iSw9aNG+848GiDPWj0EAUa\nfL2+D4KUpHr7Z5tBeAsjJHeiFT9ZZb+UNE2IbTnOliySZU2MeWGgXr+xUVPugj7S\n208Fe17ro5HQZQ4tvFvzuNkJFpydmL3qMzrzj0ZnqWfJPxzowftikF0bmwfiDwl7\nmPRr5sFpNq0vtLyBvlhsYbtNKXhv1drKCJe7iPYW4ukaJxkPLJczf9gzOD9ynwhM\nPLU8TZlLTWcafGLUjGW38fsgtHkXqwnPp7v9YpDM9il8KHkACIrzWF6KbiWh1er/\n+lgzTd4aHsyItckE+QjW5v/m5BFH8tVd10M2LuD9h95/lJqIDjOjkOsQ1ypQli3j\ndI1q8h0tll5hjHxsDPQxdHS1opCLV/Wb6iuQocA0MGBUcVlOqskl4e2STAaDJjVN\nFsNc0h31YEx9915hIsjxZ0cPIYE7wu4+eH4yO08Wl5UV0kdZMvM=\n=ejbG\n-----END PGP SIGNATURE-----", "payload": "tree 6c319be69011acaa6f8ef8931b5fdc3b85a2ab76\nparent 91642e3ac0120c8e9cdd5f3c85ad03f3bf1b8b69\nauthor yuyoyuppe <a.yuyoyuppe@gmail.com> 1574714666 +0300\ncommitter yuyoyuppe <a.yuyoyuppe@gmail.com> 1574715130 +0300\n\nUse LLVMDisposePassManager instead of raw delete in rustllvm\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e846ea1112ba3176d3141163c86dda5bfd8cd5eb", "html_url": "https://github.com/rust-lang/rust/commit/e846ea1112ba3176d3141163c86dda5bfd8cd5eb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e846ea1112ba3176d3141163c86dda5bfd8cd5eb/comments", "author": {"login": "yuyoyuppe", "id": 1828123, "node_id": "MDQ6VXNlcjE4MjgxMjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1828123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuyoyuppe", "html_url": "https://github.com/yuyoyuppe", "followers_url": "https://api.github.com/users/yuyoyuppe/followers", "following_url": "https://api.github.com/users/yuyoyuppe/following{/other_user}", "gists_url": "https://api.github.com/users/yuyoyuppe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuyoyuppe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuyoyuppe/subscriptions", "organizations_url": "https://api.github.com/users/yuyoyuppe/orgs", "repos_url": "https://api.github.com/users/yuyoyuppe/repos", "events_url": "https://api.github.com/users/yuyoyuppe/events{/privacy}", "received_events_url": "https://api.github.com/users/yuyoyuppe/received_events", "type": "User", "site_admin": false}, "committer": {"login": "yuyoyuppe", "id": 1828123, "node_id": "MDQ6VXNlcjE4MjgxMjM=", "avatar_url": "https://avatars.githubusercontent.com/u/1828123?v=4", "gravatar_id": "", "url": "https://api.github.com/users/yuyoyuppe", "html_url": "https://github.com/yuyoyuppe", "followers_url": "https://api.github.com/users/yuyoyuppe/followers", "following_url": "https://api.github.com/users/yuyoyuppe/following{/other_user}", "gists_url": "https://api.github.com/users/yuyoyuppe/gists{/gist_id}", "starred_url": "https://api.github.com/users/yuyoyuppe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/yuyoyuppe/subscriptions", "organizations_url": "https://api.github.com/users/yuyoyuppe/orgs", "repos_url": "https://api.github.com/users/yuyoyuppe/repos", "events_url": "https://api.github.com/users/yuyoyuppe/events{/privacy}", "received_events_url": "https://api.github.com/users/yuyoyuppe/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "91642e3ac0120c8e9cdd5f3c85ad03f3bf1b8b69", "url": "https://api.github.com/repos/rust-lang/rust/commits/91642e3ac0120c8e9cdd5f3c85ad03f3bf1b8b69", "html_url": "https://github.com/rust-lang/rust/commit/91642e3ac0120c8e9cdd5f3c85ad03f3bf1b8b69"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "3e53856a85d017c50c74e22e2a70fb39e16ee704", "filename": "src/rustllvm/PassWrapper.cpp", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e846ea1112ba3176d3141163c86dda5bfd8cd5eb/src%2Frustllvm%2FPassWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/e846ea1112ba3176d3141163c86dda5bfd8cd5eb/src%2Frustllvm%2FPassWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2FPassWrapper.cpp?ref=e846ea1112ba3176d3141163c86dda5bfd8cd5eb", "patch": "@@ -537,7 +537,7 @@ LLVMRustWriteOutputFile(LLVMTargetMachineRef Target, LLVMPassManagerRef PMR,\n   // Apparently `addPassesToEmitFile` adds a pointer to our on-the-stack output\n   // stream (OS), so the only real safe place to delete this is here? Don't we\n   // wish this was written in Rust?\n-  delete PM;\n+  LLVMDisposePassManager(PMR);\n   return LLVMRustResult::Success;\n }\n "}]}