{"sha": "6c6958b5315961deb569505b97db34abd5d7f392", "node_id": "C_kwDOAAsO6NoAKDZjNjk1OGI1MzE1OTYxZGViNTY5NTA1Yjk3ZGIzNGFiZDVkN2YzOTI", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2022-05-14T04:42:49Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-05-14T04:42:49Z"}, "message": "Rollup merge of #95365 - mkroening:hermit-alloc-error-handler, r=joshtriplett\n\nUse default alloc_error_handler for hermit\n\nHermit now properly separates kernel from userspace.\nApplications for hermit can now use Rust's default `alloc_error_handler` instead of calling the kernel's `__rg_oom`.\n\nCC: ``@stlankes``", "tree": {"sha": "80572d2148962784eeff2646d7a0a384f8e576d6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/80572d2148962784eeff2646d7a0a384f8e576d6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6c6958b5315961deb569505b97db34abd5d7f392", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJifzNJCRBK7hj4Ov3rIwAAro4IAJfYB+ar+uRzfm2EtAM686pT\ntaLw1dTIEv4mB133ou9CFnT4poqKuN2gG9v13vRLhGEqvjwOmKqvJ6hd17NDZ8VJ\nrrKuXSShWYEeiwPPSP9S5dZw/hzOAHGmN3jDgUM+nmL1Yo3T7S3iR2dbQ6CHXtMo\ndaQV4oVkvYRX75qVNBuAfIijS5rx4llVyIRlBWupdge6/Hr9sr7qiQMYH8+sjKhz\nXz29J9FbHtWMibZfGsOSOuotcCdos6vXNogUnJM3zwaYqGrppRwD0lJFNLpNJBgq\nNwzvFP5HxS2ZywIrG4zNrh3ZLOlWicnzQ0TTEKw1J2p6iGEWMmmjKqZsNazlyUY=\n=mNih\n-----END PGP SIGNATURE-----\n", "payload": "tree 80572d2148962784eeff2646d7a0a384f8e576d6\nparent f1f721e64014863f41c1a386b04af04c2de25321\nparent 8f47635254c9251e6b58c724c6e1fa6b83fb561e\nauthor Yuki Okushi <jtitor@2k36.org> 1652503369 +0900\ncommitter GitHub <noreply@github.com> 1652503369 +0900\n\nRollup merge of #95365 - mkroening:hermit-alloc-error-handler, r=joshtriplett\n\nUse default alloc_error_handler for hermit\n\nHermit now properly separates kernel from userspace.\nApplications for hermit can now use Rust's default `alloc_error_handler` instead of calling the kernel's `__rg_oom`.\n\nCC: ``@stlankes``\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6c6958b5315961deb569505b97db34abd5d7f392", "html_url": "https://github.com/rust-lang/rust/commit/6c6958b5315961deb569505b97db34abd5d7f392", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6c6958b5315961deb569505b97db34abd5d7f392/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f1f721e64014863f41c1a386b04af04c2de25321", "url": "https://api.github.com/repos/rust-lang/rust/commits/f1f721e64014863f41c1a386b04af04c2de25321", "html_url": "https://github.com/rust-lang/rust/commit/f1f721e64014863f41c1a386b04af04c2de25321"}, {"sha": "8f47635254c9251e6b58c724c6e1fa6b83fb561e", "url": "https://api.github.com/repos/rust-lang/rust/commits/8f47635254c9251e6b58c724c6e1fa6b83fb561e", "html_url": "https://github.com/rust-lang/rust/commit/8f47635254c9251e6b58c724c6e1fa6b83fb561e"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "6162b5c6d4c9308fa379f9ab9567e57f22ba02a5", "filename": "library/alloc/src/alloc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6c6958b5315961deb569505b97db34abd5d7f392/library%2Falloc%2Fsrc%2Falloc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6c6958b5315961deb569505b97db34abd5d7f392/library%2Falloc%2Fsrc%2Falloc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Falloc.rs?ref=6c6958b5315961deb569505b97db34abd5d7f392", "patch": "@@ -387,7 +387,7 @@ pub const fn handle_alloc_error(layout: Layout) -> ! {\n #[cfg(all(not(no_global_oom_handling), test))]\n pub use std::alloc::handle_alloc_error;\n \n-#[cfg(all(not(no_global_oom_handling), not(any(target_os = \"hermit\", test))))]\n+#[cfg(all(not(no_global_oom_handling), not(test)))]\n #[doc(hidden)]\n #[allow(unused_attributes)]\n #[unstable(feature = \"alloc_internals\", issue = \"none\")]"}]}