{"sha": "f6406f7f680d4f77144d22e1f74064e878213f5c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY2NDA2ZjdmNjgwZDRmNzcxNDRkMjJlMWY3NDA2NGU4NzgyMTNmNWM=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2020-01-20T22:32:50Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-01-20T22:32:50Z"}, "message": "Rollup merge of #68397 - ollie27:rustdoc_async_unsafe, r=Centril\n\nrustdoc: Correct order of `async` and `unsafe` in `async unsafe fn`s\n\nThe order was swapped in #61319 but rustdoc was never updated to match.\n\nr? @GuillaumeGomez", "tree": {"sha": "78d107dddf04da818d7414ff949b16e87046ad5c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/78d107dddf04da818d7414ff949b16e87046ad5c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f6406f7f680d4f77144d22e1f74064e878213f5c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeJiqSCRBK7hj4Ov3rIwAAdHIIAGkYAmAq26kNEXLnluzp4A5o\nPZWM5WFiIDNiuootCITK2TA7E/49gqoVrcloB6XM1w4r8acI6GVRdHX1EBmdS6XQ\nvoeRW4YQMnc8ck+YUUJBJLtuIUvt+6SBy9V2hvyGPAXKyJhd4rHr4usOGqc+UWVj\n30VazCE65pxQWcm+nkxYQsgy7brOTE6H45+2XFtQbagyZ9lYZW9q+r3Yg6mPas1G\nuMWzbYrPLY/Ry/teZauyVGe7nYLPu2mQuM2Bng6zNy5eQr6GqdpDZF2PZBPtOrKH\nbuV10c0oQJV+FrHCZu9FGB6tNbCg9zntGoyOtDQjjJtOuSJD89ksBOJu9CVuDv4=\n=d5mA\n-----END PGP SIGNATURE-----\n", "payload": "tree 78d107dddf04da818d7414ff949b16e87046ad5c\nparent 32ecb6f1f2ad9a29c0d98bf9dd39a97467ce06e3\nparent 3e0bfe1238e26ce57c2201172f0a4bb7cfbbba0a\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1579559570 +0900\ncommitter GitHub <noreply@github.com> 1579559570 +0900\n\nRollup merge of #68397 - ollie27:rustdoc_async_unsafe, r=Centril\n\nrustdoc: Correct order of `async` and `unsafe` in `async unsafe fn`s\n\nThe order was swapped in #61319 but rustdoc was never updated to match.\n\nr? @GuillaumeGomez\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f6406f7f680d4f77144d22e1f74064e878213f5c", "html_url": "https://github.com/rust-lang/rust/commit/f6406f7f680d4f77144d22e1f74064e878213f5c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f6406f7f680d4f77144d22e1f74064e878213f5c/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "32ecb6f1f2ad9a29c0d98bf9dd39a97467ce06e3", "url": "https://api.github.com/repos/rust-lang/rust/commits/32ecb6f1f2ad9a29c0d98bf9dd39a97467ce06e3", "html_url": "https://github.com/rust-lang/rust/commit/32ecb6f1f2ad9a29c0d98bf9dd39a97467ce06e3"}, {"sha": "3e0bfe1238e26ce57c2201172f0a4bb7cfbbba0a", "url": "https://api.github.com/repos/rust-lang/rust/commits/3e0bfe1238e26ce57c2201172f0a4bb7cfbbba0a", "html_url": "https://github.com/rust-lang/rust/commit/3e0bfe1238e26ce57c2201172f0a4bb7cfbbba0a"}], "stats": {"total": 17, "additions": 12, "deletions": 5}, "files": [{"sha": "ab38eec5f3ea9f2b175e8305d62c52271e12b74b", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/f6406f7f680d4f77144d22e1f74064e878213f5c/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6406f7f680d4f77144d22e1f74064e878213f5c/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=f6406f7f680d4f77144d22e1f74064e878213f5c", "patch": "@@ -2321,8 +2321,8 @@ fn item_function(w: &mut Buffer, cx: &Context, it: &clean::Item, f: &clean::Func\n         \"{}{}{}{}{:#}fn {}{:#}\",\n         it.visibility.print_with_space(),\n         f.header.constness.print_with_space(),\n-        f.header.unsafety.print_with_space(),\n         f.header.asyncness.print_with_space(),\n+        f.header.unsafety.print_with_space(),\n         print_abi_with_space(f.header.abi),\n         it.name.as_ref().unwrap(),\n         f.generics.print()\n@@ -2332,12 +2332,12 @@ fn item_function(w: &mut Buffer, cx: &Context, it: &clean::Item, f: &clean::Func\n     render_attributes(w, it, false);\n     write!(\n         w,\n-        \"{vis}{constness}{unsafety}{asyncness}{abi}fn \\\n+        \"{vis}{constness}{asyncness}{unsafety}{abi}fn \\\n            {name}{generics}{decl}{where_clause}</pre>\",\n         vis = it.visibility.print_with_space(),\n         constness = f.header.constness.print_with_space(),\n-        unsafety = f.header.unsafety.print_with_space(),\n         asyncness = f.header.asyncness.print_with_space(),\n+        unsafety = f.header.unsafety.print_with_space(),\n         abi = print_abi_with_space(f.header.abi),\n         name = it.name.as_ref().unwrap(),\n         generics = f.generics.print(),\n@@ -2832,8 +2832,8 @@ fn render_assoc_item(\n             \"{}{}{}{}{}{:#}fn {}{:#}\",\n             meth.visibility.print_with_space(),\n             header.constness.print_with_space(),\n-            header.unsafety.print_with_space(),\n             header.asyncness.print_with_space(),\n+            header.unsafety.print_with_space(),\n             print_default_space(meth.is_default()),\n             print_abi_with_space(header.abi),\n             name,\n@@ -2854,8 +2854,8 @@ fn render_assoc_item(\n             if parent == ItemType::Trait { \"    \" } else { \"\" },\n             meth.visibility.print_with_space(),\n             header.constness.print_with_space(),\n-            header.unsafety.print_with_space(),\n             header.asyncness.print_with_space(),\n+            header.unsafety.print_with_space(),\n             print_default_space(meth.is_default()),\n             print_abi_with_space(header.abi),\n             href = href,"}, {"sha": "5a03e821e8a2ff637b7adbc2117dd987652ba04a", "filename": "src/test/rustdoc/async-fn.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f6406f7f680d4f77144d22e1f74064e878213f5c/src%2Ftest%2Frustdoc%2Fasync-fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6406f7f680d4f77144d22e1f74064e878213f5c/src%2Ftest%2Frustdoc%2Fasync-fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fasync-fn.rs?ref=f6406f7f680d4f77144d22e1f74064e878213f5c", "patch": "@@ -15,6 +15,11 @@ pub async fn baz<T>(a: T) -> T {\n     a\n }\n \n+// @has async_fn/fn.qux.html '//pre[@class=\"rust fn\"]' 'pub async unsafe fn qux() -> char'\n+pub async unsafe fn qux() -> char {\n+    '\u26a0'\n+}\n+\n trait Bar {}\n \n impl Bar for () {}\n@@ -26,8 +31,10 @@ pub async fn quux() -> impl Bar {\n \n // @has async_fn/struct.Foo.html\n // @matches - '//code' 'pub async fn f\\(\\)$'\n+// @matches - '//code' 'pub async unsafe fn g\\(\\)$'\n pub struct Foo;\n \n impl Foo {\n     pub async fn f() {}\n+    pub async unsafe fn g() {}\n }"}]}