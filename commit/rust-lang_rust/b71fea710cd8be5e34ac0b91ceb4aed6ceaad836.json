{"sha": "b71fea710cd8be5e34ac0b91ceb4aed6ceaad836", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI3MWZlYTcxMGNkOGJlNWUzNGFjMGI5MWNlYjRhZWQ2Y2VhYWQ4MzY=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-05-21T09:23:04Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2020-05-28T06:53:44Z"}, "message": "just respect existing RUSTFLAGS instead of providing another override", "tree": {"sha": "f73898633ba66f5ae8eddcd71bf08925ce474d79", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f73898633ba66f5ae8eddcd71bf08925ce474d79"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b71fea710cd8be5e34ac0b91ceb4aed6ceaad836", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b71fea710cd8be5e34ac0b91ceb4aed6ceaad836", "html_url": "https://github.com/rust-lang/rust/commit/b71fea710cd8be5e34ac0b91ceb4aed6ceaad836", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b71fea710cd8be5e34ac0b91ceb4aed6ceaad836/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0790f75ae4892772583ef637b2fcde31039d8999", "url": "https://api.github.com/repos/rust-lang/rust/commits/0790f75ae4892772583ef637b2fcde31039d8999", "html_url": "https://github.com/rust-lang/rust/commit/0790f75ae4892772583ef637b2fcde31039d8999"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "8c3fcebe94db9477ee051420cd659f96c109d9de", "filename": "ci.sh", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b71fea710cd8be5e34ac0b91ceb4aed6ceaad836/ci.sh", "raw_url": "https://github.com/rust-lang/rust/raw/b71fea710cd8be5e34ac0b91ceb4aed6ceaad836/ci.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/ci.sh?ref=b71fea710cd8be5e34ac0b91ceb4aed6ceaad836", "patch": "@@ -4,7 +4,7 @@ set -euo pipefail\n # Determine configuration\n export RUST_TEST_NOCAPTURE=1\n export RUST_BACKTRACE=1\n-export RUSTC_EXTRA_FLAGS=\"-D warnings\"\n+export RUSTFLAGS=\"-D warnings\"\n export CARGO_INCREMENTAL=0\n export CARGO_EXTRA_FLAGS=\"--all-features\"\n "}, {"sha": "4b6426adb1dc7eab241baa61db21a8dd50054e5e", "filename": "miri", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b71fea710cd8be5e34ac0b91ceb4aed6ceaad836/miri", "raw_url": "https://github.com/rust-lang/rust/raw/b71fea710cd8be5e34ac0b91ceb4aed6ceaad836/miri", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/miri?ref=b71fea710cd8be5e34ac0b91ceb4aed6ceaad836", "patch": "@@ -45,14 +45,14 @@ if ! test -d \"$LIBDIR\"; then\n     echo \"Please report a bug at https://github.com/rust-lang/miri/issues.\"\n     exit 2\n fi\n-# We set the rpath so that Miri finds the private rustc libraries it needs.\n-# We enable debug-assertions to get tracing.\n-# We enable line-only debuginfo for backtraces.\n-export RUSTFLAGS=\"-C link-args=-Wl,-rpath,$LIBDIR -C debug-assertions -C debuginfo=1 $RUSTC_EXTRA_FLAGS\"\n if [ -z \"$CARGO_INCREMENTAL\" ]; then\n     # Default CARGO_INCREMENTAL to 1.\n     export CARGO_INCREMENTAL=1\n fi\n+# We set the rpath so that Miri finds the private rustc libraries it needs.\n+# We enable debug-assertions to get tracing.\n+# We enable line-only debuginfo for backtraces.\n+export RUSTFLAGS=\"-C link-args=-Wl,-rpath,$LIBDIR -C debug-assertions -C debuginfo=1 $RUSTFLAGS\"\n \n ## Helper functions\n "}]}