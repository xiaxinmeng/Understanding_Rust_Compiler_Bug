{"sha": "aee6cd937a3fff26a5d13f0a8570cafe5fb8a11c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFlZTZjZDkzN2EzZmZmMjZhNWQxM2YwYTg1NzBjYWZlNWZiOGExMWM=", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-08-31T20:40:20Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2019-08-31T20:40:20Z"}, "message": "Fix nll tests", "tree": {"sha": "9eb0947ed9703c3bf90e56786836c4f05835127f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9eb0947ed9703c3bf90e56786836c4f05835127f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aee6cd937a3fff26a5d13f0a8570cafe5fb8a11c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aee6cd937a3fff26a5d13f0a8570cafe5fb8a11c", "html_url": "https://github.com/rust-lang/rust/commit/aee6cd937a3fff26a5d13f0a8570cafe5fb8a11c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aee6cd937a3fff26a5d13f0a8570cafe5fb8a11c/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9d15b6fb95d7aed3bcadaadaf0516c4733c4f439", "url": "https://api.github.com/repos/rust-lang/rust/commits/9d15b6fb95d7aed3bcadaadaf0516c4733c4f439", "html_url": "https://github.com/rust-lang/rust/commit/9d15b6fb95d7aed3bcadaadaf0516c4733c4f439"}], "stats": {"total": 61, "additions": 24, "deletions": 37}, "files": [{"sha": "565c60e5216dd1e22effc2541addd896bd1a1ef0", "filename": "src/test/ui/closure-expected-type/expect-fn-supply-fn.nll.stderr", "status": "modified", "additions": 18, "deletions": 27, "changes": 45, "blob_url": "https://github.com/rust-lang/rust/blob/aee6cd937a3fff26a5d13f0a8570cafe5fb8a11c/src%2Ftest%2Fui%2Fclosure-expected-type%2Fexpect-fn-supply-fn.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aee6cd937a3fff26a5d13f0a8570cafe5fb8a11c/src%2Ftest%2Fui%2Fclosure-expected-type%2Fexpect-fn-supply-fn.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fclosure-expected-type%2Fexpect-fn-supply-fn.nll.stderr?ref=aee6cd937a3fff26a5d13f0a8570cafe5fb8a11c", "patch": "@@ -1,53 +1,44 @@\n error[E0631]: type mismatch in closure arguments\n   --> $DIR/expect-fn-supply-fn.rs:30:5\n    |\n-LL |     with_closure_expecting_fn_with_free_region(|x: fn(&u32), y| {});\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ---------------- found signature of `fn(for<'r> fn(&'r u32), _) -> _`\n-   |     |\n-   |     expected signature of `fn(fn(&'a u32), &i32) -> _`\n-   |\n-note: required by `with_closure_expecting_fn_with_free_region`\n-  --> $DIR/expect-fn-supply-fn.rs:1:1\n-   |\n LL | / fn with_closure_expecting_fn_with_free_region<F>(_: F)\n LL | |     where F: for<'a> FnOnce(fn(&'a u32), &i32)\n LL | | {\n LL | | }\n-   | |_^\n+   | |_- required by `with_closure_expecting_fn_with_free_region`\n+...\n+LL |       with_closure_expecting_fn_with_free_region(|x: fn(&u32), y| {});\n+   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ---------------- found signature of `fn(for<'r> fn(&'r u32), _) -> _`\n+   |       |\n+   |       expected signature of `fn(fn(&'a u32), &i32) -> _`\n \n error[E0631]: type mismatch in closure arguments\n   --> $DIR/expect-fn-supply-fn.rs:37:5\n    |\n-LL |     with_closure_expecting_fn_with_bound_region(|x: fn(&'x u32), y| {});\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ------------------- found signature of `fn(fn(&'x u32), _) -> _`\n-   |     |\n-   |     expected signature of `fn(for<'r> fn(&'r u32), &i32) -> _`\n-   |\n-note: required by `with_closure_expecting_fn_with_bound_region`\n-  --> $DIR/expect-fn-supply-fn.rs:6:1\n-   |\n LL | / fn with_closure_expecting_fn_with_bound_region<F>(_: F)\n LL | |     where F: FnOnce(fn(&u32), &i32)\n LL | | {\n LL | | }\n-   | |_^\n+   | |_- required by `with_closure_expecting_fn_with_bound_region`\n+...\n+LL |       with_closure_expecting_fn_with_bound_region(|x: fn(&'x u32), y| {});\n+   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ ------------------- found signature of `fn(fn(&'x u32), _) -> _`\n+   |       |\n+   |       expected signature of `fn(for<'r> fn(&'r u32), &i32) -> _`\n \n error[E0631]: type mismatch in closure arguments\n   --> $DIR/expect-fn-supply-fn.rs:46:5\n    |\n-LL |     with_closure_expecting_fn_with_bound_region(|x: Foo<'_>, y| {\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ --------------- found signature of `for<'r> fn(fn(&'r u32), _) -> _`\n-   |     |\n-   |     expected signature of `fn(for<'r> fn(&'r u32), &i32) -> _`\n-   |\n-note: required by `with_closure_expecting_fn_with_bound_region`\n-  --> $DIR/expect-fn-supply-fn.rs:6:1\n-   |\n LL | / fn with_closure_expecting_fn_with_bound_region<F>(_: F)\n LL | |     where F: FnOnce(fn(&u32), &i32)\n LL | | {\n LL | | }\n-   | |_^\n+   | |_- required by `with_closure_expecting_fn_with_bound_region`\n+...\n+LL |       with_closure_expecting_fn_with_bound_region(|x: Foo<'_>, y| {\n+   |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ --------------- found signature of `for<'r> fn(fn(&'r u32), _) -> _`\n+   |       |\n+   |       expected signature of `fn(for<'r> fn(&'r u32), &i32) -> _`\n \n error: aborting due to 3 previous errors\n "}, {"sha": "c7d18cd8b8bb1cb533cad781706ef7e32b0e1503", "filename": "src/test/ui/kindck/kindck-send-object1.nll.stderr", "status": "modified", "additions": 6, "deletions": 10, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/aee6cd937a3fff26a5d13f0a8570cafe5fb8a11c/src%2Ftest%2Fui%2Fkindck%2Fkindck-send-object1.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/aee6cd937a3fff26a5d13f0a8570cafe5fb8a11c/src%2Ftest%2Fui%2Fkindck%2Fkindck-send-object1.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fkindck%2Fkindck-send-object1.nll.stderr?ref=aee6cd937a3fff26a5d13f0a8570cafe5fb8a11c", "patch": "@@ -1,31 +1,27 @@\n error[E0277]: `(dyn Dummy + 'a)` cannot be shared between threads safely\n   --> $DIR/kindck-send-object1.rs:10:5\n    |\n+LL | fn assert_send<T:Send+'static>() { }\n+   | -------------------------------- required by `assert_send`\n+...\n LL |     assert_send::<&'a dyn Dummy>();\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `(dyn Dummy + 'a)` cannot be shared between threads safely\n    |\n    = help: the trait `std::marker::Sync` is not implemented for `(dyn Dummy + 'a)`\n    = note: required because of the requirements on the impl of `std::marker::Send` for `&'a (dyn Dummy + 'a)`\n-note: required by `assert_send`\n-  --> $DIR/kindck-send-object1.rs:5:1\n-   |\n-LL | fn assert_send<T:Send+'static>() { }\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error[E0277]: `(dyn Dummy + 'a)` cannot be sent between threads safely\n   --> $DIR/kindck-send-object1.rs:29:5\n    |\n+LL | fn assert_send<T:Send+'static>() { }\n+   | -------------------------------- required by `assert_send`\n+...\n LL |     assert_send::<Box<dyn Dummy + 'a>>();\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `(dyn Dummy + 'a)` cannot be sent between threads safely\n    |\n    = help: the trait `std::marker::Send` is not implemented for `(dyn Dummy + 'a)`\n    = note: required because of the requirements on the impl of `std::marker::Send` for `std::ptr::Unique<(dyn Dummy + 'a)>`\n    = note: required because it appears within the type `std::boxed::Box<(dyn Dummy + 'a)>`\n-note: required by `assert_send`\n-  --> $DIR/kindck-send-object1.rs:5:1\n-   |\n-LL | fn assert_send<T:Send+'static>() { }\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 2 previous errors\n "}]}