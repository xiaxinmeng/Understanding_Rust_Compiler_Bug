{"sha": "79220247cd28bf84110976bf07e99f7b4aa9ec2b", "node_id": "C_kwDOAAsO6NoAKDc5MjIwMjQ3Y2QyOGJmODQxMTA5NzZiZjA3ZTk5ZjdiNGFhOWVjMmI", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2022-03-17T10:05:32Z"}, "committer": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2022-03-31T16:43:12Z"}, "message": "Categorize and sort unstable features in std.", "tree": {"sha": "45aa5c96047973118f88e46a2a8d0c3c1e1874bb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/45aa5c96047973118f88e46a2a8d0c3c1e1874bb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/79220247cd28bf84110976bf07e99f7b4aa9ec2b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/79220247cd28bf84110976bf07e99f7b4aa9ec2b", "html_url": "https://github.com/rust-lang/rust/commit/79220247cd28bf84110976bf07e99f7b4aa9ec2b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/79220247cd28bf84110976bf07e99f7b4aa9ec2b/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e50ff9b4521234e56ff46f8ed0372d5cb5689654", "url": "https://api.github.com/repos/rust-lang/rust/commits/e50ff9b4521234e56ff46f8ed0372d5cb5689654", "html_url": "https://github.com/rust-lang/rust/commit/e50ff9b4521234e56ff46f8ed0372d5cb5689654"}], "stats": {"total": 137, "additions": 74, "deletions": 63}, "files": [{"sha": "819ec10a4b4b65c0caa682989a5054543d7b1f0d", "filename": "library/std/src/lib.rs", "status": "modified", "additions": 74, "deletions": 63, "changes": 137, "blob_url": "https://github.com/rust-lang/rust/blob/79220247cd28bf84110976bf07e99f7b4aa9ec2b/library%2Fstd%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79220247cd28bf84110976bf07e99f7b4aa9ec2b/library%2Fstd%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Flib.rs?ref=79220247cd28bf84110976bf07e99f7b4aa9ec2b", "patch": "@@ -218,111 +218,122 @@\n     feature(slice_index_methods, coerce_unsized, sgx_platform)\n )]\n #![deny(rustc::existing_doc_keyword)]\n-// std is implemented with unstable features, many of which are internal\n-// compiler details that will never be stable\n-// NB: the following list is sorted to minimize merge conflicts.\n+//\n+// Language features:\n #![feature(alloc_error_handler)]\n-#![feature(alloc_layout_extra)]\n-#![feature(allocator_api)]\n #![feature(allocator_internals)]\n #![feature(allow_internal_unsafe)]\n #![feature(allow_internal_unstable)]\n-#![feature(array_error_internals)]\n-#![feature(assert_matches)]\n #![feature(associated_type_bounds)]\n-#![feature(async_iterator)]\n-#![feature(atomic_mut_ptr)]\n-#![feature(bench_black_box)]\n #![feature(box_syntax)]\n #![feature(c_unwind)]\n-#![feature(c_variadic)]\n-#![feature(cfg_accessible)]\n-#![feature(cfg_eval)]\n #![feature(cfg_target_thread_local)]\n-#![feature(char_error_internals)]\n-#![feature(char_internals)]\n-#![feature(concat_bytes)]\n #![feature(concat_idents)]\n #![cfg_attr(bootstrap, feature(const_fn_fn_ptr_basics))]\n #![cfg_attr(bootstrap, feature(const_fn_trait_bound))]\n-#![feature(const_format_args)]\n-#![feature(const_io_structs)]\n-#![feature(const_ip)]\n-#![feature(const_ipv4)]\n-#![feature(const_ipv6)]\n #![feature(const_mut_refs)]\n-#![feature(const_option)]\n-#![feature(const_socketaddr)]\n #![feature(const_trait_impl)]\n-#![feature(c_size_t)]\n-#![feature(core_ffi_c)]\n-#![feature(core_intrinsics)]\n-#![feature(core_panic)]\n-#![feature(custom_test_frameworks)]\n #![feature(decl_macro)]\n+#![cfg_attr(not(bootstrap), feature(deprecated_suggestion))]\n #![feature(doc_cfg)]\n #![feature(doc_cfg_hide)]\n-#![feature(rustdoc_internals)]\n-#![cfg_attr(not(bootstrap), feature(deprecated_suggestion))]\n #![feature(doc_masked)]\n #![feature(doc_notable_trait)]\n #![feature(dropck_eyepatch)]\n-#![feature(duration_checked_float)]\n-#![feature(duration_constants)]\n-#![feature(edition_panic)]\n-#![feature(exact_size_is_empty)]\n #![feature(exhaustive_patterns)]\n-#![feature(extend_one)]\n-#![feature(float_minimum_maximum)]\n-#![feature(format_args_nl)]\n-#![feature(strict_provenance)]\n-#![feature(get_mut_unchecked)]\n-#![feature(hashmap_internals)]\n-#![feature(int_error_internals)]\n #![feature(intra_doc_pointers)]\n #![feature(lang_items)]\n #![feature(linkage)]\n-#![feature(log_syntax)]\n-#![feature(map_try_insert)]\n-#![feature(maybe_uninit_slice)]\n-#![feature(maybe_uninit_write_slice)]\n #![feature(min_specialization)]\n-#![feature(mixed_integer_ops)]\n #![feature(must_not_suspend)]\n #![feature(needs_panic_runtime)]\n #![feature(negative_impls)]\n #![feature(never_type)]\n-#![feature(new_uninit)]\n #![feature(nll)]\n+#![feature(platform_intrinsics)]\n+#![feature(prelude_import)]\n+#![feature(rustc_attrs)]\n+#![feature(rustdoc_internals)]\n+#![feature(staged_api)]\n+#![feature(thread_local)]\n+#![feature(try_blocks)]\n+//\n+// Library features (core):\n+#![feature(array_error_internals)]\n+#![feature(atomic_mut_ptr)]\n+#![feature(char_error_internals)]\n+#![feature(char_internals)]\n+#![feature(core_intrinsics)]\n+#![feature(duration_checked_float)]\n+#![feature(duration_constants)]\n+#![feature(exact_size_is_empty)]\n+#![feature(extend_one)]\n+#![feature(float_minimum_maximum)]\n+#![feature(hashmap_internals)]\n+#![feature(int_error_internals)]\n+#![feature(maybe_uninit_slice)]\n+#![feature(maybe_uninit_write_slice)]\n+#![feature(mixed_integer_ops)]\n #![feature(nonnull_slice_from_raw_parts)]\n-#![feature(once_cell)]\n+#![feature(panic_can_unwind)]\n #![feature(panic_info_message)]\n #![feature(panic_internals)]\n-#![feature(panic_can_unwind)]\n-#![feature(panic_unwind)]\n-#![feature(platform_intrinsics)]\n #![feature(portable_simd)]\n-#![feature(prelude_import)]\n #![feature(ptr_as_uninit)]\n #![feature(raw_os_nonzero)]\n-#![feature(rustc_attrs)]\n-#![feature(saturating_int_impl)]\n #![feature(slice_internals)]\n #![feature(slice_ptr_get)]\n-#![feature(staged_api)]\n #![feature(std_internals)]\n-#![feature(stdsimd)]\n #![feature(str_internals)]\n-#![feature(test)]\n-#![feature(thread_local)]\n-#![feature(thread_local_internals)]\n-#![feature(toowned_clone_into)]\n+#![feature(strict_provenance)]\n #![feature(total_cmp)]\n-#![feature(trace_macros)]\n-#![feature(try_blocks)]\n+//\n+// Library features (alloc):\n+#![feature(alloc_layout_extra)]\n+#![feature(allocator_api)]\n+#![feature(get_mut_unchecked)]\n+#![feature(map_try_insert)]\n+#![feature(new_uninit)]\n+#![feature(toowned_clone_into)]\n #![feature(try_reserve_kind)]\n #![feature(vec_into_raw_parts)]\n-// NB: the above list is sorted to minimize merge conflicts.\n+//\n+// Library features (unwind):\n+#![feature(panic_unwind)]\n+//\n+// Only for re-exporting:\n+#![feature(assert_matches)]\n+#![feature(async_iterator)]\n+#![feature(c_size_t)]\n+#![feature(c_variadic)]\n+#![feature(cfg_accessible)]\n+#![feature(cfg_eval)]\n+#![feature(concat_bytes)]\n+#![feature(const_format_args)]\n+#![feature(core_ffi_c)]\n+#![feature(core_panic)]\n+#![feature(custom_test_frameworks)]\n+#![feature(edition_panic)]\n+#![feature(format_args_nl)]\n+#![feature(log_syntax)]\n+#![feature(once_cell)]\n+#![feature(saturating_int_impl)]\n+#![feature(stdsimd)]\n+#![feature(test)]\n+#![feature(trace_macros)]\n+//\n+// Only used in tests/benchmarks:\n+#![feature(bench_black_box)]\n+//\n+// Only for const-ness:\n+#![feature(const_io_structs)]\n+#![feature(const_ip)]\n+#![feature(const_ipv4)]\n+#![feature(const_ipv6)]\n+#![feature(const_option)]\n+#![feature(const_socketaddr)]\n+#![feature(thread_local_internals)]\n+//\n #![default_lib_allocator]\n \n // Explicitly import the prelude. The compiler uses this same unstable attribute"}]}