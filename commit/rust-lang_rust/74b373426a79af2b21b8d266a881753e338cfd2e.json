{"sha": "74b373426a79af2b21b8d266a881753e338cfd2e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc0YjM3MzQyNmE3OWFmMmIyMWI4ZDI2NmE4ODE3NTNlMzM4Y2ZkMmU=", "commit": {"author": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2020-07-13T23:55:33Z"}, "committer": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2020-07-28T03:11:18Z"}, "message": "Fix most bootstrap tests\n\nUses --stage 2 for all the existing tests", "tree": {"sha": "e51e3ca554304a68015234ccd34d6d3cc8fa0485", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e51e3ca554304a68015234ccd34d6d3cc8fa0485"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/74b373426a79af2b21b8d266a881753e338cfd2e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/74b373426a79af2b21b8d266a881753e338cfd2e", "html_url": "https://github.com/rust-lang/rust/commit/74b373426a79af2b21b8d266a881753e338cfd2e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/74b373426a79af2b21b8d266a881753e338cfd2e/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "01c6256178fb126d668045f3a1297e0f3491e985", "url": "https://api.github.com/repos/rust-lang/rust/commits/01c6256178fb126d668045f3a1297e0f3491e985", "html_url": "https://github.com/rust-lang/rust/commit/01c6256178fb126d668045f3a1297e0f3491e985"}], "stats": {"total": 5, "additions": 3, "deletions": 2}, "files": [{"sha": "f2f0906ff4edf14da8e0adf1dbb061318f27a33e", "filename": "src/bootstrap/builder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/74b373426a79af2b21b8d266a881753e338cfd2e/src%2Fbootstrap%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/74b373426a79af2b21b8d266a881753e338cfd2e/src%2Fbootstrap%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbuilder.rs?ref=74b373426a79af2b21b8d266a881753e338cfd2e", "patch": "@@ -232,7 +232,7 @@ impl StepDescription {\n                 }\n \n                 if !attempted_run {\n-                    panic!(\"Error: no rules matched {}.\", path.display());\n+                    panic!(\"error: no rules matched {}\", path.display());\n                 }\n             }\n         }"}, {"sha": "240553d8baf96a5b6739784f361570bd27bf195e", "filename": "src/bootstrap/builder/tests.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/74b373426a79af2b21b8d266a881753e338cfd2e/src%2Fbootstrap%2Fbuilder%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/74b373426a79af2b21b8d266a881753e338cfd2e/src%2Fbootstrap%2Fbuilder%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbuilder%2Ftests.rs?ref=74b373426a79af2b21b8d266a881753e338cfd2e", "patch": "@@ -6,6 +6,7 @@ use pretty_assertions::assert_eq;\n \n fn configure(host: &[&str], target: &[&str]) -> Config {\n     let mut config = Config::default_opts();\n+    config.stage = Some(2);\n     // don't save toolstates\n     config.save_toolstates = None;\n     config.skip_only_host_steps = false;\n@@ -421,7 +422,7 @@ fn test_exclude() {\n }\n \n #[test]\n-fn doc_default() {\n+fn doc_ci() {\n     let mut config = configure(&[], &[]);\n     config.compiler_docs = true;\n     config.cmd = Subcommand::Doc { paths: Vec::new(), open: false };"}]}