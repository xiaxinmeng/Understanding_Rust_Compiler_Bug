{"sha": "bb183b93ea2aacc9563aee782c9a239cf57da24f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJiMTgzYjkzZWEyYWFjYzk1NjNhZWU3ODJjOWEyMzljZjU3ZGEyNGY=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2013-01-26T08:25:41Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2013-01-26T19:38:00Z"}, "message": "testsuite: Eliminate structural records from run-fail tests", "tree": {"sha": "da5f0ed56f1a295b0f7e0f809dfcc92219761790", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/da5f0ed56f1a295b0f7e0f809dfcc92219761790"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bb183b93ea2aacc9563aee782c9a239cf57da24f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bb183b93ea2aacc9563aee782c9a239cf57da24f", "html_url": "https://github.com/rust-lang/rust/commit/bb183b93ea2aacc9563aee782c9a239cf57da24f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bb183b93ea2aacc9563aee782c9a239cf57da24f/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "72b669df431a24071dff69e5d3a52ef5ee965cb1", "url": "https://api.github.com/repos/rust-lang/rust/commits/72b669df431a24071dff69e5d3a52ef5ee965cb1", "html_url": "https://github.com/rust-lang/rust/commit/72b669df431a24071dff69e5d3a52ef5ee965cb1"}], "stats": {"total": 28, "additions": 21, "deletions": 7}, "files": [{"sha": "c81ef07f5d7957473e1a3c547a9f37eee1cc5b02", "filename": "src/test/run-fail/issue-2272.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/bb183b93ea2aacc9563aee782c9a239cf57da24f/src%2Ftest%2Frun-fail%2Fissue-2272.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bb183b93ea2aacc9563aee782c9a239cf57da24f/src%2Ftest%2Frun-fail%2Fissue-2272.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Fissue-2272.rs?ref=bb183b93ea2aacc9563aee782c9a239cf57da24f", "patch": "@@ -11,9 +11,13 @@\n // error-pattern:explicit failure\n // Issue #2272 - unwind this without leaking the unique pointer\n \n+struct X { y: Y, a: ~int }\n+\n+struct Y { z: @int }\n+\n fn main() {\n-    let _x = {\n-        y: {\n+    let _x = X {\n+        y: Y {\n             z: @0\n         },\n         a: ~0"}, {"sha": "7a41eb0ca50dd585cd6115663312120fe56da838", "filename": "src/test/run-fail/issue-948.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/bb183b93ea2aacc9563aee782c9a239cf57da24f/src%2Ftest%2Frun-fail%2Fissue-948.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bb183b93ea2aacc9563aee782c9a239cf57da24f/src%2Ftest%2Frun-fail%2Fissue-948.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Fissue-948.rs?ref=bb183b93ea2aacc9563aee782c9a239cf57da24f", "patch": "@@ -9,7 +9,10 @@\n // except according to those terms.\n \n // error-pattern:beep boop\n+\n+struct Point { x: int, y: int }\n+\n fn main() {\n-    let origin = {x: 0, y: 0};\n-    let f: {x:int,y:int} = {x: (fail ~\"beep boop\"),.. origin};\n+    let origin = Point {x: 0, y: 0};\n+    let f: Point = Point {x: (fail ~\"beep boop\"),.. origin};\n }"}, {"sha": "54a3e9d5a97d8e00db83701e7162dbd5b42c9831", "filename": "src/test/run-fail/rhs-type.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/bb183b93ea2aacc9563aee782c9a239cf57da24f/src%2Ftest%2Frun-fail%2Frhs-type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bb183b93ea2aacc9563aee782c9a239cf57da24f/src%2Ftest%2Frun-fail%2Frhs-type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Frhs-type.rs?ref=bb183b93ea2aacc9563aee782c9a239cf57da24f", "patch": "@@ -11,4 +11,7 @@\n // Tests that trans treats the rhs of pth's decl\n // as a _|_-typed thing, not a str-typed thing\n // error-pattern:bye\n-fn main() { let pth = fail ~\"bye\"; let rs: {t: ~str} = {t: pth}; }\n+\n+struct T { t: ~str }\n+\n+fn main() { let pth = fail ~\"bye\"; let rs: T = T {t: pth}; }"}, {"sha": "200d511db5411f1f8159b705c25830a6df1b7b26", "filename": "src/test/run-fail/unwind-rec.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bb183b93ea2aacc9563aee782c9a239cf57da24f/src%2Ftest%2Frun-fail%2Funwind-rec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bb183b93ea2aacc9563aee782c9a239cf57da24f/src%2Ftest%2Frun-fail%2Funwind-rec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Funwind-rec.rs?ref=bb183b93ea2aacc9563aee782c9a239cf57da24f", "patch": "@@ -14,8 +14,10 @@ fn build() -> ~[int] {\n     fail;\n }\n \n+struct Blk { node: ~[int] }\n+\n fn main() {\n-    let blk = {\n+    let blk = Blk {\n         node: build()\n     };\n }\n\\ No newline at end of file"}, {"sha": "bf35abdafaf212af3ffa50be50023d1ca3e64716", "filename": "src/test/run-fail/unwind-rec2.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bb183b93ea2aacc9563aee782c9a239cf57da24f/src%2Ftest%2Frun-fail%2Funwind-rec2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bb183b93ea2aacc9563aee782c9a239cf57da24f/src%2Ftest%2Frun-fail%2Funwind-rec2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Funwind-rec2.rs?ref=bb183b93ea2aacc9563aee782c9a239cf57da24f", "patch": "@@ -18,8 +18,10 @@ fn build2() -> ~[int] {\n     fail;\n }\n \n+struct Blk { node: ~[int], span: ~[int] }\n+\n fn main() {\n-    let blk = {\n+    let blk = Blk {\n         node: build1(),\n         span: build2()\n     };"}]}