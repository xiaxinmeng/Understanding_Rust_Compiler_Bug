{"sha": "cd92da833fcb8818ac679be615c7bfe02edaa235", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNkOTJkYTgzM2ZjYjg4MThhYzY3OWJlNjE1YzdiZmUwMmVkYWEyMzU=", "commit": {"author": {"name": "Matthew Jasper", "email": "mjjasper1@gmail.com", "date": "2018-08-21T19:47:39Z"}, "committer": {"name": "Matthew Jasper", "email": "mjjasper1@gmail.com", "date": "2018-08-22T20:36:10Z"}, "message": "Update E0161 test to cover more cases\nUpdate another test that broke due to E0161 no longer being buffered", "tree": {"sha": "394f50369669076ea114e2fe156bf1f6c02679c7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/394f50369669076ea114e2fe156bf1f6c02679c7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cd92da833fcb8818ac679be615c7bfe02edaa235", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cd92da833fcb8818ac679be615c7bfe02edaa235", "html_url": "https://github.com/rust-lang/rust/commit/cd92da833fcb8818ac679be615c7bfe02edaa235", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cd92da833fcb8818ac679be615c7bfe02edaa235/comments", "author": {"login": "matthewjasper", "id": 20113453, "node_id": "MDQ6VXNlcjIwMTEzNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewjasper", "html_url": "https://github.com/matthewjasper", "followers_url": "https://api.github.com/users/matthewjasper/followers", "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}", "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions", "organizations_url": "https://api.github.com/users/matthewjasper/orgs", "repos_url": "https://api.github.com/users/matthewjasper/repos", "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewjasper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthewjasper", "id": 20113453, "node_id": "MDQ6VXNlcjIwMTEzNDUz", "avatar_url": "https://avatars.githubusercontent.com/u/20113453?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthewjasper", "html_url": "https://github.com/matthewjasper", "followers_url": "https://api.github.com/users/matthewjasper/followers", "following_url": "https://api.github.com/users/matthewjasper/following{/other_user}", "gists_url": "https://api.github.com/users/matthewjasper/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthewjasper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthewjasper/subscriptions", "organizations_url": "https://api.github.com/users/matthewjasper/orgs", "repos_url": "https://api.github.com/users/matthewjasper/repos", "events_url": "https://api.github.com/users/matthewjasper/events{/privacy}", "received_events_url": "https://api.github.com/users/matthewjasper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b83fe42237d5c3e3e40708f9ce8c8fa1eec3e431", "url": "https://api.github.com/repos/rust-lang/rust/commits/b83fe42237d5c3e3e40708f9ce8c8fa1eec3e431", "html_url": "https://github.com/rust-lang/rust/commit/b83fe42237d5c3e3e40708f9ce8c8fa1eec3e431"}], "stats": {"total": 121, "additions": 106, "deletions": 15}, "files": [{"sha": "0aa85d3ed7a3d36f248e6d25c10b99f68c55adbd", "filename": "src/test/ui/dst/dst-index.nll.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Fdst%2Fdst-index.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Fdst%2Fdst-index.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdst%2Fdst-index.nll.stderr?ref=cd92da833fcb8818ac679be615c7bfe02edaa235", "patch": "@@ -4,18 +4,18 @@ error[E0161]: cannot move a value of type str: the size of str cannot be statica\n LL |     S[0];\n    |     ^^^^\n \n-error[E0507]: cannot move out of borrowed content\n-  --> $DIR/dst-index.rs:41:5\n-   |\n-LL |     S[0];\n-   |     ^^^^ cannot move out of borrowed content\n-\n error[E0161]: cannot move a value of type dyn std::fmt::Debug: the size of dyn std::fmt::Debug cannot be statically determined\n   --> $DIR/dst-index.rs:44:5\n    |\n LL |     T[0];\n    |     ^^^^\n \n+error[E0507]: cannot move out of borrowed content\n+  --> $DIR/dst-index.rs:41:5\n+   |\n+LL |     S[0];\n+   |     ^^^^ cannot move out of borrowed content\n+\n error[E0507]: cannot move out of borrowed content\n   --> $DIR/dst-index.rs:44:5\n    |"}, {"sha": "b120da773a24a3448d80882dfaf46fa498d4be5d", "filename": "src/test/ui/dst/dst-rvalue.nll.stderr", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Fdst%2Fdst-rvalue.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Fdst%2Fdst-rvalue.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdst%2Fdst-rvalue.nll.stderr?ref=cd92da833fcb8818ac679be615c7bfe02edaa235", "patch": "@@ -4,18 +4,18 @@ error[E0161]: cannot move a value of type str: the size of str cannot be statica\n LL |     let _x: Box<str> = box *\"hello world\";\n    |                            ^^^^^^^^^^^^^^\n \n-error[E0507]: cannot move out of borrowed content\n-  --> $DIR/dst-rvalue.rs:16:28\n-   |\n-LL |     let _x: Box<str> = box *\"hello world\";\n-   |                            ^^^^^^^^^^^^^^ cannot move out of borrowed content\n-\n error[E0161]: cannot move a value of type [isize]: the size of [isize] cannot be statically determined\n   --> $DIR/dst-rvalue.rs:21:32\n    |\n LL |     let _x: Box<[isize]> = box *array;\n    |                                ^^^^^^\n \n+error[E0507]: cannot move out of borrowed content\n+  --> $DIR/dst-rvalue.rs:16:28\n+   |\n+LL |     let _x: Box<str> = box *\"hello world\";\n+   |                            ^^^^^^^^^^^^^^ cannot move out of borrowed content\n+\n error[E0508]: cannot move out of type `[isize]`, a non-copy slice\n   --> $DIR/dst-rvalue.rs:21:32\n    |"}, {"sha": "62e8676e6319878dfe453f295ca47d7484d4f0ef", "filename": "src/test/ui/error-codes/E0161.ast.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.ast.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.ast.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0161.ast.stderr?ref=cd92da833fcb8818ac679be615c7bfe02edaa235", "patch": "@@ -0,0 +1,9 @@\n+error[E0161]: cannot move a value of type [i32]: the size of [i32] cannot be statically determined\n+  --> $DIR/E0161.rs:32:9\n+   |\n+LL |     box *x; //~ ERROR E0161\n+   |         ^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0161`."}, {"sha": "79080fb4eae15c563de6effb90ef46396e0e59f8", "filename": "src/test/ui/error-codes/E0161.astul.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.astul.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.astul.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0161.astul.stderr?ref=cd92da833fcb8818ac679be615c7bfe02edaa235", "patch": "@@ -0,0 +1,9 @@\n+error[E0161]: cannot move a value of type [i32]: the size of [i32] cannot be statically determined\n+  --> $DIR/E0161.rs:32:5\n+   |\n+LL |     box *x; //~ ERROR E0161\n+   |     ^^^^^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0161`."}, {"sha": "62e8676e6319878dfe453f295ca47d7484d4f0ef", "filename": "src/test/ui/error-codes/E0161.edition.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.edition.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.edition.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0161.edition.stderr?ref=cd92da833fcb8818ac679be615c7bfe02edaa235", "patch": "@@ -0,0 +1,9 @@\n+error[E0161]: cannot move a value of type [i32]: the size of [i32] cannot be statically determined\n+  --> $DIR/E0161.rs:32:9\n+   |\n+LL |     box *x; //~ ERROR E0161\n+   |         ^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0161`."}, {"sha": "79080fb4eae15c563de6effb90ef46396e0e59f8", "filename": "src/test/ui/error-codes/E0161.editionul.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.editionul.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.editionul.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0161.editionul.stderr?ref=cd92da833fcb8818ac679be615c7bfe02edaa235", "patch": "@@ -0,0 +1,9 @@\n+error[E0161]: cannot move a value of type [i32]: the size of [i32] cannot be statically determined\n+  --> $DIR/E0161.rs:32:5\n+   |\n+LL |     box *x; //~ ERROR E0161\n+   |     ^^^^^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0161`."}, {"sha": "62e8676e6319878dfe453f295ca47d7484d4f0ef", "filename": "src/test/ui/error-codes/E0161.nll.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0161.nll.stderr?ref=cd92da833fcb8818ac679be615c7bfe02edaa235", "patch": "@@ -0,0 +1,9 @@\n+error[E0161]: cannot move a value of type [i32]: the size of [i32] cannot be statically determined\n+  --> $DIR/E0161.rs:32:9\n+   |\n+LL |     box *x; //~ ERROR E0161\n+   |         ^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0161`."}, {"sha": "79080fb4eae15c563de6effb90ef46396e0e59f8", "filename": "src/test/ui/error-codes/E0161.nllul.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.nllul.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.nllul.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0161.nllul.stderr?ref=cd92da833fcb8818ac679be615c7bfe02edaa235", "patch": "@@ -0,0 +1,9 @@\n+error[E0161]: cannot move a value of type [i32]: the size of [i32] cannot be statically determined\n+  --> $DIR/E0161.rs:32:5\n+   |\n+LL |     box *x; //~ ERROR E0161\n+   |     ^^^^^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0161`."}, {"sha": "edc5a84a8436753e35a6757c5618946fb813ae29", "filename": "src/test/ui/error-codes/E0161.rs", "status": "modified", "additions": 22, "deletions": 3, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0161.rs?ref=cd92da833fcb8818ac679be615c7bfe02edaa235", "patch": "@@ -8,9 +8,28 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// ignore-compare-mode-nll\n+\n+// Check that E0161 is a hard error in all possible configurations that might\n+// affect it.\n+\n+// revisions: ast nll zflags edition astul nllul zflagsul editionul\n+//[zflags]compile-flags: -Z borrowck=migrate -Z two-phase-borrows\n+//[edition]edition:2018\n+//[zflagsul]compile-flags: -Z borrowck=migrate -Z two-phase-borrows\n+//[editionul]edition:2018\n+\n+#![cfg_attr(nll, feature(nll))]\n+#![cfg_attr(nllul, feature(nll))]\n+#![cfg_attr(astul, feature(unsized_locals))]\n+#![cfg_attr(zflagsul, feature(unsized_locals))]\n+#![cfg_attr(nllul, feature(unsized_locals))]\n+#![cfg_attr(editionul, feature(unsized_locals))]\n+\n #![feature(box_syntax)]\n \n-fn main() {\n-    let _x: Box<str> = box *\"hello\"; //~ ERROR E0161\n-                                     //~^ ERROR E0507\n+fn foo(x: Box<[i32]>) {\n+    box *x; //~ ERROR E0161\n }\n+\n+fn main() {}"}, {"sha": "62e8676e6319878dfe453f295ca47d7484d4f0ef", "filename": "src/test/ui/error-codes/E0161.zflags.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.zflags.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.zflags.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0161.zflags.stderr?ref=cd92da833fcb8818ac679be615c7bfe02edaa235", "patch": "@@ -0,0 +1,9 @@\n+error[E0161]: cannot move a value of type [i32]: the size of [i32] cannot be statically determined\n+  --> $DIR/E0161.rs:32:9\n+   |\n+LL |     box *x; //~ ERROR E0161\n+   |         ^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0161`."}, {"sha": "79080fb4eae15c563de6effb90ef46396e0e59f8", "filename": "src/test/ui/error-codes/E0161.zflagsul.stderr", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.zflagsul.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cd92da833fcb8818ac679be615c7bfe02edaa235/src%2Ftest%2Fui%2Ferror-codes%2FE0161.zflagsul.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0161.zflagsul.stderr?ref=cd92da833fcb8818ac679be615c7bfe02edaa235", "patch": "@@ -0,0 +1,9 @@\n+error[E0161]: cannot move a value of type [i32]: the size of [i32] cannot be statically determined\n+  --> $DIR/E0161.rs:32:5\n+   |\n+LL |     box *x; //~ ERROR E0161\n+   |     ^^^^^^\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0161`."}]}