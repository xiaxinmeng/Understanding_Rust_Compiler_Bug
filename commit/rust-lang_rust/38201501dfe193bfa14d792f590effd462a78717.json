{"sha": "38201501dfe193bfa14d792f590effd462a78717", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4MjAxNTAxZGZlMTkzYmZhMTRkNzkyZjU5MGVmZmQ0NjJhNzg3MTc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-12-23T06:20:02Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-12-23T06:20:02Z"}, "message": "Auto merge of #30504 - mitaa:rdoc_root, r=alexcrichton\n\nfixes #30327", "tree": {"sha": "3dcb4d4af0b6d0e0c03c299dcebbe1f90c333931", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3dcb4d4af0b6d0e0c03c299dcebbe1f90c333931"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/38201501dfe193bfa14d792f590effd462a78717", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/38201501dfe193bfa14d792f590effd462a78717", "html_url": "https://github.com/rust-lang/rust/commit/38201501dfe193bfa14d792f590effd462a78717", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/38201501dfe193bfa14d792f590effd462a78717/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "45e52dadb8548dcbe8da91fe624dd991b4994e70", "url": "https://api.github.com/repos/rust-lang/rust/commits/45e52dadb8548dcbe8da91fe624dd991b4994e70", "html_url": "https://github.com/rust-lang/rust/commit/45e52dadb8548dcbe8da91fe624dd991b4994e70"}, {"sha": "05780ace49087881b5fba88b78f781a5083b1ab0", "url": "https://api.github.com/repos/rust-lang/rust/commits/05780ace49087881b5fba88b78f781a5083b1ab0", "html_url": "https://github.com/rust-lang/rust/commit/05780ace49087881b5fba88b78f781a5083b1ab0"}], "stats": {"total": 18, "additions": 10, "deletions": 8}, "files": [{"sha": "b9ebe977b7bd753eccfcc0a3f6b08486baa15427", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 10, "deletions": 8, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/38201501dfe193bfa14d792f590effd462a78717/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38201501dfe193bfa14d792f590effd462a78717/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=38201501dfe193bfa14d792f590effd462a78717", "patch": "@@ -1058,14 +1058,16 @@ impl DocFolder for Cache {\n                         }\n                     });\n \n-                    self.search_index.push(IndexItem {\n-                        ty: shortty(&item),\n-                        name: s.to_string(),\n-                        path: path.join(\"::\").to_string(),\n-                        desc: shorter(item.doc_value()),\n-                        parent: parent,\n-                        search_type: get_index_search_type(&item, parent_basename),\n-                    });\n+                    if item.def_id.index != CRATE_DEF_INDEX {\n+                        self.search_index.push(IndexItem {\n+                            ty: shortty(&item),\n+                            name: s.to_string(),\n+                            path: path.join(\"::\").to_string(),\n+                            desc: shorter(item.doc_value()),\n+                            parent: parent,\n+                            search_type: get_index_search_type(&item, parent_basename),\n+                        });\n+                    }\n                 }\n                 (Some(parent), None) if is_method || (!self.privmod && !hidden_field)=> {\n                     if parent.is_local() {"}]}