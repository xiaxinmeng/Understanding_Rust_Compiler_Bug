{"sha": "4957031e3cf2333ae5c5519ffd03237eb4ca426c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ5NTcwMzFlM2NmMjMzM2FlNWM1NTE5ZmZkMDMyMzdlYjRjYTQyNmM=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2017-08-02T22:35:44Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2017-08-04T01:13:23Z"}, "message": "selectively disable validation in compile-fail where appropriate. cargo test now passes :)", "tree": {"sha": "2426d040d4a6aab851771dfbf313ebd22cd5fd7c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2426d040d4a6aab851771dfbf313ebd22cd5fd7c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4957031e3cf2333ae5c5519ffd03237eb4ca426c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4957031e3cf2333ae5c5519ffd03237eb4ca426c", "html_url": "https://github.com/rust-lang/rust/commit/4957031e3cf2333ae5c5519ffd03237eb4ca426c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4957031e3cf2333ae5c5519ffd03237eb4ca426c/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9458111681490cf8fcf1d7768f82a34ea9a89f4c", "url": "https://api.github.com/repos/rust-lang/rust/commits/9458111681490cf8fcf1d7768f82a34ea9a89f4c", "html_url": "https://github.com/rust-lang/rust/commit/9458111681490cf8fcf1d7768f82a34ea9a89f4c"}], "stats": {"total": 21, "additions": 21, "deletions": 0}, "files": [{"sha": "912b1bd7d91f26ea2118a2eb8cabcb70ac16b1d3", "filename": "tests/compile-fail/cast_box_int_to_fn_ptr.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Fcast_box_int_to_fn_ptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Fcast_box_int_to_fn_ptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fcast_box_int_to_fn_ptr.rs?ref=4957031e3cf2333ae5c5519ffd03237eb4ca426c", "patch": "@@ -1,3 +1,6 @@\n+// Validation makes this fail in the wrong place\n+// compile-flags: -Zmir-emit-validate=0\n+\n fn main() {\n     let b = Box::new(42);\n     let g = unsafe {"}, {"sha": "23f85dbaf3ecbfd8715b50478e8d88ce63dc7e63", "filename": "tests/compile-fail/cast_int_to_fn_ptr.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Fcast_int_to_fn_ptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Fcast_int_to_fn_ptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fcast_int_to_fn_ptr.rs?ref=4957031e3cf2333ae5c5519ffd03237eb4ca426c", "patch": "@@ -1,3 +1,6 @@\n+// Validation makes this fail in the wrong place\n+// compile-flags: -Zmir-emit-validate=0\n+\n fn main() {\n     let g = unsafe {\n         std::mem::transmute::<usize, fn(i32)>(42)"}, {"sha": "87d975e1f9d486ab389b00f8ab4906145076541c", "filename": "tests/compile-fail/execute_memory.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Fexecute_memory.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Fexecute_memory.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fexecute_memory.rs?ref=4957031e3cf2333ae5c5519ffd03237eb4ca426c", "patch": "@@ -1,3 +1,6 @@\n+// Validation makes this fail in the wrong place\n+// compile-flags: -Zmir-emit-validate=0\n+\n #![feature(box_syntax)]\n \n fn main() {"}, {"sha": "3e4c5d6ad391651daac0027cbe37f975ceb06d1a", "filename": "tests/compile-fail/fn_ptr_offset.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Ffn_ptr_offset.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Ffn_ptr_offset.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Ffn_ptr_offset.rs?ref=4957031e3cf2333ae5c5519ffd03237eb4ca426c", "patch": "@@ -1,3 +1,6 @@\n+// Validation makes this fail in the wrong place\n+// compile-flags: -Zmir-emit-validate=0\n+\n use std::mem;\n \n fn f() {}"}, {"sha": "9ce6d44ca460ff356dc0effbf20919fb43aaf653", "filename": "tests/compile-fail/invalid_enum_discriminant.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Finvalid_enum_discriminant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Finvalid_enum_discriminant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Finvalid_enum_discriminant.rs?ref=4957031e3cf2333ae5c5519ffd03237eb4ca426c", "patch": "@@ -1,3 +1,6 @@\n+// Validation makes this fail in the wrong place\n+// compile-flags: -Zmir-emit-validate=0\n+\n #[repr(C)]\n pub enum Foo {\n     A, B, C, D"}, {"sha": "ee245daa310694c3a58f45aa1ebbcdb5b5ab4fba", "filename": "tests/compile-fail/memleak_rc.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Fmemleak_rc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Fmemleak_rc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fmemleak_rc.rs?ref=4957031e3cf2333ae5c5519ffd03237eb4ca426c", "patch": "@@ -1,3 +1,6 @@\n+// FIXME: Due to https://github.com/rust-lang/rust/issues/43457 we have to disable validation\n+// compile-flags: -Zmir-emit-validate=0\n+\n //error-pattern: the evaluated program leaked memory\n \n use std::rc::Rc;"}, {"sha": "f030a9c281de7fff0b1501b0a21fb3a81c289f62", "filename": "tests/compile-fail/static_memory_modification2.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Fstatic_memory_modification2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4957031e3cf2333ae5c5519ffd03237eb4ca426c/tests%2Fcompile-fail%2Fstatic_memory_modification2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fcompile-fail%2Fstatic_memory_modification2.rs?ref=4957031e3cf2333ae5c5519ffd03237eb4ca426c", "patch": "@@ -1,3 +1,6 @@\n+// Validation detects that we are casting & to &mut and so it changes why we fail\n+// compile-flags: -Zmir-emit-validate=0\n+\n use std::mem::transmute;\n \n #[allow(mutable_transmutes)]"}]}