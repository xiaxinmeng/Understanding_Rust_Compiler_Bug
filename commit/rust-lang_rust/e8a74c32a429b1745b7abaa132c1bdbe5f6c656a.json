{"sha": "e8a74c32a429b1745b7abaa132c1bdbe5f6c656a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU4YTc0YzMyYTQyOWIxNzQ1YjdhYmFhMTMyYzFiZGJlNWY2YzY1NmE=", "commit": {"author": {"name": "Marc-Antoine Perennou", "email": "Marc-Antoine@Perennou.com", "date": "2017-04-28T09:03:58Z"}, "committer": {"name": "Marc-Antoine Perennou", "email": "Marc-Antoine@Perennou.com", "date": "2017-05-16T06:21:27Z"}, "message": "rustbuild: allow configuring sysconfdir\n\nSigned-off-by: Marc-Antoine Perennou <Marc-Antoine@Perennou.com>", "tree": {"sha": "61f32871a57caa02b2e6b57702d93f89395d9e50", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/61f32871a57caa02b2e6b57702d93f89395d9e50"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e8a74c32a429b1745b7abaa132c1bdbe5f6c656a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e8a74c32a429b1745b7abaa132c1bdbe5f6c656a", "html_url": "https://github.com/rust-lang/rust/commit/e8a74c32a429b1745b7abaa132c1bdbe5f6c656a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e8a74c32a429b1745b7abaa132c1bdbe5f6c656a/comments", "author": {"login": "Keruspe", "id": 222942, "node_id": "MDQ6VXNlcjIyMjk0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/222942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Keruspe", "html_url": "https://github.com/Keruspe", "followers_url": "https://api.github.com/users/Keruspe/followers", "following_url": "https://api.github.com/users/Keruspe/following{/other_user}", "gists_url": "https://api.github.com/users/Keruspe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Keruspe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Keruspe/subscriptions", "organizations_url": "https://api.github.com/users/Keruspe/orgs", "repos_url": "https://api.github.com/users/Keruspe/repos", "events_url": "https://api.github.com/users/Keruspe/events{/privacy}", "received_events_url": "https://api.github.com/users/Keruspe/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Keruspe", "id": 222942, "node_id": "MDQ6VXNlcjIyMjk0Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/222942?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Keruspe", "html_url": "https://github.com/Keruspe", "followers_url": "https://api.github.com/users/Keruspe/followers", "following_url": "https://api.github.com/users/Keruspe/following{/other_user}", "gists_url": "https://api.github.com/users/Keruspe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Keruspe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Keruspe/subscriptions", "organizations_url": "https://api.github.com/users/Keruspe/orgs", "repos_url": "https://api.github.com/users/Keruspe/repos", "events_url": "https://api.github.com/users/Keruspe/events{/privacy}", "received_events_url": "https://api.github.com/users/Keruspe/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "93f3b0c9139926c6acf0b2d63ab8d39f45c90089", "url": "https://api.github.com/repos/rust-lang/rust/commits/93f3b0c9139926c6acf0b2d63ab8d39f45c90089", "html_url": "https://github.com/rust-lang/rust/commit/93f3b0c9139926c6acf0b2d63ab8d39f45c90089"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "0fb597564e33de15c2bc6defc8fd35273dfb43df", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e8a74c32a429b1745b7abaa132c1bdbe5f6c656a/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e8a74c32a429b1745b7abaa132c1bdbe5f6c656a/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=e8a74c32a429b1745b7abaa132c1bdbe5f6c656a", "patch": "@@ -99,6 +99,7 @@ pub struct Config {\n     // Fallback musl-root for all targets\n     pub musl_root: Option<PathBuf>,\n     pub prefix: Option<PathBuf>,\n+    pub sysconfdir: Option<PathBuf>,\n     pub docdir: Option<PathBuf>,\n     pub bindir: Option<PathBuf>,\n     pub libdir: Option<PathBuf>,\n@@ -166,6 +167,7 @@ struct Build {\n #[derive(RustcDecodable, Default, Clone)]\n struct Install {\n     prefix: Option<String>,\n+    sysconfdir: Option<String>,\n     docdir: Option<String>,\n     bindir: Option<String>,\n     libdir: Option<String>,\n@@ -317,6 +319,7 @@ impl Config {\n \n         if let Some(ref install) = toml.install {\n             config.prefix = install.prefix.clone().map(PathBuf::from);\n+            config.sysconfdir = install.sysconfdir.clone().map(PathBuf::from);\n             config.docdir = install.docdir.clone().map(PathBuf::from);\n             config.bindir = install.bindir.clone().map(PathBuf::from);\n             config.libdir = install.libdir.clone().map(PathBuf::from);\n@@ -526,6 +529,9 @@ impl Config {\n                 \"CFG_PREFIX\" => {\n                     self.prefix = Some(PathBuf::from(value));\n                 }\n+                \"CFG_SYSCONFDIR\" => {\n+                    self.sysconfdir = Some(PathBuf::from(value));\n+                }\n                 \"CFG_DOCDIR\" => {\n                     self.docdir = Some(PathBuf::from(value));\n                 }"}, {"sha": "df180be4e27ab0836b6df75d4b939aeac3c4fe7d", "filename": "src/bootstrap/config.toml.example", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/e8a74c32a429b1745b7abaa132c1bdbe5f6c656a/src%2Fbootstrap%2Fconfig.toml.example", "raw_url": "https://github.com/rust-lang/rust/raw/e8a74c32a429b1745b7abaa132c1bdbe5f6c656a/src%2Fbootstrap%2Fconfig.toml.example", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.toml.example?ref=e8a74c32a429b1745b7abaa132c1bdbe5f6c656a", "patch": "@@ -160,6 +160,10 @@\n # Instead of installing to /usr/local, install to this path instead.\n #prefix = \"/usr/local\"\n \n+# Where to install system configuration files\n+# If this is a relative path, it will get installed in `prefix` above\n+#sysconfdir = \"/etc\"\n+\n # Where to install documentation in `prefix` above\n #docdir = \"share/doc/rust\"\n "}]}