{"sha": "eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmViNmNmYTdmMTU3NjkwNDgwZmNhNWQ1NWM2OWRiYTNmYWU4N2FkNGY=", "commit": {"author": {"name": "Chetan Khilosiya", "email": "chetan.khilosiya@gmail.com", "date": "2021-02-22T19:14:58Z"}, "committer": {"name": "Chetan Khilosiya", "email": "chetan.khilosiya@gmail.com", "date": "2021-02-22T19:29:16Z"}, "message": "7526: Renamed create ssr to ide_ssr.", "tree": {"sha": "a49a763fee848041fd607f449ad13a0b1040636e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a49a763fee848041fd607f449ad13a0b1040636e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "html_url": "https://github.com/rust-lang/rust/commit/eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/comments", "author": {"login": "chetankhilosiya", "id": 1639535, "node_id": "MDQ6VXNlcjE2Mzk1MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1639535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chetankhilosiya", "html_url": "https://github.com/chetankhilosiya", "followers_url": "https://api.github.com/users/chetankhilosiya/followers", "following_url": "https://api.github.com/users/chetankhilosiya/following{/other_user}", "gists_url": "https://api.github.com/users/chetankhilosiya/gists{/gist_id}", "starred_url": "https://api.github.com/users/chetankhilosiya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chetankhilosiya/subscriptions", "organizations_url": "https://api.github.com/users/chetankhilosiya/orgs", "repos_url": "https://api.github.com/users/chetankhilosiya/repos", "events_url": "https://api.github.com/users/chetankhilosiya/events{/privacy}", "received_events_url": "https://api.github.com/users/chetankhilosiya/received_events", "type": "User", "site_admin": false}, "committer": {"login": "chetankhilosiya", "id": 1639535, "node_id": "MDQ6VXNlcjE2Mzk1MzU=", "avatar_url": "https://avatars.githubusercontent.com/u/1639535?v=4", "gravatar_id": "", "url": "https://api.github.com/users/chetankhilosiya", "html_url": "https://github.com/chetankhilosiya", "followers_url": "https://api.github.com/users/chetankhilosiya/followers", "following_url": "https://api.github.com/users/chetankhilosiya/following{/other_user}", "gists_url": "https://api.github.com/users/chetankhilosiya/gists{/gist_id}", "starred_url": "https://api.github.com/users/chetankhilosiya/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/chetankhilosiya/subscriptions", "organizations_url": "https://api.github.com/users/chetankhilosiya/orgs", "repos_url": "https://api.github.com/users/chetankhilosiya/repos", "events_url": "https://api.github.com/users/chetankhilosiya/events{/privacy}", "received_events_url": "https://api.github.com/users/chetankhilosiya/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e4756cb4f6e66097638b9d101589358976be2ba8", "url": "https://api.github.com/repos/rust-lang/rust/commits/e4756cb4f6e66097638b9d101589358976be2ba8", "html_url": "https://github.com/rust-lang/rust/commit/e4756cb4f6e66097638b9d101589358976be2ba8"}], "stats": {"total": 49, "additions": 25, "deletions": 24}, "files": [{"sha": "e101ce4af612e2b46440a9bc435685aa18362ae4", "filename": "Cargo.lock", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "patch": "@@ -592,6 +592,7 @@ dependencies = [\n  \"ide_assists\",\n  \"ide_completion\",\n  \"ide_db\",\n+ \"ide_ssr\",\n  \"indexmap\",\n  \"itertools 0.10.0\",\n  \"log\",\n@@ -600,7 +601,6 @@ dependencies = [\n  \"pulldown-cmark\",\n  \"pulldown-cmark-to-cmark\",\n  \"rustc-hash\",\n- \"ssr\",\n  \"stdx\",\n  \"syntax\",\n  \"test_utils\",\n@@ -665,6 +665,20 @@ dependencies = [\n  \"text_edit\",\n ]\n \n+[[package]]\n+name = \"ide_ssr\"\n+version = \"0.0.0\"\n+dependencies = [\n+ \"expect-test\",\n+ \"hir\",\n+ \"ide_db\",\n+ \"itertools 0.10.0\",\n+ \"rustc-hash\",\n+ \"syntax\",\n+ \"test_utils\",\n+ \"text_edit\",\n+]\n+\n [[package]]\n name = \"idna\"\n version = \"0.2.2\"\n@@ -1348,6 +1362,7 @@ dependencies = [\n  \"hir_ty\",\n  \"ide\",\n  \"ide_db\",\n+ \"ide_ssr\",\n  \"itertools 0.10.0\",\n  \"jemallocator\",\n  \"jod-thread\",\n@@ -1367,7 +1382,6 @@ dependencies = [\n  \"serde\",\n  \"serde_json\",\n  \"serde_path_to_error\",\n- \"ssr\",\n  \"stdx\",\n  \"syntax\",\n  \"test_utils\",\n@@ -1572,20 +1586,6 @@ dependencies = [\n  \"winapi\",\n ]\n \n-[[package]]\n-name = \"ssr\"\n-version = \"0.0.0\"\n-dependencies = [\n- \"expect-test\",\n- \"hir\",\n- \"ide_db\",\n- \"itertools 0.10.0\",\n- \"rustc-hash\",\n- \"syntax\",\n- \"test_utils\",\n- \"text_edit\",\n-]\n-\n [[package]]\n name = \"stdx\"\n version = \"0.0.0\""}, {"sha": "f6aaaeda45d85c0efdee0468116faf4819270d37", "filename": "crates/ide/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2FCargo.toml?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "patch": "@@ -28,7 +28,7 @@ cfg = { path = \"../cfg\", version = \"0.0.0\" }\n profile = { path = \"../profile\", version = \"0.0.0\" }\n test_utils = { path = \"../test_utils\", version = \"0.0.0\" }\n ide_assists = { path = \"../ide_assists\", version = \"0.0.0\" }\n-ssr = { path = \"../ssr\", version = \"0.0.0\" }\n+ide_ssr = { path = \"../ide_ssr\", version = \"0.0.0\" }\n ide_completion = { path = \"../ide_completion\", version = \"0.0.0\" }\n \n # ide should depend only on the top-level `hir` package. if you need"}, {"sha": "b600178ee15982b6074d9295661a22b059804407", "filename": "crates/ide/src/lib.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Flib.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "patch": "@@ -101,7 +101,7 @@ pub use ide_db::{\n     symbol_index::Query,\n     RootDatabase,\n };\n-pub use ssr::SsrError;\n+pub use ide_ssr::SsrError;\n pub use syntax::{TextRange, TextSize};\n pub use text_edit::{Indel, TextEdit};\n \n@@ -549,8 +549,9 @@ impl Analysis {\n         selections: Vec<FileRange>,\n     ) -> Cancelable<Result<SourceChange, SsrError>> {\n         self.with_db(|db| {\n-            let rule: ssr::SsrRule = query.parse()?;\n-            let mut match_finder = ssr::MatchFinder::in_context(db, resolve_context, selections);\n+            let rule: ide_ssr::SsrRule = query.parse()?;\n+            let mut match_finder =\n+                ide_ssr::MatchFinder::in_context(db, resolve_context, selections);\n             match_finder.add_rule(rule)?;\n             let edits = if parse_only { Default::default() } else { match_finder.edits() };\n             Ok(SourceChange::from(edits))"}, {"sha": "edbc1846baf30819a8a5eaf2ef9239a347423bde", "filename": "crates/ide_ssr/Cargo.toml", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_ssr%2FCargo.toml?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "patch": "@@ -1,5 +1,5 @@\n [package]\n-name = \"ssr\"\n+name = \"ide_ssr\"\n version = \"0.0.0\"\n description = \"Structural search and replace of Rust code\"\n license = \"MIT OR Apache-2.0\"", "previous_filename": "crates/ssr/Cargo.toml"}, {"sha": "c02bacae6bfe68f2ed94a114011ecb805006844e", "filename": "crates/ide_ssr/src/errors.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Ferrors.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Ferrors.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_ssr%2Fsrc%2Ferrors.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "previous_filename": "crates/ssr/src/errors.rs"}, {"sha": "a97fc8bcacab263454fc23bfa74ce5bbc6c88c09", "filename": "crates/ide_ssr/src/lib.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_ssr%2Fsrc%2Flib.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "previous_filename": "crates/ssr/src/lib.rs"}, {"sha": "df013bae99f1fcf6ab07c8f6319a1cd0d3035f8e", "filename": "crates/ide_ssr/src/matching.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Fmatching.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Fmatching.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_ssr%2Fsrc%2Fmatching.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "previous_filename": "crates/ssr/src/matching.rs"}, {"sha": "6ac355dfc22b47db29349f465f97391daaf60f35", "filename": "crates/ide_ssr/src/nester.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Fnester.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Fnester.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_ssr%2Fsrc%2Fnester.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "previous_filename": "crates/ssr/src/nester.rs"}, {"sha": "3d5e4feb7d7efe069f69eb5dd99daed618111846", "filename": "crates/ide_ssr/src/parsing.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Fparsing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Fparsing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_ssr%2Fsrc%2Fparsing.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "previous_filename": "crates/ssr/src/parsing.rs"}, {"sha": "06a94a46cd088ac88a6a709a0df27483f6463397", "filename": "crates/ide_ssr/src/replacing.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Freplacing.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Freplacing.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_ssr%2Fsrc%2Freplacing.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "previous_filename": "crates/ssr/src/replacing.rs"}, {"sha": "14e5a3b69debf17ed27499c06e00eed16a4a5b94", "filename": "crates/ide_ssr/src/resolving.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Fresolving.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Fresolving.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_ssr%2Fsrc%2Fresolving.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "previous_filename": "crates/ssr/src/resolving.rs"}, {"sha": "836eb94b2e22797f2ddb235a6d67bc137d5a2571", "filename": "crates/ide_ssr/src/search.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Fsearch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Fsearch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_ssr%2Fsrc%2Fsearch.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "previous_filename": "crates/ssr/src/search.rs"}, {"sha": "a3ea44f23530521739926d782ca0cd88dc463064", "filename": "crates/ide_ssr/src/tests.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Fide_ssr%2Fsrc%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_ssr%2Fsrc%2Ftests.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "previous_filename": "crates/ssr/src/tests.rs"}, {"sha": "b881cc229b4146daf6db7f92699ba78d1fd01083", "filename": "crates/rust-analyzer/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Frust-analyzer%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Frust-analyzer%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2FCargo.toml?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "patch": "@@ -53,7 +53,7 @@ cfg = { path = \"../cfg\", version = \"0.0.0\" }\n toolchain = { path = \"../toolchain\", version = \"0.0.0\" }\n \n # This should only be used in CLI\n-ssr = { path = \"../ssr\", version = \"0.0.0\" }\n+ide_ssr = { path = \"../ide_ssr\", version = \"0.0.0\" }\n hir = { path = \"../hir\", version = \"0.0.0\" }\n hir_def = { path = \"../hir_def\", version = \"0.0.0\" }\n hir_ty = { path = \"../hir_ty\", version = \"0.0.0\" }"}, {"sha": "164d94a3044e6e5160b7917c58eae97ae1caf8fb", "filename": "crates/rust-analyzer/src/bin/args.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Frust-analyzer%2Fsrc%2Fbin%2Fargs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Frust-analyzer%2Fsrc%2Fbin%2Fargs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fbin%2Fargs.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "patch": "@@ -6,9 +6,9 @@\n use std::{env, path::PathBuf};\n \n use anyhow::{bail, format_err, Result};\n+use ide_ssr::{SsrPattern, SsrRule};\n use pico_args::Arguments;\n use rust_analyzer::cli::{AnalysisStatsCmd, BenchCmd, BenchWhat, Position, Verbosity};\n-use ssr::{SsrPattern, SsrRule};\n use vfs::AbsPathBuf;\n \n pub(crate) struct Args {"}, {"sha": "71a8f8fb9e3d3a804973606a84ae01325f12dfc2", "filename": "crates/rust-analyzer/src/cli/ssr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Frust-analyzer%2Fsrc%2Fcli%2Fssr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eb6cfa7f157690480fca5d55c69dba3fae87ad4f/crates%2Frust-analyzer%2Fsrc%2Fcli%2Fssr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fcli%2Fssr.rs?ref=eb6cfa7f157690480fca5d55c69dba3fae87ad4f", "patch": "@@ -4,7 +4,7 @@ use crate::cli::{\n     load_cargo::{load_workspace_at, LoadCargoConfig},\n     Result,\n };\n-use ssr::{MatchFinder, SsrPattern, SsrRule};\n+use ide_ssr::{MatchFinder, SsrPattern, SsrRule};\n \n pub fn apply_ssr_rules(rules: Vec<SsrRule>) -> Result<()> {\n     use ide_db::base_db::SourceDatabaseExt;"}]}