{"sha": "369faaeaffa1b960f8260a1905b1fc34f33a23f6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM2OWZhYWVhZmZhMWI5NjBmODI2MGExOTA1YjFmYzM0ZjMzYTIzZjY=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-01-31T19:36:26Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2019-02-01T14:43:57Z"}, "message": "Cleanup unecessary code", "tree": {"sha": "fe0983b90629d135d317b087cd6a9da26e2edf7f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe0983b90629d135d317b087cd6a9da26e2edf7f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/369faaeaffa1b960f8260a1905b1fc34f33a23f6", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAlxUWy0ACgkQtAh+UQ6Y\nsWTDBQ/+NOb1NxhpvNXXuJyLyqXjxuZ+C+ac7NBAJX/9pbyQp0udXiT3sa4iAIWi\nXtEWqDlNW2DX424+9zscu7zzcioEheuXiDRR7lxuVTWosVpPCfRqh86hE+bv33Wt\nyicJzA8/jMT2S4vrquv50unXElK8n1zJHDWfMQJ3aKrVK0318o7XZT5YPZ0EEx2K\n9ryMLrqmjlkNmou6dbuphH3rfot3VXmq81zupw1EoBdqxSI7JjXvOJW25lQe9Is4\n38g4CB/Qwa0LEfEMHdyC1jPgSyc1DCHgp8CrZZy+8vhBYUPLLJ8eB6O3cHNS1Hxu\nA+bW3ih2QJ0tNJIkHC4GGHMHjegVii18UbBS1/KL1FvIYxc7Cntr+a+OerxO3m3g\nxYQwfmUnFA/a9iM4aW13vOwKkIoSmEYq6hTjC3X94xQC7bfnTOYlV5ZuCBxiMb92\ngfanRH0alwddS7/wzmxdMT2Y5QGrvzroezEwgyQhVJJtMRDI7g4OOjiZwcGCV5Vr\nyOQPGciq9NDakbiGWsN2wFbn8mnwxPnrvsL/AEV/fQJnsmyAZ2ZRwpMJzEAqw/E/\nzXKgkT0LYnEYuQPlDu/Zen4tj3gMUcF4w+gvmNMtlApzBck9tsJkSpI7kkzkrwDz\nNxCf287scuzm2ZV6ae8C0F7XO4e96+e2C191aB65FnxIDfKghgs=\n=2z9k\n-----END PGP SIGNATURE-----", "payload": "tree fe0983b90629d135d317b087cd6a9da26e2edf7f\nparent 541d31531322bd1d5f2bf7bb8b9cf4c79d85f01d\nauthor Aaron Hill <aa1ronham@gmail.com> 1548963386 -0500\ncommitter Aaron Hill <aa1ronham@gmail.com> 1549032237 -0500\n\nCleanup unecessary code\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/369faaeaffa1b960f8260a1905b1fc34f33a23f6", "html_url": "https://github.com/rust-lang/rust/commit/369faaeaffa1b960f8260a1905b1fc34f33a23f6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/369faaeaffa1b960f8260a1905b1fc34f33a23f6/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "541d31531322bd1d5f2bf7bb8b9cf4c79d85f01d", "url": "https://api.github.com/repos/rust-lang/rust/commits/541d31531322bd1d5f2bf7bb8b9cf4c79d85f01d", "html_url": "https://github.com/rust-lang/rust/commit/541d31531322bd1d5f2bf7bb8b9cf4c79d85f01d"}], "stats": {"total": 15, "additions": 0, "deletions": 15}, "files": [{"sha": "86f676fbf888a2ad0ae260fc3875ed7776596c70", "filename": "src/librustc/session/config.rs", "status": "modified", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/369faaeaffa1b960f8260a1905b1fc34f33a23f6/src%2Flibrustc%2Fsession%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/369faaeaffa1b960f8260a1905b1fc34f33a23f6/src%2Flibrustc%2Fsession%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fsession%2Fconfig.rs?ref=369faaeaffa1b960f8260a1905b1fc34f33a23f6", "patch": "@@ -1653,13 +1653,6 @@ pub fn rustc_short_optgroups() -> Vec<RustcOptGroup> {\n                                     for the compiler to emit\",\n             \"[bin|lib|rlib|dylib|cdylib|staticlib|proc-macro]\",\n         ),\n-        opt::multi_s(\n-            \"\",\n-            \"extern-public\",\n-            \"Comma separated list of crates to consider 'public'\n-                                     for linting purposes\",\n-            \"CRATES\",\n-        ),\n         opt::opt_s(\n             \"\",\n             \"crate-name\",\n@@ -1942,9 +1935,6 @@ pub fn build_session_options_and_crate_config(\n         );\n     }\n \n-\n-\n-\n     let mut output_types = BTreeMap::new();\n     if !debugging_opts.parse_only {\n         for list in matches.opt_strs(\"emit\") {"}, {"sha": "73f83eb6f7a3a7670e50d546e29948362d6941c9", "filename": "src/librustc_privacy/lib.rs", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/369faaeaffa1b960f8260a1905b1fc34f33a23f6/src%2Flibrustc_privacy%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/369faaeaffa1b960f8260a1905b1fc34f33a23f6/src%2Flibrustc_privacy%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_privacy%2Flib.rs?ref=369faaeaffa1b960f8260a1905b1fc34f33a23f6", "patch": "@@ -1538,14 +1538,9 @@ impl<'a, 'tcx: 'a> SearchInterfaceForPrivateItemsVisitor<'a, 'tcx> {\n     /// 1. It's contained within a public type\n     /// 2. It comes from a private crate\n     fn leaks_private_dep(&self, item_id: DefId) -> bool {\n-        // Don't do any leak checking if no private crates were specified\n-        if self.private_crates.is_empty() {\n-            return false\n-        }\n         let ret = self.required_visibility == ty::Visibility::Public &&\n             self.private_crates.contains(&item_id.krate);\n \n-\n         debug!(\"leaks_private_dep(item_id={:?})={}\", item_id, ret);\n         return ret;\n     }"}]}