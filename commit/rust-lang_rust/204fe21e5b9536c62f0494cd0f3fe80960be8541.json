{"sha": "204fe21e5b9536c62f0494cd0f3fe80960be8541", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIwNGZlMjFlNWI5NTM2YzYyZjA0OTRjZDBmM2ZlODA5NjBiZTg1NDE=", "commit": {"author": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2015-11-24T14:43:47Z"}, "committer": {"name": "Steve Klabnik", "email": "steve@steveklabnik.com", "date": "2015-11-24T14:43:47Z"}, "message": "Rollup merge of #30023 - Ms2ger:EntryOrExit, r=Manishearth", "tree": {"sha": "ae1dd6bfd30e067d51f5ffc62240952b17eebecb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ae1dd6bfd30e067d51f5ffc62240952b17eebecb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/204fe21e5b9536c62f0494cd0f3fe80960be8541", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/204fe21e5b9536c62f0494cd0f3fe80960be8541", "html_url": "https://github.com/rust-lang/rust/commit/204fe21e5b9536c62f0494cd0f3fe80960be8541", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/204fe21e5b9536c62f0494cd0f3fe80960be8541/comments", "author": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "committer": {"login": "steveklabnik", "id": 27786, "node_id": "MDQ6VXNlcjI3Nzg2", "avatar_url": "https://avatars.githubusercontent.com/u/27786?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steveklabnik", "html_url": "https://github.com/steveklabnik", "followers_url": "https://api.github.com/users/steveklabnik/followers", "following_url": "https://api.github.com/users/steveklabnik/following{/other_user}", "gists_url": "https://api.github.com/users/steveklabnik/gists{/gist_id}", "starred_url": "https://api.github.com/users/steveklabnik/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steveklabnik/subscriptions", "organizations_url": "https://api.github.com/users/steveklabnik/orgs", "repos_url": "https://api.github.com/users/steveklabnik/repos", "events_url": "https://api.github.com/users/steveklabnik/events{/privacy}", "received_events_url": "https://api.github.com/users/steveklabnik/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fab9dd6c801b6aa13f97095e501e40016ee5bcec", "url": "https://api.github.com/repos/rust-lang/rust/commits/fab9dd6c801b6aa13f97095e501e40016ee5bcec", "html_url": "https://github.com/rust-lang/rust/commit/fab9dd6c801b6aa13f97095e501e40016ee5bcec"}, {"sha": "0eebc0cc04ca850659a03722572dfb4c13c1c537", "url": "https://api.github.com/repos/rust-lang/rust/commits/0eebc0cc04ca850659a03722572dfb4c13c1c537", "html_url": "https://github.com/rust-lang/rust/commit/0eebc0cc04ca850659a03722572dfb4c13c1c537"}], "stats": {"total": 13, "additions": 5, "deletions": 8}, "files": [{"sha": "72013c533da51415f0159a801994f2391f256dc4", "filename": "src/librustc/middle/dataflow.rs", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/204fe21e5b9536c62f0494cd0f3fe80960be8541/src%2Flibrustc%2Fmiddle%2Fdataflow.rs", "raw_url": "https://github.com/rust-lang/rust/raw/204fe21e5b9536c62f0494cd0f3fe80960be8541/src%2Flibrustc%2Fmiddle%2Fdataflow.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fdataflow.rs?ref=204fe21e5b9536c62f0494cd0f3fe80960be8541", "patch": "@@ -14,8 +14,6 @@\n //! and thus uses bitvectors. Your job is simply to specify the so-called\n //! GEN and KILL bits for each expression.\n \n-pub use self::EntryOrExit::*;\n-\n use middle::cfg;\n use middle::cfg::CFGIndex;\n use middle::ty;\n@@ -340,7 +338,7 @@ impl<'a, 'tcx, O:DataFlowOperator> DataFlowContext<'a, 'tcx, O> {\n         }\n         let indices = get_cfg_indices(id, &self.nodeid_to_index);\n         for &cfgidx in indices {\n-            if !self.each_bit_for_node(Entry, cfgidx, |i| f(i)) {\n+            if !self.each_bit_for_node(EntryOrExit::Entry, cfgidx, |i| f(i)) {\n                 return false;\n             }\n         }\n@@ -363,8 +361,8 @@ impl<'a, 'tcx, O:DataFlowOperator> DataFlowContext<'a, 'tcx, O> {\n         let on_entry = &self.on_entry[start.. end];\n         let temp_bits;\n         let slice = match e {\n-            Entry => on_entry,\n-            Exit => {\n+            EntryOrExit::Entry => on_entry,\n+            EntryOrExit::Exit => {\n                 let mut t = on_entry.to_vec();\n                 self.apply_gen_kill(cfgidx, &mut t);\n                 temp_bits = t;"}, {"sha": "be963f30dc1e86b8f0f2dc79b0640f9689ce3c44", "filename": "src/librustc_borrowck/graphviz.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/204fe21e5b9536c62f0494cd0f3fe80960be8541/src%2Flibrustc_borrowck%2Fgraphviz.rs", "raw_url": "https://github.com/rust-lang/rust/raw/204fe21e5b9536c62f0494cd0f3fe80960be8541/src%2Flibrustc_borrowck%2Fgraphviz.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_borrowck%2Fgraphviz.rs?ref=204fe21e5b9536c62f0494cd0f3fe80960be8541", "patch": "@@ -22,7 +22,6 @@ use borrowck::{BorrowckCtxt, LoanPath};\n use dot;\n use rustc::middle::cfg::CFGIndex;\n use rustc::middle::dataflow::{DataFlowOperator, DataFlowContext, EntryOrExit};\n-use rustc::middle::dataflow;\n use std::rc::Rc;\n use std::borrow::IntoCow;\n \n@@ -134,8 +133,8 @@ impl<'a, 'tcx> dot::Labeller<'a, Node<'a>, Edge<'a>> for DataflowLabeller<'a, 't\n     fn graph_id(&'a self) -> dot::Id<'a> { self.inner.graph_id() }\n     fn node_id(&'a self, n: &Node<'a>) -> dot::Id<'a> { self.inner.node_id(n) }\n     fn node_label(&'a self, n: &Node<'a>) -> dot::LabelText<'a> {\n-        let prefix = self.dataflow_for(dataflow::Entry, n);\n-        let suffix = self.dataflow_for(dataflow::Exit, n);\n+        let prefix = self.dataflow_for(EntryOrExit::Entry, n);\n+        let suffix = self.dataflow_for(EntryOrExit::Exit, n);\n         let inner_label = self.inner.node_label(n);\n         inner_label\n             .prefix_line(dot::LabelText::LabelStr(prefix.into_cow()))"}]}