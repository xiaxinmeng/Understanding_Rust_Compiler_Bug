{"sha": "f6eba28ef811c1804723f6ea8334094b268ad3bd", "node_id": "C_kwDOAAsO6NoAKGY2ZWJhMjhlZjgxMWMxODA0NzIzZjZlYTgzMzQwOTRiMjY4YWQzYmQ", "commit": {"author": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2022-01-06T12:44:21Z"}, "committer": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2022-01-06T12:50:35Z"}, "message": "Adjust config name", "tree": {"sha": "e33e84ed0c447d13b34ddac6527e0041cfa44eb7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e33e84ed0c447d13b34ddac6527e0041cfa44eb7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f6eba28ef811c1804723f6ea8334094b268ad3bd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f6eba28ef811c1804723f6ea8334094b268ad3bd", "html_url": "https://github.com/rust-lang/rust/commit/f6eba28ef811c1804723f6ea8334094b268ad3bd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f6eba28ef811c1804723f6ea8334094b268ad3bd/comments", "author": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dd4b53402d469e80151845bf28c74c6782d775f1", "url": "https://api.github.com/repos/rust-lang/rust/commits/dd4b53402d469e80151845bf28c74c6782d775f1", "html_url": "https://github.com/rust-lang/rust/commit/dd4b53402d469e80151845bf28c74c6782d775f1"}], "stats": {"total": 20, "additions": 11, "deletions": 9}, "files": [{"sha": "a70413925543071951477bbb37a5e6cc880c6956", "filename": "crates/rust-analyzer/src/config.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/f6eba28ef811c1804723f6ea8334094b268ad3bd/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6eba28ef811c1804723f6ea8334094b268ad3bd/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs?ref=f6eba28ef811c1804723f6ea8334094b268ad3bd", "patch": "@@ -301,9 +301,10 @@ config_data! {\n         /// Internal config, path to proc-macro server executable (typically,\n         /// this is rust-analyzer itself, but we override this in tests).\n         procMacro_server: Option<PathBuf>          = \"null\",\n-        /// Replaces the proc-macro expanders for the named proc-macros in the named crates with\n-        /// an identity expander that outputs the input again.\n-        procMacro_dummies: FxHashMap<Box<str>, Box<[Box<str>]>>          = \"{}\",\n+        /// These proc-macros will be ignored when trying to expand them.\n+        ///\n+        /// This config takes a map of crate names with the exported proc-macro names to ignore as values.\n+        procMacro_ignored: FxHashMap<Box<str>, Box<[Box<str>]>>          = \"{}\",\n \n         /// Command to be executed instead of 'cargo' for runnables.\n         runnables_overrideCargo: Option<String> = \"null\",\n@@ -720,7 +721,7 @@ impl Config {\n         Some((path, vec![\"proc-macro\".into()]))\n     }\n     pub fn dummy_replacements(&self) -> &FxHashMap<Box<str>, Box<[Box<str>]>> {\n-        &self.data.procMacro_dummies\n+        &self.data.procMacro_ignored\n     }\n     pub fn expand_proc_attr_macros(&self) -> bool {\n         self.data.experimental_procAttrMacros"}, {"sha": "f46dda2351fbde6cb8cbcb5f18ef810fe8c8e0b1", "filename": "docs/user/generated_config.adoc", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f6eba28ef811c1804723f6ea8334094b268ad3bd/docs%2Fuser%2Fgenerated_config.adoc", "raw_url": "https://github.com/rust-lang/rust/raw/f6eba28ef811c1804723f6ea8334094b268ad3bd/docs%2Fuser%2Fgenerated_config.adoc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fuser%2Fgenerated_config.adoc?ref=f6eba28ef811c1804723f6ea8334094b268ad3bd", "patch": "@@ -455,11 +455,12 @@ Enable support for procedural macros, implies `#rust-analyzer.cargo.runBuildScri\n Internal config, path to proc-macro server executable (typically,\n this is rust-analyzer itself, but we override this in tests).\n --\n-[[rust-analyzer.procMacro.dummies]]rust-analyzer.procMacro.dummies (default: `{}`)::\n+[[rust-analyzer.procMacro.ignored]]rust-analyzer.procMacro.ignored (default: `{}`)::\n +\n --\n-Replaces the proc-macro expanders for the named proc-macros in the named crates with\n-an identity expander that outputs the input again.\n+These proc-macros will be ignored when trying to expand them.\n+\n+This config takes a map of crate names with the exported proc-macro names to ignore as values.\n --\n [[rust-analyzer.runnables.overrideCargo]]rust-analyzer.runnables.overrideCargo (default: `null`)::\n +"}, {"sha": "d418868474803242b188946e83b01860489b7b8d", "filename": "editors/code/package.json", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f6eba28ef811c1804723f6ea8334094b268ad3bd/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/f6eba28ef811c1804723f6ea8334094b268ad3bd/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=f6eba28ef811c1804723f6ea8334094b268ad3bd", "patch": "@@ -880,8 +880,8 @@\n                         \"string\"\n                     ]\n                 },\n-                \"rust-analyzer.procMacro.dummies\": {\n-                    \"markdownDescription\": \"Replaces the proc-macro expanders for the named proc-macros in the named crates with\\nan identity expander that outputs the input again.\",\n+                \"rust-analyzer.procMacro.ignored\": {\n+                    \"markdownDescription\": \"These proc-macros will be ignored when trying to expand them.\\n\\nThis config takes a map of crate names with the exported proc-macro names to ignore as values.\",\n                     \"default\": {},\n                     \"type\": \"object\"\n                 },"}]}