{"sha": "4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRjMTJhNWRjNmM5OWEyMzRlMmU5YzAzMTNmNmI3M2M4ZmExNjJhMTE=", "commit": {"author": {"name": "Lee Bradley", "email": "lee@leebradley.us", "date": "2021-05-18T05:33:17Z"}, "committer": {"name": "Lee Bradley", "email": "lee@leebradley.us", "date": "2021-05-18T06:01:28Z"}, "message": "Add x.py pre-setup instructions\n\nThis change adds pre-setup instructions that outline how x.py requires\npython to be setup and how to work around the problem of x.py failing to\nlocate python, especially now that Ubuntu 20.04's dropped default python\ncommand is causing people to encounter this issue regularly.\n\nSee also: #71818", "tree": {"sha": "5dc4ea69517cc9ec370924543c8e438dfbbe64f3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5dc4ea69517cc9ec370924543c8e438dfbbe64f3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11", "html_url": "https://github.com/rust-lang/rust/commit/4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11/comments", "author": {"login": "ameliabradley", "id": 597352, "node_id": "MDQ6VXNlcjU5NzM1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/597352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ameliabradley", "html_url": "https://github.com/ameliabradley", "followers_url": "https://api.github.com/users/ameliabradley/followers", "following_url": "https://api.github.com/users/ameliabradley/following{/other_user}", "gists_url": "https://api.github.com/users/ameliabradley/gists{/gist_id}", "starred_url": "https://api.github.com/users/ameliabradley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ameliabradley/subscriptions", "organizations_url": "https://api.github.com/users/ameliabradley/orgs", "repos_url": "https://api.github.com/users/ameliabradley/repos", "events_url": "https://api.github.com/users/ameliabradley/events{/privacy}", "received_events_url": "https://api.github.com/users/ameliabradley/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ameliabradley", "id": 597352, "node_id": "MDQ6VXNlcjU5NzM1Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/597352?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ameliabradley", "html_url": "https://github.com/ameliabradley", "followers_url": "https://api.github.com/users/ameliabradley/followers", "following_url": "https://api.github.com/users/ameliabradley/following{/other_user}", "gists_url": "https://api.github.com/users/ameliabradley/gists{/gist_id}", "starred_url": "https://api.github.com/users/ameliabradley/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ameliabradley/subscriptions", "organizations_url": "https://api.github.com/users/ameliabradley/orgs", "repos_url": "https://api.github.com/users/ameliabradley/repos", "events_url": "https://api.github.com/users/ameliabradley/events{/privacy}", "received_events_url": "https://api.github.com/users/ameliabradley/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3e99439f4dacc8ba0d2ca48d221694362d587927", "url": "https://api.github.com/repos/rust-lang/rust/commits/3e99439f4dacc8ba0d2ca48d221694362d587927", "html_url": "https://github.com/rust-lang/rust/commit/3e99439f4dacc8ba0d2ca48d221694362d587927"}], "stats": {"total": 24, "additions": 22, "deletions": 2}, "files": [{"sha": "af6a4090a27cb58c85b1ddd2adb6accdea2efa80", "filename": "README.md", "status": "modified", "additions": 22, "deletions": 2, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11/README.md", "raw_url": "https://github.com/rust-lang/rust/raw/4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11/README.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/README.md?ref=4c12a5dc6c99a234e2e9c0313f6b73c8fa162a11", "patch": "@@ -19,8 +19,28 @@ Read [\"Installation\"] from [The Book].\n ## Installing from Source\n \n The Rust build system uses a Python script called `x.py` to build the compiler,\n-which manages the bootstrapping process. More information about it can be found\n-by running `./x.py --help` or reading the [rustc dev guide][rustcguidebuild].\n+which manages the bootstrapping process. It lives in the root of the project.\n+\n+The `x.py` command can be run directly on most systems in the following format: \n+\n+```sh\n+./x.py <subcommand> [flags]\n+```\n+\n+This is how the documentation and examples assume you are running `x.py`.\n+\n+Systems such as Ubuntu 20.04 LTS do not create the necessary `python` command by default when Python is installed that allows `x.py` to be run directly. In that case you can either create a symlink for `python` (Ubuntu provides the `python-is-python3` package for this), or run `x.py` using Python itself:\n+\n+```sh\n+# Python 3\n+python3 x.py <subcommand> [flags]\n+\n+# Python 2.7\n+python2.7 x.py <subcommand> [flags]\n+```\n+\n+More information about `x.py` can be found\n+by running it with the `--help` flag or reading the [rustc dev guide][rustcguidebuild].\n \n [gettingstarted]: https://rustc-dev-guide.rust-lang.org/getting-started.html\n [rustcguidebuild]: https://rustc-dev-guide.rust-lang.org/building/how-to-build-and-run.html"}]}