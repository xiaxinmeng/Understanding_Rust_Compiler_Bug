{"sha": "26265bb9bc815f8b508ae1743f816f76a0eeea41", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI2MjY1YmI5YmM4MTVmOGI1MDhhZTE3NDNmODE2Zjc2YTBlZWVhNDE=", "commit": {"author": {"name": "flip1995", "email": "philipp.krones@embecosm.com", "date": "2021-03-05T09:27:30Z"}, "committer": {"name": "flip1995", "email": "philipp.krones@embecosm.com", "date": "2021-03-05T09:27:30Z"}, "message": "ci: Sync clippy and clippy_bors workflows\n\nThose workflows should always test exactly the same things", "tree": {"sha": "bad87df565fe66cd8d79c3505999de048e68c53e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bad87df565fe66cd8d79c3505999de048e68c53e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/26265bb9bc815f8b508ae1743f816f76a0eeea41", "comment_count": 0, "verification": {"verified": false, "reason": "bad_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEij1UXJ/PQTcb99vTHKDfKvWdaKUFAmBB+YIACgkQHKDfKvWd\naKX1fhAAzwAcF6RC8t4AKLSGnaoGC3JfApbbMRNr6U3yYlorMAM4smRGA5DkJpDd\njjFrdXuh5/CiVyacmoHv8f4Pz7IsOVHbMUaDrWW1emwLxtn2ADAvLvCOFmTb7zQ7\nfIvIIrfDyDgcQhCTqf8UKuXbk2/HpmoHB5zjzXO2d/8ganM7T0SOLnOOwFpjnjOc\n5S5Kqy3d9FzjRqHV6jNPfvoMgoADHjvZP1MPw7WYJJO/NcCCy7smo/Ybm0fXwDLC\nmZLz0Oyumq8ZrCCpGBfz43vKxrs6idwQTC5h0hTpU04nzw+kvvcUR8ZJkuJOXkwa\ntVaX+5RAtiiJSSq+W2SPw/ohOtogx6MYL3bdwP91RvGyVt/HffxiBwuu4brJxwqH\nNFs+3yjdyfmvx9zSbBLJgG6ycbm21MhswjLcBmtVQiA5x5Ea4FWuIrrvjFXVE99y\nrpMwPMEYRdT7spMPPjYAyY8FefIoPO9bqJrW6osCmPTqgP3Rgj6UishjF/i5QHRR\n2kEkxR0R/dJprIjYaffGNxmryyjRC1Fn/bOTQ45mbjuV8JnDvvxMQOQeevxV6H7R\nDhmibs1WEYoskixdbu+ElCH4neUWlY0affoYILGzgv/WU2mOS9xJNr2VJa9JksgA\ns2GYME2IsgKRiS2hdL9DMiiNf8pcKETZgUtiIKGxxcZ+STQODJE=\n=U/Iz\n-----END PGP SIGNATURE-----", "payload": "tree bad87df565fe66cd8d79c3505999de048e68c53e\nparent f0e6ce8035a8c12d2342c68814f00529a410b77d\nauthor flip1995 <philipp.krones@embecosm.com> 1614936450 +0100\ncommitter flip1995 <philipp.krones@embecosm.com> 1614936450 +0100\n\nci: Sync clippy and clippy_bors workflows\n\nThose workflows should always test exactly the same things\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/26265bb9bc815f8b508ae1743f816f76a0eeea41", "html_url": "https://github.com/rust-lang/rust/commit/26265bb9bc815f8b508ae1743f816f76a0eeea41", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/26265bb9bc815f8b508ae1743f816f76a0eeea41/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f0e6ce8035a8c12d2342c68814f00529a410b77d", "url": "https://api.github.com/repos/rust-lang/rust/commits/f0e6ce8035a8c12d2342c68814f00529a410b77d", "html_url": "https://github.com/rust-lang/rust/commit/f0e6ce8035a8c12d2342c68814f00529a410b77d"}], "stats": {"total": 20, "additions": 17, "deletions": 3}, "files": [{"sha": "32103f59d8b0e14d389e4b714c8fc419e9999ba9", "filename": ".github/workflows/clippy.yml", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/26265bb9bc815f8b508ae1743f816f76a0eeea41/.github%2Fworkflows%2Fclippy.yml", "raw_url": "https://github.com/rust-lang/rust/raw/26265bb9bc815f8b508ae1743f816f76a0eeea41/.github%2Fworkflows%2Fclippy.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fclippy.yml?ref=26265bb9bc815f8b508ae1743f816f76a0eeea41", "patch": "@@ -27,6 +27,7 @@ env:\n \n jobs:\n   base:\n+    # NOTE: If you modify this job, make sure you copy the changes to clippy_bors.yml\n     runs-on: ubuntu-latest\n \n     steps:\n@@ -50,9 +51,6 @@ jobs:\n     - name: Build\n       run: cargo build --features deny-warnings,internal-lints\n \n-    - name: Test \"--fix -Zunstable-options\"\n-      run: cargo run --features deny-warnings,internal-lints --bin cargo-clippy -- clippy --fix -Zunstable-options\n-\n     - name: Test\n       run: cargo test --features deny-warnings,internal-lints\n \n@@ -72,6 +70,10 @@ jobs:\n       run: ../target/debug/cargo-clippy\n       working-directory: clippy_workspace_tests\n \n+    - name: Test cargo-clippy --fix\n+      run: ../target/debug/cargo-clippy clippy --fix -Zunstable-options\n+      working-directory: clippy_workspace_tests\n+\n     - name: Test clippy-driver\n       run: bash .github/driver.sh\n       env:"}, {"sha": "47253eecc4c4c03ccbcb2fbd10bf32ea15d22dc2", "filename": ".github/workflows/clippy_bors.yml", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/26265bb9bc815f8b508ae1743f816f76a0eeea41/.github%2Fworkflows%2Fclippy_bors.yml", "raw_url": "https://github.com/rust-lang/rust/raw/26265bb9bc815f8b508ae1743f816f76a0eeea41/.github%2Fworkflows%2Fclippy_bors.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.github%2Fworkflows%2Fclippy_bors.yml?ref=26265bb9bc815f8b508ae1743f816f76a0eeea41", "patch": "@@ -72,6 +72,7 @@ jobs:\n \n     runs-on: ${{ matrix.os }}\n \n+    # NOTE: If you modify this job, make sure you copy the changes to clippy.yml\n     steps:\n     # Setup\n     - uses: rust-lang/simpleinfra/github-actions/cancel-outdated-builds@master\n@@ -131,11 +132,22 @@ jobs:\n       run: ../target/debug/cargo-clippy\n       working-directory: clippy_workspace_tests\n \n+    - name: Test cargo-clippy --fix\n+      run: ../target/debug/cargo-clippy clippy --fix -Zunstable-options\n+      working-directory: clippy_workspace_tests\n+\n     - name: Test clippy-driver\n       run: bash .github/driver.sh\n       env:\n         OS: ${{ runner.os }}\n \n+    - name: Test cargo dev new lint\n+      run: |\n+        cargo dev new_lint --name new_early_pass --pass early\n+        cargo dev new_lint --name new_late_pass --pass late\n+        cargo check\n+        git reset --hard HEAD\n+\n   integration_build:\n     needs: changelog\n     runs-on: ubuntu-latest"}]}