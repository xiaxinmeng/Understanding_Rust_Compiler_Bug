{"sha": "b0ee1ebef4d2b2f0e396438a3db259c981dc2754", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIwZWUxZWJlZjRkMmIyZjBlMzk2NDM4YTNkYjI1OWM5ODFkYzI3NTQ=", "commit": {"author": {"name": "Alexis Beingessner", "email": "a.beingessner@gmail.com", "date": "2015-07-17T17:41:32Z"}, "committer": {"name": "Alexis Beingessner", "email": "a.beingessner@gmail.com", "date": "2015-07-17T17:43:58Z"}, "message": "fix pretty printers to handle new Vec", "tree": {"sha": "ea90d807bc719d33c39d41962a329c97688a787a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ea90d807bc719d33c39d41962a329c97688a787a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b0ee1ebef4d2b2f0e396438a3db259c981dc2754", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b0ee1ebef4d2b2f0e396438a3db259c981dc2754", "html_url": "https://github.com/rust-lang/rust/commit/b0ee1ebef4d2b2f0e396438a3db259c981dc2754", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b0ee1ebef4d2b2f0e396438a3db259c981dc2754/comments", "author": {"login": "Gankra", "id": 1136864, "node_id": "MDQ6VXNlcjExMzY4NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gankra", "html_url": "https://github.com/Gankra", "followers_url": "https://api.github.com/users/Gankra/followers", "following_url": "https://api.github.com/users/Gankra/following{/other_user}", "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions", "organizations_url": "https://api.github.com/users/Gankra/orgs", "repos_url": "https://api.github.com/users/Gankra/repos", "events_url": "https://api.github.com/users/Gankra/events{/privacy}", "received_events_url": "https://api.github.com/users/Gankra/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Gankra", "id": 1136864, "node_id": "MDQ6VXNlcjExMzY4NjQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1136864?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Gankra", "html_url": "https://github.com/Gankra", "followers_url": "https://api.github.com/users/Gankra/followers", "following_url": "https://api.github.com/users/Gankra/following{/other_user}", "gists_url": "https://api.github.com/users/Gankra/gists{/gist_id}", "starred_url": "https://api.github.com/users/Gankra/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Gankra/subscriptions", "organizations_url": "https://api.github.com/users/Gankra/orgs", "repos_url": "https://api.github.com/users/Gankra/repos", "events_url": "https://api.github.com/users/Gankra/events{/privacy}", "received_events_url": "https://api.github.com/users/Gankra/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bfa0e1f58acf1c28d500c34ed258f09ae021893e", "url": "https://api.github.com/repos/rust-lang/rust/commits/bfa0e1f58acf1c28d500c34ed258f09ae021893e", "html_url": "https://github.com/rust-lang/rust/commit/bfa0e1f58acf1c28d500c34ed258f09ae021893e"}], "stats": {"total": 16, "additions": 7, "deletions": 9}, "files": [{"sha": "06a83c75936fe4a44a6584b9cbf9e09b9a554d1c", "filename": "src/etc/debugger_pretty_printers_common.py", "status": "modified", "additions": 7, "deletions": 9, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/b0ee1ebef4d2b2f0e396438a3db259c981dc2754/src%2Fetc%2Fdebugger_pretty_printers_common.py", "raw_url": "https://github.com/rust-lang/rust/raw/b0ee1ebef4d2b2f0e396438a3db259c981dc2754/src%2Fetc%2Fdebugger_pretty_printers_common.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fdebugger_pretty_printers_common.py?ref=b0ee1ebef4d2b2f0e396438a3db259c981dc2754", "patch": "@@ -55,12 +55,10 @@\n SLICE_FIELD_NAMES = [SLICE_FIELD_NAME_DATA_PTR, SLICE_FIELD_NAME_LENGTH]\n \n # std::Vec<> related constants\n-STD_VEC_FIELD_NAME_DATA_PTR = \"ptr\"\n STD_VEC_FIELD_NAME_LENGTH = \"len\"\n-STD_VEC_FIELD_NAME_CAPACITY = \"cap\"\n-STD_VEC_FIELD_NAMES = [STD_VEC_FIELD_NAME_DATA_PTR,\n-                       STD_VEC_FIELD_NAME_LENGTH,\n-                       STD_VEC_FIELD_NAME_CAPACITY]\n+STD_VEC_FIELD_NAME_BUF = \"buf\"\n+STD_VEC_FIELD_NAMES = [STD_VEC_FIELD_NAME_BUF,\n+                       STD_VEC_FIELD_NAME_LENGTH]\n \n # std::String related constants\n STD_STRING_FIELD_NAMES = [\"vec\"]\n@@ -302,13 +300,13 @@ def get_discriminant_value_as_integer(enum_val):\n def extract_length_ptr_and_cap_from_std_vec(vec_val):\n     assert vec_val.type.get_type_kind() == TYPE_KIND_STD_VEC\n     length_field_index = STD_VEC_FIELD_NAMES.index(STD_VEC_FIELD_NAME_LENGTH)\n-    ptr_field_index = STD_VEC_FIELD_NAMES.index(STD_VEC_FIELD_NAME_DATA_PTR)\n-    cap_field_index = STD_VEC_FIELD_NAMES.index(STD_VEC_FIELD_NAME_CAPACITY)\n+    buf_field_index = STD_VEC_FIELD_NAMES.index(STD_VEC_FIELD_NAME_BUF)\n \n     length = vec_val.get_child_at_index(length_field_index).as_integer()\n-    vec_ptr_val = vec_val.get_child_at_index(ptr_field_index)\n-    capacity = vec_val.get_child_at_index(cap_field_index).as_integer()\n+    buf = vec_val.get_child_at_index(buf_field_index)\n \n+    vec_ptr_val = buf.get_child_at_index(0)\n+    capacity = buf.get_child_at_index(1).as_integer()\n     unique_ptr_val = vec_ptr_val.get_child_at_index(0)\n     data_ptr = unique_ptr_val.get_child_at_index(0)\n     assert data_ptr.type.get_dwarf_type_kind() == DWARF_TYPE_CODE_PTR"}]}