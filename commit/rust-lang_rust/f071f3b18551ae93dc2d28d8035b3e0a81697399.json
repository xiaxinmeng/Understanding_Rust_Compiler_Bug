{"sha": "f071f3b18551ae93dc2d28d8035b3e0a81697399", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYwNzFmM2IxODU1MWFlOTNkYzJkMjhkODAzNWIzZTBhODE2OTczOTk=", "commit": {"author": {"name": "KernelJ", "email": "kernelj@epixxware.com", "date": "2015-01-12T23:26:22Z"}, "committer": {"name": "KernelJ", "email": "kernelj@epixxware.com", "date": "2015-01-12T23:26:22Z"}, "message": "Fixes to cfg .mk files for Windows: removed use of unused LDPATH variable on Windows as is done for other platforms, and added GCC flag to ensure MINGW's ANSI compatible STDIO functions are used wherever available (required by jemalloc).", "tree": {"sha": "a3dedd435895d58ee6de1a1369f8eaceaca6bf43", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a3dedd435895d58ee6de1a1369f8eaceaca6bf43"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f071f3b18551ae93dc2d28d8035b3e0a81697399", "comment_count": 13, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f071f3b18551ae93dc2d28d8035b3e0a81697399", "html_url": "https://github.com/rust-lang/rust/commit/f071f3b18551ae93dc2d28d8035b3e0a81697399", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f071f3b18551ae93dc2d28d8035b3e0a81697399/comments", "author": {"login": "ColonelJ", "id": 1319508, "node_id": "MDQ6VXNlcjEzMTk1MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1319508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ColonelJ", "html_url": "https://github.com/ColonelJ", "followers_url": "https://api.github.com/users/ColonelJ/followers", "following_url": "https://api.github.com/users/ColonelJ/following{/other_user}", "gists_url": "https://api.github.com/users/ColonelJ/gists{/gist_id}", "starred_url": "https://api.github.com/users/ColonelJ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ColonelJ/subscriptions", "organizations_url": "https://api.github.com/users/ColonelJ/orgs", "repos_url": "https://api.github.com/users/ColonelJ/repos", "events_url": "https://api.github.com/users/ColonelJ/events{/privacy}", "received_events_url": "https://api.github.com/users/ColonelJ/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ColonelJ", "id": 1319508, "node_id": "MDQ6VXNlcjEzMTk1MDg=", "avatar_url": "https://avatars.githubusercontent.com/u/1319508?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ColonelJ", "html_url": "https://github.com/ColonelJ", "followers_url": "https://api.github.com/users/ColonelJ/followers", "following_url": "https://api.github.com/users/ColonelJ/following{/other_user}", "gists_url": "https://api.github.com/users/ColonelJ/gists{/gist_id}", "starred_url": "https://api.github.com/users/ColonelJ/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ColonelJ/subscriptions", "organizations_url": "https://api.github.com/users/ColonelJ/orgs", "repos_url": "https://api.github.com/users/ColonelJ/repos", "events_url": "https://api.github.com/users/ColonelJ/events{/privacy}", "received_events_url": "https://api.github.com/users/ColonelJ/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3a44a19af29585c02e81e22ea7665f829ae0590a", "url": "https://api.github.com/repos/rust-lang/rust/commits/3a44a19af29585c02e81e22ea7665f829ae0590a", "html_url": "https://github.com/rust-lang/rust/commit/3a44a19af29585c02e81e22ea7665f829ae0590a"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "357a321688bcace7c9ac062e4b1a65ba0297fbba", "filename": "mk/cfg/i686-pc-windows-gnu.mk", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/f071f3b18551ae93dc2d28d8035b3e0a81697399/mk%2Fcfg%2Fi686-pc-windows-gnu.mk", "raw_url": "https://github.com/rust-lang/rust/raw/f071f3b18551ae93dc2d28d8035b3e0a81697399/mk%2Fcfg%2Fi686-pc-windows-gnu.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fi686-pc-windows-gnu.mk?ref=f071f3b18551ae93dc2d28d8035b3e0a81697399", "patch": "@@ -8,8 +8,8 @@ CFG_LIB_NAME_i686-pc-windows-gnu=$(1).dll\n CFG_STATIC_LIB_NAME_i686-pc-windows-gnu=$(1).lib\n CFG_LIB_GLOB_i686-pc-windows-gnu=$(1)-*.dll\n CFG_LIB_DSYM_GLOB_i686-pc-windows-gnu=$(1)-*.dylib.dSYM\n-CFG_JEMALLOC_CFLAGS_i686-pc-windows-gnu := -march=i686 -m32 -D_WIN32_WINNT=0x0600 $(CFLAGS)\n-CFG_GCCISH_CFLAGS_i686-pc-windows-gnu := -Wall -Werror -g -m32 -D_WIN32_WINNT=0x0600 $(CFLAGS)\n+CFG_JEMALLOC_CFLAGS_i686-pc-windows-gnu := -march=i686 -m32 -D_WIN32_WINNT=0x0600 -D__USE_MINGW_ANSI_STDIO=1 $(CFLAGS)\n+CFG_GCCISH_CFLAGS_i686-pc-windows-gnu := -Wall -Werror -g -m32 -D_WIN32_WINNT=0x0600 -D__USE_MINGW_ANSI_STDIO=1 $(CFLAGS)\n CFG_GCCISH_CXXFLAGS_i686-pc-windows-gnu := -fno-rtti $(CXXFLAGS)\n CFG_GCCISH_LINK_FLAGS_i686-pc-windows-gnu := -shared -g -m32\n CFG_GCCISH_DEF_FLAG_i686-pc-windows-gnu :=\n@@ -22,7 +22,7 @@ CFG_EXE_SUFFIX_i686-pc-windows-gnu := .exe\n CFG_WINDOWSY_i686-pc-windows-gnu := 1\n CFG_UNIXY_i686-pc-windows-gnu :=\n CFG_PATH_MUNGE_i686-pc-windows-gnu :=\n-CFG_LDPATH_i686-pc-windows-gnu :=$(CFG_LDPATH_i686-pc-windows-gnu):$(PATH)\n-CFG_RUN_i686-pc-windows-gnu=PATH=\"$(CFG_LDPATH_i686-pc-windows-gnu):$(1)\" $(2)\n-CFG_RUN_TARG_i686-pc-windows-gnu=$(call CFG_RUN_i686-pc-windows-gnu,$(HLIB$(1)_H_$(CFG_BUILD)),$(2))\n+CFG_LDPATH_i686-pc-windows-gnu :=\n+CFG_RUN_i686-pc-windows-gnu=$(2)\n+CFG_RUN_TARG_i686-pc-windows-gnu=$(call CFG_RUN_i686-pc-windows-gnu,,$(2))\n CFG_GNU_TRIPLE_i686-pc-windows-gnu := i686-w64-mingw32"}, {"sha": "e9e5f04ea54336a3a2737c80f65b850a0ed24773", "filename": "mk/cfg/x86_64-pc-windows-gnu.mk", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/f071f3b18551ae93dc2d28d8035b3e0a81697399/mk%2Fcfg%2Fx86_64-pc-windows-gnu.mk", "raw_url": "https://github.com/rust-lang/rust/raw/f071f3b18551ae93dc2d28d8035b3e0a81697399/mk%2Fcfg%2Fx86_64-pc-windows-gnu.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fcfg%2Fx86_64-pc-windows-gnu.mk?ref=f071f3b18551ae93dc2d28d8035b3e0a81697399", "patch": "@@ -8,8 +8,8 @@ CFG_LIB_NAME_x86_64-pc-windows-gnu=$(1).dll\n CFG_STATIC_LIB_NAME_x86_64-pc-windows-gnu=$(1).lib\n CFG_LIB_GLOB_x86_64-pc-windows-gnu=$(1)-*.dll\n CFG_LIB_DSYM_GLOB_x86_64-pc-windows-gnu=$(1)-*.dylib.dSYM\n-CFG_JEMALLOC_CFLAGS_x86_64-pc-windows-gnu := -m64 -D_WIN32_WINNT=0x0600 $(CFLAGS)\n-CFG_GCCISH_CFLAGS_x86_64-pc-windows-gnu := -Wall -Werror -g -m64 -D_WIN32_WINNT=0x0600 $(CFLAGS)\n+CFG_JEMALLOC_CFLAGS_x86_64-pc-windows-gnu := -m64 -D_WIN32_WINNT=0x0600 -D__USE_MINGW_ANSI_STDIO=1 $(CFLAGS)\n+CFG_GCCISH_CFLAGS_x86_64-pc-windows-gnu := -Wall -Werror -g -m64 -D_WIN32_WINNT=0x0600 -D__USE_MINGW_ANSI_STDIO=1 $(CFLAGS)\n CFG_GCCISH_CXXFLAGS_x86_64-pc-windows-gnu := -fno-rtti $(CXXFLAGS)\n CFG_GCCISH_LINK_FLAGS_x86_64-pc-windows-gnu := -shared -g -m64\n CFG_GCCISH_DEF_FLAG_x86_64-pc-windows-gnu :=\n@@ -22,7 +22,7 @@ CFG_EXE_SUFFIX_x86_64-pc-windows-gnu := .exe\n CFG_WINDOWSY_x86_64-pc-windows-gnu := 1\n CFG_UNIXY_x86_64-pc-windows-gnu :=\n CFG_PATH_MUNGE_x86_64-pc-windows-gnu :=\n-CFG_LDPATH_x86_64-pc-windows-gnu :=$(CFG_LDPATH_x86_64-pc-windows-gnu):$(PATH)\n-CFG_RUN_x86_64-pc-windows-gnu=PATH=\"$(CFG_LDPATH_x86_64-pc-windows-gnu):$(1)\" $(2)\n-CFG_RUN_TARG_x86_64-pc-windows-gnu=$(call CFG_RUN_x86_64-pc-windows-gnu,$(HLIB$(1)_H_$(CFG_BUILD)),$(2))\n+CFG_LDPATH_x86_64-pc-windows-gnu :=\n+CFG_RUN_x86_64-pc-windows-gnu=$(2)\n+CFG_RUN_TARG_x86_64-pc-windows-gnu=$(call CFG_RUN_x86_64-pc-windows-gnu,,$(2))\n CFG_GNU_TRIPLE_x86_64-pc-windows-gnu := x86_64-w64-mingw32"}]}