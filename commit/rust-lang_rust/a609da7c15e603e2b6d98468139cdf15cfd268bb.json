{"sha": "a609da7c15e603e2b6d98468139cdf15cfd268bb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE2MDlkYTdjMTVlNjAzZTJiNmQ5ODQ2ODEzOWNkZjE1Y2ZkMjY4YmI=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-09-20T18:59:25Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-09-20T18:59:51Z"}, "message": "Rehabilitate run-fail/trivial-message2", "tree": {"sha": "934664655c860d97da99a37bb6f0a34fab24f20c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/934664655c860d97da99a37bb6f0a34fab24f20c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a609da7c15e603e2b6d98468139cdf15cfd268bb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a609da7c15e603e2b6d98468139cdf15cfd268bb", "html_url": "https://github.com/rust-lang/rust/commit/a609da7c15e603e2b6d98468139cdf15cfd268bb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a609da7c15e603e2b6d98468139cdf15cfd268bb/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "58d812f0f8c664b606ef3b087fd5f69e5f988924", "url": "https://api.github.com/repos/rust-lang/rust/commits/58d812f0f8c664b606ef3b087fd5f69e5f988924", "html_url": "https://github.com/rust-lang/rust/commit/58d812f0f8c664b606ef3b087fd5f69e5f988924"}], "stats": {"total": 32, "additions": 19, "deletions": 13}, "files": [{"sha": "cc16965d740232e07baf8932f7c6f7d6351daf45", "filename": "src/test/run-fail/task-comm-recv-block.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/a609da7c15e603e2b6d98468139cdf15cfd268bb/src%2Ftest%2Frun-fail%2Ftask-comm-recv-block.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a609da7c15e603e2b6d98468139cdf15cfd268bb/src%2Ftest%2Frun-fail%2Ftask-comm-recv-block.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Ftask-comm-recv-block.rs?ref=a609da7c15e603e2b6d98468139cdf15cfd268bb", "patch": "@@ -0,0 +1,19 @@\n+// error-pattern:goodfail\n+\n+use std;\n+import std::task;\n+import std::comm;\n+\n+fn goodfail() {\n+    task::yield();\n+    fail \"goodfail\";\n+}\n+\n+fn main() {\n+    task::spawn(bind goodfail());\n+    let po = comm::port();\n+    // We shouldn't be able to get past this recv since there's no\n+    // message available\n+    let i: int = comm::recv(po);\n+    fail \"badfail\";\n+}"}, {"sha": "5bae5036e6e081ed7de57062a2d3d00861ca8550", "filename": "src/test/run-fail/trivial-message2.rs", "status": "removed", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/58d812f0f8c664b606ef3b087fd5f69e5f988924/src%2Ftest%2Frun-fail%2Ftrivial-message2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/58d812f0f8c664b606ef3b087fd5f69e5f988924/src%2Ftest%2Frun-fail%2Ftrivial-message2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-fail%2Ftrivial-message2.rs?ref=58d812f0f8c664b606ef3b087fd5f69e5f988924", "patch": "@@ -1,13 +0,0 @@\n-// xfail-test\n-\n-/*\n-  This program should hang on the po |> r line.\n- */\n-fn main() {\n-    let po: port<int> = port();\n-    let ch: chan<int> = chan(po);\n-    let r;\n-    po |> r;\n-    ch <| 42;\n-    log_err r;\n-}"}]}