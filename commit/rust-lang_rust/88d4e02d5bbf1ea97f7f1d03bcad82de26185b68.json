{"sha": "88d4e02d5bbf1ea97f7f1d03bcad82de26185b68", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg4ZDRlMDJkNWJiZjFlYTk3ZjdmMWQwM2JjYWQ4MmRlMjYxODViNjg=", "commit": {"author": {"name": "Steven Fackler", "email": "sfackler@gmail.com", "date": "2014-12-29T18:58:22Z"}, "committer": {"name": "Steven Fackler", "email": "sfackler@gmail.com", "date": "2014-12-29T20:20:34Z"}, "message": "Implement Send for Cell and RefCell\n\nAlso get rid of NoSync markers since UnsafeCell is now not Sync", "tree": {"sha": "4b0d93d2b5e2c24222990ddf5628994c334ffe9d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4b0d93d2b5e2c24222990ddf5628994c334ffe9d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/88d4e02d5bbf1ea97f7f1d03bcad82de26185b68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/88d4e02d5bbf1ea97f7f1d03bcad82de26185b68", "html_url": "https://github.com/rust-lang/rust/commit/88d4e02d5bbf1ea97f7f1d03bcad82de26185b68", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/88d4e02d5bbf1ea97f7f1d03bcad82de26185b68/comments", "author": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "committer": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3dcc409fac18a258ba2a8af4345d9566ec8eebad", "url": "https://api.github.com/repos/rust-lang/rust/commits/3dcc409fac18a258ba2a8af4345d9566ec8eebad", "html_url": "https://github.com/rust-lang/rust/commit/3dcc409fac18a258ba2a8af4345d9566ec8eebad"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "01a1e7f97110a93668dfa1a641e82459b4a23834", "filename": "src/libcore/cell.rs", "status": "modified", "additions": 7, "deletions": 5, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/88d4e02d5bbf1ea97f7f1d03bcad82de26185b68/src%2Flibcore%2Fcell.rs", "raw_url": "https://github.com/rust-lang/rust/raw/88d4e02d5bbf1ea97f7f1d03bcad82de26185b68/src%2Flibcore%2Fcell.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcell.rs?ref=88d4e02d5bbf1ea97f7f1d03bcad82de26185b68", "patch": "@@ -158,7 +158,7 @@\n use clone::Clone;\n use cmp::PartialEq;\n use default::Default;\n-use kinds::{marker, Copy};\n+use kinds::{Copy, Send};\n use ops::{Deref, DerefMut, Drop};\n use option::Option;\n use option::Option::{None, Some};\n@@ -167,7 +167,6 @@ use option::Option::{None, Some};\n #[stable]\n pub struct Cell<T> {\n     value: UnsafeCell<T>,\n-    noshare: marker::NoSync,\n }\n \n impl<T:Copy> Cell<T> {\n@@ -176,7 +175,6 @@ impl<T:Copy> Cell<T> {\n     pub fn new(value: T) -> Cell<T> {\n         Cell {\n             value: UnsafeCell::new(value),\n-            noshare: marker::NoSync,\n         }\n     }\n \n@@ -208,6 +206,9 @@ impl<T:Copy> Cell<T> {\n     }\n }\n \n+#[stable]\n+unsafe impl<T> Send for Cell<T> where T: Send {}\n+\n #[stable]\n impl<T:Copy> Clone for Cell<T> {\n     fn clone(&self) -> Cell<T> {\n@@ -235,7 +236,6 @@ impl<T:PartialEq + Copy> PartialEq for Cell<T> {\n pub struct RefCell<T> {\n     value: UnsafeCell<T>,\n     borrow: Cell<BorrowFlag>,\n-    noshare: marker::NoSync,\n }\n \n // Values [1, MAX-1] represent the number of `Ref` active\n@@ -251,7 +251,6 @@ impl<T> RefCell<T> {\n         RefCell {\n             value: UnsafeCell::new(value),\n             borrow: Cell::new(UNUSED),\n-            noshare: marker::NoSync,\n         }\n     }\n \n@@ -341,6 +340,9 @@ impl<T> RefCell<T> {\n     }\n }\n \n+#[stable]\n+unsafe impl<T> Send for RefCell<T> where T: Send {}\n+\n #[stable]\n impl<T: Clone> Clone for RefCell<T> {\n     fn clone(&self) -> RefCell<T> {"}]}