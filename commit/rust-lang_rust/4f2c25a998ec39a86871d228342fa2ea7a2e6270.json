{"sha": "4f2c25a998ec39a86871d228342fa2ea7a2e6270", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRmMmMyNWE5OThlYzM5YTg2ODcxZDIyODM0MmZhMmVhN2EyZTYyNzA=", "commit": {"author": {"name": "JohnTitor", "email": "huyuumi.dev@gmail.com", "date": "2021-03-30T08:02:23Z"}, "committer": {"name": "JohnTitor", "email": "huyuumi.dev@gmail.com", "date": "2021-03-30T08:02:23Z"}, "message": "Add a regression test for issue-75801", "tree": {"sha": "a469a72733f78441d13a5a4644cd4d09afda8447", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a469a72733f78441d13a5a4644cd4d09afda8447"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4f2c25a998ec39a86871d228342fa2ea7a2e6270", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4f2c25a998ec39a86871d228342fa2ea7a2e6270", "html_url": "https://github.com/rust-lang/rust/commit/4f2c25a998ec39a86871d228342fa2ea7a2e6270", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4f2c25a998ec39a86871d228342fa2ea7a2e6270/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "32d3276561e88bfdf92cc483cff842a24fdd4b37", "url": "https://api.github.com/repos/rust-lang/rust/commits/32d3276561e88bfdf92cc483cff842a24fdd4b37", "html_url": "https://github.com/rust-lang/rust/commit/32d3276561e88bfdf92cc483cff842a24fdd4b37"}], "stats": {"total": 44, "additions": 44, "deletions": 0}, "files": [{"sha": "d6c031d7d4f7e8b26844b4d5a07d079fb92f2235", "filename": "src/test/ui/proc-macro/auxiliary/issue-75801.rs", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/4f2c25a998ec39a86871d228342fa2ea7a2e6270/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fissue-75801.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4f2c25a998ec39a86871d228342fa2ea7a2e6270/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fissue-75801.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fauxiliary%2Fissue-75801.rs?ref=4f2c25a998ec39a86871d228342fa2ea7a2e6270", "patch": "@@ -0,0 +1,13 @@\n+// force-host\n+// no-prefer-dynamic\n+\n+#![crate_type = \"proc-macro\"]\n+\n+extern crate proc_macro;\n+\n+use proc_macro::TokenStream;\n+\n+#[proc_macro_attribute]\n+pub fn foo(_args: TokenStream, item: TokenStream) -> TokenStream {\n+    item\n+}"}, {"sha": "b07cde0fabd74bbdc72a039277b74e477e6bb9b7", "filename": "src/test/ui/proc-macro/issue-75801.rs", "status": "added", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/4f2c25a998ec39a86871d228342fa2ea7a2e6270/src%2Ftest%2Fui%2Fproc-macro%2Fissue-75801.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4f2c25a998ec39a86871d228342fa2ea7a2e6270/src%2Ftest%2Fui%2Fproc-macro%2Fissue-75801.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fissue-75801.rs?ref=4f2c25a998ec39a86871d228342fa2ea7a2e6270", "patch": "@@ -0,0 +1,19 @@\n+// aux-build: issue-75801.rs\n+\n+// Regression test for #75801.\n+\n+#[macro_use]\n+extern crate issue_75801;\n+\n+macro_rules! foo {\n+    ($arg:expr) => {\n+        #[foo]\n+        fn bar() {\n+            let _bar: u32 = $arg;\n+        }\n+    };\n+}\n+\n+foo!(\"baz\"); //~ ERROR: mismatched types [E0308]\n+\n+fn main() {}"}, {"sha": "ee0a9bd7783e65f900c6597fc7278aa5c9c26d7c", "filename": "src/test/ui/proc-macro/issue-75801.stderr", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/4f2c25a998ec39a86871d228342fa2ea7a2e6270/src%2Ftest%2Fui%2Fproc-macro%2Fissue-75801.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4f2c25a998ec39a86871d228342fa2ea7a2e6270/src%2Ftest%2Fui%2Fproc-macro%2Fissue-75801.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fissue-75801.stderr?ref=4f2c25a998ec39a86871d228342fa2ea7a2e6270", "patch": "@@ -0,0 +1,12 @@\n+error[E0308]: mismatched types\n+  --> $DIR/issue-75801.rs:17:6\n+   |\n+LL |             let _bar: u32 = $arg;\n+   |                       --- expected due to this\n+...\n+LL | foo!(\"baz\");\n+   |      ^^^^^ expected `u32`, found `&str`\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0308`."}]}