{"sha": "26ba64dca9486a910a6e191d27841ebff800928c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI2YmE2NGRjYTk0ODZhOTEwYTZlMTkxZDI3ODQxZWJmZjgwMDkyOGM=", "commit": {"author": {"name": "g3xzh", "email": "g3xzh@yahoo.com", "date": "2013-11-27T09:39:07Z"}, "committer": {"name": "g3xzh", "email": "g3xzh@yahoo.com", "date": "2013-11-27T09:39:07Z"}, "message": "Add benchmark tests to path/posix\n\nI have written some benchmark tests to `push`, `push_many`, `join`,\n`join_many` and `ends_with_path`.", "tree": {"sha": "96b7a2931cfe815a595d906946c3103604c12b9a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/96b7a2931cfe815a595d906946c3103604c12b9a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/26ba64dca9486a910a6e191d27841ebff800928c", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/26ba64dca9486a910a6e191d27841ebff800928c", "html_url": "https://github.com/rust-lang/rust/commit/26ba64dca9486a910a6e191d27841ebff800928c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/26ba64dca9486a910a6e191d27841ebff800928c/comments", "author": {"login": "g3xzh", "id": 5985993, "node_id": "MDQ6VXNlcjU5ODU5OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5985993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/g3xzh", "html_url": "https://github.com/g3xzh", "followers_url": "https://api.github.com/users/g3xzh/followers", "following_url": "https://api.github.com/users/g3xzh/following{/other_user}", "gists_url": "https://api.github.com/users/g3xzh/gists{/gist_id}", "starred_url": "https://api.github.com/users/g3xzh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/g3xzh/subscriptions", "organizations_url": "https://api.github.com/users/g3xzh/orgs", "repos_url": "https://api.github.com/users/g3xzh/repos", "events_url": "https://api.github.com/users/g3xzh/events{/privacy}", "received_events_url": "https://api.github.com/users/g3xzh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "g3xzh", "id": 5985993, "node_id": "MDQ6VXNlcjU5ODU5OTM=", "avatar_url": "https://avatars.githubusercontent.com/u/5985993?v=4", "gravatar_id": "", "url": "https://api.github.com/users/g3xzh", "html_url": "https://github.com/g3xzh", "followers_url": "https://api.github.com/users/g3xzh/followers", "following_url": "https://api.github.com/users/g3xzh/following{/other_user}", "gists_url": "https://api.github.com/users/g3xzh/gists{/gist_id}", "starred_url": "https://api.github.com/users/g3xzh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/g3xzh/subscriptions", "organizations_url": "https://api.github.com/users/g3xzh/orgs", "repos_url": "https://api.github.com/users/g3xzh/repos", "events_url": "https://api.github.com/users/g3xzh/events{/privacy}", "received_events_url": "https://api.github.com/users/g3xzh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "82d9033b67d618d5bc51e9b22190c369214db4b9", "url": "https://api.github.com/repos/rust-lang/rust/commits/82d9033b67d618d5bc51e9b22190c369214db4b9", "html_url": "https://github.com/rust-lang/rust/commit/82d9033b67d618d5bc51e9b22190c369214db4b9"}], "stats": {"total": 86, "additions": 86, "deletions": 0}, "files": [{"sha": "9b6b82266a2af40005ad72819c5eba5103acea5c", "filename": "src/libstd/path/posix.rs", "status": "modified", "additions": 86, "deletions": 0, "changes": 86, "blob_url": "https://github.com/rust-lang/rust/blob/26ba64dca9486a910a6e191d27841ebff800928c/src%2Flibstd%2Fpath%2Fposix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/26ba64dca9486a910a6e191d27841ebff800928c/src%2Flibstd%2Fpath%2Fposix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpath%2Fposix.rs?ref=26ba64dca9486a910a6e191d27841ebff800928c", "patch": "@@ -1319,3 +1319,89 @@ mod tests {\n         // the full set of tests\n     }\n }\n+\n+#[cfg(test)]\n+mod bench {\n+    use extra::test::BenchHarness;\n+    use super::*;\n+\n+    #[bench]\n+    fn join_home_dir(bh: &mut BenchHarness) {\n+        let posix_path = Path::new(\"/\");\n+        bh.iter(|| {\n+            posix_path.join(\"home\");\n+        });\n+    }\n+\n+    #[bench]\n+    fn join_abs_path_home_dir(bh: &mut BenchHarness) {\n+        let posix_path = Path::new(\"/\");\n+        bh.iter(|| {\n+            posix_path.join(\"/home\");\n+        });\n+    }\n+\n+    #[bench]\n+    fn join_many_home_dir(bh: &mut BenchHarness) {\n+        let posix_path = Path::new(\"/\");\n+        bh.iter(|| {\n+            posix_path.join_many(&[\"home\"]);\n+        });\n+    }\n+\n+    #[bench]\n+    fn join_many_abs_path_home_dir(bh: &mut BenchHarness) {\n+        let posix_path = Path::new(\"/\");\n+        bh.iter(|| {\n+            posix_path.join_many(&[\"/home\"]);\n+        });\n+    }\n+\n+    #[bench]\n+    fn push_home_dir(bh: &mut BenchHarness) {\n+        let mut posix_path = Path::new(\"/\");\n+        bh.iter(|| {\n+            posix_path.push(\"home\");\n+        });\n+    }\n+\n+    #[bench]\n+    fn push_abs_path_home_dir(bh: &mut BenchHarness) {\n+        let mut posix_path = Path::new(\"/\");\n+        bh.iter(|| {\n+            posix_path.push(\"/home\");\n+        });\n+    }\n+\n+    #[bench]\n+    fn push_many_home_dir(bh: &mut BenchHarness) {\n+        let mut posix_path = Path::new(\"/\");\n+        bh.iter(|| {\n+            posix_path.push_many(&[\"home\"]);\n+        });\n+    }\n+\n+    #[bench]\n+    fn push_many_abs_path_home_dir(bh: &mut BenchHarness) {\n+        let mut posix_path = Path::new(\"/\");\n+        bh.iter(|| {\n+            posix_path.push_many(&[\"/home\"]);\n+        });\n+    }\n+\n+    #[bench]\n+    fn ends_with_path_home_dir(bh: &mut BenchHarness) {\n+        let posix_home_path = Path::new(\"/home\");\n+        bh.iter(|| {\n+            posix_home_path.ends_with_path(&Path::new(\"home\"));\n+        });\n+    }\n+\n+    #[bench]\n+    fn ends_with_path_missmatch_jome_home(bh: &mut BenchHarness) {\n+        let posix_home_path = Path::new(\"/home\");\n+        bh.iter(|| {\n+            posix_home_path.ends_with_path(&Path::new(\"jome\"));\n+        });\n+    }\n+}"}]}