{"sha": "7d87054347b6daf737362d6710a687e48131fb5f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdkODcwNTQzNDdiNmRhZjczNzM2MmQ2NzEwYTY4N2U0ODEzMWZiNWY=", "commit": {"author": {"name": "Mikhail Modin", "email": "mikhailm1@gmail.com", "date": "2017-11-02T17:25:38Z"}, "committer": {"name": "Mikhail Modin", "email": "mikhailm1@gmail.com", "date": "2017-11-02T17:25:38Z"}, "message": "replace Add by tuple", "tree": {"sha": "36bbce76f20b1edafe8e48995f7aad2b8e53092b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/36bbce76f20b1edafe8e48995f7aad2b8e53092b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7d87054347b6daf737362d6710a687e48131fb5f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7d87054347b6daf737362d6710a687e48131fb5f", "html_url": "https://github.com/rust-lang/rust/commit/7d87054347b6daf737362d6710a687e48131fb5f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7d87054347b6daf737362d6710a687e48131fb5f/comments", "author": {"login": "mikhail-m1", "id": 5663581, "node_id": "MDQ6VXNlcjU2NjM1ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/5663581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikhail-m1", "html_url": "https://github.com/mikhail-m1", "followers_url": "https://api.github.com/users/mikhail-m1/followers", "following_url": "https://api.github.com/users/mikhail-m1/following{/other_user}", "gists_url": "https://api.github.com/users/mikhail-m1/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikhail-m1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikhail-m1/subscriptions", "organizations_url": "https://api.github.com/users/mikhail-m1/orgs", "repos_url": "https://api.github.com/users/mikhail-m1/repos", "events_url": "https://api.github.com/users/mikhail-m1/events{/privacy}", "received_events_url": "https://api.github.com/users/mikhail-m1/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mikhail-m1", "id": 5663581, "node_id": "MDQ6VXNlcjU2NjM1ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/5663581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikhail-m1", "html_url": "https://github.com/mikhail-m1", "followers_url": "https://api.github.com/users/mikhail-m1/followers", "following_url": "https://api.github.com/users/mikhail-m1/following{/other_user}", "gists_url": "https://api.github.com/users/mikhail-m1/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikhail-m1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikhail-m1/subscriptions", "organizations_url": "https://api.github.com/users/mikhail-m1/orgs", "repos_url": "https://api.github.com/users/mikhail-m1/repos", "events_url": "https://api.github.com/users/mikhail-m1/events{/privacy}", "received_events_url": "https://api.github.com/users/mikhail-m1/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d9e64ebaaaf4cf69d790020f41c3a1006903d3cf", "url": "https://api.github.com/repos/rust-lang/rust/commits/d9e64ebaaaf4cf69d790020f41c3a1006903d3cf", "html_url": "https://github.com/rust-lang/rust/commit/d9e64ebaaaf4cf69d790020f41c3a1006903d3cf"}], "stats": {"total": 36, "additions": 18, "deletions": 18}, "files": [{"sha": "78214dab53913feff7456b56927fbe8b5df9d715", "filename": "src/test/mir-opt/match_false_edges.rs", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/7d87054347b6daf737362d6710a687e48131fb5f/src%2Ftest%2Fmir-opt%2Fmatch_false_edges.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d87054347b6daf737362d6710a687e48131fb5f/src%2Ftest%2Fmir-opt%2Fmatch_false_edges.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fmatch_false_edges.rs?ref=7d87054347b6daf737362d6710a687e48131fb5f", "patch": "@@ -20,17 +20,17 @@ fn guard2(_:i32) -> bool {\n \n fn full_tested_match() {\n     let _ = match Some(42) {\n-        Some(x) if guard() => 1 + x,\n-        Some(y) => 2 + y,\n-        None => 3,\n+        Some(x) if guard() => (1, x),\n+        Some(y) => (2, y),\n+        None => (3, 3),\n     };\n }\n \n fn full_tested_match2() {\n     let _ = match Some(42) {\n-        Some(x) if guard() => 1 + x,\n-        None => 3,\n-        Some(y) => 2 + y,\n+        Some(x) if guard() => (1, x),\n+        None => (3, 3),\n+        Some(y) => (2, y),\n     };\n }\n \n@@ -55,12 +55,12 @@ fn main() {\n //  bb1: { // arm1\n //      StorageLive(_7);\n //      _7 = _3;\n-//      _1 = Add(const 1i32, _7);\n-//      ...\n+//      _1 = (const 1i32, _7);\n+//      StorageDead(_7);\n //      goto -> bb11;\n //  }\n //  bb2: { // binding3(empty) and arm3\n-//      _1 = const 3i32;\n+//      _1 = (const 3i32, const 3i32);\n //      goto -> bb11;\n //  }\n //  bb3: {\n@@ -92,7 +92,7 @@ fn main() {\n //      _4 = ((_2 as Some).0: i32);\n //      StorageLive(_8);\n //      _8 = _4;\n-//      _1 = Add(const 2i32, _8);\n+//      _1 = (const 2i32, _8);\n //      StorageDead(_8);\n //      goto -> bb11;\n //  }\n@@ -102,7 +102,7 @@ fn main() {\n //  }\n // END rustc.node17.SimplifyBranches-initial.before.mir\n //\n-// START rustc.node40.SimplifyBranches-initial.before.mir\n+// START rustc.node42.SimplifyBranches-initial.before.mir\n //  bb0: {\n //      ...\n //      _2 = std::option::Option<i32>::Some(const 42i32,);\n@@ -112,12 +112,12 @@ fn main() {\n //  bb1: { // arm1\n //      StorageLive(_7);\n //      _7 = _3;\n-//      _1 = Add(const 1i32, _7);\n-//      ...\n+//      _1 = (const 1i32, _7);\n+//      StorageDead(_7);\n //      goto -> bb11;\n //  }\n //  bb2: { // binding3(empty) and arm3\n-//      _1 = const 3i32;\n+//      _1 = (const 3i32, const 3i32);\n //      goto -> bb11;\n //  }\n //  bb3: {\n@@ -149,17 +149,17 @@ fn main() {\n //      _4 = ((_2 as Some).0: i32);\n //      StorageLive(_8);\n //      _8 = _4;\n-//      _1 = Add(const 2i32, _8);\n+//      _1 = (const 2i32, _8);\n //      StorageDead(_8);\n //      goto -> bb11;\n //  }\n //  bb11: {\n //      ...\n //      return;\n //  }\n-// END rustc.node40.SimplifyBranches-initial.before.mir\n+// END rustc.node42.SimplifyBranches-initial.before.mir\n //\n-// START rustc.node63.SimplifyBranches-initial.before.mir\n+// START rustc.node67.SimplifyBranches-initial.before.mir\n // bb0: {\n //     ...\n //     _2 = std::option::Option<i32>::Some(const 1i32,);\n@@ -233,4 +233,4 @@ fn main() {\n //     ...\n //     return;\n // }\n-// END rustc.node63.SimplifyBranches-initial.before.mir\n+// END rustc.node67.SimplifyBranches-initial.before.mir"}]}