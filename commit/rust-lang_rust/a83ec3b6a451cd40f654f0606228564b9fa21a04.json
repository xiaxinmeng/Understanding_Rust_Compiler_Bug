{"sha": "a83ec3b6a451cd40f654f0606228564b9fa21a04", "node_id": "C_kwDOAAsO6NoAKGE4M2VjM2I2YTQ1MWNkNDBmNjU0ZjA2MDYyMjg1NjRiOWZhMjFhMDQ", "commit": {"author": {"name": "Afonso Bordado", "email": "afonsobordado@az8.co", "date": "2022-09-27T11:26:23Z"}, "committer": {"name": "Afonso Bordado", "email": "afonsobordado@az8.co", "date": "2022-09-27T11:33:19Z"}, "message": "Ignore rand tests", "tree": {"sha": "0227ea75e6b2634ab5921994fa24527b0c84388c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0227ea75e6b2634ab5921994fa24527b0c84388c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a83ec3b6a451cd40f654f0606228564b9fa21a04", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a83ec3b6a451cd40f654f0606228564b9fa21a04", "html_url": "https://github.com/rust-lang/rust/commit/a83ec3b6a451cd40f654f0606228564b9fa21a04", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a83ec3b6a451cd40f654f0606228564b9fa21a04/comments", "author": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "site_admin": false}, "committer": {"login": "afonso360", "id": 1357143, "node_id": "MDQ6VXNlcjEzNTcxNDM=", "avatar_url": "https://avatars.githubusercontent.com/u/1357143?v=4", "gravatar_id": "", "url": "https://api.github.com/users/afonso360", "html_url": "https://github.com/afonso360", "followers_url": "https://api.github.com/users/afonso360/followers", "following_url": "https://api.github.com/users/afonso360/following{/other_user}", "gists_url": "https://api.github.com/users/afonso360/gists{/gist_id}", "starred_url": "https://api.github.com/users/afonso360/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/afonso360/subscriptions", "organizations_url": "https://api.github.com/users/afonso360/orgs", "repos_url": "https://api.github.com/users/afonso360/repos", "events_url": "https://api.github.com/users/afonso360/events{/privacy}", "received_events_url": "https://api.github.com/users/afonso360/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e96badc97fde074e64c300c35d0acdd68cddc59b", "url": "https://api.github.com/repos/rust-lang/rust/commits/e96badc97fde074e64c300c35d0acdd68cddc59b", "html_url": "https://github.com/rust-lang/rust/commit/e96badc97fde074e64c300c35d0acdd68cddc59b"}], "stats": {"total": 16, "additions": 8, "deletions": 8}, "files": [{"sha": "d8775e2d022a00d2ac490163670f8bc030c4555b", "filename": "patches/0003-rand-Disable-rand-tests-on-mingw.patch", "status": "renamed", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/a83ec3b6a451cd40f654f0606228564b9fa21a04/patches%2F0003-rand-Disable-rand-tests-on-mingw.patch", "raw_url": "https://github.com/rust-lang/rust/raw/a83ec3b6a451cd40f654f0606228564b9fa21a04/patches%2F0003-rand-Disable-rand-tests-on-mingw.patch", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/patches%2F0003-rand-Disable-rand-tests-on-mingw.patch?ref=a83ec3b6a451cd40f654f0606228564b9fa21a04", "patch": "@@ -1,4 +1,4 @@\n-From eea3bbaed34ab210868c324219a862a9d5f4681c Mon Sep 17 00:00:00 2001\n+From eec874c889b8d24e5ad50faded24288150f057b1 Mon Sep 17 00:00:00 2001\n From: Afonso Bordado <afonsobordado@az8.co>\n Date: Tue, 27 Sep 2022 08:13:58 +0100\n Subject: [PATCH] Disable rand tests on mingw\n@@ -9,28 +9,28 @@ Subject: [PATCH] Disable rand tests on mingw\n  2 files changed, 6 insertions(+)\n \n diff --git a/rand_distr/src/pareto.rs b/rand_distr/src/pareto.rs\n-index 217899ed9a..5f8e2c9bbb 100644\n+index 217899e..9cedeb7 100644\n --- a/rand_distr/src/pareto.rs\n +++ b/rand_distr/src/pareto.rs\n @@ -107,6 +107,8 @@ mod tests {\n      }\n \n      #[test]\n +    // This is broken on x86_64-pc-windows-gnu presumably due to a broken powf implementation\n-+    #[cfg(not(all(target_os = \"windows\", target_env = \"gnu\")))]\n++    #[cfg_attr(all(target_os = \"windows\", target_env = \"gnu\"), ignore)]\n      fn value_stability() {\n          fn test_samples<F: Float + core::fmt::Debug, D: Distribution<F>>(\n              distr: D, zero: F, expected: &[F],\n diff --git a/rand_distr/tests/value_stability.rs b/rand_distr/tests/value_stability.rs\n-index 192ba748b7..10c6ac24f6 100644\n+index 192ba74..0101ace 100644\n --- a/rand_distr/tests/value_stability.rs\n +++ b/rand_distr/tests/value_stability.rs\n @@ -72,6 +72,8 @@ fn unit_disc_stability() {\n  }\n \n  #[test]\n +// This is broken on x86_64-pc-windows-gnu\n-+#[cfg(not(all(target_os = \"windows\", target_env = \"gnu\")))]\n++#[cfg_attr(all(target_os = \"windows\", target_env = \"gnu\"), ignore)]\n  fn pareto_stability() {\n      test_samples(213, Pareto::new(1.0, 1.0).unwrap(), &[\n          1.0423688f32, 2.1235929, 4.132709, 1.4679428,\n@@ -39,9 +39,9 @@ index 192ba748b7..10c6ac24f6 100644\n \n  #[test]\n +// This is broken on x86_64-pc-windows-gnu\n-+#[cfg(not(all(target_os = \"windows\", target_env = \"gnu\")))]\n++#[cfg_attr(all(target_os = \"windows\", target_env = \"gnu\"), ignore)]\n  fn gamma_stability() {\n      // Gamma has 3 cases: shape == 1, shape < 1, shape > 1\n      test_samples(223, Gamma::new(1.0, 5.0).unwrap(), &[\n--- \n-2.30.1.windows.1\n+--\n+2.25.1", "previous_filename": "patches/0001-rand-Disable-rand-tests-on-mingw.patch"}]}