{"sha": "292eefe753a007af30329b6dbb3f1cbc840e4bf2", "node_id": "C_kwDOAAsO6NoAKDI5MmVlZmU3NTNhMDA3YWYzMDMyOWI2ZGJiM2YxY2JjODQwZTRiZjI", "commit": {"author": {"name": "Michael Goulet", "email": "michael@errs.io", "date": "2022-05-06T02:34:24Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-05-06T02:34:24Z"}, "message": "Rollup merge of #96704 - GuillaumeGomez:rotation-animation, r=jsha\n\nAdd rotation animation on settings button when loading\n\nAs discussed, I added an animation when the settings JS file is loading (I voluntarily made the timeout at the end of the `settings.js` super long so we can see what the animation looks like):\n\nhttps://user-images.githubusercontent.com/3050060/166693243-816a08b7-5e39-4142-acd3-686ad9950d8e.mp4\n\nr? ````@jsha````", "tree": {"sha": "0c3fb18ba1efa769db34078dbc7481e7399928e8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0c3fb18ba1efa769db34078dbc7481e7399928e8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/292eefe753a007af30329b6dbb3f1cbc840e4bf2", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJidIkwCRBK7hj4Ov3rIwAAgV0IACZ7BLPLDhLXFMB5zjZlUaeo\nmYc25uq75G1g1vJ2f7zjOtdETF4xZurQvfr5vhvTNOIQmjnPBd+MIAES3GgY7k0u\n3srTdkT26SeDBx/pJDiN6vlE2Y4IOvcLl2Z7mL6yzygv7iEr8B6zIr4SVJIAO3Wu\nsSzKgwgTV0u9B+PUA13wSjlF5n54HTCBsYqUb5yvdoUST5y8acZAy5GuaO7P/M53\nsXWw0S+kL3l3c6ZIQNIRZuzn91ISSfCqx0Dd15UPYIajX1/aJFWbly7LF7LPTNt/\nVqBe35jg8m6IdstOavR/fAobURoququP8wV+HYJJRoURUYKXCS9wUSb6ITeDPLM=\n=iH6F\n-----END PGP SIGNATURE-----\n", "payload": "tree 0c3fb18ba1efa769db34078dbc7481e7399928e8\nparent ef949daf036b77795ee03c4ec470713ddd18ff07\nparent 13b45aa6c66c8075acc95ea94d8c5cbc24a3a203\nauthor Michael Goulet <michael@errs.io> 1651804464 -0700\ncommitter GitHub <noreply@github.com> 1651804464 -0700\n\nRollup merge of #96704 - GuillaumeGomez:rotation-animation, r=jsha\n\nAdd rotation animation on settings button when loading\n\nAs discussed, I added an animation when the settings JS file is loading (I voluntarily made the timeout at the end of the `settings.js` super long so we can see what the animation looks like):\n\nhttps://user-images.githubusercontent.com/3050060/166693243-816a08b7-5e39-4142-acd3-686ad9950d8e.mp4\n\nr? ````@jsha````\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/292eefe753a007af30329b6dbb3f1cbc840e4bf2", "html_url": "https://github.com/rust-lang/rust/commit/292eefe753a007af30329b6dbb3f1cbc840e4bf2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/292eefe753a007af30329b6dbb3f1cbc840e4bf2/comments", "author": {"login": "compiler-errors", "id": 3674314, "node_id": "MDQ6VXNlcjM2NzQzMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3674314?v=4", "gravatar_id": "", "url": "https://api.github.com/users/compiler-errors", "html_url": "https://github.com/compiler-errors", "followers_url": "https://api.github.com/users/compiler-errors/followers", "following_url": "https://api.github.com/users/compiler-errors/following{/other_user}", "gists_url": "https://api.github.com/users/compiler-errors/gists{/gist_id}", "starred_url": "https://api.github.com/users/compiler-errors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/compiler-errors/subscriptions", "organizations_url": "https://api.github.com/users/compiler-errors/orgs", "repos_url": "https://api.github.com/users/compiler-errors/repos", "events_url": "https://api.github.com/users/compiler-errors/events{/privacy}", "received_events_url": "https://api.github.com/users/compiler-errors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ef949daf036b77795ee03c4ec470713ddd18ff07", "url": "https://api.github.com/repos/rust-lang/rust/commits/ef949daf036b77795ee03c4ec470713ddd18ff07", "html_url": "https://github.com/rust-lang/rust/commit/ef949daf036b77795ee03c4ec470713ddd18ff07"}, {"sha": "13b45aa6c66c8075acc95ea94d8c5cbc24a3a203", "url": "https://api.github.com/repos/rust-lang/rust/commits/13b45aa6c66c8075acc95ea94d8c5cbc24a3a203", "html_url": "https://github.com/rust-lang/rust/commit/13b45aa6c66c8075acc95ea94d8c5cbc24a3a203"}], "stats": {"total": 14, "additions": 14, "deletions": 0}, "files": [{"sha": "12059e0b9c4b5750e4a613ace6984671c3a374fa", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/292eefe753a007af30329b6dbb3f1cbc840e4bf2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/292eefe753a007af30329b6dbb3f1cbc840e4bf2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=292eefe753a007af30329b6dbb3f1cbc840e4bf2", "patch": "@@ -1401,6 +1401,18 @@ pre.rust {\n \tcursor: pointer;\n }\n \n+@keyframes rotating {\n+\tfrom {\n+\t\ttransform: rotate(0deg);\n+\t}\n+\tto {\n+\t\ttransform: rotate(360deg);\n+\t}\n+}\n+#settings-menu.rotate img {\n+\tanimation: rotating 2s linear infinite;\n+}\n+\n #help-button {\n \tfont-family: \"Fira Sans\", Arial, sans-serif;\n \ttext-align: center;"}, {"sha": "e8edd5f2d23396fccbf98d01cbf9097a8966d3b2", "filename": "src/librustdoc/html/static/js/main.js", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/292eefe753a007af30329b6dbb3f1cbc840e4bf2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/292eefe753a007af30329b6dbb3f1cbc840e4bf2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fmain.js?ref=292eefe753a007af30329b6dbb3f1cbc840e4bf2", "patch": "@@ -301,6 +301,7 @@ function loadCss(cssFileName) {\n     }\n \n     getSettingsButton().onclick = event => {\n+        addClass(getSettingsButton(), \"rotate\");\n         event.preventDefault();\n         loadScript(window.settingsJS);\n     };"}, {"sha": "d1526270f30f123080034a00b4ca857181a1ffcd", "filename": "src/librustdoc/html/static/js/settings.js", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/292eefe753a007af30329b6dbb3f1cbc840e4bf2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js", "raw_url": "https://github.com/rust-lang/rust/raw/292eefe753a007af30329b6dbb3f1cbc840e4bf2/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fjs%2Fsettings.js?ref=292eefe753a007af30329b6dbb3f1cbc840e4bf2", "patch": "@@ -274,5 +274,6 @@\n         if (!isSettingsPage) {\n             switchDisplayedElement(settingsMenu);\n         }\n+        removeClass(getSettingsButton(), \"rotate\");\n     }, 0);\n })();"}]}