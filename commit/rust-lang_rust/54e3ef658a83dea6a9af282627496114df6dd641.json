{"sha": "54e3ef658a83dea6a9af282627496114df6dd641", "node_id": "C_kwDOAAsO6NoAKDU0ZTNlZjY1OGE4M2RlYTZhOWFmMjgyNjI3NDk2MTE0ZGY2ZGQ2NDE", "commit": {"author": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2023-06-01T13:50:19Z"}, "committer": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2023-06-01T13:50:19Z"}, "message": "Rename nameres::CrateData to DefMapCrateData", "tree": {"sha": "579033e055ceae09fa6c3370f26f5eb25fb77c6b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/579033e055ceae09fa6c3370f26f5eb25fb77c6b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/54e3ef658a83dea6a9af282627496114df6dd641", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/54e3ef658a83dea6a9af282627496114df6dd641", "html_url": "https://github.com/rust-lang/rust/commit/54e3ef658a83dea6a9af282627496114df6dd641", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/54e3ef658a83dea6a9af282627496114df6dd641/comments", "author": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1e6406e22338af234180071c5b82e390cb43904b", "url": "https://api.github.com/repos/rust-lang/rust/commits/1e6406e22338af234180071c5b82e390cb43904b", "html_url": "https://github.com/rust-lang/rust/commit/1e6406e22338af234180071c5b82e390cb43904b"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "b5a30f9d885a09629c7b3dda8c557923b2a06ad1", "filename": "crates/hir-def/src/nameres.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/54e3ef658a83dea6a9af282627496114df6dd641/crates%2Fhir-def%2Fsrc%2Fnameres.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54e3ef658a83dea6a9af282627496114df6dd641/crates%2Fhir-def%2Fsrc%2Fnameres.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-def%2Fsrc%2Fnameres.rs?ref=54e3ef658a83dea6a9af282627496114df6dd641", "patch": "@@ -113,11 +113,12 @@ pub struct DefMap {\n \n     diagnostics: Vec<DefDiagnostic>,\n \n-    data: Arc<CrateData>,\n+    data: Arc<DefMapCrateData>,\n }\n \n+/// Data that belongs to a crate which is shared between a crate's def map and all its block def maps.\n #[derive(Clone, Debug, PartialEq, Eq)]\n-struct CrateData {\n+struct DefMapCrateData {\n     extern_prelude: FxHashMap<Name, ModuleId>,\n \n     /// Side table for resolving derive helpers.\n@@ -141,7 +142,7 @@ struct CrateData {\n     recursion_limit: Option<u32>,\n }\n \n-impl CrateData {\n+impl DefMapCrateData {\n     fn shrink_to_fit(&mut self) {\n         let Self {\n             extern_prelude,\n@@ -342,7 +343,7 @@ impl DefMap {\n             macro_use_prelude: FxHashMap::default(),\n             derive_helpers_in_scope: FxHashMap::default(),\n             diagnostics: Vec::new(),\n-            data: Arc::new(CrateData {\n+            data: Arc::new(DefMapCrateData {\n                 extern_prelude: FxHashMap::default(),\n                 exported_derives: FxHashMap::default(),\n                 fn_proc_macro_mapping: FxHashMap::default(),"}]}