{"sha": "2d73c909fe03c799b488aa0f97a588e13bbd7006", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJkNzNjOTA5ZmUwM2M3OTliNDg4YWEwZjk3YTU4OGUxM2JiZDcwMDY=", "commit": {"author": {"name": "Lenard Pratt", "email": "l3np27@gmail.com", "date": "2019-04-03T22:23:58Z"}, "committer": {"name": "Lenard Pratt", "email": "l3np27@gmail.com", "date": "2019-04-07T12:23:12Z"}, "message": "Added inference of array length", "tree": {"sha": "b96bf7ccc6cc6e0ebb86e52ffad104f44f53d556", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b96bf7ccc6cc6e0ebb86e52ffad104f44f53d556"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2d73c909fe03c799b488aa0f97a588e13bbd7006", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2d73c909fe03c799b488aa0f97a588e13bbd7006", "html_url": "https://github.com/rust-lang/rust/commit/2d73c909fe03c799b488aa0f97a588e13bbd7006", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2d73c909fe03c799b488aa0f97a588e13bbd7006/comments", "author": {"login": "Lapz", "id": 19998186, "node_id": "MDQ6VXNlcjE5OTk4MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/19998186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lapz", "html_url": "https://github.com/Lapz", "followers_url": "https://api.github.com/users/Lapz/followers", "following_url": "https://api.github.com/users/Lapz/following{/other_user}", "gists_url": "https://api.github.com/users/Lapz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lapz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lapz/subscriptions", "organizations_url": "https://api.github.com/users/Lapz/orgs", "repos_url": "https://api.github.com/users/Lapz/repos", "events_url": "https://api.github.com/users/Lapz/events{/privacy}", "received_events_url": "https://api.github.com/users/Lapz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Lapz", "id": 19998186, "node_id": "MDQ6VXNlcjE5OTk4MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/19998186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Lapz", "html_url": "https://github.com/Lapz", "followers_url": "https://api.github.com/users/Lapz/followers", "following_url": "https://api.github.com/users/Lapz/following{/other_user}", "gists_url": "https://api.github.com/users/Lapz/gists{/gist_id}", "starred_url": "https://api.github.com/users/Lapz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Lapz/subscriptions", "organizations_url": "https://api.github.com/users/Lapz/orgs", "repos_url": "https://api.github.com/users/Lapz/repos", "events_url": "https://api.github.com/users/Lapz/events{/privacy}", "received_events_url": "https://api.github.com/users/Lapz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "36f5d997565b6390a4b524e7e1d0d805f0f26bdb", "url": "https://api.github.com/repos/rust-lang/rust/commits/36f5d997565b6390a4b524e7e1d0d805f0f26bdb", "html_url": "https://github.com/rust-lang/rust/commit/36f5d997565b6390a4b524e7e1d0d805f0f26bdb"}], "stats": {"total": 67, "additions": 62, "deletions": 5}, "files": [{"sha": "3e6578651001d4ba894355d57435c2a54909fabe", "filename": "crates/ra_hir/src/expr.rs", "status": "modified", "additions": 13, "deletions": 2, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_hir%2Fsrc%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_hir%2Fsrc%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fexpr.rs?ref=2d73c909fe03c799b488aa0f97a588e13bbd7006", "patch": "@@ -240,6 +240,7 @@ pub enum Expr {\n     },\n     Array {\n         exprs: Vec<ExprId>,\n+        repeat: Option<ExprId>,\n     },\n     Literal(Literal),\n }\n@@ -348,11 +349,20 @@ impl Expr {\n             | Expr::UnaryOp { expr, .. } => {\n                 f(*expr);\n             }\n-            Expr::Tuple { exprs } | Expr::Array { exprs } => {\n+            Expr::Tuple { exprs } => {\n                 for expr in exprs {\n                     f(*expr);\n                 }\n             }\n+            Expr::Array { exprs, repeat } => {\n+                for expr in exprs {\n+                    f(*expr);\n+                }\n+\n+                if let Some(expr) = repeat {\n+                    f(*expr)\n+                }\n+            }\n             Expr::Literal(_) => {}\n         }\n     }\n@@ -725,7 +735,8 @@ impl ExprCollector {\n             }\n             ast::ExprKind::ArrayExpr(e) => {\n                 let exprs = e.exprs().map(|expr| self.collect_expr(expr)).collect();\n-                self.alloc_expr(Expr::Array { exprs }, syntax_ptr)\n+                let repeat = e.repeat().map(|e| self.collect_expr(e));\n+                self.alloc_expr(Expr::Array { exprs, repeat }, syntax_ptr)\n             }\n             ast::ExprKind::Literal(e) => {\n                 let lit = match e.kind() {"}, {"sha": "77690309afd6bac96114dcc6ea7f02fcf0f83df3", "filename": "crates/ra_hir/src/ty.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_hir%2Fsrc%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_hir%2Fsrc%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty.rs?ref=2d73c909fe03c799b488aa0f97a588e13bbd7006", "patch": "@@ -353,10 +353,14 @@ impl HirDisplay for ApplicationTy {\n             TypeCtor::Int(t) => write!(f, \"{}\", t)?,\n             TypeCtor::Float(t) => write!(f, \"{}\", t)?,\n             TypeCtor::Str => write!(f, \"str\")?,\n-            TypeCtor::Slice | TypeCtor::Array => {\n+            TypeCtor::Slice => {\n                 let t = self.parameters.as_single();\n                 write!(f, \"[{}]\", t.display(f.db))?;\n             }\n+            TypeCtor::Array => {\n+                let t = self.parameters.as_single();\n+                write!(f, \"[{};usize]\", t.display(f.db))?;\n+            }\n             TypeCtor::RawPtr(m) => {\n                 let t = self.parameters.as_single();\n                 write!(f, \"*{}{}\", m.as_keyword_for_ptr(), t.display(f.db))?;"}, {"sha": "7c7e825fdb891591ecf323a9fb7537b87795d9fa", "filename": "crates/ra_hir/src/ty/.tests.rs.pending-snap", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_hir%2Fsrc%2Fty%2F.tests.rs.pending-snap", "raw_url": "https://github.com/rust-lang/rust/raw/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_hir%2Fsrc%2Fty%2F.tests.rs.pending-snap", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty%2F.tests.rs.pending-snap?ref=2d73c909fe03c799b488aa0f97a588e13bbd7006", "patch": "@@ -0,0 +1,28 @@\n+{\"run_id\":\"a9369f17-d487-4cdb-8762-6d57bb38dfd6\",\"line\":1665,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:49:23.327579Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test_line_buffer() {\\n    &[0, b'\\\\n', 1, b'\\\\n'];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8]\\n[30; 50) '[0, b'...b'\\\\n']': [u8]\\n[31; 32) '0': u8\\n[31; 32) '0': usize\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8]\\n[30; 50) '[0, b'...b'\\\\n']': [u8]\\n[31; 32) '0': u8\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"}}\n+{\"run_id\":\"a9369f17-d487-4cdb-8762-6d57bb38dfd6\",\"line\":1567,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:49:23.380284Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let x = unknown;\\n    let y = unknown;\\n    [(x, y), (&y, &x)];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown})]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown})]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"}}\n+{\"run_id\":\"a9369f17-d487-4cdb-8762-6d57bb38dfd6\",\"line\":675,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:49:23.280012Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test(x: &str, y: isize) {\\n    let a = [x];\\n    let b = [a, a];\\n    let c = [b, b];\\n\\n    let d = [y, 1, 2, 3];\\n    let d = [1, y, 2, 3];\\n    let e = [y];\\n    let f = [d, d];\\n    let g = [e, e];\\n\\n    let h = [1, 2];\\n    let i = [\\\"a\\\", \\\"b\\\"];\\n\\n    let b = [a, [\\\"b\\\"]];\\n    let x: [u8; 0] = [];\\n    let z: &[u8] = &[1, 2, 3];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str]\\n[42; 45) '[x]': [&str]\\n[43; 44) 'x': &str\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str]]\\n[59; 65) '[a, a]': [[&str]]\\n[60; 61) 'a': [&str]\\n[60; 61) 'a': [&str]\\n[63; 64) 'a': [&str]\\n[75; 76) 'c': [[[&str]]]\\n[79; 85) '[b, b]': [[[&str]]]\\n[80; 81) 'b': [[&str]]\\n[80; 81) 'b': [[&str]]\\n[83; 84) 'b': [[&str]]\\n[96; 97) 'd': [isize]\\n[100; 112) '[y, 1, 2, 3]': [isize]\\n[101; 102) 'y': isize\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize]\\n[126; 138) '[1, y, 2, 3]': [isize]\\n[127; 128) '1': isize\\n[127; 128) '1': usize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize]\\n[152; 155) '[y]': [isize]\\n[153; 154) 'y': isize\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize]]\\n[169; 175) '[d, d]': [[isize]]\\n[170; 171) 'd': [isize]\\n[170; 171) 'd': [isize]\\n[173; 174) 'd': [isize]\\n[185; 186) 'g': [[isize]]\\n[189; 195) '[e, e]': [[isize]]\\n[190; 191) 'e': [isize]\\n[190; 191) 'e': [isize]\\n[193; 194) 'e': [isize]\\n[206; 207) 'h': [i32]\\n[210; 216) '[1, 2]': [i32]\\n[211; 212) '1': i32\\n[211; 212) '1': usize\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str]\\n[231; 234) '\\\"a\\\"': &str\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str]]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str]]\\n[256; 257) 'a': [&str]\\n[256; 257) 'a': [&str]\\n[259; 264) '[\\\"b\\\"]': [&str]\\n[260; 263) '\\\"b\\\"': &str\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8]\\n[288; 290) '[]': [u8]\\n[300; 301) 'z': &[u8]\\n[311; 321) '&[1, 2, 3]': &[u8]\\n[312; 321) '[1, 2, 3]': [u8]\\n[313; 314) '1': u8\\n[313; 314) '1': usize\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str]\\n[42; 45) '[x]': [&str]\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str]]\\n[59; 65) '[a, a]': [[&str]]\\n[60; 61) 'a': [&str]\\n[63; 64) 'a': [&str]\\n[75; 76) 'c': [[[&str]]]\\n[79; 85) '[b, b]': [[[&str]]]\\n[80; 81) 'b': [[&str]]\\n[83; 84) 'b': [[&str]]\\n[96; 97) 'd': [isize]\\n[100; 112) '[y, 1, 2, 3]': [isize]\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize]\\n[126; 138) '[1, y, 2, 3]': [isize]\\n[127; 128) '1': isize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize]\\n[152; 155) '[y]': [isize]\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize]]\\n[169; 175) '[d, d]': [[isize]]\\n[170; 171) 'd': [isize]\\n[173; 174) 'd': [isize]\\n[185; 186) 'g': [[isize]]\\n[189; 195) '[e, e]': [[isize]]\\n[190; 191) 'e': [isize]\\n[193; 194) 'e': [isize]\\n[206; 207) 'h': [i32]\\n[210; 216) '[1, 2]': [i32]\\n[211; 212) '1': i32\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str]\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str]]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str]]\\n[256; 257) 'a': [&str]\\n[259; 264) '[\\\"b\\\"]': [&str]\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8]\\n[288; 290) '[]': [u8]\\n[300; 301) 'z': &[u8]\\n[311; 321) '&[1, 2, 3]': &[u8]\\n[312; 321) '[1, 2, 3]': [u8]\\n[313; 314) '1': u8\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"}}\n+{\"run_id\":\"a9369f17-d487-4cdb-8762-6d57bb38dfd6\",\"line\":1545,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:49:23.362700Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let y = unknown;\\n    [y, &y];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown}]\\n[39; 40) 'y': &{unknown}\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown}]\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"}}\n+{\"run_id\":\"be772ce1-85a5-4a66-9759-d2f2ec500485\",\"line\":1545,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:53:07.383521Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let y = unknown;\\n    [y, &y];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown},usize]\\n[39; 40) 'y': &{unknown}\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown}]\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"}}\n+{\"run_id\":\"be772ce1-85a5-4a66-9759-d2f2ec500485\",\"line\":1665,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:53:07.344395Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test_line_buffer() {\\n    &[0, b'\\\\n', 1, b'\\\\n'];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8,usize]\\n[30; 50) '[0, b'...b'\\\\n']': [u8,usize]\\n[31; 32) '0': u8\\n[31; 32) '0': usize\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8]\\n[30; 50) '[0, b'...b'\\\\n']': [u8]\\n[31; 32) '0': u8\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"}}\n+{\"run_id\":\"be772ce1-85a5-4a66-9759-d2f2ec500485\",\"line\":1567,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:53:07.386674Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let x = unknown;\\n    let y = unknown;\\n    [(x, y), (&y, &x)];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown}),usize]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown})]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"}}\n+{\"run_id\":\"be772ce1-85a5-4a66-9759-d2f2ec500485\",\"line\":675,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:53:07.295710Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test(x: &str, y: isize) {\\n    let a = [x];\\n    let b = [a, a];\\n    let c = [b, b];\\n\\n    let d = [y, 1, 2, 3];\\n    let d = [1, y, 2, 3];\\n    let e = [y];\\n    let f = [d, d];\\n    let g = [e, e];\\n\\n    let h = [1, 2];\\n    let i = [\\\"a\\\", \\\"b\\\"];\\n\\n    let b = [a, [\\\"b\\\"]];\\n    let x: [u8; 0] = [];\\n    let z: &[u8] = &[1, 2, 3];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str,usize]\\n[42; 45) '[x]': [&str,usize]\\n[43; 44) 'x': &str\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str,usize],usize]\\n[59; 65) '[a, a]': [[&str,usize],usize]\\n[60; 61) 'a': [&str,usize]\\n[60; 61) 'a': [&str,usize]\\n[63; 64) 'a': [&str,usize]\\n[75; 76) 'c': [[[&str,usize],usize],usize]\\n[79; 85) '[b, b]': [[[&str,usize],usize],usize]\\n[80; 81) 'b': [[&str,usize],usize]\\n[80; 81) 'b': [[&str,usize],usize]\\n[83; 84) 'b': [[&str,usize],usize]\\n[96; 97) 'd': [isize,usize]\\n[100; 112) '[y, 1, 2, 3]': [isize,usize]\\n[101; 102) 'y': isize\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize,usize]\\n[126; 138) '[1, y, 2, 3]': [isize,usize]\\n[127; 128) '1': isize\\n[127; 128) '1': usize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize,usize]\\n[152; 155) '[y]': [isize,usize]\\n[153; 154) 'y': isize\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize,usize],usize]\\n[169; 175) '[d, d]': [[isize,usize],usize]\\n[170; 171) 'd': [isize,usize]\\n[170; 171) 'd': [isize,usize]\\n[173; 174) 'd': [isize,usize]\\n[185; 186) 'g': [[isize,usize],usize]\\n[189; 195) '[e, e]': [[isize,usize],usize]\\n[190; 191) 'e': [isize,usize]\\n[190; 191) 'e': [isize,usize]\\n[193; 194) 'e': [isize,usize]\\n[206; 207) 'h': [i32,usize]\\n[210; 216) '[1, 2]': [i32,usize]\\n[211; 212) '1': i32\\n[211; 212) '1': usize\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str,usize]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str,usize]\\n[231; 234) '\\\"a\\\"': &str\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str,usize],usize]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str,usize],usize]\\n[256; 257) 'a': [&str,usize]\\n[256; 257) 'a': [&str,usize]\\n[259; 264) '[\\\"b\\\"]': [&str,usize]\\n[260; 263) '\\\"b\\\"': &str\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8,usize]\\n[288; 290) '[]': [u8,usize]\\n[300; 301) 'z': &[u8,usize]\\n[311; 321) '&[1, 2, 3]': &[u8,usize]\\n[312; 321) '[1, 2, 3]': [u8,usize]\\n[313; 314) '1': u8\\n[313; 314) '1': usize\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str]\\n[42; 45) '[x]': [&str]\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str]]\\n[59; 65) '[a, a]': [[&str]]\\n[60; 61) 'a': [&str]\\n[63; 64) 'a': [&str]\\n[75; 76) 'c': [[[&str]]]\\n[79; 85) '[b, b]': [[[&str]]]\\n[80; 81) 'b': [[&str]]\\n[83; 84) 'b': [[&str]]\\n[96; 97) 'd': [isize]\\n[100; 112) '[y, 1, 2, 3]': [isize]\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize]\\n[126; 138) '[1, y, 2, 3]': [isize]\\n[127; 128) '1': isize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize]\\n[152; 155) '[y]': [isize]\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize]]\\n[169; 175) '[d, d]': [[isize]]\\n[170; 171) 'd': [isize]\\n[173; 174) 'd': [isize]\\n[185; 186) 'g': [[isize]]\\n[189; 195) '[e, e]': [[isize]]\\n[190; 191) 'e': [isize]\\n[193; 194) 'e': [isize]\\n[206; 207) 'h': [i32]\\n[210; 216) '[1, 2]': [i32]\\n[211; 212) '1': i32\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str]\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str]]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str]]\\n[256; 257) 'a': [&str]\\n[259; 264) '[\\\"b\\\"]': [&str]\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8]\\n[288; 290) '[]': [u8]\\n[300; 301) 'z': &[u8]\\n[311; 321) '&[1, 2, 3]': &[u8]\\n[312; 321) '[1, 2, 3]': [u8]\\n[313; 314) '1': u8\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"}}\n+{\"run_id\":\"4d89ad2b-517f-40ee-a338-ac0fb94c41c3\",\"line\":1665,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:54:08.012093Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test_line_buffer() {\\n    &[0, b'\\\\n', 1, b'\\\\n'];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8;usize]\\n[30; 50) '[0, b'...b'\\\\n']': [u8;usize]\\n[31; 32) '0': u8\\n[31; 32) '0': usize\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8]\\n[30; 50) '[0, b'...b'\\\\n']': [u8]\\n[31; 32) '0': u8\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"}}\n+{\"run_id\":\"4d89ad2b-517f-40ee-a338-ac0fb94c41c3\",\"line\":675,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:54:07.959973Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test(x: &str, y: isize) {\\n    let a = [x];\\n    let b = [a, a];\\n    let c = [b, b];\\n\\n    let d = [y, 1, 2, 3];\\n    let d = [1, y, 2, 3];\\n    let e = [y];\\n    let f = [d, d];\\n    let g = [e, e];\\n\\n    let h = [1, 2];\\n    let i = [\\\"a\\\", \\\"b\\\"];\\n\\n    let b = [a, [\\\"b\\\"]];\\n    let x: [u8; 0] = [];\\n    let z: &[u8] = &[1, 2, 3];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str;usize]\\n[42; 45) '[x]': [&str;usize]\\n[43; 44) 'x': &str\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str;usize];usize]\\n[59; 65) '[a, a]': [[&str;usize];usize]\\n[60; 61) 'a': [&str;usize]\\n[60; 61) 'a': [&str;usize]\\n[63; 64) 'a': [&str;usize]\\n[75; 76) 'c': [[[&str;usize];usize];usize]\\n[79; 85) '[b, b]': [[[&str;usize];usize];usize]\\n[80; 81) 'b': [[&str;usize];usize]\\n[80; 81) 'b': [[&str;usize];usize]\\n[83; 84) 'b': [[&str;usize];usize]\\n[96; 97) 'd': [isize;usize]\\n[100; 112) '[y, 1, 2, 3]': [isize;usize]\\n[101; 102) 'y': isize\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize;usize]\\n[126; 138) '[1, y, 2, 3]': [isize;usize]\\n[127; 128) '1': isize\\n[127; 128) '1': usize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize;usize]\\n[152; 155) '[y]': [isize;usize]\\n[153; 154) 'y': isize\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize;usize];usize]\\n[169; 175) '[d, d]': [[isize;usize];usize]\\n[170; 171) 'd': [isize;usize]\\n[170; 171) 'd': [isize;usize]\\n[173; 174) 'd': [isize;usize]\\n[185; 186) 'g': [[isize;usize];usize]\\n[189; 195) '[e, e]': [[isize;usize];usize]\\n[190; 191) 'e': [isize;usize]\\n[190; 191) 'e': [isize;usize]\\n[193; 194) 'e': [isize;usize]\\n[206; 207) 'h': [i32;usize]\\n[210; 216) '[1, 2]': [i32;usize]\\n[211; 212) '1': i32\\n[211; 212) '1': usize\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str;usize]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str;usize]\\n[231; 234) '\\\"a\\\"': &str\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str;usize];usize]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str;usize];usize]\\n[256; 257) 'a': [&str;usize]\\n[256; 257) 'a': [&str;usize]\\n[259; 264) '[\\\"b\\\"]': [&str;usize]\\n[260; 263) '\\\"b\\\"': &str\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8;usize]\\n[288; 290) '[]': [u8;usize]\\n[300; 301) 'z': &[u8;usize]\\n[311; 321) '&[1, 2, 3]': &[u8;usize]\\n[312; 321) '[1, 2, 3]': [u8;usize]\\n[313; 314) '1': u8\\n[313; 314) '1': usize\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str]\\n[42; 45) '[x]': [&str]\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str]]\\n[59; 65) '[a, a]': [[&str]]\\n[60; 61) 'a': [&str]\\n[63; 64) 'a': [&str]\\n[75; 76) 'c': [[[&str]]]\\n[79; 85) '[b, b]': [[[&str]]]\\n[80; 81) 'b': [[&str]]\\n[83; 84) 'b': [[&str]]\\n[96; 97) 'd': [isize]\\n[100; 112) '[y, 1, 2, 3]': [isize]\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize]\\n[126; 138) '[1, y, 2, 3]': [isize]\\n[127; 128) '1': isize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize]\\n[152; 155) '[y]': [isize]\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize]]\\n[169; 175) '[d, d]': [[isize]]\\n[170; 171) 'd': [isize]\\n[173; 174) 'd': [isize]\\n[185; 186) 'g': [[isize]]\\n[189; 195) '[e, e]': [[isize]]\\n[190; 191) 'e': [isize]\\n[193; 194) 'e': [isize]\\n[206; 207) 'h': [i32]\\n[210; 216) '[1, 2]': [i32]\\n[211; 212) '1': i32\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str]\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str]]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str]]\\n[256; 257) 'a': [&str]\\n[259; 264) '[\\\"b\\\"]': [&str]\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8]\\n[288; 290) '[]': [u8]\\n[300; 301) 'z': &[u8]\\n[311; 321) '&[1, 2, 3]': &[u8]\\n[312; 321) '[1, 2, 3]': [u8]\\n[313; 314) '1': u8\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"}}\n+{\"run_id\":\"4d89ad2b-517f-40ee-a338-ac0fb94c41c3\",\"line\":1567,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:54:08.052226Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let x = unknown;\\n    let y = unknown;\\n    [(x, y), (&y, &x)];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown});usize]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown})]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"}}\n+{\"run_id\":\"4d89ad2b-517f-40ee-a338-ac0fb94c41c3\",\"line\":1545,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:54:08.050113Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let y = unknown;\\n    [y, &y];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown};usize]\\n[39; 40) 'y': &{unknown}\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown}]\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"}}\n+{\"run_id\":\"ef95f672-4bc0-4043-ba09-cc828ec0b621\",\"line\":1545,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:56:55.243233Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let y = unknown;\\n    [y, &y];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': usize\\n[25; 32) 'unknown': usize\\n[38; 45) '[y, &y]': [usize;usize]\\n[39; 40) 'y': usize\\n[39; 40) 'y': usize\\n[42; 44) '&y': &usize\\n[43; 44) 'y': usize\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown}]\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"}}\n+{\"run_id\":\"ef95f672-4bc0-4043-ba09-cc828ec0b621\",\"line\":1665,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:56:55.206265Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test_line_buffer() {\\n    &[0, b'\\\\n', 1, b'\\\\n'];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8;usize]\\n[30; 50) '[0, b'...b'\\\\n']': [u8;usize]\\n[31; 32) '0': u8\\n[31; 32) '0': usize\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8]\\n[30; 50) '[0, b'...b'\\\\n']': [u8]\\n[31; 32) '0': u8\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"}}\n+{\"run_id\":\"ef95f672-4bc0-4043-ba09-cc828ec0b621\",\"line\":1567,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:56:55.243908Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let x = unknown;\\n    let y = unknown;\\n    [(x, y), (&y, &x)];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown});usize]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown})]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"}}\n+{\"run_id\":\"ef95f672-4bc0-4043-ba09-cc828ec0b621\",\"line\":675,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T21:56:55.153183Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test(x: &str, y: isize) {\\n    let a = [x];\\n    let b = [a, a];\\n    let c = [b, b];\\n\\n    let d = [y, 1, 2, 3];\\n    let d = [1, y, 2, 3];\\n    let e = [y];\\n    let f = [d, d];\\n    let g = [e, e];\\n\\n    let h = [1, 2];\\n    let i = [\\\"a\\\", \\\"b\\\"];\\n\\n    let b = [a, [\\\"b\\\"]];\\n    let x: [u8; 0] = [];\\n    let z: &[u8] = &[1, 2, 3];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str;usize]\\n[42; 45) '[x]': [&str;usize]\\n[43; 44) 'x': &str\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str;usize];usize]\\n[59; 65) '[a, a]': [[&str;usize];usize]\\n[60; 61) 'a': [&str;usize]\\n[60; 61) 'a': [&str;usize]\\n[63; 64) 'a': [&str;usize]\\n[75; 76) 'c': [[[&str;usize];usize];usize]\\n[79; 85) '[b, b]': [[[&str;usize];usize];usize]\\n[80; 81) 'b': [[&str;usize];usize]\\n[80; 81) 'b': [[&str;usize];usize]\\n[83; 84) 'b': [[&str;usize];usize]\\n[96; 97) 'd': [isize;usize]\\n[100; 112) '[y, 1, 2, 3]': [isize;usize]\\n[101; 102) 'y': isize\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize;usize]\\n[126; 138) '[1, y, 2, 3]': [isize;usize]\\n[127; 128) '1': isize\\n[127; 128) '1': usize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize;usize]\\n[152; 155) '[y]': [isize;usize]\\n[153; 154) 'y': isize\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize;usize];usize]\\n[169; 175) '[d, d]': [[isize;usize];usize]\\n[170; 171) 'd': [isize;usize]\\n[170; 171) 'd': [isize;usize]\\n[173; 174) 'd': [isize;usize]\\n[185; 186) 'g': [[isize;usize];usize]\\n[189; 195) '[e, e]': [[isize;usize];usize]\\n[190; 191) 'e': [isize;usize]\\n[190; 191) 'e': [isize;usize]\\n[193; 194) 'e': [isize;usize]\\n[206; 207) 'h': [i32;usize]\\n[210; 216) '[1, 2]': [i32;usize]\\n[211; 212) '1': i32\\n[211; 212) '1': usize\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str;usize]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str;usize]\\n[231; 234) '\\\"a\\\"': &str\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str;usize];usize]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str;usize];usize]\\n[256; 257) 'a': [&str;usize]\\n[256; 257) 'a': [&str;usize]\\n[259; 264) '[\\\"b\\\"]': [&str;usize]\\n[260; 263) '\\\"b\\\"': &str\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8;usize]\\n[288; 290) '[]': [u8;usize]\\n[300; 301) 'z': &[u8;usize]\\n[311; 321) '&[1, 2, 3]': &[u8;usize]\\n[312; 321) '[1, 2, 3]': [u8;usize]\\n[313; 314) '1': u8\\n[313; 314) '1': usize\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str]\\n[42; 45) '[x]': [&str]\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str]]\\n[59; 65) '[a, a]': [[&str]]\\n[60; 61) 'a': [&str]\\n[63; 64) 'a': [&str]\\n[75; 76) 'c': [[[&str]]]\\n[79; 85) '[b, b]': [[[&str]]]\\n[80; 81) 'b': [[&str]]\\n[83; 84) 'b': [[&str]]\\n[96; 97) 'd': [isize]\\n[100; 112) '[y, 1, 2, 3]': [isize]\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize]\\n[126; 138) '[1, y, 2, 3]': [isize]\\n[127; 128) '1': isize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize]\\n[152; 155) '[y]': [isize]\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize]]\\n[169; 175) '[d, d]': [[isize]]\\n[170; 171) 'd': [isize]\\n[173; 174) 'd': [isize]\\n[185; 186) 'g': [[isize]]\\n[189; 195) '[e, e]': [[isize]]\\n[190; 191) 'e': [isize]\\n[193; 194) 'e': [isize]\\n[206; 207) 'h': [i32]\\n[210; 216) '[1, 2]': [i32]\\n[211; 212) '1': i32\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str]\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str]]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str]]\\n[256; 257) 'a': [&str]\\n[259; 264) '[\\\"b\\\"]': [&str]\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8]\\n[288; 290) '[]': [u8]\\n[300; 301) 'z': &[u8]\\n[311; 321) '&[1, 2, 3]': &[u8]\\n[312; 321) '[1, 2, 3]': [u8]\\n[313; 314) '1': u8\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"}}\n+{\"run_id\":\"60c5ca56-4eac-4d4e-ad2d-ce03a3fa5542\",\"line\":1545,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:13:33.069257Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let y = unknown;\\n    [y, &y];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown};usize]\\n[39; 40) 'y': &{unknown}\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown}]\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"}}\n+{\"run_id\":\"60c5ca56-4eac-4d4e-ad2d-ce03a3fa5542\",\"line\":1665,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:13:33.030720Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test_line_buffer() {\\n    &[0, b'\\\\n', 1, b'\\\\n'];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8;usize]\\n[30; 50) '[0, b'...b'\\\\n']': [u8;usize]\\n[31; 32) '0': u8\\n[31; 32) '0': usize\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8]\\n[30; 50) '[0, b'...b'\\\\n']': [u8]\\n[31; 32) '0': u8\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"}}\n+{\"run_id\":\"60c5ca56-4eac-4d4e-ad2d-ce03a3fa5542\",\"line\":1567,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:13:33.072018Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let x = unknown;\\n    let y = unknown;\\n    [(x, y), (&y, &x)];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown});usize]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown})]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"}}\n+{\"run_id\":\"60c5ca56-4eac-4d4e-ad2d-ce03a3fa5542\",\"line\":675,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:13:32.980464Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test(x: &str, y: isize) {\\n    let a = [x];\\n    let b = [a, a];\\n    let c = [b, b];\\n\\n    let d = [y, 1, 2, 3];\\n    let d = [1, y, 2, 3];\\n    let e = [y];\\n    let f = [d, d];\\n    let g = [e, e];\\n\\n    let h = [1, 2];\\n    let i = [\\\"a\\\", \\\"b\\\"];\\n\\n    let b = [a, [\\\"b\\\"]];\\n    let x: [u8; 0] = [];\\n    let z: &[u8] = &[1, 2, 3];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str;usize]\\n[42; 45) '[x]': [&str;usize]\\n[43; 44) 'x': &str\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str;usize];usize]\\n[59; 65) '[a, a]': [[&str;usize];usize]\\n[60; 61) 'a': [&str;usize]\\n[60; 61) 'a': [&str;usize]\\n[63; 64) 'a': [&str;usize]\\n[75; 76) 'c': [[[&str;usize];usize];usize]\\n[79; 85) '[b, b]': [[[&str;usize];usize];usize]\\n[80; 81) 'b': [[&str;usize];usize]\\n[80; 81) 'b': [[&str;usize];usize]\\n[83; 84) 'b': [[&str;usize];usize]\\n[96; 97) 'd': [isize;usize]\\n[100; 112) '[y, 1, 2, 3]': [isize;usize]\\n[101; 102) 'y': isize\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize;usize]\\n[126; 138) '[1, y, 2, 3]': [isize;usize]\\n[127; 128) '1': isize\\n[127; 128) '1': usize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize;usize]\\n[152; 155) '[y]': [isize;usize]\\n[153; 154) 'y': isize\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize;usize];usize]\\n[169; 175) '[d, d]': [[isize;usize];usize]\\n[170; 171) 'd': [isize;usize]\\n[170; 171) 'd': [isize;usize]\\n[173; 174) 'd': [isize;usize]\\n[185; 186) 'g': [[isize;usize];usize]\\n[189; 195) '[e, e]': [[isize;usize];usize]\\n[190; 191) 'e': [isize;usize]\\n[190; 191) 'e': [isize;usize]\\n[193; 194) 'e': [isize;usize]\\n[206; 207) 'h': [i32;usize]\\n[210; 216) '[1, 2]': [i32;usize]\\n[211; 212) '1': i32\\n[211; 212) '1': usize\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str;usize]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str;usize]\\n[231; 234) '\\\"a\\\"': &str\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str;usize];usize]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str;usize];usize]\\n[256; 257) 'a': [&str;usize]\\n[256; 257) 'a': [&str;usize]\\n[259; 264) '[\\\"b\\\"]': [&str;usize]\\n[260; 263) '\\\"b\\\"': &str\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8;usize]\\n[288; 290) '[]': [u8;usize]\\n[300; 301) 'z': &[u8;usize]\\n[311; 321) '&[1, 2, 3]': &[u8;usize]\\n[312; 321) '[1, 2, 3]': [u8;usize]\\n[313; 314) '1': u8\\n[313; 314) '1': usize\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str]\\n[42; 45) '[x]': [&str]\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str]]\\n[59; 65) '[a, a]': [[&str]]\\n[60; 61) 'a': [&str]\\n[63; 64) 'a': [&str]\\n[75; 76) 'c': [[[&str]]]\\n[79; 85) '[b, b]': [[[&str]]]\\n[80; 81) 'b': [[&str]]\\n[83; 84) 'b': [[&str]]\\n[96; 97) 'd': [isize]\\n[100; 112) '[y, 1, 2, 3]': [isize]\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize]\\n[126; 138) '[1, y, 2, 3]': [isize]\\n[127; 128) '1': isize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize]\\n[152; 155) '[y]': [isize]\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize]]\\n[169; 175) '[d, d]': [[isize]]\\n[170; 171) 'd': [isize]\\n[173; 174) 'd': [isize]\\n[185; 186) 'g': [[isize]]\\n[189; 195) '[e, e]': [[isize]]\\n[190; 191) 'e': [isize]\\n[193; 194) 'e': [isize]\\n[206; 207) 'h': [i32]\\n[210; 216) '[1, 2]': [i32]\\n[211; 212) '1': i32\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str]\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str]]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str]]\\n[256; 257) 'a': [&str]\\n[259; 264) '[\\\"b\\\"]': [&str]\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8]\\n[288; 290) '[]': [u8]\\n[300; 301) 'z': &[u8]\\n[311; 321) '&[1, 2, 3]': &[u8]\\n[312; 321) '[1, 2, 3]': [u8]\\n[313; 314) '1': u8\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"}}\n+{\"run_id\":\"7b325bb3-e7ef-41e2-a9b1-392a58487127\",\"line\":1665,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:15:41.060507Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test_line_buffer() {\\n    &[0, b'\\\\n', 1, b'\\\\n'];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8;usize]\\n[30; 50) '[0, b'...b'\\\\n']': [u8;usize]\\n[31; 32) '0': u8\\n[31; 32) '0': usize\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8]\\n[30; 50) '[0, b'...b'\\\\n']': [u8]\\n[31; 32) '0': u8\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"}}\n+{\"run_id\":\"7b325bb3-e7ef-41e2-a9b1-392a58487127\",\"line\":1567,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:15:41.112220Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let x = unknown;\\n    let y = unknown;\\n    [(x, y), (&y, &x)];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown});usize]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown})]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"}}\n+{\"run_id\":\"7b325bb3-e7ef-41e2-a9b1-392a58487127\",\"line\":1545,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:15:41.110089Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let y = unknown;\\n    [y, &y];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown};usize]\\n[39; 40) 'y': &{unknown}\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown}]\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"}}\n+{\"run_id\":\"7b325bb3-e7ef-41e2-a9b1-392a58487127\",\"line\":675,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:15:40.976255Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test(x: &str, y: isize) {\\n    let a = [x];\\n    let b = [a, a];\\n    let c = [b, b];\\n\\n    let d = [y, 1, 2, 3];\\n    let d = [1, y, 2, 3];\\n    let e = [y];\\n    let f = [d, d];\\n    let g = [e, e];\\n\\n    let h = [1, 2];\\n    let i = [\\\"a\\\", \\\"b\\\"];\\n\\n    let b = [a, [\\\"b\\\"]];\\n    let x: [u8; 0] = [];\\n    let z: &[u8] = &[1, 2, 3];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str;usize]\\n[42; 45) '[x]': [&str;usize]\\n[43; 44) 'x': &str\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str;usize];usize]\\n[59; 65) '[a, a]': [[&str;usize];usize]\\n[60; 61) 'a': [&str;usize]\\n[60; 61) 'a': [&str;usize]\\n[63; 64) 'a': [&str;usize]\\n[75; 76) 'c': [[[&str;usize];usize];usize]\\n[79; 85) '[b, b]': [[[&str;usize];usize];usize]\\n[80; 81) 'b': [[&str;usize];usize]\\n[80; 81) 'b': [[&str;usize];usize]\\n[83; 84) 'b': [[&str;usize];usize]\\n[96; 97) 'd': [isize;usize]\\n[100; 112) '[y, 1, 2, 3]': [isize;usize]\\n[101; 102) 'y': isize\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize;usize]\\n[126; 138) '[1, y, 2, 3]': [isize;usize]\\n[127; 128) '1': isize\\n[127; 128) '1': usize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize;usize]\\n[152; 155) '[y]': [isize;usize]\\n[153; 154) 'y': isize\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize;usize];usize]\\n[169; 175) '[d, d]': [[isize;usize];usize]\\n[170; 171) 'd': [isize;usize]\\n[170; 171) 'd': [isize;usize]\\n[173; 174) 'd': [isize;usize]\\n[185; 186) 'g': [[isize;usize];usize]\\n[189; 195) '[e, e]': [[isize;usize];usize]\\n[190; 191) 'e': [isize;usize]\\n[190; 191) 'e': [isize;usize]\\n[193; 194) 'e': [isize;usize]\\n[206; 207) 'h': [i32;usize]\\n[210; 216) '[1, 2]': [i32;usize]\\n[211; 212) '1': i32\\n[211; 212) '1': usize\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str;usize]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str;usize]\\n[231; 234) '\\\"a\\\"': &str\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str;usize];usize]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str;usize];usize]\\n[256; 257) 'a': [&str;usize]\\n[256; 257) 'a': [&str;usize]\\n[259; 264) '[\\\"b\\\"]': [&str;usize]\\n[260; 263) '\\\"b\\\"': &str\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8;usize]\\n[288; 290) '[]': [u8;usize]\\n[300; 301) 'z': &[u8;usize]\\n[311; 321) '&[1, 2, 3]': &[u8;usize]\\n[312; 321) '[1, 2, 3]': [u8;usize]\\n[313; 314) '1': u8\\n[313; 314) '1': usize\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str]\\n[42; 45) '[x]': [&str]\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str]]\\n[59; 65) '[a, a]': [[&str]]\\n[60; 61) 'a': [&str]\\n[63; 64) 'a': [&str]\\n[75; 76) 'c': [[[&str]]]\\n[79; 85) '[b, b]': [[[&str]]]\\n[80; 81) 'b': [[&str]]\\n[83; 84) 'b': [[&str]]\\n[96; 97) 'd': [isize]\\n[100; 112) '[y, 1, 2, 3]': [isize]\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize]\\n[126; 138) '[1, y, 2, 3]': [isize]\\n[127; 128) '1': isize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize]\\n[152; 155) '[y]': [isize]\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize]]\\n[169; 175) '[d, d]': [[isize]]\\n[170; 171) 'd': [isize]\\n[173; 174) 'd': [isize]\\n[185; 186) 'g': [[isize]]\\n[189; 195) '[e, e]': [[isize]]\\n[190; 191) 'e': [isize]\\n[193; 194) 'e': [isize]\\n[206; 207) 'h': [i32]\\n[210; 216) '[1, 2]': [i32]\\n[211; 212) '1': i32\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str]\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str]]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str]]\\n[256; 257) 'a': [&str]\\n[259; 264) '[\\\"b\\\"]': [&str]\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8]\\n[288; 290) '[]': [u8]\\n[300; 301) 'z': &[u8]\\n[311; 321) '&[1, 2, 3]': &[u8]\\n[312; 321) '[1, 2, 3]': [u8]\\n[313; 314) '1': u8\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"}}\n+{\"run_id\":\"8caa20b9-896a-42b5-848e-43f673f897e9\",\"line\":1545,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:17:29.024807Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let y = unknown;\\n    [y, &y];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown};usize]\\n[39; 40) 'y': &{unknown}\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 48) '{     ...&y]; }': ()\\n[21; 22) 'y': &{unknown}\\n[25; 32) 'unknown': &{unknown}\\n[38; 45) '[y, &y]': [&&{unknown}]\\n[39; 40) 'y': &{unknown}\\n[42; 44) '&y': &&{unknown}\\n[43; 44) 'y': &{unknown}\"}}\n+{\"run_id\":\"8caa20b9-896a-42b5-848e-43f673f897e9\",\"line\":1567,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:17:29.026807Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test() {\\n    let x = unknown;\\n    let y = unknown;\\n    [(x, y), (&y, &x)];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown});usize]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[11; 80) '{     ...x)]; }': ()\\n[21; 22) 'x': &&{unknown}\\n[25; 32) 'unknown': &&{unknown}\\n[42; 43) 'y': &&{unknown}\\n[46; 53) 'unknown': &&{unknown}\\n[59; 77) '[(x, y..., &x)]': [(&&{unknown}, &&{unknown})]\\n[60; 66) '(x, y)': (&&{unknown}, &&{unknown})\\n[61; 62) 'x': &&{unknown}\\n[64; 65) 'y': &&{unknown}\\n[68; 76) '(&y, &x)': (&&&{unknown}, &&&{unknown})\\n[69; 71) '&y': &&&{unknown}\\n[70; 71) 'y': &&{unknown}\\n[73; 75) '&x': &&&{unknown}\\n[74; 75) 'x': &&{unknown}\"}}\n+{\"run_id\":\"8caa20b9-896a-42b5-848e-43f673f897e9\",\"line\":1665,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:17:28.985591Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test_line_buffer() {\\n    &[0, b'\\\\n', 1, b'\\\\n'];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8;usize]\\n[30; 50) '[0, b'...b'\\\\n']': [u8;usize]\\n[31; 32) '0': u8\\n[31; 32) '0': usize\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[23; 53) '{     ...n']; }': ()\\n[29; 50) '&[0, b...b'\\\\n']': &[u8]\\n[30; 50) '[0, b'...b'\\\\n']': [u8]\\n[31; 32) '0': u8\\n[34; 39) 'b'\\\\n'': u8\\n[41; 42) '1': u8\\n[44; 49) 'b'\\\\n'': u8\"}}\n+{\"run_id\":\"8caa20b9-896a-42b5-848e-43f673f897e9\",\"line\":675,\"new\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T22:17:28.933671Z\",\"creator\":\"insta@0.7.4\",\"source\":\"crates/ra_hir/src/ty/tests.rs\",\"expression\":\"infer(r#\\\"\\nfn test(x: &str, y: isize) {\\n    let a = [x];\\n    let b = [a, a];\\n    let c = [b, b];\\n\\n    let d = [y, 1, 2, 3];\\n    let d = [1, y, 2, 3];\\n    let e = [y];\\n    let f = [d, d];\\n    let g = [e, e];\\n\\n    let h = [1, 2];\\n    let i = [\\\"a\\\", \\\"b\\\"];\\n\\n    let b = [a, [\\\"b\\\"]];\\n    let x: [u8; 0] = [];\\n    let z: &[u8] = &[1, 2, 3];\\n}\\n\\\"#)\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str;usize]\\n[42; 45) '[x]': [&str;usize]\\n[43; 44) 'x': &str\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str;usize];usize]\\n[59; 65) '[a, a]': [[&str;usize];usize]\\n[60; 61) 'a': [&str;usize]\\n[60; 61) 'a': [&str;usize]\\n[63; 64) 'a': [&str;usize]\\n[75; 76) 'c': [[[&str;usize];usize];usize]\\n[79; 85) '[b, b]': [[[&str;usize];usize];usize]\\n[80; 81) 'b': [[&str;usize];usize]\\n[80; 81) 'b': [[&str;usize];usize]\\n[83; 84) 'b': [[&str;usize];usize]\\n[96; 97) 'd': [isize;usize]\\n[100; 112) '[y, 1, 2, 3]': [isize;usize]\\n[101; 102) 'y': isize\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize;usize]\\n[126; 138) '[1, y, 2, 3]': [isize;usize]\\n[127; 128) '1': isize\\n[127; 128) '1': usize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize;usize]\\n[152; 155) '[y]': [isize;usize]\\n[153; 154) 'y': isize\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize;usize];usize]\\n[169; 175) '[d, d]': [[isize;usize];usize]\\n[170; 171) 'd': [isize;usize]\\n[170; 171) 'd': [isize;usize]\\n[173; 174) 'd': [isize;usize]\\n[185; 186) 'g': [[isize;usize];usize]\\n[189; 195) '[e, e]': [[isize;usize];usize]\\n[190; 191) 'e': [isize;usize]\\n[190; 191) 'e': [isize;usize]\\n[193; 194) 'e': [isize;usize]\\n[206; 207) 'h': [i32;usize]\\n[210; 216) '[1, 2]': [i32;usize]\\n[211; 212) '1': i32\\n[211; 212) '1': usize\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str;usize]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str;usize]\\n[231; 234) '\\\"a\\\"': &str\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str;usize];usize]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str;usize];usize]\\n[256; 257) 'a': [&str;usize]\\n[256; 257) 'a': [&str;usize]\\n[259; 264) '[\\\"b\\\"]': [&str;usize]\\n[260; 263) '\\\"b\\\"': &str\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8;usize]\\n[288; 290) '[]': [u8;usize]\\n[300; 301) 'z': &[u8;usize]\\n[311; 321) '&[1, 2, 3]': &[u8;usize]\\n[312; 321) '[1, 2, 3]': [u8;usize]\\n[313; 314) '1': u8\\n[313; 314) '1': usize\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"},\"old\":{\"module_name\":\"tests\",\"metadata\":{\"created\":\"2019-04-03T20:30:58.397743505Z\"},\"snapshot\":\"\\n[9; 10) 'x': &str\\n[18; 19) 'y': isize\\n[28; 324) '{     ... 3]; }': ()\\n[38; 39) 'a': [&str]\\n[42; 45) '[x]': [&str]\\n[43; 44) 'x': &str\\n[55; 56) 'b': [[&str]]\\n[59; 65) '[a, a]': [[&str]]\\n[60; 61) 'a': [&str]\\n[63; 64) 'a': [&str]\\n[75; 76) 'c': [[[&str]]]\\n[79; 85) '[b, b]': [[[&str]]]\\n[80; 81) 'b': [[&str]]\\n[83; 84) 'b': [[&str]]\\n[96; 97) 'd': [isize]\\n[100; 112) '[y, 1, 2, 3]': [isize]\\n[101; 102) 'y': isize\\n[104; 105) '1': isize\\n[107; 108) '2': isize\\n[110; 111) '3': isize\\n[122; 123) 'd': [isize]\\n[126; 138) '[1, y, 2, 3]': [isize]\\n[127; 128) '1': isize\\n[130; 131) 'y': isize\\n[133; 134) '2': isize\\n[136; 137) '3': isize\\n[148; 149) 'e': [isize]\\n[152; 155) '[y]': [isize]\\n[153; 154) 'y': isize\\n[165; 166) 'f': [[isize]]\\n[169; 175) '[d, d]': [[isize]]\\n[170; 171) 'd': [isize]\\n[173; 174) 'd': [isize]\\n[185; 186) 'g': [[isize]]\\n[189; 195) '[e, e]': [[isize]]\\n[190; 191) 'e': [isize]\\n[193; 194) 'e': [isize]\\n[206; 207) 'h': [i32]\\n[210; 216) '[1, 2]': [i32]\\n[211; 212) '1': i32\\n[214; 215) '2': i32\\n[226; 227) 'i': [&str]\\n[230; 240) '[\\\"a\\\", \\\"b\\\"]': [&str]\\n[231; 234) '\\\"a\\\"': &str\\n[236; 239) '\\\"b\\\"': &str\\n[251; 252) 'b': [[&str]]\\n[255; 265) '[a, [\\\"b\\\"]]': [[&str]]\\n[256; 257) 'a': [&str]\\n[259; 264) '[\\\"b\\\"]': [&str]\\n[260; 263) '\\\"b\\\"': &str\\n[275; 276) 'x': [u8]\\n[288; 290) '[]': [u8]\\n[300; 301) 'z': &[u8]\\n[311; 321) '&[1, 2, 3]': &[u8]\\n[312; 321) '[1, 2, 3]': [u8]\\n[313; 314) '1': u8\\n[316; 317) '2': u8\\n[319; 320) '3': u8\"}}"}, {"sha": "d8f4ce9f8458d7594bce2ab8a0ea856da3b7f4ce", "filename": "crates/ra_hir/src/ty/infer.rs", "status": "modified", "additions": 10, "deletions": 1, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_hir%2Fsrc%2Fty%2Finfer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_hir%2Fsrc%2Fty%2Finfer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fty%2Finfer.rs?ref=2d73c909fe03c799b488aa0f97a588e13bbd7006", "patch": "@@ -1074,7 +1074,7 @@ impl<'a, D: HirDatabase> InferenceContext<'a, D> {\n \n                 Ty::apply(TypeCtor::Tuple, Substs(ty_vec.into()))\n             }\n-            Expr::Array { exprs } => {\n+            Expr::Array { exprs, repeat } => {\n                 let elem_ty = match &expected.ty {\n                     Ty::Apply(a_ty) => match a_ty.ctor {\n                         TypeCtor::Slice | TypeCtor::Array => {\n@@ -1089,6 +1089,15 @@ impl<'a, D: HirDatabase> InferenceContext<'a, D> {\n                     self.infer_expr(*expr, &Expectation::has_type(elem_ty.clone()));\n                 }\n \n+                if let Some(expr) = repeat {\n+                    self.infer_expr(\n+                        *expr,\n+                        &Expectation::has_type(Ty::simple(TypeCtor::Int(\n+                            primitive::UncertainIntTy::Known(primitive::IntTy::usize()),\n+                        ))),\n+                    );\n+                }\n+\n                 Ty::apply_one(TypeCtor::Array, elem_ty)\n             }\n             Expr::Literal(lit) => match lit {"}, {"sha": "39b760551243dac2ff8f32dcb23eaed3461c9f48", "filename": "crates/ra_syntax/src/ast/generated.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_syntax%2Fsrc%2Fast%2Fgenerated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_syntax%2Fsrc%2Fast%2Fgenerated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fast%2Fgenerated.rs?ref=2d73c909fe03c799b488aa0f97a588e13bbd7006", "patch": "@@ -108,6 +108,10 @@ impl ArrayExpr {\n     pub fn exprs(&self) -> impl Iterator<Item = &Expr> {\n         super::children(self)\n     }\n+\n+    pub fn repeat(&self) -> Option<&Expr> {\n+        super::child_opt(self)\n+    }\n }\n \n // ArrayType"}, {"sha": "c7116c69be6450d4dd5a4a29e8e4593b96833d3d", "filename": "crates/ra_syntax/src/grammar.ron", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_syntax%2Fsrc%2Fgrammar.ron", "raw_url": "https://github.com/rust-lang/rust/raw/2d73c909fe03c799b488aa0f97a588e13bbd7006/crates%2Fra_syntax%2Fsrc%2Fgrammar.ron", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fgrammar.ron?ref=2d73c909fe03c799b488aa0f97a588e13bbd7006", "patch": "@@ -395,7 +395,8 @@ Grammar(\n             collections: [[\"exprs\", \"Expr\"]]\n         ),\n         \"ArrayExpr\": (\n-            collections: [[\"exprs\", \"Expr\"]]\n+            collections: [[\"exprs\", \"Expr\"]],\n+            options:[[\"repeat\",\"Expr\"]]\n         ),\n         \"ParenExpr\": (options: [\"Expr\"]),\n         \"PathExpr\": (options: [\"Path\"]),"}]}