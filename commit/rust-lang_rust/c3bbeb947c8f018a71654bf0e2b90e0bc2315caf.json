{"sha": "c3bbeb947c8f018a71654bf0e2b90e0bc2315caf", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMzYmJlYjk0N2M4ZjAxOGE3MTY1NGJmMGUyYjkwZTBiYzIzMTVjYWY=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-08-14T15:53:21Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2021-08-14T15:53:21Z"}, "message": "internal: use standard test style", "tree": {"sha": "faa4080b40221693cc9c3d1efd872929110f1ba1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/faa4080b40221693cc9c3d1efd872929110f1ba1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c3bbeb947c8f018a71654bf0e2b90e0bc2315caf", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c3bbeb947c8f018a71654bf0e2b90e0bc2315caf", "html_url": "https://github.com/rust-lang/rust/commit/c3bbeb947c8f018a71654bf0e2b90e0bc2315caf", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c3bbeb947c8f018a71654bf0e2b90e0bc2315caf/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c1a7169bf056b18eeed67e686cf1f6d0f8f3ff90", "url": "https://api.github.com/repos/rust-lang/rust/commits/c1a7169bf056b18eeed67e686cf1f6d0f8f3ff90", "html_url": "https://github.com/rust-lang/rust/commit/c1a7169bf056b18eeed67e686cf1f6d0f8f3ff90"}], "stats": {"total": 476, "additions": 238, "deletions": 238}, "files": [{"sha": "b499287a5a1cdb0aa2e8dbd2079090501732b0ca", "filename": "crates/ide_assists/src/handlers/convert_to_guarded_return.rs", "status": "modified", "additions": 238, "deletions": 238, "changes": 476, "blob_url": "https://github.com/rust-lang/rust/blob/c3bbeb947c8f018a71654bf0e2b90e0bc2315caf/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fconvert_to_guarded_return.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c3bbeb947c8f018a71654bf0e2b90e0bc2315caf/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fconvert_to_guarded_return.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fconvert_to_guarded_return.rs?ref=c3bbeb947c8f018a71654bf0e2b90e0bc2315caf", "patch": "@@ -198,28 +198,28 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                bar();\n-                if$0 true {\n-                    foo();\n+fn main() {\n+    bar();\n+    if$0 true {\n+        foo();\n \n-                    // comment\n-                    bar();\n-                }\n-            }\n-            \"#,\n+        // comment\n+        bar();\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                bar();\n-                if false {\n-                    return;\n-                }\n-                foo();\n+fn main() {\n+    bar();\n+    if false {\n+        return;\n+    }\n+    foo();\n \n-                // comment\n-                bar();\n-            }\n-            \"#,\n+    // comment\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -228,29 +228,29 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                if$0 let Some(n) = n {\n-                    foo(n);\n+fn main(n: Option<String>) {\n+    bar();\n+    if$0 let Some(n) = n {\n+        foo(n);\n \n-                    // comment\n-                    bar();\n-                }\n-            }\n-            \"#,\n+        // comment\n+        bar();\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                let n = match n {\n-                    Some(it) => it,\n-                    _ => return,\n-                };\n-                foo(n);\n-\n-                // comment\n-                bar();\n-            }\n-            \"#,\n+fn main(n: Option<String>) {\n+    bar();\n+    let n = match n {\n+        Some(it) => it,\n+        _ => return,\n+    };\n+    foo(n);\n+\n+    // comment\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -259,21 +259,21 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if$0 let Ok(x) = Err(92) {\n-                    foo(x);\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    if$0 let Ok(x) = Err(92) {\n+        foo(x);\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                let x = match Err(92) {\n-                    Ok(it) => it,\n-                    _ => return,\n-                };\n-                foo(x);\n-            }\n-            \"#,\n+fn main() {\n+    let x = match Err(92) {\n+        Ok(it) => it,\n+        _ => return,\n+    };\n+    foo(x);\n+}\n+\"#,\n         );\n     }\n \n@@ -282,29 +282,29 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                if$0 let Some(n) = n {\n-                    foo(n);\n+fn main(n: Option<String>) {\n+    bar();\n+    if$0 let Some(n) = n {\n+        foo(n);\n \n-                    // comment\n-                    bar();\n-                }\n-            }\n-            \"#,\n+        // comment\n+        bar();\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                let n = match n {\n-                    Some(it) => it,\n-                    _ => return,\n-                };\n-                foo(n);\n-\n-                // comment\n-                bar();\n-            }\n-            \"#,\n+fn main(n: Option<String>) {\n+    bar();\n+    let n = match n {\n+        Some(it) => it,\n+        _ => return,\n+    };\n+    foo(n);\n+\n+    // comment\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -313,29 +313,29 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                if$0 let Some(mut n) = n {\n-                    foo(n);\n+fn main(n: Option<String>) {\n+    bar();\n+    if$0 let Some(mut n) = n {\n+        foo(n);\n \n-                    // comment\n-                    bar();\n-                }\n-            }\n-            \"#,\n+        // comment\n+        bar();\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main(n: Option<String>) {\n-                bar();\n-                let mut n = match n {\n-                    Some(it) => it,\n-                    _ => return,\n-                };\n-                foo(n);\n-\n-                // comment\n-                bar();\n-            }\n-            \"#,\n+fn main(n: Option<String>) {\n+    bar();\n+    let mut n = match n {\n+        Some(it) => it,\n+        _ => return,\n+    };\n+    foo(n);\n+\n+    // comment\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -344,29 +344,29 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main(n: Option<&str>) {\n-                bar();\n-                if$0 let Some(ref n) = n {\n-                    foo(n);\n+fn main(n: Option<&str>) {\n+    bar();\n+    if$0 let Some(ref n) = n {\n+        foo(n);\n \n-                    // comment\n-                    bar();\n-                }\n-            }\n-            \"#,\n+        // comment\n+        bar();\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main(n: Option<&str>) {\n-                bar();\n-                let ref n = match n {\n-                    Some(it) => it,\n-                    _ => return,\n-                };\n-                foo(n);\n-\n-                // comment\n-                bar();\n-            }\n-            \"#,\n+fn main(n: Option<&str>) {\n+    bar();\n+    let ref n = match n {\n+        Some(it) => it,\n+        _ => return,\n+    };\n+    foo(n);\n+\n+    // comment\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -375,26 +375,26 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                while true {\n-                    if$0 true {\n-                        foo();\n-                        bar();\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    while true {\n+        if$0 true {\n+            foo();\n+            bar();\n+        }\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                while true {\n-                    if false {\n-                        continue;\n-                    }\n-                    foo();\n-                    bar();\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    while true {\n+        if false {\n+            continue;\n+        }\n+        foo();\n+        bar();\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -403,27 +403,27 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                while true {\n-                    if$0 let Some(n) = n {\n-                        foo(n);\n-                        bar();\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    while true {\n+        if$0 let Some(n) = n {\n+            foo(n);\n+            bar();\n+        }\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                while true {\n-                    let n = match n {\n-                        Some(it) => it,\n-                        _ => continue,\n-                    };\n-                    foo(n);\n-                    bar();\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    while true {\n+        let n = match n {\n+            Some(it) => it,\n+            _ => continue,\n+        };\n+        foo(n);\n+        bar();\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -432,26 +432,26 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                loop {\n-                    if$0 true {\n-                        foo();\n-                        bar();\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    loop {\n+        if$0 true {\n+            foo();\n+            bar();\n+        }\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                loop {\n-                    if false {\n-                        continue;\n-                    }\n-                    foo();\n-                    bar();\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    loop {\n+        if false {\n+            continue;\n+        }\n+        foo();\n+        bar();\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -460,27 +460,27 @@ mod tests {\n         check_assist(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                loop {\n-                    if$0 let Some(n) = n {\n-                        foo(n);\n-                        bar();\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    loop {\n+        if$0 let Some(n) = n {\n+            foo(n);\n+            bar();\n+        }\n+    }\n+}\n+\"#,\n             r#\"\n-            fn main() {\n-                loop {\n-                    let n = match n {\n-                        Some(it) => it,\n-                        _ => continue,\n-                    };\n-                    foo(n);\n-                    bar();\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    loop {\n+        let n = match n {\n+            Some(it) => it,\n+            _ => continue,\n+        };\n+        foo(n);\n+        bar();\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -489,12 +489,12 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if$0 true {\n-                    return;\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    if$0 true {\n+        return;\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -503,14 +503,14 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                loop {\n-                    if$0 true {\n-                        continue;\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    loop {\n+        if$0 true {\n+            continue;\n+        }\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -519,12 +519,12 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if$0 true {\n-                    return\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    if$0 true {\n+        return\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -533,14 +533,14 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if$0 true {\n-                    foo();\n-                } else {\n-                    bar()\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    if$0 true {\n+        foo();\n+    } else {\n+        bar()\n+    }\n+}\n+\"#,\n         );\n     }\n \n@@ -549,13 +549,13 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if$0 true {\n-                    foo();\n-                }\n-                bar();\n-            }\n-            \"#,\n+fn main() {\n+    if$0 true {\n+        foo();\n+    }\n+    bar();\n+}\n+\"#,\n         );\n     }\n \n@@ -564,14 +564,14 @@ mod tests {\n         check_assist_not_applicable(\n             convert_to_guarded_return,\n             r#\"\n-            fn main() {\n-                if false {\n-                    if$0 true {\n-                        foo();\n-                    }\n-                }\n-            }\n-            \"#,\n+fn main() {\n+    if false {\n+        if$0 true {\n+            foo();\n+        }\n+    }\n+}\n+\"#,\n         );\n     }\n }"}]}