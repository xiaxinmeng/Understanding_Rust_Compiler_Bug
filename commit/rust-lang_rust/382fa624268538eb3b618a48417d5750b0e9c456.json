{"sha": "382fa624268538eb3b618a48417d5750b0e9c456", "node_id": "C_kwDOAAsO6NoAKDM4MmZhNjI0MjY4NTM4ZWIzYjYxOGE0ODQxN2Q1NzUwYjBlOWM0NTY", "commit": {"author": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2022-08-28T12:23:39Z"}, "committer": {"name": "Yuki Okushi", "email": "jtitor@2k36.org", "date": "2022-08-28T12:23:39Z"}, "message": "Remove `register_attr`-related tests\n\nSigned-off-by: Yuki Okushi <jtitor@2k36.org>", "tree": {"sha": "7dd2b452411f82e4d47da1fd78cc8c53da7b05d3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7dd2b452411f82e4d47da1fd78cc8c53da7b05d3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/382fa624268538eb3b618a48417d5750b0e9c456", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN SSH SIGNATURE-----\nU1NIU0lHAAAAAQAAADMAAAALc3NoLWVkMjU1MTkAAAAgHhkVL0/9C9iZr1PMss4Lz7KmAH\nPO6dU/JqcK/z29OHQAAAADZ2l0AAAAAAAAAAZzaGE1MTIAAABTAAAAC3NzaC1lZDI1NTE5\nAAAAQHplw2vQBs+4scgtArAMX71zi0B8IMR+EoqIscEe2kny6lYOHm3e9tcaiA1GRj1thw\nq/YftvnyHC/HxQdYUj1Qg=\n-----END SSH SIGNATURE-----", "payload": "tree 7dd2b452411f82e4d47da1fd78cc8c53da7b05d3\nparent 76dd5c58a011bb734ad5b8e96fc560374893bc8f\nauthor Yuki Okushi <jtitor@2k36.org> 1661689419 +0900\ncommitter Yuki Okushi <jtitor@2k36.org> 1661689419 +0900\n\nRemove `register_attr`-related tests\n\nSigned-off-by: Yuki Okushi <jtitor@2k36.org>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/382fa624268538eb3b618a48417d5750b0e9c456", "html_url": "https://github.com/rust-lang/rust/commit/382fa624268538eb3b618a48417d5750b0e9c456", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/382fa624268538eb3b618a48417d5750b0e9c456/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "76dd5c58a011bb734ad5b8e96fc560374893bc8f", "url": "https://api.github.com/repos/rust-lang/rust/commits/76dd5c58a011bb734ad5b8e96fc560374893bc8f", "html_url": "https://github.com/rust-lang/rust/commit/76dd5c58a011bb734ad5b8e96fc560374893bc8f"}], "stats": {"total": 689, "additions": 183, "deletions": 506}, "files": [{"sha": "c031dbc7155db2c49888f7c8f91340f8ecb9a289", "filename": "src/test/ui-fulldeps/issue-15778-pass.rs", "status": "removed", "additions": 0, "deletions": 23, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui-fulldeps%2Fissue-15778-pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui-fulldeps%2Fissue-15778-pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fissue-15778-pass.rs?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,23 +0,0 @@\n-// check-pass\n-// aux-build:lint-for-crate-rpass.rs\n-// ignore-stage1\n-// compile-flags: -D crate-not-okay\n-\n-#![feature(plugin, register_attr, custom_inner_attributes)]\n-\n-#![register_attr(\n-    crate_okay,\n-    crate_blue,\n-    crate_red,\n-    crate_grey,\n-    crate_green,\n-)]\n-\n-#![plugin(lint_for_crate_rpass)] //~ WARNING compiler plugins are deprecated\n-#![crate_okay]\n-#![crate_blue]\n-#![crate_red]\n-#![crate_grey]\n-#![crate_green]\n-\n-fn main() {}"}, {"sha": "a9d9721ac7b89ebde6022f8c719c25b3dc0aaaf1", "filename": "src/test/ui-fulldeps/issue-15778-pass.stderr", "status": "removed", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui-fulldeps%2Fissue-15778-pass.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui-fulldeps%2Fissue-15778-pass.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Fissue-15778-pass.stderr?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,10 +0,0 @@\n-warning: use of deprecated attribute `plugin`: compiler plugins are deprecated. See https://github.com/rust-lang/rust/pull/64675\n-  --> $DIR/issue-15778-pass.rs:16:1\n-   |\n-LL | #![plugin(lint_for_crate_rpass)]\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: may be removed in a future compiler version\n-   |\n-   = note: `#[warn(deprecated)]` on by default\n-\n-warning: 1 warning emitted\n-"}, {"sha": "84736be844ba688682e734aeed48b52b7f509cb4", "filename": "src/test/ui/attributes/register-attr-tool-fail.rs", "status": "removed", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-fail.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-fail.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-fail.rs?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,13 +0,0 @@\n-#![feature(register_attr)]\n-#![feature(register_tool)]\n-\n-#![register_attr] //~ ERROR malformed `register_attr` attribute input\n-#![register_tool] //~ ERROR malformed `register_tool` attribute input\n-\n-#![register_attr(a::b)] //~ ERROR `register_attr` only accepts identifiers\n-#![register_tool(a::b)] //~ ERROR `register_tool` only accepts identifiers\n-\n-#![register_attr(attr, attr)] //~ ERROR attribute `attr` was already registered\n-#![register_tool(tool, tool)] //~ ERROR tool `tool` was already registered\n-\n-fn main() {}"}, {"sha": "8f6977cb55f25b06db7444c53432a4be153359ed", "filename": "src/test/ui/attributes/register-attr-tool-fail.stderr", "status": "removed", "additions": 0, "deletions": 42, "changes": 42, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-fail.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-fail.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-fail.stderr?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,42 +0,0 @@\n-error: `register_attr` only accepts identifiers\n-  --> $DIR/register-attr-tool-fail.rs:7:18\n-   |\n-LL | #![register_attr(a::b)]\n-   |                  ^^^^ not an identifier\n-\n-error: attribute `attr` was already registered\n-  --> $DIR/register-attr-tool-fail.rs:10:24\n-   |\n-LL | #![register_attr(attr, attr)]\n-   |                  ----  ^^^^\n-   |                  |\n-   |                  already registered here\n-\n-error: `register_tool` only accepts identifiers\n-  --> $DIR/register-attr-tool-fail.rs:8:18\n-   |\n-LL | #![register_tool(a::b)]\n-   |                  ^^^^ not an identifier\n-\n-error: tool `tool` was already registered\n-  --> $DIR/register-attr-tool-fail.rs:11:24\n-   |\n-LL | #![register_tool(tool, tool)]\n-   |                  ----  ^^^^\n-   |                  |\n-   |                  already registered here\n-\n-error: malformed `register_attr` attribute input\n-  --> $DIR/register-attr-tool-fail.rs:4:1\n-   |\n-LL | #![register_attr]\n-   | ^^^^^^^^^^^^^^^^^ help: must be of the form: `#![register_attr(attr1, attr2, ...)]`\n-\n-error: malformed `register_tool` attribute input\n-  --> $DIR/register-attr-tool-fail.rs:5:1\n-   |\n-LL | #![register_tool]\n-   | ^^^^^^^^^^^^^^^^^ help: must be of the form: `#![register_tool(tool1, tool2, ...)]`\n-\n-error: aborting due to 6 previous errors\n-"}, {"sha": "d3502c71f2d887b08e257c5bbac443415b28b183", "filename": "src/test/ui/attributes/register-attr-tool-import.rs", "status": "removed", "additions": 0, "deletions": 17, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-import.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-import.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-import.rs?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,17 +0,0 @@\n-// edition:2018\n-// compile-flags: -Zsave-analysis\n-// ~^ Also regression test for #69588\n-\n-#![feature(register_attr)]\n-#![feature(register_tool)]\n-\n-#![register_attr(attr)]\n-#![register_tool(tool)]\n-\n-use attr as renamed_attr; // OK\n-use tool as renamed_tool; // OK\n-\n-#[renamed_attr] //~ ERROR cannot use an explicitly registered attribute through an import\n-#[renamed_tool::attr] //~ ERROR cannot use a tool module through an import\n-                      //~| ERROR cannot use a tool module through an import\n-fn main() {}"}, {"sha": "90b7e169a2fb7907c5c9a7f8eef8aa0cfd30c6d6", "filename": "src/test/ui/attributes/register-attr-tool-import.stderr", "status": "removed", "additions": 0, "deletions": 38, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-import.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-import.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-import.stderr?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,38 +0,0 @@\n-error: cannot use an explicitly registered attribute through an import\n-  --> $DIR/register-attr-tool-import.rs:14:3\n-   |\n-LL | #[renamed_attr]\n-   |   ^^^^^^^^^^^^\n-   |\n-note: the explicitly registered attribute imported here\n-  --> $DIR/register-attr-tool-import.rs:11:5\n-   |\n-LL | use attr as renamed_attr; // OK\n-   |     ^^^^^^^^^^^^^^^^^^^^\n-\n-error: cannot use a tool module through an import\n-  --> $DIR/register-attr-tool-import.rs:15:3\n-   |\n-LL | #[renamed_tool::attr]\n-   |   ^^^^^^^^^^^^\n-   |\n-note: the tool module imported here\n-  --> $DIR/register-attr-tool-import.rs:12:5\n-   |\n-LL | use tool as renamed_tool; // OK\n-   |     ^^^^^^^^^^^^^^^^^^^^\n-\n-error: cannot use a tool module through an import\n-  --> $DIR/register-attr-tool-import.rs:15:3\n-   |\n-LL | #[renamed_tool::attr]\n-   |   ^^^^^^^^^^^^\n-   |\n-note: the tool module imported here\n-  --> $DIR/register-attr-tool-import.rs:12:5\n-   |\n-LL | use tool as renamed_tool; // OK\n-   |     ^^^^^^^^^^^^^^^^^^^^\n-\n-error: aborting due to 3 previous errors\n-"}, {"sha": "d217a8146d2ac934515b8c888f85e159beb7f4d7", "filename": "src/test/ui/attributes/register-attr-tool-prelude.rs", "status": "removed", "additions": 0, "deletions": 14, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-prelude.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-prelude.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-prelude.rs?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,14 +0,0 @@\n-#![feature(register_attr)]\n-#![feature(register_tool)]\n-\n-#![register_attr(attr)]\n-#![register_tool(tool)]\n-\n-#[no_implicit_prelude]\n-mod m {\n-    #[attr] //~ ERROR cannot find attribute `attr` in this scope\n-    #[tool::attr] //~ ERROR failed to resolve: use of undeclared crate or module `tool`\n-    fn check() {}\n-}\n-\n-fn main() {}"}, {"sha": "905b661206a6bc49e9a121a5fbfa52870b2bb39b", "filename": "src/test/ui/attributes/register-attr-tool-prelude.stderr", "status": "removed", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-prelude.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-prelude.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-prelude.stderr?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,15 +0,0 @@\n-error[E0433]: failed to resolve: use of undeclared crate or module `tool`\n-  --> $DIR/register-attr-tool-prelude.rs:10:7\n-   |\n-LL |     #[tool::attr]\n-   |       ^^^^ use of undeclared crate or module `tool`\n-\n-error: cannot find attribute `attr` in this scope\n-  --> $DIR/register-attr-tool-prelude.rs:9:7\n-   |\n-LL |     #[attr]\n-   |       ^^^^\n-\n-error: aborting due to 2 previous errors\n-\n-For more information about this error, try `rustc --explain E0433`."}, {"sha": "680614656538afebe2273ca1bf529a242dd6a967", "filename": "src/test/ui/attributes/register-attr-tool-unused.rs", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-unused.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-unused.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-unused.rs?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,8 +0,0 @@\n-#![deny(unused)]\n-\n-#![feature(register_attr)]\n-#![feature(register_tool)]\n-\n-#[register_attr(attr)] //~ ERROR crate-level attribute should be an inner attribute\n-#[register_tool(tool)] //~ ERROR crate-level attribute should be an inner attribute\n-fn main() {}"}, {"sha": "8d2e1b6bc2894dbf5224bc62d8cba45eb4441457", "filename": "src/test/ui/attributes/register-attr-tool-unused.stderr", "status": "removed", "additions": 0, "deletions": 21, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-unused.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-unused.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool-unused.stderr?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,21 +0,0 @@\n-error: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/register-attr-tool-unused.rs:6:1\n-   |\n-LL | #[register_attr(attr)]\n-   | ^^^^^^^^^^^^^^^^^^^^^^\n-   |\n-note: the lint level is defined here\n-  --> $DIR/register-attr-tool-unused.rs:1:9\n-   |\n-LL | #![deny(unused)]\n-   |         ^^^^^^\n-   = note: `#[deny(unused_attributes)]` implied by `#[deny(unused)]`\n-\n-error: crate-level attribute should be an inner attribute: add an exclamation mark: `#![foo]`\n-  --> $DIR/register-attr-tool-unused.rs:7:1\n-   |\n-LL | #[register_tool(tool)]\n-   | ^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: aborting due to 2 previous errors\n-"}, {"sha": "ee9da74d4fb1ca2e672d8c8eae74824f5793114f", "filename": "src/test/ui/attributes/register-attr-tool.rs", "status": "removed", "additions": 0, "deletions": 19, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fattributes%2Fregister-attr-tool.rs?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,19 +0,0 @@\n-// check-pass\n-// compile-flags: --cfg foo\n-\n-#![feature(register_attr)]\n-#![feature(register_tool)]\n-\n-#![register_attr(attr)]\n-#![register_tool(tool)]\n-#![register_tool(rustfmt, clippy)] // OK\n-#![cfg_attr(foo, register_attr(conditional_attr))]\n-#![cfg_attr(foo, register_tool(conditional_tool))]\n-\n-#[attr]\n-#[tool::attr]\n-#[rustfmt::attr]\n-#[clippy::attr]\n-#[conditional_attr]\n-#[conditional_tool::attr]\n-fn main() {}"}, {"sha": "36dce2aa7b9e0e8b0deadc066960b5c19f811ee4", "filename": "src/test/ui/feature-gates/feature-gate-register_attr.rs", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-register_attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-register_attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-register_attr.rs?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,3 +0,0 @@\n-#![register_attr(attr)] //~ ERROR the `#[register_attr]` attribute is an experimental feature\n-\n-fn main() {}"}, {"sha": "8ca3845d28aa7f18994a4d84d3e5956dc249bf5e", "filename": "src/test/ui/feature-gates/feature-gate-register_attr.stderr", "status": "removed", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-register_attr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-register_attr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-register_attr.stderr?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,12 +0,0 @@\n-error[E0658]: the `#[register_attr]` attribute is an experimental feature\n-  --> $DIR/feature-gate-register_attr.rs:1:1\n-   |\n-LL | #![register_attr(attr)]\n-   | ^^^^^^^^^^^^^^^^^^^^^^^\n-   |\n-   = note: see issue #66080 <https://github.com/rust-lang/rust/issues/66080> for more information\n-   = help: add `#![feature(register_attr)]` to the crate attributes to enable\n-\n-error: aborting due to previous error\n-\n-For more information about this error, try `rustc --explain E0658`."}, {"sha": "4160e5418b78a79bb488589aa2c9de7097baa437", "filename": "src/test/ui/proc-macro/expand-to-unstable-2.rs", "status": "removed", "additions": 0, "deletions": 17, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fproc-macro%2Fexpand-to-unstable-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fproc-macro%2Fexpand-to-unstable-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fexpand-to-unstable-2.rs?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,17 +0,0 @@\n-// aux-build:derive-unstable-2.rs\n-\n-#![feature(register_attr)]\n-\n-#![register_attr(rustc_foo)]\n-\n-#[macro_use]\n-extern crate derive_unstable_2;\n-\n-#[derive(Unstable)]\n-//~^ ERROR attributes starting with `rustc` are reserved for use by the `rustc` compiler\n-\n-struct A;\n-\n-fn main() {\n-    foo();\n-}"}, {"sha": "8b16ffb76f26fc1e419cba16fad42760f5ddc5ae", "filename": "src/test/ui/proc-macro/expand-to-unstable-2.stderr", "status": "removed", "additions": 0, "deletions": 10, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fproc-macro%2Fexpand-to-unstable-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fproc-macro%2Fexpand-to-unstable-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fexpand-to-unstable-2.stderr?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,10 +0,0 @@\n-error: attributes starting with `rustc` are reserved for use by the `rustc` compiler\n-  --> $DIR/expand-to-unstable-2.rs:10:10\n-   |\n-LL | #[derive(Unstable)]\n-   |          ^^^^^^^^\n-   |\n-   = note: this error originates in the derive macro `Unstable` (in Nightly builds, run with -Z macro-backtrace for more info)\n-\n-error: aborting due to previous error\n-"}, {"sha": "1000c9c755ffc255bff7cad35dc9df29fd2a0bb1", "filename": "src/test/ui/proc-macro/inner-attrs.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/382fa624268538eb3b618a48417d5750b0e9c456/src%2Ftest%2Fui%2Fproc-macro%2Finner-attrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/382fa624268538eb3b618a48417d5750b0e9c456/src%2Ftest%2Fui%2Fproc-macro%2Finner-attrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Finner-attrs.rs?ref=382fa624268538eb3b618a48417d5750b0e9c456", "patch": "@@ -1,3 +1,4 @@\n+// gate-test-custom_inner_attributes\n // compile-flags: -Z span-debug --error-format human\n // aux-build:test-macros.rs\n // edition:2018"}, {"sha": "a332e143a79f1d0de39c2cea8364ed1cf4b6cf38", "filename": "src/test/ui/proc-macro/inner-attrs.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/382fa624268538eb3b618a48417d5750b0e9c456/src%2Ftest%2Fui%2Fproc-macro%2Finner-attrs.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/382fa624268538eb3b618a48417d5750b0e9c456/src%2Ftest%2Fui%2Fproc-macro%2Finner-attrs.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Finner-attrs.stderr?ref=382fa624268538eb3b618a48417d5750b0e9c456", "patch": "@@ -1,23 +1,23 @@\n error: expected non-macro inner attribute, found attribute macro `print_attr`\n-  --> $DIR/inner-attrs.rs:63:12\n+  --> $DIR/inner-attrs.rs:64:12\n    |\n LL |         #![print_attr]\n    |            ^^^^^^^^^^ not a non-macro inner attribute\n \n error: expected non-macro inner attribute, found attribute macro `print_attr`\n-  --> $DIR/inner-attrs.rs:67:12\n+  --> $DIR/inner-attrs.rs:68:12\n    |\n LL |         #![print_attr]\n    |            ^^^^^^^^^^ not a non-macro inner attribute\n \n error: expected non-macro inner attribute, found attribute macro `print_attr`\n-  --> $DIR/inner-attrs.rs:71:12\n+  --> $DIR/inner-attrs.rs:72:12\n    |\n LL |         #![print_attr]\n    |            ^^^^^^^^^^ not a non-macro inner attribute\n \n error: expected non-macro inner attribute, found attribute macro `print_attr`\n-  --> $DIR/inner-attrs.rs:75:12\n+  --> $DIR/inner-attrs.rs:76:12\n    |\n LL |         #![print_attr]\n    |            ^^^^^^^^^^ not a non-macro inner attribute"}, {"sha": "490fc02f510372d0380b458ab125cfe3aaab6c9d", "filename": "src/test/ui/proc-macro/inner-attrs.stdout", "status": "modified", "additions": 178, "deletions": 178, "changes": 356, "blob_url": "https://github.com/rust-lang/rust/blob/382fa624268538eb3b618a48417d5750b0e9c456/src%2Ftest%2Fui%2Fproc-macro%2Finner-attrs.stdout", "raw_url": "https://github.com/rust-lang/rust/raw/382fa624268538eb3b618a48417d5750b0e9c456/src%2Ftest%2Fui%2Fproc-macro%2Finner-attrs.stdout", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Finner-attrs.stdout?ref=382fa624268538eb3b618a48417d5750b0e9c456", "patch": "@@ -2,7 +2,7 @@ PRINT-ATTR_ARGS INPUT (DISPLAY): first\n PRINT-ATTR_ARGS INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"first\",\n-        span: $DIR/inner-attrs.rs:16:25: 16:30 (#0),\n+        span: $DIR/inner-attrs.rs:17:25: 17:30 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): #[print_target_and_args(second)] fn foo()\n@@ -11,290 +11,290 @@ PRINT-ATTR INPUT (DEBUG): TokenStream [\n     Punct {\n         ch: '#',\n         spacing: Alone,\n-        span: $DIR/inner-attrs.rs:17:1: 17:2 (#0),\n+        span: $DIR/inner-attrs.rs:18:1: 18:2 (#0),\n     },\n     Group {\n         delimiter: Bracket,\n         stream: TokenStream [\n             Ident {\n                 ident: \"print_target_and_args\",\n-                span: $DIR/inner-attrs.rs:17:3: 17:24 (#0),\n+                span: $DIR/inner-attrs.rs:18:3: 18:24 (#0),\n             },\n             Group {\n                 delimiter: Parenthesis,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"second\",\n-                        span: $DIR/inner-attrs.rs:17:25: 17:31 (#0),\n+                        span: $DIR/inner-attrs.rs:18:25: 18:31 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:17:24: 17:32 (#0),\n+                span: $DIR/inner-attrs.rs:18:24: 18:32 (#0),\n             },\n         ],\n-        span: $DIR/inner-attrs.rs:17:2: 17:33 (#0),\n+        span: $DIR/inner-attrs.rs:18:2: 18:33 (#0),\n     },\n     Ident {\n         ident: \"fn\",\n-        span: $DIR/inner-attrs.rs:18:1: 18:3 (#0),\n+        span: $DIR/inner-attrs.rs:19:1: 19:3 (#0),\n     },\n     Ident {\n         ident: \"foo\",\n-        span: $DIR/inner-attrs.rs:18:4: 18:7 (#0),\n+        span: $DIR/inner-attrs.rs:19:4: 19:7 (#0),\n     },\n     Group {\n         delimiter: Parenthesis,\n         stream: TokenStream [],\n-        span: $DIR/inner-attrs.rs:18:7: 18:9 (#0),\n+        span: $DIR/inner-attrs.rs:19:7: 19:9 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [\n             Punct {\n                 ch: '#',\n                 spacing: Joint,\n-                span: $DIR/inner-attrs.rs:19:5: 19:6 (#0),\n+                span: $DIR/inner-attrs.rs:20:5: 20:6 (#0),\n             },\n             Punct {\n                 ch: '!',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:19:6: 19:7 (#0),\n+                span: $DIR/inner-attrs.rs:20:6: 20:7 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"print_target_and_args\",\n-                        span: $DIR/inner-attrs.rs:19:8: 19:29 (#0),\n+                        span: $DIR/inner-attrs.rs:20:8: 20:29 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"third\",\n-                                span: $DIR/inner-attrs.rs:19:30: 19:35 (#0),\n+                                span: $DIR/inner-attrs.rs:20:30: 20:35 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:19:29: 19:36 (#0),\n+                        span: $DIR/inner-attrs.rs:20:29: 20:36 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:19:7: 19:37 (#0),\n+                span: $DIR/inner-attrs.rs:20:7: 20:37 (#0),\n             },\n             Punct {\n                 ch: '#',\n                 spacing: Joint,\n-                span: $DIR/inner-attrs.rs:20:5: 20:6 (#0),\n+                span: $DIR/inner-attrs.rs:21:5: 21:6 (#0),\n             },\n             Punct {\n                 ch: '!',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:20:6: 20:7 (#0),\n+                span: $DIR/inner-attrs.rs:21:6: 21:7 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"print_target_and_args\",\n-                        span: $DIR/inner-attrs.rs:20:8: 20:29 (#0),\n+                        span: $DIR/inner-attrs.rs:21:8: 21:29 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"fourth\",\n-                                span: $DIR/inner-attrs.rs:20:30: 20:36 (#0),\n+                                span: $DIR/inner-attrs.rs:21:30: 21:36 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:20:29: 20:37 (#0),\n+                        span: $DIR/inner-attrs.rs:21:29: 21:37 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:20:7: 20:38 (#0),\n+                span: $DIR/inner-attrs.rs:21:7: 21:38 (#0),\n             },\n         ],\n-        span: $DIR/inner-attrs.rs:18:10: 21:2 (#0),\n+        span: $DIR/inner-attrs.rs:19:10: 22:2 (#0),\n     },\n ]\n PRINT-ATTR_ARGS INPUT (DISPLAY): second\n PRINT-ATTR_ARGS INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"second\",\n-        span: $DIR/inner-attrs.rs:17:25: 17:31 (#0),\n+        span: $DIR/inner-attrs.rs:18:25: 18:31 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): fn foo()\n { #! [print_target_and_args(third)] #! [print_target_and_args(fourth)] }\n PRINT-ATTR INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"fn\",\n-        span: $DIR/inner-attrs.rs:18:1: 18:3 (#0),\n+        span: $DIR/inner-attrs.rs:19:1: 19:3 (#0),\n     },\n     Ident {\n         ident: \"foo\",\n-        span: $DIR/inner-attrs.rs:18:4: 18:7 (#0),\n+        span: $DIR/inner-attrs.rs:19:4: 19:7 (#0),\n     },\n     Group {\n         delimiter: Parenthesis,\n         stream: TokenStream [],\n-        span: $DIR/inner-attrs.rs:18:7: 18:9 (#0),\n+        span: $DIR/inner-attrs.rs:19:7: 19:9 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [\n             Punct {\n                 ch: '#',\n                 spacing: Joint,\n-                span: $DIR/inner-attrs.rs:19:5: 19:6 (#0),\n+                span: $DIR/inner-attrs.rs:20:5: 20:6 (#0),\n             },\n             Punct {\n                 ch: '!',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:19:6: 19:7 (#0),\n+                span: $DIR/inner-attrs.rs:20:6: 20:7 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"print_target_and_args\",\n-                        span: $DIR/inner-attrs.rs:19:8: 19:29 (#0),\n+                        span: $DIR/inner-attrs.rs:20:8: 20:29 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"third\",\n-                                span: $DIR/inner-attrs.rs:19:30: 19:35 (#0),\n+                                span: $DIR/inner-attrs.rs:20:30: 20:35 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:19:29: 19:36 (#0),\n+                        span: $DIR/inner-attrs.rs:20:29: 20:36 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:19:7: 19:37 (#0),\n+                span: $DIR/inner-attrs.rs:20:7: 20:37 (#0),\n             },\n             Punct {\n                 ch: '#',\n                 spacing: Joint,\n-                span: $DIR/inner-attrs.rs:20:5: 20:6 (#0),\n+                span: $DIR/inner-attrs.rs:21:5: 21:6 (#0),\n             },\n             Punct {\n                 ch: '!',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:20:6: 20:7 (#0),\n+                span: $DIR/inner-attrs.rs:21:6: 21:7 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"print_target_and_args\",\n-                        span: $DIR/inner-attrs.rs:20:8: 20:29 (#0),\n+                        span: $DIR/inner-attrs.rs:21:8: 21:29 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"fourth\",\n-                                span: $DIR/inner-attrs.rs:20:30: 20:36 (#0),\n+                                span: $DIR/inner-attrs.rs:21:30: 21:36 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:20:29: 20:37 (#0),\n+                        span: $DIR/inner-attrs.rs:21:29: 21:37 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:20:7: 20:38 (#0),\n+                span: $DIR/inner-attrs.rs:21:7: 21:38 (#0),\n             },\n         ],\n-        span: $DIR/inner-attrs.rs:18:10: 21:2 (#0),\n+        span: $DIR/inner-attrs.rs:19:10: 22:2 (#0),\n     },\n ]\n PRINT-ATTR_ARGS INPUT (DISPLAY): third\n PRINT-ATTR_ARGS INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"third\",\n-        span: $DIR/inner-attrs.rs:19:30: 19:35 (#0),\n+        span: $DIR/inner-attrs.rs:20:30: 20:35 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): fn foo() { #! [print_target_and_args(fourth)] }\n PRINT-ATTR INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"fn\",\n-        span: $DIR/inner-attrs.rs:18:1: 18:3 (#0),\n+        span: $DIR/inner-attrs.rs:19:1: 19:3 (#0),\n     },\n     Ident {\n         ident: \"foo\",\n-        span: $DIR/inner-attrs.rs:18:4: 18:7 (#0),\n+        span: $DIR/inner-attrs.rs:19:4: 19:7 (#0),\n     },\n     Group {\n         delimiter: Parenthesis,\n         stream: TokenStream [],\n-        span: $DIR/inner-attrs.rs:18:7: 18:9 (#0),\n+        span: $DIR/inner-attrs.rs:19:7: 19:9 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [\n             Punct {\n                 ch: '#',\n                 spacing: Joint,\n-                span: $DIR/inner-attrs.rs:20:5: 20:6 (#0),\n+                span: $DIR/inner-attrs.rs:21:5: 21:6 (#0),\n             },\n             Punct {\n                 ch: '!',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:20:6: 20:7 (#0),\n+                span: $DIR/inner-attrs.rs:21:6: 21:7 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"print_target_and_args\",\n-                        span: $DIR/inner-attrs.rs:20:8: 20:29 (#0),\n+                        span: $DIR/inner-attrs.rs:21:8: 21:29 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"fourth\",\n-                                span: $DIR/inner-attrs.rs:20:30: 20:36 (#0),\n+                                span: $DIR/inner-attrs.rs:21:30: 21:36 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:20:29: 20:37 (#0),\n+                        span: $DIR/inner-attrs.rs:21:29: 21:37 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:20:7: 20:38 (#0),\n+                span: $DIR/inner-attrs.rs:21:7: 21:38 (#0),\n             },\n         ],\n-        span: $DIR/inner-attrs.rs:18:10: 21:2 (#0),\n+        span: $DIR/inner-attrs.rs:19:10: 22:2 (#0),\n     },\n ]\n PRINT-ATTR_ARGS INPUT (DISPLAY): fourth\n PRINT-ATTR_ARGS INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"fourth\",\n-        span: $DIR/inner-attrs.rs:20:30: 20:36 (#0),\n+        span: $DIR/inner-attrs.rs:21:30: 21:36 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): fn foo() {}\n PRINT-ATTR INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"fn\",\n-        span: $DIR/inner-attrs.rs:18:1: 18:3 (#0),\n+        span: $DIR/inner-attrs.rs:19:1: 19:3 (#0),\n     },\n     Ident {\n         ident: \"foo\",\n-        span: $DIR/inner-attrs.rs:18:4: 18:7 (#0),\n+        span: $DIR/inner-attrs.rs:19:4: 19:7 (#0),\n     },\n     Group {\n         delimiter: Parenthesis,\n         stream: TokenStream [],\n-        span: $DIR/inner-attrs.rs:18:7: 18:9 (#0),\n+        span: $DIR/inner-attrs.rs:19:7: 19:9 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [],\n-        span: $DIR/inner-attrs.rs:18:10: 21:2 (#0),\n+        span: $DIR/inner-attrs.rs:19:10: 22:2 (#0),\n     },\n ]\n PRINT-ATTR_ARGS INPUT (DISPLAY): mod_first\n PRINT-ATTR_ARGS INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"mod_first\",\n-        span: $DIR/inner-attrs.rs:23:25: 23:34 (#0),\n+        span: $DIR/inner-attrs.rs:24:25: 24:34 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): #[print_target_and_args(mod_second)] mod inline_mod\n@@ -306,108 +306,108 @@ PRINT-ATTR INPUT (DEBUG): TokenStream [\n     Punct {\n         ch: '#',\n         spacing: Alone,\n-        span: $DIR/inner-attrs.rs:24:1: 24:2 (#0),\n+        span: $DIR/inner-attrs.rs:25:1: 25:2 (#0),\n     },\n     Group {\n         delimiter: Bracket,\n         stream: TokenStream [\n             Ident {\n                 ident: \"print_target_and_args\",\n-                span: $DIR/inner-attrs.rs:24:3: 24:24 (#0),\n+                span: $DIR/inner-attrs.rs:25:3: 25:24 (#0),\n             },\n             Group {\n                 delimiter: Parenthesis,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"mod_second\",\n-                        span: $DIR/inner-attrs.rs:24:25: 24:35 (#0),\n+                        span: $DIR/inner-attrs.rs:25:25: 25:35 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:24:24: 24:36 (#0),\n+                span: $DIR/inner-attrs.rs:25:24: 25:36 (#0),\n             },\n         ],\n-        span: $DIR/inner-attrs.rs:24:2: 24:37 (#0),\n+        span: $DIR/inner-attrs.rs:25:2: 25:37 (#0),\n     },\n     Ident {\n         ident: \"mod\",\n-        span: $DIR/inner-attrs.rs:25:1: 25:4 (#0),\n+        span: $DIR/inner-attrs.rs:26:1: 26:4 (#0),\n     },\n     Ident {\n         ident: \"inline_mod\",\n-        span: $DIR/inner-attrs.rs:25:5: 25:15 (#0),\n+        span: $DIR/inner-attrs.rs:26:5: 26:15 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [\n             Punct {\n                 ch: '#',\n                 spacing: Joint,\n-                span: $DIR/inner-attrs.rs:26:5: 26:6 (#0),\n+                span: $DIR/inner-attrs.rs:27:5: 27:6 (#0),\n             },\n             Punct {\n                 ch: '!',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:26:6: 26:7 (#0),\n+                span: $DIR/inner-attrs.rs:27:6: 27:7 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"print_target_and_args\",\n-                        span: $DIR/inner-attrs.rs:26:8: 26:29 (#0),\n+                        span: $DIR/inner-attrs.rs:27:8: 27:29 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"mod_third\",\n-                                span: $DIR/inner-attrs.rs:26:30: 26:39 (#0),\n+                                span: $DIR/inner-attrs.rs:27:30: 27:39 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:26:29: 26:40 (#0),\n+                        span: $DIR/inner-attrs.rs:27:29: 27:40 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:26:7: 26:41 (#0),\n+                span: $DIR/inner-attrs.rs:27:7: 27:41 (#0),\n             },\n             Punct {\n                 ch: '#',\n                 spacing: Joint,\n-                span: $DIR/inner-attrs.rs:27:5: 27:6 (#0),\n+                span: $DIR/inner-attrs.rs:28:5: 28:6 (#0),\n             },\n             Punct {\n                 ch: '!',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:27:6: 27:7 (#0),\n+                span: $DIR/inner-attrs.rs:28:6: 28:7 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"print_target_and_args\",\n-                        span: $DIR/inner-attrs.rs:27:8: 27:29 (#0),\n+                        span: $DIR/inner-attrs.rs:28:8: 28:29 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"mod_fourth\",\n-                                span: $DIR/inner-attrs.rs:27:30: 27:40 (#0),\n+                                span: $DIR/inner-attrs.rs:28:30: 28:40 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:27:29: 27:41 (#0),\n+                        span: $DIR/inner-attrs.rs:28:29: 28:41 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:27:7: 27:42 (#0),\n+                span: $DIR/inner-attrs.rs:28:7: 28:42 (#0),\n             },\n         ],\n-        span: $DIR/inner-attrs.rs:25:16: 28:2 (#0),\n+        span: $DIR/inner-attrs.rs:26:16: 29:2 (#0),\n     },\n ]\n PRINT-ATTR_ARGS INPUT (DISPLAY): mod_second\n PRINT-ATTR_ARGS INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"mod_second\",\n-        span: $DIR/inner-attrs.rs:24:25: 24:35 (#0),\n+        span: $DIR/inner-attrs.rs:25:25: 25:35 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): mod inline_mod\n@@ -418,154 +418,154 @@ PRINT-ATTR INPUT (DISPLAY): mod inline_mod\n PRINT-ATTR INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"mod\",\n-        span: $DIR/inner-attrs.rs:25:1: 25:4 (#0),\n+        span: $DIR/inner-attrs.rs:26:1: 26:4 (#0),\n     },\n     Ident {\n         ident: \"inline_mod\",\n-        span: $DIR/inner-attrs.rs:25:5: 25:15 (#0),\n+        span: $DIR/inner-attrs.rs:26:5: 26:15 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [\n             Punct {\n                 ch: '#',\n                 spacing: Joint,\n-                span: $DIR/inner-attrs.rs:26:5: 26:6 (#0),\n+                span: $DIR/inner-attrs.rs:27:5: 27:6 (#0),\n             },\n             Punct {\n                 ch: '!',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:26:6: 26:7 (#0),\n+                span: $DIR/inner-attrs.rs:27:6: 27:7 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"print_target_and_args\",\n-                        span: $DIR/inner-attrs.rs:26:8: 26:29 (#0),\n+                        span: $DIR/inner-attrs.rs:27:8: 27:29 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"mod_third\",\n-                                span: $DIR/inner-attrs.rs:26:30: 26:39 (#0),\n+                                span: $DIR/inner-attrs.rs:27:30: 27:39 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:26:29: 26:40 (#0),\n+                        span: $DIR/inner-attrs.rs:27:29: 27:40 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:26:7: 26:41 (#0),\n+                span: $DIR/inner-attrs.rs:27:7: 27:41 (#0),\n             },\n             Punct {\n                 ch: '#',\n                 spacing: Joint,\n-                span: $DIR/inner-attrs.rs:27:5: 27:6 (#0),\n+                span: $DIR/inner-attrs.rs:28:5: 28:6 (#0),\n             },\n             Punct {\n                 ch: '!',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:27:6: 27:7 (#0),\n+                span: $DIR/inner-attrs.rs:28:6: 28:7 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"print_target_and_args\",\n-                        span: $DIR/inner-attrs.rs:27:8: 27:29 (#0),\n+                        span: $DIR/inner-attrs.rs:28:8: 28:29 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"mod_fourth\",\n-                                span: $DIR/inner-attrs.rs:27:30: 27:40 (#0),\n+                                span: $DIR/inner-attrs.rs:28:30: 28:40 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:27:29: 27:41 (#0),\n+                        span: $DIR/inner-attrs.rs:28:29: 28:41 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:27:7: 27:42 (#0),\n+                span: $DIR/inner-attrs.rs:28:7: 28:42 (#0),\n             },\n         ],\n-        span: $DIR/inner-attrs.rs:25:16: 28:2 (#0),\n+        span: $DIR/inner-attrs.rs:26:16: 29:2 (#0),\n     },\n ]\n PRINT-ATTR_ARGS INPUT (DISPLAY): mod_third\n PRINT-ATTR_ARGS INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"mod_third\",\n-        span: $DIR/inner-attrs.rs:26:30: 26:39 (#0),\n+        span: $DIR/inner-attrs.rs:27:30: 27:39 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): mod inline_mod { #! [print_target_and_args(mod_fourth)] }\n PRINT-ATTR INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"mod\",\n-        span: $DIR/inner-attrs.rs:25:1: 25:4 (#0),\n+        span: $DIR/inner-attrs.rs:26:1: 26:4 (#0),\n     },\n     Ident {\n         ident: \"inline_mod\",\n-        span: $DIR/inner-attrs.rs:25:5: 25:15 (#0),\n+        span: $DIR/inner-attrs.rs:26:5: 26:15 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [\n             Punct {\n                 ch: '#',\n                 spacing: Joint,\n-                span: $DIR/inner-attrs.rs:27:5: 27:6 (#0),\n+                span: $DIR/inner-attrs.rs:28:5: 28:6 (#0),\n             },\n             Punct {\n                 ch: '!',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:27:6: 27:7 (#0),\n+                span: $DIR/inner-attrs.rs:28:6: 28:7 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"print_target_and_args\",\n-                        span: $DIR/inner-attrs.rs:27:8: 27:29 (#0),\n+                        span: $DIR/inner-attrs.rs:28:8: 28:29 (#0),\n                     },\n                     Group {\n                         delimiter: Parenthesis,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"mod_fourth\",\n-                                span: $DIR/inner-attrs.rs:27:30: 27:40 (#0),\n+                                span: $DIR/inner-attrs.rs:28:30: 28:40 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:27:29: 27:41 (#0),\n+                        span: $DIR/inner-attrs.rs:28:29: 28:41 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:27:7: 27:42 (#0),\n+                span: $DIR/inner-attrs.rs:28:7: 28:42 (#0),\n             },\n         ],\n-        span: $DIR/inner-attrs.rs:25:16: 28:2 (#0),\n+        span: $DIR/inner-attrs.rs:26:16: 29:2 (#0),\n     },\n ]\n PRINT-ATTR_ARGS INPUT (DISPLAY): mod_fourth\n PRINT-ATTR_ARGS INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"mod_fourth\",\n-        span: $DIR/inner-attrs.rs:27:30: 27:40 (#0),\n+        span: $DIR/inner-attrs.rs:28:30: 28:40 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): mod inline_mod {}\n PRINT-ATTR INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"mod\",\n-        span: $DIR/inner-attrs.rs:25:1: 25:4 (#0),\n+        span: $DIR/inner-attrs.rs:26:1: 26:4 (#0),\n     },\n     Ident {\n         ident: \"inline_mod\",\n-        span: $DIR/inner-attrs.rs:25:5: 25:15 (#0),\n+        span: $DIR/inner-attrs.rs:26:5: 26:15 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [],\n-        span: $DIR/inner-attrs.rs:25:16: 28:2 (#0),\n+        span: $DIR/inner-attrs.rs:26:16: 29:2 (#0),\n     },\n ]\n PRINT-DERIVE INPUT (DISPLAY): struct MyDerivePrint\n@@ -576,133 +576,133 @@ PRINT-DERIVE INPUT (DISPLAY): struct MyDerivePrint\n PRINT-DERIVE INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"struct\",\n-        span: $DIR/inner-attrs.rs:35:1: 35:7 (#0),\n+        span: $DIR/inner-attrs.rs:36:1: 36:7 (#0),\n     },\n     Ident {\n         ident: \"MyDerivePrint\",\n-        span: $DIR/inner-attrs.rs:35:8: 35:21 (#0),\n+        span: $DIR/inner-attrs.rs:36:8: 36:21 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [\n             Ident {\n                 ident: \"field\",\n-                span: $DIR/inner-attrs.rs:36:5: 36:10 (#0),\n+                span: $DIR/inner-attrs.rs:37:5: 37:10 (#0),\n             },\n             Punct {\n                 ch: ':',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:36:10: 36:11 (#0),\n+                span: $DIR/inner-attrs.rs:37:10: 37:11 (#0),\n             },\n             Group {\n                 delimiter: Bracket,\n                 stream: TokenStream [\n                     Ident {\n                         ident: \"u8\",\n-                        span: $DIR/inner-attrs.rs:36:13: 36:15 (#0),\n+                        span: $DIR/inner-attrs.rs:37:13: 37:15 (#0),\n                     },\n                     Punct {\n                         ch: ';',\n                         spacing: Alone,\n-                        span: $DIR/inner-attrs.rs:36:15: 36:16 (#0),\n+                        span: $DIR/inner-attrs.rs:37:15: 37:16 (#0),\n                     },\n                     Group {\n                         delimiter: Brace,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"match\",\n-                                span: $DIR/inner-attrs.rs:37:9: 37:14 (#0),\n+                                span: $DIR/inner-attrs.rs:38:9: 38:14 (#0),\n                             },\n                             Ident {\n                                 ident: \"true\",\n-                                span: $DIR/inner-attrs.rs:37:15: 37:19 (#0),\n+                                span: $DIR/inner-attrs.rs:38:15: 38:19 (#0),\n                             },\n                             Group {\n                                 delimiter: Brace,\n                                 stream: TokenStream [\n                                     Ident {\n                                         ident: \"_\",\n-                                        span: $DIR/inner-attrs.rs:38:13: 38:14 (#0),\n+                                        span: $DIR/inner-attrs.rs:39:13: 39:14 (#0),\n                                     },\n                                     Punct {\n                                         ch: '=',\n                                         spacing: Joint,\n-                                        span: $DIR/inner-attrs.rs:38:15: 38:17 (#0),\n+                                        span: $DIR/inner-attrs.rs:39:15: 39:17 (#0),\n                                     },\n                                     Punct {\n                                         ch: '>',\n                                         spacing: Alone,\n-                                        span: $DIR/inner-attrs.rs:38:15: 38:17 (#0),\n+                                        span: $DIR/inner-attrs.rs:39:15: 39:17 (#0),\n                                     },\n                                     Group {\n                                         delimiter: Brace,\n                                         stream: TokenStream [\n                                             Punct {\n                                                 ch: '#',\n                                                 spacing: Alone,\n-                                                span: $DIR/inner-attrs.rs:39:17: 39:18 (#0),\n+                                                span: $DIR/inner-attrs.rs:40:17: 40:18 (#0),\n                                             },\n                                             Punct {\n                                                 ch: '!',\n                                                 spacing: Alone,\n-                                                span: $DIR/inner-attrs.rs:39:18: 39:19 (#0),\n+                                                span: $DIR/inner-attrs.rs:40:18: 40:19 (#0),\n                                             },\n                                             Group {\n                                                 delimiter: Bracket,\n                                                 stream: TokenStream [\n                                                     Ident {\n                                                         ident: \"rustc_dummy\",\n-                                                        span: $DIR/inner-attrs.rs:39:41: 39:52 (#0),\n+                                                        span: $DIR/inner-attrs.rs:40:41: 40:52 (#0),\n                                                     },\n                                                     Group {\n                                                         delimiter: Parenthesis,\n                                                         stream: TokenStream [\n                                                             Ident {\n                                                                 ident: \"third\",\n-                                                                span: $DIR/inner-attrs.rs:39:53: 39:58 (#0),\n+                                                                span: $DIR/inner-attrs.rs:40:53: 40:58 (#0),\n                                                             },\n                                                         ],\n-                                                        span: $DIR/inner-attrs.rs:39:52: 39:59 (#0),\n+                                                        span: $DIR/inner-attrs.rs:40:52: 40:59 (#0),\n                                                     },\n                                                 ],\n-                                                span: $DIR/inner-attrs.rs:39:17: 39:18 (#0),\n+                                                span: $DIR/inner-attrs.rs:40:17: 40:18 (#0),\n                                             },\n                                             Ident {\n                                                 ident: \"true\",\n-                                                span: $DIR/inner-attrs.rs:40:17: 40:21 (#0),\n+                                                span: $DIR/inner-attrs.rs:41:17: 41:21 (#0),\n                                             },\n                                         ],\n-                                        span: $DIR/inner-attrs.rs:38:18: 41:14 (#0),\n+                                        span: $DIR/inner-attrs.rs:39:18: 42:14 (#0),\n                                     },\n                                 ],\n-                                span: $DIR/inner-attrs.rs:37:20: 42:10 (#0),\n+                                span: $DIR/inner-attrs.rs:38:20: 43:10 (#0),\n                             },\n                             Punct {\n                                 ch: ';',\n                                 spacing: Alone,\n-                                span: $DIR/inner-attrs.rs:42:10: 42:11 (#0),\n+                                span: $DIR/inner-attrs.rs:43:10: 43:11 (#0),\n                             },\n                             Literal {\n                                 kind: Integer,\n                                 symbol: \"0\",\n                                 suffix: None,\n-                                span: $DIR/inner-attrs.rs:43:9: 43:10 (#0),\n+                                span: $DIR/inner-attrs.rs:44:9: 44:10 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:36:17: 44:6 (#0),\n+                        span: $DIR/inner-attrs.rs:37:17: 45:6 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:36:12: 44:7 (#0),\n+                span: $DIR/inner-attrs.rs:37:12: 45:7 (#0),\n             },\n         ],\n-        span: $DIR/inner-attrs.rs:35:22: 45:2 (#0),\n+        span: $DIR/inner-attrs.rs:36:22: 46:2 (#0),\n     },\n ]\n PRINT-ATTR_ARGS INPUT (DISPLAY): tuple_attrs\n PRINT-ATTR_ARGS INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"tuple_attrs\",\n-        span: $DIR/inner-attrs.rs:48:29: 48:40 (#0),\n+        span: $DIR/inner-attrs.rs:49:29: 49:40 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): (3, 4, { #! [cfg_attr(not(FALSE), rustc_dummy(innermost))] 5 }) ;\n@@ -714,109 +714,109 @@ PRINT-ATTR INPUT (DEBUG): TokenStream [\n                 kind: Integer,\n                 symbol: \"3\",\n                 suffix: None,\n-                span: $DIR/inner-attrs.rs:49:9: 49:10 (#0),\n+                span: $DIR/inner-attrs.rs:50:9: 50:10 (#0),\n             },\n             Punct {\n                 ch: ',',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:49:10: 49:11 (#0),\n+                span: $DIR/inner-attrs.rs:50:10: 50:11 (#0),\n             },\n             Literal {\n                 kind: Integer,\n                 symbol: \"4\",\n                 suffix: None,\n-                span: $DIR/inner-attrs.rs:49:12: 49:13 (#0),\n+                span: $DIR/inner-attrs.rs:50:12: 50:13 (#0),\n             },\n             Punct {\n                 ch: ',',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:49:13: 49:14 (#0),\n+                span: $DIR/inner-attrs.rs:50:13: 50:14 (#0),\n             },\n             Group {\n                 delimiter: Brace,\n                 stream: TokenStream [\n                     Punct {\n                         ch: '#',\n                         spacing: Joint,\n-                        span: $DIR/inner-attrs.rs:50:13: 50:14 (#0),\n+                        span: $DIR/inner-attrs.rs:51:13: 51:14 (#0),\n                     },\n                     Punct {\n                         ch: '!',\n                         spacing: Alone,\n-                        span: $DIR/inner-attrs.rs:50:14: 50:15 (#0),\n+                        span: $DIR/inner-attrs.rs:51:14: 51:15 (#0),\n                     },\n                     Group {\n                         delimiter: Bracket,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"cfg_attr\",\n-                                span: $DIR/inner-attrs.rs:50:16: 50:24 (#0),\n+                                span: $DIR/inner-attrs.rs:51:16: 51:24 (#0),\n                             },\n                             Group {\n                                 delimiter: Parenthesis,\n                                 stream: TokenStream [\n                                     Ident {\n                                         ident: \"not\",\n-                                        span: $DIR/inner-attrs.rs:50:25: 50:28 (#0),\n+                                        span: $DIR/inner-attrs.rs:51:25: 51:28 (#0),\n                                     },\n                                     Group {\n                                         delimiter: Parenthesis,\n                                         stream: TokenStream [\n                                             Ident {\n                                                 ident: \"FALSE\",\n-                                                span: $DIR/inner-attrs.rs:50:29: 50:34 (#0),\n+                                                span: $DIR/inner-attrs.rs:51:29: 51:34 (#0),\n                                             },\n                                         ],\n-                                        span: $DIR/inner-attrs.rs:50:28: 50:35 (#0),\n+                                        span: $DIR/inner-attrs.rs:51:28: 51:35 (#0),\n                                     },\n                                     Punct {\n                                         ch: ',',\n                                         spacing: Alone,\n-                                        span: $DIR/inner-attrs.rs:50:35: 50:36 (#0),\n+                                        span: $DIR/inner-attrs.rs:51:35: 51:36 (#0),\n                                     },\n                                     Ident {\n                                         ident: \"rustc_dummy\",\n-                                        span: $DIR/inner-attrs.rs:50:37: 50:48 (#0),\n+                                        span: $DIR/inner-attrs.rs:51:37: 51:48 (#0),\n                                     },\n                                     Group {\n                                         delimiter: Parenthesis,\n                                         stream: TokenStream [\n                                             Ident {\n                                                 ident: \"innermost\",\n-                                                span: $DIR/inner-attrs.rs:50:49: 50:58 (#0),\n+                                                span: $DIR/inner-attrs.rs:51:49: 51:58 (#0),\n                                             },\n                                         ],\n-                                        span: $DIR/inner-attrs.rs:50:48: 50:59 (#0),\n+                                        span: $DIR/inner-attrs.rs:51:48: 51:59 (#0),\n                                     },\n                                 ],\n-                                span: $DIR/inner-attrs.rs:50:24: 50:60 (#0),\n+                                span: $DIR/inner-attrs.rs:51:24: 51:60 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:50:15: 50:61 (#0),\n+                        span: $DIR/inner-attrs.rs:51:15: 51:61 (#0),\n                     },\n                     Literal {\n                         kind: Integer,\n                         symbol: \"5\",\n                         suffix: None,\n-                        span: $DIR/inner-attrs.rs:51:13: 51:14 (#0),\n+                        span: $DIR/inner-attrs.rs:52:13: 52:14 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:49:15: 52:10 (#0),\n+                span: $DIR/inner-attrs.rs:50:15: 53:10 (#0),\n             },\n         ],\n-        span: $DIR/inner-attrs.rs:48:43: 53:6 (#0),\n+        span: $DIR/inner-attrs.rs:49:43: 54:6 (#0),\n     },\n     Punct {\n         ch: ';',\n         spacing: Alone,\n-        span: $DIR/inner-attrs.rs:53:6: 53:7 (#0),\n+        span: $DIR/inner-attrs.rs:54:6: 54:7 (#0),\n     },\n ]\n PRINT-ATTR_ARGS INPUT (DISPLAY): tuple_attrs\n PRINT-ATTR_ARGS INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"tuple_attrs\",\n-        span: $DIR/inner-attrs.rs:55:29: 55:40 (#0),\n+        span: $DIR/inner-attrs.rs:56:29: 56:40 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): (3, 4, { #! [cfg_attr(not(FALSE), rustc_dummy(innermost))] 5 }) ;\n@@ -828,129 +828,129 @@ PRINT-ATTR INPUT (DEBUG): TokenStream [\n                 kind: Integer,\n                 symbol: \"3\",\n                 suffix: None,\n-                span: $DIR/inner-attrs.rs:56:9: 56:10 (#0),\n+                span: $DIR/inner-attrs.rs:57:9: 57:10 (#0),\n             },\n             Punct {\n                 ch: ',',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:56:10: 56:11 (#0),\n+                span: $DIR/inner-attrs.rs:57:10: 57:11 (#0),\n             },\n             Literal {\n                 kind: Integer,\n                 symbol: \"4\",\n                 suffix: None,\n-                span: $DIR/inner-attrs.rs:56:12: 56:13 (#0),\n+                span: $DIR/inner-attrs.rs:57:12: 57:13 (#0),\n             },\n             Punct {\n                 ch: ',',\n                 spacing: Alone,\n-                span: $DIR/inner-attrs.rs:56:13: 56:14 (#0),\n+                span: $DIR/inner-attrs.rs:57:13: 57:14 (#0),\n             },\n             Group {\n                 delimiter: Brace,\n                 stream: TokenStream [\n                     Punct {\n                         ch: '#',\n                         spacing: Joint,\n-                        span: $DIR/inner-attrs.rs:57:13: 57:14 (#0),\n+                        span: $DIR/inner-attrs.rs:58:13: 58:14 (#0),\n                     },\n                     Punct {\n                         ch: '!',\n                         spacing: Alone,\n-                        span: $DIR/inner-attrs.rs:57:14: 57:15 (#0),\n+                        span: $DIR/inner-attrs.rs:58:14: 58:15 (#0),\n                     },\n                     Group {\n                         delimiter: Bracket,\n                         stream: TokenStream [\n                             Ident {\n                                 ident: \"cfg_attr\",\n-                                span: $DIR/inner-attrs.rs:57:16: 57:24 (#0),\n+                                span: $DIR/inner-attrs.rs:58:16: 58:24 (#0),\n                             },\n                             Group {\n                                 delimiter: Parenthesis,\n                                 stream: TokenStream [\n                                     Ident {\n                                         ident: \"not\",\n-                                        span: $DIR/inner-attrs.rs:57:25: 57:28 (#0),\n+                                        span: $DIR/inner-attrs.rs:58:25: 58:28 (#0),\n                                     },\n                                     Group {\n                                         delimiter: Parenthesis,\n                                         stream: TokenStream [\n                                             Ident {\n                                                 ident: \"FALSE\",\n-                                                span: $DIR/inner-attrs.rs:57:29: 57:34 (#0),\n+                                                span: $DIR/inner-attrs.rs:58:29: 58:34 (#0),\n                                             },\n                                         ],\n-                                        span: $DIR/inner-attrs.rs:57:28: 57:35 (#0),\n+                                        span: $DIR/inner-attrs.rs:58:28: 58:35 (#0),\n                                     },\n                                     Punct {\n                                         ch: ',',\n                                         spacing: Alone,\n-                                        span: $DIR/inner-attrs.rs:57:35: 57:36 (#0),\n+                                        span: $DIR/inner-attrs.rs:58:35: 58:36 (#0),\n                                     },\n                                     Ident {\n                                         ident: \"rustc_dummy\",\n-                                        span: $DIR/inner-attrs.rs:57:37: 57:48 (#0),\n+                                        span: $DIR/inner-attrs.rs:58:37: 58:48 (#0),\n                                     },\n                                     Group {\n                                         delimiter: Parenthesis,\n                                         stream: TokenStream [\n                                             Ident {\n                                                 ident: \"innermost\",\n-                                                span: $DIR/inner-attrs.rs:57:49: 57:58 (#0),\n+                                                span: $DIR/inner-attrs.rs:58:49: 58:58 (#0),\n                                             },\n                                         ],\n-                                        span: $DIR/inner-attrs.rs:57:48: 57:59 (#0),\n+                                        span: $DIR/inner-attrs.rs:58:48: 58:59 (#0),\n                                     },\n                                 ],\n-                                span: $DIR/inner-attrs.rs:57:24: 57:60 (#0),\n+                                span: $DIR/inner-attrs.rs:58:24: 58:60 (#0),\n                             },\n                         ],\n-                        span: $DIR/inner-attrs.rs:57:15: 57:61 (#0),\n+                        span: $DIR/inner-attrs.rs:58:15: 58:61 (#0),\n                     },\n                     Literal {\n                         kind: Integer,\n                         symbol: \"5\",\n                         suffix: None,\n-                        span: $DIR/inner-attrs.rs:58:13: 58:14 (#0),\n+                        span: $DIR/inner-attrs.rs:59:13: 59:14 (#0),\n                     },\n                 ],\n-                span: $DIR/inner-attrs.rs:56:15: 59:10 (#0),\n+                span: $DIR/inner-attrs.rs:57:15: 60:10 (#0),\n             },\n         ],\n-        span: $DIR/inner-attrs.rs:55:43: 60:6 (#0),\n+        span: $DIR/inner-attrs.rs:56:43: 61:6 (#0),\n     },\n     Punct {\n         ch: ';',\n         spacing: Alone,\n-        span: $DIR/inner-attrs.rs:60:6: 60:7 (#0),\n+        span: $DIR/inner-attrs.rs:61:6: 61:7 (#0),\n     },\n ]\n PRINT-ATTR_ARGS INPUT (DISPLAY): tenth\n PRINT-ATTR_ARGS INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"tenth\",\n-        span: $DIR/inner-attrs.rs:82:42: 82:47 (#0),\n+        span: $DIR/inner-attrs.rs:83:42: 83:47 (#0),\n     },\n ]\n PRINT-ATTR INPUT (DISPLAY): fn weird_extern() {}\n PRINT-ATTR INPUT (DEBUG): TokenStream [\n     Ident {\n         ident: \"fn\",\n-        span: $DIR/inner-attrs.rs:81:5: 81:7 (#0),\n+        span: $DIR/inner-attrs.rs:82:5: 82:7 (#0),\n     },\n     Ident {\n         ident: \"weird_extern\",\n-        span: $DIR/inner-attrs.rs:81:8: 81:20 (#0),\n+        span: $DIR/inner-attrs.rs:82:8: 82:20 (#0),\n     },\n     Group {\n         delimiter: Parenthesis,\n         stream: TokenStream [],\n-        span: $DIR/inner-attrs.rs:81:20: 81:22 (#0),\n+        span: $DIR/inner-attrs.rs:82:20: 82:22 (#0),\n     },\n     Group {\n         delimiter: Brace,\n         stream: TokenStream [],\n-        span: $DIR/inner-attrs.rs:81:23: 83:6 (#0),\n+        span: $DIR/inner-attrs.rs:82:23: 84:6 (#0),\n     },\n ]"}, {"sha": "072a63baf3a47ff519856e31f18c814b64ccebe4", "filename": "src/test/ui/proc-macro/issue-41211.rs", "status": "removed", "additions": 0, "deletions": 16, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fproc-macro%2Fissue-41211.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fproc-macro%2Fissue-41211.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fissue-41211.rs?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,16 +0,0 @@\n-// aux-build:test-macros.rs\n-\n-// FIXME: https://github.com/rust-lang/rust/issues/41430\n-// This is a temporary regression test for the ICE reported in #41211\n-\n-#![feature(custom_inner_attributes)]\n-#![feature(register_attr)]\n-\n-#![register_attr(identity_attr)]\n-\n-#![identity_attr]\n-//~^ ERROR `identity_attr` is ambiguous\n-extern crate test_macros;\n-use test_macros::identity_attr;\n-\n-fn main() {}"}, {"sha": "60cd36a9cceb92d3c4d3ff5617238a8e4eb197a9", "filename": "src/test/ui/proc-macro/issue-41211.stderr", "status": "removed", "additions": 0, "deletions": 22, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fproc-macro%2Fissue-41211.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fproc-macro%2Fissue-41211.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fissue-41211.stderr?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,22 +0,0 @@\n-error[E0659]: `identity_attr` is ambiguous\n-  --> $DIR/issue-41211.rs:11:4\n-   |\n-LL | #![identity_attr]\n-   |    ^^^^^^^^^^^^^ ambiguous name\n-   |\n-   = note: ambiguous because of a conflict between a macro-expanded name and a less macro-expanded name from outer scope during import or macro resolution\n-note: `identity_attr` could refer to the attribute macro imported here\n-  --> $DIR/issue-41211.rs:14:5\n-   |\n-LL | use test_macros::identity_attr;\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^\n-   = help: use `crate::identity_attr` to refer to this attribute macro unambiguously\n-note: `identity_attr` could also refer to the explicitly registered attribute defined here\n-  --> $DIR/issue-41211.rs:9:18\n-   |\n-LL | #![register_attr(identity_attr)]\n-   |                  ^^^^^^^^^^^^^\n-\n-error: aborting due to previous error\n-\n-For more information about this error, try `rustc --explain E0659`."}, {"sha": "70e04bf7ee6e81216918bf504e5925ef0596fb1d", "filename": "src/test/ui/span/issue-36530.rs", "status": "removed", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fspan%2Fissue-36530.rs", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fspan%2Fissue-36530.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-36530.rs?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,12 +0,0 @@\n-// gate-test-custom_inner_attributes\n-\n-#![feature(register_attr)]\n-\n-#![register_attr(foo)]\n-\n-#[foo]\n-mod foo {\n-    #![foo] //~ ERROR custom inner attributes are unstable\n-}\n-\n-fn main() {}"}, {"sha": "a998d7217a13f563322a74698f5f29addd1c408c", "filename": "src/test/ui/span/issue-36530.stderr", "status": "removed", "additions": 0, "deletions": 12, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fspan%2Fissue-36530.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/76dd5c58a011bb734ad5b8e96fc560374893bc8f/src%2Ftest%2Fui%2Fspan%2Fissue-36530.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-36530.stderr?ref=76dd5c58a011bb734ad5b8e96fc560374893bc8f", "patch": "@@ -1,12 +0,0 @@\n-error[E0658]: custom inner attributes are unstable\n-  --> $DIR/issue-36530.rs:9:8\n-   |\n-LL |     #![foo]\n-   |        ^^^\n-   |\n-   = note: see issue #54726 <https://github.com/rust-lang/rust/issues/54726> for more information\n-   = help: add `#![feature(custom_inner_attributes)]` to the crate attributes to enable\n-\n-error: aborting due to previous error\n-\n-For more information about this error, try `rustc --explain E0658`."}]}