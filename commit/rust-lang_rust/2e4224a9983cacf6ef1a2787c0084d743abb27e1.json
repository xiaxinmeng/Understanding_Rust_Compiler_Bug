{"sha": "2e4224a9983cacf6ef1a2787c0084d743abb27e1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJlNDIyNGE5OTgzY2FjZjZlZjFhMjc4N2MwMDg0ZDc0M2FiYjI3ZTE=", "commit": {"author": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-07-26T13:36:41Z"}, "committer": {"name": "David Wood", "email": "david@davidtw.co", "date": "2018-07-27T11:14:56Z"}, "message": "Region inference error messages no longer start with 'free region'", "tree": {"sha": "1c108da719b79edbec90b41e1f54895aa020132d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1c108da719b79edbec90b41e1f54895aa020132d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2e4224a9983cacf6ef1a2787c0084d743abb27e1", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEWwgxPGhT5b/6kagXAXYLT59T8VQFAlta/rAACgkQAXYLT59T\n8VSAcQ/+IyzMv80FGwWPx+TQMtrYLiP/aCwqfvF84XTf6zgjCT1w+YQAVBaaQNta\ns1E4gmK3EVb0uWKftN8xAgZX646Y2+d4iMT2ll9mLtBUwduzc5OI1UVZSE06rjzm\njygX0IWyXMRwBq//KzRsK0tqWKHxLc8yOYiNDfgmgFyG1fbKHbEmyjXwWteh5B8d\nuM0DYxj3Sv3B3wvCJbuMrqvnCNc2MtUwL0mF97UcS0nPLEW7qmgnIrbBpu2zPh7a\n5uqgCd6tqdUAdWGeoSVVZSQ/HPwV9m9mDoDEJ1iHebvqagqkV+n5RWbkwDY6Q3hV\nWR1na/ihhW4k72ple1tFnObmHSA5zZle/uWs4iueEaHwjqdDoYPcbLAa6qLADD6s\nKUr6JzdpfxiESwcPVSlSc/87lmp7P0cY0ynTiRwAxImRnEFJvDLDmSJq6TStPNn1\nZs6iwn10jEP4+XfLRS0YG5KxxU68meLIJbtO0H8G8xHswpGE7JxRh1ITaisFE7Kk\nFZC7Esbzu+BqTISqHRbD3d0o0XnA73ucnFCkbhlXzUAzXHe5w4+AoIoLIXc7xJMT\nOZtJ2woVDWWud+PaUqEOvAqay+iK4wLp4TL0jw6Oc+oGAaCiMPvyDI1kg58zeb1S\n4erMrEeHSzfPVKPTzjydAXPU0v/One50L3NPjJptZtNG2/487mg=\n=TT/p\n-----END PGP SIGNATURE-----", "payload": "tree 1c108da719b79edbec90b41e1f54895aa020132d\nparent f44807ae1ec15c983586077b53445bb45f083327\nauthor David Wood <david@davidtw.co> 1532612201 +0200\ncommitter David Wood <david@davidtw.co> 1532690096 +0200\n\nRegion inference error messages no longer start with 'free region'\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2e4224a9983cacf6ef1a2787c0084d743abb27e1", "html_url": "https://github.com/rust-lang/rust/commit/2e4224a9983cacf6ef1a2787c0084d743abb27e1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2e4224a9983cacf6ef1a2787c0084d743abb27e1/comments", "author": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "committer": {"login": "davidtwco", "id": 1295100, "node_id": "MDQ6VXNlcjEyOTUxMDA=", "avatar_url": "https://avatars.githubusercontent.com/u/1295100?v=4", "gravatar_id": "", "url": "https://api.github.com/users/davidtwco", "html_url": "https://github.com/davidtwco", "followers_url": "https://api.github.com/users/davidtwco/followers", "following_url": "https://api.github.com/users/davidtwco/following{/other_user}", "gists_url": "https://api.github.com/users/davidtwco/gists{/gist_id}", "starred_url": "https://api.github.com/users/davidtwco/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/davidtwco/subscriptions", "organizations_url": "https://api.github.com/users/davidtwco/orgs", "repos_url": "https://api.github.com/users/davidtwco/repos", "events_url": "https://api.github.com/users/davidtwco/events{/privacy}", "received_events_url": "https://api.github.com/users/davidtwco/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f44807ae1ec15c983586077b53445bb45f083327", "url": "https://api.github.com/repos/rust-lang/rust/commits/f44807ae1ec15c983586077b53445bb45f083327", "html_url": "https://github.com/rust-lang/rust/commit/f44807ae1ec15c983586077b53445bb45f083327"}], "stats": {"total": 29, "additions": 15, "deletions": 14}, "files": [{"sha": "c2c5c6771b01fd76d0524ac9adb314869dc9e8ea", "filename": "src/librustc_mir/borrow_check/nll/region_infer/error_reporting/mod.rs", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fregion_infer%2Ferror_reporting%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fregion_infer%2Ferror_reporting%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fborrow_check%2Fnll%2Fregion_infer%2Ferror_reporting%2Fmod.rs?ref=2e4224a9983cacf6ef1a2787c0084d743abb27e1", "patch": "@@ -39,12 +39,13 @@ enum ConstraintCategory {\n \n impl fmt::Display for ConstraintCategory {\n     fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {\n+        // Must end with a space. Allows for empty names to be provided.\n         match self {\n-            ConstraintCategory::Assignment => write!(f, \"assignment\"),\n-            ConstraintCategory::Return => write!(f, \"return\"),\n-            ConstraintCategory::Cast => write!(f, \"cast\"),\n-            ConstraintCategory::CallArgument => write!(f, \"argument\"),\n-            _ => write!(f, \"free region\"),\n+            ConstraintCategory::Assignment => write!(f, \"assignment \"),\n+            ConstraintCategory::Return => write!(f, \"return \"),\n+            ConstraintCategory::Cast => write!(f, \"cast \"),\n+            ConstraintCategory::CallArgument => write!(f, \"argument \"),\n+            _ => write!(f, \"\"),\n         }\n     }\n }\n@@ -421,7 +422,7 @@ impl<'tcx> RegionInferenceContext<'tcx> {\n             },\n             _ => {\n                 diag.span_label(span, format!(\n-                    \"{} requires that `{}` must outlive `{}`\",\n+                    \"{}requires that `{}` must outlive `{}`\",\n                     category, fr_name, outlived_fr_name,\n                 ));\n             },"}, {"sha": "0ac295c54bccbb34ae8206916228d87fbd2e51f0", "filename": "src/test/ui/error-codes/E0621-does-not-trigger-for-closures.nll.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Ferror-codes%2FE0621-does-not-trigger-for-closures.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Ferror-codes%2FE0621-does-not-trigger-for-closures.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0621-does-not-trigger-for-closures.nll.stderr?ref=2e4224a9983cacf6ef1a2787c0084d743abb27e1", "patch": "@@ -10,7 +10,7 @@ error: unsatisfied lifetime constraints\n LL |     invoke(&x, |a, b| if a > b { a } else { b }); //~ ERROR E0495\n    |                ----------^^^^^-----------------\n    |                |   |     |\n-   |                |   |     free region requires that `'1` must outlive `'2`\n+   |                |   |     requires that `'1` must outlive `'2`\n    |                |   has type `&'1 i32`\n    |                lifetime `'2` appears in return type\n "}, {"sha": "bbc63e6fecaf5c7b790f1c9bf64e2a0720d98e61", "filename": "src/test/ui/impl-trait/static-return-lifetime-infered.nll.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fimpl-trait%2Fstatic-return-lifetime-infered.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fimpl-trait%2Fstatic-return-lifetime-infered.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimpl-trait%2Fstatic-return-lifetime-infered.nll.stderr?ref=2e4224a9983cacf6ef1a2787c0084d743abb27e1", "patch": "@@ -16,13 +16,13 @@ error: unsatisfied lifetime constraints\n LL |     fn iter_values_anon(&self) -> impl Iterator<Item=u32> {\n    |                         - let's call the lifetime of this reference `'1`\n LL |         self.x.iter().map(|a| a.0)\n-   |         ^^^^^^^^^^^^^ free region requires that `'1` must outlive `'static`\n+   |         ^^^^^^^^^^^^^ requires that `'1` must outlive `'static`\n \n error: unsatisfied lifetime constraints\n   --> $DIR/static-return-lifetime-infered.rs:21:9\n    |\n LL |         self.x.iter().map(|a| a.0)\n-   |         ^^^^^^^^^^^^^ free region requires that `'a` must outlive `'static`\n+   |         ^^^^^^^^^^^^^ requires that `'a` must outlive `'static`\n \n error: aborting due to 2 previous errors\n "}, {"sha": "6de00ffd48cc1ddd230c715d4c922ed6cae74491", "filename": "src/test/ui/issue-10291.nll.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fissue-10291.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fissue-10291.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-10291.nll.stderr?ref=2e4224a9983cacf6ef1a2787c0084d743abb27e1", "patch": "@@ -8,7 +8,7 @@ error: unsatisfied lifetime constraints\n   --> $DIR/issue-10291.rs:12:5\n    |\n LL |     drop::<Box<for<'z> FnMut(&'z isize) -> &'z isize>>(Box::new(|z| {\n-   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ free region requires that `'x` must outlive `'static`\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ requires that `'x` must outlive `'static`\n \n error: aborting due to previous error\n "}, {"sha": "eb44850e639abbf3d683bd1fde79402f3a51b942", "filename": "src/test/ui/issue-40510-3.nll.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fissue-40510-3.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fissue-40510-3.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-40510-3.nll.stderr?ref=2e4224a9983cacf6ef1a2787c0084d743abb27e1", "patch": "@@ -9,7 +9,7 @@ LL |  ||         || {\n    |  ||_________^\n LL | |||             x.push(())\n LL | |||         }\n-   | |||_________^ free region requires that `'1` must outlive `'2`\n+   | |||_________^ requires that `'1` must outlive `'2`\n LL |  ||     };\n    |  ||     -\n    |  ||_____|"}, {"sha": "7dd513d1b712c2e31fd8a016664b021fb3ff114c", "filename": "src/test/ui/issue-52213.nll.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fissue-52213.nll.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fissue-52213.nll.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissue-52213.nll.stderr?ref=2e4224a9983cacf6ef1a2787c0084d743abb27e1", "patch": "@@ -8,7 +8,7 @@ error: unsatisfied lifetime constraints\n   --> $DIR/issue-52213.rs:13:11\n    |\n LL |         ((u,),) => u,\n-   |           ^ free region requires that `'a` must outlive `'b`\n+   |           ^ requires that `'a` must outlive `'b`\n \n error: aborting due to previous error\n "}, {"sha": "ccf116e640d429ec4fed4e09a447664a93a65af5", "filename": "src/test/ui/nll/closure-requirements/escape-argument-callee.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fescape-argument-callee.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fescape-argument-callee.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fescape-argument-callee.stderr?ref=2e4224a9983cacf6ef1a2787c0084d743abb27e1", "patch": "@@ -8,7 +8,7 @@ error: unsatisfied lifetime constraints\n   --> $DIR/escape-argument-callee.rs:36:45\n    |\n LL |         let mut closure = expect_sig(|p, y| *p = y);\n-   |                                       -  -  ^^^^^^ free region requires that `'1` must outlive `'2`\n+   |                                       -  -  ^^^^^^ requires that `'1` must outlive `'2`\n    |                                       |  |\n    |                                       |  has type `&'1 i32`\n    |                                       has type `&mut &'2 i32`"}, {"sha": "b0562711627387d59157493727b9bfe0681f784d", "filename": "src/test/ui/nll/closure-requirements/region-lbr-named-does-not-outlive-static.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fregion-lbr-named-does-not-outlive-static.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2e4224a9983cacf6ef1a2787c0084d743abb27e1/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fregion-lbr-named-does-not-outlive-static.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnll%2Fclosure-requirements%2Fregion-lbr-named-does-not-outlive-static.stderr?ref=2e4224a9983cacf6ef1a2787c0084d743abb27e1", "patch": "@@ -8,7 +8,7 @@ error: unsatisfied lifetime constraints\n   --> $DIR/region-lbr-named-does-not-outlive-static.rs:19:5\n    |\n LL |     &*x\n-   |     ^^^ free region requires that `'a` must outlive `'static`\n+   |     ^^^ requires that `'a` must outlive `'static`\n \n error: aborting due to previous error\n "}]}