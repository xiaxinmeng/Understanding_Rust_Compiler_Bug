{"sha": "0421af9a4626638c71d59feebd7a35136d53bfb9", "node_id": "C_kwDOAAsO6NoAKDA0MjFhZjlhNDYyNjYzOGM3MWQ1OWZlZWJkN2EzNTEzNmQ1M2JmYjk", "commit": {"author": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-03-05T17:58:08Z"}, "committer": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-03-05T17:58:08Z"}, "message": "Use `as_os_str` to compare exact paths", "tree": {"sha": "1788828d3bc696c41671c665763fb43475a9a9ea", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1788828d3bc696c41671c665763fb43475a9a9ea"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0421af9a4626638c71d59feebd7a35136d53bfb9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE+p/jD6jrzmnSIWJLcTRy8vRWJ94FAmIjpLAACgkQcTRy8vRW\nJ97Ilw/9FnY70b8tob5w52P/TG3VgY1gYlnGtyTigJrDAsHQM/J/xTKHEUS5yahy\nYENLnEDWo2k3Jhf6q4T2nOuaqF4t8ehEyU+9FRD/3GMjrgSyFCiM/lER6aOAtizA\nJO5t9xyKdlFvT2Kg+Nxscg9w7GxQpzDZPFMHjUO9EDHPXdHTwQmGCj9sI4H926OC\ntbdt9xqAvZLLVBfMWES7cjtejp109kF1CRuNxI4BuFcrIauY6m/G30qVztER+rLE\nvouc2WlOl61L2+sqEu4LvMi2REAV8ZXK7skIAt7ReeciXiIc4YUHxajuY6Gjqex9\nuRCiQSqJo21GDWw8ee2Z95J+HedLBcbHDrQtUTZtb4AlnjMcawS+4rh/GJtw25kd\nWJn//S/uj4zfsG67C31lGeMZtiaxqx4ULY/0IFgvifDD+moU1Zuh1nRQCTEEinNI\nTO0bmJeellaKNg/0fcwJZtLuZuPthLWiuu5ZQhi0fn2yi8TK0oKE0LzV9rgbpUic\nvBNl3rBMmnPHwqVuWpvdGGI28mNn8PLXtMjvscDuDphpa0kzfedmGe+rvUGzSMgo\n9u0RMIISHMg00ifkdb0iGGXmRMTe6e5FrBBqCgxIv2lA5kveh22WCxcDPE1clT+O\n4goSGzF9FSJYGBdOxyWRuBiAHgT4LpF7G6+l/sD7i6mq12pOw6c=\n=rfxX\n-----END PGP SIGNATURE-----", "payload": "tree 1788828d3bc696c41671c665763fb43475a9a9ea\nparent e8b7371a237451cdc73547b27311fd8d5078521f\nauthor Chris Denton <christophersdenton@gmail.com> 1646503088 +0000\ncommitter Chris Denton <christophersdenton@gmail.com> 1646503088 +0000\n\nUse `as_os_str` to compare exact paths\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0421af9a4626638c71d59feebd7a35136d53bfb9", "html_url": "https://github.com/rust-lang/rust/commit/0421af9a4626638c71d59feebd7a35136d53bfb9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0421af9a4626638c71d59feebd7a35136d53bfb9/comments", "author": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e8b7371a237451cdc73547b27311fd8d5078521f", "url": "https://api.github.com/repos/rust-lang/rust/commits/e8b7371a237451cdc73547b27311fd8d5078521f", "html_url": "https://github.com/rust-lang/rust/commit/e8b7371a237451cdc73547b27311fd8d5078521f"}], "stats": {"total": 17, "additions": 10, "deletions": 7}, "files": [{"sha": "6e863787b7f39bf1515c4217037acd43febff119", "filename": "library/std/src/path/tests.rs", "status": "modified", "additions": 10, "deletions": 7, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/0421af9a4626638c71d59feebd7a35136d53bfb9/library%2Fstd%2Fsrc%2Fpath%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0421af9a4626638c71d59feebd7a35136d53bfb9/library%2Fstd%2Fsrc%2Fpath%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fpath%2Ftests.rs?ref=0421af9a4626638c71d59feebd7a35136d53bfb9", "patch": "@@ -1710,15 +1710,18 @@ fn test_unix_absolute() {\n     let relative = \"a/b\";\n     let mut expected = crate::env::current_dir().unwrap();\n     expected.push(relative);\n-    assert_eq!(absolute(relative).unwrap(), expected);\n+    assert_eq!(absolute(relative).unwrap().as_os_str(), expected.as_os_str());\n \n     // Test how components are collected.\n-    assert_eq!(absolute(\"/a/b/c\").unwrap(), Path::new(\"/a/b/c\"));\n-    assert_eq!(absolute(\"/a//b/c\").unwrap(), Path::new(\"/a/b/c\"));\n-    assert_eq!(absolute(\"//a/b/c\").unwrap(), Path::new(\"//a/b/c\"));\n-    assert_eq!(absolute(\"///a/b/c\").unwrap(), Path::new(\"/a/b/c\"));\n-    assert_eq!(absolute(\"/a/b/c/\").unwrap(), Path::new(\"/a/b/c/\"));\n-    assert_eq!(absolute(\"/a/./b/../c/.././..\").unwrap(), Path::new(\"/a/b/../c/../..\"));\n+    assert_eq!(absolute(\"/a/b/c\").unwrap().as_os_str(), Path::new(\"/a/b/c\").as_os_str());\n+    assert_eq!(absolute(\"/a//b/c\").unwrap().as_os_str(), Path::new(\"/a/b/c\").as_os_str());\n+    assert_eq!(absolute(\"//a/b/c\").unwrap().as_os_str(), Path::new(\"//a/b/c\").as_os_str());\n+    assert_eq!(absolute(\"///a/b/c\").unwrap().as_os_str(), Path::new(\"/a/b/c\").as_os_str());\n+    assert_eq!(absolute(\"/a/b/c/\").unwrap().as_os_str(), Path::new(\"/a/b/c/\").as_os_str());\n+    assert_eq!(\n+        absolute(\"/a/./b/../c/.././..\").unwrap().as_os_str(),\n+        Path::new(\"/a/b/../c/../..\").as_os_str()\n+    );\n \n     // Test leading `.` and `..` components\n     let curdir = crate::env::current_dir().unwrap();"}]}