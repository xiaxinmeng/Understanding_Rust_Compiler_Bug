{"sha": "746b8ca083395fbad72d2eb110157ae316e0d480", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc0NmI4Y2EwODMzOTVmYmFkNzJkMmViMTEwMTU3YWUzMTZlMGQ0ODA=", "commit": {"author": {"name": "Dylan DPC", "email": "dylan.dpc@gmail.com", "date": "2020-05-14T16:21:51Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-05-14T16:21:51Z"}, "message": "Rollup merge of #72127 - jademcgough:long-error-explanation-E0228, r=petrochenkov\n\nadd long error explanation for E0228\n\nAdd long explanation for the E0228 error code\nPart of #61137\n\nLet me know if this is wrong at all (or can be written more clearly), I'm still learning Rust.", "tree": {"sha": "073049fc4708641de3e934a37e2c998326770499", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/073049fc4708641de3e934a37e2c998326770499"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/746b8ca083395fbad72d2eb110157ae316e0d480", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJevXAgCRBK7hj4Ov3rIwAAdHIIABZwGDfqakvKN4NBZWM8P8We\nw6Fo6MC2LRYWrE0RoaCMHr2uBSjzw8yroKEUnDuXzX+7fUsxeQE3klvjaJqeLPR8\nH4mpiZP6NvqRqOT3tvpQRvGVMcNVkpsGn01nTFsLCTtMd92YlxKjTxgym7yBqe2j\nr5KFP01AzpLoxqplg1+c9sJf4XcjlBG7CgbetYiJh5K0BCY8W1oiSUp3AP4xOyVl\nYcfCORIy9YGQimy0R209YLPlAjJ0bnD+cBqYBcLX42VdD+EOPu4x0Kj2uFcGeSrt\nt+YqhWT4sZSw6D3/LCNIbvUrnAHsb97ntNmprXw6NlwVmy6luhb7N95s4MOnxlQ=\n=BqQq\n-----END PGP SIGNATURE-----\n", "payload": "tree 073049fc4708641de3e934a37e2c998326770499\nparent 96caa257c3c1cd597280b1c205ccca977268c5be\nparent 5320bd986b054d72522b29539278bfc5d576eabb\nauthor Dylan DPC <dylan.dpc@gmail.com> 1589473311 +0200\ncommitter GitHub <noreply@github.com> 1589473311 +0200\n\nRollup merge of #72127 - jademcgough:long-error-explanation-E0228, r=petrochenkov\n\nadd long error explanation for E0228\n\nAdd long explanation for the E0228 error code\nPart of #61137\n\nLet me know if this is wrong at all (or can be written more clearly), I'm still learning Rust.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/746b8ca083395fbad72d2eb110157ae316e0d480", "html_url": "https://github.com/rust-lang/rust/commit/746b8ca083395fbad72d2eb110157ae316e0d480", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/746b8ca083395fbad72d2eb110157ae316e0d480/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "96caa257c3c1cd597280b1c205ccca977268c5be", "url": "https://api.github.com/repos/rust-lang/rust/commits/96caa257c3c1cd597280b1c205ccca977268c5be", "html_url": "https://github.com/rust-lang/rust/commit/96caa257c3c1cd597280b1c205ccca977268c5be"}, {"sha": "5320bd986b054d72522b29539278bfc5d576eabb", "url": "https://api.github.com/repos/rust-lang/rust/commits/5320bd986b054d72522b29539278bfc5d576eabb", "html_url": "https://github.com/rust-lang/rust/commit/5320bd986b054d72522b29539278bfc5d576eabb"}], "stats": {"total": 51, "additions": 48, "deletions": 3}, "files": [{"sha": "2399e99a309902d370ba3b16249bac37b9493810", "filename": "src/librustc_error_codes/error_codes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Flibrustc_error_codes%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Flibrustc_error_codes%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_error_codes%2Ferror_codes.rs?ref=746b8ca083395fbad72d2eb110157ae316e0d480", "patch": "@@ -120,6 +120,7 @@ E0223: include_str!(\"./error_codes/E0223.md\"),\n E0224: include_str!(\"./error_codes/E0224.md\"),\n E0225: include_str!(\"./error_codes/E0225.md\"),\n E0226: include_str!(\"./error_codes/E0226.md\"),\n+E0228: include_str!(\"./error_codes/E0228.md\"),\n E0229: include_str!(\"./error_codes/E0229.md\"),\n E0230: include_str!(\"./error_codes/E0230.md\"),\n E0231: include_str!(\"./error_codes/E0231.md\"),\n@@ -482,7 +483,6 @@ E0753: include_str!(\"./error_codes/E0753.md\"),\n //  E0218, // no associated type defined\n //  E0219, // associated type defined in higher-ranked supertrait\n     E0227, // ambiguous lifetime bound, explicit lifetime bound required\n-    E0228, // explicit lifetime bound required\n //  E0233,\n //  E0234,\n //  E0235, // structure constructor specifies a structure of type but"}, {"sha": "3443a5ae8638ce8fa342bec01892a01eddfc385f", "filename": "src/librustc_error_codes/error_codes/E0228.md", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Flibrustc_error_codes%2Ferror_codes%2FE0228.md", "raw_url": "https://github.com/rust-lang/rust/raw/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Flibrustc_error_codes%2Ferror_codes%2FE0228.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_error_codes%2Ferror_codes%2FE0228.md?ref=746b8ca083395fbad72d2eb110157ae316e0d480", "patch": "@@ -0,0 +1,40 @@\n+The lifetime bound for this object type cannot be deduced from context and must\n+be specified.\n+\n+Erroneous code example:\n+\n+```compile_fail,E0228\n+trait Trait { }\n+\n+struct TwoBounds<'a, 'b, T: Sized + 'a + 'b> {\n+    x: &'a i32,\n+    y: &'b i32,\n+    z: T,\n+}\n+\n+type Foo<'a, 'b> = TwoBounds<'a, 'b, dyn Trait>;\n+```\n+\n+When a trait object is used as a type argument of a generic type, Rust will try\n+to infer its lifetime if unspecified. However, this isn't possible when the\n+containing type has more than one lifetime bound.\n+\n+The above example can be resolved by either reducing the number of lifetime\n+bounds to one or by making the trait object lifetime explicit, like so:\n+\n+```\n+trait Trait { }\n+\n+struct TwoBounds<'a, 'b, T: Sized + 'a + 'b> {\n+    x: &'a i32,\n+    y: &'b i32,\n+    z: T,\n+}\n+\n+type Foo<'a, 'b> = TwoBounds<'a, 'b, dyn Trait + 'b>;\n+```\n+\n+For more information, see [RFC 599] and its amendment [RFC 1156].\n+\n+[RFC 599]: https://github.com/rust-lang/rfcs/blob/master/text/0599-default-object-bound.md\n+[RFC 1156]: https://github.com/rust-lang/rfcs/blob/master/text/1156-adjust-default-object-bounds.md"}, {"sha": "bd50a27fd5e5822b5b6f608d5ab66f4d8b560990", "filename": "src/test/ui/object-lifetime/object-lifetime-default-ambiguous.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-ambiguous.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-ambiguous.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-ambiguous.stderr?ref=746b8ca083395fbad72d2eb110157ae316e0d480", "patch": "@@ -18,3 +18,4 @@ LL | fn f(t: &Ref2<dyn Test>) {\n \n error: aborting due to 3 previous errors\n \n+For more information about this error, try `rustc --explain E0228`."}, {"sha": "f06a9da1deea57b27bdfc2e88d48e494f241c957", "filename": "src/test/ui/object-lifetime/object-lifetime-default-dyn-binding-nonstatic1.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-dyn-binding-nonstatic1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-dyn-binding-nonstatic1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-dyn-binding-nonstatic1.stderr?ref=746b8ca083395fbad72d2eb110157ae316e0d480", "patch": "@@ -6,3 +6,4 @@ LL | fn bar<'a>(x: &'a str) -> &'a dyn Foo<'a, Item = dyn Bar> { &() }\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0228`."}, {"sha": "51d8450af768b15854a9112ff7afb87f9095aa9c", "filename": "src/test/ui/object-lifetime/object-lifetime-default-dyn-binding-nonstatic2.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-dyn-binding-nonstatic2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-dyn-binding-nonstatic2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-dyn-binding-nonstatic2.stderr?ref=746b8ca083395fbad72d2eb110157ae316e0d480", "patch": "@@ -6,3 +6,4 @@ LL | fn bar<'a>(x: &'a str) -> &'a dyn Foo<'a, Item = dyn Bar> { &() }\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0228`."}, {"sha": "f721bf39419b51c8bc754932e9f59b91287d6341", "filename": "src/test/ui/object-lifetime/object-lifetime-default-dyn-binding-nonstatic3.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-dyn-binding-nonstatic3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-dyn-binding-nonstatic3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fobject-lifetime%2Fobject-lifetime-default-dyn-binding-nonstatic3.stderr?ref=746b8ca083395fbad72d2eb110157ae316e0d480", "patch": "@@ -6,3 +6,4 @@ LL | fn bar(x: &str) -> &dyn Foo<Item = dyn Bar> { &() }\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0228`."}, {"sha": "2630cf1affae6be7531a36b9d6aa44f8048b9766", "filename": "src/test/ui/suggestions/missing-lifetime-specifier.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Fsuggestions%2Fmissing-lifetime-specifier.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Fsuggestions%2Fmissing-lifetime-specifier.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fmissing-lifetime-specifier.stderr?ref=746b8ca083395fbad72d2eb110157ae316e0d480", "patch": "@@ -252,5 +252,5 @@ LL |     static f: RefCell<HashMap<i32, Vec<Vec<&Tar<'static, i32>>>>> = RefCell\n \n error: aborting due to 28 previous errors\n \n-Some errors have detailed explanations: E0106, E0107.\n+Some errors have detailed explanations: E0106, E0107, E0228.\n For more information about an error, try `rustc --explain E0106`."}, {"sha": "2c595833cd1b04602d13116da5e07bf9b57a2e78", "filename": "src/test/ui/underscore-lifetime/dyn-trait-underscore-in-struct.stderr", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Funderscore-lifetime%2Fdyn-trait-underscore-in-struct.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/746b8ca083395fbad72d2eb110157ae316e0d480/src%2Ftest%2Fui%2Funderscore-lifetime%2Fdyn-trait-underscore-in-struct.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Funderscore-lifetime%2Fdyn-trait-underscore-in-struct.stderr?ref=746b8ca083395fbad72d2eb110157ae316e0d480", "patch": "@@ -18,4 +18,5 @@ LL |     x: Box<dyn Debug + '_>,\n \n error: aborting due to 2 previous errors\n \n-For more information about this error, try `rustc --explain E0106`.\n+Some errors have detailed explanations: E0106, E0228.\n+For more information about an error, try `rustc --explain E0106`."}]}