{"sha": "889f1f0a7c4295503f65d11510e232c1ea757235", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg4OWYxZjBhN2M0Mjk1NTAzZjY1ZDExNTEwZTIzMmMxZWE3NTcyMzU=", "commit": {"author": {"name": "Geobert Quach", "email": "geobert@protonmail.com", "date": "2019-09-15T20:36:17Z"}, "committer": {"name": "Geobert Quach", "email": "geobert@protonmail.com", "date": "2019-09-19T21:12:28Z"}, "message": "feature(assists): Fix regression", "tree": {"sha": "1936e5674748168d9e0fe70656486c9b8f05a942", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1936e5674748168d9e0fe70656486c9b8f05a942"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/889f1f0a7c4295503f65d11510e232c1ea757235", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/889f1f0a7c4295503f65d11510e232c1ea757235", "html_url": "https://github.com/rust-lang/rust/commit/889f1f0a7c4295503f65d11510e232c1ea757235", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/889f1f0a7c4295503f65d11510e232c1ea757235/comments", "author": {"login": "Geobert", "id": 72570, "node_id": "MDQ6VXNlcjcyNTcw", "avatar_url": "https://avatars.githubusercontent.com/u/72570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Geobert", "html_url": "https://github.com/Geobert", "followers_url": "https://api.github.com/users/Geobert/followers", "following_url": "https://api.github.com/users/Geobert/following{/other_user}", "gists_url": "https://api.github.com/users/Geobert/gists{/gist_id}", "starred_url": "https://api.github.com/users/Geobert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Geobert/subscriptions", "organizations_url": "https://api.github.com/users/Geobert/orgs", "repos_url": "https://api.github.com/users/Geobert/repos", "events_url": "https://api.github.com/users/Geobert/events{/privacy}", "received_events_url": "https://api.github.com/users/Geobert/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Geobert", "id": 72570, "node_id": "MDQ6VXNlcjcyNTcw", "avatar_url": "https://avatars.githubusercontent.com/u/72570?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Geobert", "html_url": "https://github.com/Geobert", "followers_url": "https://api.github.com/users/Geobert/followers", "following_url": "https://api.github.com/users/Geobert/following{/other_user}", "gists_url": "https://api.github.com/users/Geobert/gists{/gist_id}", "starred_url": "https://api.github.com/users/Geobert/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Geobert/subscriptions", "organizations_url": "https://api.github.com/users/Geobert/orgs", "repos_url": "https://api.github.com/users/Geobert/repos", "events_url": "https://api.github.com/users/Geobert/events{/privacy}", "received_events_url": "https://api.github.com/users/Geobert/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "016c99724356c5bd7e27bd7c6061c7a458f078bf", "url": "https://api.github.com/repos/rust-lang/rust/commits/016c99724356c5bd7e27bd7c6061c7a458f078bf", "html_url": "https://github.com/rust-lang/rust/commit/016c99724356c5bd7e27bd7c6061c7a458f078bf"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "867f09f284037616a63ed59837cfc069d1d78aea", "filename": "crates/ra_assists/src/raw_string.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/889f1f0a7c4295503f65d11510e232c1ea757235/crates%2Fra_assists%2Fsrc%2Fraw_string.rs", "raw_url": "https://github.com/rust-lang/rust/raw/889f1f0a7c4295503f65d11510e232c1ea757235/crates%2Fra_assists%2Fsrc%2Fraw_string.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fraw_string.rs?ref=889f1f0a7c4295503f65d11510e232c1ea757235", "patch": "@@ -45,8 +45,8 @@ pub(crate) fn make_usual_string(mut ctx: AssistCtx<impl HirDatabase>) -> Option<\n             ));\r\n             // parse inside string to escape `\"`\r\n             let start_of_inside = usual_start_pos + TextUnit::from(1);\r\n-            let inside_str =\r\n-                text.slice(TextRange::from_to(start_of_inside, text.len() - TextUnit::from(2)));\r\n+            let end_of_inside = text.len() - usual_start_pos - TextUnit::from(1);\r\n+            let inside_str = text.slice(TextRange::from_to(start_of_inside, end_of_inside));\r\n             escape_quote(\r\n                 edit,\r\n                 &inside_str,\r"}]}