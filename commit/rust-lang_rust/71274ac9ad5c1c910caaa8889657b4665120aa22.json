{"sha": "71274ac9ad5c1c910caaa8889657b4665120aa22", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcxMjc0YWM5YWQ1YzFjOTEwY2FhYTg4ODk2NTdiNDY2NTEyMGFhMjI=", "commit": {"author": {"name": "Michael Woerister", "email": "michaelwoerister@posteo.net", "date": "2017-01-12T20:13:02Z"}, "committer": {"name": "Michael Woerister", "email": "michaelwoerister@posteo.net", "date": "2017-01-12T20:13:02Z"}, "message": "Mark some BitVector methods with #[inline]", "tree": {"sha": "e90757ae80d479d7e0d266b34c6512c77a2557f2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e90757ae80d479d7e0d266b34c6512c77a2557f2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/71274ac9ad5c1c910caaa8889657b4665120aa22", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/71274ac9ad5c1c910caaa8889657b4665120aa22", "html_url": "https://github.com/rust-lang/rust/commit/71274ac9ad5c1c910caaa8889657b4665120aa22", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/71274ac9ad5c1c910caaa8889657b4665120aa22/comments", "author": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "committer": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ac5046cf67e51df286e7c8df02d67c302d4c4d09", "url": "https://api.github.com/repos/rust-lang/rust/commits/ac5046cf67e51df286e7c8df02d67c302d4c4d09", "html_url": "https://github.com/rust-lang/rust/commit/ac5046cf67e51df286e7c8df02d67c302d4c4d09"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "3700d46c3462abd32a343e50797d95f3fe07d87d", "filename": "src/librustc_data_structures/bitvec.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/71274ac9ad5c1c910caaa8889657b4665120aa22/src%2Flibrustc_data_structures%2Fbitvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/71274ac9ad5c1c910caaa8889657b4665120aa22/src%2Flibrustc_data_structures%2Fbitvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_data_structures%2Fbitvec.rs?ref=71274ac9ad5c1c910caaa8889657b4665120aa22", "patch": "@@ -17,23 +17,27 @@ pub struct BitVector {\n }\n \n impl BitVector {\n+    #[inline]\n     pub fn new(num_bits: usize) -> BitVector {\n         let num_words = u64s(num_bits);\n         BitVector { data: vec![0; num_words] }\n     }\n \n+    #[inline]\n     pub fn clear(&mut self) {\n         for p in &mut self.data {\n             *p = 0;\n         }\n     }\n \n+    #[inline]\n     pub fn contains(&self, bit: usize) -> bool {\n         let (word, mask) = word_mask(bit);\n         (self.data[word] & mask) != 0\n     }\n \n     /// Returns true if the bit has changed.\n+    #[inline]\n     pub fn insert(&mut self, bit: usize) -> bool {\n         let (word, mask) = word_mask(bit);\n         let data = &mut self.data[word];\n@@ -43,6 +47,7 @@ impl BitVector {\n         new_value != value\n     }\n \n+    #[inline]\n     pub fn insert_all(&mut self, all: &BitVector) -> bool {\n         assert!(self.data.len() == all.data.len());\n         let mut changed = false;\n@@ -56,6 +61,7 @@ impl BitVector {\n         changed\n     }\n \n+    #[inline]\n     pub fn grow(&mut self, num_bits: usize) {\n         let num_words = u64s(num_bits);\n         if self.data.len() < num_words {\n@@ -64,6 +70,7 @@ impl BitVector {\n     }\n \n     /// Iterates over indexes of set bits in a sorted order\n+    #[inline]\n     pub fn iter<'a>(&'a self) -> BitVectorIter<'a> {\n         BitVectorIter {\n             iter: self.data.iter(),\n@@ -226,10 +233,12 @@ impl BitMatrix {\n     }\n }\n \n+#[inline]\n fn u64s(elements: usize) -> usize {\n     (elements + 63) / 64\n }\n \n+#[inline]\n fn word_mask(index: usize) -> (usize, u64) {\n     let word = index / 64;\n     let mask = 1 << (index % 64);"}]}