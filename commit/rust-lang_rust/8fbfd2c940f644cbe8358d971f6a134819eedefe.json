{"sha": "8fbfd2c940f644cbe8358d971f6a134819eedefe", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhmYmZkMmM5NDBmNjQ0Y2JlODM1OGQ5NzFmNmExMzQ4MTllZWRlZmU=", "commit": {"author": {"name": "Corey Farwell", "email": "coreyf@rwell.org", "date": "2018-01-10T03:28:26Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-01-10T03:28:26Z"}, "message": "Rollup merge of #47301 - GuillaumeGomez:fix-error-index-display, r=QuietMisdreavus\n\nFix error index display\n\nFixes #47284.\n\nr? @QuietMisdreavus", "tree": {"sha": "a8f2103d41b863e69e42e016c9a1f05973a466a6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a8f2103d41b863e69e42e016c9a1f05973a466a6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8fbfd2c940f644cbe8358d971f6a134819eedefe", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8fbfd2c940f644cbe8358d971f6a134819eedefe", "html_url": "https://github.com/rust-lang/rust/commit/8fbfd2c940f644cbe8358d971f6a134819eedefe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8fbfd2c940f644cbe8358d971f6a134819eedefe/comments", "author": {"login": "frewsxcv", "id": 416575, "node_id": "MDQ6VXNlcjQxNjU3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frewsxcv", "html_url": "https://github.com/frewsxcv", "followers_url": "https://api.github.com/users/frewsxcv/followers", "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}", "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions", "organizations_url": "https://api.github.com/users/frewsxcv/orgs", "repos_url": "https://api.github.com/users/frewsxcv/repos", "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}", "received_events_url": "https://api.github.com/users/frewsxcv/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "14a9e264ba44ed014a391f740a12f179a8a2e78d", "url": "https://api.github.com/repos/rust-lang/rust/commits/14a9e264ba44ed014a391f740a12f179a8a2e78d", "html_url": "https://github.com/rust-lang/rust/commit/14a9e264ba44ed014a391f740a12f179a8a2e78d"}, {"sha": "265b234dd6b33c912cc88e4a04a256ed9810ddfa", "url": "https://api.github.com/repos/rust-lang/rust/commits/265b234dd6b33c912cc88e4a04a256ed9810ddfa", "html_url": "https://github.com/rust-lang/rust/commit/265b234dd6b33c912cc88e4a04a256ed9810ddfa"}], "stats": {"total": 549, "additions": 325, "deletions": 224}, "files": [{"sha": "5f216169efe2ce8a81df17f66eaaaf1383cf484f", "filename": "src/doc/rust.css", "status": "modified", "additions": 266, "deletions": 223, "changes": 489, "blob_url": "https://github.com/rust-lang/rust/blob/8fbfd2c940f644cbe8358d971f6a134819eedefe/src%2Fdoc%2Frust.css", "raw_url": "https://github.com/rust-lang/rust/raw/8fbfd2c940f644cbe8358d971f6a134819eedefe/src%2Fdoc%2Frust.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frust.css?ref=8fbfd2c940f644cbe8358d971f6a134819eedefe", "patch": "@@ -11,181 +11,181 @@\n  * except according to those terms.\n  */\n @font-face {\n-    font-family: 'Fira Sans';\n-    font-style: normal;\n-    font-weight: 400;\n-    src: local('Fira Sans'), url(\"FiraSans-Regular.woff\") format('woff');\n+\tfont-family: 'Fira Sans';\n+\tfont-style: normal;\n+\tfont-weight: 400;\n+\tsrc: local('Fira Sans'), url(\"FiraSans-Regular.woff\") format('woff');\n }\n @font-face {\n-    font-family: 'Fira Sans';\n-    font-style: normal;\n-    font-weight: 500;\n-    src: local('Fira Sans Medium'), url(\"FiraSans-Medium.woff\") format('woff');\n+\tfont-family: 'Fira Sans';\n+\tfont-style: normal;\n+\tfont-weight: 500;\n+\tsrc: local('Fira Sans Medium'), url(\"FiraSans-Medium.woff\") format('woff');\n }\n @font-face {\n-    font-family: 'Source Serif Pro';\n-    font-style: normal;\n-    font-weight: 400;\n-    src: local('Source Serif Pro'), url(\"SourceSerifPro-Regular.woff\") format('woff');\n+\tfont-family: 'Source Serif Pro';\n+\tfont-style: normal;\n+\tfont-weight: 400;\n+\tsrc: local('Source Serif Pro'), url(\"SourceSerifPro-Regular.woff\") format('woff');\n }\n @font-face {\n-    font-family: 'Source Serif Pro';\n-    font-style: italic;\n-    font-weight: 400;\n-    src: url(\"Heuristica-Italic.woff\") format('woff');\n+\tfont-family: 'Source Serif Pro';\n+\tfont-style: italic;\n+\tfont-weight: 400;\n+\tsrc: url(\"Heuristica-Italic.woff\") format('woff');\n }\n @font-face {\n-    font-family: 'Source Serif Pro';\n-    font-style: normal;\n-    font-weight: 700;\n-    src: local('Source Serif Pro Bold'), url(\"SourceSerifPro-Bold.woff\") format('woff');\n+\tfont-family: 'Source Serif Pro';\n+\tfont-style: normal;\n+\tfont-weight: 700;\n+\tsrc: local('Source Serif Pro Bold'), url(\"SourceSerifPro-Bold.woff\") format('woff');\n }\n @font-face {\n-    font-family: 'Source Code Pro';\n-    font-style: normal;\n-    font-weight: 400;\n-    /* Avoid using locally installed font because bad versions are in circulation:\n-     * see https://github.com/rust-lang/rust/issues/24355 */\n-    src: url(\"SourceCodePro-Regular.woff\") format('woff');\n+\tfont-family: 'Source Code Pro';\n+\tfont-style: normal;\n+\tfont-weight: 400;\n+\t/* Avoid using locally installed font because bad versions are in circulation:\n+\t * see https://github.com/rust-lang/rust/issues/24355 */\n+\tsrc: url(\"SourceCodePro-Regular.woff\") format('woff');\n }\n \n *:not(body) {\n   -webkit-box-sizing: border-box;\n-     -moz-box-sizing: border-box;\n-          box-sizing: border-box;\n+\t -moz-box-sizing: border-box;\n+\t\t  box-sizing: border-box;\n }\n \n /* General structure */\n \n body {\n-    background-color: white;\n-    margin: 0 auto;\n-    padding: 0 15px;\n-    font-family: \"Source Serif Pro\", Georgia, Times, \"Times New Roman\", serif;\n-    font-size: 18px;\n-    color: #333;\n-    line-height: 1.428571429;\n-\n-    -webkit-font-feature-settings: \"kern\", \"liga\";\n-    -moz-font-feature-settings: \"kern\", \"liga\";\n-    font-feature-settings: \"kern\", \"liga\";\n+\tbackground-color: white;\n+\tmargin: 0 auto;\n+\tpadding: 0 15px;\n+\tfont-family: \"Source Serif Pro\", Georgia, Times, \"Times New Roman\", serif;\n+\tfont-size: 18px;\n+\tcolor: #333;\n+\tline-height: 1.428571429;\n+\n+\t-webkit-font-feature-settings: \"kern\", \"liga\";\n+\t-moz-font-feature-settings: \"kern\", \"liga\";\n+\tfont-feature-settings: \"kern\", \"liga\";\n }\n @media (min-width: 768px) {\n-    body {\n-        max-width: 750px;\n-    }\n+\tbody {\n+\t\tmax-width: 750px;\n+\t}\n }\n \n h1, h2, h3, h4, h5, h6, nav, #versioninfo {\n-    font-family: \"Fira Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n+\tfont-family: \"Fira Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n }\n h1, h2, h3, h4, h5, h6 {\n-    color: black;\n-    font-weight: 400;\n-    line-height: 1.1;\n+\tcolor: black;\n+\tfont-weight: 400;\n+\tline-height: 1.1;\n }\n h1, h2, h3 {\n-    margin-top: 20px;\n-    margin-bottom: 15px;\n+\tmargin-top: 20px;\n+\tmargin-bottom: 15px;\n }\n h1 {\n-    margin-bottom: 20px;\n+\tmargin-bottom: 20px;\n }\n h4, h5, h6 {\n-    margin-top: 12px;\n-    margin-bottom: 10px;\n-    padding: 5px 10px;\n+\tmargin-top: 12px;\n+\tmargin-bottom: 10px;\n+\tpadding: 5px 10px;\n }\n h5, h6 {\n-    text-decoration: underline;\n+\ttext-decoration: underline;\n }\n \n h1 {\n-    font-size: 28px;\n-    font-weight: 500;\n-    padding: .1em .4em;\n-    border-bottom: 2px solid #ddd;\n+\tfont-size: 28px;\n+\tfont-weight: 500;\n+\tpadding: .1em .4em;\n+\tborder-bottom: 2px solid #ddd;\n }\n h1.title {\n-    line-height: 1.5em;\n+\tline-height: 1.5em;\n }\n h2 {\n-    font-size: 26px;\n-    padding: .2em .5em;\n-    border-bottom: 1px solid #ddd;\n+\tfont-size: 26px;\n+\tpadding: .2em .5em;\n+\tborder-bottom: 1px solid #ddd;\n }\n h3 {\n-    font-size: 24px;\n-    padding: .2em .7em;\n-    border-bottom: 1px solid #DDE8FC;\n+\tfont-size: 24px;\n+\tpadding: .2em .7em;\n+\tborder-bottom: 1px solid #DDE8FC;\n }\n h4 {\n-    font-size: 22px;\n+\tfont-size: 22px;\n }\n h5 {\n-    font-size: 20px;\n+\tfont-size: 20px;\n }\n h6 {\n-    font-size: 18px;\n+\tfont-size: 18px;\n }\n @media (min-width: 992px) {\n-    h1 {\n-        font-size: 36px;\n-    }\n-    h2 {\n-        font-size: 30px;\n-    }\n-    h3 {\n-        font-size: 26px;\n-    }\n+\th1 {\n+\t\tfont-size: 36px;\n+\t}\n+\th2 {\n+\t\tfont-size: 30px;\n+\t}\n+\th3 {\n+\t\tfont-size: 26px;\n+\t}\n }\n \n nav {\n-    column-count: 2;\n-    -moz-column-count: 2;\n-    -webkit-column-count: 2;\n-    font-size: 15px;\n-    margin: 0 0 1em 0;\n+\tcolumn-count: 2;\n+\t-moz-column-count: 2;\n+\t-webkit-column-count: 2;\n+\tfont-size: 15px;\n+\tmargin: 0 0 1em 0;\n }\n p {\n-    margin: 0 0 1em 0;\n+\tmargin: 0 0 1em 0;\n }\n \n strong {\n-    font-weight: bold;\n+\tfont-weight: bold;\n }\n \n em {\n-    font-style: italic;\n+\tfont-style: italic;\n }\n \n footer {\n-    border-top: 1px solid #ddd;\n-    font-size: 14px;\n-    font-style: italic;\n-    padding-top: 5px;\n-    margin-top: 3em;\n-    margin-bottom: 1em;\n+\tborder-top: 1px solid #ddd;\n+\tfont-size: 14px;\n+\tfont-style: italic;\n+\tpadding-top: 5px;\n+\tmargin-top: 3em;\n+\tmargin-bottom: 1em;\n }\n \n /* Links layout */\n \n a {\n-    text-decoration: none;\n-    color: #428BCA;\n-    background: transparent;\n+\ttext-decoration: none;\n+\tcolor: #428BCA;\n+\tbackground: transparent;\n }\n a:hover, a:focus {\n-    color: #2A6496;\n-    text-decoration: underline;\n+\tcolor: #2A6496;\n+\ttext-decoration: underline;\n }\n a:focus {\n-    outline: thin dotted #333;\n-    outline: 5px auto -webkit-focus-ring-color;\n-    outline-offset: -2px;\n+\toutline: thin dotted #333;\n+\toutline: 5px auto -webkit-focus-ring-color;\n+\toutline-offset: -2px;\n }\n a:hover, a:active {\n-    outline: 0;\n+\toutline: 0;\n }\n \n h1 a:link, h1 a:visited, h2 a:link, h2 a:visited,\n@@ -197,34 +197,34 @@ h5 a:hover {text-decoration: none;}\n /* Code */\n \n pre, code {\n-    font-family: \"Source Code Pro\", Menlo, Monaco, Consolas, \"DejaVu Sans Mono\", monospace;\n-    word-wrap: break-word;\n+\tfont-family: \"Source Code Pro\", Menlo, Monaco, Consolas, \"DejaVu Sans Mono\", monospace;\n+\tword-wrap: break-word;\n }\n pre {\n-    border-left: 2px solid #eee;\n-    white-space: pre-wrap;\n-    padding: 14px;\n-    padding-right: 0;\n-    margin: 20px 0;\n-    font-size: 13px;\n-    word-break: break-all;\n+\tborder-left: 2px solid #eee;\n+\twhite-space: pre-wrap;\n+\tpadding: 14px;\n+\tpadding-right: 0;\n+\tmargin: 20px 0;\n+\tfont-size: 15px;\n+\tword-break: break-all;\n }\n code {\n-    padding: 0 2px;\n-    color: #8D1A38;\n+\tpadding: 0 2px;\n+\tcolor: #8D1A38;\n }\n pre code {\n-    padding: 0;\n-    font-size: inherit;\n-    color: inherit;\n+\tpadding: 0;\n+\tfont-size: inherit;\n+\tcolor: inherit;\n }\n \n a > code {\n-    color: #428BCA;\n+\tcolor: #428BCA;\n }\n \n .section-header > a > code {\n-    color: #8D1A38;\n+\tcolor: #8D1A38;\n }\n \n /* Code highlighting */\n@@ -241,178 +241,221 @@ pre.rust .lifetime { color: #B76514; }\n /* The rest */\n \n #versioninfo {\n-    text-align: center;\n-    margin: 0.5em;\n-    font-size: 1.1em;\n+\ttext-align: center;\n+\tmargin: 0.5em;\n+\tfont-size: 1.1em;\n }\n @media (min-width: 992px) {\n-    #versioninfo {\n-        font-size: 0.8em;\n-        position: fixed;\n-        bottom: 0px;\n-        right: 0px;\n-    }\n-    .white-sticker {\n-        background-color: #fff;\n-        margin: 2px;\n-        padding: 0 2px;\n-        border-radius: .2em;\n-    }\n+\t#versioninfo {\n+\t\tfont-size: 0.8em;\n+\t\tposition: fixed;\n+\t\tbottom: 0px;\n+\t\tright: 0px;\n+\t}\n+\t.white-sticker {\n+\t\tbackground-color: #fff;\n+\t\tmargin: 2px;\n+\t\tpadding: 0 2px;\n+\t\tborder-radius: .2em;\n+\t}\n }\n #versioninfo a.hash {\n-    color: gray;\n-    font-size: 80%;\n+\tcolor: gray;\n+\tfont-size: 80%;\n }\n \n blockquote {\n-    color: #000;\n-    margin: 20px 0;\n-    padding: 15px 20px;\n-    background-color: #f2f7f9;\n-    border-top: .1em solid #e5eef2;\n-    border-bottom: .1em solid #e5eef2;\n+\tcolor: #000;\n+\tmargin: 20px 0;\n+\tpadding: 15px 20px;\n+\tbackground-color: #f2f7f9;\n+\tborder-top: .1em solid #e5eef2;\n+\tborder-bottom: .1em solid #e5eef2;\n }\n blockquote p {\n-    font-size: 17px;\n-    font-weight: 300;\n-    line-height: 1.4;\n+\tfont-size: 17px;\n+\tfont-weight: 300;\n+\tline-height: 1.4;\n }\n blockquote p:last-child {\n-    margin-bottom: 0;\n+\tmargin-bottom: 0;\n }\n \n ul, ol {\n-    padding-left: 25px;\n+\tpadding-left: 25px;\n }\n ul ul, ol ul, ul ol, ol ol {\n-    margin-bottom: 0;\n+\tmargin-bottom: 0;\n }\n dl {\n-    margin-bottom: 20px;\n+\tmargin-bottom: 20px;\n }\n dd {\n-    margin-left: 0;\n+\tmargin-left: 0;\n }\n \n nav ul {\n-    list-style-type: none;\n-    margin: 0;\n-    padding-left: 0px;\n+\tlist-style-type: none;\n+\tmargin: 0;\n+\tpadding-left: 0px;\n }\n \n /* Only display one level of hierarchy in the TOC */\n nav ul ul {\n-    display: none;\n+\tdisplay: none;\n }\n \n sub,\n sup {\n-    font-size: 75%;\n-    line-height: 0;\n-    position: relative;\n+\tfont-size: 75%;\n+\tline-height: 0;\n+\tposition: relative;\n }\n \n hr {\n-    margin-top: 20px;\n-    margin-bottom: 20px;\n-    border: 0;\n-    border-top: 1px solid #eeeeee;\n+\tmargin-top: 20px;\n+\tmargin-bottom: 20px;\n+\tborder: 0;\n+\tborder-top: 1px solid #eeeeee;\n }\n \n table {\n-    border-collapse: collapse;\n-    border-spacing: 0;\n-    overflow-x: auto;\n-    display: block;\n+\tborder-collapse: collapse;\n+\tborder-spacing: 0;\n+\toverflow-x: auto;\n+\tdisplay: block;\n }\n \n table tr.odd {\n-    background: #eee;\n+\tbackground: #eee;\n }\n \n table td,\n table th {\n-    border: 1px solid #ddd;\n-    padding: 5px;\n+\tborder: 1px solid #ddd;\n+\tpadding: 5px;\n }\n \n /* Code snippets */\n \n pre.rust { position: relative; }\n a.test-arrow {\n-    background-color: rgba(78, 139, 202, 0.2);\n-    display: inline-block;\n-    position: absolute;\n-    color: #f5f5f5;\n-    padding: 5px 10px 5px 10px;\n-    border-radius: 5px;\n-    font-size: 130%;\n-    top: 5px;\n-    right: 5px;\n+\tbackground-color: rgba(78, 139, 202, 0.2);\n+\tdisplay: inline-block;\n+\tposition: absolute;\n+\tcolor: #f5f5f5;\n+\tpadding: 5px 10px 5px 10px;\n+\tborder-radius: 5px;\n+\tfont-size: 130%;\n+\ttop: 5px;\n+\tright: 5px;\n }\n a.test-arrow:hover{\n-    background-color: #4e8bca;\n-    text-decoration: none;\n+\tbackground-color: #4e8bca;\n+\ttext-decoration: none;\n }\n \n .unstable-feature {\n-    border: 2px solid red;\n-    padding: 5px;\n+\tborder: 2px solid red;\n+\tpadding: 5px;\n }\n \n @media (min-width: 1170px) {\n-    pre {\n-        font-size: 15px;\n-    }\n+\tpre {\n+\t\tfont-size: 15px;\n+\t}\n }\n \n @media print {\n-    * {\n-        text-shadow: none !important;\n-        color: #000 !important;\n-        background: transparent !important;\n-        box-shadow: none !important;\n-    }\n-    a, a:visited {\n-        text-decoration: underline;\n-    }\n-    p a[href]:after {\n-        content: \" (\" attr(href) \")\";\n-    }\n-    footer a[href]:after {\n-        content: \"\";\n-    }\n-    a[href^=\"javascript:\"]:after, a[href^=\"#\"]:after {\n-        content: \"\";\n-    }\n-    pre, blockquote {\n-        border: 1px solid #999;\n-        page-break-inside: avoid;\n-    }\n-    @page {\n-        margin: 2cm .5cm;\n-    }\n-    h1:not(.title), h2, h3 {\n-        border-bottom: 0px none;\n-    }\n-    p, h2, h3 {\n-        orphans: 3;\n-        widows: 3;\n-    }\n-    h2, h3 {\n-        page-break-after: avoid;\n-    }\n-    table {\n-        border-collapse: collapse !important;\n-    }\n-    table td, table th {\n-        background-color: #fff !important;\n-    }\n+\t* {\n+\t\ttext-shadow: none !important;\n+\t\tcolor: #000 !important;\n+\t\tbackground: transparent !important;\n+\t\tbox-shadow: none !important;\n+\t}\n+\ta, a:visited {\n+\t\ttext-decoration: underline;\n+\t}\n+\tp a[href]:after {\n+\t\tcontent: \" (\" attr(href) \")\";\n+\t}\n+\tfooter a[href]:after {\n+\t\tcontent: \"\";\n+\t}\n+\ta[href^=\"javascript:\"]:after, a[href^=\"#\"]:after {\n+\t\tcontent: \"\";\n+\t}\n+\tpre, blockquote {\n+\t\tborder: 1px solid #999;\n+\t\tpage-break-inside: avoid;\n+\t}\n+\t@page {\n+\t\tmargin: 2cm .5cm;\n+\t}\n+\th1:not(.title), h2, h3 {\n+\t\tborder-bottom: 0px none;\n+\t}\n+\tp, h2, h3 {\n+\t\torphans: 3;\n+\t\twidows: 3;\n+\t}\n+\th2, h3 {\n+\t\tpage-break-after: avoid;\n+\t}\n+\ttable {\n+\t\tborder-collapse: collapse !important;\n+\t}\n+\ttable td, table th {\n+\t\tbackground-color: #fff !important;\n+\t}\n }\n \n #keyword-table-marker + table thead { display: none; }\n #keyword-table-marker + table td { border: none; }\n #keyword-table-marker + table {\n-    margin-left: 2em;\n-    margin-bottom: 1em;\n+\tmargin-left: 2em;\n+\tmargin-bottom: 1em;\n+}\n+\n+.error-described {\n+\tposition: relative;\n+}\n+\n+.information {\n+\tposition: absolute;\n+\tleft: -25px;\n+\tmargin-top: 7px;\n+\tz-index: 1;\n+}\n+\n+.tooltip {\n+\tposition: relative;\n+\tdisplay: inline-block;\n+\tcursor: pointer;\n+}\n+\n+.tooltip .tooltiptext {\n+\twidth: 120px;\n+\tdisplay: none;\n+\ttext-align: center;\n+\tpadding: 5px 3px;\n+\tborder-radius: 6px;\n+\tmargin-left: 5px;\n+\ttop: -5px;\n+\tleft: 105%;\n+\tz-index: 1;\n+}\n+\n+.tooltip:hover .tooltiptext {\n+\tdisplay: inline;\n+}\n+\n+.tooltip .tooltiptext::after {\n+\tcontent: \" \";\n+\tposition: absolute;\n+\ttop: 50%;\n+\tleft: 13px;\n+\tmargin-top: -5px;\n+\tborder-width: 5px;\n+\tborder-style: solid;\n }"}, {"sha": "aedae366c411995038bdfac700ac4eba0e659d10", "filename": "src/tools/error_index_generator/main.rs", "status": "modified", "additions": 59, "deletions": 1, "changes": 60, "blob_url": "https://github.com/rust-lang/rust/blob/8fbfd2c940f644cbe8358d971f6a134819eedefe/src%2Ftools%2Ferror_index_generator%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8fbfd2c940f644cbe8358d971f6a134819eedefe/src%2Ftools%2Ferror_index_generator%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ferror_index_generator%2Fmain.rs?ref=8fbfd2c940f644cbe8358d971f6a134819eedefe", "patch": "@@ -109,7 +109,65 @@ impl Formatter for HTMLFormatter {\n     }\n \n     fn footer(&self, output: &mut Write) -> Result<(), Box<Error>> {\n-        write!(output, \"</body>\\n</html>\")?;\n+        write!(output, r##\"<script>\n+function onEach(arr, func) {{\n+    if (arr && arr.length > 0 && func) {{\n+        for (var i = 0; i < arr.length; i++) {{\n+            func(arr[i]);\n+        }}\n+    }}\n+}}\n+\n+function hasClass(elem, className) {{\n+    if (elem && className && elem.className) {{\n+        var elemClass = elem.className;\n+        var start = elemClass.indexOf(className);\n+        if (start === -1) {{\n+            return false;\n+        }} else if (elemClass.length === className.length) {{\n+            return true;\n+        }} else {{\n+            if (start > 0 && elemClass[start - 1] !== ' ') {{\n+                return false;\n+            }}\n+            var end = start + className.length;\n+            if (end < elemClass.length && elemClass[end] !== ' ') {{\n+                return false;\n+            }}\n+            return true;\n+        }}\n+        if (start > 0 && elemClass[start - 1] !== ' ') {{\n+            return false;\n+        }}\n+        var end = start + className.length;\n+        if (end < elemClass.length && elemClass[end] !== ' ') {{\n+            return false;\n+        }}\n+        return true;\n+    }}\n+    return false;\n+}}\n+\n+onEach(document.getElementsByClassName('rust-example-rendered'), function(e) {{\n+    if (hasClass(e, 'compile_fail')) {{\n+        e.addEventListener(\"mouseover\", function(event) {{\n+            e.previousElementSibling.childNodes[0].style.color = '#f00';\n+        }});\n+        e.addEventListener(\"mouseout\", function(event) {{\n+            e.previousElementSibling.childNodes[0].style.color = '';\n+        }});\n+    }} else if (hasClass(e, 'ignore')) {{\n+        e.addEventListener(\"mouseover\", function(event) {{\n+            e.previousElementSibling.childNodes[0].style.color = '#ff9200';\n+        }});\n+        e.addEventListener(\"mouseout\", function(event) {{\n+            e.previousElementSibling.childNodes[0].style.color = '';\n+        }});\n+    }}\n+}});\n+</script>\n+</body>\n+</html>\"##)?;\n         Ok(())\n     }\n }"}]}