{"sha": "b8a8b681b8ca37771a0116d7cc7c3e4e7c749e0e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI4YThiNjgxYjhjYTM3NzcxYTAxMTZkN2NjN2MzZTRlN2M3NDllMGU=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2020-10-18T21:25:57Z"}, "committer": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2020-10-18T21:25:57Z"}, "message": "Formatting.", "tree": {"sha": "3dc0d3009c79d02e51178f6164afe10b88c4a5fc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3dc0d3009c79d02e51178f6164afe10b88c4a5fc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b8a8b681b8ca37771a0116d7cc7c3e4e7c749e0e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b8a8b681b8ca37771a0116d7cc7c3e4e7c749e0e", "html_url": "https://github.com/rust-lang/rust/commit/b8a8b681b8ca37771a0116d7cc7c3e4e7c749e0e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b8a8b681b8ca37771a0116d7cc7c3e4e7c749e0e/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ded269fa102df8716a540741ee7da6ce40e9738c", "url": "https://api.github.com/repos/rust-lang/rust/commits/ded269fa102df8716a540741ee7da6ce40e9738c", "html_url": "https://github.com/rust-lang/rust/commit/ded269fa102df8716a540741ee7da6ce40e9738c"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "a615d57dfa7058e4b8da942d05e638007df54a41", "filename": "compiler/rustc_lint/src/panic_fmt.rs", "status": "modified", "additions": 5, "deletions": 4, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/b8a8b681b8ca37771a0116d7cc7c3e4e7c749e0e/compiler%2Frustc_lint%2Fsrc%2Fpanic_fmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b8a8b681b8ca37771a0116d7cc7c3e4e7c749e0e/compiler%2Frustc_lint%2Fsrc%2Fpanic_fmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Fpanic_fmt.rs?ref=b8a8b681b8ca37771a0116d7cc7c3e4e7c749e0e", "patch": "@@ -53,7 +53,7 @@ fn check_panic<'tcx>(cx: &LateContext<'tcx>, f: &'tcx hir::Expr<'tcx>, arg: &'tc\n             let looks_like_placeholder = match (open, close) {\n                 (Some(_), Some(_)) => true,\n                 (Some(_), None) | (None, Some(_)) => false,\n-                (None, None) => return // OK, no braces.\n+                (None, None) => return, // OK, no braces.\n             };\n             let expn = f.span.ctxt().outer_expn_data();\n             if let Some(id) = expn.macro_def_id {\n@@ -64,9 +64,10 @@ fn check_panic<'tcx>(cx: &LateContext<'tcx>, f: &'tcx hir::Expr<'tcx>, arg: &'tc\n                         // Unwrap another level of macro expansion if this\n                         // panic!() was expanded from assert!().\n                         let parent = expn.call_site.ctxt().outer_expn_data();\n-                        if parent.macro_def_id.map_or(false, |id| {\n-                            cx.tcx.is_diagnostic_item(sym::assert_macro, id)\n-                        }) {\n+                        if parent\n+                            .macro_def_id\n+                            .map_or(false, |id| cx.tcx.is_diagnostic_item(sym::assert_macro, id))\n+                        {\n                             parent\n                         } else {\n                             expn"}]}