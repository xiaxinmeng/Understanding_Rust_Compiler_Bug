{"sha": "7586abf01b5c6fcbb60926c7cab7d3e5d133fa9a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc1ODZhYmYwMWI1YzZmY2JiNjA5MjZjN2NhYjdkM2U1ZDEzM2ZhOWE=", "commit": {"author": {"name": "Huon Wilson", "email": "dbau.pp+github@gmail.com", "date": "2014-11-19T09:25:48Z"}, "committer": {"name": "Huon Wilson", "email": "dbau.pp+github@gmail.com", "date": "2014-11-19T13:02:42Z"}, "message": "Adjust Antlr4 lexer to include suffixes.\n\nThis makes the formal lexical grammar (more closely) reflect the one\nimplemented by the compiler.", "tree": {"sha": "454659ebe7e961b3c96a39400141f5ff8137beb3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/454659ebe7e961b3c96a39400141f5ff8137beb3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7586abf01b5c6fcbb60926c7cab7d3e5d133fa9a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7586abf01b5c6fcbb60926c7cab7d3e5d133fa9a", "html_url": "https://github.com/rust-lang/rust/commit/7586abf01b5c6fcbb60926c7cab7d3e5d133fa9a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7586abf01b5c6fcbb60926c7cab7d3e5d133fa9a/comments", "author": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "committer": {"login": "huonw", "id": 1203825, "node_id": "MDQ6VXNlcjEyMDM4MjU=", "avatar_url": "https://avatars.githubusercontent.com/u/1203825?v=4", "gravatar_id": "", "url": "https://api.github.com/users/huonw", "html_url": "https://github.com/huonw", "followers_url": "https://api.github.com/users/huonw/followers", "following_url": "https://api.github.com/users/huonw/following{/other_user}", "gists_url": "https://api.github.com/users/huonw/gists{/gist_id}", "starred_url": "https://api.github.com/users/huonw/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/huonw/subscriptions", "organizations_url": "https://api.github.com/users/huonw/orgs", "repos_url": "https://api.github.com/users/huonw/repos", "events_url": "https://api.github.com/users/huonw/events{/privacy}", "received_events_url": "https://api.github.com/users/huonw/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "606a309d4aeb09ba88a0962c633a5b3fd4b300f6", "url": "https://api.github.com/repos/rust-lang/rust/commits/606a309d4aeb09ba88a0962c633a5b3fd4b300f6", "html_url": "https://github.com/rust-lang/rust/commit/606a309d4aeb09ba88a0962c633a5b3fd4b300f6"}], "stats": {"total": 44, "additions": 15, "deletions": 29}, "files": [{"sha": "0ff9af7aca133625e3b98670951babfeafc3b1b0", "filename": "src/grammar/RustLexer.g4", "status": "modified", "additions": 15, "deletions": 29, "changes": 44, "blob_url": "https://github.com/rust-lang/rust/blob/7586abf01b5c6fcbb60926c7cab7d3e5d133fa9a/src%2Fgrammar%2FRustLexer.g4", "raw_url": "https://github.com/rust-lang/rust/raw/7586abf01b5c6fcbb60926c7cab7d3e5d133fa9a/src%2Fgrammar%2FRustLexer.g4", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fgrammar%2FRustLexer.g4?ref=7586abf01b5c6fcbb60926c7cab7d3e5d133fa9a", "patch": "@@ -92,49 +92,35 @@ fragment CHAR_ESCAPE\n   | 'U' HEXIT HEXIT HEXIT HEXIT HEXIT HEXIT HEXIT HEXIT\n   ;\n \n-LIT_CHAR\n-  : '\\'' ( '\\\\' CHAR_ESCAPE | ~[\\\\'\\n\\t\\r] ) '\\''\n+fragment SUFFIX\n+  : IDENT\n   ;\n \n-LIT_BYTE\n-  : 'b\\'' ( '\\\\' ( [xX] HEXIT HEXIT | [nrt\\\\'\"0] ) | ~[\\\\'\\n\\t\\r] ) '\\''\n+LIT_CHAR\n+  : '\\'' ( '\\\\' CHAR_ESCAPE | ~[\\\\'\\n\\t\\r] ) '\\'' SUFFIX?\n   ;\n \n-fragment INT_SUFFIX\n-  : 'i'\n-  | 'i8'\n-  | 'i16'\n-  | 'i32'\n-  | 'i64'\n-  | 'u'\n-  | 'u8'\n-  | 'u16'\n-  | 'u32'\n-  | 'u64'\n+LIT_BYTE\n+  : 'b\\'' ( '\\\\' ( [xX] HEXIT HEXIT | [nrt\\\\'\"0] ) | ~[\\\\'\\n\\t\\r] ) '\\'' SUFFIX?\n   ;\n \n LIT_INTEGER\n-  : [0-9][0-9_]* INT_SUFFIX?\n-  | '0b' [01][01_]* INT_SUFFIX?\n-  | '0o' [0-7][0-7_]* INT_SUFFIX?\n-  | '0x' [0-9a-fA-F][0-9a-fA-F_]* INT_SUFFIX?\n-  ;\n-\n-fragment FLOAT_SUFFIX\n-  : 'f32'\n-  | 'f64'\n+  : [0-9][0-9_]* SUFFIX?\n+  | '0b' [01][01_]* SUFFIX?\n+  | '0o' [0-7][0-7_]* SUFFIX?\n+  | '0x' [0-9a-fA-F][0-9a-fA-F_]* SUFFIX?\n   ;\n \n LIT_FLOAT\n-  : [0-9][0-9_]* ('.' | ('.' [0-9][0-9_]*)? ([eE] [-+]? [0-9][0-9_]*)? FLOAT_SUFFIX?)\n+  : [0-9][0-9_]* ('.' | ('.' [0-9][0-9_]*)? ([eE] [-+]? [0-9][0-9_]*)? SUFFIX?)\n   ;\n \n LIT_STR\n-  : '\"' ('\\\\\\n' | '\\\\\\r\\n' | '\\\\' CHAR_ESCAPE | .)*? '\"'\n+  : '\"' ('\\\\\\n' | '\\\\\\r\\n' | '\\\\' CHAR_ESCAPE | .)*? '\"' SUFFIX?\n   ;\n \n-LIT_BINARY : 'b' LIT_STR ;\n-LIT_BINARY_RAW : 'rb' LIT_STR_RAW ;\n+LIT_BINARY : 'b' LIT_STR SUFFIX?;\n+LIT_BINARY_RAW : 'rb' LIT_STR_RAW SUFFIX?;\n \n /* this is a bit messy */\n \n@@ -148,7 +134,7 @@ fragment LIT_STR_RAW_INNER2\n   ;\n \n LIT_STR_RAW\n-  : 'r' LIT_STR_RAW_INNER\n+  : 'r' LIT_STR_RAW_INNER SUFFIX?\n   ;\n \n IDENT : XID_start XID_continue* ;"}]}