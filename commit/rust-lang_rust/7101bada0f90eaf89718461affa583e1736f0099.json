{"sha": "7101bada0f90eaf89718461affa583e1736f0099", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcxMDFiYWRhMGY5MGVhZjg5NzE4NDYxYWZmYTU4M2UxNzM2ZjAwOTk=", "commit": {"author": {"name": "oxalica", "email": "oxalicc@pm.me", "date": "2021-03-15T16:58:29Z"}, "committer": {"name": "oxalica", "email": "oxalicc@pm.me", "date": "2021-03-15T17:04:33Z"}, "message": "Fix trait type parameter", "tree": {"sha": "63aea633a7fdfa146a4961505ca25bc1a0b33e4d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/63aea633a7fdfa146a4961505ca25bc1a0b33e4d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7101bada0f90eaf89718461affa583e1736f0099", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEXLDp5dXVcfV/VA/qztOS3gxIPQAFAmBPk6EACgkQztOS3gxI\nPQAUhBAAj/ao86Ut7FLygrjdrO16txhhA5tVlwgyXxSBwqg3jXvJI93Ov2d8FgTJ\nvkQPIXUoj2fZEP2Z2VPiaciiykFGud70kQ9lYELTSfGkV/OAXKxUm8OmcTG+Jhs2\n8vT8bXDkomJqE5wjv/ujLE5NMsh0TEmtQ9nZ17hiG4cfhr75P2Pn6oaom6NeJkc8\nKCZaD86CUlfLmAgqHS4EMRXFmwXq2ilCuknzIhFT5/vn5+5OV3dS9Oou8JOUS9Og\ngn4ZYXudGEwt3yZM4EUMhUEHhQCFpTiM2lADG5T/oWsnVQRepy2OSYUzcF0Y1EQp\nfLPUepYZw2uvmqIoYe5ONJrk+n3RfhX6Wr3m/5+n/lDlPFDmYGdiEA4ZAsmwzevy\ny1+PM7G5ZHRVKbI6qi97bfhogQhZLrB0i0yYmAaRf2dC9FJQlq9ThV/LF6NJEZZw\nTIokmA9hz05n4iojoR2I4BhVTmcqLI87lherq+v7QQ2mCCDayvCn9ZPnaIY9qkDU\nGqkfxRWWUoTjbrruKvKACqJlYHZl4nKLdsln0DwfSYia7O1aGf32qbJS+aA2r0lW\ngsFkJx4V3lgcIqzP0nGCnFrtweZ3YJ+Dbf9FTAnDB+LaU1X98v+Q58SwcKTJWaqz\nqIG/E84Tehv3R7mvC9UpKBklr1Quwjz4TeXYFBKsexPiGvOL0LE=\n=nl66\n-----END PGP SIGNATURE-----", "payload": "tree 63aea633a7fdfa146a4961505ca25bc1a0b33e4d\nparent 87171238c6c528c421f06de8cd7e41ed3b6ff57a\nauthor oxalica <oxalicc@pm.me> 1615827509 +0800\ncommitter oxalica <oxalicc@pm.me> 1615827873 +0800\n\nFix trait type parameter\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7101bada0f90eaf89718461affa583e1736f0099", "html_url": "https://github.com/rust-lang/rust/commit/7101bada0f90eaf89718461affa583e1736f0099", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7101bada0f90eaf89718461affa583e1736f0099/comments", "author": {"login": "oxalica", "id": 14816024, "node_id": "MDQ6VXNlcjE0ODE2MDI0", "avatar_url": "https://avatars.githubusercontent.com/u/14816024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oxalica", "html_url": "https://github.com/oxalica", "followers_url": "https://api.github.com/users/oxalica/followers", "following_url": "https://api.github.com/users/oxalica/following{/other_user}", "gists_url": "https://api.github.com/users/oxalica/gists{/gist_id}", "starred_url": "https://api.github.com/users/oxalica/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oxalica/subscriptions", "organizations_url": "https://api.github.com/users/oxalica/orgs", "repos_url": "https://api.github.com/users/oxalica/repos", "events_url": "https://api.github.com/users/oxalica/events{/privacy}", "received_events_url": "https://api.github.com/users/oxalica/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oxalica", "id": 14816024, "node_id": "MDQ6VXNlcjE0ODE2MDI0", "avatar_url": "https://avatars.githubusercontent.com/u/14816024?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oxalica", "html_url": "https://github.com/oxalica", "followers_url": "https://api.github.com/users/oxalica/followers", "following_url": "https://api.github.com/users/oxalica/following{/other_user}", "gists_url": "https://api.github.com/users/oxalica/gists{/gist_id}", "starred_url": "https://api.github.com/users/oxalica/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oxalica/subscriptions", "organizations_url": "https://api.github.com/users/oxalica/orgs", "repos_url": "https://api.github.com/users/oxalica/repos", "events_url": "https://api.github.com/users/oxalica/events{/privacy}", "received_events_url": "https://api.github.com/users/oxalica/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "87171238c6c528c421f06de8cd7e41ed3b6ff57a", "url": "https://api.github.com/repos/rust-lang/rust/commits/87171238c6c528c421f06de8cd7e41ed3b6ff57a", "html_url": "https://github.com/rust-lang/rust/commit/87171238c6c528c421f06de8cd7e41ed3b6ff57a"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "e3660442ce658d1a4c4884ba491e4b1a82189e72", "filename": "crates/hir/src/display.rs", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/7101bada0f90eaf89718461affa583e1736f0099/crates%2Fhir%2Fsrc%2Fdisplay.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7101bada0f90eaf89718461affa583e1736f0099/crates%2Fhir%2Fsrc%2Fdisplay.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir%2Fsrc%2Fdisplay.rs?ref=7101bada0f90eaf89718461affa583e1736f0099", "patch": "@@ -233,7 +233,13 @@ impl HirDisplay for ConstParam {\n \n fn write_generic_params(def: GenericDefId, f: &mut HirFormatter) -> Result<(), HirDisplayError> {\n     let params = f.db.generic_params(def);\n-    if params.lifetimes.is_empty() && params.types.is_empty() && params.consts.is_empty() {\n+    if params.lifetimes.is_empty()\n+        && params.consts.is_empty()\n+        && params\n+            .types\n+            .iter()\n+            .all(|(_, param)| !matches!(param.provenance, TypeParamProvenance::TypeParamList))\n+    {\n         return Ok(());\n     }\n     write!(f, \"<\")?;"}]}