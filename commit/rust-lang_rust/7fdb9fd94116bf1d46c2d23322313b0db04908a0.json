{"sha": "7fdb9fd94116bf1d46c2d23322313b0db04908a0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdmZGI5ZmQ5NDExNmJmMWQ0NmMyZDIzMzIyMzEzYjBkYjA0OTA4YTA=", "commit": {"author": {"name": "Angus Lees", "email": "gus@inodes.org", "date": "2016-01-24T10:07:47Z"}, "committer": {"name": "Ximin Luo", "email": "infinity0@pwned.gg", "date": "2016-03-05T13:45:25Z"}, "message": "More reliable and consistent method of cancelling -Werror*\n\nAdding -Wno-error is more reliable and simple than trying to modify existing\nflags. We've been using this in Debian already for the past few releases.\nMaking this change also encourages future maintainers towards \"best practises\".\nAlso take the opportunity to use the same method at all places in the file.", "tree": {"sha": "4d9bab905b88fcd2d7436269d52e53e1174758c4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4d9bab905b88fcd2d7436269d52e53e1174758c4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7fdb9fd94116bf1d46c2d23322313b0db04908a0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7fdb9fd94116bf1d46c2d23322313b0db04908a0", "html_url": "https://github.com/rust-lang/rust/commit/7fdb9fd94116bf1d46c2d23322313b0db04908a0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7fdb9fd94116bf1d46c2d23322313b0db04908a0/comments", "author": {"login": "anguslees", "id": 224224, "node_id": "MDQ6VXNlcjIyNDIyNA==", "avatar_url": "https://avatars.githubusercontent.com/u/224224?v=4", "gravatar_id": "", "url": "https://api.github.com/users/anguslees", "html_url": "https://github.com/anguslees", "followers_url": "https://api.github.com/users/anguslees/followers", "following_url": "https://api.github.com/users/anguslees/following{/other_user}", "gists_url": "https://api.github.com/users/anguslees/gists{/gist_id}", "starred_url": "https://api.github.com/users/anguslees/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/anguslees/subscriptions", "organizations_url": "https://api.github.com/users/anguslees/orgs", "repos_url": "https://api.github.com/users/anguslees/repos", "events_url": "https://api.github.com/users/anguslees/events{/privacy}", "received_events_url": "https://api.github.com/users/anguslees/received_events", "type": "User", "site_admin": false}, "committer": {"login": "infinity0", "id": 78398, "node_id": "MDQ6VXNlcjc4Mzk4", "avatar_url": "https://avatars.githubusercontent.com/u/78398?v=4", "gravatar_id": "", "url": "https://api.github.com/users/infinity0", "html_url": "https://github.com/infinity0", "followers_url": "https://api.github.com/users/infinity0/followers", "following_url": "https://api.github.com/users/infinity0/following{/other_user}", "gists_url": "https://api.github.com/users/infinity0/gists{/gist_id}", "starred_url": "https://api.github.com/users/infinity0/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/infinity0/subscriptions", "organizations_url": "https://api.github.com/users/infinity0/orgs", "repos_url": "https://api.github.com/users/infinity0/repos", "events_url": "https://api.github.com/users/infinity0/events{/privacy}", "received_events_url": "https://api.github.com/users/infinity0/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d31d8a9a919b705fb8d22ba99a693d9f96b8bdd5", "url": "https://api.github.com/repos/rust-lang/rust/commits/d31d8a9a919b705fb8d22ba99a693d9f96b8bdd5", "html_url": "https://github.com/rust-lang/rust/commit/d31d8a9a919b705fb8d22ba99a693d9f96b8bdd5"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "5f46b3a20c9faade3e5786e2adb2c661c7ed04f6", "filename": "mk/rt.mk", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7fdb9fd94116bf1d46c2d23322313b0db04908a0/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/7fdb9fd94116bf1d46c2d23322313b0db04908a0/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=7fdb9fd94116bf1d46c2d23322313b0db04908a0", "patch": "@@ -253,7 +253,7 @@ COMPRT_AR_$(1) := $$(AR_$(1))\n # We chomp -Werror here because GCC warns about the type signature of\n # builtins not matching its own and the build fails. It's a bit hacky,\n # but what can we do, we're building libclang-rt using GCC ......\n-COMPRT_CFLAGS_$(1) := $$(filter-out -Werror -Werror=*,$$(CFG_GCCISH_CFLAGS_$(1))) -std=c99\n+COMPRT_CFLAGS_$(1) := $$(CFG_GCCISH_CFLAGS_$(1)) -Wno-error -std=c99\n \n # FreeBSD Clang's packaging is problematic; it doesn't copy unwind.h to\n # the standard include directory. This should really be in our changes to\n@@ -361,7 +361,7 @@ $$(BACKTRACE_BUILD_DIR_$(1))/Makefile: $$(BACKTRACE_DEPS) $$(MKFILE_DEPS)\n \t      CC=\"$$(CC_$(1))\" \\\n \t      AR=\"$$(AR_$(1))\" \\\n \t      RANLIB=\"$$(AR_$(1)) s\" \\\n-\t      CFLAGS=\"$$(CFG_GCCISH_CFLAGS_$(1):-Werror=) -fno-stack-protector\" \\\n+\t      CFLAGS=\"$$(CFG_GCCISH_CFLAGS_$(1)) -Wno-error -fno-stack-protector\" \\\n \t      $(S)src/libbacktrace/configure --build=$(CFG_GNU_TRIPLE_$(CFG_BUILD)) --host=$(CFG_GNU_TRIPLE_$(1)))\n \t$$(Q)echo '#undef HAVE_ATOMIC_FUNCTIONS' >> \\\n \t      $$(BACKTRACE_BUILD_DIR_$(1))/config.h"}]}