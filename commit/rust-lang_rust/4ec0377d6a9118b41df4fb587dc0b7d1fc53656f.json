{"sha": "4ec0377d6a9118b41df4fb587dc0b7d1fc53656f", "node_id": "C_kwDOAAsO6NoAKDRlYzAzNzdkNmE5MTE4YjQxZGY0ZmI1ODdkYzBiN2QxZmM1MzY1NmY", "commit": {"author": {"name": "Trevor Spiteri", "email": "tspiteri@ieee.org", "date": "2021-10-05T13:15:24Z"}, "committer": {"name": "Trevor Spiteri", "email": "tspiteri@ieee.org", "date": "2021-10-05T13:15:24Z"}, "message": "for signed overflowing remainder, delay comparing lhs with MIN\n\nSince the wrapped remainder is going to be 0 for all cases when the rhs is -1,\nthere is no need to divide in this case. Comparing the lhs with MIN is only done\nfor the overflow bool. In particular, this results in better code generation for\nwrapping remainder, which discards the overflow bool completely.", "tree": {"sha": "e309ca8a04628bf7874642cdc1921fdd84c92293", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e309ca8a04628bf7874642cdc1921fdd84c92293"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4ec0377d6a9118b41df4fb587dc0b7d1fc53656f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4ec0377d6a9118b41df4fb587dc0b7d1fc53656f", "html_url": "https://github.com/rust-lang/rust/commit/4ec0377d6a9118b41df4fb587dc0b7d1fc53656f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4ec0377d6a9118b41df4fb587dc0b7d1fc53656f/comments", "author": {"login": "tspiteri", "id": 18604588, "node_id": "MDQ6VXNlcjE4NjA0NTg4", "avatar_url": "https://avatars.githubusercontent.com/u/18604588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tspiteri", "html_url": "https://github.com/tspiteri", "followers_url": "https://api.github.com/users/tspiteri/followers", "following_url": "https://api.github.com/users/tspiteri/following{/other_user}", "gists_url": "https://api.github.com/users/tspiteri/gists{/gist_id}", "starred_url": "https://api.github.com/users/tspiteri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tspiteri/subscriptions", "organizations_url": "https://api.github.com/users/tspiteri/orgs", "repos_url": "https://api.github.com/users/tspiteri/repos", "events_url": "https://api.github.com/users/tspiteri/events{/privacy}", "received_events_url": "https://api.github.com/users/tspiteri/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tspiteri", "id": 18604588, "node_id": "MDQ6VXNlcjE4NjA0NTg4", "avatar_url": "https://avatars.githubusercontent.com/u/18604588?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tspiteri", "html_url": "https://github.com/tspiteri", "followers_url": "https://api.github.com/users/tspiteri/followers", "following_url": "https://api.github.com/users/tspiteri/following{/other_user}", "gists_url": "https://api.github.com/users/tspiteri/gists{/gist_id}", "starred_url": "https://api.github.com/users/tspiteri/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tspiteri/subscriptions", "organizations_url": "https://api.github.com/users/tspiteri/orgs", "repos_url": "https://api.github.com/users/tspiteri/repos", "events_url": "https://api.github.com/users/tspiteri/events{/privacy}", "received_events_url": "https://api.github.com/users/tspiteri/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "074f63648bd2368d5ca19aed02b5763a144e5d05", "url": "https://api.github.com/repos/rust-lang/rust/commits/074f63648bd2368d5ca19aed02b5763a144e5d05", "html_url": "https://github.com/rust-lang/rust/commit/074f63648bd2368d5ca19aed02b5763a144e5d05"}], "stats": {"total": 10, "additions": 4, "deletions": 6}, "files": [{"sha": "9d46948ce02af8fdcbec47d90c949ebcbfdbff4c", "filename": "library/core/src/num/int_macros.rs", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/4ec0377d6a9118b41df4fb587dc0b7d1fc53656f/library%2Fcore%2Fsrc%2Fnum%2Fint_macros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4ec0377d6a9118b41df4fb587dc0b7d1fc53656f/library%2Fcore%2Fsrc%2Fnum%2Fint_macros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Fnum%2Fint_macros.rs?ref=4ec0377d6a9118b41df4fb587dc0b7d1fc53656f", "patch": "@@ -1533,9 +1533,8 @@ macro_rules! int_impl {\n         #[must_use = \"this returns the result of the operation, \\\n                       without modifying the original\"]\n         pub const fn overflowing_rem(self, rhs: Self) -> (Self, bool) {\n-            // Using `&` helps LLVM see that it is the same check made in division.\n-            if unlikely!((self == Self::MIN) & (rhs == -1)) {\n-                (0, true)\n+            if unlikely!(rhs == -1) {\n+                (0, self == Self::MIN)\n             } else {\n                 (self % rhs, false)\n             }\n@@ -1565,9 +1564,8 @@ macro_rules! int_impl {\n                       without modifying the original\"]\n         #[inline]\n         pub const fn overflowing_rem_euclid(self, rhs: Self) -> (Self, bool) {\n-            // Using `&` helps LLVM see that it is the same check made in division.\n-            if unlikely!((self == Self::MIN) & (rhs == -1)) {\n-                (0, true)\n+            if unlikely!(rhs == -1) {\n+                (0, self == Self::MIN)\n             } else {\n                 (self.rem_euclid(rhs), false)\n             }"}]}