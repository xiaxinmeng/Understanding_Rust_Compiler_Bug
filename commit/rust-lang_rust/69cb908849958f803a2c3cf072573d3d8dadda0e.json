{"sha": "69cb908849958f803a2c3cf072573d3d8dadda0e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY5Y2I5MDg4NDk5NThmODAzYTJjM2NmMDcyNTczZDNkOGRhZGRhMGU=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-02-23T08:25:33Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-02-23T08:25:33Z"}, "message": "Rollup merge of #58643 - GuillaumeGomez:extra-variables, r=Manishearth\n\nDon't generate minification variables if minification disabled\n\nIf the minification is disabled, there is no sense having those variables.\n\nr? @QuietMisdreavus", "tree": {"sha": "fe7b56c071e2d05d45c6a0a9d7d31e32244f11f2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe7b56c071e2d05d45c6a0a9d7d31e32244f11f2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/69cb908849958f803a2c3cf072573d3d8dadda0e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJccQN9CRBK7hj4Ov3rIwAAdHIIAH6tDnLelruqVgPMeKvsVvTO\nd1fAk1UG7MMAv8jxy0P7Jgb8aJe1DBHXsxye0dIrNijdoTzEFwenav0RTXZ6T3bn\niEfonxGuiz4da4tKaP+AjLBleXoRDyiiGhhcRu5jXmvjxMpNhm3kG53E4pCQ6nS+\nnFpm2BXCuUKmFnttb0I0MCbvBUOeu3hzcuwe32XQVc03qWRRAdUDCAhWhoquJGDg\nq0WjGGbs+OJAdwGk5KUdnljsLlz+1Aj5XfTC7WdCwKS7RioA4ox12btoxKEucCze\nQNVqfh9x4xK6tAen1gAi/4m3cP8yjh2MwgZe3I35PQZKQ/bJgDFxI/vkhqjFNXA=\n=76gK\n-----END PGP SIGNATURE-----\n", "payload": "tree fe7b56c071e2d05d45c6a0a9d7d31e32244f11f2\nparent 93bfa92a3dc698261b6a76d546e8018b023b443c\nparent b5ae4d58883151a977487de86856d9529df9d948\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1550910333 +0100\ncommitter GitHub <noreply@github.com> 1550910333 +0100\n\nRollup merge of #58643 - GuillaumeGomez:extra-variables, r=Manishearth\n\nDon't generate minification variables if minification disabled\n\nIf the minification is disabled, there is no sense having those variables.\n\nr? @QuietMisdreavus\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/69cb908849958f803a2c3cf072573d3d8dadda0e", "html_url": "https://github.com/rust-lang/rust/commit/69cb908849958f803a2c3cf072573d3d8dadda0e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/69cb908849958f803a2c3cf072573d3d8dadda0e/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "93bfa92a3dc698261b6a76d546e8018b023b443c", "url": "https://api.github.com/repos/rust-lang/rust/commits/93bfa92a3dc698261b6a76d546e8018b023b443c", "html_url": "https://github.com/rust-lang/rust/commit/93bfa92a3dc698261b6a76d546e8018b023b443c"}, {"sha": "b5ae4d58883151a977487de86856d9529df9d948", "url": "https://api.github.com/repos/rust-lang/rust/commits/b5ae4d58883151a977487de86856d9529df9d948", "html_url": "https://github.com/rust-lang/rust/commit/b5ae4d58883151a977487de86856d9529df9d948"}], "stats": {"total": 6, "additions": 5, "deletions": 1}, "files": [{"sha": "d711e4514a04955dc9d04b9eaca71740b1f7679a", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/69cb908849958f803a2c3cf072573d3d8dadda0e/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/69cb908849958f803a2c3cf072573d3d8dadda0e/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=69cb908849958f803a2c3cf072573d3d8dadda0e", "patch": "@@ -1117,7 +1117,11 @@ themePicker.onblur = handleThemeButtonsBlur;\n     // with rustdoc running in parallel.\n     all_indexes.sort();\n     let mut w = try_err!(File::create(&dst), &dst);\n-    try_err!(writeln!(&mut w, \"var N=null,E=\\\"\\\",T=\\\"t\\\",U=\\\"u\\\",searchIndex={{}};\"), &dst);\n+    if options.enable_minification {\n+        try_err!(writeln!(&mut w, \"var N=null,E=\\\"\\\",T=\\\"t\\\",U=\\\"u\\\",searchIndex={{}};\"), &dst);\n+    } else {\n+        try_err!(writeln!(&mut w, \"var searchIndex={{}};\"), &dst);\n+    }\n     try_err!(write_minify_replacer(&mut w,\n                                    &format!(\"{}\\n{}\", variables.join(\"\"), all_indexes.join(\"\\n\")),\n                                    options.enable_minification),"}]}