{"sha": "d8c6bce4407b1c99ed961f75a093ffe767818069", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ4YzZiY2U0NDA3YjFjOTllZDk2MWY3NWEwOTNmZmU3Njc4MTgwNjk=", "commit": {"author": {"name": "Daniel Smith", "email": "daniel.smith@datadoghq.com", "date": "2020-10-13T17:20:01Z"}, "committer": {"name": "Daniel Smith", "email": "daniel.smith@datadoghq.com", "date": "2020-10-21T15:04:26Z"}, "message": "Convert the await holding lints to correctness", "tree": {"sha": "0fcda4a046b8b2f3c17e81fa8199efe61e8e93c7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0fcda4a046b8b2f3c17e81fa8199efe61e8e93c7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d8c6bce4407b1c99ed961f75a093ffe767818069", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d8c6bce4407b1c99ed961f75a093ffe767818069", "html_url": "https://github.com/rust-lang/rust/commit/d8c6bce4407b1c99ed961f75a093ffe767818069", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d8c6bce4407b1c99ed961f75a093ffe767818069/comments", "author": null, "committer": null, "parents": [{"sha": "ee20ebadafc9b2e4995015097e376c0a866d84af", "url": "https://api.github.com/repos/rust-lang/rust/commits/ee20ebadafc9b2e4995015097e376c0a866d84af", "html_url": "https://github.com/rust-lang/rust/commit/ee20ebadafc9b2e4995015097e376c0a866d84af"}], "stats": {"total": 14, "additions": 8, "deletions": 6}, "files": [{"sha": "1d201ff095b909deee3f75cd309ed902641c18b4", "filename": "clippy_lints/src/await_holding_invalid.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d8c6bce4407b1c99ed961f75a093ffe767818069/clippy_lints%2Fsrc%2Fawait_holding_invalid.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8c6bce4407b1c99ed961f75a093ffe767818069/clippy_lints%2Fsrc%2Fawait_holding_invalid.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fawait_holding_invalid.rs?ref=d8c6bce4407b1c99ed961f75a093ffe767818069", "patch": "@@ -45,7 +45,7 @@ declare_clippy_lint! {\n     /// }\n     /// ```\n     pub AWAIT_HOLDING_LOCK,\n-    pedantic,\n+    correctness,\n     \"Inside an async function, holding a MutexGuard while calling await\"\n }\n \n@@ -126,7 +126,7 @@ declare_clippy_lint! {\n     /// }\n     /// ```\n     pub AWAIT_HOLDING_REFCELL_REF,\n-    pedantic,\n+    correctness,\n     \"Inside an async function, holding a RefCell ref while calling await\"\n }\n "}, {"sha": "c627df209763c4d6da5286bdba6b54c7994ab775", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d8c6bce4407b1c99ed961f75a093ffe767818069/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8c6bce4407b1c99ed961f75a093ffe767818069/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=d8c6bce4407b1c99ed961f75a093ffe767818069", "patch": "@@ -1190,8 +1190,6 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n \n     store.register_group(true, \"clippy::pedantic\", Some(\"clippy_pedantic\"), vec![\n         LintId::of(&attrs::INLINE_ALWAYS),\n-        LintId::of(&await_holding_invalid::AWAIT_HOLDING_LOCK),\n-        LintId::of(&await_holding_invalid::AWAIT_HOLDING_REFCELL_REF),\n         LintId::of(&bit_mask::VERBOSE_BIT_MASK),\n         LintId::of(&checked_conversions::CHECKED_CONVERSIONS),\n         LintId::of(&copies::MATCH_SAME_ARMS),\n@@ -1290,6 +1288,8 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&attrs::MISMATCHED_TARGET_OS),\n         LintId::of(&attrs::UNKNOWN_CLIPPY_LINTS),\n         LintId::of(&attrs::USELESS_ATTRIBUTE),\n+        LintId::of(&await_holding_invalid::AWAIT_HOLDING_LOCK),\n+        LintId::of(&await_holding_invalid::AWAIT_HOLDING_REFCELL_REF),\n         LintId::of(&bit_mask::BAD_BIT_MASK),\n         LintId::of(&bit_mask::INEFFECTIVE_BIT_MASK),\n         LintId::of(&blacklisted_name::BLACKLISTED_NAME),\n@@ -1736,6 +1736,8 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n         LintId::of(&attrs::DEPRECATED_SEMVER),\n         LintId::of(&attrs::MISMATCHED_TARGET_OS),\n         LintId::of(&attrs::USELESS_ATTRIBUTE),\n+        LintId::of(&await_holding_invalid::AWAIT_HOLDING_LOCK),\n+        LintId::of(&await_holding_invalid::AWAIT_HOLDING_REFCELL_REF),\n         LintId::of(&bit_mask::BAD_BIT_MASK),\n         LintId::of(&bit_mask::INEFFECTIVE_BIT_MASK),\n         LintId::of(&booleans::LOGIC_BUG),"}, {"sha": "d9e019e2b611e9bbe266576750cc2fc05a0a7b17", "filename": "src/lintlist/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d8c6bce4407b1c99ed961f75a093ffe767818069/src%2Flintlist%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d8c6bce4407b1c99ed961f75a093ffe767818069/src%2Flintlist%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flintlist%2Fmod.rs?ref=d8c6bce4407b1c99ed961f75a093ffe767818069", "patch": "@@ -62,14 +62,14 @@ vec![\n     },\n     Lint {\n         name: \"await_holding_lock\",\n-        group: \"pedantic\",\n+        group: \"correctness\",\n         desc: \"Inside an async function, holding a MutexGuard while calling await\",\n         deprecation: None,\n         module: \"await_holding_invalid\",\n     },\n     Lint {\n         name: \"await_holding_refcell_ref\",\n-        group: \"pedantic\",\n+        group: \"correctness\",\n         desc: \"Inside an async function, holding a RefCell ref while calling await\",\n         deprecation: None,\n         module: \"await_holding_invalid\","}]}