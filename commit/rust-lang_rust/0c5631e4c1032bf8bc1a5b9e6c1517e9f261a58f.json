{"sha": "0c5631e4c1032bf8bc1a5b9e6c1517e9f261a58f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjNTYzMWU0YzEwMzJiZjhiYzFhNWI5ZTZjMTUxN2U5ZjI2MWE1OGY=", "commit": {"author": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2018-04-28T07:05:02Z"}, "committer": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2018-04-28T07:05:02Z"}, "message": "Use correct span for UseTree", "tree": {"sha": "ebcc1bf094490fcfabb30773f229c0ce6cafeb44", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ebcc1bf094490fcfabb30773f229c0ce6cafeb44"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0c5631e4c1032bf8bc1a5b9e6c1517e9f261a58f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0c5631e4c1032bf8bc1a5b9e6c1517e9f261a58f", "html_url": "https://github.com/rust-lang/rust/commit/0c5631e4c1032bf8bc1a5b9e6c1517e9f261a58f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0c5631e4c1032bf8bc1a5b9e6c1517e9f261a58f/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a159b64b0aea1b09ec0d677acebd3f666426e6bc", "url": "https://api.github.com/repos/rust-lang/rust/commits/a159b64b0aea1b09ec0d677acebd3f666426e6bc", "html_url": "https://github.com/rust-lang/rust/commit/a159b64b0aea1b09ec0d677acebd3f666426e6bc"}], "stats": {"total": 17, "additions": 14, "deletions": 3}, "files": [{"sha": "8963f62748b99c011c5a0828163b8ab16e557c51", "filename": "src/imports.rs", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/0c5631e4c1032bf8bc1a5b9e6c1517e9f261a58f/src%2Fimports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c5631e4c1032bf8bc1a5b9e6c1517e9f261a58f/src%2Fimports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fimports.rs?ref=0c5631e4c1032bf8bc1a5b9e6c1517e9f261a58f", "patch": "@@ -119,6 +119,17 @@ impl PartialEq for UseTree {\n }\n impl Eq for UseTree {}\n \n+impl Spanned for UseTree {\n+    fn span(&self) -> Span {\n+        let lo = if let Some(ref attrs) = self.attrs {\n+            attrs.iter().next().map_or(self.span.lo(), |a| a.span.lo())\n+        } else {\n+            self.span.lo()\n+        };\n+        mk_sp(lo, self.span.hi())\n+    }\n+}\n+\n impl UseSegment {\n     // Clone a version of self with any top-level alias removed.\n     fn remove_alias(&self) -> UseSegment {\n@@ -268,7 +279,7 @@ impl UseTree {\n                     use_tree,\n                     None,\n                     Some(item.vis.clone()),\n-                    Some(item.span().lo()),\n+                    Some(item.span.lo()),\n                     if item.attrs.is_empty() {\n                         None\n                     } else {"}, {"sha": "027b64e8317a2b72f2ee2b3f1546bd0bd82bb25a", "filename": "src/reorder.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0c5631e4c1032bf8bc1a5b9e6c1517e9f261a58f/src%2Freorder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c5631e4c1032bf8bc1a5b9e6c1517e9f261a58f/src%2Freorder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Freorder.rs?ref=0c5631e4c1032bf8bc1a5b9e6c1517e9f261a58f", "patch": "@@ -128,8 +128,8 @@ fn rewrite_reorderable_items(\n                 cloned.iter(),\n                 \"\",\n                 \";\",\n-                |item| item.span.lo(),\n-                |item| item.span.hi(),\n+                |item| item.span().lo(),\n+                |item| item.span().hi(),\n                 |_item| Some(\"\".to_owned()),\n                 span.lo(),\n                 span.hi(),"}]}