{"sha": "e0f09cd00728fb5257d9e6e663de29875c6f0347", "node_id": "C_kwDOAAsO6NoAKGUwZjA5Y2QwMDcyOGZiNTI1N2Q5ZTZlNjYzZGUyOTg3NWM2ZjAzNDc", "commit": {"author": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2022-10-28T12:17:16Z"}, "committer": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2022-10-28T12:24:59Z"}, "message": "Document the ordering constraint on `Binders` and `Substitution`", "tree": {"sha": "b437cd8df778271de313be33c682a8762f1639e3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b437cd8df778271de313be33c682a8762f1639e3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e0f09cd00728fb5257d9e6e663de29875c6f0347", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEkSbsQIURluxz4rzf4laYqTBYYXEFAmNbyhsACgkQ4laYqTBY\nYXGCZQ/+NH5/EkNCOYaRgk+ZBfQ75m4M6SHurE81jnplW4QQ77G0JMZQuUU77QV7\nRI9s1kWTffRfjUjT48piMCaiaQDzR0hJtJKTdtnchXCNMy6qYpvyGnYUxLRi6cjt\ngVemDA6W8UEOYSnpFx+CXjxhM/kJ86FCcNSYEANdqpJ7IKAxymW95KpibCJIGA1P\nU6ZmJptU5LWF/zwbPT80i33WGg8vBITdEm8jMhgtLzXeibfZ8+98HeP6mP+CdOGO\nT0ZJP8PFu0zw+2KlZsILGCQQwDYhcyu+wFIYlzbWcJN1+P6wtmJ5k5YFyoQwr+nF\n5niD51VGlYklr5c4NdeiIk8ev3F6E5b0MiLujatT43Orlf2bakL8oFRHszJdHghl\n6Zxfkz4kHsXQ12D5xVro7rgmpkeM8V8BLttVeUm5vZpzPV5dZBBzleoalLS85pHa\npFNKU+Svp6lRLg+Xoxi6ZJnb2fchipvtNBrbVDQorN7Ig+QfvzDNOExmuZ0Oj5Xi\nf2xFjoUt2BqJNqCgmUi5YA4Hou2T7Y9mCS29dX5cfKOufutWKpl51JKjGd2zqvqg\nWf9V4Ht+CvXzt+3h33mtDUkQI2X9MoMeR2gK5xPVygL0Kqr3NCGva1xiQA2NI8+L\nXq/A3xKPKQDN4qld2XHYgDvdy9ZmoncFX5lZJNiBZdhky/5V19Q=\n=yeQM\n-----END PGP SIGNATURE-----", "payload": "tree b437cd8df778271de313be33c682a8762f1639e3\nparent 5c794210bfb67c7aa021b405810342cd50e21262\nauthor Ryo Yoshida <low.ryoshida@gmail.com> 1666959436 +0900\ncommitter Ryo Yoshida <low.ryoshida@gmail.com> 1666959899 +0900\n\nDocument the ordering constraint on `Binders` and `Substitution`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e0f09cd00728fb5257d9e6e663de29875c6f0347", "html_url": "https://github.com/rust-lang/rust/commit/e0f09cd00728fb5257d9e6e663de29875c6f0347", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e0f09cd00728fb5257d9e6e663de29875c6f0347/comments", "author": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5c794210bfb67c7aa021b405810342cd50e21262", "url": "https://api.github.com/repos/rust-lang/rust/commits/5c794210bfb67c7aa021b405810342cd50e21262", "html_url": "https://github.com/rust-lang/rust/commit/5c794210bfb67c7aa021b405810342cd50e21262"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "42c3b58d5ada520ba626c22c5ace408f007b2797", "filename": "crates/hir-ty/src/lib.rs", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/e0f09cd00728fb5257d9e6e663de29875c6f0347/crates%2Fhir-ty%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e0f09cd00728fb5257d9e6e663de29875c6f0347/crates%2Fhir-ty%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-ty%2Fsrc%2Flib.rs?ref=e0f09cd00728fb5257d9e6e663de29875c6f0347", "patch": "@@ -81,7 +81,20 @@ pub type PlaceholderIndex = chalk_ir::PlaceholderIndex;\n pub type VariableKind = chalk_ir::VariableKind<Interner>;\n pub type VariableKinds = chalk_ir::VariableKinds<Interner>;\n pub type CanonicalVarKinds = chalk_ir::CanonicalVarKinds<Interner>;\n+/// Represents generic parameters and an item bound by them. When the item has parent, the binders\n+/// also contain the generic parameters for its parent. See chalk's documentation for details.\n+///\n+/// One thing to keep in mind when working with `Binders` (and `Substitution`s, which represent\n+/// generic arguments) in rust-analyzer is that the ordering within *is* significant - the generic\n+/// parameters/arguments for an item MUST come before those for its parent. This is to facilitate\n+/// the integration with chalk-solve, which mildly puts constraints as such. See #13335 for its\n+/// motivation in detail.\n pub type Binders<T> = chalk_ir::Binders<T>;\n+/// Interned list of generic arguments for an item. When an item has parent, the `Substitution` for\n+/// it contains generic arguments for both its parent and itself. See chalk's documentation for\n+/// details.\n+///\n+/// See `Binders` for the constraint on the ordering.\n pub type Substitution = chalk_ir::Substitution<Interner>;\n pub type GenericArg = chalk_ir::GenericArg<Interner>;\n pub type GenericArgData = chalk_ir::GenericArgData<Interner>;"}]}