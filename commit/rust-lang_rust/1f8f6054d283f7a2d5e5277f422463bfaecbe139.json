{"sha": "1f8f6054d283f7a2d5e5277f422463bfaecbe139", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFmOGY2MDU0ZDI4M2Y3YTJkNWU1Mjc3ZjQyMjQ2M2JmYWVjYmUxMzk=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-12-16T01:25:58Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2011-12-16T01:25:58Z"}, "message": "rustc: Box tag variants to avoid copies", "tree": {"sha": "04eb9201b66ee5f3721040b8a1f166c4bae2171b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/04eb9201b66ee5f3721040b8a1f166c4bae2171b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1f8f6054d283f7a2d5e5277f422463bfaecbe139", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1f8f6054d283f7a2d5e5277f422463bfaecbe139", "html_url": "https://github.com/rust-lang/rust/commit/1f8f6054d283f7a2d5e5277f422463bfaecbe139", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1f8f6054d283f7a2d5e5277f422463bfaecbe139/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "26db74c81193c895f51ee67f3cfba5b2b412b1cf", "url": "https://api.github.com/repos/rust-lang/rust/commits/26db74c81193c895f51ee67f3cfba5b2b412b1cf", "html_url": "https://github.com/rust-lang/rust/commit/26db74c81193c895f51ee67f3cfba5b2b412b1cf"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "d5d981bb81c4badfe16ae6121914390f451a28f8", "filename": "src/comp/metadata/decoder.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1f8f6054d283f7a2d5e5277f422463bfaecbe139/src%2Fcomp%2Fmetadata%2Fdecoder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f8f6054d283f7a2d5e5277f422463bfaecbe139/src%2Fcomp%2Fmetadata%2Fdecoder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmetadata%2Fdecoder.rs?ref=1f8f6054d283f7a2d5e5277f422463bfaecbe139", "patch": "@@ -244,7 +244,7 @@ fn get_tag_variants(_data: @[u8], def: ast::def_id, tcx: ty::ctxt,\n \n           }\n         }\n-        infos += [{args: arg_tys, ctor_ty: ctor_ty, id: did}];\n+        infos += [@{args: arg_tys, ctor_ty: ctor_ty, id: did}];\n     }\n     ret infos;\n }"}, {"sha": "2ff7f0b1b74779b53c82d6e50f09d5d62ab7f76e", "filename": "src/comp/middle/ty.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1f8f6054d283f7a2d5e5277f422463bfaecbe139/src%2Fcomp%2Fmiddle%2Fty.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f8f6054d283f7a2d5e5277f422463bfaecbe139/src%2Fcomp%2Fmiddle%2Fty.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Fty.rs?ref=1f8f6054d283f7a2d5e5277f422463bfaecbe139", "patch": "@@ -2721,7 +2721,7 @@ fn def_has_ty_params(def: ast::def) -> bool {\n \n \n // Tag information\n-type variant_info = {args: [ty::t], ctor_ty: ty::t, id: ast::def_id};\n+type variant_info = @{args: [ty::t], ctor_ty: ty::t, id: ast::def_id};\n \n fn tag_variants(cx: ctxt, id: ast::def_id) -> @mutable [variant_info] {\n     if ast::local_crate != id.crate {\n@@ -2752,9 +2752,9 @@ fn tag_variants(cx: ctxt, id: ast::def_id) -> @mutable [variant_info] {\n                 }\n                 let did = variant.node.id;\n                 *result +=\n-                    [{args: arg_tys,\n-                      ctor_ty: ctor_ty,\n-                      id: ast_util::local_def(did)}];\n+                    [@{args: arg_tys,\n+                       ctor_ty: ctor_ty,\n+                       id: ast_util::local_def(did)}];\n             }\n             smallintmap::insert(*cx.tag_var_cache, id.node as uint, result);\n             ret result;"}]}