{"sha": "7fb712e269bcb73c5986c90831a43bcd50bd5340", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdmYjcxMmUyNjliY2I3M2M1OTg2YzkwODMxYTQzYmNkNTBiZDUzNDA=", "commit": {"author": {"name": "Jack Moffitt", "email": "jack@metajack.im", "date": "2014-01-17T21:44:40Z"}, "committer": {"name": "Jack Moffitt", "email": "jack@metajack.im", "date": "2014-01-17T21:45:07Z"}, "message": "Warning police.", "tree": {"sha": "422310c73917bc22674e2dbcc4a8564e5fbad408", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/422310c73917bc22674e2dbcc4a8564e5fbad408"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7fb712e269bcb73c5986c90831a43bcd50bd5340", "comment_count": 17, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7fb712e269bcb73c5986c90831a43bcd50bd5340", "html_url": "https://github.com/rust-lang/rust/commit/7fb712e269bcb73c5986c90831a43bcd50bd5340", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7fb712e269bcb73c5986c90831a43bcd50bd5340/comments", "author": {"login": "metajack", "id": 28357, "node_id": "MDQ6VXNlcjI4MzU3", "avatar_url": "https://avatars.githubusercontent.com/u/28357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/metajack", "html_url": "https://github.com/metajack", "followers_url": "https://api.github.com/users/metajack/followers", "following_url": "https://api.github.com/users/metajack/following{/other_user}", "gists_url": "https://api.github.com/users/metajack/gists{/gist_id}", "starred_url": "https://api.github.com/users/metajack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/metajack/subscriptions", "organizations_url": "https://api.github.com/users/metajack/orgs", "repos_url": "https://api.github.com/users/metajack/repos", "events_url": "https://api.github.com/users/metajack/events{/privacy}", "received_events_url": "https://api.github.com/users/metajack/received_events", "type": "User", "site_admin": false}, "committer": {"login": "metajack", "id": 28357, "node_id": "MDQ6VXNlcjI4MzU3", "avatar_url": "https://avatars.githubusercontent.com/u/28357?v=4", "gravatar_id": "", "url": "https://api.github.com/users/metajack", "html_url": "https://github.com/metajack", "followers_url": "https://api.github.com/users/metajack/followers", "following_url": "https://api.github.com/users/metajack/following{/other_user}", "gists_url": "https://api.github.com/users/metajack/gists{/gist_id}", "starred_url": "https://api.github.com/users/metajack/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/metajack/subscriptions", "organizations_url": "https://api.github.com/users/metajack/orgs", "repos_url": "https://api.github.com/users/metajack/repos", "events_url": "https://api.github.com/users/metajack/events{/privacy}", "received_events_url": "https://api.github.com/users/metajack/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f7088edc03d96872fb2b83d211969c1fe5c271d8", "url": "https://api.github.com/repos/rust-lang/rust/commits/f7088edc03d96872fb2b83d211969c1fe5c271d8", "html_url": "https://github.com/rust-lang/rust/commit/f7088edc03d96872fb2b83d211969c1fe5c271d8"}], "stats": {"total": 17, "additions": 1, "deletions": 16}, "files": [{"sha": "0e78e907de052e0a9257bee961da4963c66e57f3", "filename": "src/librustpkg/tests.rs", "status": "modified", "additions": 1, "deletions": 16, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/7fb712e269bcb73c5986c90831a43bcd50bd5340/src%2Flibrustpkg%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7fb712e269bcb73c5986c90831a43bcd50bd5340/src%2Flibrustpkg%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustpkg%2Ftests.rs?ref=7fb712e269bcb73c5986c90831a43bcd50bd5340", "patch": "@@ -26,7 +26,7 @@ use extra::getopts::groups::getopts;\n use std::run::ProcessOutput;\n use installed_packages::list_installed_packages;\n use crate_id::{CrateId};\n-use version::{ExactRevision, NoVersion, Version, Tagged};\n+use version::{ExactRevision, NoVersion, Version};\n use path_util::{target_executable_in_workspace, target_test_in_workspace,\n                target_bench_in_workspace, make_dir_rwx,\n                library_in_workspace, installed_library_in_workspace,\n@@ -35,7 +35,6 @@ use path_util::{target_executable_in_workspace, target_test_in_workspace,\n                chmod_read_only, platform_library_name};\n use rustc::back::link::get_cc_prog;\n use rustc::metadata::filesearch::{rust_path, libdir, rustlibdir};\n-use rustc::driver::session;\n use rustc::driver::driver::{build_session, build_session_options, host_triple, optgroups};\n use syntax::diagnostic;\n use target::*;\n@@ -76,14 +75,6 @@ fn git_repo_pkg() -> CrateId {\n     }\n }\n \n-fn git_repo_pkg_with_tag(a_tag: ~str) -> CrateId {\n-    CrateId {\n-        path: Path::new(\"mockgithub.com/catamorphism/test-pkg\"),\n-        short_name: ~\"test-pkg\",\n-        version: Tagged(a_tag)\n-    }\n-}\n-\n fn writeFile(file_path: &Path, contents: &str) {\n     let mut out = File::create(file_path);\n     out.write(contents.as_bytes());\n@@ -487,12 +478,6 @@ fn lib_output_file_name(workspace: &Path, short_name: &str) -> Path {\n                          &NoVersion).expect(\"lib_output_file_name\")\n }\n \n-fn output_file_name(workspace: &Path, short_name: ~str) -> Path {\n-    target_build_dir(workspace).join(short_name.as_slice())\n-                               .join(format!(\"{}{}\", short_name,\n-                                             os::consts::EXE_SUFFIX))\n-}\n-\n #[cfg(target_os = \"linux\")]\n fn touch_source_file(workspace: &Path, crateid: &CrateId) {\n     use conditions::bad_path::cond;"}]}