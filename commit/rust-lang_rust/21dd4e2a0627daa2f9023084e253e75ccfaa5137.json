{"sha": "21dd4e2a0627daa2f9023084e253e75ccfaa5137", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIxZGQ0ZTJhMDYyN2RhYTJmOTAyMzA4NGUyNTNlNzVjY2ZhYTUxMzc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-24T19:44:10Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2015-06-24T19:44:10Z"}, "message": "Auto merge of #26546 - agrover:add_flock, r=alexcrichton\n\nflock(2) is in bsd44. Add its fn definition and constants.", "tree": {"sha": "f22df1a2a9393f50b4f61ddde9f9690ee3c06c01", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f22df1a2a9393f50b4f61ddde9f9690ee3c06c01"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/21dd4e2a0627daa2f9023084e253e75ccfaa5137", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/21dd4e2a0627daa2f9023084e253e75ccfaa5137", "html_url": "https://github.com/rust-lang/rust/commit/21dd4e2a0627daa2f9023084e253e75ccfaa5137", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/21dd4e2a0627daa2f9023084e253e75ccfaa5137/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e2c273f1bb3a7f3d11097533ff59460ef8a9a5c6", "url": "https://api.github.com/repos/rust-lang/rust/commits/e2c273f1bb3a7f3d11097533ff59460ef8a9a5c6", "html_url": "https://github.com/rust-lang/rust/commit/e2c273f1bb3a7f3d11097533ff59460ef8a9a5c6"}, {"sha": "0f1e5144007b255c87c15badefc0a8b7612137b6", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f1e5144007b255c87c15badefc0a8b7612137b6", "html_url": "https://github.com/rust-lang/rust/commit/0f1e5144007b255c87c15badefc0a8b7612137b6"}], "stats": {"total": 27, "additions": 27, "deletions": 0}, "files": [{"sha": "6e01796ad82279b9f1f6305e4a04e65858700edc", "filename": "src/liblibc/lib.rs", "status": "modified", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/21dd4e2a0627daa2f9023084e253e75ccfaa5137/src%2Fliblibc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/21dd4e2a0627daa2f9023084e253e75ccfaa5137/src%2Fliblibc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliblibc%2Flib.rs?ref=21dd4e2a0627daa2f9023084e253e75ccfaa5137", "patch": "@@ -3600,6 +3600,11 @@ pub mod consts {\n             pub const SHUT_RD: c_int = 0;\n             pub const SHUT_WR: c_int = 1;\n             pub const SHUT_RDWR: c_int = 2;\n+\n+            pub const LOCK_SH: c_int = 1;\n+            pub const LOCK_EX: c_int = 2;\n+            pub const LOCK_NB: c_int = 4;\n+            pub const LOCK_UN: c_int = 8;\n         }\n         #[cfg(any(target_arch = \"mips\",\n                   target_arch = \"mipsel\"))]\n@@ -3684,6 +3689,11 @@ pub mod consts {\n             pub const SHUT_RD: c_int = 0;\n             pub const SHUT_WR: c_int = 1;\n             pub const SHUT_RDWR: c_int = 2;\n+\n+            pub const LOCK_SH: c_int = 1;\n+            pub const LOCK_EX: c_int = 2;\n+            pub const LOCK_NB: c_int = 4;\n+            pub const LOCK_UN: c_int = 8;\n         }\n         #[cfg(any(target_arch = \"x86\",\n                   target_arch = \"x86_64\",\n@@ -4227,6 +4237,11 @@ pub mod consts {\n             pub const SHUT_RD: c_int = 0;\n             pub const SHUT_WR: c_int = 1;\n             pub const SHUT_RDWR: c_int = 2;\n+\n+            pub const LOCK_SH: c_int = 1;\n+            pub const LOCK_EX: c_int = 2;\n+            pub const LOCK_NB: c_int = 4;\n+            pub const LOCK_UN: c_int = 8;\n         }\n         pub mod extra {\n             use types::os::arch::c95::c_int;\n@@ -4651,6 +4666,11 @@ pub mod consts {\n             pub const SHUT_RD: c_int = 0;\n             pub const SHUT_WR: c_int = 1;\n             pub const SHUT_RDWR: c_int = 2;\n+\n+            pub const LOCK_SH: c_int = 1;\n+            pub const LOCK_EX: c_int = 2;\n+            pub const LOCK_NB: c_int = 4;\n+            pub const LOCK_UN: c_int = 8;\n         }\n         pub mod extra {\n             use types::os::arch::c95::c_int;\n@@ -5092,6 +5112,11 @@ pub mod consts {\n             pub const SHUT_RD: c_int = 0;\n             pub const SHUT_WR: c_int = 1;\n             pub const SHUT_RDWR: c_int = 2;\n+\n+            pub const LOCK_SH: c_int = 1;\n+            pub const LOCK_EX: c_int = 2;\n+            pub const LOCK_NB: c_int = 4;\n+            pub const LOCK_UN: c_int = 8;\n         }\n         pub mod extra {\n             use types::os::arch::c95::c_int;\n@@ -6121,6 +6146,7 @@ pub mod funcs {\n                            -> c_int;\n             pub fn realpath(pathname: *const c_char, resolved: *mut c_char)\n                             -> *mut c_char;\n+            pub fn flock(fd: c_int, operation: c_int) -> c_int;\n         }\n     }\n \n@@ -6137,6 +6163,7 @@ pub mod funcs {\n                            -> c_int;\n             pub fn mincore(addr: *mut c_void, len: size_t, vec: *mut c_uchar)\n                            -> c_int;\n+            pub fn flock(fd: c_int, operation: c_int) -> c_int;\n         }\n     }\n "}]}