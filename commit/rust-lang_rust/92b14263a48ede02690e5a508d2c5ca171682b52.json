{"sha": "92b14263a48ede02690e5a508d2c5ca171682b52", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkyYjE0MjYzYTQ4ZWRlMDI2OTBlNWE1MDhkMmM1Y2ExNzE2ODJiNTI=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2018-07-14T09:59:42Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2018-07-14T10:04:15Z"}, "message": "Update to cranelift 0.14", "tree": {"sha": "afbd7c961b4f45c0244d9ac84235f10819e5aa40", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/afbd7c961b4f45c0244d9ac84235f10819e5aa40"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/92b14263a48ede02690e5a508d2c5ca171682b52", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/92b14263a48ede02690e5a508d2c5ca171682b52", "html_url": "https://github.com/rust-lang/rust/commit/92b14263a48ede02690e5a508d2c5ca171682b52", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/92b14263a48ede02690e5a508d2c5ca171682b52/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aee8d7505792d1caa877664bdc4dc23f0ce9a3f2", "url": "https://api.github.com/repos/rust-lang/rust/commits/aee8d7505792d1caa877664bdc4dc23f0ce9a3f2", "html_url": "https://github.com/rust-lang/rust/commit/aee8d7505792d1caa877664bdc4dc23f0ce9a3f2"}], "stats": {"total": 645, "additions": 177, "deletions": 468}, "files": [{"sha": "d14ac70b2db87ab40861d9c855732bb46c98b290", "filename": "Cargo.lock", "status": "modified", "additions": 88, "deletions": 433, "changes": 521, "blob_url": "https://github.com/rust-lang/rust/blob/92b14263a48ede02690e5a508d2c5ca171682b52/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/92b14263a48ede02690e5a508d2c5ca171682b52/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=92b14263a48ede02690e5a508d2c5ca171682b52", "patch": "@@ -1,36 +1,10 @@\n-[[package]]\n-name = \"aho-corasick\"\n-version = \"0.6.4\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"memchr 2.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"ansi_term\"\n-version = \"0.11.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"winapi 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"atty\"\n-version = \"0.2.10\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"termion 1.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"backtrace\"\n-version = \"0.3.8\"\n+version = \"0.3.9\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"backtrace-sys 0.1.23 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cfg-if 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cfg-if 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-demangle 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -45,11 +19,6 @@ dependencies = [\n  \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"bitflags\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"bitflags\"\n version = \"1.0.3\"\n@@ -62,98 +31,71 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"cfg-if\"\n-version = \"0.1.3\"\n+version = \"0.1.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n-name = \"clap\"\n-version = \"2.31.2\"\n+name = \"cranelift\"\n+version = \"0.14.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"ansi_term 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"atty 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"bitflags 1.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"strsim 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"textwrap 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"unicode-width 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"vec_map 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-codegen 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-frontend 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n-name = \"cretonne\"\n-version = \"0.12.0\"\n+name = \"cranelift-codegen\"\n+version = \"0.14.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cretonne-codegen 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cretonne-frontend 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"cretonne-codegen\"\n-version = \"0.12.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"cretonne-entity 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-entity 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure_derive 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"target-lexicon 0.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n-name = \"cretonne-entity\"\n-version = \"0.12.0\"\n+name = \"cranelift-entity\"\n+version = \"0.14.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n-name = \"cretonne-faerie\"\n-version = \"0.12.0\"\n+name = \"cranelift-frontend\"\n+version = \"0.14.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cretonne-codegen 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cretonne-module 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"faerie 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"goblin 0.0.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"target-lexicon 0.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-codegen 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n-name = \"cretonne-frontend\"\n-version = \"0.12.0\"\n+name = \"cranelift-module\"\n+version = \"0.14.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cretonne-codegen 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"cretonne-module\"\n-version = \"0.12.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"cretonne-codegen 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cretonne-entity 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-codegen 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-entity 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n-name = \"cretonne-native\"\n-version = \"0.12.0\"\n+name = \"cranelift-native\"\n+version = \"0.14.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cretonne-codegen 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"raw-cpuid 3.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-codegen 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"raw-cpuid 4.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"target-lexicon 0.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n-name = \"cretonne-simplejit\"\n-version = \"0.12.0\"\n+name = \"cranelift-simplejit\"\n+version = \"0.14.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"cretonne-codegen 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cretonne-module 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cretonne-native 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"errno 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-codegen 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-module 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-native 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"errno 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"region 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"target-lexicon 0.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -165,51 +107,31 @@ name = \"dtoa\"\n version = \"0.4.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"env_logger\"\n-version = \"0.5.10\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"atty 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"humantime 1.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"log 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"termcolor 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"errno\"\n-version = \"0.2.3\"\n+version = \"0.2.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"errno-dragonfly 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"winapi 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n-name = \"faerie\"\n-version = \"0.4.2\"\n+name = \"errno-dragonfly\"\n+version = \"0.1.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"env_logger 0.5.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"goblin 0.0.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"indexmap 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"log 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"scroll 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"string-interner 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"structopt 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"structopt-derive 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"target-lexicon 0.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"gcc 0.3.54 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"failure\"\n version = \"0.1.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"backtrace 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"backtrace 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure_derive 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -224,78 +146,20 @@ dependencies = [\n ]\n \n [[package]]\n-name = \"goblin\"\n-version = \"0.0.14\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"log 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"plain 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"scroll 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"goblin\"\n-version = \"0.0.15\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"log 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"plain 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"scroll 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"humantime\"\n-version = \"1.1.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"quick-error 1.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"indexmap\"\n-version = \"1.0.1\"\n+name = \"gcc\"\n+version = \"0.3.54\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"itoa\"\n version = \"0.4.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"kernel32-sys\"\n-version = \"0.2.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"winapi 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"winapi-build 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"lazy_static\"\n-version = \"1.0.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"libc\"\n version = \"0.2.42\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"log\"\n-version = \"0.3.9\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"log 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"log\"\n-version = \"0.4.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"cfg-if 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"mach\"\n version = \"0.1.2\"\n@@ -304,19 +168,6 @@ dependencies = [\n  \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"memchr\"\n-version = \"2.0.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"plain\"\n-version = \"0.2.3\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"proc-macro2\"\n version = \"0.4.6\"\n@@ -325,11 +176,6 @@ dependencies = [\n  \"unicode-xid 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"quick-error\"\n-version = \"1.2.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"quote\"\n version = \"0.3.15\"\n@@ -345,44 +191,14 @@ dependencies = [\n \n [[package]]\n name = \"raw-cpuid\"\n-version = \"3.1.0\"\n+version = \"4.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"bitflags 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"bitflags 1.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cc 1.0.17 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"redox_syscall\"\n-version = \"0.1.40\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n-[[package]]\n-name = \"redox_termios\"\n-version = \"0.1.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"redox_syscall 0.1.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"regex\"\n-version = \"1.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"aho-corasick 0.6.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"memchr 2.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex-syntax 0.6.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"thread_local 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"utf8-ranges 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"regex-syntax\"\n-version = \"0.6.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"ucd-util 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc_version 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.68 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_derive 1.0.70 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -391,7 +207,7 @@ version = \"0.3.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"bitflags 1.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"errno 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"errno 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"mach 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -404,95 +220,58 @@ version = \"0.1.8\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n-name = \"rustc_codegen_cretonne\"\n+name = \"rustc_codegen_cranelift\"\n version = \"0.1.0\"\n dependencies = [\n- \"cretonne 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cretonne-faerie 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cretonne-module 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"cretonne-simplejit 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-module 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cranelift-simplejit 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n-name = \"scroll\"\n-version = \"0.8.0\"\n+name = \"rustc_version\"\n+version = \"0.2.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"scroll_derive 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n-name = \"scroll\"\n+name = \"semver\"\n version = \"0.9.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"scroll_derive 0.9.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n-name = \"scroll_derive\"\n-version = \"0.8.0\"\n+name = \"semver-parser\"\n+version = \"0.7.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+\n+[[package]]\n+name = \"serde\"\n+version = \"1.0.68\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"quote 0.3.15 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"syn 0.11.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n \n [[package]]\n-name = \"scroll_derive\"\n-version = \"0.9.4\"\n+name = \"serde_derive\"\n+version = \"1.0.70\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"proc-macro2 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"quote 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"syn 0.14.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"syn 0.14.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"serde\"\n-version = \"1.0.66\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"serde_json\"\n-version = \"1.0.20\"\n+version = \"1.0.22\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"dtoa 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"itoa 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.66 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"string-interner\"\n-version = \"0.6.3\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"serde 1.0.66 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"strsim\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n-[[package]]\n-name = \"structopt\"\n-version = \"0.2.10\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"clap 2.31.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"structopt-derive 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"structopt-derive\"\n-version = \"0.2.10\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"proc-macro2 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"quote 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"syn 0.14.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde 1.0.68 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -507,7 +286,7 @@ dependencies = [\n \n [[package]]\n name = \"syn\"\n-version = \"0.14.2\"\n+version = \"0.14.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"proc-macro2 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -539,54 +318,9 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure_derive 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.20 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.22 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"termcolor\"\n-version = \"0.3.6\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"wincolor 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"termion\"\n-version = \"1.5.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"redox_syscall 0.1.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"redox_termios 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"textwrap\"\n-version = \"0.9.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"unicode-width 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"thread_local\"\n-version = \"0.3.5\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"lazy_static 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"unreachable 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"ucd-util\"\n-version = \"0.1.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n-[[package]]\n-name = \"unicode-width\"\n-version = \"0.1.5\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"unicode-xid\"\n version = \"0.0.4\"\n@@ -597,34 +331,6 @@ name = \"unicode-xid\"\n version = \"0.1.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"unreachable\"\n-version = \"1.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"void 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"utf8-ranges\"\n-version = \"1.0.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n-[[package]]\n-name = \"vec_map\"\n-version = \"0.8.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n-[[package]]\n-name = \"void\"\n-version = \"1.0.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n-[[package]]\n-name = \"winapi\"\n-version = \"0.2.8\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"winapi\"\n version = \"0.3.5\"\n@@ -634,11 +340,6 @@ dependencies = [\n  \"winapi-x86_64-pc-windows-gnu 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"winapi-build\"\n-version = \"0.1.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"winapi-i686-pc-windows-gnu\"\n version = \"0.4.0\"\n@@ -649,93 +350,47 @@ name = \"winapi-x86_64-pc-windows-gnu\"\n version = \"0.4.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"wincolor\"\n-version = \"0.1.6\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"winapi 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [metadata]\n-\"checksum aho-corasick 0.6.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d6531d44de723825aa81398a6415283229725a00fa30713812ab9323faa82fc4\"\n-\"checksum ansi_term 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ee49baf6cb617b853aa8d93bf420db2383fab46d314482ca2803b40d5fde979b\"\n-\"checksum atty 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2fc4a1aa4c24c0718a250f0681885c1af91419d242f29eb8f2ab28502d80dbd1\"\n-\"checksum backtrace 0.3.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"dbdd17cd962b570302f5297aea8648d5923e22e555c2ed2d8b2e34eca646bf6d\"\n+\"checksum backtrace 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"89a47830402e9981c5c41223151efcced65a0510c13097c769cede7efb34782a\"\n \"checksum backtrace-sys 0.1.23 (registry+https://github.com/rust-lang/crates.io-index)\" = \"bff67d0c06556c0b8e6b5f090f0eac52d950d9dfd1d35ba04e4ca3543eaf6a7e\"\n-\"checksum bitflags 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"aad18937a628ec6abcd26d1489012cc0e18c21798210f491af69ded9b881106d\"\n \"checksum bitflags 1.0.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d0c54bb8f454c567f21197eefcdbf5679d0bd99f2ddbe52e84c77061952e6789\"\n \"checksum cc 1.0.17 (registry+https://github.com/rust-lang/crates.io-index)\" = \"49ec142f5768efb5b7622aebc3fdbdbb8950a4b9ba996393cb76ef7466e8747d\"\n-\"checksum cfg-if 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"405216fd8fe65f718daa7102ea808a946b6ce40c742998fbfd3463645552de18\"\n-\"checksum clap 2.31.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f0f16b89cbb9ee36d87483dc939fe9f1e13c05898d56d7b230a0d4dff033a536\"\n-\"checksum cretonne 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"03610d69c786a211347d0be3f7da59cb03b025ef2cd83f66ea98103728f42ecc\"\n-\"checksum cretonne-codegen 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8e7e43ab7952e998ea8da4bcda3b53d398396b9b691df44a040be5486a4935ef\"\n-\"checksum cretonne-entity 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4109dcfc0c7b8e11ad92a702d3f5df435d2782012118aa75566d2d0db586da3a\"\n-\"checksum cretonne-faerie 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e8d665b4ac93c254f79e861696db5a1297133c8c8603e5cd06b26250568a9cb0\"\n-\"checksum cretonne-frontend 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e0238865d537393f73598542a906dadfe85fcf070c293cdf882ece170d197455\"\n-\"checksum cretonne-module 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"232354804f19cb12bf2ac6f715d26df81a7242b3693a1a6cd2774ff89311e283\"\n-\"checksum cretonne-native 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"66d768de850f29bbb2cda9eeed168369c66263bee9068ca1b9af28000216116c\"\n-\"checksum cretonne-simplejit 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"54d9e73a7f5bb0529be747a86a164e087c96edfd89e30b6d6f92653b70fc9943\"\n+\"checksum cfg-if 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"efe5c877e17a9c717a0bf3613b2709f723202c4e4675cc8f12926ded29bcb17e\"\n+\"checksum cranelift 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c8bd8d55e2609a5b03377e1fb0919d57e8eda4f7c29dc55b665d4c2f17e9f109\"\n+\"checksum cranelift-codegen 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"01eb8fe68d2c0b98fef2ec1f618eaa6d73e691b0451a1b42d9f822924ebb7848\"\n+\"checksum cranelift-entity 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ae4f5796a9618786ddc8e8ec2c879a0e43e611b924657dc0929f475bf7efd6d4\"\n+\"checksum cranelift-frontend 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f1ef7683f7517b08df0d0c90b615cb9be361bc394f03b6117d51f7be83db21c2\"\n+\"checksum cranelift-module 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"05ac4232a9fac77aa7d29ae713ae7817e3efa730f007c0f528a279cd68a6824d\"\n+\"checksum cranelift-native 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"bb9bfdcca2c05a260408ca018846cd4b8ad87c5eea1623627f97d34cf82c2b31\"\n+\"checksum cranelift-simplejit 0.14.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"01d1587398fde1c2970a1da7fe9ac687bdcad39bb398bea9ae08276153390c55\"\n \"checksum dtoa 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"09c3753c3db574d215cba4ea76018483895d7bff25a31b49ba45db21c48e50ab\"\n-\"checksum env_logger 0.5.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0e6e40ebb0e66918a37b38c7acab4e10d299e0463fe2af5d29b9cc86710cfd2a\"\n-\"checksum errno 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b2c858c42ac0b88532f48fca88b0ed947cad4f1f64d904bcd6c9f138f7b95d70\"\n-\"checksum faerie 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ffaaaa682748ec082a384edbf1d468ce10ad1b39dcfa3a8c3c0dbc5e6cff754c\"\n+\"checksum errno 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c2a071601ed01b988f896ab14b95e67335d1eeb50190932a1320f7fe3cadc84e\"\n+\"checksum errno-dragonfly 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"14ca354e36190500e1e1fb267c647932382b54053c50b14970856c0b00a35067\"\n \"checksum failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"934799b6c1de475a012a02dab0ace1ace43789ee4b99bcfbf1a2e3e8ced5de82\"\n \"checksum failure_derive 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c7cdda555bb90c9bb67a3b670a0f42de8e73f5981524123ad8578aafec8ddb8b\"\n-\"checksum goblin 0.0.14 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2a5fea7ad351be7398e08003ea92a16bbba9a23c2a0c95d4e37d178276508217\"\n-\"checksum goblin 0.0.15 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5e3ba9fec4dc9a09553388bff2724d3bf06bd64013539f2d3e1e3838eefb310a\"\n-\"checksum humantime 1.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0484fda3e7007f2a4a0d9c3a703ca38c71c54c55602ce4660c419fd32e188c9e\"\n-\"checksum indexmap 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"08173ba1e906efb6538785a8844dd496f5d34f0a2d88038e95195172fc667220\"\n+\"checksum gcc 0.3.54 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5e33ec290da0d127825013597dbdfc28bee4964690c7ce1166cbc2a7bd08b1bb\"\n \"checksum itoa 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c069bbec61e1ca5a596166e55dfe4773ff745c3d16b700013bcaff9a6df2c682\"\n-\"checksum kernel32-sys 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7507624b29483431c0ba2d82aece8ca6cdba9382bff4ddd0f7490560c056098d\"\n-\"checksum lazy_static 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e6412c5e2ad9584b0b8e979393122026cdd6d2a80b933f890dcd694ddbe73739\"\n \"checksum libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b685088df2b950fccadf07a7187c8ef846a959c142338a48f9dc0b94517eb5f1\"\n-\"checksum log 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e19e8d5c34a3e0e2223db8e060f9e8264aeeb5c5fc64a4ee9965c062211c024b\"\n-\"checksum log 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6fddaa003a65722a7fb9e26b0ce95921fe4ba590542ced664d8ce2fa26f9f3ac\"\n \"checksum mach 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2fd13ee2dd61cc82833ba05ade5a30bb3d63f7ced605ef827063c63078302de9\"\n-\"checksum memchr 2.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"796fba70e76612589ed2ce7f45282f5af869e0fdd7cc6199fa1aa1f1d591ba9d\"\n-\"checksum plain 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b4596b6d070b27117e987119b4dac604f3c58cfb0b191112e24771b2faeac1a6\"\n \"checksum proc-macro2 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"effdb53b25cdad54f8f48843d67398f7ef2e14f12c1b4cb4effc549a6462a4d6\"\n-\"checksum quick-error 1.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9274b940887ce9addde99c4eee6b5c44cc494b182b97e73dc8ffdcb3397fd3f0\"\n \"checksum quote 0.3.15 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7a6e920b65c65f10b2ae65c831a81a073a89edd28c7cce89475bff467ab4167a\"\n \"checksum quote 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e44651a0dc4cdd99f71c83b561e221f714912d11af1a4dff0631f923d53af035\"\n-\"checksum raw-cpuid 3.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"233ec1847057cf4d4591a0d76908aa12812140b11ea7d7d05b4c38cadb069c31\"\n-\"checksum redox_syscall 0.1.40 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c214e91d3ecf43e9a4e41e578973adeb14b474f2bee858742d127af75a0112b1\"\n-\"checksum redox_termios 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7e891cfe48e9100a70a3b6eb652fef28920c117d366339687bd5576160db0f76\"\n-\"checksum regex 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"75ecf88252dce580404a22444fc7d626c01815debba56a7f4f536772a5ff19d3\"\n-\"checksum regex-syntax 0.6.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"05b06a75f5217880fc5e905952a42750bf44787e56a6c6d6852ed0992f5e1d54\"\n+\"checksum raw-cpuid 4.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"90e0d3209fac374e168cef2d8806dde7b31ef0ee82a965bcc0bec562c078a6f5\"\n \"checksum region 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3f9d3f2bb4b7085e6996e2765b56b783bd8f3a8a4ea5b95683063ca13cded993\"\n \"checksum rustc-demangle 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"76d7ba1feafada44f2d38eed812bd2489a03c0f5abb975799251518b68848649\"\n-\"checksum scroll 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b13864e1e0b3ed661d7206d512b8d1c4970f7fd9de23ae4e9b4331f0c25559e8\"\n-\"checksum scroll 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"66f024a8cc5e456eb870f688dbd899c84f61190c82c7a911e40f926941969074\"\n-\"checksum scroll_derive 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2a67086db2a44e94311fc4c02ec3f4751bda0fca9d87fd4e1bfe1cef55e9411d\"\n-\"checksum scroll_derive 0.9.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f9a353f5dd99e42ff097d5a61db3257aa2c7127d76a3fa8287b642ef9ae0f7c5\"\n-\"checksum serde 1.0.66 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e9a2d9a9ac5120e0f768801ca2b58ad6eec929dc9d1d616c162f208869c2ce95\"\n-\"checksum serde_json 1.0.20 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fc97cccc2959f39984524026d760c08ef0dd5f0f5948c8d31797dbfae458c875\"\n-\"checksum string-interner 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"abb38a0d8fe673c40b10b6b75abcb076a958cc10fb894f14993d9737c4c87000\"\n-\"checksum strsim 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"bb4f380125926a99e52bc279241539c018323fab05ad6368b56f93d9369ff550\"\n-\"checksum structopt 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d8e9ad6a11096cbecdcca0cc6aa403fdfdbaeda2fb3323a39c98e6a166a1e45a\"\n-\"checksum structopt-derive 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4cbce8ccdc62166bd594c14396a3242bf94c337a51dbfa9be1076dd74b3db2af\"\n+\"checksum rustc_version 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a54aa04a10c68c1c4eacb4337fd883b435997ede17a9385784b990777686b09a\"\n+\"checksum semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1d7eb9ef2c18661902cc47e535f9bc51b78acd254da71d375c2f6720d9a40403\"\n+\"checksum semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3\"\n+\"checksum serde 1.0.68 (registry+https://github.com/rust-lang/crates.io-index)\" = \"429fcc4efa8a11341b5422c2ace724daba276c1748467e869478f53c0ba4562e\"\n+\"checksum serde_derive 1.0.70 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3525a779832b08693031b8ecfb0de81cd71cfd3812088fafe9a7496789572124\"\n+\"checksum serde_json 1.0.22 (registry+https://github.com/rust-lang/crates.io-index)\" = \"84b8035cabe9b35878adec8ac5fe03d5f6bc97ff6edd7ccb96b44c1276ba390e\"\n \"checksum syn 0.11.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d3b891b9015c88c576343b9b3e41c2c11a51c219ef067b264bd9c8aa9b441dad\"\n-\"checksum syn 0.14.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c67da57e61ebc7b7b6fff56bb34440ca3a83db037320b0507af4c10368deda7d\"\n+\"checksum syn 0.14.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2beff8ebc3658f07512a413866875adddd20f4fd47b2a4e6c9da65cd281baaea\"\n \"checksum synom 0.11.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a393066ed9010ebaed60b9eafa373d4b1baac186dd7e008555b0f702b51945b6\"\n \"checksum synstructure 0.6.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3a761d12e6d8dcb4dcf952a7a89b475e3a9d69e4a69307e01a470977642914bd\"\n \"checksum target-lexicon 0.0.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"71b0a95ba4eff593189d912039fba46ce6ca1876ea6c16830e15340919d0a250\"\n-\"checksum termcolor 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"adc4587ead41bf016f11af03e55a624c06568b5a19db4e90fde573d805074f83\"\n-\"checksum termion 1.5.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"689a3bdfaab439fd92bc87df5c4c78417d3cbe537487274e9b0b2dce76e92096\"\n-\"checksum textwrap 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c0b59b6b4b44d867f1370ef1bd91bfb262bf07bf0ae65c202ea2fbc16153b693\"\n-\"checksum thread_local 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"279ef31c19ededf577bfd12dfae728040a21f635b06a24cd670ff510edd38963\"\n-\"checksum ucd-util 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fd2be2d6639d0f8fe6cdda291ad456e23629558d466e2789d2c3e9892bda285d\"\n-\"checksum unicode-width 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"882386231c45df4700b275c7ff55b6f3698780a650026380e72dabe76fa46526\"\n \"checksum unicode-xid 0.0.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8c1f860d7d29cf02cb2f3f359fd35991af3d30bac52c57d265a3c461074cb4dc\"\n \"checksum unicode-xid 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fc72304796d0818e357ead4e000d19c9c174ab23dc11093ac919054d20a6a7fc\"\n-\"checksum unreachable 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"382810877fe448991dfc7f0dd6e3ae5d58088fd0ea5e35189655f84e6814fa56\"\n-\"checksum utf8-ranges 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"662fab6525a98beff2921d7f61a39e7d59e0b425ebc7d0d9e66d316e55124122\"\n-\"checksum vec_map 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"05c78687fb1a80548ae3250346c3db86a80a7cdd77bda190189f2d0a0987c81a\"\n-\"checksum void 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6a02e4885ed3bc0f2de90ea6dd45ebcbb66dacffe03547fadbb0eeae2770887d\"\n-\"checksum winapi 0.2.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"167dc9d6949a9b857f3451275e911c3f44255842c1f7a76f33c55103a909087a\"\n \"checksum winapi 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"773ef9dcc5f24b7d850d0ff101e542ff24c3b090a9768e03ff889fdef41f00fd\"\n-\"checksum winapi-build 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2d315eee3b34aca4797b2da6b13ed88266e6d612562a0c46390af8299fc699bc\"\n \"checksum winapi-i686-pc-windows-gnu 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ac3b87c63620426dd9b991e5ce0329eff545bccbbb34f3be09ff6fb6ab51b7b6\"\n \"checksum winapi-x86_64-pc-windows-gnu 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"712e227841d057c1ee1cd2fb22fa7e5a5461ae8e48fa2ca79ec42cfc1931183f\"\n-\"checksum wincolor 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"eeb06499a3a4d44302791052df005d5232b927ed1a9658146d842165c4de7767\""}, {"sha": "b2c212baedfdb47939e1cfef5bc36a95dd4730fa", "filename": "Cargo.toml", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/92b14263a48ede02690e5a508d2c5ca171682b52/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/92b14263a48ede02690e5a508d2c5ca171682b52/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=92b14263a48ede02690e5a508d2c5ca171682b52", "patch": "@@ -1,13 +1,13 @@\n [package]\n-name = \"rustc_codegen_cretonne\"\n+name = \"rustc_codegen_cranelift\"\n version = \"0.1.0\"\n authors = [\"bjorn3 <bjorn3@users.noreply.github.com>\"]\n \n [lib]\n crate-type = [\"dylib\"]\n \n [dependencies]\n-cretonne = \"0.12.0\"\n-cretonne-module = \"0.12.0\"\n-cretonne-simplejit = \"0.12.0\"\n-cretonne-faerie = \"0.12.0\"\n+cranelift = \"0.14.0\"\n+cranelift-module = \"0.14.0\"\n+cranelift-simplejit = \"0.14.0\"\n+#cranelift-faerie = \"0.14.0\""}, {"sha": "8795292097ee02198a7f7c26d844bc54161deb74", "filename": "build.sh", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/92b14263a48ede02690e5a508d2c5ca171682b52/build.sh", "raw_url": "https://github.com/rust-lang/rust/raw/92b14263a48ede02690e5a508d2c5ca171682b52/build.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/build.sh?ref=92b14263a48ede02690e5a508d2c5ca171682b52", "patch": "@@ -1,4 +1,4 @@\n cargo build || exit 1\n \n-rustc -Zcodegen-backend=$(pwd)/target/debug/librustc_codegen_cretonne.so example.rs --crate-type lib -Og\n-rustc -Zcodegen-backend=$(pwd)/target/debug/librustc_codegen_cretonne.so ../rust/src/libcore/lib.rs --crate-type lib -Og\n+rustc -Zcodegen-backend=$(pwd)/target/debug/librustc_codegen_cranelift.dylib example.rs --crate-type lib -Og\n+rustc -Zcodegen-backend=$(pwd)/target/debug/librustc_codegen_cranelift.dylib ../rust_fork/src/libcore/lib.rs --crate-type lib -Og"}, {"sha": "29ec4c14d2c3f79d7d9c1ad261131b3a107e585b", "filename": "src/base.rs", "status": "modified", "additions": 11, "deletions": 7, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/92b14263a48ede02690e5a508d2c5ca171682b52/src%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/92b14263a48ede02690e5a508d2c5ca171682b52/src%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbase.rs?ref=92b14263a48ede02690e5a508d2c5ca171682b52", "patch": "@@ -27,17 +27,18 @@ pub fn trans_mono_item<'a, 'tcx: 'a>(cx: &mut CodegenCx<'a, 'tcx, CurrentBackend\n \n                 let mut f = Function::with_name_signature(ExternalName::user(0, func_id.index() as u32), sig);\n \n-                ::base::trans_fn(cx, &mut f, inst);\n+                let comments = ::base::trans_fn(cx, &mut f, inst);\n \n                 let mut cton = String::new();\n-                ::cretonne::codegen::write_function(&mut cton, &f, None).unwrap();\n+                ::cranelift::codegen::write_function(&mut cton, &f, None).unwrap();\n                 tcx.sess.warn(&cton);\n \n                 let flags = settings::Flags::new(settings::builder());\n-                match ::cretonne::codegen::verify_function(&f, &flags) {\n+                match ::cranelift::codegen::verify_function(&f, &flags) {\n                     Ok(_) => {}\n                     Err(err) => {\n-                        let pretty_error = ::cretonne::codegen::print_errors::pretty_verifier_error(&f, None, &err);\n+                        let writer = ::pretty_clif::CommentWriter(comments);\n+                        let pretty_error = ::cranelift::codegen::print_errors::pretty_verifier_error(&f, None, Some(Box::new(writer)), &err);\n                         tcx.sess.fatal(&format!(\"cretonne verify error:\\n{}\", pretty_error));\n                     }\n                 }\n@@ -52,7 +53,7 @@ pub fn trans_mono_item<'a, 'tcx: 'a>(cx: &mut CodegenCx<'a, 'tcx, CurrentBackend\n     }\n }\n \n-pub fn trans_fn<'a, 'tcx: 'a>(cx: &mut CodegenCx<'a, 'tcx, CurrentBackend>, f: &mut Function, instance: Instance<'tcx>) {\n+pub fn trans_fn<'a, 'tcx: 'a>(cx: &mut CodegenCx<'a, 'tcx, CurrentBackend>, f: &mut Function, instance: Instance<'tcx>) -> HashMap<Inst, String> {\n     let mir = cx.tcx.optimized_mir(instance.def_id());\n     let mut func_ctx = FunctionBuilderContext::new();\n     let mut bcx: FunctionBuilder<Variable> = FunctionBuilder::new(f, &mut func_ctx);\n@@ -77,6 +78,7 @@ pub fn trans_fn<'a, 'tcx: 'a>(cx: &mut CodegenCx<'a, 'tcx, CurrentBackend>, f: &\n         },\n         ebb_map,\n         local_map: HashMap::new(),\n+        comments: HashMap::new(),\n     };\n     let fx = &mut fx;\n \n@@ -234,11 +236,13 @@ pub fn trans_fn<'a, 'tcx: 'a>(cx: &mut CodegenCx<'a, 'tcx, CurrentBackend>, f: &\n \n         let mut terminator_head = \"\\n\".to_string();\n         bb_data.terminator().kind.fmt_head(&mut terminator_head).unwrap();\n-        fx.bcx.func.comments[inst] = terminator_head;\n+        fx.add_comment(inst, terminator_head);\n     }\n \n     fx.bcx.seal_all_blocks();\n     fx.bcx.finalize();\n+\n+    fx.comments.clone()\n }\n \n fn trans_stmt<'a, 'tcx: 'a>(fx: &mut FunctionCx<'a, 'tcx>, stmt: &Statement<'tcx>) {\n@@ -426,7 +430,7 @@ fn trans_stmt<'a, 'tcx: 'a>(fx: &mut FunctionCx<'a, 'tcx>, stmt: &Statement<'tcx\n \n     let inst = fx.bcx.func.layout.next_inst(nop_inst).unwrap();\n     fx.bcx.func.layout.remove_inst(nop_inst);\n-    fx.bcx.func.comments[inst] = format!(\"{:?}\", stmt);\n+    fx.add_comment(inst, format!(\"{:?}\", stmt));\n }\n \n fn trans_int_binop<'a, 'tcx: 'a>(fx: &mut FunctionCx<'a, 'tcx>, bin_op: BinOp, lhs: Value, rhs: Value, ty: Ty<'tcx>, signed: bool, _checked: bool) -> CValue<'tcx> {"}, {"sha": "ba922d16d306302c38d872e3d6b8bec8f78ad9a1", "filename": "src/common.rs", "status": "modified", "additions": 18, "deletions": 2, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/92b14263a48ede02690e5a508d2c5ca171682b52/src%2Fcommon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/92b14263a48ede02690e5a508d2c5ca171682b52/src%2Fcommon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcommon.rs?ref=92b14263a48ede02690e5a508d2c5ca171682b52", "patch": "@@ -1,13 +1,15 @@\n extern crate rustc_target;\n \n+use std::borrow::Cow;\n+\n use syntax::ast::{IntTy, UintTy};\n use self::rustc_target::spec::{HasTargetSpec, Target};\n \n-use cretonne_module::{Module, Linkage, FuncId};\n+use cranelift_module::{Module, Linkage, FuncId};\n \n use prelude::*;\n \n-pub type CurrentBackend = ::cretonne_simplejit::SimpleJITBackend;\n+pub type CurrentBackend = ::cranelift_simplejit::SimpleJITBackend;\n \n #[derive(Debug, Copy, Clone, Eq, PartialEq)]\n pub struct Variable(Local);\n@@ -293,6 +295,7 @@ pub struct FunctionCx<'a, 'tcx: 'a> {\n     pub bcx: FunctionBuilder<'a, Variable>,\n     pub ebb_map: HashMap<BasicBlock, Ebb>,\n     pub local_map: HashMap<Local, CPlace<'tcx>>,\n+    pub comments: HashMap<Inst, String>,\n }\n \n impl<'a, 'tcx: 'a> LayoutOf for &'a FunctionCx<'a, 'tcx> {\n@@ -355,4 +358,17 @@ impl<'a, 'tcx: 'a> FunctionCx<'a, 'tcx> {\n         });\n         module.declare_func_in_func(func_id, &mut self.bcx.func)\n     }\n+\n+    pub fn add_comment<'s, S: Into<Cow<'s, str>>>(&mut self, inst: Inst, comment: S) {\n+        use std::collections::hash_map::Entry;\n+        match self.comments.entry(inst) {\n+            Entry::Occupied(mut occ) => {\n+                occ.get_mut().push('\\n');\n+                occ.get_mut().push_str(comment.into().as_ref());\n+            }\n+            Entry::Vacant(vac) => {\n+                vac.insert(comment.into().into_owned());\n+            }\n+        }\n+    }\n }"}, {"sha": "f1c47ddb7cfd55669cc8ad2c3007550100e9d4ee", "filename": "src/lib.rs", "status": "modified", "additions": 19, "deletions": 19, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/92b14263a48ede02690e5a508d2c5ca171682b52/src%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/92b14263a48ede02690e5a508d2c5ca171682b52/src%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib.rs?ref=92b14263a48ede02690e5a508d2c5ca171682b52", "patch": "@@ -9,10 +9,10 @@ extern crate rustc_codegen_utils;\n extern crate rustc_incremental;\n extern crate rustc_data_structures;\n \n-extern crate cretonne;\n-extern crate cretonne_module;\n-extern crate cretonne_simplejit;\n-extern crate cretonne_faerie;\n+extern crate cranelift;\n+extern crate cranelift_module;\n+extern crate cranelift_simplejit;\n+//extern crate cranelift_faerie;\n \n use syntax::symbol::Symbol;\n use rustc::session::{\n@@ -35,6 +35,7 @@ use std::io::Write;\n \n mod base;\n mod common;\n+mod pretty_clif;\n \n mod prelude {\n     pub use std::any::Any;\n@@ -52,13 +53,13 @@ mod prelude {\n     pub use rustc_data_structures::{indexed_vec::Idx, sync::Lrc};\n     pub use rustc_mir::monomorphize::{MonoItem, collector};\n \n-    pub use cretonne::codegen::ir::{\n-        condcodes::IntCC, function::Function, ExternalName, FuncRef, StackSlot,\n+    pub use cranelift::codegen::ir::{\n+        condcodes::IntCC, function::Function, ExternalName, FuncRef, StackSlot, Inst\n     };\n-    pub use cretonne::codegen::Context;\n-    pub use cretonne::prelude::*;\n-    pub use cretonne_module::{Module, Backend, FuncId, Linkage};\n-    pub use cretonne_simplejit::{SimpleJITBuilder, SimpleJITBackend};\n+    pub use cranelift::codegen::Context;\n+    pub use cranelift::prelude::*;\n+    pub use cranelift_module::{Module, Backend, FuncId, Linkage};\n+    pub use cranelift_simplejit::{SimpleJITBuilder, SimpleJITBackend};\n \n     pub use common::Variable;\n     pub use common::*;\n@@ -74,21 +75,21 @@ pub struct CodegenCx<'a, 'tcx: 'a, B: Backend + 'a> {\n     pub def_id_fn_id_map: &'a mut HashMap<Instance<'tcx>, FuncId>,\n }\n \n-struct CretonneCodegenBackend(());\n+struct CraneliftCodegenBackend(());\n \n struct OngoingCodegen {\n     metadata: EncodedMetadata,\n-    //translated_module: Module<cretonne_faerie::FaerieBackend>,\n+    //translated_module: Module<cranelift_faerie::FaerieBackend>,\n     crate_name: Symbol,\n }\n \n-impl CretonneCodegenBackend {\n+impl CraneliftCodegenBackend {\n     fn new() -> Box<CodegenBackend> {\n-        Box::new(CretonneCodegenBackend(()))\n+        Box::new(CraneliftCodegenBackend(()))\n     }\n }\n \n-impl CodegenBackend for CretonneCodegenBackend {\n+impl CodegenBackend for CraneliftCodegenBackend {\n     fn init(&self, sess: &Session) {\n         for cty in sess.opts.crate_types.iter() {\n             match *cty {\n@@ -118,7 +119,6 @@ impl CodegenBackend for CretonneCodegenBackend {\n         };\n         providers.is_reachable_non_generic = |_tcx, _defid| true;\n         providers.exported_symbols = |_tcx, _crate| Arc::new(Vec::new());\n-        providers.wasm_custom_sections = |_tcx, _crate| Lrc::new(Vec::new());\n     }\n     fn provide_extern(&self, providers: &mut Providers) {\n         providers.is_reachable_non_generic = |_tcx, _defid| true;\n@@ -213,7 +213,7 @@ impl CodegenBackend for CretonneCodegenBackend {\n \n         Box::new(::OngoingCodegen {\n             metadata: metadata,\n-            //translated_module: Module::new(::cretonne_faerie::FaerieBuilder::new(,\n+            //translated_module: Module::new(::cranelift_faerie::FaerieBuilder::new(,\n             crate_name: tcx.crate_name(LOCAL_CRATE),\n         })\n     }\n@@ -252,8 +252,8 @@ impl CodegenBackend for CretonneCodegenBackend {\n     }\n }\n \n-/// This is the entrypoint for a hot plugged rustc_codegen_cretonne\n+/// This is the entrypoint for a hot plugged rustc_codegen_cranelift\n #[no_mangle]\n pub fn __rustc_codegen_backend() -> Box<CodegenBackend> {\n-    CretonneCodegenBackend::new()\n+    CraneliftCodegenBackend::new()\n }"}, {"sha": "a3eb848f91af22bbdc7dd932ce34b13a51eff987", "filename": "src/pretty_clif.rs", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/92b14263a48ede02690e5a508d2c5ca171682b52/src%2Fpretty_clif.rs", "raw_url": "https://github.com/rust-lang/rust/raw/92b14263a48ede02690e5a508d2c5ca171682b52/src%2Fpretty_clif.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fpretty_clif.rs?ref=92b14263a48ede02690e5a508d2c5ca171682b52", "patch": "@@ -0,0 +1,34 @@\n+use std::collections::HashMap;\n+use std::fmt;\n+\n+use cranelift::codegen::{\n+    ir::{Function, Inst},\n+    FuncWriter,\n+    PlainWriter,\n+};\n+use cranelift::prelude::*;\n+\n+pub struct CommentWriter(pub HashMap<Inst, String>);\n+\n+impl FuncWriter for CommentWriter {\n+    fn write_instruction(\n+        &mut self,\n+        w: &mut dyn fmt::Write,\n+        func: &Function,\n+        isa: Option<&dyn isa::TargetIsa>,\n+        inst: Inst,\n+        indent: usize,\n+    ) -> fmt::Result {\n+\n+        PlainWriter.write_instruction(w, func, isa, inst, indent)\n+    }\n+\n+    fn write_preamble(\n+        &mut self,\n+        w: &mut dyn fmt::Write,\n+        func: &Function,\n+        reg_info: Option<&isa::RegInfo>,\n+    ) -> Result<bool, fmt::Error> {\n+        PlainWriter.write_preamble(w, func, reg_info)\n+    }\n+}"}]}