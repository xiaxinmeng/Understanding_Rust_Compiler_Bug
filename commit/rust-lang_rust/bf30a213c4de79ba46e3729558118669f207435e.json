{"sha": "bf30a213c4de79ba46e3729558118669f207435e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJmMzBhMjEzYzRkZTc5YmE0NmUzNzI5NTU4MTE4NjY5ZjIwNzQzNWU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-12-17T20:56:39Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-12-17T20:56:39Z"}, "message": "auto merge of #10967 : chris-morgan/rust/clean-and-tidy-some-traits, r=alexcrichton\n\n### Remove {As,Into,To}{Option,Either,Result} traits.\r\n\r\nExpanded, that is:\r\n\r\n- `AsOption`\r\n- `IntoOption`\r\n- `ToOption`\r\n- `AsEither`\r\n- `IntoEither`\r\n- `ToEither`\r\n- `AsResult`\r\n- `IntoResult`\r\n- `ToResult`\r\n\r\nThese were defined for each other but never *used* anywhere. They are\r\nall trivial and so removal will have negligible effect upon anyone.\r\n`Either` has fallen out of favour (and its implementation of these\r\ntraits of dubious semantics), `Option<T>` \u2192 `Result<T, ()>` was never\r\nreally useful and `Result<T, E>` \u2192 `Option<T>` should now be done with\r\n`Result.ok()` (mirrored with `Result.err()` for even more usefulness).\r\n\r\nIn summary, there's really no point in any of these remaining.\r\n\r\n### Rename To{Str,Bytes}Consume traits to Into*.\r\n\r\nThat is:\r\n\r\n- `ToStrConsume` \u2192 `IntoStr`;\r\n- `ToBytesConsume` \u2192 `IntoBytes`.", "tree": {"sha": "d08ba96bcfe05057d16a1cba5951416b1a7db251", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d08ba96bcfe05057d16a1cba5951416b1a7db251"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bf30a213c4de79ba46e3729558118669f207435e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bf30a213c4de79ba46e3729558118669f207435e", "html_url": "https://github.com/rust-lang/rust/commit/bf30a213c4de79ba46e3729558118669f207435e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bf30a213c4de79ba46e3729558118669f207435e/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3272b002b3d2943f17be70e719bf2ffa6058cf72", "url": "https://api.github.com/repos/rust-lang/rust/commits/3272b002b3d2943f17be70e719bf2ffa6058cf72", "html_url": "https://github.com/rust-lang/rust/commit/3272b002b3d2943f17be70e719bf2ffa6058cf72"}, {"sha": "b76997f3a947b296ca04be184da88ff1c0959dcb", "url": "https://api.github.com/repos/rust-lang/rust/commits/b76997f3a947b296ca04be184da88ff1c0959dcb", "html_url": "https://github.com/rust-lang/rust/commit/b76997f3a947b296ca04be184da88ff1c0959dcb"}], "stats": {"total": 459, "additions": 9, "deletions": 450}, "files": [{"sha": "aa0549a861c89010fc54270bc11b9de3f8ba52cb", "filename": "src/etc/vim/syntax/rust.vim", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bf30a213c4de79ba46e3729558118669f207435e/src%2Fetc%2Fvim%2Fsyntax%2Frust.vim", "raw_url": "https://github.com/rust-lang/rust/raw/bf30a213c4de79ba46e3729558118669f207435e/src%2Fetc%2Fvim%2Fsyntax%2Frust.vim", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fvim%2Fsyntax%2Frust.vim?ref=bf30a213c4de79ba46e3729558118669f207435e", "patch": "@@ -66,7 +66,7 @@ syn keyword   rustEnumVariant Ok Err\n \n \" Types and traits {{{3\n syn keyword rustTrait Any AnyOwnExt AnyRefExt AnyMutRefExt\n-syn keyword rustTrait Ascii AsciiCast OwnedAsciiCast AsciiStr ToBytesConsume\n+syn keyword rustTrait Ascii AsciiCast OwnedAsciiCast AsciiStr IntoBytes\n syn keyword rustTrait Bool\n syn keyword rustTrait ToCStr\n syn keyword rustTrait Char\n@@ -94,7 +94,7 @@ syn keyword rustTrait Buffer Writer Reader Seek\n syn keyword rustTrait SendStr SendStrOwned SendStrStatic IntoSendStr\n syn keyword rustTrait Str StrVector StrSlice OwnedStr\n syn keyword rustTrait IterBytes\n-syn keyword rustTrait ToStr ToStrConsume\n+syn keyword rustTrait ToStr IntoStr\n syn keyword rustTrait CopyableTuple ImmutableTuple\n syn keyword rustTrait Tuple1 Tuple2 Tuple3 Tuple4\n syn keyword rustTrait Tuple5 Tuple6 Tuple7 Tuple8"}, {"sha": "4cdcbbdb9e8e168f243e1b76cf2aaff183806d12", "filename": "src/libstd/ascii.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Fascii.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Fascii.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fascii.rs?ref=bf30a213c4de79ba46e3729558118669f207435e", "patch": "@@ -10,7 +10,7 @@\n \n //! Operations on ASCII strings and characters.\n \n-use to_str::{ToStr,ToStrConsume};\n+use to_str::{ToStr,IntoStr};\n use str;\n use str::StrSlice;\n use str::OwnedStr;\n@@ -294,7 +294,7 @@ impl<'a> AsciiStr for &'a [Ascii] {\n     }\n }\n \n-impl ToStrConsume for ~[Ascii] {\n+impl IntoStr for ~[Ascii] {\n     #[inline]\n     fn into_str(self) -> ~str {\n         unsafe { cast::transmute(self) }\n@@ -309,12 +309,12 @@ impl IterBytes for Ascii {\n }\n \n /// Trait to convert to a owned byte array by consuming self\n-pub trait ToBytesConsume {\n+pub trait IntoBytes {\n     /// Converts to a owned byte array by consuming self\n     fn into_bytes(self) -> ~[u8];\n }\n \n-impl ToBytesConsume for ~[Ascii] {\n+impl IntoBytes for ~[Ascii] {\n     fn into_bytes(self) -> ~[u8] {\n         unsafe { cast::transmute(self) }\n     }"}, {"sha": "96f4e524852d11e012b2de0c0828b87361a9157a", "filename": "src/libstd/either.rs", "status": "modified", "additions": 0, "deletions": 187, "changes": 187, "blob_url": "https://github.com/rust-lang/rust/blob/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Feither.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Feither.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Feither.rs?ref=bf30a213c4de79ba46e3729558118669f207435e", "patch": "@@ -13,13 +13,10 @@\n #[allow(missing_doc)];\n \n use option::{Some, None};\n-use option;\n use clone::Clone;\n use container::Container;\n use cmp::Eq;\n use iter::{Iterator, FilterMap};\n-use result::Result;\n-use result;\n use str::StrSlice;\n use vec;\n use vec::{OwnedVector, ImmutableVector};\n@@ -105,101 +102,6 @@ impl<L, R> Either<L, R> {\n     }\n }\n \n-/// A generic trait for converting a value to a `Either`\n-pub trait ToEither<L, R> {\n-    /// Convert to the `either` type\n-    fn to_either(&self) -> Either<L, R>;\n-}\n-\n-/// A generic trait for converting a value to a `Either`\n-pub trait IntoEither<L, R> {\n-    /// Convert to the `either` type\n-    fn into_either(self) -> Either<L, R>;\n-}\n-\n-/// A generic trait for converting a value to a `Either`\n-pub trait AsEither<L, R> {\n-    /// Convert to the `either` type\n-    fn as_either<'a>(&'a self) -> Either<&'a L, &'a R>;\n-}\n-\n-impl<L, R: Clone> option::ToOption<R> for Either<L, R> {\n-    #[inline]\n-    fn to_option(&self)-> option::Option<R> {\n-        match *self {\n-            Left(_) => None,\n-            Right(ref r) => Some(r.clone()),\n-        }\n-    }\n-}\n-\n-impl<L, R> option::IntoOption<R> for Either<L, R> {\n-    #[inline]\n-    fn into_option(self)-> option::Option<R> {\n-        match self {\n-            Left(_) => None,\n-            Right(r) => Some(r),\n-        }\n-    }\n-}\n-\n-impl<L, R> option::AsOption<R> for Either<L, R> {\n-    #[inline]\n-    fn as_option<'a>(&'a self) -> option::Option<&'a R> {\n-        match *self {\n-            Left(_) => None,\n-            Right(ref r) => Some(r),\n-        }\n-    }\n-}\n-\n-impl<L: Clone, R: Clone> result::ToResult<R, L> for Either<L, R> {\n-    #[inline]\n-    fn to_result(&self)-> result::Result<R, L> {\n-        match *self {\n-            Left(ref l) => result::Err(l.clone()),\n-            Right(ref r) => result::Ok(r.clone()),\n-        }\n-    }\n-}\n-\n-impl<L, R> result::IntoResult<R, L> for Either<L, R> {\n-    #[inline]\n-    fn into_result(self)-> result::Result<R, L> {\n-        match self {\n-            Left(l) => result::Err(l),\n-            Right(r) => result::Ok(r),\n-        }\n-    }\n-}\n-\n-impl<L, R> result::AsResult<R, L> for Either<L, R> {\n-    #[inline]\n-    fn as_result<'a>(&'a self) -> result::Result<&'a R, &'a L> {\n-        match *self {\n-            Left(ref l) => result::Err(l),\n-            Right(ref r) => result::Ok(r),\n-        }\n-    }\n-}\n-\n-impl<L: Clone, R: Clone> ToEither<L, R> for Either<L, R> {\n-    fn to_either(&self) -> Either<L, R> { self.clone() }\n-}\n-\n-impl<L, R> IntoEither<L, R> for Either<L, R> {\n-    fn into_either(self) -> Either<L, R> { self }\n-}\n-\n-impl<L, R> AsEither<L, R> for Either<L, R> {\n-    fn as_either<'a>(&'a self) -> Either<&'a L, &'a R> {\n-        match *self {\n-            Left(ref l) => Left(l),\n-            Right(ref r) => Right(r),\n-        }\n-    }\n-}\n-\n /// An iterator yielding the `Left` values of its source\n pub type Lefts<L, R, Iter> = FilterMap<'static, Either<L, R>, L, Iter>;\n \n@@ -251,11 +153,6 @@ pub fn partition<L, R>(eithers: ~[Either<L, R>]) -> (~[L], ~[R]) {\n mod tests {\n     use super::*;\n \n-    use option::{IntoOption, ToOption, AsOption};\n-    use option;\n-    use result::{IntoResult, ToResult, AsResult};\n-    use result;\n-\n     #[test]\n     fn test_either_left() {\n         let val = Left(10);\n@@ -348,88 +245,4 @@ mod tests {\n         assert_eq!(lefts.len(), 0u);\n         assert_eq!(rights.len(), 0u);\n     }\n-\n-    #[test]\n-    pub fn test_to_option() {\n-        let right: Either<int, int> = Right(100);\n-        let left: Either<int, int> = Left(404);\n-\n-        assert_eq!(right.to_option(), option::Some(100));\n-        assert_eq!(left.to_option(), option::None);\n-    }\n-\n-    #[test]\n-    pub fn test_into_option() {\n-        let right: Either<int, int> = Right(100);\n-        let left: Either<int, int> = Left(404);\n-\n-        assert_eq!(right.into_option(), option::Some(100));\n-        assert_eq!(left.into_option(), option::None);\n-    }\n-\n-    #[test]\n-    pub fn test_as_option() {\n-        let right: Either<int, int> = Right(100);\n-        let left: Either<int, int> = Left(404);\n-\n-        assert_eq!(right.as_option().unwrap(), &100);\n-        assert_eq!(left.as_option(), option::None);\n-    }\n-\n-    #[test]\n-    pub fn test_to_result() {\n-        let right: Either<int, int> = Right(100);\n-        let left: Either<int, int> = Left(404);\n-\n-        assert_eq!(right.to_result(), result::Ok(100));\n-        assert_eq!(left.to_result(), result::Err(404));\n-    }\n-\n-    #[test]\n-    pub fn test_into_result() {\n-        let right: Either<int, int> = Right(100);\n-        let left: Either<int, int> = Left(404);\n-\n-        assert_eq!(right.into_result(), result::Ok(100));\n-        assert_eq!(left.into_result(), result::Err(404));\n-    }\n-\n-    #[test]\n-    pub fn test_as_result() {\n-        let right: Either<int, int> = Right(100);\n-        let left: Either<int, int> = Left(404);\n-\n-        let x = 100;\n-        assert_eq!(right.as_result(), result::Ok(&x));\n-\n-        let x = 404;\n-        assert_eq!(left.as_result(), result::Err(&x));\n-    }\n-\n-    #[test]\n-    pub fn test_to_either() {\n-        let right: Either<int, int> = Right(100);\n-        let left: Either<int, int> = Left(404);\n-\n-        assert_eq!(right.to_either(), Right(100));\n-        assert_eq!(left.to_either(), Left(404));\n-    }\n-\n-    #[test]\n-    pub fn test_into_either() {\n-        let right: Either<int, int> = Right(100);\n-        let left: Either<int, int> = Left(404);\n-\n-        assert_eq!(right.into_either(), Right(100));\n-        assert_eq!(left.into_either(), Left(404));\n-    }\n-\n-    #[test]\n-    pub fn test_as_either() {\n-        let right: Either<int, int> = Right(100);\n-        let left: Either<int, int> = Left(404);\n-\n-        assert_eq!(right.as_either().unwrap_right(), &100);\n-        assert_eq!(left.as_either().unwrap_left(), &404);\n-    }\n }"}, {"sha": "87f6c8608fdfbe8cd2a86d32aae7103d07b06d09", "filename": "src/libstd/option.rs", "status": "modified", "additions": 0, "deletions": 122, "changes": 122, "blob_url": "https://github.com/rust-lang/rust/blob/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Foption.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Foption.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Foption.rs?ref=bf30a213c4de79ba46e3729558118669f207435e", "patch": "@@ -45,8 +45,6 @@ use default::Default;\n use fmt;\n use iter::{Iterator, DoubleEndedIterator, ExactSize};\n use kinds::Send;\n-use result::{IntoResult, ToResult, AsResult};\n-use result::{Result, Ok, Err};\n use str::OwnedStr;\n use to_str::ToStr;\n use util;\n@@ -359,83 +357,10 @@ impl<T: Default> Option<T> {\n     }\n }\n \n-/////////////////////////////////////////////////////////////////////////////\n-// Constructor extension trait\n-/////////////////////////////////////////////////////////////////////////////\n-\n-/// A generic trait for converting a value to a `Option`\n-pub trait ToOption<T> {\n-    /// Convert to the `option` type\n-    fn to_option(&self) -> Option<T>;\n-}\n-\n-/// A generic trait for converting a value to a `Option`\n-pub trait IntoOption<T> {\n-    /// Convert to the `option` type\n-    fn into_option(self) -> Option<T>;\n-}\n-\n-/// A generic trait for converting a value to a `Option`\n-pub trait AsOption<T> {\n-    /// Convert to the `option` type\n-    fn as_option<'a>(&'a self) -> Option<&'a T>;\n-}\n-\n-impl<T: Clone> ToOption<T> for Option<T> {\n-    #[inline]\n-    fn to_option(&self) -> Option<T> { self.clone() }\n-}\n-\n-impl<T> IntoOption<T> for Option<T> {\n-    #[inline]\n-    fn into_option(self) -> Option<T> { self }\n-}\n-\n-impl<T> AsOption<T> for Option<T> {\n-    #[inline]\n-    fn as_option<'a>(&'a self) -> Option<&'a T> {\n-        match *self {\n-            Some(ref x) => Some(x),\n-            None => None,\n-        }\n-    }\n-}\n-\n /////////////////////////////////////////////////////////////////////////////\n // Trait implementations\n /////////////////////////////////////////////////////////////////////////////\n \n-impl<T: Clone> ToResult<T, ()> for Option<T> {\n-    #[inline]\n-    fn to_result(&self) -> Result<T, ()> {\n-        match *self {\n-            Some(ref x) => Ok(x.clone()),\n-            None => Err(()),\n-        }\n-    }\n-}\n-\n-impl<T> IntoResult<T, ()> for Option<T> {\n-    #[inline]\n-    fn into_result(self) -> Result<T, ()> {\n-        match self {\n-            Some(x) => Ok(x),\n-            None => Err(()),\n-        }\n-    }\n-}\n-\n-impl<T> AsResult<T, ()> for Option<T> {\n-    #[inline]\n-    fn as_result<'a>(&'a self) -> Result<&'a T, &'a ()> {\n-        static UNIT: () = ();\n-        match *self {\n-            Some(ref t) => Ok(t),\n-            None => Err(&UNIT),\n-        }\n-    }\n-}\n-\n impl<T: fmt::Default> fmt::Default for Option<T> {\n     #[inline]\n     fn fmt(s: &Option<T>, f: &mut fmt::Formatter) {\n@@ -493,8 +418,6 @@ impl<A> ExactSize<A> for OptionIterator<A> {}\n mod tests {\n     use super::*;\n \n-    use result::{IntoResult, ToResult};\n-    use result::{Ok, Err};\n     use str::StrSlice;\n     use util;\n \n@@ -732,49 +655,4 @@ mod tests {\n         assert!(!x.mutate_default(0i, |i| i+1));\n         assert_eq!(x, Some(0i));\n     }\n-\n-    #[test]\n-    pub fn test_to_option() {\n-        let some: Option<int> = Some(100);\n-        let none: Option<int> = None;\n-\n-        assert_eq!(some.to_option(), Some(100));\n-        assert_eq!(none.to_option(), None);\n-    }\n-\n-    #[test]\n-    pub fn test_into_option() {\n-        let some: Option<int> = Some(100);\n-        let none: Option<int> = None;\n-\n-        assert_eq!(some.into_option(), Some(100));\n-        assert_eq!(none.into_option(), None);\n-    }\n-\n-    #[test]\n-    pub fn test_as_option() {\n-        let some: Option<int> = Some(100);\n-        let none: Option<int> = None;\n-\n-        assert_eq!(some.as_option().unwrap(), &100);\n-        assert_eq!(none.as_option(), None);\n-    }\n-\n-    #[test]\n-    pub fn test_to_result() {\n-        let some: Option<int> = Some(100);\n-        let none: Option<int> = None;\n-\n-        assert_eq!(some.to_result(), Ok(100));\n-        assert_eq!(none.to_result(), Err(()));\n-    }\n-\n-    #[test]\n-    pub fn test_into_result() {\n-        let some: Option<int> = Some(100);\n-        let none: Option<int> = None;\n-\n-        assert_eq!(some.into_result(), Ok(100));\n-        assert_eq!(none.into_result(), Err(()));\n-    }\n }"}, {"sha": "f0e80eef467cfbbe3fc60e5fce89455f3339f9e5", "filename": "src/libstd/prelude.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Fprelude.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Fprelude.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fprelude.rs?ref=bf30a213c4de79ba46e3729558118669f207435e", "patch": "@@ -48,7 +48,7 @@ pub use io::stdio::{print, println};\n // Reexported types and traits\n \n pub use any::{Any, AnyOwnExt, AnyRefExt, AnyMutRefExt};\n-pub use ascii::{Ascii, AsciiCast, OwnedAsciiCast, AsciiStr, ToBytesConsume};\n+pub use ascii::{Ascii, AsciiCast, OwnedAsciiCast, AsciiStr, IntoBytes};\n pub use bool::Bool;\n pub use c_str::ToCStr;\n pub use char::Char;\n@@ -74,7 +74,7 @@ pub use io::{Buffer, Writer, Reader, Seek};\n pub use send_str::{SendStr, SendStrOwned, SendStrStatic, IntoSendStr};\n pub use str::{Str, StrVector, StrSlice, OwnedStr};\n pub use to_bytes::IterBytes;\n-pub use to_str::{ToStr, ToStrConsume};\n+pub use to_str::{ToStr, IntoStr};\n pub use tuple::{CopyableTuple, ImmutableTuple};\n pub use tuple::{ImmutableTuple1, ImmutableTuple2, ImmutableTuple3, ImmutableTuple4};\n pub use tuple::{ImmutableTuple5, ImmutableTuple6, ImmutableTuple7, ImmutableTuple8};"}, {"sha": "79198d0314f87b047048e53ad9accb1f3bf1c011", "filename": "src/libstd/result.rs", "status": "modified", "additions": 0, "deletions": 132, "changes": 132, "blob_url": "https://github.com/rust-lang/rust/blob/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Fresult.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Fresult.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fresult.rs?ref=bf30a213c4de79ba46e3729558118669f207435e", "patch": "@@ -15,7 +15,6 @@ use cmp::Eq;\n use fmt;\n use iter::Iterator;\n use option::{None, Option, Some};\n-use option::{ToOption, IntoOption, AsOption};\n use str::OwnedStr;\n use to_str::ToStr;\n use vec::OwnedVector;\n@@ -204,82 +203,10 @@ impl<T, E> Result<T, E> {\n     }\n }\n \n-/////////////////////////////////////////////////////////////////////////////\n-// Constructor extension trait\n-/////////////////////////////////////////////////////////////////////////////\n-\n-/// A generic trait for converting a value to a `Result`\n-pub trait ToResult<T, E> {\n-    /// Convert to the `result` type\n-    fn to_result(&self) -> Result<T, E>;\n-}\n-\n-/// A generic trait for converting a value to a `Result`\n-pub trait IntoResult<T, E> {\n-    /// Convert to the `result` type\n-    fn into_result(self) -> Result<T, E>;\n-}\n-\n-/// A generic trait for converting a value to a `Result`\n-pub trait AsResult<T, E> {\n-    /// Convert to the `result` type\n-    fn as_result<'a>(&'a self) -> Result<&'a T, &'a E>;\n-}\n-\n-impl<T: Clone, E: Clone> ToResult<T, E> for Result<T, E> {\n-    #[inline]\n-    fn to_result(&self) -> Result<T, E> { self.clone() }\n-}\n-\n-impl<T, E> IntoResult<T, E> for Result<T, E> {\n-    #[inline]\n-    fn into_result(self) -> Result<T, E> { self }\n-}\n-\n-impl<T, E> AsResult<T, E> for Result<T, E> {\n-    #[inline]\n-    fn as_result<'a>(&'a self) -> Result<&'a T, &'a E> {\n-        match *self {\n-            Ok(ref t) => Ok(t),\n-            Err(ref e) => Err(e),\n-        }\n-    }\n-}\n-\n /////////////////////////////////////////////////////////////////////////////\n // Trait implementations\n /////////////////////////////////////////////////////////////////////////////\n \n-impl<T: Clone, E> ToOption<T> for Result<T, E> {\n-    #[inline]\n-    fn to_option(&self) -> Option<T> {\n-        match *self {\n-            Ok(ref t) => Some(t.clone()),\n-            Err(_) => None,\n-        }\n-    }\n-}\n-\n-impl<T, E> IntoOption<T> for Result<T, E> {\n-    #[inline]\n-    fn into_option(self) -> Option<T> {\n-        match self {\n-            Ok(t) => Some(t),\n-            Err(_) => None,\n-        }\n-    }\n-}\n-\n-impl<T, E> AsOption<T> for Result<T, E> {\n-    #[inline]\n-    fn as_option<'a>(&'a self) -> Option<&'a T> {\n-        match *self {\n-            Ok(ref t) => Some(t),\n-            Err(_) => None,\n-        }\n-    }\n-}\n-\n impl<T: fmt::Default, E: fmt::Default> fmt::Default for Result<T, E> {\n     #[inline]\n     fn fmt(s: &Result<T, E>, f: &mut fmt::Formatter) {\n@@ -364,8 +291,6 @@ mod tests {\n     use super::*;\n \n     use iter::range;\n-    use option::{IntoOption, ToOption, AsOption};\n-    use option::{Some, None};\n     use vec::ImmutableVector;\n     use to_str::ToStr;\n \n@@ -460,63 +385,6 @@ mod tests {\n                    Err(1));\n     }\n \n-    #[test]\n-    pub fn test_to_option() {\n-        let ok: Result<int, int> = Ok(100);\n-        let err: Result<int, int> = Err(404);\n-\n-        assert_eq!(ok.to_option(), Some(100));\n-        assert_eq!(err.to_option(), None);\n-    }\n-\n-    #[test]\n-    pub fn test_into_option() {\n-        let ok: Result<int, int> = Ok(100);\n-        let err: Result<int, int> = Err(404);\n-\n-        assert_eq!(ok.into_option(), Some(100));\n-        assert_eq!(err.into_option(), None);\n-    }\n-\n-    #[test]\n-    pub fn test_as_option() {\n-        let ok: Result<int, int> = Ok(100);\n-        let err: Result<int, int> = Err(404);\n-\n-        assert_eq!(ok.as_option().unwrap(), &100);\n-        assert_eq!(err.as_option(), None);\n-    }\n-\n-    #[test]\n-    pub fn test_to_result() {\n-        let ok: Result<int, int> = Ok(100);\n-        let err: Result<int, int> = Err(404);\n-\n-        assert_eq!(ok.to_result(), Ok(100));\n-        assert_eq!(err.to_result(), Err(404));\n-    }\n-\n-    #[test]\n-    pub fn test_into_result() {\n-        let ok: Result<int, int> = Ok(100);\n-        let err: Result<int, int> = Err(404);\n-\n-        assert_eq!(ok.into_result(), Ok(100));\n-        assert_eq!(err.into_result(), Err(404));\n-    }\n-\n-    #[test]\n-    pub fn test_as_result() {\n-        let ok: Result<int, int> = Ok(100);\n-        let err: Result<int, int> = Err(404);\n-\n-        let x = 100;\n-        assert_eq!(ok.as_result(), Ok(&x));\n-\n-        let x = 404;\n-        assert_eq!(err.as_result(), Err(&x));\n-    }\n-\n     #[test]\n     pub fn test_to_str() {\n         let ok: Result<int, ~str> = Ok(100);"}, {"sha": "a58b09d8ecde37bb6ecaa06ded4fede55a6b630d", "filename": "src/libstd/to_str.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Fto_str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bf30a213c4de79ba46e3729558118669f207435e/src%2Flibstd%2Fto_str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fto_str.rs?ref=bf30a213c4de79ba46e3729558118669f207435e", "patch": "@@ -30,7 +30,7 @@ pub trait ToStr {\n }\n \n /// Trait for converting a type to a string, consuming it in the process.\n-pub trait ToStrConsume {\n+pub trait IntoStr {\n     /// Consume and convert to a string.\n     fn into_str(self) -> ~str;\n }"}]}