{"sha": "487c0cebe460119d0183b444186ad2ef0b15a21e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ4N2MwY2ViZTQ2MDExOWQwMTgzYjQ0NDE4NmFkMmVmMGIxNWEyMWU=", "commit": {"author": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2020-11-15T00:55:03Z"}, "committer": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2020-11-15T16:21:13Z"}, "message": "Make `markdown` module public for doc-tests", "tree": {"sha": "3749b8f3d0cf2f13371f2d2ebec28cc2461094a9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3749b8f3d0cf2f13371f2d2ebec28cc2461094a9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/487c0cebe460119d0183b444186ad2ef0b15a21e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/487c0cebe460119d0183b444186ad2ef0b15a21e", "html_url": "https://github.com/rust-lang/rust/commit/487c0cebe460119d0183b444186ad2ef0b15a21e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/487c0cebe460119d0183b444186ad2ef0b15a21e/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9a3548c420941587608debee7f918819fabcd32b", "url": "https://api.github.com/repos/rust-lang/rust/commits/9a3548c420941587608debee7f918819fabcd32b", "html_url": "https://github.com/rust-lang/rust/commit/9a3548c420941587608debee7f918819fabcd32b"}], "stats": {"total": 30, "additions": 15, "deletions": 15}, "files": [{"sha": "9dd8415341e98cda3caf6e1e7ad7a06589c70d4a", "filename": "src/librustdoc/clean/types.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/487c0cebe460119d0183b444186ad2ef0b15a21e/src%2Flibrustdoc%2Fclean%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/487c0cebe460119d0183b444186ad2ef0b15a21e/src%2Flibrustdoc%2Fclean%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Ftypes.rs?ref=487c0cebe460119d0183b444186ad2ef0b15a21e", "patch": "@@ -440,7 +440,7 @@ crate struct ItemLink {\n     pub(crate) fragment: Option<String>,\n }\n \n-crate struct RenderedLink {\n+pub struct RenderedLink {\n     /// The text the link was original written as.\n     ///\n     /// This could potentially include disambiguators and backticks."}, {"sha": "4db013be6f65407c79072e05c24d635be3ab9f2b", "filename": "src/librustdoc/html/markdown.rs", "status": "modified", "additions": 12, "deletions": 12, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/487c0cebe460119d0183b444186ad2ef0b15a21e/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "raw_url": "https://github.com/rust-lang/rust/raw/487c0cebe460119d0183b444186ad2ef0b15a21e/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmarkdown.rs?ref=487c0cebe460119d0183b444186ad2ef0b15a21e", "patch": "@@ -49,17 +49,17 @@ pub(crate) fn opts() -> Options {\n \n /// When `to_string` is called, this struct will emit the HTML corresponding to\n /// the rendered version of the contained markdown string.\n-crate struct Markdown<'a>(\n-    crate &'a str,\n+pub struct Markdown<'a>(\n+    pub &'a str,\n     /// A list of link replacements.\n-    crate &'a [RenderedLink],\n+    pub &'a [RenderedLink],\n     /// The current list of used header IDs.\n-    crate &'a mut IdMap,\n+    pub &'a mut IdMap,\n     /// Whether to allow the use of explicit error codes in doctest lang strings.\n-    crate ErrorCodes,\n+    pub ErrorCodes,\n     /// Default edition to use when parsing doctests (to add a `fn main`).\n-    crate Edition,\n-    crate &'a Option<Playground>,\n+    pub Edition,\n+    pub &'a Option<Playground>,\n );\n /// A tuple struct like `Markdown` that renders the markdown with a table of contents.\n crate struct MarkdownWithToc<'a>(\n@@ -81,7 +81,7 @@ crate struct MarkdownHtml<'a>(\n crate struct MarkdownSummaryLine<'a>(pub &'a str, pub &'a [RenderedLink]);\n \n #[derive(Copy, Clone, PartialEq, Debug)]\n-crate enum ErrorCodes {\n+pub enum ErrorCodes {\n     Yes,\n     No,\n }\n@@ -160,7 +160,7 @@ fn slugify(c: char) -> Option<char> {\n }\n \n #[derive(Clone, Debug)]\n-crate struct Playground {\n+pub struct Playground {\n     crate crate_name: Option<String>,\n     crate url: String,\n }\n@@ -923,7 +923,7 @@ impl LangString {\n }\n \n impl Markdown<'_> {\n-    crate fn into_string(self) -> String {\n+    pub fn into_string(self) -> String {\n         let Markdown(md, links, mut ids, codes, edition, playground) = self;\n \n         // This is actually common enough to special-case\n@@ -1210,7 +1210,7 @@ crate fn rust_code_blocks(md: &str, extra_info: &ExtraInfo<'_, '_>) -> Vec<RustC\n }\n \n #[derive(Clone, Default, Debug)]\n-crate struct IdMap {\n+pub struct IdMap {\n     map: FxHashMap<String, usize>,\n }\n \n@@ -1243,7 +1243,7 @@ fn init_id_map() -> FxHashMap<String, usize> {\n }\n \n impl IdMap {\n-    crate fn new() -> Self {\n+    pub fn new() -> Self {\n         IdMap { map: init_id_map() }\n     }\n "}, {"sha": "403a9303c3ff0004171555ad4612a182d451fc2c", "filename": "src/librustdoc/html/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/487c0cebe460119d0183b444186ad2ef0b15a21e/src%2Flibrustdoc%2Fhtml%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/487c0cebe460119d0183b444186ad2ef0b15a21e/src%2Flibrustdoc%2Fhtml%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fmod.rs?ref=487c0cebe460119d0183b444186ad2ef0b15a21e", "patch": "@@ -2,7 +2,7 @@ crate mod escape;\n crate mod format;\n crate mod highlight;\n crate mod layout;\n-crate mod markdown;\n+pub mod markdown;\n crate mod render;\n crate mod sources;\n crate mod static_files;"}, {"sha": "a88efba77b41cc7efb0406d4971166a098c0022e", "filename": "src/librustdoc/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/487c0cebe460119d0183b444186ad2ef0b15a21e/src%2Flibrustdoc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/487c0cebe460119d0183b444186ad2ef0b15a21e/src%2Flibrustdoc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Flib.rs?ref=487c0cebe460119d0183b444186ad2ef0b15a21e", "patch": "@@ -77,7 +77,7 @@ mod error;\n mod doctest;\n mod fold;\n crate mod formats;\n-crate mod html;\n+pub mod html;\n mod json;\n mod markdown;\n mod passes;"}]}