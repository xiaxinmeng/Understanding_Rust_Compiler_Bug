{"sha": "351efd55e90332d0b045324774ffc987d549c0a8", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM1MWVmZDU1ZTkwMzMyZDBiMDQ1MzI0Nzc0ZmZjOTg3ZDU0OWMwYTg=", "commit": {"author": {"name": "Emanuel Czirai", "email": "zazdxscf@gmail.com", "date": "2015-10-25T10:48:56Z"}, "committer": {"name": "Emanuel Czirai", "email": "zazdxscf@gmail.com", "date": "2015-10-25T10:53:47Z"}, "message": "compiletest: show usage/help when passed no args\n\ninstead of this panic:\n```\nthread '<main>' panicked at 'index out of bounds: the len is 1 but the\nindex is 1', src/libcollections/vec.rs:1110\n```\n\nIt still panics, just like `-h` does, so it should be okay in this\nregard.", "tree": {"sha": "55ba8bd246663a7188eebfe8617fd6f5a2087d02", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/55ba8bd246663a7188eebfe8617fd6f5a2087d02"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/351efd55e90332d0b045324774ffc987d549c0a8", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/351efd55e90332d0b045324774ffc987d549c0a8", "html_url": "https://github.com/rust-lang/rust/commit/351efd55e90332d0b045324774ffc987d549c0a8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/351efd55e90332d0b045324774ffc987d549c0a8/comments", "author": null, "committer": null, "parents": [{"sha": "04e497c0056aed899cd6edbc98e7a68a9b391c5c", "url": "https://api.github.com/repos/rust-lang/rust/commits/04e497c0056aed899cd6edbc98e7a68a9b391c5c", "html_url": "https://github.com/rust-lang/rust/commit/04e497c0056aed899cd6edbc98e7a68a9b391c5c"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "fd7540634c8411aa68a641346b0da6d9965280f5", "filename": "src/compiletest/compiletest.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/351efd55e90332d0b045324774ffc987d549c0a8/src%2Fcompiletest%2Fcompiletest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/351efd55e90332d0b045324774ffc987d549c0a8/src%2Fcompiletest%2Fcompiletest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcompiletest%2Fcompiletest.rs?ref=351efd55e90332d0b045324774ffc987d549c0a8", "patch": "@@ -92,7 +92,7 @@ pub fn parse_config(args: Vec<String> ) -> Config {\n           optflag(\"h\", \"help\", \"show this message\"));\n \n     let (argv0, args_) = args.split_first().unwrap();\n-    if args[1] == \"-h\" || args[1] == \"--help\" {\n+    if args.len() == 1 || args[1] == \"-h\" || args[1] == \"--help\" {\n         let message = format!(\"Usage: {} [OPTIONS] [TESTNAME...]\", argv0);\n         println!(\"{}\", getopts::usage(&message, &groups));\n         println!(\"\");"}]}