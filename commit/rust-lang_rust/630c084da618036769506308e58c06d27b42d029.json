{"sha": "630c084da618036769506308e58c06d27b42d029", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYzMGMwODRkYTYxODAzNjc2OTUwNjMwOGU1OGMwNmQyN2I0MmQwMjk=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-06-01T23:01:53Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-06-01T23:01:56Z"}, "message": "test: Move tests with rustc deps into run-pass-fulldeps\n\nThese tests require a lot more to be built before running so are not part of\ncheck-lite", "tree": {"sha": "5a83d65808c6149cf854ca56c32648486f9e5165", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5a83d65808c6149cf854ca56c32648486f9e5165"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/630c084da618036769506308e58c06d27b42d029", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/630c084da618036769506308e58c06d27b42d029", "html_url": "https://github.com/rust-lang/rust/commit/630c084da618036769506308e58c06d27b42d029", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/630c084da618036769506308e58c06d27b42d029/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5dc236cdac7d3dfc9fa969af62366cbc642e0eca", "url": "https://api.github.com/repos/rust-lang/rust/commits/5dc236cdac7d3dfc9fa969af62366cbc642e0eca", "html_url": "https://github.com/rust-lang/rust/commit/5dc236cdac7d3dfc9fa969af62366cbc642e0eca"}], "stats": {"total": 65, "additions": 62, "deletions": 3}, "files": [{"sha": "f77c726a581bf97447c7c8f8c6a116ad85c7b971", "filename": "configure", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/630c084da618036769506308e58c06d27b42d029/configure", "raw_url": "https://github.com/rust-lang/rust/raw/630c084da618036769506308e58c06d27b42d029/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=630c084da618036769506308e58c06d27b42d029", "patch": "@@ -493,6 +493,7 @@ do\n     done\n \n     make_dir $h/test/run-pass\n+    make_dir $h/test/run-pass-fulldeps\n     make_dir $h/test/run-fail\n     make_dir $h/test/compile-fail\n     make_dir $h/test/bench"}, {"sha": "8b8b9867933c8f0a8a5504d71a0d75637e04f472", "filename": "mk/tests.mk", "status": "modified", "additions": 61, "deletions": 3, "changes": 64, "blob_url": "https://github.com/rust-lang/rust/blob/630c084da618036769506308e58c06d27b42d029/mk%2Ftests.mk", "raw_url": "https://github.com/rust-lang/rust/raw/630c084da618036769506308e58c06d27b42d029/mk%2Ftests.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Ftests.mk?ref=630c084da618036769506308e58c06d27b42d029", "patch": "@@ -4,6 +4,8 @@\n \n RPASS_RC := $(wildcard $(S)src/test/run-pass/*.rc)\n RPASS_RS := $(wildcard $(S)src/test/run-pass/*.rs)\n+RPASS_FULL_RC := $(wildcard $(S)src/test/run-pass-fulldeps/*.rc)\n+RPASS_FULL_RS := $(wildcard $(S)src/test/run-pass-fulldeps/*.rs)\n RFAIL_RC := $(wildcard $(S)src/test/run-fail/*.rc)\n RFAIL_RS := $(wildcard $(S)src/test/run-fail/*.rs)\n CFAIL_RC := $(wildcard $(S)src/test/compile-fail/*.rc)\n@@ -16,6 +18,7 @@ PRETTY_RS := $(wildcard $(S)src/test/pretty/*.rs)\n PERF_RS := $(wildcard $(S)src/test/bench/*.rs)\n \n RPASS_TESTS := $(RPASS_RC) $(RPASS_RS)\n+RPASS_FULL_TESTS := $(RPASS_FULL_RC) $(RPASS_FULL_RS)\n RFAIL_TESTS := $(RFAIL_RC) $(RFAIL_RS)\n CFAIL_TESTS := $(CFAIL_RC) $(CFAIL_RS)\n BENCH_TESTS := $(BENCH_RS)\n@@ -183,15 +186,20 @@ define TEST_STAGEN\n # Prerequisites for compiletest tests\n TEST_SREQ$(1)_T_$(2)_H_$(3) = \\\n \t$$(HBIN$(1)_H_$(3))/compiletest$$(X) \\\n-\t$$(HSREQ$(1)_$(2)_$(3)) \\\n-\t$$(TLIB$(1)_T_$(2)_H_$(3))/$$(CFG_LIBSYNTAX)\n+\t$$(HSREQ$(1)_$(2)_$(3)) \n \n+# Prerequisites for compiletest tests that have deps on librustc, etc\n+FULL_TEST_SREQ$(1)_T_$(2)_H_$(3) = \\\n+\t$$(HBIN$(1)_H_$(3))/compiletest$$(X) \\\n+\t$$(HSREQ$(1)_$(2)_$(3)) \\\n+\t$$(TLIBRUSTC_DEFAULT$(1)_T_$(2)_H_$(3))\n \n check-stage$(1)-T-$(2)-H-$(3): tidy\t\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-rustc\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-core          \\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-std\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-rpass\t\t\t\\\n+\tcheck-stage$(1)-T-$(2)-H-$(3)-rpass-full\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-rfail\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-cfail\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-bench\t\t\t\\\n@@ -218,6 +226,9 @@ check-stage$(1)-T-$(2)-H-$(3)-rfail:\t\t\t\t\\\n check-stage$(1)-T-$(2)-H-$(3)-rpass:\t\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-rpass-dummy\n \n+check-stage$(1)-T-$(2)-H-$(3)-rpass-full:\t\t\t\t\\\n+\tcheck-stage$(1)-T-$(2)-H-$(3)-rpass-full-dummy\n+\n check-stage$(1)-T-$(2)-H-$(3)-bench:\t\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-bench-dummy\n \n@@ -226,13 +237,17 @@ check-stage$(1)-T-$(2)-H-$(3)-perf:\t\t\t\t\\\n \n check-stage$(1)-T-$(2)-H-$(3)-pretty:\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-pretty-rpass\t\\\n+\tcheck-stage$(1)-T-$(2)-H-$(3)-pretty-rpass-full\t\\\n     check-stage$(1)-T-$(2)-H-$(3)-pretty-rfail\t\\\n     check-stage$(1)-T-$(2)-H-$(3)-pretty-bench\t\\\n     check-stage$(1)-T-$(2)-H-$(3)-pretty-pretty\n \n check-stage$(1)-T-$(2)-H-$(3)-pretty-rpass:\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-pretty-rpass-dummy\n \n+check-stage$(1)-T-$(2)-H-$(3)-pretty-rpass-full:\t\t\t\\\n+\tcheck-stage$(1)-T-$(2)-H-$(3)-pretty-rpass-full-dummy\n+\n check-stage$(1)-T-$(2)-H-$(3)-pretty-rfail:\t\t\t\\\n \tcheck-stage$(1)-T-$(2)-H-$(3)-pretty-rfail-dummy\n \n@@ -343,6 +358,13 @@ RPASS_ARGS$(1)-T-$(2)-H-$(3) :=\t\t\t\t\\\n         --mode run-pass\t\t\t\t\t\\\n         $$(CTEST_RUNTOOL)\n \n+RPASS_FULL_ARGS$(1)-T-$(2)-H-$(3) :=\t\t\t\t\\\n+\t\t$$(CTEST_COMMON_ARGS$(1)-T-$(2)-H-$(3))\t\\\n+        --src-base $$(S)src/test/run-pass-fulldeps/\t\t\\\n+        --build-base $(3)/test/run-pass-fulldeps/\t\t\\\n+        --mode run-pass\t\t\t\t\t\\\n+        $$(CTEST_RUNTOOL)\n+\n BENCH_ARGS$(1)-T-$(2)-H-$(3) :=\t\t\t\t\\\n \t\t$$(CTEST_COMMON_ARGS$(1)-T-$(2)-H-$(3))\t\\\n         --src-base $$(S)src/test/bench/\t\t\t\\\n@@ -363,6 +385,12 @@ PRETTY_RPASS_ARGS$(1)-T-$(2)-H-$(3) :=\t\t\t\\\n         --build-base $(3)/test/run-pass/\t\t\\\n         --mode pretty\n \n+PRETTY_RPASS_FULL_ARGS$(1)-T-$(2)-H-$(3) :=\t\t\t\\\n+\t\t$$(CTEST_COMMON_ARGS$(1)-T-$(2)-H-$(3))\t\\\n+        --src-base $$(S)src/test/run-pass-fulldeps/\t\t\\\n+        --build-base $(3)/test/run-pass-fulldeps/\t\t\\\n+        --mode pretty\n+\n PRETTY_RFAIL_ARGS$(1)-T-$(2)-H-$(3) :=\t\t\t\\\n \t\t$$(CTEST_COMMON_ARGS$(1)-T-$(2)-H-$(3))\t\\\n         --src-base $$(S)src/test/run-fail/\t\t\\\n@@ -412,11 +440,19 @@ check-stage$(1)-T-$(2)-H-$(3)-rfail-dummy:\t\t\\\n check-stage$(1)-T-$(2)-H-$(3)-rpass-dummy:\t\t\\\n \t\t$$(TEST_SREQ$(1)_T_$(2)_H_$(3))\t\t\\\n \t        $$(RPASS_TESTS)\n-\t@$$(call E, run rpass: $$<)\n+\t@$$(call E, run rpass-full: $$<)\n \t$$(Q)$$(call CFG_RUN_CTEST,$(1),$$<,$(3)) \\\n \t\t$$(RPASS_ARGS$(1)-T-$(2)-H-$(3)) \\\n \t\t--logfile tmp/check-stage$(1)-T-$(2)-H-$(3)-rpass.log\n \n+check-stage$(1)-T-$(2)-H-$(3)-rpass-full-dummy:\t\t\\\n+\t\t$$(FULL_TEST_SREQ$(1)_T_$(2)_H_$(3))\t\t\\\n+\t        $$(RPASS_FULL_TESTS)\n+\t@$$(call E, run rpass: $$<)\n+\t$$(Q)$$(call CFG_RUN_CTEST,$(1),$$<,$(3)) \\\n+\t\t$$(RPASS_FULL_ARGS$(1)-T-$(2)-H-$(3)) \\\n+\t\t--logfile tmp/check-stage$(1)-T-$(2)-H-$(3)-rpass-full.log\n+\n check-stage$(1)-T-$(2)-H-$(3)-bench-dummy:\t\t\\\n \t\t$$(TEST_SREQ$(1)_T_$(2)_H_$(3))\t\t\\\n \t\t$$(BENCH_TESTS)\n@@ -441,6 +477,14 @@ check-stage$(1)-T-$(2)-H-$(3)-pretty-rpass-dummy:\t\\\n \t\t$$(PRETTY_RPASS_ARGS$(1)-T-$(2)-H-$(3)) \\\n \t\t--logfile tmp/check-stage$(1)-T-$(2)-H-$(3)-pretty-rpass.log\n \n+check-stage$(1)-T-$(2)-H-$(3)-pretty-rpass-full-dummy:\t\\\n+\t        $$(FULL_TEST_SREQ$(1)_T_$(2)_H_$(3))\t\t\\\n+\t        $$(RPASS_FULL_TESTS)\n+\t@$$(call E, run pretty-rpass-full: $$<)\n+\t$$(Q)$$(call CFG_RUN_CTEST,$(1),$$<,$(3)) \\\n+\t\t$$(PRETTY_RPASS_FULL_ARGS$(1)-T-$(2)-H-$(3)) \\\n+\t\t--logfile tmp/check-stage$(1)-T-$(2)-H-$(3)-pretty-rpass-full.log\n+\n check-stage$(1)-T-$(2)-H-$(3)-pretty-rfail-dummy:\t\\\n \t        $$(TEST_SREQ$(1)_T_$(2)_H_$(3))\t\t\\\n \t        $$(RFAIL_TESTS)\n@@ -562,6 +606,9 @@ check-stage$(1)-H-$(2)-std:\t\t\t\t\t\\\n check-stage$(1)-H-$(2)-rpass:\t\t\t\t\t\\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-T-$$(target)-H-$(2)-rpass)\n+check-stage$(1)-H-$(2)-rpass-full:\t\t\t\t\t\\\n+\t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n+\t check-stage$(1)-T-$$(target)-H-$(2)-rpass-full)\n check-stage$(1)-H-$(2)-rfail:\t\t\t\t\t\\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-T-$$(target)-H-$(2)-rfail)\n@@ -577,6 +624,9 @@ check-stage$(1)-H-$(2)-pretty:\t\t\t\t\t\\\n check-stage$(1)-H-$(2)-pretty-rpass:\t\t\t\t\\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-T-$$(target)-H-$(2)-pretty-rpass)\n+check-stage$(1)-H-$(2)-pretty-rpass-full:\t\t\t\t\\\n+\t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n+\t check-stage$(1)-T-$$(target)-H-$(2)-pretty-rpass-full)\n check-stage$(1)-H-$(2)-pretty-rfail:\t\t\t\t\\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-T-$$(target)-H-$(2)-pretty-rfail)\n@@ -631,6 +681,9 @@ check-stage$(1)-H-all-std: \\\n check-stage$(1)-H-all-rpass: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-rpass)\n+check-stage$(1)-H-all-rpass-full: \\\n+\t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n+\t check-stage$(1)-H-$$(target)-rpass-full)\n check-stage$(1)-H-all-rfail: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-rfail)\n@@ -646,6 +699,9 @@ check-stage$(1)-H-all-pretty: \\\n check-stage$(1)-H-all-pretty-rpass: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-pretty-rpass)\n+check-stage$(1)-H-all-pretty-rpass-full: \\\n+\t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n+\t check-stage$(1)-H-$$(target)-pretty-rpass-full)\n check-stage$(1)-H-all-pretty-rfail: \\\n \t$$(foreach target,$$(CFG_TARGET_TRIPLES),\t\\\n \t check-stage$(1)-H-$$(target)-pretty-rfail)\n@@ -678,11 +734,13 @@ check-stage$(1)-rustc: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-rustc\n check-stage$(1)-core: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-core\n check-stage$(1)-std: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-std\n check-stage$(1)-rpass: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-rpass\n+check-stage$(1)-rpass-full: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-rpass-full\n check-stage$(1)-rfail: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-rfail\n check-stage$(1)-cfail: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-cfail\n check-stage$(1)-bench: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-bench\n check-stage$(1)-pretty: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-pretty\n check-stage$(1)-pretty-rpass: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-pretty-rpass\n+check-stage$(1)-pretty-rpass-full: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-pretty-rpass-full\n check-stage$(1)-pretty-rfail: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-pretty-rfail\n check-stage$(1)-pretty-bench: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-pretty-bench\n check-stage$(1)-pretty-pretty: check-stage$(1)-H-$$(CFG_HOST_TRIPLE)-pretty-pretty"}, {"sha": "383a1acec39567576bc1c845e5942770a8ff77be", "filename": "src/test/run-pass-fulldeps/issue-1926.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/630c084da618036769506308e58c06d27b42d029/src%2Ftest%2Frun-pass-fulldeps%2Fissue-1926.rs", "raw_url": "https://github.com/rust-lang/rust/raw/630c084da618036769506308e58c06d27b42d029/src%2Ftest%2Frun-pass-fulldeps%2Fissue-1926.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fissue-1926.rs?ref=630c084da618036769506308e58c06d27b42d029", "previous_filename": "src/test/run-pass/issue-1926.rs"}, {"sha": "a95b9841c2418f91c22b756931c1ed79bc9a718e", "filename": "src/test/run-pass-fulldeps/issue-2316.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/630c084da618036769506308e58c06d27b42d029/src%2Ftest%2Frun-pass-fulldeps%2Fissue-2316.rs", "raw_url": "https://github.com/rust-lang/rust/raw/630c084da618036769506308e58c06d27b42d029/src%2Ftest%2Frun-pass-fulldeps%2Fissue-2316.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fissue-2316.rs?ref=630c084da618036769506308e58c06d27b42d029", "previous_filename": "src/test/run-pass/issue-2316.rs"}, {"sha": "b2c0bf98b3611eb44922cbbf189c1a4aeb33298e", "filename": "src/test/run-pass-fulldeps/qquote.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/630c084da618036769506308e58c06d27b42d029/src%2Ftest%2Frun-pass-fulldeps%2Fqquote.rs", "raw_url": "https://github.com/rust-lang/rust/raw/630c084da618036769506308e58c06d27b42d029/src%2Ftest%2Frun-pass-fulldeps%2Fqquote.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass-fulldeps%2Fqquote.rs?ref=630c084da618036769506308e58c06d27b42d029", "previous_filename": "src/test/run-pass/qquote.rs"}]}