{"sha": "246045415593496d64fc0af41db7650b3680c1dc", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI0NjA0NTQxNTU5MzQ5NmQ2NGZjMGFmNDFkYjc2NTBiMzY4MGMxZGM=", "commit": {"author": {"name": "Beno\u00eet CORTIER", "email": "benoit.cortier@fried-world.eu", "date": "2017-06-29T11:45:54Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2017-08-21T12:00:29Z"}, "message": "Improve needless_borrowed_ref lint comments.", "tree": {"sha": "1162eb4a874ee00060aa980c31afaa7d009c5a05", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1162eb4a874ee00060aa980c31afaa7d009c5a05"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/246045415593496d64fc0af41db7650b3680c1dc", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYFTdM4NKd7XQft77pp+NIls619kFAlmay2AACgkQpp+NIls6\n19mA4A/+JviMPt061wIr8ZmiyVoC+kXn20sgzMAMz3K6b8B7TpiPwYV1cxrrhWej\nWe+bJ1Ot6Mt5O7dUi7tZLl3DQrhKEomKgoUb3D9oUcPz24NwCWJk4GuX+ZTGGunc\nQo8bBDOtiCxGrmYTHqcd11pUYf9g4P8AZ77ehmCfpbFiv6zW2lhdugx+cLKaRKY/\nGEoE1LG1rH2JElunqqNrx28YeznWqcnN2Ga6iTXndRBCgAHKWLN5lSeAiejzovXY\nUxJTWytXKGTg92+FXaZDC8a9u3mMVgjzq/a0c5VtK0CUz2U6el0Xq9LudZ5JkOYH\nCt0l7+p0MUBYvEmboB/lh6F3DZz//TBKSYvDvqUH1oQr1+GDSkMHcg+I4zlS+FUv\nkGmwfYQ6LbbaEjJ+o9rmhVTN34b5AkRgl1HR9IW73JM5kUjYhxl112fWJC4KC/Vp\niz7CWrjiY5C6ABxXRM6BqqQKgkNmDGFEz5jrzG5fFGkPMFs+Ywq7P01mAXdcOBlA\ntPSiMNVS6KJBkGUvUh9PnO7upsEpLyMPqi2qMxsl61Y83e85bVQM2WQTGTZhooZu\nxdIsUitWauRVvYlU9CgNpcOKmjJSZCdYy9X15CzZqidOtaN7p8efuO9jnRDXzwFL\nz0aUzaEaz4EIPxU0gOHlogkhacbnpz2Lqsfv9sJWkZsfmmq+ZvE=\n=jdrv\n-----END PGP SIGNATURE-----", "payload": "tree 1162eb4a874ee00060aa980c31afaa7d009c5a05\nparent 0063309a002b3436c2f924a6442739efd94aeb3e\nauthor Beno\u00eet CORTIER <benoit.cortier@fried-world.eu> 1498736754 +0200\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1503316829 +0200\n\nImprove needless_borrowed_ref lint comments.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/246045415593496d64fc0af41db7650b3680c1dc", "html_url": "https://github.com/rust-lang/rust/commit/246045415593496d64fc0af41db7650b3680c1dc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/246045415593496d64fc0af41db7650b3680c1dc/comments", "author": {"login": "CBenoit", "id": 3809077, "node_id": "MDQ6VXNlcjM4MDkwNzc=", "avatar_url": "https://avatars.githubusercontent.com/u/3809077?v=4", "gravatar_id": "", "url": "https://api.github.com/users/CBenoit", "html_url": "https://github.com/CBenoit", "followers_url": "https://api.github.com/users/CBenoit/followers", "following_url": "https://api.github.com/users/CBenoit/following{/other_user}", "gists_url": "https://api.github.com/users/CBenoit/gists{/gist_id}", "starred_url": "https://api.github.com/users/CBenoit/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/CBenoit/subscriptions", "organizations_url": "https://api.github.com/users/CBenoit/orgs", "repos_url": "https://api.github.com/users/CBenoit/repos", "events_url": "https://api.github.com/users/CBenoit/events{/privacy}", "received_events_url": "https://api.github.com/users/CBenoit/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0063309a002b3436c2f924a6442739efd94aeb3e", "url": "https://api.github.com/repos/rust-lang/rust/commits/0063309a002b3436c2f924a6442739efd94aeb3e", "html_url": "https://github.com/rust-lang/rust/commit/0063309a002b3436c2f924a6442739efd94aeb3e"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "0167b171297150a7a3b835a85846e3477e52f029", "filename": "clippy_lints/src/needless_borrowed_ref.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/246045415593496d64fc0af41db7650b3680c1dc/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/246045415593496d64fc0af41db7650b3680c1dc/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_borrowed_ref.rs?ref=246045415593496d64fc0af41db7650b3680c1dc", "patch": "@@ -48,11 +48,11 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for NeedlessBorrowedRef {\n \n         if_let_chain! {[\n             // Pat is a pattern whose node\n-            // is a binding which \"involves\" a immutable reference...\n+            // is a binding which \"involves\" an immutable reference...\n             let PatKind::Binding(BindingAnnotation::Ref, ..) = pat.node,\n             // Pattern's type is a reference. Get the type and mutability of referenced value (tam: TypeAndMut).\n             let ty::TyRef(_, ref tam) = cx.tables.pat_ty(pat).sty,\n-            // This is an immutable reference.\n+            // Only lint immutable refs, because `&mut ref T` may be useful.\n             tam.mutbl == MutImmutable,\n         ], {\n             span_lint(cx, NEEDLESS_BORROWED_REFERENCE, pat.span, \"this pattern takes a reference on something that is being de-referenced\")"}]}