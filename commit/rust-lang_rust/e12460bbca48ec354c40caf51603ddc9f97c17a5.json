{"sha": "e12460bbca48ec354c40caf51603ddc9f97c17a5", "node_id": "C_kwDOAAsO6NoAKGUxMjQ2MGJiY2E0OGVjMzU0YzQwY2FmNTE2MDNkZGM5Zjk3YzE3YTU", "commit": {"author": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2023-03-19T07:58:10Z"}, "committer": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2023-03-19T07:58:10Z"}, "message": "Add regression test\n\nso that we can catch regressions when we move away from chalk.", "tree": {"sha": "0cab851d983b0bb82234399fee4568e589274a1a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0cab851d983b0bb82234399fee4568e589274a1a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e12460bbca48ec354c40caf51603ddc9f97c17a5", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEkSbsQIURluxz4rzf4laYqTBYYXEFAmQWwMkACgkQ4laYqTBY\nYXEzohAAiuG/N0ZJS127TrSmTqgAHz8y6SjSLzBctyNd2IKPVM2pF/WZPe4YpO1k\n4URmAWuC5Ww7ABvCFWUqhJD7O2k+NiBNDIpUSU5UKonhuoFVKyHWDqAXpZJhfzHa\nDZnEDHY1sn9tGYBpV9doEsPoiioVfO3hoj5N+ychJFJm4PudnvuB6Ch2iapELa3w\nExO+Esi1irjfsvUGWjENTChxPK40bhztaGIhWppOp9n+TX9hnXsOl0NBmgpLQw5w\n/Hb9SJWehNA88rHQ/g5HFD/NK3eFKzXicvFwwTwPJJipHett9HaLp03OTqlSc0vj\nTHO6g2jJQrN0QJBuuODC4viDvewvGLa5rSBjmiL7/AX4Kp9BqeP1HPfYle7hU66q\nEq0yDRO5O1+9GVTqteV34YWES3wbkykQzBJdD4gY7SV+5kdxSH8QnBGMlpAVDV6t\nWWwIvgdlYRYXDN35uI7P0To1VihjYJxfcLjFs80QWQm/3T1123yUxlcQltN3czA/\niwxU3a35+zX/F+cEwzX36GZNB9Fz8zXpGcNTpAMNowqX8LMMX9knd6Q4S5uRYfh5\nkiSdgwyT1+esB4EeoiSb9KyaAkcnbqx4KXmfwzS3LFHYnLV0N6fNe6GHFv49HcZX\nTbovoO3iMdgGj4Zvv2s/fR1zqkna/Ua1nT8EZ78WdqFr5Ua81XY=\n=TdWu\n-----END PGP SIGNATURE-----", "payload": "tree 0cab851d983b0bb82234399fee4568e589274a1a\nparent 1d1a86f3508581b5867df202c87016520fd221a5\nauthor Ryo Yoshida <low.ryoshida@gmail.com> 1679212690 +0900\ncommitter Ryo Yoshida <low.ryoshida@gmail.com> 1679212690 +0900\n\nAdd regression test\n\nso that we can catch regressions when we move away from chalk.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e12460bbca48ec354c40caf51603ddc9f97c17a5", "html_url": "https://github.com/rust-lang/rust/commit/e12460bbca48ec354c40caf51603ddc9f97c17a5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e12460bbca48ec354c40caf51603ddc9f97c17a5/comments", "author": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1d1a86f3508581b5867df202c87016520fd221a5", "url": "https://api.github.com/repos/rust-lang/rust/commits/1d1a86f3508581b5867df202c87016520fd221a5", "html_url": "https://github.com/rust-lang/rust/commit/1d1a86f3508581b5867df202c87016520fd221a5"}], "stats": {"total": 32, "additions": 32, "deletions": 0}, "files": [{"sha": "689f0da44f68036178bf666b6ef8b6ac76a2fe13", "filename": "crates/hir-ty/src/tests/regression.rs", "status": "modified", "additions": 32, "deletions": 0, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/e12460bbca48ec354c40caf51603ddc9f97c17a5/crates%2Fhir-ty%2Fsrc%2Ftests%2Fregression.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e12460bbca48ec354c40caf51603ddc9f97c17a5/crates%2Fhir-ty%2Fsrc%2Ftests%2Fregression.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir-ty%2Fsrc%2Ftests%2Fregression.rs?ref=e12460bbca48ec354c40caf51603ddc9f97c17a5", "patch": "@@ -1756,3 +1756,35 @@ const C: usize = 2 + 2;\n \"#,\n     );\n }\n+\n+#[test]\n+fn regression_14164() {\n+    check_types(\n+        r#\"\n+trait Rec {\n+    type K;\n+    type Rebind<Tok>: Rec<K = Tok>;\n+}\n+\n+trait Expr<K> {\n+    type Part: Rec<K = K>;\n+    fn foo(_: <Self::Part as Rec>::Rebind<i32>) {}\n+}\n+\n+struct Head<K>(K);\n+impl<K> Rec for Head<K> {\n+    type K = K;\n+    type Rebind<Tok> = Head<Tok>;\n+}\n+\n+fn test<E>()\n+where\n+    E: Expr<usize, Part = Head<usize>>,\n+{\n+    let head;\n+      //^^^^ Head<i32>\n+    E::foo(head);\n+}\n+\"#,\n+    );\n+}"}]}