{"sha": "8488e8aed9eb59e45589974985e7cb377576353c", "node_id": "C_kwDOAAsO6NoAKDg0ODhlOGFlZDllYjU5ZTQ1NTg5OTc0OTg1ZTdjYjM3NzU3NjM1M2M", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2023-05-01T21:02:33Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2023-05-25T15:14:33Z"}, "message": "rust-installer: include `RUSTC_BOOTSTRAP` when generating installer", "tree": {"sha": "3ef9e42a184aa8c85363ef39878770b4e4d46180", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3ef9e42a184aa8c85363ef39878770b4e4d46180"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8488e8aed9eb59e45589974985e7cb377576353c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8488e8aed9eb59e45589974985e7cb377576353c", "html_url": "https://github.com/rust-lang/rust/commit/8488e8aed9eb59e45589974985e7cb377576353c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8488e8aed9eb59e45589974985e7cb377576353c/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ffef807889c6f759fef3d229b59c3bd9b6e40fd6", "url": "https://api.github.com/repos/rust-lang/rust/commits/ffef807889c6f759fef3d229b59c3bd9b6e40fd6", "html_url": "https://github.com/rust-lang/rust/commit/ffef807889c6f759fef3d229b59c3bd9b6e40fd6"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "c2de3385a8081dd696d26644213344da52716a64", "filename": "src/tools/rust-installer/combine-installers.sh", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8488e8aed9eb59e45589974985e7cb377576353c/src%2Ftools%2Frust-installer%2Fcombine-installers.sh", "raw_url": "https://github.com/rust-lang/rust/raw/8488e8aed9eb59e45589974985e7cb377576353c/src%2Ftools%2Frust-installer%2Fcombine-installers.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frust-installer%2Fcombine-installers.sh?ref=8488e8aed9eb59e45589974985e7cb377576353c", "patch": "@@ -11,5 +11,7 @@ abs_path() {\n     (unset CDPATH && cd \"$path\" > /dev/null && pwd)\n }\n \n+export RUSTC_BOOTSTRAP=1\n+\n src_dir=\"$(abs_path $(dirname \"$0\"))\"\n $CARGO run --manifest-path=\"$src_dir/Cargo.toml\" -- combine \"$@\""}, {"sha": "10a69ff5ac5c54ea3283f7583260ba0cefc91f1b", "filename": "src/tools/rust-installer/gen-installer.sh", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8488e8aed9eb59e45589974985e7cb377576353c/src%2Ftools%2Frust-installer%2Fgen-installer.sh", "raw_url": "https://github.com/rust-lang/rust/raw/8488e8aed9eb59e45589974985e7cb377576353c/src%2Ftools%2Frust-installer%2Fgen-installer.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frust-installer%2Fgen-installer.sh?ref=8488e8aed9eb59e45589974985e7cb377576353c", "patch": "@@ -11,5 +11,7 @@ abs_path() {\n     (unset CDPATH && cd \"$path\" > /dev/null && pwd)\n }\n \n+export RUSTC_BOOTSTRAP=1\n+\n src_dir=\"$(abs_path $(dirname \"$0\"))\"\n $CARGO run --manifest-path=\"$src_dir/Cargo.toml\" -- generate \"$@\""}, {"sha": "4aadf078ff1ee910a0d8c05c0c03b54a81520125", "filename": "src/tools/rust-installer/make-tarballs.sh", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/8488e8aed9eb59e45589974985e7cb377576353c/src%2Ftools%2Frust-installer%2Fmake-tarballs.sh", "raw_url": "https://github.com/rust-lang/rust/raw/8488e8aed9eb59e45589974985e7cb377576353c/src%2Ftools%2Frust-installer%2Fmake-tarballs.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frust-installer%2Fmake-tarballs.sh?ref=8488e8aed9eb59e45589974985e7cb377576353c", "patch": "@@ -11,5 +11,7 @@ abs_path() {\n     (unset CDPATH && cd \"$path\" > /dev/null && pwd)\n }\n \n+export RUSTC_BOOTSTRAP=1\n+\n src_dir=\"$(abs_path $(dirname \"$0\"))\"\n $CARGO run --manifest-path=\"$src_dir/Cargo.toml\" -- tarball \"$@\""}]}