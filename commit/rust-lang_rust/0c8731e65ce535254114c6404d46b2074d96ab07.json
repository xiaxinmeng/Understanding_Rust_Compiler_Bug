{"sha": "0c8731e65ce535254114c6404d46b2074d96ab07", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjODczMWU2NWNlNTM1MjU0MTE0YzY0MDRkNDZiMjA3NGQ5NmFiMDc=", "commit": {"author": {"name": "Bruno de Oliveira Abinader", "email": "bruno.d@partner.samsung.com", "date": "2014-02-25T02:18:19Z"}, "committer": {"name": "Bruno de Oliveira Abinader", "email": "bruno.d@partner.samsung.com", "date": "2014-02-27T12:35:18Z"}, "message": "Replaced list::each with iter() in Arenas's Drop impl", "tree": {"sha": "15f8e5f8cc6cf2f82d185b4d5749e2cf8d95bfd0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/15f8e5f8cc6cf2f82d185b4d5749e2cf8d95bfd0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0c8731e65ce535254114c6404d46b2074d96ab07", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0c8731e65ce535254114c6404d46b2074d96ab07", "html_url": "https://github.com/rust-lang/rust/commit/0c8731e65ce535254114c6404d46b2074d96ab07", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0c8731e65ce535254114c6404d46b2074d96ab07/comments", "author": {"login": "brunoabinader", "id": 76133, "node_id": "MDQ6VXNlcjc2MTMz", "avatar_url": "https://avatars.githubusercontent.com/u/76133?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunoabinader", "html_url": "https://github.com/brunoabinader", "followers_url": "https://api.github.com/users/brunoabinader/followers", "following_url": "https://api.github.com/users/brunoabinader/following{/other_user}", "gists_url": "https://api.github.com/users/brunoabinader/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunoabinader/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunoabinader/subscriptions", "organizations_url": "https://api.github.com/users/brunoabinader/orgs", "repos_url": "https://api.github.com/users/brunoabinader/repos", "events_url": "https://api.github.com/users/brunoabinader/events{/privacy}", "received_events_url": "https://api.github.com/users/brunoabinader/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brunoabinader", "id": 76133, "node_id": "MDQ6VXNlcjc2MTMz", "avatar_url": "https://avatars.githubusercontent.com/u/76133?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brunoabinader", "html_url": "https://github.com/brunoabinader", "followers_url": "https://api.github.com/users/brunoabinader/followers", "following_url": "https://api.github.com/users/brunoabinader/following{/other_user}", "gists_url": "https://api.github.com/users/brunoabinader/gists{/gist_id}", "starred_url": "https://api.github.com/users/brunoabinader/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brunoabinader/subscriptions", "organizations_url": "https://api.github.com/users/brunoabinader/orgs", "repos_url": "https://api.github.com/users/brunoabinader/repos", "events_url": "https://api.github.com/users/brunoabinader/events{/privacy}", "received_events_url": "https://api.github.com/users/brunoabinader/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "52524bfe880f3722d8d70e4433429c1b4a3f31d3", "url": "https://api.github.com/repos/rust-lang/rust/commits/52524bfe880f3722d8d70e4433429c1b4a3f31d3", "html_url": "https://github.com/rust-lang/rust/commit/52524bfe880f3722d8d70e4433429c1b4a3f31d3"}], "stats": {"total": 9, "additions": 3, "deletions": 6}, "files": [{"sha": "1fc88eda37b5fcb3c090247b308ef9a68e93b036", "filename": "src/libarena/lib.rs", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/0c8731e65ce535254114c6404d46b2074d96ab07/src%2Flibarena%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c8731e65ce535254114c6404d46b2074d96ab07/src%2Flibarena%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibarena%2Flib.rs?ref=0c8731e65ce535254114c6404d46b2074d96ab07", "patch": "@@ -25,7 +25,6 @@\n extern crate collections;\n \n use collections::list::{List, Cons, Nil};\n-use collections::list;\n \n use std::cast::{transmute, transmute_mut, transmute_mut_region};\n use std::cast;\n@@ -44,7 +43,7 @@ use std::vec;\n // The way arena uses arrays is really deeply awful. The arrays are\n // allocated, and have capacities reserved, but the fill for the array\n // will always stay at 0.\n-#[deriving(Clone)]\n+#[deriving(Clone, Eq)]\n struct Chunk {\n     data: Rc<RefCell<~[u8]>>,\n     fill: Cell<uint>,\n@@ -119,13 +118,11 @@ impl Drop for Arena {\n     fn drop(&mut self) {\n         unsafe {\n             destroy_chunk(&self.head);\n-\n-            list::each(self.chunks.get(), |chunk| {\n+            for chunk in self.chunks.get().iter() {\n                 if !chunk.is_pod.get() {\n                     destroy_chunk(chunk);\n                 }\n-                true\n-            });\n+            }\n         }\n     }\n }"}]}