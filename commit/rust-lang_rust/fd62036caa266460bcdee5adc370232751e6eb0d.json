{"sha": "fd62036caa266460bcdee5adc370232751e6eb0d", "node_id": "C_kwDOAAsO6NoAKGZkNjIwMzZjYWEyNjY0NjBiY2RlZTVhZGMzNzAyMzI3NTFlNmViMGQ", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-02-16T17:33:14Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2023-02-18T22:24:58Z"}, "message": "Correctly handle if a link starts with a whitespace", "tree": {"sha": "a9943212fa290db6cb29f99ad63edb66f41ffbe3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a9943212fa290db6cb29f99ad63edb66f41ffbe3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fd62036caa266460bcdee5adc370232751e6eb0d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fd62036caa266460bcdee5adc370232751e6eb0d", "html_url": "https://github.com/rust-lang/rust/commit/fd62036caa266460bcdee5adc370232751e6eb0d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fd62036caa266460bcdee5adc370232751e6eb0d/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9a7cc6c32f1a690f86827e4724bcda85e506ef35", "url": "https://api.github.com/repos/rust-lang/rust/commits/9a7cc6c32f1a690f86827e4724bcda85e506ef35", "html_url": "https://github.com/rust-lang/rust/commit/9a7cc6c32f1a690f86827e4724bcda85e506ef35"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "74c0527d33ff5dd42ee34e455cc2cf0be49f6cfc", "filename": "compiler/rustc_resolve/src/rustdoc.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/fd62036caa266460bcdee5adc370232751e6eb0d/compiler%2Frustc_resolve%2Fsrc%2Frustdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fd62036caa266460bcdee5adc370232751e6eb0d/compiler%2Frustc_resolve%2Fsrc%2Frustdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_resolve%2Fsrc%2Frustdoc.rs?ref=fd62036caa266460bcdee5adc370232751e6eb0d", "patch": "@@ -340,6 +340,7 @@ pub fn inner_docs(attrs: &[ast::Attribute]) -> bool {\n fn preprocess_link(link: &str) -> String {\n     let link = link.replace('`', \"\");\n     let link = link.split('#').next().unwrap();\n+    let link = link.trim();\n     let link = link.rsplit('@').next().unwrap();\n     let link = link.strip_suffix(\"()\").unwrap_or(link);\n     let link = link.strip_suffix(\"{}\").unwrap_or(link);"}, {"sha": "097af5f873476091d7d12788f3f640bff970e1f9", "filename": "src/librustdoc/passes/collect_intra_doc_links.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/fd62036caa266460bcdee5adc370232751e6eb0d/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fd62036caa266460bcdee5adc370232751e6eb0d/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs?ref=fd62036caa266460bcdee5adc370232751e6eb0d", "patch": "@@ -884,7 +884,8 @@ fn preprocess_link(\n     let mut parts = stripped.split('#');\n \n     let link = parts.next().unwrap();\n-    if link.trim().is_empty() {\n+    let link = link.trim();\n+    if link.is_empty() {\n         // This is an anchor to an element of the current page, nothing to do in here!\n         return None;\n     }\n@@ -897,7 +898,7 @@ fn preprocess_link(\n     // Parse and strip the disambiguator from the link, if present.\n     let (disambiguator, path_str, link_text) = match Disambiguator::from_str(link) {\n         Ok(Some((d, path, link_text))) => (Some(d), path.trim(), link_text.trim()),\n-        Ok(None) => (None, link.trim(), link.trim()),\n+        Ok(None) => (None, link, link),\n         Err((err_msg, relative_range)) => {\n             // Only report error if we would not have ignored this link. See issue #83859.\n             if !should_ignore_link_with_disambiguators(link) {"}]}