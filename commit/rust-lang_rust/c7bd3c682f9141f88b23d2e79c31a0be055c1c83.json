{"sha": "c7bd3c682f9141f88b23d2e79c31a0be055c1c83", "node_id": "C_kwDOAAsO6NoAKGM3YmQzYzY4MmY5MTQxZjg4YjIzZDJlNzljMzFhMGJlMDU1YzFjODM", "commit": {"author": {"name": "DropDemBits", "email": "r3usrlnd@gmail.com", "date": "2023-02-10T19:55:17Z"}, "committer": {"name": "DropDemBits", "email": "r3usrlnd@gmail.com", "date": "2023-02-10T19:55:17Z"}, "message": "Always reload onEnter configuration\n\nConfiguration reload doesn't happen often anyway,\nand there will always be a set of onEnter rules to load", "tree": {"sha": "42b4ca8d90a684d0e6145d6ab7c8489a301e773e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/42b4ca8d90a684d0e6145d6ab7c8489a301e773e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c7bd3c682f9141f88b23d2e79c31a0be055c1c83", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCgAdFiEE6GdU+O/nz/hLhxxS1VD437s5JTMFAmPmoSUACgkQ1VD437s5\nJTMr1Av/WX2zL3LFvwoH/Gzr3D4h/GupYjRYDauRUUHtEbIZmbBs8c7coVoWOLhA\nXNoyHuflDvhQ9nC1hfOHOhynO2zCfsWi1dNTypaJ+Pntc2ubA+Ypc0+MWCM2in0z\nmO1/+Gz9jHmblVGBV3e4JybmxoYLaEC5uRHcjElt9Jqnb/QAZYB2wnDR680O6sNm\nYSKTwkeBEnpWGWZwfFDv82jlMGPXLNhgLmlAtE6xFnG2r4iDhqK2O9ISBIZnYHZt\noLaTudwvE4G1SzohElKYSz/q16jcnfeJzytUsSe2fHkSLUj4N5dC88mGCUtvrixm\n8c3XVSalTocJZr5ZXAHMaIL/g1VMVFSvxYgjWh30XfRwIZLotLgMY2Acz5vmcZ6b\nWdZKAuVjzrUiKpnasz+X/qwWR/IkCi/b6CKBT31Oc8GMjy/aRgmyMs7BehcBRV4j\nhm06JkoISmnIhEGFIj7tS/DezOtjejVK/QEpRXwTjvLjsz5vnjNFKEE4ozLiu8h5\n/Pd8sX27\n=mBeU\n-----END PGP SIGNATURE-----", "payload": "tree 42b4ca8d90a684d0e6145d6ab7c8489a301e773e\nparent 992bafa773255cf9858bdc25c302abbd07d89c7b\nauthor DropDemBits <r3usrlnd@gmail.com> 1676058917 -0500\ncommitter DropDemBits <r3usrlnd@gmail.com> 1676058917 -0500\n\nAlways reload onEnter configuration\n\nConfiguration reload doesn't happen often anyway,\nand there will always be a set of onEnter rules to load\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c7bd3c682f9141f88b23d2e79c31a0be055c1c83", "html_url": "https://github.com/rust-lang/rust/commit/c7bd3c682f9141f88b23d2e79c31a0be055c1c83", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c7bd3c682f9141f88b23d2e79c31a0be055c1c83/comments", "author": {"login": "DropDemBits", "id": 13354275, "node_id": "MDQ6VXNlcjEzMzU0Mjc1", "avatar_url": "https://avatars.githubusercontent.com/u/13354275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DropDemBits", "html_url": "https://github.com/DropDemBits", "followers_url": "https://api.github.com/users/DropDemBits/followers", "following_url": "https://api.github.com/users/DropDemBits/following{/other_user}", "gists_url": "https://api.github.com/users/DropDemBits/gists{/gist_id}", "starred_url": "https://api.github.com/users/DropDemBits/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DropDemBits/subscriptions", "organizations_url": "https://api.github.com/users/DropDemBits/orgs", "repos_url": "https://api.github.com/users/DropDemBits/repos", "events_url": "https://api.github.com/users/DropDemBits/events{/privacy}", "received_events_url": "https://api.github.com/users/DropDemBits/received_events", "type": "User", "site_admin": false}, "committer": {"login": "DropDemBits", "id": 13354275, "node_id": "MDQ6VXNlcjEzMzU0Mjc1", "avatar_url": "https://avatars.githubusercontent.com/u/13354275?v=4", "gravatar_id": "", "url": "https://api.github.com/users/DropDemBits", "html_url": "https://github.com/DropDemBits", "followers_url": "https://api.github.com/users/DropDemBits/followers", "following_url": "https://api.github.com/users/DropDemBits/following{/other_user}", "gists_url": "https://api.github.com/users/DropDemBits/gists{/gist_id}", "starred_url": "https://api.github.com/users/DropDemBits/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/DropDemBits/subscriptions", "organizations_url": "https://api.github.com/users/DropDemBits/orgs", "repos_url": "https://api.github.com/users/DropDemBits/repos", "events_url": "https://api.github.com/users/DropDemBits/events{/privacy}", "received_events_url": "https://api.github.com/users/DropDemBits/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "992bafa773255cf9858bdc25c302abbd07d89c7b", "url": "https://api.github.com/repos/rust-lang/rust/commits/992bafa773255cf9858bdc25c302abbd07d89c7b", "html_url": "https://github.com/rust-lang/rust/commit/992bafa773255cf9858bdc25c302abbd07d89c7b"}], "stats": {"total": 23, "additions": 7, "deletions": 16}, "files": [{"sha": "561b69f0100b2d8a1bc75486ec960f243e9e5850", "filename": "editors/code/src/config.ts", "status": "modified", "additions": 7, "deletions": 16, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/c7bd3c682f9141f88b23d2e79c31a0be055c1c83/editors%2Fcode%2Fsrc%2Fconfig.ts", "raw_url": "https://github.com/rust-lang/rust/raw/c7bd3c682f9141f88b23d2e79c31a0be055c1c83/editors%2Fcode%2Fsrc%2Fconfig.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fconfig.ts?ref=c7bd3c682f9141f88b23d2e79c31a0be055c1c83", "patch": "@@ -11,9 +11,7 @@ export type RunnableEnvCfg =\n \n export class Config {\n     readonly extensionId = \"rust-lang.rust-analyzer\";\n-    configureLang:\n-        | { handle: vscode.Disposable; typingContinueCommentsOnNewline: boolean }\n-        | undefined;\n+    configureLang: vscode.Disposable | undefined;\n \n     readonly rootSection = \"rust-analyzer\";\n     private readonly requiresReloadOpts = [\n@@ -45,7 +43,7 @@ export class Config {\n     }\n \n     dispose() {\n-        this.configureLang?.handle.dispose();\n+        this.configureLang?.dispose();\n     }\n \n     private refreshLogging() {\n@@ -89,12 +87,8 @@ export class Config {\n      */\n     private configureLanguage() {\n         // Only need to dispose of the config if there's a change\n-        if (\n-            this.configureLang &&\n-            this.typingContinueCommentsOnNewline !==\n-                this.configureLang.typingContinueCommentsOnNewline\n-        ) {\n-            this.configureLang.handle.dispose();\n+        if (this.configureLang) {\n+            this.configureLang.dispose();\n             this.configureLang = undefined;\n         }\n \n@@ -167,12 +161,9 @@ export class Config {\n             ];\n         }\n \n-        this.configureLang = {\n-            handle: vscode.languages.setLanguageConfiguration(\"rust\", {\n-                onEnterRules,\n-            }),\n-            typingContinueCommentsOnNewline: this.typingContinueCommentsOnNewline,\n-        };\n+        this.configureLang = vscode.languages.setLanguageConfiguration(\"rust\", {\n+            onEnterRules,\n+        });\n     }\n \n     // We don't do runtime config validation here for simplicity. More on stackoverflow:"}]}