{"sha": "6cc42ce286b1a0693acc4ed2db9d9aa64ec16be1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZjYzQyY2UyODZiMWEwNjkzYWNjNGVkMmRiOWQ5YWE2NGVjMTZiZTE=", "commit": {"author": {"name": "Oliver Middleton", "email": "olliemail27@gmail.com", "date": "2019-05-25T22:54:12Z"}, "committer": {"name": "Oliver Middleton", "email": "olliemail27@gmail.com", "date": "2019-06-08T17:25:29Z"}, "message": "Revert \"Set test flag when rustdoc is running with --test option\"\n\nThis reverts commit 8ed2292dbe75b9b65e9fe1a079428d1e1e3b610f.\n\nIt caused doctests in this repository to no longer be tested including all of the core crate.", "tree": {"sha": "8a53a85f38a57f0649f948dec83ab83a43ea246f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8a53a85f38a57f0649f948dec83ab83a43ea246f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6cc42ce286b1a0693acc4ed2db9d9aa64ec16be1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6cc42ce286b1a0693acc4ed2db9d9aa64ec16be1", "html_url": "https://github.com/rust-lang/rust/commit/6cc42ce286b1a0693acc4ed2db9d9aa64ec16be1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6cc42ce286b1a0693acc4ed2db9d9aa64ec16be1/comments", "author": {"login": "ollie27", "id": 7189418, "node_id": "MDQ6VXNlcjcxODk0MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/7189418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ollie27", "html_url": "https://github.com/ollie27", "followers_url": "https://api.github.com/users/ollie27/followers", "following_url": "https://api.github.com/users/ollie27/following{/other_user}", "gists_url": "https://api.github.com/users/ollie27/gists{/gist_id}", "starred_url": "https://api.github.com/users/ollie27/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ollie27/subscriptions", "organizations_url": "https://api.github.com/users/ollie27/orgs", "repos_url": "https://api.github.com/users/ollie27/repos", "events_url": "https://api.github.com/users/ollie27/events{/privacy}", "received_events_url": "https://api.github.com/users/ollie27/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ollie27", "id": 7189418, "node_id": "MDQ6VXNlcjcxODk0MTg=", "avatar_url": "https://avatars.githubusercontent.com/u/7189418?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ollie27", "html_url": "https://github.com/ollie27", "followers_url": "https://api.github.com/users/ollie27/followers", "following_url": "https://api.github.com/users/ollie27/following{/other_user}", "gists_url": "https://api.github.com/users/ollie27/gists{/gist_id}", "starred_url": "https://api.github.com/users/ollie27/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ollie27/subscriptions", "organizations_url": "https://api.github.com/users/ollie27/orgs", "repos_url": "https://api.github.com/users/ollie27/repos", "events_url": "https://api.github.com/users/ollie27/events{/privacy}", "received_events_url": "https://api.github.com/users/ollie27/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5c45343f11fbf93cf4e15568aee3ff3f2f287466", "url": "https://api.github.com/repos/rust-lang/rust/commits/5c45343f11fbf93cf4e15568aee3ff3f2f287466", "html_url": "https://github.com/rust-lang/rust/commit/5c45343f11fbf93cf4e15568aee3ff3f2f287466"}], "stats": {"total": 3, "additions": 0, "deletions": 3}, "files": [{"sha": "67ca7f407d80164735e2b323444b44db8323a0c4", "filename": "src/librustdoc/config.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6cc42ce286b1a0693acc4ed2db9d9aa64ec16be1/src%2Flibrustdoc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6cc42ce286b1a0693acc4ed2db9d9aa64ec16be1/src%2Flibrustdoc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fconfig.rs?ref=6cc42ce286b1a0693acc4ed2db9d9aa64ec16be1", "patch": "@@ -351,9 +351,6 @@ impl Options {\n                             .unwrap_or_else(|| PathBuf::from(\"doc\"));\n         let mut cfgs = matches.opt_strs(\"cfg\");\n         cfgs.push(\"rustdoc\".to_string());\n-        if should_test {\n-            cfgs.push(\"test\".to_string());\n-        }\n \n         let extension_css = matches.opt_str(\"e\").map(|s| PathBuf::from(&s));\n "}]}