{"sha": "987a50bab3329a55d7b782da454456d5d4f4b9a1", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk4N2E1MGJhYjMzMjlhNTVkN2I3ODJkYTQ1NDQ1NmQ1ZDRmNGI5YTE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-10-07T08:32:19Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-10-07T08:32:19Z"}, "message": "Auto merge of #54823 - euclio:needs-test, r=alexcrichton\n\nAdd tests for some E-needstest issues\n\nFixes #28134.\nFixes #24338.\nFixes #29743.", "tree": {"sha": "361e34c73aa4324dbb54b72d103ad265cce0d940", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/361e34c73aa4324dbb54b72d103ad265cce0d940"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/987a50bab3329a55d7b782da454456d5d4f4b9a1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/987a50bab3329a55d7b782da454456d5d4f4b9a1", "html_url": "https://github.com/rust-lang/rust/commit/987a50bab3329a55d7b782da454456d5d4f4b9a1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/987a50bab3329a55d7b782da454456d5d4f4b9a1/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "13429136b88d39b71e18c2742c9f002a9c885429", "url": "https://api.github.com/repos/rust-lang/rust/commits/13429136b88d39b71e18c2742c9f002a9c885429", "html_url": "https://github.com/rust-lang/rust/commit/13429136b88d39b71e18c2742c9f002a9c885429"}, {"sha": "0501ee23d5df7aed33010618cdd4d21bee11a4b3", "url": "https://api.github.com/repos/rust-lang/rust/commits/0501ee23d5df7aed33010618cdd4d21bee11a4b3", "html_url": "https://github.com/rust-lang/rust/commit/0501ee23d5df7aed33010618cdd4d21bee11a4b3"}], "stats": {"total": 68, "additions": 68, "deletions": 0}, "files": [{"sha": "0c5db8f1f9df76a77ac08abd2dd76d3c2ff27cb5", "filename": "src/test/ui/issues/issue-24338.rs", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/987a50bab3329a55d7b782da454456d5d4f4b9a1/src%2Ftest%2Fui%2Fissues%2Fissue-24338.rs", "raw_url": "https://github.com/rust-lang/rust/raw/987a50bab3329a55d7b782da454456d5d4f4b9a1/src%2Ftest%2Fui%2Fissues%2Fissue-24338.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-24338.rs?ref=987a50bab3329a55d7b782da454456d5d4f4b9a1", "patch": "@@ -0,0 +1,30 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+//\n+// compile-pass\n+\n+trait DictLike<'a> {\n+    type ItemsIterator: Iterator<Item=u8>;\n+    fn get(c: Self::ItemsIterator) {\n+        c.into_iter();\n+    }\n+}\n+\n+trait DictLike2<'a> {\n+    type ItemsIterator: Iterator<Item=u8>;\n+\n+    fn items(&self) -> Self::ItemsIterator;\n+\n+    fn get(&self)  {\n+        for _ in self.items() {}\n+    }\n+}\n+\n+fn main() {}"}, {"sha": "333b073503ca9f3484b4e58c6dc3f0e7b2a74ec8", "filename": "src/test/ui/issues/issue-28134.rs", "status": "added", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/987a50bab3329a55d7b782da454456d5d4f4b9a1/src%2Ftest%2Fui%2Fissues%2Fissue-28134.rs", "raw_url": "https://github.com/rust-lang/rust/raw/987a50bab3329a55d7b782da454456d5d4f4b9a1/src%2Ftest%2Fui%2Fissues%2Fissue-28134.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-28134.rs?ref=987a50bab3329a55d7b782da454456d5d4f4b9a1", "patch": "@@ -0,0 +1,13 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// compile-flags: --test\n+\n+#![test] //~ ERROR only functions may be used as tests"}, {"sha": "cecbe5b93655a08813eee1e0fc2d924ba952e811", "filename": "src/test/ui/issues/issue-28134.stderr", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/987a50bab3329a55d7b782da454456d5d4f4b9a1/src%2Ftest%2Fui%2Fissues%2Fissue-28134.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/987a50bab3329a55d7b782da454456d5d4f4b9a1/src%2Ftest%2Fui%2Fissues%2Fissue-28134.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-28134.stderr?ref=987a50bab3329a55d7b782da454456d5d4f4b9a1", "patch": "@@ -0,0 +1,8 @@\n+error: only functions may be used as tests\n+  --> $DIR/issue-28134.rs:13:1\n+   |\n+LL | #![test] //~ ERROR only functions may be used as tests\n+   | ^^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "e563bf0a41207b448d243de820125de41a62ae35", "filename": "src/test/ui/issues/issue-29743.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/987a50bab3329a55d7b782da454456d5d4f4b9a1/src%2Ftest%2Fui%2Fissues%2Fissue-29743.rs", "raw_url": "https://github.com/rust-lang/rust/raw/987a50bab3329a55d7b782da454456d5d4f4b9a1/src%2Ftest%2Fui%2Fissues%2Fissue-29743.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-29743.rs?ref=987a50bab3329a55d7b782da454456d5d4f4b9a1", "patch": "@@ -0,0 +1,17 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+//\n+// compile-pass\n+\n+fn main() {\n+    let mut i = [1, 2, 3];\n+    i[i[0]] = 0;\n+    i[i[0] - 1] = 0;\n+}"}]}