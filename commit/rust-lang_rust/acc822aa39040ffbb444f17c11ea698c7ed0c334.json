{"sha": "acc822aa39040ffbb444f17c11ea698c7ed0c334", "node_id": "C_kwDOAAsO6NoAKGFjYzgyMmFhMzkwNDBmZmJiNDQ0ZjE3YzExZWE2OThjN2VkMGMzMzQ", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-05-17T12:01:12Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-05-17T12:01:12Z"}, "message": "Auto merge of #97111 - JohnTitor:rollup-x3vjf6u, r=JohnTitor\n\nRollup of 7 pull requests\n\nSuccessful merges:\n\n - #96329 (Add a couple tests for #90887 fixes)\n - #97009 (Allow `unused_macro_rules` in path tests)\n - #97075 (Add regression test for #81804)\n - #97079 (Change `Successors` to `impl Iterator<Item = BasicBlock>`)\n - #97080 (remove the `RelateResultCompare` trait)\n - #97093 (Migrate `maybe_recover_from_bad_type_plus` diagnostic)\n - #97102 (Update function pointer call error message)\n\nFailed merges:\n\nr? `@ghost`\n`@rustbot` modify labels: rollup", "tree": {"sha": "5f2d5972aa961b37d3d21e4280f7e2bcf16d04f0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5f2d5972aa961b37d3d21e4280f7e2bcf16d04f0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/acc822aa39040ffbb444f17c11ea698c7ed0c334", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/acc822aa39040ffbb444f17c11ea698c7ed0c334", "html_url": "https://github.com/rust-lang/rust/commit/acc822aa39040ffbb444f17c11ea698c7ed0c334", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/acc822aa39040ffbb444f17c11ea698c7ed0c334/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e9f3cdf84ea5b54add2037e57006b817f879befe", "url": "https://api.github.com/repos/rust-lang/rust/commits/e9f3cdf84ea5b54add2037e57006b817f879befe", "html_url": "https://github.com/rust-lang/rust/commit/e9f3cdf84ea5b54add2037e57006b817f879befe"}, {"sha": "ae9d727b8db5bc8c9e052f4dd43f606039d22738", "url": "https://api.github.com/repos/rust-lang/rust/commits/ae9d727b8db5bc8c9e052f4dd43f606039d22738", "html_url": "https://github.com/rust-lang/rust/commit/ae9d727b8db5bc8c9e052f4dd43f606039d22738"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "37aac8b2a49786efe9cf3fa62d54e2855e4406d8", "filename": "clippy_lints/src/redundant_clone.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/acc822aa39040ffbb444f17c11ea698c7ed0c334/clippy_lints%2Fsrc%2Fredundant_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/acc822aa39040ffbb444f17c11ea698c7ed0c334/clippy_lints%2Fsrc%2Fredundant_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_clone.rs?ref=acc822aa39040ffbb444f17c11ea698c7ed0c334", "patch": "@@ -114,7 +114,7 @@ impl<'tcx> LateLintPass<'tcx> for RedundantClone {\n             }\n \n             // Give up on loops\n-            if terminator.successors().any(|s| *s == bb) {\n+            if terminator.successors().any(|s| s == bb) {\n                 continue;\n             }\n \n@@ -440,7 +440,7 @@ fn visit_clone_usage(cloned: mir::Local, clone: mir::Local, mir: &mir::Body<'_>,\n             // Short-circuit\n             if (usage.cloned_used && usage.clone_consumed_or_mutated) ||\n                 // Give up on loops\n-                tdata.terminator().successors().any(|s| *s == bb)\n+                tdata.terminator().successors().any(|s| s == bb)\n             {\n                 return CloneUsage {\n                     cloned_used: true,"}]}