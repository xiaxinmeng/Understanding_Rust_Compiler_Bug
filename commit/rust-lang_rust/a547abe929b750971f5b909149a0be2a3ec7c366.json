{"sha": "a547abe929b750971f5b909149a0be2a3ec7c366", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE1NDdhYmU5MjliNzUwOTcxZjViOTA5MTQ5YTBiZTJhM2VjN2MzNjY=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-07-16T08:08:09Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-07-16T08:08:09Z"}, "message": "Rollup merge of #87162 - GuillaumeGomez:type-decl-overflow, r=notriddle\n\nFix type decl layout \"overflow\"\n\nBefore:\n\n![Screenshot from 2021-07-15 17-56-12](https://user-images.githubusercontent.com/3050060/125822644-c4595211-d75e-4dd7-ba44-183197ee836c.png)\n\nAfter:\n\n![Screenshot from 2021-07-15 17-56-17](https://user-images.githubusercontent.com/3050060/125822648-7b363847-e153-4ff3-9fba-59478e32eced.png)\n\ncc ```@SergioBenitez```\n\nr? ```@notriddle```", "tree": {"sha": "ebf6fa9cd9be4dbfc734adbcb3f777112f39b8da", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ebf6fa9cd9be4dbfc734adbcb3f777112f39b8da"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a547abe929b750971f5b909149a0be2a3ec7c366", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJg8T5qCRBK7hj4Ov3rIwAAt+cIAG6eGWJ0sZugt5In0M0J05cL\nJy24y+y7znFz92trYyx/9x4SaaIAPwpEq0EbcQlCbSaPKhr8CDWi3k/nYcs2UAeE\nJI8l/GtNT4ld4sExXI5rpZKU6k8fqtXoiCeJBs7XayQB/7XK17mIFG+MTEvIY5bg\n1C9xMJrJ2wpJxOxI/PerV3jJGxp/H5rR236rd5ZAqM3pWCfS3kiFJmHsapahmphY\nCtTYm07UYFVvZL2eQZDA4MIylflYXSNvq2WL7cdpzBaLW8vdC0hkYQWgcLhH3GFY\na71gwPcAm8noguJoMxmymzBDN7ISKcz7BJP/pYM79vAMA1tguUtYJrpt6cqIHbg=\n=jAkd\n-----END PGP SIGNATURE-----\n", "payload": "tree ebf6fa9cd9be4dbfc734adbcb3f777112f39b8da\nparent 41433795e75fa96e4ad880802879da7892d12fad\nparent 25e74037e8c1fda12cc83833d6e49feccb665e0f\nauthor Guillaume Gomez <guillaume1.gomez@gmail.com> 1626422889 +0200\ncommitter GitHub <noreply@github.com> 1626422889 +0200\n\nRollup merge of #87162 - GuillaumeGomez:type-decl-overflow, r=notriddle\n\nFix type decl layout \"overflow\"\n\nBefore:\n\n![Screenshot from 2021-07-15 17-56-12](https://user-images.githubusercontent.com/3050060/125822644-c4595211-d75e-4dd7-ba44-183197ee836c.png)\n\nAfter:\n\n![Screenshot from 2021-07-15 17-56-17](https://user-images.githubusercontent.com/3050060/125822648-7b363847-e153-4ff3-9fba-59478e32eced.png)\n\ncc ```@SergioBenitez```\n\nr? ```@notriddle```\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a547abe929b750971f5b909149a0be2a3ec7c366", "html_url": "https://github.com/rust-lang/rust/commit/a547abe929b750971f5b909149a0be2a3ec7c366", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a547abe929b750971f5b909149a0be2a3ec7c366/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "41433795e75fa96e4ad880802879da7892d12fad", "url": "https://api.github.com/repos/rust-lang/rust/commits/41433795e75fa96e4ad880802879da7892d12fad", "html_url": "https://github.com/rust-lang/rust/commit/41433795e75fa96e4ad880802879da7892d12fad"}, {"sha": "25e74037e8c1fda12cc83833d6e49feccb665e0f", "url": "https://api.github.com/repos/rust-lang/rust/commits/25e74037e8c1fda12cc83833d6e49feccb665e0f", "html_url": "https://github.com/rust-lang/rust/commit/25e74037e8c1fda12cc83833d6e49feccb665e0f"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "017ce0a494eb32be366cdf89dbe30f33d07c7d90", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a547abe929b750971f5b909149a0be2a3ec7c366/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/a547abe929b750971f5b909149a0be2a3ec7c366/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=a547abe929b750971f5b909149a0be2a3ec7c366", "patch": "@@ -247,6 +247,9 @@ code, pre, a.test-arrow {\n pre {\n \tpadding: 14px;\n }\n+.type-decl pre {\n+\toverflow-x: auto;\n+}\n \n .source .content pre {\n \tpadding: 20px;"}, {"sha": "0466909479b67966b71a11ba86a3aebc042f1706", "filename": "src/test/rustdoc-gui/src/lib2/lib.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/a547abe929b750971f5b909149a0be2a3ec7c366/src%2Ftest%2Frustdoc-gui%2Fsrc%2Flib2%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a547abe929b750971f5b909149a0be2a3ec7c366/src%2Ftest%2Frustdoc-gui%2Fsrc%2Flib2%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsrc%2Flib2%2Flib.rs?ref=a547abe929b750971f5b909149a0be2a3ec7c366", "patch": "@@ -47,3 +47,10 @@ pub mod sub_mod {\n     /// ```\n     pub struct Foo;\n }\n+\n+pub mod long_trait {\n+    use std::ops::DerefMut;\n+\n+    pub trait ALongNameBecauseItHelpsTestingTheCurrentProblem: DerefMut<Target = u32>\n+        + From<u128> + Send + Sync + AsRef<str> + 'static {}\n+}"}, {"sha": "0a316e220a42ce82fcab9b91af5f03d1357c892e", "filename": "src/test/rustdoc-gui/type-declation-overflow.goml", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/a547abe929b750971f5b909149a0be2a3ec7c366/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "raw_url": "https://github.com/rust-lang/rust/raw/a547abe929b750971f5b909149a0be2a3ec7c366/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml?ref=a547abe929b750971f5b909149a0be2a3ec7c366", "patch": "@@ -0,0 +1,8 @@\n+// This test ensures that the type declaration content overflow is handled inside the <pre> directly.\n+goto: file://|DOC_PATH|/lib2/long_trait/trait.ALongNameBecauseItHelpsTestingTheCurrentProblem.html\n+// We set a fixed size so there is no chance of \"random\" resize.\n+size: (1100, 800)\n+// Logically, the <body> scroll width should be the width of the window.\n+assert-property: (\"body\", {\"scrollWidth\": \"1100\"})\n+// However, since there is overflow in the type declaration, its scroll width is bigger.\n+assert-property: (\".type-decl pre\", {\"scrollWidth\": \"1324\"})"}]}