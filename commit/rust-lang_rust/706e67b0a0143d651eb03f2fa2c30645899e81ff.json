{"sha": "706e67b0a0143d651eb03f2fa2c30645899e81ff", "node_id": "MDY6Q29tbWl0NzI0NzEyOjcwNmU2N2IwYTAxNDNkNjUxZWIwM2YyZmEyYzMwNjQ1ODk5ZTgxZmY=", "commit": {"author": {"name": "Nikita Popov", "email": "nikita.ppv@gmail.com", "date": "2018-12-09T10:20:20Z"}, "committer": {"name": "Nikita Popov", "email": "nikita.ppv@gmail.com", "date": "2018-12-09T11:05:40Z"}, "message": "Bump minimum required LLVM version to 6.0", "tree": {"sha": "4233ab3b0967f2b313cd9100e1a2eeb4d0b97e7c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4233ab3b0967f2b313cd9100e1a2eeb4d0b97e7c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/706e67b0a0143d651eb03f2fa2c30645899e81ff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/706e67b0a0143d651eb03f2fa2c30645899e81ff", "html_url": "https://github.com/rust-lang/rust/commit/706e67b0a0143d651eb03f2fa2c30645899e81ff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/706e67b0a0143d651eb03f2fa2c30645899e81ff/comments", "author": {"login": "nikic", "id": 216080, "node_id": "MDQ6VXNlcjIxNjA4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/216080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikic", "html_url": "https://github.com/nikic", "followers_url": "https://api.github.com/users/nikic/followers", "following_url": "https://api.github.com/users/nikic/following{/other_user}", "gists_url": "https://api.github.com/users/nikic/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikic/subscriptions", "organizations_url": "https://api.github.com/users/nikic/orgs", "repos_url": "https://api.github.com/users/nikic/repos", "events_url": "https://api.github.com/users/nikic/events{/privacy}", "received_events_url": "https://api.github.com/users/nikic/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nikic", "id": 216080, "node_id": "MDQ6VXNlcjIxNjA4MA==", "avatar_url": "https://avatars.githubusercontent.com/u/216080?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nikic", "html_url": "https://github.com/nikic", "followers_url": "https://api.github.com/users/nikic/followers", "following_url": "https://api.github.com/users/nikic/following{/other_user}", "gists_url": "https://api.github.com/users/nikic/gists{/gist_id}", "starred_url": "https://api.github.com/users/nikic/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nikic/subscriptions", "organizations_url": "https://api.github.com/users/nikic/orgs", "repos_url": "https://api.github.com/users/nikic/repos", "events_url": "https://api.github.com/users/nikic/events{/privacy}", "received_events_url": "https://api.github.com/users/nikic/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b7da2c6e12a6b2a2343e2f1e66fe4f6a1ad55463", "url": "https://api.github.com/repos/rust-lang/rust/commits/b7da2c6e12a6b2a2343e2f1e66fe4f6a1ad55463", "html_url": "https://github.com/rust-lang/rust/commit/b7da2c6e12a6b2a2343e2f1e66fe4f6a1ad55463"}], "stats": {"total": 79, "additions": 14, "deletions": 65}, "files": [{"sha": "9e46e6b8ef6b15a39e7d2b472befb604b5ad2e06", "filename": ".travis.yml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -16,7 +16,7 @@ matrix:\n   fast_finish: true\n   include:\n     # Images used in testing PR and try-build should be run first.\n-    - env: IMAGE=x86_64-gnu-llvm-5.0 RUST_BACKTRACE=1\n+    - env: IMAGE=x86_64-gnu-llvm-6.0 RUST_BACKTRACE=1\n       if: type = pull_request OR branch = auto\n \n     - env: IMAGE=dist-x86_64-linux DEPLOY=1"}, {"sha": "158511614865462f1e3a71d56f8e4767ad6b2c8f", "filename": "src/bootstrap/native.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Fbootstrap%2Fnative.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Fbootstrap%2Fnative.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fnative.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -278,11 +278,11 @@ fn check_llvm_version(builder: &Builder, llvm_config: &Path) {\n     let mut parts = version.split('.').take(2)\n         .filter_map(|s| s.parse::<u32>().ok());\n     if let (Some(major), Some(_minor)) = (parts.next(), parts.next()) {\n-        if major >= 5 {\n+        if major >= 6 {\n             return\n         }\n     }\n-    panic!(\"\\n\\nbad LLVM version: {}, need >=5.0\\n\\n\", version)\n+    panic!(\"\\n\\nbad LLVM version: {}, need >=6.0\\n\\n\", version)\n }\n \n fn configure_cmake(builder: &Builder,"}, {"sha": "160b23e0b00d176672d8f17f350a91412fa49052", "filename": "src/ci/docker/x86_64-gnu-llvm-6.0/Dockerfile", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Fci%2Fdocker%2Fx86_64-gnu-llvm-6.0%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Fci%2Fdocker%2Fx86_64-gnu-llvm-6.0%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fx86_64-gnu-llvm-6.0%2FDockerfile?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -11,7 +11,7 @@ RUN apt-get update && apt-get install -y --no-install-recommends \\\n   cmake \\\n   sudo \\\n   gdb \\\n-  llvm-5.0-tools \\\n+  llvm-6.0-tools \\\n   libedit-dev \\\n   zlib1g-dev \\\n   xz-utils\n@@ -22,6 +22,6 @@ RUN sh /scripts/sccache.sh\n # using llvm-link-shared due to libffi issues -- see #34486\n ENV RUST_CONFIGURE_ARGS \\\n       --build=x86_64-unknown-linux-gnu \\\n-      --llvm-root=/usr/lib/llvm-5.0 \\\n+      --llvm-root=/usr/lib/llvm-6.0 \\\n       --enable-llvm-link-shared\n ENV RUST_CHECK_TARGET check", "previous_filename": "src/ci/docker/x86_64-gnu-llvm-5.0/Dockerfile"}, {"sha": "01b1387d9cc2f50dc5284c844541c588ac93716b", "filename": "src/librustc_codegen_llvm/builder.rs", "status": "modified", "additions": 2, "deletions": 8, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Flibrustc_codegen_llvm%2Fbuilder.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Flibrustc_codegen_llvm%2Fbuilder.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fbuilder.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -1024,17 +1024,11 @@ impl BuilderMethods<'a, 'tcx> for Builder<'a, 'll, 'tcx> {\n \n     fn minnum(&mut self, lhs: &'ll Value, rhs: &'ll Value) -> &'ll Value {\n         self.count_insn(\"minnum\");\n-        unsafe {\n-            let instr = llvm::LLVMRustBuildMinNum(self.llbuilder, lhs, rhs);\n-            instr.expect(\"LLVMRustBuildMinNum is not available in LLVM version < 6.0\")\n-        }\n+        unsafe { llvm::LLVMRustBuildMinNum(self.llbuilder, lhs, rhs) }\n     }\n     fn maxnum(&mut self, lhs: &'ll Value, rhs: &'ll Value) -> &'ll Value {\n         self.count_insn(\"maxnum\");\n-        unsafe {\n-            let instr = llvm::LLVMRustBuildMaxNum(self.llbuilder, lhs, rhs);\n-            instr.expect(\"LLVMRustBuildMaxNum is not available in LLVM version < 6.0\")\n-        }\n+        unsafe { llvm::LLVMRustBuildMaxNum(self.llbuilder, lhs, rhs) }\n     }\n \n     fn select("}, {"sha": "4732db88ec1cb60535213affef54373fc772a998", "filename": "src/librustc_codegen_llvm/llvm/ffi.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Flibrustc_codegen_llvm%2Fllvm%2Fffi.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Flibrustc_codegen_llvm%2Fllvm%2Fffi.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_codegen_llvm%2Fllvm%2Fffi.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -1222,12 +1222,12 @@ extern \"C\" {\n         B: &Builder<'a>,\n         LHS: &'a Value,\n         LHS: &'a Value,\n-    ) -> Option<&'a Value>;\n+    ) -> &'a Value;\n     pub fn LLVMRustBuildMaxNum(\n         B: &Builder<'a>,\n         LHS: &'a Value,\n         LHS: &'a Value,\n-    ) -> Option<&'a Value>;\n+    ) -> &'a Value;\n \n     // Atomic Operations\n     pub fn LLVMRustBuildAtomicLoad(B: &Builder<'a>,"}, {"sha": "2f8dc0d466fb4e8271169a1643c455450bec8d0a", "filename": "src/rustllvm/ArchiveWrapper.cpp", "status": "modified", "additions": 1, "deletions": 6, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Frustllvm%2FArchiveWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Frustllvm%2FArchiveWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2FArchiveWrapper.cpp?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -216,16 +216,11 @@ LLVMRustWriteArchive(char *Dst, size_t NumMembers,\n       Members.push_back(std::move(*MOrErr));\n     }\n   }\n+\n   auto Result = writeArchive(Dst, Members, WriteSymbtab, Kind, true, false);\n-#if LLVM_VERSION_GE(6, 0)\n   if (!Result)\n     return LLVMRustResult::Success;\n   LLVMRustSetLastError(toString(std::move(Result)).c_str());\n-#else\n-  if (!Result.second)\n-    return LLVMRustResult::Success;\n-  LLVMRustSetLastError(Result.second.message().c_str());\n-#endif\n \n   return LLVMRustResult::Failure;\n }"}, {"sha": "4d95368c00f1e5a9e171ef678489db717c0d3d59", "filename": "src/rustllvm/PassWrapper.cpp", "status": "modified", "additions": 2, "deletions": 16, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Frustllvm%2FPassWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Frustllvm%2FPassWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2FPassWrapper.cpp?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -17,21 +17,15 @@\n \n #include \"llvm/Analysis/TargetLibraryInfo.h\"\n #include \"llvm/Analysis/TargetTransformInfo.h\"\n+#include \"llvm/CodeGen/TargetSubtargetInfo.h\"\n #include \"llvm/IR/AutoUpgrade.h\"\n #include \"llvm/IR/AssemblyAnnotationWriter.h\"\n+#include \"llvm/IR/IntrinsicInst.h\"\n #include \"llvm/Support/CBindingWrapping.h\"\n #include \"llvm/Support/FileSystem.h\"\n #include \"llvm/Support/Host.h\"\n #include \"llvm/Target/TargetMachine.h\"\n #include \"llvm/Transforms/IPO/PassManagerBuilder.h\"\n-\n-#if LLVM_VERSION_GE(6, 0)\n-#include \"llvm/CodeGen/TargetSubtargetInfo.h\"\n-#include \"llvm/IR/IntrinsicInst.h\"\n-#else\n-#include \"llvm/Target/TargetSubtargetInfo.h\"\n-#endif\n-\n #include \"llvm/Transforms/IPO/AlwaysInliner.h\"\n #include \"llvm/Transforms/IPO/FunctionImport.h\"\n #include \"llvm/Transforms/Utils/FunctionImportUtils.h\"\n@@ -198,13 +192,9 @@ GEN_SUBTARGETS\n \n extern \"C\" bool LLVMRustHasFeature(LLVMTargetMachineRef TM,\n                                    const char *Feature) {\n-#if LLVM_VERSION_GE(6, 0)\n   TargetMachine *Target = unwrap(TM);\n   const MCSubtargetInfo *MCInfo = Target->getMCSubtargetInfo();\n   return MCInfo->checkFeatures(std::string(\"+\") + Feature);\n-#else\n-  return false;\n-#endif\n }\n \n enum class LLVMRustCodeModel {\n@@ -392,13 +382,9 @@ extern \"C\" LLVMTargetMachineRef LLVMRustCreateTargetMachine(\n     Options.ThreadModel = ThreadModel::Single;\n   }\n \n-#if LLVM_VERSION_GE(6, 0)\n   Options.EmitStackSizeSection = EmitStackSizeSection;\n \n   Optional<CodeModel::Model> CM;\n-#else\n-  CodeModel::Model CM = CodeModel::Model::Default;\n-#endif\n   if (RustCM != LLVMRustCodeModel::None)\n     CM = fromRust(RustCM);\n   TargetMachine *TM = TheTarget->createTargetMachine("}, {"sha": "86c5dfcfb98277df0b886649e8e49c1f19a7f589", "filename": "src/rustllvm/RustWrapper.cpp", "status": "modified", "additions": 0, "deletions": 15, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Frustllvm%2FRustWrapper.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Frustllvm%2FRustWrapper.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustllvm%2FRustWrapper.cpp?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -297,11 +297,7 @@ extern \"C\" void LLVMRustRemoveFunctionAttributes(LLVMValueRef Fn,\n // enable fpmath flag UnsafeAlgebra\n extern \"C\" void LLVMRustSetHasUnsafeAlgebra(LLVMValueRef V) {\n   if (auto I = dyn_cast<Instruction>(unwrap<Value>(V))) {\n-#if LLVM_VERSION_GE(6, 0)\n     I->setFast(true);\n-#else\n-    I->setHasUnsafeAlgebra(true);\n-#endif\n   }\n }\n \n@@ -1437,7 +1433,6 @@ LLVMRustBuildVectorReduceFMax(LLVMBuilderRef B, LLVMValueRef Src, bool NoNaN) {\n   return wrap(unwrap(B)->CreateFPMaxReduce(unwrap(Src), NoNaN));\n }\n \n-#if LLVM_VERSION_GE(6, 0)\n extern \"C\" LLVMValueRef\n LLVMRustBuildMinNum(LLVMBuilderRef B, LLVMValueRef LHS, LLVMValueRef RHS) {\n     return wrap(unwrap(B)->CreateMinNum(unwrap(LHS),unwrap(RHS)));\n@@ -1446,13 +1441,3 @@ extern \"C\" LLVMValueRef\n LLVMRustBuildMaxNum(LLVMBuilderRef B, LLVMValueRef LHS, LLVMValueRef RHS) {\n     return wrap(unwrap(B)->CreateMaxNum(unwrap(LHS),unwrap(RHS)));\n }\n-#else\n-extern \"C\" LLVMValueRef\n-LLVMRustBuildMinNum(LLVMBuilderRef, LLVMValueRef, LLVMValueRef) {\n-   return nullptr;\n-}\n-extern \"C\" LLVMValueRef\n-LLVMRustBuildMaxNum(LLVMBuilderRef, LLVMValueRef, LLVMValueRef) {\n-   return nullptr;\n-}\n-#endif"}, {"sha": "52bdb1b103afd0fec930686c894a485ce4105951", "filename": "src/test/codegen/function-arguments.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Ffunction-arguments.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Ffunction-arguments.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Ffunction-arguments.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -10,7 +10,6 @@\n \n // compile-flags: -C no-prepopulate-passes\n // ignore-tidy-linelength\n-// min-llvm-version 6.0\n \n #![crate_type = \"lib\"]\n #![feature(custom_attribute)]"}, {"sha": "ebd436cc6478b94f721da754bfe78f149de40d35", "filename": "src/test/codegen/issue-44056-macos-tls-align.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fissue-44056-macos-tls-align.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fissue-44056-macos-tls-align.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fissue-44056-macos-tls-align.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -11,7 +11,6 @@\n // ignore-tidy-linelength\n // only-macos\n // no-system-llvm\n-// min-llvm-version 6.0\n // compile-flags: -O\n \n #![crate_type = \"rlib\"]"}, {"sha": "a6e633bf285ac6cf80939e7711ea60aec15cf6c7", "filename": "src/test/codegen/issue-45222.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fissue-45222.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fissue-45222.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fissue-45222.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -9,7 +9,6 @@\n // except according to those terms.\n \n // compile-flags: -O\n-// min-llvm-version 6.0\n \n #![crate_type = \"lib\"]\n "}, {"sha": "f916c1a0640931ac614236a47b3827c9d9e73c34", "filename": "src/test/codegen/issue-45466.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fissue-45466.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fissue-45466.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fissue-45466.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -9,7 +9,6 @@\n // except according to those terms.\n \n // compile-flags: -O\n-// min-llvm-version 6.0\n \n #![crate_type=\"rlib\"]\n "}, {"sha": "605a952e8ff051e85858a5efa5aead868dc882ef", "filename": "src/test/codegen/simd-intrinsic-generic-gather.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fsimd-intrinsic-generic-gather.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fsimd-intrinsic-generic-gather.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fsimd-intrinsic-generic-gather.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -10,7 +10,6 @@\n \n // ignore-emscripten\n // ignore-tidy-linelength\n-// min-llvm-version 6.0\n \n // compile-flags: -C no-prepopulate-passes\n "}, {"sha": "6645778468cbed3dfd6ef8c907d0d88e24fb3b2c", "filename": "src/test/codegen/simd-intrinsic-generic-scatter.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fsimd-intrinsic-generic-scatter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fsimd-intrinsic-generic-scatter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fsimd-intrinsic-generic-scatter.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -10,7 +10,6 @@\n \n // ignore-emscripten\n // ignore-tidy-linelength\n-// min-llvm-version 6.0\n \n // compile-flags: -C no-prepopulate-passes\n "}, {"sha": "cb96a844341b7ffffd6e70991d072b15ae141d0d", "filename": "src/test/codegen/vtabletype.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fvtabletype.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fcodegen%2Fvtabletype.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fvtabletype.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -14,7 +14,6 @@\n // ignore-tidy-linelength\n // ignore-windows\n // ignore-macos\n-// min-llvm-version 6.0\n \n // compile-flags: -g -C no-prepopulate-passes\n "}, {"sha": "e5ac5775b0cb946b4e4c56c110ccd832e8fa9be7", "filename": "src/test/run-pass/simd/simd-intrinsic-generic-gather.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Frun-pass%2Fsimd%2Fsimd-intrinsic-generic-gather.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Frun-pass%2Fsimd%2Fsimd-intrinsic-generic-gather.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fsimd%2Fsimd-intrinsic-generic-gather.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -10,7 +10,6 @@\n \n // run-pass\n // ignore-emscripten\n-// min-llvm-version 6.0\n \n // Test that the simd_{gather,scatter} intrinsics produce the correct results.\n "}, {"sha": "779c72b8df127bcf93e24ce41ec57c73fc102610", "filename": "src/test/run-pass/sse2.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Frun-pass%2Fsse2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Frun-pass%2Fsse2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fsse2.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -8,11 +8,9 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![allow(stable_features)]\n-// min-llvm-version 6.0\n-// ^ needs MCSubtargetInfo::checkFeatures()\n // ignore-cloudabi no std::env\n \n+#![allow(stable_features)]\n #![feature(cfg_target_feature)]\n \n use std::env;"}, {"sha": "2d0fb78897de10403e2f25fd0d2272a1aa93c473", "filename": "src/test/ui/target-feature-gate.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fui%2Ftarget-feature-gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fui%2Ftarget-feature-gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftarget-feature-gate.rs?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -24,7 +24,6 @@\n // gate-test-mips_target_feature\n // gate-test-mmx_target_feature\n // gate-test-wasm_target_feature\n-// min-llvm-version 6.0\n \n #[target_feature(enable = \"avx512bw\")]\n //~^ ERROR: currently unstable"}, {"sha": "24141d0064fb0f2c0cf92dd52a710ad22bb54785", "filename": "src/test/ui/target-feature-gate.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fui%2Ftarget-feature-gate.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/706e67b0a0143d651eb03f2fa2c30645899e81ff/src%2Ftest%2Fui%2Ftarget-feature-gate.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftarget-feature-gate.stderr?ref=706e67b0a0143d651eb03f2fa2c30645899e81ff", "patch": "@@ -1,5 +1,5 @@\n error[E0658]: the target feature `avx512bw` is currently unstable (see issue #44839)\n-  --> $DIR/target-feature-gate.rs:29:18\n+  --> $DIR/target-feature-gate.rs:28:18\n    |\n LL | #[target_feature(enable = \"avx512bw\")]\n    |                  ^^^^^^^^^^^^^^^^^^^"}]}