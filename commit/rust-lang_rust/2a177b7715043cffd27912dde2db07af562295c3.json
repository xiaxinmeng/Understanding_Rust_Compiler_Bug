{"sha": "2a177b7715043cffd27912dde2db07af562295c3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJhMTc3Yjc3MTUwNDNjZmZkMjc5MTJkZGUyZGIwN2FmNTYyMjk1YzM=", "commit": {"author": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2017-04-07T03:36:30Z"}, "committer": {"name": "Jorge Aparicio", "email": "japaricious@gmail.com", "date": "2017-04-07T15:52:42Z"}, "message": "add some documentation to the unstable book", "tree": {"sha": "a6910a7010d49b8c310b499a30df6b1a33c1535c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a6910a7010d49b8c310b499a30df6b1a33c1535c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2a177b7715043cffd27912dde2db07af562295c3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2a177b7715043cffd27912dde2db07af562295c3", "html_url": "https://github.com/rust-lang/rust/commit/2a177b7715043cffd27912dde2db07af562295c3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2a177b7715043cffd27912dde2db07af562295c3/comments", "author": null, "committer": null, "parents": [{"sha": "95bb45431ade3995b5936f522de131453326f2c1", "url": "https://api.github.com/repos/rust-lang/rust/commits/95bb45431ade3995b5936f522de131453326f2c1", "html_url": "https://github.com/rust-lang/rust/commit/95bb45431ade3995b5936f522de131453326f2c1"}], "stats": {"total": 62, "additions": 62, "deletions": 0}, "files": [{"sha": "65b448c9a78b2d97ba16caa2b6c5e499e98ad1dc", "filename": "src/doc/unstable-book/src/SUMMARY.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2a177b7715043cffd27912dde2db07af562295c3/src%2Fdoc%2Funstable-book%2Fsrc%2FSUMMARY.md", "raw_url": "https://github.com/rust-lang/rust/raw/2a177b7715043cffd27912dde2db07af562295c3/src%2Fdoc%2Funstable-book%2Fsrc%2FSUMMARY.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2FSUMMARY.md?ref=2a177b7715043cffd27912dde2db07af562295c3", "patch": "@@ -106,6 +106,7 @@\n - [link_llvm_intrinsics](link-llvm-intrinsics.md)\n - [linkage](linkage.md)\n - [linked_list_extras](linked-list-extras.md)\n+- [linker-flavor](linker-flavor.md)\n - [log_syntax](log-syntax.md)\n - [lookup_host](lookup-host.md)\n - [loop_break_value](loop-break-value.md)"}, {"sha": "2e851167834948c7cd472fc39cb122858906ea27", "filename": "src/doc/unstable-book/src/linker-flavor.md", "status": "added", "additions": 61, "deletions": 0, "changes": 61, "blob_url": "https://github.com/rust-lang/rust/blob/2a177b7715043cffd27912dde2db07af562295c3/src%2Fdoc%2Funstable-book%2Fsrc%2Flinker-flavor.md", "raw_url": "https://github.com/rust-lang/rust/raw/2a177b7715043cffd27912dde2db07af562295c3/src%2Fdoc%2Funstable-book%2Fsrc%2Flinker-flavor.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flinker-flavor.md?ref=2a177b7715043cffd27912dde2db07af562295c3", "patch": "@@ -0,0 +1,61 @@\n+# `linker-flavor`\n+\n+The tracking issue for this feature is: None\n+\n+------------------------\n+\n+Every `rustc` target defaults to some linker. For example, Linux targets default\n+to gcc. In some cases, you may want to override the default; you can do that\n+with the unstable CLI argument: `-Z linker-flavor`.\n+\n+Here how you would use this flag to link a Rust binary for the\n+`thumbv7m-none-eabi` using LLD instead of GCC.\n+\n+``` text\n+$ xargo rustc --target thumbv7m-none-eabi -- \\\n+    -C linker=ld.lld \\\n+    -Z linker-flavor=ld \\\n+    -Z print-link-args | tr ' ' '\\n'\n+\"ld.lld\"\n+\"-L\"\n+\"$SYSROOT/lib/rustlib/thumbv7m-none-eabi/lib\"\n+\"$PWD/target/thumbv7m-none-eabi/debug/deps/app-512e9dbf385f233c.0.o\"\n+\"-o\"\n+\"$PWD/target/thumbv7m-none-eabi/debug/deps/app-512e9dbf385f233c\"\n+\"--gc-sections\"\n+\"-L\"\n+\"$PWD/target/thumbv7m-none-eabi/debug/deps\"\n+\"-L\"\n+\"$PWD/target/debug/deps\"\n+\"-L\"\n+\"$SYSROOT/lib/rustlib/thumbv7m-none-eabi/lib\"\n+\"-Bstatic\"\n+\"$SYSROOT/lib/rustlib/thumbv7m-none-eabi/lib/libcore-e1ccb7dfb1cb9ebb.rlib\"\n+\"-Bdynamic\"\n+```\n+\n+Whereas the default is:\n+\n+```\n+$ xargo rustc --target thumbv7m-none-eabi -- \\\n+    -C link-arg=-nostartfiles \\\n+    -Z print-link-args | tr ' ' '\\n'\n+\"arm-none-eabi-gcc\"\n+\"-L\"\n+\"$SYSROOT/lib/rustlib/thumbv7m-none-eabi/lib\"\n+\"$PWD/target/thumbv7m-none-eabi/debug/deps/app-961e39416baa38d9.0.o\"\n+\"-o\"\n+\"$PWD/target/thumbv7m-none-eabi/debug/deps/app-961e39416baa38d9\"\n+\"-Wl,--gc-sections\"\n+\"-nodefaultlibs\"\n+\"-L\"\n+\"$PWD/target/thumbv7m-none-eabi/debug/deps\"\n+\"-L\"\n+\"$PWD/target/debug/deps\"\n+\"-L\"\n+\"$SYSROOT/lib/rustlib/thumbv7m-none-eabi/lib\"\n+\"-Wl,-Bstatic\"\n+\"$SYSROOT/lib/rustlib/thumbv7m-none-eabi/lib/libcore-e1ccb7dfb1cb9ebb.rlib\"\n+\"-nostartfiles\"\n+\"-Wl,-Bdynamic\"\n+```"}]}