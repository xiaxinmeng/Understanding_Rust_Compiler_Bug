{"sha": "82639d4f0429eedd868d25d78b69a9fd96e5d200", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyNjM5ZDRmMDQyOWVlZGQ4NjhkMjVkNzhiNjlhOWZkOTZlNWQyMDA=", "commit": {"author": {"name": "Mikhail Modin", "email": "mikhailm1@gmail.com", "date": "2016-09-16T18:44:15Z"}, "committer": {"name": "Mikhail Modin", "email": "mikhailm1@gmail.com", "date": "2016-09-16T18:44:15Z"}, "message": "fix top level attr spans", "tree": {"sha": "5b61516b7be0f2bf1084415259a6d76f05c88972", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5b61516b7be0f2bf1084415259a6d76f05c88972"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/82639d4f0429eedd868d25d78b69a9fd96e5d200", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/82639d4f0429eedd868d25d78b69a9fd96e5d200", "html_url": "https://github.com/rust-lang/rust/commit/82639d4f0429eedd868d25d78b69a9fd96e5d200", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/82639d4f0429eedd868d25d78b69a9fd96e5d200/comments", "author": {"login": "mikhail-m1", "id": 5663581, "node_id": "MDQ6VXNlcjU2NjM1ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/5663581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikhail-m1", "html_url": "https://github.com/mikhail-m1", "followers_url": "https://api.github.com/users/mikhail-m1/followers", "following_url": "https://api.github.com/users/mikhail-m1/following{/other_user}", "gists_url": "https://api.github.com/users/mikhail-m1/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikhail-m1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikhail-m1/subscriptions", "organizations_url": "https://api.github.com/users/mikhail-m1/orgs", "repos_url": "https://api.github.com/users/mikhail-m1/repos", "events_url": "https://api.github.com/users/mikhail-m1/events{/privacy}", "received_events_url": "https://api.github.com/users/mikhail-m1/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mikhail-m1", "id": 5663581, "node_id": "MDQ6VXNlcjU2NjM1ODE=", "avatar_url": "https://avatars.githubusercontent.com/u/5663581?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mikhail-m1", "html_url": "https://github.com/mikhail-m1", "followers_url": "https://api.github.com/users/mikhail-m1/followers", "following_url": "https://api.github.com/users/mikhail-m1/following{/other_user}", "gists_url": "https://api.github.com/users/mikhail-m1/gists{/gist_id}", "starred_url": "https://api.github.com/users/mikhail-m1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mikhail-m1/subscriptions", "organizations_url": "https://api.github.com/users/mikhail-m1/orgs", "repos_url": "https://api.github.com/users/mikhail-m1/repos", "events_url": "https://api.github.com/users/mikhail-m1/events{/privacy}", "received_events_url": "https://api.github.com/users/mikhail-m1/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8394685b8385156fc4bc31cfbc693867e276d9d7", "url": "https://api.github.com/repos/rust-lang/rust/commits/8394685b8385156fc4bc31cfbc693867e276d9d7", "html_url": "https://github.com/rust-lang/rust/commit/8394685b8385156fc4bc31cfbc693867e276d9d7"}], "stats": {"total": 34, "additions": 33, "deletions": 1}, "files": [{"sha": "9eac024edb17eeccedcb829c2564ea46840b592a", "filename": "src/libsyntax/parse/attr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/82639d4f0429eedd868d25d78b69a9fd96e5d200/src%2Flibsyntax%2Fparse%2Fattr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/82639d4f0429eedd868d25d78b69a9fd96e5d200/src%2Flibsyntax%2Fparse%2Fattr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fattr.rs?ref=82639d4f0429eedd868d25d78b69a9fd96e5d200", "patch": "@@ -125,8 +125,8 @@ impl<'a> Parser<'a> {\n \n                 self.expect(&token::OpenDelim(token::Bracket))?;\n                 let meta_item = self.parse_meta_item()?;\n-                let hi = self.last_span.hi;\n                 self.expect(&token::CloseDelim(token::Bracket))?;\n+                let hi = self.last_span.hi;\n \n                 (mk_sp(lo, hi), meta_item, style)\n             }"}, {"sha": "893c2168c2e1631f6035671b1c79ad024552fd65", "filename": "src/test/ui/span/issue-36530.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/82639d4f0429eedd868d25d78b69a9fd96e5d200/src%2Ftest%2Fui%2Fspan%2Fissue-36530.rs", "raw_url": "https://github.com/rust-lang/rust/raw/82639d4f0429eedd868d25d78b69a9fd96e5d200/src%2Ftest%2Fui%2Fspan%2Fissue-36530.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-36530.rs?ref=82639d4f0429eedd868d25d78b69a9fd96e5d200", "patch": "@@ -0,0 +1,14 @@\n+// Copyright 2014 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#[foo]\n+mod foo {\n+    #![foo]\n+}"}, {"sha": "dc6190c2e76b0f28afee368623308f022d13cb96", "filename": "src/test/ui/span/issue-36530.stderr", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/82639d4f0429eedd868d25d78b69a9fd96e5d200/src%2Ftest%2Fui%2Fspan%2Fissue-36530.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/82639d4f0429eedd868d25d78b69a9fd96e5d200/src%2Ftest%2Fui%2Fspan%2Fissue-36530.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2Fissue-36530.stderr?ref=82639d4f0429eedd868d25d78b69a9fd96e5d200", "patch": "@@ -0,0 +1,18 @@\n+error: The attribute `foo` is currently unknown to the compiler and may have meaning added to it in the future (see issue #29642)\n+  --> $DIR/issue-36530.rs:11:1\n+   |\n+11 | #[foo]\n+   | ^^^^^^\n+   |\n+   = help: add #![feature(custom_attribute)] to the crate attributes to enable\n+\n+error: The attribute `foo` is currently unknown to the compiler and may have meaning added to it in the future (see issue #29642)\n+  --> $DIR/issue-36530.rs:13:5\n+   |\n+13 |     #![foo]\n+   |     ^^^^^^^\n+   |\n+   = help: add #![feature(custom_attribute)] to the crate attributes to enable\n+\n+error: aborting due to 2 previous errors\n+"}]}