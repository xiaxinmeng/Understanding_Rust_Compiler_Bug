{"sha": "d5fc01caefed33c9633e8d26f4901f3e34a21f48", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ1ZmMwMWNhZWZlZDMzYzk2MzNlOGQyNmY0OTAxZjNlMzRhMjFmNDg=", "commit": {"author": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-06-28T19:20:43Z"}, "committer": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-06-28T19:20:43Z"}, "message": "Move glue.o to stageN/lib.", "tree": {"sha": "dc443f9615df694f197fa0bfdcf01504985efbeb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dc443f9615df694f197fa0bfdcf01504985efbeb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d5fc01caefed33c9633e8d26f4901f3e34a21f48", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d5fc01caefed33c9633e8d26f4901f3e34a21f48", "html_url": "https://github.com/rust-lang/rust/commit/d5fc01caefed33c9633e8d26f4901f3e34a21f48", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d5fc01caefed33c9633e8d26f4901f3e34a21f48/comments", "author": null, "committer": null, "parents": [{"sha": "926049edddb6a990f22658205a2f3d467d0e4475", "url": "https://api.github.com/repos/rust-lang/rust/commits/926049edddb6a990f22658205a2f3d467d0e4475", "html_url": "https://github.com/rust-lang/rust/commit/926049edddb6a990f22658205a2f3d467d0e4475"}], "stats": {"total": 23, "additions": 16, "deletions": 7}, "files": [{"sha": "a7a5e4b1c0d237b051448cdc2c85eb30132c1480", "filename": "mk/stage1.mk", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/d5fc01caefed33c9633e8d26f4901f3e34a21f48/mk%2Fstage1.mk", "raw_url": "https://github.com/rust-lang/rust/raw/d5fc01caefed33c9633e8d26f4901f3e34a21f48/mk%2Fstage1.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage1.mk?ref=d5fc01caefed33c9633e8d26f4901f3e34a21f48", "patch": "@@ -4,11 +4,14 @@ stage1/lib/$(CFG_STDLIB): $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE1)  --shared -o $@ $<\n \n-stage1/glue.o: stage1/rustc$(X) stage0/lib/$(CFG_STDLIB) stage1/intrinsics.bc \\\n-               $(LREQ) $(MKFILES)\n+stage1/lib/glue.o: stage1/rustc$(X) stage0/lib/$(CFG_STDLIB) \\\n+\tstage1/intrinsics.bc $(LREQ) $(MKFILES)\n \t@$(call E, generate: $@)\n \t$(STAGE1) -c -o $@ --glue\n \n+stage1/glue.o: stage1/lib/glue.o\n+\tcp stage1/lib/glue.o stage1/glue.o\n+\n stage1/intrinsics.bc:\t$(INTRINSICS_BC)\n \t@$(call E, cp: $@)\n \t$(Q)cp $< $@"}, {"sha": "12d1cad400f591cb900841f02056af7dbe3e0369", "filename": "mk/stage2.mk", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/d5fc01caefed33c9633e8d26f4901f3e34a21f48/mk%2Fstage2.mk", "raw_url": "https://github.com/rust-lang/rust/raw/d5fc01caefed33c9633e8d26f4901f3e34a21f48/mk%2Fstage2.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage2.mk?ref=d5fc01caefed33c9633e8d26f4901f3e34a21f48", "patch": "@@ -4,11 +4,14 @@ stage2/lib/$(CFG_STDLIB): $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE2)  --shared -o $@ $<\n \n-stage2/glue.o: stage2/rustc$(X) stage1/lib/$(CFG_STDLIB) stage2/intrinsics.bc \\\n-               rustllvm/$(CFG_RUSTLLVM) rt/$(CFG_RUNTIME)\n+stage2/lib/glue.o: stage2/rustc$(X) stage1/lib/$(CFG_STDLIB) \\\n+\tstage2/intrinsics.bc rustllvm/$(CFG_RUSTLLVM) rt/$(CFG_RUNTIME)\n \t@$(call E, generate: $@)\n \t$(STAGE2) -c -o $@ --glue\n \n+stage2/glue.o: stage2/lib/glue.o\n+\tcp stage2/lib/glue.o stage2/glue.o\n+\n stage2/intrinsics.bc:\t$(INTRINSICS_BC)\n \t@$(call E, cp: $@)\n \t$(Q)cp $< $@"}, {"sha": "dfc7eff2190804b12901cb141423bb1fe55e49de", "filename": "mk/stage3.mk", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/d5fc01caefed33c9633e8d26f4901f3e34a21f48/mk%2Fstage3.mk", "raw_url": "https://github.com/rust-lang/rust/raw/d5fc01caefed33c9633e8d26f4901f3e34a21f48/mk%2Fstage3.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fstage3.mk?ref=d5fc01caefed33c9633e8d26f4901f3e34a21f48", "patch": "@@ -4,11 +4,14 @@ stage3/lib/$(CFG_STDLIB): $(STDLIB_CRATE) $(STDLIB_INPUTS) \\\n \t@$(call E, compile_and_link: $@)\n \t$(STAGE3)  --shared -o $@ $<\n \n-stage3/glue.o: stage3/rustc$(X) stage2/lib/$(CFG_STDLIB) stage3/intrinsics.bc \\\n-               rustllvm/$(CFG_RUSTLLVM) rt/$(CFG_RUNTIME)\n+stage3/lib/glue.o: stage3/rustc$(X) stage2/lib/$(CFG_STDLIB) \\\n+\t stage3/intrinsics.bc rustllvm/$(CFG_RUSTLLVM) rt/$(CFG_RUNTIME)\n \t@$(call E, generate: $@)\n \t$(STAGE3) -c -o $@ --glue\n \n+stage3/glue.o: stage3/lib/glue.o\n+\tcp stage3/lib/glue.o stage3/glue.o\n+\n stage3/intrinsics.bc:\t$(INTRINSICS_BC)\n \t@$(call E, cp: $@)\n \t$(Q)cp $< $@"}, {"sha": "7c035f84ae8845891499be12adf0ebdfd162e516", "filename": "src/comp/driver/rustc.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d5fc01caefed33c9633e8d26f4901f3e34a21f48/src%2Fcomp%2Fdriver%2Frustc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d5fc01caefed33c9633e8d26f4901f3e34a21f48/src%2Fcomp%2Fdriver%2Frustc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fdriver%2Frustc.rs?ref=d5fc01caefed33c9633e8d26f4901f3e34a21f48", "patch": "@@ -393,7 +393,7 @@ fn main(vec[str] args) {\n     //\n     // TODO: Factor this out of main.\n     if (sopts.output_type == link::output_type_exe) {\n-        let str glu = binary_dir + \"/glue.o\";\n+        let str glu = binary_dir + \"/lib/glue.o\";\n         let str main = \"rt/main.o\";\n         let str stage = \"-L\" + binary_dir + \"/lib\";\n         let vec[str] gcc_args;"}]}