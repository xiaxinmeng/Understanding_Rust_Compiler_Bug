{"sha": "0339904fb479898ec3f2e9521c3398aac5ac8f79", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAzMzk5MDRmYjQ3OTg5OGVjM2YyZTk1MjFjMzM5OGFhYzVhYzhmNzk=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2016-08-05T14:13:00Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-08-05T14:13:00Z"}, "message": "Rollup merge of #35333 - nickmass:e0055-formatting, r=jonathandturner\n\nUpdate compiler error E0055 to use new error format\n\nAddresses #35213, Part of the #35233 meta bug\n\nr? @jonathandturner", "tree": {"sha": "4c98aaf3817d0093e42689b75e9c81c9729e13d0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4c98aaf3817d0093e42689b75e9c81c9729e13d0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0339904fb479898ec3f2e9521c3398aac5ac8f79", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0339904fb479898ec3f2e9521c3398aac5ac8f79", "html_url": "https://github.com/rust-lang/rust/commit/0339904fb479898ec3f2e9521c3398aac5ac8f79", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0339904fb479898ec3f2e9521c3398aac5ac8f79/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8b9700898bb65620e8e5d00f268d42598525ab59", "url": "https://api.github.com/repos/rust-lang/rust/commits/8b9700898bb65620e8e5d00f268d42598525ab59", "html_url": "https://github.com/rust-lang/rust/commit/8b9700898bb65620e8e5d00f268d42598525ab59"}, {"sha": "b5b3539186b43d1291bcc5367171d9745f6a427f", "url": "https://api.github.com/repos/rust-lang/rust/commits/b5b3539186b43d1291bcc5367171d9745f6a427f", "html_url": "https://github.com/rust-lang/rust/commit/b5b3539186b43d1291bcc5367171d9745f6a427f"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "265422468fe2a1c4a18b6ca9f790f005d2f539d5", "filename": "src/librustc_typeck/check/autoderef.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0339904fb479898ec3f2e9521c3398aac5ac8f79/src%2Flibrustc_typeck%2Fcheck%2Fautoderef.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0339904fb479898ec3f2e9521c3398aac5ac8f79/src%2Flibrustc_typeck%2Fcheck%2Fautoderef.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcheck%2Fautoderef.rs?ref=0339904fb479898ec3f2e9521c3398aac5ac8f79", "patch": "@@ -54,9 +54,11 @@ impl<'a, 'gcx, 'tcx> Iterator for Autoderef<'a, 'gcx, 'tcx> {\n \n         if self.steps.len() == tcx.sess.recursion_limit.get() {\n             // We've reached the recursion limit, error gracefully.\n-            span_err!(tcx.sess, self.span, E0055,\n+            struct_span_err!(tcx.sess, self.span, E0055,\n                       \"reached the recursion limit while auto-dereferencing {:?}\",\n-                      self.cur_ty);\n+                      self.cur_ty)\n+                      .span_label(self.span, &format!(\"deref recursion limit reached\"))\n+                      .emit();\n             return None;\n         }\n "}, {"sha": "2b2d278ad4cc63eb6f93cb47ecc215e3557d38ce", "filename": "src/test/compile-fail/E0055.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0339904fb479898ec3f2e9521c3398aac5ac8f79/src%2Ftest%2Fcompile-fail%2FE0055.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0339904fb479898ec3f2e9521c3398aac5ac8f79/src%2Ftest%2Fcompile-fail%2FE0055.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2FE0055.rs?ref=0339904fb479898ec3f2e9521c3398aac5ac8f79", "patch": "@@ -18,5 +18,7 @@ impl Foo {\n fn main() {\n     let foo = Foo;\n     let ref_foo = &&Foo;\n-    ref_foo.foo(); //~ ERROR E0055\n+    ref_foo.foo();\n+    //~^ ERROR E0055\n+    //~| NOTE deref recursion limit reached\n }"}]}