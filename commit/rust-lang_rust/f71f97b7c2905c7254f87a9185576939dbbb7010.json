{"sha": "f71f97b7c2905c7254f87a9185576939dbbb7010", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY3MWY5N2I3YzI5MDVjNzI1NGY4N2E5MTg1NTc2OTM5ZGJiYjcwMTA=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-06-01T18:06:47Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2014-06-02T04:53:43Z"}, "message": "rustdoc: Filter private methods from inlined impls\n\nCloses #14583", "tree": {"sha": "7987e96510c5d3f0b234011cbb8ec47d0baf3d27", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7987e96510c5d3f0b234011cbb8ec47d0baf3d27"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f71f97b7c2905c7254f87a9185576939dbbb7010", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f71f97b7c2905c7254f87a9185576939dbbb7010", "html_url": "https://github.com/rust-lang/rust/commit/f71f97b7c2905c7254f87a9185576939dbbb7010", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f71f97b7c2905c7254f87a9185576939dbbb7010/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0dbfa5f6110d96ea26f124b6dc8487e1bec3da8a", "url": "https://api.github.com/repos/rust-lang/rust/commits/0dbfa5f6110d96ea26f124b6dc8487e1bec3da8a", "html_url": "https://github.com/rust-lang/rust/commit/0dbfa5f6110d96ea26f124b6dc8487e1bec3da8a"}], "stats": {"total": 9, "additions": 7, "deletions": 2}, "files": [{"sha": "886f3c8ed7d3e745d5f4f5a0ddb9aa9625ed5634", "filename": "src/librustdoc/clean/inline.rs", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/f71f97b7c2905c7254f87a9185576939dbbb7010/src%2Flibrustdoc%2Fclean%2Finline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f71f97b7c2905c7254f87a9185576939dbbb7010/src%2Flibrustdoc%2Fclean%2Finline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Finline.rs?ref=f71f97b7c2905c7254f87a9185576939dbbb7010", "patch": "@@ -250,7 +250,12 @@ fn build_impl(tcx: &ty::ctxt, did: ast::DefId) -> clean::Item {\n     let associated_trait = csearch::get_impl_trait(tcx, did);\n     let attrs = load_attrs(tcx, did);\n     let ty = ty::lookup_item_type(tcx, did);\n-    let methods = csearch::get_impl_methods(&tcx.sess.cstore, did).iter().map(|did| {\n+    let methods = csearch::get_impl_methods(&tcx.sess.cstore,\n+                                            did).iter().filter_map(|did| {\n+        let method = ty::method(tcx, *did);\n+        if method.vis != ast::Public && associated_trait.is_none() {\n+            return None\n+        }\n         let mut item = match ty::method(tcx, *did).clean() {\n             clean::Provided(item) => item,\n             clean::Required(item) => item,\n@@ -268,7 +273,7 @@ fn build_impl(tcx: &ty::ctxt, did: ast::DefId) -> clean::Item {\n             }\n             _ => fail!(\"not a tymethod\"),\n         };\n-        item\n+        Some(item)\n     }).collect();\n     clean::Item {\n         inner: clean::ImplItem(clean::Impl {"}]}