{"sha": "375f02580522ddacb4777d194d48d82454bb6aa9", "node_id": "C_kwDOAAsO6NoAKDM3NWYwMjU4MDUyMmRkYWNiNDc3N2QxOTRkNDhkODI0NTRiYjZhYTk", "commit": {"author": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2022-12-29T01:56:22Z"}, "committer": {"name": "Esteban K\u00fcber", "email": "esteban@kuber.com.ar", "date": "2022-12-29T01:56:22Z"}, "message": "Detect diff markers in the parser\n\nPartly address #32059.", "tree": {"sha": "c3cb939f9008fb5bc625d823b1113472c3d0c3f3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c3cb939f9008fb5bc625d823b1113472c3d0c3f3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/375f02580522ddacb4777d194d48d82454bb6aa9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/375f02580522ddacb4777d194d48d82454bb6aa9", "html_url": "https://github.com/rust-lang/rust/commit/375f02580522ddacb4777d194d48d82454bb6aa9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/375f02580522ddacb4777d194d48d82454bb6aa9/comments", "author": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "committer": {"login": "estebank", "id": 1606434, "node_id": "MDQ6VXNlcjE2MDY0MzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1606434?v=4", "gravatar_id": "", "url": "https://api.github.com/users/estebank", "html_url": "https://github.com/estebank", "followers_url": "https://api.github.com/users/estebank/followers", "following_url": "https://api.github.com/users/estebank/following{/other_user}", "gists_url": "https://api.github.com/users/estebank/gists{/gist_id}", "starred_url": "https://api.github.com/users/estebank/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/estebank/subscriptions", "organizations_url": "https://api.github.com/users/estebank/orgs", "repos_url": "https://api.github.com/users/estebank/repos", "events_url": "https://api.github.com/users/estebank/events{/privacy}", "received_events_url": "https://api.github.com/users/estebank/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "92c1937a90e5b6f20fa6e87016d6869da363972e", "url": "https://api.github.com/repos/rust-lang/rust/commits/92c1937a90e5b6f20fa6e87016d6869da363972e", "html_url": "https://github.com/rust-lang/rust/commit/92c1937a90e5b6f20fa6e87016d6869da363972e"}], "stats": {"total": 232, "additions": 229, "deletions": 3}, "files": [{"sha": "ffadb77320adcce89c60f839d30009df1be38d61", "filename": "compiler/rustc_parse/src/parser/diagnostics.rs", "status": "modified", "additions": 53, "deletions": 1, "changes": 54, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fdiagnostics.rs?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -31,7 +31,8 @@ use rustc_ast::{\n use rustc_ast_pretty::pprust;\n use rustc_data_structures::fx::FxHashSet;\n use rustc_errors::{\n-    fluent, Applicability, DiagnosticBuilder, DiagnosticMessage, Handler, MultiSpan, PResult,\n+    fluent, Applicability, DiagnosticBuilder, DiagnosticMessage, FatalError, Handler, MultiSpan,\n+    PResult,\n };\n use rustc_errors::{pluralize, Diagnostic, ErrorGuaranteed, IntoDiagnostic};\n use rustc_session::errors::ExprParenthesesNeeded;\n@@ -2556,6 +2557,57 @@ impl<'a> Parser<'a> {\n         Ok(())\n     }\n \n+    pub fn is_diff_marker(&mut self, long_kind: &TokenKind, short_kind: &TokenKind) -> bool {\n+        (0..3).all(|i| self.look_ahead(i, |tok| tok == long_kind))\n+            && self.look_ahead(3, |tok| tok == short_kind)\n+    }\n+\n+    fn diff_marker(&mut self, long_kind: &TokenKind, short_kind: &TokenKind) -> Option<Span> {\n+        if self.is_diff_marker(long_kind, short_kind) {\n+            let lo = self.token.span;\n+            for _ in 0..4 {\n+                self.bump();\n+            }\n+            return Some(lo.to(self.prev_token.span));\n+        }\n+        None\n+    }\n+\n+    pub fn recover_diff_marker(&mut self) {\n+        let Some(start) = self.diff_marker(&TokenKind::BinOp(token::Shl), &TokenKind::Lt) else {\n+            return;\n+        };\n+        let mut spans = Vec::with_capacity(3);\n+        spans.push(start);\n+        let mut middle = None;\n+        let mut end = None;\n+        loop {\n+            if self.token.kind == TokenKind::Eof {\n+                break;\n+            }\n+            if let Some(span) = self.diff_marker(&TokenKind::EqEq, &TokenKind::Eq) {\n+                spans.push(span);\n+                middle = Some(span);\n+            }\n+            if let Some(span) = self.diff_marker(&TokenKind::BinOp(token::Shr), &TokenKind::Gt) {\n+                spans.push(span);\n+                end = Some(span);\n+                break;\n+            }\n+            self.bump();\n+        }\n+        let mut err = self.struct_span_err(spans, \"encountered diff marker\");\n+        err.span_label(start, \"start\");\n+        if let Some(middle) = middle {\n+            err.span_label(middle, \"middle\");\n+        }\n+        if let Some(end) = end {\n+            err.span_label(end, \"end\");\n+        }\n+        err.emit();\n+        FatalError.raise()\n+    }\n+\n     /// Parse and throw away a parenthesized comma separated\n     /// sequence of patterns until `)` is reached.\n     fn skip_pat_list(&mut self) -> PResult<'a, ()> {"}, {"sha": "51de3d40d91348e4d06c02fd3c90bc63f7679485", "filename": "compiler/rustc_parse/src/parser/item.rs", "status": "modified", "additions": 9, "deletions": 2, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fitem.rs?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -98,7 +98,9 @@ impl<'a> Parser<'a> {\n         fn_parse_mode: FnParseMode,\n         force_collect: ForceCollect,\n     ) -> PResult<'a, Option<Item>> {\n+        self.recover_diff_marker();\n         let attrs = self.parse_outer_attributes()?;\n+        self.recover_diff_marker();\n         self.parse_item_common(attrs, true, false, fn_parse_mode, force_collect)\n     }\n \n@@ -704,6 +706,7 @@ impl<'a> Parser<'a> {\n             if self.recover_doc_comment_before_brace() {\n                 continue;\n             }\n+            self.recover_diff_marker();\n             match parse_item(self) {\n                 Ok(None) => {\n                     let mut is_unnecessary_semicolon = !items.is_empty()\n@@ -1039,8 +1042,11 @@ impl<'a> Parser<'a> {\n     /// USE_TREE_LIST = \u00d8 | (USE_TREE `,`)* USE_TREE [`,`]\n     /// ```\n     fn parse_use_tree_list(&mut self) -> PResult<'a, Vec<(UseTree, ast::NodeId)>> {\n-        self.parse_delim_comma_seq(Delimiter::Brace, |p| Ok((p.parse_use_tree()?, DUMMY_NODE_ID)))\n-            .map(|(r, _)| r)\n+        self.parse_delim_comma_seq(Delimiter::Brace, |p| {\n+            p.recover_diff_marker();\n+            Ok((p.parse_use_tree()?, DUMMY_NODE_ID))\n+        })\n+        .map(|(r, _)| r)\n     }\n \n     fn parse_rename(&mut self) -> PResult<'a, Option<Ident>> {\n@@ -2427,6 +2433,7 @@ impl<'a> Parser<'a> {\n         let mut first_param = true;\n         // Parse the arguments, starting out with `self` being allowed...\n         let (mut params, _) = self.parse_paren_comma_seq(|p| {\n+            p.recover_diff_marker();\n             let param = p.parse_param_general(req_name, first_param).or_else(|mut e| {\n                 e.emit();\n                 let lo = p.prev_token.span;"}, {"sha": "4cbf89169b67e83c37a119cb8b7f03ef841c10c5", "filename": "compiler/rustc_parse/src/parser/stmt.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fstmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fstmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_parse%2Fsrc%2Fparser%2Fstmt.rs?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -531,13 +531,23 @@ impl<'a> Parser<'a> {\n         recover: AttemptLocalParseRecovery,\n     ) -> PResult<'a, P<Block>> {\n         let mut stmts = vec![];\n+        let mut snapshot = None;\n         while !self.eat(&token::CloseDelim(Delimiter::Brace)) {\n             if self.token == token::Eof {\n                 break;\n             }\n+            if self.is_diff_marker(&TokenKind::BinOp(token::Shl), &TokenKind::Lt) {\n+                // Account for `<<<<<<<` diff markers. We can't proactivelly error here because\n+                // that can be a valid path start, so we snapshot and reparse only we've\n+                // encountered another parse error.\n+                snapshot = Some(self.create_snapshot_for_diagnostic());\n+            }\n             let stmt = match self.parse_full_stmt(recover) {\n                 Err(mut err) if recover.yes() => {\n                     self.maybe_annotate_with_ascription(&mut err, false);\n+                    if let Some(ref mut snapshot) = snapshot {\n+                        snapshot.recover_diff_marker();\n+                    }\n                     err.emit();\n                     self.recover_stmt_(SemiColonMode::Ignore, BlockMode::Ignore);\n                     Some(self.mk_stmt_err(self.token.span))"}, {"sha": "86c355628ab67fcff3aa90c2c61f1547bb7df162", "filename": "src/test/ui/parser/diff-markers/fn-arg.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.rs?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,16 @@\n+trait T {\n+    fn foo(\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+        x: u8,\n+=======\n+        x: i8,\n+>>>>>>> branch\n+    ) {}\n+}\n+\n+struct S;\n+impl T for S {}\n+\n+fn main() {\n+    S::foo(42);\n+}"}, {"sha": "4a816ff75bc87cefbe6f03954ee005f1cf02480f", "filename": "src/test/ui/parser/diff-markers/fn-arg.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ffn-arg.stderr?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,14 @@\n+error: encountered diff marker\n+  --> $DIR/fn-arg.rs:3:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ start\n+LL |         x: u8,\n+LL | =======\n+   | ^^^^^^^ middle\n+LL |         x: i8,\n+LL | >>>>>>> branch\n+   | ^^^^^^^ end\n+\n+error: aborting due to previous error\n+"}, {"sha": "985907c08b28ce62afcb82a3207f366e81058045", "filename": "src/test/ui/parser/diff-markers/item-with-attr.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.rs?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,10 @@\n+#[attribute]\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+fn foo() {}\n+=======\n+fn bar() {}\n+>>>>>>> branch\n+\n+fn main() {\n+    foo();\n+}"}, {"sha": "4fcb782846eb0d784b894eb3abede9b725cb508d", "filename": "src/test/ui/parser/diff-markers/item-with-attr.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem-with-attr.stderr?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,14 @@\n+error: encountered diff marker\n+  --> $DIR/item-with-attr.rs:2:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ start\n+LL | fn foo() {}\n+LL | =======\n+   | ^^^^^^^ middle\n+LL | fn bar() {}\n+LL | >>>>>>> branch\n+   | ^^^^^^^ end\n+\n+error: aborting due to previous error\n+"}, {"sha": "4ed36b7b42bcd5cdb9a8aa0b54060410505d75f1", "filename": "src/test/ui/parser/diff-markers/item.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.rs?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,9 @@\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+fn foo() {}\n+=======\n+fn bar() {}\n+>>>>>>> branch\n+\n+fn main() {\n+    foo();\n+}"}, {"sha": "7c81f0fafa6183991cf1ed8738a0d2ca47f2ce92", "filename": "src/test/ui/parser/diff-markers/item.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fitem.stderr?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,14 @@\n+error: encountered diff marker\n+  --> $DIR/item.rs:1:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ start\n+LL | fn foo() {}\n+LL | =======\n+   | ^^^^^^^ middle\n+LL | fn bar() {}\n+LL | >>>>>>> branch\n+   | ^^^^^^^ end\n+\n+error: aborting due to previous error\n+"}, {"sha": "e55d16d3bbb8eb112b7167aa0d4ce457ffd41264", "filename": "src/test/ui/parser/diff-markers/statement.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.rs", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.rs?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,15 @@\n+trait T {\n+    fn foo() {}\n+    fn bar() {}\n+}\n+\n+struct S;\n+impl T for S {}\n+\n+fn main() {\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+    S::foo();\n+=======\n+    S::bar();\n+>>>>>>> branch\n+}"}, {"sha": "4c821c02f0d8df111fa132174034b7cacb292185", "filename": "src/test/ui/parser/diff-markers/statement.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fstatement.stderr?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,14 @@\n+error: encountered diff marker\n+  --> $DIR/statement.rs:10:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ start\n+LL |     S::foo();\n+LL | =======\n+   | ^^^^^^^ middle\n+LL |     S::bar();\n+LL | >>>>>>> branch\n+   | ^^^^^^^ end\n+\n+error: aborting due to previous error\n+"}, {"sha": "3227c8212c96d39ede6d4da2e80a4fab93731d63", "filename": "src/test/ui/parser/diff-markers/trait-item.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.rs?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,14 @@\n+trait T {\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+    fn foo() {}\n+=======\n+    fn bar() {}\n+>>>>>>> branch\n+}\n+\n+struct S;\n+impl T for S {}\n+\n+fn main() {\n+    S::foo();\n+}"}, {"sha": "8e18d5db7c745b10840d7ccedae6e72b75bf4b5a", "filename": "src/test/ui/parser/diff-markers/trait-item.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Ftrait-item.stderr?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,14 @@\n+error: encountered diff marker\n+  --> $DIR/trait-item.rs:2:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ start\n+LL |     fn foo() {}\n+LL | =======\n+   | ^^^^^^^ middle\n+LL |     fn bar() {}\n+LL | >>>>>>> branch\n+   | ^^^^^^^ end\n+\n+error: aborting due to previous error\n+"}, {"sha": "6306243a5141a434e112a6548a7061ee102d6f4e", "filename": "src/test/ui/parser/diff-markers/use-statement.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.rs", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.rs?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,9 @@\n+use foo::{\n+<<<<<<< HEAD //~ ERROR encountered diff marker\n+    bar,\n+=======\n+    baz,\n+>>>>>>> branch\n+};\n+\n+fn main() {}"}, {"sha": "818c90aa59bac55ba3875a7fbcfd5d159c3ed9b8", "filename": "src/test/ui/parser/diff-markers/use-statement.stderr", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/375f02580522ddacb4777d194d48d82454bb6aa9/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fdiff-markers%2Fuse-statement.stderr?ref=375f02580522ddacb4777d194d48d82454bb6aa9", "patch": "@@ -0,0 +1,14 @@\n+error: encountered diff marker\n+  --> $DIR/use-statement.rs:2:1\n+   |\n+LL | <<<<<<< HEAD\n+   | ^^^^^^^ start\n+LL |     bar,\n+LL | =======\n+   | ^^^^^^^ middle\n+LL |     baz,\n+LL | >>>>>>> branch\n+   | ^^^^^^^ end\n+\n+error: aborting due to previous error\n+"}]}