{"sha": "7ec1eb8ab373ad5dfd3d9229c6f89a02424d2b82", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdlYzFlYjhhYjM3M2FkNWRmZDNkOTIyOWM2Zjg5YTAyNDI0ZDJiODI=", "commit": {"author": {"name": "Adrien T\u00e9tar", "email": "adri-from-59@hotmail.fr", "date": "2014-03-09T11:41:27Z"}, "committer": {"name": "Adrien T\u00e9tar", "email": "adri-from-59@hotmail.fr", "date": "2014-03-11T16:56:32Z"}, "message": "doc: auto-generate LaTeX includes", "tree": {"sha": "ce83a7e3790836ddd15014087e27b816b2650bb2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ce83a7e3790836ddd15014087e27b816b2650bb2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7ec1eb8ab373ad5dfd3d9229c6f89a02424d2b82", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7ec1eb8ab373ad5dfd3d9229c6f89a02424d2b82", "html_url": "https://github.com/rust-lang/rust/commit/7ec1eb8ab373ad5dfd3d9229c6f89a02424d2b82", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7ec1eb8ab373ad5dfd3d9229c6f89a02424d2b82/comments", "author": {"login": "adrientetar", "id": 1250894, "node_id": "MDQ6VXNlcjEyNTA4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1250894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrientetar", "html_url": "https://github.com/adrientetar", "followers_url": "https://api.github.com/users/adrientetar/followers", "following_url": "https://api.github.com/users/adrientetar/following{/other_user}", "gists_url": "https://api.github.com/users/adrientetar/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrientetar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrientetar/subscriptions", "organizations_url": "https://api.github.com/users/adrientetar/orgs", "repos_url": "https://api.github.com/users/adrientetar/repos", "events_url": "https://api.github.com/users/adrientetar/events{/privacy}", "received_events_url": "https://api.github.com/users/adrientetar/received_events", "type": "User", "site_admin": false}, "committer": {"login": "adrientetar", "id": 1250894, "node_id": "MDQ6VXNlcjEyNTA4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1250894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/adrientetar", "html_url": "https://github.com/adrientetar", "followers_url": "https://api.github.com/users/adrientetar/followers", "following_url": "https://api.github.com/users/adrientetar/following{/other_user}", "gists_url": "https://api.github.com/users/adrientetar/gists{/gist_id}", "starred_url": "https://api.github.com/users/adrientetar/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/adrientetar/subscriptions", "organizations_url": "https://api.github.com/users/adrientetar/orgs", "repos_url": "https://api.github.com/users/adrientetar/repos", "events_url": "https://api.github.com/users/adrientetar/events{/privacy}", "received_events_url": "https://api.github.com/users/adrientetar/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7979ae53678e6d1a1f8455ee543986498afa270f", "url": "https://api.github.com/repos/rust-lang/rust/commits/7979ae53678e6d1a1f8455ee543986498afa270f", "html_url": "https://github.com/rust-lang/rust/commit/7979ae53678e6d1a1f8455ee543986498afa270f"}], "stats": {"total": 23, "additions": 8, "deletions": 15}, "files": [{"sha": "236af406bc684d2d8c11467e6965732ec206f70c", "filename": "mk/docs.mk", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/7ec1eb8ab373ad5dfd3d9229c6f89a02424d2b82/mk%2Fdocs.mk", "raw_url": "https://github.com/rust-lang/rust/raw/7ec1eb8ab373ad5dfd3d9229c6f89a02424d2b82/mk%2Fdocs.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fdocs.mk?ref=7ec1eb8ab373ad5dfd3d9229c6f89a02424d2b82", "patch": "@@ -46,7 +46,7 @@ RUSTDOC_HTML_OPTS = --markdown-css rust.css \\\n \t--markdown-in-header=doc/favicon.inc --markdown-after-content=doc/footer.inc\n \n PANDOC_BASE_OPTS := --standalone --toc --number-sections\n-PANDOC_TEX_OPTS = $(PANDOC_BASE_OPTS) --include-before-body=doc/version.md \\\n+PANDOC_TEX_OPTS = $(PANDOC_BASE_OPTS) --include-before-body=doc/version.tex \\\n \t--from=markdown --include-before-body=doc/footer.tex --to=latex\n PANDOC_EPUB_OPTS = $(PANDOC_BASE_OPTS) --to=epub\n \n@@ -100,7 +100,7 @@ endif\n # Rust version\n ######################################################################\n \n-doc/version.md: $(MKFILE_DEPS) $(wildcard $(D)/*.*) | doc/\n+doc/version.tex: $(MKFILE_DEPS) $(wildcard $(D)/*.*) | doc/\n \t@$(call E, version-stamp: $@)\n \t$(Q)echo \"$(CFG_VERSION)\" >$@\n \n@@ -112,7 +112,7 @@ doc/version_info.html: $(D)/version_info.html.template $(MKFILE_DEPS) \\\n                     $(CFG_VER_HASH) | head -c 8)/;\\\n                 s/STAMP/$(CFG_VER_HASH)/;\" $< >$@\n \n-GENERATED += doc/version.md doc/version_info.html\n+GENERATED += doc/version.tex doc/version_info.html\n \n ######################################################################\n # Docs, from rustdoc and sometimes pandoc\n@@ -140,10 +140,6 @@ doc/footer.inc: $(D)/footer.inc | doc/\n \t@$(call E, cp: $@)\n \t$(Q)cp -a $< $@ 2> /dev/null\n \n-doc/footer.tex: $(D)/footer.tex | doc/\n-\t@$(call E, cp: $@)\n-\t$(Q)cp -a $< $@ 2> /dev/null\n-\n # The (english) documentation for each doc item.\n \n define DEF_SHOULD_BUILD_PDF_DOC\n@@ -167,9 +163,13 @@ doc/$(1).epub: $$(D)/$(1).md | doc/\n \t@$$(call E, pandoc: $$@)\n \t$$(CFG_PANDOC) $$(PANDOC_EPUB_OPTS) $$< --output=$$@\n \n+doc/footer.tex: $(D)/footer.inc | doc/\n+\t@$$(call E, pandoc: $$@)\n+\t$$(CFG_PANDOC) --from=html --to=latex $$< --output=$$@\n+\n # PDF (md =(pandoc)=> tex =(pdflatex)=> pdf)\n DOC_TARGETS += doc/$(1).tex\n-doc/$(1).tex: $$(D)/$(1).md doc/footer.tex doc/version.md | doc/\n+doc/$(1).tex: $$(D)/$(1).md doc/footer.tex doc/version.tex | doc/\n \t@$$(call E, pandoc: $$@)\n \t$$(CFG_PANDOC) $$(PANDOC_TEX_OPTS) $$< --output=$$@\n "}, {"sha": "9f9ceb6ba9acb7cd58ed496cd5814f905e7c2a7d", "filename": "src/doc/footer.tex", "status": "removed", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/7979ae53678e6d1a1f8455ee543986498afa270f/src%2Fdoc%2Ffooter.tex", "raw_url": "https://github.com/rust-lang/rust/raw/7979ae53678e6d1a1f8455ee543986498afa270f/src%2Fdoc%2Ffooter.tex", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Ffooter.tex?ref=7979ae53678e6d1a1f8455ee543986498afa270f", "patch": "@@ -1,7 +0,0 @@\n-Copyright \u00a9 2011-2014 The Rust Project Developers. Licensed under the\n-\\href{http://www.apache.org/licenses/LICENSE-2.0}{Apache License,\n-Version 2.0} or the \\href{http://opensource.org/licenses/MIT}{MIT\n-license}, at your option.\n-\n-This file may not be copied, modified, or distributed except according\n-to those terms."}]}