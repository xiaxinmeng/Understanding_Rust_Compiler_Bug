{"sha": "2161254d8a211e9e5caecf259ac9fbcad6479030", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIxNjEyNTRkOGEyMTFlOWU1Y2FlY2YyNTlhYzlmYmNhZDY0NzkwMzA=", "commit": {"author": {"name": "jD91mZM2", "email": "me@krake.one", "date": "2018-06-18T04:30:38Z"}, "committer": {"name": "jD91mZM2", "email": "me@krake.one", "date": "2018-06-26T18:31:35Z"}, "message": "Make feature unstable", "tree": {"sha": "e8df09dc22ae3e997aa8abfcc0d24f4adb1b0a0a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e8df09dc22ae3e997aa8abfcc0d24f4adb1b0a0a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2161254d8a211e9e5caecf259ac9fbcad6479030", "comment_count": 0, "verification": {"verified": false, "reason": "unverified_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEvF2uTsFosfm5TJhQMFXVRymnJmYFAlsyhocACgkQMFXVRymn\nJmZHhggAle4Nk0EGtcS2+8zk7ubHQygd00IoONYkqx/9bVh3pyH2iVPXNTnQoLOm\nk80c++HNkhDAzc7+bRpdRSLdJ66AAHeqVfLCGTTaDBIaFBSWqEihZCoWt0f4PpgG\nPtcuj+Az/Jw3w555vtVvC+rpl31J8PGIwHUYsKUqr4u6PXkm2sqZShlY8vQUeYUz\nRVf8420uVx8vpo4XxdfXTSk6YHmHQqzkuDpAOaKtgQU5nUSq+Ya53TaDhYBhuf+E\nazAxGQa9jY+YCPBC3f/QLjcy+ftbf4ngp0YQX2zDHNQ0u5/tLND1DIZrlJBVgGLy\nTX1d/OmbHynsKpZ7/wqXRdYM/ThMVw==\n=o7L5\n-----END PGP SIGNATURE-----", "payload": "tree e8df09dc22ae3e997aa8abfcc0d24f4adb1b0a0a\nparent c5977e3ea7e7c4f901e6c089294e0986373d41f8\nauthor jD91mZM2 <me@krake.one> 1529296238 +0200\ncommitter jD91mZM2 <me@krake.one> 1530037895 +0200\n\nMake feature unstable\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2161254d8a211e9e5caecf259ac9fbcad6479030", "html_url": "https://github.com/rust-lang/rust/commit/2161254d8a211e9e5caecf259ac9fbcad6479030", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2161254d8a211e9e5caecf259ac9fbcad6479030/comments", "author": {"login": "jD91mZM2", "id": 12830969, "node_id": "MDQ6VXNlcjEyODMwOTY5", "avatar_url": "https://avatars.githubusercontent.com/u/12830969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jD91mZM2", "html_url": "https://github.com/jD91mZM2", "followers_url": "https://api.github.com/users/jD91mZM2/followers", "following_url": "https://api.github.com/users/jD91mZM2/following{/other_user}", "gists_url": "https://api.github.com/users/jD91mZM2/gists{/gist_id}", "starred_url": "https://api.github.com/users/jD91mZM2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jD91mZM2/subscriptions", "organizations_url": "https://api.github.com/users/jD91mZM2/orgs", "repos_url": "https://api.github.com/users/jD91mZM2/repos", "events_url": "https://api.github.com/users/jD91mZM2/events{/privacy}", "received_events_url": "https://api.github.com/users/jD91mZM2/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jD91mZM2", "id": 12830969, "node_id": "MDQ6VXNlcjEyODMwOTY5", "avatar_url": "https://avatars.githubusercontent.com/u/12830969?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jD91mZM2", "html_url": "https://github.com/jD91mZM2", "followers_url": "https://api.github.com/users/jD91mZM2/followers", "following_url": "https://api.github.com/users/jD91mZM2/following{/other_user}", "gists_url": "https://api.github.com/users/jD91mZM2/gists{/gist_id}", "starred_url": "https://api.github.com/users/jD91mZM2/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jD91mZM2/subscriptions", "organizations_url": "https://api.github.com/users/jD91mZM2/orgs", "repos_url": "https://api.github.com/users/jD91mZM2/repos", "events_url": "https://api.github.com/users/jD91mZM2/events{/privacy}", "received_events_url": "https://api.github.com/users/jD91mZM2/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c5977e3ea7e7c4f901e6c089294e0986373d41f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/c5977e3ea7e7c4f901e6c089294e0986373d41f8", "html_url": "https://github.com/rust-lang/rust/commit/c5977e3ea7e7c4f901e6c089294e0986373d41f8"}], "stats": {"total": 41, "additions": 1, "deletions": 40}, "files": [{"sha": "396a140fa1b6215cc63bb704d6011b814479b2fb", "filename": "src/libstd/sys/redox/ext/net.rs", "status": "modified", "additions": 1, "deletions": 40, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/2161254d8a211e9e5caecf259ac9fbcad6479030/src%2Flibstd%2Fsys%2Fredox%2Fext%2Fnet.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2161254d8a211e9e5caecf259ac9fbcad6479030/src%2Flibstd%2Fsys%2Fredox%2Fext%2Fnet.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fredox%2Fext%2Fnet.rs?ref=2161254d8a211e9e5caecf259ac9fbcad6479030", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-#![stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n+#![unstable(feature = \"unix_socket_redox\", reason = \"new feature\", issue=\"51553\")]\n \n //! Unix-specific networking functionality\n \n@@ -36,7 +36,6 @@ use sys::{cvt, fd::FileDesc, syscall};\n /// };\n /// let addr = socket.local_addr().expect(\"Couldn't get local address\");\n /// ```\n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n #[derive(Clone)]\n pub struct SocketAddr;\n \n@@ -65,12 +64,10 @@ impl SocketAddr {\n     /// let addr = socket.local_addr().expect(\"Couldn't get local address\");\n     /// assert_eq!(addr.as_pathname(), None);\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn as_pathname(&self) -> Option<&Path> {\n         None\n     }\n }\n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl fmt::Debug for SocketAddr {\n     fn fmt(&self, fmt: &mut fmt::Formatter) -> fmt::Result {\n         write!(fmt, \"SocketAddr\")\n@@ -91,10 +88,8 @@ impl fmt::Debug for SocketAddr {\n /// stream.read_to_string(&mut response).unwrap();\n /// println!(\"{}\", response);\n /// ```\n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n pub struct UnixStream(FileDesc);\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl fmt::Debug for UnixStream {\n     fn fmt(&self, fmt: &mut fmt::Formatter) -> fmt::Result {\n         let mut builder = fmt.debug_struct(\"UnixStream\");\n@@ -125,7 +120,6 @@ impl UnixStream {\n     ///     }\n     /// };\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn connect<P: AsRef<Path>>(path: P) -> io::Result<UnixStream> {\n         if let Some(s) = path.as_ref().to_str() {\n             cvt(syscall::open(format!(\"chan:{}\", s), syscall::O_CLOEXEC))\n@@ -156,7 +150,6 @@ impl UnixStream {\n     ///     }\n     /// };\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn pair() -> io::Result<(UnixStream, UnixStream)> {\n         let server = cvt(syscall::open(\"chan:\", syscall::O_CREAT | syscall::O_CLOEXEC))\n             .map(FileDesc::new)?;\n@@ -180,7 +173,6 @@ impl UnixStream {\n     /// let socket = UnixStream::connect(\"/tmp/sock\").unwrap();\n     /// let sock_copy = socket.try_clone().expect(\"Couldn't clone socket\");\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn try_clone(&self) -> io::Result<UnixStream> {\n         self.0.duplicate().map(UnixStream)\n     }\n@@ -195,7 +187,6 @@ impl UnixStream {\n     /// let socket = UnixStream::connect(\"/tmp/sock\").unwrap();\n     /// let addr = socket.local_addr().expect(\"Couldn't get local address\");\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn local_addr(&self) -> io::Result<SocketAddr> {\n         Err(Error::new(ErrorKind::Other, \"UnixStream::local_addr unimplemented on redox\"))\n     }\n@@ -210,7 +201,6 @@ impl UnixStream {\n     /// let socket = UnixStream::connect(\"/tmp/sock\").unwrap();\n     /// let addr = socket.peer_addr().expect(\"Couldn't get peer address\");\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn peer_addr(&self) -> io::Result<SocketAddr> {\n         Err(Error::new(ErrorKind::Other, \"UnixStream::peer_addr unimplemented on redox\"))\n     }\n@@ -249,7 +239,6 @@ impl UnixStream {\n     /// let err = result.unwrap_err();\n     /// assert_eq!(err.kind(), io::ErrorKind::InvalidInput)\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn set_read_timeout(&self, _timeout: Option<Duration>) -> io::Result<()> {\n         Err(Error::new(ErrorKind::Other, \"UnixStream::set_read_timeout unimplemented on redox\"))\n     }\n@@ -288,7 +277,6 @@ impl UnixStream {\n     /// let err = result.unwrap_err();\n     /// assert_eq!(err.kind(), io::ErrorKind::InvalidInput)\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn set_write_timeout(&self, _timeout: Option<Duration>) -> io::Result<()> {\n         Err(Error::new(ErrorKind::Other, \"UnixStream::set_write_timeout unimplemented on redox\"))\n     }\n@@ -305,7 +293,6 @@ impl UnixStream {\n     /// socket.set_read_timeout(Some(Duration::new(1, 0))).expect(\"Couldn't set read timeout\");\n     /// assert_eq!(socket.read_timeout().unwrap(), Some(Duration::new(1, 0)));\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn read_timeout(&self) -> io::Result<Option<Duration>> {\n         Err(Error::new(ErrorKind::Other, \"UnixStream::read_timeout unimplemented on redox\"))\n     }\n@@ -322,7 +309,6 @@ impl UnixStream {\n     /// socket.set_write_timeout(Some(Duration::new(1, 0))).expect(\"Couldn't set write timeout\");\n     /// assert_eq!(socket.write_timeout().unwrap(), Some(Duration::new(1, 0)));\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn write_timeout(&self) -> io::Result<Option<Duration>> {\n         Err(Error::new(ErrorKind::Other, \"UnixStream::write_timeout unimplemented on redox\"))\n     }\n@@ -337,7 +323,6 @@ impl UnixStream {\n     /// let socket = UnixStream::connect(\"/tmp/sock\").unwrap();\n     /// socket.set_nonblocking(true).expect(\"Couldn't set nonblocking\");\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn set_nonblocking(&self, nonblocking: bool) -> io::Result<()> {\n         self.0.set_nonblocking(nonblocking)\n     }\n@@ -354,7 +339,6 @@ impl UnixStream {\n     ///     println!(\"Got error: {:?}\", err);\n     /// }\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn take_error(&self) -> io::Result<Option<io::Error>> {\n         Ok(None)\n     }\n@@ -376,13 +360,11 @@ impl UnixStream {\n     /// let socket = UnixStream::connect(\"/tmp/sock\").unwrap();\n     /// socket.shutdown(Shutdown::Both).expect(\"shutdown function failed\");\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn shutdown(&self, _how: Shutdown) -> io::Result<()> {\n         Err(Error::new(ErrorKind::Other, \"UnixStream::shutdown unimplemented on redox\"))\n     }\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl io::Read for UnixStream {\n     fn read(&mut self, buf: &mut [u8]) -> io::Result<usize> {\n         io::Read::read(&mut &*self, buf)\n@@ -394,7 +376,6 @@ impl io::Read for UnixStream {\n     }\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl<'a> io::Read for &'a UnixStream {\n     fn read(&mut self, buf: &mut [u8]) -> io::Result<usize> {\n         self.0.read(buf)\n@@ -406,7 +387,6 @@ impl<'a> io::Read for &'a UnixStream {\n     }\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl io::Write for UnixStream {\n     fn write(&mut self, buf: &[u8]) -> io::Result<usize> {\n         io::Write::write(&mut &*self, buf)\n@@ -417,7 +397,6 @@ impl io::Write for UnixStream {\n     }\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl<'a> io::Write for &'a UnixStream {\n     fn write(&mut self, buf: &[u8]) -> io::Result<usize> {\n         self.0.write(buf)\n@@ -428,21 +407,18 @@ impl<'a> io::Write for &'a UnixStream {\n     }\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl AsRawFd for UnixStream {\n     fn as_raw_fd(&self) -> RawFd {\n         self.0.raw()\n     }\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl FromRawFd for UnixStream {\n     unsafe fn from_raw_fd(fd: RawFd) -> UnixStream {\n         UnixStream(FileDesc::new(fd))\n     }\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl IntoRawFd for UnixStream {\n     fn into_raw_fd(self) -> RawFd {\n         self.0.into_raw()\n@@ -477,10 +453,8 @@ impl IntoRawFd for UnixStream {\n ///     }\n /// }\n /// ```\n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n pub struct UnixListener(FileDesc);\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl fmt::Debug for UnixListener {\n     fn fmt(&self, fmt: &mut fmt::Formatter) -> fmt::Result {\n         let mut builder = fmt.debug_struct(\"UnixListener\");\n@@ -508,7 +482,6 @@ impl UnixListener {\n     ///     }\n     /// };\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn bind<P: AsRef<Path>>(path: P) -> io::Result<UnixListener> {\n         if let Some(s) = path.as_ref().to_str() {\n             cvt(syscall::open(format!(\"chan:{}\", s), syscall::O_CREAT | syscall::O_CLOEXEC))\n@@ -542,7 +515,6 @@ impl UnixListener {\n     ///     Err(e) => println!(\"accept function failed: {:?}\", e),\n     /// }\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn accept(&self) -> io::Result<(UnixStream, SocketAddr)> {\n         self.0.duplicate_path(b\"listen\").map(|fd| (UnixStream(fd), SocketAddr))\n     }\n@@ -562,7 +534,6 @@ impl UnixListener {\n     ///\n     /// let listener_copy = listener.try_clone().expect(\"try_clone failed\");\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn try_clone(&self) -> io::Result<UnixListener> {\n         self.0.duplicate().map(UnixListener)\n     }\n@@ -578,7 +549,6 @@ impl UnixListener {\n     ///\n     /// let addr = listener.local_addr().expect(\"Couldn't get local address\");\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn local_addr(&self) -> io::Result<SocketAddr> {\n         Err(Error::new(ErrorKind::Other, \"UnixListener::local_addr unimplemented on redox\"))\n     }\n@@ -594,7 +564,6 @@ impl UnixListener {\n     ///\n     /// listener.set_nonblocking(true).expect(\"Couldn't set non blocking\");\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn set_nonblocking(&self, nonblocking: bool) -> io::Result<()> {\n         self.0.set_nonblocking(nonblocking)\n     }\n@@ -612,7 +581,6 @@ impl UnixListener {\n     ///     println!(\"Got error: {:?}\", err);\n     /// }\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn take_error(&self) -> io::Result<Option<io::Error>> {\n         Ok(None)\n     }\n@@ -648,34 +616,29 @@ impl UnixListener {\n     ///     }\n     /// }\n     /// ```\n-    #[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n     pub fn incoming<'a>(&'a self) -> Incoming<'a> {\n         Incoming { listener: self }\n     }\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl AsRawFd for UnixListener {\n     fn as_raw_fd(&self) -> RawFd {\n         self.0.raw()\n     }\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl FromRawFd for UnixListener {\n     unsafe fn from_raw_fd(fd: RawFd) -> UnixListener {\n         UnixListener(FileDesc::new(fd))\n     }\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl IntoRawFd for UnixListener {\n     fn into_raw_fd(self) -> RawFd {\n         self.0.into_raw()\n     }\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl<'a> IntoIterator for &'a UnixListener {\n     type Item = io::Result<UnixStream>;\n     type IntoIter = Incoming<'a>;\n@@ -716,12 +679,10 @@ impl<'a> IntoIterator for &'a UnixListener {\n /// }\n /// ```\n #[derive(Debug)]\n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n pub struct Incoming<'a> {\n     listener: &'a UnixListener,\n }\n \n-#[stable(feature = \"unix_socket_redox\", since = \"1.27.0\")]\n impl<'a> Iterator for Incoming<'a> {\n     type Item = io::Result<UnixStream>;\n "}]}