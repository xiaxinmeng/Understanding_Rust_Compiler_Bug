{"sha": "bb952358aa674b815f6180520eb5ddf2289e6401", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJiOTUyMzU4YWE2NzRiODE1ZjYxODA1MjBlYjVkZGYyMjg5ZTY0MDE=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2015-07-21T12:31:07Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2015-07-22T13:34:00Z"}, "message": "Factor feature gate tests for box syntax into two separate files.\n\nThe two tests are separate since the current implementation performs\nthe feature gate checks at distinct phases in the compilation, with an\n`abort_if_errors` calls separating them.", "tree": {"sha": "e55728abf44a6d74b5b1c01ae51de4eeb1469c63", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e55728abf44a6d74b5b1c01ae51de4eeb1469c63"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bb952358aa674b815f6180520eb5ddf2289e6401", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bb952358aa674b815f6180520eb5ddf2289e6401", "html_url": "https://github.com/rust-lang/rust/commit/bb952358aa674b815f6180520eb5ddf2289e6401", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bb952358aa674b815f6180520eb5ddf2289e6401/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9ca1c618794b3da0603ffedff488cd42a32c4eb6", "url": "https://api.github.com/repos/rust-lang/rust/commits/9ca1c618794b3da0603ffedff488cd42a32c4eb6", "html_url": "https://github.com/rust-lang/rust/commit/9ca1c618794b3da0603ffedff488cd42a32c4eb6"}], "stats": {"total": 43, "additions": 35, "deletions": 8}, "files": [{"sha": "9640b2b475b6a028da18e3a878b8097d7af3fae4", "filename": "src/test/compile-fail/feature-gate-box-expr.rs", "status": "modified", "additions": 8, "deletions": 8, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/bb952358aa674b815f6180520eb5ddf2289e6401/src%2Ftest%2Fcompile-fail%2Ffeature-gate-box-expr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bb952358aa674b815f6180520eb5ddf2289e6401/src%2Ftest%2Fcompile-fail%2Ffeature-gate-box-expr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-box-expr.rs?ref=bb952358aa674b815f6180520eb5ddf2289e6401", "patch": "@@ -8,18 +8,18 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-fn main() {\n-    use std::boxed::HEAP;\n+// Check that `box EXPR` is feature-gated.\n+//\n+// See also feature-gate-placement-expr.rs\n+//\n+// (Note that the two tests are separated since the checks appear to\n+// be performed at distinct phases, with an abort_if_errors call\n+// separating them.)\n \n+fn main() {\n     let x = box 'c'; //~ ERROR box expression syntax is experimental\n     println!(\"x: {}\", x);\n \n     let x = box () 'c'; //~ ERROR box expression syntax is experimental\n     println!(\"x: {}\", x);\n-\n-    let x = box (HEAP) 'c'; //~ ERROR placement-in expression syntax is experimental\n-    println!(\"x: {}\", x);\n-\n-    let x = in HEAP { 'c' }; //~ ERROR placement-in expression syntax is experimental\n-    println!(\"x: {}\", x);\n }"}, {"sha": "ac367340a61fe2c05040fbac283796655daa1eb6", "filename": "src/test/compile-fail/feature-gate-placement-expr.rs", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/bb952358aa674b815f6180520eb5ddf2289e6401/src%2Ftest%2Fcompile-fail%2Ffeature-gate-placement-expr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bb952358aa674b815f6180520eb5ddf2289e6401/src%2Ftest%2Fcompile-fail%2Ffeature-gate-placement-expr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-placement-expr.rs?ref=bb952358aa674b815f6180520eb5ddf2289e6401", "patch": "@@ -0,0 +1,27 @@\n+// Copyright 2015 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// Check that `in PLACE { EXPR }` is feature-gated.\n+//\n+// See also feature-gate-box-expr.rs\n+//\n+// (Note that the two tests are separated since the checks appear to\n+// be performed at distinct phases, with an abort_if_errors call\n+// separating them.)\n+\n+fn main() {\n+    use std::boxed::HEAP;\n+\n+    let x = box (HEAP) 'c'; //~ ERROR placement-in expression syntax is experimental\n+    println!(\"x: {}\", x);\n+\n+    // let x = in HEAP { 'c' }; // ERROR placement-in expression syntax is experimental\n+    // println!(\"x: {}\", x);\n+}"}]}