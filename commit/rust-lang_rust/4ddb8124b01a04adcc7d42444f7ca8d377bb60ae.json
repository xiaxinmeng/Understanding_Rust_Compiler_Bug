{"sha": "4ddb8124b01a04adcc7d42444f7ca8d377bb60ae", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRkZGI4MTI0YjAxYTA0YWRjYzdkNDI0NDRmN2NhOGQzNzdiYjYwYWU=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-09-23T19:56:32Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-09-23T19:56:32Z"}, "message": "Merge #6068\n\n6068: More compliant lsp-types 0.82 r=kjeremy a=kjeremy\n\n\n\nCo-authored-by: kjeremy <kjeremy@gmail.com>", "tree": {"sha": "922b2548a2965f2652662651523e0f80034099a4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/922b2548a2965f2652662651523e0f80034099a4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4ddb8124b01a04adcc7d42444f7ca8d377bb60ae", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfa6hwCRBK7hj4Ov3rIwAAdHIIAE5FqJmnRtqONMakC07sFcJQ\nvqQDeWRRptEj/Df0sE3B2Kt6zU7rDk0WOd2Zmvci6ZMzX3WaWKhC6RZu7/hz+bzm\n1CXiLWrZvT5S+XesYacMLDIwIgU7RAKbWc4RCOpV9WEIYgaX+Ev3tQe47HmoKTKn\njYreRmgnVNEcQ1Y7uoqPwQ63azhSUDNg+EvmyuGYgV3itwlI0aBSs9YLh93CVvhk\nrqALGxQydsGX9hcshQaUDGgV1lJ2wP6EQVHdEkT/dodQ6sNYHB5PDrg5C/vKvEOa\nNZIPq2dvQNHVBFUaVZG64BRUBQ+rDIzFS8iuuX5S3arwcb4uc2QAwCISRTuYYDs=\n=pFtL\n-----END PGP SIGNATURE-----\n", "payload": "tree 922b2548a2965f2652662651523e0f80034099a4\nparent bcdedbb3d5a45ea974cc5f8e9068e9604c43a757\nparent 95d7e3ce4996e6e183382a83c495fb4afecd0a6d\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1600890992 +0000\ncommitter GitHub <noreply@github.com> 1600890992 +0000\n\nMerge #6068\n\n6068: More compliant lsp-types 0.82 r=kjeremy a=kjeremy\n\n\n\nCo-authored-by: kjeremy <kjeremy@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4ddb8124b01a04adcc7d42444f7ca8d377bb60ae", "html_url": "https://github.com/rust-lang/rust/commit/4ddb8124b01a04adcc7d42444f7ca8d377bb60ae", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4ddb8124b01a04adcc7d42444f7ca8d377bb60ae/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bcdedbb3d5a45ea974cc5f8e9068e9604c43a757", "url": "https://api.github.com/repos/rust-lang/rust/commits/bcdedbb3d5a45ea974cc5f8e9068e9604c43a757", "html_url": "https://github.com/rust-lang/rust/commit/bcdedbb3d5a45ea974cc5f8e9068e9604c43a757"}, {"sha": "95d7e3ce4996e6e183382a83c495fb4afecd0a6d", "url": "https://api.github.com/repos/rust-lang/rust/commits/95d7e3ce4996e6e183382a83c495fb4afecd0a6d", "html_url": "https://github.com/rust-lang/rust/commit/95d7e3ce4996e6e183382a83c495fb4afecd0a6d"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "7fecee1b57deb4651b8bca3d1866e3e2408e4820", "filename": "Cargo.lock", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4ddb8124b01a04adcc7d42444f7ca8d377bb60ae/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/4ddb8124b01a04adcc7d42444f7ca8d377bb60ae/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=4ddb8124b01a04adcc7d42444f7ca8d377bb60ae", "patch": "@@ -775,9 +775,9 @@ dependencies = [\n \n [[package]]\n name = \"lsp-types\"\n-version = \"0.81.0\"\n+version = \"0.82.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"5e02724627e9ef8ba91f461ebc01d48aebbd13a4b7c9dc547a0a2890f53e2171\"\n+checksum = \"db895abb8527cf59e3de893ab2acf52cf904faeb65e60ea6f373e11fe86464e8\"\n dependencies = [\n  \"base64\",\n  \"bitflags\","}, {"sha": "631ffc4a72be00b1cb7931e74a04603285b6e8b9", "filename": "crates/rust-analyzer/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4ddb8124b01a04adcc7d42444f7ca8d377bb60ae/crates%2Frust-analyzer%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/4ddb8124b01a04adcc7d42444f7ca8d377bb60ae/crates%2Frust-analyzer%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2FCargo.toml?ref=4ddb8124b01a04adcc7d42444f7ca8d377bb60ae", "patch": "@@ -21,7 +21,7 @@ env_logger = { version = \"0.7.1\", default-features = false }\n itertools = \"0.9.0\"\n jod-thread = \"0.1.0\"\n log = \"0.4.8\"\n-lsp-types = { version = \"0.81.0\", features = [\"proposed\"] }\n+lsp-types = { version = \"0.82.0\", features = [\"proposed\"] }\n parking_lot = \"0.11.0\"\n pico-args = \"0.3.1\"\n oorandom = \"11.1.2\""}, {"sha": "c589afeafcfc2ab19912a00ff3da3bfa89a47d29", "filename": "crates/rust-analyzer/src/caps.rs", "status": "modified", "additions": 7, "deletions": 7, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/4ddb8124b01a04adcc7d42444f7ca8d377bb60ae/crates%2Frust-analyzer%2Fsrc%2Fcaps.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4ddb8124b01a04adcc7d42444f7ca8d377bb60ae/crates%2Frust-analyzer%2Fsrc%2Fcaps.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fcaps.rs?ref=4ddb8124b01a04adcc7d42444f7ca8d377bb60ae", "patch": "@@ -5,7 +5,7 @@ use lsp_types::{\n     CallHierarchyServerCapability, ClientCapabilities, CodeActionKind, CodeActionOptions,\n     CodeActionProviderCapability, CodeLensOptions, CompletionOptions,\n     DocumentOnTypeFormattingOptions, FoldingRangeProviderCapability, HoverProviderCapability,\n-    ImplementationProviderCapability, RenameOptions, RenameProviderCapability, SaveOptions,\n+    ImplementationProviderCapability, OneOf, RenameOptions, SaveOptions,\n     SelectionRangeProviderCapability, SemanticTokensFullOptions, SemanticTokensLegend,\n     SemanticTokensOptions, ServerCapabilities, SignatureHelpOptions, TextDocumentSyncCapability,\n     TextDocumentSyncKind, TextDocumentSyncOptions, TypeDefinitionProviderCapability,\n@@ -42,16 +42,16 @@ pub fn server_capabilities(client_caps: &ClientCapabilities) -> ServerCapabiliti\n             work_done_progress_options: WorkDoneProgressOptions { work_done_progress: None },\n         }),\n         declaration_provider: None,\n-        definition_provider: Some(true),\n+        definition_provider: Some(OneOf::Left(true)),\n         type_definition_provider: Some(TypeDefinitionProviderCapability::Simple(true)),\n         implementation_provider: Some(ImplementationProviderCapability::Simple(true)),\n-        references_provider: Some(true),\n-        document_highlight_provider: Some(true),\n-        document_symbol_provider: Some(true),\n+        references_provider: Some(OneOf::Left(true)),\n+        document_highlight_provider: Some(OneOf::Left(true)),\n+        document_symbol_provider: Some(OneOf::Left(true)),\n         workspace_symbol_provider: Some(true),\n         code_action_provider: Some(code_action_provider),\n         code_lens_provider: Some(CodeLensOptions { resolve_provider: Some(true) }),\n-        document_formatting_provider: Some(true),\n+        document_formatting_provider: Some(OneOf::Left(true)),\n         document_range_formatting_provider: None,\n         document_on_type_formatting_provider: Some(DocumentOnTypeFormattingOptions {\n             first_trigger_character: \"=\".to_string(),\n@@ -60,7 +60,7 @@ pub fn server_capabilities(client_caps: &ClientCapabilities) -> ServerCapabiliti\n         selection_range_provider: Some(SelectionRangeProviderCapability::Simple(true)),\n         semantic_highlighting: None,\n         folding_range_provider: Some(FoldingRangeProviderCapability::Simple(true)),\n-        rename_provider: Some(RenameProviderCapability::Options(RenameOptions {\n+        rename_provider: Some(OneOf::Right(RenameOptions {\n             prepare_provider: Some(true),\n             work_done_progress_options: WorkDoneProgressOptions { work_done_progress: None },\n         })),"}]}