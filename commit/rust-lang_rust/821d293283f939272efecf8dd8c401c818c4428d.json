{"sha": "821d293283f939272efecf8dd8c401c818c4428d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgyMWQyOTMyODNmOTM5MjcyZWZlY2Y4ZGQ4YzQwMWM4MThjNDQyOGQ=", "commit": {"author": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2019-09-16T18:43:23Z"}, "committer": {"name": "Alex Crichton", "email": "alex@alexcrichton.com", "date": "2019-09-16T18:43:23Z"}, "message": "azure: Disable more LLVM/debug assertions in\n\nThis commit disables LLVM/debug assertions in our 5 slowest builders:\n\n* i686-gnu\n* i686-gnu-nopt\n* i686-msvc-1\n* i686-msvc-2\n* x86_64-msvc-cargo\n\nThis is reducing the amount of test coverage for LLVM/debug assertions,\nbut we're just unfortunately running out of time on CI too many times.\nSome test builds have shown that i686-gnu drops nearly an hour of CI\ntime by disabling these two assertions. Perhaps when we eventually get\n4-core machines we can reenable these, but for now turn them off and\nhook them up to the tracking issue at #59637 which will ideally be\nrepurposes to tracking all of these.", "tree": {"sha": "6040e065e35c6d86d13dde260ff954a76d083005", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6040e065e35c6d86d13dde260ff954a76d083005"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/821d293283f939272efecf8dd8c401c818c4428d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/821d293283f939272efecf8dd8c401c818c4428d", "html_url": "https://github.com/rust-lang/rust/commit/821d293283f939272efecf8dd8c401c818c4428d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/821d293283f939272efecf8dd8c401c818c4428d/comments", "author": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "16c401167366d7c6deb9268058fc5f254f9d9371", "url": "https://api.github.com/repos/rust-lang/rust/commits/16c401167366d7c6deb9268058fc5f254f9d9371", "html_url": "https://github.com/rust-lang/rust/commit/16c401167366d7c6deb9268058fc5f254f9d9371"}], "stats": {"total": 15, "additions": 15, "deletions": 0}, "files": [{"sha": "1656066eb29c9d8ecf48cb3aa08b01d844e7c72c", "filename": "src/ci/azure-pipelines/auto.yml", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/821d293283f939272efecf8dd8c401c818c4428d/src%2Fci%2Fazure-pipelines%2Fauto.yml", "raw_url": "https://github.com/rust-lang/rust/raw/821d293283f939272efecf8dd8c401c818c4428d/src%2Fci%2Fazure-pipelines%2Fauto.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fazure-pipelines%2Fauto.yml?ref=821d293283f939272efecf8dd8c401c818c4428d", "patch": "@@ -236,10 +236,16 @@ jobs:\n         MSYS_BITS: 32\n         RUST_CONFIGURE_ARGS: --build=i686-pc-windows-msvc\n         SCRIPT: make ci-subset-1\n+        # FIXME(#59637)\n+        NO_DEBUG_ASSERTIONS: 1\n+        NO_LLVM_ASSERTIONS: 1\n       i686-msvc-2:\n         MSYS_BITS: 32\n         RUST_CONFIGURE_ARGS: --build=i686-pc-windows-msvc\n         SCRIPT: make ci-subset-2\n+        # FIXME(#59637)\n+        NO_DEBUG_ASSERTIONS: 1\n+        NO_LLVM_ASSERTIONS: 1\n       # MSVC aux tests\n       x86_64-msvc-aux:\n         MSYS_BITS: 64\n@@ -250,6 +256,9 @@ jobs:\n         SCRIPT: python x.py test src/tools/cargotest src/tools/cargo\n         RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-msvc\n         VCVARS_BAT: vcvars64.bat\n+        # FIXME(#59637)\n+        NO_DEBUG_ASSERTIONS: 1\n+        NO_LLVM_ASSERTIONS: 1\n       # MSVC tools tests\n       x86_64-msvc-tools:\n         MSYS_BITS: 64"}, {"sha": "517b59c38dcb06b7441802344782df01813a0a1a", "filename": "src/ci/docker/i686-gnu-nopt/Dockerfile", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/821d293283f939272efecf8dd8c401c818c4428d/src%2Fci%2Fdocker%2Fi686-gnu-nopt%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/821d293283f939272efecf8dd8c401c818c4428d/src%2Fci%2Fdocker%2Fi686-gnu-nopt%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fi686-gnu-nopt%2FDockerfile?ref=821d293283f939272efecf8dd8c401c818c4428d", "patch": "@@ -19,3 +19,6 @@ RUN sh /scripts/sccache.sh\n \n ENV RUST_CONFIGURE_ARGS --build=i686-unknown-linux-gnu --disable-optimize-tests\n ENV SCRIPT python2.7 ../x.py test\n+\n+# FIXME(#59637) takes too long on CI right now\n+ENV NO_LLVM_ASSERTIONS=1 NO_DEBUG_ASSERTIONS=1"}, {"sha": "03db3ba0995d6a94ff0a0737b3e210258d7706e5", "filename": "src/ci/docker/i686-gnu/Dockerfile", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/821d293283f939272efecf8dd8c401c818c4428d/src%2Fci%2Fdocker%2Fi686-gnu%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/821d293283f939272efecf8dd8c401c818c4428d/src%2Fci%2Fdocker%2Fi686-gnu%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fi686-gnu%2FDockerfile?ref=821d293283f939272efecf8dd8c401c818c4428d", "patch": "@@ -25,3 +25,6 @@ ENV SCRIPT python2.7 ../x.py test \\\n   --exclude src/test/rustdoc-js \\\n   --exclude src/tools/error_index_generator \\\n   --exclude src/tools/linkchecker\n+\n+# FIXME(#59637) takes too long on CI right now\n+ENV NO_LLVM_ASSERTIONS=1 NO_DEBUG_ASSERTIONS=1"}]}