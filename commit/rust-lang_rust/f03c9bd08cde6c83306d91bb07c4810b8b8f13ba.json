{"sha": "f03c9bd08cde6c83306d91bb07c4810b8b8f13ba", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYwM2M5YmQwOGNkZTZjODMzMDZkOTFiYjA3YzQ4MTBiOGI4ZjEzYmE=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-05-18T07:44:47Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2013-05-20T22:20:49Z"}, "message": "core::rt: Rename WorkQueue methods, remove extra push method", "tree": {"sha": "732cfe9debbc50c71c535e5c5eddf70dac2307a8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/732cfe9debbc50c71c535e5c5eddf70dac2307a8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f03c9bd08cde6c83306d91bb07c4810b8b8f13ba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f03c9bd08cde6c83306d91bb07c4810b8b8f13ba", "html_url": "https://github.com/rust-lang/rust/commit/f03c9bd08cde6c83306d91bb07c4810b8b8f13ba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f03c9bd08cde6c83306d91bb07c4810b8b8f13ba/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "26babaafcdbcfdf2e842d84dbeabbed0dae6efef", "url": "https://api.github.com/repos/rust-lang/rust/commits/26babaafcdbcfdf2e842d84dbeabbed0dae6efef", "html_url": "https://github.com/rust-lang/rust/commit/26babaafcdbcfdf2e842d84dbeabbed0dae6efef"}], "stats": {"total": 20, "additions": 8, "deletions": 12}, "files": [{"sha": "7099ae865e934136962a4c0e1a78d4decbf99c26", "filename": "src/libcore/rt/sched.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f03c9bd08cde6c83306d91bb07c4810b8b8f13ba/src%2Flibcore%2Frt%2Fsched.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f03c9bd08cde6c83306d91bb07c4810b8b8f13ba/src%2Flibcore%2Frt%2Fsched.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Frt%2Fsched.rs?ref=f03c9bd08cde6c83306d91bb07c4810b8b8f13ba", "patch": "@@ -112,7 +112,7 @@ pub impl Scheduler {\n     /// to run it later. Always use this instead of pushing to the work queue\n     /// directly.\n     fn enqueue_task(&mut self, task: ~Coroutine) {\n-        self.work_queue.push_front(task);\n+        self.work_queue.push(task);\n         self.event_loop.callback(resume_task_from_queue);\n \n         fn resume_task_from_queue() {\n@@ -129,7 +129,7 @@ pub impl Scheduler {\n         rtdebug!(\"looking in work queue for task to schedule\");\n \n         let mut this = self;\n-        match this.work_queue.pop_front() {\n+        match this.work_queue.pop() {\n             Some(task) => {\n                 rtdebug!(\"resuming task from work queue\");\n                 this.resume_task_immediately(task);"}, {"sha": "7011b4ebc10407943044607a51225523f1b0013f", "filename": "src/libcore/rt/work_queue.rs", "status": "modified", "additions": 6, "deletions": 10, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/f03c9bd08cde6c83306d91bb07c4810b8b8f13ba/src%2Flibcore%2Frt%2Fwork_queue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f03c9bd08cde6c83306d91bb07c4810b8b8f13ba/src%2Flibcore%2Frt%2Fwork_queue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Frt%2Fwork_queue.rs?ref=f03c9bd08cde6c83306d91bb07c4810b8b8f13ba", "patch": "@@ -23,25 +23,21 @@ pub impl<T> WorkQueue<T> {\n         }\n     }\n \n-    fn push_back(&mut self, value: T) {\n-        self.queue.push(value)\n+    fn push(&mut self, value: T) {\n+        self.queue.unshift(value)\n     }\n \n-    fn pop_back(&mut self) -> Option<T> {\n+    fn pop(&mut self) -> Option<T> {\n         if !self.queue.is_empty() {\n-            Some(self.queue.pop())\n+            Some(self.queue.shift())\n         } else {\n             None\n         }\n     }\n \n-    fn push_front(&mut self, value: T) {\n-        self.queue.unshift(value)\n-    }\n-\n-    fn pop_front(&mut self) -> Option<T> {\n+    fn steal(&mut self) -> Option<T> {\n         if !self.queue.is_empty() {\n-            Some(self.queue.shift())\n+            Some(self.queue.pop())\n         } else {\n             None\n         }"}]}