{"sha": "b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "node_id": "C_kwDOAAsO6NoAKGI5NWIxMzg5YzUwZjAwMDY4M2M3YzJmYzVmODcxM2NiNWQzYmZhOTY", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-07-15T15:48:46Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-07-16T11:39:38Z"}, "message": "Add tests for JSON non-inlining", "tree": {"sha": "ffcf67965f224244126df9ce8a47023432b0bc46", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ffcf67965f224244126df9ce8a47023432b0bc46"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "html_url": "https://github.com/rust-lang/rust/commit/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3c55a26cb489abd4c8e8dc4835bad77ec80be493", "url": "https://api.github.com/repos/rust-lang/rust/commits/3c55a26cb489abd4c8e8dc4835bad77ec80be493", "html_url": "https://github.com/rust-lang/rust/commit/3c55a26cb489abd4c8e8dc4835bad77ec80be493"}], "stats": {"total": 150, "additions": 126, "deletions": 24}, "files": [{"sha": "5c4ccf996a54f6e7fc726031254aea8ec8391aad", "filename": "src/test/rustdoc-json/doc_hidden_failure.rs", "status": "added", "additions": 22, "deletions": 0, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Fdoc_hidden_failure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Fdoc_hidden_failure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Fdoc_hidden_failure.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -0,0 +1,22 @@\n+// Regression test for <https://github.com/rust-lang/rust/issues/98007>.\n+\n+#![feature(no_core)]\n+#![no_core]\n+\n+mod auto {\n+    mod action_row {\n+        pub struct ActionRowBuilder;\n+    }\n+\n+    #[doc(hidden)]\n+    pub mod builders {\n+        pub use super::action_row::ActionRowBuilder;\n+    }\n+}\n+\n+// @count doc_hidden_failure.json \"$.index[*][?(@.name=='builders')]\" 2\n+pub use auto::*;\n+\n+pub mod builders {\n+    pub use crate::auto::builders::*;\n+}"}, {"sha": "4a835673a596bcd05404f43d34082bf2785f2a9d", "filename": "src/test/rustdoc-json/reexport/auxiliary/pub-struct.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fauxiliary%2Fpub-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fauxiliary%2Fpub-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Freexport%2Fauxiliary%2Fpub-struct.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -0,0 +1 @@\n+pub struct Foo;"}, {"sha": "ba1cfd8a0b5775ba6dab6a52e887ea6d47ab8a1d", "filename": "src/test/rustdoc-json/reexport/glob_extern.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fglob_extern.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fglob_extern.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Freexport%2Fglob_extern.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -3,15 +3,16 @@\n #![no_core]\n #![feature(no_core)]\n \n-// @!has glob_extern.json \"$.index[*][?(@.name=='mod1')]\"\n+// @is glob_extern.json \"$.index[*][?(@.name=='mod1')].kind\" \\\"module\\\"\n+// @is glob_extern.json \"$.index[*][?(@.name=='mod1')].inner.is_stripped\" \"true\"\n mod mod1 {\n     extern \"C\" {\n-        // @set public_fn_id = - \"$.index[*][?(@.name=='public_fn')].id\"\n+        // @has - \"$.index[*][?(@.name=='public_fn')].id\"\n         pub fn public_fn();\n         // @!has - \"$.index[*][?(@.name=='private_fn')]\"\n         fn private_fn();\n     }\n }\n \n-// @has - \"$.index[*][?(@.name=='glob_extern')].inner.items[*]\" $public_fn_id\n+// @is - \"$.index[*][?(@.kind=='import')].inner.glob\" true\n pub use mod1::*;"}, {"sha": "e6a44748c25fbd3b162f5e89096fb036f1cf3031", "filename": "src/test/rustdoc-json/reexport/glob_private.rs", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fglob_private.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fglob_private.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Freexport%2Fglob_private.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -3,25 +3,30 @@\n #![no_core]\n #![feature(no_core)]\n \n-// @!has glob_private.json \"$.index[*][?(@.name=='mod1')]\"\n+// @is glob_private.json \"$.index[*][?(@.name=='mod1')].kind\" \\\"module\\\"\n+// @is glob_private.json \"$.index[*][?(@.name=='mod1')].inner.is_stripped\" \"true\"\n mod mod1 {\n-    // @!has - \"$.index[*][?(@.name=='mod2')]\"\n+    // @is - \"$.index[*][?(@.name=='mod2')].kind\" \\\"module\\\"\n+    // @is - \"$.index[*][?(@.name=='mod2')].inner.is_stripped\" \"true\"\n     mod mod2 {\n         // @set m2pub_id = - \"$.index[*][?(@.name=='Mod2Public')].id\"\n         pub struct Mod2Public;\n \n         // @!has - \"$.index[*][?(@.name=='Mod2Private')]\"\n         struct Mod2Private;\n     }\n+\n+    // @has - \"$.index[*][?(@.kind=='import' && @.inner.name=='mod2')]\"\n     pub use self::mod2::*;\n \n     // @set m1pub_id = - \"$.index[*][?(@.name=='Mod1Public')].id\"\n     pub struct Mod1Public;\n-\n     // @!has - \"$.index[*][?(@.name=='Mod1Private')]\"\n     struct Mod1Private;\n }\n+\n+// @has - \"$.index[*][?(@.kind=='import' && @.inner.name=='mod1')]\"\n pub use mod1::*;\n \n-// @has - \"$.index[*][?(@.name=='glob_private')].inner.items[*]\" $m2pub_id\n-// @has - \"$.index[*][?(@.name=='glob_private')].inner.items[*]\" $m1pub_id\n+// @has - \"$.index[*][?(@.name=='mod2')].inner.items[*]\" $m2pub_id\n+// @has - \"$.index[*][?(@.name=='mod1')].inner.items[*]\" $m1pub_id"}, {"sha": "7bf10a986861658005557d7ed770e7f071d61d07", "filename": "src/test/rustdoc-json/reexport/in_root_and_mod.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fin_root_and_mod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fin_root_and_mod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Freexport%2Fin_root_and_mod.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -1,15 +1,17 @@\n #![feature(no_core)]\n #![no_core]\n \n+// @is in_root_and_mod.json \"$.index[*][?(@.name=='foo')].kind\" \\\"module\\\"\n+// @is in_root_and_mod.json \"$.index[*][?(@.name=='foo')].inner.is_stripped\" \"true\"\n mod foo {\n-    // @set foo_id = in_root_and_mod.json \"$.index[*][?(@.name=='Foo')].id\"\n+    // @has - \"$.index[*][?(@.name=='Foo')]\"\n     pub struct Foo;\n }\n \n-// @has - \"$.index[*][?(@.name=='in_root_and_mod')].inner.items[*]\" $foo_id\n+// @has - \"$.index[*][?(@.kind=='import' && @.inner.source=='foo::Foo')]\"\n pub use foo::Foo;\n \n pub mod bar {\n-    // @has - \"$.index[*][?(@.name=='bar')].inner.items[*]\" $foo_id\n+    // @has - \"$.index[*][?(@.kind=='import' && @.inner.source=='crate::foo::Foo')]\"\n     pub use crate::foo::Foo;\n }"}, {"sha": "327b0f45fdd54d6af4f01cb9628381c88d0ff9ac", "filename": "src/test/rustdoc-json/reexport/private_twice_one_inline.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fprivate_twice_one_inline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fprivate_twice_one_inline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Freexport%2Fprivate_twice_one_inline.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -0,0 +1,18 @@\n+// aux-build:pub-struct.rs\n+\n+// Test for the ICE in rust/83057\n+// Am external type re-exported with different attributes shouldn't cause an error\n+\n+#![no_core]\n+#![feature(no_core)]\n+\n+extern crate pub_struct as foo;\n+\n+#[doc(inline)]\n+pub use foo::Foo;\n+\n+pub mod bar {\n+    pub use foo::Foo;\n+}\n+\n+// @count private_twice_one_inline.json \"$.index[*][?(@.kind=='import')]\" 2"}, {"sha": "36d6a50d385a21ecee5cceb7f6f4025cf4b05fee", "filename": "src/test/rustdoc-json/reexport/private_two_names.rs", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fprivate_two_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fprivate_two_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Freexport%2Fprivate_two_names.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -0,0 +1,17 @@\n+// Test for the ICE in rust/83720\n+// A pub-in-private type re-exported under two different names shouldn't cause an error\n+\n+#![no_core]\n+#![feature(no_core)]\n+\n+// @is private_two_names.json \"$.index[*][?(@.name=='style')].kind\" \\\"module\\\"\n+// @is private_two_names.json \"$.index[*][?(@.name=='style')].inner.is_stripped\" \"true\"\n+mod style {\n+    // @has - \"$.index[*](?(@.name=='Color'))\"\n+    pub struct Color;\n+}\n+\n+// @has - \"$.index[*][?(@.kind=='import' && @.inner.name=='Color')]\"\n+pub use style::Color;\n+// @has - \"$.index[*][?(@.kind=='import' && @.inner.name=='Colour')]\"\n+pub use style::Color as Colour;"}, {"sha": "2476399bd561cdfcf3bfed9656ac7848302bbc6b", "filename": "src/test/rustdoc-json/reexport/rename_private.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Frename_private.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Frename_private.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Freexport%2Frename_private.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -2,13 +2,13 @@\n \n #![no_core]\n #![feature(no_core)]\n-// @!has rename_private.json \"$.index[*][?(@.name=='inner')]\"\n+\n+// @is rename_private.json \"$.index[*][?(@.name=='inner')].kind\" \\\"module\\\"\n+// @is rename_private.json \"$.index[*][?(@.name=='inner')].inner.is_stripped\" \"true\"\n mod inner {\n-    // @!has - \"$.index[*][?(@.name=='Public')]\"\n+    // @has - \"$.index[*][?(@.name=='Public')]\"\n     pub struct Public;\n }\n \n-// @set newname_id = - \"$.index[*][?(@.name=='NewName')].id\"\n-// @is - \"$.index[*][?(@.name=='NewName')].kind\" \\\"struct\\\"\n-// @has - \"$.index[*][?(@.name=='rename_private')].inner.items[*]\" $newname_id\n+// @is - \"$.index[*][?(@.kind=='import')].inner.name\" \\\"NewName\\\"\n pub use inner::Public as NewName;"}, {"sha": "eedddd6a7bb48182f86b5aea8d58c0f7035a480c", "filename": "src/test/rustdoc-json/reexport/same_type_reexported_more_than_once.rs", "status": "modified", "additions": 3, "deletions": 5, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fsame_type_reexported_more_than_once.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fsame_type_reexported_more_than_once.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Freexport%2Fsame_type_reexported_more_than_once.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -1,15 +1,13 @@\n-// Regression test for https://github.com/rust-lang/rust/issues/97432.\n+// Regression test for <https://github.com/rust-lang/rust/issues/97432>.\n \n #![feature(no_core)]\n #![no_std]\n #![no_core]\n \n // @has same_type_reexported_more_than_once.json\n-// @set trait_id = - \"$.index[*][?(@.name=='Trait')].id\"\n-// @has - \"$.index[*][?(@.name=='same_type_reexported_more_than_once')].inner.items[*]\" $trait_id\n+// @has - \"$.index[*][?(@.name=='Trait')]\"\n pub use inner::Trait;\n-// @set reexport_id = - \"$.index[*][?(@.name=='Reexport')].id\"\n-// @has - \"$.index[*][?(@.name=='same_type_reexported_more_than_once')].inner.items[*]\" $reexport_id\n+// @has - \"$.index[*].inner[?(@.name=='Reexport')].id\"\n pub use inner::Trait as Reexport;\n \n mod inner {"}, {"sha": "5ec13e403aef694a01cb05be115926afab93b8d9", "filename": "src/test/rustdoc-json/reexport/simple_private.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fsimple_private.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freexport%2Fsimple_private.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Freexport%2Fsimple_private.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -1,13 +1,15 @@\n // edition:2018\n-\n #![no_core]\n #![feature(no_core)]\n \n-// @!has simple_private.json \"$.index[*][?(@.name=='inner')]\"\n+// @is simple_private.json \"$.index[*][?(@.name=='inner')].kind\" \\\"module\\\"\n+// @is simple_private.json \"$.index[*][?(@.name=='inner')].inner.is_stripped\" \"true\"\n mod inner {\n     // @set pub_id = - \"$.index[*][?(@.name=='Public')].id\"\n     pub struct Public;\n }\n \n-// @has - \"$.index[*][?(@.name=='simple_private')].inner.items[*]\" $pub_id\n+// @is - \"$.index[*][?(@.kind=='import')].inner.name\" \\\"Public\\\"\n pub use inner::Public;\n+\n+// @has - \"$.index[*][?(@.name=='inner')].inner.items[*]\" $pub_id"}, {"sha": "6b324d0090a154ef3954e50a60abbb960e3bad86", "filename": "src/test/rustdoc-json/return_private.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freturn_private.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Freturn_private.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Freturn_private.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -0,0 +1,15 @@\n+// Regression test for <https://github.com/rust-lang/rust/issues/96161>.\n+// ignore-tidy-linelength\n+\n+#![feature(no_core)]\n+#![no_core]\n+\n+mod secret {\n+    pub struct Secret;\n+}\n+\n+// @is return_private.json \"$.index[*][?(@.name=='get_secret')].kind\" \\\"function\\\"\n+// @is return_private.json \"$.index[*][?(@.name=='get_secret')].inner.decl.output.inner.name\" \\\"secret::Secret\\\"\n+pub fn get_secret() -> secret::Secret {\n+    secret::Secret\n+}"}, {"sha": "91f9f02ad7b47342aae502b827ba7ca0b5bf2686", "filename": "src/test/rustdoc-json/stripped_modules.rs", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Fstripped_modules.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b95b1389c50f000683c7c2fc5f8713cb5d3bfa96/src%2Ftest%2Frustdoc-json%2Fstripped_modules.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-json%2Fstripped_modules.rs?ref=b95b1389c50f000683c7c2fc5f8713cb5d3bfa96", "patch": "@@ -0,0 +1,21 @@\n+#![no_core]\n+#![feature(no_core)]\n+\n+// @!has stripped_modules.json \"$.index[*][?(@.name=='no_pub_inner')]\"\n+mod no_pub_inner {\n+    fn priv_inner() {}\n+}\n+\n+// @!has - \"$.index[*][?(@.name=='pub_inner_unreachable')]\"\n+mod pub_inner_unreachable {\n+    // @!has - \"$.index[*][?(@.name=='pub_inner_1')]\"\n+    pub fn pub_inner_1() {}\n+}\n+\n+// @has - \"$.index[*][?(@.name=='pub_inner_reachable')]\"\n+mod pub_inner_reachable {\n+    // @has - \"$.index[*][?(@.name=='pub_inner_2')]\"\n+    pub fn pub_inner_2() {}\n+}\n+\n+pub use pub_inner_reachable::pub_inner_2;"}]}