{"sha": "bdca7376fd9f800f57b2ee17d95af3b327baa332", "node_id": "C_kwDOAAsO6NoAKGJkY2E3Mzc2ZmQ5ZjgwMGY1N2IyZWUxN2Q5NWFmM2IzMjdiYWEzMzI", "commit": {"author": {"name": "Thomas Hatzopoulos", "email": "thatzopoulos965@gmail.com", "date": "2022-05-02T01:49:45Z"}, "committer": {"name": "Thomas Hatzopoulos", "email": "thatzopoulos965@gmail.com", "date": "2022-05-07T22:10:48Z"}, "message": "updated error message for missing cmake", "tree": {"sha": "40db104c3cdefc1c027c7306b37e90f52e1226f6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/40db104c3cdefc1c027c7306b37e90f52e1226f6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bdca7376fd9f800f57b2ee17d95af3b327baa332", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bdca7376fd9f800f57b2ee17d95af3b327baa332", "html_url": "https://github.com/rust-lang/rust/commit/bdca7376fd9f800f57b2ee17d95af3b327baa332", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bdca7376fd9f800f57b2ee17d95af3b327baa332/comments", "author": {"login": "thatzopoulos", "id": 15097454, "node_id": "MDQ6VXNlcjE1MDk3NDU0", "avatar_url": "https://avatars.githubusercontent.com/u/15097454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thatzopoulos", "html_url": "https://github.com/thatzopoulos", "followers_url": "https://api.github.com/users/thatzopoulos/followers", "following_url": "https://api.github.com/users/thatzopoulos/following{/other_user}", "gists_url": "https://api.github.com/users/thatzopoulos/gists{/gist_id}", "starred_url": "https://api.github.com/users/thatzopoulos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thatzopoulos/subscriptions", "organizations_url": "https://api.github.com/users/thatzopoulos/orgs", "repos_url": "https://api.github.com/users/thatzopoulos/repos", "events_url": "https://api.github.com/users/thatzopoulos/events{/privacy}", "received_events_url": "https://api.github.com/users/thatzopoulos/received_events", "type": "User", "site_admin": false}, "committer": {"login": "thatzopoulos", "id": 15097454, "node_id": "MDQ6VXNlcjE1MDk3NDU0", "avatar_url": "https://avatars.githubusercontent.com/u/15097454?v=4", "gravatar_id": "", "url": "https://api.github.com/users/thatzopoulos", "html_url": "https://github.com/thatzopoulos", "followers_url": "https://api.github.com/users/thatzopoulos/followers", "following_url": "https://api.github.com/users/thatzopoulos/following{/other_user}", "gists_url": "https://api.github.com/users/thatzopoulos/gists{/gist_id}", "starred_url": "https://api.github.com/users/thatzopoulos/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/thatzopoulos/subscriptions", "organizations_url": "https://api.github.com/users/thatzopoulos/orgs", "repos_url": "https://api.github.com/users/thatzopoulos/repos", "events_url": "https://api.github.com/users/thatzopoulos/events{/privacy}", "received_events_url": "https://api.github.com/users/thatzopoulos/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c110cfa161aab391bd37c16a95b8330bfc7e54ce", "url": "https://api.github.com/repos/rust-lang/rust/commits/c110cfa161aab391bd37c16a95b8330bfc7e54ce", "html_url": "https://github.com/rust-lang/rust/commit/c110cfa161aab391bd37c16a95b8330bfc7e54ce"}], "stats": {"total": 13, "additions": 12, "deletions": 1}, "files": [{"sha": "64c5dd7aea7202ef50a4ba49cc3738c6727c7f16", "filename": "src/bootstrap/sanity.rs", "status": "modified", "additions": 12, "deletions": 1, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/bdca7376fd9f800f57b2ee17d95af3b327baa332/src%2Fbootstrap%2Fsanity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bdca7376fd9f800f57b2ee17d95af3b327baa332/src%2Fbootstrap%2Fsanity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fsanity.rs?ref=bdca7376fd9f800f57b2ee17d95af3b327baa332", "patch": "@@ -94,7 +94,18 @@ pub fn check(build: &mut Build) {\n             .any(|build_llvm_ourselves| build_llvm_ourselves);\n     let need_cmake = building_llvm || build.config.any_sanitizers_enabled();\n     if need_cmake {\n-        cmd_finder.must_have(\"cmake\");\n+        if cmd_finder.maybe_have(\"cmake\").is_none() {\n+            eprintln!(\n+                \"\n+Couldn't find required command: cmake\n+\n+You should install cmake, or set `download-ci-llvm = true` in the\n+`[llvm]` section section of `config.toml` to download LLVM rather\n+than building it.\n+\"\n+            );\n+            std::process::exit(1);\n+        }\n     }\n \n     build.config.python = build"}]}