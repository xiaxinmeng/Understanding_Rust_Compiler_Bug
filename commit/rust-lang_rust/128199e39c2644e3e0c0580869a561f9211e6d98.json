{"sha": "128199e39c2644e3e0c0580869a561f9211e6d98", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEyODE5OWUzOWMyNjQ0ZTNlMGMwNTgwODY5YTU2MWY5MjExZTZkOTg=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-11-28T15:19:54Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-12-03T10:36:56Z"}, "message": "Move the swap the tools test and cargotest within check-aux.\n\nThe cargotest job is renamed to tools for clarification.", "tree": {"sha": "c9aeaa38d5267494119747dfee5cf46634b5ff93", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c9aeaa38d5267494119747dfee5cf46634b5ff93"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/128199e39c2644e3e0c0580869a561f9211e6d98", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAloj08gACgkQ/vbIBR0O\nATypVw//fbWVxyFJn18n9QlM+Zgt1e/x2M1xDgxfbbFrOUNXBSgoFiE92zR4cB+b\ncqkEGsTbaOFvaLLRlG1HBj9Yyo687ek8b1xioVoLJ44ZraJ6ua+yboZrp3F2wps8\nZeSFV+XmmNvfWtAN8TtguwSCxzxvmtkylLkVWSXSZaqO/pn47On87h/dMNFvW60C\nbHODM41BQ+glSs9TvmgCnCE/eYh3F4/ULwFDPUj978cOWr+g6tOn+nwe61TwGHe0\nIRXhzEz3DQ0WgIJSHSXcCQl58Jdyzbuj4+oe80oVZW88aGp6CCNukexwA68wnI1s\n/EaOk8thwUy2f/644wO6+TGDuect3jXV6nHaufa8pHtlTsG74VMrzjb6zHiPKoX4\nBtHXs571lYp/kIJsBhtoQcNDafIqrzmzkugqJnX6UMT6mDLm8c/afX+IsbaGF7Tz\nGdL7yOzvJGwslBVx4PO2jBvQXZiPVQJyW7avDo9HPHlwGuBf5uQwIXttjPboaS/H\nzBYyGw0JXYQdZh/jQ4/irEw+OqqTY8kKPoUy5XYwoEiyTa6i+3MHzRESUKOSBrCG\nA64IUnPjXX+f+7uPwtf0BDf2mazhC2V42QTGHYE9JlIEqEjs5DzoYUFqv49Kt/Em\nGibsMPJHYAFxKnBsApCqWDUg2ptfKOzalaHuAB40Q9SSqKpfC0Y=\n=0GT0\n-----END PGP SIGNATURE-----", "payload": "tree c9aeaa38d5267494119747dfee5cf46634b5ff93\nparent 0bae745cd84879bf97cf81d9eca28fbfa2360722\nauthor kennytm <kennytm@gmail.com> 1511882394 +0800\ncommitter kennytm <kennytm@gmail.com> 1512297416 +0800\n\nMove the swap the tools test and cargotest within check-aux.\n\nThe cargotest job is renamed to tools for clarification.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/128199e39c2644e3e0c0580869a561f9211e6d98", "html_url": "https://github.com/rust-lang/rust/commit/128199e39c2644e3e0c0580869a561f9211e6d98", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/128199e39c2644e3e0c0580869a561f9211e6d98/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0bae745cd84879bf97cf81d9eca28fbfa2360722", "url": "https://api.github.com/repos/rust-lang/rust/commits/0bae745cd84879bf97cf81d9eca28fbfa2360722", "html_url": "https://github.com/rust-lang/rust/commit/0bae745cd84879bf97cf81d9eca28fbfa2360722"}], "stats": {"total": 33, "additions": 20, "deletions": 13}, "files": [{"sha": "40122df2d9441bcea51f7e0fee4cc9e85b6479ce", "filename": ".travis.yml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/128199e39c2644e3e0c0580869a561f9211e6d98/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/128199e39c2644e3e0c0580869a561f9211e6d98/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=128199e39c2644e3e0c0580869a561f9211e6d98", "patch": "@@ -168,7 +168,7 @@ matrix:\n       if: branch = auto\n     - env: IMAGE=x86_64-gnu-aux\n       if: branch = auto\n-    - env: IMAGE=x86_64-gnu-cargotest\n+    - env: IMAGE=x86_64-gnu-tools\n       if: branch = auto\n     - env: IMAGE=x86_64-gnu-debug\n       if: branch = auto"}, {"sha": "7cde52cd69eade4c5357b3bde900b7b58208b7cf", "filename": "appveyor.yml", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/128199e39c2644e3e0c0580869a561f9211e6d98/appveyor.yml", "raw_url": "https://github.com/rust-lang/rust/raw/128199e39c2644e3e0c0580869a561f9211e6d98/appveyor.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/appveyor.yml?ref=128199e39c2644e3e0c0580869a561f9211e6d98", "patch": "@@ -25,9 +25,14 @@ environment:\n     RUST_CHECK_TARGET: check-aux\n     RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-msvc\n \n-  # MSVC cargotest\n+  # MSVC tools tests\n   - MSYS_BITS: 64\n-    SCRIPT: python x.py test src/tools/cargotest\n+    SCRIPT: >\n+      python x.py test --no-fail-fast\n+        src/tools/rls\n+        src/tools/rustfmt\n+        src/tools/miri\n+        src/tools/clippy\n     RUST_CONFIGURE_ARGS: --build=x86_64-pc-windows-msvc\n \n   # 32/64-bit MinGW builds."}, {"sha": "925a361f0b22e010eb0e4fc034330c44806ac83c", "filename": "src/bootstrap/mk/Makefile.in", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/128199e39c2644e3e0c0580869a561f9211e6d98/src%2Fbootstrap%2Fmk%2FMakefile.in", "raw_url": "https://github.com/rust-lang/rust/raw/128199e39c2644e3e0c0580869a561f9211e6d98/src%2Fbootstrap%2Fmk%2FMakefile.in", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fmk%2FMakefile.in?ref=128199e39c2644e3e0c0580869a561f9211e6d98", "patch": "@@ -53,9 +53,7 @@ check:\n check-aux:\n \t$(Q)$(BOOTSTRAP) test \\\n \t\tsrc/tools/cargo \\\n-\t\tsrc/tools/rls \\\n-\t\tsrc/tools/rustfmt \\\n-\t\tsrc/tools/miri \\\n+\t\tsrc/tools/cargotest \\\n \t\tsrc/test/pretty \\\n \t\tsrc/test/run-pass/pretty \\\n \t\tsrc/test/run-fail/pretty \\"}, {"sha": "62c55f480673430e9eacde547a071275d2a2c448", "filename": "src/ci/docker/x86_64-gnu-aux/Dockerfile", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/128199e39c2644e3e0c0580869a561f9211e6d98/src%2Fci%2Fdocker%2Fx86_64-gnu-aux%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/128199e39c2644e3e0c0580869a561f9211e6d98/src%2Fci%2Fdocker%2Fx86_64-gnu-aux%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fx86_64-gnu-aux%2FDockerfile?ref=128199e39c2644e3e0c0580869a561f9211e6d98", "patch": "@@ -12,7 +12,11 @@ RUN apt-get update && apt-get install -y --no-install-recommends \\\n   libssl-dev \\\n   sudo \\\n   xz-utils \\\n-  pkg-config\n+  pkg-config \\\n+  libgl1-mesa-dev \\\n+  llvm-dev \\\n+  libfreetype6-dev \\\n+  libexpat1-dev\n \n COPY scripts/sccache.sh /scripts/\n RUN sh /scripts/sccache.sh"}, {"sha": "f4ba58e536f5cce4b69d5f4316e8056ebb2772fa", "filename": "src/ci/docker/x86_64-gnu-tools/Dockerfile", "status": "renamed", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/128199e39c2644e3e0c0580869a561f9211e6d98/src%2Fci%2Fdocker%2Fx86_64-gnu-tools%2FDockerfile", "raw_url": "https://github.com/rust-lang/rust/raw/128199e39c2644e3e0c0580869a561f9211e6d98/src%2Fci%2Fdocker%2Fx86_64-gnu-tools%2FDockerfile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fx86_64-gnu-tools%2FDockerfile?ref=128199e39c2644e3e0c0580869a561f9211e6d98", "patch": "@@ -12,14 +12,14 @@ RUN apt-get update && apt-get install -y --no-install-recommends \\\n   libssl-dev \\\n   sudo \\\n   xz-utils \\\n-  pkg-config \\\n-  libgl1-mesa-dev \\\n-  llvm-dev \\\n-  libfreetype6-dev \\\n-  libexpat1-dev\n+  pkg-config\n \n COPY scripts/sccache.sh /scripts/\n RUN sh /scripts/sccache.sh\n \n ENV RUST_CONFIGURE_ARGS --build=x86_64-unknown-linux-gnu\n-ENV SCRIPT python2.7 ../x.py test src/tools/cargotest\n+ENV SCRIPT python2.7 ../x.py --no-fail-fast \\\n+  src/tools/rls \\\n+  src/tools/rustfmt \\\n+  src/tools/miri \\\n+  src/tools/clippy", "previous_filename": "src/ci/docker/x86_64-gnu-cargotest/Dockerfile"}]}