{"sha": "492f07bbda5cfd521606d1c5540855a8789659ad", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ5MmYwN2JiZGE1Y2ZkNTIxNjA2ZDFjNTU0MDg1NWE4Nzg5NjU5YWQ=", "commit": {"author": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-03-24T22:39:29Z"}, "committer": {"name": "Simonas Kazlauskas", "email": "git@kazlauskas.me", "date": "2015-03-24T22:39:29Z"}, "message": "Fix some fallout in librustdoc", "tree": {"sha": "0c5eeb5b1b357ae6c20717d173d1f23b3e0cedf5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0c5eeb5b1b357ae6c20717d173d1f23b3e0cedf5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/492f07bbda5cfd521606d1c5540855a8789659ad", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/492f07bbda5cfd521606d1c5540855a8789659ad", "html_url": "https://github.com/rust-lang/rust/commit/492f07bbda5cfd521606d1c5540855a8789659ad", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/492f07bbda5cfd521606d1c5540855a8789659ad/comments", "author": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nagisa", "id": 679122, "node_id": "MDQ6VXNlcjY3OTEyMg==", "avatar_url": "https://avatars.githubusercontent.com/u/679122?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nagisa", "html_url": "https://github.com/nagisa", "followers_url": "https://api.github.com/users/nagisa/followers", "following_url": "https://api.github.com/users/nagisa/following{/other_user}", "gists_url": "https://api.github.com/users/nagisa/gists{/gist_id}", "starred_url": "https://api.github.com/users/nagisa/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nagisa/subscriptions", "organizations_url": "https://api.github.com/users/nagisa/orgs", "repos_url": "https://api.github.com/users/nagisa/repos", "events_url": "https://api.github.com/users/nagisa/events{/privacy}", "received_events_url": "https://api.github.com/users/nagisa/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ed810385045ab0db90303574ba3ea47dfa2a36d5", "url": "https://api.github.com/repos/rust-lang/rust/commits/ed810385045ab0db90303574ba3ea47dfa2a36d5", "html_url": "https://github.com/rust-lang/rust/commit/ed810385045ab0db90303574ba3ea47dfa2a36d5"}], "stats": {"total": 14, "additions": 7, "deletions": 7}, "files": [{"sha": "0e6e008c616523f9a47dea6078179f59f54d3955", "filename": "src/librustdoc/html/format.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/492f07bbda5cfd521606d1c5540855a8789659ad/src%2Flibrustdoc%2Fhtml%2Fformat.rs", "raw_url": "https://github.com/rust-lang/rust/raw/492f07bbda5cfd521606d1c5540855a8789659ad/src%2Flibrustdoc%2Fhtml%2Fformat.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fformat.rs?ref=492f07bbda5cfd521606d1c5540855a8789659ad", "patch": "@@ -290,7 +290,7 @@ fn resolved_path(w: &mut fmt::Formatter, did: ast::DefId, p: &clean::Path,\n             if ast_util::is_local(did) || cache.inlined.contains(&did) {\n                 Some(repeat(\"../\").take(loc.len()).collect::<String>())\n             } else {\n-                match cache.extern_locations[&did.krate] {\n+                match cache.extern_locations[did.krate] {\n                     render::Remote(ref s) => Some(s.to_string()),\n                     render::Local => {\n                         Some(repeat(\"../\").take(loc.len()).collect::<String>())\n@@ -404,11 +404,11 @@ fn primitive_link(f: &mut fmt::Formatter,\n             needs_termination = true;\n         }\n         Some(&cnum) => {\n-            let path = &m.paths[&ast::DefId {\n+            let path = &m.paths[ast::DefId {\n                 krate: cnum,\n                 node: ast::CRATE_NODE_ID,\n             }];\n-            let loc = match m.extern_locations[&cnum] {\n+            let loc = match m.extern_locations[cnum] {\n                 render::Remote(ref s) => Some(s.to_string()),\n                 render::Local => {\n                     let len = CURRENT_LOCATION_KEY.with(|s| s.borrow().len());"}, {"sha": "28dfe8dca7d38c985f9dd8bcb0fa8eb918bea0c2", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/492f07bbda5cfd521606d1c5540855a8789659ad/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/492f07bbda5cfd521606d1c5540855a8789659ad/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=492f07bbda5cfd521606d1c5540855a8789659ad", "patch": "@@ -1409,8 +1409,8 @@ impl<'a> Item<'a> {\n         // located, then we return `None`.\n         } else {\n             let cache = cache();\n-            let path = &cache.external_paths[&self.item.def_id];\n-            let root = match cache.extern_locations[&self.item.def_id.krate] {\n+            let path = &cache.external_paths[self.item.def_id];\n+            let root = match cache.extern_locations[self.item.def_id.krate] {\n                 Remote(ref s) => s.to_string(),\n                 Local => self.cx.root_path.clone(),\n                 Unknown => return None,\n@@ -1868,7 +1868,7 @@ fn item_trait(w: &mut fmt::Formatter, cx: &Context, it: &clean::Item,\n                 path = if ast_util::is_local(it.def_id) {\n                     cx.current.connect(\"/\")\n                 } else {\n-                    let path = &cache.external_paths[&it.def_id];\n+                    let path = &cache.external_paths[it.def_id];\n                     path[..path.len() - 1].connect(\"/\")\n                 },\n                 ty = shortty(it).to_static_str(),"}, {"sha": "d53954b29b585422bc3305b821476fa41e8e45e8", "filename": "src/librustdoc/visit_ast.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/492f07bbda5cfd521606d1c5540855a8789659ad/src%2Flibrustdoc%2Fvisit_ast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/492f07bbda5cfd521606d1c5540855a8789659ad/src%2Flibrustdoc%2Fvisit_ast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fvisit_ast.rs?ref=492f07bbda5cfd521606d1c5540855a8789659ad", "patch": "@@ -196,7 +196,7 @@ impl<'a, 'tcx> RustdocVisitor<'a, 'tcx> {\n             Some(tcx) => tcx,\n             None => return false\n         };\n-        let def = tcx.def_map.borrow()[&id].def_id();\n+        let def = tcx.def_map.borrow()[id].def_id();\n         if !ast_util::is_local(def) { return false }\n         let analysis = match self.analysis {\n             Some(analysis) => analysis, None => return false"}]}