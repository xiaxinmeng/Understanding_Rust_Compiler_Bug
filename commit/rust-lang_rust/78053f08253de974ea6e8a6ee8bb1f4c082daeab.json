{"sha": "78053f08253de974ea6e8a6ee8bb1f4c082daeab", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc4MDUzZjA4MjUzZGU5NzRlYTZlOGE2ZWU4YmIxZjRjMDgyZGFlYWI=", "commit": {"author": {"name": "bachm", "email": "Ab@vapor.com", "date": "2014-06-08T15:05:32Z"}, "committer": {"name": "bachm", "email": "Ab@vapor.com", "date": "2014-06-13T07:55:36Z"}, "message": "added get_mut() for [T]", "tree": {"sha": "ba6d35bc8bcd5d990b075239a93705f7789e66ff", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ba6d35bc8bcd5d990b075239a93705f7789e66ff"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/78053f08253de974ea6e8a6ee8bb1f4c082daeab", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/78053f08253de974ea6e8a6ee8bb1f4c082daeab", "html_url": "https://github.com/rust-lang/rust/commit/78053f08253de974ea6e8a6ee8bb1f4c082daeab", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/78053f08253de974ea6e8a6ee8bb1f4c082daeab/comments", "author": null, "committer": null, "parents": [{"sha": "5d9bceb1440b6bb5759bc3c1e5ad2170a199d0ce", "url": "https://api.github.com/repos/rust-lang/rust/commits/5d9bceb1440b6bb5759bc3c1e5ad2170a199d0ce", "html_url": "https://github.com/rust-lang/rust/commit/5d9bceb1440b6bb5759bc3c1e5ad2170a199d0ce"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "ff00ca58e8c7668b014105a3c0eaeb388bf37c36", "filename": "src/libcollections/slice.rs", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/78053f08253de974ea6e8a6ee8bb1f4c082daeab/src%2Flibcollections%2Fslice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/78053f08253de974ea6e8a6ee8bb1f4c082daeab/src%2Flibcollections%2Fslice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcollections%2Fslice.rs?ref=78053f08253de974ea6e8a6ee8bb1f4c082daeab", "patch": "@@ -2034,6 +2034,16 @@ mod tests {\n         assert!(xs == [1,2,0,4,3,0,0,6,5,0]);\n     }\n \n+    #[test]\n+    fn test_get_mut() {\n+        let mut v = [0,1,2];\n+        assert_eq!(v.get_mut(3), None);\n+        v.get_mut(1).map(|e| *e = 7);\n+        assert_eq!(v[1], 7);\n+        let mut x = 2;\n+        assert_eq!(v.get_mut(2), Some(&mut x));\n+    }\n+\n     #[test]\n     fn test_mut_chunks() {\n         let mut v = [0u8, 1, 2, 3, 4, 5, 6];"}, {"sha": "bb24d53458c24044df6ebf82fdbcbb89a89ab03f", "filename": "src/libcore/slice.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/78053f08253de974ea6e8a6ee8bb1f4c082daeab/src%2Flibcore%2Fslice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/78053f08253de974ea6e8a6ee8bb1f4c082daeab/src%2Flibcore%2Fslice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fslice.rs?ref=78053f08253de974ea6e8a6ee8bb1f4c082daeab", "patch": "@@ -717,6 +717,9 @@ impl<'a, T: Ord> ImmutableOrdVector<T> for &'a [T] {\n /// Extension methods for vectors such that their elements are\n /// mutable.\n pub trait MutableVector<'a, T> {\n+    /// Returns a mutable reference to the element at the given index,\n+    /// or `None` if the index is out of bounds\n+    fn get_mut(self, index: uint) -> Option<&'a mut T>;\n     /// Work with `self` as a mut slice.\n     /// Primarily intended for getting a &mut [T] from a [T, ..N].\n     fn as_mut_slice(self) -> &'a mut [T];\n@@ -920,6 +923,11 @@ pub trait MutableVector<'a, T> {\n }\n \n impl<'a,T> MutableVector<'a, T> for &'a mut [T] {\n+    #[inline]\n+    fn get_mut(self, index: uint) -> Option<&'a mut T> {\n+        if index < self.len() { Some(&mut self[index]) } else { None }\n+    }\n+\n     #[inline]\n     fn as_mut_slice(self) -> &'a mut [T] { self }\n "}]}