{"sha": "aa73e29799456739128734b773d019c412d840c1", "node_id": "C_kwDOAAsO6NoAKGFhNzNlMjk3OTk0NTY3MzkxMjg3MzRiNzczZDAxOWM0MTJkODQwYzE", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-11-23T14:05:50Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-11-23T14:08:00Z"}, "message": "Improve accessibility:\n * Set aria-label attribute on search input\n * Put anchor text directly into the DOM and not in the CSS", "tree": {"sha": "37d18dbead77f3abbafe9ea25496a6f5ac43f663", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/37d18dbead77f3abbafe9ea25496a6f5ac43f663"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/aa73e29799456739128734b773d019c412d840c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/aa73e29799456739128734b773d019c412d840c1", "html_url": "https://github.com/rust-lang/rust/commit/aa73e29799456739128734b773d019c412d840c1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/aa73e29799456739128734b773d019c412d840c1/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4e0d0d757e2f1b61ec809420b006545a9f8974c0", "url": "https://api.github.com/repos/rust-lang/rust/commits/4e0d0d757e2f1b61ec809420b006545a9f8974c0", "html_url": "https://github.com/rust-lang/rust/commit/4e0d0d757e2f1b61ec809420b006545a9f8974c0"}], "stats": {"total": 34, "additions": 16, "deletions": 18}, "files": [{"sha": "ef28e2a855a04cc353c849c6d6ab18e982cf02d7", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/aa73e29799456739128734b773d019c412d840c1/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aa73e29799456739128734b773d019c412d840c1/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=aa73e29799456739128734b773d019c412d840c1", "patch": "@@ -1071,7 +1071,7 @@ fn write_impl_section_heading(w: &mut Buffer, title: &str, id: &str) {\n         w,\n         \"<h2 id=\\\"{id}\\\" class=\\\"small-section-header\\\">\\\n             {title}\\\n-            <a href=\\\"#{id}\\\" class=\\\"anchor\\\"></a>\\\n+            <a href=\\\"#{id}\\\" class=\\\"anchor\\\">\u00a7</a>\\\n          </h2>\"\n     );\n }\n@@ -1536,7 +1536,7 @@ fn render_impl(\n                     render_rightside(w, cx, item, containing_item, render_mode);\n                     if trait_.is_some() {\n                         // Anchors are only used on trait impls.\n-                        write!(w, \"<a href=\\\"#{}\\\" class=\\\"anchor\\\"></a>\", id);\n+                        write!(w, \"<a href=\\\"#{}\\\" class=\\\"anchor\\\">\u00a7</a>\", id);\n                     }\n                     w.write_str(\"<h4 class=\\\"code-header\\\">\");\n                     render_assoc_item(\n@@ -1562,7 +1562,7 @@ fn render_impl(\n                 render_rightside(w, cx, item, containing_item, render_mode);\n                 if trait_.is_some() {\n                     // Anchors are only used on trait impls.\n-                    write!(w, \"<a href=\\\"#{}\\\" class=\\\"anchor\\\"></a>\", id);\n+                    write!(w, \"<a href=\\\"#{}\\\" class=\\\"anchor\\\">\u00a7</a>\", id);\n                 }\n                 w.write_str(\"<h4 class=\\\"code-header\\\">\");\n                 assoc_const(\n@@ -1587,7 +1587,7 @@ fn render_impl(\n                 write!(w, \"<section id=\\\"{}\\\" class=\\\"{}{}\\\">\", id, item_type, in_trait_class);\n                 if trait_.is_some() {\n                     // Anchors are only used on trait impls.\n-                    write!(w, \"<a href=\\\"#{}\\\" class=\\\"anchor\\\"></a>\", id);\n+                    write!(w, \"<a href=\\\"#{}\\\" class=\\\"anchor\\\">\u00a7</a>\", id);\n                 }\n                 w.write_str(\"<h4 class=\\\"code-header\\\">\");\n                 assoc_type(\n@@ -1613,7 +1613,7 @@ fn render_impl(\n                 );\n                 if trait_.is_some() {\n                     // Anchors are only used on trait impls.\n-                    write!(w, \"<a href=\\\"#{}\\\" class=\\\"anchor\\\"></a>\", id);\n+                    write!(w, \"<a href=\\\"#{}\\\" class=\\\"anchor\\\">\u00a7</a>\", id);\n                 }\n                 w.write_str(\"<h4 class=\\\"code-header\\\">\");\n                 assoc_type(\n@@ -1846,7 +1846,7 @@ pub(crate) fn render_impl_summary(\n     };\n     write!(w, \"<section id=\\\"{}\\\" class=\\\"impl has-srclink\\\"{}>\", id, aliases);\n     render_rightside(w, cx, &i.impl_item, containing_item, RenderMode::Normal);\n-    write!(w, \"<a href=\\\"#{}\\\" class=\\\"anchor\\\"></a>\", id);\n+    write!(w, \"<a href=\\\"#{}\\\" class=\\\"anchor\\\">\u00a7</a>\", id);\n     write!(w, \"<h3 class=\\\"code-header\\\">\");\n \n     if let Some(use_absolute) = use_absolute {"}, {"sha": "0f9b3b15c77ff15ce58acb69ec5e8c7d72797914", "filename": "src/librustdoc/html/render/print_item.rs", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/aa73e29799456739128734b773d019c412d840c1/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/aa73e29799456739128734b773d019c412d840c1/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs?ref=aa73e29799456739128734b773d019c412d840c1", "patch": "@@ -717,7 +717,7 @@ fn item_trait(w: &mut Buffer, cx: &mut Context<'_>, it: &clean::Item, t: &clean:\n         write!(\n             w,\n             \"<h2 id=\\\"{0}\\\" class=\\\"small-section-header\\\">\\\n-                {1}<a href=\\\"#{0}\\\" class=\\\"anchor\\\"></a>\\\n+                {1}<a href=\\\"#{0}\\\" class=\\\"anchor\\\">\u00a7</a>\\\n              </h2>{2}\",\n             id, title, extra_content\n         )\n@@ -1147,7 +1147,7 @@ fn item_union(w: &mut Buffer, cx: &mut Context<'_>, it: &clean::Item, s: &clean:\n         write!(\n             w,\n             \"<h2 id=\\\"fields\\\" class=\\\"fields small-section-header\\\">\\\n-                Fields<a href=\\\"#fields\\\" class=\\\"anchor\\\"></a>\\\n+                Fields<a href=\\\"#fields\\\" class=\\\"anchor\\\">\u00a7</a>\\\n             </h2>\"\n         );\n         for (field, ty) in fields {\n@@ -1156,7 +1156,7 @@ fn item_union(w: &mut Buffer, cx: &mut Context<'_>, it: &clean::Item, s: &clean:\n             write!(\n                 w,\n                 \"<span id=\\\"{id}\\\" class=\\\"{shortty} small-section-header\\\">\\\n-                     <a href=\\\"#{id}\\\" class=\\\"anchor field\\\"></a>\\\n+                     <a href=\\\"#{id}\\\" class=\\\"anchor field\\\">\u00a7</a>\\\n                      <code>{name}: {ty}</code>\\\n                  </span>\",\n                 id = id,\n@@ -1262,7 +1262,7 @@ fn item_enum(w: &mut Buffer, cx: &mut Context<'_>, it: &clean::Item, e: &clean::\n         write!(\n             w,\n             \"<h2 id=\\\"variants\\\" class=\\\"variants small-section-header\\\">\\\n-                Variants{}<a href=\\\"#variants\\\" class=\\\"anchor\\\"></a>\\\n+                Variants{}<a href=\\\"#variants\\\" class=\\\"anchor\\\">\u00a7</a>\\\n             </h2>\",\n             document_non_exhaustive_header(it)\n         );\n@@ -1273,7 +1273,7 @@ fn item_enum(w: &mut Buffer, cx: &mut Context<'_>, it: &clean::Item, e: &clean::\n             write!(\n                 w,\n                 \"<section id=\\\"{id}\\\" class=\\\"variant\\\">\\\n-                    <a href=\\\"#{id}\\\" class=\\\"anchor\\\"></a>\",\n+                    <a href=\\\"#{id}\\\" class=\\\"anchor\\\">\u00a7</a>\",\n                 id = id,\n             );\n             render_stability_since_raw_with_extra(\n@@ -1325,7 +1325,7 @@ fn item_enum(w: &mut Buffer, cx: &mut Context<'_>, it: &clean::Item, e: &clean::\n                                 w,\n                                 \"<div class=\\\"sub-variant-field\\\">\\\n                                  <span id=\\\"{id}\\\" class=\\\"small-section-header\\\">\\\n-                                     <a href=\\\"#{id}\\\" class=\\\"anchor field\\\"></a>\\\n+                                     <a href=\\\"#{id}\\\" class=\\\"anchor field\\\">\u00a7</a>\\\n                                      <code>{f}:&nbsp;{t}</code>\\\n                                  </span>\",\n                                 id = id,\n@@ -1477,7 +1477,7 @@ fn item_struct(w: &mut Buffer, cx: &mut Context<'_>, it: &clean::Item, s: &clean\n             write!(\n                 w,\n                 \"<h2 id=\\\"fields\\\" class=\\\"fields small-section-header\\\">\\\n-                     {}{}<a href=\\\"#fields\\\" class=\\\"anchor\\\"></a>\\\n+                     {}{}<a href=\\\"#fields\\\" class=\\\"anchor\\\">\u00a7</a>\\\n                  </h2>\",\n                 if s.ctor_kind.is_none() { \"Fields\" } else { \"Tuple Fields\" },\n                 document_non_exhaustive_header(it)\n@@ -1490,7 +1490,7 @@ fn item_struct(w: &mut Buffer, cx: &mut Context<'_>, it: &clean::Item, s: &clean\n                 write!(\n                     w,\n                     \"<span id=\\\"{id}\\\" class=\\\"{item_type} small-section-header\\\">\\\n-                         <a href=\\\"#{id}\\\" class=\\\"anchor field\\\"></a>\\\n+                         <a href=\\\"#{id}\\\" class=\\\"anchor field\\\">\u00a7</a>\\\n                          <code>{name}: {ty}</code>\\\n                      </span>\",\n                     item_type = ItemType::StructField,\n@@ -1908,7 +1908,7 @@ fn document_type_layout(w: &mut Buffer, cx: &Context<'_>, ty_def_id: DefId) {\n     writeln!(\n         w,\n         \"<h2 id=\\\"layout\\\" class=\\\"small-section-header\\\"> \\\n-        Layout<a href=\\\"#layout\\\" class=\\\"anchor\\\"></a></h2>\"\n+        Layout<a href=\\\"#layout\\\" class=\\\"anchor\\\">\u00a7</a></h2>\"\n     );\n     writeln!(w, \"<div class=\\\"docblock\\\">\");\n "}, {"sha": "5c7ac27b4e79bb69df0715dc288ef0650ca8ef2c", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/aa73e29799456739128734b773d019c412d840c1/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/aa73e29799456739128734b773d019c412d840c1/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=aa73e29799456739128734b773d019c412d840c1", "patch": "@@ -728,9 +728,6 @@ a {\n h2.small-section-header > .anchor {\n \tpadding-right: 6px;\n }\n-.anchor::before {\n-\tcontent: '\u00a7';\n-}\n \n .main-heading a:hover,\n .example-wrap > pre.rust a:hover,"}, {"sha": "aa3bf827db4bf5d0c60ab36e98c133105fef4040", "filename": "src/librustdoc/html/templates/page.html", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/aa73e29799456739128734b773d019c412d840c1/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "raw_url": "https://github.com/rust-lang/rust/raw/aa73e29799456739128734b773d019c412d840c1/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Ftemplates%2Fpage.html?ref=aa73e29799456739128734b773d019c412d840c1", "patch": "@@ -115,6 +115,7 @@ <h2></h2> {#- -#}\n                     <input {# -#}\n                         class=\"search-input\" {# -#}\n                         name=\"search\" {# -#}\n+                        aria-label=\"Run search in the documentation\" {# -#}\n                         autocomplete=\"off\" {# -#}\n                         spellcheck=\"false\" {# -#}\n                         placeholder=\"Click or press \u2018S\u2019 to search, \u2018?\u2019 for more options\u2026\" {# -#}"}]}