{"sha": "e2efcf10de7569f6b441be662b350b4f0a7de34d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUyZWZjZjEwZGU3NTY5ZjZiNDQxYmU2NjJiMzUwYjRmMGE3ZGUzNGQ=", "commit": {"author": {"name": "Stefan Schindler", "email": "dns2utf8@estada.ch", "date": "2021-06-16T14:16:11Z"}, "committer": {"name": "Stefan Schindler", "email": "dns2utf8@estada.ch", "date": "2021-06-24T14:46:15Z"}, "message": "Fixing the test rustdoc by ignoring `*[@id=\"module-item\"]//following-sibling::item-right` relationship and rustdoc-gui", "tree": {"sha": "69eb121a087f096aac85cc701e943e014a42593d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/69eb121a087f096aac85cc701e943e014a42593d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e2efcf10de7569f6b441be662b350b4f0a7de34d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e2efcf10de7569f6b441be662b350b4f0a7de34d", "html_url": "https://github.com/rust-lang/rust/commit/e2efcf10de7569f6b441be662b350b4f0a7de34d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e2efcf10de7569f6b441be662b350b4f0a7de34d/comments", "author": {"login": "dns2utf8", "id": 739070, "node_id": "MDQ6VXNlcjczOTA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/739070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dns2utf8", "html_url": "https://github.com/dns2utf8", "followers_url": "https://api.github.com/users/dns2utf8/followers", "following_url": "https://api.github.com/users/dns2utf8/following{/other_user}", "gists_url": "https://api.github.com/users/dns2utf8/gists{/gist_id}", "starred_url": "https://api.github.com/users/dns2utf8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dns2utf8/subscriptions", "organizations_url": "https://api.github.com/users/dns2utf8/orgs", "repos_url": "https://api.github.com/users/dns2utf8/repos", "events_url": "https://api.github.com/users/dns2utf8/events{/privacy}", "received_events_url": "https://api.github.com/users/dns2utf8/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dns2utf8", "id": 739070, "node_id": "MDQ6VXNlcjczOTA3MA==", "avatar_url": "https://avatars.githubusercontent.com/u/739070?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dns2utf8", "html_url": "https://github.com/dns2utf8", "followers_url": "https://api.github.com/users/dns2utf8/followers", "following_url": "https://api.github.com/users/dns2utf8/following{/other_user}", "gists_url": "https://api.github.com/users/dns2utf8/gists{/gist_id}", "starred_url": "https://api.github.com/users/dns2utf8/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dns2utf8/subscriptions", "organizations_url": "https://api.github.com/users/dns2utf8/orgs", "repos_url": "https://api.github.com/users/dns2utf8/repos", "events_url": "https://api.github.com/users/dns2utf8/events{/privacy}", "received_events_url": "https://api.github.com/users/dns2utf8/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6020c79ddeafe8d9760b27c14c39da81bac9b4a6", "url": "https://api.github.com/repos/rust-lang/rust/commits/6020c79ddeafe8d9760b27c14c39da81bac9b4a6", "html_url": "https://github.com/rust-lang/rust/commit/6020c79ddeafe8d9760b27c14c39da81bac9b4a6"}], "stats": {"total": 17, "additions": 9, "deletions": 8}, "files": [{"sha": "681520a1daf2d59d30839068180b7056e3d98457", "filename": "src/etc/htmldocck.py", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e2efcf10de7569f6b441be662b350b4f0a7de34d/src%2Fetc%2Fhtmldocck.py", "raw_url": "https://github.com/rust-lang/rust/raw/e2efcf10de7569f6b441be662b350b4f0a7de34d/src%2Fetc%2Fhtmldocck.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fhtmldocck.py?ref=e2efcf10de7569f6b441be662b350b4f0a7de34d", "patch": "@@ -365,6 +365,7 @@ def check_tree_attr(tree, path, attr, pat, regexp):\n \n def check_tree_text(tree, path, pat, regexp):\n     path = normalize_xpath(path)\n+    print(\"normalize_xpath -> {}\".format(path))\n     ret = False\n     try:\n         for e in tree.findall(path):"}, {"sha": "c8ebb8c56f5351657f3c0de218ccf7da6f1acd93", "filename": "src/test/rustdoc-gui/sidebar.goml", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/e2efcf10de7569f6b441be662b350b4f0a7de34d/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml", "raw_url": "https://github.com/rust-lang/rust/raw/e2efcf10de7569f6b441be662b350b4f0a7de34d/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Fsidebar.goml?ref=e2efcf10de7569f6b441be662b350b4f0a7de34d", "patch": "@@ -13,8 +13,8 @@ assert-text: (\".sidebar-elems > .items > ul > li:nth-child(4)\", \"Traits\")\n assert-text: (\".sidebar-elems > .items > ul > li:nth-child(5)\", \"Functions\")\n assert-text: (\".sidebar-elems > .items > ul > li:nth-child(6)\", \"Type Definitions\")\n assert-text: (\".sidebar-elems > .items > ul > li:nth-child(7)\", \"Keywords\")\n-assert-text: (\"#structs + table td > a\", \"Foo\")\n-click: \"#structs + table td > a\"\n+assert-text: (\"#structs + .item-table .item-left > a\", \"Foo\")\n+click: \"#structs + .item-table .item-left > a\"\n \n // PAGE: struct.Foo.html\n assert-count: (\".sidebar .location\", 2)\n@@ -35,8 +35,8 @@ assert-text: (\".sidebar-elems > .items > ul > li:nth-child(2)\", \"Structs\")\n assert-text: (\".sidebar-elems > .items > ul > li:nth-child(3)\", \"Traits\")\n assert-text: (\".sidebar-elems > .items > ul > li:nth-child(4)\", \"Functions\")\n assert-text: (\".sidebar-elems > .items > ul > li:nth-child(5)\", \"Type Definitions\")\n-assert-text: (\"#functions + table td > a\", \"foobar\")\n-click: \"#functions + table td > a\"\n+assert-text: (\"#functions + .item-table .item-left > a\", \"foobar\")\n+click: \"#functions + .item-table .item-left > a\"\n \n // PAGE: fn.foobar.html\n // In items containing no items (like functions or constants) and in modules, we have one\n@@ -57,4 +57,4 @@ assert-text: (\".sidebar > .location\", \"Module sub_sub_module\")\n // We check that we don't have the crate list.\n assert-false: \".sidebar-elems > .crate\"\n assert-text: (\".sidebar-elems > .items > ul > li:nth-child(1)\", \"Functions\")\n-assert-text: (\"#functions + table td > a\", \"foo\")\n+assert-text: (\"#functions + .item-table .item-left > a\", \"foo\")"}, {"sha": "13b7f0c19a7721f28509c7948f46de5796f4a084", "filename": "src/test/rustdoc/short-docblock-codeblock.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e2efcf10de7569f6b441be662b350b4f0a7de34d/src%2Ftest%2Frustdoc%2Fshort-docblock-codeblock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e2efcf10de7569f6b441be662b350b4f0a7de34d/src%2Ftest%2Frustdoc%2Fshort-docblock-codeblock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fshort-docblock-codeblock.rs?ref=e2efcf10de7569f6b441be662b350b4f0a7de34d", "patch": "@@ -1,8 +1,8 @@\n #![crate_name = \"foo\"]\n \n-// @has foo/index.html '//*[@class=\"module-item\"]//following-sibling::item-right[@class=\"docblock-short\"]' \"\"\n-// @!has foo/index.html '//*[@id=\"module-item\"]//following-sibling::item-right[@class=\"docblock-short\"]' \"Some text.\"\n-// @!has foo/index.html '//*[@id=\"module-item\"]//following-sibling::item-right[@class=\"docblock-short\"]' \"let x = 12;\"\n+// @has foo/index.html '//item-right[@class=\"docblock-short\"]' \"\"\n+// @!has foo/index.html '//item-right[@class=\"docblock-short\"]' \"Some text.\"\n+// @!has foo/index.html '//item-right[@class=\"docblock-short\"]' \"let x = 12;\"\n \n /// ```\n /// let x = 12;"}]}