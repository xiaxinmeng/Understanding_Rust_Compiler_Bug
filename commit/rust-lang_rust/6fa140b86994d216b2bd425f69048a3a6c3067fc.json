{"sha": "6fa140b86994d216b2bd425f69048a3a6c3067fc", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZmYTE0MGI4Njk5NGQyMTZiMmJkNDI1ZjY5MDQ4YTNhNmMzMDY3ZmM=", "commit": {"author": {"name": "Zack M. Davis", "email": "code@zackmdavis.net", "date": "2017-08-07T17:57:08Z"}, "committer": {"name": "Zack M. Davis", "email": "code@zackmdavis.net", "date": "2017-08-09T08:33:49Z"}, "message": "extended information for E0554 feature attributes only work on nightlies\n\nIt's more pleasing to use the inner-attribute syntax (`#!` rather than\n`#`) in the error message, as that is how `feature` attributes in\nparticular will be declared (as they apply to the entire crate).", "tree": {"sha": "868156d6bbc5817d463c5caec00795c4ed718627", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/868156d6bbc5817d463c5caec00795c4ed718627"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6fa140b86994d216b2bd425f69048a3a6c3067fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6fa140b86994d216b2bd425f69048a3a6c3067fc", "html_url": "https://github.com/rust-lang/rust/commit/6fa140b86994d216b2bd425f69048a3a6c3067fc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6fa140b86994d216b2bd425f69048a3a6c3067fc/comments", "author": {"login": "zackmdavis", "id": 1076988, "node_id": "MDQ6VXNlcjEwNzY5ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1076988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zackmdavis", "html_url": "https://github.com/zackmdavis", "followers_url": "https://api.github.com/users/zackmdavis/followers", "following_url": "https://api.github.com/users/zackmdavis/following{/other_user}", "gists_url": "https://api.github.com/users/zackmdavis/gists{/gist_id}", "starred_url": "https://api.github.com/users/zackmdavis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zackmdavis/subscriptions", "organizations_url": "https://api.github.com/users/zackmdavis/orgs", "repos_url": "https://api.github.com/users/zackmdavis/repos", "events_url": "https://api.github.com/users/zackmdavis/events{/privacy}", "received_events_url": "https://api.github.com/users/zackmdavis/received_events", "type": "User", "site_admin": false}, "committer": {"login": "zackmdavis", "id": 1076988, "node_id": "MDQ6VXNlcjEwNzY5ODg=", "avatar_url": "https://avatars.githubusercontent.com/u/1076988?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zackmdavis", "html_url": "https://github.com/zackmdavis", "followers_url": "https://api.github.com/users/zackmdavis/followers", "following_url": "https://api.github.com/users/zackmdavis/following{/other_user}", "gists_url": "https://api.github.com/users/zackmdavis/gists{/gist_id}", "starred_url": "https://api.github.com/users/zackmdavis/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zackmdavis/subscriptions", "organizations_url": "https://api.github.com/users/zackmdavis/orgs", "repos_url": "https://api.github.com/users/zackmdavis/repos", "events_url": "https://api.github.com/users/zackmdavis/events{/privacy}", "received_events_url": "https://api.github.com/users/zackmdavis/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "78d1442808fa318c782e7f8249dab27126254930", "url": "https://api.github.com/repos/rust-lang/rust/commits/78d1442808fa318c782e7f8249dab27126254930", "html_url": "https://github.com/rust-lang/rust/commit/78d1442808fa318c782e7f8249dab27126254930"}], "stats": {"total": 18, "additions": 16, "deletions": 2}, "files": [{"sha": "33dbc02d8691e7b1e51563211f141ab14e207b92", "filename": "src/libsyntax/diagnostic_list.rs", "status": "modified", "additions": 15, "deletions": 1, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/6fa140b86994d216b2bd425f69048a3a6c3067fc/src%2Flibsyntax%2Fdiagnostic_list.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6fa140b86994d216b2bd425f69048a3a6c3067fc/src%2Flibsyntax%2Fdiagnostic_list.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fdiagnostic_list.rs?ref=6fa140b86994d216b2bd425f69048a3a6c3067fc", "patch": "@@ -162,6 +162,21 @@ For more information about the cfg attribute, read:\n https://doc.rust-lang.org/reference.html#conditional-compilation\n \"##,\n \n+E0554: r##\"\n+Feature attributes are only allowed on the nightly release channel. Stable or\n+beta compilers will not comply.\n+\n+Example of erroneous code (on a stable compiler):\n+\n+```ignore (depends on release channel)\n+#![feature(non_ascii_idents)] // error: #![feature] may not be used on the\n+                              //        stable release channel\n+```\n+\n+If you need the feature, make sure to use a nightly release of the compiler\n+(but be warned that the feature may be removed or altered in the future).\n+\"##,\n+\n E0558: r##\"\n The `export_name` attribute was malformed.\n \n@@ -301,7 +316,6 @@ register_diagnostics! {\n     E0550, // multiple deprecated attributes\n     E0551, // incorrect meta item\n     E0552, // unrecognized representation hint\n-    E0554, // #[feature] may not be used on the [] release channel\n     E0555, // malformed feature attribute, expected #![feature(...)]\n     E0556, // malformed feature, expected just one word\n     E0557, // feature has been removed"}, {"sha": "aeb574bc3af3cea34236dd90cb533643afc20ddc", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6fa140b86994d216b2bd425f69048a3a6c3067fc/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6fa140b86994d216b2bd425f69048a3a6c3067fc/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=6fa140b86994d216b2bd425f69048a3a6c3067fc", "patch": "@@ -1602,7 +1602,7 @@ fn maybe_stage_features(span_handler: &Handler, krate: &ast::Crate,\n             if attr.check_name(\"feature\") {\n                 let release_channel = option_env!(\"CFG_RELEASE_CHANNEL\").unwrap_or(\"(unknown)\");\n                 span_err!(span_handler, attr.span, E0554,\n-                          \"#[feature] may not be used on the {} release channel\",\n+                          \"#![feature] may not be used on the {} release channel\",\n                           release_channel);\n             }\n         }"}]}