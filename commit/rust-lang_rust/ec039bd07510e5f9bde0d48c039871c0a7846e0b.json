{"sha": "ec039bd07510e5f9bde0d48c039871c0a7846e0b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVjMDM5YmQwNzUxMGU1ZjliZGUwZDQ4YzAzOTg3MWMwYTc4NDZlMGI=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-11-25T07:25:19Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2020-11-25T07:25:19Z"}, "message": "Auto merge of #79336 - camelid:rename-feature-oibit-to-auto, r=oli-obk\n\nRename `optin_builtin_traits` to `auto_traits`\n\nThey were originally called \"opt-in, built-in traits\" (OIBITs), but\npeople realized that the name was too confusing and a mouthful, and so\nthey were renamed to just \"auto traits\". The feature flag's name wasn't\nupdated, though, so that's what this PR does.\n\nThere are some other spots in the compiler that still refer to OIBITs,\nbut I don't think changing those now is worth it since they are internal\nand not particularly relevant to this PR.\n\nAlso see <https://rust-lang.zulipchat.com/#narrow/stream/131828-t-compiler/topic/opt-in.2C.20built-in.20traits.20(auto.20traits).20feature.20name>.\n\nr? `@oli-obk` (feel free to re-assign if you're not the right reviewer for this)", "tree": {"sha": "f2dad764d58461e9864d56db5573edb941b0cf8d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f2dad764d58461e9864d56db5573edb941b0cf8d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ec039bd07510e5f9bde0d48c039871c0a7846e0b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ec039bd07510e5f9bde0d48c039871c0a7846e0b", "html_url": "https://github.com/rust-lang/rust/commit/ec039bd07510e5f9bde0d48c039871c0a7846e0b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ec039bd07510e5f9bde0d48c039871c0a7846e0b/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b387f62d4d0e9aa109660c6ede426ec48cb67d53", "url": "https://api.github.com/repos/rust-lang/rust/commits/b387f62d4d0e9aa109660c6ede426ec48cb67d53", "html_url": "https://github.com/rust-lang/rust/commit/b387f62d4d0e9aa109660c6ede426ec48cb67d53"}, {"sha": "82dc99ba7aca7880acc0e823f31e9ba5da518e88", "url": "https://api.github.com/repos/rust-lang/rust/commits/82dc99ba7aca7880acc0e823f31e9ba5da518e88", "html_url": "https://github.com/rust-lang/rust/commit/82dc99ba7aca7880acc0e823f31e9ba5da518e88"}], "stats": {"total": 180, "additions": 98, "deletions": 82}, "files": [{"sha": "5b75fbf339b92b07be0fc20d91e9dbfb88e1ecf6", "filename": "compiler/rustc_ast_passes/src/feature_gate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_ast_passes%2Fsrc%2Ffeature_gate.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -370,7 +370,7 @@ impl<'a> Visitor<'a> for PostExpansionVisitor<'a> {\n             ast::ItemKind::Trait(ast::IsAuto::Yes, ..) => {\n                 gate_feature_post!(\n                     &self,\n-                    optin_builtin_traits,\n+                    auto_traits,\n                     i.span,\n                     \"auto traits are experimental and possibly buggy\"\n                 );"}, {"sha": "10cba992056292c515319787ae13bcd05e673401", "filename": "compiler/rustc_codegen_cranelift/example/mini_core.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_codegen_cranelift%2Fexample%2Fmini_core.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_codegen_cranelift%2Fexample%2Fmini_core.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_cranelift%2Fexample%2Fmini_core.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,6 +1,6 @@\n #![feature(\n     no_core, lang_items, intrinsics, unboxed_closures, type_ascription, extern_types,\n-    untagged_unions, decl_macro, rustc_attrs, transparent_unions, optin_builtin_traits,\n+    untagged_unions, decl_macro, rustc_attrs, transparent_unions, auto_traits,\n     thread_local,\n )]\n #![no_core]"}, {"sha": "d903a557c7fdf692b16702002b3727ceefd138a4", "filename": "compiler/rustc_data_structures/src/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_data_structures%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_data_structures%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_data_structures%2Fsrc%2Flib.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -15,7 +15,8 @@\n #![feature(fn_traits)]\n #![feature(int_bits_const)]\n #![feature(min_specialization)]\n-#![feature(optin_builtin_traits)]\n+#![cfg_attr(bootstrap, feature(optin_builtin_traits))]\n+#![cfg_attr(not(bootstrap), feature(auto_traits))]\n #![feature(nll)]\n #![feature(allow_internal_unstable)]\n #![feature(hash_raw_entry)]"}, {"sha": "1238165cb88d4f4621992b99c5c9a7f9d9100751", "filename": "compiler/rustc_error_codes/src/error_codes/E0198.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0198.md", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0198.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0198.md?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -16,7 +16,7 @@ unsafe.\n This will compile:\n \n ```ignore (ignore auto_trait future compatibility warning)\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n struct Foo;\n "}, {"sha": "bcfc12897c5c391762ae263fd2bf43cb10c0925c", "filename": "compiler/rustc_error_codes/src/error_codes/E0321.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0321.md", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0321.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0321.md?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -4,7 +4,7 @@ or enum type.\n Erroneous code example:\n \n ```compile_fail,E0321\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n struct Foo;\n "}, {"sha": "bc13ee4c04cb2af742ea4c9b7687585bace6feb7", "filename": "compiler/rustc_error_codes/src/error_codes/E0567.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0567.md", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0567.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0567.md?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -3,7 +3,7 @@ Generics have been used on an auto trait.\n Erroneous code example:\n \n ```compile_fail,E0567\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n auto trait Generic<T> {} // error!\n # fn main() {}\n@@ -16,7 +16,7 @@ parameters.\n To fix this issue, just remove the generics:\n \n ```\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n auto trait Generic {} // ok!\n # fn main() {}"}, {"sha": "17b3f5e31bdf91b817f5ca9603746cd0ecb9aa74", "filename": "compiler/rustc_error_codes/src/error_codes/E0568.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0568.md", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0568.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0568.md?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -3,7 +3,7 @@ A super trait has been added to an auto trait.\n Erroneous code example:\n \n ```compile_fail,E0568\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n auto trait Bound : Copy {} // error!\n \n@@ -18,7 +18,7 @@ all the existing types could implement `Bound` because very few of them have the\n To fix this issue, just remove the super trait:\n \n ```\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n auto trait Bound {} // ok!\n "}, {"sha": "75337634d3fda8ef90ed0697835e4551b5ecb59a", "filename": "compiler/rustc_feature/src/active.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_feature%2Fsrc%2Factive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Factive.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -149,9 +149,6 @@ declare_features! (\n     /// Allows using the `#[linkage = \"..\"]` attribute.\n     (active, linkage, \"1.0.0\", Some(29603), None),\n \n-    /// Allows features specific to OIBIT (auto traits).\n-    (active, optin_builtin_traits, \"1.0.0\", Some(13231), None),\n-\n     /// Allows using `box` in patterns (RFC 469).\n     (active, box_patterns, \"1.0.0\", Some(29641), None),\n \n@@ -215,6 +212,10 @@ declare_features! (\n     /// purpose as `#[allow_internal_unstable]`.\n     (active, rustc_allow_const_fn_unstable, \"1.49.0\", Some(69399), None),\n \n+    /// Allows features specific to auto traits.\n+    /// Renamed from `optin_builtin_traits`.\n+    (active, auto_traits, \"1.50.0\", Some(13231), None),\n+\n     // no-tracking-issue-end\n \n     // -------------------------------------------------------------------------"}, {"sha": "07bd1602cda325af18b5c5266af147d85befc9e1", "filename": "compiler/rustc_feature/src/removed.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_feature%2Fsrc%2Fremoved.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_feature%2Fsrc%2Fremoved.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_feature%2Fsrc%2Fremoved.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -71,6 +71,10 @@ declare_features! (\n     /// Allows using custom attributes (RFC 572).\n     (removed, custom_attribute, \"1.0.0\", Some(29642), None,\n      Some(\"removed in favor of `#![register_tool]` and `#![register_attr]`\")),\n+    /// Allows features specific to OIBIT (now called auto traits).\n+    /// Renamed to `auto_traits`.\n+    (removed, optin_builtin_traits, \"1.0.0\", Some(13231), None,\n+     Some(\"renamed to `auto_traits`\")),\n     (removed, pushpop_unsafe, \"1.2.0\", None, None, None),\n     (removed, needs_allocator, \"1.4.0\", Some(27389), None,\n      Some(\"subsumed by `#![feature(allocator_internals)]`\")),\n@@ -113,7 +117,6 @@ declare_features! (\n      Some(\"removed in favor of `#![feature(marker_trait_attr)]`\")),\n     /// Allows `#[no_debug]`.\n     (removed, no_debug, \"1.43.0\", Some(29721), None, Some(\"removed due to lack of demand\")),\n-\n     /// Allows comparing raw pointers during const eval.\n     (removed, const_compare_raw_pointers, \"1.46.0\", Some(53020), None,\n      Some(\"cannot be allowed in const eval in any meaningful way\")),"}, {"sha": "814f91b04310f5c98dd6347701e79e5c952a5a03", "filename": "compiler/rustc_middle/src/mir/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Fmir%2Fmod.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -811,7 +811,7 @@ pub struct LocalDecl<'tcx> {\n     /// after typeck.\n     ///\n     /// This should be sound because the drop flags are fully algebraic, and\n-    /// therefore don't affect the OIBIT or outlives properties of the\n+    /// therefore don't affect the auto-trait or outlives properties of the\n     /// generator.\n     pub internal: bool,\n "}, {"sha": "0a663f793aa753cc8cf84404e2d20f97d12e0708", "filename": "compiler/rustc_middle/src/traits/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_middle%2Fsrc%2Ftraits%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_middle%2Fsrc%2Ftraits%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_middle%2Fsrc%2Ftraits%2Fmod.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -71,7 +71,7 @@ pub enum Reveal {\n     /// be observable directly by the user, `Reveal::All`\n     /// should not be used by checks which may expose\n     /// type equality or type contents to the user.\n-    /// There are some exceptions, e.g., around OIBITS and\n+    /// There are some exceptions, e.g., around auto traits and\n     /// transmute-checking, which expose some details, but\n     /// not the whole concrete type of the `impl Trait`.\n     All,"}, {"sha": "7c34b996055d3e214f4091b9324fdf2c566b85fa", "filename": "compiler/rustc_mir_build/src/build/expr/as_rvalue.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_mir_build%2Fsrc%2Fbuild%2Fexpr%2Fas_rvalue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_mir_build%2Fsrc%2Fbuild%2Fexpr%2Fas_rvalue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_build%2Fsrc%2Fbuild%2Fexpr%2Fas_rvalue.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -96,7 +96,7 @@ impl<'a, 'tcx> Builder<'a, 'tcx> {\n             ExprKind::Box { value } => {\n                 let value = this.hir.mirror(value);\n                 // The `Box<T>` temporary created here is not a part of the HIR,\n-                // and therefore is not considered during generator OIBIT\n+                // and therefore is not considered during generator auto-trait\n                 // determination. See the comment about `box` at `yield_in_scope`.\n                 let result = this.local_decls.push(LocalDecl::new(expr.ty, expr_span).internal());\n                 this.cfg.push("}, {"sha": "d5fccdeb189cc04007dfe7cea3f5f56e4c2713ce", "filename": "compiler/rustc_span/src/symbol.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -285,6 +285,7 @@ symbols! {\n         attr_literals,\n         attributes,\n         augmented_assignments,\n+        auto_traits,\n         automatically_derived,\n         avx512_target_feature,\n         await_macro,"}, {"sha": "3ac34c9ae28af271afe810bc5b357c5cd4604ddb", "filename": "library/alloc/src/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Falloc%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Falloc%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Flib.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -112,7 +112,8 @@\n #![feature(never_type)]\n #![feature(nll)]\n #![feature(nonnull_slice_from_raw_parts)]\n-#![feature(optin_builtin_traits)]\n+#![cfg_attr(bootstrap, feature(optin_builtin_traits))]\n+#![cfg_attr(not(bootstrap), feature(auto_traits))]\n #![feature(or_patterns)]\n #![feature(pattern)]\n #![feature(ptr_internals)]"}, {"sha": "e3b004be39afb4cd65b532f04d162598135db10a", "filename": "library/core/src/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Fcore%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Fcore%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fcore%2Fsrc%2Flib.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -117,7 +117,8 @@\n #![feature(nll)]\n #![feature(exhaustive_patterns)]\n #![feature(no_core)]\n-#![feature(optin_builtin_traits)]\n+#![cfg_attr(bootstrap, feature(optin_builtin_traits))]\n+#![cfg_attr(not(bootstrap), feature(auto_traits))]\n #![feature(or_patterns)]\n #![feature(prelude_import)]\n #![feature(repr_simd, platform_intrinsics)]"}, {"sha": "ca40293ed58214abacbe24e1688a5d0dd53ffa26", "filename": "library/proc_macro/src/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Fproc_macro%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Fproc_macro%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fproc_macro%2Fsrc%2Flib.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -28,7 +28,8 @@\n #![feature(extern_types)]\n #![feature(in_band_lifetimes)]\n #![feature(negative_impls)]\n-#![feature(optin_builtin_traits)]\n+#![cfg_attr(bootstrap, feature(optin_builtin_traits))]\n+#![cfg_attr(not(bootstrap), feature(auto_traits))]\n #![feature(restricted_std)]\n #![feature(rustc_attrs)]\n #![feature(min_specialization)]"}, {"sha": "b64f13dba4c2ea751b9bd404e827f69cb05469bf", "filename": "library/rtstartup/rsbegin.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Frtstartup%2Frsbegin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Frtstartup%2Frsbegin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Frtstartup%2Frsbegin.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -9,10 +9,13 @@\n // headers or footers.\n //\n // Note that the actual module entry point is located in the C runtime startup\n-// object (usually called `crtX.o), which then invokes initialization callbacks\n+// object (usually called `crtX.o`), which then invokes initialization callbacks\n // of other runtime components (registered via yet another special image section).\n \n-#![feature(no_core, lang_items, optin_builtin_traits)]\n+#![feature(no_core)]\n+#![feature(lang_items)]\n+#![cfg_attr(bootstrap, feature(optin_builtin_traits))]\n+#![cfg_attr(not(bootstrap), feature(auto_traits))]\n #![crate_type = \"rlib\"]\n #![no_core]\n #![allow(non_camel_case_types)]"}, {"sha": "18ee7c19ba0f9a89ba694c955142b089aa849cbf", "filename": "library/rtstartup/rsend.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Frtstartup%2Frsend.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Frtstartup%2Frsend.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Frtstartup%2Frsend.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,6 +1,9 @@\n // See rsbegin.rs for details.\n \n-#![feature(no_core, lang_items, optin_builtin_traits)]\n+#![feature(no_core)]\n+#![feature(lang_items)]\n+#![cfg_attr(bootstrap, feature(optin_builtin_traits))]\n+#![cfg_attr(not(bootstrap), feature(auto_traits))]\n #![crate_type = \"rlib\"]\n #![no_core]\n "}, {"sha": "f33804c988a1a259088ec0d594401f71c1ff7176", "filename": "library/std/src/lib.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Fstd%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/library%2Fstd%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Flib.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -286,7 +286,8 @@\n #![feature(nll)]\n #![feature(nonnull_slice_from_raw_parts)]\n #![feature(once_cell)]\n-#![feature(optin_builtin_traits)]\n+#![cfg_attr(bootstrap, feature(optin_builtin_traits))]\n+#![cfg_attr(not(bootstrap), feature(auto_traits))]\n #![feature(or_patterns)]\n #![feature(panic_info_message)]\n #![feature(panic_internals)]"}, {"sha": "0ca6dd6670bc47bf97fc18e53a4cc9690b4868a1", "filename": "src/doc/unstable-book/src/language-features/auto-traits.md", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fauto-traits.md", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fauto-traits.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fauto-traits.md?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,12 +1,12 @@\n-# `optin_builtin_traits`\n+# `auto_traits`\n \n The tracking issue for this feature is [#13231] \n \n [#13231]: https://github.com/rust-lang/rust/issues/13231\n \n ----\n \n-The `optin_builtin_traits` feature gate allows you to define auto traits.\n+The `auto_traits` feature gate allows you to define auto traits.\n \n Auto traits, like [`Send`] or [`Sync`] in the standard library, are marker traits\n that are automatically implemented for every type, unless the type, or a type it contains, \n@@ -24,7 +24,7 @@ Example:\n \n ```rust\n #![feature(negative_impls)]\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n auto trait Valid {}\n ", "previous_filename": "src/doc/unstable-book/src/language-features/optin-builtin-traits.md"}, {"sha": "61644e7df09ae5f64304666f7ed1c82b3d637906", "filename": "src/test/pretty/auto-trait.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fpretty%2Fauto-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fpretty%2Fauto-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fpretty%2Fauto-trait.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n // pp-exact\n "}, {"sha": "717da367feec559e19d4e26245642e686f3cd449", "filename": "src/test/run-make-fulldeps/simd-ffi/simd.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frun-make-fulldeps%2Fsimd-ffi%2Fsimd.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frun-make-fulldeps%2Fsimd-ffi%2Fsimd.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Fsimd-ffi%2Fsimd.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -2,7 +2,7 @@\n #![crate_type = \"lib\"]\n // we can compile to a variety of platforms, because we don't need\n // cross-compiled standard libraries.\n-#![feature(no_core, optin_builtin_traits)]\n+#![feature(no_core, auto_traits)]\n #![no_core]\n #![feature(repr_simd, simd_ffi, link_llvm_intrinsics, lang_items, rustc_attrs)]\n "}, {"sha": "ee443eb0aa32bbf6fe426a97d02fe7c1f0da5a13", "filename": "src/test/run-make-fulldeps/target-specs/foo.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frun-make-fulldeps%2Ftarget-specs%2Ffoo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frun-make-fulldeps%2Ftarget-specs%2Ffoo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-make-fulldeps%2Ftarget-specs%2Ffoo.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(lang_items, no_core, optin_builtin_traits)]\n+#![feature(lang_items, no_core, auto_traits)]\n #![no_core]\n \n #[lang=\"copy\"]"}, {"sha": "93d4bf2f656a3262a86d25a6ffe05adc7a1faedd", "filename": "src/test/rustdoc/auto-traits.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fauto-traits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fauto-traits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fauto-traits.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,6 +1,6 @@\n // aux-build:auto-traits.rs\n \n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n #![crate_name = \"foo\"]\n "}, {"sha": "b8f3527510cc99fe587d959fb44ca592e2df5a2d", "filename": "src/test/rustdoc/auto_aliases.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fauto_aliases.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fauto_aliases.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fauto_aliases.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n // @has auto_aliases/trait.Bar.html '//h3[@aliases=\"auto_aliases::Foo\"]' 'impl Bar for Foo'\n pub struct Foo;"}, {"sha": "84976c73beed525e2fc37eb17b329ae52204c719", "filename": "src/test/rustdoc/auxiliary/auto-traits.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fauxiliary%2Fauto-traits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fauxiliary%2Fauto-traits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fauxiliary%2Fauto-traits.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,3 +1,3 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n pub unsafe auto trait Bar {}"}, {"sha": "032db3b25e673c5c8cf5d8c4f52766676c237bb3", "filename": "src/test/rustdoc/auxiliary/rustdoc-default-impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fauxiliary%2Frustdoc-default-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fauxiliary%2Frustdoc-default-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fauxiliary%2Frustdoc-default-impl.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n pub mod bar {\n     use std::marker;"}, {"sha": "135987fc00d517333ca3ef5d846223b76b44c572", "filename": "src/test/rustdoc/auxiliary/rustdoc-impl-parts-crosscrate.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fauxiliary%2Frustdoc-impl-parts-crosscrate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fauxiliary%2Frustdoc-impl-parts-crosscrate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fauxiliary%2Frustdoc-impl-parts-crosscrate.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,3 +1,3 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n-pub auto trait AnOibit {}\n+pub auto trait AnAutoTrait {}"}, {"sha": "6c5e79d5aa32380bb781b3221dd6540f9ee66c00", "filename": "src/test/rustdoc/impl-parts-crosscrate.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fimpl-parts-crosscrate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fimpl-parts-crosscrate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fimpl-parts-crosscrate.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -12,9 +12,9 @@ pub struct Bar<T> { t: T }\n // full impl string.  Instead, just make sure something from each part\n // is mentioned.\n \n-// @has implementors/rustdoc_impl_parts_crosscrate/trait.AnOibit.js Bar\n+// @has implementors/rustdoc_impl_parts_crosscrate/trait.AnAutoTrait.js Bar\n // @has - Send\n-// @has - !AnOibit\n+// @has - !AnAutoTrait\n // @has - Copy\n-impl<T: Send> !rustdoc_impl_parts_crosscrate::AnOibit for Bar<T>\n+impl<T: Send> !rustdoc_impl_parts_crosscrate::AnAutoTrait for Bar<T>\n     where T: Copy {}"}, {"sha": "90110babea75fc5417842b0a2a53495d1858a878", "filename": "src/test/rustdoc/impl-parts.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fimpl-parts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fimpl-parts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fimpl-parts.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,12 +1,12 @@\n #![feature(negative_impls)]\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n-pub auto trait AnOibit {}\n+pub auto trait AnAutoTrait {}\n \n pub struct Foo<T> { field: T }\n \n // @has impl_parts/struct.Foo.html '//*[@class=\"impl\"]//code' \\\n-//     \"impl<T: Clone> !AnOibit for Foo<T> where T: Sync,\"\n-// @has impl_parts/trait.AnOibit.html '//*[@class=\"item-list\"]//code' \\\n-//     \"impl<T: Clone> !AnOibit for Foo<T> where T: Sync,\"\n-impl<T: Clone> !AnOibit for Foo<T> where T: Sync {}\n+//     \"impl<T: Clone> !AnAutoTrait for Foo<T> where T: Sync,\"\n+// @has impl_parts/trait.AnAutoTrait.html '//*[@class=\"item-list\"]//code' \\\n+//     \"impl<T: Clone> !AnAutoTrait for Foo<T> where T: Sync,\"\n+impl<T: Clone> !AnAutoTrait for Foo<T> where T: Sync {}"}, {"sha": "3346ac05ffe47dbef9412a5d345f141248d588c4", "filename": "src/test/rustdoc/synthetic_auto/crate-local.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fsynthetic_auto%2Fcrate-local.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Frustdoc%2Fsynthetic_auto%2Fcrate-local.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fsynthetic_auto%2Fcrate-local.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n pub auto trait Banana {}\n "}, {"sha": "7f2e3db6d60f20914a9d37112b6fd6ae9415d632", "filename": "src/test/ui/async-await/issue-64130-3-other.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fasync-await%2Fissue-64130-3-other.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fasync-await%2Fissue-64130-3-other.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fissue-64130-3-other.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n // edition:2018\n "}, {"sha": "a997b044c8ff8f21b435d2d4fba66ddf9e654d56", "filename": "src/test/ui/auto-traits/auto-trait-validation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Fauto-trait-validation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Fauto-trait-validation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauto-traits%2Fauto-trait-validation.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n auto trait Generic<T> {}\n //~^ auto traits cannot have generic parameters [E0567]"}, {"sha": "567b86c276274dfc4610dd90e388f99780ba1139", "filename": "src/test/ui/auto-traits/auto-traits.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Fauto-traits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Fauto-traits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauto-traits%2Fauto-traits.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,6 +1,6 @@\n // run-pass\n #![allow(unused_doc_comments)]\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n auto trait Auto {}"}, {"sha": "cb4cf6de1efe976de9bd93fbc45e7cc186c22a64", "filename": "src/test/ui/auto-traits/issue-23080-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Fissue-23080-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Fissue-23080-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauto-traits%2Fissue-23080-2.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n unsafe auto trait Trait {"}, {"sha": "84e2ce66f9dbd743c9a9c1a4fe4579cd71800689", "filename": "src/test/ui/auto-traits/issue-23080.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Fissue-23080.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Fissue-23080.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauto-traits%2Fissue-23080.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n unsafe auto trait Trait {"}, {"sha": "6cceaf821f6bfeba8321c543728dfe918d12052e", "filename": "src/test/ui/auto-traits/typeck-auto-trait-no-supertraits-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-auto-trait-no-supertraits-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-auto-trait-no-supertraits-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-auto-trait-no-supertraits-2.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n auto trait Magic : Sized where Option<Self> : Magic {} //~ ERROR E0568"}, {"sha": "2a76893febc79a775a63e2b70c34b35803652580", "filename": "src/test/ui/auto-traits/typeck-auto-trait-no-supertraits.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-auto-trait-no-supertraits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-auto-trait-no-supertraits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-auto-trait-no-supertraits.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -22,7 +22,7 @@\n //    println!(\"{:?} {:?}\", a, b);\n // }\n \n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n auto trait Magic: Copy {} //~ ERROR E0568"}, {"sha": "f2fb67f1108f9c70b46785dd55a5448c784cbeaf", "filename": "src/test/ui/auto-traits/typeck-default-trait-impl-constituent-types-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-constituent-types-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-constituent-types-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-constituent-types-2.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n auto trait MyTrait {}"}, {"sha": "73ff46d05e46645bf5725f0680ebbaecc6eccd09", "filename": "src/test/ui/auto-traits/typeck-default-trait-impl-constituent-types.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-constituent-types.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-constituent-types.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-constituent-types.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n auto trait MyTrait {}"}, {"sha": "f7f56f97f614e78523ff50e71cbe59cac2430fad", "filename": "src/test/ui/auto-traits/typeck-default-trait-impl-negation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-negation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-negation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-negation.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n auto trait MyTrait {}"}, {"sha": "2bbe82270bd06a16c2d4732a74ae95fd6e14c93d", "filename": "src/test/ui/auto-traits/typeck-default-trait-impl-precedence.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-precedence.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-precedence.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fauto-traits%2Ftypeck-default-trait-impl-precedence.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -3,7 +3,7 @@\n // other words, the auto impl only applies if there are no existing\n // impls whose types unify.\n \n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n auto trait Defaulted { }"}, {"sha": "d57fb4777540394a8c87b9351a0b6f90f815acd6", "filename": "src/test/ui/coherence/coherence-default-trait-impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-default-trait-impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-default-trait-impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-default-trait-impl.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n auto trait MySafeTrait {}"}, {"sha": "50d9a480ad1e59060bf9b41cc8441d46f55a2f35", "filename": "src/test/ui/coherence/coherence-impl-trait-for-marker-trait-negative.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impl-trait-for-marker-trait-negative.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impl-trait-for-marker-trait-negative.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impl-trait-for-marker-trait-negative.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n // Test for issue #56934 - that it is impossible to redundantly"}, {"sha": "faac6d983f31e7e8783678c3ac2c7246ea9fe539", "filename": "src/test/ui/coherence/coherence-impl-trait-for-marker-trait-positive.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impl-trait-for-marker-trait-positive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impl-trait-for-marker-trait-positive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fcoherence%2Fcoherence-impl-trait-for-marker-trait-positive.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n // Test for issue #56934 - that it is impossible to redundantly"}, {"sha": "80cfa9cee8959b985038d5c5ab9ad1e300b37b64", "filename": "src/test/ui/feature-gates/feature-gate-auto-traits.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-auto-traits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-auto-traits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-auto-traits.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,5 +1,5 @@\n // Test that default and negative trait implementations are gated by\n-// `optin_builtin_traits` feature gate\n+// `auto_traits` feature gate\n \n struct DummyStruct;\n ", "previous_filename": "src/test/ui/feature-gates/feature-gate-optin-builtin-traits.rs"}, {"sha": "e015418161e5ad5c37166859d34dfd9b7682cff1", "filename": "src/test/ui/feature-gates/feature-gate-auto-traits.stderr", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-auto-traits.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-auto-traits.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-auto-traits.stderr?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,14 +1,14 @@\n error[E0658]: auto traits are experimental and possibly buggy\n-  --> $DIR/feature-gate-optin-builtin-traits.rs:6:1\n+  --> $DIR/feature-gate-auto-traits.rs:6:1\n    |\n LL | auto trait AutoDummyTrait {}\n    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: see issue #13231 <https://github.com/rust-lang/rust/issues/13231> for more information\n-   = help: add `#![feature(optin_builtin_traits)]` to the crate attributes to enable\n+   = help: add `#![feature(auto_traits)]` to the crate attributes to enable\n \n error[E0658]: negative trait bounds are not yet fully implemented; use marker types for now\n-  --> $DIR/feature-gate-optin-builtin-traits.rs:9:6\n+  --> $DIR/feature-gate-auto-traits.rs:9:6\n    |\n LL | impl !AutoDummyTrait for DummyStruct {}\n    |      ^^^^^^^^^^^^^^^", "previous_filename": "src/test/ui/feature-gates/feature-gate-optin-builtin-traits.stderr"}, {"sha": "8f1e4f1b66f48cc56bdc7a5cb61302cb4bb9b0a2", "filename": "src/test/ui/generator/auto-trait-regions.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fgenerator%2Fauto-trait-regions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fgenerator%2Fauto-trait-regions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fgenerator%2Fauto-trait-regions.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,5 +1,5 @@\n #![feature(generators)]\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n auto trait Foo {}"}, {"sha": "6779d508dd6c67a668b49f96560c3c5014431897", "filename": "src/test/ui/issues/issue-29516.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fissues%2Fissue-29516.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fissues%2Fissue-29516.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-29516.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,5 +1,5 @@\n // check-pass\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n auto trait NotSame {}"}, {"sha": "42ede708e66df7abf9cf5ab782a3fe7e36db4e7a", "filename": "src/test/ui/never_type/auto-traits.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fnever_type%2Fauto-traits.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fnever_type%2Fauto-traits.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fnever_type%2Fauto-traits.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,6 +1,6 @@\n // check-pass\n \n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n #![feature(never_type)]\n "}, {"sha": "8e267c7448feb4bccdbfd6ece54b48355524d36a", "filename": "src/test/ui/parser/trait-object-bad-parens.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fparser%2Ftrait-object-bad-parens.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fparser%2Ftrait-object-bad-parens.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Ftrait-object-bad-parens.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n #![allow(bare_trait_objects)]\n "}, {"sha": "0172ca335c32ab4ecd22ff36a16890d6ddc3a844", "filename": "src/test/ui/phantom-auto-trait.rs", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fphantom-auto-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fphantom-auto-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fphantom-auto-trait.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,7 +1,7 @@\n-// Ensure that OIBIT checks `T` when it encounters a `PhantomData<T>` field, instead of checking\n-// the `PhantomData<T>` type itself (which almost always implements an auto trait)\n+// Ensure that auto trait checks `T` when it encounters a `PhantomData<T>` field, instead of\n+// checking the `PhantomData<T>` type itself (which almost always implements an auto trait).\n \n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n \n use std::marker::{PhantomData};\n ", "previous_filename": "src/test/ui/phantom-oibit.rs"}, {"sha": "779919f9d643f56b3774eb7d914f601c020cca21", "filename": "src/test/ui/phantom-auto-trait.stderr", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fphantom-auto-trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fphantom-auto-trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fphantom-auto-trait.stderr?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,5 +1,5 @@\n error[E0277]: `T` cannot be shared between threads safely\n-  --> $DIR/phantom-oibit.rs:21:12\n+  --> $DIR/phantom-auto-trait.rs:21:12\n    |\n LL | fn is_zen<T: Zen>(_: T) {}\n    |              --- required by this bound in `is_zen`\n@@ -16,7 +16,7 @@ LL | fn not_sync<T: Sync>(x: Guard<T>) {\n    |              ^^^^^^\n \n error[E0277]: `T` cannot be shared between threads safely\n-  --> $DIR/phantom-oibit.rs:26:12\n+  --> $DIR/phantom-auto-trait.rs:26:12\n    |\n LL | fn is_zen<T: Zen>(_: T) {}\n    |              --- required by this bound in `is_zen`", "previous_filename": "src/test/ui/phantom-oibit.stderr"}, {"sha": "db451d33429b31fce2832de62b3aa2d90b7ca59b", "filename": "src/test/ui/privacy/private-in-public-non-principal-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fprivacy%2Fprivate-in-public-non-principal-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fprivacy%2Fprivate-in-public-non-principal-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprivacy%2Fprivate-in-public-non-principal-2.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n #[allow(private_in_public)]"}, {"sha": "ac1d5a9e6a20261c7c02441d8e3ea47c8374e873", "filename": "src/test/ui/privacy/private-in-public-non-principal.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fprivacy%2Fprivate-in-public-non-principal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fprivacy%2Fprivate-in-public-non-principal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fprivacy%2Fprivate-in-public-non-principal.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n pub trait PubPrincipal {}"}, {"sha": "b3cd8255bb9b10f84473a5e716df2a15449b6035", "filename": "src/test/ui/specialization/specialization-polarity.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fspecialization%2Fspecialization-polarity.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fspecialization%2Fspecialization-polarity.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspecialization%2Fspecialization-polarity.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,6 +1,6 @@\n // Make sure specialization cannot change impl polarity\n \n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n #![feature(specialization)] //~ WARN the feature `specialization` is incomplete\n "}, {"sha": "05bd98df0064ae45c3249c5150fff92f0ea5feaa", "filename": "src/test/ui/symbol-names/impl1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsymbol-names%2Fimpl1.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -6,7 +6,7 @@\n //[legacy]normalize-stderr-32bit: \"hee444285569b39c2\" -> \"SYMBOL_HASH\"\n //[legacy]normalize-stderr-64bit: \"h310ea0259fc3d32d\" -> \"SYMBOL_HASH\"\n \n-#![feature(optin_builtin_traits, rustc_attrs)]\n+#![feature(auto_traits, rustc_attrs)]\n #![allow(dead_code)]\n \n mod foo {"}, {"sha": "5fea47a1be87daf50ce2ac7119d2a6c3284bd767", "filename": "src/test/ui/traits/traits-inductive-overflow-supertrait-auto-trait.rs", "status": "renamed", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Ftraits%2Ftraits-inductive-overflow-supertrait-auto-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Ftraits%2Ftraits-inductive-overflow-supertrait-auto-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftraits-inductive-overflow-supertrait-auto-trait.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,8 +1,8 @@\n-// OIBIT-based version of #29859, supertrait version. Test that using\n-// a simple OIBIT `..` impl alone still doesn't allow arbitrary bounds\n+// Auto-trait-based version of #29859, supertrait version. Test that using\n+// a simple auto trait `..` impl alone still doesn't allow arbitrary bounds\n // to be synthesized.\n \n-#![feature(optin_builtin_traits)]\n+#![feature(auto_traits)]\n #![feature(negative_impls)]\n \n auto trait Magic: Copy {} //~ ERROR E0568", "previous_filename": "src/test/ui/traits/traits-inductive-overflow-supertrait-oibit.rs"}, {"sha": "140ffa4b079a3ed51a6a7967498a580ecfee81dc", "filename": "src/test/ui/traits/traits-inductive-overflow-supertrait-auto-trait.stderr", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Ftraits%2Ftraits-inductive-overflow-supertrait-auto-trait.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Ftraits%2Ftraits-inductive-overflow-supertrait-auto-trait.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Ftraits-inductive-overflow-supertrait-auto-trait.stderr?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,13 +1,13 @@\n error[E0568]: auto traits cannot have super traits\n-  --> $DIR/traits-inductive-overflow-supertrait-oibit.rs:8:19\n+  --> $DIR/traits-inductive-overflow-supertrait-auto-trait.rs:8:19\n    |\n LL | auto trait Magic: Copy {}\n    |            -----  ^^^^ help: remove the super traits\n    |            |\n    |            auto trait cannot have super traits\n \n error[E0277]: the trait bound `NoClone: Copy` is not satisfied\n-  --> $DIR/traits-inductive-overflow-supertrait-oibit.rs:16:23\n+  --> $DIR/traits-inductive-overflow-supertrait-auto-trait.rs:16:23\n    |\n LL | fn copy<T: Magic>(x: T) -> (T, T) { (x, x) }\n    |            ----- required by this bound in `copy`", "previous_filename": "src/test/ui/traits/traits-inductive-overflow-supertrait-oibit.stderr"}, {"sha": "ef2cd415fcaaa22d8bba45b83a9af1c53817a7fd", "filename": "src/test/ui/typeck/auxiliary/tdticc_coherence_lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Ftypeck%2Fauxiliary%2Ftdticc_coherence_lib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ec039bd07510e5f9bde0d48c039871c0a7846e0b/src%2Ftest%2Fui%2Ftypeck%2Fauxiliary%2Ftdticc_coherence_lib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftypeck%2Fauxiliary%2Ftdticc_coherence_lib.rs?ref=ec039bd07510e5f9bde0d48c039871c0a7846e0b", "patch": "@@ -1,4 +1,4 @@\n-#![feature(optin_builtin_traits, core)]\n+#![feature(auto_traits, core)]\n #![crate_type = \"rlib\"]\n \n pub auto trait DefaultedTrait { }"}]}