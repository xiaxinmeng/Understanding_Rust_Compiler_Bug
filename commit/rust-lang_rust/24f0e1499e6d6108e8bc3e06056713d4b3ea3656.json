{"sha": "24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "node_id": "C_kwDOAAsO6NoAKDI0ZjBlMTQ5OWU2ZDYxMDhlOGJjM2UwNjA1NjcxM2Q0YjNlYTM2NTY", "commit": {"author": {"name": "Dylan DPC", "email": "99973273+Dylan-DPC@users.noreply.github.com", "date": "2022-07-15T10:23:38Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-07-15T10:23:38Z"}, "message": "Rollup merge of #99119 - TaKO8Ki:remove-string-matching-about-methods, r=cjgillot\n\nRefactor: remove a string matching about methods\n\nThis patch remove a string matching about methods and adds some rustfix tests.", "tree": {"sha": "e6e333bdd470074056c884633b48aaa921d5cb55", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e6e333bdd470074056c884633b48aaa921d5cb55"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJi0UAqCRBK7hj4Ov3rIwAAZAcIAJebp5J5DLFw+a76F68IC3Cp\nHz+DHf2L0WME6toizDl9ZowOEoQMN7bARggRhtmGzSUOKVuOF4YegrO11mdVjr4d\n0XgL1wh/UDN8RRf3d9Cmbf0REN7fn4swbcPZwd/MtJxM78o3M6i9fxpmPOXR9Ts9\n+sa9nIVfX7C2EdWAjtt3hNKcxQHJzqtg4xcm/w882C31AkJnvQaZLKeiyJUzOWAL\n77eeROouF9QBEdfsgHwAwHcd3xwCUYASmacadprSW1q6eNoir+b4bUDWWQ+Tb7M5\nHdYH1O3yxwcgguLbsvDyFewdU0TWZyT+qpK/QoX5/PJczBUkIL94Hocjf4z6cOU=\n=eTz1\n-----END PGP SIGNATURE-----\n", "payload": "tree e6e333bdd470074056c884633b48aaa921d5cb55\nparent e0e6f1d1cbb1b3dd5b543b7114d331da3be9f08d\nparent 45b88aff100463534c036e3880c5f53ac75b83ae\nauthor Dylan DPC <99973273+Dylan-DPC@users.noreply.github.com> 1657880618 +0530\ncommitter GitHub <noreply@github.com> 1657880618 +0530\n\nRollup merge of #99119 - TaKO8Ki:remove-string-matching-about-methods, r=cjgillot\n\nRefactor: remove a string matching about methods\n\nThis patch remove a string matching about methods and adds some rustfix tests.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "html_url": "https://github.com/rust-lang/rust/commit/24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/comments", "author": {"login": "Dylan-DPC", "id": 99973273, "node_id": "U_kgDOBfV4mQ", "avatar_url": "https://avatars.githubusercontent.com/u/99973273?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Dylan-DPC", "html_url": "https://github.com/Dylan-DPC", "followers_url": "https://api.github.com/users/Dylan-DPC/followers", "following_url": "https://api.github.com/users/Dylan-DPC/following{/other_user}", "gists_url": "https://api.github.com/users/Dylan-DPC/gists{/gist_id}", "starred_url": "https://api.github.com/users/Dylan-DPC/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Dylan-DPC/subscriptions", "organizations_url": "https://api.github.com/users/Dylan-DPC/orgs", "repos_url": "https://api.github.com/users/Dylan-DPC/repos", "events_url": "https://api.github.com/users/Dylan-DPC/events{/privacy}", "received_events_url": "https://api.github.com/users/Dylan-DPC/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e0e6f1d1cbb1b3dd5b543b7114d331da3be9f08d", "url": "https://api.github.com/repos/rust-lang/rust/commits/e0e6f1d1cbb1b3dd5b543b7114d331da3be9f08d", "html_url": "https://github.com/rust-lang/rust/commit/e0e6f1d1cbb1b3dd5b543b7114d331da3be9f08d"}, {"sha": "45b88aff100463534c036e3880c5f53ac75b83ae", "url": "https://api.github.com/repos/rust-lang/rust/commits/45b88aff100463534c036e3880c5f53ac75b83ae", "html_url": "https://github.com/rust-lang/rust/commit/45b88aff100463534c036e3880c5f53ac75b83ae"}], "stats": {"total": 210, "additions": 130, "deletions": 80}, "files": [{"sha": "48a41c8bd245a3d8bdc892a017946f45e271c39c", "filename": "compiler/rustc_hir/src/hir.rs", "status": "modified", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/compiler%2Frustc_hir%2Fsrc%2Fhir.rs", "raw_url": "https://github.com/rust-lang/rust/raw/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/compiler%2Frustc_hir%2Fsrc%2Fhir.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir%2Fsrc%2Fhir.rs?ref=24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "patch": "@@ -1824,6 +1824,14 @@ impl Expr<'_> {\n             _ => false,\n         }\n     }\n+\n+    pub fn method_ident(&self) -> Option<Ident> {\n+        match self.kind {\n+            ExprKind::MethodCall(receiver_method, ..) => Some(receiver_method.ident),\n+            ExprKind::Unary(_, expr) | ExprKind::AddrOf(.., expr) => expr.method_ident(),\n+            _ => None,\n+        }\n+    }\n }\n \n /// Checks if the specified expression is a built-in range literal."}, {"sha": "d5e65c0b4420aa2f13ad8ab5c6dafe94ecb38389", "filename": "compiler/rustc_span/src/symbol.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "raw_url": "https://github.com/rust-lang/rust/raw/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_span%2Fsrc%2Fsymbol.rs?ref=24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "patch": "@@ -1435,6 +1435,8 @@ symbols! {\n         thumb2,\n         thumb_mode: \"thumb-mode\",\n         tmm_reg,\n+        to_string,\n+        to_vec,\n         todo_macro,\n         tool_attributes,\n         tool_lints,"}, {"sha": "80feac184125c6afe67844723a220b2f1687727a", "filename": "compiler/rustc_typeck/src/check/fn_ctxt/suggestions.rs", "status": "modified", "additions": 48, "deletions": 49, "changes": 97, "blob_url": "https://github.com/rust-lang/rust/blob/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Ffn_ctxt%2Fsuggestions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Ffn_ctxt%2Fsuggestions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_typeck%2Fsrc%2Fcheck%2Ffn_ctxt%2Fsuggestions.rs?ref=24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "patch": "@@ -18,8 +18,6 @@ use rustc_span::symbol::sym;\n use rustc_span::Span;\n use rustc_trait_selection::traits::query::evaluate_obligation::InferCtxtExt;\n \n-use std::iter;\n-\n impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n     pub(in super::super) fn suggest_semicolon_at_end(&self, span: Span, err: &mut Diagnostic) {\n         err.span_suggestion_short(\n@@ -187,55 +185,56 @@ impl<'a, 'tcx> FnCtxt<'a, 'tcx> {\n                 err.span_label(sp, format!(\"{found} defined here\"));\n             }\n         } else if !self.check_for_cast(err, expr, found, expected, expected_ty_expr) {\n-            let is_struct_pat_shorthand_field =\n-                self.maybe_get_struct_pattern_shorthand_field(expr).is_some();\n             let methods = self.get_conversion_methods(expr.span, expected, found, expr.hir_id);\n             if !methods.is_empty() {\n-                if let Ok(expr_text) = self.sess().source_map().span_to_snippet(expr.span) {\n-                    let mut suggestions = iter::zip(iter::repeat(&expr_text), &methods)\n-                        .filter_map(|(receiver, method)| {\n-                            let method_call = format!(\".{}()\", method.name);\n-                            if receiver.ends_with(&method_call) {\n-                                None // do not suggest code that is already there (#53348)\n-                            } else {\n-                                let method_call_list = [\".to_vec()\", \".to_string()\"];\n-                                let mut sugg = if receiver.ends_with(\".clone()\")\n-                                    && method_call_list.contains(&method_call.as_str())\n-                                {\n-                                    let max_len = receiver.rfind('.').unwrap();\n-                                    vec![(\n-                                        expr.span,\n-                                        format!(\"{}{}\", &receiver[..max_len], method_call),\n-                                    )]\n-                                } else {\n-                                    if expr.precedence().order()\n-                                        < ExprPrecedence::MethodCall.order()\n-                                    {\n-                                        vec![\n-                                            (expr.span.shrink_to_lo(), \"(\".to_string()),\n-                                            (expr.span.shrink_to_hi(), format!(\"){}\", method_call)),\n-                                        ]\n-                                    } else {\n-                                        vec![(expr.span.shrink_to_hi(), method_call)]\n-                                    }\n-                                };\n-                                if is_struct_pat_shorthand_field {\n-                                    sugg.insert(\n-                                        0,\n-                                        (expr.span.shrink_to_lo(), format!(\"{}: \", receiver)),\n-                                    );\n-                                }\n-                                Some(sugg)\n-                            }\n-                        })\n-                        .peekable();\n-                    if suggestions.peek().is_some() {\n-                        err.multipart_suggestions(\n-                            \"try using a conversion method\",\n-                            suggestions,\n-                            Applicability::MaybeIncorrect,\n-                        );\n-                    }\n+                let mut suggestions = methods.iter()\n+                    .filter_map(|conversion_method| {\n+                        let receiver_method_ident = expr.method_ident();\n+                        if let Some(method_ident) = receiver_method_ident\n+                            && method_ident.name == conversion_method.name\n+                        {\n+                            return None // do not suggest code that is already there (#53348)\n+                        }\n+\n+                        let method_call_list = [sym::to_vec, sym::to_string];\n+                        let mut sugg = if let ExprKind::MethodCall(receiver_method, ..) = expr.kind\n+                            && receiver_method.ident.name == sym::clone\n+                            && method_call_list.contains(&conversion_method.name)\n+                            // If receiver is `.clone()` and found type has one of those methods,\n+                            // we guess that the user wants to convert from a slice type (`&[]` or `&str`)\n+                            // to an owned type (`Vec` or `String`).  These conversions clone internally,\n+                            // so we remove the user's `clone` call.\n+                        {\n+                            vec![(\n+                                receiver_method.ident.span,\n+                                conversion_method.name.to_string()\n+                            )]\n+                        } else if expr.precedence().order()\n+                            < ExprPrecedence::MethodCall.order()\n+                        {\n+                            vec![\n+                                (expr.span.shrink_to_lo(), \"(\".to_string()),\n+                                (expr.span.shrink_to_hi(), format!(\").{}()\", conversion_method.name)),\n+                            ]\n+                        } else {\n+                            vec![(expr.span.shrink_to_hi(), format!(\".{}()\", conversion_method.name))]\n+                        };\n+                        let struct_pat_shorthand_field = self.maybe_get_struct_pattern_shorthand_field(expr);\n+                        if let Some(name) = struct_pat_shorthand_field {\n+                            sugg.insert(\n+                                0,\n+                                (expr.span.shrink_to_lo(), format!(\"{}: \", name)),\n+                            );\n+                        }\n+                        Some(sugg)\n+                    })\n+                    .peekable();\n+                if suggestions.peek().is_some() {\n+                    err.multipart_suggestions(\n+                        \"try using a conversion method\",\n+                        suggestions,\n+                        Applicability::MaybeIncorrect,\n+                    );\n                 }\n             } else if let ty::Adt(found_adt, found_substs) = found.kind()\n                 && self.tcx.is_diagnostic_item(sym::Option, found_adt.did())"}, {"sha": "514690de4d045054fb3cc953b0de983fbb4944c4", "filename": "src/test/ui/suggestions/issue-52820.fixed", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-52820.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-52820.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fissue-52820.fixed?ref=24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "patch": "@@ -0,0 +1,15 @@\n+// run-rustfix\n+#![allow(dead_code)]\n+\n+struct Bravery {\n+    guts: String,\n+    brains: String,\n+}\n+\n+fn main() {\n+    let guts = \"mettle\";\n+    let _ = Bravery {\n+        guts: guts.to_string(), //~ ERROR mismatched types\n+        brains: guts.to_string(), //~ ERROR mismatched types\n+    };\n+}"}, {"sha": "17cd9224c57ec38fdda3342aa01154f9fcf9ce28", "filename": "src/test/ui/suggestions/issue-52820.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-52820.rs", "raw_url": "https://github.com/rust-lang/rust/raw/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-52820.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fissue-52820.rs?ref=24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "patch": "@@ -1,3 +1,6 @@\n+// run-rustfix\n+#![allow(dead_code)]\n+\n struct Bravery {\n     guts: String,\n     brains: String,"}, {"sha": "09269ed4eee9983d6b2b605ac796e8162b712635", "filename": "src/test/ui/suggestions/issue-52820.stderr", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-52820.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-52820.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fissue-52820.stderr?ref=24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "patch": "@@ -1,5 +1,5 @@\n error[E0308]: mismatched types\n-  --> $DIR/issue-52820.rs:9:9\n+  --> $DIR/issue-52820.rs:12:9\n    |\n LL |         guts,\n    |         ^^^^ expected struct `String`, found `&str`\n@@ -10,13 +10,13 @@ LL |         guts: guts.to_string(),\n    |         +++++     ++++++++++++\n \n error[E0308]: mismatched types\n-  --> $DIR/issue-52820.rs:10:17\n+  --> $DIR/issue-52820.rs:13:17\n    |\n LL |         brains: guts.clone(),\n-   |                 ^^^^^^^^^^^^\n-   |                 |\n+   |                 ^^^^^-----^^\n+   |                 |    |\n+   |                 |    help: try using a conversion method: `to_string`\n    |                 expected struct `String`, found `&str`\n-   |                 help: try using a conversion method: `guts.to_string()`\n \n error: aborting due to 2 previous errors\n "}, {"sha": "35a677b4761867cb22b1ffafc2537b55097c0c0b", "filename": "src/test/ui/suggestions/issue-53692.fixed", "status": "added", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-53692.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-53692.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fissue-53692.fixed?ref=24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "patch": "@@ -0,0 +1,20 @@\n+// run-rustfix\n+#![allow(unused_variables)]\n+\n+fn main() {\n+    let items = vec![1, 2, 3];\n+    let ref_items: &[i32] = &items;\n+    let items_clone: Vec<i32> = ref_items.to_vec();\n+    //~^ ERROR mismatched types\n+\n+    // in that case no suggestion will be triggered\n+    let items_clone_2: Vec<i32> = items.clone();\n+\n+    let s = \"hi\";\n+    let string: String = s.to_string();\n+    //~^ ERROR mismatched types\n+\n+    // in that case no suggestion will be triggered\n+    let s2 = \"hi\";\n+    let string_2: String = s2.to_string();\n+}"}, {"sha": "6f6707be5f651c920d0cef778ac2c62fdefe242c", "filename": "src/test/ui/suggestions/issue-53692.rs", "status": "modified", "additions": 15, "deletions": 12, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-53692.rs", "raw_url": "https://github.com/rust-lang/rust/raw/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-53692.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fissue-53692.rs?ref=24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "patch": "@@ -1,17 +1,20 @@\n+// run-rustfix\n+#![allow(unused_variables)]\n+\n fn main() {\n-        let items = vec![1, 2, 3];\n-        let ref_items: &[i32] = &items;\n-        let items_clone: Vec<i32> = ref_items.clone();\n-//~^ ERROR mismatched types\n+    let items = vec![1, 2, 3];\n+    let ref_items: &[i32] = &items;\n+    let items_clone: Vec<i32> = ref_items.clone();\n+    //~^ ERROR mismatched types\n \n-        // in that case no suggestion will be triggered\n-        let items_clone_2:Vec<i32> = items.clone();\n+    // in that case no suggestion will be triggered\n+    let items_clone_2: Vec<i32> = items.clone();\n \n-        let s = \"hi\";\n-        let string: String = s.clone();\n-//~^ ERROR mismatched types\n+    let s = \"hi\";\n+    let string: String = s.clone();\n+    //~^ ERROR mismatched types\n \n-        // in that case no suggestion will be triggered\n-        let s2 = \"hi\";\n-        let string_2: String = s2.to_string();\n+    // in that case no suggestion will be triggered\n+    let s2 = \"hi\";\n+    let string_2: String = s2.to_string();\n }"}, {"sha": "3a1b624f402f0db5ecc0576c329134de91c8419b", "filename": "src/test/ui/suggestions/issue-53692.stderr", "status": "modified", "additions": 14, "deletions": 14, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-53692.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/24f0e1499e6d6108e8bc3e06056713d4b3ea3656/src%2Ftest%2Fui%2Fsuggestions%2Fissue-53692.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fissue-53692.stderr?ref=24f0e1499e6d6108e8bc3e06056713d4b3ea3656", "patch": "@@ -1,25 +1,25 @@\n error[E0308]: mismatched types\n-  --> $DIR/issue-53692.rs:4:37\n+  --> $DIR/issue-53692.rs:7:33\n    |\n-LL |         let items_clone: Vec<i32> = ref_items.clone();\n-   |                          --------   ^^^^^^^^^^^^^^^^^\n-   |                          |          |\n-   |                          |          expected struct `Vec`, found `&[i32]`\n-   |                          |          help: try using a conversion method: `ref_items.to_vec()`\n-   |                          expected due to this\n+LL |     let items_clone: Vec<i32> = ref_items.clone();\n+   |                      --------   ^^^^^^^^^^-----^^\n+   |                      |          |         |\n+   |                      |          |         help: try using a conversion method: `to_vec`\n+   |                      |          expected struct `Vec`, found `&[i32]`\n+   |                      expected due to this\n    |\n    = note: expected struct `Vec<i32>`\n            found reference `&[i32]`\n \n error[E0308]: mismatched types\n-  --> $DIR/issue-53692.rs:11:30\n+  --> $DIR/issue-53692.rs:14:26\n    |\n-LL |         let string: String = s.clone();\n-   |                     ------   ^^^^^^^^^\n-   |                     |        |\n-   |                     |        expected struct `String`, found `&str`\n-   |                     |        help: try using a conversion method: `s.to_string()`\n-   |                     expected due to this\n+LL |     let string: String = s.clone();\n+   |                 ------   ^^-----^^\n+   |                 |        | |\n+   |                 |        | help: try using a conversion method: `to_string`\n+   |                 |        expected struct `String`, found `&str`\n+   |                 expected due to this\n \n error: aborting due to 2 previous errors\n "}]}