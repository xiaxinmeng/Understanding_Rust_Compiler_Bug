{"sha": "134661917bf4b086b027a2c58219d50ba57a1453", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEzNDY2MTkxN2JmNGIwODZiMDI3YTJjNTgyMTlkNTBiYTU3YTE0NTM=", "commit": {"author": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2018-12-11T09:33:17Z"}, "committer": {"name": "Oliver Scherer", "email": "github35764891676564198441@oli-obk.de", "date": "2018-12-11T09:33:17Z"}, "message": "Remove some dead code from `sgx`", "tree": {"sha": "f954a1b18f25cd22fabaa738581243bc9ada6e19", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f954a1b18f25cd22fabaa738581243bc9ada6e19"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/134661917bf4b086b027a2c58219d50ba57a1453", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/134661917bf4b086b027a2c58219d50ba57a1453", "html_url": "https://github.com/rust-lang/rust/commit/134661917bf4b086b027a2c58219d50ba57a1453", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/134661917bf4b086b027a2c58219d50ba57a1453/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "799cadb2bd980d1bcdcc831c2d0e50ec3b27527b", "url": "https://api.github.com/repos/rust-lang/rust/commits/799cadb2bd980d1bcdcc831c2d0e50ec3b27527b", "html_url": "https://github.com/rust-lang/rust/commit/799cadb2bd980d1bcdcc831c2d0e50ec3b27527b"}], "stats": {"total": 15, "additions": 0, "deletions": 15}, "files": [{"sha": "bf32c712216bc35ab84f1839a1bf84a30195254f", "filename": "src/libstd/sys/sgx/abi/mem.rs", "status": "modified", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/134661917bf4b086b027a2c58219d50ba57a1453/src%2Flibstd%2Fsys%2Fsgx%2Fabi%2Fmem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/134661917bf4b086b027a2c58219d50ba57a1453/src%2Flibstd%2Fsys%2Fsgx%2Fabi%2Fmem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fsgx%2Fabi%2Fmem.rs?ref=134661917bf4b086b027a2c58219d50ba57a1453", "patch": "@@ -34,13 +34,6 @@ fn image_base() -> u64 {\n     base\n }\n \n-pub fn is_enclave_range(p: *const u8, len: usize) -> bool {\n-    let start=p as u64;\n-    let end=start + (len as u64);\n-    start >= image_base() &&\n-        end <= image_base() + (unsafe { ENCLAVE_SIZE } as u64) // unsafe ok: link-time constant\n-}\n-\n pub fn is_user_range(p: *const u8, len: usize) -> bool {\n     let start=p as u64;\n     let end=start + (len as u64);"}, {"sha": "d1d180e48251f90fcae1d1feeee1f957e03c3220", "filename": "src/libstd/sys/sgx/abi/usercalls/mod.rs", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/134661917bf4b086b027a2c58219d50ba57a1453/src%2Flibstd%2Fsys%2Fsgx%2Fabi%2Fusercalls%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/134661917bf4b086b027a2c58219d50ba57a1453/src%2Flibstd%2Fsys%2Fsgx%2Fabi%2Fusercalls%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys%2Fsgx%2Fabi%2Fusercalls%2Fmod.rs?ref=134661917bf4b086b027a2c58219d50ba57a1453", "patch": "@@ -33,14 +33,6 @@ pub fn read(fd: Fd, buf: &mut [u8]) -> IoResult<usize> {\n     }\n }\n \n-pub fn read_alloc(fd: Fd) -> IoResult<Vec<u8>> {\n-    unsafe {\n-        let mut userbuf = alloc::User::<ByteBuffer>::uninitialized();\n-        raw::read_alloc(fd, userbuf.as_raw_mut_ptr()).from_sgx_result()?;\n-        Ok(copy_user_buffer(&userbuf))\n-    }\n-}\n-\n pub fn write(fd: Fd, buf: &[u8]) -> IoResult<usize> {\n     unsafe {\n         let userbuf = alloc::User::new_from_enclave(buf);"}]}