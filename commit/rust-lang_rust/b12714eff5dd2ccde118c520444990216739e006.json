{"sha": "b12714eff5dd2ccde118c520444990216739e006", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIxMjcxNGVmZjVkZDJjY2RlMTE4YzUyMDQ0NDk5MDIxNjczOWUwMDY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-03-20T23:42:47Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-03-20T23:42:47Z"}, "message": "auto merge of #5455 : pcwalton/rust/framework, r=catamorphism\n\nr? @catamorphism", "tree": {"sha": "1c741e92773a414eabc5c09c25568135bb5b6253", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1c741e92773a414eabc5c09c25568135bb5b6253"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b12714eff5dd2ccde118c520444990216739e006", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b12714eff5dd2ccde118c520444990216739e006", "html_url": "https://github.com/rust-lang/rust/commit/b12714eff5dd2ccde118c520444990216739e006", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b12714eff5dd2ccde118c520444990216739e006/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6f3d1686b2353f8df196aecd5bc2772f86508e41", "url": "https://api.github.com/repos/rust-lang/rust/commits/6f3d1686b2353f8df196aecd5bc2772f86508e41", "html_url": "https://github.com/rust-lang/rust/commit/6f3d1686b2353f8df196aecd5bc2772f86508e41"}, {"sha": "a29934a61b0ade13ef799a9aa9e95c0be940e0f5", "url": "https://api.github.com/repos/rust-lang/rust/commits/a29934a61b0ade13ef799a9aa9e95c0be940e0f5", "html_url": "https://github.com/rust-lang/rust/commit/a29934a61b0ade13ef799a9aa9e95c0be940e0f5"}], "stats": {"total": 36, "additions": 15, "deletions": 21}, "files": [{"sha": "b0e8a47605beb7c55f4269bc188acbb889e3bc05", "filename": "src/libcore/io.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b12714eff5dd2ccde118c520444990216739e006/src%2Flibcore%2Fio.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b12714eff5dd2ccde118c520444990216739e006/src%2Flibcore%2Fio.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fio.rs?ref=b12714eff5dd2ccde118c520444990216739e006", "patch": "@@ -986,7 +986,7 @@ pub trait WriterUtil {\n \n impl<T:Writer> WriterUtil for T {\n     fn write_char(&self, ch: char) {\n-        if ch as uint < 128u {\n+        if (ch as uint) < 128u {\n             self.write(&[ch as u8]);\n         } else {\n             self.write_str(str::from_char(ch));"}, {"sha": "d471eda74c66b88ac2735deb64a08ea0e66a35b3", "filename": "src/libcore/num/strconv.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b12714eff5dd2ccde118c520444990216739e006/src%2Flibcore%2Fnum%2Fstrconv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b12714eff5dd2ccde118c520444990216739e006/src%2Flibcore%2Fnum%2Fstrconv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fnum%2Fstrconv.rs?ref=b12714eff5dd2ccde118c520444990216739e006", "patch": "@@ -165,7 +165,7 @@ pub pure fn to_str_bytes_common<T:NumCast+Zero+One+Eq+Ord+NumStrConv+Copy+\n                                   Div<T,T>+Neg<T>+Modulo<T,T>+Mul<T,T>>(\n         num: &T, radix: uint, negative_zero: bool,\n         sign: SignFormat, digits: SignificantDigits) -> (~[u8], bool) {\n-    if radix as int <  2 {\n+    if (radix as int) < 2 {\n         fail!(fmt!(\"to_str_bytes_common: radix %? to low, \\\n                    must lie in the range [2, 36]\", radix));\n     } else if radix as int > 36 {\n@@ -455,10 +455,10 @@ pub pure fn from_str_bytes_common<T:NumCast+Zero+One+Ord+Copy+Div<T,T>+\n         _ if special && radix >= DIGIT_I_RADIX // first digit of 'inf'\n           => fail!(fmt!(\"from_str_bytes_common: radix %? incompatible with \\\n                         special values 'inf' and 'NaN'\", radix)),\n-        _ if radix as int < 2\n+        _ if (radix as int) < 2\n           => fail!(fmt!(\"from_str_bytes_common: radix %? to low, \\\n                         must lie in the range [2, 36]\", radix)),\n-        _ if radix as int > 36\n+        _ if (radix as int) > 36\n           => fail!(fmt!(\"from_str_bytes_common: radix %? to high, \\\n                         must lie in the range [2, 36]\", radix)),\n         _ => ()"}, {"sha": "07e7ae07840f2fb2f2b92fcad561d6a73d116d34", "filename": "src/libcore/repr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b12714eff5dd2ccde118c520444990216739e006/src%2Flibcore%2Frepr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b12714eff5dd2ccde118c520444990216739e006/src%2Flibcore%2Frepr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Frepr.rs?ref=b12714eff5dd2ccde118c520444990216739e006", "patch": "@@ -242,7 +242,7 @@ pub impl ReprVisitor {\n         let (sz, al) = unsafe { ((*inner).size, (*inner).align) };\n         self.writer.write_char('[');\n         let mut first = true;\n-        while p as uint < end as uint {\n+        while (p as uint) < (end as uint) {\n             if first {\n                 first = false;\n             } else {"}, {"sha": "45766e97260b379e029c29ddde55fcc79b30d809", "filename": "src/libcore/unstable/extfmt.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b12714eff5dd2ccde118c520444990216739e006/src%2Flibcore%2Funstable%2Fextfmt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b12714eff5dd2ccde118c520444990216739e006/src%2Flibcore%2Funstable%2Fextfmt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Funstable%2Fextfmt.rs?ref=b12714eff5dd2ccde118c520444990216739e006", "patch": "@@ -536,7 +536,7 @@ pub mod rt {\n         // displayed\n         let mut unpadded = match cv.precision {\n           CountImplied => s.to_owned(),\n-          CountIs(max) => if max as uint < str::char_len(s) {\n+          CountIs(max) => if (max as uint) < str::char_len(s) {\n             str::substr(s, 0, max as uint)\n           } else {\n             s.to_owned()"}, {"sha": "4e83a1065c6daf1e6959333237584ffac3934e32", "filename": "src/librustc/back/link.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b12714eff5dd2ccde118c520444990216739e006/src%2Flibrustc%2Fback%2Flink.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b12714eff5dd2ccde118c520444990216739e006/src%2Flibrustc%2Fback%2Flink.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fback%2Flink.rs?ref=b12714eff5dd2ccde118c520444990216739e006", "patch": "@@ -849,11 +849,7 @@ pub fn link_binary(sess: Session,\n     do cstore::iter_crate_data(cstore) |crate_num, _| {\n         let link_args = csearch::get_link_args_for_crate(cstore, crate_num);\n         do vec::consume(link_args) |_, link_arg| {\n-            // Linker arguments that don't begin with - are likely file names,\n-            // so they should not be necessary.\n-            if link_arg.starts_with(\"-\") {\n-              cc_args.push(link_arg);\n-            }\n+            cc_args.push(link_arg);\n         }\n     }\n "}, {"sha": "c72b3675c4cb50160fde61278b9cb98b4225e576", "filename": "src/libstd/time.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b12714eff5dd2ccde118c520444990216739e006/src%2Flibstd%2Ftime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b12714eff5dd2ccde118c520444990216739e006/src%2Flibstd%2Ftime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Ftime.rs?ref=b12714eff5dd2ccde118c520444990216739e006", "patch": "@@ -819,8 +819,8 @@ priv fn do_strftime(format: &str, tm: &Tm) -> ~str {\n           'M' => fmt!(\"%02d\", tm.tm_min as int),\n           'm' => fmt!(\"%02d\", tm.tm_mon as int + 1),\n           'n' => ~\"\\n\",\n-          'P' => if tm.tm_hour as int < 12 { ~\"am\" } else { ~\"pm\" },\n-          'p' => if tm.tm_hour as int < 12 { ~\"AM\" } else { ~\"PM\" },\n+          'P' => if (tm.tm_hour as int) < 12 { ~\"am\" } else { ~\"pm\" },\n+          'p' => if (tm.tm_hour as int) < 12 { ~\"AM\" } else { ~\"PM\" },\n           'R' => {\n             fmt!(\"%s:%s\",\n                 parse_type('H', tm),"}, {"sha": "de861075a5b8045de20f6245f43bc9f673698c6a", "filename": "src/libsyntax/parse/parser.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/b12714eff5dd2ccde118c520444990216739e006/src%2Flibsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b12714eff5dd2ccde118c520444990216739e006/src%2Flibsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fparser.rs?ref=b12714eff5dd2ccde118c520444990216739e006", "patch": "@@ -581,7 +581,9 @@ pub impl Parser {\n         }\n     }\n \n-    fn parse_ty(&self, colons_before_params: bool) -> @Ty {\n+    // Useless second parameter for compatibility with quasiquote macros.\n+    // Bleh!\n+    fn parse_ty(&self, _: bool) -> @Ty {\n         maybe_whole!(self, nt_ty);\n \n         let lo = self.span.lo;\n@@ -661,7 +663,7 @@ pub impl Parser {\n             result\n         } else if *self.token == token::MOD_SEP\n             || is_ident_or_path(&*self.token) {\n-            let path = self.parse_path_with_tps(colons_before_params);\n+            let path = self.parse_path_with_tps(false);\n             ty_path(path, self.get_id())\n         } else {\n             self.fatal(~\"expected type\");"}, {"sha": "72b734ed73dbb2db99734170bd92bd6cc69039a6", "filename": "src/libsyntax/print/pprust.rs", "status": "modified", "additions": 2, "deletions": 6, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/b12714eff5dd2ccde118c520444990216739e006/src%2Flibsyntax%2Fprint%2Fpprust.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b12714eff5dd2ccde118c520444990216739e006/src%2Flibsyntax%2Fprint%2Fpprust.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fprint%2Fpprust.rs?ref=b12714eff5dd2ccde118c520444990216739e006", "patch": "@@ -370,10 +370,6 @@ pub fn print_opt_lifetime(s: @ps, lifetime: Option<@ast::Lifetime>) {\n }\n \n pub fn print_type(s: @ps, &&ty: @ast::Ty) {\n-    print_type_ex(s, ty, false);\n-}\n-\n-pub fn print_type_ex(s: @ps, &&ty: @ast::Ty, print_colons: bool) {\n     maybe_print_comment(s, ty.span.lo);\n     ibox(s, 0u);\n     match ty.node {\n@@ -415,7 +411,7 @@ pub fn print_type_ex(s: @ps, &&ty: @ast::Ty, print_colons: bool) {\n                       f.purity, f.onceness, &f.decl, None,\n                       None, None);\n       }\n-      ast::ty_path(path, _) => print_path(s, path, print_colons),\n+      ast::ty_path(path, _) => print_path(s, path, false),\n       ast::ty_fixed_length_vec(ref mt, v) => {\n         word(s.s, ~\"[\");\n         match mt.mutbl {\n@@ -1211,7 +1207,7 @@ pub fn print_expr(s: @ps, &&expr: @ast::expr) {\n         print_expr(s, expr);\n         space(s.s);\n         word_space(s, ~\"as\");\n-        print_type_ex(s, ty, true);\n+        print_type(s, ty);\n       }\n       ast::expr_if(test, ref blk, elseopt) => {\n         print_if(s, test, blk, elseopt, false);"}]}