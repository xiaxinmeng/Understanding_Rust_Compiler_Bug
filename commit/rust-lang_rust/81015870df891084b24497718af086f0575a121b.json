{"sha": "81015870df891084b24497718af086f0575a121b", "node_id": "C_kwDOAAsO6NoAKDgxMDE1ODcwZGY4OTEwODRiMjQ0OTc3MThhZjA4NmYwNTc1YTEyMWI", "commit": {"author": {"name": "Georgy Komarov", "email": "jubnzv@gmail.com", "date": "2022-01-26T15:02:32Z"}, "committer": {"name": "Georgy Komarov", "email": "jubnzv@gmail.com", "date": "2022-01-26T15:02:32Z"}, "message": "matches: Improve naming. NFC.", "tree": {"sha": "6b6ba87352795caa22a9083f2718f6c2e30ffb78", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6b6ba87352795caa22a9083f2718f6c2e30ffb78"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/81015870df891084b24497718af086f0575a121b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/81015870df891084b24497718af086f0575a121b", "html_url": "https://github.com/rust-lang/rust/commit/81015870df891084b24497718af086f0575a121b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/81015870df891084b24497718af086f0575a121b/comments", "author": {"login": "jubnzv", "id": 12023585, "node_id": "MDQ6VXNlcjEyMDIzNTg1", "avatar_url": "https://avatars.githubusercontent.com/u/12023585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jubnzv", "html_url": "https://github.com/jubnzv", "followers_url": "https://api.github.com/users/jubnzv/followers", "following_url": "https://api.github.com/users/jubnzv/following{/other_user}", "gists_url": "https://api.github.com/users/jubnzv/gists{/gist_id}", "starred_url": "https://api.github.com/users/jubnzv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jubnzv/subscriptions", "organizations_url": "https://api.github.com/users/jubnzv/orgs", "repos_url": "https://api.github.com/users/jubnzv/repos", "events_url": "https://api.github.com/users/jubnzv/events{/privacy}", "received_events_url": "https://api.github.com/users/jubnzv/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jubnzv", "id": 12023585, "node_id": "MDQ6VXNlcjEyMDIzNTg1", "avatar_url": "https://avatars.githubusercontent.com/u/12023585?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jubnzv", "html_url": "https://github.com/jubnzv", "followers_url": "https://api.github.com/users/jubnzv/followers", "following_url": "https://api.github.com/users/jubnzv/following{/other_user}", "gists_url": "https://api.github.com/users/jubnzv/gists{/gist_id}", "starred_url": "https://api.github.com/users/jubnzv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jubnzv/subscriptions", "organizations_url": "https://api.github.com/users/jubnzv/orgs", "repos_url": "https://api.github.com/users/jubnzv/repos", "events_url": "https://api.github.com/users/jubnzv/events{/privacy}", "received_events_url": "https://api.github.com/users/jubnzv/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4aee3b1f1e977136b401cc6633da5f1234501347", "url": "https://api.github.com/repos/rust-lang/rust/commits/4aee3b1f1e977136b401cc6633da5f1234501347", "html_url": "https://github.com/rust-lang/rust/commit/4aee3b1f1e977136b401cc6633da5f1234501347"}], "stats": {"total": 16, "additions": 9, "deletions": 7}, "files": [{"sha": "e8789a92f133454dda8849f0b279e19b5168f5af", "filename": "clippy_lints/src/matches.rs", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/81015870df891084b24497718af086f0575a121b/clippy_lints%2Fsrc%2Fmatches.rs", "raw_url": "https://github.com/rust-lang/rust/raw/81015870df891084b24497718af086f0575a121b/clippy_lints%2Fsrc%2Fmatches.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatches.rs?ref=81015870df891084b24497718af086f0575a121b", "patch": "@@ -942,28 +942,30 @@ fn form_exhaustive_matches(left: &Pat<'_>, right: &Pat<'_>) -> bool {\n             );\n             let mut left_pos = left_pos.unwrap_or(usize::MAX);\n             let mut right_pos = right_pos.unwrap_or(usize::MAX);\n-            let mut left_span = 0;\n-            let mut right_span = 0;\n+            let mut left_dot_space = 0;\n+            let mut right_dot_space = 0;\n             for i in 0..len {\n                 let mut found_dotdot = false;\n                 if i == left_pos {\n-                    left_span += 1;\n-                    if left_span < len - left_in.len() {\n+                    left_dot_space += 1;\n+                    if left_dot_space < len - left_in.len() {\n                         left_pos += 1;\n                     }\n                     found_dotdot = true;\n                 }\n                 if i == right_pos {\n-                    right_span += 1;\n-                    if right_span < len - right_in.len() {\n+                    right_dot_space += 1;\n+                    if right_dot_space < len - right_in.len() {\n                         right_pos += 1;\n                     }\n                     found_dotdot = true;\n                 }\n                 if found_dotdot {\n                     continue;\n                 }\n-                if !contains_only_wilds(&left_in[i - left_span]) && !contains_only_wilds(&right_in[i - right_span]) {\n+                if !contains_only_wilds(&left_in[i - left_dot_space])\n+                    && !contains_only_wilds(&right_in[i - right_dot_space])\n+                {\n                     return false;\n                 }\n             }"}]}