{"sha": "21b94d57d5319e42f5a30818c88b95c95449864e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjIxYjk0ZDU3ZDUzMTllNDJmNWEzMDgxOGM4OGI5NWM5NTQ0OTg2NGU=", "commit": {"author": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2011-07-12T18:22:31Z"}, "committer": {"name": "Tim Chevalier", "email": "chevalier@alum.wellesley.edu", "date": "2011-07-12T18:22:31Z"}, "message": "Change typestate to use visit instead of walk\n\nTypestate was failing to check some code because if it saw an item,\nit would quit immediately. This was to avoid checking nested items\nin the same context as the lexically enclosing item, but it was\nhaving the wrong effect: not checking the code after the item at all.\n\nFixed by switching to visit and skipping over items in a proper\nnested fashion. Closes #668.", "tree": {"sha": "f73171cd2a62b49a9052416bf7c711f9ca8a66fc", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f73171cd2a62b49a9052416bf7c711f9ca8a66fc"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/21b94d57d5319e42f5a30818c88b95c95449864e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/21b94d57d5319e42f5a30818c88b95c95449864e", "html_url": "https://github.com/rust-lang/rust/commit/21b94d57d5319e42f5a30818c88b95c95449864e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/21b94d57d5319e42f5a30818c88b95c95449864e/comments", "author": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "committer": {"login": "catamorphism", "id": 427212, "node_id": "MDQ6VXNlcjQyNzIxMg==", "avatar_url": "https://avatars.githubusercontent.com/u/427212?v=4", "gravatar_id": "", "url": "https://api.github.com/users/catamorphism", "html_url": "https://github.com/catamorphism", "followers_url": "https://api.github.com/users/catamorphism/followers", "following_url": "https://api.github.com/users/catamorphism/following{/other_user}", "gists_url": "https://api.github.com/users/catamorphism/gists{/gist_id}", "starred_url": "https://api.github.com/users/catamorphism/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/catamorphism/subscriptions", "organizations_url": "https://api.github.com/users/catamorphism/orgs", "repos_url": "https://api.github.com/users/catamorphism/repos", "events_url": "https://api.github.com/users/catamorphism/events{/privacy}", "received_events_url": "https://api.github.com/users/catamorphism/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0e594939aa032c074df925d03c7d1289d6c2efc2", "url": "https://api.github.com/repos/rust-lang/rust/commits/0e594939aa032c074df925d03c7d1289d6c2efc2", "html_url": "https://github.com/rust-lang/rust/commit/0e594939aa032c074df925d03c7d1289d6c2efc2"}], "stats": {"total": 8, "additions": 8, "deletions": 0}, "files": [{"sha": "c6402e668b3c641233ba08b01a0a80d51b414064", "filename": "src/test/compile-fail/uninit-after-item.rs", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/21b94d57d5319e42f5a30818c88b95c95449864e/src%2Ftest%2Fcompile-fail%2Funinit-after-item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/21b94d57d5319e42f5a30818c88b95c95449864e/src%2Ftest%2Fcompile-fail%2Funinit-after-item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funinit-after-item.rs?ref=21b94d57d5319e42f5a30818c88b95c95449864e", "patch": "@@ -0,0 +1,8 @@\n+// error-pattern:Unsatisfied precondition constraint (for example, init(bar\n+// xfail-stage0\n+fn main() {\n+    auto bar;\n+    fn baz(int x) { }\n+    bind baz(bar);\n+}\n+"}]}