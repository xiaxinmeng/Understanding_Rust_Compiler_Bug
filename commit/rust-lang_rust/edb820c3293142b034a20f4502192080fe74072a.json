{"sha": "edb820c3293142b034a20f4502192080fe74072a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVkYjgyMGMzMjkzMTQyYjAzNGEyMGY0NTAyMTkyMDgwZmU3NDA3MmE=", "commit": {"author": {"name": "memoryruins", "email": "memoryruinsmusic@gmail.com", "date": "2020-01-15T01:52:48Z"}, "committer": {"name": "memoryruins", "email": "memoryruinsmusic@gmail.com", "date": "2020-01-15T01:52:48Z"}, "message": "Display vscode message after changing cargo-watch options", "tree": {"sha": "a0156ea781564c9038f432be8f5dffe95a453632", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a0156ea781564c9038f432be8f5dffe95a453632"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/edb820c3293142b034a20f4502192080fe74072a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/edb820c3293142b034a20f4502192080fe74072a", "html_url": "https://github.com/rust-lang/rust/commit/edb820c3293142b034a20f4502192080fe74072a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/edb820c3293142b034a20f4502192080fe74072a/comments", "author": {"login": "memoryruins", "id": 6868531, "node_id": "MDQ6VXNlcjY4Njg1MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/6868531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/memoryruins", "html_url": "https://github.com/memoryruins", "followers_url": "https://api.github.com/users/memoryruins/followers", "following_url": "https://api.github.com/users/memoryruins/following{/other_user}", "gists_url": "https://api.github.com/users/memoryruins/gists{/gist_id}", "starred_url": "https://api.github.com/users/memoryruins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/memoryruins/subscriptions", "organizations_url": "https://api.github.com/users/memoryruins/orgs", "repos_url": "https://api.github.com/users/memoryruins/repos", "events_url": "https://api.github.com/users/memoryruins/events{/privacy}", "received_events_url": "https://api.github.com/users/memoryruins/received_events", "type": "User", "site_admin": false}, "committer": {"login": "memoryruins", "id": 6868531, "node_id": "MDQ6VXNlcjY4Njg1MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/6868531?v=4", "gravatar_id": "", "url": "https://api.github.com/users/memoryruins", "html_url": "https://github.com/memoryruins", "followers_url": "https://api.github.com/users/memoryruins/followers", "following_url": "https://api.github.com/users/memoryruins/following{/other_user}", "gists_url": "https://api.github.com/users/memoryruins/gists{/gist_id}", "starred_url": "https://api.github.com/users/memoryruins/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/memoryruins/subscriptions", "organizations_url": "https://api.github.com/users/memoryruins/orgs", "repos_url": "https://api.github.com/users/memoryruins/repos", "events_url": "https://api.github.com/users/memoryruins/events{/privacy}", "received_events_url": "https://api.github.com/users/memoryruins/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "754d9d1a0c3551b01126e8e88d1fc3ff45ca695d", "url": "https://api.github.com/repos/rust-lang/rust/commits/754d9d1a0c3551b01126e8e88d1fc3ff45ca695d", "html_url": "https://github.com/rust-lang/rust/commit/754d9d1a0c3551b01126e8e88d1fc3ff45ca695d"}], "stats": {"total": 19, "additions": 19, "deletions": 0}, "files": [{"sha": "c6d5fc4af33ea936fce3f4bcf8d683aa6641ee99", "filename": "editors/code/src/config.ts", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/edb820c3293142b034a20f4502192080fe74072a/editors%2Fcode%2Fsrc%2Fconfig.ts", "raw_url": "https://github.com/rust-lang/rust/raw/edb820c3293142b034a20f4502192080fe74072a/editors%2Fcode%2Fsrc%2Fconfig.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fconfig.ts?ref=edb820c3293142b034a20f4502192080fe74072a", "patch": "@@ -42,6 +42,7 @@ export class Config {\n \n     private prevEnhancedTyping: null | boolean = null;\n     private prevCargoFeatures: null | CargoFeatures = null;\n+    private prevCargoWatchOptions: null | CargoWatchOptions = null;\n \n     constructor(ctx: vscode.ExtensionContext) {\n         vscode.workspace.onDidChangeConfiguration(_ => this.refresh(), ctx.subscriptions);\n@@ -173,6 +174,24 @@ export class Config {\n             requireReloadMessage = 'Changing cargo features requires a reload';\n         }\n         this.prevCargoFeatures = { ...this.cargoFeatures };\n+        \n+        if (\n+            this.prevCargoWatchOptions !== null &&\n+            (this.cargoWatchOptions.enable !==\n+                this.prevCargoWatchOptions.enable ||\n+                this.cargoWatchOptions.command !==\n+                this.prevCargoWatchOptions.command ||\n+                this.cargoWatchOptions.allTargets !==\n+                this.prevCargoWatchOptions.allTargets ||\n+                this.cargoWatchOptions.arguments.length !==\n+                this.prevCargoWatchOptions.arguments.length ||\n+                this.cargoWatchOptions.arguments.some(\n+                    (v, i) => v !== this.prevCargoWatchOptions!.arguments[i],\n+                ))\n+        ) {\n+            requireReloadMessage = 'Changing cargo-watch options requires a reload';\n+        }\n+        this.prevCargoWatchOptions = { ...this.cargoWatchOptions };\n \n         if (requireReloadMessage !== null) {\n             const reloadAction = 'Reload now';"}]}