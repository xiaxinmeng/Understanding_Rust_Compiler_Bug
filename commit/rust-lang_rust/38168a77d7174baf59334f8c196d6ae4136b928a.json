{"sha": "38168a77d7174baf59334f8c196d6ae4136b928a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM4MTY4YTc3ZDcxNzRiYWY1OTMzNGY4YzE5NmQ2YWU0MTM2YjkyOGE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-07-18T09:10:16Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-07-18T09:10:16Z"}, "message": "Auto merge of #52426 - ljedrz:#28273_cleanup, r=nikomatsakis\n\nEnable default inlining in platform intrinsics\n\nSince [#28273](https://github.com/rust-lang/rust/issues/28273) has been fixed for quite some time, it might be a good idea to return to default inlining in platform intrinsics.", "tree": {"sha": "a49ead03d8430512d12b627ef71bcb8bdd7c3d10", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a49ead03d8430512d12b627ef71bcb8bdd7c3d10"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/38168a77d7174baf59334f8c196d6ae4136b928a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/38168a77d7174baf59334f8c196d6ae4136b928a", "html_url": "https://github.com/rust-lang/rust/commit/38168a77d7174baf59334f8c196d6ae4136b928a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/38168a77d7174baf59334f8c196d6ae4136b928a/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cd5f5a129fab998a1ee7c72204d093dc475981d1", "url": "https://api.github.com/repos/rust-lang/rust/commits/cd5f5a129fab998a1ee7c72204d093dc475981d1", "html_url": "https://github.com/rust-lang/rust/commit/cd5f5a129fab998a1ee7c72204d093dc475981d1"}, {"sha": "e7f63f175689dd136c936949d795b37bff21bc29", "url": "https://api.github.com/repos/rust-lang/rust/commits/e7f63f175689dd136c936949d795b37bff21bc29", "html_url": "https://github.com/rust-lang/rust/commit/e7f63f175689dd136c936949d795b37bff21bc29"}], "stats": {"total": 21, "additions": 0, "deletions": 21}, "files": [{"sha": "046ea48638baf22f22cc5dc35b67b747e7376263", "filename": "src/etc/platform-intrinsics/generator.py", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Fetc%2Fplatform-intrinsics%2Fgenerator.py", "raw_url": "https://github.com/rust-lang/rust/raw/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Fetc%2Fplatform-intrinsics%2Fgenerator.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fplatform-intrinsics%2Fgenerator.py?ref=38168a77d7174baf59334f8c196d6ae4136b928a", "patch": "@@ -806,9 +806,6 @@ def open(platform):\n use {{Intrinsic, Type}};\n use IntrinsicDef::Named;\n \n-// The default inlining settings trigger a pathological behaviour in\n-// LLVM, which causes makes compilation very slow. See #28273.\n-#[inline(never)]\n pub fn find(name: &str) -> Option<Intrinsic> {{\n     if !name.starts_with(\"{0}\") {{ return None }}\n     Some(match &name[\"{0}\".len()..] {{'''.format(platform.platform_prefix())"}, {"sha": "14925cd6d4dac750b946bccd9ca321d3cb6b64b0", "filename": "src/librustc_platform_intrinsics/aarch64.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Faarch64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Faarch64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Faarch64.rs?ref=38168a77d7174baf59334f8c196d6ae4136b928a", "patch": "@@ -16,9 +16,6 @@\n use {Intrinsic, Type};\n use IntrinsicDef::Named;\n \n-// The default inlining settings trigger a pathological behaviour in\n-// LLVM, which causes makes compilation very slow. See #28273.\n-#[inline(never)]\n pub fn find(name: &str) -> Option<Intrinsic> {\n     if !name.starts_with(\"aarch64_v\") { return None }\n     Some(match &name[\"aarch64_v\".len()..] {"}, {"sha": "8b320d90fac2cf5a4c9912d80f40831ca032213b", "filename": "src/librustc_platform_intrinsics/arm.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Farm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Farm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Farm.rs?ref=38168a77d7174baf59334f8c196d6ae4136b928a", "patch": "@@ -16,9 +16,6 @@\n use {Intrinsic, Type};\n use IntrinsicDef::Named;\n \n-// The default inlining settings trigger a pathological behaviour in\n-// LLVM, which causes makes compilation very slow. See #28273.\n-#[inline(never)]\n pub fn find(name: &str) -> Option<Intrinsic> {\n     if !name.starts_with(\"arm_v\") { return None }\n     Some(match &name[\"arm_v\".len()..] {"}, {"sha": "65460cfb8bd5144869214c64f16be50288c24035", "filename": "src/librustc_platform_intrinsics/hexagon.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Fhexagon.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Fhexagon.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Fhexagon.rs?ref=38168a77d7174baf59334f8c196d6ae4136b928a", "patch": "@@ -16,9 +16,6 @@\n use {Intrinsic, Type};\n use IntrinsicDef::Named;\n \n-// The default inlining settings trigger a pathological behaviour in\n-// LLVM, which causes makes compilation very slow. See #28273.\n-#[inline(never)]\n pub fn find(name: &str) -> Option<Intrinsic> {\n     if !name.starts_with(\"Q6_\") { return None }\n     Some(match &name[\"Q6_\".len()..] {"}, {"sha": "0c0ee429d0cc4c38d89e745965c0dc32e1f005d9", "filename": "src/librustc_platform_intrinsics/nvptx.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Fnvptx.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Fnvptx.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Fnvptx.rs?ref=38168a77d7174baf59334f8c196d6ae4136b928a", "patch": "@@ -16,9 +16,6 @@\n use {Intrinsic, Type};\n use IntrinsicDef::Named;\n \n-// The default inlining settings trigger a pathological behaviour in\n-// LLVM, which causes makes compilation very slow. See #28273.\n-#[inline(never)]\n pub fn find(name: &str) -> Option<Intrinsic> {\n     if !name.starts_with(\"nvptx\") { return None }\n     Some(match &name[\"nvptx\".len()..] {"}, {"sha": "5c062c0ecec03c7eb35b7723418a2a7e4469dc13", "filename": "src/librustc_platform_intrinsics/powerpc.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Fpowerpc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Fpowerpc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Fpowerpc.rs?ref=38168a77d7174baf59334f8c196d6ae4136b928a", "patch": "@@ -16,9 +16,6 @@\n use {Intrinsic, Type};\n use IntrinsicDef::Named;\n \n-// The default inlining settings trigger a pathological behaviour in\n-// LLVM, which causes makes compilation very slow. See #28273.\n-#[inline(never)]\n pub fn find(name: &str) -> Option<Intrinsic> {\n     if !name.starts_with(\"powerpc\") { return None }\n     Some(match &name[\"powerpc\".len()..] {"}, {"sha": "5c01c3a118d2de5106d7fbef540bd2059d951bb0", "filename": "src/librustc_platform_intrinsics/x86.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Fx86.rs", "raw_url": "https://github.com/rust-lang/rust/raw/38168a77d7174baf59334f8c196d6ae4136b928a/src%2Flibrustc_platform_intrinsics%2Fx86.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_platform_intrinsics%2Fx86.rs?ref=38168a77d7174baf59334f8c196d6ae4136b928a", "patch": "@@ -16,9 +16,6 @@\n use {Intrinsic, Type};\n use IntrinsicDef::Named;\n \n-// The default inlining settings trigger a pathological behaviour in\n-// LLVM, which causes makes compilation very slow. See #28273.\n-#[inline(never)]\n pub fn find(name: &str) -> Option<Intrinsic> {\n     if !name.starts_with(\"x86\") { return None }\n     Some(match &name[\"x86\".len()..] {"}]}