{"sha": "e4ffff9e72f155dfcd1fda6042b725007973835d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU0ZmZmZjllNzJmMTU1ZGZjZDFmZGE2MDQyYjcyNTAwNzk3MzgzNWQ=", "commit": {"author": {"name": "Jason Newcomb", "email": "jsnewcomb@pm.me", "date": "2021-03-02T18:06:30Z"}, "committer": {"name": "Jason Newcomb", "email": "jsnewcomb@pm.me", "date": "2021-03-06T18:03:13Z"}, "message": "Use `LanguageItems::require`", "tree": {"sha": "7028a90740f4b176cc975d2859620d9029f8ec06", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7028a90740f4b176cc975d2859620d9029f8ec06"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e4ffff9e72f155dfcd1fda6042b725007973835d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\nComment: Created with Krypton\n\niF4EABYKAAYFAmBDw+gACgkQ2lnoZDo37QbheAEAr4x0YFjqXupy3nFpLm3fNFyl\nIzLXF7NKfV4FXN/S8rsA/0RXC9l0KnfpA3k+7q0YUbs+UXOyXcTlbGz2iqP0rn8O\n=K3sg\n-----END PGP SIGNATURE-----", "payload": "tree 7028a90740f4b176cc975d2859620d9029f8ec06\nparent f21320fd74490ba98f1ebca60c85626dd4d9e12d\nauthor Jason Newcomb <jsnewcomb@pm.me> 1614708390 -0500\ncommitter Jason Newcomb <jsnewcomb@pm.me> 1615053793 -0500\n\nUse `LanguageItems::require`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e4ffff9e72f155dfcd1fda6042b725007973835d", "html_url": "https://github.com/rust-lang/rust/commit/e4ffff9e72f155dfcd1fda6042b725007973835d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e4ffff9e72f155dfcd1fda6042b725007973835d/comments", "author": {"login": "Jarcho", "id": 7761774, "node_id": "MDQ6VXNlcjc3NjE3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7761774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jarcho", "html_url": "https://github.com/Jarcho", "followers_url": "https://api.github.com/users/Jarcho/followers", "following_url": "https://api.github.com/users/Jarcho/following{/other_user}", "gists_url": "https://api.github.com/users/Jarcho/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jarcho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jarcho/subscriptions", "organizations_url": "https://api.github.com/users/Jarcho/orgs", "repos_url": "https://api.github.com/users/Jarcho/repos", "events_url": "https://api.github.com/users/Jarcho/events{/privacy}", "received_events_url": "https://api.github.com/users/Jarcho/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Jarcho", "id": 7761774, "node_id": "MDQ6VXNlcjc3NjE3NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/7761774?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Jarcho", "html_url": "https://github.com/Jarcho", "followers_url": "https://api.github.com/users/Jarcho/followers", "following_url": "https://api.github.com/users/Jarcho/following{/other_user}", "gists_url": "https://api.github.com/users/Jarcho/gists{/gist_id}", "starred_url": "https://api.github.com/users/Jarcho/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Jarcho/subscriptions", "organizations_url": "https://api.github.com/users/Jarcho/orgs", "repos_url": "https://api.github.com/users/Jarcho/repos", "events_url": "https://api.github.com/users/Jarcho/events{/privacy}", "received_events_url": "https://api.github.com/users/Jarcho/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f21320fd74490ba98f1ebca60c85626dd4d9e12d", "url": "https://api.github.com/repos/rust-lang/rust/commits/f21320fd74490ba98f1ebca60c85626dd4d9e12d", "html_url": "https://github.com/rust-lang/rust/commit/f21320fd74490ba98f1ebca60c85626dd4d9e12d"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "3807d346f681683e60a4a2efcc70f3ea2c06efe4", "filename": "clippy_lints/src/lifetimes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e4ffff9e72f155dfcd1fda6042b725007973835d/clippy_lints%2Fsrc%2Flifetimes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4ffff9e72f155dfcd1fda6042b725007973835d/clippy_lints%2Fsrc%2Flifetimes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flifetimes.rs?ref=e4ffff9e72f155dfcd1fda6042b725007973835d", "patch": "@@ -360,7 +360,7 @@ impl<'a, 'tcx> Visitor<'tcx> for RefVisitor<'a, 'tcx> {\n         let trait_ref = &poly_tref.trait_ref;\n         if CLOSURE_TRAIT_BOUNDS\n             .iter()\n-            .any(|&item| trait_ref.trait_def_id() == self.cx.tcx.lang_items().items()[item as usize])\n+            .any(|&item| trait_ref.trait_def_id() == self.cx.tcx.lang_items().require(item).ok())\n         {\n             let mut sub_visitor = RefVisitor::new(self.cx);\n             sub_visitor.visit_trait_ref(trait_ref);"}, {"sha": "c420be26fc644fbceda0dfc189a7928f09b90679", "filename": "clippy_lints/src/types.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/e4ffff9e72f155dfcd1fda6042b725007973835d/clippy_lints%2Fsrc%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e4ffff9e72f155dfcd1fda6042b725007973835d/clippy_lints%2Fsrc%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftypes.rs?ref=e4ffff9e72f155dfcd1fda6042b725007973835d", "patch": "@@ -294,7 +294,7 @@ fn is_ty_param_lang_item(cx: &LateContext<'_>, qpath: &QPath<'tcx>, item: LangIt\n     if let TyKind::Path(qpath) = &ty.kind {\n         cx.qpath_res(qpath, ty.hir_id)\n             .opt_def_id()\n-            .and_then(|id| (cx.tcx.lang_items().items()[item as usize] == Some(id)).then(|| ty))\n+            .and_then(|id| (cx.tcx.lang_items().require(item) == Ok(id)).then(|| ty))\n     } else {\n         None\n     }\n@@ -431,7 +431,7 @@ impl Types {\n                             };\n                             let inner_span = match get_qpath_generic_tys(qpath).next() {\n                                 Some(ty) => ty.span,\n-                                _ => return,\n+                                None => return,\n                             };\n                             let mut applicability = Applicability::MachineApplicable;\n                             span_lint_and_sugg(\n@@ -467,7 +467,7 @@ impl Types {\n                             };\n                             let inner_span = match get_qpath_generic_tys(qpath).next() {\n                                 Some(ty) => ty.span,\n-                                _ => return,\n+                                None => return,\n                             };\n                             let mut applicability = Applicability::MachineApplicable;\n                             span_lint_and_sugg(\n@@ -517,7 +517,7 @@ impl Types {\n                             };\n                             let inner_span = match get_qpath_generic_tys(qpath).next() {\n                                 Some(ty) => ty.span,\n-                                _ => return,\n+                                None => return,\n                             };\n                             let mut applicability = Applicability::MachineApplicable;\n                             span_lint_and_sugg("}]}