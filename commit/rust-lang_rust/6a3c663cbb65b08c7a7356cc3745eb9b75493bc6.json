{"sha": "6a3c663cbb65b08c7a7356cc3745eb9b75493bc6", "node_id": "C_kwDOAAsO6NoAKDZhM2M2NjNjYmI2NWIwOGM3YTczNTZjYzM3NDVlYjliNzU0OTNiYzY", "commit": {"author": {"name": "Nicholas Nethercote", "email": "n.nethercote@gmail.com", "date": "2022-08-11T02:34:52Z"}, "committer": {"name": "Nicholas Nethercote", "email": "n.nethercote@gmail.com", "date": "2022-08-11T02:46:55Z"}, "message": "Change how `AssocItem` is reported.\n\nCurrently it's reported as either `TraitItem` or `ImplItem`. This commit\nchanges it to `AssocItem`, because having the report match the type name\nis (a) consistent with other types, and (b) the trait/impl split isn't\nthat important here.", "tree": {"sha": "8bfe6137a6d45d0b9ee02f01dcafe93209e09f56", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8bfe6137a6d45d0b9ee02f01dcafe93209e09f56"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6a3c663cbb65b08c7a7356cc3745eb9b75493bc6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6a3c663cbb65b08c7a7356cc3745eb9b75493bc6", "html_url": "https://github.com/rust-lang/rust/commit/6a3c663cbb65b08c7a7356cc3745eb9b75493bc6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6a3c663cbb65b08c7a7356cc3745eb9b75493bc6/comments", "author": {"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "288b6672be6560fe45f8bb033d581379ec38b4a0", "url": "https://api.github.com/repos/rust-lang/rust/commits/288b6672be6560fe45f8bb033d581379ec38b4a0", "html_url": "https://github.com/rust-lang/rust/commit/288b6672be6560fe45f8bb033d581379ec38b4a0"}], "stats": {"total": 12, "additions": 3, "deletions": 9}, "files": [{"sha": "9d3663240921acafa30615acd305f8ea6b01e8b4", "filename": "compiler/rustc_passes/src/hir_stats.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6a3c663cbb65b08c7a7356cc3745eb9b75493bc6/compiler%2Frustc_passes%2Fsrc%2Fhir_stats.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6a3c663cbb65b08c7a7356cc3745eb9b75493bc6/compiler%2Frustc_passes%2Fsrc%2Fhir_stats.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Fhir_stats.rs?ref=6a3c663cbb65b08c7a7356cc3745eb9b75493bc6", "patch": "@@ -333,11 +333,7 @@ impl<'v> ast_visit::Visitor<'v> for StatCollector<'v> {\n     }\n \n     fn visit_assoc_item(&mut self, item: &'v ast::AssocItem, ctxt: ast_visit::AssocCtxt) {\n-        let label = match ctxt {\n-            ast_visit::AssocCtxt::Trait => \"TraitItem\",\n-            ast_visit::AssocCtxt::Impl => \"ImplItem\",\n-        };\n-        self.record(label, Id::None, item);\n+        self.record(\"AssocItem\", Id::None, item);\n         ast_visit::walk_assoc_item(self, item, ctxt);\n     }\n "}, {"sha": "1b2eafc68db2b203e037dac77e655dede2455adc", "filename": "src/test/ui/stats/hir-stats.stderr", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6a3c663cbb65b08c7a7356cc3745eb9b75493bc6/src%2Ftest%2Fui%2Fstats%2Fhir-stats.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/6a3c663cbb65b08c7a7356cc3745eb9b75493bc6/src%2Ftest%2Fui%2Fstats%2Fhir-stats.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fstats%2Fhir-stats.stderr?ref=6a3c663cbb65b08c7a7356cc3745eb9b75493bc6", "patch": "@@ -17,10 +17,9 @@ FnDecl                           200             5            40\n Variant                          240             2           120\n Block                            288             6            48\n Attribute                        304             2           152\n-ImplItem                         320             2           160\n-TraitItem                        320             2           160\n GenericBound                     352             4            88\n GenericParam                     520             5           104\n+AssocItem                        640             4           160\n PathSegment                      720            30            24\n Expr                             832             8           104\n Pat                              840             7           120\n@@ -48,11 +47,10 @@ Param                            160             4            40\n FnDecl                           200             5            40\n Variant                          240             2           120\n Block                            288             6            48\n-ImplItem                         320             2           160\n-TraitItem                        320             2           160\n GenericBound                     352             4            88\n GenericParam                     520             5           104\n Attribute                        608             4           152\n+AssocItem                        640             4           160\n PathSegment                      792            33            24\n Pat                              840             7           120\n Expr                             936             9           104"}]}