{"sha": "b63c6bbfee45f90fb1b99016fd90cb5c22847a95", "node_id": "MDY6Q29tbWl0NzI0NzEyOmI2M2M2YmJmZWU0NWY5MGZiMWI5OTAxNmZkOTBjYjVjMjI4NDdhOTU=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2018-02-19T09:26:53Z"}, "committer": {"name": "Oliver Schneider", "email": "git-spam-no-reply9815368754983@oli-obk.de", "date": "2018-03-08T07:34:17Z"}, "message": "Add regression test", "tree": {"sha": "8832a109055e665b2e62beef6024bd3c55d3161e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8832a109055e665b2e62beef6024bd3c55d3161e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b63c6bbfee45f90fb1b99016fd90cb5c22847a95", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEYFTdM4NKd7XQft77pp+NIls619kFAlqg53kACgkQpp+NIls6\n19l6uQ/8Dnq56H8WK05DRiZL10UN7dOa5FZ9pByLUBilwI1ZdHEmLJjeO3HVI9kK\nXXY65x5X6VSpOs+FesfF22iAylVBmT5cGkqbEIsYHxn/YfGyQrpAarTf6qusbSxs\nkUJVQBxIww0JOOKC99berlXAe7Via/T8/g3GAEyTzm46PXFoGD3gnItxZfIZxONR\n6LFDubqjvAbk5X0+p+tm23+JVvXityFN5ogroTvvQ005odPvJ27TdZfMA2p30qIr\ngNvcQCBjUDwKY9zl0VgYabOTPsSA7hS4sv6J5pXcZZ8kDg5Ef98qtG4/o2nNLCRq\n7EUmQ5BlWWgIL+3iNWzmGJMWy4Gx9vy8fEQLiOAuIMta2E3MEvkaGs61sxOObBzp\n1tDEsrXdQjndyNMR76P40LKCJBIohtevyQGIv5asj9o8bGOdxo5rkqgUYpYKM1PB\nroyuf5y4y2z7Ubjck1gpwp5lK9j0eKd8ARYCXpB7mEn4XMzuPuAckritleOMlijC\nTEUoLlMzNL+pyNM1+LCHtiTohx8YH2B+TL802J3Uw/GqEpgCErL4XZZ4pZhBIZP9\ngWlm55XY4aHjGRCkKweTHMGgTb2axWQXDT9vPDaJEX34hcRsqkYG2sZWq8b0/Ztu\n8mKlwu3jN4bc6M/fp8D1bkllFEH9MsvwucETs9EFyIrVT0+HYkY=\n=GZ2p\n-----END PGP SIGNATURE-----", "payload": "tree 8832a109055e665b2e62beef6024bd3c55d3161e\nparent d98a2b90b2043e8b25701841c10e4598a3da2845\nauthor Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1519032413 +0100\ncommitter Oliver Schneider <git-spam-no-reply9815368754983@oli-obk.de> 1520494457 +0100\n\nAdd regression test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b63c6bbfee45f90fb1b99016fd90cb5c22847a95", "html_url": "https://github.com/rust-lang/rust/commit/b63c6bbfee45f90fb1b99016fd90cb5c22847a95", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b63c6bbfee45f90fb1b99016fd90cb5c22847a95/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d98a2b90b2043e8b25701841c10e4598a3da2845", "url": "https://api.github.com/repos/rust-lang/rust/commits/d98a2b90b2043e8b25701841c10e4598a3da2845", "html_url": "https://github.com/rust-lang/rust/commit/d98a2b90b2043e8b25701841c10e4598a3da2845"}], "stats": {"total": 34, "additions": 34, "deletions": 0}, "files": [{"sha": "c435e5fdaab4a108cb3e2c4171abc7303756bb70", "filename": "src/test/run-pass/ctfe/ice-48279.rs", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/b63c6bbfee45f90fb1b99016fd90cb5c22847a95/src%2Ftest%2Frun-pass%2Fctfe%2Fice-48279.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b63c6bbfee45f90fb1b99016fd90cb5c22847a95/src%2Ftest%2Frun-pass%2Fctfe%2Fice-48279.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fctfe%2Fice-48279.rs?ref=b63c6bbfee45f90fb1b99016fd90cb5c22847a95", "patch": "@@ -0,0 +1,34 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// https://github.com/rust-lang/rust/issues/48279\n+\n+#![feature(const_fn)]\n+\n+#[derive(PartialEq, Eq)]\n+pub struct NonZeroU32 {\n+    value: u32\n+}\n+\n+impl NonZeroU32 {\n+    const unsafe fn new_unchecked(value: u32) -> Self {\n+        NonZeroU32 { value }\n+    }\n+}\n+\n+//pub const FOO_ATOM: NonZeroU32 = unsafe { NonZeroU32::new_unchecked(7) };\n+pub const FOO_ATOM: NonZeroU32 = unsafe { NonZeroU32 { value: 7 } };\n+\n+fn main() {\n+    match None {\n+        Some(FOO_ATOM) => {}\n+        _ => {}\n+    }\n+}"}]}