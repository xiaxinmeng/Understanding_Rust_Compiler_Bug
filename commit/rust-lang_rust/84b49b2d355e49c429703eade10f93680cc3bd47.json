{"sha": "84b49b2d355e49c429703eade10f93680cc3bd47", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg0YjQ5YjJkMzU1ZTQ5YzQyOTcwM2VhZGUxMGY5MzY4MGNjM2JkNDc=", "commit": {"author": {"name": "Eduard Burtescu", "email": "edy.burt@gmail.com", "date": "2015-06-13T23:35:18Z"}, "committer": {"name": "Eduard Burtescu", "email": "edy.burt@gmail.com", "date": "2015-06-18T22:18:42Z"}, "message": "rustc_resolve: don't require redundant arguments to resolve_crate.", "tree": {"sha": "071b90ddc3e7d1f564cc93c3d57efda15417aeba", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/071b90ddc3e7d1f564cc93c3d57efda15417aeba"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/84b49b2d355e49c429703eade10f93680cc3bd47", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/84b49b2d355e49c429703eade10f93680cc3bd47", "html_url": "https://github.com/rust-lang/rust/commit/84b49b2d355e49c429703eade10f93680cc3bd47", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/84b49b2d355e49c429703eade10f93680cc3bd47/comments", "author": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "eddyb", "id": 77424, "node_id": "MDQ6VXNlcjc3NDI0", "avatar_url": "https://avatars.githubusercontent.com/u/77424?v=4", "gravatar_id": "", "url": "https://api.github.com/users/eddyb", "html_url": "https://github.com/eddyb", "followers_url": "https://api.github.com/users/eddyb/followers", "following_url": "https://api.github.com/users/eddyb/following{/other_user}", "gists_url": "https://api.github.com/users/eddyb/gists{/gist_id}", "starred_url": "https://api.github.com/users/eddyb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/eddyb/subscriptions", "organizations_url": "https://api.github.com/users/eddyb/orgs", "repos_url": "https://api.github.com/users/eddyb/repos", "events_url": "https://api.github.com/users/eddyb/events{/privacy}", "received_events_url": "https://api.github.com/users/eddyb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2e997ef2d487525ea41e78ba793cb6e7c61cb204", "url": "https://api.github.com/repos/rust-lang/rust/commits/2e997ef2d487525ea41e78ba793cb6e7c61cb204", "html_url": "https://github.com/rust-lang/rust/commit/2e997ef2d487525ea41e78ba793cb6e7c61cb204"}], "stats": {"total": 12, "additions": 3, "deletions": 9}, "files": [{"sha": "8640bcfe506963b8dee428b37cbf4ad541862697", "filename": "src/librustc_driver/driver.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/84b49b2d355e49c429703eade10f93680cc3bd47/src%2Flibrustc_driver%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/84b49b2d355e49c429703eade10f93680cc3bd47/src%2Flibrustc_driver%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Fdriver.rs?ref=84b49b2d355e49c429703eade10f93680cc3bd47", "patch": "@@ -602,11 +602,7 @@ pub fn phase_3_run_analysis_passes<'tcx>(sess: Session,\n         glob_map,\n     } =\n         time(time_passes, \"resolution\", (),\n-             |_| resolve::resolve_crate(&sess,\n-                                        &ast_map,\n-                                        &lang_items,\n-                                        krate,\n-                                        make_glob_map));\n+             |_| resolve::resolve_crate(&sess, &ast_map, make_glob_map));\n \n     // Discard MTWT tables that aren't required past resolution.\n     syntax::ext::mtwt::clear_tables();"}, {"sha": "5991fc5c1935876357aa640792453b7369012839", "filename": "src/librustc_driver/test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/84b49b2d355e49c429703eade10f93680cc3bd47/src%2Flibrustc_driver%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/84b49b2d355e49c429703eade10f93680cc3bd47/src%2Flibrustc_driver%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_driver%2Ftest.rs?ref=84b49b2d355e49c429703eade10f93680cc3bd47", "patch": "@@ -126,7 +126,7 @@ fn test_env<F>(source_string: &str,\n     // run just enough stuff to build a tcx:\n     let lang_items = lang_items::collect_language_items(krate, &sess);\n     let resolve::CrateMap { def_map, freevars, .. } =\n-        resolve::resolve_crate(&sess, &ast_map, &lang_items, krate, resolve::MakeGlobMap::No);\n+        resolve::resolve_crate(&sess, &ast_map, resolve::MakeGlobMap::No);\n     let named_region_map = resolve_lifetime::krate(&sess, krate, &def_map);\n     let region_map = region::resolve_crate(&sess, krate);\n     let tcx = ty::mk_ctxt(sess,"}, {"sha": "5d10b0d9a57b80b31990b6221e44f1cc87370e54", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/84b49b2d355e49c429703eade10f93680cc3bd47/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/84b49b2d355e49c429703eade10f93680cc3bd47/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=84b49b2d355e49c429703eade10f93680cc3bd47", "patch": "@@ -55,7 +55,6 @@ use rustc::lint;\n use rustc::metadata::csearch;\n use rustc::metadata::decoder::{DefLike, DlDef, DlField, DlImpl};\n use rustc::middle::def::*;\n-use rustc::middle::lang_items::LanguageItems;\n use rustc::middle::pat_util::pat_bindings;\n use rustc::middle::privacy::*;\n use rustc::middle::subst::{ParamSpace, FnSpace, TypeSpace};\n@@ -3689,10 +3688,9 @@ pub enum MakeGlobMap {\n /// Entry point to crate resolution.\n pub fn resolve_crate<'a, 'tcx>(session: &'a Session,\n                                ast_map: &'a ast_map::Map<'tcx>,\n-                               _: &LanguageItems,\n-                               krate: &Crate,\n                                make_glob_map: MakeGlobMap)\n                                -> CrateMap {\n+    let krate = ast_map.krate();\n     let mut resolver = Resolver::new(session, ast_map, krate.span, make_glob_map);\n \n     build_reduced_graph::build_reduced_graph(&mut resolver, krate);"}]}