{"sha": "fa8161ba2e36cd5ca6e17bf2b09c4307e7e4e2eb", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZhODE2MWJhMmUzNmNkNWNhNmUxN2JmMmIwOWM0MzA3ZTdlNGUyZWI=", "commit": {"author": {"name": "Michael Recachinas", "email": "mgr3yp@virginia.edu", "date": "2018-04-02T20:31:41Z"}, "committer": {"name": "Michael Recachinas", "email": "mgr3yp@virginia.edu", "date": "2018-04-02T20:34:04Z"}, "message": "Revert adding env! to tests", "tree": {"sha": "99533c28fc2d0eca9fbec329969c577cd3c3aa0e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/99533c28fc2d0eca9fbec329969c577cd3c3aa0e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fa8161ba2e36cd5ca6e17bf2b09c4307e7e4e2eb", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fa8161ba2e36cd5ca6e17bf2b09c4307e7e4e2eb", "html_url": "https://github.com/rust-lang/rust/commit/fa8161ba2e36cd5ca6e17bf2b09c4307e7e4e2eb", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fa8161ba2e36cd5ca6e17bf2b09c4307e7e4e2eb/comments", "author": null, "committer": null, "parents": [{"sha": "d504290839c2c6736b9a6d1f97ac8f4d48467341", "url": "https://api.github.com/repos/rust-lang/rust/commits/d504290839c2c6736b9a6d1f97ac8f4d48467341", "html_url": "https://github.com/rust-lang/rust/commit/d504290839c2c6736b9a6d1f97ac8f4d48467341"}], "stats": {"total": 80, "additions": 34, "deletions": 46}, "files": [{"sha": "c803294ab0ada31dce75fd4bde196802f0a8fd2a", "filename": "tests/ui/print_literal.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/fa8161ba2e36cd5ca6e17bf2b09c4307e7e4e2eb/tests%2Fui%2Fprint_literal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fa8161ba2e36cd5ca6e17bf2b09c4307e7e4e2eb/tests%2Fui%2Fprint_literal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fprint_literal.rs?ref=fa8161ba2e36cd5ca6e17bf2b09c4307e7e4e2eb", "patch": "@@ -10,12 +10,6 @@ fn main() {\n     println!(\"Hello {}\", world);\n     println!(\"3 in hex is {:X}\", 3);\n \n-    // this in theory shouldn't yield a warning,\n-    // but at present time, it's a known edge case\n-    // that isn't handled (because we can't expand\n-    // `println!` and not `env!`)\n-    println!(\"foo: {}\", env!(\"BAR\"));\n-\n     // these should throw warnings\n     print!(\"Hello {}\", \"world\");\n     println!(\"Hello {} {}\", world, \"world\");"}, {"sha": "982be7dc5373ea5591cc5dc71af8cab21f119471", "filename": "tests/ui/print_literal.stderr", "status": "modified", "additions": 34, "deletions": 40, "changes": 74, "blob_url": "https://github.com/rust-lang/rust/blob/fa8161ba2e36cd5ca6e17bf2b09c4307e7e4e2eb/tests%2Fui%2Fprint_literal.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/fa8161ba2e36cd5ca6e17bf2b09c4307e7e4e2eb/tests%2Fui%2Fprint_literal.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fprint_literal.stderr?ref=fa8161ba2e36cd5ca6e17bf2b09c4307e7e4e2eb", "patch": "@@ -1,106 +1,100 @@\n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:17:25\n+  --> $DIR/print_literal.rs:14:24\n    |\n-17 |     println!(\"foo: {}\", env!(\"BAR\"));\n-   |                         ^^^^^^^^^^^\n+14 |     print!(\"Hello {}\", \"world\");\n+   |                        ^^^^^^^\n    |\n    = note: `-D print-literal` implied by `-D warnings`\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:20:24\n-   |\n-20 |     print!(\"Hello {}\", \"world\");\n-   |                        ^^^^^^^\n-\n-error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:21:36\n+  --> $DIR/print_literal.rs:15:36\n    |\n-21 |     println!(\"Hello {} {}\", world, \"world\");\n+15 |     println!(\"Hello {} {}\", world, \"world\");\n    |                                    ^^^^^^^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:22:26\n+  --> $DIR/print_literal.rs:16:26\n    |\n-22 |     println!(\"Hello {}\", \"world\");\n+16 |     println!(\"Hello {}\", \"world\");\n    |                          ^^^^^^^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:23:30\n+  --> $DIR/print_literal.rs:17:30\n    |\n-23 |     println!(\"10 / 4 is {}\", 2.5);\n+17 |     println!(\"10 / 4 is {}\", 2.5);\n    |                              ^^^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:24:28\n+  --> $DIR/print_literal.rs:18:28\n    |\n-24 |     println!(\"2 + 1 = {}\", 3);\n+18 |     println!(\"2 + 1 = {}\", 3);\n    |                            ^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:25:31\n+  --> $DIR/print_literal.rs:19:31\n    |\n-25 |     println!(\"2 + 1 = {:.4}\", 3);\n+19 |     println!(\"2 + 1 = {:.4}\", 3);\n    |                               ^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:26:32\n+  --> $DIR/print_literal.rs:20:32\n    |\n-26 |     println!(\"2 + 1 = {:5.4}\", 3);\n+20 |     println!(\"2 + 1 = {:5.4}\", 3);\n    |                                ^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:27:33\n+  --> $DIR/print_literal.rs:21:33\n    |\n-27 |     println!(\"Debug test {:?}\", \"hello, world\");\n+21 |     println!(\"Debug test {:?}\", \"hello, world\");\n    |                                 ^^^^^^^^^^^^^^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:32:25\n+  --> $DIR/print_literal.rs:26:25\n    |\n-32 |     println!(\"{0} {1}\", \"hello\", \"world\");\n+26 |     println!(\"{0} {1}\", \"hello\", \"world\");\n    |                         ^^^^^^^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:32:34\n+  --> $DIR/print_literal.rs:26:34\n    |\n-32 |     println!(\"{0} {1}\", \"hello\", \"world\");\n+26 |     println!(\"{0} {1}\", \"hello\", \"world\");\n    |                                  ^^^^^^^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:33:25\n+  --> $DIR/print_literal.rs:27:25\n    |\n-33 |     println!(\"{1} {0}\", \"hello\", \"world\");\n+27 |     println!(\"{1} {0}\", \"hello\", \"world\");\n    |                         ^^^^^^^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:33:34\n+  --> $DIR/print_literal.rs:27:34\n    |\n-33 |     println!(\"{1} {0}\", \"hello\", \"world\");\n+27 |     println!(\"{1} {0}\", \"hello\", \"world\");\n    |                                  ^^^^^^^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:36:33\n+  --> $DIR/print_literal.rs:30:33\n    |\n-36 |     println!(\"{foo} {bar}\", foo=\"hello\", bar=\"world\");\n+30 |     println!(\"{foo} {bar}\", foo=\"hello\", bar=\"world\");\n    |                                 ^^^^^^^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:36:46\n+  --> $DIR/print_literal.rs:30:46\n    |\n-36 |     println!(\"{foo} {bar}\", foo=\"hello\", bar=\"world\");\n+30 |     println!(\"{foo} {bar}\", foo=\"hello\", bar=\"world\");\n    |                                              ^^^^^^^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:37:33\n+  --> $DIR/print_literal.rs:31:33\n    |\n-37 |     println!(\"{bar} {foo}\", foo=\"hello\", bar=\"world\");\n+31 |     println!(\"{bar} {foo}\", foo=\"hello\", bar=\"world\");\n    |                                 ^^^^^^^\n \n error: printing a literal with an empty format string\n-  --> $DIR/print_literal.rs:37:46\n+  --> $DIR/print_literal.rs:31:46\n    |\n-37 |     println!(\"{bar} {foo}\", foo=\"hello\", bar=\"world\");\n+31 |     println!(\"{bar} {foo}\", foo=\"hello\", bar=\"world\");\n    |                                              ^^^^^^^\n \n-error: aborting due to 17 previous errors\n+error: aborting due to 16 previous errors\n "}]}