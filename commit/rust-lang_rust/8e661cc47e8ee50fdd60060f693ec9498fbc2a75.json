{"sha": "8e661cc47e8ee50fdd60060f693ec9498fbc2a75", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhlNjYxY2M0N2U4ZWU1MGZkZDYwMDYwZjY5M2VjOTQ5OGZiYzJhNzU=", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2021-04-04T10:01:32Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2021-04-04T10:01:32Z"}, "message": "bump cargo-miri dependencies", "tree": {"sha": "42c4b89f18db3d05185ce38e247896943ee5227e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/42c4b89f18db3d05185ce38e247896943ee5227e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8e661cc47e8ee50fdd60060f693ec9498fbc2a75", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8e661cc47e8ee50fdd60060f693ec9498fbc2a75", "html_url": "https://github.com/rust-lang/rust/commit/8e661cc47e8ee50fdd60060f693ec9498fbc2a75", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8e661cc47e8ee50fdd60060f693ec9498fbc2a75/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "31bd77c7d82dda48f7c77ecc2314bc15219969c9", "url": "https://api.github.com/repos/rust-lang/rust/commits/31bd77c7d82dda48f7c77ecc2314bc15219969c9", "html_url": "https://github.com/rust-lang/rust/commit/31bd77c7d82dda48f7c77ecc2314bc15219969c9"}], "stats": {"total": 304, "additions": 268, "deletions": 36}, "files": [{"sha": "cf536ecbb20f82e7233ae8d37d6b425369f10c3e", "filename": "cargo-miri/Cargo.lock", "status": "modified", "additions": 258, "deletions": 30, "changes": 288, "blob_url": "https://github.com/rust-lang/rust/blob/8e661cc47e8ee50fdd60060f693ec9498fbc2a75/cargo-miri%2FCargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/8e661cc47e8ee50fdd60060f693ec9498fbc2a75/cargo-miri%2FCargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/cargo-miri%2FCargo.lock?ref=8e661cc47e8ee50fdd60060f693ec9498fbc2a75", "patch": "@@ -2,6 +2,12 @@\n # It is not intended for manual editing.\n version = 3\n \n+[[package]]\n+name = \"anyhow\"\n+version = \"1.0.40\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"28b2cd92db5cbd74e8e5028f7e27dd7aa3090e89e4f2a197cc7c8dfb69c7063b\"\n+\n [[package]]\n name = \"arrayref\"\n version = \"0.3.6\"\n@@ -49,12 +55,21 @@ version = \"0.1.0\"\n dependencies = [\n  \"directories\",\n  \"rustc-workspace-hack\",\n- \"rustc_version 0.2.3\",\n+ \"rustc_version\",\n  \"serde\",\n  \"serde_json\",\n  \"vergen\",\n ]\n \n+[[package]]\n+name = \"cc\"\n+version = \"1.0.67\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"e3c69b077ad434294d3ce9f1f6143a2a4b89a8a2d54ef813d85003a4fd1137fd\"\n+dependencies = [\n+ \"jobserver\",\n+]\n+\n [[package]]\n name = \"cfg-if\"\n version = \"1.0.0\"\n@@ -111,6 +126,36 @@ dependencies = [\n  \"winapi\",\n ]\n \n+[[package]]\n+name = \"enum-iterator\"\n+version = \"0.6.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"c79a6321a1197d7730510c7e3f6cb80432dfefecb32426de8cea0aa19b4bb8d7\"\n+dependencies = [\n+ \"enum-iterator-derive\",\n+]\n+\n+[[package]]\n+name = \"enum-iterator-derive\"\n+version = \"0.6.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"1e94aa31f7c0dc764f57896dc615ddd76fc13b0d5dca7eb6cc5e018a5a09ec06\"\n+dependencies = [\n+ \"proc-macro2\",\n+ \"quote\",\n+ \"syn\",\n+]\n+\n+[[package]]\n+name = \"form_urlencoded\"\n+version = \"1.0.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"5fc25a87fa4fd2094bffb06925852034d90a17f0d1e05197d4956d3555752191\"\n+dependencies = [\n+ \"matches\",\n+ \"percent-encoding\",\n+]\n+\n [[package]]\n name = \"getrandom\"\n version = \"0.1.16\"\n@@ -122,12 +167,57 @@ dependencies = [\n  \"wasi 0.9.0+wasi-snapshot-preview1\",\n ]\n \n+[[package]]\n+name = \"getset\"\n+version = \"0.1.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"24b328c01a4d71d2d8173daa93562a73ab0fe85616876f02500f53d82948c504\"\n+dependencies = [\n+ \"proc-macro-error\",\n+ \"proc-macro2\",\n+ \"quote\",\n+ \"syn\",\n+]\n+\n+[[package]]\n+name = \"git2\"\n+version = \"0.13.17\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"1d250f5f82326884bd39c2853577e70a121775db76818ffa452ed1e80de12986\"\n+dependencies = [\n+ \"bitflags\",\n+ \"libc\",\n+ \"libgit2-sys\",\n+ \"log\",\n+ \"url\",\n+]\n+\n+[[package]]\n+name = \"idna\"\n+version = \"0.2.2\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"89829a5d69c23d348314a7ac337fe39173b61149a9864deabd260983aed48c21\"\n+dependencies = [\n+ \"matches\",\n+ \"unicode-bidi\",\n+ \"unicode-normalization\",\n+]\n+\n [[package]]\n name = \"itoa\"\n version = \"0.4.7\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"dd25036021b0de88a0aff6b850051563c6516d0bf53f8638938edbb9de732736\"\n \n+[[package]]\n+name = \"jobserver\"\n+version = \"0.1.21\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"5c71313ebb9439f74b00d9d2dcec36440beaf57a6aa0623068441dd7cd81a7f2\"\n+dependencies = [\n+ \"libc\",\n+]\n+\n [[package]]\n name = \"lazy_static\"\n version = \"1.4.0\"\n@@ -140,6 +230,45 @@ version = \"0.2.92\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"56d855069fafbb9b344c0f962150cd2c1187975cb1c22c1522c240d8c4986714\"\n \n+[[package]]\n+name = \"libgit2-sys\"\n+version = \"0.12.18+1.1.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"3da6a42da88fc37ee1ecda212ffa254c25713532980005d5f7c0b0fbe7e6e885\"\n+dependencies = [\n+ \"cc\",\n+ \"libc\",\n+ \"libz-sys\",\n+ \"pkg-config\",\n+]\n+\n+[[package]]\n+name = \"libz-sys\"\n+version = \"1.1.2\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"602113192b08db8f38796c4e85c39e960c145965140e918018bcde1952429655\"\n+dependencies = [\n+ \"cc\",\n+ \"libc\",\n+ \"pkg-config\",\n+ \"vcpkg\",\n+]\n+\n+[[package]]\n+name = \"log\"\n+version = \"0.4.14\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"51b9bbe6c47d51fc3e1a9b945965946b4c44142ab8792c50835a980d362c2710\"\n+dependencies = [\n+ \"cfg-if\",\n+]\n+\n+[[package]]\n+name = \"matches\"\n+version = \"0.1.8\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"7ffc5c5338469d4d3ea17d269fa8ea3512ad247247c30bd2df69e68309ed0a08\"\n+\n [[package]]\n name = \"num-integer\"\n version = \"0.1.44\"\n@@ -159,6 +288,12 @@ dependencies = [\n  \"autocfg\",\n ]\n \n+[[package]]\n+name = \"percent-encoding\"\n+version = \"2.1.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"d4fd5641d01c8f18a23da7b6fe29298ff4b55afcccdf78973b24cf3175fee32e\"\n+\n [[package]]\n name = \"pest\"\n version = \"2.1.3\"\n@@ -168,6 +303,36 @@ dependencies = [\n  \"ucd-trie\",\n ]\n \n+[[package]]\n+name = \"pkg-config\"\n+version = \"0.3.19\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"3831453b3449ceb48b6d9c7ad7c96d5ea673e9b470a1dc578c2ce6521230884c\"\n+\n+[[package]]\n+name = \"proc-macro-error\"\n+version = \"1.0.4\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"da25490ff9892aab3fcf7c36f08cfb902dd3e71ca0f9f9517bea02a73a5ce38c\"\n+dependencies = [\n+ \"proc-macro-error-attr\",\n+ \"proc-macro2\",\n+ \"quote\",\n+ \"syn\",\n+ \"version_check\",\n+]\n+\n+[[package]]\n+name = \"proc-macro-error-attr\"\n+version = \"1.0.4\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"a1be40180e52ecc98ad80b184934baf3d0d29f979574e439af5a55274b35f869\"\n+dependencies = [\n+ \"proc-macro2\",\n+ \"quote\",\n+ \"version_check\",\n+]\n+\n [[package]]\n name = \"proc-macro2\"\n version = \"1.0.26\"\n@@ -223,52 +388,34 @@ checksum = \"fc71d2faa173b74b232dedc235e3ee1696581bb132fc116fa3626d6151a1a8fb\"\n \n [[package]]\n name = \"rustc_version\"\n-version = \"0.2.3\"\n+version = \"0.3.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"138e3e0acb6c9fb258b19b67cb8abd63c00679d2851805ea151465464fe9030a\"\n+checksum = \"f0dfe2087c51c460008730de8b57e6a320782fbfb312e1f4d520e6c6fae155ee\"\n dependencies = [\n- \"semver 0.9.0\",\n+ \"semver\",\n ]\n \n [[package]]\n-name = \"rustc_version\"\n-version = \"0.3.3\"\n+name = \"rustversion\"\n+version = \"1.0.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f0dfe2087c51c460008730de8b57e6a320782fbfb312e1f4d520e6c6fae155ee\"\n-dependencies = [\n- \"semver 0.11.0\",\n-]\n+checksum = \"cb5d2a036dc6d2d8fd16fde3498b04306e29bd193bf306a57427019b823d5acd\"\n \n [[package]]\n name = \"ryu\"\n version = \"1.0.5\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"71d301d4193d031abdd79ff7e3dd721168a9572ef3fe51a1517aba235bd8f86e\"\n \n-[[package]]\n-name = \"semver\"\n-version = \"0.9.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"1d7eb9ef2c18661902cc47e535f9bc51b78acd254da71d375c2f6720d9a40403\"\n-dependencies = [\n- \"semver-parser 0.7.0\",\n-]\n-\n [[package]]\n name = \"semver\"\n version = \"0.11.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"f301af10236f6df4160f7c3f04eec6dbc70ace82d23326abad5edee88801c6b6\"\n dependencies = [\n- \"semver-parser 0.10.2\",\n+ \"semver-parser\",\n ]\n \n-[[package]]\n-name = \"semver-parser\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3\"\n-\n [[package]]\n name = \"semver-parser\"\n version = \"0.10.2\"\n@@ -320,6 +467,26 @@ dependencies = [\n  \"unicode-xid\",\n ]\n \n+[[package]]\n+name = \"thiserror\"\n+version = \"1.0.24\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"e0f4a65597094d4483ddaed134f409b2cb7c1beccf25201a9f73c719254fa98e\"\n+dependencies = [\n+ \"thiserror-impl\",\n+]\n+\n+[[package]]\n+name = \"thiserror-impl\"\n+version = \"1.0.24\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"7765189610d8241a44529806d6fd1f2e0a08734313a35d5b3a556f92b381f3c0\"\n+dependencies = [\n+ \"proc-macro2\",\n+ \"quote\",\n+ \"syn\",\n+]\n+\n [[package]]\n name = \"time\"\n version = \"0.1.44\"\n@@ -331,29 +498,90 @@ dependencies = [\n  \"winapi\",\n ]\n \n+[[package]]\n+name = \"tinyvec\"\n+version = \"1.1.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"317cca572a0e89c3ce0ca1f1bdc9369547fe318a683418e42ac8f59d14701023\"\n+dependencies = [\n+ \"tinyvec_macros\",\n+]\n+\n+[[package]]\n+name = \"tinyvec_macros\"\n+version = \"0.1.0\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"cda74da7e1a664f795bb1f8a87ec406fb89a02522cf6e50620d016add6dbbf5c\"\n+\n [[package]]\n name = \"ucd-trie\"\n version = \"0.1.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"56dee185309b50d1f11bfedef0fe6d036842e3fb77413abef29f8f8d1c5d4c1c\"\n \n+[[package]]\n+name = \"unicode-bidi\"\n+version = \"0.3.4\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"49f2bd0c6468a8230e1db229cff8029217cf623c767ea5d60bfbd42729ea54d5\"\n+dependencies = [\n+ \"matches\",\n+]\n+\n+[[package]]\n+name = \"unicode-normalization\"\n+version = \"0.1.17\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"07fbfce1c8a97d547e8b5334978438d9d6ec8c20e38f56d4a4374d181493eaef\"\n+dependencies = [\n+ \"tinyvec\",\n+]\n+\n [[package]]\n name = \"unicode-xid\"\n version = \"0.2.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n checksum = \"f7fe0bb3479651439c9112f72b6c505038574c9fbb575ed1bf3b797fa39dd564\"\n \n+[[package]]\n+name = \"url\"\n+version = \"2.2.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"9ccd964113622c8e9322cfac19eb1004a07e636c545f325da085d5cdde6f1f8b\"\n+dependencies = [\n+ \"form_urlencoded\",\n+ \"idna\",\n+ \"matches\",\n+ \"percent-encoding\",\n+]\n+\n+[[package]]\n+name = \"vcpkg\"\n+version = \"0.2.11\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"b00bca6106a5e23f3eee943593759b7fcddb00554332e856d990c893966879fb\"\n+\n [[package]]\n name = \"vergen\"\n-version = \"3.2.0\"\n+version = \"5.1.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"e7141e445af09c8919f1d5f8a20dae0b20c3b57a45dee0d5823c6ed5d237f15a\"\n+checksum = \"dfbc87f9a7a9d61b15d51d1d3547284f67b6b4f1494ce3fc5814c101f35a5183\"\n dependencies = [\n- \"bitflags\",\n+ \"anyhow\",\n  \"chrono\",\n- \"rustc_version 0.3.3\",\n+ \"enum-iterator\",\n+ \"getset\",\n+ \"git2\",\n+ \"rustversion\",\n+ \"thiserror\",\n ]\n \n+[[package]]\n+name = \"version_check\"\n+version = \"0.9.3\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+checksum = \"5fecdca9a5291cc2b8dcf7dc02453fee791a280f3743cb0905f8822ae463b3fe\"\n+\n [[package]]\n name = \"wasi\"\n version = \"0.9.0+wasi-snapshot-preview1\""}, {"sha": "f0ef30eabcf7d35bd3471620588efe8793b4b7e8", "filename": "cargo-miri/Cargo.toml", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8e661cc47e8ee50fdd60060f693ec9498fbc2a75/cargo-miri%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/8e661cc47e8ee50fdd60060f693ec9498fbc2a75/cargo-miri%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/cargo-miri%2FCargo.toml?ref=8e661cc47e8ee50fdd60060f693ec9498fbc2a75", "patch": "@@ -15,7 +15,7 @@ doctest = false # and no doc tests\n \n [dependencies]\n directories = \"3\"\n-rustc_version = \"0.2.3\"\n+rustc_version = \"0.3\"\n serde_json = \"1.0.40\"\n \n # A noop dependency that changes in the Rust repository, it's a bit of a hack.\n@@ -28,4 +28,4 @@ rustc-workspace-hack = \"1.0.0\"\n serde = { version = \"*\", features = [\"derive\"] }\n \n [build-dependencies]\n-vergen = \"3\"\n+vergen = { version = \"5\", default_features = false, features = [\"git\"] }"}, {"sha": "af1dbad32a9ab33f1b4a63390eeaddfc012ed177", "filename": "cargo-miri/bin.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8e661cc47e8ee50fdd60060f693ec9498fbc2a75/cargo-miri%2Fbin.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8e661cc47e8ee50fdd60060f693ec9498fbc2a75/cargo-miri%2Fbin.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/cargo-miri%2Fbin.rs?ref=8e661cc47e8ee50fdd60060f693ec9498fbc2a75", "patch": "@@ -83,8 +83,8 @@ fn show_version() {\n     println!(\n         \"miri {} ({} {})\",\n         env!(\"CARGO_PKG_VERSION\"),\n-        env!(\"VERGEN_SHA_SHORT\"),\n-        env!(\"VERGEN_COMMIT_DATE\")\n+        env!(\"VERGEN_GIT_SHA_SHORT\"),\n+        env!(\"VERGEN_GIT_COMMIT_DATE\")\n     );\n }\n "}, {"sha": "cff135fe49c046dcd1e645d0dcaa8737c2363412", "filename": "cargo-miri/build.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/8e661cc47e8ee50fdd60060f693ec9498fbc2a75/cargo-miri%2Fbuild.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8e661cc47e8ee50fdd60060f693ec9498fbc2a75/cargo-miri%2Fbuild.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/cargo-miri%2Fbuild.rs?ref=8e661cc47e8ee50fdd60060f693ec9498fbc2a75", "patch": "@@ -1,7 +1,11 @@\n+use vergen::vergen;\n+\n fn main() {\n     // Don't rebuild miri when nothing changed.\n     println!(\"cargo:rerun-if-changed=build.rs\");\n     // vergen\n-    vergen::generate_cargo_keys(vergen::ConstantsFlags::all())\n-        .expect(\"Unable to generate vergen keys!\");\n+    let mut gen_config = vergen::Config::default();\n+    *gen_config.git_mut().sha_kind_mut() = vergen::ShaKind::Short;\n+    *gen_config.git_mut().commit_timestamp_kind_mut() = vergen::TimestampKind::DateOnly;\n+    vergen(gen_config).expect(\"Unable to generate vergen keys!\");\n }"}]}