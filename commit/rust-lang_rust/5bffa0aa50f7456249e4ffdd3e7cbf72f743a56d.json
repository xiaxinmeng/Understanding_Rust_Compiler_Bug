{"sha": "5bffa0aa50f7456249e4ffdd3e7cbf72f743a56d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViZmZhMGFhNTBmNzQ1NjI0OWU0ZmZkZDNlN2NiZjcyZjc0M2E1NmQ=", "commit": {"author": {"name": "QuietMisdreavus", "email": "grey@quietmisdreavus.net", "date": "2017-04-04T16:16:16Z"}, "committer": {"name": "QuietMisdreavus", "email": "grey@quietmisdreavus.net", "date": "2017-04-04T16:16:16Z"}, "message": "rustdoc: don't add a space before `{` on traits with where clauses\n\ncc #41025", "tree": {"sha": "e2d7063c157f5a3dfcbc5f689b66c293d0ba4e9e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e2d7063c157f5a3dfcbc5f689b66c293d0ba4e9e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5bffa0aa50f7456249e4ffdd3e7cbf72f743a56d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5bffa0aa50f7456249e4ffdd3e7cbf72f743a56d", "html_url": "https://github.com/rust-lang/rust/commit/5bffa0aa50f7456249e4ffdd3e7cbf72f743a56d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5bffa0aa50f7456249e4ffdd3e7cbf72f743a56d/comments", "author": {"login": "QuietMisdreavus", "id": 5217170, "node_id": "MDQ6VXNlcjUyMTcxNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5217170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuietMisdreavus", "html_url": "https://github.com/QuietMisdreavus", "followers_url": "https://api.github.com/users/QuietMisdreavus/followers", "following_url": "https://api.github.com/users/QuietMisdreavus/following{/other_user}", "gists_url": "https://api.github.com/users/QuietMisdreavus/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuietMisdreavus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuietMisdreavus/subscriptions", "organizations_url": "https://api.github.com/users/QuietMisdreavus/orgs", "repos_url": "https://api.github.com/users/QuietMisdreavus/repos", "events_url": "https://api.github.com/users/QuietMisdreavus/events{/privacy}", "received_events_url": "https://api.github.com/users/QuietMisdreavus/received_events", "type": "User", "site_admin": false}, "committer": {"login": "QuietMisdreavus", "id": 5217170, "node_id": "MDQ6VXNlcjUyMTcxNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5217170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuietMisdreavus", "html_url": "https://github.com/QuietMisdreavus", "followers_url": "https://api.github.com/users/QuietMisdreavus/followers", "following_url": "https://api.github.com/users/QuietMisdreavus/following{/other_user}", "gists_url": "https://api.github.com/users/QuietMisdreavus/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuietMisdreavus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuietMisdreavus/subscriptions", "organizations_url": "https://api.github.com/users/QuietMisdreavus/orgs", "repos_url": "https://api.github.com/users/QuietMisdreavus/repos", "events_url": "https://api.github.com/users/QuietMisdreavus/events{/privacy}", "received_events_url": "https://api.github.com/users/QuietMisdreavus/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6bc3d65948c3606c29beb8da359d2a45a36e5c15", "url": "https://api.github.com/repos/rust-lang/rust/commits/6bc3d65948c3606c29beb8da359d2a45a36e5c15", "html_url": "https://github.com/rust-lang/rust/commit/6bc3d65948c3606c29beb8da359d2a45a36e5c15"}], "stats": {"total": 11, "additions": 8, "deletions": 3}, "files": [{"sha": "b1ac6a5127f2a50cdd5507d69808647086a78458", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 8, "deletions": 3, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/5bffa0aa50f7456249e4ffdd3e7cbf72f743a56d/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5bffa0aa50f7456249e4ffdd3e7cbf72f743a56d/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=5bffa0aa50f7456249e4ffdd3e7cbf72f743a56d", "patch": "@@ -2045,13 +2045,18 @@ fn item_trait(w: &mut fmt::Formatter, cx: &Context, it: &clean::Item,\n     // Output the trait definition\n     write!(w, \"<pre class='rust trait'>\")?;\n     render_attributes(w, it)?;\n-    write!(w, \"{}{}trait {}{}{}{} \",\n+    write!(w, \"{}{}trait {}{}{}\",\n            VisSpace(&it.visibility),\n            UnsafetySpace(t.unsafety),\n            it.name.as_ref().unwrap(),\n            t.generics,\n-           bounds,\n-           WhereClause { gens: &t.generics, indent: 0, end_newline: true })?;\n+           bounds)?;\n+\n+    if !t.generics.where_predicates.is_empty() {\n+        write!(w, \"{}\", WhereClause { gens: &t.generics, indent: 0, end_newline: true })?;\n+    } else {\n+        write!(w, \" \")?;\n+    }\n \n     let types = t.items.iter().filter(|m| m.is_associated_type()).collect::<Vec<_>>();\n     let consts = t.items.iter().filter(|m| m.is_associated_const()).collect::<Vec<_>>();"}]}