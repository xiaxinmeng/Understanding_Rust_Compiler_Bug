{"sha": "d9f29fd9ed558a5ef0462736ac3c13e3cc12b736", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ5ZjI5ZmQ5ZWQ1NThhNWVmMDQ2MjczNmFjM2MxM2UzY2MxMmI3MzY=", "commit": {"author": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2020-10-01T18:13:13Z"}, "committer": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2020-10-05T05:12:08Z"}, "message": "Add comment explaining why libunwind doesn't need to link libgcc_eh", "tree": {"sha": "6b92d1340ed3da6c4c1c9f364a2ec94d566880af", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6b92d1340ed3da6c4c1c9f364a2ec94d566880af"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d9f29fd9ed558a5ef0462736ac3c13e3cc12b736", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d9f29fd9ed558a5ef0462736ac3c13e3cc12b736", "html_url": "https://github.com/rust-lang/rust/commit/d9f29fd9ed558a5ef0462736ac3c13e3cc12b736", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d9f29fd9ed558a5ef0462736ac3c13e3cc12b736/comments", "author": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "committer": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a3944a0abd134a0f2bcba656fcf9c487ed9fcbaf", "url": "https://api.github.com/repos/rust-lang/rust/commits/a3944a0abd134a0f2bcba656fcf9c487ed9fcbaf", "html_url": "https://github.com/rust-lang/rust/commit/a3944a0abd134a0f2bcba656fcf9c487ed9fcbaf"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "e7fa37bc9db19762fd1d71420cfe0087228bbb60", "filename": "library/unwind/src/lib.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/d9f29fd9ed558a5ef0462736ac3c13e3cc12b736/library%2Funwind%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9f29fd9ed558a5ef0462736ac3c13e3cc12b736/library%2Funwind%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Funwind%2Fsrc%2Flib.rs?ref=d9f29fd9ed558a5ef0462736ac3c13e3cc12b736", "patch": "@@ -42,6 +42,9 @@ cfg_if::cfg_if! {\n #[link(name = \"gcc_s\", cfg(not(target_feature = \"crt-static\")))]\n extern \"C\" {}\n \n+// When building with crt-static, we get `gcc_eh` from the `libc` crate, since\n+// glibc needs it, and needs it listed later on the linker command line. We\n+// don't want to duplicate it here.\n #[cfg(all(target_os = \"linux\", target_env = \"gnu\", not(feature = \"llvm-libunwind\")))]\n #[link(name = \"gcc_s\", cfg(not(target_feature = \"crt-static\")))]\n extern \"C\" {}"}]}