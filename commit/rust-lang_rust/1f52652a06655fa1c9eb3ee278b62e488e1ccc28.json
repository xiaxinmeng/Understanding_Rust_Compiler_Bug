{"sha": "1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "node_id": "MDY6Q29tbWl0NzI0NzEyOjFmNTI2NTJhMDY2NTVmYTFjOWViM2VlMjc4YjYyZTQ4OGUxY2NjMjg=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-05-14T00:12:56Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-05-14T00:33:29Z"}, "message": "rustc: Eliminate some indirection to the syntax crate", "tree": {"sha": "f9ca093e9a55d12c3973ddc0fb2c94cbda30649f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f9ca093e9a55d12c3973ddc0fb2c94cbda30649f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "html_url": "https://github.com/rust-lang/rust/commit/1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a2572fe77efe58a7c202824deeb0b78fca89cf7e", "url": "https://api.github.com/repos/rust-lang/rust/commits/a2572fe77efe58a7c202824deeb0b78fca89cf7e", "html_url": "https://github.com/rust-lang/rust/commit/a2572fe77efe58a7c202824deeb0b78fca89cf7e"}], "stats": {"total": 126, "additions": 49, "deletions": 77}, "files": [{"sha": "c0296575c1f60398fca6355baaf1440393d7ecbb", "filename": "src/cargo/cargo.rc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Fcargo%2Fcargo.rc", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Fcargo%2Fcargo.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcargo%2Fcargo.rc?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -22,6 +22,7 @@\n use core(vers = \"0.2\");\n use std(vers = \"0.2\");\n use rustc(vers = \"0.2\");\n+use syntax(name = \"rustsyntax\", vers = \"0.2\");\n \n import core::*;\n "}, {"sha": "cec10afe8a32c23c81127f3de56ff358e787691f", "filename": "src/cargo/cargo.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Fcargo%2Fcargo.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Fcargo%2Fcargo.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcargo%2Fcargo.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -1,10 +1,10 @@\n // cargo.rs - Rust package manager\n \n-import rustc::syntax::{ast, codemap};\n-import rustc::syntax::parse;\n+import syntax::{ast, codemap};\n+import syntax::parse;\n import rustc::util::filesearch::{get_cargo_root, get_cargo_root_nearest,\n                                  get_cargo_sysroot, libdir};\n-import rustc::driver::diagnostic;\n+import syntax::diagnostic;\n \n import result::{ok, err};\n import io::writer_util;"}, {"sha": "ae16acffe71c99c11d44e205a6fdb31898dc9828", "filename": "src/fuzzer/fuzzer.rc", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Ffuzzer%2Ffuzzer.rc", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Ffuzzer%2Ffuzzer.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ffuzzer%2Ffuzzer.rc?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -6,7 +6,7 @@\n \n use core(vers = \"0.2\");\n use std(vers = \"0.2\");\n-use rustc(vers = \"0.2\");\n+use syntax(name = \"rustsyntax\", vers = \"0.2\");\n \n import core::*;\n "}, {"sha": "50a551201e190add19e28bd4d12b4c57f37d2fcc", "filename": "src/fuzzer/fuzzer.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Ffuzzer%2Ffuzzer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Ffuzzer%2Ffuzzer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ffuzzer%2Ffuzzer.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -1,9 +1,9 @@\n import io::writer_util;\n \n-import rustc::syntax::{ast, ast_util, fold, visit, codemap};\n-import rustc::syntax::parse;\n-import rustc::syntax::print::pprust;\n-import rustc::driver::diagnostic;\n+import syntax::{ast, ast_util, fold, visit, codemap};\n+import syntax::parse;\n+import syntax::print::pprust;\n+import syntax::diagnostic;\n \n enum test_mode { tm_converge, tm_run, }\n type context = { mode: test_mode }; // + rng"}, {"sha": "5a79913d3d2efabdd17a79a142f0326d17940ec2", "filename": "src/rustc/driver.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustc%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustc%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fdriver.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -1,4 +1,4 @@\n-import rustsyntax::diagnostic;\n+import syntax::diagnostic;\n export diagnostic;\n \n export driver;"}, {"sha": "ee2239e3a9af5340f8abfb13ca89f33737d7b82d", "filename": "src/rustc/driver/rustc.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustc%2Fdriver%2Frustc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustc%2Fdriver%2Frustc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fdriver%2Frustc.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -3,6 +3,7 @@\n use core(vers = \"0.2\");\n use std(vers = \"0.2\");\n use rustc(vers = \"0.2\");\n+use syntax(name = \"rustsyntax\", vers = \"0.2\");\n \n import core::*;\n \n@@ -12,7 +13,7 @@ import std::getopts;\n import std::map::hashmap;\n import getopts::{opt_present};\n import rustc::driver::driver::*;\n-import rustc::syntax::codemap;\n+import syntax::codemap;\n import rustc::driver::diagnostic;\n import rustc::middle::lint;\n import io::reader_util;"}, {"sha": "b161fd0b248db0a683517118d32ae0f95cca4ba6", "filename": "src/rustc/metadata.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustc%2Fmetadata.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustc%2Fmetadata.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmetadata.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -45,7 +45,7 @@ mod back {\n mod driver {\n     import session = driver_::session;\n     export session;\n-    import diagnostic = rustsyntax::diagnostic;\n+    import diagnostic = syntax::diagnostic;\n     export diagnostic;\n }\n "}, {"sha": "f59bb55b43d94085aabe8bd94dd2243459d60fca", "filename": "src/rustc/metadata/astencode.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustc%2Fmetadata%2Fastencode.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustc%2Fmetadata%2Fastencode.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmetadata%2Fastencode.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -103,7 +103,7 @@ fn decode_inlined_item(cdata: cstore::crate_metadata,\n         alt ii {\n           ast::ii_item(i) {\n             #debug(\">>> DECODED ITEM >>>\\n%s\\n<<< DECODED ITEM <<<\",\n-                   rustsyntax::print::pprust::item_to_str(i));\n+                   syntax::print::pprust::item_to_str(i));\n           }\n           _ { }\n         }"}, {"sha": "71235ac3313321c533d82618d9506e2a1cd95acc", "filename": "src/rustc/rustc.rc", "status": "modified", "additions": 1, "deletions": 3, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustc%2Frustc.rc", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustc%2Frustc.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Frustc.rc?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -13,7 +13,7 @@\n \n use core(vers = \"0.2\");\n use std(vers = \"0.2\");\n-use rustsyntax(vers = \"0.2\");\n+use syntax(name = \"rustsyntax\", vers = \"0.2\");\n \n import core::*;\n \n@@ -82,8 +82,6 @@ mod middle {\n     }\n }\n \n-mod syntax;\n-\n mod front {\n     mod config;\n     mod test;"}, {"sha": "bdccf3b171d0df37c9e45d4519b96891b8d5792d", "filename": "src/rustc/syntax.rs", "status": "removed", "additions": 0, "deletions": 33, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/a2572fe77efe58a7c202824deeb0b78fca89cf7e/src%2Frustc%2Fsyntax.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a2572fe77efe58a7c202824deeb0b78fca89cf7e/src%2Frustc%2Fsyntax.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fsyntax.rs?ref=a2572fe77efe58a7c202824deeb0b78fca89cf7e", "patch": "@@ -1,33 +0,0 @@\n-// Temporary wrapper modules for migrating syntax to its own crate\n-import rustsyntax::codemap;\n-export codemap;\n-\n-import rustsyntax::ast;\n-export ast;\n-\n-import rustsyntax::ast_util;\n-export ast_util;\n-\n-import rustsyntax::visit;\n-export visit;\n-\n-import rustsyntax::fold;\n-export fold;\n-\n-import rustsyntax::print;\n-export print;\n-\n-import rustsyntax::parse;\n-export parse;\n-\n-import rustsyntax::util;\n-export util;\n-\n-import rustsyntax::attr;\n-export attr;\n-\n-import rustsyntax::ext;\n-export ext;\n-\n-import rustsyntax::diagnostic;\n-export diagnostic;\n\\ No newline at end of file"}, {"sha": "cdb71b59331ff6053640f52c6e95d4c04ab58059", "filename": "src/rustdoc/astsrv.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fastsrv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fastsrv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fastsrv.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -10,10 +10,10 @@\n import std::map::hashmap;\n import rustc::driver::session;\n import rustc::driver::driver;\n-import rustc::driver::diagnostic;\n-import rustc::driver::diagnostic::handler;\n-import rustc::syntax::ast;\n-import rustc::syntax::codemap;\n+import syntax::diagnostic;\n+import syntax::diagnostic::handler;\n+import syntax::ast;\n+import syntax::codemap;\n import rustc::middle::ast_map;\n import rustc::back::link;\n import rustc::util::filesearch;"}, {"sha": "872933548611e63658f26432ed1c109fda00f752", "filename": "src/rustdoc/attr_parser.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fattr_parser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fattr_parser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fattr_parser.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -5,8 +5,8 @@\n      an AST's attributes.\"\n )];\n \n-import rustc::syntax::ast;\n-import rustc::syntax::attr;\n+import syntax::ast;\n+import syntax::attr;\n import core::tuple;\n \n export crate_attrs;\n@@ -21,10 +21,10 @@ type crate_attrs = {\n mod test {\n \n     fn parse_attributes(source: str) -> [ast::attribute] {\n-        import rustc::syntax::parse;\n-        import rustc::syntax::parse::parser;\n-        import rustc::syntax::codemap;\n-        import rustc::driver::diagnostic;\n+        import syntax::parse;\n+        import parse::parser;\n+        import syntax::codemap;\n+        import syntax::diagnostic;\n \n         let cm = codemap::new_codemap();\n         let handler = diagnostic::mk_handler(none);"}, {"sha": "b2557ed2621f6a491bc28f54eb8f36503d87b1d4", "filename": "src/rustdoc/attr_pass.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fattr_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fattr_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fattr_pass.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -6,7 +6,7 @@\n      of the natural-language documentation for a crate.\"\n )];\n \n-import rustc::syntax::ast;\n+import syntax::ast;\n import rustc::middle::ast_map;\n import std::map::hashmap;\n "}, {"sha": "25bf5d6c64f4c1ecb97f929737bc4941ff125a47", "filename": "src/rustdoc/extract.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fextract.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fextract.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fextract.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -1,6 +1,6 @@\n #[doc = \"Converts the Rust AST to the rustdoc document model\"];\n \n-import rustc::syntax::ast;\n+import syntax::ast;\n \n export from_srv, extract;\n "}, {"sha": "a7452feec0581507d0fa9e3b78a91c3ad8896b4a", "filename": "src/rustdoc/markdown_pass.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fmarkdown_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fmarkdown_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fmarkdown_pass.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -180,7 +180,7 @@ fn write_header_(ctxt: ctxt, lvl: hlvl, title: str) {\n fn header_kind(doc: doc::itemtag) -> str {\n     alt doc {\n       doc::modtag(_) {\n-        if doc.id() == rustc::syntax::ast::crate_node_id {\n+        if doc.id() == syntax::ast::crate_node_id {\n             \"Crate\"\n         } else {\n             \"Module\"\n@@ -216,7 +216,7 @@ fn header_kind(doc: doc::itemtag) -> str {\n fn header_name(doc: doc::itemtag) -> str {\n     let fullpath = str::connect(doc.path() + [doc.name()], \"::\");\n     alt doc {\n-      doc::modtag(_) if doc.id() != rustc::syntax::ast::crate_node_id {\n+      doc::modtag(_) if doc.id() != syntax::ast::crate_node_id {\n         fullpath\n       }\n       doc::nmodtag(_) {"}, {"sha": "4855a87e99ada1b749deb6602692828e4a079bba", "filename": "src/rustdoc/page_pass.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fpage_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fpage_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fpage_pass.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -7,6 +7,8 @@ modules, pages for the crate, indexes, etc.\n \n \"];\n \n+import syntax::ast;\n+\n export mk_pass;\n \n fn mk_pass(output_style: config::output_style) -> pass {\n@@ -92,7 +94,7 @@ fn fold_mod(\n \n     let doc = fold::default_any_fold_mod(fold, doc);\n \n-    if doc.id() != rustc::syntax::ast::crate_node_id {\n+    if doc.id() != ast::crate_node_id {\n \n         let doc = strip_mod(doc);\n         let page = doc::itempage(doc::modtag(doc));"}, {"sha": "7428369f6b43c9c7675f45e5e4c97f3fadbcbbf8", "filename": "src/rustdoc/parse.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fparse.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fparse.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fparse.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -3,10 +3,10 @@\n import rustc::driver::driver;\n import driver::{file_input, str_input};\n import rustc::driver::session;\n-import rustc::driver::diagnostic;\n-import rustc::syntax::ast;\n-import rustc::syntax::codemap;\n-import rustc::syntax::parse;\n+import syntax::diagnostic;\n+import syntax::ast;\n+import syntax::codemap;\n+import syntax::parse;\n \n export from_file, from_str, from_file_sess, from_str_sess;\n "}, {"sha": "e40c19c6e0282502e7055e14893db22c675cd2d5", "filename": "src/rustdoc/path_pass.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fpath_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fpath_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fpath_pass.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -1,5 +1,7 @@\n #[doc = \"Records the full path to items\"];\n \n+import syntax::ast;\n+\n export mk_pass;\n \n fn mk_pass() -> pass {\n@@ -36,7 +38,7 @@ fn fold_item(fold: fold::fold<ctxt>, doc: doc::itemdoc) -> doc::itemdoc {\n }\n \n fn fold_mod(fold: fold::fold<ctxt>, doc: doc::moddoc) -> doc::moddoc {\n-    let is_topmod = doc.id() == rustc::syntax::ast::crate_node_id;\n+    let is_topmod = doc.id() == ast::crate_node_id;\n \n     if !is_topmod { vec::push(fold.ctxt.path, doc.name()); }\n     let doc = fold::default_any_fold_mod(fold, doc);"}, {"sha": "6d5cdc2e5a34878bb6f3ff88665647bc1f63c416", "filename": "src/rustdoc/prune_unexported_pass.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fprune_unexported_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Fprune_unexported_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Fprune_unexported_pass.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -1,7 +1,7 @@\n #[doc = \"Prunes branches of the tree that are not exported\"];\n \n-import rustc::syntax::ast;\n-import rustc::syntax::ast_util;\n+import syntax::ast;\n+import syntax::ast_util;\n import rustc::middle::ast_map;\n import std::map::hashmap;\n "}, {"sha": "89dceafd3af4161bcfc45de1dd754b5db69ed602", "filename": "src/rustdoc/reexport_pass.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Freexport_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Freexport_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Freexport_pass.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -3,12 +3,12 @@\n import std::map;\n import std::map::hashmap;\n import std::list;\n-import rustc::syntax::ast;\n-import rustc::syntax::ast_util;\n+import syntax::ast;\n+import syntax::ast_util;\n import rustc::util::common;\n import rustc::middle::ast_map;\n-import rustc::syntax::visit;\n-import rustc::syntax::codemap;\n+import syntax::visit;\n+import syntax::codemap;\n import rustc::middle::resolve;\n \n export mk_pass;\n@@ -316,7 +316,7 @@ fn merge_reexports(\n     fn fold_mod(fold: fold::fold<path_map>, doc: doc::moddoc) -> doc::moddoc {\n         let doc = fold::default_seq_fold_mod(fold, doc);\n \n-        let is_topmod = doc.id() == rustc::syntax::ast::crate_node_id;\n+        let is_topmod = doc.id() == ast::crate_node_id;\n \n         // In the case of the top mod, it really doesn't have a name;\n         // the name we have here is actually the crate name"}, {"sha": "bcb833df5b552ac75d04b87204f68210c3640153", "filename": "src/rustdoc/rustdoc.rc", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Frustdoc.rc", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Frustdoc.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Frustdoc.rc?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -14,6 +14,7 @@\n use core(vers = \"0.2\");\n use std(vers = \"0.2\");\n use rustc(vers = \"0.2\");\n+use syntax(name = \"rustsyntax\", vers = \"0.2\");\n \n import core::*;\n "}, {"sha": "0d7c29e4b6744c0acc684ac50f73374405013f4d", "filename": "src/rustdoc/tystr_pass.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Ftystr_pass.rs", "raw_url": "https://github.com/rust-lang/rust/raw/1f52652a06655fa1c9eb3ee278b62e488e1ccc28/src%2Frustdoc%2Ftystr_pass.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustdoc%2Ftystr_pass.rs?ref=1f52652a06655fa1c9eb3ee278b62e488e1ccc28", "patch": "@@ -1,8 +1,8 @@\n #[doc =\n   \"Pulls type information out of the AST and attaches it to the document\"];\n \n-import rustc::syntax::ast;\n-import rustc::syntax::print::pprust;\n+import syntax::ast;\n+import syntax::print::pprust;\n import rustc::middle::ast_map;\n import std::map::hashmap;\n "}]}