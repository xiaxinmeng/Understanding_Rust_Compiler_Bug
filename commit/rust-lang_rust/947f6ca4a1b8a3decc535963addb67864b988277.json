{"sha": "947f6ca4a1b8a3decc535963addb67864b988277", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk0N2Y2Y2E0YTFiOGEzZGVjYzUzNTk2M2FkZGI2Nzg2NGI5ODgyNzc=", "commit": {"author": {"name": "Flavio Percoco", "email": "flaper87@gmail.com", "date": "2015-01-27T22:41:25Z"}, "committer": {"name": "Flavio Percoco", "email": "flaper87@gmail.com", "date": "2015-01-29T07:44:25Z"}, "message": "Feature gate macro_reexport. Fixes #20906", "tree": {"sha": "8825e17d8e27eec5b5730d545d2466a54346c1a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8825e17d8e27eec5b5730d545d2466a54346c1a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/947f6ca4a1b8a3decc535963addb67864b988277", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/947f6ca4a1b8a3decc535963addb67864b988277", "html_url": "https://github.com/rust-lang/rust/commit/947f6ca4a1b8a3decc535963addb67864b988277", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/947f6ca4a1b8a3decc535963addb67864b988277/comments", "author": {"login": "flaper87", "id": 13816, "node_id": "MDQ6VXNlcjEzODE2", "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flaper87", "html_url": "https://github.com/flaper87", "followers_url": "https://api.github.com/users/flaper87/followers", "following_url": "https://api.github.com/users/flaper87/following{/other_user}", "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}", "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions", "organizations_url": "https://api.github.com/users/flaper87/orgs", "repos_url": "https://api.github.com/users/flaper87/repos", "events_url": "https://api.github.com/users/flaper87/events{/privacy}", "received_events_url": "https://api.github.com/users/flaper87/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flaper87", "id": 13816, "node_id": "MDQ6VXNlcjEzODE2", "avatar_url": "https://avatars.githubusercontent.com/u/13816?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flaper87", "html_url": "https://github.com/flaper87", "followers_url": "https://api.github.com/users/flaper87/followers", "following_url": "https://api.github.com/users/flaper87/following{/other_user}", "gists_url": "https://api.github.com/users/flaper87/gists{/gist_id}", "starred_url": "https://api.github.com/users/flaper87/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flaper87/subscriptions", "organizations_url": "https://api.github.com/users/flaper87/orgs", "repos_url": "https://api.github.com/users/flaper87/repos", "events_url": "https://api.github.com/users/flaper87/events{/privacy}", "received_events_url": "https://api.github.com/users/flaper87/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c5961ad06d45689b44ff305c15d6ec7ec65755a9", "url": "https://api.github.com/repos/rust-lang/rust/commits/c5961ad06d45689b44ff305c15d6ec7ec65755a9", "html_url": "https://github.com/rust-lang/rust/commit/c5961ad06d45689b44ff305c15d6ec7ec65755a9"}], "stats": {"total": 19, "additions": 18, "deletions": 1}, "files": [{"sha": "cf93c5610917e5cc53e4d51e6b10c6e500ce16f2", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/947f6ca4a1b8a3decc535963addb67864b988277/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/947f6ca4a1b8a3decc535963addb67864b988277/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=947f6ca4a1b8a3decc535963addb67864b988277", "patch": "@@ -114,7 +114,6 @@\n #![feature(old_impl_check)]\n #![feature(optin_builtin_traits)]\n #![feature(int_uint)]\n-#![feature(int_uint)]\n #![feature(core)]\n #![feature(libc)]\n #![feature(alloc)]\n@@ -123,6 +122,7 @@\n #![feature(rand)]\n #![feature(hash)]\n #![cfg_attr(test, feature(test))]\n+#![feature(macro_reexport)]\n \n // Don't link to std. We are std.\n #![no_std]"}, {"sha": "059838ceb6418dd3f41d72e069d4d5d3874de0b5", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/947f6ca4a1b8a3decc535963addb67864b988277/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/947f6ca4a1b8a3decc535963addb67864b988277/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=947f6ca4a1b8a3decc535963addb67864b988277", "patch": "@@ -109,6 +109,9 @@ static KNOWN_FEATURES: &'static [(&'static str, &'static str, Status)] = &[\n     // int and uint are now deprecated\n     (\"int_uint\", \"1.0.0\", Active),\n \n+    // macro reexport needs more discusion and stabilization\n+    (\"macro_reexport\", Active),\n+\n     // These are used to test this portion of the compiler, they don't actually\n     // mean anything\n     (\"test_accepted_feature\", \"1.0.0\", Accepted),\n@@ -272,6 +275,10 @@ impl<'a, 'v> Visitor<'v> for PostExpansionVisitor<'a> {\n                     self.gate_feature(\"plugin\", i.span,\n                                       \"compiler plugins are experimental \\\n                                        and possibly buggy\");\n+                } else if attr::contains_name(&i.attrs[], \"macro_reexport\") {\n+                    self.gate_feature(\"macro_reexport\", i.span,\n+                                      \"macros reexports are experimental \\\n+                                       and possibly buggy\");\n                 }\n             }\n "}, {"sha": "3918be88d867684e1d27b1a3eee7248da595e024", "filename": "src/test/auxiliary/macro_reexport_2.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2.rs?ref=947f6ca4a1b8a3decc535963addb67864b988277", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n #![crate_type = \"dylib\"]\n+#![feature(macro_reexport)]\n \n #[macro_reexport(reexported)]\n #[macro_use] #[no_link]"}, {"sha": "1d3dc26b0b4cb6beb04a03699bac8ec8709f0e54", "filename": "src/test/auxiliary/macro_reexport_2_no_use.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2_no_use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2_no_use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fauxiliary%2Fmacro_reexport_2_no_use.rs?ref=947f6ca4a1b8a3decc535963addb67864b988277", "patch": "@@ -9,6 +9,7 @@\n // except according to those terms.\n \n #![crate_type = \"dylib\"]\n+#![feature(macro_reexport)]\n \n #[macro_reexport(reexported)]\n #[no_link]"}, {"sha": "6c85cf5c7f5db91db5c73df5b9fca1095ec2c609", "filename": "src/test/compile-fail/macro-reexport-malformed-1.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-1.rs?ref=947f6ca4a1b8a3decc535963addb67864b988277", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(macro_reexport)]\n+\n #[macro_reexport]  //~ ERROR bad macro reexport\n extern crate std;\n "}, {"sha": "1dd0168181f83c3f7bebf5375933df21ab22e811", "filename": "src/test/compile-fail/macro-reexport-malformed-2.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-2.rs?ref=947f6ca4a1b8a3decc535963addb67864b988277", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(macro_reexport)]\n+\n #[macro_reexport=\"foo\"]  //~ ERROR bad macro reexport\n extern crate std;\n "}, {"sha": "7ae045f6e4f5160a556d407d36206f84a8972bdf", "filename": "src/test/compile-fail/macro-reexport-malformed-3.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-malformed-3.rs?ref=947f6ca4a1b8a3decc535963addb67864b988277", "patch": "@@ -8,6 +8,8 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+#![feature(macro_reexport)]\n+\n #[macro_reexport(foo=\"bar\")]  //~ ERROR bad macro reexport\n extern crate std;\n "}, {"sha": "6859ccfe3b7534b18965aedf024fe27847b80417", "filename": "src/test/compile-fail/macro-reexport-not-locally-visible.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-not-locally-visible.rs", "raw_url": "https://github.com/rust-lang/rust/raw/947f6ca4a1b8a3decc535963addb67864b988277/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-not-locally-visible.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmacro-reexport-not-locally-visible.rs?ref=947f6ca4a1b8a3decc535963addb67864b988277", "patch": "@@ -11,6 +11,8 @@\n // aux-build:macro_reexport_1.rs\n // ignore-stage1\n \n+#![feature(macro_reexport)]\n+\n #[macro_reexport(reexported)]\n #[no_link]\n extern crate macro_reexport_1;"}]}