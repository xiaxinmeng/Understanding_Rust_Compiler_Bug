{"sha": "e91d5ca197b966b841c4e49c921215a69f9d9c19", "node_id": "C_kwDOAAsO6NoAKGU5MWQ1Y2ExOTdiOTY2Yjg0MWM0ZTQ5YzkyMTIxNWE2OWY5ZDljMTk", "commit": {"author": {"name": "Jakob Degen", "email": "jakob@degen.com", "date": "2021-10-25T01:09:52Z"}, "committer": {"name": "Jakob Degen", "email": "jakob@degen.com", "date": "2021-10-27T02:17:01Z"}, "message": "Add test checking that Edition 2021 is suggested for .try_into() and fix other test", "tree": {"sha": "209fd00a81bb50d07b1db61c1ca4eb16ec35dcc6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/209fd00a81bb50d07b1db61c1ca4eb16ec35dcc6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e91d5ca197b966b841c4e49c921215a69f9d9c19", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e91d5ca197b966b841c4e49c921215a69f9d9c19", "html_url": "https://github.com/rust-lang/rust/commit/e91d5ca197b966b841c4e49c921215a69f9d9c19", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e91d5ca197b966b841c4e49c921215a69f9d9c19/comments", "author": {"login": "JakobDegen", "id": 51179609, "node_id": "MDQ6VXNlcjUxMTc5NjA5", "avatar_url": "https://avatars.githubusercontent.com/u/51179609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JakobDegen", "html_url": "https://github.com/JakobDegen", "followers_url": "https://api.github.com/users/JakobDegen/followers", "following_url": "https://api.github.com/users/JakobDegen/following{/other_user}", "gists_url": "https://api.github.com/users/JakobDegen/gists{/gist_id}", "starred_url": "https://api.github.com/users/JakobDegen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JakobDegen/subscriptions", "organizations_url": "https://api.github.com/users/JakobDegen/orgs", "repos_url": "https://api.github.com/users/JakobDegen/repos", "events_url": "https://api.github.com/users/JakobDegen/events{/privacy}", "received_events_url": "https://api.github.com/users/JakobDegen/received_events", "type": "User", "site_admin": false}, "committer": {"login": "JakobDegen", "id": 51179609, "node_id": "MDQ6VXNlcjUxMTc5NjA5", "avatar_url": "https://avatars.githubusercontent.com/u/51179609?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JakobDegen", "html_url": "https://github.com/JakobDegen", "followers_url": "https://api.github.com/users/JakobDegen/followers", "following_url": "https://api.github.com/users/JakobDegen/following{/other_user}", "gists_url": "https://api.github.com/users/JakobDegen/gists{/gist_id}", "starred_url": "https://api.github.com/users/JakobDegen/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JakobDegen/subscriptions", "organizations_url": "https://api.github.com/users/JakobDegen/orgs", "repos_url": "https://api.github.com/users/JakobDegen/repos", "events_url": "https://api.github.com/users/JakobDegen/events{/privacy}", "received_events_url": "https://api.github.com/users/JakobDegen/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "387675366868e19fe1a9542afa2738b8f9ca23de", "url": "https://api.github.com/repos/rust-lang/rust/commits/387675366868e19fe1a9542afa2738b8f9ca23de", "html_url": "https://github.com/rust-lang/rust/commit/387675366868e19fe1a9542afa2738b8f9ca23de"}], "stats": {"total": 33, "additions": 33, "deletions": 0}, "files": [{"sha": "d945b4c94ca2f128d6d628484b6d24bd519b11bc", "filename": "src/test/ui/rust-2021/future-prelude-collision-shadow.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/e91d5ca197b966b841c4e49c921215a69f9d9c19/src%2Ftest%2Fui%2Frust-2021%2Ffuture-prelude-collision-shadow.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e91d5ca197b966b841c4e49c921215a69f9d9c19/src%2Ftest%2Fui%2Frust-2021%2Ffuture-prelude-collision-shadow.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frust-2021%2Ffuture-prelude-collision-shadow.stderr?ref=e91d5ca197b966b841c4e49c921215a69f9d9c19", "patch": "@@ -15,6 +15,7 @@ LL |     fn try_into(self) -> Result<T, Self::Error>;\n    |        the method is available for `Rc<u8>` here\n    |\n    = help: items from traits can only be used if the trait is in scope\n+   = note: 'std::convert::TryInto' is included in the prelude starting in Edition 2021\n help: consider wrapping the receiver expression with the appropriate type\n    |\n LL |         let _: u32 = Box::new(3u8).try_into().unwrap();"}, {"sha": "f60ef587cfaad726577861d28ea07b44ce84bf70", "filename": "src/test/ui/suggestions/suggest-tryinto-edition-change.rs", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/e91d5ca197b966b841c4e49c921215a69f9d9c19/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-tryinto-edition-change.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e91d5ca197b966b841c4e49c921215a69f9d9c19/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-tryinto-edition-change.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-tryinto-edition-change.rs?ref=e91d5ca197b966b841c4e49c921215a69f9d9c19", "patch": "@@ -0,0 +1,11 @@\n+// Make sure that calling `.try_into()` in pre-2021 mentions Edition 2021 change\n+// edition:2018\n+\n+fn test() {\n+    let i: i16 = 0_i32.try_into().unwrap();\n+    //~^ ERROR no method named `try_into` found for type `i32` in the current scope\n+    //~| NOTE method not found in `i32`\n+    //~| NOTE 'std::convert::TryInto' is included in the prelude starting in Edition 2021\n+}\n+\n+fn main() {}"}, {"sha": "7915937023c0f380c4d4cbbb7fe94dc292a17c42", "filename": "src/test/ui/suggestions/suggest-tryinto-edition-change.stderr", "status": "added", "additions": 21, "deletions": 0, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/e91d5ca197b966b841c4e49c921215a69f9d9c19/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-tryinto-edition-change.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e91d5ca197b966b841c4e49c921215a69f9d9c19/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-tryinto-edition-change.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fsuggest-tryinto-edition-change.stderr?ref=e91d5ca197b966b841c4e49c921215a69f9d9c19", "patch": "@@ -0,0 +1,21 @@\n+error[E0599]: no method named `try_into` found for type `i32` in the current scope\n+  --> $DIR/suggest-tryinto-edition-change.rs:5:24\n+   |\n+LL |     let i: i16 = 0_i32.try_into().unwrap();\n+   |                        ^^^^^^^^ method not found in `i32`\n+   |\n+  ::: $SRC_DIR/core/src/convert/mod.rs:LL:COL\n+   |\n+LL |     fn try_into(self) -> Result<T, Self::Error>;\n+   |        -------- the method is available for `i32` here\n+   |\n+   = help: items from traits can only be used if the trait is in scope\n+   = note: 'std::convert::TryInto' is included in the prelude starting in Edition 2021\n+help: the following trait is implemented but not in scope; perhaps add a `use` for it:\n+   |\n+LL | use std::convert::TryInto;\n+   |\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0599`."}]}