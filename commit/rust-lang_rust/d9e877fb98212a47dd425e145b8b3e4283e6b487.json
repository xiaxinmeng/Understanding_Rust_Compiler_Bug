{"sha": "d9e877fb98212a47dd425e145b8b3e4283e6b487", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ5ZTg3N2ZiOTgyMTJhNDdkZDQyNWUxNDViOGIzZTQyODNlNmI0ODc=", "commit": {"author": {"name": "dylni", "email": "46035563+dylni@users.noreply.github.com", "date": "2020-08-24T14:53:25Z"}, "committer": {"name": "dylni", "email": "46035563+dylni@users.noreply.github.com", "date": "2020-08-24T14:53:25Z"}, "message": "Add more information to safety comment", "tree": {"sha": "7b0f1ee5f8ca467f097b83f2046992a73abcb5ec", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7b0f1ee5f8ca467f097b83f2046992a73abcb5ec"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d9e877fb98212a47dd425e145b8b3e4283e6b487", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d9e877fb98212a47dd425e145b8b3e4283e6b487", "html_url": "https://github.com/rust-lang/rust/commit/d9e877fb98212a47dd425e145b8b3e4283e6b487", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d9e877fb98212a47dd425e145b8b3e4283e6b487/comments", "author": {"login": "dylni", "id": 46035563, "node_id": "MDQ6VXNlcjQ2MDM1NTYz", "avatar_url": "https://avatars.githubusercontent.com/u/46035563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dylni", "html_url": "https://github.com/dylni", "followers_url": "https://api.github.com/users/dylni/followers", "following_url": "https://api.github.com/users/dylni/following{/other_user}", "gists_url": "https://api.github.com/users/dylni/gists{/gist_id}", "starred_url": "https://api.github.com/users/dylni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dylni/subscriptions", "organizations_url": "https://api.github.com/users/dylni/orgs", "repos_url": "https://api.github.com/users/dylni/repos", "events_url": "https://api.github.com/users/dylni/events{/privacy}", "received_events_url": "https://api.github.com/users/dylni/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dylni", "id": 46035563, "node_id": "MDQ6VXNlcjQ2MDM1NTYz", "avatar_url": "https://avatars.githubusercontent.com/u/46035563?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dylni", "html_url": "https://github.com/dylni", "followers_url": "https://api.github.com/users/dylni/followers", "following_url": "https://api.github.com/users/dylni/following{/other_user}", "gists_url": "https://api.github.com/users/dylni/gists{/gist_id}", "starred_url": "https://api.github.com/users/dylni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dylni/subscriptions", "organizations_url": "https://api.github.com/users/dylni/orgs", "repos_url": "https://api.github.com/users/dylni/repos", "events_url": "https://api.github.com/users/dylni/events{/privacy}", "received_events_url": "https://api.github.com/users/dylni/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d04e6b8de5fe6bbf203c534c35e6f55e8960ab46", "url": "https://api.github.com/repos/rust-lang/rust/commits/d04e6b8de5fe6bbf203c534c35e6f55e8960ab46", "html_url": "https://github.com/rust-lang/rust/commit/d04e6b8de5fe6bbf203c534c35e6f55e8960ab46"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "04014c8eb5a95ee2a782402059aa2f6a72d5bf9d", "filename": "library/alloc/src/collections/vec_deque.rs", "status": "modified", "additions": 3, "deletions": 1, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d9e877fb98212a47dd425e145b8b3e4283e6b487/library%2Falloc%2Fsrc%2Fcollections%2Fvec_deque.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d9e877fb98212a47dd425e145b8b3e4283e6b487/library%2Falloc%2Fsrc%2Fcollections%2Fvec_deque.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fcollections%2Fvec_deque.rs?ref=d9e877fb98212a47dd425e145b8b3e4283e6b487", "patch": "@@ -1086,7 +1086,9 @@ impl<T> VecDeque<T> {\n     where\n         R: RangeBounds<usize>,\n     {\n-        // SAFETY: This buffer is only used to check the range.\n+        // SAFETY: This buffer is only used to check the range. It might be partially\n+        // uninitialized, but `check_range` needs a contiguous slice.\n+        // https://github.com/rust-lang/rust/pull/75207#discussion_r471193682\n         let buffer = unsafe { slice::from_raw_parts(self.ptr(), self.len()) };\n         let Range { start, end } = buffer.check_range(range);\n         let tail = self.wrap_add(self.tail, start);"}]}