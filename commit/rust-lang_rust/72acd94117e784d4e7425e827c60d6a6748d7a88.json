{"sha": "72acd94117e784d4e7425e827c60d6a6748d7a88", "node_id": "C_kwDOAAsO6NoAKDcyYWNkOTQxMTdlNzg0ZDRlNzQyNWU4MjdjNjBkNmE2NzQ4ZDdhODg", "commit": {"author": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-08-17T19:50:59Z"}, "committer": {"name": "Camille GILLOT", "email": "gillot.camille@gmail.com", "date": "2022-08-17T19:50:59Z"}, "message": "Add const-generics test.", "tree": {"sha": "51ae3113f77d98551e8861fcdb8a75ef61d7aa07", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/51ae3113f77d98551e8861fcdb8a75ef61d7aa07"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/72acd94117e784d4e7425e827c60d6a6748d7a88", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/72acd94117e784d4e7425e827c60d6a6748d7a88", "html_url": "https://github.com/rust-lang/rust/commit/72acd94117e784d4e7425e827c60d6a6748d7a88", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/72acd94117e784d4e7425e827c60d6a6748d7a88/comments", "author": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cjgillot", "id": 1822483, "node_id": "MDQ6VXNlcjE4MjI0ODM=", "avatar_url": "https://avatars.githubusercontent.com/u/1822483?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cjgillot", "html_url": "https://github.com/cjgillot", "followers_url": "https://api.github.com/users/cjgillot/followers", "following_url": "https://api.github.com/users/cjgillot/following{/other_user}", "gists_url": "https://api.github.com/users/cjgillot/gists{/gist_id}", "starred_url": "https://api.github.com/users/cjgillot/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cjgillot/subscriptions", "organizations_url": "https://api.github.com/users/cjgillot/orgs", "repos_url": "https://api.github.com/users/cjgillot/repos", "events_url": "https://api.github.com/users/cjgillot/events{/privacy}", "received_events_url": "https://api.github.com/users/cjgillot/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "be2641a61f2d34fe4f937a49dacfcb82bf0b9075", "url": "https://api.github.com/repos/rust-lang/rust/commits/be2641a61f2d34fe4f937a49dacfcb82bf0b9075", "html_url": "https://github.com/rust-lang/rust/commit/be2641a61f2d34fe4f937a49dacfcb82bf0b9075"}], "stats": {"total": 23, "additions": 23, "deletions": 0}, "files": [{"sha": "b0de8ccd67847b23018d456d434a35d18de5ad23", "filename": "src/test/ui/traits/alias/self-in-const-generics.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/72acd94117e784d4e7425e827c60d6a6748d7a88/src%2Ftest%2Fui%2Ftraits%2Falias%2Fself-in-const-generics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/72acd94117e784d4e7425e827c60d6a6748d7a88/src%2Ftest%2Fui%2Ftraits%2Falias%2Fself-in-const-generics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Falias%2Fself-in-const-generics.rs?ref=72acd94117e784d4e7425e827c60d6a6748d7a88", "patch": "@@ -0,0 +1,12 @@\n+#![allow(incomplete_features)]\n+#![feature(generic_const_exprs)]\n+#![feature(trait_alias)]\n+\n+trait Bar<const N: usize> {}\n+\n+trait BB = Bar<{ 2 + 1 }>;\n+\n+fn foo(x: &dyn BB) {}\n+//~^ ERROR the trait alias `BB` cannot be made into an object [E0038]\n+\n+fn main() {}"}, {"sha": "61cc217cfbce60f8d51f1d0ce33fd48d7b6ccaa6", "filename": "src/test/ui/traits/alias/self-in-const-generics.stderr", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/72acd94117e784d4e7425e827c60d6a6748d7a88/src%2Ftest%2Fui%2Ftraits%2Falias%2Fself-in-const-generics.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/72acd94117e784d4e7425e827c60d6a6748d7a88/src%2Ftest%2Fui%2Ftraits%2Falias%2Fself-in-const-generics.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Falias%2Fself-in-const-generics.stderr?ref=72acd94117e784d4e7425e827c60d6a6748d7a88", "patch": "@@ -0,0 +1,11 @@\n+error[E0038]: the trait alias `BB` cannot be made into an object\n+  --> $DIR/self-in-const-generics.rs:9:16\n+   |\n+LL | fn foo(x: &dyn BB) {}\n+   |                ^^\n+   |\n+   = note: it cannot use `Self` as a type parameter in a supertrait or `where`-clause\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0038`."}]}