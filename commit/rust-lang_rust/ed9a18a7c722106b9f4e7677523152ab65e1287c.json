{"sha": "ed9a18a7c722106b9f4e7677523152ab65e1287c", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVkOWExOGE3YzcyMjEwNmI5ZjRlNzY3NzUyMzE1MmFiNjVlMTI4N2M=", "commit": {"author": {"name": "Jonathan Turner", "email": "jonathandturner@users.noreply.github.com", "date": "2016-08-20T14:09:34Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-08-20T14:09:34Z"}, "message": "Rollup merge of #35709 - matthew-piziak:add-trait-example, r=GuillaumeGomez\n\nreplace `Add` example with something more evocative of addition\n\nCurrently most of the operator traits use trivial implementation\nexamples that only perform side effects. Honestly, that might not be too\nbad for the sake of documentation; but anyway, here's a proposal to move\na slightly modified version of the module-level point-addition example\ninto the `Add` documentation, since it's more evocative of addition\nsemantics.\n\nPart of #29365", "tree": {"sha": "fe993a4f39d11eafdcaf5f617cd718ba10798d6f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fe993a4f39d11eafdcaf5f617cd718ba10798d6f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ed9a18a7c722106b9f4e7677523152ab65e1287c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ed9a18a7c722106b9f4e7677523152ab65e1287c", "html_url": "https://github.com/rust-lang/rust/commit/ed9a18a7c722106b9f4e7677523152ab65e1287c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ed9a18a7c722106b9f4e7677523152ab65e1287c/comments", "author": {"login": "jonathandturner", "id": 111457284, "node_id": "O_kgDOBqS0BA", "avatar_url": "https://avatars.githubusercontent.com/u/111457284?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonathandturner", "html_url": "https://github.com/jonathandturner", "followers_url": "https://api.github.com/users/jonathandturner/followers", "following_url": "https://api.github.com/users/jonathandturner/following{/other_user}", "gists_url": "https://api.github.com/users/jonathandturner/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonathandturner/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonathandturner/subscriptions", "organizations_url": "https://api.github.com/users/jonathandturner/orgs", "repos_url": "https://api.github.com/users/jonathandturner/repos", "events_url": "https://api.github.com/users/jonathandturner/events{/privacy}", "received_events_url": "https://api.github.com/users/jonathandturner/received_events", "type": "Organization", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2d32a69700478c73d3f58705ab587575aafd9517", "url": "https://api.github.com/repos/rust-lang/rust/commits/2d32a69700478c73d3f58705ab587575aafd9517", "html_url": "https://github.com/rust-lang/rust/commit/2d32a69700478c73d3f58705ab587575aafd9517"}, {"sha": "dcee93a8030c3a62c5a05b45b050f90251d93af8", "url": "https://api.github.com/repos/rust-lang/rust/commits/dcee93a8030c3a62c5a05b45b050f90251d93af8", "html_url": "https://github.com/rust-lang/rust/commit/dcee93a8030c3a62c5a05b45b050f90251d93af8"}], "stats": {"total": 34, "additions": 23, "deletions": 11}, "files": [{"sha": "d6db3c7fdb62b80af0842cb682233090b4e90ab9", "filename": "src/libcore/ops.rs", "status": "modified", "additions": 23, "deletions": 11, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/ed9a18a7c722106b9f4e7677523152ab65e1287c/src%2Flibcore%2Fops.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ed9a18a7c722106b9f4e7677523152ab65e1287c/src%2Flibcore%2Fops.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fops.rs?ref=ed9a18a7c722106b9f4e7677523152ab65e1287c", "patch": "@@ -67,8 +67,7 @@\n //! }\n //! ```\n //!\n-//! See the documentation for each trait for a minimum implementation that\n-//! prints something to the screen.\n+//! See the documentation for each trait for an example implementation.\n \n #![stable(feature = \"rust1\", since = \"1.0.0\")]\n \n@@ -171,25 +170,38 @@ macro_rules! forward_ref_binop {\n ///\n /// # Examples\n ///\n-/// A trivial implementation of `Add`. When `Foo + Foo` happens, it ends up\n-/// calling `add`, and therefore, `main` prints `Adding!`.\n+/// This example creates a `Point` struct that implements the `Add` trait, and\n+/// then demonstrates adding two `Point`s.\n ///\n /// ```\n /// use std::ops::Add;\n ///\n-/// struct Foo;\n+/// #[derive(Debug)]\n+/// struct Point {\n+///     x: i32,\n+///     y: i32,\n+/// }\n ///\n-/// impl Add for Foo {\n-///     type Output = Foo;\n+/// impl Add for Point {\n+///     type Output = Point;\n ///\n-///     fn add(self, _rhs: Foo) -> Foo {\n-///         println!(\"Adding!\");\n-///         self\n+///     fn add(self, other: Point) -> Point {\n+///         Point {\n+///             x: self.x + other.x,\n+///             y: self.y + other.y,\n+///         }\n+///     }\n+/// }\n+///\n+/// impl PartialEq for Point {\n+///     fn eq(&self, other: &Self) -> bool {\n+///         self.x == other.x && self.y == other.y\n ///     }\n /// }\n ///\n /// fn main() {\n-///     Foo + Foo;\n+///     assert_eq!(Point { x: 1, y: 0 } + Point { x: 2, y: 3 },\n+///                Point { x: 3, y: 3 });\n /// }\n /// ```\n #[lang = \"add\"]"}]}