{"sha": "844fbd83da4143bae253f3969d7b2cccb258bebc", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg0NGZiZDgzZGE0MTQzYmFlMjUzZjM5NjlkN2IyY2NjYjI1OGJlYmM=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-03-15T20:57:26Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-03-15T20:57:26Z"}, "message": "core: Make some functions pure", "tree": {"sha": "40c3e330818a990af5e378a2a0eff12d42df076e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/40c3e330818a990af5e378a2a0eff12d42df076e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/844fbd83da4143bae253f3969d7b2cccb258bebc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/844fbd83da4143bae253f3969d7b2cccb258bebc", "html_url": "https://github.com/rust-lang/rust/commit/844fbd83da4143bae253f3969d7b2cccb258bebc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/844fbd83da4143bae253f3969d7b2cccb258bebc/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "561511e62813840e930ff60e6918ccaea4f00f00", "url": "https://api.github.com/repos/rust-lang/rust/commits/561511e62813840e930ff60e6918ccaea4f00f00", "html_url": "https://github.com/rust-lang/rust/commit/561511e62813840e930ff60e6918ccaea4f00f00"}], "stats": {"total": 42, "additions": 21, "deletions": 21}, "files": [{"sha": "30116f92b0e2064e1506ba23040639b04232b180", "filename": "src/libcore/i16.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fi16.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fi16.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fi16.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -31,11 +31,11 @@ fn range(lo: i16, hi: i16, it: fn(i16)) {\n }\n \n #[doc = \"Computes the bitwise complement\"]\n-fn compl(i: i16) -> i16 {\n+pure fn compl(i: i16) -> i16 {\n     u16::compl(i as u16) as i16\n }\n \n #[doc = \"Computes the absolute value\"]\n-fn abs(i: i16) -> i16 {\n+pure fn abs(i: i16) -> i16 {\n     if negative(i) { -i } else { i }\n }"}, {"sha": "faa2c71821a49143f087b9b8d4317d47a30ff6a1", "filename": "src/libcore/i32.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fi32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fi32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fi32.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -31,11 +31,11 @@ fn range(lo: i32, hi: i32, it: fn(i32)) {\n }\n \n #[doc = \"Computes the bitwise complement\"]\n-fn compl(i: i32) -> i32 {\n+pure fn compl(i: i32) -> i32 {\n     u32::compl(i as u32) as i32\n }\n \n #[doc = \"Computes the absolute value\"]\n-fn abs(i: i32) -> i32 {\n+pure fn abs(i: i32) -> i32 {\n     if negative(i) { -i } else { i }\n }"}, {"sha": "a2e39a4b679b9a5920514ccda94bb7ee9e06e4c6", "filename": "src/libcore/i64.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fi64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fi64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fi64.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -31,11 +31,11 @@ fn range(lo: i64, hi: i64, it: fn(i64)) {\n }\n \n #[doc = \"Computes the bitwise complement\"]\n-fn compl(i: i64) -> i64 {\n+pure fn compl(i: i64) -> i64 {\n     u64::compl(i as u64) as i64\n }\n \n #[doc = \"Computes the absolute value\"]\n-fn abs(i: i64) -> i64 {\n+pure fn abs(i: i64) -> i64 {\n     if negative(i) { -i } else { i }\n }"}, {"sha": "6f6e375d01082bec752528bfba84cf4b0ef9a097", "filename": "src/libcore/i8.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fi8.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fi8.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fi8.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -31,11 +31,11 @@ fn range(lo: i8, hi: i8, it: fn(i8)) {\n }\n \n #[doc = \"Computes the bitwise complement\"]\n-fn compl(i: i8) -> i8 {\n+pure fn compl(i: i8) -> i8 {\n     u8::compl(i as u8) as i8\n }\n \n #[doc = \"Computes the absolute value\"]\n-fn abs(i: i8) -> i8 {\n+pure fn abs(i: i8) -> i8 {\n     if negative(i) { -i } else { i }\n }"}, {"sha": "00e7357c244a3c9796a0f4cf35ee2c26fb145cae", "filename": "src/libcore/int.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fint.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -37,7 +37,7 @@ pure fn nonnegative(x: int) -> bool { ret x >= 0; }\n \n // FIXME: Make sure this works with negative integers.\n #[doc = \"Produce a uint suitable for use in a hash table\"]\n-fn hash(x: int) -> uint { ret x as uint; }\n+pure fn hash(x: int) -> uint { ret x as uint; }\n \n #[doc = \"Iterate over the range `[lo..hi)`\"]\n fn range(lo: int, hi: int, it: fn(int)) {\n@@ -107,7 +107,7 @@ fn pow(base: int, exponent: uint) -> int {\n }\n \n #[doc = \"Computes the bitwise complement\"]\n-fn compl(i: int) -> int {\n+pure fn compl(i: int) -> int {\n     uint::compl(i as uint) as int\n }\n "}, {"sha": "09b9b8ccedc21f22ab86828ac691232f9d88c0b4", "filename": "src/libcore/result.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fresult.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fresult.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fresult.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -15,7 +15,7 @@ Get the value out of a successful result\n \n If the result is an error\n \"]\n-fn get<T: copy, U>(res: result<T, U>) -> T {\n+pure fn get<T: copy, U>(res: result<T, U>) -> T {\n     alt res {\n       ok(t) { t }\n       err(_) {\n@@ -33,7 +33,7 @@ Get the value out of an error result\n \n If the result is not an error\n \"]\n-fn get_err<T, U: copy>(res: result<T, U>) -> U {\n+pure fn get_err<T, U: copy>(res: result<T, U>) -> U {\n     alt res {\n       err(u) { u }\n       ok(_) {"}, {"sha": "e7fdaf8f2bae911eb77a5ea89123fcfd6c0ed646", "filename": "src/libcore/tuple.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Ftuple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Ftuple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ftuple.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -1,14 +1,14 @@\n-fn first<T:copy, U:copy>(pair: (T, U)) -> T {\n+pure fn first<T:copy, U:copy>(pair: (T, U)) -> T {\n     let (t, _) = pair;\n     ret t;\n }\n \n-fn second<T:copy, U:copy>(pair: (T, U)) -> U {\n+pure fn second<T:copy, U:copy>(pair: (T, U)) -> U {\n     let (_, u) = pair;\n     ret u;\n }\n \n-fn swap<T:copy, U:copy>(pair: (T, U)) -> (U, T) {\n+pure fn swap<T:copy, U:copy>(pair: (T, U)) -> (U, T) {\n     let (t, u) = pair;\n     ret (u, t);\n }"}, {"sha": "eb0965057e7e48dea1b3775d89aa13efd0f1cdab", "filename": "src/libcore/u16.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fu16.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fu16.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fu16.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -31,6 +31,6 @@ fn range(lo: u16, hi: u16, it: fn(u16)) {\n }\n \n #[doc = \"Computes the bitwise complement\"]\n-fn compl(i: u16) -> u16 {\n+pure fn compl(i: u16) -> u16 {\n     max_value ^ i\n }"}, {"sha": "dfe88b19e6a6ebbe76bb7ba29826aa93588f56aa", "filename": "src/libcore/u32.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fu32.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fu32.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fu32.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -26,7 +26,7 @@ fn range(lo: u32, hi: u32, it: fn(u32)) {\n }\n \n #[doc = \"Computes the bitwise complement\"]\n-fn compl(i: u32) -> u32 {\n+pure fn compl(i: u32) -> u32 {\n     max_value ^ i\n }\n "}, {"sha": "a7542894452a86119dd913c99a75906609bce8a8", "filename": "src/libcore/u64.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fu64.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fu64.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fu64.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -82,6 +82,6 @@ fn from_str(buf: str, radix: u64) -> option<u64> {\n }\n \n #[doc = \"Computes the bitwise complement\"]\n-fn compl(i: u64) -> u64 {\n+pure fn compl(i: u64) -> u64 {\n     max_value ^ i\n }"}, {"sha": "613b1d6b15b96e55ac0dcd46750e2151aa3406a7", "filename": "src/libcore/u8.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fu8.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fu8.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fu8.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -28,7 +28,7 @@ fn range(lo: u8, hi: u8, it: fn(u8)) {\n }\n \n #[doc = \"Computes the bitwise complement\"]\n-fn compl(i: u8) -> u8 {\n+pure fn compl(i: u8) -> u8 {\n     max_value ^ i\n }\n "}, {"sha": "d2b04d78dca271d4b0d320111ce2529ecc849bda", "filename": "src/libcore/uint.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fuint.rs", "raw_url": "https://github.com/rust-lang/rust/raw/844fbd83da4143bae253f3969d7b2cccb258bebc/src%2Flibcore%2Fuint.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fuint.rs?ref=844fbd83da4143bae253f3969d7b2cccb258bebc", "patch": "@@ -74,7 +74,7 @@ is either `x/y` or `x/y + 1`.\n pure fn div_floor(x: uint, y: uint) -> uint { ret x / y; }\n \n #[doc = \"Produce a uint suitable for use in a hash table\"]\n-fn hash(x: uint) -> uint { ret x; }\n+pure fn hash(x: uint) -> uint { ret x; }\n \n #[doc = \"Iterate over the range [`lo`..`hi`)\"]\n #[inline(always)]\n@@ -188,7 +188,7 @@ fn to_str(num: uint, radix: uint) -> str {\n fn str(i: uint) -> str { ret to_str(i, 10u); }\n \n #[doc = \"Computes the bitwise complement\"]\n-fn compl(i: uint) -> uint {\n+pure fn compl(i: uint) -> uint {\n     max_value ^ i\n }\n "}]}