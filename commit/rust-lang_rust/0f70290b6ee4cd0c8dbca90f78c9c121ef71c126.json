{"sha": "0f70290b6ee4cd0c8dbca90f78c9c121ef71c126", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBmNzAyOTBiNmVlNGNkMGM4ZGJjYTkwZjc4YzljMTIxZWY3MWMxMjY=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-09-20T13:23:24Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-09-20T13:23:24Z"}, "message": "don't confuse macro with !=\n\ncloses #1871", "tree": {"sha": "4ae08d7c9e1036eb154147b854bd001a1a8247e5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4ae08d7c9e1036eb154147b854bd001a1a8247e5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0f70290b6ee4cd0c8dbca90f78c9c121ef71c126", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0f70290b6ee4cd0c8dbca90f78c9c121ef71c126", "html_url": "https://github.com/rust-lang/rust/commit/0f70290b6ee4cd0c8dbca90f78c9c121ef71c126", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0f70290b6ee4cd0c8dbca90f78c9c121ef71c126/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "44bab3621d74f1aec922300a3b3f4476907ba2ac", "url": "https://api.github.com/repos/rust-lang/rust/commits/44bab3621d74f1aec922300a3b3f4476907ba2ac", "html_url": "https://github.com/rust-lang/rust/commit/44bab3621d74f1aec922300a3b3f4476907ba2ac"}], "stats": {"total": 71, "additions": 70, "deletions": 1}, "files": [{"sha": "a5a5b6d73418fad6cf5861700f3aacd419420fc3", "filename": "crates/ra_parser/src/grammar/types.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f70290b6ee4cd0c8dbca90f78c9c121ef71c126/crates%2Fra_parser%2Fsrc%2Fgrammar%2Ftypes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f70290b6ee4cd0c8dbca90f78c9c121ef71c126/crates%2Fra_parser%2Fsrc%2Fgrammar%2Ftypes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar%2Ftypes.rs?ref=0f70290b6ee4cd0c8dbca90f78c9c121ef71c126", "patch": "@@ -256,7 +256,7 @@ fn path_or_macro_type_(p: &mut Parser, allow_bounds: bool) {\n     let m = p.start();\n     paths::type_path(p);\n \n-    let kind = if p.at(T![!]) {\n+    let kind = if p.at(T![!]) && !p.at(T![!=]) {\n         items::macro_call_after_excl(p);\n         MACRO_CALL\n     } else {"}, {"sha": "6210683cea36c94bc8458d58c2772369affd6b40", "filename": "crates/ra_syntax/test_data/parser/ok/0056_neq_in_type.rs", "status": "added", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0f70290b6ee4cd0c8dbca90f78c9c121ef71c126/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0056_neq_in_type.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f70290b6ee4cd0c8dbca90f78c9c121ef71c126/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0056_neq_in_type.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0056_neq_in_type.rs?ref=0f70290b6ee4cd0c8dbca90f78c9c121ef71c126", "patch": "@@ -0,0 +1,3 @@\n+fn main() {\n+    if 1.0f32.floor() as i64 != 1.0f32.floor() as i64 {}\n+}"}, {"sha": "4a4ad84cab9a061a12638abd28af785de2cde557", "filename": "crates/ra_syntax/test_data/parser/ok/0056_neq_in_type.txt", "status": "added", "additions": 66, "deletions": 0, "changes": 66, "blob_url": "https://github.com/rust-lang/rust/blob/0f70290b6ee4cd0c8dbca90f78c9c121ef71c126/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0056_neq_in_type.txt", "raw_url": "https://github.com/rust-lang/rust/raw/0f70290b6ee4cd0c8dbca90f78c9c121ef71c126/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0056_neq_in_type.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0056_neq_in_type.txt?ref=0f70290b6ee4cd0c8dbca90f78c9c121ef71c126", "patch": "@@ -0,0 +1,66 @@\n+SOURCE_FILE@[0; 71)\n+  FN_DEF@[0; 70)\n+    FN_KW@[0; 2) \"fn\"\n+    WHITESPACE@[2; 3) \" \"\n+    NAME@[3; 7)\n+      IDENT@[3; 7) \"main\"\n+    PARAM_LIST@[7; 9)\n+      L_PAREN@[7; 8) \"(\"\n+      R_PAREN@[8; 9) \")\"\n+    WHITESPACE@[9; 10) \" \"\n+    BLOCK_EXPR@[10; 70)\n+      BLOCK@[10; 70)\n+        L_CURLY@[10; 11) \"{\"\n+        WHITESPACE@[11; 16) \"\\n    \"\n+        IF_EXPR@[16; 68)\n+          IF_KW@[16; 18) \"if\"\n+          WHITESPACE@[18; 19) \" \"\n+          CONDITION@[19; 65)\n+            BIN_EXPR@[19; 65)\n+              CAST_EXPR@[19; 40)\n+                METHOD_CALL_EXPR@[19; 33)\n+                  LITERAL@[19; 25)\n+                    FLOAT_NUMBER@[19; 25) \"1.0f32\"\n+                  DOT@[25; 26) \".\"\n+                  NAME_REF@[26; 31)\n+                    IDENT@[26; 31) \"floor\"\n+                  ARG_LIST@[31; 33)\n+                    L_PAREN@[31; 32) \"(\"\n+                    R_PAREN@[32; 33) \")\"\n+                WHITESPACE@[33; 34) \" \"\n+                AS_KW@[34; 36) \"as\"\n+                WHITESPACE@[36; 37) \" \"\n+                PATH_TYPE@[37; 40)\n+                  PATH@[37; 40)\n+                    PATH_SEGMENT@[37; 40)\n+                      NAME_REF@[37; 40)\n+                        IDENT@[37; 40) \"i64\"\n+              WHITESPACE@[40; 41) \" \"\n+              NEQ@[41; 43) \"!=\"\n+              WHITESPACE@[43; 44) \" \"\n+              CAST_EXPR@[44; 65)\n+                METHOD_CALL_EXPR@[44; 58)\n+                  LITERAL@[44; 50)\n+                    FLOAT_NUMBER@[44; 50) \"1.0f32\"\n+                  DOT@[50; 51) \".\"\n+                  NAME_REF@[51; 56)\n+                    IDENT@[51; 56) \"floor\"\n+                  ARG_LIST@[56; 58)\n+                    L_PAREN@[56; 57) \"(\"\n+                    R_PAREN@[57; 58) \")\"\n+                WHITESPACE@[58; 59) \" \"\n+                AS_KW@[59; 61) \"as\"\n+                WHITESPACE@[61; 62) \" \"\n+                PATH_TYPE@[62; 65)\n+                  PATH@[62; 65)\n+                    PATH_SEGMENT@[62; 65)\n+                      NAME_REF@[62; 65)\n+                        IDENT@[62; 65) \"i64\"\n+          WHITESPACE@[65; 66) \" \"\n+          BLOCK_EXPR@[66; 68)\n+            BLOCK@[66; 68)\n+              L_CURLY@[66; 67) \"{\"\n+              R_CURLY@[67; 68) \"}\"\n+        WHITESPACE@[68; 69) \"\\n\"\n+        R_CURLY@[69; 70) \"}\"\n+  WHITESPACE@[70; 71) \"\\n\""}]}