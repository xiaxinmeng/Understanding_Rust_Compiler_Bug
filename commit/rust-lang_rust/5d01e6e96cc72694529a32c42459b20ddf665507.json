{"sha": "5d01e6e96cc72694529a32c42459b20ddf665507", "node_id": "C_kwDOAAsO6NoAKDVkMDFlNmU5NmNjNzI2OTQ1MjlhMzJjNDI0NTliMjBkZGY2NjU1MDc", "commit": {"author": {"name": "y21", "email": "30553356+y21@users.noreply.github.com", "date": "2023-03-13T12:06:31Z"}, "committer": {"name": "y21", "email": "30553356+y21@users.noreply.github.com", "date": "2023-04-07T10:04:55Z"}, "message": "new lint: suspicious_doc_comments", "tree": {"sha": "676be747cddec7898da12bd06858dda35f0628bb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/676be747cddec7898da12bd06858dda35f0628bb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5d01e6e96cc72694529a32c42459b20ddf665507", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5d01e6e96cc72694529a32c42459b20ddf665507", "html_url": "https://github.com/rust-lang/rust/commit/5d01e6e96cc72694529a32c42459b20ddf665507", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5d01e6e96cc72694529a32c42459b20ddf665507/comments", "author": {"login": "y21", "id": 30553356, "node_id": "MDQ6VXNlcjMwNTUzMzU2", "avatar_url": "https://avatars.githubusercontent.com/u/30553356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/y21", "html_url": "https://github.com/y21", "followers_url": "https://api.github.com/users/y21/followers", "following_url": "https://api.github.com/users/y21/following{/other_user}", "gists_url": "https://api.github.com/users/y21/gists{/gist_id}", "starred_url": "https://api.github.com/users/y21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/y21/subscriptions", "organizations_url": "https://api.github.com/users/y21/orgs", "repos_url": "https://api.github.com/users/y21/repos", "events_url": "https://api.github.com/users/y21/events{/privacy}", "received_events_url": "https://api.github.com/users/y21/received_events", "type": "User", "site_admin": false}, "committer": {"login": "y21", "id": 30553356, "node_id": "MDQ6VXNlcjMwNTUzMzU2", "avatar_url": "https://avatars.githubusercontent.com/u/30553356?v=4", "gravatar_id": "", "url": "https://api.github.com/users/y21", "html_url": "https://github.com/y21", "followers_url": "https://api.github.com/users/y21/followers", "following_url": "https://api.github.com/users/y21/following{/other_user}", "gists_url": "https://api.github.com/users/y21/gists{/gist_id}", "starred_url": "https://api.github.com/users/y21/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/y21/subscriptions", "organizations_url": "https://api.github.com/users/y21/orgs", "repos_url": "https://api.github.com/users/y21/repos", "events_url": "https://api.github.com/users/y21/events{/privacy}", "received_events_url": "https://api.github.com/users/y21/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b8cbce8e6aea52f694efe058df546e8028b224ef", "url": "https://api.github.com/repos/rust-lang/rust/commits/b8cbce8e6aea52f694efe058df546e8028b224ef", "html_url": "https://github.com/rust-lang/rust/commit/b8cbce8e6aea52f694efe058df546e8028b224ef"}], "stats": {"total": 427, "additions": 427, "deletions": 0}, "files": [{"sha": "559b560dde4ba3fbd14e5a43d89bb37e0e3b8ccb", "filename": "CHANGELOG.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5d01e6e96cc72694529a32c42459b20ddf665507/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/5d01e6e96cc72694529a32c42459b20ddf665507/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=5d01e6e96cc72694529a32c42459b20ddf665507", "patch": "@@ -4925,6 +4925,7 @@ Released 2018-09-13\n [`suspicious_arithmetic_impl`]: https://rust-lang.github.io/rust-clippy/master/index.html#suspicious_arithmetic_impl\n [`suspicious_assignment_formatting`]: https://rust-lang.github.io/rust-clippy/master/index.html#suspicious_assignment_formatting\n [`suspicious_command_arg_space`]: https://rust-lang.github.io/rust-clippy/master/index.html#suspicious_command_arg_space\n+[`suspicious_doc_comments`]: https://rust-lang.github.io/rust-clippy/master/index.html#suspicious_doc_comments\n [`suspicious_else_formatting`]: https://rust-lang.github.io/rust-clippy/master/index.html#suspicious_else_formatting\n [`suspicious_map`]: https://rust-lang.github.io/rust-clippy/master/index.html#suspicious_map\n [`suspicious_op_assign_impl`]: https://rust-lang.github.io/rust-clippy/master/index.html#suspicious_op_assign_impl"}, {"sha": "f24dab627809546fc455fa820c89bf69e8f5f1d3", "filename": "clippy_lints/src/declared_lints.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5d01e6e96cc72694529a32c42459b20ddf665507/clippy_lints%2Fsrc%2Fdeclared_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d01e6e96cc72694529a32c42459b20ddf665507/clippy_lints%2Fsrc%2Fdeclared_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdeclared_lints.rs?ref=5d01e6e96cc72694529a32c42459b20ddf665507", "patch": "@@ -569,6 +569,7 @@ pub(crate) static LINTS: &[&crate::LintInfo] = &[\n     crate::strings::STR_TO_STRING_INFO,\n     crate::strings::TRIM_SPLIT_WHITESPACE_INFO,\n     crate::strlen_on_c_strings::STRLEN_ON_C_STRINGS_INFO,\n+    crate::suspicious_doc_comments::SUSPICIOUS_DOC_COMMENTS_INFO,\n     crate::suspicious_operation_groupings::SUSPICIOUS_OPERATION_GROUPINGS_INFO,\n     crate::suspicious_trait_impl::SUSPICIOUS_ARITHMETIC_IMPL_INFO,\n     crate::suspicious_trait_impl::SUSPICIOUS_OP_ASSIGN_IMPL_INFO,"}, {"sha": "bac82eca81748d309c48943eea4ce85538148cf9", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/5d01e6e96cc72694529a32c42459b20ddf665507/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d01e6e96cc72694529a32c42459b20ddf665507/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=5d01e6e96cc72694529a32c42459b20ddf665507", "patch": "@@ -284,6 +284,7 @@ mod slow_vector_initialization;\n mod std_instead_of_core;\n mod strings;\n mod strlen_on_c_strings;\n+mod suspicious_doc_comments;\n mod suspicious_operation_groupings;\n mod suspicious_trait_impl;\n mod suspicious_xor_used_as_pow;\n@@ -958,6 +959,7 @@ pub fn register_plugins(store: &mut rustc_lint::LintStore, sess: &Session, conf:\n     store.register_late_pass(|_| Box::new(lines_filter_map_ok::LinesFilterMapOk));\n     store.register_late_pass(|_| Box::new(tests_outside_test_module::TestsOutsideTestModule));\n     store.register_late_pass(|_| Box::new(manual_slice_size_calculation::ManualSliceSizeCalculation));\n+    store.register_early_pass(|| Box::new(suspicious_doc_comments::SuspiciousDocComments));\n     // add lints here, do not remove this comment, it's used in `new_lint`\n }\n "}, {"sha": "e5746ca99cac19808c3f272ac3cb6b29117a186b", "filename": "clippy_lints/src/suspicious_doc_comments.rs", "status": "added", "additions": 94, "deletions": 0, "changes": 94, "blob_url": "https://github.com/rust-lang/rust/blob/5d01e6e96cc72694529a32c42459b20ddf665507/clippy_lints%2Fsrc%2Fsuspicious_doc_comments.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d01e6e96cc72694529a32c42459b20ddf665507/clippy_lints%2Fsrc%2Fsuspicious_doc_comments.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fsuspicious_doc_comments.rs?ref=5d01e6e96cc72694529a32c42459b20ddf665507", "patch": "@@ -0,0 +1,94 @@\n+use clippy_utils::diagnostics::{multispan_sugg_with_applicability, span_lint_and_then};\n+use if_chain::if_chain;\n+use rustc_ast::{token::CommentKind, AttrKind, AttrStyle, Attribute, Item};\n+use rustc_errors::Applicability;\n+use rustc_lint::{EarlyContext, EarlyLintPass};\n+use rustc_session::{declare_lint_pass, declare_tool_lint};\n+use rustc_span::Span;\n+\n+declare_clippy_lint! {\n+    /// ### What it does\n+    /// Detects the use of outer doc comments (`///`, `/**`) followed by a bang (`!`): `///!`\n+    ///\n+    /// ### Why is this bad?\n+    /// Triple-slash comments (known as \"outer doc comments\") apply to items that follow it.\n+    /// An outer doc comment followed by a bang (i.e. `///!`) has no specific meaning.\n+    ///\n+    /// The user most likely meant to write an inner doc comment (`//!`, `/*!`), which\n+    /// applies to the parent item (i.e. the item that the comment is contained in,\n+    /// usually a module or crate).\n+    ///\n+    /// ### Known problems\n+    /// Inner doc comments can only appear before items, so there are certain cases where the suggestion\n+    /// made by this lint is not valid code. For example:\n+    /// ```rs\n+    /// fn foo() {}\n+    /// ///!\n+    /// fn bar() {}\n+    /// ```\n+    /// This lint detects the doc comment and suggests changing it to `//!`, but an inner doc comment\n+    /// is not valid at that position.\n+    ///\n+    /// ### Example\n+    /// In this example, the doc comment is attached to the *function*, rather than the *module*.\n+    /// ```rust\n+    /// pub mod util {\n+    ///     ///! This module contains utility functions.\n+    ///\n+    ///     pub fn dummy() {}\n+    /// }\n+    /// ```\n+    ///\n+    /// Use instead:\n+    /// ```rust\n+    /// pub mod util {\n+    ///     //! This module contains utility functions.\n+    ///\n+    ///     pub fn dummy() {}\n+    /// }\n+    /// ```\n+    #[clippy::version = \"1.70.0\"]\n+    pub SUSPICIOUS_DOC_COMMENTS,\n+    suspicious,\n+    \"suspicious usage of (outer) doc comments\"\n+}\n+declare_lint_pass!(SuspiciousDocComments => [SUSPICIOUS_DOC_COMMENTS]);\n+\n+const WARNING: &str = \"this is an outer doc comment and does not apply to the parent module or crate\";\n+const HELP: &str = \"use an inner doc comment to document the parent module or crate\";\n+\n+impl EarlyLintPass for SuspiciousDocComments {\n+    fn check_item(&mut self, cx: &EarlyContext<'_>, item: &Item) {\n+        let replacements = collect_doc_comment_replacements(&item.attrs);\n+\n+        if let Some(((lo_span, _), (hi_span, _))) = replacements.first().zip(replacements.last()) {\n+            let span = lo_span.to(*hi_span);\n+\n+            span_lint_and_then(cx, SUSPICIOUS_DOC_COMMENTS, span, WARNING, |diag| {\n+                multispan_sugg_with_applicability(diag, HELP, Applicability::MaybeIncorrect, replacements);\n+            });\n+        }\n+    }\n+}\n+\n+fn collect_doc_comment_replacements(attrs: &[Attribute]) -> Vec<(Span, String)> {\n+    attrs\n+        .iter()\n+        .filter_map(|attr| {\n+            if_chain! {\n+                if let AttrKind::DocComment(com_kind, sym) = attr.kind;\n+                if let AttrStyle::Outer = attr.style;\n+                if let Some(com) = sym.as_str().strip_prefix('!');\n+                then {\n+                    let sugg = match com_kind {\n+                        CommentKind::Line => format!(\"//!{com}\"),\n+                        CommentKind::Block => format!(\"/*!{com}*/\")\n+                    };\n+                    Some((attr.span, sugg))\n+                } else {\n+                    None\n+                }\n+            }\n+        })\n+        .collect()\n+}"}, {"sha": "b404df94d3c29ce2b4cc5fdc5bfa71db838da5db", "filename": "tests/ui/suspicious_doc_comments.fixed", "status": "added", "additions": 81, "deletions": 0, "changes": 81, "blob_url": "https://github.com/rust-lang/rust/blob/5d01e6e96cc72694529a32c42459b20ddf665507/tests%2Fui%2Fsuspicious_doc_comments.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/5d01e6e96cc72694529a32c42459b20ddf665507/tests%2Fui%2Fsuspicious_doc_comments.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuspicious_doc_comments.fixed?ref=5d01e6e96cc72694529a32c42459b20ddf665507", "patch": "@@ -0,0 +1,81 @@\n+// run-rustfix\n+#![allow(unused)]\n+#![warn(clippy::suspicious_doc_comments)]\n+\n+//! Real module documentation.\n+//! Fake module documentation.\n+fn baz() {}\n+\n+pub mod singleline_outer_doc {\n+    //! This module contains useful functions.\n+\n+    pub fn bar() {}\n+}\n+\n+pub mod singleline_inner_doc {\n+    //! This module contains useful functions.\n+\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc {\n+    /*! This module contains useful functions.\n+     */\n+\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_inner_doc {\n+    /*! This module contains useful functions.\n+     */\n+\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc2 {\n+    //! This module\n+    //! contains\n+    //! useful functions.\n+\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc3 {\n+    //! a\n+    //! b\n+\n+    /// c\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc4 {\n+    //! a\n+    /// b\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc_gap {\n+    //! a\n+\n+    //! b\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc_commented {\n+    /////! This outer doc comment was commented out.\n+    pub fn bar() {}\n+}\n+\n+pub mod outer_doc_macro {\n+    //! Very cool macro\n+    macro_rules! x {\n+        () => {};\n+    }\n+}\n+\n+pub mod useless_outer_doc {\n+    //! Huh.\n+    use std::mem;\n+}\n+\n+fn main() {}"}, {"sha": "46eff51e220f5bd713bdc1fff3997e4ac319f907", "filename": "tests/ui/suspicious_doc_comments.rs", "status": "added", "additions": 81, "deletions": 0, "changes": 81, "blob_url": "https://github.com/rust-lang/rust/blob/5d01e6e96cc72694529a32c42459b20ddf665507/tests%2Fui%2Fsuspicious_doc_comments.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d01e6e96cc72694529a32c42459b20ddf665507/tests%2Fui%2Fsuspicious_doc_comments.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuspicious_doc_comments.rs?ref=5d01e6e96cc72694529a32c42459b20ddf665507", "patch": "@@ -0,0 +1,81 @@\n+// run-rustfix\n+#![allow(unused)]\n+#![warn(clippy::suspicious_doc_comments)]\n+\n+//! Real module documentation.\n+///! Fake module documentation.\n+fn baz() {}\n+\n+pub mod singleline_outer_doc {\n+    ///! This module contains useful functions.\n+\n+    pub fn bar() {}\n+}\n+\n+pub mod singleline_inner_doc {\n+    //! This module contains useful functions.\n+\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc {\n+    /**! This module contains useful functions.\n+     */\n+\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_inner_doc {\n+    /*! This module contains useful functions.\n+     */\n+\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc2 {\n+    ///! This module\n+    ///! contains\n+    ///! useful functions.\n+\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc3 {\n+    ///! a\n+    ///! b\n+\n+    /// c\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc4 {\n+    ///! a\n+    /// b\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc_gap {\n+    ///! a\n+\n+    ///! b\n+    pub fn bar() {}\n+}\n+\n+pub mod multiline_outer_doc_commented {\n+    /////! This outer doc comment was commented out.\n+    pub fn bar() {}\n+}\n+\n+pub mod outer_doc_macro {\n+    ///! Very cool macro\n+    macro_rules! x {\n+        () => {};\n+    }\n+}\n+\n+pub mod useless_outer_doc {\n+    ///! Huh.\n+    use std::mem;\n+}\n+\n+fn main() {}"}, {"sha": "6c167df27873cd96a62b27ea26497d50c9c2bc49", "filename": "tests/ui/suspicious_doc_comments.stderr", "status": "added", "additions": 114, "deletions": 0, "changes": 114, "blob_url": "https://github.com/rust-lang/rust/blob/5d01e6e96cc72694529a32c42459b20ddf665507/tests%2Fui%2Fsuspicious_doc_comments.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5d01e6e96cc72694529a32c42459b20ddf665507/tests%2Fui%2Fsuspicious_doc_comments.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuspicious_doc_comments.stderr?ref=5d01e6e96cc72694529a32c42459b20ddf665507", "patch": "@@ -0,0 +1,114 @@\n+error: this is an outer doc comment and does not apply to the parent module or crate\n+  --> $DIR/suspicious_doc_comments.rs:6:1\n+   |\n+LL | ///! Fake module documentation.\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: `-D clippy::suspicious-doc-comments` implied by `-D warnings`\n+help: use an inner doc comment to document the parent module or crate\n+   |\n+LL | //! Fake module documentation.\n+   |\n+\n+error: this is an outer doc comment and does not apply to the parent module or crate\n+  --> $DIR/suspicious_doc_comments.rs:10:5\n+   |\n+LL |     ///! This module contains useful functions.\n+   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+help: use an inner doc comment to document the parent module or crate\n+   |\n+LL |     //! This module contains useful functions.\n+   |\n+\n+error: this is an outer doc comment and does not apply to the parent module or crate\n+  --> $DIR/suspicious_doc_comments.rs:22:5\n+   |\n+LL | /     /**! This module contains useful functions.\n+LL | |      */\n+   | |_______^\n+   |\n+help: use an inner doc comment to document the parent module or crate\n+   |\n+LL ~     /*! This module contains useful functions.\n+LL +      */\n+   |\n+\n+error: this is an outer doc comment and does not apply to the parent module or crate\n+  --> $DIR/suspicious_doc_comments.rs:36:5\n+   |\n+LL | /     ///! This module\n+LL | |     ///! contains\n+LL | |     ///! useful functions.\n+   | |__________________________^\n+   |\n+help: use an inner doc comment to document the parent module or crate\n+   |\n+LL ~     //! This module\n+LL ~     //! contains\n+LL ~     //! useful functions.\n+   |\n+\n+error: this is an outer doc comment and does not apply to the parent module or crate\n+  --> $DIR/suspicious_doc_comments.rs:44:5\n+   |\n+LL | /     ///! a\n+LL | |     ///! b\n+   | |__________^\n+   |\n+help: use an inner doc comment to document the parent module or crate\n+   |\n+LL ~     //! a\n+LL ~     //! b\n+   |\n+\n+error: this is an outer doc comment and does not apply to the parent module or crate\n+  --> $DIR/suspicious_doc_comments.rs:52:5\n+   |\n+LL |     ///! a\n+   |     ^^^^^^\n+   |\n+help: use an inner doc comment to document the parent module or crate\n+   |\n+LL |     //! a\n+   |\n+\n+error: this is an outer doc comment and does not apply to the parent module or crate\n+  --> $DIR/suspicious_doc_comments.rs:58:5\n+   |\n+LL | /     ///! a\n+LL | |\n+LL | |     ///! b\n+   | |__________^\n+   |\n+help: use an inner doc comment to document the parent module or crate\n+   |\n+LL ~     //! a\n+LL | \n+LL ~     //! b\n+   |\n+\n+error: this is an outer doc comment and does not apply to the parent module or crate\n+  --> $DIR/suspicious_doc_comments.rs:70:5\n+   |\n+LL |     ///! Very cool macro\n+   |     ^^^^^^^^^^^^^^^^^^^^\n+   |\n+help: use an inner doc comment to document the parent module or crate\n+   |\n+LL |     //! Very cool macro\n+   |\n+\n+error: this is an outer doc comment and does not apply to the parent module or crate\n+  --> $DIR/suspicious_doc_comments.rs:77:5\n+   |\n+LL |     ///! Huh.\n+   |     ^^^^^^^^^\n+   |\n+help: use an inner doc comment to document the parent module or crate\n+   |\n+LL |     //! Huh.\n+   |\n+\n+error: aborting due to 9 previous errors\n+"}, {"sha": "ad98c7f4966ffcf387f1f33d26bf7fd229ad75e7", "filename": "tests/ui/suspicious_doc_comments_unfixable.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/5d01e6e96cc72694529a32c42459b20ddf665507/tests%2Fui%2Fsuspicious_doc_comments_unfixable.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5d01e6e96cc72694529a32c42459b20ddf665507/tests%2Fui%2Fsuspicious_doc_comments_unfixable.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuspicious_doc_comments_unfixable.rs?ref=5d01e6e96cc72694529a32c42459b20ddf665507", "patch": "@@ -0,0 +1,16 @@\n+#![allow(unused)]\n+#![warn(clippy::suspicious_doc_comments)]\n+\n+///! a\n+///! b\n+/// c\n+///! d\n+pub fn foo() {}\n+\n+///! a\n+///! b\n+/// c\n+///! d\n+use std::mem;\n+\n+fn main() {}"}, {"sha": "f89146dad36e0a07b6573683bb8ba7e09ffed4f1", "filename": "tests/ui/suspicious_doc_comments_unfixable.stderr", "status": "added", "additions": 37, "deletions": 0, "changes": 37, "blob_url": "https://github.com/rust-lang/rust/blob/5d01e6e96cc72694529a32c42459b20ddf665507/tests%2Fui%2Fsuspicious_doc_comments_unfixable.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5d01e6e96cc72694529a32c42459b20ddf665507/tests%2Fui%2Fsuspicious_doc_comments_unfixable.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fsuspicious_doc_comments_unfixable.stderr?ref=5d01e6e96cc72694529a32c42459b20ddf665507", "patch": "@@ -0,0 +1,37 @@\n+error: this is an outer doc comment and does not apply to the parent module or crate\n+  --> $DIR/suspicious_doc_comments_unfixable.rs:4:1\n+   |\n+LL | / ///! a\n+LL | | ///! b\n+LL | | /// c\n+LL | | ///! d\n+   | |______^\n+   |\n+   = note: `-D clippy::suspicious-doc-comments` implied by `-D warnings`\n+help: use an inner doc comment to document the parent module or crate\n+   |\n+LL + //! a\n+LL + //! b\n+LL | /// c\n+LL + //! d\n+   |\n+\n+error: this is an outer doc comment and does not apply to the parent module or crate\n+  --> $DIR/suspicious_doc_comments_unfixable.rs:10:1\n+   |\n+LL | / ///! a\n+LL | | ///! b\n+LL | | /// c\n+LL | | ///! d\n+   | |______^\n+   |\n+help: use an inner doc comment to document the parent module or crate\n+   |\n+LL + //! a\n+LL + //! b\n+LL | /// c\n+LL + //! d\n+   |\n+\n+error: aborting due to 2 previous errors\n+"}]}