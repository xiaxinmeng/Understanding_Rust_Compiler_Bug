{"sha": "25c3180d15b1865a71f98554503e9d4d2fe1f05d", "node_id": "C_kwDOAAsO6NoAKDI1YzMxODBkMTViMTg2NWE3MWY5ODU1NDUwM2U5ZDRkMmZlMWYwNWQ", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-11-16T07:36:13Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-11-16T07:36:13Z"}, "message": "Rollup merge of #104425 - notriddle:notriddle/main-heading-justify-content, r=GuillaumeGomez\n\nrustdoc: remove no-op CSS `.main-header { justify-content }`\n\nThis rule was added in 152e8889052adaaa6c12652486292be34059713c to push the out-of-band content to the right while allowing it to line wrap when it got too big. The idea was that the justification rule would fill the space between the `<h1>` element and the `<div class=\"out-of-band\">` element.\n\nA later commit, 3cb03cb34247383ffb67a017ae70134741e8c4da, flattened the in-band element into the `<h1>`, copying the `flex-grow` rule. This means the `<h1>` element now grows to fill the space, so there's no need to justify-content any more.\n\nThis commit also adds a test case for this.", "tree": {"sha": "cfe19bbb9c10d15d51b9042338521574c98316e1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cfe19bbb9c10d15d51b9042338521574c98316e1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/25c3180d15b1865a71f98554503e9d4d2fe1f05d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjdJLtCRBK7hj4Ov3rIwAAU18IAKUub+bG3VYqCT+iX8BSaS29\n+R/sGRFVaVNPy6ZqB7BJ0hgHZ6qwxAkTVs44t/UDN6KJEXgu0gfNayjfItjcPg62\na1OZJOqe9EQYuLXaSHnYpKHl42tvjL6TphiG0IfdOcs4fL+Udc698lgxYGC9pTkg\nRPx91rVwm07n4Tfdx66KVCU+991fJyJGqwcOFvbXZlZTS6uadHzsXkJ07TzDLREr\nYPVvDWr8rSp/UVRAucgSdHHVVbmaqxDLxSTKrZ2kPpJgZuWiMx8xiZpMcQUgu9b7\nkZ4pOI2JEd/tOnUQUrhAfy0vtGDgKqo1NghhN3xD+lzAzgcRHNf1Hk5pOvrS+3U=\n=S5sl\n-----END PGP SIGNATURE-----\n", "payload": "tree cfe19bbb9c10d15d51b9042338521574c98316e1\nparent b9d028ae99388b9184ef2b58c4ace9a66e28bee5\nparent 155a5535a68c959f511278dc6c21c06cbafca2f8\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1668584173 +0100\ncommitter GitHub <noreply@github.com> 1668584173 +0100\n\nRollup merge of #104425 - notriddle:notriddle/main-heading-justify-content, r=GuillaumeGomez\n\nrustdoc: remove no-op CSS `.main-header { justify-content }`\n\nThis rule was added in 152e8889052adaaa6c12652486292be34059713c to push the out-of-band content to the right while allowing it to line wrap when it got too big. The idea was that the justification rule would fill the space between the `<h1>` element and the `<div class=\"out-of-band\">` element.\n\nA later commit, 3cb03cb34247383ffb67a017ae70134741e8c4da, flattened the in-band element into the `<h1>`, copying the `flex-grow` rule. This means the `<h1>` element now grows to fill the space, so there's no need to justify-content any more.\n\nThis commit also adds a test case for this.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/25c3180d15b1865a71f98554503e9d4d2fe1f05d", "html_url": "https://github.com/rust-lang/rust/commit/25c3180d15b1865a71f98554503e9d4d2fe1f05d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/25c3180d15b1865a71f98554503e9d4d2fe1f05d/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b9d028ae99388b9184ef2b58c4ace9a66e28bee5", "url": "https://api.github.com/repos/rust-lang/rust/commits/b9d028ae99388b9184ef2b58c4ace9a66e28bee5", "html_url": "https://github.com/rust-lang/rust/commit/b9d028ae99388b9184ef2b58c4ace9a66e28bee5"}, {"sha": "155a5535a68c959f511278dc6c21c06cbafca2f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/155a5535a68c959f511278dc6c21c06cbafca2f8", "html_url": "https://github.com/rust-lang/rust/commit/155a5535a68c959f511278dc6c21c06cbafca2f8"}], "stats": {"total": 18, "additions": 17, "deletions": 1}, "files": [{"sha": "52b90f332d3dfc118aca44e167af1d799ffcead9", "filename": "src/librustdoc/html/static/css/rustdoc.css", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/25c3180d15b1865a71f98554503e9d4d2fe1f05d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/25c3180d15b1865a71f98554503e9d4d2fe1f05d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fcss%2Frustdoc.css?ref=25c3180d15b1865a71f98554503e9d4d2fe1f05d", "patch": "@@ -159,7 +159,6 @@ h1.fqn {\n .main-heading {\n \tdisplay: flex;\n \tflex-wrap: wrap;\n-\tjustify-content: space-between;\n \tpadding-bottom: 6px;\n \tmargin-bottom: 15px;\n }"}, {"sha": "c014eb52e710030804cf955916e18ad238181ea1", "filename": "src/test/rustdoc-gui/type-declation-overflow.goml", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/25c3180d15b1865a71f98554503e9d4d2fe1f05d/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "raw_url": "https://github.com/rust-lang/rust/raw/25c3180d15b1865a71f98554503e9d4d2fe1f05d/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-gui%2Ftype-declation-overflow.goml?ref=25c3180d15b1865a71f98554503e9d4d2fe1f05d", "patch": "@@ -41,3 +41,20 @@ goto: \"file://\" + |DOC_PATH| + \"/lib2/too_long/struct.SuperIncrediblyLongLongLon\n store-property: (scrollWidth, \".mobile-topbar h2\", \"scrollWidth\")\n assert-property: (\".mobile-topbar h2\", {\"clientWidth\": |scrollWidth|})\n assert-css: (\".mobile-topbar h2\", {\"overflow-x\": \"hidden\"})\n+\n+// Check wrapping for top main-heading h1 and out-of-band.\n+// On desktop, they wrap when too big.\n+size: (1100, 800)\n+goto: \"file://\" + |DOC_PATH| + \"/lib2/too_long/struct.SuperIncrediblyLongLongLongLongLongLongLongGigaGigaGigaMegaLongLongLongStructName.html\"\n+compare-elements-position-false: (\".main-heading h1\", \".main-heading .out-of-band\", (\"y\"))\n+goto: \"file://\" + |DOC_PATH| + \"/lib2/index.html\"\n+compare-elements-position: (\".main-heading h1\", \".main-heading .out-of-band\", (\"y\"))\n+// make sure there is a gap between them\n+compare-elements-position-near-false: (\".main-heading h1\", \".main-heading .out-of-band\", {\"x\": 550})\n+\n+// On mobile, they always wrap.\n+size: (600, 600)\n+goto: \"file://\" + |DOC_PATH| + \"/lib2/too_long/struct.SuperIncrediblyLongLongLongLongLongLongLongGigaGigaGigaMegaLongLongLongStructName.html\"\n+compare-elements-position-false: (\".main-heading h1\", \".main-heading .out-of-band\", (\"y\"))\n+goto: \"file://\" + |DOC_PATH| + \"/lib2/index.html\"\n+compare-elements-position-false: (\".main-heading h1\", \".main-heading .out-of-band\", (\"y\"))"}]}