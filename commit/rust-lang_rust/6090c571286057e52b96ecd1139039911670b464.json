{"sha": "6090c571286057e52b96ecd1139039911670b464", "node_id": "MDY6Q29tbWl0NzI0NzEyOjYwOTBjNTcxMjg2MDU3ZTUyYjk2ZWNkMTEzOTAzOTkxMTY3MGI0NjQ=", "commit": {"author": {"name": "Yuki Okushi", "email": "huyuumi.dev@gmail.com", "date": "2021-01-30T04:36:56Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-01-30T04:36:56Z"}, "message": "Rollup merge of #81501 - calebcartwright:update-rustfmt, r=sanxiyn\n\nupdate rustfmt to v1.4.34\n\nShort summary: Various formatting fixes (several const generic related) and introduction of `imports_granularity` config option\n\nLong summary copied from changelog:\n\n#### Changed\n- `merge_imports` configuration has been deprecated in favor of the new `imports_granularity` option. Any existing usage of `merge_imports` will be automatically mapped to the corresponding value on `imports_granularity` with a warning message printed to encourage users to update their config files.\n\n#### Added\n- New `imports_granularity` option has been added which succeeds `merge_imports`. This new option supports several additional variants which allow users to merge imports at different levels (crate or module), and even flatten imports to have a single use statement per item. ([PR rust-lang/rustfmt#4634](https://github.com/rust-lang/rustfmt/pull/4634), [PR rust-lang/rustfmt#4639](https://github.com/rust-lang/rustfmt/pull/4639))\n\nSee the section on the configuration site for more information\nhttps://rust-lang.github.io/rustfmt/?version=v1.4.33&search=#imports_granularity\n\n#### Fixed\n- Fix erroneous removal of `const` keyword on const trait impl ([rust-lang/rustfmt#4084](https://github.com/rust-lang/rustfmt/issues/4084))\n- Fix incorrect span usage wit const generics in supertraits ([rust-lang/rustfmt#4204](https://github.com/rust-lang/rustfmt/issues/4204))\n- Use correct span for const generic params ([rust-lang/rustfmt#4263](https://github.com/rust-lang/rustfmt/issues/4263))\n- Correct span on const generics to include type bounds ([rust-lang/rustfmt#4310](https://github.com/rust-lang/rustfmt/issues/4310))\n- Idempotence issue on blocks containing only empty statements ([rust-lang/rustfmt#4627](https://github.com/rust-lang/rustfmt/issues/4627) and [#3868](https://github.com/rust-lang/rustfmt/issues/3868))\n- Fix issue with semicolon placement on required functions that have a trailing comment that ends in a line-style comment before the semicolon ([rust-lang/rustfmt#4646](https://github.com/rust-lang/rustfmt/issues/4646))\n- Avoid shared interned cfg_if symbol since rustfmt can re-initialize the rustc_ast globals on multiple inputs ([rust-lang/rustfmt#4656](https://github.com/rust-lang/rustfmt/issues/4656))\n- Don't insert trailing comma on (base-less) rest in struct literals within macros ([rust-lang/rustfmt#4675](https://github.com/rust-lang/rustfmt/issues/4675))", "tree": {"sha": "d27fb798b7184df458a35c0dde8c291ec599b50a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d27fb798b7184df458a35c0dde8c291ec599b50a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6090c571286057e52b96ecd1139039911670b464", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgFOJpCRBK7hj4Ov3rIwAAdHIIAGSoWOfGN3ePWgqqZNlONUBa\n9EKiTJlYZKN/x5PmMiJrAZsQuyVNQqQBRmYZrWhFZAEU4IggBVeRLgrsBGN16gxG\n5RjhoXAY3TO1W3wiy+HJlBXkaACN7tcxDHLD4s+y+c4KofHa8UNate35Al5uWdSy\n4ISycRGX9yOGDd8Tfu8MexXK+Egia7abbBiUulzKTJRm6SMWobR+m+6gRF8pmqWR\n4/POPlQgh5Bp91ThBR3lDpxrwleIIfqnNYpjkyDnEcO0TFIlk48lOeRjH4kkIrNV\najkNwMPiwaQmiQEjEHdSI5a2+8Pe7gaYD2eKfIMQ3j0BDK6MHHC8R79c7W4rYOk=\n=dZ8M\n-----END PGP SIGNATURE-----\n", "payload": "tree d27fb798b7184df458a35c0dde8c291ec599b50a\nparent 0f11a943cc73b1110961e45c2a7aeee3ceef73e4\nparent 63714af3a55dc2bad3a82e3bea81fb8435eedaea\nauthor Yuki Okushi <huyuumi.dev@gmail.com> 1611981416 +0900\ncommitter GitHub <noreply@github.com> 1611981416 +0900\n\nRollup merge of #81501 - calebcartwright:update-rustfmt, r=sanxiyn\n\nupdate rustfmt to v1.4.34\n\nShort summary: Various formatting fixes (several const generic related) and introduction of `imports_granularity` config option\n\nLong summary copied from changelog:\n\n#### Changed\n- `merge_imports` configuration has been deprecated in favor of the new `imports_granularity` option. Any existing usage of `merge_imports` will be automatically mapped to the corresponding value on `imports_granularity` with a warning message printed to encourage users to update their config files.\n\n#### Added\n- New `imports_granularity` option has been added which succeeds `merge_imports`. This new option supports several additional variants which allow users to merge imports at different levels (crate or module), and even flatten imports to have a single use statement per item. ([PR rust-lang/rustfmt#4634](https://github.com/rust-lang/rustfmt/pull/4634), [PR rust-lang/rustfmt#4639](https://github.com/rust-lang/rustfmt/pull/4639))\n\nSee the section on the configuration site for more information\nhttps://rust-lang.github.io/rustfmt/?version=v1.4.33&search=#imports_granularity\n\n#### Fixed\n- Fix erroneous removal of `const` keyword on const trait impl ([rust-lang/rustfmt#4084](https://github.com/rust-lang/rustfmt/issues/4084))\n- Fix incorrect span usage wit const generics in supertraits ([rust-lang/rustfmt#4204](https://github.com/rust-lang/rustfmt/issues/4204))\n- Use correct span for const generic params ([rust-lang/rustfmt#4263](https://github.com/rust-lang/rustfmt/issues/4263))\n- Correct span on const generics to include type bounds ([rust-lang/rustfmt#4310](https://github.com/rust-lang/rustfmt/issues/4310))\n- Idempotence issue on blocks containing only empty statements ([rust-lang/rustfmt#4627](https://github.com/rust-lang/rustfmt/issues/4627) and [#3868](https://github.com/rust-lang/rustfmt/issues/3868))\n- Fix issue with semicolon placement on required functions that have a trailing comment that ends in a line-style comment before the semicolon ([rust-lang/rustfmt#4646](https://github.com/rust-lang/rustfmt/issues/4646))\n- Avoid shared interned cfg_if symbol since rustfmt can re-initialize the rustc_ast globals on multiple inputs ([rust-lang/rustfmt#4656](https://github.com/rust-lang/rustfmt/issues/4656))\n- Don't insert trailing comma on (base-less) rest in struct literals within macros ([rust-lang/rustfmt#4675](https://github.com/rust-lang/rustfmt/issues/4675))\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6090c571286057e52b96ecd1139039911670b464", "html_url": "https://github.com/rust-lang/rust/commit/6090c571286057e52b96ecd1139039911670b464", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6090c571286057e52b96ecd1139039911670b464/comments", "author": {"login": "JohnTitor", "id": 25030997, "node_id": "MDQ6VXNlcjI1MDMwOTk3", "avatar_url": "https://avatars.githubusercontent.com/u/25030997?v=4", "gravatar_id": "", "url": "https://api.github.com/users/JohnTitor", "html_url": "https://github.com/JohnTitor", "followers_url": "https://api.github.com/users/JohnTitor/followers", "following_url": "https://api.github.com/users/JohnTitor/following{/other_user}", "gists_url": "https://api.github.com/users/JohnTitor/gists{/gist_id}", "starred_url": "https://api.github.com/users/JohnTitor/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/JohnTitor/subscriptions", "organizations_url": "https://api.github.com/users/JohnTitor/orgs", "repos_url": "https://api.github.com/users/JohnTitor/repos", "events_url": "https://api.github.com/users/JohnTitor/events{/privacy}", "received_events_url": "https://api.github.com/users/JohnTitor/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0f11a943cc73b1110961e45c2a7aeee3ceef73e4", "url": "https://api.github.com/repos/rust-lang/rust/commits/0f11a943cc73b1110961e45c2a7aeee3ceef73e4", "html_url": "https://github.com/rust-lang/rust/commit/0f11a943cc73b1110961e45c2a7aeee3ceef73e4"}, {"sha": "63714af3a55dc2bad3a82e3bea81fb8435eedaea", "url": "https://api.github.com/repos/rust-lang/rust/commits/63714af3a55dc2bad3a82e3bea81fb8435eedaea", "html_url": "https://github.com/rust-lang/rust/commit/63714af3a55dc2bad3a82e3bea81fb8435eedaea"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "f15f9519cb34f8452e3be08420fae1d8cdb065b1", "filename": "Cargo.lock", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6090c571286057e52b96ecd1139039911670b464/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/6090c571286057e52b96ecd1139039911670b464/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=6090c571286057e52b96ecd1139039911670b464", "patch": "@@ -4442,7 +4442,7 @@ dependencies = [\n \n [[package]]\n name = \"rustfmt-nightly\"\n-version = \"1.4.32\"\n+version = \"1.4.34\"\n dependencies = [\n  \"annotate-snippets 0.6.1\",\n  \"anyhow\","}, {"sha": "ea268b9f559fbafcfc24f4982173b01dfad9e443", "filename": "src/tools/rustfmt", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": null, "raw_url": null, "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Frustfmt?ref=6090c571286057e52b96ecd1139039911670b464", "patch": "@@ -1 +1 @@\n-Subproject commit 216a64300563351cad20bb3847110c14561687e0\n+Subproject commit ea268b9f559fbafcfc24f4982173b01dfad9e443"}]}