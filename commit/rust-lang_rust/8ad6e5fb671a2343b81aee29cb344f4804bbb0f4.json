{"sha": "8ad6e5fb671a2343b81aee29cb344f4804bbb0f4", "node_id": "C_kwDOAAsO6NoAKDhhZDZlNWZiNjcxYTIzNDNiODFhZWUyOWNiMzQ0ZjQ4MDRiYmIwZjQ", "commit": {"author": {"name": "Milo", "email": "50248166+Milo123459@users.noreply.github.com", "date": "2021-11-05T18:27:54Z"}, "committer": {"name": "Milo", "email": "50248166+Milo123459@users.noreply.github.com", "date": "2021-11-05T18:27:54Z"}, "message": "Add UnwindSafe to Once", "tree": {"sha": "7902b9617ccbfb16f0838e8dd90d51025aaa10bb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7902b9617ccbfb16f0838e8dd90d51025aaa10bb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8ad6e5fb671a2343b81aee29cb344f4804bbb0f4", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAmHA3W0ACgkQ+boUO5X/\nbYIIXg//e2pb7vGV8qMxc9LhFLJ8azXIJymGdrgoQIEXCg6VJ/aFSlHcrCntfnBY\nixn60eiaoxkwjC2Qbjnl2q1Ni4aYe+FbiXdgPEO936+1p7RIv9OjEvUIIQw+Kp9U\nbj+VplDvBvYxjdWX5hjFC51iGR1cPk08Tms/z1UWOO1lHzEnVvjZ9YS3O9rTcoe1\nWmj59oygj39td7JOMF4bc+Co/oBQt08nRgu6tCmkmCT3RlGhZ+yQzRXkfP376/jN\n867osFpMT1ARckDsuVcet9PnPzTxCgY6YDStQLBjvL2HxA2V0i+ISpxQ612lCU8R\njuwvGwkw5gGPklozMOAIeEuWudRA+SMrpKBV0dr42OamopfIob8IatvLlmqC8C0a\nr01x6cg+3QFobEaq/f8diFm6a9llI0Z1jpvaziksYGR5qs3mecdpDyHuxEPNVdpV\n+iE5LrxsfhGoWmHm6vm5/B6FN1wDMZ4Wg7xwKlIG3cBcchTl2oF7RDmJatUopbud\ntfF2D23DVVLwhl+rLcmVxwa5gNf7RbMnpWbNULbIu9/usVFqxPHOrw9bov6amHNP\nkhY9wkDsCTC1xpKC+bTtv96T0He8iSeS8VdXceQP0vPcEtqaTT50TdXTXLDZTmzJ\nFGL0AALvv7aB8G3oxijoGkWI1Wbv6YVbjnIosJgiih5AayGGUaM=\n=I1zU\n-----END PGP SIGNATURE-----", "payload": "tree 7902b9617ccbfb16f0838e8dd90d51025aaa10bb\nparent 4961b107f204e15b26961eab0685df6be3ab03c6\nauthor Milo <50248166+Milo123459@users.noreply.github.com> 1636136874 +0000\ncommitter Milo <50248166+Milo123459@users.noreply.github.com> 1636136874 +0000\n\nAdd UnwindSafe to Once\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8ad6e5fb671a2343b81aee29cb344f4804bbb0f4", "html_url": "https://github.com/rust-lang/rust/commit/8ad6e5fb671a2343b81aee29cb344f4804bbb0f4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8ad6e5fb671a2343b81aee29cb344f4804bbb0f4/comments", "author": {"login": "Milo123459", "id": 50248166, "node_id": "MDQ6VXNlcjUwMjQ4MTY2", "avatar_url": "https://avatars.githubusercontent.com/u/50248166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Milo123459", "html_url": "https://github.com/Milo123459", "followers_url": "https://api.github.com/users/Milo123459/followers", "following_url": "https://api.github.com/users/Milo123459/following{/other_user}", "gists_url": "https://api.github.com/users/Milo123459/gists{/gist_id}", "starred_url": "https://api.github.com/users/Milo123459/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Milo123459/subscriptions", "organizations_url": "https://api.github.com/users/Milo123459/orgs", "repos_url": "https://api.github.com/users/Milo123459/repos", "events_url": "https://api.github.com/users/Milo123459/events{/privacy}", "received_events_url": "https://api.github.com/users/Milo123459/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Milo123459", "id": 50248166, "node_id": "MDQ6VXNlcjUwMjQ4MTY2", "avatar_url": "https://avatars.githubusercontent.com/u/50248166?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Milo123459", "html_url": "https://github.com/Milo123459", "followers_url": "https://api.github.com/users/Milo123459/followers", "following_url": "https://api.github.com/users/Milo123459/following{/other_user}", "gists_url": "https://api.github.com/users/Milo123459/gists{/gist_id}", "starred_url": "https://api.github.com/users/Milo123459/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Milo123459/subscriptions", "organizations_url": "https://api.github.com/users/Milo123459/orgs", "repos_url": "https://api.github.com/users/Milo123459/repos", "events_url": "https://api.github.com/users/Milo123459/events{/privacy}", "received_events_url": "https://api.github.com/users/Milo123459/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4961b107f204e15b26961eab0685df6be3ab03c6", "url": "https://api.github.com/repos/rust-lang/rust/commits/4961b107f204e15b26961eab0685df6be3ab03c6", "html_url": "https://github.com/rust-lang/rust/commit/4961b107f204e15b26961eab0685df6be3ab03c6"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "47921283b21853799481ba9d26648bd30a817e23", "filename": "library/std/src/sync/once.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/8ad6e5fb671a2343b81aee29cb344f4804bbb0f4/library%2Fstd%2Fsrc%2Fsync%2Fonce.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8ad6e5fb671a2343b81aee29cb344f4804bbb0f4/library%2Fstd%2Fsrc%2Fsync%2Fonce.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsync%2Fonce.rs?ref=8ad6e5fb671a2343b81aee29cb344f4804bbb0f4", "patch": "@@ -90,6 +90,7 @@ mod tests;\n use crate::cell::Cell;\n use crate::fmt;\n use crate::marker;\n+use crate::panic::UnwindSafe;\n use crate::sync::atomic::{AtomicBool, AtomicUsize, Ordering};\n use crate::thread::{self, Thread};\n \n@@ -123,6 +124,9 @@ unsafe impl Sync for Once {}\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n unsafe impl Send for Once {}\n \n+#[stable(feature = \"sync_once_ref_unwind_safe\", since = \"1.59.0\")]\n+impl UnwindSafe for Once {}\n+\n /// State yielded to [`Once::call_once_force()`]\u2019s closure parameter. The state\n /// can be used to query the poison status of the [`Once`].\n #[stable(feature = \"once_poison\", since = \"1.51.0\")]"}]}