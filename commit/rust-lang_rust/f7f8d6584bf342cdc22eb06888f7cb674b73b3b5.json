{"sha": "f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmY3ZjhkNjU4NGJmMzQyY2RjMjJlYjA2ODg4ZjdjYjY3NGI3M2IzYjU=", "commit": {"author": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2019-09-15T10:12:14Z"}, "committer": {"name": "Vadim Petrochenkov", "email": "vadim.petrochenkov@gmail.com", "date": "2019-09-15T10:22:07Z"}, "message": "resolve: Remove `!` from \"cannot find\" diagnostics for macros", "tree": {"sha": "bea5e5f35b73637291fac0e1b63b3294b4426b60", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/bea5e5f35b73637291fac0e1b63b3294b4426b60"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "html_url": "https://github.com/rust-lang/rust/commit/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/comments", "author": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "committer": {"login": "petrochenkov", "id": 5751617, "node_id": "MDQ6VXNlcjU3NTE2MTc=", "avatar_url": "https://avatars.githubusercontent.com/u/5751617?v=4", "gravatar_id": "", "url": "https://api.github.com/users/petrochenkov", "html_url": "https://github.com/petrochenkov", "followers_url": "https://api.github.com/users/petrochenkov/followers", "following_url": "https://api.github.com/users/petrochenkov/following{/other_user}", "gists_url": "https://api.github.com/users/petrochenkov/gists{/gist_id}", "starred_url": "https://api.github.com/users/petrochenkov/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/petrochenkov/subscriptions", "organizations_url": "https://api.github.com/users/petrochenkov/orgs", "repos_url": "https://api.github.com/users/petrochenkov/repos", "events_url": "https://api.github.com/users/petrochenkov/events{/privacy}", "received_events_url": "https://api.github.com/users/petrochenkov/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "42a19dde82a55b65f18566d54dbbb033a22e08d9", "url": "https://api.github.com/repos/rust-lang/rust/commits/42a19dde82a55b65f18566d54dbbb033a22e08d9", "html_url": "https://github.com/rust-lang/rust/commit/42a19dde82a55b65f18566d54dbbb033a22e08d9"}], "stats": {"total": 85, "additions": 42, "deletions": 43}, "files": [{"sha": "3900a3dbb387235ece44e06090aeeb3384b838cc", "filename": "src/librustc_resolve/macros.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Flibrustc_resolve%2Fmacros.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Flibrustc_resolve%2Fmacros.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Fmacros.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -774,9 +774,8 @@ impl<'a> Resolver<'a> {\n                 }\n                 Err(..) => {\n                     assert!(initial_binding.is_none());\n-                    let bang = if kind == MacroKind::Bang { \"!\" } else { \"\" };\n                     let expected = kind.descr_expected();\n-                    let msg = format!(\"cannot find {} `{}{}` in this scope\", expected, ident, bang);\n+                    let msg = format!(\"cannot find {} `{}` in this scope\", expected, ident);\n                     let mut err = self.session.struct_span_err(ident.span, &msg);\n                     self.unresolved_macro_suggestions(&mut err, kind, &parent_scope, ident);\n                     err.emit();"}, {"sha": "8e3e06896ee784b1b376a2d80180c6f3ddf3624e", "filename": "src/test/ui/empty/empty-macro-use.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fempty%2Fempty-macro-use.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fempty%2Fempty-macro-use.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fempty%2Fempty-macro-use.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `macro_two!` in this scope\n+error: cannot find macro `macro_two` in this scope\n   --> $DIR/empty-macro-use.rs:7:5\n    |\n LL |     macro_two!();"}, {"sha": "f3aa83fd5080658fdd716b3730acd47abb9c78ec", "filename": "src/test/ui/ext-nonexistent.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fext-nonexistent.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fext-nonexistent.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fext-nonexistent.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `iamnotanextensionthatexists!` in this scope\n+error: cannot find macro `iamnotanextensionthatexists` in this scope\n   --> $DIR/ext-nonexistent.rs:2:13\n    |\n LL | fn main() { iamnotanextensionthatexists!(\"\"); }"}, {"sha": "83ca28167a46895755f23bfcd3650f072e9a203e", "filename": "src/test/ui/hygiene/no_implicit_prelude-2018.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude-2018.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude-2018.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude-2018.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -4,7 +4,7 @@\n mod bar {\n     fn f() {\n         ::std::print!(\"\"); // OK\n-        print!(); //~ ERROR cannot find macro `print!` in this scope\n+        print!(); //~ ERROR cannot find macro `print` in this scope\n     }\n }\n "}, {"sha": "f31b75238dffe5814cb11592094c773c29a32131", "filename": "src/test/ui/hygiene/no_implicit_prelude-2018.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude-2018.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude-2018.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude-2018.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `print!` in this scope\n+error: cannot find macro `print` in this scope\n   --> $DIR/no_implicit_prelude-2018.rs:7:9\n    |\n LL |         print!();"}, {"sha": "204e7b248797afcb6b3725874a1d5574e3abf2f4", "filename": "src/test/ui/hygiene/no_implicit_prelude.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -13,7 +13,7 @@ mod bar {\n     }\n     fn f() {\n         ::foo::m!();\n-        assert_eq!(0, 0); //~ ERROR cannot find macro `panic!` in this scope\n+        assert_eq!(0, 0); //~ ERROR cannot find macro `panic` in this scope\n     }\n }\n "}, {"sha": "bc0ce746be925e912d521d2d5ae6b44f37ecc407", "filename": "src/test/ui/hygiene/no_implicit_prelude.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fhygiene%2Fno_implicit_prelude.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `panic!` in this scope\n+error: cannot find macro `panic` in this scope\n   --> $DIR/no_implicit_prelude.rs:16:9\n    |\n LL |         assert_eq!(0, 0);"}, {"sha": "b6f3bb8ef0549e9fdabc046aa527f8d4a24d888f", "filename": "src/test/ui/issues/issue-11692-1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-11692-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-11692-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-11692-1.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,3 +1,3 @@\n fn main() {\n-    print!(testo!()); //~ ERROR cannot find macro `testo!` in this scope\n+    print!(testo!()); //~ ERROR cannot find macro `testo` in this scope\n }"}, {"sha": "386463436b8e6a5668828c28b9570e16334867a4", "filename": "src/test/ui/issues/issue-11692-1.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-11692-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-11692-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-11692-1.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `testo!` in this scope\n+error: cannot find macro `testo` in this scope\n   --> $DIR/issue-11692-1.rs:2:12\n    |\n LL |     print!(testo!());"}, {"sha": "5957ed338f4e749dc91469d6a3fc9ed7b371dc33", "filename": "src/test/ui/issues/issue-11692-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,3 +1,3 @@\n fn main() {\n-    concat!(test!()); //~ ERROR cannot find macro `test!` in this scope\n+    concat!(test!()); //~ ERROR cannot find macro `test` in this scope\n }"}, {"sha": "f021943da32da493eb9391f3d986662df9435263", "filename": "src/test/ui/issues/issue-11692-2.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-11692-2.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `test!` in this scope\n+error: cannot find macro `test` in this scope\n   --> $DIR/issue-11692-2.rs:2:13\n    |\n LL |     concat!(test!());"}, {"sha": "fe4a327aef49ce0643e1d114687e75c72af1bb8c", "filename": "src/test/ui/issues/issue-19734.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-19734.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-19734.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-19734.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -4,5 +4,5 @@ struct Type;\n \n impl Type {\n     undef!();\n-    //~^ ERROR cannot find macro `undef!` in this scope\n+    //~^ ERROR cannot find macro `undef` in this scope\n }"}, {"sha": "81757974de9dd65ce7528d0831baa1b6c7d07f06", "filename": "src/test/ui/issues/issue-19734.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-19734.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-19734.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-19734.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `undef!` in this scope\n+error: cannot find macro `undef` in this scope\n   --> $DIR/issue-19734.rs:6:5\n    |\n LL |     undef!();"}, {"sha": "a4ede6adfa3c253081f64cc2ebc29f65672ec19c", "filename": "src/test/ui/issues/issue-40845.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-40845.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-40845.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-40845.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,6 +1,6 @@\n-trait T { m!(); } //~ ERROR cannot find macro `m!` in this scope\n+trait T { m!(); } //~ ERROR cannot find macro `m` in this scope\n \n struct S;\n-impl S { m!(); } //~ ERROR cannot find macro `m!` in this scope\n+impl S { m!(); } //~ ERROR cannot find macro `m` in this scope\n \n fn main() {}"}, {"sha": "2744330a4e58e83ab3d884cb3a3767199887d87a", "filename": "src/test/ui/issues/issue-40845.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-40845.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-40845.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-40845.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,10 +1,10 @@\n-error: cannot find macro `m!` in this scope\n+error: cannot find macro `m` in this scope\n   --> $DIR/issue-40845.rs:4:10\n    |\n LL | impl S { m!(); }\n    |          ^\n \n-error: cannot find macro `m!` in this scope\n+error: cannot find macro `m` in this scope\n   --> $DIR/issue-40845.rs:1:11\n    |\n LL | trait T { m!(); }"}, {"sha": "752bb345b703e9fa53ce9d0915feffbad9285fee", "filename": "src/test/ui/issues/issue-49074.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-49074.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-49074.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-49074.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -9,5 +9,5 @@ mod foo {\n }\n \n fn main() {\n-   bar!(); //~ ERROR cannot find macro `bar!` in this scope\n+   bar!(); //~ ERROR cannot find macro `bar` in this scope\n }"}, {"sha": "bbfeb4ea9483a764841fbc788d22d981bc570933", "filename": "src/test/ui/issues/issue-49074.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-49074.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fissues%2Fissue-49074.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fissues%2Fissue-49074.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `bar!` in this scope\n+error: cannot find macro `bar` in this scope\n   --> $DIR/issue-49074.rs:12:4\n    |\n LL |    bar!();"}, {"sha": "8b3f7ca88171c465042ec5e90103abd0a0414585", "filename": "src/test/ui/macros/macro-expansion-tests.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro-expansion-tests.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro-expansion-tests.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-expansion-tests.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,12 +1,12 @@\n-error: cannot find macro `m!` in this scope\n+error: cannot find macro `m` in this scope\n   --> $DIR/macro-expansion-tests.rs:7:21\n    |\n LL |     fn g() -> i32 { m!() }\n    |                     ^\n    |\n    = help: have you added the `#[macro_use]` on the module/import?\n \n-error: cannot find macro `m!` in this scope\n+error: cannot find macro `m` in this scope\n   --> $DIR/macro-expansion-tests.rs:15:21\n    |\n LL |     fn g() -> i32 { m!() }"}, {"sha": "ce2e1985b38cee8ff420f79393e2984c601b9d7a", "filename": "src/test/ui/macros/macro-name-typo.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro-name-typo.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro-name-typo.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-name-typo.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `printlx!` in this scope\n+error: cannot find macro `printlx` in this scope\n   --> $DIR/macro-name-typo.rs:2:5\n    |\n LL |     printlx!(\"oh noes!\");"}, {"sha": "68eb350a95614772327aae1e335f4c4204c8f3f4", "filename": "src/test/ui/macros/macro-path-prelude-fail-3.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro-path-prelude-fail-3.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro-path-prelude-fail-3.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-path-prelude-fail-3.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,3 +1,3 @@\n fn main() {\n-    inline!(); //~ ERROR cannot find macro `inline!` in this scope\n+    inline!(); //~ ERROR cannot find macro `inline` in this scope\n }"}, {"sha": "ec00760de6c6f3ac53106233c499983b6097f8ed", "filename": "src/test/ui/macros/macro-path-prelude-fail-3.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro-path-prelude-fail-3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro-path-prelude-fail-3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-path-prelude-fail-3.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `inline!` in this scope\n+error: cannot find macro `inline` in this scope\n   --> $DIR/macro-path-prelude-fail-3.rs:2:5\n    |\n LL |     inline!();"}, {"sha": "8b4e90a5798f15a4b70c6cc6f72a68800e061828", "filename": "src/test/ui/macros/macro-use-wrong-name.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-wrong-name.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-wrong-name.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro-use-wrong-name.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `macro_two!` in this scope\n+error: cannot find macro `macro_two` in this scope\n   --> $DIR/macro-use-wrong-name.rs:7:5\n    |\n LL |     macro_two!();"}, {"sha": "01c8ebea62a2cdb387dc4fc519e1f1b8a9a54103", "filename": "src/test/ui/macros/macro_undefined.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro_undefined.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmacros%2Fmacro_undefined.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmacros%2Fmacro_undefined.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `k!` in this scope\n+error: cannot find macro `k` in this scope\n   --> $DIR/macro_undefined.rs:11:5\n    |\n LL |     k!();"}, {"sha": "d494c4471a31c77bd4e3c704c1bb442f813edefe", "filename": "src/test/ui/missing/missing-macro-use.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmissing%2Fmissing-macro-use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmissing%2Fmissing-macro-use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmissing%2Fmissing-macro-use.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -4,5 +4,5 @@ extern crate two_macros;\n \n pub fn main() {\n     macro_two!();\n-    //~^ ERROR cannot find macro `macro_two!` in this scope\n+    //~^ ERROR cannot find macro `macro_two` in this scope\n }"}, {"sha": "711e249d2bca178387d359ac1060a9d7aad376f4", "filename": "src/test/ui/missing/missing-macro-use.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmissing%2Fmissing-macro-use.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fmissing%2Fmissing-macro-use.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmissing%2Fmissing-macro-use.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,4 +1,4 @@\n-error: cannot find macro `macro_two!` in this scope\n+error: cannot find macro `macro_two` in this scope\n   --> $DIR/missing-macro-use.rs:6:5\n    |\n LL |     macro_two!();"}, {"sha": "b17c0565932fd17d4f77c8fd882e32a777a30575", "filename": "src/test/ui/proc-macro/macro-namespace-reserved-2.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-namespace-reserved-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-namespace-reserved-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-namespace-reserved-2.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -25,12 +25,12 @@ fn check_bang1() {\n     my_macro!(); //~ ERROR can't use a procedural macro from the same crate that defines it\n }\n fn check_bang2() {\n-    my_macro_attr!(); //~ ERROR cannot find macro `my_macro_attr!` in this scope\n+    my_macro_attr!(); //~ ERROR cannot find macro `my_macro_attr` in this scope\n     crate::my_macro_attr!(); //~ ERROR can't use a procedural macro from the same crate that defines\n                              //~| ERROR expected macro, found attribute macro `crate::my_macro_attr`\n }\n fn check_bang3() {\n-    MyTrait!(); //~ ERROR cannot find macro `MyTrait!` in this scope\n+    MyTrait!(); //~ ERROR cannot find macro `MyTrait` in this scope\n     crate::MyTrait!(); //~ ERROR can't use a procedural macro from the same crate that defines it\n                        //~| ERROR expected macro, found derive macro `crate::MyTrait`\n }"}, {"sha": "c011a70cd0c8432e3184125b586c0bbea730c9e2", "filename": "src/test/ui/proc-macro/macro-namespace-reserved-2.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-namespace-reserved-2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-namespace-reserved-2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-namespace-reserved-2.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -88,13 +88,13 @@ error: expected derive macro, found macro `crate::my_macro`\n LL | #[derive(crate::my_macro)]\n    |          ^^^^^^^^^^^^^^^ not a derive macro\n \n-error: cannot find macro `my_macro_attr!` in this scope\n+error: cannot find macro `my_macro_attr` in this scope\n   --> $DIR/macro-namespace-reserved-2.rs:28:5\n    |\n LL |     my_macro_attr!();\n    |     ^^^^^^^^^^^^^\n \n-error: cannot find macro `MyTrait!` in this scope\n+error: cannot find macro `MyTrait` in this scope\n   --> $DIR/macro-namespace-reserved-2.rs:33:5\n    |\n LL |     MyTrait!();"}, {"sha": "3dca5cee63caa45683137bd7228280c7650e6c22", "filename": "src/test/ui/proc-macro/resolve-error.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fproc-macro%2Fresolve-error.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fproc-macro%2Fresolve-error.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fresolve-error.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,22 +1,22 @@\n-error: cannot find macro `bang_proc_macrp!` in this scope\n+error: cannot find macro `bang_proc_macrp` in this scope\n   --> $DIR/resolve-error.rs:56:5\n    |\n LL |     bang_proc_macrp!();\n    |     ^^^^^^^^^^^^^^^ help: a macro with a similar name exists: `bang_proc_macro`\n \n-error: cannot find macro `Dlona!` in this scope\n+error: cannot find macro `Dlona` in this scope\n   --> $DIR/resolve-error.rs:53:5\n    |\n LL |     Dlona!();\n    |     ^^^^^\n \n-error: cannot find macro `attr_proc_macra!` in this scope\n+error: cannot find macro `attr_proc_macra` in this scope\n   --> $DIR/resolve-error.rs:50:5\n    |\n LL |     attr_proc_macra!();\n    |     ^^^^^^^^^^^^^^^ help: a macro with a similar name exists: `attr_proc_mac`\n \n-error: cannot find macro `FooWithLongNama!` in this scope\n+error: cannot find macro `FooWithLongNama` in this scope\n   --> $DIR/resolve-error.rs:47:5\n    |\n LL |     FooWithLongNama!();"}, {"sha": "0e1142db37d2dcc510da8645acd43b82d6d0ce39", "filename": "src/test/ui/resolve/visibility-indeterminate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fresolve%2Fvisibility-indeterminate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fresolve%2Fvisibility-indeterminate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fvisibility-indeterminate.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -1,6 +1,6 @@\n // edition:2018\n \n-foo!(); //~ ERROR cannot find macro `foo!` in this scope\n+foo!(); //~ ERROR cannot find macro `foo` in this scope\n \n pub(in ::bar) struct Baz {} //~ ERROR cannot determine resolution for the visibility\n "}, {"sha": "b9678291ee40b2b469ddffb8e1f663077ea477ae", "filename": "src/test/ui/resolve/visibility-indeterminate.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fresolve%2Fvisibility-indeterminate.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fresolve%2Fvisibility-indeterminate.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fresolve%2Fvisibility-indeterminate.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -4,7 +4,7 @@ error[E0578]: cannot determine resolution for the visibility\n LL | pub(in ::bar) struct Baz {}\n    |        ^^^^^\n \n-error: cannot find macro `foo!` in this scope\n+error: cannot find macro `foo` in this scope\n   --> $DIR/visibility-indeterminate.rs:3:1\n    |\n LL | foo!();"}, {"sha": "dfb7d6583d9dd74b9224f2791fe4587995dfa511", "filename": "src/test/ui/self/self_type_keyword.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fself%2Fself_type_keyword.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fself%2Fself_type_keyword.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fself%2Fself_type_keyword.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -19,7 +19,7 @@ pub fn main() {\n         ref mut Self => (),\n         //~^ ERROR expected identifier, found keyword `Self`\n         Self!() => (),\n-        //~^ ERROR cannot find macro `Self!` in this scope\n+        //~^ ERROR cannot find macro `Self` in this scope\n         Foo { Self } => (),\n         //~^ ERROR expected identifier, found keyword `Self`\n     }"}, {"sha": "11b3b012c5f5e4dea7776e161145b0384a623ac4", "filename": "src/test/ui/self/self_type_keyword.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fself%2Fself_type_keyword.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Fself%2Fself_type_keyword.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fself%2Fself_type_keyword.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -54,7 +54,7 @@ error: lifetimes cannot use keyword names\n LL | struct Bar<'Self>;\n    |            ^^^^^\n \n-error: cannot find macro `Self!` in this scope\n+error: cannot find macro `Self` in this scope\n   --> $DIR/self_type_keyword.rs:21:9\n    |\n LL |         Self!() => (),"}, {"sha": "d5698be8d4c573de06f6deb123d4648daa39d640", "filename": "src/test/ui/tool-attributes/tool-attributes-misplaced-1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Ftool-attributes%2Ftool-attributes-misplaced-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Ftool-attributes%2Ftool-attributes-misplaced-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftool-attributes%2Ftool-attributes-misplaced-1.rs?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -11,7 +11,7 @@ fn check() {}\n #[rustfmt::skip] // OK\n fn main() {\n     rustfmt; //~ ERROR expected value, found tool module `rustfmt`\n-    rustfmt!(); //~ ERROR cannot find macro `rustfmt!` in this scope\n+    rustfmt!(); //~ ERROR cannot find macro `rustfmt` in this scope\n \n     rustfmt::skip; //~ ERROR expected value, found tool attribute `rustfmt::skip`\n }"}, {"sha": "6bef793e0e71bbb28700cb19f7a195c367d11e98", "filename": "src/test/ui/tool-attributes/tool-attributes-misplaced-1.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Ftool-attributes%2Ftool-attributes-misplaced-1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f7f8d6584bf342cdc22eb06888f7cb674b73b3b5/src%2Ftest%2Fui%2Ftool-attributes%2Ftool-attributes-misplaced-1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftool-attributes%2Ftool-attributes-misplaced-1.stderr?ref=f7f8d6584bf342cdc22eb06888f7cb674b73b3b5", "patch": "@@ -10,7 +10,7 @@ error: cannot find attribute `rustfmt` in this scope\n LL | #[rustfmt]\n    |   ^^^^^^^\n \n-error: cannot find macro `rustfmt!` in this scope\n+error: cannot find macro `rustfmt` in this scope\n   --> $DIR/tool-attributes-misplaced-1.rs:14:5\n    |\n LL |     rustfmt!();"}]}