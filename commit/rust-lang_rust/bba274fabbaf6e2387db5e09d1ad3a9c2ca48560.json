{"sha": "bba274fabbaf6e2387db5e09d1ad3a9c2ca48560", "node_id": "C_kwDOAAsO6NoAKGJiYTI3NGZhYmJhZjZlMjM4N2RiNWUwOWQxYWQzYTljMmNhNDg1NjA", "commit": {"author": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2023-01-24T16:00:45Z"}, "committer": {"name": "Pietro Albini", "email": "pietro.albini@ferrous-systems.com", "date": "2023-01-24T16:00:45Z"}, "message": "add option to include private items in library docs", "tree": {"sha": "7f24877d52ff730a94a5395f4618ef62dea6a3da", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7f24877d52ff730a94a5395f4618ef62dea6a3da"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bba274fabbaf6e2387db5e09d1ad3a9c2ca48560", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEMycKYjxLY0eb13b7zXazX3c0dp4FAmPQANMACgkQzXazX3c0\ndp6cjRAAn9uQ2i1IjC+ZLGftU1gYNIQKVIaH7nRqWpgqzT7VTmF+mduJGhWDbJs3\nlpDuCa2xbdk+aIPmGlX0lijyqMSOcu33dp4Tl6Y4RZ3mdRwA+xcdOCyd/c6XNqDd\nFS11otn7EbYSGH7A9mp98MK8WPzrsIPd76j58iZt6fy53dxHvRk1AnH+adV1qdBy\nOZxDuJze7FsSGxHxeuPcDGP5flHjJDmKiIliRsfy1tFFNrSPyKsMDkJeefriLFUZ\nXlpJaPdNuPpgW3oBPoJY/yOUppUVHvvvjQNEUk5SAbAM+f5TR4PjHFBN+ATqNoBV\nUXXDQpLVRoaaQQ/CikhFocmhiFaIGPLVDdCp0itvY1Bnw1o3K5NcpZqbVKSOs8kC\nakLOOQ0NST+cGOmh/Vitj4RUCB+sOIVCig6L6z3SDpZ9U9I7r0+tAb5eGadt59Xq\nZgAmYx5ViaBBKxmZ3vfQSxij9NFaP8mmDAyQW2rpJRadC7KmiEx1vtIXo77202VN\nleMKXj8v2kxWNFviOGw48LJegB88V17xNGyRrh+RhlSzzPr3Z+d2ZWgLS9OA9XVk\n76X6gskddB5qPDBMl05ohXPHFZJ5ObC33XP8j11TaxoWK30c2wgWq+d17EUkTTnY\nwU7Qppe7flPf0/9UupW6dIX6ujzArPtvrslJIWqBSBRXHcrOK7U=\n=Je8R\n-----END PGP SIGNATURE-----", "payload": "tree 7f24877d52ff730a94a5395f4618ef62dea6a3da\nparent c8e6a9e8b6251bbc8276cb78cabe1998deecbed7\nauthor Pietro Albini <pietro.albini@ferrous-systems.com> 1674576045 +0100\ncommitter Pietro Albini <pietro.albini@ferrous-systems.com> 1674576045 +0100\n\nadd option to include private items in library docs\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bba274fabbaf6e2387db5e09d1ad3a9c2ca48560", "html_url": "https://github.com/rust-lang/rust/commit/bba274fabbaf6e2387db5e09d1ad3a9c2ca48560", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bba274fabbaf6e2387db5e09d1ad3a9c2ca48560/comments", "author": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pietroalbini", "id": 2299951, "node_id": "MDQ6VXNlcjIyOTk5NTE=", "avatar_url": "https://avatars.githubusercontent.com/u/2299951?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pietroalbini", "html_url": "https://github.com/pietroalbini", "followers_url": "https://api.github.com/users/pietroalbini/followers", "following_url": "https://api.github.com/users/pietroalbini/following{/other_user}", "gists_url": "https://api.github.com/users/pietroalbini/gists{/gist_id}", "starred_url": "https://api.github.com/users/pietroalbini/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pietroalbini/subscriptions", "organizations_url": "https://api.github.com/users/pietroalbini/orgs", "repos_url": "https://api.github.com/users/pietroalbini/repos", "events_url": "https://api.github.com/users/pietroalbini/events{/privacy}", "received_events_url": "https://api.github.com/users/pietroalbini/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c8e6a9e8b6251bbc8276cb78cabe1998deecbed7", "url": "https://api.github.com/repos/rust-lang/rust/commits/c8e6a9e8b6251bbc8276cb78cabe1998deecbed7", "html_url": "https://github.com/rust-lang/rust/commit/c8e6a9e8b6251bbc8276cb78cabe1998deecbed7"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "85f058f3664e3e5d388643fb86e70feeca400f83", "filename": "config.toml.example", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/bba274fabbaf6e2387db5e09d1ad3a9c2ca48560/config.toml.example", "raw_url": "https://github.com/rust-lang/rust/raw/bba274fabbaf6e2387db5e09d1ad3a9c2ca48560/config.toml.example", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/config.toml.example?ref=bba274fabbaf6e2387db5e09d1ad3a9c2ca48560", "patch": "@@ -233,6 +233,9 @@ changelog-seen = 2\n # and generated in already-minified form from the beginning.\n #docs-minification = true\n \n+# Flag to specify whether private items should be included in the library docs.\n+#library-docs-private-items = false\n+\n # Indicate whether the compiler should be documented in addition to the standard\n # library and facade crates.\n #compiler-docs = false"}, {"sha": "0bcc919aee80270b44ad290929786de998702a9e", "filename": "src/bootstrap/config.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/bba274fabbaf6e2387db5e09d1ad3a9c2ca48560/src%2Fbootstrap%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bba274fabbaf6e2387db5e09d1ad3a9c2ca48560/src%2Fbootstrap%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fconfig.rs?ref=bba274fabbaf6e2387db5e09d1ad3a9c2ca48560", "patch": "@@ -65,6 +65,7 @@ pub struct Config {\n     pub verbose: usize,\n     pub submodules: Option<bool>,\n     pub compiler_docs: bool,\n+    pub library_docs_private_items: bool,\n     pub docs_minification: bool,\n     pub docs: bool,\n     pub locked_deps: bool,\n@@ -606,6 +607,7 @@ define_config! {\n         rustfmt: Option<PathBuf> = \"rustfmt\",\n         docs: Option<bool> = \"docs\",\n         compiler_docs: Option<bool> = \"compiler-docs\",\n+        library_docs_private_items: Option<bool> = \"library-docs-private-items\",\n         docs_minification: Option<bool> = \"docs-minification\",\n         submodules: Option<bool> = \"submodules\",\n         gdb: Option<String> = \"gdb\",\n@@ -1015,6 +1017,7 @@ impl Config {\n         config.submodules = build.submodules;\n         set(&mut config.low_priority, build.low_priority);\n         set(&mut config.compiler_docs, build.compiler_docs);\n+        set(&mut config.library_docs_private_items, build.library_docs_private_items);\n         set(&mut config.docs_minification, build.docs_minification);\n         set(&mut config.docs, build.docs);\n         set(&mut config.locked_deps, build.locked_deps);"}, {"sha": "5d5a808200d91cc95a6589b56be563591dad91e8", "filename": "src/bootstrap/doc.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/bba274fabbaf6e2387db5e09d1ad3a9c2ca48560/src%2Fbootstrap%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bba274fabbaf6e2387db5e09d1ad3a9c2ca48560/src%2Fbootstrap%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdoc.rs?ref=bba274fabbaf6e2387db5e09d1ad3a9c2ca48560", "patch": "@@ -597,6 +597,9 @@ fn doc_std(\n             .arg(\"--resource-suffix\")\n             .arg(&builder.version)\n             .args(extra_args);\n+        if builder.config.library_docs_private_items {\n+            cargo.arg(\"--document-private-items\");\n+        }\n         builder.run(&mut cargo.into());\n     };\n "}]}