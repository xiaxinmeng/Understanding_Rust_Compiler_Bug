{"sha": "a8dd52ed3649d2dba3474a80254d1cc5180797f3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE4ZGQ1MmVkMzY0OWQyZGJhMzQ3NGE4MDI1NGQxY2M1MTgwNzk3ZjM=", "commit": {"author": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-11-23T09:30:07Z"}, "committer": {"name": "Marijn Haverbeke", "email": "marijnh@gmail.com", "date": "2011-11-23T10:02:27Z"}, "message": "Remove last traces of auth keyword\n\nThe reference now has an empty hole where the auth keyword used to be.\nChanging the keyword table seems to require manually sorting the\nkeywords and putting them back into some kind of arcane interleaved\norder. I'll open an issue to actually fix this.\n\nCloses #1211", "tree": {"sha": "79d6f00b3bfffdf6f3524da71784780150de67f2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/79d6f00b3bfffdf6f3524da71784780150de67f2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a8dd52ed3649d2dba3474a80254d1cc5180797f3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a8dd52ed3649d2dba3474a80254d1cc5180797f3", "html_url": "https://github.com/rust-lang/rust/commit/a8dd52ed3649d2dba3474a80254d1cc5180797f3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a8dd52ed3649d2dba3474a80254d1cc5180797f3/comments", "author": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marijnh", "id": 144427, "node_id": "MDQ6VXNlcjE0NDQyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/144427?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marijnh", "html_url": "https://github.com/marijnh", "followers_url": "https://api.github.com/users/marijnh/followers", "following_url": "https://api.github.com/users/marijnh/following{/other_user}", "gists_url": "https://api.github.com/users/marijnh/gists{/gist_id}", "starred_url": "https://api.github.com/users/marijnh/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marijnh/subscriptions", "organizations_url": "https://api.github.com/users/marijnh/orgs", "repos_url": "https://api.github.com/users/marijnh/repos", "events_url": "https://api.github.com/users/marijnh/events{/privacy}", "received_events_url": "https://api.github.com/users/marijnh/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "93e8783496008b27347b4b68e60e938b34b3ea6a", "url": "https://api.github.com/repos/rust-lang/rust/commits/93e8783496008b27347b4b68e60e938b34b3ea6a", "html_url": "https://github.com/rust-lang/rust/commit/93e8783496008b27347b4b68e60e938b34b3ea6a"}], "stats": {"total": 44, "additions": 1, "deletions": 43}, "files": [{"sha": "050b76eb15fa908c3067f39f68cb4ea810b955a7", "filename": "doc/rust.texi", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a8dd52ed3649d2dba3474a80254d1cc5180797f3/doc%2Frust.texi", "raw_url": "https://github.com/rust-lang/rust/raw/a8dd52ed3649d2dba3474a80254d1cc5180797f3/doc%2Frust.texi", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Frust.texi?ref=a8dd52ed3649d2dba3474a80254d1cc5180797f3", "patch": "@@ -636,7 +636,7 @@ The keywords are:\n @tab @code{if}\n @tab @code{pure}\n @tab @code{uint}\n-@item @code{auth}\n+@item @code{}\n @tab @code{export}\n @tab @code{import}\n @tab @code{resource}"}, {"sha": "238030621fe5ff027f4c67b1806af31836838401", "filename": "src/comp/rustc.rc", "status": "modified", "additions": 0, "deletions": 4, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Frustc.rc", "raw_url": "https://github.com/rust-lang/rust/raw/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Frustc.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Frustc.rc?ref=a8dd52ed3649d2dba3474a80254d1cc5180797f3", "patch": "@@ -127,10 +127,6 @@ mod util {\n     mod filesearch;\n }\n \n-auth middle::metadata = unsafe;\n-auth middle::trans = unsafe;\n-auth lib::llvm = unsafe;\n-\n mod lib {\n     mod llvm;\n }"}, {"sha": "dfebf9135fdf8f78375d7c88a96fa6dc3e964ffa", "filename": "src/comp/syntax/ast.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Fsyntax%2Fast.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Fsyntax%2Fast.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fsyntax%2Fast.rs?ref=a8dd52ed3649d2dba3474a80254d1cc5180797f3", "patch": "@@ -62,7 +62,6 @@ tag crate_directive_ {\n     cdir_dir_mod(ident, option::t<filename>, [@crate_directive], [attribute]);\n     cdir_view_item(@view_item);\n     cdir_syntax(path);\n-    cdir_auth(path, _auth);\n }\n \n type crate_directive = spanned<crate_directive_>;\n@@ -101,8 +100,6 @@ tag mutability { mut; imm; maybe_mut; }\n \n tag kind { kind_sendable; kind_copyable; kind_noncopyable; }\n \n-tag _auth { auth_unsafe; }\n-\n tag proto_sugar {\n     sugar_normal;\n     sugar_sexy;"}, {"sha": "956f9e538f06beb473f9addb91a9dda60ef0e711", "filename": "src/comp/syntax/fold.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Fsyntax%2Ffold.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Fsyntax%2Ffold.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fsyntax%2Ffold.rs?ref=a8dd52ed3649d2dba3474a80254d1cc5180797f3", "patch": "@@ -168,7 +168,6 @@ fn noop_fold_crate_directive(cd: crate_directive_, fld: ast_fold) ->\n           }\n           cdir_view_item(vi) { cdir_view_item(fld.fold_view_item(vi)) }\n           cdir_syntax(_) { cd }\n-          cdir_auth(_, _) { cd }\n         }\n }\n "}, {"sha": "2c1c0155cf056b17c317aa1b65e3ba7d80621b62", "filename": "src/comp/syntax/parse/eval.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Fsyntax%2Fparse%2Feval.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Fsyntax%2Fparse%2Feval.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fsyntax%2Fparse%2Feval.rs?ref=a8dd52ed3649d2dba3474a80254d1cc5180797f3", "patch": "@@ -133,7 +133,6 @@ fn eval_crate_directive(cx: ctx, cdir: @ast::crate_directive, prefix: str,\n       }\n       ast::cdir_view_item(vi) { view_items += [vi]; }\n       ast::cdir_syntax(pth) { }\n-      ast::cdir_auth(pth, eff) { }\n     }\n }\n //"}, {"sha": "35c1e1190d3e751f6a3fdd0e4f3826f5af73574a", "filename": "src/comp/syntax/parse/parser.rs", "status": "modified", "additions": 0, "deletions": 13, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Fsyntax%2Fparse%2Fparser.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Fsyntax%2Fparse%2Fparser.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fsyntax%2Fparse%2Fparser.rs?ref=a8dd52ed3649d2dba3474a80254d1cc5180797f3", "patch": "@@ -2112,12 +2112,6 @@ fn parse_item_tag(p: parser, attrs: [ast::attribute]) -> @ast::item {\n     ret mk_item(p, lo, hi, id, ast::item_tag(variants, ty_params), attrs);\n }\n \n-fn parse_auth(p: parser) -> ast::_auth {\n-    if eat_word(p, \"unsafe\") {\n-        ret ast::auth_unsafe;\n-    } else { unexpected(p, p.peek()); }\n-}\n-\n fn parse_fn_item_proto(_p: parser) -> ast::proto {\n     ast::proto_bare\n }\n@@ -2529,13 +2523,6 @@ fn parse_crate_directive(p: parser, first_outer_attr: [ast::attribute]) ->\n           }\n           t { unexpected(p, t); }\n         }\n-    } else if eat_word(p, \"auth\") {\n-        let n = parse_path(p);\n-        expect(p, token::EQ);\n-        let a = parse_auth(p);\n-        let hi = p.get_hi_pos();\n-        expect(p, token::SEMI);\n-        ret spanned(lo, hi, ast::cdir_auth(n, a));\n     } else if is_view_item(p) {\n         let vi = parse_view_item(p);\n         ret spanned(lo, vi.span.hi, ast::cdir_view_item(vi));"}, {"sha": "7430c28b749f46c0696b039f191669a0e41e89b5", "filename": "src/comp/syntax/visit.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Fsyntax%2Fvisit.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Fcomp%2Fsyntax%2Fvisit.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fsyntax%2Fvisit.rs?ref=a8dd52ed3649d2dba3474a80254d1cc5180797f3", "patch": "@@ -64,7 +64,6 @@ fn visit_crate_directive<E>(cd: @crate_directive, e: E, v: vt<E>) {\n       }\n       cdir_view_item(vi) { v.visit_view_item(vi, e, v); }\n       cdir_syntax(_) { }\n-      cdir_auth(_, _) { }\n     }\n }\n "}, {"sha": "1d1c69e7be4e54e5c447121f1fee6f451da1381f", "filename": "src/lib/std.rc", "status": "modified", "additions": 0, "deletions": 19, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Flib%2Fstd.rc", "raw_url": "https://github.com/rust-lang/rust/raw/a8dd52ed3649d2dba3474a80254d1cc5180797f3/src%2Flib%2Fstd.rc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flib%2Fstd.rc?ref=a8dd52ed3649d2dba3474a80254d1cc5180797f3", "patch": "@@ -114,25 +114,6 @@ mod os = \"linux_os.rs\";\n #[cfg(target_os = \"linux\")]\n mod os_fs = \"posix_fs.rs\";\n \n-\n-// FIXME: This doesn't do anything.\n-// Authorize various rule-bendings.\n-\n-auth io = unsafe;\n-auth fs = unsafe;\n-auth os_fs = unsafe;\n-auth run = unsafe;\n-auth str = unsafe;\n-auth vec = unsafe;\n-auth task = unsafe;\n-\n-auth dbg = unsafe;\n-\n-auth uint::next_power_of_two = unsafe;\n-auth map::mk_hashmap = unsafe;\n-auth rand::mk_rng = unsafe;\n-\n-\n // Local Variables:\n // mode: rust;\n // fill-column: 78;"}]}