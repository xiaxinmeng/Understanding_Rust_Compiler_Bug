{"sha": "949ba9ca460779ee75386b6dcec6b4f7d1774363", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk0OWJhOWNhNDYwNzc5ZWU3NTM4NmI2ZGNlYzZiNGY3ZDE3NzQzNjM=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-18T19:05:04Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-18T19:05:04Z"}, "message": "rustboot: Parse, and ignore, \"mutable?\"", "tree": {"sha": "8aab47dc33d1c548eaaca1ea4a598747ad74df03", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8aab47dc33d1c548eaaca1ea4a598747ad74df03"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/949ba9ca460779ee75386b6dcec6b4f7d1774363", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/949ba9ca460779ee75386b6dcec6b4f7d1774363", "html_url": "https://github.com/rust-lang/rust/commit/949ba9ca460779ee75386b6dcec6b4f7d1774363", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/949ba9ca460779ee75386b6dcec6b4f7d1774363/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2ef9c01ffcd160937ddccc91a6f5e9fa24f22fd4", "url": "https://api.github.com/repos/rust-lang/rust/commits/2ef9c01ffcd160937ddccc91a6f5e9fa24f22fd4", "html_url": "https://github.com/rust-lang/rust/commit/2ef9c01ffcd160937ddccc91a6f5e9fa24f22fd4"}], "stats": {"total": 16, "additions": 14, "deletions": 2}, "files": [{"sha": "c4dcfe1ddaa662933a09881d74f0094849448826", "filename": "src/boot/fe/pexp.ml", "status": "modified", "additions": 14, "deletions": 2, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/949ba9ca460779ee75386b6dcec6b4f7d1774363/src%2Fboot%2Ffe%2Fpexp.ml", "raw_url": "https://github.com/rust-lang/rust/raw/949ba9ca460779ee75386b6dcec6b4f7d1774363/src%2Fboot%2Ffe%2Fpexp.ml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fboot%2Ffe%2Fpexp.ml?ref=949ba9ca460779ee75386b6dcec6b4f7d1774363", "patch": "@@ -159,7 +159,14 @@ and parse_effect (ps:pstate) : Ast.effect =\n \n and parse_mutability (ps:pstate) : Ast.mutability =\n   match peek ps with\n-      MUTABLE -> bump ps; Ast.MUT_mutable\n+      MUTABLE ->\n+        begin\n+          (* HACK: ignore \"mutable?\" *)\n+          bump ps;\n+          match peek ps with\n+              QUES -> bump ps; Ast.MUT_immutable\n+            | _ -> Ast.MUT_mutable\n+        end\n     | _ -> Ast.MUT_immutable\n \n and parse_ty_fn\n@@ -310,7 +317,12 @@ and parse_atomic_ty (ps:pstate) : Ast.ty =\n \n     | MUTABLE ->\n         bump ps;\n-        Ast.TY_mutable (parse_ty ps)\n+        begin\n+          (* HACK: ignore \"mutable?\" *)\n+          match peek ps with\n+              QUES -> bump ps; parse_ty ps\n+            | _ -> Ast.TY_mutable (parse_ty ps)\n+        end\n \n     | LPAREN ->\n         begin"}]}