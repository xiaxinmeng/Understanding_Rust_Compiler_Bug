{"sha": "d7bc9b50da791e7965028316aa844d36771fcd0a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ3YmM5YjUwZGE3OTFlNzk2NTAyODMxNmFhODQ0ZDM2NzcxZmNkMGE=", "commit": {"author": {"name": "Nick Cameron", "email": "nrc@ncameron.org", "date": "2018-07-20T10:18:03Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-07-20T10:18:03Z"}, "message": "Merge pull request #2854 from topecongiro/rustc-ap-syntax\n\nUpdate rustc-ap-*", "tree": {"sha": "1565978f112927f08afeb681414adea27b0bf248", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1565978f112927f08afeb681414adea27b0bf248"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d7bc9b50da791e7965028316aa844d36771fcd0a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbUbbbCRBK7hj4Ov3rIwAAdHIIABzy9MHRDEtQyG0fW1oMWEk+\nrL0RlfIDUm/8vMD/dgmZRz3hfPAYhcvl4h+fO87urBhJopR3nRTqWBj8PukgtvO7\nsxmF+X9ONFjXHKl6Zl5VDYWBbg7bR9ye4VzHcKX3rx/FQbjMufGyxQfJo4BXCUQX\n6cq/FqegMvImYiFYPfk44lAA/Ytpl/ryyn/I/EzrzdWQn1VW/Fz8mDKT4B/J6ZsH\nsl2ExQQFwPpGhfRgEh++BobXm8ZTWw/To3oHEOBlQU+g7saUr6dZjFMyDMR0ksZo\nYhfJqw+Q30gbsyHtcj92cvhsvY2bkkgKrwYOmSg01upoMHXRd06XQlR2qY8PlYQ=\n=qQiM\n-----END PGP SIGNATURE-----\n", "payload": "tree 1565978f112927f08afeb681414adea27b0bf248\nparent aa61bd5c1a1fa968d154dc1175a79d161ecfaf85\nparent d40ed146a5eec39b277514b1d5d48d927934768a\nauthor Nick Cameron <nrc@ncameron.org> 1532081883 +1200\ncommitter GitHub <noreply@github.com> 1532081883 +1200\n\nMerge pull request #2854 from topecongiro/rustc-ap-syntax\n\nUpdate rustc-ap-*"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d7bc9b50da791e7965028316aa844d36771fcd0a", "html_url": "https://github.com/rust-lang/rust/commit/d7bc9b50da791e7965028316aa844d36771fcd0a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d7bc9b50da791e7965028316aa844d36771fcd0a/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "aa61bd5c1a1fa968d154dc1175a79d161ecfaf85", "url": "https://api.github.com/repos/rust-lang/rust/commits/aa61bd5c1a1fa968d154dc1175a79d161ecfaf85", "html_url": "https://github.com/rust-lang/rust/commit/aa61bd5c1a1fa968d154dc1175a79d161ecfaf85"}, {"sha": "d40ed146a5eec39b277514b1d5d48d927934768a", "url": "https://api.github.com/repos/rust-lang/rust/commits/d40ed146a5eec39b277514b1d5d48d927934768a", "html_url": "https://github.com/rust-lang/rust/commit/d40ed146a5eec39b277514b1d5d48d927934768a"}], "stats": {"total": 192, "additions": 114, "deletions": 78}, "files": [{"sha": "f6e11cdb0a97b58cd74c61ba67ba09c8ad9886ac", "filename": "Cargo.lock", "status": "modified", "additions": 72, "deletions": 69, "changes": 141, "blob_url": "https://github.com/rust-lang/rust/blob/d7bc9b50da791e7965028316aa844d36771fcd0a/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/d7bc9b50da791e7965028316aa844d36771fcd0a/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=d7bc9b50da791e7965028316aa844d36771fcd0a", "patch": "@@ -16,15 +16,15 @@ dependencies = [\n \n [[package]]\n name = \"assert_cli\"\n-version = \"0.6.2\"\n+version = \"0.6.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"colored 1.6.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"difference 2.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"environment 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure_derive 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.22 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -45,7 +45,7 @@ dependencies = [\n  \"backtrace-sys 0.1.23 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cfg-if 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-demangle 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-demangle 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -77,7 +77,7 @@ dependencies = [\n  \"semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.70 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_derive 1.0.70 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.22 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -95,7 +95,7 @@ name = \"colored\"\n version = \"1.6.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"lazy_static 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"lazy_static 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -115,7 +115,7 @@ dependencies = [\n  \"arrayvec 0.4.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cfg-if 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"crossbeam-utils 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"lazy_static 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"lazy_static 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"memoffset 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"nodrop 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"scopeguard 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -134,7 +134,7 @@ name = \"derive-new\"\n version = \"0.5.5\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"proc-macro2 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"proc-macro2 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"quote 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"syn 0.14.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -175,7 +175,7 @@ dependencies = [\n  \"atty 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"humantime 1.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"termcolor 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -266,7 +266,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"lazy_static\"\n-version = \"1.0.1\"\n+version = \"1.0.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n@@ -332,13 +332,13 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"smallvec 0.6.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"smallvec 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"proc-macro2\"\n-version = \"0.4.6\"\n+version = \"0.4.8\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"unicode-xid 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -359,7 +359,7 @@ name = \"quote\"\n version = \"0.6.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"proc-macro2 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"proc-macro2 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -387,35 +387,35 @@ dependencies = [\n \n [[package]]\n name = \"regex\"\n-version = \"1.0.1\"\n+version = \"1.0.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"aho-corasick 0.6.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"memchr 2.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex-syntax 0.6.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex-syntax 0.6.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"thread_local 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"utf8-ranges 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"regex-syntax\"\n-version = \"0.6.1\"\n+version = \"0.6.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"ucd-util 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rustc-ap-arena\"\n-version = \"196.0.0\"\n+version = \"201.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"rustc-ap-rustc_data_structures 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_data_structures 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_cratesio_shim\"\n-version = \"196.0.0\"\n+version = \"201.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"bitflags 1.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -424,16 +424,16 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_data_structures\"\n-version = \"196.0.0\"\n+version = \"201.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cfg-if 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"ena 0.9.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"parking_lot 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"parking_lot_core 0.2.14 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_cratesio_shim 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-serialize 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_cratesio_shim 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-serialize 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-hash 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-rayon 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-rayon-core 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -442,64 +442,64 @@ dependencies = [\n \n [[package]]\n name = \"rustc-ap-rustc_errors\"\n-version = \"196.0.0\"\n+version = \"201.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"atty 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_data_structures 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-serialize 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-syntax_pos 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_data_structures 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-serialize 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-syntax_pos 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"termcolor 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-width 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rustc-ap-rustc_target\"\n-version = \"196.0.0\"\n+version = \"201.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"bitflags 1.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_cratesio_shim 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-serialize 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_cratesio_shim 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-serialize 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rustc-ap-serialize\"\n-version = \"196.0.0\"\n+version = \"201.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"rustc-ap-syntax\"\n-version = \"196.0.0\"\n+version = \"201.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"bitflags 1.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_data_structures 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_errors 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_target 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-serialize 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-syntax_pos 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_data_structures 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_errors 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_target 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-serialize 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-syntax_pos 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"scoped-tls 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rustc-ap-syntax_pos\"\n-version = \"196.0.0\"\n+version = \"201.0.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cfg-if 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-arena 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_data_structures 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-serialize 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-arena 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_data_structures 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-serialize 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"scoped-tls 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-width 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rustc-demangle\"\n-version = \"0.1.8\"\n+version = \"0.1.9\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n@@ -525,7 +525,7 @@ version = \"0.1.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"crossbeam-deque 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"lazy_static 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"lazy_static 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num_cpus 1.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -535,7 +535,7 @@ dependencies = [\n name = \"rustfmt-nightly\"\n version = \"0.8.3\"\n dependencies = [\n- \"assert_cli 0.6.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"assert_cli 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cargo_metadata 0.6.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"derive-new 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"diff 0.1.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -544,15 +544,15 @@ dependencies = [\n  \"getopts 0.2.18 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"isatty 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"itertools 0.7.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"lazy_static 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"lazy_static 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-rustc_target 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-syntax 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rustc-ap-syntax_pos 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"regex 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-rustc_target 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-syntax 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rustc-ap-syntax_pos 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.70 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_derive 1.0.70 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.22 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.24 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"term 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"toml 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-segmentation 1.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -592,14 +592,14 @@ name = \"serde_derive\"\n version = \"1.0.70\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"proc-macro2 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"proc-macro2 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"quote 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"syn 0.14.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"serde_json\"\n-version = \"1.0.22\"\n+version = \"1.0.24\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"dtoa 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -609,8 +609,11 @@ dependencies = [\n \n [[package]]\n name = \"smallvec\"\n-version = \"0.6.2\"\n+version = \"0.6.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+dependencies = [\n+ \"unreachable 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+]\n \n [[package]]\n name = \"stable_deref_trait\"\n@@ -632,7 +635,7 @@ name = \"syn\"\n version = \"0.14.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"proc-macro2 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"proc-macro2 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"quote 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unicode-xid 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -686,7 +689,7 @@ name = \"thread_local\"\n version = \"0.3.5\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"lazy_static 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"lazy_static 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unreachable 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -771,7 +774,7 @@ dependencies = [\n [metadata]\n \"checksum aho-corasick 0.6.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c1c6d463cbe7ed28720b5b489e7c083eeb8f90d08be2a0d6bb9e1ffea9ce1afa\"\n \"checksum arrayvec 0.4.7 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a1e964f9e24d588183fcb43503abda40d288c8657dfc27311516ce2f05675aef\"\n-\"checksum assert_cli 0.6.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"98589b0e465a6c510d95fceebd365bb79bedece7f6e18a480897f2015f85ec51\"\n+\"checksum assert_cli 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a29ab7c0ed62970beb0534d637a8688842506d0ff9157de83286dacd065c8149\"\n \"checksum atty 0.2.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2fc4a1aa4c24c0718a250f0681885c1af91419d242f29eb8f2ab28502d80dbd1\"\n \"checksum backtrace 0.3.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"89a47830402e9981c5c41223151efcced65a0510c13097c769cede7efb34782a\"\n \"checksum backtrace-sys 0.1.23 (registry+https://github.com/rust-lang/crates.io-index)\" = \"bff67d0c06556c0b8e6b5f090f0eac52d950d9dfd1d35ba04e4ca3543eaf6a7e\"\n@@ -802,7 +805,7 @@ dependencies = [\n \"checksum isatty 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6c324313540cd4d7ba008d43dc6606a32a5579f13cc17b2804c13096f0a5c522\"\n \"checksum itertools 0.7.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f58856976b776fedd95533137617a02fb25719f40e7d9b01c7043cd65474f450\"\n \"checksum itoa 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5adb58558dcd1d786b5f0bd15f3226ee23486e24b7b58304b60f64dc68e62606\"\n-\"checksum lazy_static 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e6412c5e2ad9584b0b8e979393122026cdd6d2a80b933f890dcd694ddbe73739\"\n+\"checksum lazy_static 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fb497c35d362b6a331cfd94956a07fc2c78a4604cdbee844a81170386b996dd3\"\n \"checksum libc 0.2.42 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b685088df2b950fccadf07a7187c8ef846a959c142338a48f9dc0b94517eb5f1\"\n \"checksum log 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"61bd98ae7f7b754bc53dca7d44b604f733c6bba044ea6f41bc8d89272d8161d2\"\n \"checksum memchr 2.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"796fba70e76612589ed2ce7f45282f5af869e0fdd7cc6199fa1aa1f1d591ba9d\"\n@@ -812,24 +815,24 @@ dependencies = [\n \"checksum owning_ref 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"cdf84f41639e037b484f93433aa3897863b561ed65c6e59c7073d7c561710f37\"\n \"checksum parking_lot 0.5.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d4d05f1349491390b1730afba60bb20d55761bef489a954546b58b4b34e1e2ac\"\n \"checksum parking_lot_core 0.2.14 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4db1a8ccf734a7bce794cc19b3df06ed87ab2f3907036b693c68f56b4d4537fa\"\n-\"checksum proc-macro2 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"effdb53b25cdad54f8f48843d67398f7ef2e14f12c1b4cb4effc549a6462a4d6\"\n+\"checksum proc-macro2 0.4.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c65b1ea15bb859d922cade2d1765b4b88beac339cbfad545ef2d2ef8c8215ee6\"\n \"checksum quick-error 1.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9274b940887ce9addde99c4eee6b5c44cc494b182b97e73dc8ffdcb3397fd3f0\"\n \"checksum quote 0.3.15 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7a6e920b65c65f10b2ae65c831a81a073a89edd28c7cce89475bff467ab4167a\"\n \"checksum quote 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e44651a0dc4cdd99f71c83b561e221f714912d11af1a4dff0631f923d53af035\"\n \"checksum rand 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"eba5f8cb59cc50ed56be8880a5c7b496bfd9bd26394e176bc67884094145c2c5\"\n \"checksum redox_syscall 0.1.40 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c214e91d3ecf43e9a4e41e578973adeb14b474f2bee858742d127af75a0112b1\"\n \"checksum redox_termios 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7e891cfe48e9100a70a3b6eb652fef28920c117d366339687bd5576160db0f76\"\n-\"checksum regex 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"13c93d55961981ba9226a213b385216f83ab43bd6ac53ab16b2eeb47e337cf4e\"\n-\"checksum regex-syntax 0.6.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"05b06a75f5217880fc5e905952a42750bf44787e56a6c6d6852ed0992f5e1d54\"\n-\"checksum rustc-ap-arena 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"cebf40494a8003d822abb76cf390bf497957ef41da19260777447fb5a46722c2\"\n-\"checksum rustc-ap-rustc_cratesio_shim 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b27681c73a8f704c601788869fcb2b15c0ef42973eedf0a31e2aad6eddc3d797\"\n-\"checksum rustc-ap-rustc_data_structures 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ba869c93dec296ac0b8ff43dbc30233f59c7e48ba1d784c9cd60c416dad4b8cc\"\n-\"checksum rustc-ap-rustc_errors 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3fc4e0aa9e17fc46cf7c1c23f6d3732839a340810bc72a5d4e4390496e9f8857\"\n-\"checksum rustc-ap-rustc_target 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5ef409789770f2508642c4ff7c0f173901fe93ec61e0694b7eed62c101e3f612\"\n-\"checksum rustc-ap-serialize 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f6d0709e519818cfa168cd2dbecdc68fccc8501e7ac0c0ef1b8a85d8c3b1c7ad\"\n-\"checksum rustc-ap-syntax 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ab10d535cf62d05b811307a39631c0aa5e1d66dcb4e72b951bf99938c538583e\"\n-\"checksum rustc-ap-syntax_pos 196.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"13fa8e21abb05f4fe88d14a1a272846d65f765c21660dee87717817cf11e3d3e\"\n-\"checksum rustc-demangle 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"76d7ba1feafada44f2d38eed812bd2489a03c0f5abb975799251518b68848649\"\n+\"checksum regex 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5bbbea44c5490a1e84357ff28b7d518b4619a159fed5d25f6c1de2d19cc42814\"\n+\"checksum regex-syntax 0.6.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"747ba3b235651f6e2f67dfa8bcdcd073ddb7c243cb21c442fc12395dfcac212d\"\n+\"checksum rustc-ap-arena 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6c4824e6a8dc04ee2ecc2f096955d89285460875c2ca824b51edfbb2925b3cb1\"\n+\"checksum rustc-ap-rustc_cratesio_shim 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3972f2e48e0d0b17585a61f687caa1f767aeb59b6202231909495e54517e0de3\"\n+\"checksum rustc-ap-rustc_data_structures 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d7a721bc31880ad4cb8d48b5b8fcb16944667534a90c0cf68163912a3b0576f4\"\n+\"checksum rustc-ap-rustc_errors 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"885f2800e78f716582c0001985fac450c154f98eec5323b1fd71cc972cf4d516\"\n+\"checksum rustc-ap-rustc_target 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"698506472e2441eb16a853ac767dbb73cfe94a389f36d474d55d4935cf775903\"\n+\"checksum rustc-ap-serialize 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"531dcb205a578ebeed3e0a3ef49722eb8b06b510fc9550cca11a59b418972e10\"\n+\"checksum rustc-ap-syntax 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0629b3d87fcb4bce2efa82cb3af879b2e85df4322cdfc814f1c0e08bd5a3a316\"\n+\"checksum rustc-ap-syntax_pos 201.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b8c5969a34ef45ad20b50da0f29a2a135ad12eb3b38137fd62abd724ca85339b\"\n+\"checksum rustc-demangle 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"bcfe5b13211b4d78e5c2cadfebd7769197d95c639c35a50057eb4c05de811395\"\n \"checksum rustc-hash 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7540fc8b0c49f096ee9c961cda096467dce8084bec6bdca2fc83895fd9b28cb8\"\n \"checksum rustc-rayon 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8c6d5a683c6ba4ed37959097e88d71c9e8e26659a3cb5be8b389078e7ad45306\"\n \"checksum rustc-rayon-core 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"40f06724db71e18d68b3b946fdf890ca8c921d9edccc1404fdfdb537b0d12649\"\n@@ -839,8 +842,8 @@ dependencies = [\n \"checksum semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3\"\n \"checksum serde 1.0.70 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0c3adf19c07af6d186d91dae8927b83b0553d07ca56cbf7f2f32560455c91920\"\n \"checksum serde_derive 1.0.70 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3525a779832b08693031b8ecfb0de81cd71cfd3812088fafe9a7496789572124\"\n-\"checksum serde_json 1.0.22 (registry+https://github.com/rust-lang/crates.io-index)\" = \"84b8035cabe9b35878adec8ac5fe03d5f6bc97ff6edd7ccb96b44c1276ba390e\"\n-\"checksum smallvec 0.6.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"312a7df010092e73d6bbaf141957e868d4f30efd2bfd9bb1028ad91abec58514\"\n+\"checksum serde_json 1.0.24 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c3c6908c7b925cd6c590358a4034de93dbddb20c45e1d021931459fd419bf0e2\"\n+\"checksum smallvec 0.6.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"26df3bb03ca5eac2e64192b723d51f56c1b1e0860e7c766281f4598f181acdc8\"\n \"checksum stable_deref_trait 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ffbc596e092fe5f598b12ef46cc03754085ac2f4d8c739ad61c4ae266cc3b3fa\"\n \"checksum syn 0.11.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d3b891b9015c88c576343b9b3e41c2c11a51c219ef067b264bd9c8aa9b441dad\"\n \"checksum syn 0.14.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2beff8ebc3658f07512a413866875adddd20f4fd47b2a4e6c9da65cd281baaea\""}, {"sha": "99c83f993d4c43d38702e7e7a806a0cfefd3f080", "filename": "Cargo.toml", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/d7bc9b50da791e7965028316aa844d36771fcd0a/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/d7bc9b50da791e7965028316aa844d36771fcd0a/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=d7bc9b50da791e7965028316aa844d36771fcd0a", "patch": "@@ -47,9 +47,9 @@ env_logger = \"0.5\"\n getopts = \"0.2\"\n derive-new = \"0.5\"\n cargo_metadata = \"0.6\"\n-rustc-ap-rustc_target = \"196.0.0\"\n-rustc-ap-syntax = \"196.0.0\"\n-rustc-ap-syntax_pos = \"196.0.0\"\n+rustc-ap-rustc_target = \"201.0.0\"\n+rustc-ap-syntax = \"201.0.0\"\n+rustc-ap-syntax_pos = \"201.0.0\"\n failure = \"0.1.1\"\n \n [dev-dependencies]"}, {"sha": "783ca1c029b1cb66477fbd8e724fbc0456861332", "filename": "src/closures.rs", "status": "modified", "additions": 17, "deletions": 1, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/d7bc9b50da791e7965028316aa844d36771fcd0a/src%2Fclosures.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7bc9b50da791e7965028316aa844d36771fcd0a/src%2Fclosures.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fclosures.rs?ref=d7bc9b50da791e7965028316aa844d36771fcd0a", "patch": "@@ -118,6 +118,22 @@ fn needs_block(block: &ast::Block, prefix: &str, context: &RewriteContext) -> bo\n         || prefix.contains('\\n')\n }\n \n+fn veto_block(e: &ast::Expr) -> bool {\n+    match e.node {\n+        ast::ExprKind::Call(..)\n+        | ast::ExprKind::Binary(..)\n+        | ast::ExprKind::Cast(..)\n+        | ast::ExprKind::Type(..)\n+        | ast::ExprKind::Assign(..)\n+        | ast::ExprKind::AssignOp(..)\n+        | ast::ExprKind::Field(..)\n+        | ast::ExprKind::Index(..)\n+        | ast::ExprKind::Range(..)\n+        | ast::ExprKind::Try(..) => true,\n+        _ => false,\n+    }\n+}\n+\n // Rewrite closure with a single expression wrapping its body with block.\n fn rewrite_closure_with_block(\n     body: &ast::Expr,\n@@ -126,7 +142,7 @@ fn rewrite_closure_with_block(\n     shape: Shape,\n ) -> Option<String> {\n     let left_most = left_most_sub_expr(body);\n-    let veto_block = left_most != body && !classify::expr_requires_semi_to_be_stmt(left_most);\n+    let veto_block = veto_block(body) && !classify::expr_requires_semi_to_be_stmt(left_most);\n     if veto_block {\n         return None;\n     }"}, {"sha": "79d0641504ef23a57accc813abb4a6e31821dc49", "filename": "src/imports.rs", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/d7bc9b50da791e7965028316aa844d36771fcd0a/src%2Fimports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7bc9b50da791e7965028316aa844d36771fcd0a/src%2Fimports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fimports.rs?ref=d7bc9b50da791e7965028316aa844d36771fcd0a", "patch": "@@ -21,7 +21,7 @@ use lists::{definitive_tactic, itemize_list, write_list, ListFormatting, ListIte\n use rewrite::{Rewrite, RewriteContext};\n use shape::Shape;\n use spanned::Spanned;\n-use utils::{mk_sp, rewrite_ident};\n+use utils::{is_same_visibility, mk_sp, rewrite_ident};\n use visitor::FmtVisitor;\n \n use std::borrow::Cow;\n@@ -485,10 +485,7 @@ impl UseTree {\n                 }),\n             )\n             | (None, None) => true,\n-            (\n-                Some(codemap::Spanned { node: lnode, .. }),\n-                Some(codemap::Spanned { node: rnode, .. }),\n-            ) => lnode == rnode,\n+            (Some(ref a), Some(ref b)) => is_same_visibility(a, b),\n             _ => false,\n         }\n     }"}, {"sha": "f1b0582b1200f539cc433c6751ee8ab0bea2bc95", "filename": "src/utils.rs", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/d7bc9b50da791e7965028316aa844d36771fcd0a/src%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d7bc9b50da791e7965028316aa844d36771fcd0a/src%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Futils.rs?ref=d7bc9b50da791e7965028316aa844d36771fcd0a", "patch": "@@ -37,6 +37,26 @@ pub fn extra_offset(text: &str, shape: Shape) -> usize {\n     }\n }\n \n+pub fn is_same_visibility(a: &Visibility, b: &Visibility) -> bool {\n+    match (&a.node, &b.node) {\n+        (\n+            VisibilityKind::Restricted { path: p, .. },\n+            VisibilityKind::Restricted { path: q, .. },\n+        ) => format!(\"{}\", p) == format!(\"{}\", q),\n+        (VisibilityKind::Public, VisibilityKind::Public)\n+        | (VisibilityKind::Inherited, VisibilityKind::Inherited)\n+        | (\n+            VisibilityKind::Crate(CrateSugar::PubCrate),\n+            VisibilityKind::Crate(CrateSugar::PubCrate),\n+        )\n+        | (\n+            VisibilityKind::Crate(CrateSugar::JustCrate),\n+            VisibilityKind::Crate(CrateSugar::JustCrate),\n+        ) => true,\n+        _ => false,\n+    }\n+}\n+\n // Uses Cow to avoid allocating in the common cases.\n pub fn format_visibility(context: &RewriteContext, vis: &Visibility) -> Cow<'static, str> {\n     match vis.node {"}]}