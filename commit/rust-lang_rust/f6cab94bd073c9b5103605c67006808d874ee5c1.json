{"sha": "f6cab94bd073c9b5103605c67006808d874ee5c1", "node_id": "C_kwDOAAsO6NoAKGY2Y2FiOTRiZDA3M2M5YjUxMDM2MDVjNjcwMDY4MDhkODc0ZWU1YzE", "commit": {"author": {"name": "Federico Guerinoni", "email": "guerinoni.federico@gmail.com", "date": "2022-08-08T16:12:24Z"}, "committer": {"name": "Federico Guerinoni", "email": "guerinoni.federico@gmail.com", "date": "2022-08-08T16:38:39Z"}, "message": "Rename `logic_bug` to `overly_complex_bool_expr`\n\nCloses #1916", "tree": {"sha": "05dbc5562e9581c3ac55a4601245f172ec0416c9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/05dbc5562e9581c3ac55a4601245f172ec0416c9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f6cab94bd073c9b5103605c67006808d874ee5c1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f6cab94bd073c9b5103605c67006808d874ee5c1", "html_url": "https://github.com/rust-lang/rust/commit/f6cab94bd073c9b5103605c67006808d874ee5c1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f6cab94bd073c9b5103605c67006808d874ee5c1/comments", "author": {"login": "guerinoni", "id": 41150432, "node_id": "MDQ6VXNlcjQxMTUwNDMy", "avatar_url": "https://avatars.githubusercontent.com/u/41150432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guerinoni", "html_url": "https://github.com/guerinoni", "followers_url": "https://api.github.com/users/guerinoni/followers", "following_url": "https://api.github.com/users/guerinoni/following{/other_user}", "gists_url": "https://api.github.com/users/guerinoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/guerinoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guerinoni/subscriptions", "organizations_url": "https://api.github.com/users/guerinoni/orgs", "repos_url": "https://api.github.com/users/guerinoni/repos", "events_url": "https://api.github.com/users/guerinoni/events{/privacy}", "received_events_url": "https://api.github.com/users/guerinoni/received_events", "type": "User", "site_admin": false}, "committer": {"login": "guerinoni", "id": 41150432, "node_id": "MDQ6VXNlcjQxMTUwNDMy", "avatar_url": "https://avatars.githubusercontent.com/u/41150432?v=4", "gravatar_id": "", "url": "https://api.github.com/users/guerinoni", "html_url": "https://github.com/guerinoni", "followers_url": "https://api.github.com/users/guerinoni/followers", "following_url": "https://api.github.com/users/guerinoni/following{/other_user}", "gists_url": "https://api.github.com/users/guerinoni/gists{/gist_id}", "starred_url": "https://api.github.com/users/guerinoni/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/guerinoni/subscriptions", "organizations_url": "https://api.github.com/users/guerinoni/orgs", "repos_url": "https://api.github.com/users/guerinoni/repos", "events_url": "https://api.github.com/users/guerinoni/events{/privacy}", "received_events_url": "https://api.github.com/users/guerinoni/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4912c0ece4a7082bd6fda38fe0ea1de4335ce2a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/4912c0ece4a7082bd6fda38fe0ea1de4335ce2a7", "html_url": "https://github.com/rust-lang/rust/commit/4912c0ece4a7082bd6fda38fe0ea1de4335ce2a7"}], "stats": {"total": 158, "additions": 85, "deletions": 73}, "files": [{"sha": "7ea7e76ee10829cbad6d4c152bf965526e828c19", "filename": "CHANGELOG.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/CHANGELOG.md", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/CHANGELOG.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/CHANGELOG.md?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -3818,6 +3818,7 @@ Released 2018-09-13\n [`or_then_unwrap`]: https://rust-lang.github.io/rust-clippy/master/index.html#or_then_unwrap\n [`out_of_bounds_indexing`]: https://rust-lang.github.io/rust-clippy/master/index.html#out_of_bounds_indexing\n [`overflow_check_conditional`]: https://rust-lang.github.io/rust-clippy/master/index.html#overflow_check_conditional\n+[`overly_complex_bool_expr`]: https://rust-lang.github.io/rust-clippy/master/index.html#overly_complex_bool_expr\n [`panic`]: https://rust-lang.github.io/rust-clippy/master/index.html#panic\n [`panic_in_result_fn`]: https://rust-lang.github.io/rust-clippy/master/index.html#panic_in_result_fn\n [`panic_params`]: https://rust-lang.github.io/rust-clippy/master/index.html#panic_params"}, {"sha": "6eb78d21e826629e7c928153ffe4c007e4c1fc32", "filename": "clippy_lints/src/booleans.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/clippy_lints%2Fsrc%2Fbooleans.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/clippy_lints%2Fsrc%2Fbooleans.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fbooleans.rs?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -64,15 +64,15 @@ declare_clippy_lint! {\n     /// if a {}\n     /// ```\n     #[clippy::version = \"pre 1.29.0\"]\n-    pub LOGIC_BUG,\n+    pub OVERLY_COMPLEX_BOOL_EXPR,\n     correctness,\n     \"boolean expressions that contain terminals which can be eliminated\"\n }\n \n // For each pairs, both orders are considered.\n const METHODS_WITH_NEGATION: [(&str, &str); 2] = [(\"is_some\", \"is_none\"), (\"is_err\", \"is_ok\")];\n \n-declare_lint_pass!(NonminimalBool => [NONMINIMAL_BOOL, LOGIC_BUG]);\n+declare_lint_pass!(NonminimalBool => [NONMINIMAL_BOOL, OVERLY_COMPLEX_BOOL_EXPR]);\n \n impl<'tcx> LateLintPass<'tcx> for NonminimalBool {\n     fn check_fn(\n@@ -396,7 +396,7 @@ impl<'a, 'tcx> NonminimalBoolVisitor<'a, 'tcx> {\n                     if stats.terminals[i] != 0 && simplified_stats.terminals[i] == 0 {\n                         span_lint_hir_and_then(\n                             self.cx,\n-                            LOGIC_BUG,\n+                            OVERLY_COMPLEX_BOOL_EXPR,\n                             e.hir_id,\n                             e.span,\n                             \"this boolean expression contains a logic bug\","}, {"sha": "3caee50322c999ba9c06f8e164ef0e841b7e35e3", "filename": "clippy_lints/src/lib.register_all.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/clippy_lints%2Fsrc%2Flib.register_all.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/clippy_lints%2Fsrc%2Flib.register_all.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.register_all.rs?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -17,8 +17,8 @@ store.register_group(true, \"clippy::all\", Some(\"clippy_all\"), vec![\n     LintId::of(await_holding_invalid::AWAIT_HOLDING_REFCELL_REF),\n     LintId::of(blocks_in_if_conditions::BLOCKS_IN_IF_CONDITIONS),\n     LintId::of(bool_assert_comparison::BOOL_ASSERT_COMPARISON),\n-    LintId::of(booleans::LOGIC_BUG),\n     LintId::of(booleans::NONMINIMAL_BOOL),\n+    LintId::of(booleans::OVERLY_COMPLEX_BOOL_EXPR),\n     LintId::of(borrow_deref_ref::BORROW_DEREF_REF),\n     LintId::of(bytes_count_to_len::BYTES_COUNT_TO_LEN),\n     LintId::of(casts::CAST_ABS_TO_UNSIGNED),"}, {"sha": "006275d1383ff0d313784fb9a5a486d88068bd3e", "filename": "clippy_lints/src/lib.register_correctness.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/clippy_lints%2Fsrc%2Flib.register_correctness.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/clippy_lints%2Fsrc%2Flib.register_correctness.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.register_correctness.rs?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -8,7 +8,7 @@ store.register_group(true, \"clippy::correctness\", Some(\"clippy_correctness\"), ve\n     LintId::of(attrs::DEPRECATED_SEMVER),\n     LintId::of(attrs::MISMATCHED_TARGET_OS),\n     LintId::of(attrs::USELESS_ATTRIBUTE),\n-    LintId::of(booleans::LOGIC_BUG),\n+    LintId::of(booleans::OVERLY_COMPLEX_BOOL_EXPR),\n     LintId::of(casts::CAST_REF_TO_MUT),\n     LintId::of(casts::CAST_SLICE_DIFFERENT_SIZES),\n     LintId::of(copies::IFS_SAME_COND),"}, {"sha": "d83508a2d6cae8ef05f55f5f122bd29a0f6c0eda", "filename": "clippy_lints/src/lib.register_lints.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/clippy_lints%2Fsrc%2Flib.register_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/clippy_lints%2Fsrc%2Flib.register_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.register_lints.rs?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -57,8 +57,8 @@ store.register_lints(&[\n     await_holding_invalid::AWAIT_HOLDING_REFCELL_REF,\n     blocks_in_if_conditions::BLOCKS_IN_IF_CONDITIONS,\n     bool_assert_comparison::BOOL_ASSERT_COMPARISON,\n-    booleans::LOGIC_BUG,\n     booleans::NONMINIMAL_BOOL,\n+    booleans::OVERLY_COMPLEX_BOOL_EXPR,\n     borrow_as_ptr::BORROW_AS_PTR,\n     borrow_deref_ref::BORROW_DEREF_REF,\n     bytecount::NAIVE_BYTECOUNT,"}, {"sha": "6bea6dc0773d5c2fef2d45e8dc300695ffe7de67", "filename": "clippy_lints/src/renamed_lints.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/clippy_lints%2Fsrc%2Frenamed_lints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/clippy_lints%2Fsrc%2Frenamed_lints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Frenamed_lints.rs?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -2,10 +2,10 @@\n \n #[rustfmt::skip]\n pub static RENAMED_LINTS: &[(&str, &str)] = &[\n+    (\"clippy::blacklisted_name\", \"clippy::disallowed_names\"),\n     (\"clippy::block_in_if_condition_expr\", \"clippy::blocks_in_if_conditions\"),\n     (\"clippy::block_in_if_condition_stmt\", \"clippy::blocks_in_if_conditions\"),\n     (\"clippy::box_vec\", \"clippy::box_collection\"),\n-    (\"clippy::blacklisted_name\", \"clippy::disallowed_names\"),\n     (\"clippy::const_static_lifetime\", \"clippy::redundant_static_lifetimes\"),\n     (\"clippy::cyclomatic_complexity\", \"clippy::cognitive_complexity\"),\n     (\"clippy::disallowed_method\", \"clippy::disallowed_methods\"),\n@@ -15,6 +15,7 @@ pub static RENAMED_LINTS: &[(&str, &str)] = &[\n     (\"clippy::for_loop_over_result\", \"clippy::for_loops_over_fallibles\"),\n     (\"clippy::identity_conversion\", \"clippy::useless_conversion\"),\n     (\"clippy::if_let_some_result\", \"clippy::match_result_ok\"),\n+    (\"clippy::logic_bug\", \"clippy::overly_complex_bool_expr\"),\n     (\"clippy::new_without_default_derive\", \"clippy::new_without_default\"),\n     (\"clippy::option_and_then_some\", \"clippy::bind_instead_of_map\"),\n     (\"clippy::option_expect_used\", \"clippy::expect_used\"),"}, {"sha": "e8f992e6ddedbff2d27ffa3c27ca4301b21c3ddc", "filename": "tests/ui/diverging_sub_expression.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Fdiverging_sub_expression.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Fdiverging_sub_expression.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdiverging_sub_expression.rs?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -1,5 +1,5 @@\n #![warn(clippy::diverging_sub_expression)]\n-#![allow(clippy::match_same_arms, clippy::logic_bug)]\n+#![allow(clippy::match_same_arms, clippy::overly_complex_bool_expr)]\n #[allow(clippy::empty_loop)]\n fn diverge() -> ! {\n     loop {}"}, {"sha": "018f875d60bfa24ec5fd1a625b84d7cb9c457e66", "filename": "tests/ui/expect_tool_lint_rfc_2383.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Fexpect_tool_lint_rfc_2383.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Fexpect_tool_lint_rfc_2383.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fexpect_tool_lint_rfc_2383.rs?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -98,7 +98,7 @@ mod clippy_ok {\n         let _ = if true { 42 } else { 42 };\n     }\n \n-    #[expect(clippy::logic_bug)]\n+    #[expect(clippy::overly_complex_bool_expr)]\n     fn burger() {\n         let a = false;\n         let b = true;\n@@ -127,7 +127,7 @@ mod clippy_warn {\n         let _ = if true { 33 } else { 42 };\n     }\n \n-    #[expect(clippy::logic_bug)]\n+    #[expect(clippy::overly_complex_bool_expr)]\n     fn burger() {\n         let a = false;\n         let b = true;"}, {"sha": "7ce9e855b5e05579ee69a46a6d91d10eec93470d", "filename": "tests/ui/expect_tool_lint_rfc_2383.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Fexpect_tool_lint_rfc_2383.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Fexpect_tool_lint_rfc_2383.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fexpect_tool_lint_rfc_2383.stderr?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -33,8 +33,8 @@ LL |     #[expect(clippy::if_same_then_else)]\n error: this lint expectation is unfulfilled\n   --> $DIR/expect_tool_lint_rfc_2383.rs:130:14\n    |\n-LL |     #[expect(clippy::logic_bug)]\n-   |              ^^^^^^^^^^^^^^^^^\n+LL |     #[expect(clippy::overly_complex_bool_expr)]\n+   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n error: aborting due to 6 previous errors\n "}, {"sha": "04a30a83250e1108236c933392c6d5433f2fc9a7", "filename": "tests/ui/overly_complex_bool_expr.rs", "status": "renamed", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Foverly_complex_bool_expr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Foverly_complex_bool_expr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Foverly_complex_bool_expr.rs?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -1,6 +1,6 @@\n #![feature(lint_reasons)]\n #![allow(unused, clippy::diverging_sub_expression)]\n-#![warn(clippy::logic_bug)]\n+#![warn(clippy::overly_complex_bool_expr)]\n \n fn main() {\n     let a: bool = unimplemented!();\n@@ -29,6 +29,6 @@ fn equality_stuff() {\n fn check_expect() {\n     let a: i32 = unimplemented!();\n     let b: i32 = unimplemented!();\n-    #[expect(clippy::logic_bug)]\n+    #[expect(clippy::overly_complex_bool_expr)]\n     let _ = a < b && a >= b;\n }", "previous_filename": "tests/ui/logic_bug.rs"}, {"sha": "158cae8b8f373a8f6d344ce0be44a52563ef0591", "filename": "tests/ui/overly_complex_bool_expr.stderr", "status": "renamed", "additions": 11, "deletions": 11, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Foverly_complex_bool_expr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Foverly_complex_bool_expr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Foverly_complex_bool_expr.stderr?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -1,60 +1,60 @@\n error: this boolean expression contains a logic bug\n-  --> $DIR/logic_bug.rs:11:13\n+  --> $DIR/overly_complex_bool_expr.rs:11:13\n    |\n LL |     let _ = a && b || a;\n    |             ^^^^^^^^^^^ help: it would look like the following: `a`\n    |\n-   = note: `-D clippy::logic-bug` implied by `-D warnings`\n+   = note: `-D clippy::overly-complex-bool-expr` implied by `-D warnings`\n help: this expression can be optimized out by applying boolean operations to the outer expression\n-  --> $DIR/logic_bug.rs:11:18\n+  --> $DIR/overly_complex_bool_expr.rs:11:18\n    |\n LL |     let _ = a && b || a;\n    |                  ^\n \n error: this boolean expression contains a logic bug\n-  --> $DIR/logic_bug.rs:13:13\n+  --> $DIR/overly_complex_bool_expr.rs:13:13\n    |\n LL |     let _ = false && a;\n    |             ^^^^^^^^^^ help: it would look like the following: `false`\n    |\n help: this expression can be optimized out by applying boolean operations to the outer expression\n-  --> $DIR/logic_bug.rs:13:22\n+  --> $DIR/overly_complex_bool_expr.rs:13:22\n    |\n LL |     let _ = false && a;\n    |                      ^\n \n error: this boolean expression contains a logic bug\n-  --> $DIR/logic_bug.rs:23:13\n+  --> $DIR/overly_complex_bool_expr.rs:23:13\n    |\n LL |     let _ = a == b && a != b;\n    |             ^^^^^^^^^^^^^^^^ help: it would look like the following: `false`\n    |\n help: this expression can be optimized out by applying boolean operations to the outer expression\n-  --> $DIR/logic_bug.rs:23:13\n+  --> $DIR/overly_complex_bool_expr.rs:23:13\n    |\n LL |     let _ = a == b && a != b;\n    |             ^^^^^^\n \n error: this boolean expression contains a logic bug\n-  --> $DIR/logic_bug.rs:24:13\n+  --> $DIR/overly_complex_bool_expr.rs:24:13\n    |\n LL |     let _ = a < b && a >= b;\n    |             ^^^^^^^^^^^^^^^ help: it would look like the following: `false`\n    |\n help: this expression can be optimized out by applying boolean operations to the outer expression\n-  --> $DIR/logic_bug.rs:24:13\n+  --> $DIR/overly_complex_bool_expr.rs:24:13\n    |\n LL |     let _ = a < b && a >= b;\n    |             ^^^^^\n \n error: this boolean expression contains a logic bug\n-  --> $DIR/logic_bug.rs:25:13\n+  --> $DIR/overly_complex_bool_expr.rs:25:13\n    |\n LL |     let _ = a > b && a <= b;\n    |             ^^^^^^^^^^^^^^^ help: it would look like the following: `false`\n    |\n help: this expression can be optimized out by applying boolean operations to the outer expression\n-  --> $DIR/logic_bug.rs:25:13\n+  --> $DIR/overly_complex_bool_expr.rs:25:13\n    |\n LL |     let _ = a > b && a <= b;\n    |             ^^^^^", "previous_filename": "tests/ui/logic_bug.stderr"}, {"sha": "9cbad2269a099c5b71756222744dabb78f9115a6", "filename": "tests/ui/rename.fixed", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Frename.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Frename.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.fixed?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -4,9 +4,9 @@\n \n // run-rustfix\n \n+#![allow(clippy::disallowed_names)]\n #![allow(clippy::blocks_in_if_conditions)]\n #![allow(clippy::box_collection)]\n-#![allow(clippy::disallowed_names)]\n #![allow(clippy::redundant_static_lifetimes)]\n #![allow(clippy::cognitive_complexity)]\n #![allow(clippy::disallowed_methods)]\n@@ -15,6 +15,7 @@\n #![allow(clippy::for_loops_over_fallibles)]\n #![allow(clippy::useless_conversion)]\n #![allow(clippy::match_result_ok)]\n+#![allow(clippy::overly_complex_bool_expr)]\n #![allow(clippy::new_without_default)]\n #![allow(clippy::bind_instead_of_map)]\n #![allow(clippy::expect_used)]\n@@ -34,10 +35,10 @@\n #![allow(temporary_cstring_as_ptr)]\n #![allow(unknown_lints)]\n #![allow(unused_labels)]\n+#![warn(clippy::disallowed_names)]\n #![warn(clippy::blocks_in_if_conditions)]\n #![warn(clippy::blocks_in_if_conditions)]\n #![warn(clippy::box_collection)]\n-#![warn(clippy::disallowed_names)]\n #![warn(clippy::redundant_static_lifetimes)]\n #![warn(clippy::cognitive_complexity)]\n #![warn(clippy::disallowed_methods)]\n@@ -47,6 +48,7 @@\n #![warn(clippy::for_loops_over_fallibles)]\n #![warn(clippy::useless_conversion)]\n #![warn(clippy::match_result_ok)]\n+#![warn(clippy::overly_complex_bool_expr)]\n #![warn(clippy::new_without_default)]\n #![warn(clippy::bind_instead_of_map)]\n #![warn(clippy::expect_used)]"}, {"sha": "9153c0dab0290aa213307bdc47827e1f5af4ca1e", "filename": "tests/ui/rename.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Frename.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Frename.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.rs?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -4,9 +4,9 @@\n \n // run-rustfix\n \n+#![allow(clippy::disallowed_names)]\n #![allow(clippy::blocks_in_if_conditions)]\n #![allow(clippy::box_collection)]\n-#![allow(clippy::disallowed_names)]\n #![allow(clippy::redundant_static_lifetimes)]\n #![allow(clippy::cognitive_complexity)]\n #![allow(clippy::disallowed_methods)]\n@@ -15,6 +15,7 @@\n #![allow(clippy::for_loops_over_fallibles)]\n #![allow(clippy::useless_conversion)]\n #![allow(clippy::match_result_ok)]\n+#![allow(clippy::overly_complex_bool_expr)]\n #![allow(clippy::new_without_default)]\n #![allow(clippy::bind_instead_of_map)]\n #![allow(clippy::expect_used)]\n@@ -34,10 +35,10 @@\n #![allow(temporary_cstring_as_ptr)]\n #![allow(unknown_lints)]\n #![allow(unused_labels)]\n+#![warn(clippy::blacklisted_name)]\n #![warn(clippy::block_in_if_condition_expr)]\n #![warn(clippy::block_in_if_condition_stmt)]\n #![warn(clippy::box_vec)]\n-#![warn(clippy::blacklisted_name)]\n #![warn(clippy::const_static_lifetime)]\n #![warn(clippy::cyclomatic_complexity)]\n #![warn(clippy::disallowed_method)]\n@@ -47,6 +48,7 @@\n #![warn(clippy::for_loop_over_result)]\n #![warn(clippy::identity_conversion)]\n #![warn(clippy::if_let_some_result)]\n+#![warn(clippy::logic_bug)]\n #![warn(clippy::new_without_default_derive)]\n #![warn(clippy::option_and_then_some)]\n #![warn(clippy::option_expect_used)]"}, {"sha": "9c03ea914bb65fef6c94b919523a36ab24d9e833", "filename": "tests/ui/rename.stderr", "status": "modified", "additions": 50, "deletions": 44, "changes": 94, "blob_url": "https://github.com/rust-lang/rust/blob/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Frename.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/f6cab94bd073c9b5103605c67006808d874ee5c1/tests%2Fui%2Frename.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Frename.stderr?ref=f6cab94bd073c9b5103605c67006808d874ee5c1", "patch": "@@ -1,220 +1,226 @@\n+error: lint `clippy::blacklisted_name` has been renamed to `clippy::disallowed_names`\n+  --> $DIR/rename.rs:38:9\n+   |\n+LL | #![warn(clippy::blacklisted_name)]\n+   |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::disallowed_names`\n+   |\n+   = note: `-D renamed-and-removed-lints` implied by `-D warnings`\n+\n error: lint `clippy::block_in_if_condition_expr` has been renamed to `clippy::blocks_in_if_conditions`\n-  --> $DIR/rename.rs:37:9\n+  --> $DIR/rename.rs:39:9\n    |\n LL | #![warn(clippy::block_in_if_condition_expr)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::blocks_in_if_conditions`\n-   |\n-   = note: `-D renamed-and-removed-lints` implied by `-D warnings`\n \n error: lint `clippy::block_in_if_condition_stmt` has been renamed to `clippy::blocks_in_if_conditions`\n-  --> $DIR/rename.rs:38:9\n+  --> $DIR/rename.rs:40:9\n    |\n LL | #![warn(clippy::block_in_if_condition_stmt)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::blocks_in_if_conditions`\n \n error: lint `clippy::box_vec` has been renamed to `clippy::box_collection`\n-  --> $DIR/rename.rs:39:9\n+  --> $DIR/rename.rs:41:9\n    |\n LL | #![warn(clippy::box_vec)]\n    |         ^^^^^^^^^^^^^^^ help: use the new name: `clippy::box_collection`\n \n-error: lint `clippy::blacklisted_name` has been renamed to `clippy::disallowed_names`\n-  --> $DIR/rename.rs:40:9\n-   |\n-LL | #![warn(clippy::blacklisted_name)]\n-   |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::disallowed_names`\n-\n error: lint `clippy::const_static_lifetime` has been renamed to `clippy::redundant_static_lifetimes`\n-  --> $DIR/rename.rs:41:9\n+  --> $DIR/rename.rs:42:9\n    |\n LL | #![warn(clippy::const_static_lifetime)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::redundant_static_lifetimes`\n \n error: lint `clippy::cyclomatic_complexity` has been renamed to `clippy::cognitive_complexity`\n-  --> $DIR/rename.rs:42:9\n+  --> $DIR/rename.rs:43:9\n    |\n LL | #![warn(clippy::cyclomatic_complexity)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::cognitive_complexity`\n \n error: lint `clippy::disallowed_method` has been renamed to `clippy::disallowed_methods`\n-  --> $DIR/rename.rs:43:9\n+  --> $DIR/rename.rs:44:9\n    |\n LL | #![warn(clippy::disallowed_method)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::disallowed_methods`\n \n error: lint `clippy::disallowed_type` has been renamed to `clippy::disallowed_types`\n-  --> $DIR/rename.rs:44:9\n+  --> $DIR/rename.rs:45:9\n    |\n LL | #![warn(clippy::disallowed_type)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::disallowed_types`\n \n error: lint `clippy::eval_order_dependence` has been renamed to `clippy::mixed_read_write_in_expression`\n-  --> $DIR/rename.rs:45:9\n+  --> $DIR/rename.rs:46:9\n    |\n LL | #![warn(clippy::eval_order_dependence)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::mixed_read_write_in_expression`\n \n error: lint `clippy::for_loop_over_option` has been renamed to `clippy::for_loops_over_fallibles`\n-  --> $DIR/rename.rs:46:9\n+  --> $DIR/rename.rs:47:9\n    |\n LL | #![warn(clippy::for_loop_over_option)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::for_loops_over_fallibles`\n \n error: lint `clippy::for_loop_over_result` has been renamed to `clippy::for_loops_over_fallibles`\n-  --> $DIR/rename.rs:47:9\n+  --> $DIR/rename.rs:48:9\n    |\n LL | #![warn(clippy::for_loop_over_result)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::for_loops_over_fallibles`\n \n error: lint `clippy::identity_conversion` has been renamed to `clippy::useless_conversion`\n-  --> $DIR/rename.rs:48:9\n+  --> $DIR/rename.rs:49:9\n    |\n LL | #![warn(clippy::identity_conversion)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::useless_conversion`\n \n error: lint `clippy::if_let_some_result` has been renamed to `clippy::match_result_ok`\n-  --> $DIR/rename.rs:49:9\n+  --> $DIR/rename.rs:50:9\n    |\n LL | #![warn(clippy::if_let_some_result)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::match_result_ok`\n \n+error: lint `clippy::logic_bug` has been renamed to `clippy::overly_complex_bool_expr`\n+  --> $DIR/rename.rs:51:9\n+   |\n+LL | #![warn(clippy::logic_bug)]\n+   |         ^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::overly_complex_bool_expr`\n+\n error: lint `clippy::new_without_default_derive` has been renamed to `clippy::new_without_default`\n-  --> $DIR/rename.rs:50:9\n+  --> $DIR/rename.rs:52:9\n    |\n LL | #![warn(clippy::new_without_default_derive)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::new_without_default`\n \n error: lint `clippy::option_and_then_some` has been renamed to `clippy::bind_instead_of_map`\n-  --> $DIR/rename.rs:51:9\n+  --> $DIR/rename.rs:53:9\n    |\n LL | #![warn(clippy::option_and_then_some)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::bind_instead_of_map`\n \n error: lint `clippy::option_expect_used` has been renamed to `clippy::expect_used`\n-  --> $DIR/rename.rs:52:9\n+  --> $DIR/rename.rs:54:9\n    |\n LL | #![warn(clippy::option_expect_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::expect_used`\n \n error: lint `clippy::option_map_unwrap_or` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:53:9\n+  --> $DIR/rename.rs:55:9\n    |\n LL | #![warn(clippy::option_map_unwrap_or)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::option_map_unwrap_or_else` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:54:9\n+  --> $DIR/rename.rs:56:9\n    |\n LL | #![warn(clippy::option_map_unwrap_or_else)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::option_unwrap_used` has been renamed to `clippy::unwrap_used`\n-  --> $DIR/rename.rs:55:9\n+  --> $DIR/rename.rs:57:9\n    |\n LL | #![warn(clippy::option_unwrap_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::unwrap_used`\n \n error: lint `clippy::ref_in_deref` has been renamed to `clippy::needless_borrow`\n-  --> $DIR/rename.rs:56:9\n+  --> $DIR/rename.rs:58:9\n    |\n LL | #![warn(clippy::ref_in_deref)]\n    |         ^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::needless_borrow`\n \n error: lint `clippy::result_expect_used` has been renamed to `clippy::expect_used`\n-  --> $DIR/rename.rs:57:9\n+  --> $DIR/rename.rs:59:9\n    |\n LL | #![warn(clippy::result_expect_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::expect_used`\n \n error: lint `clippy::result_map_unwrap_or_else` has been renamed to `clippy::map_unwrap_or`\n-  --> $DIR/rename.rs:58:9\n+  --> $DIR/rename.rs:60:9\n    |\n LL | #![warn(clippy::result_map_unwrap_or_else)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::map_unwrap_or`\n \n error: lint `clippy::result_unwrap_used` has been renamed to `clippy::unwrap_used`\n-  --> $DIR/rename.rs:59:9\n+  --> $DIR/rename.rs:61:9\n    |\n LL | #![warn(clippy::result_unwrap_used)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::unwrap_used`\n \n error: lint `clippy::single_char_push_str` has been renamed to `clippy::single_char_add_str`\n-  --> $DIR/rename.rs:60:9\n+  --> $DIR/rename.rs:62:9\n    |\n LL | #![warn(clippy::single_char_push_str)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::single_char_add_str`\n \n error: lint `clippy::stutter` has been renamed to `clippy::module_name_repetitions`\n-  --> $DIR/rename.rs:61:9\n+  --> $DIR/rename.rs:63:9\n    |\n LL | #![warn(clippy::stutter)]\n    |         ^^^^^^^^^^^^^^^ help: use the new name: `clippy::module_name_repetitions`\n \n error: lint `clippy::to_string_in_display` has been renamed to `clippy::recursive_format_impl`\n-  --> $DIR/rename.rs:62:9\n+  --> $DIR/rename.rs:64:9\n    |\n LL | #![warn(clippy::to_string_in_display)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::recursive_format_impl`\n \n error: lint `clippy::zero_width_space` has been renamed to `clippy::invisible_characters`\n-  --> $DIR/rename.rs:63:9\n+  --> $DIR/rename.rs:65:9\n    |\n LL | #![warn(clippy::zero_width_space)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `clippy::invisible_characters`\n \n error: lint `clippy::drop_bounds` has been renamed to `drop_bounds`\n-  --> $DIR/rename.rs:64:9\n+  --> $DIR/rename.rs:66:9\n    |\n LL | #![warn(clippy::drop_bounds)]\n    |         ^^^^^^^^^^^^^^^^^^^ help: use the new name: `drop_bounds`\n \n error: lint `clippy::into_iter_on_array` has been renamed to `array_into_iter`\n-  --> $DIR/rename.rs:65:9\n+  --> $DIR/rename.rs:67:9\n    |\n LL | #![warn(clippy::into_iter_on_array)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `array_into_iter`\n \n error: lint `clippy::invalid_atomic_ordering` has been renamed to `invalid_atomic_ordering`\n-  --> $DIR/rename.rs:66:9\n+  --> $DIR/rename.rs:68:9\n    |\n LL | #![warn(clippy::invalid_atomic_ordering)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `invalid_atomic_ordering`\n \n error: lint `clippy::invalid_ref` has been renamed to `invalid_value`\n-  --> $DIR/rename.rs:67:9\n+  --> $DIR/rename.rs:69:9\n    |\n LL | #![warn(clippy::invalid_ref)]\n    |         ^^^^^^^^^^^^^^^^^^^ help: use the new name: `invalid_value`\n \n error: lint `clippy::mem_discriminant_non_enum` has been renamed to `enum_intrinsics_non_enums`\n-  --> $DIR/rename.rs:68:9\n+  --> $DIR/rename.rs:70:9\n    |\n LL | #![warn(clippy::mem_discriminant_non_enum)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `enum_intrinsics_non_enums`\n \n error: lint `clippy::panic_params` has been renamed to `non_fmt_panics`\n-  --> $DIR/rename.rs:69:9\n+  --> $DIR/rename.rs:71:9\n    |\n LL | #![warn(clippy::panic_params)]\n    |         ^^^^^^^^^^^^^^^^^^^^ help: use the new name: `non_fmt_panics`\n \n error: lint `clippy::temporary_cstring_as_ptr` has been renamed to `temporary_cstring_as_ptr`\n-  --> $DIR/rename.rs:70:9\n+  --> $DIR/rename.rs:72:9\n    |\n LL | #![warn(clippy::temporary_cstring_as_ptr)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `temporary_cstring_as_ptr`\n \n error: lint `clippy::unknown_clippy_lints` has been renamed to `unknown_lints`\n-  --> $DIR/rename.rs:71:9\n+  --> $DIR/rename.rs:73:9\n    |\n LL | #![warn(clippy::unknown_clippy_lints)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use the new name: `unknown_lints`\n \n error: lint `clippy::unused_label` has been renamed to `unused_labels`\n-  --> $DIR/rename.rs:72:9\n+  --> $DIR/rename.rs:74:9\n    |\n LL | #![warn(clippy::unused_label)]\n    |         ^^^^^^^^^^^^^^^^^^^^ help: use the new name: `unused_labels`\n \n-error: aborting due to 36 previous errors\n+error: aborting due to 37 previous errors\n "}]}