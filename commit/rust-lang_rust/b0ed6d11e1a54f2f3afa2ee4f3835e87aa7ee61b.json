{"sha": "b0ed6d11e1a54f2f3afa2ee4f3835e87aa7ee61b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIwZWQ2ZDExZTFhNTRmMmYzYWZhMmVlNGYzODM1ZTg3YWE3ZWU2MWI=", "commit": {"author": {"name": "Ariel Ben-Yehuda", "email": "arielb1@mail.tau.ac.il", "date": "2017-06-29T08:40:12Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-06-29T08:40:12Z"}, "message": "Rollup merge of #42955 - matklad:doc-path, r=steveklabnik\n\nDocument that `/` works as separator on Windows\n\nHi Whenever I see code like `Path::new(\"./src/bin/main.rs\")` or `path.ends_with(\"foo/bar\")`, I wonder if it will work on Windows as I expect. Unfortunately, reading the current docs does not help to answer this question, because all examples are Unix-specific.\n\nHowever, I believe that using `/` is fine, because both Windows itself [and Rust stdlib](https://github.com/rust-lang/rust/blob/47faf1d51952ecd9d4c8a7325332fba34fbe00bd/src/libstd/sys/windows/path.rs#L26) do treat it as a file separator, and because it is [actually used](https://github.com/rust-lang/cargo/blob/abf01e1eddb3145c83f71b469ea7bee37141e5e1/tests/git.rs#L579) in Cargo. So looks like we can just document it?\n\nr? @steveklabnik\n\ncc @retep998 I don't actually program for windows that much, so I might be totally wrong, and perhaps we should advise to always use (allocating) `.join` method to construct paths of more than one component?", "tree": {"sha": "0313bb4a0ab1e6a01ef73e271b53f09db6d23e06", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0313bb4a0ab1e6a01ef73e271b53f09db6d23e06"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b0ed6d11e1a54f2f3afa2ee4f3835e87aa7ee61b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b0ed6d11e1a54f2f3afa2ee4f3835e87aa7ee61b", "html_url": "https://github.com/rust-lang/rust/commit/b0ed6d11e1a54f2f3afa2ee4f3835e87aa7ee61b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b0ed6d11e1a54f2f3afa2ee4f3835e87aa7ee61b/comments", "author": null, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4f121542e92b526db18e5f6a4824d4f5c00c5284", "url": "https://api.github.com/repos/rust-lang/rust/commits/4f121542e92b526db18e5f6a4824d4f5c00c5284", "html_url": "https://github.com/rust-lang/rust/commit/4f121542e92b526db18e5f6a4824d4f5c00c5284"}, {"sha": "40dec0984ed2040532ac763f104b3bbbc13f514a", "url": "https://api.github.com/repos/rust-lang/rust/commits/40dec0984ed2040532ac763f104b3bbbc13f514a", "html_url": "https://github.com/rust-lang/rust/commit/40dec0984ed2040532ac763f104b3bbbc13f514a"}], "stats": {"total": 13, "additions": 7, "deletions": 6}, "files": [{"sha": "472ce6bc4fe9ef8bd7498ba15b6901e6c0ff9cc0", "filename": "src/libstd/path.rs", "status": "modified", "additions": 7, "deletions": 6, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/b0ed6d11e1a54f2f3afa2ee4f3835e87aa7ee61b/src%2Flibstd%2Fpath.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0ed6d11e1a54f2f3afa2ee4f3835e87aa7ee61b/src%2Flibstd%2Fpath.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fpath.rs?ref=b0ed6d11e1a54f2f3afa2ee4f3835e87aa7ee61b", "patch": "@@ -276,7 +276,7 @@ impl<'a> Prefix<'a> {\n /// ```\n /// use std::path;\n ///\n-/// assert!(path::is_separator('/'));\n+/// assert!(path::is_separator('/')); // '/' works for both Unix and Windows\n /// assert!(!path::is_separator('\u2764'));\n /// ```\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n@@ -1499,9 +1499,9 @@ impl AsRef<OsStr> for PathBuf {\n /// A slice of a path (akin to [`str`]).\n ///\n /// This type supports a number of operations for inspecting a path, including\n-/// breaking the path into its components (separated by `/` or `\\`, depending on\n-/// the platform), extracting the file name, determining whether the path is\n-/// absolute, and so on.\n+/// breaking the path into its components (separated by `/` on Unix and by either\n+/// `/` or `\\` on Windows), extracting the file name, determining whether the path\n+/// is absolute, and so on.\n ///\n /// This is an *unsized* type, meaning that it must always be used behind a\n /// pointer like `&` or [`Box`]. For an owned version of this type,\n@@ -1520,10 +1520,11 @@ impl AsRef<OsStr> for PathBuf {\n /// use std::path::Path;\n /// use std::ffi::OsStr;\n ///\n-/// let path = Path::new(\"/tmp/foo/bar.txt\");\n+/// // Note: this example does work on Windows\n+/// let path = Path::new(\"./foo/bar.txt\");\n ///\n /// let parent = path.parent();\n-/// assert_eq!(parent, Some(Path::new(\"/tmp/foo\")));\n+/// assert_eq!(parent, Some(Path::new(\"./foo\")));\n ///\n /// let file_stem = path.file_stem();\n /// assert_eq!(file_stem, Some(OsStr::new(\"bar\")));"}]}