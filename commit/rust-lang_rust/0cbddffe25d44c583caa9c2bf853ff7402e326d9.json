{"sha": "0cbddffe25d44c583caa9c2bf853ff7402e326d9", "node_id": "C_kwDOAAsO6NoAKDBjYmRkZmZlMjVkNDRjNTgzY2FhOWMyYmY4NTNmZjc0MDJlMzI2ZDk", "commit": {"author": {"name": "the8472", "email": "the8472@users.noreply.github.com", "date": "2021-09-22T17:03:23Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-09-22T17:03:23Z"}, "message": "Rollup merge of #89127 - wesleywiser:reenable_mutex_debuginfo_test, r=ehuss\n\nRe-enable the `src/test/debuginfo/mutex.rs` test on Windows\n\nThis test required a newer version of cdb than was previously enabled in\nCI thus leading to some bitrot in the test since the time it was\noriginally created. With the update to the `windows-latest` image last\nweek, we're now running this test in CI and thus uncovered the\nregression.\n\nI've updated the test and it now passes.\n\nr? `@ehuss`", "tree": {"sha": "6eeaedc3749a35c56d5a376c9b1972694bd2238f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6eeaedc3749a35c56d5a376c9b1972694bd2238f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0cbddffe25d44c583caa9c2bf853ff7402e326d9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhS2HcCRBK7hj4Ov3rIwAAEksIAFz4uqpR+M/XutEz0c7bfYaZ\ndN34QXjpbzmPp2HwCgAHbm8feMivOD1ZYjQeeF7bPUZ+wQuHfxWxK4quwJj5I43n\n5JLvJRYC4OHLod9n9ogixb6HWMx4/nmWXNj1mwsMs2z6Fx8F8PbycHLgszezd0Cg\nWFKnXGxP8xDV8/SULEIfYCinNTM7KIuUNyP8rBuXxgsApx23PY+Q2YPDYkLmZ2vy\nYdJGKMPo97R9HzmzQ5V2de6uXPV2EJH+9mRuCbmsfcRZQlGjxzq1P3AtxpDhwaHH\nYexMJYsiRLprOXK1vKTprNRGteggazeerO/r8t64oGMcGBCPVwsVlog76wz3YZk=\n=fYxJ\n-----END PGP SIGNATURE-----\n", "payload": "tree 6eeaedc3749a35c56d5a376c9b1972694bd2238f\nparent 5948a7b40799d0c0ab4dd171375a335402686ff6\nparent bd5bc49d0553235ea0ea04bf96b9abb873505087\nauthor the8472 <the8472@users.noreply.github.com> 1632330203 +0200\ncommitter GitHub <noreply@github.com> 1632330203 +0200\n\nRollup merge of #89127 - wesleywiser:reenable_mutex_debuginfo_test, r=ehuss\n\nRe-enable the `src/test/debuginfo/mutex.rs` test on Windows\n\nThis test required a newer version of cdb than was previously enabled in\nCI thus leading to some bitrot in the test since the time it was\noriginally created. With the update to the `windows-latest` image last\nweek, we're now running this test in CI and thus uncovered the\nregression.\n\nI've updated the test and it now passes.\n\nr? `@ehuss`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0cbddffe25d44c583caa9c2bf853ff7402e326d9", "html_url": "https://github.com/rust-lang/rust/commit/0cbddffe25d44c583caa9c2bf853ff7402e326d9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0cbddffe25d44c583caa9c2bf853ff7402e326d9/comments", "author": {"login": "the8472", "id": 1065730, "node_id": "MDQ6VXNlcjEwNjU3MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1065730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/the8472", "html_url": "https://github.com/the8472", "followers_url": "https://api.github.com/users/the8472/followers", "following_url": "https://api.github.com/users/the8472/following{/other_user}", "gists_url": "https://api.github.com/users/the8472/gists{/gist_id}", "starred_url": "https://api.github.com/users/the8472/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/the8472/subscriptions", "organizations_url": "https://api.github.com/users/the8472/orgs", "repos_url": "https://api.github.com/users/the8472/repos", "events_url": "https://api.github.com/users/the8472/events{/privacy}", "received_events_url": "https://api.github.com/users/the8472/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5948a7b40799d0c0ab4dd171375a335402686ff6", "url": "https://api.github.com/repos/rust-lang/rust/commits/5948a7b40799d0c0ab4dd171375a335402686ff6", "html_url": "https://github.com/rust-lang/rust/commit/5948a7b40799d0c0ab4dd171375a335402686ff6"}, {"sha": "bd5bc49d0553235ea0ea04bf96b9abb873505087", "url": "https://api.github.com/repos/rust-lang/rust/commits/bd5bc49d0553235ea0ea04bf96b9abb873505087", "html_url": "https://github.com/rust-lang/rust/commit/bd5bc49d0553235ea0ea04bf96b9abb873505087"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "00dccf5f9064a3dfa00f9d2d98c59dc5ed82e436", "filename": "src/test/debuginfo/mutex.rs", "status": "modified", "additions": 5, "deletions": 7, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/0cbddffe25d44c583caa9c2bf853ff7402e326d9/src%2Ftest%2Fdebuginfo%2Fmutex.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0cbddffe25d44c583caa9c2bf853ff7402e326d9/src%2Ftest%2Fdebuginfo%2Fmutex.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebuginfo%2Fmutex.rs?ref=0cbddffe25d44c583caa9c2bf853ff7402e326d9", "patch": "@@ -3,8 +3,6 @@\n // cdb-only\n // min-cdb-version: 10.0.21287.1005\n // compile-flags:-g\n-// FIXME: Failed on update to 10.0.22000.1\n-// ignore-windows\n \n // === CDB TESTS ==================================================================================\n //\n@@ -14,17 +12,17 @@\n // cdb-check:m,d              [Type: std::sync::mutex::Mutex<i32>]\n // cdb-check:    [...] inner            [Type: std::sys_common::mutex::MovableMutex]\n // cdb-check:    [...] poison           [Type: std::sync::poison::Flag]\n-// cdb-check:    [...] data             [Type: core::cell::UnsafeCell<i32>]\n+// cdb-check:    [...] data             : 0 [Type: core::cell::UnsafeCell<i32>]\n \n //\n // cdb-command:dx m.data,d\n-// cdb-check:m.data,d         [Type: core::cell::UnsafeCell<i32>]\n-// cdb-check:    [...] value            : 0 [Type: int]\n+// cdb-check:m.data,d         : 0 [Type: core::cell::UnsafeCell<i32>]\n+// cdb-check:    [<Raw View>]     [Type: core::cell::UnsafeCell<i32>]\n \n //\n // cdb-command:dx lock,d\n-// cdb-check:lock,d           : Ok [Type: enum$<core::result::Result<std::sync::mutex::MutexGuard<i32>, enum$<std::sync::poison::TryLockError<std::sync::mutex::MutexGuard<i32> >, 0, 1, Poisoned> > >]\n-// cdb-check:    [...] variant$         : Ok (0) [Type: core::result::Result]\n+// cdb-check:lock,d           : Ok [Type: enum$<core::result::Result<std::sync::mutex::MutexGuard<i32>,enum$<std::sync::poison::TryLockError<std::sync::mutex::MutexGuard<i32> >, 0, 1, Poisoned> > >]\n+// cdb-check:    [variant]        : Ok\n // cdb-check:    [...] __0              [Type: std::sync::mutex::MutexGuard<i32>]\n \n use std::sync::Mutex;"}]}