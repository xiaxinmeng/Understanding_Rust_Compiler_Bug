{"sha": "a3320435610364457bf4ae08d1de64c3a96fca68", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEzMzIwNDM1NjEwMzY0NDU3YmY0YWUwOGQxZGU2NGMzYTk2ZmNhNjg=", "commit": {"author": {"name": "Eric Holk", "email": "eholk@mozilla.com", "date": "2011-08-11T19:26:23Z"}, "committer": {"name": "Eric Holk", "email": "eholk@mozilla.com", "date": "2011-08-15T16:26:51Z"}, "message": "Updating to build on Linux and Mac, and hopefully Windows too.", "tree": {"sha": "726a4099c9063f600e51ad1a8861f5a73e104b0a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/726a4099c9063f600e51ad1a8861f5a73e104b0a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a3320435610364457bf4ae08d1de64c3a96fca68", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a3320435610364457bf4ae08d1de64c3a96fca68", "html_url": "https://github.com/rust-lang/rust/commit/a3320435610364457bf4ae08d1de64c3a96fca68", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a3320435610364457bf4ae08d1de64c3a96fca68/comments", "author": null, "committer": null, "parents": [{"sha": "b2dad8af31d5d77e9e7da8561d87249fff216e80", "url": "https://api.github.com/repos/rust-lang/rust/commits/b2dad8af31d5d77e9e7da8561d87249fff216e80", "html_url": "https://github.com/rust-lang/rust/commit/b2dad8af31d5d77e9e7da8561d87249fff216e80"}], "stats": {"total": 10, "additions": 7, "deletions": 3}, "files": [{"sha": "11e110666ab967384a91287622acb688c46d9c61", "filename": "mk/rt.mk", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/a3320435610364457bf4ae08d1de64c3a96fca68/mk%2Frt.mk", "raw_url": "https://github.com/rust-lang/rust/raw/a3320435610364457bf4ae08d1de64c3a96fca68/mk%2Frt.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Frt.mk?ref=a3320435610364457bf4ae08d1de64c3a96fca68", "patch": "@@ -33,7 +33,7 @@ RUNTIME_CS := rt/sync/timer.cpp \\\n \n RUNTIME_LL :=\n \n-RUNTIME_S := rt/arch/i386/_context.s\n+RUNTIME_S := rt/arch/i386/_context.S\n \n RUNTIME_HDR := rt/globals.h \\\n                rt/rust.h \\\n@@ -67,14 +67,14 @@ RUNTIME_HDR := rt/globals.h \\\n RUNTIME_DEF := rt/rustrt$(CFG_DEF_SUFFIX)\n RUNTIME_INCS := -I $(S)src/rt/isaac -I $(S)src/rt/uthash \\\n                 -I $(S)src/rt/arch/i386 -I $(S)src/rt/libuv/include\n-RUNTIME_OBJS := $(RUNTIME_CS:.cpp=.o) $(RUNTIME_LL:.ll=.o) $(RUNTIME_S:.s=.o)\n+RUNTIME_OBJS := $(RUNTIME_CS:.cpp=.o) $(RUNTIME_LL:.ll=.o) $(RUNTIME_S:.S=.o)\n RUNTIME_LIBS := rt/libuv/uv.a\n \n rt/%.o: rt/%.cpp $(MKFILES)\n \t@$(call E, compile: $@)\n \t$(Q)$(call CFG_COMPILE_C, $@, $(RUNTIME_INCS)) $<\n \n-rt/%.o: rt/%.s $(MKFILES)\n+rt/%.o: rt/%.S $(MKFILES)\n \t@$(call E, compile: $@)\n \t$(Q)$(call CFG_COMPILE_C, $@, $(RUNTIME_INCS)) $<\n "}, {"sha": "5bd06d990dc3f0ed6722b43cd25c6103e6c4bc9a", "filename": "src/rt/arch/i386/_context.S", "status": "renamed", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/a3320435610364457bf4ae08d1de64c3a96fca68/src%2Frt%2Farch%2Fi386%2F_context.S", "raw_url": "https://github.com/rust-lang/rust/raw/a3320435610364457bf4ae08d1de64c3a96fca68/src%2Frt%2Farch%2Fi386%2F_context.S", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Farch%2Fi386%2F_context.S?ref=a3320435610364457bf4ae08d1de64c3a96fca68", "patch": "@@ -78,4 +78,8 @@ swap_registers:\n .globl task_trampoline\n task_trampoline:\n     // This gets set up by std::task::_spawn.\n+#ifdef __APPLE__\n     call _task_exit\n+#else\n+    call task_exit\n+#endif", "previous_filename": "src/rt/arch/i386/_context.s"}]}