{"sha": "5b7ce80ffa7c4f5795dfc9ed64fab8b2afd407b0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjViN2NlODBmZmE3YzRmNTc5NWRmYzllZDY0ZmFiOGIyYWZkNDA3YjA=", "commit": {"author": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-06-30T12:55:25Z"}, "committer": {"name": "Rafael \u00c1vila de Esp\u00edndola", "email": "respindola@mozilla.com", "date": "2011-06-30T12:55:25Z"}, "message": "Second try to remove -lssp.", "tree": {"sha": "ca1bb9819745f7e6558706321eb249cc89c7520c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ca1bb9819745f7e6558706321eb249cc89c7520c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5b7ce80ffa7c4f5795dfc9ed64fab8b2afd407b0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5b7ce80ffa7c4f5795dfc9ed64fab8b2afd407b0", "html_url": "https://github.com/rust-lang/rust/commit/5b7ce80ffa7c4f5795dfc9ed64fab8b2afd407b0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5b7ce80ffa7c4f5795dfc9ed64fab8b2afd407b0/comments", "author": null, "committer": null, "parents": [{"sha": "b3e5b5bd05fabf9b68ef350632254aa696d74b89", "url": "https://api.github.com/repos/rust-lang/rust/commits/b3e5b5bd05fabf9b68ef350632254aa696d74b89", "html_url": "https://github.com/rust-lang/rust/commit/b3e5b5bd05fabf9b68ef350632254aa696d74b89"}], "stats": {"total": 7, "additions": 2, "deletions": 5}, "files": [{"sha": "d83e04e061ae1f4f967ae5186ee75a03abcf28d1", "filename": "src/comp/driver/rustc.rs", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/5b7ce80ffa7c4f5795dfc9ed64fab8b2afd407b0/src%2Fcomp%2Fdriver%2Frustc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5b7ce80ffa7c4f5795dfc9ed64fab8b2afd407b0/src%2Fcomp%2Fdriver%2Frustc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fdriver%2Frustc.rs?ref=5b7ce80ffa7c4f5795dfc9ed64fab8b2afd407b0", "patch": "@@ -396,26 +396,23 @@ fn main(vec[str] args) {\n         let str glu = binary_dir + \"/lib/glue.o\";\n         let str main = \"rt/main.o\";\n         let str stage = \"-L\" + binary_dir + \"/lib\";\n-        let vec[str] gcc_args;\n         let str prog = \"gcc\";\n         // The invocations of gcc share some flags across platforms\n \n-        let vec[str] common_args =\n+        let vec[str] gcc_args =\n             [stage, \"-Lrt\", \"-lrustrt\", glu,  \"-m32\", \"-o\",\n              saved_out_filename, saved_out_filename + \".o\"];\n         auto shared_cmd;\n+\n         alt (sess.get_targ_cfg().os) {\n             case (session::os_win32) {\n                 shared_cmd = \"-shared\";\n-                gcc_args = common_args + [\"-lssp\"];\n             }\n             case (session::os_macos) {\n                 shared_cmd = \"-dynamiclib\";\n-                gcc_args = common_args;\n             }\n             case (session::os_linux) {\n                 shared_cmd = \"-shared\";\n-                gcc_args = common_args;\n             }\n         }\n "}]}