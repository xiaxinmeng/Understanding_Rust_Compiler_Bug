{"sha": "8f41de595d2969e383cb681bd65b36c061fc346a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjhmNDFkZTU5NWQyOTY5ZTM4M2NiNjgxYmQ2NWIzNmMwNjFmYzM0NmE=", "commit": {"author": {"name": "marmeladema", "email": "xademax@gmail.com", "date": "2021-04-23T16:01:27Z"}, "committer": {"name": "marmeladema", "email": "xademax@gmail.com", "date": "2021-04-23T16:54:48Z"}, "message": "Add test for issue #83017", "tree": {"sha": "dde8359ff23077c151c1b8e391f7d5f55d6f1248", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dde8359ff23077c151c1b8e391f7d5f55d6f1248"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/8f41de595d2969e383cb681bd65b36c061fc346a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/8f41de595d2969e383cb681bd65b36c061fc346a", "html_url": "https://github.com/rust-lang/rust/commit/8f41de595d2969e383cb681bd65b36c061fc346a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/8f41de595d2969e383cb681bd65b36c061fc346a/comments", "author": {"login": "marmeladema", "id": 1629419, "node_id": "MDQ6VXNlcjE2Mjk0MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1629419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marmeladema", "html_url": "https://github.com/marmeladema", "followers_url": "https://api.github.com/users/marmeladema/followers", "following_url": "https://api.github.com/users/marmeladema/following{/other_user}", "gists_url": "https://api.github.com/users/marmeladema/gists{/gist_id}", "starred_url": "https://api.github.com/users/marmeladema/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marmeladema/subscriptions", "organizations_url": "https://api.github.com/users/marmeladema/orgs", "repos_url": "https://api.github.com/users/marmeladema/repos", "events_url": "https://api.github.com/users/marmeladema/events{/privacy}", "received_events_url": "https://api.github.com/users/marmeladema/received_events", "type": "User", "site_admin": false}, "committer": {"login": "marmeladema", "id": 1629419, "node_id": "MDQ6VXNlcjE2Mjk0MTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1629419?v=4", "gravatar_id": "", "url": "https://api.github.com/users/marmeladema", "html_url": "https://github.com/marmeladema", "followers_url": "https://api.github.com/users/marmeladema/followers", "following_url": "https://api.github.com/users/marmeladema/following{/other_user}", "gists_url": "https://api.github.com/users/marmeladema/gists{/gist_id}", "starred_url": "https://api.github.com/users/marmeladema/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/marmeladema/subscriptions", "organizations_url": "https://api.github.com/users/marmeladema/orgs", "repos_url": "https://api.github.com/users/marmeladema/repos", "events_url": "https://api.github.com/users/marmeladema/events{/privacy}", "received_events_url": "https://api.github.com/users/marmeladema/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9a352326112e4fd993e339cbd4eabae06d4979b9", "url": "https://api.github.com/repos/rust-lang/rust/commits/9a352326112e4fd993e339cbd4eabae06d4979b9", "html_url": "https://github.com/rust-lang/rust/commit/9a352326112e4fd993e339cbd4eabae06d4979b9"}], "stats": {"total": 66, "additions": 66, "deletions": 0}, "files": [{"sha": "8f0a9ea3566fb0a423784e16811e0deb4d73a05d", "filename": "src/test/ui/associated-type-bounds/issue-83017.rs", "status": "added", "additions": 39, "deletions": 0, "changes": 39, "blob_url": "https://github.com/rust-lang/rust/blob/8f41de595d2969e383cb681bd65b36c061fc346a/src%2Ftest%2Fui%2Fassociated-type-bounds%2Fissue-83017.rs", "raw_url": "https://github.com/rust-lang/rust/raw/8f41de595d2969e383cb681bd65b36c061fc346a/src%2Ftest%2Fui%2Fassociated-type-bounds%2Fissue-83017.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-type-bounds%2Fissue-83017.rs?ref=8f41de595d2969e383cb681bd65b36c061fc346a", "patch": "@@ -0,0 +1,39 @@\n+#![feature(associated_type_bounds)]\n+\n+trait TraitA<'a> {\n+    type AsA;\n+}\n+\n+trait TraitB<'a, 'b> {\n+    type AsB;\n+}\n+\n+trait TraitC<'a, 'b, 'c> {}\n+\n+struct X;\n+\n+impl<'a, 'b, 'c> TraitC<'a, 'b, 'c> for X {}\n+\n+struct Y;\n+\n+impl<'a, 'b> TraitB<'a, 'b> for Y {\n+    type AsB = X;\n+}\n+\n+struct Z;\n+\n+impl<'a> TraitA<'a> for Z {\n+    type AsA = Y;\n+}\n+\n+fn foo<T>()\n+where\n+    for<'a> T: TraitA<'a, AsA: for<'b> TraitB<'a, 'b, AsB: for<'c> TraitC<'a, 'b, 'c>>>,\n+{\n+}\n+\n+fn main() {\n+    foo::<Z>();\n+    //~^ ERROR: the trait bound `for<'a, 'b> <Z as TraitA<'a>>::AsA: TraitB<'a, 'b>` is not satisfied\n+    //~| ERROR: the trait bound `for<'a, 'b, 'c> <<Z as TraitA<'a>>::AsA as TraitB<'a, 'b>>::AsB: TraitC<'a, 'b, 'c>` is not satisfied\n+}"}, {"sha": "4eb71fd0287e0354e9ad34c9d6f0365ec6bd65e9", "filename": "src/test/ui/associated-type-bounds/issue-83017.stderr", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/8f41de595d2969e383cb681bd65b36c061fc346a/src%2Ftest%2Fui%2Fassociated-type-bounds%2Fissue-83017.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/8f41de595d2969e383cb681bd65b36c061fc346a/src%2Ftest%2Fui%2Fassociated-type-bounds%2Fissue-83017.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-type-bounds%2Fissue-83017.stderr?ref=8f41de595d2969e383cb681bd65b36c061fc346a", "patch": "@@ -0,0 +1,27 @@\n+error[E0277]: the trait bound `for<'a, 'b> <Z as TraitA<'a>>::AsA: TraitB<'a, 'b>` is not satisfied\n+  --> $DIR/issue-83017.rs:36:5\n+   |\n+LL | fn foo<T>()\n+   |    --- required by a bound in this\n+LL | where\n+LL |     for<'a> T: TraitA<'a, AsA: for<'b> TraitB<'a, 'b, AsB: for<'c> TraitC<'a, 'b, 'c>>>,\n+   |                                ------------------------------------------------------- required by this bound in `foo`\n+...\n+LL |     foo::<Z>();\n+   |     ^^^^^^^^ the trait `for<'a, 'b> TraitB<'a, 'b>` is not implemented for `<Z as TraitA<'a>>::AsA`\n+\n+error[E0277]: the trait bound `for<'a, 'b, 'c> <<Z as TraitA<'a>>::AsA as TraitB<'a, 'b>>::AsB: TraitC<'a, 'b, 'c>` is not satisfied\n+  --> $DIR/issue-83017.rs:36:5\n+   |\n+LL | fn foo<T>()\n+   |    --- required by a bound in this\n+LL | where\n+LL |     for<'a> T: TraitA<'a, AsA: for<'b> TraitB<'a, 'b, AsB: for<'c> TraitC<'a, 'b, 'c>>>,\n+   |                                                            -------------------------- required by this bound in `foo`\n+...\n+LL |     foo::<Z>();\n+   |     ^^^^^^^^ the trait `for<'a, 'b, 'c> TraitC<'a, 'b, 'c>` is not implemented for `<<Z as TraitA<'a>>::AsA as TraitB<'a, 'b>>::AsB`\n+\n+error: aborting due to 2 previous errors\n+\n+For more information about this error, try `rustc --explain E0277`."}]}