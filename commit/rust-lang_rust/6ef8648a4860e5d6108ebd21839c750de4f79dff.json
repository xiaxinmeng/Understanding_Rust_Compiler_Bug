{"sha": "6ef8648a4860e5d6108ebd21839c750de4f79dff", "node_id": "C_kwDOAAsO6NoAKDZlZjg2NDhhNDg2MGU1ZDYxMDhlYmQyMTgzOWM3NTBkZTRmNzlkZmY", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-04-15T17:17:08Z"}, "committer": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-04-16T10:45:51Z"}, "message": "more clippy fixes: clippy::{iter_cloned_collect, unwarp_or_else_default, option_map_or_none}", "tree": {"sha": "f84fa3ede71f1033bbc1130173aa933cc9e91a6b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f84fa3ede71f1033bbc1130173aa933cc9e91a6b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6ef8648a4860e5d6108ebd21839c750de4f79dff", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6ef8648a4860e5d6108ebd21839c750de4f79dff", "html_url": "https://github.com/rust-lang/rust/commit/6ef8648a4860e5d6108ebd21839c750de4f79dff", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6ef8648a4860e5d6108ebd21839c750de4f79dff/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e6e956dade79bdc084dfe3078abab24656a1b483", "url": "https://api.github.com/repos/rust-lang/rust/commits/e6e956dade79bdc084dfe3078abab24656a1b483", "html_url": "https://github.com/rust-lang/rust/commit/e6e956dade79bdc084dfe3078abab24656a1b483"}], "stats": {"total": 12, "additions": 5, "deletions": 7}, "files": [{"sha": "863a9977446c16ee850598f695d20ccaf917c0a0", "filename": "compiler/rustc_hir_analysis/src/check/compare_impl_item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6ef8648a4860e5d6108ebd21839c750de4f79dff/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcompare_impl_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6ef8648a4860e5d6108ebd21839c750de4f79dff/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcompare_impl_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_hir_analysis%2Fsrc%2Fcheck%2Fcompare_impl_item.rs?ref=6ef8648a4860e5d6108ebd21839c750de4f79dff", "patch": "@@ -1317,7 +1317,7 @@ fn compare_number_of_generics<'tcx>(\n                         impl_count,\n                         kind,\n                         pluralize!(impl_count),\n-                        suffix.unwrap_or_else(String::new),\n+                        suffix.unwrap_or_default(),\n                     ),\n                 );\n             }"}, {"sha": "e554c47064680137df597edf8fcea57ba8c319da", "filename": "compiler/rustc_mir_transform/src/coverage/debug.rs", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/6ef8648a4860e5d6108ebd21839c750de4f79dff/compiler%2Frustc_mir_transform%2Fsrc%2Fcoverage%2Fdebug.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6ef8648a4860e5d6108ebd21839c750de4f79dff/compiler%2Frustc_mir_transform%2Fsrc%2Fcoverage%2Fdebug.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir_transform%2Fsrc%2Fcoverage%2Fdebug.rs?ref=6ef8648a4860e5d6108ebd21839c750de4f79dff", "patch": "@@ -292,10 +292,8 @@ impl DebugCounters {\n     }\n \n     pub fn some_block_label(&self, operand: ExpressionOperandId) -> Option<&String> {\n-        self.some_counters.as_ref().map_or(None, |counters| {\n-            counters\n-                .get(&operand)\n-                .map_or(None, |debug_counter| debug_counter.some_block_label.as_ref())\n+        self.some_counters.as_ref().and_then(|counters| {\n+            counters.get(&operand).and_then(|debug_counter| debug_counter.some_block_label.as_ref())\n         })\n     }\n "}, {"sha": "a6d88b1342ae8038bedd9ae446c3fa618b5a2d32", "filename": "compiler/rustc_transmute/src/layout/tree.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6ef8648a4860e5d6108ebd21839c750de4f79dff/compiler%2Frustc_transmute%2Fsrc%2Flayout%2Ftree.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6ef8648a4860e5d6108ebd21839c750de4f79dff/compiler%2Frustc_transmute%2Fsrc%2Flayout%2Ftree.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_transmute%2Fsrc%2Flayout%2Ftree.rs?ref=6ef8648a4860e5d6108ebd21839c750de4f79dff", "patch": "@@ -196,7 +196,7 @@ pub(crate) mod rustc {\n         fn from(err: LayoutError<'tcx>) -> Self {\n             match err {\n                 LayoutError::Unknown(..) => Self::Unknown,\n-                err @ _ => unimplemented!(\"{:?}\", err),\n+                err => unimplemented!(\"{:?}\", err),\n             }\n         }\n     }"}, {"sha": "767ea8c3100fa1ca1fbe2ebbedc0f4f8ec8121f7", "filename": "src/librustdoc/clean/auto_trait.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/6ef8648a4860e5d6108ebd21839c750de4f79dff/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6ef8648a4860e5d6108ebd21839c750de4f79dff/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs?ref=6ef8648a4860e5d6108ebd21839c750de4f79dff", "patch": "@@ -141,7 +141,7 @@ where\n         let f = auto_trait::AutoTraitFinder::new(tcx);\n \n         debug!(\"get_auto_trait_impls({:?})\", ty);\n-        let auto_traits: Vec<_> = self.cx.auto_traits.iter().copied().collect();\n+        let auto_traits: Vec<_> = self.cx.auto_traits.to_vec();\n         let mut auto_traits: Vec<Item> = auto_traits\n             .into_iter()\n             .filter_map(|trait_def_id| {"}]}