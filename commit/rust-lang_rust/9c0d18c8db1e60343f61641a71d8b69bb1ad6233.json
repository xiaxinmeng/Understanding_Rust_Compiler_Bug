{"sha": "9c0d18c8db1e60343f61641a71d8b69bb1ad6233", "node_id": "MDY6Q29tbWl0NzI0NzEyOjljMGQxOGM4ZGIxZTYwMzQzZjYxNjQxYTcxZDhiNjliYjFhZDYyMzM=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2020-06-21T08:35:45Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2020-06-21T08:35:45Z"}, "message": "Simplify assert_assignable\n\nAssignments are no longer used to implicitly cast between &mut T and &T", "tree": {"sha": "706b6962e15c8abaf1c68791cdfbdc78d1f7ce1d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/706b6962e15c8abaf1c68791cdfbdc78d1f7ce1d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9c0d18c8db1e60343f61641a71d8b69bb1ad6233", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9c0d18c8db1e60343f61641a71d8b69bb1ad6233", "html_url": "https://github.com/rust-lang/rust/commit/9c0d18c8db1e60343f61641a71d8b69bb1ad6233", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9c0d18c8db1e60343f61641a71d8b69bb1ad6233/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b79102c933aff3393a2b392339dec0e8291ef5ee", "url": "https://api.github.com/repos/rust-lang/rust/commits/b79102c933aff3393a2b392339dec0e8291ef5ee", "html_url": "https://github.com/rust-lang/rust/commit/b79102c933aff3393a2b392339dec0e8291ef5ee"}], "stats": {"total": 11, "additions": 0, "deletions": 11}, "files": [{"sha": "f27fe271e9ee3174d55c253959b220ba36371873", "filename": "src/value_and_place.rs", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/9c0d18c8db1e60343f61641a71d8b69bb1ad6233/src%2Fvalue_and_place.rs", "raw_url": "https://github.com/rust-lang/rust/raw/9c0d18c8db1e60343f61641a71d8b69bb1ad6233/src%2Fvalue_and_place.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fvalue_and_place.rs?ref=9c0d18c8db1e60343f61641a71d8b69bb1ad6233", "patch": "@@ -362,17 +362,6 @@ impl<'tcx> CPlace<'tcx> {\n             to_ty: Ty<'tcx>,\n         ) {\n             match (&from_ty.kind, &to_ty.kind) {\n-                (ty::Ref(_, t, Mutability::Not), ty::Ref(_, u, Mutability::Not))\n-                | (ty::Ref(_, t, Mutability::Mut), ty::Ref(_, u, Mutability::Not))\n-                | (ty::Ref(_, t, Mutability::Mut), ty::Ref(_, u, Mutability::Mut)) => {\n-                    assert_assignable(fx, t, u);\n-                    // &mut T -> &T is allowed\n-                    // &'a T -> &'b T is allowed\n-                }\n-                (ty::Ref(_, _, Mutability::Not), ty::Ref(_, _, Mutability::Mut)) => panic!(\n-                    \"Cant assign value of type {} to place of type {}\",\n-                    from_ty, to_ty\n-                ),\n                 (ty::FnPtr(_), ty::FnPtr(_)) => {\n                     let from_sig = fx.tcx.normalize_erasing_late_bound_regions(\n                         ParamEnv::reveal_all(),"}]}