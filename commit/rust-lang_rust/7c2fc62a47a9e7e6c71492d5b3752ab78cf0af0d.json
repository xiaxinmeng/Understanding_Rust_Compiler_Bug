{"sha": "7c2fc62a47a9e7e6c71492d5b3752ab78cf0af0d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdjMmZjNjJhNDdhOWU3ZTZjNzE0OTJkNWIzNzUyYWI3OGNmMGFmMGQ=", "commit": {"author": {"name": "Vadim Chugunov", "email": "vadimcn@gmail.com", "date": "2017-03-24T18:01:45Z"}, "committer": {"name": "Vadim Chugunov", "email": "vadimcn@gmail.com", "date": "2017-03-30T23:31:46Z"}, "message": "libgcc_eh may depend on libpthread.\nMake sure we link to the static libpthread, so that compiled Rust binaries do not depend on winpthread1.dll.", "tree": {"sha": "a8258c4b581d97dce794412f479af325da24f0c0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a8258c4b581d97dce794412f479af325da24f0c0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7c2fc62a47a9e7e6c71492d5b3752ab78cf0af0d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7c2fc62a47a9e7e6c71492d5b3752ab78cf0af0d", "html_url": "https://github.com/rust-lang/rust/commit/7c2fc62a47a9e7e6c71492d5b3752ab78cf0af0d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7c2fc62a47a9e7e6c71492d5b3752ab78cf0af0d/comments", "author": {"login": "vadimcn", "id": 3203809, "node_id": "MDQ6VXNlcjMyMDM4MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/3203809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vadimcn", "html_url": "https://github.com/vadimcn", "followers_url": "https://api.github.com/users/vadimcn/followers", "following_url": "https://api.github.com/users/vadimcn/following{/other_user}", "gists_url": "https://api.github.com/users/vadimcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/vadimcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vadimcn/subscriptions", "organizations_url": "https://api.github.com/users/vadimcn/orgs", "repos_url": "https://api.github.com/users/vadimcn/repos", "events_url": "https://api.github.com/users/vadimcn/events{/privacy}", "received_events_url": "https://api.github.com/users/vadimcn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "vadimcn", "id": 3203809, "node_id": "MDQ6VXNlcjMyMDM4MDk=", "avatar_url": "https://avatars.githubusercontent.com/u/3203809?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vadimcn", "html_url": "https://github.com/vadimcn", "followers_url": "https://api.github.com/users/vadimcn/followers", "following_url": "https://api.github.com/users/vadimcn/following{/other_user}", "gists_url": "https://api.github.com/users/vadimcn/gists{/gist_id}", "starred_url": "https://api.github.com/users/vadimcn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vadimcn/subscriptions", "organizations_url": "https://api.github.com/users/vadimcn/orgs", "repos_url": "https://api.github.com/users/vadimcn/repos", "events_url": "https://api.github.com/users/vadimcn/events{/privacy}", "received_events_url": "https://api.github.com/users/vadimcn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "78c3a49044d2f93a008f5e8040a27445c8d2f58c", "url": "https://api.github.com/repos/rust-lang/rust/commits/78c3a49044d2f93a008f5e8040a27445c8d2f58c", "html_url": "https://github.com/rust-lang/rust/commit/78c3a49044d2f93a008f5e8040a27445c8d2f58c"}], "stats": {"total": 4, "additions": 3, "deletions": 1}, "files": [{"sha": "9b8099d55a024eea1e7e8f80a2f6049c76c6aed4", "filename": "src/libunwind/build.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/7c2fc62a47a9e7e6c71492d5b3752ab78cf0af0d/src%2Flibunwind%2Fbuild.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7c2fc62a47a9e7e6c71492d5b3752ab78cf0af0d/src%2Flibunwind%2Fbuild.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibunwind%2Fbuild.rs?ref=7c2fc62a47a9e7e6c71492d5b3752ab78cf0af0d", "patch": "@@ -35,7 +35,8 @@ fn main() {\n     } else if target.contains(\"dragonfly\") {\n         println!(\"cargo:rustc-link-lib=gcc_pic\");\n     } else if target.contains(\"windows-gnu\") {\n-        println!(\"cargo:rustc-link-lib=gcc_eh\");\n+        println!(\"cargo:rustc-link-lib=static-nobundle=gcc_eh\");\n+        println!(\"cargo:rustc-link-lib=static-nobundle=pthread\");\n     } else if target.contains(\"fuchsia\") {\n         println!(\"cargo:rustc-link-lib=unwind\");\n     }"}, {"sha": "d4d52322adab0e5955b8ab98d1210e060337c64a", "filename": "src/libunwind/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/7c2fc62a47a9e7e6c71492d5b3752ab78cf0af0d/src%2Flibunwind%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7c2fc62a47a9e7e6c71492d5b3752ab78cf0af0d/src%2Flibunwind%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibunwind%2Flib.rs?ref=7c2fc62a47a9e7e6c71492d5b3752ab78cf0af0d", "patch": "@@ -17,6 +17,7 @@\n #![feature(cfg_target_vendor)]\n #![feature(staged_api)]\n #![feature(unwind_attributes)]\n+#![feature(static_nobundle)]\n \n #![cfg_attr(not(target_env = \"msvc\"), feature(libc))]\n "}]}