{"sha": "7a91d4a25b2b063bf1e1f8cfd1b8d0fd89d84dd0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdhOTFkNGEyNWIyYjA2M2JmMWUxZjhjZmQxYjhkMGZkODlkODRkZDA=", "commit": {"author": {"name": "A.J. Gardner", "email": "aaron.j.gardner@gmail.com", "date": "2016-11-13T01:13:22Z"}, "committer": {"name": "A.J. Gardner", "email": "aaron.j.gardner@gmail.com", "date": "2016-11-13T01:14:51Z"}, "message": "Add llvm debuginfo configure option", "tree": {"sha": "b89ae69c21852d73bfa376506738070f7a061941", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b89ae69c21852d73bfa376506738070f7a061941"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7a91d4a25b2b063bf1e1f8cfd1b8d0fd89d84dd0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7a91d4a25b2b063bf1e1f8cfd1b8d0fd89d84dd0", "html_url": "https://github.com/rust-lang/rust/commit/7a91d4a25b2b063bf1e1f8cfd1b8d0fd89d84dd0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7a91d4a25b2b063bf1e1f8cfd1b8d0fd89d84dd0/comments", "author": {"login": "mrhota", "id": 403641, "node_id": "MDQ6VXNlcjQwMzY0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/403641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrhota", "html_url": "https://github.com/mrhota", "followers_url": "https://api.github.com/users/mrhota/followers", "following_url": "https://api.github.com/users/mrhota/following{/other_user}", "gists_url": "https://api.github.com/users/mrhota/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrhota/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrhota/subscriptions", "organizations_url": "https://api.github.com/users/mrhota/orgs", "repos_url": "https://api.github.com/users/mrhota/repos", "events_url": "https://api.github.com/users/mrhota/events{/privacy}", "received_events_url": "https://api.github.com/users/mrhota/received_events", "type": "User", "site_admin": false}, "committer": {"login": "mrhota", "id": 403641, "node_id": "MDQ6VXNlcjQwMzY0MQ==", "avatar_url": "https://avatars.githubusercontent.com/u/403641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/mrhota", "html_url": "https://github.com/mrhota", "followers_url": "https://api.github.com/users/mrhota/followers", "following_url": "https://api.github.com/users/mrhota/following{/other_user}", "gists_url": "https://api.github.com/users/mrhota/gists{/gist_id}", "starred_url": "https://api.github.com/users/mrhota/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/mrhota/subscriptions", "organizations_url": "https://api.github.com/users/mrhota/orgs", "repos_url": "https://api.github.com/users/mrhota/repos", "events_url": "https://api.github.com/users/mrhota/events{/privacy}", "received_events_url": "https://api.github.com/users/mrhota/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fd983d02e15909567303f92532671fb2b8374285", "url": "https://api.github.com/repos/rust-lang/rust/commits/fd983d02e15909567303f92532671fb2b8374285", "html_url": "https://github.com/rust-lang/rust/commit/fd983d02e15909567303f92532671fb2b8374285"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "c6f818299ff0c19be08cf8d32ce2cf4667f3d0ee", "filename": "configure", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/7a91d4a25b2b063bf1e1f8cfd1b8d0fd89d84dd0/configure", "raw_url": "https://github.com/rust-lang/rust/raw/7a91d4a25b2b063bf1e1f8cfd1b8d0fd89d84dd0/configure", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/configure?ref=7a91d4a25b2b063bf1e1f8cfd1b8d0fd89d84dd0", "patch": "@@ -642,6 +642,7 @@ opt_nosave optimize-cxx 1 \"build optimized C++ code\"\n opt_nosave optimize-llvm 1 \"build optimized LLVM\"\n opt_nosave llvm-assertions 0 \"build LLVM with assertions\"\n opt_nosave debug-assertions 0 \"build with debugging assertions\"\n+opt_nosave llvm-debuginfo 0 \"build LLVM with debugger metadata\"\n opt_nosave debuginfo 0 \"build with debugger metadata\"\n opt_nosave debuginfo-lines 0 \"build with line number debugger metadata\"\n opt_nosave debug-jemalloc 0 \"build jemalloc with --enable-debug --enable-fill\"\n@@ -778,6 +779,7 @@ if [ -n \"$CFG_DISABLE_OPTIMIZE_CXX\" ]; then putvar CFG_DISABLE_OPTIMIZE_CXX; fi\n if [ -n \"$CFG_DISABLE_OPTIMIZE_LLVM\" ]; then putvar CFG_DISABLE_OPTIMIZE_LLVM; fi\n if [ -n \"$CFG_ENABLE_LLVM_ASSERTIONS\" ]; then putvar CFG_ENABLE_LLVM_ASSERTIONS; fi\n if [ -n \"$CFG_ENABLE_DEBUG_ASSERTIONS\" ]; then putvar CFG_ENABLE_DEBUG_ASSERTIONS; fi\n+if [ -n \"$CFG_ENABLE_LLVM_DEBUGINFO\" ]; then putvar CFG_ENABLE_LLVM_DEBUGINFO; fi\n if [ -n \"$CFG_ENABLE_DEBUGINFO\" ]; then putvar CFG_ENABLE_DEBUGINFO; fi\n if [ -n \"$CFG_ENABLE_DEBUGINFO_LINES\" ]; then putvar CFG_ENABLE_DEBUGINFO_LINES; fi\n if [ -n \"$CFG_ENABLE_DEBUG_JEMALLOC\" ]; then putvar CFG_ENABLE_DEBUG_JEMALLOC; fi\n@@ -1772,6 +1774,8 @@ do\n \n     if [ -n \"$CFG_DISABLE_OPTIMIZE_LLVM\" ]; then\n         CMAKE_ARGS=\"$CMAKE_ARGS -DCMAKE_BUILD_TYPE=Debug\"\n+    elif [ -n \"$CFG_ENABLE_LLVM_DEBUGINFO\" ]; then\n+        CMAKE_ARGS=\"$CMAKE_ARGS -DCMAKE_BUILD_TYPE=RelWithDebInfo\"\n     else\n         CMAKE_ARGS=\"$CMAKE_ARGS -DCMAKE_BUILD_TYPE=Release\"\n     fi"}, {"sha": "842f1bcee119ee0572e6d99301126cb25aa1a360", "filename": "mk/llvm.mk", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/7a91d4a25b2b063bf1e1f8cfd1b8d0fd89d84dd0/mk%2Fllvm.mk", "raw_url": "https://github.com/rust-lang/rust/raw/7a91d4a25b2b063bf1e1f8cfd1b8d0fd89d84dd0/mk%2Fllvm.mk", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/mk%2Fllvm.mk?ref=7a91d4a25b2b063bf1e1f8cfd1b8d0fd89d84dd0", "patch": "@@ -21,6 +21,8 @@ endif\n \n ifdef CFG_DISABLE_OPTIMIZE_LLVM\n LLVM_BUILD_CONFIG_MODE := Debug\n+else ifdef CFG_ENABLE_LLVM_DEBUGINFO\n+LLVM_BUILD_CONFIG_MODE := RelWithDebInfo\n else\n LLVM_BUILD_CONFIG_MODE := Release\n endif"}]}