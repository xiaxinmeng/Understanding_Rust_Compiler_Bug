{"sha": "4db87f9346d5bcda4fe0d6bded9a3862b186b37e", "node_id": "C_kwDOAAsO6NoAKDRkYjg3ZjkzNDZkNWJjZGE0ZmUwZDZiZGVkOWEzODYyYjE4NmIzN2U", "commit": {"author": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2023-04-17T16:41:40Z"}, "committer": {"name": "Ryo Yoshida", "email": "low.ryoshida@gmail.com", "date": "2023-04-17T17:12:17Z"}, "message": "Fix release channel detection\n\nSee bootstrap code in rust-lang/rust for versioning details: https://github.com/rust-lang/rust/blob/e49122fb1ca87a6c3e3c22abb315fc75cfe8daed/src/bootstrap/lib.rs#L1244", "tree": {"sha": "9e5ebabe1794718755cd84109f1e587d04d4c393", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9e5ebabe1794718755cd84109f1e587d04d4c393"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4db87f9346d5bcda4fe0d6bded9a3862b186b37e", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEkSbsQIURluxz4rzf4laYqTBYYXEFAmQ9ffEACgkQ4laYqTBY\nYXErHA/+INzxL/3FkdaVLc5JEn9/dnP7PlPUs4Mu/KY2r1CbRwSZJYNZVOlgcLE/\n+M9DN4iq1djaYZv7tQMT7i7h2jIvU6qMd35Wz1ypBrqovaT4enyxyK1pqWZ2HDO1\n8Li4MgOFpezUpdef8pqDw1KLCWAdn0aIw89lxL/41/logeS9yHoIr2fsrFGUGkhk\nNkJ9z1p/8cpFvjieOTMudu1os0qbMo4KhYjEmgEVKqj3IQD9NRjD8pQT/sVfwb4e\njevH3jr94UxovgZh/kFFQ/BeHcu7iyC5aKogNehkBdKFe7fyR4ktgVHvd+iVodP9\nDTJYueifsbjwv0KJmQleQmwHPvvRVkzxyujayBiQwnFsAr39LnDJ6Jt5An1xnk6M\njCtZYGZuvM6KxnPzuh7+Rtnko/YrA6uG3RWfVcnOtYju/xSTBsrrQEMWI5czHiAj\n50AguKLU/2HPqXchPn9Vw98OCzkXp6hszeOH78tLlEYmeII3W4YULGx26rsbfrdN\nbsDBE4BfC0V9OYxlwzIUJiwKxkFunLuEECUFfYc2JdlkqNAcwaStdnznstM5urjS\nPusS2eSf+kn90Kw7Kfm9NKmPPEdhRPY39jQGY/JtFGshaYARi4Qo2BVMn7f0JntY\nXzGUTCjM0HJk/6hU3kHvYgqRrroXfWxvuNzl0Yjy+nZfULWnYlo=\n=/9SY\n-----END PGP SIGNATURE-----", "payload": "tree 9e5ebabe1794718755cd84109f1e587d04d4c393\nparent 1f926410934fdaa964093afe9b215a7b05508f5b\nauthor Ryo Yoshida <low.ryoshida@gmail.com> 1681749700 +0900\ncommitter Ryo Yoshida <low.ryoshida@gmail.com> 1681751537 +0900\n\nFix release channel detection\n\nSee bootstrap code in rust-lang/rust for versioning details: https://github.com/rust-lang/rust/blob/e49122fb1ca87a6c3e3c22abb315fc75cfe8daed/src/bootstrap/lib.rs#L1244\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4db87f9346d5bcda4fe0d6bded9a3862b186b37e", "html_url": "https://github.com/rust-lang/rust/commit/4db87f9346d5bcda4fe0d6bded9a3862b186b37e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4db87f9346d5bcda4fe0d6bded9a3862b186b37e/comments", "author": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lowr", "id": 24381114, "node_id": "MDQ6VXNlcjI0MzgxMTE0", "avatar_url": "https://avatars.githubusercontent.com/u/24381114?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lowr", "html_url": "https://github.com/lowr", "followers_url": "https://api.github.com/users/lowr/followers", "following_url": "https://api.github.com/users/lowr/following{/other_user}", "gists_url": "https://api.github.com/users/lowr/gists{/gist_id}", "starred_url": "https://api.github.com/users/lowr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lowr/subscriptions", "organizations_url": "https://api.github.com/users/lowr/orgs", "repos_url": "https://api.github.com/users/lowr/repos", "events_url": "https://api.github.com/users/lowr/events{/privacy}", "received_events_url": "https://api.github.com/users/lowr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1f926410934fdaa964093afe9b215a7b05508f5b", "url": "https://api.github.com/repos/rust-lang/rust/commits/1f926410934fdaa964093afe9b215a7b05508f5b", "html_url": "https://github.com/rust-lang/rust/commit/1f926410934fdaa964093afe9b215a7b05508f5b"}], "stats": {"total": 12, "additions": 6, "deletions": 6}, "files": [{"sha": "a38ab4f62863aca56928b2323626d629ac4ef76e", "filename": "crates/base-db/src/input.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4db87f9346d5bcda4fe0d6bded9a3862b186b37e/crates%2Fbase-db%2Fsrc%2Finput.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4db87f9346d5bcda4fe0d6bded9a3862b186b37e/crates%2Fbase-db%2Fsrc%2Finput.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fbase-db%2Fsrc%2Finput.rs?ref=4db87f9346d5bcda4fe0d6bded9a3862b186b37e", "patch": "@@ -284,9 +284,9 @@ impl ReleaseChannel {\n \n     pub fn from_str(str: &str) -> Option<Self> {\n         Some(match str {\n-            \"stable\" => ReleaseChannel::Stable,\n-            \"beta\" => ReleaseChannel::Beta,\n+            \"\" => ReleaseChannel::Stable,\n             \"nightly\" => ReleaseChannel::Nightly,\n+            _ if str.starts_with(\"beta\") => ReleaseChannel::Beta,\n             _ => return None,\n         })\n     }"}, {"sha": "4c74dba526b6f3a371fa73cf926c93e77a3374bf", "filename": "crates/ide-completion/src/tests/use_tree.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/4db87f9346d5bcda4fe0d6bded9a3862b186b37e/crates%2Fide-completion%2Fsrc%2Ftests%2Fuse_tree.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4db87f9346d5bcda4fe0d6bded9a3862b186b37e/crates%2Fide-completion%2Fsrc%2Ftests%2Fuse_tree.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide-completion%2Fsrc%2Ftests%2Fuse_tree.rs?ref=4db87f9346d5bcda4fe0d6bded9a3862b186b37e", "patch": "@@ -387,7 +387,6 @@ use self::foo::impl$0\n fn use_tree_no_unstable_items_on_stable() {\n     check(\n         r#\"\n-//- toolchain:stable\n //- /lib.rs crate:main deps:std\n use std::$0\n //- /std.rs crate:std"}, {"sha": "9439d94f031c986e759bd137eeaf004b1fc04bef", "filename": "crates/project-model/src/workspace.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/4db87f9346d5bcda4fe0d6bded9a3862b186b37e/crates%2Fproject-model%2Fsrc%2Fworkspace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4db87f9346d5bcda4fe0d6bded9a3862b186b37e/crates%2Fproject-model%2Fsrc%2Fworkspace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproject-model%2Fsrc%2Fworkspace.rs?ref=4db87f9346d5bcda4fe0d6bded9a3862b186b37e", "patch": "@@ -779,7 +779,7 @@ fn project_json_to_crate_graph(\n                         CrateOrigin::Local { repo: None, name: None }\n                     },\n                     target_layout.clone(),\n-                    None,\n+                    channel,\n                 );\n                 if *is_proc_macro {\n                     if let Some(path) = proc_macro_dylib_path.clone() {"}, {"sha": "29ab21ac1db482f815c65c0a7b74f810c7a4395b", "filename": "crates/test-utils/src/fixture.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/4db87f9346d5bcda4fe0d6bded9a3862b186b37e/crates%2Ftest-utils%2Fsrc%2Ffixture.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4db87f9346d5bcda4fe0d6bded9a3862b186b37e/crates%2Ftest-utils%2Fsrc%2Ffixture.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Ftest-utils%2Fsrc%2Ffixture.rs?ref=4db87f9346d5bcda4fe0d6bded9a3862b186b37e", "patch": "@@ -111,8 +111,9 @@ impl FixtureWithProjectMeta {\n     /// //- minicore: sized\n     /// ```\n     ///\n-    /// That will include predefined proc macros and a subset of `libcore` into the fixture, see\n-    /// `minicore.rs` for what's available.\n+    /// That will set toolchain to nightly and include predefined proc macros and a subset of\n+    /// `libcore` into the fixture, see `minicore.rs` for what's available. Note that toolchain\n+    /// defaults to stable.\n     pub fn parse(ra_fixture: &str) -> Self {\n         let fixture = trim_indent(ra_fixture);\n         let mut fixture = fixture.as_str();"}]}