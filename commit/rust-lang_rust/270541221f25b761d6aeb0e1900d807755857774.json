{"sha": "270541221f25b761d6aeb0e1900d807755857774", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI3MDU0MTIyMWYyNWI3NjFkNmFlYjBlMTkwMGQ4MDc3NTU4NTc3NzQ=", "commit": {"author": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2019-10-21T23:20:47Z"}, "committer": {"name": "Santiago Pastorino", "email": "spastorino@gmail.com", "date": "2019-10-21T23:20:47Z"}, "message": "Move as_local impl to from Place to PlaceRef", "tree": {"sha": "233e5b5868ee531e2e34b325164b0b749ce98150", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/233e5b5868ee531e2e34b325164b0b749ce98150"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/270541221f25b761d6aeb0e1900d807755857774", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEmNHc6jmXzkUyxd4xiMlBzaHUZDIFAl2uPU8ACgkQiMlBzaHU\nZDImKw//aEapqFJe8JH3VEDqGAw2R0s+knpZ71Wg2MSHf0fTysz4zQWVjOQKAExf\nf4LrbWV26Q9L0bX0/JEFBQoMO30EFbkLZaxDtVPMGv+tfSS0TelcCH4udLVF8fGz\nMnH4zQsh8yktTgQqwZeZJhIrIuBi1AgEZFUIhfktBei1bMBIYKeUaxsDdrPszGLB\nzceGJf3370xgelL4kvEV/G2GM21Ic8ClDy1frGko0ChQBr8sM3CXXFShdytKxVBR\nVNykFZrqnmwx1rQL2qX+Gl9pK9yaJxp7oQSUiAr4iVYEoX8qOoHOS6cbaLJ2rxf8\nMipp+Bo81dkyxVDMW6V3f3PfAoSfDOpvanmnXMybuh8NK4Lw8yOMnia6t5nMI87C\nNZ1bSqsWiBZu7ef44Wept6agjCmwFdMFFonBDpZVwmwicBqkHd0xMOS53Nhs8S0o\nOWCikWKRaTuLuXJBNTlNzp40YxAG7cDYRBoY6dfroEoX8o/g+6bvpi8tsaL6xP8g\nBC30sDNBN7VqJZdcl0s18GyImjQWAX/03hEQexg3oSD2p1xf6zJWfuQezjuc+yas\nnJ/cXpxCB8GLq0z6jtUszuE+ep4xF+I8x9soqc2AMLLeGnd4M9Zg2OsXoqBExgHS\n7QPyQUadaPDq2qJ1PCpTjKW/QS6/wSQ1jtrSa2MfsqM5dJ+S5Sk=\n=4FM1\n-----END PGP SIGNATURE-----", "payload": "tree 233e5b5868ee531e2e34b325164b0b749ce98150\nparent 0b5ee56da8008d9598fcba654d99e6a3b5405163\nauthor Santiago Pastorino <spastorino@gmail.com> 1571700047 -0300\ncommitter Santiago Pastorino <spastorino@gmail.com> 1571700047 -0300\n\nMove as_local impl to from Place to PlaceRef\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/270541221f25b761d6aeb0e1900d807755857774", "html_url": "https://github.com/rust-lang/rust/commit/270541221f25b761d6aeb0e1900d807755857774", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/270541221f25b761d6aeb0e1900d807755857774/comments", "author": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "committer": {"login": "spastorino", "id": 52642, "node_id": "MDQ6VXNlcjUyNjQy", "avatar_url": "https://avatars.githubusercontent.com/u/52642?v=4", "gravatar_id": "", "url": "https://api.github.com/users/spastorino", "html_url": "https://github.com/spastorino", "followers_url": "https://api.github.com/users/spastorino/followers", "following_url": "https://api.github.com/users/spastorino/following{/other_user}", "gists_url": "https://api.github.com/users/spastorino/gists{/gist_id}", "starred_url": "https://api.github.com/users/spastorino/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/spastorino/subscriptions", "organizations_url": "https://api.github.com/users/spastorino/orgs", "repos_url": "https://api.github.com/users/spastorino/repos", "events_url": "https://api.github.com/users/spastorino/events{/privacy}", "received_events_url": "https://api.github.com/users/spastorino/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0b5ee56da8008d9598fcba654d99e6a3b5405163", "url": "https://api.github.com/repos/rust-lang/rust/commits/0b5ee56da8008d9598fcba654d99e6a3b5405163", "html_url": "https://github.com/rust-lang/rust/commit/0b5ee56da8008d9598fcba654d99e6a3b5405163"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "ecda524db9ae5eb3dc1d3856628dd06a3624f121", "filename": "src/librustc/mir/mod.rs", "status": "modified", "additions": 10, "deletions": 4, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/270541221f25b761d6aeb0e1900d807755857774/src%2Flibrustc%2Fmir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/270541221f25b761d6aeb0e1900d807755857774/src%2Flibrustc%2Fmir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Fmod.rs?ref=270541221f25b761d6aeb0e1900d807755857774", "patch": "@@ -1924,10 +1924,7 @@ impl<'tcx> Place<'tcx> {\n     /// If this place represents a local variable like `_X` with no\n     /// projections, return `Some(_X)`.\n     pub fn as_local(&self) -> Option<Local> {\n-        match self {\n-            Place { projection: box [], base: PlaceBase::Local(l) } => Some(*l),\n-            _ => None,\n-        }\n+        self.as_ref().as_local()\n     }\n \n     pub fn as_ref(&self) -> PlaceRef<'_, 'tcx> {\n@@ -1971,6 +1968,15 @@ impl<'a, 'tcx> PlaceRef<'a, 'tcx> {\n             _ => None,\n         }\n     }\n+\n+    /// If this place represents a local variable like `_X` with no\n+    /// projections, return `Some(_X)`.\n+    pub fn as_local(&self) -> Option<Local> {\n+        match self {\n+            PlaceRef { base: PlaceBase::Local(l), projection: [] } => Some(*l),\n+            _ => None,\n+        }\n+    }\n }\n \n impl Debug for Place<'_> {"}]}