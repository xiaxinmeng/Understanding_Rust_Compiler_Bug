{"sha": "10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwYWM0ZTVjMGQwNGJkNmIyYjZkMTRhYTdjZTllNTQzOTBkNWYxMmQ=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2021-07-09T15:09:44Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-07-09T15:09:44Z"}, "message": "Merge #9542\n\n9542: cargo_metadata 0.14 r=matklad a=kjeremy\n\nRemoves the following dependent crates:\r\n* semver-parser\r\n* pest\r\n* ucd-trie\r\n\r\nRemoves project_model's dependency on itertools\n\nCo-authored-by: kjeremy <kjeremy@gmail.com>", "tree": {"sha": "894e3d5fc3961c0c8e24b546fd6cb5b5b4376726", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/894e3d5fc3961c0c8e24b546fd6cb5b5b4376726"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJg6Ga4CRBK7hj4Ov3rIwAAreUIADJYcKMet6hXnTFd7WhNrNzV\njuDWT6bAz7I4dLzPpi5TPxyBQ2H/SV8wvyVwc0W0aWeCe+KOsC0GoiNZfc7M8aR+\nZ21jjKfH1RPdkwQdw6vwEcoErCWd2PUwNB5TxS5OCiKghv5ByohkcjmYtIg7PG0T\n7l3AxxP/+5e7+Qg7Er/uWRs5lTODCfIBlyFL14czR43sTRDw3d+JurfrQlohxgHM\nhXRV/99mrAJLztUiwZmEEGbxghyAUmEyp9olJUiUV1xrYCJDWoYeByNBc3Mwd5U3\n77q3wzjnGDgdfNrVsoUQxjnLCo2oRp1VsFb1Dee93HJPRV+CTfOheEkIKAl39Go=\n=hkny\n-----END PGP SIGNATURE-----\n", "payload": "tree 894e3d5fc3961c0c8e24b546fd6cb5b5b4376726\nparent a22a9bf2d03ef1fbb3a115d98849fd0bcd2fa5c6\nparent 35016c772c2668587d91d940c345a119300db9cb\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1625843384 +0000\ncommitter GitHub <noreply@github.com> 1625843384 +0000\n\nMerge #9542\n\n9542: cargo_metadata 0.14 r=matklad a=kjeremy\n\nRemoves the following dependent crates:\r\n* semver-parser\r\n* pest\r\n* ucd-trie\r\n\r\nRemoves project_model's dependency on itertools\n\nCo-authored-by: kjeremy <kjeremy@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d", "html_url": "https://github.com/rust-lang/rust/commit/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a22a9bf2d03ef1fbb3a115d98849fd0bcd2fa5c6", "url": "https://api.github.com/repos/rust-lang/rust/commits/a22a9bf2d03ef1fbb3a115d98849fd0bcd2fa5c6", "html_url": "https://github.com/rust-lang/rust/commit/a22a9bf2d03ef1fbb3a115d98849fd0bcd2fa5c6"}, {"sha": "35016c772c2668587d91d940c345a119300db9cb", "url": "https://api.github.com/repos/rust-lang/rust/commits/35016c772c2668587d91d940c345a119300db9cb", "html_url": "https://github.com/rust-lang/rust/commit/35016c772c2668587d91d940c345a119300db9cb"}], "stats": {"total": 57, "additions": 13, "deletions": 44}, "files": [{"sha": "c6c0810aa8d2752674dee6b6156773bed67c7394", "filename": "Cargo.lock", "status": "modified", "additions": 8, "deletions": 35, "changes": 43, "blob_url": "https://github.com/rust-lang/rust/blob/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d", "patch": "@@ -126,14 +126,13 @@ dependencies = [\n \n [[package]]\n name = \"cargo_metadata\"\n-version = \"0.13.1\"\n+version = \"0.14.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"081e3f0755c1f380c2d010481b6fa2e02973586d5f2b24eebb7a2a1d98b143d8\"\n+checksum = \"c297bd3135f558552f99a0daa180876984ea2c4ffa7470314540dff8c654109a\"\n dependencies = [\n  \"camino\",\n  \"cargo-platform\",\n  \"semver\",\n- \"semver-parser\",\n  \"serde\",\n  \"serde_json\",\n ]\n@@ -770,9 +769,9 @@ checksum = \"e2abad23fbc42b3700f2f279844dc832adb2b2eb069b2df918f455c4e18cc646\"\n \n [[package]]\n name = \"libc\"\n-version = \"0.2.97\"\n+version = \"0.2.98\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"12b8adadd720df158f4d70dfe7ccc6adb0472d7c55ca83445f6a5ab3e36f8fb6\"\n+checksum = \"320cfe77175da3a483efed4bc0adc1968ca050b098ce4f2f1c13a56626128790\"\n \n [[package]]\n name = \"libloading\"\n@@ -1069,15 +1068,6 @@ dependencies = [\n  \"libc\",\n ]\n \n-[[package]]\n-name = \"pest\"\n-version = \"2.1.3\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"10f4872ae94d7b90ae48754df22fd42ad52ce740b8f370b03da4835417403e53\"\n-dependencies = [\n- \"ucd-trie\",\n-]\n-\n [[package]]\n name = \"petgraph\"\n version = \"0.5.1\"\n@@ -1179,7 +1169,6 @@ dependencies = [\n  \"base_db\",\n  \"cargo_metadata\",\n  \"cfg\",\n- \"itertools\",\n  \"la-arena\",\n  \"log\",\n  \"paths\",\n@@ -1425,23 +1414,13 @@ checksum = \"d29ab0c6d3fc0ee92fe66e2d99f700eab17a8d57d1c1d3b748380fb20baa78cd\"\n \n [[package]]\n name = \"semver\"\n-version = \"0.11.0\"\n+version = \"1.0.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f301af10236f6df4160f7c3f04eec6dbc70ace82d23326abad5edee88801c6b6\"\n+checksum = \"5f3aac57ee7f3272d8395c6e4f502f434f0e289fcd62876f70daa008c20dcabe\"\n dependencies = [\n- \"semver-parser\",\n  \"serde\",\n ]\n \n-[[package]]\n-name = \"semver-parser\"\n-version = \"0.10.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"00b0bef5b7f9e0df16536d3961cfb6e84331c065b4066afb39768d0e319411f7\"\n-dependencies = [\n- \"pest\",\n-]\n-\n [[package]]\n name = \"serde\"\n version = \"1.0.126\"\n@@ -1777,12 +1756,6 @@ dependencies = [\n  \"stdx\",\n ]\n \n-[[package]]\n-name = \"ucd-trie\"\n-version = \"0.1.3\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"56dee185309b50d1f11bfedef0fe6d036842e3fb77413abef29f8f8d1c5d4c1c\"\n-\n [[package]]\n name = \"ungrammar\"\n version = \"1.14.1\"\n@@ -1818,9 +1791,9 @@ dependencies = [\n \n [[package]]\n name = \"unicode-segmentation\"\n-version = \"1.7.1\"\n+version = \"1.8.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"bb0d2e7be6ae3a5fa87eed5fb451aff96f2573d2694942e40543ae0bbe19c796\"\n+checksum = \"8895849a949e7845e06bd6dc1aa51731a103c42707010a5b591c0038fb73385b\"\n \n [[package]]\n name = \"unicode-xid\""}, {"sha": "e939d39325dac2101c3d77659c4508a8c83df606", "filename": "crates/flycheck/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/crates%2Fflycheck%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/crates%2Fflycheck%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fflycheck%2FCargo.toml?ref=10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d", "patch": "@@ -11,7 +11,7 @@ doctest = false\n [dependencies]\n crossbeam-channel = \"0.5.0\"\n log = \"0.4.8\"\n-cargo_metadata = \"0.13\"\n+cargo_metadata = \"0.14\"\n serde = { version = \"1.0.106\", features = [\"derive\"] }\n serde_json = \"1.0.48\"\n jod-thread = \"0.1.1\""}, {"sha": "fb80522b948158628839e1b26b041d1511de1ec5", "filename": "crates/proc_macro_srv/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/crates%2Fproc_macro_srv%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/crates%2Fproc_macro_srv%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproc_macro_srv%2FCargo.toml?ref=10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d", "patch": "@@ -20,7 +20,7 @@ proc_macro_api = { path = \"../proc_macro_api\", version = \"0.0.0\" }\n [dev-dependencies]\n test_utils = { path = \"../test_utils\" }\n toolchain = { path = \"../toolchain\" }\n-cargo_metadata = \"0.13\"\n+cargo_metadata = \"0.14\"\n expect-test = \"1.1.0\"\n \n # used as proc macro test targets"}, {"sha": "8c3eeefc0b47001b7bb0568a7809ff46849bd683", "filename": "crates/proc_macro_test/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/crates%2Fproc_macro_test%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/crates%2Fproc_macro_test%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproc_macro_test%2FCargo.toml?ref=10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d", "patch": "@@ -11,4 +11,4 @@ doctest = false\n [build-dependencies]\n proc_macro_test_impl = { path = \"imp\", version = \"0.0.0\" }\n toolchain = { path = \"../toolchain\", version = \"0.0.0\" }\n-cargo_metadata = \"0.13\"\n+cargo_metadata = \"0.14\""}, {"sha": "e8d33b055bf29e0f2833b7f05ea3e6f10548a1b3", "filename": "crates/project_model/Cargo.toml", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/crates%2Fproject_model%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/crates%2Fproject_model%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproject_model%2FCargo.toml?ref=10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d", "patch": "@@ -11,11 +11,10 @@ doctest = false\n [dependencies]\n log = \"0.4.8\"\n rustc-hash = \"1.1.0\"\n-cargo_metadata = \"0.13\"\n+cargo_metadata = \"0.14\"\n serde = { version = \"1.0.106\", features = [\"derive\"] }\n serde_json = \"1.0.48\"\n anyhow = \"1.0.26\"\n-itertools = \"0.10.0\"\n la-arena = { version = \"0.2.0\", path = \"../../lib/arena\" }\n \n cfg = { path = \"../cfg\", version = \"0.0.0\" }"}, {"sha": "a1d743eda8668f317482df43ba0295e21fbc7210", "filename": "crates/project_model/src/build_data.rs", "status": "modified", "additions": 1, "deletions": 4, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/crates%2Fproject_model%2Fsrc%2Fbuild_data.rs", "raw_url": "https://github.com/rust-lang/rust/raw/10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d/crates%2Fproject_model%2Fsrc%2Fbuild_data.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fproject_model%2Fsrc%2Fbuild_data.rs?ref=10ac4e5c0d04bd6b2b6d14aa7ce9e54390d5f12d", "patch": "@@ -9,7 +9,6 @@ use std::{\n use anyhow::Result;\n use cargo_metadata::camino::Utf8Path;\n use cargo_metadata::{BuildScript, Message};\n-use itertools::Itertools;\n use paths::{AbsPath, AbsPathBuf};\n use rustc_hash::FxHashMap;\n use serde::Deserialize;\n@@ -304,9 +303,7 @@ fn inject_cargo_env(package: &cargo_metadata::Package, build_data: &mut PackageB\n     env.push((\"CARGO_PKG_VERSION_MAJOR\".into(), package.version.major.to_string()));\n     env.push((\"CARGO_PKG_VERSION_MINOR\".into(), package.version.minor.to_string()));\n     env.push((\"CARGO_PKG_VERSION_PATCH\".into(), package.version.patch.to_string()));\n-\n-    let pre = package.version.pre.iter().map(|id| id.to_string()).format(\".\");\n-    env.push((\"CARGO_PKG_VERSION_PRE\".into(), pre.to_string()));\n+    env.push((\"CARGO_PKG_VERSION_PRE\".into(), package.version.pre.to_string()));\n \n     let authors = package.authors.join(\";\");\n     env.push((\"CARGO_PKG_AUTHORS\".into(), authors));"}]}