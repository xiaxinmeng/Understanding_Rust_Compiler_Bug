{"sha": "c3b7483559f4c54ee6717a5d599352be0df2882a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMzYjc0ODM1NTlmNGM1NGVlNjcxN2E1ZDU5OTM1MmJlMGRmMjg4MmE=", "commit": {"author": {"name": "Corey Farwell", "email": "coreyf@rwell.org", "date": "2018-08-17T15:23:34Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-08-17T15:23:34Z"}, "message": "Rollup merge of #53321 - alexcrichton:wasm-target-feature, r=nikomatsakis\n\nFix usage of `wasm_target_feature`\n\nCurrently usage results in:\n\n```\nerror: internal compiler error: librustc_typeck/collect.rs:1928: unknown target feature gate wasm_target_feature\n\nthread 'main' panicked at 'Box<Any>', librustc_errors/lib.rs:579:9\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\nerror: aborting due to previous error\n\nnote: the compiler unexpectedly panicked. this is a bug.\n\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\n\nnote: rustc 1.30.0-nightly (d5a448b3f 2018-08-13) running on x86_64-unknown-linux-gnu\n\nnote: compiler flags: -C debuginfo=2 -C linker=/tmp/lld-shim -C incremental --crate-type lib\n\nnote: some of the compiler flags provided by cargo are hidden\n\nerror: Could not compile `coresimd`.\n\nTo learn more, run the command again with --verbose.\n```\n\nand hopefully this should fix the ICE!", "tree": {"sha": "80a2cf17f7d70a0d7759b717030d59ce4de14172", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/80a2cf17f7d70a0d7759b717030d59ce4de14172"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c3b7483559f4c54ee6717a5d599352be0df2882a", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbduh2CRBK7hj4Ov3rIwAAdHIIAKQ+TLkiDRtPEtji5gLeXNHm\nx9CbWiSOMMUABidgJrtdREdMoe62IRBjVZvTDVtJBTdKBSpOs5NE6LxbMpSgqPpa\nMnL1YeGdSZaGx8LnN5PtnWBGfITGZcyE9KmdVa3n1HIllfUkZwt3AFWHu2NqrBBx\n0iByG7x/5zzLDGPqM6aY3KyOzirYAXEEDs9U8oYCoRuoNH9CufcMdNtYchxVkqiD\nfmvEa4vy/Ec1PeE+3+VLKM6LTEzv18xhx9hKUtnRnYvr16ztW5/F4tPEY8PKhe96\nO624hGkUdv/KqT8ZHtwyfSibppEn0UYJFdGsHxm85HgOWgXeR+z9DMhPPmQefRs=\n=liXI\n-----END PGP SIGNATURE-----\n", "payload": "tree 80a2cf17f7d70a0d7759b717030d59ce4de14172\nparent 2578036f47a1084e063452e32cfa03ec0f86edb8\nparent 2438cfc755edb27637a928806ecf07878f7d8bde\nauthor Corey Farwell <coreyf@rwell.org> 1534519414 -0700\ncommitter GitHub <noreply@github.com> 1534519414 -0700\n\nRollup merge of #53321 - alexcrichton:wasm-target-feature, r=nikomatsakis\n\nFix usage of `wasm_target_feature`\n\nCurrently usage results in:\n\n```\nerror: internal compiler error: librustc_typeck/collect.rs:1928: unknown target feature gate wasm_target_feature\n\nthread 'main' panicked at 'Box<Any>', librustc_errors/lib.rs:579:9\nnote: Run with `RUST_BACKTRACE=1` for a backtrace.\nerror: aborting due to previous error\n\nnote: the compiler unexpectedly panicked. this is a bug.\n\nnote: we would appreciate a bug report: https://github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports\n\nnote: rustc 1.30.0-nightly (d5a448b3f 2018-08-13) running on x86_64-unknown-linux-gnu\n\nnote: compiler flags: -C debuginfo=2 -C linker=/tmp/lld-shim -C incremental --crate-type lib\n\nnote: some of the compiler flags provided by cargo are hidden\n\nerror: Could not compile `coresimd`.\n\nTo learn more, run the command again with --verbose.\n```\n\nand hopefully this should fix the ICE!\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c3b7483559f4c54ee6717a5d599352be0df2882a", "html_url": "https://github.com/rust-lang/rust/commit/c3b7483559f4c54ee6717a5d599352be0df2882a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c3b7483559f4c54ee6717a5d599352be0df2882a/comments", "author": {"login": "frewsxcv", "id": 416575, "node_id": "MDQ6VXNlcjQxNjU3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/416575?v=4", "gravatar_id": "", "url": "https://api.github.com/users/frewsxcv", "html_url": "https://github.com/frewsxcv", "followers_url": "https://api.github.com/users/frewsxcv/followers", "following_url": "https://api.github.com/users/frewsxcv/following{/other_user}", "gists_url": "https://api.github.com/users/frewsxcv/gists{/gist_id}", "starred_url": "https://api.github.com/users/frewsxcv/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/frewsxcv/subscriptions", "organizations_url": "https://api.github.com/users/frewsxcv/orgs", "repos_url": "https://api.github.com/users/frewsxcv/repos", "events_url": "https://api.github.com/users/frewsxcv/events{/privacy}", "received_events_url": "https://api.github.com/users/frewsxcv/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2578036f47a1084e063452e32cfa03ec0f86edb8", "url": "https://api.github.com/repos/rust-lang/rust/commits/2578036f47a1084e063452e32cfa03ec0f86edb8", "html_url": "https://github.com/rust-lang/rust/commit/2578036f47a1084e063452e32cfa03ec0f86edb8"}, {"sha": "2438cfc755edb27637a928806ecf07878f7d8bde", "url": "https://api.github.com/repos/rust-lang/rust/commits/2438cfc755edb27637a928806ecf07878f7d8bde", "html_url": "https://github.com/rust-lang/rust/commit/2438cfc755edb27637a928806ecf07878f7d8bde"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "02f431dccca6b4b9882ad657e25f88e40d3243b9", "filename": "src/librustc_typeck/collect.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c3b7483559f4c54ee6717a5d599352be0df2882a/src%2Flibrustc_typeck%2Fcollect.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c3b7483559f4c54ee6717a5d599352be0df2882a/src%2Flibrustc_typeck%2Fcollect.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_typeck%2Fcollect.rs?ref=c3b7483559f4c54ee6717a5d599352be0df2882a", "patch": "@@ -1925,6 +1925,7 @@ fn from_target_feature(\n                 Some(\"mmx_target_feature\") => rust_features.mmx_target_feature,\n                 Some(\"sse4a_target_feature\") => rust_features.sse4a_target_feature,\n                 Some(\"tbm_target_feature\") => rust_features.tbm_target_feature,\n+                Some(\"wasm_target_feature\") => rust_features.wasm_target_feature,\n                 Some(name) => bug!(\"unknown target feature gate {}\", name),\n                 None => true,\n             };"}]}