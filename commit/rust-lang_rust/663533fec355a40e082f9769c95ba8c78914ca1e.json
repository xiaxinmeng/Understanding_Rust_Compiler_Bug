{"sha": "663533fec355a40e082f9769c95ba8c78914ca1e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjY2MzUzM2ZlYzM1NWE0MGUwODJmOTc2OWM5NWJhOGM3ODkxNGNhMWU=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2018-09-22T09:14:45Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2018-09-22T09:14:45Z"}, "message": "Patch faerie for Mach-O support", "tree": {"sha": "f627f7c04de68ad67493a0977775265447e24a85", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f627f7c04de68ad67493a0977775265447e24a85"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/663533fec355a40e082f9769c95ba8c78914ca1e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/663533fec355a40e082f9769c95ba8c78914ca1e", "html_url": "https://github.com/rust-lang/rust/commit/663533fec355a40e082f9769c95ba8c78914ca1e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/663533fec355a40e082f9769c95ba8c78914ca1e/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bccc1fd7a1c36078f96441975562e2ffad4b292e", "url": "https://api.github.com/repos/rust-lang/rust/commits/bccc1fd7a1c36078f96441975562e2ffad4b292e", "html_url": "https://github.com/rust-lang/rust/commit/bccc1fd7a1c36078f96441975562e2ffad4b292e"}], "stats": {"total": 14, "additions": 9, "deletions": 5}, "files": [{"sha": "58117cee0c5b565888a5a4070eceeed2fcbcbb15", "filename": "Cargo.lock", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/663533fec355a40e082f9769c95ba8c78914ca1e/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/663533fec355a40e082f9769c95ba8c78914ca1e/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=663533fec355a40e082f9769c95ba8c78914ca1e", "patch": "@@ -135,7 +135,7 @@ source = \"git+https://github.com/CraneStation/cranelift.git#7d08f6da158693215472\n dependencies = [\n  \"cranelift-codegen 0.21.1 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"cranelift-module 0.21.1 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"faerie 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"faerie 0.5.0 (git+https://github.com/m4b/faerie.git?branch=mach_data_relocations)\",\n  \"failure 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"goblin 0.0.17 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"target-lexicon 0.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -219,7 +219,7 @@ dependencies = [\n [[package]]\n name = \"faerie\"\n version = \"0.5.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+source = \"git+https://github.com/m4b/faerie.git?branch=mach_data_relocations#c8587ada91fd0af6961e0a884fa44454efbb2a21\"\n dependencies = [\n  \"env_logger 0.5.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -423,7 +423,7 @@ dependencies = [\n  \"cranelift-faerie 0.21.1 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"cranelift-module 0.21.1 (git+https://github.com/CraneStation/cranelift.git)\",\n  \"cranelift-simplejit 0.21.1 (git+https://github.com/CraneStation/cranelift.git)\",\n- \"faerie 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"faerie 0.5.0 (git+https://github.com/m4b/faerie.git?branch=mach_data_relocations)\",\n  \"target-lexicon 0.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -674,7 +674,7 @@ dependencies = [\n \"checksum env_logger 0.5.13 (registry+https://github.com/rust-lang/crates.io-index)\" = \"15b0a4d2e39f8420210be8b27eeda28029729e2fd4291019455016c348240c38\"\n \"checksum errno 0.2.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c2a071601ed01b988f896ab14b95e67335d1eeb50190932a1320f7fe3cadc84e\"\n \"checksum errno-dragonfly 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"14ca354e36190500e1e1fb267c647932382b54053c50b14970856c0b00a35067\"\n-\"checksum faerie 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3a1085754e4ac8a52d1bfe21ddeb534ac25800b56586a64554c3c32944ccb0b8\"\n+\"checksum faerie 0.5.0 (git+https://github.com/m4b/faerie.git?branch=mach_data_relocations)\" = \"<none>\"\n \"checksum failure 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7efb22686e4a466b1ec1a15c2898f91fa9cb340452496dca654032de20ff95b9\"\n \"checksum failure_derive 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"946d0e98a50d9831f5d589038d2ca7f8f455b1c21028c0db0e84116a12696426\"\n \"checksum gcc 0.3.54 (registry+https://github.com/rust-lang/crates.io-index)\" = \"5e33ec290da0d127825013597dbdfc28bee4964690c7ce1166cbc2a7bd08b1bb\""}, {"sha": "665c37e4f4165b0eb8f124efad88a141c7df67bd", "filename": "Cargo.toml", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/663533fec355a40e082f9769c95ba8c78914ca1e/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/663533fec355a40e082f9769c95ba8c78914ca1e/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=663533fec355a40e082f9769c95ba8c78914ca1e", "patch": "@@ -29,4 +29,8 @@ byteorder = \"1.2.6\"\n #cranelift = { path = \"../cranelift/lib/umbrella\" }\n #cranelift-module = { path = \"../cranelift/lib/module\" }\n #cranelift-simplejit = { path = \"../cranelift/lib/simplejit\" }\n-#cranelift-faerie = { path = \"../cranelift/lib/faerie\" }\n\\ No newline at end of file\n+#cranelift-faerie = { path = \"../cranelift/lib/faerie\" }\n+\n+[patch.crates-io]\n+# Use https://github.com/m4b/faerie/pull/47, because faerie 0.5.0 doesn't create valid Mach-O binaries\n+faerie = { git = \"https://github.com/m4b/faerie.git\", branch = \"mach_data_relocations\" }"}]}