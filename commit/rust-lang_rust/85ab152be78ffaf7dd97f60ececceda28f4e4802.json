{"sha": "85ab152be78ffaf7dd97f60ececceda28f4e4802", "node_id": "MDY6Q29tbWl0NzI0NzEyOjg1YWIxNTJiZTc4ZmZhZjdkZDk3ZjYwZWNlY2NlZGEyOGY0ZTQ4MDI=", "commit": {"author": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2020-09-12T00:53:52Z"}, "committer": {"name": "Joshua Nelson", "email": "jyn514@gmail.com", "date": "2020-09-12T01:00:40Z"}, "message": "Update bootstrap readme\n\n- Reflect changes in x.py defaults\n- Remove recommendation to use nightly for incremental; it works fine on\nbeta\n- Remove note that incremental chooses stage 1 by default; stage 1 is\nalready the default\n- Update Discord -> Zulip", "tree": {"sha": "4fefc0ac6d6689b93a6c7e3977a4cc394961ba56", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4fefc0ac6d6689b93a6c7e3977a4cc394961ba56"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/85ab152be78ffaf7dd97f60ececceda28f4e4802", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/85ab152be78ffaf7dd97f60ececceda28f4e4802", "html_url": "https://github.com/rust-lang/rust/commit/85ab152be78ffaf7dd97f60ececceda28f4e4802", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/85ab152be78ffaf7dd97f60ececceda28f4e4802/comments", "author": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jyn514", "id": 23638587, "node_id": "MDQ6VXNlcjIzNjM4NTg3", "avatar_url": "https://avatars.githubusercontent.com/u/23638587?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jyn514", "html_url": "https://github.com/jyn514", "followers_url": "https://api.github.com/users/jyn514/followers", "following_url": "https://api.github.com/users/jyn514/following{/other_user}", "gists_url": "https://api.github.com/users/jyn514/gists{/gist_id}", "starred_url": "https://api.github.com/users/jyn514/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jyn514/subscriptions", "organizations_url": "https://api.github.com/users/jyn514/orgs", "repos_url": "https://api.github.com/users/jyn514/repos", "events_url": "https://api.github.com/users/jyn514/events{/privacy}", "received_events_url": "https://api.github.com/users/jyn514/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7d289aeade481c03d42e7f6d31bc6b64a73cfa45", "url": "https://api.github.com/repos/rust-lang/rust/commits/7d289aeade481c03d42e7f6d31bc6b64a73cfa45", "html_url": "https://github.com/rust-lang/rust/commit/7d289aeade481c03d42e7f6d31bc6b64a73cfa45"}], "stats": {"total": 38, "additions": 10, "deletions": 28}, "files": [{"sha": "a69bd1cc3bc530f3d7f230d8232cfa2c51cd9837", "filename": "src/bootstrap/README.md", "status": "modified", "additions": 10, "deletions": 28, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/85ab152be78ffaf7dd97f60ececceda28f4e4802/src%2Fbootstrap%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/85ab152be78ffaf7dd97f60ececceda28f4e4802/src%2Fbootstrap%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2FREADME.md?ref=85ab152be78ffaf7dd97f60ececceda28f4e4802", "patch": "@@ -26,10 +26,10 @@ The script accepts commands, flags, and arguments to determine what to do:\n \n   ```\n   # build the whole compiler\n-  ./x.py build\n+  ./x.py build --stage 2\n \n   # build the stage1 compiler\n-  ./x.py build --stage 1\n+  ./x.py build\n \n   # build stage0 libstd\n   ./x.py build --stage 0 library/std\n@@ -43,8 +43,8 @@ The script accepts commands, flags, and arguments to determine what to do:\n   that belong to stage n or earlier:\n \n   ```\n-  # keep old build products for stage 0 and build stage 1\n-  ./x.py build --keep-stage 0 --stage 1\n+  # build stage 1, keeping old build products for stage 0\n+  ./x.py build --keep-stage 0\n   ```\n \n * `test` - a command for executing unit tests. Like the `build` command this\n@@ -123,24 +123,8 @@ that (b) leverage Rust as much as possible!\n \n ## Incremental builds\n \n-You can configure rustbuild to use incremental compilation. Because\n-incremental is new and evolving rapidly, if you want to use it, it is\n-recommended that you replace the snapshot with a locally installed\n-nightly build of rustc. You will want to keep this up to date.\n-\n-To follow this course of action, first thing you will want to do is to\n-install a nightly, presumably using `rustup`. You will then want to\n-configure your directory to use this build, like so:\n-\n-```sh\n-# configure to use local rust instead of downloading a beta.\n-# `--local-rust-root` is optional here. If elided, we will\n-# use whatever rustc we find on your PATH.\n-$ ./configure --local-rust-root=~/.cargo/ --enable-local-rebuild\n-```\n-\n-After that, you can use the `--incremental` flag to actually do\n-incremental builds:\n+You can configure rustbuild to use incremental compilation with the\n+`--incremental` flag:\n \n ```sh\n $ ./x.py build --incremental\n@@ -150,9 +134,7 @@ The `--incremental` flag will store incremental compilation artifacts\n in `build/<host>/stage0-incremental`. Note that we only use incremental\n compilation for the stage0 -> stage1 compilation -- this is because\n the stage1 compiler is changing, and we don't try to cache and reuse\n-incremental artifacts across different versions of the compiler. For\n-this reason, `--incremental` defaults to `--stage 1` (though you can\n-manually select a higher stage, if you prefer).\n+incremental artifacts across different versions of the compiler.\n \n You can always drop the `--incremental` to build as normal (but you\n will still be using the local nightly as your bootstrap).\n@@ -331,8 +313,8 @@ are:\n   `Config` struct.\n * Adding a sanity check? Take a look at `bootstrap/sanity.rs`.\n \n-If you have any questions feel free to reach out on `#infra` channel in the\n-[Rust Discord server][rust-discord] or ask on internals.rust-lang.org. When\n+If you have any questions feel free to reach out on the `#t-infra` channel in\n+the [Rust Zulip server][rust-zulip] or ask on internals.rust-lang.org. When\n you encounter bugs, please file issues on the rust-lang/rust issue tracker.\n \n-[rust-discord]: https://discord.gg/rust-lang\n+[rust-zulip]: https://rust-lang.zulipchat.com/#narrow/stream/242791-t-infra"}]}