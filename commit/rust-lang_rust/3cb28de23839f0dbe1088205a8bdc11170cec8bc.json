{"sha": "3cb28de23839f0dbe1088205a8bdc11170cec8bc", "node_id": "C_kwDOAAsO6NoAKDNjYjI4ZGUyMzgzOWYwZGJlMTA4ODIwNWE4YmRjMTExNzBjZWM4YmM", "commit": {"author": {"name": "the8472", "email": "the8472@users.noreply.github.com", "date": "2021-09-22T17:03:26Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-09-22T17:03:26Z"}, "message": "Rollup merge of #89164 - camelid:show-type-layout-docs, r=jyn514\n\nDocument `--show-type-layout` in the rustdoc book\n\nI also made a few small, related changes as separate commits.\n\nr? `@jyn514`", "tree": {"sha": "8a21d2d1cdd249fe764cf047ab7861a0f990aed3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8a21d2d1cdd249fe764cf047ab7861a0f990aed3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3cb28de23839f0dbe1088205a8bdc11170cec8bc", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJhS2HeCRBK7hj4Ov3rIwAAVwgIADfSHlD6J1Bl7Pswt4CWjRkj\nV5yJ7o2aQ5C5FyOdedCriZV6mc7x2hovbHpvYpfAFWQfVptvlA6z3UdpFdXONGO+\n2KUS/Z+xUzM+Xly0gwZQgSQSS7S6gXsQL3YbDGMzY66LVRyUBJnCzxFgt2QLvmK4\nFXzWu7laXoXpJc6vveB9kpDEIOnCMZYZLppC2XhMiXa0Thx921I3r/xZX/B2dcyj\nHyHX62tdCZf1cOXRyPBb81boEPCtScMxBDEYqt7jwklUjf0A3+XNemvnUPsOgN1Q\nMdPBdXdk1T/wejyeh3SznB3hIeRYHZnJpM7wHzYQjXWGTE4Nhz3X//pmQz3Emuk=\n=BrhW\n-----END PGP SIGNATURE-----\n", "payload": "tree 8a21d2d1cdd249fe764cf047ab7861a0f990aed3\nparent 91af0003e8ba8c010f90c171d0e0e291c27e07aa\nparent fcb837b163dce03f77573c5bb2202958fd6584aa\nauthor the8472 <the8472@users.noreply.github.com> 1632330206 +0200\ncommitter GitHub <noreply@github.com> 1632330206 +0200\n\nRollup merge of #89164 - camelid:show-type-layout-docs, r=jyn514\n\nDocument `--show-type-layout` in the rustdoc book\n\nI also made a few small, related changes as separate commits.\n\nr? `@jyn514`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3cb28de23839f0dbe1088205a8bdc11170cec8bc", "html_url": "https://github.com/rust-lang/rust/commit/3cb28de23839f0dbe1088205a8bdc11170cec8bc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3cb28de23839f0dbe1088205a8bdc11170cec8bc/comments", "author": {"login": "the8472", "id": 1065730, "node_id": "MDQ6VXNlcjEwNjU3MzA=", "avatar_url": "https://avatars.githubusercontent.com/u/1065730?v=4", "gravatar_id": "", "url": "https://api.github.com/users/the8472", "html_url": "https://github.com/the8472", "followers_url": "https://api.github.com/users/the8472/followers", "following_url": "https://api.github.com/users/the8472/following{/other_user}", "gists_url": "https://api.github.com/users/the8472/gists{/gist_id}", "starred_url": "https://api.github.com/users/the8472/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/the8472/subscriptions", "organizations_url": "https://api.github.com/users/the8472/orgs", "repos_url": "https://api.github.com/users/the8472/repos", "events_url": "https://api.github.com/users/the8472/events{/privacy}", "received_events_url": "https://api.github.com/users/the8472/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "91af0003e8ba8c010f90c171d0e0e291c27e07aa", "url": "https://api.github.com/repos/rust-lang/rust/commits/91af0003e8ba8c010f90c171d0e0e291c27e07aa", "html_url": "https://github.com/rust-lang/rust/commit/91af0003e8ba8c010f90c171d0e0e291c27e07aa"}, {"sha": "fcb837b163dce03f77573c5bb2202958fd6584aa", "url": "https://api.github.com/repos/rust-lang/rust/commits/fcb837b163dce03f77573c5bb2202958fd6584aa", "html_url": "https://github.com/rust-lang/rust/commit/fcb837b163dce03f77573c5bb2202958fd6584aa"}], "stats": {"total": 20, "additions": 18, "deletions": 2}, "files": [{"sha": "917959976411cf700b4781bfb6d7cc73ed61fb75", "filename": "src/doc/rustdoc/src/unstable-features.md", "status": "modified", "additions": 17, "deletions": 1, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/3cb28de23839f0dbe1088205a8bdc11170cec8bc/src%2Fdoc%2Frustdoc%2Fsrc%2Funstable-features.md", "raw_url": "https://github.com/rust-lang/rust/raw/3cb28de23839f0dbe1088205a8bdc11170cec8bc/src%2Fdoc%2Frustdoc%2Fsrc%2Funstable-features.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2Funstable-features.md?ref=3cb28de23839f0dbe1088205a8bdc11170cec8bc", "patch": "@@ -209,6 +209,22 @@ some consideration for their stability, and names that end in a number). Giving\n `rustdoc` will disable this sorting and instead make it print the items in the order they appear in\n the source.\n \n+### `--show-type-layout`: add a section to each type's docs describing its memory layout\n+\n+Using this flag looks like this:\n+\n+```bash\n+$ rustdoc src/lib.rs -Z unstable-options --show-type-layout\n+```\n+\n+When this flag is passed, rustdoc will add a \"Layout\" section at the bottom of\n+each type's docs page that includes a summary of the type's memory layout as\n+computed by rustc. For example, rustdoc will show the size in bytes that a value\n+of that type will take in memory.\n+\n+Note that most layout information is **completely unstable** and may even differ\n+between compilations.\n+\n ### `--resource-suffix`: modifying the name of CSS/JavaScript in crate docs\n \n Using this flag looks like this:\n@@ -333,7 +349,7 @@ Some methodology notes about what rustdoc counts in this metric:\n Public items that are not documented can be seen with the built-in `missing_docs` lint. Private\n items that are not documented can be seen with Clippy's `missing_docs_in_private_items` lint.\n \n-## `-w`/`--output-format`: output format\n+### `-w`/`--output-format`: output format\n \n When using\n [`--show-coverage`](https://doc.rust-lang.org/nightly/rustdoc/unstable-features.html#--show-coverage-get-statistics-about-code-documentation-coverage),"}, {"sha": "3104cb3a3dd0153a626a3d30084fd07347b143c2", "filename": "src/librustdoc/html/render/print_item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3cb28de23839f0dbe1088205a8bdc11170cec8bc/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3cb28de23839f0dbe1088205a8bdc11170cec8bc/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs?ref=3cb28de23839f0dbe1088205a8bdc11170cec8bc", "patch": "@@ -1663,7 +1663,7 @@ fn document_type_layout(w: &mut Buffer, cx: &Context<'_>, ty_def_id: DefId) {\n             writeln!(\n                 w,\n                 \"<div class=\\\"warning\\\"><p><strong>Note:</strong> Most layout information is \\\n-                 completely unstable and may be different between compiler versions and platforms. \\\n+                 <strong>completely unstable</strong> and may even differ between compilations. \\\n                  The only exception is types with certain <code>repr(...)</code> attributes. \\\n                  Please see the Rust Reference\u2019s \\\n                  <a href=\\\"https://doc.rust-lang.org/reference/type-layout.html\\\">\u201cType Layout\u201d</a> \\"}]}