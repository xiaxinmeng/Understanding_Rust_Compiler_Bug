{"sha": "fd80291cdcd4e4fd2fd000a2cce5e65390682249", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZkODAyOTFjZGNkNGU0ZmQyZmQwMDBhMmNjZTVlNjUzOTA2ODIyNDk=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-07-15T04:58:19Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-07-15T04:58:19Z"}, "message": "auto merge of #7795 : sp3d/rust/master, r=z0w0\n\nThis should be pretty self-explanatory. The most important component is region/lifetime annotation highlighting, as previously they were interpreted as character literals and would ruin the rest of the line. The attribute regex is fairly crude, but it gets the job done and there's not much within attributes that would benefit from individual highlighting, so fancier handling didn't seem worth the trouble.\r\n\r\nThe ident regex was copied from the vim highlighter.", "tree": {"sha": "e1a9daef6d2633c0aa127105a1f1a4effceccc65", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e1a9daef6d2633c0aa127105a1f1a4effceccc65"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fd80291cdcd4e4fd2fd000a2cce5e65390682249", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fd80291cdcd4e4fd2fd000a2cce5e65390682249", "html_url": "https://github.com/rust-lang/rust/commit/fd80291cdcd4e4fd2fd000a2cce5e65390682249", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fd80291cdcd4e4fd2fd000a2cce5e65390682249/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db438ad786eec6faa15c0a464569fcf5c9ce1edc", "url": "https://api.github.com/repos/rust-lang/rust/commits/db438ad786eec6faa15c0a464569fcf5c9ce1edc", "html_url": "https://github.com/rust-lang/rust/commit/db438ad786eec6faa15c0a464569fcf5c9ce1edc"}, {"sha": "9adad222a64063b698d82caa992482f0d9d1e5cc", "url": "https://api.github.com/repos/rust-lang/rust/commits/9adad222a64063b698d82caa992482f0d9d1e5cc", "html_url": "https://github.com/rust-lang/rust/commit/9adad222a64063b698d82caa992482f0d9d1e5cc"}], "stats": {"total": 40, "additions": 32, "deletions": 8}, "files": [{"sha": "a6415beab36cf7a9f62c08541291ed0939376c5f", "filename": "src/etc/gedit/share/gtksourceview-3.0/language-specs/rust.lang", "status": "modified", "additions": 32, "deletions": 8, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/fd80291cdcd4e4fd2fd000a2cce5e65390682249/src%2Fetc%2Fgedit%2Fshare%2Fgtksourceview-3.0%2Flanguage-specs%2Frust.lang", "raw_url": "https://github.com/rust-lang/rust/raw/fd80291cdcd4e4fd2fd000a2cce5e65390682249/src%2Fetc%2Fgedit%2Fshare%2Fgtksourceview-3.0%2Flanguage-specs%2Frust.lang", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fetc%2Fgedit%2Fshare%2Fgtksourceview-3.0%2Flanguage-specs%2Frust.lang?ref=fd80291cdcd4e4fd2fd000a2cce5e65390682249", "patch": "@@ -19,8 +19,9 @@\n     <style id=\"type\" _name=\"Data Type\" map-to=\"def:type\"/>\n     <style id=\"constant\" _name=\"Constant\" map-to=\"def:constant\"/>\n     <style id=\"identifier\" _name=\"Identifier\" map-to=\"def:identifier\"/>\n-    <style id=\"number\" _name=\"Number\" map-to=\"def:decimal\"/>\n+    <style id=\"number\" _name=\"Number\" map-to=\"def:number\"/>\n     <style id=\"scope\" _name=\"Scope\" map-to=\"def:preprocessor\"/>\n+    <style id=\"attribute\" _name=\"Attribute\" map-to=\"def:preprocessor\"/>\n   </styles>\n \n   <definitions>\n@@ -216,9 +217,19 @@\n       </match>\n     </context>\n \n+    <define-regex id=\"ident\" extended=\"true\">\n+      ([^[:cntrl:][:space:][:punct:][:digit:]]|_)([^[:cntrl:][:punct:][:space:]]|_)*\n+    </define-regex>\n+\n     <context id=\"scope\" style-ref=\"scope\">\n       <match extended=\"true\">\n-        [a-zA-Z_][a-zA-Z0-9_]*::\n+        \\%{ident}::\n+      </match>\n+    </context>\n+\n+    <context id=\"lifetime\" style-ref=\"keyword\">\n+      <match extended=\"true\">\n+        '\\%{ident}\n       </match>\n     </context>\n \n@@ -231,12 +242,23 @@\n       </include>\n     </context>\n \n-    <context id=\"char\" style-ref=\"char\" end-at-line-end=\"true\" class=\"char\" class-disabled=\"no-spell-check\">\n-      <start>'</start>\n-      <end>'</end>\n-      <include>\n-        <context ref=\"def:escape\"/>\n-      </include>\n+    <define-regex id=\"hex_digit\" extended=\"true\">\n+      [0-9a-fA-F]\n+    </define-regex>\n+\n+    <define-regex id=\"common_escape\" extended=\"true\">\n+      (n|r|t)|\n+      x\\%{hex_digit}{2}|\n+      u\\%{hex_digit}{4}|\n+      U\\%{hex_digit}{8}\n+    </define-regex>\n+\n+    <context id=\"char\" style-ref=\"char\" class=\"char\">\n+      <match extended=\"true\">'([^\\\\]|\\\\\\%{common_escape})'</match>\n+    </context>\n+\n+    <context id=\"attribute\" style-ref=\"attribute\" class=\"attribute\">\n+      <match extended=\"true\">\\#\\[[^\\]]+\\]</match>\n     </context>\n \n     <context id=\"rust\" class=\"no-spell-check\">\n@@ -255,6 +277,8 @@\n         <context ref=\"scope\"/>\n         <context ref=\"string\"/>\n         <context ref=\"char\"/>\n+        <context ref=\"lifetime\"/>\n+        <context ref=\"attribute\"/>\n       </include>\n     </context>\n "}]}