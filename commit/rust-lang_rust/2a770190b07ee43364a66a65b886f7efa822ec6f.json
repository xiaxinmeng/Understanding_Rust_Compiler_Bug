{"sha": "2a770190b07ee43364a66a65b886f7efa822ec6f", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJhNzcwMTkwYjA3ZWU0MzM2NGE2NmE2NWI4ODZmN2VmYTgyMmVjNmY=", "commit": {"author": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2019-03-28T16:19:56Z"}, "committer": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2019-03-28T16:19:56Z"}, "message": "Merge #1070\n\n1070: Support extern_crate_self r=matklad a=memoryruins\n\ncloses #1069\n\nCo-authored-by: memoryruins <memoryruinsmusic@gmail.com>", "tree": {"sha": "d1fb78ae2dc203ed39e3e50b8db27b2b9d1c363a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d1fb78ae2dc203ed39e3e50b8db27b2b9d1c363a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2a770190b07ee43364a66a65b886f7efa822ec6f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2a770190b07ee43364a66a65b886f7efa822ec6f", "html_url": "https://github.com/rust-lang/rust/commit/2a770190b07ee43364a66a65b886f7efa822ec6f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2a770190b07ee43364a66a65b886f7efa822ec6f/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "parents": [{"sha": "de56dba452006f6b1c7dc2f2264c77ec2bcf81f8", "url": "https://api.github.com/repos/rust-lang/rust/commits/de56dba452006f6b1c7dc2f2264c77ec2bcf81f8", "html_url": "https://github.com/rust-lang/rust/commit/de56dba452006f6b1c7dc2f2264c77ec2bcf81f8"}, {"sha": "7a06282d71d41508f30a9b7513eecfba998b9aa9", "url": "https://api.github.com/repos/rust-lang/rust/commits/7a06282d71d41508f30a9b7513eecfba998b9aa9", "html_url": "https://github.com/rust-lang/rust/commit/7a06282d71d41508f30a9b7513eecfba998b9aa9"}], "stats": {"total": 22, "additions": 21, "deletions": 1}, "files": [{"sha": "b2ffeff8c7abda48dd3ec38ae4fc26097f757b53", "filename": "crates/ra_parser/src/grammar.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2a770190b07ee43364a66a65b886f7efa822ec6f/crates%2Fra_parser%2Fsrc%2Fgrammar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2a770190b07ee43364a66a65b886f7efa822ec6f/crates%2Fra_parser%2Fsrc%2Fgrammar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar.rs?ref=2a770190b07ee43364a66a65b886f7efa822ec6f", "patch": "@@ -184,6 +184,10 @@ fn name_ref(p: &mut Parser) {\n         let m = p.start();\n         p.bump();\n         m.complete(p, NAME_REF);\n+    } else if p.at(SELF_KW) {\n+        let m = p.start();\n+        p.bump();\n+        m.complete(p, SELF_KW);\n     } else {\n         p.err_and_bump(\"expected identifier\");\n     }"}, {"sha": "ab81a608cb511936bf239ac1e35eb82e24929ad6", "filename": "crates/ra_syntax/tests/data/parser/ok/0007_extern_crate.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2a770190b07ee43364a66a65b886f7efa822ec6f/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Fok%2F0007_extern_crate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2a770190b07ee43364a66a65b886f7efa822ec6f/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Fok%2F0007_extern_crate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Fok%2F0007_extern_crate.rs?ref=2a770190b07ee43364a66a65b886f7efa822ec6f", "patch": "@@ -1,2 +1,3 @@\n extern crate foo;\n extern crate foo as bar;\n+extern crate self as baz;"}, {"sha": "0176260c1450740ce2b778f9c6ad5d19565008f5", "filename": "crates/ra_syntax/tests/data/parser/ok/0007_extern_crate.txt", "status": "modified", "additions": 16, "deletions": 1, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/2a770190b07ee43364a66a65b886f7efa822ec6f/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Fok%2F0007_extern_crate.txt", "raw_url": "https://github.com/rust-lang/rust/raw/2a770190b07ee43364a66a65b886f7efa822ec6f/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Fok%2F0007_extern_crate.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftests%2Fdata%2Fparser%2Fok%2F0007_extern_crate.txt?ref=2a770190b07ee43364a66a65b886f7efa822ec6f", "patch": "@@ -1,4 +1,4 @@\n-SOURCE_FILE@[0; 43)\n+SOURCE_FILE@[0; 69)\n   EXTERN_CRATE_ITEM@[0; 17)\n     EXTERN_KW@[0; 6)\n     WHITESPACE@[6; 7)\n@@ -23,3 +23,18 @@ SOURCE_FILE@[0; 43)\n         IDENT@[38; 41) \"bar\"\n     SEMI@[41; 42)\n   WHITESPACE@[42; 43)\n+  EXTERN_CRATE_ITEM@[43; 68)\n+    EXTERN_KW@[43; 49)\n+    WHITESPACE@[49; 50)\n+    CRATE_KW@[50; 55)\n+    WHITESPACE@[55; 56)\n+    SELF_KW@[56; 60)\n+      SELF_KW@[56; 60)\n+    WHITESPACE@[60; 61)\n+    ALIAS@[61; 67)\n+      AS_KW@[61; 63)\n+      WHITESPACE@[63; 64)\n+      NAME@[64; 67)\n+        IDENT@[64; 67) \"baz\"\n+    SEMI@[67; 68)\n+  WHITESPACE@[68; 69)"}]}