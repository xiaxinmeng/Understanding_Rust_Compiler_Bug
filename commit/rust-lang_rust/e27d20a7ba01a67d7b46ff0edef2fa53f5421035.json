{"sha": "e27d20a7ba01a67d7b46ff0edef2fa53f5421035", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUyN2QyMGE3YmEwMWE2N2Q3YjQ2ZmYwZWRlZjJmYTUzZjU0MjEwMzU=", "commit": {"author": {"name": "Seiichi Uchida", "email": "seuchida@gmail.com", "date": "2018-01-30T04:12:37Z"}, "committer": {"name": "flip1995", "email": "uwdkn@student.kit.edu", "date": "2018-05-02T09:32:33Z"}, "message": "Add tests for a new feature 'tool_attributes'", "tree": {"sha": "fdef741a16cfc9b38c54aaaeadcb5e733b764cf7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fdef741a16cfc9b38c54aaaeadcb5e733b764cf7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e27d20a7ba01a67d7b46ff0edef2fa53f5421035", "comment_count": 0, "verification": {"verified": false, "reason": "unverified_email", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEz66kzxK9mXB0K2lyZ1erJvcvAIQFAlrphbEACgkQZ1erJvcv\nAITfhRAAuUpXJn18ksxOI4y6Qhz1u3X4IX9uUwqwFyLVfKSYjR/ah0nnjK5pHHsb\n/bnWMjPqONXeJNOuDvEg7onB445NJ8JY3TZnOOQBUqaGbnRO7rfGNzJsOXKMAat2\naiMac9QsvgxBIjc4BjJgC/VT+cvJXgAF5copVcSPLv8jyqrZS9tKouLo/FRH3U6D\no5VMPoU7iX3x9CFlQyjojmU4zzBiEE4Yod7rL9porEmR8Lfr1b0gXKzmost51xyT\n2Q/EDX4I+XrLydg8glV5XyA0PUus/Zfp7y4qOjbW/MNyz0LZQ+/m41kNHDkm53ew\nzhlGfKdAzNpfDAiYYQNLsVBOTFkblCcUdhYe3ljeuFsfFCuGt3aSNjK6g1bXIPnY\ngx4ls7hEUnYwBZbLpuT1hrsNr5saxDSCBvOMt3IawvD2EVJy8kAf0Gh8+X4TIS16\nGQQ4hz7W/GB6I85Zcy7KYWOPbx72GAf9FpN15SdrMmboF4x0xVOeLwCcBD9Zw3zx\nWB4MQnOJiuvWVJKnPT5DALamlBULzEM8SedmI6abLQfaEseNwwhH5Bi//XUxsx8T\nXgAP5yPXU+mgvQ/cDwVUWteEkv5AY+TgwYYsGTStRD9zmek01QOHQK9MmcXEAwXD\nhAfwwldql/mxbjUs6XdbaNoYY5dfh6EAMZ8UKM70CLvZO7YDLcI=\n=mUX9\n-----END PGP SIGNATURE-----", "payload": "tree fdef741a16cfc9b38c54aaaeadcb5e733b764cf7\nparent c1168be5360f17516b233be85ebb193bb4e612bf\nauthor Seiichi Uchida <seuchida@gmail.com> 1517285557 +0900\ncommitter flip1995 <uwdkn@student.kit.edu> 1525253553 +0200\n\nAdd tests for a new feature 'tool_attributes'\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e27d20a7ba01a67d7b46ff0edef2fa53f5421035", "html_url": "https://github.com/rust-lang/rust/commit/e27d20a7ba01a67d7b46ff0edef2fa53f5421035", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c1168be5360f17516b233be85ebb193bb4e612bf", "url": "https://api.github.com/repos/rust-lang/rust/commits/c1168be5360f17516b233be85ebb193bb4e612bf", "html_url": "https://github.com/rust-lang/rust/commit/c1168be5360f17516b233be85ebb193bb4e612bf"}], "stats": {"total": 97, "additions": 97, "deletions": 0}, "files": [{"sha": "5a7536ca3304bd090bc33a5b1a637bbd3b2b9767", "filename": "src/test/compile-fail/feature-gate-tool_attributes.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Fcompile-fail%2Ffeature-gate-tool_attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Fcompile-fail%2Ffeature-gate-tool_attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ffeature-gate-tool_attributes.rs?ref=e27d20a7ba01a67d7b46ff0edef2fa53f5421035", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+fn main() {\n+    #[rustfmt::skip] //~ ERROR scoped attribute `rustfmt::skip` is experimental\n+    let x =\n+        3;\n+}"}, {"sha": "1ee837b05d8df87dacdcb62072349b94d1da8cd5", "filename": "src/test/compile-fail/unknown-tool-name.rs", "status": "added", "additions": 16, "deletions": 0, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Fcompile-fail%2Funknown-tool-name.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Fcompile-fail%2Funknown-tool-name.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funknown-tool-name.rs?ref=e27d20a7ba01a67d7b46ff0edef2fa53f5421035", "patch": "@@ -0,0 +1,16 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+#![feature(tool_attributes)]\n+\n+#![foo::bar] //~ ERROR An unkown tool name found in scoped attributes: `foo::bar`. [E0693]\n+\n+#[foo::bar] //~ ERROR An unkown tool name found in scoped attributes: `foo::bar`. [E0693]\n+fn main() {}"}, {"sha": "08a7bfed2784f4318f099cb2d2d1311208fa9ee8", "filename": "src/test/compile-fail/unknown_tool_attributes-1.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Fcompile-fail%2Funknown_tool_attributes-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Fcompile-fail%2Funknown_tool_attributes-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funknown_tool_attributes-1.rs?ref=e27d20a7ba01a67d7b46ff0edef2fa53f5421035", "patch": "@@ -0,0 +1,18 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// Make sure that 'custom_attributes' feature does not allow scoped attributes.\n+\n+#![feature(custom_attributes)]\n+\n+#[foo::bar]\n+//~^ ERROR scoped attribute `foo::bar` is experimental (see issue #44690) [E0658]\n+//~^^ ERROR An unkown tool name found in scoped attributes: `foo::bar`. [E0693]\n+fn main() {}"}, {"sha": "eb13930de403f2877c73e01aa8b37149a3b1c333", "filename": "src/test/run-pass/tool_attributes.rs", "status": "added", "additions": 23, "deletions": 0, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Frun-pass%2Ftool_attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Frun-pass%2Ftool_attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Ftool_attributes.rs?ref=e27d20a7ba01a67d7b46ff0edef2fa53f5421035", "patch": "@@ -0,0 +1,23 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// Scoped attributes should not trigger an unused attributes lint.\n+\n+#![feature(tool_attributes)]\n+#![deny(unused_attributes)]\n+\n+fn main() {\n+    #[rustfmt::skip]\n+    foo ();\n+}\n+\n+fn foo() {\n+    assert!(true);\n+}"}, {"sha": "2b7cf56d9381291f1aed2a4fa13af3dc1a0677c4", "filename": "src/test/ui/feature-gate-tool_attributes.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Fui%2Ffeature-gate-tool_attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Fui%2Ffeature-gate-tool_attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-tool_attributes.rs?ref=e27d20a7ba01a67d7b46ff0edef2fa53f5421035", "patch": "@@ -0,0 +1,15 @@\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+fn main() {\n+    #[rustfmt::skip] //~ ERROR scoped attribute `rustfmt::skip` is experimental\n+    let x = 3\n+        ;\n+}"}, {"sha": "13307bd713309169336a3a553bacc53cec8289a7", "filename": "src/test/ui/feature-gate-tool_attributes.stderr", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Fui%2Ffeature-gate-tool_attributes.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e27d20a7ba01a67d7b46ff0edef2fa53f5421035/src%2Ftest%2Fui%2Ffeature-gate-tool_attributes.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate-tool_attributes.stderr?ref=e27d20a7ba01a67d7b46ff0edef2fa53f5421035", "patch": "@@ -0,0 +1,10 @@\n+error[E0658]: scoped attribute `rustfmt::skip` is experimental (see issue #44690)\n+  --> $DIR/feature-gate-tool_attributes.rs:12:5\n+   |\n+12 |     #[rustfmt::skip] //~ ERROR scoped attribute `rustfmt::skip` is experimental\n+   |     ^^^^^^^^^^^^^^^^\n+   |\n+   = help: add #![feature(tool_attributes)] to the crate attributes to enable\n+\n+error: aborting due to previous error\n+"}]}