{"sha": "54b096a79913ad23b320d1f878046ae31e460061", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU0YjA5NmE3OTkxM2FkMjNiMzIwZDFmODc4MDQ2YWUzMWU0NjAwNjE=", "commit": {"author": {"name": "Kyle Simpson", "email": "kyleandrew.simpson@gmail.com", "date": "2018-08-21T00:16:29Z"}, "committer": {"name": "Kyle Simpson", "email": "kyleandrew.simpson@gmail.com", "date": "2018-08-21T00:16:29Z"}, "message": "Fixes for code review.", "tree": {"sha": "2003f4714a3ad1ef68fecab328d17684ad92718d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2003f4714a3ad1ef68fecab328d17684ad92718d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/54b096a79913ad23b320d1f878046ae31e460061", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/54b096a79913ad23b320d1f878046ae31e460061", "html_url": "https://github.com/rust-lang/rust/commit/54b096a79913ad23b320d1f878046ae31e460061", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/54b096a79913ad23b320d1f878046ae31e460061/comments", "author": {"login": "FelixMcFelix", "id": 6815381, "node_id": "MDQ6VXNlcjY4MTUzODE=", "avatar_url": "https://avatars.githubusercontent.com/u/6815381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FelixMcFelix", "html_url": "https://github.com/FelixMcFelix", "followers_url": "https://api.github.com/users/FelixMcFelix/followers", "following_url": "https://api.github.com/users/FelixMcFelix/following{/other_user}", "gists_url": "https://api.github.com/users/FelixMcFelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/FelixMcFelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FelixMcFelix/subscriptions", "organizations_url": "https://api.github.com/users/FelixMcFelix/orgs", "repos_url": "https://api.github.com/users/FelixMcFelix/repos", "events_url": "https://api.github.com/users/FelixMcFelix/events{/privacy}", "received_events_url": "https://api.github.com/users/FelixMcFelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "FelixMcFelix", "id": 6815381, "node_id": "MDQ6VXNlcjY4MTUzODE=", "avatar_url": "https://avatars.githubusercontent.com/u/6815381?v=4", "gravatar_id": "", "url": "https://api.github.com/users/FelixMcFelix", "html_url": "https://github.com/FelixMcFelix", "followers_url": "https://api.github.com/users/FelixMcFelix/followers", "following_url": "https://api.github.com/users/FelixMcFelix/following{/other_user}", "gists_url": "https://api.github.com/users/FelixMcFelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/FelixMcFelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/FelixMcFelix/subscriptions", "organizations_url": "https://api.github.com/users/FelixMcFelix/orgs", "repos_url": "https://api.github.com/users/FelixMcFelix/repos", "events_url": "https://api.github.com/users/FelixMcFelix/events{/privacy}", "received_events_url": "https://api.github.com/users/FelixMcFelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "81684bf1aafa6e83e796c2581e4c7fe518a90fda", "url": "https://api.github.com/repos/rust-lang/rust/commits/81684bf1aafa6e83e796c2581e4c7fe518a90fda", "html_url": "https://github.com/rust-lang/rust/commit/81684bf1aafa6e83e796c2581e4c7fe518a90fda"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "70fed9af92128367700c4fc9b8a8aebf84436cd7", "filename": "src/librustc/middle/privacy.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/54b096a79913ad23b320d1f878046ae31e460061/src%2Flibrustc%2Fmiddle%2Fprivacy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54b096a79913ad23b320d1f878046ae31e460061/src%2Flibrustc%2Fmiddle%2Fprivacy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fprivacy.rs?ref=54b096a79913ad23b320d1f878046ae31e460061", "patch": "@@ -42,7 +42,6 @@ pub struct AccessLevels<Id = NodeId> {\n \n impl<Id: Hash + Eq> AccessLevels<Id> {\n     pub fn is_reachable(&self, id: Id) -> bool {\n-        // self.map.contains_key(&id)\n         self.map.get(&id) >= Some(&AccessLevel::Reachable)\n     }\n     pub fn is_exported(&self, id: Id) -> bool {"}, {"sha": "306256d53d38c6f4803748d70f1a4944d56f96b7", "filename": "src/test/run-pass/issue-50865-private-impl-trait/auxiliary/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/54b096a79913ad23b320d1f878046ae31e460061/src%2Ftest%2Frun-pass%2Fissue-50865-private-impl-trait%2Fauxiliary%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54b096a79913ad23b320d1f878046ae31e460061/src%2Ftest%2Frun-pass%2Fissue-50865-private-impl-trait%2Fauxiliary%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-50865-private-impl-trait%2Fauxiliary%2Flib.rs?ref=54b096a79913ad23b320d1f878046ae31e460061", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //"}, {"sha": "c58e36c65425f9fceb4c4fc9523fd456fbe28cc7", "filename": "src/test/run-pass/issue-50865-private-impl-trait/main.rs", "status": "modified", "additions": 7, "deletions": 2, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/54b096a79913ad23b320d1f878046ae31e460061/src%2Ftest%2Frun-pass%2Fissue-50865-private-impl-trait%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/54b096a79913ad23b320d1f878046ae31e460061/src%2Ftest%2Frun-pass%2Fissue-50865-private-impl-trait%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fissue-50865-private-impl-trait%2Fmain.rs?ref=54b096a79913ad23b320d1f878046ae31e460061", "patch": "@@ -1,4 +1,4 @@\n-// Copyright 2016 The Rust Project Developers. See the COPYRIGHT\n+// Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n // file at the top-level directory of this distribution and at\n // http://rust-lang.org/COPYRIGHT.\n //\n@@ -11,7 +11,12 @@\n // aux-build:lib.rs\n \n // Regression test for #50865.\n-// FIXME: explain.\n+// When using generics or specifying the type directly, this example\n+// codegens `foo` internally. However, when using a private `impl Trait`\n+// function which references another private item, `foo` (in this case)\n+// wouldn't be codegenned until main.rs used `bar`, as with impl Trait\n+// it is not cast to `fn()` automatically to satisfy e.g.\n+// `fn foo() -> fn() { ... }`. \n \n extern crate lib;\n "}]}