{"sha": "4aaef72fa0ba875fa2592990d1a50ea8b6e688a0", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRhYWVmNzJmYTBiYTg3NWZhMjU5Mjk5MGQxYTUwZWE4YjZlNjg4YTA=", "commit": {"author": {"name": "Philipp Hansch", "email": "dev@phansch.net", "date": "2018-09-14T18:47:50Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2018-09-14T18:47:50Z"}, "message": "Merge pull request #3186 from flip1995/pedantic_filter_map\n\nFix pedantic filter_map warnings", "tree": {"sha": "9a28c2961dd78d887317ac982425ebb575b2dcd4", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9a28c2961dd78d887317ac982425ebb575b2dcd4"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4aaef72fa0ba875fa2592990d1a50ea8b6e688a0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJbnAJWCRBK7hj4Ov3rIwAAdHIIAIANCXyGEA1DtLAmWMlPBor8\n1NI52OBkTCNWoRDznCpD8yObxKIvwS2biW4n7FYPm7eXeaHxapgRcoX31VaaMXvt\nRJBx2CB1TkMRCdLZCRflMrcwsdGBlG9D60XCxnThRTtTkD77Q7FF3qZfBixmw3gr\nfHwA4E3WncLzuhRbpCuI8vvOb+YXgMimEDVgLhR3o/nEAoiXrIlwZN+tAZeAbAAn\nr3H2tqDg/rzuy6JtAq9dgiJ//dFM6UzPmB9TOu1mYjaJqigMrng6u94HEyLmHMlf\njJOii3t5e3msnAXCKAE7qo1+rhPxoTWp9fChbcPiNDNt1Ceo8Ufo8fBhgsA8iGM=\n=otw5\n-----END PGP SIGNATURE-----\n", "payload": "tree 9a28c2961dd78d887317ac982425ebb575b2dcd4\nparent 582ab5a0d07468254c2ceef766479d669dcf2945\nparent f49f133cba27ea20ba11a4f0a0cca8473455cecf\nauthor Philipp Hansch <dev@phansch.net> 1536950870 +0100\ncommitter GitHub <noreply@github.com> 1536950870 +0100\n\nMerge pull request #3186 from flip1995/pedantic_filter_map\n\nFix pedantic filter_map warnings"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4aaef72fa0ba875fa2592990d1a50ea8b6e688a0", "html_url": "https://github.com/rust-lang/rust/commit/4aaef72fa0ba875fa2592990d1a50ea8b6e688a0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4aaef72fa0ba875fa2592990d1a50ea8b6e688a0/comments", "author": {"login": "phansch", "id": 2042399, "node_id": "MDQ6VXNlcjIwNDIzOTk=", "avatar_url": "https://avatars.githubusercontent.com/u/2042399?v=4", "gravatar_id": "", "url": "https://api.github.com/users/phansch", "html_url": "https://github.com/phansch", "followers_url": "https://api.github.com/users/phansch/followers", "following_url": "https://api.github.com/users/phansch/following{/other_user}", "gists_url": "https://api.github.com/users/phansch/gists{/gist_id}", "starred_url": "https://api.github.com/users/phansch/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/phansch/subscriptions", "organizations_url": "https://api.github.com/users/phansch/orgs", "repos_url": "https://api.github.com/users/phansch/repos", "events_url": "https://api.github.com/users/phansch/events{/privacy}", "received_events_url": "https://api.github.com/users/phansch/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "582ab5a0d07468254c2ceef766479d669dcf2945", "url": "https://api.github.com/repos/rust-lang/rust/commits/582ab5a0d07468254c2ceef766479d669dcf2945", "html_url": "https://github.com/rust-lang/rust/commit/582ab5a0d07468254c2ceef766479d669dcf2945"}, {"sha": "f49f133cba27ea20ba11a4f0a0cca8473455cecf", "url": "https://api.github.com/repos/rust-lang/rust/commits/f49f133cba27ea20ba11a4f0a0cca8473455cecf", "html_url": "https://github.com/rust-lang/rust/commit/f49f133cba27ea20ba11a4f0a0cca8473455cecf"}], "stats": {"total": 14, "additions": 10, "deletions": 4}, "files": [{"sha": "9c4a6bfcb8ee641d262facb8c260ab7a02009391", "filename": "clippy_lints/src/inherent_impl.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/4aaef72fa0ba875fa2592990d1a50ea8b6e688a0/clippy_lints%2Fsrc%2Finherent_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4aaef72fa0ba875fa2592990d1a50ea8b6e688a0/clippy_lints%2Fsrc%2Finherent_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Finherent_impl.rs?ref=4aaef72fa0ba875fa2592990d1a50ea8b6e688a0", "patch": "@@ -78,8 +78,11 @@ impl<'a, 'tcx> LateLintPass<'a, 'tcx> for Pass {\n                 let mut impl_spans = impls\n                     .iter()\n                     .filter_map(|impl_def| self.impls.get(impl_def))\n-                    .filter(|(_, generics)| generics.params.len() == 0)\n-                    .map(|(span, _)| span);\n+                    .filter_map(|(span, generics)| if generics.params.len() == 0 {\n+                        Some(span)\n+                    } else {\n+                        None\n+                    });\n                 if let Some(initial_span) = impl_spans.nth(0) {\n                     impl_spans.for_each(|additional_span| {\n                         span_lint_and_then("}, {"sha": "e85f61e343fb29ef2c36c3325c0984437dd4c5ad", "filename": "src/driver.rs", "status": "modified", "additions": 5, "deletions": 2, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/4aaef72fa0ba875fa2592990d1a50ea8b6e688a0/src%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4aaef72fa0ba875fa2592990d1a50ea8b6e688a0/src%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdriver.rs?ref=4aaef72fa0ba875fa2592990d1a50ea8b6e688a0", "patch": "@@ -78,8 +78,11 @@ pub fn main() {\n                 args.extend(\n                     extra_args\n                         .split(\"__CLIPPY_HACKERY__\")\n-                        .filter(|s| !s.is_empty())\n-                        .map(str::to_owned),\n+                        .filter_map(|s| if s.is_empty() {\n+                            None\n+                        } else {\n+                            Some(s.to_string())\n+                        })\n                 );\n             }\n         }"}]}