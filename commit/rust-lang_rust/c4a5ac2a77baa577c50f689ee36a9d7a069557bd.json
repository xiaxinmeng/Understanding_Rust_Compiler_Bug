{"sha": "c4a5ac2a77baa577c50f689ee36a9d7a069557bd", "node_id": "C_kwDOAAsO6NoAKGM0YTVhYzJhNzdiYWE1NzdjNTBmNjg5ZWUzNmE5ZDdhMDY5NTU3YmQ", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-08-15T12:41:06Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume.gomez@huawei.com", "date": "2022-08-15T14:36:07Z"}, "message": "Handle correctly stripped enum variant fields", "tree": {"sha": "a90479dd5760073f65aed9a8a7e6d2515e3f9028", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a90479dd5760073f65aed9a8a7e6d2515e3f9028"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c4a5ac2a77baa577c50f689ee36a9d7a069557bd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c4a5ac2a77baa577c50f689ee36a9d7a069557bd", "html_url": "https://github.com/rust-lang/rust/commit/c4a5ac2a77baa577c50f689ee36a9d7a069557bd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c4a5ac2a77baa577c50f689ee36a9d7a069557bd/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6ce76091c7cef21692a15dce1f0a4c415d245be4", "url": "https://api.github.com/repos/rust-lang/rust/commits/6ce76091c7cef21692a15dce1f0a4c415d245be4", "html_url": "https://github.com/rust-lang/rust/commit/6ce76091c7cef21692a15dce1f0a4c415d245be4"}], "stats": {"total": 10, "additions": 4, "deletions": 6}, "files": [{"sha": "1fedb0144d1d088b6645305a8c71b2c3668c903d", "filename": "src/librustdoc/json/conversions.rs", "status": "modified", "additions": 4, "deletions": 6, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c4a5ac2a77baa577c50f689ee36a9d7a069557bd/src%2Flibrustdoc%2Fjson%2Fconversions.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c4a5ac2a77baa577c50f689ee36a9d7a069557bd/src%2Flibrustdoc%2Fjson%2Fconversions.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fjson%2Fconversions.rs?ref=c4a5ac2a77baa577c50f689ee36a9d7a069557bd", "patch": "@@ -662,12 +662,10 @@ impl FromWithTcx<clean::Variant> for Variant {\n             Tuple(fields) => Variant::Tuple(\n                 fields\n                     .into_iter()\n-                    .map(|f| {\n-                        if let clean::StructFieldItem(ty) = *f.kind {\n-                            ty.into_tcx(tcx)\n-                        } else {\n-                            unreachable!()\n-                        }\n+                    .filter_map(|f| match *f.kind {\n+                        clean::StructFieldItem(ty) => Some(ty.into_tcx(tcx)),\n+                        clean::StrippedItem(_) => None,\n+                        _ => unreachable!(),\n                     })\n                     .collect(),\n             ),"}]}