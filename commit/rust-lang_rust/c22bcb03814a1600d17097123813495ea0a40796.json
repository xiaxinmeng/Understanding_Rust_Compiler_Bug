{"sha": "c22bcb03814a1600d17097123813495ea0a40796", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMyMmJjYjAzODE0YTE2MDBkMTcwOTcxMjM4MTM0OTVlYTBhNDA3OTY=", "commit": {"author": {"name": "aspen", "email": "luxx4x@protonmail.com", "date": "2020-06-30T21:56:31Z"}, "committer": {"name": "aspen", "email": "luxx4x@protonmail.com", "date": "2020-06-30T21:56:31Z"}, "message": "Only set the flag in LLVM builds.", "tree": {"sha": "777c40eb1f3ac2d00a7271269019d6b00a8ca06d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/777c40eb1f3ac2d00a7271269019d6b00a8ca06d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c22bcb03814a1600d17097123813495ea0a40796", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niHUEABYIAB0WIQT9GEgotw7oWiVcdotzKTKWiWXeVgUCXvu1DwAKCRBzKTKWiWXe\nVlgDAP0YivvPQYarQ19vOQgOBSlyuLIvree1zPu21SwwX5byxgEAhXMRL4W+QBrW\nsiXa8DA/D7GPF04wb6JmNwDZvgpXKAU=\n=QpVa\n-----END PGP SIGNATURE-----", "payload": "tree 777c40eb1f3ac2d00a7271269019d6b00a8ca06d\nparent e1913587889b0b1147531c370d9c810b46b5971e\nauthor aspen <luxx4x@protonmail.com> 1593554191 -0400\ncommitter aspen <luxx4x@protonmail.com> 1593554191 -0400\n\nOnly set the flag in LLVM builds.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c22bcb03814a1600d17097123813495ea0a40796", "html_url": "https://github.com/rust-lang/rust/commit/c22bcb03814a1600d17097123813495ea0a40796", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c22bcb03814a1600d17097123813495ea0a40796/comments", "author": null, "committer": null, "parents": [{"sha": "e1913587889b0b1147531c370d9c810b46b5971e", "url": "https://api.github.com/repos/rust-lang/rust/commits/e1913587889b0b1147531c370d9c810b46b5971e", "html_url": "https://github.com/rust-lang/rust/commit/e1913587889b0b1147531c370d9c810b46b5971e"}], "stats": {"total": 8, "additions": 3, "deletions": 5}, "files": [{"sha": "b611af54565ac537e0312ee2742a14089be3aece", "filename": "src/bootstrap/lib.rs", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/c22bcb03814a1600d17097123813495ea0a40796/src%2Fbootstrap%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c22bcb03814a1600d17097123813495ea0a40796/src%2Fbootstrap%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Flib.rs?ref=c22bcb03814a1600d17097123813495ea0a40796", "patch": "@@ -811,11 +811,6 @@ impl Build {\n         if target.contains(\"apple-darwin\") {\n             base.push(\"-stdlib=libc++\".into());\n         }\n-        \n-        // Required for LLVM to properly compile.\n-        if target.contains(\"apple-ios\") {\n-            base.push(\"-miphoneos-version-min=10.0\".into());\n-        }\n \n         // Work around an apparently bad MinGW / GCC optimization,\n         // See: http://lists.llvm.org/pipermail/cfe-dev/2016-December/051980.html"}, {"sha": "c10e8723422a992ab5118641e365735f4f3257d1", "filename": "src/bootstrap/native.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/c22bcb03814a1600d17097123813495ea0a40796/src%2Fbootstrap%2Fnative.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c22bcb03814a1600d17097123813495ea0a40796/src%2Fbootstrap%2Fnative.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fnative.rs?ref=c22bcb03814a1600d17097123813495ea0a40796", "patch": "@@ -420,6 +420,9 @@ fn configure_cmake(\n     if let Some(ref s) = builder.config.llvm_cflags {\n         cflags.push_str(&format!(\" {}\", s));\n     }\n+    if target.contains(\"apple-ios\") {\n+        cflags.push_str(\" -miphoneos-version-min=10.0\");\n+    }\n     cfg.define(\"CMAKE_C_FLAGS\", cflags);\n     let mut cxxflags = builder.cflags(target, GitRepo::Llvm).join(\" \");\n     if builder.config.llvm_static_stdcpp && !target.contains(\"msvc\") && !target.contains(\"netbsd\") {"}]}