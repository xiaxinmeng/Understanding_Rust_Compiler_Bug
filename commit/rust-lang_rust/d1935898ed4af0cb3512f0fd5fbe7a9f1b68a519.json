{"sha": "d1935898ed4af0cb3512f0fd5fbe7a9f1b68a519", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQxOTM1ODk4ZWQ0YWYwY2IzNTEyZjBmZDVmYmU3YTlmMWI2OGE1MTk=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-04-01T23:03:47Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-04-01T23:03:47Z"}, "message": "auto merge of #5662 : catamorphism/rust/docs, r=catamorphism\n\nr? @brson", "tree": {"sha": "4790b66536f31b499d96c34e794b5c7d539d0f0c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4790b66536f31b499d96c34e794b5c7d539d0f0c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d1935898ed4af0cb3512f0fd5fbe7a9f1b68a519", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d1935898ed4af0cb3512f0fd5fbe7a9f1b68a519", "html_url": "https://github.com/rust-lang/rust/commit/d1935898ed4af0cb3512f0fd5fbe7a9f1b68a519", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d1935898ed4af0cb3512f0fd5fbe7a9f1b68a519/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dc60788215afc61b3f5b5e57cf786478218b919e", "url": "https://api.github.com/repos/rust-lang/rust/commits/dc60788215afc61b3f5b5e57cf786478218b919e", "html_url": "https://github.com/rust-lang/rust/commit/dc60788215afc61b3f5b5e57cf786478218b919e"}, {"sha": "ce096455918920012c4fb3dcd48b1688e571b759", "url": "https://api.github.com/repos/rust-lang/rust/commits/ce096455918920012c4fb3dcd48b1688e571b759", "html_url": "https://github.com/rust-lang/rust/commit/ce096455918920012c4fb3dcd48b1688e571b759"}], "stats": {"total": 100, "additions": 99, "deletions": 1}, "files": [{"sha": "c6dba96267679a0d87b959f9c2064b2547c72be2", "filename": "doc/rust.md", "status": "modified", "additions": 99, "deletions": 1, "changes": 100, "blob_url": "https://github.com/rust-lang/rust/blob/d1935898ed4af0cb3512f0fd5fbe7a9f1b68a519/doc%2Frust.md", "raw_url": "https://github.com/rust-lang/rust/raw/d1935898ed4af0cb3512f0fd5fbe7a9f1b68a519/doc%2Frust.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Frust.md?ref=d1935898ed4af0cb3512f0fd5fbe7a9f1b68a519", "patch": "@@ -1420,13 +1420,111 @@ names are effectively reserved. Some significant attributes include:\n \n * The `doc` attribute, for documenting code in-place.\n * The `cfg` attribute, for conditional-compilation by build-configuration.\n+* The `lang` attribute, for custom definitions of traits and functions that are known to the Rust compiler (see [Language items](#language-items)).\n * The `link` attribute, for describing linkage metadata for a crate.\n * The `test` attribute, for marking functions as unit tests.\n-* The `allow`, `warn`, `forbid`, and `deny` attributes, for controling lint checks. Lint checks supported\n+* The `allow`, `warn`, `forbid`, and `deny` attributes, for controlling lint checks. Lint checks supported\n by the compiler can be found via `rustc -W help`.\n \n Other attributes may be added or removed during development of the language.\n \n+### Language items\n+\n+Some primitive Rust operations are defined in Rust code,\n+rather than being implemented directly in C or assembly language.\n+The definitions of these operations have to be easy for the compiler to find.\n+The `lang` attribute makes it possible to declare these operations.\n+For example, the `str` module in the Rust core library defines the string equality function:\n+\n+~~~ {.xfail-test}\n+#[lang=\"str_eq\"]\n+pub fn eq_slice(a: &str, b: &str) -> bool {\n+    // details elided\n+}\n+~~~\n+\n+The name `str_eq` has a special meaning to the Rust compiler,\n+and the presence of this definition means that it will use this definition\n+when generating calls to the string equality function.\n+\n+A complete list of the built-in language items follows:\n+\n+#### Traits\n+\n+`const`\n+  : Cannot be mutated.\n+`copy`\n+  : Can be implicitly copied.\n+`owned`\n+  : Are uniquely owned.\n+`durable`\n+  : Contain borrowed pointers.\n+`drop`\n+  : Have finalizers.\n+`add`\n+  : Elements can be added (for example, integers and floats).\n+`sub`\n+  : Elements can be subtracted.\n+`mul`\n+  : Elements can be multiplied.\n+`div`\n+  : Elements can be divided.\n+`mod`\n+  : Elements have a modulo operation.\n+`neg`\n+  : Elements can be negated arithmetically.\n+`not`\n+  : Elements can be negated logically.\n+`bitxor`\n+  : Elements have an exclusive-or operation.\n+`bitand`\n+  : Elements have a bitwise `and` operation.\n+`bitor`\n+  : Elements have a bitwise `or` operation.\n+`shl`\n+  : Elements have a left shift operation.\n+`shr`\n+  : Elements have a right shift operation.\n+`index`\n+  : Elements can be indexed.\n+`eq`\n+  : Elements can be compared for equality.\n+`ord`\n+  : Elements have a partial ordering.\n+\n+#### Operations\n+\n+`str_eq`\n+  : Compare two strings for equality.\n+`uniq_str_eq`\n+  : Compare two owned strings for equality.\n+`annihilate`\n+  : Destroy a box before freeing it.\n+`log_type`\n+  : Generically print a string representation of any type.\n+`fail_`\n+  : Abort the program with an error.\n+`fail_bounds_check`\n+  : Abort the program with a bounds check error.\n+`exchange_malloc`\n+  : Allocate memory on the exchange heap.\n+`exchange_free`\n+  : Free memory that was allocated on the exchange heap.\n+`malloc`\n+  : Allocate memory on the managed heap.\n+`free`\n+  : Free memory that was allocated on the managed heap.\n+`borrow_as_imm`\n+  : Create an immutable borrowed pointer to a mutable value.\n+`return_to_mut`\n+  : Release a borrowed pointer created with `return_to_mut`\n+`check_not_borrowed`\n+  : Fail if a value has existing borrowed pointers to it.\n+`strdup_uniq`\n+  : Return a new unique string containing a copy of the contents of a unique string.\n+\n+> **Note:** This list is likely to become out of date. We should auto-generate it\n+> from `librustc/middle/lang_items.rs`.\n \n # Statements and expressions\n "}]}