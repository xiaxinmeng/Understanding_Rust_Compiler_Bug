{"sha": "0d7a7b554771daee7b08caa8c49544910948c915", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBkN2E3YjU1NDc3MWRhZWU3YjA4Y2FhOGM0OTU0NDkxMDk0OGM5MTU=", "commit": {"author": {"name": "QuietMisdreavus", "email": "grey@quietmisdreavus.net", "date": "2019-11-06T17:10:21Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2019-11-21T14:38:30Z"}, "message": "move cfg(doc) docs into a separate page", "tree": {"sha": "d64079077f0685b34aeacb25aabff43950986354", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d64079077f0685b34aeacb25aabff43950986354"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0d7a7b554771daee7b08caa8c49544910948c915", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0d7a7b554771daee7b08caa8c49544910948c915", "html_url": "https://github.com/rust-lang/rust/commit/0d7a7b554771daee7b08caa8c49544910948c915", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0d7a7b554771daee7b08caa8c49544910948c915/comments", "author": {"login": "QuietMisdreavus", "id": 5217170, "node_id": "MDQ6VXNlcjUyMTcxNzA=", "avatar_url": "https://avatars.githubusercontent.com/u/5217170?v=4", "gravatar_id": "", "url": "https://api.github.com/users/QuietMisdreavus", "html_url": "https://github.com/QuietMisdreavus", "followers_url": "https://api.github.com/users/QuietMisdreavus/followers", "following_url": "https://api.github.com/users/QuietMisdreavus/following{/other_user}", "gists_url": "https://api.github.com/users/QuietMisdreavus/gists{/gist_id}", "starred_url": "https://api.github.com/users/QuietMisdreavus/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/QuietMisdreavus/subscriptions", "organizations_url": "https://api.github.com/users/QuietMisdreavus/orgs", "repos_url": "https://api.github.com/users/QuietMisdreavus/repos", "events_url": "https://api.github.com/users/QuietMisdreavus/events{/privacy}", "received_events_url": "https://api.github.com/users/QuietMisdreavus/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a056bf9714fca847494ee6aa6025acb1a7fdd852", "url": "https://api.github.com/repos/rust-lang/rust/commits/a056bf9714fca847494ee6aa6025acb1a7fdd852", "html_url": "https://github.com/rust-lang/rust/commit/a056bf9714fca847494ee6aa6025acb1a7fdd852"}], "stats": {"total": 66, "additions": 35, "deletions": 31}, "files": [{"sha": "f982863e67b94b4e060027372809b4e9624077cc", "filename": "src/doc/rustdoc/src/SUMMARY.md", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/0d7a7b554771daee7b08caa8c49544910948c915/src%2Fdoc%2Frustdoc%2Fsrc%2FSUMMARY.md", "raw_url": "https://github.com/rust-lang/rust/raw/0d7a7b554771daee7b08caa8c49544910948c915/src%2Fdoc%2Frustdoc%2Fsrc%2FSUMMARY.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2FSUMMARY.md?ref=0d7a7b554771daee7b08caa8c49544910948c915", "patch": "@@ -7,4 +7,5 @@\n - [Documentation tests](documentation-tests.md)\n - [Lints](lints.md)\n - [Passes](passes.md)\n+- [Advanced Features](advanced-features.md)\n - [Unstable features](unstable-features.md)"}, {"sha": "47bef3cdde1877c2e669305d033072bb101308cb", "filename": "src/doc/rustdoc/src/advanced-features.md", "status": "added", "additions": 34, "deletions": 0, "changes": 34, "blob_url": "https://github.com/rust-lang/rust/blob/0d7a7b554771daee7b08caa8c49544910948c915/src%2Fdoc%2Frustdoc%2Fsrc%2Fadvanced-features.md", "raw_url": "https://github.com/rust-lang/rust/raw/0d7a7b554771daee7b08caa8c49544910948c915/src%2Fdoc%2Frustdoc%2Fsrc%2Fadvanced-features.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2Fadvanced-features.md?ref=0d7a7b554771daee7b08caa8c49544910948c915", "patch": "@@ -0,0 +1,34 @@\n+# Advanced Features\n+\n+The features listed on this page fall outside the rest of the main categories.\n+\n+## `#[cfg(doc)]`: Documenting platform-/feature-specific information\n+\n+For conditional compilation, Rustdoc treats your crate the same way the compiler does: Only things\n+from the host target are available (or from the given `--target` if present), and everything else is\n+\"filtered out\" from the crate. This can cause problems if your crate is providing different things\n+on different targets and you want your documentation to reflect all the available items you\n+provide.\n+\n+If you want to make sure an item is seen by Rustdoc regardless of what platform it's targeting,\n+you can apply `#[cfg(doc)]` to it. Rustdoc sets this whenever it's building documentation, so\n+anything that uses that flag will make it into documentation it generates. To apply this to an item\n+with other `#[cfg]` filters on it, you can write something like `#[cfg(any(windows, doc))]`.\n+This will preserve the item either when built normally on Windows, or when being documented\n+anywhere.\n+\n+Please note that this feature is not passed to doctests.\n+\n+Example:\n+\n+```rust\n+/// Token struct that can only be used on Windows.\n+#[cfg(any(windows, doc))]\n+pub struct WindowsToken;\n+/// Token struct that can only be used on Unix.\n+#[cfg(any(unix, doc))]\n+pub struct UnixToken;\n+```\n+\n+Here, the respective tokens can only be used by dependent crates on their respective platforms, but\n+they will both appear in documentation."}, {"sha": "80ac405eb2f2a72d9d6bbcac0e1b15ce35e027c7", "filename": "src/doc/rustdoc/src/the-doc-attribute.md", "status": "modified", "additions": 0, "deletions": 31, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/0d7a7b554771daee7b08caa8c49544910948c915/src%2Fdoc%2Frustdoc%2Fsrc%2Fthe-doc-attribute.md", "raw_url": "https://github.com/rust-lang/rust/raw/0d7a7b554771daee7b08caa8c49544910948c915/src%2Fdoc%2Frustdoc%2Fsrc%2Fthe-doc-attribute.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Frustdoc%2Fsrc%2Fthe-doc-attribute.md?ref=0d7a7b554771daee7b08caa8c49544910948c915", "patch": "@@ -214,34 +214,3 @@ the `strip-hidden` pass is removed.\n Since primitive types are defined in the compiler, there's no place to attach documentation\n attributes. This attribute is used by the standard library to provide a way to generate\n documentation for primitive types.\n-\n-## `#[cfg(doc)]`: Documenting platform-/feature-specific information\n-\n-For conditional compilation, Rustdoc treats your crate the same way the compiler does: Only things\n-from the host target are available (or from the given `--target` if present), and everything else is\n-\"filtered out\" from the crate. This can cause problems if your crate is providing different things\n-on different targets and you want your documentation to reflect all the available items you\n-provide.\n-\n-If you want to make sure an item is seen by Rustdoc regardless of what platform it's targeting,\n-you can apply `#[cfg(doc)]` to it. Rustdoc sets this whenever it's building documentation, so\n-anything that uses that flag will make it into documentation it generates. To apply this to an item\n-with other `#[cfg]` filters on it, you can write something like `#[cfg(any(windows, doc))]`.\n-This will preserve the item either when built normally on Windows, or when being documented\n-anywhere.\n-\n-Please note that this feature won't be passed when building doctests.\n-\n-Example:\n-\n-```rust\n-/// Token struct that can only be used on Windows.\n-#[cfg(any(windows, doc))]\n-pub struct WindowsToken;\n-/// Token struct that can only be used on Unix.\n-#[cfg(any(unix, doc))]\n-pub struct UnixToken;\n-```\n-\n-Here, the respective tokens can only be used by dependent crates on their respective platforms, but\n-they will both appear in documentation."}]}