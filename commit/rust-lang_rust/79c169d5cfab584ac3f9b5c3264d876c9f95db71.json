{"sha": "79c169d5cfab584ac3f9b5c3264d876c9f95db71", "node_id": "C_kwDOAAsO6NoAKDc5YzE2OWQ1Y2ZhYjU4NGFjM2Y5YjVjMzI2NGQ4NzZjOWY5NWRiNzE", "commit": {"author": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-05-10T11:16:00Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2022-05-10T12:23:32Z"}, "message": "disable one check for now until #96185 is fixed", "tree": {"sha": "a40a02a66ffe64eb4aa1b0a661968ab9ad353861", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a40a02a66ffe64eb4aa1b0a661968ab9ad353861"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/79c169d5cfab584ac3f9b5c3264d876c9f95db71", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/79c169d5cfab584ac3f9b5c3264d876c9f95db71", "html_url": "https://github.com/rust-lang/rust/commit/79c169d5cfab584ac3f9b5c3264d876c9f95db71", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/79c169d5cfab584ac3f9b5c3264d876c9f95db71/comments", "author": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "719655658a5ba40224143b120865865c08a90732", "url": "https://api.github.com/repos/rust-lang/rust/commits/719655658a5ba40224143b120865865c08a90732", "html_url": "https://github.com/rust-lang/rust/commit/719655658a5ba40224143b120865865c08a90732"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "83fb83fd3c16021c8b878c6c3a727a2a1699cb0c", "filename": "compiler/rustc_const_eval/src/interpret/operand.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/79c169d5cfab584ac3f9b5c3264d876c9f95db71/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Foperand.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79c169d5cfab584ac3f9b5c3264d876c9f95db71/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Foperand.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Foperand.rs?ref=79c169d5cfab584ac3f9b5c3264d876c9f95db71", "patch": "@@ -284,9 +284,10 @@ impl<'mir, 'tcx: 'mir, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n             Abi::Scalar(s) if force => Some(s.primitive()),\n             _ => None,\n         };\n-        if let Some(s) = scalar_layout {\n-            let size = s.size(self);\n-            assert_eq!(size, mplace.layout.size, \"abi::Scalar size does not match layout size\");\n+        if let Some(_s) = scalar_layout {\n+            //FIXME(#96185): let size = s.size(self);\n+            //FIXME(#96185): assert_eq!(size, mplace.layout.size, \"abi::Scalar size does not match layout size\");\n+            let size = mplace.layout.size; //FIXME(#96185): remove this line\n             let scalar = alloc.read_scalar(alloc_range(Size::ZERO, size))?;\n             return Ok(Some(ImmTy { imm: scalar.into(), layout: mplace.layout }));\n         }"}, {"sha": "1a378de139b27619c2a37ca5f253774a6e069ad7", "filename": "compiler/rustc_const_eval/src/interpret/place.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/79c169d5cfab584ac3f9b5c3264d876c9f95db71/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fplace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/79c169d5cfab584ac3f9b5c3264d876c9f95db71/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fplace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_const_eval%2Fsrc%2Finterpret%2Fplace.rs?ref=79c169d5cfab584ac3f9b5c3264d876c9f95db71", "patch": "@@ -759,7 +759,7 @@ where\n                     )\n                 };\n                 let size = s.size(&tcx);\n-                assert_eq!(dest.layout.size, size, \"abi::Scalar size does not match layout size\");\n+                //FIXME(#96185): assert_eq!(dest.layout.size, size, \"abi::Scalar size does not match layout size\");\n                 alloc.write_scalar(alloc_range(Size::ZERO, size), scalar)\n             }\n             Immediate::ScalarPair(a_val, b_val) => {"}]}