{"sha": "7d774c4214e94136eca45df1c81f2baeab15e91e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdkNzc0YzQyMTRlOTQxMzZlY2E0NWRmMWM4MWYyYmFlYWIxNWU5MWU=", "commit": {"author": {"name": "Michael Woerister", "email": "michaelwoerister@posteo", "date": "2017-10-30T17:20:07Z"}, "committer": {"name": "Michael Woerister", "email": "michaelwoerister@posteo", "date": "2017-11-07T07:54:38Z"}, "message": "Update mir-opt tests.", "tree": {"sha": "4b18415c22ca2ee6d963504e50c05879c6bc69fb", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4b18415c22ca2ee6d963504e50c05879c6bc69fb"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7d774c4214e94136eca45df1c81f2baeab15e91e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7d774c4214e94136eca45df1c81f2baeab15e91e", "html_url": "https://github.com/rust-lang/rust/commit/7d774c4214e94136eca45df1c81f2baeab15e91e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7d774c4214e94136eca45df1c81f2baeab15e91e/comments", "author": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "committer": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "55c3b8ec66b0dddc49627a426b687c450ae86da5", "url": "https://api.github.com/repos/rust-lang/rust/commits/55c3b8ec66b0dddc49627a426b687c450ae86da5", "html_url": "https://github.com/rust-lang/rust/commit/55c3b8ec66b0dddc49627a426b687c450ae86da5"}], "stats": {"total": 25, "additions": 20, "deletions": 5}, "files": [{"sha": "69486f4613722685d977991a80ebdd5122b3b5a9", "filename": "src/test/mir-opt/copy_propagation.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/7d774c4214e94136eca45df1c81f2baeab15e91e/src%2Ftest%2Fmir-opt%2Fcopy_propagation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d774c4214e94136eca45df1c81f2baeab15e91e/src%2Ftest%2Fmir-opt%2Fcopy_propagation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fcopy_propagation.rs?ref=7d774c4214e94136eca45df1c81f2baeab15e91e", "patch": "@@ -13,7 +13,10 @@ fn test(x: u32) -> u32 {\n     y\n }\n \n-fn main() { }\n+fn main() {\n+    // Make sure the function actually gets instantiated.\n+    test(0);\n+}\n \n // END RUST SOURCE\n // START rustc.node4.CopyPropagation.before.mir"}, {"sha": "f4db00dab59dc14f1da97497b7f5ff60540ed5eb", "filename": "src/test/mir-opt/deaggregator_test.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/7d774c4214e94136eca45df1c81f2baeab15e91e/src%2Ftest%2Fmir-opt%2Fdeaggregator_test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d774c4214e94136eca45df1c81f2baeab15e91e/src%2Ftest%2Fmir-opt%2Fdeaggregator_test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdeaggregator_test.rs?ref=7d774c4214e94136eca45df1c81f2baeab15e91e", "patch": "@@ -18,7 +18,10 @@ fn bar(a: usize) -> Baz {\n     Baz { x: a, y: 0.0, z: false }\n }\n \n-fn main() {}\n+fn main() {\n+    // Make sure the function actually gets instantiated.\n+    bar(0);\n+}\n \n // END RUST SOURCE\n // START rustc.node13.Deaggregator.before.mir"}, {"sha": "8e7207af0c6871321f8fe1b29dd2c81519acbd63", "filename": "src/test/mir-opt/deaggregator_test_enum_2.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/7d774c4214e94136eca45df1c81f2baeab15e91e/src%2Ftest%2Fmir-opt%2Fdeaggregator_test_enum_2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d774c4214e94136eca45df1c81f2baeab15e91e/src%2Ftest%2Fmir-opt%2Fdeaggregator_test_enum_2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdeaggregator_test_enum_2.rs?ref=7d774c4214e94136eca45df1c81f2baeab15e91e", "patch": "@@ -23,7 +23,10 @@ fn test1(x: bool, y: i32) -> Foo {\n     }\n }\n \n-fn main() {}\n+fn main() {\n+    // Make sure the function actually gets instantiated.\n+    test1(false, 0);\n+}\n \n // END RUST SOURCE\n // START rustc.node12.Deaggregator.before.mir"}, {"sha": "bc06ab67eaa27c4a774e805c8e6c984a40ecb05a", "filename": "src/test/mir-opt/deaggregator_test_multiple.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/7d774c4214e94136eca45df1c81f2baeab15e91e/src%2Ftest%2Fmir-opt%2Fdeaggregator_test_multiple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d774c4214e94136eca45df1c81f2baeab15e91e/src%2Ftest%2Fmir-opt%2Fdeaggregator_test_multiple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fdeaggregator_test_multiple.rs?ref=7d774c4214e94136eca45df1c81f2baeab15e91e", "patch": "@@ -19,7 +19,10 @@ fn test(x: i32) -> [Foo; 2] {\n     [Foo::A(x), Foo::A(x)]\n }\n \n-fn main() { }\n+fn main() {\n+    // Make sure the function actually gets instantiated.\n+    test(0);\n+}\n \n // END RUST SOURCE\n // START rustc.node10.Deaggregator.before.mir"}, {"sha": "de789e07d9f39a0e6b606fb659a55762fdbbad2e", "filename": "src/test/mir-opt/issue-41110.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/7d774c4214e94136eca45df1c81f2baeab15e91e/src%2Ftest%2Fmir-opt%2Fissue-41110.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7d774c4214e94136eca45df1c81f2baeab15e91e/src%2Ftest%2Fmir-opt%2Fissue-41110.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fmir-opt%2Fissue-41110.rs?ref=7d774c4214e94136eca45df1c81f2baeab15e91e", "patch": "@@ -14,7 +14,10 @@ fn main() {\n     let x = S.other(S.id());\n }\n \n-pub fn test() {\n+// no_mangle and extern C to make sure this gets instantiated even in an\n+// executable.\n+#[no_mangle]\n+pub extern \"C\" fn test() {\n     let u = S;\n     let mut v = S;\n     drop(v);"}]}