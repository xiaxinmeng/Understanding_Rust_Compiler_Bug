{"sha": "40f74341f3ba2cee2afedb31014ee14432d700cd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQwZjc0MzQxZjNiYTJjZWUyYWZlZGIzMTAxNGVlMTQ0MzJkNzAwY2Q=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2013-07-17T00:42:28Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2013-07-17T00:44:57Z"}, "message": "test: new codegen tests, rename hello.", "tree": {"sha": "ef23525a041d4adc8f8898ffd9e375962cee7776", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ef23525a041d4adc8f8898ffd9e375962cee7776"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/40f74341f3ba2cee2afedb31014ee14432d700cd", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/40f74341f3ba2cee2afedb31014ee14432d700cd", "html_url": "https://github.com/rust-lang/rust/commit/40f74341f3ba2cee2afedb31014ee14432d700cd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/40f74341f3ba2cee2afedb31014ee14432d700cd/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "53e934c2ab773eaf61da331893d176aa3e62230b", "url": "https://api.github.com/repos/rust-lang/rust/commits/53e934c2ab773eaf61da331893d176aa3e62230b", "html_url": "https://github.com/rust-lang/rust/commit/53e934c2ab773eaf61da331893d176aa3e62230b"}], "stats": {"total": 65, "additions": 65, "deletions": 0}, "files": [{"sha": "7eca21b13d70b693ef97bff8649dbd6c8c76ab7a", "filename": "src/test/codegen/iterate-over-array.cc", "status": "added", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fiterate-over-array.cc", "raw_url": "https://github.com/rust-lang/rust/raw/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fiterate-over-array.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fiterate-over-array.cc?ref=40f74341f3ba2cee2afedb31014ee14432d700cd", "patch": "@@ -0,0 +1,17 @@\n+#include <stdlib.h>\n+#include <assert.h>\n+\n+struct slice {\n+  int const *p;\n+  size_t len;\n+};\n+\n+extern \"C\"\n+size_t test(slice s) {\n+  size_t y = 0;\n+  for (int i = 0; i < s.len; ++i) {\n+\tassert(i < s.len);\n+\ty += s.p[i];\n+  }\n+  return y;\n+}"}, {"sha": "cf54e6eafbaf1c288c13601f75098a506c7a6457", "filename": "src/test/codegen/iterate-over-array.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fiterate-over-array.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fiterate-over-array.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fiterate-over-array.rs?ref=40f74341f3ba2cee2afedb31014ee14432d700cd", "patch": "@@ -0,0 +1,10 @@\n+#[no_mangle]\n+fn test(x: &[int]) -> int {\n+    let mut y = 0;\n+    let mut i = 0;\n+    while (i < x.len()) {\n+        y += x[i];\n+        i += 1;\n+    }\n+    y\n+}"}, {"sha": "91ed882f68a9f57096314ca6be12ae3a42df18d6", "filename": "src/test/codegen/scalar-function-call.cc", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fscalar-function-call.cc", "raw_url": "https://github.com/rust-lang/rust/raw/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fscalar-function-call.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fscalar-function-call.cc?ref=40f74341f3ba2cee2afedb31014ee14432d700cd", "patch": "@@ -0,0 +1,10 @@\n+#include <stdlib.h>\n+\n+size_t foo(size_t x) {\n+    return x * x;\n+}\n+\n+extern \"C\"\n+void test() {\n+    size_t x = foo(10);\n+}"}, {"sha": "7e4a566749ba666cee21b116022a35b0ce5e87f1", "filename": "src/test/codegen/scalar-function-call.rs", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fscalar-function-call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fscalar-function-call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fscalar-function-call.rs?ref=40f74341f3ba2cee2afedb31014ee14432d700cd", "patch": "@@ -0,0 +1,8 @@\n+fn foo(x: int) -> int {\n+    x * x\n+}\n+\n+#[no_mangle]\n+fn test() {\n+    let x = foo(10);\n+}"}, {"sha": "87bc5bf852eb4a36abf111d315bc7e8386572682", "filename": "src/test/codegen/small-dense-int-switch.cc", "status": "added", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.cc", "raw_url": "https://github.com/rust-lang/rust/raw/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.cc?ref=40f74341f3ba2cee2afedb31014ee14432d700cd", "patch": "@@ -0,0 +1,11 @@\n+#include <stdlib.h>\n+\n+extern \"C\"\n+size_t test(size_t x, size_t y) {\n+  switch (x) {\n+  case 1: return y;\n+  case 2: return y*2;\n+  case 4: return y*3;\n+  default: return 11;\n+  }\n+}"}, {"sha": "6840dc7411b34b6a6a858cc70a8a31211bcd643e", "filename": "src/test/codegen/small-dense-int-switch.rs", "status": "added", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fsmall-dense-int-switch.rs?ref=40f74341f3ba2cee2afedb31014ee14432d700cd", "patch": "@@ -0,0 +1,9 @@\n+#[no_mangle]\n+fn test(x: int, y: int) -> int {\n+    match x {\n+        1 => y,\n+        2 => y*2,\n+        4 => y*3,\n+        _ => 11\n+    }\n+}"}, {"sha": "01eae9b16bb6faf9c1cc84d8362726bcb5949cff", "filename": "src/test/codegen/stack-alloc-string-slice.cc", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.cc", "raw_url": "https://github.com/rust-lang/rust/raw/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.cc", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.cc?ref=40f74341f3ba2cee2afedb31014ee14432d700cd", "previous_filename": "src/test/codegen/hello.cc"}, {"sha": "e7cd84f63f2b09d4c482cd02e1d2ada81def7401", "filename": "src/test/codegen/stack-alloc-string-slice.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40f74341f3ba2cee2afedb31014ee14432d700cd/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcodegen%2Fstack-alloc-string-slice.rs?ref=40f74341f3ba2cee2afedb31014ee14432d700cd", "previous_filename": "src/test/codegen/hello.rs"}]}