{"sha": "0f5805541be90a2789b0bc34c5d829042ac3b0ad", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBmNTgwNTU0MWJlOTBhMjc4OWIwYmMzNGM1ZDgyOTA0MmFjM2IwYWQ=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-07-30T16:29:24Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-07-30T16:29:24Z"}, "message": "Merge #5606\n\n5606: Finalize impl Grammar r=matklad a=matklad\n\n\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "27effc491f45f7bd907cb0b24a5b0d907298d169", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/27effc491f45f7bd907cb0b24a5b0d907298d169"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0f5805541be90a2789b0bc34c5d829042ac3b0ad", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfIvVkCRBK7hj4Ov3rIwAAdHIIAEDxyT8fC2atUfdJsIA5AYuK\npgKh69UkdX+VyQbXofSIHXbOjaIdyFehe/QrhtAyxU2YEayriaOVyNDF9han5KR1\njxNL+8kFnB51Z6oDMkjTRfsrR7kjxaLqneLeDeQy6QzZoBfTbs0r9o/cLjmD+ox3\nE9jn94KrkZCAj9RvfEKE6Yt+HYyYt0Yu6YVCgq0w9uCUxH+u+iXqUJRntRviANRt\n7G0E8QJon0WF2Hgjb1bB2phVWF0rPWl4oBnNaeJWjnlF5L+B+X+5hApweQif7+ex\ng0B9vB34GhXzQXECgEvaSpXSQFisJCB7PGFKCSTj/xTqdvywMhO0dPIAaRlBV7c=\n=/pC9\n-----END PGP SIGNATURE-----\n", "payload": "tree 27effc491f45f7bd907cb0b24a5b0d907298d169\nparent c8e2d67dd4462904f2803d64c651f4630ee595f4\nparent c5798c4d75aa807aec47208a49101bdec3affcca\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1596126564 +0000\ncommitter GitHub <noreply@github.com> 1596126564 +0000\n\nMerge #5606\n\n5606: Finalize impl Grammar r=matklad a=matklad\n\n\n\nbors r+\n\ud83e\udd16\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0f5805541be90a2789b0bc34c5d829042ac3b0ad", "html_url": "https://github.com/rust-lang/rust/commit/0f5805541be90a2789b0bc34c5d829042ac3b0ad", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0f5805541be90a2789b0bc34c5d829042ac3b0ad/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c8e2d67dd4462904f2803d64c651f4630ee595f4", "url": "https://api.github.com/repos/rust-lang/rust/commits/c8e2d67dd4462904f2803d64c651f4630ee595f4", "html_url": "https://github.com/rust-lang/rust/commit/c8e2d67dd4462904f2803d64c651f4630ee595f4"}, {"sha": "c5798c4d75aa807aec47208a49101bdec3affcca", "url": "https://api.github.com/repos/rust-lang/rust/commits/c5798c4d75aa807aec47208a49101bdec3affcca", "html_url": "https://github.com/rust-lang/rust/commit/c5798c4d75aa807aec47208a49101bdec3affcca"}], "stats": {"total": 392, "additions": 199, "deletions": 193}, "files": [{"sha": "5ea4f9f5ba0a3defb7501e954195d36745361449", "filename": "crates/ra_assists/src/ast_transform.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fast_transform.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fast_transform.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fast_transform.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -41,7 +41,7 @@ impl<'a> SubstituteTypeParams<'a> {\n         source_scope: &'a SemanticsScope<'a>,\n         // FIXME: there's implicit invariant that `trait_` and  `source_scope` match...\n         trait_: hir::Trait,\n-        impl_def: ast::ImplDef,\n+        impl_def: ast::Impl,\n     ) -> SubstituteTypeParams<'a> {\n         let substs = get_syntactic_substs(impl_def).unwrap_or_default();\n         let generic_def: hir::GenericDef = trait_.into();\n@@ -80,7 +80,7 @@ impl<'a> SubstituteTypeParams<'a> {\n \n         // FIXME: It would probably be nicer if we could get this via HIR (i.e. get the\n         // trait ref, and then go from the types in the substs back to the syntax)\n-        fn get_syntactic_substs(impl_def: ast::ImplDef) -> Option<Vec<ast::TypeRef>> {\n+        fn get_syntactic_substs(impl_def: ast::Impl) -> Option<Vec<ast::TypeRef>> {\n             let target_trait = impl_def.target_trait()?;\n             let path_type = match target_trait {\n                 ast::TypeRef::PathType(path) => path,"}, {"sha": "95a750aeec2fbf3feeb5c3eb6b6c4250baed19a6", "filename": "crates/ra_assists/src/handlers/add_missing_impl_members.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fadd_missing_impl_members.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fadd_missing_impl_members.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fadd_missing_impl_members.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -111,7 +111,7 @@ fn add_missing_impl_members_inner(\n     label: &'static str,\n ) -> Option<()> {\n     let _p = ra_prof::profile(\"add_missing_impl_members_inner\");\n-    let impl_def = ctx.find_node_at_offset::<ast::ImplDef>()?;\n+    let impl_def = ctx.find_node_at_offset::<ast::Impl>()?;\n     let impl_item_list = impl_def.assoc_item_list()?;\n \n     let trait_ = resolve_target_trait(&ctx.sema, &impl_def)?;"}, {"sha": "724daa93f41b75b5d12330f123336b02d3b14c37", "filename": "crates/ra_assists/src/handlers/change_visibility.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fchange_visibility.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fchange_visibility.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fchange_visibility.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,7 +1,7 @@\n use ra_syntax::{\n     ast::{self, NameOwner, VisibilityOwner},\n     AstNode,\n-    SyntaxKind::{CONST, ENUM, FN, MODULE, STATIC, STRUCT, TRAIT_DEF, VISIBILITY},\n+    SyntaxKind::{CONST, ENUM, FN, MODULE, STATIC, STRUCT, TRAIT, VISIBILITY},\n     T,\n };\n use test_utils::mark;\n@@ -36,7 +36,7 @@ fn add_vis(acc: &mut Assists, ctx: &AssistContext) -> Option<()> {\n \n     let (offset, target) = if let Some(keyword) = item_keyword {\n         let parent = keyword.parent();\n-        let def_kws = vec![CONST, STATIC, FN, MODULE, STRUCT, ENUM, TRAIT_DEF];\n+        let def_kws = vec![CONST, STATIC, FN, MODULE, STRUCT, ENUM, TRAIT];\n         // Parent is not a definition, can't add visibility\n         if !def_kws.iter().any(|&def_kw| def_kw == parent.kind()) {\n             return None;"}, {"sha": "3c67749eec59d2b63765fa289ec662af1a1d0187", "filename": "crates/ra_assists/src/handlers/generate_new.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fgenerate_new.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fgenerate_new.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fgenerate_new.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -122,15 +122,15 @@ fn generate_impl_text(strukt: &ast::Struct, code: &str) -> String {\n //\n // FIXME: change the new fn checking to a more semantic approach when that's more\n // viable (e.g. we process proc macros, etc)\n-fn find_struct_impl(ctx: &AssistContext, strukt: &ast::Struct) -> Option<Option<ast::ImplDef>> {\n+fn find_struct_impl(ctx: &AssistContext, strukt: &ast::Struct) -> Option<Option<ast::Impl>> {\n     let db = ctx.db();\n     let module = strukt.syntax().ancestors().find(|node| {\n         ast::Module::can_cast(node.kind()) || ast::SourceFile::can_cast(node.kind())\n     })?;\n \n     let struct_def = ctx.sema.to_def(strukt)?;\n \n-    let block = module.descendants().filter_map(ast::ImplDef::cast).find_map(|impl_blk| {\n+    let block = module.descendants().filter_map(ast::Impl::cast).find_map(|impl_blk| {\n         let blk = ctx.sema.to_def(&impl_blk)?;\n \n         // FIXME: handle e.g. `struct S<T>; impl<U> S<U> {}`\n@@ -158,7 +158,7 @@ fn find_struct_impl(ctx: &AssistContext, strukt: &ast::Struct) -> Option<Option<\n     Some(block)\n }\n \n-fn has_new_fn(imp: &ast::ImplDef) -> bool {\n+fn has_new_fn(imp: &ast::Impl) -> bool {\n     if let Some(il) = imp.assoc_item_list() {\n         for item in il.assoc_items() {\n             if let ast::AssocItem::Fn(f) = item {"}, {"sha": "92a1a5925c70ee9d28efae6758aa62359b3eb1df", "filename": "crates/ra_assists/src/handlers/introduce_named_lifetime.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fintroduce_named_lifetime.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fintroduce_named_lifetime.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fintroduce_named_lifetime.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -40,7 +40,7 @@ pub(crate) fn introduce_named_lifetime(acc: &mut Assists, ctx: &AssistContext) -\n         .filter(|lifetime| lifetime.text() == \"'_\")?;\n     if let Some(fn_def) = lifetime_token.ancestors().find_map(ast::Fn::cast) {\n         generate_fn_def_assist(acc, &fn_def, lifetime_token.text_range())\n-    } else if let Some(impl_def) = lifetime_token.ancestors().find_map(ast::ImplDef::cast) {\n+    } else if let Some(impl_def) = lifetime_token.ancestors().find_map(ast::Impl::cast) {\n         generate_impl_def_assist(acc, &impl_def, lifetime_token.text_range())\n     } else {\n         None\n@@ -93,7 +93,7 @@ fn generate_fn_def_assist(\n /// Generate the assist for the impl def case\n fn generate_impl_def_assist(\n     acc: &mut Assists,\n-    impl_def: &ast::ImplDef,\n+    impl_def: &ast::Impl,\n     lifetime_loc: TextRange,\n ) -> Option<()> {\n     let new_lifetime_param = generate_unique_lifetime_param_name(&impl_def.generic_param_list())?;"}, {"sha": "6d394443ebf4d51d0319feb55f8135fddcc18731", "filename": "crates/ra_assists/src/handlers/move_bounds.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fmove_bounds.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fmove_bounds.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Fhandlers%2Fmove_bounds.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -38,8 +38,8 @@ pub(crate) fn move_bounds_to_where_clause(acc: &mut Assists, ctx: &AssistContext\n     let anchor = match_ast! {\n         match parent {\n             ast::Fn(it) => it.body()?.syntax().clone().into(),\n-            ast::TraitDef(it) => it.assoc_item_list()?.syntax().clone().into(),\n-            ast::ImplDef(it) => it.assoc_item_list()?.syntax().clone().into(),\n+            ast::Trait(it) => it.assoc_item_list()?.syntax().clone().into(),\n+            ast::Impl(it) => it.assoc_item_list()?.syntax().clone().into(),\n             ast::Enum(it) => it.variant_list()?.syntax().clone().into(),\n             ast::Struct(it) => {\n                 it.syntax().children_with_tokens()"}, {"sha": "bb16ebd4e8fbe14c3baea454aad97935801bcdbc", "filename": "crates/ra_assists/src/utils.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_assists%2Fsrc%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_assists%2Fsrc%2Futils.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -56,7 +56,7 @@ pub(crate) fn render_snippet(_cap: SnippetCap, node: &SyntaxNode, cursor: Cursor\n \n pub fn get_missing_assoc_items(\n     sema: &Semantics<RootDatabase>,\n-    impl_def: &ast::ImplDef,\n+    impl_def: &ast::Impl,\n ) -> Vec<hir::AssocItem> {\n     // Names must be unique between constants and functions. However, type aliases\n     // may share the same name as a function or constant.\n@@ -109,7 +109,7 @@ pub fn get_missing_assoc_items(\n \n pub(crate) fn resolve_target_trait(\n     sema: &Semantics<RootDatabase>,\n-    impl_def: &ast::ImplDef,\n+    impl_def: &ast::Impl,\n ) -> Option<hir::Trait> {\n     let ast_path = impl_def\n         .target_trait()"}, {"sha": "1c691d961967a08b0bc9012d3f46dff22ecc66b5", "filename": "crates/ra_hir/src/has_source.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir%2Fsrc%2Fhas_source.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir%2Fsrc%2Fhas_source.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fhas_source.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -99,8 +99,8 @@ impl HasSource for Static {\n     }\n }\n impl HasSource for Trait {\n-    type Ast = ast::TraitDef;\n-    fn source(self, db: &dyn HirDatabase) -> InFile<ast::TraitDef> {\n+    type Ast = ast::Trait;\n+    fn source(self, db: &dyn HirDatabase) -> InFile<ast::Trait> {\n         self.id.lookup(db.upcast()).source(db.upcast())\n     }\n }\n@@ -120,14 +120,14 @@ impl HasSource for MacroDef {\n     }\n }\n impl HasSource for ImplDef {\n-    type Ast = ast::ImplDef;\n-    fn source(self, db: &dyn HirDatabase) -> InFile<ast::ImplDef> {\n+    type Ast = ast::Impl;\n+    fn source(self, db: &dyn HirDatabase) -> InFile<ast::Impl> {\n         self.id.lookup(db.upcast()).source(db.upcast())\n     }\n }\n \n impl HasSource for TypeParam {\n-    type Ast = Either<ast::TraitDef, ast::TypeParam>;\n+    type Ast = Either<ast::Trait, ast::TypeParam>;\n     fn source(self, db: &dyn HirDatabase) -> InFile<Self::Ast> {\n         let child_source = self.id.parent.child_source(db.upcast());\n         child_source.map(|it| it[self.id.local_id].clone())"}, {"sha": "6f3b3dc9ad7c6b45147ce6c16eca5949a9471235", "filename": "crates/ra_hir/src/semantics.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir%2Fsrc%2Fsemantics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir%2Fsrc%2Fsemantics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fsemantics.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -583,8 +583,8 @@ to_def_impls![\n     (crate::Struct, ast::Struct, struct_to_def),\n     (crate::Enum, ast::Enum, enum_to_def),\n     (crate::Union, ast::Union, union_to_def),\n-    (crate::Trait, ast::TraitDef, trait_to_def),\n-    (crate::ImplDef, ast::ImplDef, impl_to_def),\n+    (crate::Trait, ast::Trait, trait_to_def),\n+    (crate::ImplDef, ast::Impl, impl_to_def),\n     (crate::TypeAlias, ast::TypeAlias, type_alias_to_def),\n     (crate::Const, ast::Const, const_to_def),\n     (crate::Static, ast::Static, static_to_def),"}, {"sha": "d1994e2e7804ec0d987f3ea7a806c01760fdd563", "filename": "crates/ra_hir/src/semantics/source_to_def.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir%2Fsrc%2Fsemantics%2Fsource_to_def.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir%2Fsrc%2Fsemantics%2Fsource_to_def.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fsemantics%2Fsource_to_def.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -65,10 +65,10 @@ impl SourceToDefCtx<'_, '_> {\n         Some(ModuleId { krate: parent_module.krate, local_id: child_id })\n     }\n \n-    pub(super) fn trait_to_def(&mut self, src: InFile<ast::TraitDef>) -> Option<TraitId> {\n+    pub(super) fn trait_to_def(&mut self, src: InFile<ast::Trait>) -> Option<TraitId> {\n         self.to_def(src, keys::TRAIT)\n     }\n-    pub(super) fn impl_to_def(&mut self, src: InFile<ast::ImplDef>) -> Option<ImplId> {\n+    pub(super) fn impl_to_def(&mut self, src: InFile<ast::Impl>) -> Option<ImplId> {\n         self.to_def(src, keys::IMPL)\n     }\n     pub(super) fn fn_to_def(&mut self, src: InFile<ast::Fn>) -> Option<FunctionId> {\n@@ -154,11 +154,11 @@ impl SourceToDefCtx<'_, '_> {\n                         let def = self.module_to_def(container.with_value(it))?;\n                         def.into()\n                     },\n-                    ast::TraitDef(it) => {\n+                    ast::Trait(it) => {\n                         let def = self.trait_to_def(container.with_value(it))?;\n                         def.into()\n                     },\n-                    ast::ImplDef(it) => {\n+                    ast::Impl(it) => {\n                         let def = self.impl_to_def(container.with_value(it))?;\n                         def.into()\n                     },\n@@ -207,9 +207,9 @@ impl SourceToDefCtx<'_, '_> {\n                     ast::Fn(it) => self.fn_to_def(container.with_value(it))?.into(),\n                     ast::Struct(it) => self.struct_to_def(container.with_value(it))?.into(),\n                     ast::Enum(it) => self.enum_to_def(container.with_value(it))?.into(),\n-                    ast::TraitDef(it) => self.trait_to_def(container.with_value(it))?.into(),\n+                    ast::Trait(it) => self.trait_to_def(container.with_value(it))?.into(),\n                     ast::TypeAlias(it) => self.type_alias_to_def(container.with_value(it))?.into(),\n-                    ast::ImplDef(it) => self.impl_to_def(container.with_value(it))?.into(),\n+                    ast::Impl(it) => self.impl_to_def(container.with_value(it))?.into(),\n                     _ => continue,\n                 }\n             };"}, {"sha": "78f6da5b8b1883bf89b12c6daeb78caed09bdb8f", "filename": "crates/ra_hir_def/src/body/lower.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fbody%2Flower.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fbody%2Flower.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_def%2Fsrc%2Fbody%2Flower.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -664,12 +664,12 @@ impl ExprCollector<'_> {\n                         let id = self.find_inner_item(&def)?;\n                         (UnionLoc { container, id }.intern(self.db).into(), def.name())\n                     }\n-                    ast::Item::TraitDef(def) => {\n+                    ast::Item::Trait(def) => {\n                         let id = self.find_inner_item(&def)?;\n                         (TraitLoc { container, id }.intern(self.db).into(), def.name())\n                     }\n                     ast::Item::ExternBlock(_) => return None, // FIXME: collect from extern blocks\n-                    ast::Item::ImplDef(_)\n+                    ast::Item::Impl(_)\n                     | ast::Item::Use(_)\n                     | ast::Item::ExternCrate(_)\n                     | ast::Item::Module(_)"}, {"sha": "8ea61fcf237d4539e991ddddc81ffbe9d7474cfa", "filename": "crates/ra_hir_def/src/generics.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fgenerics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fgenerics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_def%2Fsrc%2Fgenerics.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -66,7 +66,7 @@ pub enum WherePredicateTarget {\n     TypeParam(LocalTypeParamId),\n }\n \n-type SourceMap = ArenaMap<LocalTypeParamId, Either<ast::TraitDef, ast::TypeParam>>;\n+type SourceMap = ArenaMap<LocalTypeParamId, Either<ast::Trait, ast::TypeParam>>;\n \n impl GenericParams {\n     pub(crate) fn generic_params_query(\n@@ -317,7 +317,7 @@ impl GenericParams {\n \n impl HasChildSource for GenericDefId {\n     type ChildId = LocalTypeParamId;\n-    type Value = Either<ast::TraitDef, ast::TypeParam>;\n+    type Value = Either<ast::Trait, ast::TypeParam>;\n     fn child_source(&self, db: &dyn DefDatabase) -> InFile<SourceMap> {\n         let (_, sm) = GenericParams::new(db, *self);\n         sm"}, {"sha": "63b56405c52a19e2ab5c87813357cd38390a4990", "filename": "crates/ra_hir_def/src/item_tree.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fitem_tree.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fitem_tree.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_def%2Fsrc%2Fitem_tree.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -419,8 +419,8 @@ mod_items! {\n     Enum in enums -> ast::Enum,\n     Const in consts -> ast::Const,\n     Static in statics -> ast::Static,\n-    Trait in traits -> ast::TraitDef,\n-    Impl in impls -> ast::ImplDef,\n+    Trait in traits -> ast::Trait,\n+    Impl in impls -> ast::Impl,\n     TypeAlias in type_aliases -> ast::TypeAlias,\n     Mod in mods -> ast::Module,\n     MacroCall in macro_calls -> ast::MacroCall,\n@@ -571,7 +571,7 @@ pub struct Trait {\n     pub generic_params: GenericParamsId,\n     pub auto: bool,\n     pub items: Box<[AssocItem]>,\n-    pub ast_id: FileAstId<ast::TraitDef>,\n+    pub ast_id: FileAstId<ast::Trait>,\n }\n \n #[derive(Debug, Clone, Eq, PartialEq)]\n@@ -581,7 +581,7 @@ pub struct Impl {\n     pub target_type: TypeRef,\n     pub is_negative: bool,\n     pub items: Box<[AssocItem]>,\n-    pub ast_id: FileAstId<ast::ImplDef>,\n+    pub ast_id: FileAstId<ast::Impl>,\n }\n \n #[derive(Debug, Clone, PartialEq, Eq)]"}, {"sha": "b0cf94956e71a42426e1806a5946bd88e39577a6", "filename": "crates/ra_hir_def/src/item_tree/lower.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fitem_tree%2Flower.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fitem_tree%2Flower.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_def%2Fsrc%2Fitem_tree%2Flower.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -95,7 +95,7 @@ impl Ctx {\n \n             // These are handled in their respective `lower_X` method (since we can't just blindly\n             // walk them).\n-            ast::Item::TraitDef(_) | ast::Item::ImplDef(_) | ast::Item::ExternBlock(_) => {}\n+            ast::Item::Trait(_) | ast::Item::Impl(_) | ast::Item::ExternBlock(_) => {}\n \n             // These don't have inner items.\n             ast::Item::Module(_) | ast::Item::ExternCrate(_) | ast::Item::Use(_) => {}\n@@ -111,8 +111,8 @@ impl Ctx {\n             ast::Item::Static(ast) => self.lower_static(ast).map(Into::into),\n             ast::Item::Const(ast) => Some(self.lower_const(ast).into()),\n             ast::Item::Module(ast) => self.lower_module(ast).map(Into::into),\n-            ast::Item::TraitDef(ast) => self.lower_trait(ast).map(Into::into),\n-            ast::Item::ImplDef(ast) => self.lower_impl(ast).map(Into::into),\n+            ast::Item::Trait(ast) => self.lower_trait(ast).map(Into::into),\n+            ast::Item::Impl(ast) => self.lower_impl(ast).map(Into::into),\n             ast::Item::Use(ast) => Some(ModItems(\n                 self.lower_use(ast).into_iter().map(Into::into).collect::<SmallVec<_>>(),\n             )),\n@@ -413,7 +413,7 @@ impl Ctx {\n         Some(id(self.data().mods.alloc(res)))\n     }\n \n-    fn lower_trait(&mut self, trait_def: &ast::TraitDef) -> Option<FileItemTreeId<Trait>> {\n+    fn lower_trait(&mut self, trait_def: &ast::Trait) -> Option<FileItemTreeId<Trait>> {\n         let name = trait_def.name()?.as_name();\n         let visibility = self.lower_visibility(trait_def);\n         let generic_params =\n@@ -445,7 +445,7 @@ impl Ctx {\n         Some(id(self.data().traits.alloc(res)))\n     }\n \n-    fn lower_impl(&mut self, impl_def: &ast::ImplDef) -> Option<FileItemTreeId<Impl>> {\n+    fn lower_impl(&mut self, impl_def: &ast::Impl) -> Option<FileItemTreeId<Impl>> {\n         let generic_params =\n             self.lower_generic_params_and_inner_items(GenericsOwner::Impl, impl_def);\n         let target_trait = impl_def.target_trait().map(|tr| self.lower_type_ref(&tr));\n@@ -698,7 +698,7 @@ enum GenericsOwner<'a> {\n     Enum,\n     Union,\n     /// The `TraitDef` is needed to fill the source map for the implicit `Self` parameter.\n-    Trait(&'a ast::TraitDef),\n+    Trait(&'a ast::Trait),\n     TypeAlias,\n     Impl,\n }"}, {"sha": "a81497fa8a9e56f9c760a7a0e6b07d43856bdf3b", "filename": "crates/ra_hir_def/src/item_tree/tests.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fitem_tree%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fitem_tree%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_def%2Fsrc%2Fitem_tree%2Ftests.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -234,7 +234,7 @@ fn smoke() {\n             #[Attrs { entries: Some([Attr { path: ModPath { kind: Plain, segments: [Name(Text(\"ext_crate\"))] }, input: None }]) }]\n             ExternCrate { path: ModPath { kind: Plain, segments: [Name(Text(\"krate\"))] }, alias: None, visibility: RawVisibilityId(\"pub(self)\"), is_macro_use: false, ast_id: FileAstId::<ra_syntax::ast::generated::nodes::ExternCrate>(1) }\n             #[Attrs { entries: Some([Attr { path: ModPath { kind: Plain, segments: [Name(Text(\"on_trait\"))] }, input: None }]) }]\n-            Trait { name: Name(Text(\"Tr\")), visibility: RawVisibilityId(\"pub(self)\"), generic_params: GenericParamsId(0), auto: false, items: [TypeAlias(Idx::<TypeAlias>(0)), Const(Idx::<Const>(0)), Function(Idx::<Function>(0)), Function(Idx::<Function>(1))], ast_id: FileAstId::<ra_syntax::ast::generated::nodes::TraitDef>(2) }\n+            Trait { name: Name(Text(\"Tr\")), visibility: RawVisibilityId(\"pub(self)\"), generic_params: GenericParamsId(0), auto: false, items: [TypeAlias(Idx::<TypeAlias>(0)), Const(Idx::<Const>(0)), Function(Idx::<Function>(0)), Function(Idx::<Function>(1))], ast_id: FileAstId::<ra_syntax::ast::generated::nodes::Trait>(2) }\n             > #[Attrs { entries: Some([Attr { path: ModPath { kind: Plain, segments: [Name(Text(\"assoc_ty\"))] }, input: None }]) }]\n             > TypeAlias { name: Name(Text(\"AssocTy\")), visibility: RawVisibilityId(\"pub(self)\"), bounds: [Path(Path { type_anchor: None, mod_path: ModPath { kind: Plain, segments: [Name(Text(\"Tr\"))] }, generic_args: [Some(GenericArgs { args: [Type(Tuple([]))], has_self_type: false, bindings: [] })] })], generic_params: GenericParamsId(4294967295), type_ref: None, ast_id: FileAstId::<ra_syntax::ast::generated::nodes::TypeAlias>(8) }\n             > #[Attrs { entries: Some([Attr { path: ModPath { kind: Plain, segments: [Name(Text(\"assoc_const\"))] }, input: None }]) }]\n@@ -274,7 +274,7 @@ fn simple_inner_items() {\n             inner attrs: Attrs { entries: None }\n \n             top-level items:\n-            Impl { generic_params: GenericParamsId(0), target_trait: Some(Path(Path { type_anchor: None, mod_path: ModPath { kind: Plain, segments: [Name(Text(\"D\"))] }, generic_args: [None] })), target_type: Path(Path { type_anchor: None, mod_path: ModPath { kind: Plain, segments: [Name(Text(\"Response\"))] }, generic_args: [Some(GenericArgs { args: [Type(Path(Path { type_anchor: None, mod_path: ModPath { kind: Plain, segments: [Name(Text(\"T\"))] }, generic_args: [None] }))], has_self_type: false, bindings: [] })] }), is_negative: false, items: [Function(Idx::<Function>(1))], ast_id: FileAstId::<ra_syntax::ast::generated::nodes::ImplDef>(0) }\n+            Impl { generic_params: GenericParamsId(0), target_trait: Some(Path(Path { type_anchor: None, mod_path: ModPath { kind: Plain, segments: [Name(Text(\"D\"))] }, generic_args: [None] })), target_type: Path(Path { type_anchor: None, mod_path: ModPath { kind: Plain, segments: [Name(Text(\"Response\"))] }, generic_args: [Some(GenericArgs { args: [Type(Path(Path { type_anchor: None, mod_path: ModPath { kind: Plain, segments: [Name(Text(\"T\"))] }, generic_args: [None] }))], has_self_type: false, bindings: [] })] }), is_negative: false, items: [Function(Idx::<Function>(1))], ast_id: FileAstId::<ra_syntax::ast::generated::nodes::Impl>(0) }\n             > Function { name: Name(Text(\"foo\")), visibility: RawVisibilityId(\"pub(self)\"), generic_params: GenericParamsId(4294967295), has_self_param: false, is_unsafe: false, params: [], is_varargs: false, ret_type: Tuple([]), ast_id: FileAstId::<ra_syntax::ast::generated::nodes::Fn>(1) }\n \n             inner items:\n@@ -327,7 +327,7 @@ fn trait_attrs() {\n \n             top-level items:\n             #[Attrs { entries: Some([Attr { path: ModPath { kind: Plain, segments: [Name(Text(\"trait_attr\"))] }, input: None }]) }]\n-            Trait { name: Name(Text(\"Tr\")), visibility: RawVisibilityId(\"pub(self)\"), generic_params: GenericParamsId(0), auto: false, items: [Function(Idx::<Function>(0)), Function(Idx::<Function>(1))], ast_id: FileAstId::<ra_syntax::ast::generated::nodes::TraitDef>(0) }\n+            Trait { name: Name(Text(\"Tr\")), visibility: RawVisibilityId(\"pub(self)\"), generic_params: GenericParamsId(0), auto: false, items: [Function(Idx::<Function>(0)), Function(Idx::<Function>(1))], ast_id: FileAstId::<ra_syntax::ast::generated::nodes::Trait>(0) }\n             > #[Attrs { entries: Some([Attr { path: ModPath { kind: Plain, segments: [Name(Text(\"attr_a\"))] }, input: None }]) }]\n             > Function { name: Name(Text(\"a\")), visibility: RawVisibilityId(\"pub(self)\"), generic_params: GenericParamsId(4294967295), has_self_param: false, is_unsafe: false, params: [], is_varargs: false, ret_type: Tuple([]), ast_id: FileAstId::<ra_syntax::ast::generated::nodes::Fn>(1) }\n             > #[Attrs { entries: Some([Attr { path: ModPath { kind: Plain, segments: [Name(Text(\"attr_b\"))] }, input: None }]) }]\n@@ -353,7 +353,7 @@ fn impl_attrs() {\n \n             top-level items:\n             #[Attrs { entries: Some([Attr { path: ModPath { kind: Plain, segments: [Name(Text(\"impl_attr\"))] }, input: None }]) }]\n-            Impl { generic_params: GenericParamsId(4294967295), target_trait: None, target_type: Path(Path { type_anchor: None, mod_path: ModPath { kind: Plain, segments: [Name(Text(\"Ty\"))] }, generic_args: [None] }), is_negative: false, items: [Function(Idx::<Function>(0)), Function(Idx::<Function>(1))], ast_id: FileAstId::<ra_syntax::ast::generated::nodes::ImplDef>(0) }\n+            Impl { generic_params: GenericParamsId(4294967295), target_trait: None, target_type: Path(Path { type_anchor: None, mod_path: ModPath { kind: Plain, segments: [Name(Text(\"Ty\"))] }, generic_args: [None] }), is_negative: false, items: [Function(Idx::<Function>(0)), Function(Idx::<Function>(1))], ast_id: FileAstId::<ra_syntax::ast::generated::nodes::Impl>(0) }\n             > #[Attrs { entries: Some([Attr { path: ModPath { kind: Plain, segments: [Name(Text(\"attr_a\"))] }, input: None }]) }]\n             > Function { name: Name(Text(\"a\")), visibility: RawVisibilityId(\"pub(self)\"), generic_params: GenericParamsId(4294967295), has_self_param: false, is_unsafe: false, params: [], is_varargs: false, ret_type: Tuple([]), ast_id: FileAstId::<ra_syntax::ast::generated::nodes::Fn>(1) }\n             > #[Attrs { entries: Some([Attr { path: ModPath { kind: Plain, segments: [Name(Text(\"attr_b\"))] }, input: None }]) }]\n@@ -432,7 +432,7 @@ fn assoc_item_macros() {\n             inner attrs: Attrs { entries: None }\n \n             top-level items:\n-            Impl { generic_params: GenericParamsId(4294967295), target_trait: None, target_type: Path(Path { type_anchor: None, mod_path: ModPath { kind: Plain, segments: [Name(Text(\"S\"))] }, generic_args: [None] }), is_negative: false, items: [MacroCall(Idx::<MacroCall>(0))], ast_id: FileAstId::<ra_syntax::ast::generated::nodes::ImplDef>(0) }\n+            Impl { generic_params: GenericParamsId(4294967295), target_trait: None, target_type: Path(Path { type_anchor: None, mod_path: ModPath { kind: Plain, segments: [Name(Text(\"S\"))] }, generic_args: [None] }), is_negative: false, items: [MacroCall(Idx::<MacroCall>(0))], ast_id: FileAstId::<ra_syntax::ast::generated::nodes::Impl>(0) }\n             > MacroCall { name: None, path: ModPath { kind: Plain, segments: [Name(Text(\"items\"))] }, is_export: false, is_local_inner: false, is_builtin: false, ast_id: FileAstId::<ra_syntax::ast::generated::nodes::MacroCall>(1) }\n         \"#]],\n     );"}, {"sha": "441bdbead88542a2a424b31e9e5a2df6039d4604", "filename": "crates/ra_hir_def/src/keys.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fkeys.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_hir_def%2Fsrc%2Fkeys.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir_def%2Fsrc%2Fkeys.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -18,8 +18,8 @@ pub const FUNCTION: Key<ast::Fn, FunctionId> = Key::new();\n pub const CONST: Key<ast::Const, ConstId> = Key::new();\n pub const STATIC: Key<ast::Static, StaticId> = Key::new();\n pub const TYPE_ALIAS: Key<ast::TypeAlias, TypeAliasId> = Key::new();\n-pub const IMPL: Key<ast::ImplDef, ImplId> = Key::new();\n-pub const TRAIT: Key<ast::TraitDef, TraitId> = Key::new();\n+pub const IMPL: Key<ast::Impl, ImplId> = Key::new();\n+pub const TRAIT: Key<ast::Trait, TraitId> = Key::new();\n pub const STRUCT: Key<ast::Struct, StructId> = Key::new();\n pub const UNION: Key<ast::Union, UnionId> = Key::new();\n pub const ENUM: Key<ast::Enum, EnumId> = Key::new();"}, {"sha": "d9a0ef167dbdc7cb2cc3e9ba614e6afa896fd08e", "filename": "crates/ra_ide/src/completion/complete_trait_impl.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcomplete_trait_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcomplete_trait_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcomplete_trait_impl.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -3,7 +3,7 @@\n //! This module adds the completion items related to implementing associated\n //! items within a `impl Trait for Struct` block. The current context node\n //! must be within either a `FN`, `TYPE_ALIAS`, or `CONST` node\n-//! and an direct child of an `IMPL_DEF`.\n+//! and an direct child of an `IMPL`.\n //!\n //! # Examples\n //!\n@@ -34,7 +34,7 @@\n use hir::{self, Docs, HasSource};\n use ra_assists::utils::get_missing_assoc_items;\n use ra_syntax::{\n-    ast::{self, edit, ImplDef},\n+    ast::{self, edit, Impl},\n     AstNode, SyntaxKind, SyntaxNode, TextRange, T,\n };\n use ra_text_edit::TextEdit;\n@@ -104,7 +104,7 @@ pub(crate) fn complete_trait_impl(acc: &mut Completions, ctx: &CompletionContext\n     }\n }\n \n-fn completion_match(ctx: &CompletionContext) -> Option<(SyntaxNode, ImplDef)> {\n+fn completion_match(ctx: &CompletionContext) -> Option<(SyntaxNode, Impl)> {\n     let (trigger, impl_def_offset) = ctx.token.ancestors().find_map(|p| match p.kind() {\n         SyntaxKind::FN | SyntaxKind::TYPE_ALIAS | SyntaxKind::CONST | SyntaxKind::BLOCK_EXPR => {\n             Some((p, 2))\n@@ -114,7 +114,7 @@ fn completion_match(ctx: &CompletionContext) -> Option<(SyntaxNode, ImplDef)> {\n     })?;\n     let impl_def = (0..impl_def_offset - 1)\n         .try_fold(trigger.parent()?, |t, _| t.parent())\n-        .and_then(ast::ImplDef::cast)?;\n+        .and_then(ast::Impl::cast)?;\n     Some((trigger, impl_def))\n }\n "}, {"sha": "2113abbb224934a1e1c9eb10050185bf9b853ac2", "filename": "crates/ra_ide/src/completion/completion_context.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fcompletion_context.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -40,7 +40,7 @@ pub(crate) struct CompletionContext<'a> {\n     pub(super) record_lit_syntax: Option<ast::RecordExpr>,\n     pub(super) record_pat_syntax: Option<ast::RecordPat>,\n     pub(super) record_field_syntax: Option<ast::RecordExprField>,\n-    pub(super) impl_def: Option<ast::ImplDef>,\n+    pub(super) impl_def: Option<ast::Impl>,\n     /// FIXME: `ActiveParameter` is string-based, which is very very wrong\n     pub(super) active_parameter: Option<ActiveParameter>,\n     pub(super) is_param: bool,\n@@ -325,7 +325,7 @@ impl<'a> CompletionContext<'a> {\n             .sema\n             .ancestors_with_macros(self.token.parent())\n             .take_while(|it| it.kind() != SOURCE_FILE && it.kind() != MODULE)\n-            .find_map(ast::ImplDef::cast);\n+            .find_map(ast::Impl::cast);\n \n         let top_node = name_ref\n             .syntax()"}, {"sha": "a68861e1c9c4155df7811a7efb45a5fbeda4eae8", "filename": "crates/ra_ide/src/completion/patterns.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fpatterns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fpatterns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fcompletion%2Fpatterns.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -15,7 +15,7 @@ pub(crate) fn has_trait_parent(element: SyntaxElement) -> bool {\n     not_same_range_ancestor(element)\n         .filter(|it| it.kind() == ASSOC_ITEM_LIST)\n         .and_then(|it| it.parent())\n-        .filter(|it| it.kind() == TRAIT_DEF)\n+        .filter(|it| it.kind() == TRAIT)\n         .is_some()\n }\n #[test]\n@@ -27,7 +27,7 @@ pub(crate) fn has_impl_parent(element: SyntaxElement) -> bool {\n     not_same_range_ancestor(element)\n         .filter(|it| it.kind() == ASSOC_ITEM_LIST)\n         .and_then(|it| it.parent())\n-        .filter(|it| it.kind() == IMPL_DEF)\n+        .filter(|it| it.kind() == IMPL)\n         .is_some()\n }\n #[test]\n@@ -113,15 +113,15 @@ fn test_if_is_prev() {\n }\n \n pub(crate) fn has_trait_as_prev_sibling(element: SyntaxElement) -> bool {\n-    previous_sibling_or_ancestor_sibling(element).filter(|it| it.kind() == TRAIT_DEF).is_some()\n+    previous_sibling_or_ancestor_sibling(element).filter(|it| it.kind() == TRAIT).is_some()\n }\n #[test]\n fn test_has_trait_as_prev_sibling() {\n     check_pattern_is_applicable(r\"trait A w<|> {}\", has_trait_as_prev_sibling);\n }\n \n pub(crate) fn has_impl_as_prev_sibling(element: SyntaxElement) -> bool {\n-    previous_sibling_or_ancestor_sibling(element).filter(|it| it.kind() == IMPL_DEF).is_some()\n+    previous_sibling_or_ancestor_sibling(element).filter(|it| it.kind() == IMPL).is_some()\n }\n #[test]\n fn test_has_impl_as_prev_sibling() {"}, {"sha": "45fbc86ef1baf88745034dcdf48c525a6bf18ead", "filename": "crates/ra_ide/src/display/navigation_target.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fdisplay%2Fnavigation_target.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fdisplay%2Fnavigation_target.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fdisplay%2Fnavigation_target.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -382,7 +382,7 @@ pub(crate) fn docs_from_symbol(db: &RootDatabase, symbol: &FileSymbol) -> Option\n             ast::Fn(it) => it.doc_comment_text(),\n             ast::Struct(it) => it.doc_comment_text(),\n             ast::Enum(it) => it.doc_comment_text(),\n-            ast::TraitDef(it) => it.doc_comment_text(),\n+            ast::Trait(it) => it.doc_comment_text(),\n             ast::Module(it) => it.doc_comment_text(),\n             ast::TypeAlias(it) => it.doc_comment_text(),\n             ast::Const(it) => it.doc_comment_text(),\n@@ -407,7 +407,7 @@ pub(crate) fn description_from_symbol(db: &RootDatabase, symbol: &FileSymbol) ->\n             ast::Fn(it) => it.short_label(),\n             ast::Struct(it) => it.short_label(),\n             ast::Enum(it) => it.short_label(),\n-            ast::TraitDef(it) => it.short_label(),\n+            ast::Trait(it) => it.short_label(),\n             ast::Module(it) => it.short_label(),\n             ast::TypeAlias(it) => it.short_label(),\n             ast::Const(it) => it.short_label(),"}, {"sha": "c600908a48b08aa6d5992e9befdf555b35b96251", "filename": "crates/ra_ide/src/display/short_label.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fdisplay%2Fshort_label.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fdisplay%2Fshort_label.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fdisplay%2Fshort_label.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -31,7 +31,7 @@ impl ShortLabel for ast::Enum {\n     }\n }\n \n-impl ShortLabel for ast::TraitDef {\n+impl ShortLabel for ast::Trait {\n     fn short_label(&self) -> Option<String> {\n         if self.unsafe_token().is_some() {\n             short_label_from_node(self, \"unsafe trait \")"}, {"sha": "7d378f2d0a5ebc434605c3240e3a4628b393079e", "filename": "crates/ra_ide/src/file_structure.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Ffile_structure.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Ffile_structure.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Ffile_structure.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -130,7 +130,7 @@ fn structure_node(node: &SyntaxNode) -> Option<StructureNode> {\n             ast::Union(it) => decl(it),\n             ast::Enum(it) => decl(it),\n             ast::Variant(it) => decl(it),\n-            ast::TraitDef(it) => decl(it),\n+            ast::Trait(it) => decl(it),\n             ast::Module(it) => decl(it),\n             ast::TypeAlias(it) => {\n                 let ty = it.type_ref();\n@@ -139,7 +139,7 @@ fn structure_node(node: &SyntaxNode) -> Option<StructureNode> {\n             ast::RecordField(it) => decl_with_ascription(it),\n             ast::Const(it) => decl_with_ascription(it),\n             ast::Static(it) => decl_with_ascription(it),\n-            ast::ImplDef(it) => {\n+            ast::Impl(it) => {\n                 let target_type = it.target_type()?;\n                 let target_trait = it.target_trait();\n                 let label = match target_trait {\n@@ -372,7 +372,7 @@ fn very_obsolete() {}\n                         label: \"impl E\",\n                         navigation_range: 239..240,\n                         node_range: 234..243,\n-                        kind: IMPL_DEF,\n+                        kind: IMPL,\n                         detail: None,\n                         deprecated: false,\n                     },\n@@ -381,7 +381,7 @@ fn very_obsolete() {}\n                         label: \"impl fmt::Debug for E\",\n                         navigation_range: 265..266,\n                         node_range: 245..269,\n-                        kind: IMPL_DEF,\n+                        kind: IMPL,\n                         detail: None,\n                         deprecated: false,\n                     },"}, {"sha": "9912b714214e8b4e338b664c86c7faa665c1a86a", "filename": "crates/ra_ide/src/goto_implementation.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fgoto_implementation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fgoto_implementation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fgoto_implementation.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -28,7 +28,7 @@ pub(crate) fn goto_implementation(\n             nominal_def.syntax().text_range(),\n             impls_for_def(&sema, &nominal_def, krate)?,\n         ));\n-    } else if let Some(trait_def) = find_node_at_offset::<ast::TraitDef>(&syntax, position.offset) {\n+    } else if let Some(trait_def) = find_node_at_offset::<ast::Trait>(&syntax, position.offset) {\n         return Some(RangeInfo::new(\n             trait_def.syntax().text_range(),\n             impls_for_trait(&sema, &trait_def, krate)?,\n@@ -62,7 +62,7 @@ fn impls_for_def(\n \n fn impls_for_trait(\n     sema: &Semantics<RootDatabase>,\n-    node: &ast::TraitDef,\n+    node: &ast::Trait,\n     krate: Crate,\n ) -> Option<Vec<NavigationTarget>> {\n     let tr = sema.to_def(node)?;"}, {"sha": "aa48cb412ff8659763549236ae88120e3b7f2843", "filename": "crates/ra_ide/src/hover.rs", "status": "modified", "additions": 16, "deletions": 16, "changes": 32, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fhover.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fhover.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fhover.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1678,7 +1678,7 @@ fn main() { let s<|>t = foo(); }\n                                         6..9,\n                                     ),\n                                     name: \"Foo\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Foo\",\n@@ -1718,7 +1718,7 @@ fn main() { let s<|>t = foo(); }\n                                         6..9,\n                                     ),\n                                     name: \"Foo\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Foo\",\n@@ -1777,7 +1777,7 @@ fn main() { let s<|>t = foo(); }\n                                         6..9,\n                                     ),\n                                     name: \"Foo\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Foo\",\n@@ -1796,7 +1796,7 @@ fn main() { let s<|>t = foo(); }\n                                         19..22,\n                                     ),\n                                     name: \"Bar\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Bar\",\n@@ -1839,7 +1839,7 @@ fn main() { let s<|>t = foo(); }\n                                         6..9,\n                                     ),\n                                     name: \"Foo\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Foo\",\n@@ -1858,7 +1858,7 @@ fn main() { let s<|>t = foo(); }\n                                         22..25,\n                                     ),\n                                     name: \"Bar\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Bar\",\n@@ -1933,7 +1933,7 @@ fn foo(ar<|>g: &impl Foo) {}\n                                         6..9,\n                                     ),\n                                     name: \"Foo\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Foo\",\n@@ -1973,7 +1973,7 @@ fn foo(ar<|>g: &impl Foo + Bar<S>) {}\n                                         6..9,\n                                     ),\n                                     name: \"Foo\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Foo\",\n@@ -1992,7 +1992,7 @@ fn foo(ar<|>g: &impl Foo + Bar<S>) {}\n                                         19..22,\n                                     ),\n                                     name: \"Bar\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Bar\",\n@@ -2049,7 +2049,7 @@ fn foo(ar<|>g: &impl Foo<S>) {}\n                                         6..9,\n                                     ),\n                                     name: \"Foo\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Foo\",\n@@ -2130,7 +2130,7 @@ fn main() { let s<|>t = foo(); }\n                                         6..9,\n                                     ),\n                                     name: \"Foo\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Foo\",\n@@ -2167,7 +2167,7 @@ fn foo(ar<|>g: &dyn Foo) {}\n                                         6..9,\n                                     ),\n                                     name: \"Foo\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Foo\",\n@@ -2205,7 +2205,7 @@ fn foo(ar<|>g: &dyn Foo<S>) {}\n                                         6..9,\n                                     ),\n                                     name: \"Foo\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Foo\",\n@@ -2265,7 +2265,7 @@ fn foo(a<|>rg: &impl ImplTrait<B<dyn DynTrait<B<S>>>>) {}\n                                         6..15,\n                                     ),\n                                     name: \"ImplTrait\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait ImplTrait\",\n@@ -2303,7 +2303,7 @@ fn foo(a<|>rg: &impl ImplTrait<B<dyn DynTrait<B<S>>>>) {}\n                                         28..36,\n                                     ),\n                                     name: \"DynTrait\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait DynTrait\",\n@@ -2370,7 +2370,7 @@ fn main() { let s<|>t = test().get(); }\n                                         6..9,\n                                     ),\n                                     name: \"Foo\",\n-                                    kind: TRAIT_DEF,\n+                                    kind: TRAIT,\n                                     container_name: None,\n                                     description: Some(\n                                         \"trait Foo\","}, {"sha": "d330109f1c5f602355c1fbe360f8a1afc6f03002", "filename": "crates/ra_ide/src/references/rename.rs", "status": "modified", "additions": 2, "deletions": 3, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Freferences%2Frename.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Freferences%2Frename.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Freferences%2Frename.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -192,15 +192,14 @@ fn text_edit_from_self_param(\n     self_param: &ast::SelfParam,\n     new_name: &str,\n ) -> Option<TextEdit> {\n-    fn target_type_name(impl_def: &ast::ImplDef) -> Option<String> {\n+    fn target_type_name(impl_def: &ast::Impl) -> Option<String> {\n         if let Some(ast::TypeRef::PathType(p)) = impl_def.target_type() {\n             return Some(p.path()?.segment()?.name_ref()?.text().to_string());\n         }\n         None\n     }\n \n-    let impl_def =\n-        find_node_at_offset::<ast::ImplDef>(syn, self_param.syntax().text_range().start())?;\n+    let impl_def = find_node_at_offset::<ast::Impl>(syn, self_param.syntax().text_range().start())?;\n     let type_name = target_type_name(&impl_def)?;\n \n     let mut replacement_text = String::from(new_name);"}, {"sha": "e3a96f9d5c603851644b70aaa25e560fa520d9e7", "filename": "crates/ra_ide/src/syntax_highlighting.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fsyntax_highlighting.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -647,7 +647,7 @@ fn highlight_element(\n \n fn is_child_of_impl(element: &SyntaxElement) -> bool {\n     match element.parent() {\n-        Some(e) => e.kind() == IMPL_DEF,\n+        Some(e) => e.kind() == IMPL,\n         _ => false,\n     }\n }\n@@ -708,7 +708,7 @@ fn highlight_name_by_syntax(name: ast::Name) -> Highlight {\n         STRUCT => HighlightTag::Struct,\n         ENUM => HighlightTag::Enum,\n         UNION => HighlightTag::Union,\n-        TRAIT_DEF => HighlightTag::Trait,\n+        TRAIT => HighlightTag::Trait,\n         TYPE_ALIAS => HighlightTag::TypeAlias,\n         TYPE_PARAM => HighlightTag::TypeParam,\n         RECORD_FIELD => HighlightTag::Field,"}, {"sha": "df56f2d9e609be87ef15531a00a72fe24cc52ae9", "filename": "crates/ra_ide_db/src/defs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide_db%2Fsrc%2Fdefs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide_db%2Fsrc%2Fdefs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_db%2Fsrc%2Fdefs.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -162,7 +162,7 @@ pub fn classify_name(sema: &Semantics<RootDatabase>, name: &ast::Name) -> Option\n                 let def: hir::Enum = sema.to_def(&it)?;\n                 Some(NameClass::Definition(Definition::ModuleDef(def.into())))\n             },\n-            ast::TraitDef(it) => {\n+            ast::Trait(it) => {\n                 let def: hir::Trait = sema.to_def(&it)?;\n                 Some(NameClass::Definition(Definition::ModuleDef(def.into())))\n             },"}, {"sha": "35a2c5be3b2769eb4ee3463c5fd98b04e4b9dea5", "filename": "crates/ra_ide_db/src/symbol_index.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide_db%2Fsrc%2Fsymbol_index.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_ide_db%2Fsrc%2Fsymbol_index.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_db%2Fsrc%2Fsymbol_index.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -344,7 +344,7 @@ impl Query {\n }\n \n fn is_type(kind: SyntaxKind) -> bool {\n-    matches!(kind, STRUCT | ENUM | TRAIT_DEF | TYPE_ALIAS)\n+    matches!(kind, STRUCT | ENUM | TRAIT | TYPE_ALIAS)\n }\n \n /// The actual data that is stored in the index. It should be as compact as\n@@ -400,7 +400,7 @@ fn to_symbol(node: &SyntaxNode) -> Option<(SmolStr, SyntaxNodePtr, TextRange)> {\n             ast::Fn(it) => decl(it),\n             ast::Struct(it) => decl(it),\n             ast::Enum(it) => decl(it),\n-            ast::TraitDef(it) => decl(it),\n+            ast::Trait(it) => decl(it),\n             ast::Module(it) => decl(it),\n             ast::TypeAlias(it) => decl(it),\n             ast::Const(it) => decl(it),"}, {"sha": "c2e1d701e2247e2ccee1422e9a5de6f574951619", "filename": "crates/ra_parser/src/grammar.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_parser%2Fsrc%2Fgrammar.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_parser%2Fsrc%2Fgrammar.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -150,8 +150,8 @@ pub(crate) fn reparser(\n         EXTERN_ITEM_LIST => items::extern_item_list,\n         TOKEN_TREE if first_child? == T!['{'] => items::token_tree,\n         ASSOC_ITEM_LIST => match parent? {\n-            IMPL_DEF => items::impl_item_list,\n-            TRAIT_DEF => items::trait_item_list,\n+            IMPL => items::impl_item_list,\n+            TRAIT => items::trait_item_list,\n             _ => return None,\n         },\n         ITEM_LIST => items::mod_item_list,"}, {"sha": "cca524ceaa036be80ed1f4f2fa8634f79241e1a2", "filename": "crates/ra_parser/src/grammar/items.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fitems.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fitems.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fitems.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -193,7 +193,7 @@ pub(super) fn maybe_item(p: &mut Parser, m: Marker, flavor: ItemFlavor) -> Resul\n         // unsafe auto trait T {}\n         T![trait] => {\n             traits::trait_def(p);\n-            m.complete(p, TRAIT_DEF);\n+            m.complete(p, TRAIT);\n         }\n \n         // test unsafe_impl\n@@ -221,7 +221,7 @@ pub(super) fn maybe_item(p: &mut Parser, m: Marker, flavor: ItemFlavor) -> Resul\n         // unsafe default impl Foo {}\n         T![impl] => {\n             traits::impl_def(p);\n-            m.complete(p, IMPL_DEF);\n+            m.complete(p, IMPL);\n         }\n \n         // test existential_type"}, {"sha": "d1b22f08a9c7ca6ba869d42acbc20073dace2432", "filename": "crates/ra_parser/src/syntax_kind/generated.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_parser%2Fsrc%2Fsyntax_kind%2Fgenerated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_parser%2Fsrc%2Fsyntax_kind%2Fgenerated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fsyntax_kind%2Fgenerated.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -133,8 +133,8 @@ pub enum SyntaxKind {\n     USE,\n     STATIC,\n     CONST,\n-    TRAIT_DEF,\n-    IMPL_DEF,\n+    TRAIT,\n+    IMPL,\n     TYPE_ALIAS,\n     MACRO_CALL,\n     TOKEN_TREE,"}, {"sha": "ba00742f0c07b128c51759b5e63beb9b263f05a1", "filename": "crates/ra_syntax/src/ast/generated/nodes.rs", "status": "modified", "additions": 32, "deletions": 31, "changes": 63, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Fsrc%2Fast%2Fgenerated%2Fnodes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Fsrc%2Fast%2Fgenerated%2Fnodes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fast%2Fgenerated%2Fnodes.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -100,17 +100,18 @@ impl Fn {\n     pub fn semicolon_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![;]) }\n }\n #[derive(Debug, Clone, PartialEq, Eq, Hash)]\n-pub struct ImplDef {\n+pub struct Impl {\n     pub(crate) syntax: SyntaxNode,\n }\n-impl ast::AttrsOwner for ImplDef {}\n-impl ast::VisibilityOwner for ImplDef {}\n-impl ast::GenericParamsOwner for ImplDef {}\n-impl ImplDef {\n-    pub fn const_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![const]) }\n+impl ast::AttrsOwner for Impl {}\n+impl ast::VisibilityOwner for Impl {}\n+impl ast::GenericParamsOwner for Impl {}\n+impl Impl {\n     pub fn default_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![default]) }\n     pub fn unsafe_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![unsafe]) }\n     pub fn impl_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![impl]) }\n+    pub fn const_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![const]) }\n+    pub fn type_ref(&self) -> Option<TypeRef> { support::child(&self.syntax) }\n     pub fn excl_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![!]) }\n     pub fn for_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![for]) }\n     pub fn assoc_item_list(&self) -> Option<AssocItemList> { support::child(&self.syntax) }\n@@ -169,15 +170,15 @@ impl Struct {\n     pub fn field_list(&self) -> Option<FieldList> { support::child(&self.syntax) }\n }\n #[derive(Debug, Clone, PartialEq, Eq, Hash)]\n-pub struct TraitDef {\n+pub struct Trait {\n     pub(crate) syntax: SyntaxNode,\n }\n-impl ast::AttrsOwner for TraitDef {}\n-impl ast::NameOwner for TraitDef {}\n-impl ast::VisibilityOwner for TraitDef {}\n-impl ast::GenericParamsOwner for TraitDef {}\n-impl ast::TypeBoundsOwner for TraitDef {}\n-impl TraitDef {\n+impl ast::AttrsOwner for Trait {}\n+impl ast::NameOwner for Trait {}\n+impl ast::VisibilityOwner for Trait {}\n+impl ast::GenericParamsOwner for Trait {}\n+impl ast::TypeBoundsOwner for Trait {}\n+impl Trait {\n     pub fn unsafe_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![unsafe]) }\n     pub fn auto_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![auto]) }\n     pub fn trait_token(&self) -> Option<SyntaxToken> { support::token(&self.syntax, T![trait]) }\n@@ -1278,12 +1279,12 @@ pub enum Item {\n     ExternBlock(ExternBlock),\n     ExternCrate(ExternCrate),\n     Fn(Fn),\n-    ImplDef(ImplDef),\n+    Impl(Impl),\n     MacroCall(MacroCall),\n     Module(Module),\n     Static(Static),\n     Struct(Struct),\n-    TraitDef(TraitDef),\n+    Trait(Trait),\n     TypeAlias(TypeAlias),\n     Union(Union),\n     Use(Use),\n@@ -1477,8 +1478,8 @@ impl AstNode for Fn {\n     }\n     fn syntax(&self) -> &SyntaxNode { &self.syntax }\n }\n-impl AstNode for ImplDef {\n-    fn can_cast(kind: SyntaxKind) -> bool { kind == IMPL_DEF }\n+impl AstNode for Impl {\n+    fn can_cast(kind: SyntaxKind) -> bool { kind == IMPL }\n     fn cast(syntax: SyntaxNode) -> Option<Self> {\n         if Self::can_cast(syntax.kind()) {\n             Some(Self { syntax })\n@@ -1532,8 +1533,8 @@ impl AstNode for Struct {\n     }\n     fn syntax(&self) -> &SyntaxNode { &self.syntax }\n }\n-impl AstNode for TraitDef {\n-    fn can_cast(kind: SyntaxKind) -> bool { kind == TRAIT_DEF }\n+impl AstNode for Trait {\n+    fn can_cast(kind: SyntaxKind) -> bool { kind == TRAIT }\n     fn cast(syntax: SyntaxNode) -> Option<Self> {\n         if Self::can_cast(syntax.kind()) {\n             Some(Self { syntax })\n@@ -2790,8 +2791,8 @@ impl From<ExternCrate> for Item {\n impl From<Fn> for Item {\n     fn from(node: Fn) -> Item { Item::Fn(node) }\n }\n-impl From<ImplDef> for Item {\n-    fn from(node: ImplDef) -> Item { Item::ImplDef(node) }\n+impl From<Impl> for Item {\n+    fn from(node: Impl) -> Item { Item::Impl(node) }\n }\n impl From<MacroCall> for Item {\n     fn from(node: MacroCall) -> Item { Item::MacroCall(node) }\n@@ -2805,8 +2806,8 @@ impl From<Static> for Item {\n impl From<Struct> for Item {\n     fn from(node: Struct) -> Item { Item::Struct(node) }\n }\n-impl From<TraitDef> for Item {\n-    fn from(node: TraitDef) -> Item { Item::TraitDef(node) }\n+impl From<Trait> for Item {\n+    fn from(node: Trait) -> Item { Item::Trait(node) }\n }\n impl From<TypeAlias> for Item {\n     fn from(node: TypeAlias) -> Item { Item::TypeAlias(node) }\n@@ -2820,8 +2821,8 @@ impl From<Use> for Item {\n impl AstNode for Item {\n     fn can_cast(kind: SyntaxKind) -> bool {\n         match kind {\n-            CONST | ENUM | EXTERN_BLOCK | EXTERN_CRATE | FN | IMPL_DEF | MACRO_CALL | MODULE\n-            | STATIC | STRUCT | TRAIT_DEF | TYPE_ALIAS | UNION | USE => true,\n+            CONST | ENUM | EXTERN_BLOCK | EXTERN_CRATE | FN | IMPL | MACRO_CALL | MODULE\n+            | STATIC | STRUCT | TRAIT | TYPE_ALIAS | UNION | USE => true,\n             _ => false,\n         }\n     }\n@@ -2832,12 +2833,12 @@ impl AstNode for Item {\n             EXTERN_BLOCK => Item::ExternBlock(ExternBlock { syntax }),\n             EXTERN_CRATE => Item::ExternCrate(ExternCrate { syntax }),\n             FN => Item::Fn(Fn { syntax }),\n-            IMPL_DEF => Item::ImplDef(ImplDef { syntax }),\n+            IMPL => Item::Impl(Impl { syntax }),\n             MACRO_CALL => Item::MacroCall(MacroCall { syntax }),\n             MODULE => Item::Module(Module { syntax }),\n             STATIC => Item::Static(Static { syntax }),\n             STRUCT => Item::Struct(Struct { syntax }),\n-            TRAIT_DEF => Item::TraitDef(TraitDef { syntax }),\n+            TRAIT => Item::Trait(Trait { syntax }),\n             TYPE_ALIAS => Item::TypeAlias(TypeAlias { syntax }),\n             UNION => Item::Union(Union { syntax }),\n             USE => Item::Use(Use { syntax }),\n@@ -2852,12 +2853,12 @@ impl AstNode for Item {\n             Item::ExternBlock(it) => &it.syntax,\n             Item::ExternCrate(it) => &it.syntax,\n             Item::Fn(it) => &it.syntax,\n-            Item::ImplDef(it) => &it.syntax,\n+            Item::Impl(it) => &it.syntax,\n             Item::MacroCall(it) => &it.syntax,\n             Item::Module(it) => &it.syntax,\n             Item::Static(it) => &it.syntax,\n             Item::Struct(it) => &it.syntax,\n-            Item::TraitDef(it) => &it.syntax,\n+            Item::Trait(it) => &it.syntax,\n             Item::TypeAlias(it) => &it.syntax,\n             Item::Union(it) => &it.syntax,\n             Item::Use(it) => &it.syntax,\n@@ -3491,7 +3492,7 @@ impl std::fmt::Display for Fn {\n         std::fmt::Display::fmt(self.syntax(), f)\n     }\n }\n-impl std::fmt::Display for ImplDef {\n+impl std::fmt::Display for Impl {\n     fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {\n         std::fmt::Display::fmt(self.syntax(), f)\n     }\n@@ -3516,7 +3517,7 @@ impl std::fmt::Display for Struct {\n         std::fmt::Display::fmt(self.syntax(), f)\n     }\n }\n-impl std::fmt::Display for TraitDef {\n+impl std::fmt::Display for Trait {\n     fn fmt(&self, f: &mut std::fmt::Formatter<'_>) -> std::fmt::Result {\n         std::fmt::Display::fmt(self.syntax(), f)\n     }"}, {"sha": "313f5222610518414fe8095fa2f1bc56233fbcdc", "filename": "crates/ra_syntax/src/ast/node_ext.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Fsrc%2Fast%2Fnode_ext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Fsrc%2Fast%2Fnode_ext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fast%2Fnode_ext.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -141,7 +141,7 @@ impl ast::UseTreeList {\n     }\n }\n \n-impl ast::ImplDef {\n+impl ast::Impl {\n     pub fn target_type(&self) -> Option<ast::TypeRef> {\n         match self.target() {\n             (Some(t), None) | (_, Some(t)) => Some(t),\n@@ -481,10 +481,10 @@ impl ast::DocCommentsOwner for ast::RecordField {}\n impl ast::DocCommentsOwner for ast::TupleField {}\n impl ast::DocCommentsOwner for ast::Enum {}\n impl ast::DocCommentsOwner for ast::Variant {}\n-impl ast::DocCommentsOwner for ast::TraitDef {}\n+impl ast::DocCommentsOwner for ast::Trait {}\n impl ast::DocCommentsOwner for ast::Module {}\n impl ast::DocCommentsOwner for ast::Static {}\n impl ast::DocCommentsOwner for ast::Const {}\n impl ast::DocCommentsOwner for ast::TypeAlias {}\n-impl ast::DocCommentsOwner for ast::ImplDef {}\n+impl ast::DocCommentsOwner for ast::Impl {}\n impl ast::DocCommentsOwner for ast::MacroCall {}"}, {"sha": "6d1828d203946b0d7fe9b69731ee71c593be5301", "filename": "crates/ra_syntax/src/parsing/text_tree_sink.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Fsrc%2Fparsing%2Ftext_tree_sink.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Fsrc%2Fparsing%2Ftext_tree_sink.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fparsing%2Ftext_tree_sink.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -146,7 +146,7 @@ fn n_attached_trivias<'a>(\n     trivias: impl Iterator<Item = (SyntaxKind, &'a str)>,\n ) -> usize {\n     match kind {\n-        MACRO_CALL | CONST | TYPE_ALIAS | STRUCT | ENUM | VARIANT | FN | TRAIT_DEF | MODULE\n+        MACRO_CALL | CONST | TYPE_ALIAS | STRUCT | ENUM | VARIANT | FN | TRAIT | MODULE\n         | RECORD_FIELD | STATIC => {\n             let mut res = 0;\n             let mut trivias = trivias.enumerate().peekable();"}, {"sha": "0325ab0b4209a7d1b5ddc2ee0e25df4f0ea40795", "filename": "crates/ra_syntax/src/validation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Fsrc%2Fvalidation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Fsrc%2Fvalidation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Fsrc%2Fvalidation.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -204,7 +204,7 @@ fn validate_visibility(vis: ast::Visibility, errors: &mut Vec<SyntaxError>) {\n         _ => return,\n     }\n \n-    let impl_def = match parent.parent().and_then(|it| it.parent()).and_then(ast::ImplDef::cast) {\n+    let impl_def = match parent.parent().and_then(|it| it.parent()).and_then(ast::Impl::cast) {\n         Some(it) => it,\n         None => return,\n     };"}, {"sha": "bc95b851288d97df4d989e273ce002b533b306c4", "filename": "crates/ra_syntax/test_data/parser/err/0018_incomplete_fn.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0018_incomplete_fn.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0018_incomplete_fn.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0018_incomplete_fn.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..183\n-  IMPL_DEF@0..182\n+  IMPL@0..182\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..13"}, {"sha": "71fb19783ad155005f3f666be64b4124998a1e1c", "filename": "crates/ra_syntax/test_data/parser/err/0022_bad_exprs.rast", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0022_bad_exprs.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0022_bad_exprs.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0022_bad_exprs.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -75,7 +75,7 @@ SOURCE_FILE@0..112\n         ERROR@54..55\n           COMMA@54..55 \",\"\n       WHITESPACE@55..56 \" \"\n-      IMPL_DEF@56..60\n+      IMPL@56..60\n         IMPL_KW@56..60 \"impl\"\n       EXPR_STMT@60..61\n         ERROR@60..61\n@@ -133,7 +133,7 @@ SOURCE_FILE@0..112\n         ERROR@96..97\n           COMMA@96..97 \",\"\n       WHITESPACE@97..98 \" \"\n-      TRAIT_DEF@98..104\n+      TRAIT@98..104\n         TRAIT_KW@98..103 \"trait\"\n         ERROR@103..104\n           COMMA@103..104 \",\""}, {"sha": "7e4b11c2720e306aabeceeb64bdd7447845465db", "filename": "crates/ra_syntax/test_data/parser/err/0026_imp_recovery.rast", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0026_imp_recovery.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0026_imp_recovery.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0026_imp_recovery.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..38\n-  IMPL_DEF@0..14\n+  IMPL@0..14\n     IMPL_KW@0..4 \"impl\"\n     GENERIC_PARAM_LIST@4..14\n       L_ANGLE@4..5 \"<\"\n@@ -17,7 +17,7 @@ SOURCE_FILE@0..38\n                     IDENT@8..13 \"Clone\"\n       R_ANGLE@13..14 \">\"\n   WHITESPACE@14..15 \"\\n\"\n-  IMPL_DEF@15..37\n+  IMPL@15..37\n     IMPL_KW@15..19 \"impl\"\n     GENERIC_PARAM_LIST@19..22\n       L_ANGLE@19..20 \"<\""}, {"sha": "faf87d6e5cc78e4109362fe6182bcf4c9c5bf2fa", "filename": "crates/ra_syntax/test_data/parser/err/0037_visibility_in_traits.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0037_visibility_in_traits.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0037_visibility_in_traits.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0037_visibility_in_traits.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..118\n-  IMPL_DEF@0..117\n+  IMPL@0..117\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..6"}, {"sha": "51ad2a846fadef0e193f9d85719c729cb4fd116f", "filename": "crates/ra_syntax/test_data/parser/err/0043_default_const.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0043_default_const.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0043_default_const.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0043_default_const.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..39\n-  TRAIT_DEF@0..38\n+  TRAIT@0..38\n     TRAIT_KW@0..5 \"trait\"\n     WHITESPACE@5..6 \" \"\n     NAME@6..7"}, {"sha": "a4271fc87ab216f695f7f1bece8458b8de1181b8", "filename": "crates/ra_syntax/test_data/parser/inline/err/0002_misplaced_label_err.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0002_misplaced_label_err.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0002_misplaced_label_err.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0002_misplaced_label_err.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -17,7 +17,7 @@ SOURCE_FILE@0..30\n             LIFETIME@16..21 \"\\'loop\"\n             COLON@21..22 \":\"\n       WHITESPACE@22..23 \" \"\n-      IMPL_DEF@23..27\n+      IMPL@23..27\n         IMPL_KW@23..27 \"impl\"\n       WHITESPACE@27..28 \"\\n\"\n       R_CURLY@28..29 \"}\""}, {"sha": "29d6b3974021da4741b72f53fce77c173acbac75", "filename": "crates/ra_syntax/test_data/parser/inline/err/0004_impl_type.rast", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0004_impl_type.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0004_impl_type.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0004_impl_type.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..87\n-  IMPL_DEF@0..12\n+  IMPL@0..12\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..9\n@@ -12,7 +12,7 @@ SOURCE_FILE@0..87\n       L_CURLY@10..11 \"{\"\n       R_CURLY@11..12 \"}\"\n   WHITESPACE@12..13 \"\\n\"\n-  IMPL_DEF@13..33\n+  IMPL@13..33\n     IMPL_KW@13..17 \"impl\"\n     WHITESPACE@17..18 \" \"\n     PATH_TYPE@18..24\n@@ -33,10 +33,10 @@ SOURCE_FILE@0..87\n       L_CURLY@31..32 \"{\"\n       R_CURLY@32..33 \"}\"\n   WHITESPACE@33..34 \"\\n\"\n-  IMPL_DEF@34..38\n+  IMPL@34..38\n     IMPL_KW@34..38 \"impl\"\n   WHITESPACE@38..39 \" \"\n-  IMPL_DEF@39..54\n+  IMPL@39..54\n     IMPL_KW@39..43 \"impl\"\n     WHITESPACE@43..44 \" \"\n     PATH_TYPE@44..51\n@@ -49,7 +49,7 @@ SOURCE_FILE@0..87\n       L_CURLY@52..53 \"{\"\n       R_CURLY@53..54 \"}\"\n   WHITESPACE@54..55 \"\\n\"\n-  IMPL_DEF@55..70\n+  IMPL@55..70\n     IMPL_KW@55..59 \"impl\"\n     WHITESPACE@59..60 \" \"\n     PATH_TYPE@60..66\n@@ -60,7 +60,7 @@ SOURCE_FILE@0..87\n     WHITESPACE@66..67 \" \"\n     FOR_KW@67..70 \"for\"\n   WHITESPACE@70..71 \" \"\n-  IMPL_DEF@71..86\n+  IMPL@71..86\n     IMPL_KW@71..75 \"impl\"\n     WHITESPACE@75..76 \" \"\n     PATH_TYPE@76..83"}, {"sha": "acd72094b95a27e10b855df56ea19453fcbfeda7", "filename": "crates/ra_syntax/test_data/parser/inline/err/0014_default_fn_type.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0014_default_fn_type.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0014_default_fn_type.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Ferr%2F0014_default_fn_type.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..62\n-  TRAIT_DEF@0..61\n+  TRAIT@0..61\n     TRAIT_KW@0..5 \"trait\"\n     WHITESPACE@5..6 \" \"\n     NAME@6..7"}, {"sha": "c7289e4008adf9a2431729e56fe5fe55d682751d", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0001_trait_item_list.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0001_trait_item_list.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0001_trait_item_list.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0001_trait_item_list.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..83\n-  IMPL_DEF@0..82\n+  IMPL@0..82\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..6"}, {"sha": "ae61cbad82562a8b45bc392fe8ddb0c6ac7980f1", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0006_self_param.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0006_self_param.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0006_self_param.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0006_self_param.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..128\n-  IMPL_DEF@0..127\n+  IMPL@0..127\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..6"}, {"sha": "625ab4c2d9f6ac80b06ad841948a708b200457c5", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0016_unsafe_trait.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0016_unsafe_trait.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0016_unsafe_trait.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0016_unsafe_trait.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..18\n-  TRAIT_DEF@0..17\n+  TRAIT@0..17\n     UNSAFE_KW@0..6 \"unsafe\"\n     WHITESPACE@6..7 \" \"\n     TRAIT_KW@7..12 \"trait\""}, {"sha": "20b2b6c193efa5c02b08d5f177945fa95f6244fd", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0018_arb_self_types.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0018_arb_self_types.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0018_arb_self_types.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0018_arb_self_types.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..69\n-  IMPL_DEF@0..68\n+  IMPL@0..68\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..6"}, {"sha": "ca0702aba599bc446ca02910ec9ad5004e5963c7", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0021_impl_item_list.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0021_impl_item_list.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0021_impl_item_list.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0021_impl_item_list.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..89\n-  IMPL_DEF@0..88\n+  IMPL@0..88\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..6"}, {"sha": "3638462f8b2664dc05099eb744c9d7cd70c50c12", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0041_trait_item.rast", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0041_trait_item.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0041_trait_item.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0041_trait_item.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..101\n-  TRAIT_DEF@0..41\n+  TRAIT@0..41\n     TRAIT_KW@0..5 \"trait\"\n     WHITESPACE@5..6 \" \"\n     NAME@6..7\n@@ -52,7 +52,7 @@ SOURCE_FILE@0..101\n       L_CURLY@39..40 \"{\"\n       R_CURLY@40..41 \"}\"\n   WHITESPACE@41..42 \"\\n\"\n-  TRAIT_DEF@42..100\n+  TRAIT@42..100\n     TRAIT_KW@42..47 \"trait\"\n     WHITESPACE@47..48 \" \"\n     NAME@48..49"}, {"sha": "d6dfa83b709bfc5e1d605cf845b11a6b3bb33212", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0047_unsafe_default_impl.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0047_unsafe_default_impl.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0047_unsafe_default_impl.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0047_unsafe_default_impl.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..27\n-  IMPL_DEF@0..26\n+  IMPL@0..26\n     UNSAFE_KW@0..6 \"unsafe\"\n     WHITESPACE@6..7 \" \"\n     DEFAULT_KW@7..14 \"default\""}, {"sha": "a5bf55131dd5d7aa883e3376c9683d1c42d6ddc0", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0050_fn_decl.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0050_fn_decl.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0050_fn_decl.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0050_fn_decl.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..22\n-  TRAIT_DEF@0..21\n+  TRAIT@0..21\n     TRAIT_KW@0..5 \"trait\"\n     WHITESPACE@5..6 \" \"\n     NAME@6..7"}, {"sha": "4368930cc9130f3861624e1b3a03fa4d0641d44b", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0063_impl_def_neg.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0063_impl_def_neg.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0063_impl_def_neg.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0063_impl_def_neg.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..20\n-  IMPL_DEF@0..19\n+  IMPL@0..19\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     BANG@5..6 \"!\""}, {"sha": "209711fc49637711f6895a09babdfeb1e4648f04", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0079_impl_def.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0079_impl_def.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0079_impl_def.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0079_impl_def.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..12\n-  IMPL_DEF@0..11\n+  IMPL@0..11\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..8"}, {"sha": "43c09affedf2f73d0caa7c595fb8cc6874c41020", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0087_unsafe_impl.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0087_unsafe_impl.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0087_unsafe_impl.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0087_unsafe_impl.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..19\n-  IMPL_DEF@0..18\n+  IMPL@0..18\n     UNSAFE_KW@0..6 \"unsafe\"\n     WHITESPACE@6..7 \" \"\n     IMPL_KW@7..11 \"impl\""}, {"sha": "0cac9ac431fd5fe797e58b9b9757d8710979ae05", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0091_auto_trait.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0091_auto_trait.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0091_auto_trait.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0091_auto_trait.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..16\n-  TRAIT_DEF@0..15\n+  TRAIT@0..15\n     AUTO_KW@0..4 \"auto\"\n     WHITESPACE@4..5 \" \"\n     TRAIT_KW@5..10 \"trait\""}, {"sha": "0ef11c6825e925f5e5d65eb1407107da4048f4fd", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0094_unsafe_auto_trait.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0094_unsafe_auto_trait.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0094_unsafe_auto_trait.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0094_unsafe_auto_trait.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..23\n-  TRAIT_DEF@0..22\n+  TRAIT@0..22\n     UNSAFE_KW@0..6 \"unsafe\"\n     WHITESPACE@6..7 \" \"\n     AUTO_KW@7..11 \"auto\""}, {"sha": "0a1b21d6e6865d30c38d6f5c5c960dbd5228981b", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0097_default_impl.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0097_default_impl.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0097_default_impl.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0097_default_impl.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..20\n-  IMPL_DEF@0..19\n+  IMPL@0..19\n     DEFAULT_KW@0..7 \"default\"\n     WHITESPACE@7..8 \" \"\n     IMPL_KW@8..12 \"impl\""}, {"sha": "141a7b2035f2824decb0e0db1658cae464a67358", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0118_impl_inner_attributes.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0118_impl_inner_attributes.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -8,7 +8,7 @@ SOURCE_FILE@0..94\n       L_CURLY@6..7 \"{\"\n       R_CURLY@7..8 \"}\"\n   WHITESPACE@8..9 \"\\n\"\n-  IMPL_DEF@9..93\n+  IMPL@9..93\n     IMPL_KW@9..13 \"impl\"\n     WHITESPACE@13..14 \" \"\n     PATH_TYPE@14..15"}, {"sha": "b8d26a53a5d24b34d47dc3b866e002b256f88edf", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0132_default_fn_type.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0132_default_fn_type.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0132_default_fn_type.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0132_default_fn_type.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..69\n-  IMPL_DEF@0..68\n+  IMPL@0..68\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..6"}, {"sha": "8f197a19d5f6cd94f5190f6c6b9c7a59c7c7fb0d", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0150_impl_type_params.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_impl_type_params.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_impl_type_params.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_impl_type_params.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..29\n-  IMPL_DEF@0..28\n+  IMPL@0..28\n     IMPL_KW@0..4 \"impl\"\n     GENERIC_PARAM_LIST@4..18\n       L_ANGLE@4..5 \"<\""}, {"sha": "cc220e5348aa01e2d50ddef08a84015f91adf9ca", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0151_trait_alias.rast", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0151_trait_alias.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0151_trait_alias.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0151_trait_alias.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..83\n-  TRAIT_DEF@0..18\n+  TRAIT@0..18\n     TRAIT_KW@0..5 \"trait\"\n     WHITESPACE@5..6 \" \"\n     NAME@6..7\n@@ -31,7 +31,7 @@ SOURCE_FILE@0..83\n                 R_ANGLE@16..17 \">\"\n     SEMICOLON@17..18 \";\"\n   WHITESPACE@18..19 \"\\n\"\n-  TRAIT_DEF@19..51\n+  TRAIT@19..51\n     TRAIT_KW@19..24 \"trait\"\n     WHITESPACE@24..25 \" \"\n     NAME@25..26\n@@ -82,7 +82,7 @@ SOURCE_FILE@0..83\n                     IDENT@46..50 \"Copy\"\n     SEMICOLON@50..51 \";\"\n   WHITESPACE@51..52 \"\\n\"\n-  TRAIT_DEF@52..82\n+  TRAIT@52..82\n     TRAIT_KW@52..57 \"trait\"\n     WHITESPACE@57..58 \" \"\n     NAME@58..59"}, {"sha": "1269621dc2da6f0af8302485d70337de7bbaf510", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0163_default_unsafe_fn.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0163_default_unsafe_fn.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0163_default_unsafe_fn.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0163_default_unsafe_fn.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..50\n-  IMPL_DEF@0..49\n+  IMPL@0..49\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..6"}, {"sha": "6bfe925af256ce68c45edbc9213be5967ade7f64", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0163_default_unsafe_impl.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0163_default_unsafe_impl.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0163_default_unsafe_impl.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0163_default_unsafe_impl.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..27\n-  IMPL_DEF@0..26\n+  IMPL@0..26\n     DEFAULT_KW@0..7 \"default\"\n     WHITESPACE@7..8 \" \"\n     UNSAFE_KW@8..14 \"unsafe\""}, {"sha": "280d4cb82b3dcae13cd2432a33924fd3ecc6a401", "filename": "crates/ra_syntax/test_data/parser/ok/0030_traits.rast", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0030_traits.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0030_traits.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0030_traits.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..96\n-  TRAIT_DEF@0..36\n+  TRAIT@0..36\n     TRAIT_KW@0..5 \"trait\"\n     WHITESPACE@5..6 \" \"\n     NAME@6..14\n@@ -20,7 +20,7 @@ SOURCE_FILE@0..96\n       WHITESPACE@34..35 \"\\n\"\n       R_CURLY@35..36 \"}\"\n   WHITESPACE@36..38 \"\\n\\n\"\n-  TRAIT_DEF@38..95\n+  TRAIT@38..95\n     TRAIT_KW@38..43 \"trait\"\n     WHITESPACE@43..44 \" \"\n     NAME@44..57"}, {"sha": "ed29b0812c98b6bf232fa8dca8878b57124e9e99", "filename": "crates/ra_syntax/test_data/parser/ok/0042_ufcs_call_list.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0042_ufcs_call_list.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0042_ufcs_call_list.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0042_ufcs_call_list.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -8,7 +8,7 @@ SOURCE_FILE@0..199\n       IDENT@69..72 \"Foo\"\n     SEMICOLON@72..73 \";\"\n   WHITESPACE@73..75 \"\\n\\n\"\n-  IMPL_DEF@75..141\n+  IMPL@75..141\n     IMPL_KW@75..79 \"impl\"\n     WHITESPACE@79..80 \" \"\n     PATH_TYPE@80..83"}, {"sha": "139ce90469a0afc645c5ef96e90b1fe1fa1b797d", "filename": "crates/ra_syntax/test_data/parser/ok/0045_block_inner_attrs.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0045_block_inner_attrs.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0045_block_inner_attrs.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0045_block_inner_attrs.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -89,7 +89,7 @@ SOURCE_FILE@0..686\n   WHITESPACE@461..463 \"\\n\\n\"\n   COMMENT@463..523 \"// https://github.com ...\"\n   WHITESPACE@523..524 \"\\n\"\n-  IMPL_DEF@524..685\n+  IMPL@524..685\n     IMPL_KW@524..528 \"impl\"\n     WHITESPACE@528..529 \" \"\n     PATH_TYPE@529..537"}, {"sha": "2cc84978443f65502759e5ede4afbfb44a69718c", "filename": "crates/ra_syntax/test_data/parser/ok/0051_parameter_attrs.rast", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0051_parameter_attrs.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0051_parameter_attrs.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0051_parameter_attrs.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -186,7 +186,7 @@ SOURCE_FILE@0..519\n       L_CURLY@170..171 \"{\"\n       R_CURLY@171..172 \"}\"\n   WHITESPACE@172..174 \"\\n\\n\"\n-  TRAIT_DEF@174..236\n+  TRAIT@174..236\n     TRAIT_KW@174..179 \"trait\"\n     WHITESPACE@179..180 \" \"\n     NAME@180..183\n@@ -251,7 +251,7 @@ SOURCE_FILE@0..519\n       WHITESPACE@234..235 \"\\n\"\n       R_CURLY@235..236 \"}\"\n   WHITESPACE@236..238 \"\\n\\n\"\n-  IMPL_DEF@238..519\n+  IMPL@238..519\n     IMPL_KW@238..242 \"impl\"\n     WHITESPACE@242..243 \" \"\n     PATH_TYPE@243..244"}, {"sha": "facce8167f6243cc095a50b9fbdebeb76d1e6756", "filename": "crates/ra_syntax/test_data/parser/ok/0063_trait_fn_patterns.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0063_trait_fn_patterns.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0063_trait_fn_patterns.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0063_trait_fn_patterns.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..170\n-  TRAIT_DEF@0..169\n+  TRAIT@0..169\n     TRAIT_KW@0..5 \"trait\"\n     WHITESPACE@5..6 \" \"\n     NAME@6..7"}, {"sha": "453757c3cd487648b5bd1da27e7a1e7d740019f7", "filename": "crates/ra_syntax/test_data/parser/ok/0064_impl_fn_params.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0064_impl_fn_params.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0064_impl_fn_params.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0064_impl_fn_params.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..137\n-  IMPL_DEF@0..136\n+  IMPL@0..136\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..6"}, {"sha": "6246a31a664d5fee2efaf1a2ebdd0e898a4098db", "filename": "crates/ra_syntax/test_data/parser/ok/0066_default_const.rast", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0066_default_const.rast", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0066_default_const.rast", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Fok%2F0066_default_const.rast?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -1,5 +1,5 @@\n SOURCE_FILE@0..46\n-  IMPL_DEF@0..45\n+  IMPL@0..45\n     IMPL_KW@0..4 \"impl\"\n     WHITESPACE@4..5 \" \"\n     PATH_TYPE@5..6"}, {"sha": "62ed6880b325ae2779f58fb36c63cabf063e07dc", "filename": "crates/rust-analyzer/src/handlers.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fhandlers.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -924,7 +924,7 @@ pub(crate) fn handle_code_lens(\n                 .filter(|it| {\n                     matches!(\n                         it.kind,\n-                        SyntaxKind::TRAIT_DEF\n+                        SyntaxKind::TRAIT\n                             | SyntaxKind::STRUCT\n                             | SyntaxKind::ENUM\n                             | SyntaxKind::UNION"}, {"sha": "fadcc5853bbba39448ea029e17585d76928c1423", "filename": "crates/rust-analyzer/src/to_proto.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fto_proto.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -35,14 +35,14 @@ pub(crate) fn symbol_kind(syntax_kind: SyntaxKind) -> lsp_types::SymbolKind {\n         SyntaxKind::STRUCT => lsp_types::SymbolKind::Struct,\n         SyntaxKind::ENUM => lsp_types::SymbolKind::Enum,\n         SyntaxKind::VARIANT => lsp_types::SymbolKind::EnumMember,\n-        SyntaxKind::TRAIT_DEF => lsp_types::SymbolKind::Interface,\n+        SyntaxKind::TRAIT => lsp_types::SymbolKind::Interface,\n         SyntaxKind::MACRO_CALL => lsp_types::SymbolKind::Function,\n         SyntaxKind::MODULE => lsp_types::SymbolKind::Module,\n         SyntaxKind::TYPE_ALIAS => lsp_types::SymbolKind::TypeParameter,\n         SyntaxKind::RECORD_FIELD => lsp_types::SymbolKind::Field,\n         SyntaxKind::STATIC => lsp_types::SymbolKind::Constant,\n         SyntaxKind::CONST => lsp_types::SymbolKind::Constant,\n-        SyntaxKind::IMPL_DEF => lsp_types::SymbolKind::Object,\n+        SyntaxKind::IMPL => lsp_types::SymbolKind::Object,\n         _ => lsp_types::SymbolKind::Variable,\n     }\n }"}, {"sha": "c7087a14ec40787efe49b58e961b614605273f22", "filename": "xtask/src/ast_src.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/xtask%2Fsrc%2Fast_src.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/xtask%2Fsrc%2Fast_src.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/xtask%2Fsrc%2Fast_src.rs?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -103,8 +103,8 @@ pub(crate) const KINDS_SRC: KindsSrc = KindsSrc {\n         \"USE\",\n         \"STATIC\",\n         \"CONST\",\n-        \"TRAIT_DEF\",\n-        \"IMPL_DEF\",\n+        \"TRAIT\",\n+        \"IMPL\",\n         \"TYPE_ALIAS\",\n         \"MACRO_CALL\",\n         \"TOKEN_TREE\","}, {"sha": "cda0e8fbb5f1d512c5c320ede033e840f953e719", "filename": "xtask/src/codegen/rust.ungram", "status": "modified", "additions": 14, "deletions": 8, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/0f5805541be90a2789b0bc34c5d829042ac3b0ad/xtask%2Fsrc%2Fcodegen%2Frust.ungram", "raw_url": "https://github.com/rust-lang/rust/raw/0f5805541be90a2789b0bc34c5d829042ac3b0ad/xtask%2Fsrc%2Fcodegen%2Frust.ungram", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/xtask%2Fsrc%2Fcodegen%2Frust.ungram?ref=0f5805541be90a2789b0bc34c5d829042ac3b0ad", "patch": "@@ -9,12 +9,12 @@ Item =\n | ExternBlock\n | ExternCrate\n | Fn\n-| ImplDef\n+| Impl\n | MacroCall\n | Module\n | Static\n | Struct\n-| TraitDef\n+| Trait\n | TypeAlias\n | Union\n | Use\n@@ -66,8 +66,11 @@ SelfParam =\n   )\n \n Param =\n-  Attr* Pat (':' ascribed_type:TypeRef)\n-| '...'\n+  Attr* (\n+    Pat (':' ascribed_type:TypeRef)\n+  | ascribed_type:TypeRef\n+  | '...'\n+  )\n \n RetType =\n   '->' TypeRef\n@@ -120,17 +123,20 @@ Static =\n   Attr* Visibility? 'static'? 'mut'? Name ':' ascribed_type:TypeRef\n   '=' body:Expr ';'\n \n-TraitDef =\n+Trait =\n   Attr* Visibility? 'unsafe'? 'auto'? 'trait' Name GenericParamList\n   (':' TypeBoundList?)? WhereClause\n   AssocItemList\n \n AssocItemList =\n   '{' AssocItem* '}'\n \n-ImplDef =\n- Attr* Visibility? 'const'? 'default'? 'unsafe'? 'impl' GenericParamList? '!'? 'for'\n- WhereClause?\n+Impl =\n+ Attr* Visibility?\n+ 'default'? 'unsafe'? 'impl' 'const'? GenericParamList? (\n+   TypeRef\n+ | '!'? TypeRef 'for' TypeRef\n+ ) WhereClause?\n  AssocItemList\n \n ParenType ="}]}