{"sha": "3d3b6784d11b7b3cb96a29795945b742f7a6be1c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNkM2I2Nzg0ZDExYjdiM2NiOTZhMjk3OTU5NDViNzQyZjdhNmJlMWM=", "commit": {"author": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2017-01-26T02:44:54Z"}, "committer": {"name": "Nick Cameron", "email": "ncameron@mozilla.com", "date": "2017-01-26T02:44:54Z"}, "message": "Nits", "tree": {"sha": "94f19f9d9161996ab0f9822f32948079e504e409", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/94f19f9d9161996ab0f9822f32948079e504e409"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3d3b6784d11b7b3cb96a29795945b742f7a6be1c", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3d3b6784d11b7b3cb96a29795945b742f7a6be1c", "html_url": "https://github.com/rust-lang/rust/commit/3d3b6784d11b7b3cb96a29795945b742f7a6be1c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3d3b6784d11b7b3cb96a29795945b742f7a6be1c/comments", "author": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nrc", "id": 762626, "node_id": "MDQ6VXNlcjc2MjYyNg==", "avatar_url": "https://avatars.githubusercontent.com/u/762626?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nrc", "html_url": "https://github.com/nrc", "followers_url": "https://api.github.com/users/nrc/followers", "following_url": "https://api.github.com/users/nrc/following{/other_user}", "gists_url": "https://api.github.com/users/nrc/gists{/gist_id}", "starred_url": "https://api.github.com/users/nrc/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nrc/subscriptions", "organizations_url": "https://api.github.com/users/nrc/orgs", "repos_url": "https://api.github.com/users/nrc/repos", "events_url": "https://api.github.com/users/nrc/events{/privacy}", "received_events_url": "https://api.github.com/users/nrc/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2261947f6ea31e8f2063a2ec7e2f26545acf2201", "url": "https://api.github.com/repos/rust-lang/rust/commits/2261947f6ea31e8f2063a2ec7e2f26545acf2201", "html_url": "https://github.com/rust-lang/rust/commit/2261947f6ea31e8f2063a2ec7e2f26545acf2201"}], "stats": {"total": 9, "additions": 6, "deletions": 3}, "files": [{"sha": "57f237d8dae376f90f668333e73c9a9a3c22cc58", "filename": "src/items.rs", "status": "modified", "additions": 6, "deletions": 3, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/3d3b6784d11b7b3cb96a29795945b742f7a6be1c/src%2Fitems.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3d3b6784d11b7b3cb96a29795945b742f7a6be1c/src%2Fitems.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fitems.rs?ref=3d3b6784d11b7b3cb96a29795945b742f7a6be1c", "patch": "@@ -1349,8 +1349,6 @@ fn rewrite_fn_base(context: &RewriteContext,\n                    has_body: bool)\n                    -> Option<(String, bool)> {\n     let mut force_new_line_for_brace = false;\n-    // FIXME we'll lose any comments in between parts of the function decl, but\n-    // anyone who comments there probably deserves what they get.\n \n     let where_clause = &generics.where_clause;\n \n@@ -1410,7 +1408,7 @@ fn rewrite_fn_base(context: &RewriteContext,\n            multi_line_budget,\n            arg_indent);\n \n-    // Check if vertical layout was forced by compute_budget_for_args.\n+    // Check if vertical layout was forced.\n     if one_line_budget == 0 {\n         if context.config.fn_args_paren_newline {\n             result.push('\\n');\n@@ -1721,6 +1719,11 @@ fn compute_budgets_for_args(context: &RewriteContext,\n                             ret_str_len: usize,\n                             newline_brace: bool)\n                             -> Option<((usize, usize, Indent))> {\n+    debug!(\"compute_budgets_for_args {} {:?}, {}, {}\",\n+           result.len(),\n+           indent,\n+           ret_str_len,\n+           newline_brace);\n     // Try keeping everything on the same line.\n     if !result.contains('\\n') {\n         // 3 = `() `, space is before ret_string."}]}