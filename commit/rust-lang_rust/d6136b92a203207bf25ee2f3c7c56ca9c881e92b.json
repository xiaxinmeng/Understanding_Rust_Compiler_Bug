{"sha": "d6136b92a203207bf25ee2f3c7c56ca9c881e92b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ2MTM2YjkyYTIwMzIwN2JmMjVlZTJmM2M3YzU2Y2E5Yzg4MWU5MmI=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2020-03-28T12:08:57Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2020-06-07T19:16:05Z"}, "message": "split unnested_or_patterns test", "tree": {"sha": "6a28675ac596e988c893e32f86082c5bb4ad0b85", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6a28675ac596e988c893e32f86082c5bb4ad0b85"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d6136b92a203207bf25ee2f3c7c56ca9c881e92b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEqv54U47RUUXZfOLnLO/Nsn7QvnkFAl7dPPUACgkQLO/Nsn7Q\nvnl1bg/+K0OuQWhqYAAXLJ2l8tDeQh21Z4kUR2BfX8Ib6WQkvTdLmSnHM8nMKtqz\noZp3WTDEBvJ2mMHV5HpEPUQRfx0a/RpsLxCbWHa+KXbZXOu5HN3rJUELzirRI4Tb\n2HsVeo425ANwzdwpUs+KLd/uqVtDxUR/RcRekerjTxe8SL2XqKJyqqppVPNG97bB\nvoBRKEKmCW2sIeH3efp9oC9n2CEJxixbmCnq45gKKkgTdw6Tun7cDxn+bhUWzhOz\n4BpCykBrRUE9OiYXOJAeNw8pXgGQKwR9ts3m0OmAbHadSxM+Bs7nw6awGOtMX9Na\nkJfmWWccBwgxzqs/KfHTXXrauKBMgHrt0sG3JVQ18ism1xGEv5nE1nSrmtp0RLV+\nq12NqXp6lkxP0cb7RAnIeOTWs1cSXi9N67a4Me8ZQGV5KwZf2Ic83LGW2d6U1VdV\nfhQk2EOvTk6pLccu/cgHjY5ay9BYSdn54bBwAKP/wWd0Qx01NbN84yCWNacQ0L1N\nICbEHfd+T3SglFQzSq2V8Rl3S4uuLrIbvxS9vDINhb1DP++HeOkZ0Atp+JpYLNgW\n1qjM1Inf8/UasGwKjLl6mY6gpyNPD0OEWxO42Xyva6wuegdhM4eSp71ySOxocmyI\n3DXhGv0T2ocAsbzitrvnRSK7epSWXrDEj3VuC5DCGU7PLUZRsPY=\n=48H5\n-----END PGP SIGNATURE-----", "payload": "tree 6a28675ac596e988c893e32f86082c5bb4ad0b85\nparent 78f158e80e3a2ec8022e6cd6b2f62b17b3e96b57\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1585397337 +0100\ncommitter flip1995 <hello@philkrones.com> 1591557365 +0200\n\nsplit unnested_or_patterns test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d6136b92a203207bf25ee2f3c7c56ca9c881e92b", "html_url": "https://github.com/rust-lang/rust/commit/d6136b92a203207bf25ee2f3c7c56ca9c881e92b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "78f158e80e3a2ec8022e6cd6b2f62b17b3e96b57", "url": "https://api.github.com/repos/rust-lang/rust/commits/78f158e80e3a2ec8022e6cd6b2f62b17b3e96b57", "html_url": "https://github.com/rust-lang/rust/commit/78f158e80e3a2ec8022e6cd6b2f62b17b3e96b57"}], "stats": {"total": 233, "additions": 128, "deletions": 105}, "files": [{"sha": "b39e891094fd93fb12a53ea73018ed33745a9e8d", "filename": "tests/ui/unnested_or_patterns.fixed", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns.fixed?ref=d6136b92a203207bf25ee2f3c7c56ca9c881e92b", "patch": "@@ -30,12 +30,4 @@ fn main() {\n     }\n     if let S { x: 0 | 1, y } = (S { x: 0, y: 1 }) {}\n     if let S { x: 0, y, .. } | S { y, x: 1 } = (S { x: 0, y: 1 }) {}\n-    if let Some(Some(0 | 1)) = None {}\n-    if let Some(Some(0 | 1 | 2)) = None {}\n-    if let Some(Some(0 | 1 | 2 | 3 | 4)) = None {}\n-    if let Some(Some(0 | 1 | 2)) = None {}\n-    if let ((0 | 1 | 2,),) = ((0,),) {}\n-    if let 0 | 1 | 2 = 0 {}\n-    if let box (0 | 1 | 2 | 3 | 4) = Box::new(0) {}\n-    if let box box (0 | 2 | 4) = Box::new(Box::new(0)) {}\n }"}, {"sha": "096f5a71150b88712d81ec2441c4964a0535e173", "filename": "tests/ui/unnested_or_patterns.rs", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns.rs?ref=d6136b92a203207bf25ee2f3c7c56ca9c881e92b", "patch": "@@ -30,12 +30,4 @@ fn main() {\n     }\n     if let S { x: 0, y } | S { y, x: 1 } = (S { x: 0, y: 1 }) {}\n     if let S { x: 0, y, .. } | S { y, x: 1 } = (S { x: 0, y: 1 }) {}\n-    if let Some(Some(0)) | Some(Some(1)) = None {}\n-    if let Some(Some(0)) | Some(Some(1) | Some(2)) = None {}\n-    if let Some(Some(0 | 1) | Some(2)) | Some(Some(3) | Some(4)) = None {}\n-    if let Some(Some(0) | Some(1 | 2)) = None {}\n-    if let ((0,),) | ((1,) | (2,),) = ((0,),) {}\n-    if let 0 | (1 | 2) = 0 {}\n-    if let box (0 | 1) | (box 2 | box (3 | 4)) = Box::new(0) {}\n-    if let box box 0 | box (box 2 | box 4) = Box::new(Box::new(0)) {}\n }"}, {"sha": "1899dc657dfee45931a7934e172dc952ce4c8745", "filename": "tests/ui/unnested_or_patterns.stderr", "status": "modified", "additions": 1, "deletions": 89, "changes": 90, "blob_url": "https://github.com/rust-lang/rust/blob/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns.stderr?ref=d6136b92a203207bf25ee2f3c7c56ca9c881e92b", "patch": "@@ -175,93 +175,5 @@ help: nest the patterns\n LL |     if let S { x: 0 | 1, y } = (S { x: 0, y: 1 }) {}\n    |            ^^^^^^^^^^^^^^^^^\n \n-error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:33:12\n-   |\n-LL |     if let Some(Some(0)) | Some(Some(1)) = None {}\n-   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-   |\n-help: nest the patterns\n-   |\n-LL |     if let Some(Some(0 | 1)) = None {}\n-   |            ^^^^^^^^^^^^^^^^^\n-\n-error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:34:12\n-   |\n-LL |     if let Some(Some(0)) | Some(Some(1) | Some(2)) = None {}\n-   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-   |\n-help: nest the patterns\n-   |\n-LL |     if let Some(Some(0 | 1 | 2)) = None {}\n-   |            ^^^^^^^^^^^^^^^^^^^^^\n-\n-error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:35:12\n-   |\n-LL |     if let Some(Some(0 | 1) | Some(2)) | Some(Some(3) | Some(4)) = None {}\n-   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-   |\n-help: nest the patterns\n-   |\n-LL |     if let Some(Some(0 | 1 | 2 | 3 | 4)) = None {}\n-   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:36:12\n-   |\n-LL |     if let Some(Some(0) | Some(1 | 2)) = None {}\n-   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-   |\n-help: nest the patterns\n-   |\n-LL |     if let Some(Some(0 | 1 | 2)) = None {}\n-   |            ^^^^^^^^^^^^^^^^^^^^^\n-\n-error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:37:12\n-   |\n-LL |     if let ((0,),) | ((1,) | (2,),) = ((0,),) {}\n-   |            ^^^^^^^^^^^^^^^^^^^^^^^^\n-   |\n-help: nest the patterns\n-   |\n-LL |     if let ((0 | 1 | 2,),) = ((0,),) {}\n-   |            ^^^^^^^^^^^^^^^\n-\n-error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:38:12\n-   |\n-LL |     if let 0 | (1 | 2) = 0 {}\n-   |            ^^^^^^^^^^^\n-   |\n-help: nest the patterns\n-   |\n-LL |     if let 0 | 1 | 2 = 0 {}\n-   |            ^^^^^^^^^\n-\n-error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:39:12\n-   |\n-LL |     if let box (0 | 1) | (box 2 | box (3 | 4)) = Box::new(0) {}\n-   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-   |\n-help: nest the patterns\n-   |\n-LL |     if let box (0 | 1 | 2 | 3 | 4) = Box::new(0) {}\n-   |            ^^^^^^^^^^^^^^^^^^^^^^^\n-\n-error: unnested or-patterns\n-  --> $DIR/unnested_or_patterns.rs:40:12\n-   |\n-LL |     if let box box 0 | box (box 2 | box 4) = Box::new(Box::new(0)) {}\n-   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n-   |\n-help: nest the patterns\n-   |\n-LL |     if let box box (0 | 2 | 4) = Box::new(Box::new(0)) {}\n-   |            ^^^^^^^^^^^^^^^^^^^\n-\n-error: aborting due to 24 previous errors\n+error: aborting due to 16 previous errors\n "}, {"sha": "02a129c55a3f56f69fa0326087bf0fb3760dcfaa", "filename": "tests/ui/unnested_or_patterns2.fixed", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns2.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns2.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns2.fixed?ref=d6136b92a203207bf25ee2f3c7c56ca9c881e92b", "patch": "@@ -0,0 +1,18 @@\n+// run-rustfix\n+\n+#![feature(or_patterns)]\n+#![feature(box_patterns)]\n+#![warn(clippy::unnested_or_patterns)]\n+#![allow(clippy::cognitive_complexity, clippy::match_ref_pats)]\n+#![allow(unreachable_patterns, irrefutable_let_patterns, unused_variables)]\n+\n+fn main() {\n+    if let Some(Some(0 | 1)) = None {}\n+    if let Some(Some(0 | 1 | 2)) = None {}\n+    if let Some(Some(0 | 1 | 2 | 3 | 4)) = None {}\n+    if let Some(Some(0 | 1 | 2)) = None {}\n+    if let ((0 | 1 | 2,),) = ((0,),) {}\n+    if let 0 | 1 | 2 = 0 {}\n+    if let box (0 | 1 | 2 | 3 | 4) = Box::new(0) {}\n+    if let box box (0 | 2 | 4) = Box::new(Box::new(0)) {}\n+}"}, {"sha": "acf3158989dcc3db5bf6275930cb37e2839b183c", "filename": "tests/ui/unnested_or_patterns2.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns2.rs?ref=d6136b92a203207bf25ee2f3c7c56ca9c881e92b", "patch": "@@ -0,0 +1,18 @@\n+// run-rustfix\n+\n+#![feature(or_patterns)]\n+#![feature(box_patterns)]\n+#![warn(clippy::unnested_or_patterns)]\n+#![allow(clippy::cognitive_complexity, clippy::match_ref_pats)]\n+#![allow(unreachable_patterns, irrefutable_let_patterns, unused_variables)]\n+\n+fn main() {\n+    if let Some(Some(0)) | Some(Some(1)) = None {}\n+    if let Some(Some(0)) | Some(Some(1) | Some(2)) = None {}\n+    if let Some(Some(0 | 1) | Some(2)) | Some(Some(3) | Some(4)) = None {}\n+    if let Some(Some(0) | Some(1 | 2)) = None {}\n+    if let ((0,),) | ((1,) | (2,),) = ((0,),) {}\n+    if let 0 | (1 | 2) = 0 {}\n+    if let box (0 | 1) | (box 2 | box (3 | 4)) = Box::new(0) {}\n+    if let box box 0 | box (box 2 | box 4) = Box::new(Box::new(0)) {}\n+}"}, {"sha": "1847fd8e098c714305bceb449df0300405b81bb5", "filename": "tests/ui/unnested_or_patterns2.stderr", "status": "added", "additions": 91, "deletions": 0, "changes": 91, "blob_url": "https://github.com/rust-lang/rust/blob/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/d6136b92a203207bf25ee2f3c7c56ca9c881e92b/tests%2Fui%2Funnested_or_patterns2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Funnested_or_patterns2.stderr?ref=d6136b92a203207bf25ee2f3c7c56ca9c881e92b", "patch": "@@ -0,0 +1,91 @@\n+error: unnested or-patterns\n+  --> $DIR/unnested_or_patterns2.rs:10:12\n+   |\n+LL |     if let Some(Some(0)) | Some(Some(1)) = None {}\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = note: `-D clippy::unnested-or-patterns` implied by `-D warnings`\n+help: nest the patterns\n+   |\n+LL |     if let Some(Some(0 | 1)) = None {}\n+   |            ^^^^^^^^^^^^^^^^^\n+\n+error: unnested or-patterns\n+  --> $DIR/unnested_or_patterns2.rs:11:12\n+   |\n+LL |     if let Some(Some(0)) | Some(Some(1) | Some(2)) = None {}\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+help: nest the patterns\n+   |\n+LL |     if let Some(Some(0 | 1 | 2)) = None {}\n+   |            ^^^^^^^^^^^^^^^^^^^^^\n+\n+error: unnested or-patterns\n+  --> $DIR/unnested_or_patterns2.rs:12:12\n+   |\n+LL |     if let Some(Some(0 | 1) | Some(2)) | Some(Some(3) | Some(4)) = None {}\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+help: nest the patterns\n+   |\n+LL |     if let Some(Some(0 | 1 | 2 | 3 | 4)) = None {}\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+error: unnested or-patterns\n+  --> $DIR/unnested_or_patterns2.rs:13:12\n+   |\n+LL |     if let Some(Some(0) | Some(1 | 2)) = None {}\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+help: nest the patterns\n+   |\n+LL |     if let Some(Some(0 | 1 | 2)) = None {}\n+   |            ^^^^^^^^^^^^^^^^^^^^^\n+\n+error: unnested or-patterns\n+  --> $DIR/unnested_or_patterns2.rs:14:12\n+   |\n+LL |     if let ((0,),) | ((1,) | (2,),) = ((0,),) {}\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+help: nest the patterns\n+   |\n+LL |     if let ((0 | 1 | 2,),) = ((0,),) {}\n+   |            ^^^^^^^^^^^^^^^\n+\n+error: unnested or-patterns\n+  --> $DIR/unnested_or_patterns2.rs:15:12\n+   |\n+LL |     if let 0 | (1 | 2) = 0 {}\n+   |            ^^^^^^^^^^^\n+   |\n+help: nest the patterns\n+   |\n+LL |     if let 0 | 1 | 2 = 0 {}\n+   |            ^^^^^^^^^\n+\n+error: unnested or-patterns\n+  --> $DIR/unnested_or_patterns2.rs:16:12\n+   |\n+LL |     if let box (0 | 1) | (box 2 | box (3 | 4)) = Box::new(0) {}\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+help: nest the patterns\n+   |\n+LL |     if let box (0 | 1 | 2 | 3 | 4) = Box::new(0) {}\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^\n+\n+error: unnested or-patterns\n+  --> $DIR/unnested_or_patterns2.rs:17:12\n+   |\n+LL |     if let box box 0 | box (box 2 | box 4) = Box::new(Box::new(0)) {}\n+   |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+   |\n+help: nest the patterns\n+   |\n+LL |     if let box box (0 | 2 | 4) = Box::new(Box::new(0)) {}\n+   |            ^^^^^^^^^^^^^^^^^^^\n+\n+error: aborting due to 8 previous errors\n+"}]}