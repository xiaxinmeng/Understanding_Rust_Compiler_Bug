{"sha": "5531c314a2855aec368e811da6fcd9e98365af51", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU1MzFjMzE0YTI4NTVhZWMzNjhlODExZGE2ZmNkOWU5ODM2NWFmNTE=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2016-09-12T21:05:41Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2016-09-12T21:05:41Z"}, "message": "Auto merge of #36354 - mikhail-m1:master, r=jonathandturner\n\nfix span for errors E0537, E0535 & E0536\n\nfix #36182 as part of #35233", "tree": {"sha": "5a7d451c30abbfca75583e90aeb0d9b534a385fa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5a7d451c30abbfca75583e90aeb0d9b534a385fa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5531c314a2855aec368e811da6fcd9e98365af51", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5531c314a2855aec368e811da6fcd9e98365af51", "html_url": "https://github.com/rust-lang/rust/commit/5531c314a2855aec368e811da6fcd9e98365af51", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5531c314a2855aec368e811da6fcd9e98365af51/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f81f4964d26683c9a47ff4516a97ab84095d7bc9", "url": "https://api.github.com/repos/rust-lang/rust/commits/f81f4964d26683c9a47ff4516a97ab84095d7bc9", "html_url": "https://github.com/rust-lang/rust/commit/f81f4964d26683c9a47ff4516a97ab84095d7bc9"}, {"sha": "fb85dd398bad8043f73a349d42a1d8180b1048c4", "url": "https://api.github.com/repos/rust-lang/rust/commits/fb85dd398bad8043f73a349d42a1d8180b1048c4", "html_url": "https://github.com/rust-lang/rust/commit/fb85dd398bad8043f73a349d42a1d8180b1048c4"}], "stats": {"total": 34, "additions": 29, "deletions": 5}, "files": [{"sha": "a0defbc09dc042814d68e802fc2133ed3001e4aa", "filename": "src/libsyntax/parse/attr.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/5531c314a2855aec368e811da6fcd9e98365af51/src%2Flibsyntax%2Fparse%2Fattr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5531c314a2855aec368e811da6fcd9e98365af51/src%2Flibsyntax%2Fparse%2Fattr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Fparse%2Fattr.rs?ref=5531c314a2855aec368e811da6fcd9e98365af51", "patch": "@@ -125,7 +125,7 @@ impl<'a> Parser<'a> {\n \n                 self.expect(&token::OpenDelim(token::Bracket))?;\n                 let meta_item = self.parse_meta_item()?;\n-                let hi = self.span.hi;\n+                let hi = self.last_span.hi;\n                 self.expect(&token::CloseDelim(token::Bracket))?;\n \n                 (mk_sp(lo, hi), meta_item, style)\n@@ -231,12 +231,12 @@ impl<'a> Parser<'a> {\n             token::Eq => {\n                 self.bump();\n                 let lit = self.parse_unsuffixed_lit()?;\n-                let hi = self.span.hi;\n+                let hi = self.last_span.hi;\n                 Ok(P(spanned(lo, hi, ast::MetaItemKind::NameValue(name, lit))))\n             }\n             token::OpenDelim(token::Paren) => {\n                 let inner_items = self.parse_meta_seq()?;\n-                let hi = self.span.hi;\n+                let hi = self.last_span.hi;\n                 Ok(P(spanned(lo, hi, ast::MetaItemKind::List(name, inner_items))))\n             }\n             _ => {\n@@ -253,14 +253,14 @@ impl<'a> Parser<'a> {\n \n         match self.parse_unsuffixed_lit() {\n             Ok(lit) => {\n-                return Ok(spanned(lo, self.span.hi, ast::NestedMetaItemKind::Literal(lit)))\n+                return Ok(spanned(lo, self.last_span.hi, ast::NestedMetaItemKind::Literal(lit)))\n             }\n             Err(ref mut err) => self.diagnostic().cancel(err)\n         }\n \n         match self.parse_meta_item() {\n             Ok(mi) => {\n-                return Ok(spanned(lo, self.span.hi, ast::NestedMetaItemKind::MetaItem(mi)))\n+                return Ok(spanned(lo, self.last_span.hi, ast::NestedMetaItemKind::MetaItem(mi)))\n             }\n             Err(ref mut err) => self.diagnostic().cancel(err)\n         }"}, {"sha": "17558cc05c612cec6910b84ae9629d2041d48616", "filename": "src/test/ui/span/E0535.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0535.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0535.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2FE0535.rs?ref=5531c314a2855aec368e811da6fcd9e98365af51", "previous_filename": "src/test/compile-fail/E0535.rs"}, {"sha": "23070e1555b9b89f101cd7440fd30e9d06554978", "filename": "src/test/ui/span/E0535.stderr", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0535.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0535.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2FE0535.stderr?ref=5531c314a2855aec368e811da6fcd9e98365af51", "patch": "@@ -0,0 +1,8 @@\n+error[E0535]: invalid argument\n+  --> $DIR/E0535.rs:11:10\n+   |\n+11 | #[inline(unknown)] //~ ERROR E0535\n+   |          ^^^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "127bdc258d947f1e86ae858e1e6f7401762933e5", "filename": "src/test/ui/span/E0536.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0536.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0536.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2FE0536.rs?ref=5531c314a2855aec368e811da6fcd9e98365af51", "previous_filename": "src/test/compile-fail/E0536.rs"}, {"sha": "c33b89953e27461f965c88f487ebf2879d59565c", "filename": "src/test/ui/span/E0536.stderr", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0536.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0536.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2FE0536.stderr?ref=5531c314a2855aec368e811da6fcd9e98365af51", "patch": "@@ -0,0 +1,8 @@\n+error[E0536]: expected 1 cfg-pattern\n+  --> $DIR/E0536.rs:11:7\n+   |\n+11 | #[cfg(not())] //~ ERROR E0536\n+   |       ^^^^^\n+\n+error: aborting due to previous error\n+"}, {"sha": "497936fbcd28ec6a8e931006d4de64d1c17a5c36", "filename": "src/test/ui/span/E0537.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0537.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0537.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2FE0537.rs?ref=5531c314a2855aec368e811da6fcd9e98365af51", "previous_filename": "src/test/compile-fail/E0537.rs"}, {"sha": "9d66ddbaae317dbc0592340dedace69262bbbbdd", "filename": "src/test/ui/span/E0537.stderr", "status": "added", "additions": 8, "deletions": 0, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0537.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/5531c314a2855aec368e811da6fcd9e98365af51/src%2Ftest%2Fui%2Fspan%2FE0537.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fspan%2FE0537.stderr?ref=5531c314a2855aec368e811da6fcd9e98365af51", "patch": "@@ -0,0 +1,8 @@\n+error[E0537]: invalid predicate `unknown`\n+  --> $DIR/E0537.rs:11:7\n+   |\n+11 | #[cfg(unknown())] //~ ERROR E0537\n+   |       ^^^^^^^^^\n+\n+error: aborting due to previous error\n+"}]}