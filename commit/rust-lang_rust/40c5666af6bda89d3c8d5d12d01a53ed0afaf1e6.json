{"sha": "40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQwYzU2NjZhZjZiZGE4OWQzYzhkNWQxMmQwMWE1M2VkMGFmYWYxZTY=", "commit": {"author": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2017-11-04T13:47:28Z"}, "committer": {"name": "topecongiro", "email": "seuchida@gmail.com", "date": "2017-11-04T13:47:28Z"}, "message": "Rename 'struct_lit_style' to 'struct_lit_indent'", "tree": {"sha": "891d5b618a1f5d45e3615072058b2f38fe27dd3e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/891d5b618a1f5d45e3615072058b2f38fe27dd3e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "html_url": "https://github.com/rust-lang/rust/commit/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/comments", "author": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "committer": {"login": "topecongiro", "id": 21980157, "node_id": "MDQ6VXNlcjIxOTgwMTU3", "avatar_url": "https://avatars.githubusercontent.com/u/21980157?v=4", "gravatar_id": "", "url": "https://api.github.com/users/topecongiro", "html_url": "https://github.com/topecongiro", "followers_url": "https://api.github.com/users/topecongiro/followers", "following_url": "https://api.github.com/users/topecongiro/following{/other_user}", "gists_url": "https://api.github.com/users/topecongiro/gists{/gist_id}", "starred_url": "https://api.github.com/users/topecongiro/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/topecongiro/subscriptions", "organizations_url": "https://api.github.com/users/topecongiro/orgs", "repos_url": "https://api.github.com/users/topecongiro/repos", "events_url": "https://api.github.com/users/topecongiro/events{/privacy}", "received_events_url": "https://api.github.com/users/topecongiro/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d5d874099393203365f6f42cd29828c403d94660", "url": "https://api.github.com/repos/rust-lang/rust/commits/d5d874099393203365f6f42cd29828c403d94660", "html_url": "https://github.com/rust-lang/rust/commit/d5d874099393203365f6f42cd29828c403d94660"}], "stats": {"total": 44, "additions": 22, "deletions": 22}, "files": [{"sha": "ee340f438ff7368ec07c0edafaba6239b547bccb", "filename": "Configurations.md", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/Configurations.md", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/Configurations.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Configurations.md?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -1868,9 +1868,9 @@ let lorem = Lorem {\n };\n ```\n \n-See also: [`struct_lit_style`](#struct_lit_style), [`struct_lit_width`](#struct_lit_width).\n+See also: [`struct_lit_indent`](#struct_lit_indent), [`struct_lit_width`](#struct_lit_width).\n \n-## `struct_lit_style`\n+## `struct_lit_indent`\n \n Style of struct definition\n \n@@ -1893,7 +1893,7 @@ let lorem = Lorem { ipsum: dolor,\n                     sit: amet, };\n ```\n \n-See also: [`struct_lit_multiline_style`](#struct_lit_multiline_style), [`struct_lit_style`](#struct_lit_style).\n+See also: [`struct_lit_multiline_style`](#struct_lit_multiline_style), [`struct_lit_indent`](#struct_lit_indent).\n \n ## `struct_lit_width`\n \n@@ -1910,9 +1910,9 @@ let lorem = Lorem { ipsum: dolor, sit: amet };\n ```\n \n #### Lines longer than `struct_lit_width`:\n-See [`struct_lit_style`](#struct_lit_style).\n+See [`struct_lit_indent`](#struct_lit_indent).\n \n-See also: [`struct_lit_multiline_style`](#struct_lit_multiline_style), [`struct_lit_style`](#struct_lit_style).\n+See also: [`struct_lit_multiline_style`](#struct_lit_multiline_style), [`struct_lit_indent`](#struct_lit_indent).\n \n ## `struct_variant_width`\n "}, {"sha": "e9123ffc8cb40efce92eac2fc26f2c164960b4fc", "filename": "src/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/src%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/src%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fconfig.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -578,7 +578,7 @@ create_config! {\n     where_pred_indent: IndentStyle, IndentStyle::Visual, false,\n         \"Indentation style of a where predicate\";\n     generics_indent: IndentStyle, IndentStyle::Block, false, \"Indentation of generics\";\n-    struct_lit_style: IndentStyle, IndentStyle::Block, false, \"Style of struct definition\";\n+    struct_lit_indent: IndentStyle, IndentStyle::Block, false, \"Style of struct definition\";\n     struct_lit_multiline_style: MultilineStyle, MultilineStyle::PreferSingle, false,\n         \"Multiline style on literal structs\";\n     fn_call_indent: IndentStyle, IndentStyle::Block, false, \"Indentation for function calls, etc.\";"}, {"sha": "a297b00a5f223c254cb0eaf300e68c42319903db", "filename": "src/expr.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/src%2Fexpr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/src%2Fexpr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fexpr.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -2640,7 +2640,7 @@ fn rewrite_struct_lit<'a>(\n     let fields_str = wrap_struct_field(context, &fields_str, shape, v_shape, one_line_width);\n     Some(format!(\"{} {{{}}}\", path_str, fields_str))\n \n-    // FIXME if context.config.struct_lit_style() == Visual, but we run out\n+    // FIXME if context.config.struct_lit_indent() == Visual, but we run out\n     // of space, we should fall back to BlockIndent.\n }\n \n@@ -2651,7 +2651,7 @@ pub fn wrap_struct_field(\n     nested_shape: Shape,\n     one_line_width: usize,\n ) -> String {\n-    if context.config.struct_lit_style() == IndentStyle::Block\n+    if context.config.struct_lit_indent() == IndentStyle::Block\n         && (fields_str.contains('\\n')\n             || context.config.struct_lit_multiline_style() == MultilineStyle::ForceMulti\n             || fields_str.len() > one_line_width)"}, {"sha": "d560c88886ce19a2ceddc0ec42a0c3aab38240e1", "filename": "src/lists.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/src%2Flists.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/src%2Flists.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flists.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -737,7 +737,7 @@ pub fn struct_lit_shape(\n     prefix_width: usize,\n     suffix_width: usize,\n ) -> Option<(Option<Shape>, Shape)> {\n-    let v_shape = match context.config.struct_lit_style() {\n+    let v_shape = match context.config.struct_lit_indent() {\n         IndentStyle::Visual => shape\n             .visual_indent(0)\n             .shrink_left(prefix_width)?\n@@ -766,7 +766,7 @@ pub fn struct_lit_tactic(\n     items: &[ListItem],\n ) -> DefinitiveListTactic {\n     if let Some(h_shape) = h_shape {\n-        let prelim_tactic = match (context.config.struct_lit_style(), items.len()) {\n+        let prelim_tactic = match (context.config.struct_lit_indent(), items.len()) {\n             (IndentStyle::Visual, 1) => ListTactic::HorizontalVertical,\n             _ => context.config.struct_lit_multiline_style().to_list_tactic(),\n         };\n@@ -797,7 +797,7 @@ pub fn struct_lit_formatting<'a>(\n     context: &'a RewriteContext,\n     force_no_trailing_comma: bool,\n ) -> ListFormatting<'a> {\n-    let ends_with_newline = context.config.struct_lit_style() != IndentStyle::Visual\n+    let ends_with_newline = context.config.struct_lit_indent() != IndentStyle::Visual\n         && tactic == DefinitiveListTactic::Vertical;\n     ListFormatting {\n         tactic: tactic,"}, {"sha": "d48810bd5784913323cd97d288155986057aca6f", "filename": "tests/config/small_tabs.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fconfig%2Fsmall_tabs.toml", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fconfig%2Fsmall_tabs.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fconfig%2Fsmall_tabs.toml?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -12,7 +12,7 @@ where_layout = \"Vertical\"\n where_pred_indent = \"Visual\"\n generics_indent = \"Visual\"\n trailing_comma = \"Vertical\"\n-struct_lit_style = \"Block\"\n+struct_lit_indent = \"Block\"\n report_todo = \"Always\"\n report_fixme = \"Never\"\n reorder_imports = false"}, {"sha": "4f66c192bbce0a54c6fd0daadc4000c793b12579", "filename": "tests/source/configs-struct_lit_style-block.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fsource%2Fconfigs-struct_lit_style-block.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fsource%2Fconfigs-struct_lit_style-block.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fconfigs-struct_lit_style-block.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -1,4 +1,4 @@\n-// rustfmt-struct_lit_style: Block\n+// rustfmt-struct_lit_indent: Block\n // Struct literal-style\n \n fn main() {"}, {"sha": "837ae1b40cbe04c1c87c93dbaaa23603b647be94", "filename": "tests/source/configs-struct_lit_style-visual.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fsource%2Fconfigs-struct_lit_style-visual.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fsource%2Fconfigs-struct_lit_style-visual.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fconfigs-struct_lit_style-visual.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -1,4 +1,4 @@\n-// rustfmt-struct_lit_style: Visual\n+// rustfmt-struct_lit_indent: Visual\n // Struct literal-style\n \n fn main() {"}, {"sha": "de083183ab933bc1353a359d1238439150fd9bed", "filename": "tests/source/struct_lits_visual.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fsource%2Fstruct_lits_visual.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fsource%2Fstruct_lits_visual.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fstruct_lits_visual.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -1,6 +1,6 @@\n // rustfmt-normalize_comments: true\n // rustfmt-wrap_comments: true\n-// rustfmt-struct_lit_style: Visual\n+// rustfmt-struct_lit_indent: Visual\n // rustfmt-error_on_line_overflow: false\n \n // Struct literal expressions."}, {"sha": "e8af1486f366537a93f87c1d6e2806832016b42e", "filename": "tests/source/struct_lits_visual_multiline.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fsource%2Fstruct_lits_visual_multiline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fsource%2Fstruct_lits_visual_multiline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fstruct_lits_visual_multiline.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -1,6 +1,6 @@\n // rustfmt-normalize_comments: true\n // rustfmt-wrap_comments: true\n-// rustfmt-struct_lit_style: Visual\n+// rustfmt-struct_lit_indent: Visual\n // rustfmt-struct_lit_multiline_style: ForceMulti\n // rustfmt-error_on_line_overflow: false\n "}, {"sha": "2bc2c11d333c7e664dea777a4e2804734205cad6", "filename": "tests/source/struct_tuple_visual.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fsource%2Fstruct_tuple_visual.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Fsource%2Fstruct_tuple_visual.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fsource%2Fstruct_tuple_visual.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -1,7 +1,7 @@\n // rustfmt-normalize_comments: true\n // rustfmt-wrap_comments: true\n // rustfmt-error_on_line_overflow: false\n-// rustfmt-struct_lit_style: Visual\n+// rustfmt-struct_lit_indent: Visual\n fn foo() {\n     Fooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooo(f(), b());\n "}, {"sha": "19e276c2d76ad887f70232ab90ce65c7f047bf27", "filename": "tests/target/configs-struct_lit_style-block.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Ftarget%2Fconfigs-struct_lit_style-block.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Ftarget%2Fconfigs-struct_lit_style-block.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fconfigs-struct_lit_style-block.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -1,4 +1,4 @@\n-// rustfmt-struct_lit_style: Block\n+// rustfmt-struct_lit_indent: Block\n // Struct literal-style\n \n fn main() {"}, {"sha": "fd20e2cde6ca733320bd912b196da1eda98e3bdc", "filename": "tests/target/configs-struct_lit_style-visual.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Ftarget%2Fconfigs-struct_lit_style-visual.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Ftarget%2Fconfigs-struct_lit_style-visual.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fconfigs-struct_lit_style-visual.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -1,4 +1,4 @@\n-// rustfmt-struct_lit_style: Visual\n+// rustfmt-struct_lit_indent: Visual\n // Struct literal-style\n \n fn main() {"}, {"sha": "cef6e8b68c5b0295e0455c68e57b9dfc5aec5913", "filename": "tests/target/struct_lits_visual.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Ftarget%2Fstruct_lits_visual.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Ftarget%2Fstruct_lits_visual.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fstruct_lits_visual.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -1,6 +1,6 @@\n // rustfmt-normalize_comments: true\n // rustfmt-wrap_comments: true\n-// rustfmt-struct_lit_style: Visual\n+// rustfmt-struct_lit_indent: Visual\n // rustfmt-error_on_line_overflow: false\n \n // Struct literal expressions."}, {"sha": "74dd654ac50f562695339886d6659032c603cf92", "filename": "tests/target/struct_lits_visual_multiline.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Ftarget%2Fstruct_lits_visual_multiline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Ftarget%2Fstruct_lits_visual_multiline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fstruct_lits_visual_multiline.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -1,6 +1,6 @@\n // rustfmt-normalize_comments: true\n // rustfmt-wrap_comments: true\n-// rustfmt-struct_lit_style: Visual\n+// rustfmt-struct_lit_indent: Visual\n // rustfmt-struct_lit_multiline_style: ForceMulti\n // rustfmt-error_on_line_overflow: false\n "}, {"sha": "7723f042e6f48dacb385e5c10337aa65e19a3ce7", "filename": "tests/target/struct_tuple_visual.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Ftarget%2Fstruct_tuple_visual.rs", "raw_url": "https://github.com/rust-lang/rust/raw/40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6/tests%2Ftarget%2Fstruct_tuple_visual.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Ftarget%2Fstruct_tuple_visual.rs?ref=40c5666af6bda89d3c8d5d12d01a53ed0afaf1e6", "patch": "@@ -1,7 +1,7 @@\n // rustfmt-normalize_comments: true\n // rustfmt-wrap_comments: true\n // rustfmt-error_on_line_overflow: false\n-// rustfmt-struct_lit_style: Visual\n+// rustfmt-struct_lit_indent: Visual\n fn foo() {\n     Fooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooo(f(), b());\n "}]}