{"sha": "313aab8fbeb98730f8ffa741ccf54f843d5e3525", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMxM2FhYjhmYmViOTg3MzBmOGZmYTc0MWNjZjU0Zjg0M2Q1ZTM1MjU=", "commit": {"author": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2017-04-20T21:10:22Z"}, "committer": {"name": "Josh Stone", "email": "jistone@redhat.com", "date": "2017-04-21T04:16:31Z"}, "message": "Remove RefCell::borrow_state\n\n[unstable, deprecated since 1.15.0]", "tree": {"sha": "7adac9021fca20cf1a495cf83da057c8adbf97da", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7adac9021fca20cf1a495cf83da057c8adbf97da"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/313aab8fbeb98730f8ffa741ccf54f843d5e3525", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/313aab8fbeb98730f8ffa741ccf54f843d5e3525", "html_url": "https://github.com/rust-lang/rust/commit/313aab8fbeb98730f8ffa741ccf54f843d5e3525", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/313aab8fbeb98730f8ffa741ccf54f843d5e3525/comments", "author": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "committer": {"login": "cuviper", "id": 36186, "node_id": "MDQ6VXNlcjM2MTg2", "avatar_url": "https://avatars.githubusercontent.com/u/36186?v=4", "gravatar_id": "", "url": "https://api.github.com/users/cuviper", "html_url": "https://github.com/cuviper", "followers_url": "https://api.github.com/users/cuviper/followers", "following_url": "https://api.github.com/users/cuviper/following{/other_user}", "gists_url": "https://api.github.com/users/cuviper/gists{/gist_id}", "starred_url": "https://api.github.com/users/cuviper/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/cuviper/subscriptions", "organizations_url": "https://api.github.com/users/cuviper/orgs", "repos_url": "https://api.github.com/users/cuviper/repos", "events_url": "https://api.github.com/users/cuviper/events{/privacy}", "received_events_url": "https://api.github.com/users/cuviper/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "cc605c895e3ac3d19b70da58a683a65200c491fe", "url": "https://api.github.com/repos/rust-lang/rust/commits/cc605c895e3ac3d19b70da58a683a65200c491fe", "html_url": "https://github.com/rust-lang/rust/commit/cc605c895e3ac3d19b70da58a683a65200c491fe"}], "stats": {"total": 55, "additions": 0, "deletions": 55}, "files": [{"sha": "ae3b23a33b24ee09f99b0279a2086af71d0f2d53", "filename": "src/doc/unstable-book/src/SUMMARY.md", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/313aab8fbeb98730f8ffa741ccf54f843d5e3525/src%2Fdoc%2Funstable-book%2Fsrc%2FSUMMARY.md", "raw_url": "https://github.com/rust-lang/rust/raw/313aab8fbeb98730f8ffa741ccf54f843d5e3525/src%2Fdoc%2Funstable-book%2Fsrc%2FSUMMARY.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2FSUMMARY.md?ref=313aab8fbeb98730f8ffa741ccf54f843d5e3525", "patch": "@@ -103,7 +103,6 @@\n     - [as_c_str](library-features/as-c-str.md)\n     - [ascii_ctype](library-features/ascii-ctype.md)\n     - [binary_heap_peek_mut_pop](library-features/binary-heap-peek-mut-pop.md)\n-    - [borrow_state](library-features/borrow-state.md)\n     - [box_heap](library-features/box-heap.md)\n     - [c_void_variant](library-features/c-void-variant.md)\n     - [char_escape_debug](library-features/char-escape-debug.md)"}, {"sha": "304b8dffe98679c9f6fea3e7d2558757c1797563", "filename": "src/doc/unstable-book/src/library-features/borrow-state.md", "status": "removed", "additions": 0, "deletions": 7, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/cc605c895e3ac3d19b70da58a683a65200c491fe/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fborrow-state.md", "raw_url": "https://github.com/rust-lang/rust/raw/cc605c895e3ac3d19b70da58a683a65200c491fe/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fborrow-state.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flibrary-features%2Fborrow-state.md?ref=cc605c895e3ac3d19b70da58a683a65200c491fe", "patch": "@@ -1,7 +0,0 @@\n-# `borrow_state`\n-\n-The tracking issue for this feature is: [#27733]\n-\n-[#27733]: https://github.com/rust-lang/rust/issues/27733\n-\n-------------------------"}, {"sha": "ba04cbb0543cd6de56de80d2412cda33e8525bfc", "filename": "src/libcore/cell.rs", "status": "modified", "additions": 0, "deletions": 46, "changes": 46, "blob_url": "https://github.com/rust-lang/rust/blob/313aab8fbeb98730f8ffa741ccf54f843d5e3525/src%2Flibcore%2Fcell.rs", "raw_url": "https://github.com/rust-lang/rust/raw/313aab8fbeb98730f8ffa741ccf54f843d5e3525/src%2Flibcore%2Fcell.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fcell.rs?ref=313aab8fbeb98730f8ffa741ccf54f843d5e3525", "patch": "@@ -460,20 +460,6 @@ pub struct RefCell<T: ?Sized> {\n     value: UnsafeCell<T>,\n }\n \n-/// An enumeration of values returned from the `state` method on a `RefCell<T>`.\n-#[derive(Copy, Clone, PartialEq, Eq, Debug)]\n-#[unstable(feature = \"borrow_state\", issue = \"27733\")]\n-#[rustc_deprecated(since = \"1.15.0\", reason = \"use `try_borrow` instead\")]\n-#[allow(deprecated)]\n-pub enum BorrowState {\n-    /// The cell is currently being read, there is at least one active `borrow`.\n-    Reading,\n-    /// The cell is currently being written to, there is an active `borrow_mut`.\n-    Writing,\n-    /// There are no outstanding borrows on this cell.\n-    Unused,\n-}\n-\n /// An error returned by [`RefCell::try_borrow`](struct.RefCell.html#method.try_borrow).\n #[stable(feature = \"try_borrow\", since = \"1.13.0\")]\n pub struct BorrowError {\n@@ -562,38 +548,6 @@ impl<T> RefCell<T> {\n }\n \n impl<T: ?Sized> RefCell<T> {\n-    /// Query the current state of this `RefCell`\n-    ///\n-    /// The returned value can be dispatched on to determine if a call to\n-    /// `borrow` or `borrow_mut` would succeed.\n-    ///\n-    /// # Examples\n-    ///\n-    /// ```\n-    /// #![feature(borrow_state)]\n-    ///\n-    /// use std::cell::{BorrowState, RefCell};\n-    ///\n-    /// let c = RefCell::new(5);\n-    ///\n-    /// match c.borrow_state() {\n-    ///     BorrowState::Writing => println!(\"Cannot be borrowed\"),\n-    ///     BorrowState::Reading => println!(\"Cannot be borrowed mutably\"),\n-    ///     BorrowState::Unused => println!(\"Can be borrowed (mutably as well)\"),\n-    /// }\n-    /// ```\n-    #[unstable(feature = \"borrow_state\", issue = \"27733\")]\n-    #[rustc_deprecated(since = \"1.15.0\", reason = \"use `try_borrow` instead\")]\n-    #[allow(deprecated)]\n-    #[inline]\n-    pub fn borrow_state(&self) -> BorrowState {\n-        match self.borrow.get() {\n-            WRITING => BorrowState::Writing,\n-            UNUSED => BorrowState::Unused,\n-            _ => BorrowState::Reading,\n-        }\n-    }\n-\n     /// Immutably borrows the wrapped value.\n     ///\n     /// The borrow lasts until the returned `Ref` exits scope. Multiple"}, {"sha": "6c3abf99d11fa4644662c9ffe20932908bc7ab35", "filename": "src/libstd/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/313aab8fbeb98730f8ffa741ccf54f843d5e3525/src%2Flibstd%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/313aab8fbeb98730f8ffa741ccf54f843d5e3525/src%2Flibstd%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Flib.rs?ref=313aab8fbeb98730f8ffa741ccf54f843d5e3525", "patch": "@@ -248,7 +248,6 @@\n #![feature(allow_internal_unstable)]\n #![feature(asm)]\n #![feature(associated_consts)]\n-#![feature(borrow_state)]\n #![feature(box_syntax)]\n #![feature(cfg_target_has_atomic)]\n #![feature(cfg_target_thread_local)]"}]}