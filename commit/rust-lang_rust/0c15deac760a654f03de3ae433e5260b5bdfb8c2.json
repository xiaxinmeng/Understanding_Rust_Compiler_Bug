{"sha": "0c15deac760a654f03de3ae433e5260b5bdfb8c2", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBjMTVkZWFjNzYwYTY1NGYwM2RlM2FlNDMzZTUyNjBiNWJkZmI4YzI=", "commit": {"author": {"name": "Wilco Kusee", "email": "wilcokusee@gmail.com", "date": "2019-03-23T11:07:21Z"}, "committer": {"name": "Wilco Kusee", "email": "wilcokusee@gmail.com", "date": "2019-03-23T11:11:46Z"}, "message": "Move typing to ra_ide_api", "tree": {"sha": "89d7c73cb325fa14db2c6e16e8d906548849a730", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/89d7c73cb325fa14db2c6e16e8d906548849a730"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0c15deac760a654f03de3ae433e5260b5bdfb8c2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0c15deac760a654f03de3ae433e5260b5bdfb8c2", "html_url": "https://github.com/rust-lang/rust/commit/0c15deac760a654f03de3ae433e5260b5bdfb8c2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0c15deac760a654f03de3ae433e5260b5bdfb8c2/comments", "author": {"login": "detrumi", "id": 5758008, "node_id": "MDQ6VXNlcjU3NTgwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5758008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/detrumi", "html_url": "https://github.com/detrumi", "followers_url": "https://api.github.com/users/detrumi/followers", "following_url": "https://api.github.com/users/detrumi/following{/other_user}", "gists_url": "https://api.github.com/users/detrumi/gists{/gist_id}", "starred_url": "https://api.github.com/users/detrumi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/detrumi/subscriptions", "organizations_url": "https://api.github.com/users/detrumi/orgs", "repos_url": "https://api.github.com/users/detrumi/repos", "events_url": "https://api.github.com/users/detrumi/events{/privacy}", "received_events_url": "https://api.github.com/users/detrumi/received_events", "type": "User", "site_admin": false}, "committer": {"login": "detrumi", "id": 5758008, "node_id": "MDQ6VXNlcjU3NTgwMDg=", "avatar_url": "https://avatars.githubusercontent.com/u/5758008?v=4", "gravatar_id": "", "url": "https://api.github.com/users/detrumi", "html_url": "https://github.com/detrumi", "followers_url": "https://api.github.com/users/detrumi/followers", "following_url": "https://api.github.com/users/detrumi/following{/other_user}", "gists_url": "https://api.github.com/users/detrumi/gists{/gist_id}", "starred_url": "https://api.github.com/users/detrumi/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/detrumi/subscriptions", "organizations_url": "https://api.github.com/users/detrumi/orgs", "repos_url": "https://api.github.com/users/detrumi/repos", "events_url": "https://api.github.com/users/detrumi/events{/privacy}", "received_events_url": "https://api.github.com/users/detrumi/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d99abe4c252447c9940f77568a96c9a96f6f8905", "url": "https://api.github.com/repos/rust-lang/rust/commits/d99abe4c252447c9940f77568a96c9a96f6f8905", "html_url": "https://github.com/rust-lang/rust/commit/d99abe4c252447c9940f77568a96c9a96f6f8905"}], "stats": {"total": 13, "additions": 6, "deletions": 7}, "files": [{"sha": "c2ef61ae2258814774838ae4e76fd417af7a94bb", "filename": "crates/ra_ide_api/src/lib.rs", "status": "modified", "additions": 4, "deletions": 3, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/0c15deac760a654f03de3ae433e5260b5bdfb8c2/crates%2Fra_ide_api%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c15deac760a654f03de3ae433e5260b5bdfb8c2/crates%2Fra_ide_api%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Flib.rs?ref=0c15deac760a654f03de3ae433e5260b5bdfb8c2", "patch": "@@ -37,6 +37,7 @@ mod line_index;\n mod folding_ranges;\n mod line_index_utils;\n mod join_lines;\n+mod typing;\n \n #[cfg(test)]\n mod marks;\n@@ -295,7 +296,7 @@ impl Analysis {\n     /// up minor stuff like continuing the comment.\n     pub fn on_enter(&self, position: FilePosition) -> Option<SourceChange> {\n         let file = self.db.parse(position.file_id);\n-        let edit = ra_ide_api_light::on_enter(&file, position.offset)?;\n+        let edit = typing::on_enter(&file, position.offset)?;\n         Some(SourceChange::from_local_edit(position.file_id, edit))\n     }\n \n@@ -304,14 +305,14 @@ impl Analysis {\n     // FIXME: use a snippet completion instead of this hack here.\n     pub fn on_eq_typed(&self, position: FilePosition) -> Option<SourceChange> {\n         let file = self.db.parse(position.file_id);\n-        let edit = ra_ide_api_light::on_eq_typed(&file, position.offset)?;\n+        let edit = typing::on_eq_typed(&file, position.offset)?;\n         Some(SourceChange::from_local_edit(position.file_id, edit))\n     }\n \n     /// Returns an edit which should be applied when a dot ('.') is typed on a blank line, indenting the line appropriately.\n     pub fn on_dot_typed(&self, position: FilePosition) -> Option<SourceChange> {\n         let file = self.db.parse(position.file_id);\n-        let edit = ra_ide_api_light::on_dot_typed(&file, position.offset)?;\n+        let edit = typing::on_dot_typed(&file, position.offset)?;\n         Some(SourceChange::from_local_edit(position.file_id, edit))\n     }\n "}, {"sha": "b7e023d60d61f1fca508305d704e374e4bdf75fa", "filename": "crates/ra_ide_api/src/typing.rs", "status": "renamed", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0c15deac760a654f03de3ae433e5260b5bdfb8c2/crates%2Fra_ide_api%2Fsrc%2Ftyping.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c15deac760a654f03de3ae433e5260b5bdfb8c2/crates%2Fra_ide_api%2Fsrc%2Ftyping.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Ftyping.rs?ref=0c15deac760a654f03de3ae433e5260b5bdfb8c2", "patch": "@@ -5,7 +5,8 @@ use ra_syntax::{\n     ast::{self, AstToken},\n };\n use ra_fmt::leading_indent;\n-use crate::{LocalEdit, TextEditBuilder};\n+use crate::LocalEdit;\n+use ra_text_edit::TextEditBuilder;\n \n pub fn on_enter(file: &SourceFile, offset: TextUnit) -> Option<LocalEdit> {\n     let comment =", "previous_filename": "crates/ra_ide_api_light/src/typing.rs"}, {"sha": "0d928745f47a2e0fc22a9792cba23c429e5e60fe", "filename": "crates/ra_ide_api_light/src/lib.rs", "status": "modified", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0c15deac760a654f03de3ae433e5260b5bdfb8c2/crates%2Fra_ide_api_light%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0c15deac760a654f03de3ae433e5260b5bdfb8c2/crates%2Fra_ide_api_light%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api_light%2Fsrc%2Flib.rs?ref=0c15deac760a654f03de3ae433e5260b5bdfb8c2", "patch": "@@ -4,10 +4,8 @@\n //! an edit or some auxiliary info.\n \n mod structure;\n-mod typing;\n \n use rustc_hash::FxHashSet;\n-use ra_text_edit::TextEditBuilder;\n use ra_syntax::{\n     SourceFile, SyntaxNode, TextRange, TextUnit, Direction,\n     algo::find_leaf_at_offset,\n@@ -17,7 +15,6 @@ use ra_syntax::{\n \n pub use crate::{\n     structure::{file_structure, StructureNode},\n-    typing::{on_enter, on_dot_typed, on_eq_typed},\n };\n \n #[derive(Debug)]"}]}