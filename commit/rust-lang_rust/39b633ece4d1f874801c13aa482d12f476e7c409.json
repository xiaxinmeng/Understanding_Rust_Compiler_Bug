{"sha": "39b633ece4d1f874801c13aa482d12f476e7c409", "node_id": "C_kwDOAAsO6NoAKDM5YjYzM2VjZTRkMWY4NzQ4MDFjMTNhYTQ4MmQxMmY0NzZlN2M0MDk", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2023-05-26T06:24:08Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2023-05-26T06:24:08Z"}, "message": "Rollup merge of #111947 - obeis:issue-111943, r=compiler-errors\n\nAdd test for RPIT defined with different hidden types with different substs\n\nClose #111943", "tree": {"sha": "a0b4ec9eff8e9431811c097e3340484ad407bfd8", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a0b4ec9eff8e9431811c097e3340484ad407bfd8"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/39b633ece4d1f874801c13aa482d12f476e7c409", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJkcFCICRBK7hj4Ov3rIwAAcQAIADer0XlYzO98n5vfKrCDyB/B\nmFmlDhuGjTB/7tAnGmmArNPVxXcGyf5i2WMZOx3tw84wIcfk8uvhuBj2vknydstm\nEujtLNL5V0+evz4E109fkZtm6eOawwNOr8vifVDoLhLADiqtjm2iWCDmCZ9cu0Li\nt3clkU/KFpPzd2UlBOmOXWdGGOiFiBIeQX1w4jhKO2cXS2q3zqqYXIZTRiH3O4K6\nzOwBkj2zaArQUq5QZ7keO1C/dnPMw3oM1SwC4XBdQotXysJ/k9+hgge2RU5iSU1r\nD5asPnNqeJq5VNJwAAHVbqoUjBjByZ0Z4guittWeF+MMBReSpz9MYnS3EaPJ3yA=\n=Osqb\n-----END PGP SIGNATURE-----\n", "payload": "tree a0b4ec9eff8e9431811c097e3340484ad407bfd8\nparent 2daecf7c455a8ff0d2690b361441558a4212fd85\nparent b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1685082248 +0200\ncommitter GitHub <noreply@github.com> 1685082248 +0200\n\nRollup merge of #111947 - obeis:issue-111943, r=compiler-errors\n\nAdd test for RPIT defined with different hidden types with different substs\n\nClose #111943\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/39b633ece4d1f874801c13aa482d12f476e7c409", "html_url": "https://github.com/rust-lang/rust/commit/39b633ece4d1f874801c13aa482d12f476e7c409", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/39b633ece4d1f874801c13aa482d12f476e7c409/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2daecf7c455a8ff0d2690b361441558a4212fd85", "url": "https://api.github.com/repos/rust-lang/rust/commits/2daecf7c455a8ff0d2690b361441558a4212fd85", "html_url": "https://github.com/rust-lang/rust/commit/2daecf7c455a8ff0d2690b361441558a4212fd85"}, {"sha": "b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b", "url": "https://api.github.com/repos/rust-lang/rust/commits/b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b", "html_url": "https://github.com/rust-lang/rust/commit/b37cdc67bef4de5dde9f5cffeb8f7a2592fdde4b"}], "stats": {"total": 38, "additions": 38, "deletions": 0}, "files": [{"sha": "c3a6f09f86d9324153f85e859a5ecb79b255ed2e", "filename": "tests/ui/impl-trait/multiple-defining-usages-in-body.rs", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/39b633ece4d1f874801c13aa482d12f476e7c409/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.rs", "raw_url": "https://github.com/rust-lang/rust/raw/39b633ece4d1f874801c13aa482d12f476e7c409/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.rs?ref=39b633ece4d1f874801c13aa482d12f476e7c409", "patch": "@@ -0,0 +1,12 @@\n+trait Trait {}\n+impl Trait for () {}\n+\n+fn foo<T: Trait, U: Trait>() -> impl Trait {\n+    //~^ WARN function cannot return without recursing [unconditional_recursion]\n+    let a: T = foo::<T, U>();\n+    //~^ ERROR concrete type differs from previous defining opaque type use\n+    loop {}\n+    let _: T = foo::<U, T>();\n+}\n+\n+fn main() {}"}, {"sha": "06991749bfad1ec96ce6827da64001536102c197", "filename": "tests/ui/impl-trait/multiple-defining-usages-in-body.stderr", "status": "added", "additions": 26, "deletions": 0, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/39b633ece4d1f874801c13aa482d12f476e7c409/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/39b633ece4d1f874801c13aa482d12f476e7c409/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fimpl-trait%2Fmultiple-defining-usages-in-body.stderr?ref=39b633ece4d1f874801c13aa482d12f476e7c409", "patch": "@@ -0,0 +1,26 @@\n+warning: function cannot return without recursing\n+  --> $DIR/multiple-defining-usages-in-body.rs:4:1\n+   |\n+LL | fn foo<T: Trait, U: Trait>() -> impl Trait {\n+   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ cannot return without recursing\n+LL |\n+LL |     let a: T = foo::<T, U>();\n+   |                ------------- recursive call site\n+   |\n+   = help: a `loop` may express intention better if this is on purpose\n+   = note: `#[warn(unconditional_recursion)]` on by default\n+\n+error: concrete type differs from previous defining opaque type use\n+  --> $DIR/multiple-defining-usages-in-body.rs:6:16\n+   |\n+LL |     let a: T = foo::<T, U>();\n+   |                ^^^^^^^^^^^^^ expected `U`, got `T`\n+   |\n+note: previous use here\n+  --> $DIR/multiple-defining-usages-in-body.rs:9:16\n+   |\n+LL |     let _: T = foo::<U, T>();\n+   |                ^^^^^^^^^^^^^\n+\n+error: aborting due to previous error; 1 warning emitted\n+"}]}