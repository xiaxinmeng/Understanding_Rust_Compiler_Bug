{"sha": "def4dbb520fd77e6907ca82a6bec1c91f4c19b3b", "node_id": "C_kwDOAAsO6NoAKGRlZjRkYmI1MjBmZDc3ZTY5MDdjYTgyYTZiZWMxYzkxZjRjMTliM2I", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-03-14T09:20:58Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-03-14T09:20:58Z"}, "message": "Auto merge of #14336 - swarnimarun:remove-slice, r=lnicola\n\ninternal: add `as_slice` to `hir::Type`\n\n~`remove_slice`~ `as_slice` is same as `remove_ref` but for slices.\n\nThough there is `as_array` which I believe was named such because it also gets the length of the array, maybe. I am still shaky on the names feel free to suggest corrections.", "tree": {"sha": "f9c0b02d68cfeaa1429de4f6be5e5dc7a2a49193", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f9c0b02d68cfeaa1429de4f6be5e5dc7a2a49193"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/def4dbb520fd77e6907ca82a6bec1c91f4c19b3b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/def4dbb520fd77e6907ca82a6bec1c91f4c19b3b", "html_url": "https://github.com/rust-lang/rust/commit/def4dbb520fd77e6907ca82a6bec1c91f4c19b3b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/def4dbb520fd77e6907ca82a6bec1c91f4c19b3b/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "57803753b0e29e1d346ece86ebc5190902e24651", "url": "https://api.github.com/repos/rust-lang/rust/commits/57803753b0e29e1d346ece86ebc5190902e24651", "html_url": "https://github.com/rust-lang/rust/commit/57803753b0e29e1d346ece86ebc5190902e24651"}, {"sha": "cfbdf62344cad34f0d6b7ffcc9c0ed90e543e84a", "url": "https://api.github.com/repos/rust-lang/rust/commits/cfbdf62344cad34f0d6b7ffcc9c0ed90e543e84a", "html_url": "https://github.com/rust-lang/rust/commit/cfbdf62344cad34f0d6b7ffcc9c0ed90e543e84a"}], "stats": {"total": 7, "additions": 7, "deletions": 0}, "files": [{"sha": "27c4577d60dc849e80d30a356595919764998cac", "filename": "crates/hir/src/lib.rs", "status": "modified", "additions": 7, "deletions": 0, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/def4dbb520fd77e6907ca82a6bec1c91f4c19b3b/crates%2Fhir%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/def4dbb520fd77e6907ca82a6bec1c91f4c19b3b/crates%2Fhir%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir%2Fsrc%2Flib.rs?ref=def4dbb520fd77e6907ca82a6bec1c91f4c19b3b", "patch": "@@ -3232,6 +3232,13 @@ impl Type {\n         }\n     }\n \n+    pub fn as_slice(&self) -> Option<Type> {\n+        match &self.ty.kind(Interner) {\n+            TyKind::Slice(ty) => Some(self.derived(ty.clone())),\n+            _ => None,\n+        }\n+    }\n+\n     pub fn strip_references(&self) -> Type {\n         self.derived(self.ty.strip_references().clone())\n     }"}]}