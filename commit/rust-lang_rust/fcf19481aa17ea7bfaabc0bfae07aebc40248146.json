{"sha": "fcf19481aa17ea7bfaabc0bfae07aebc40248146", "node_id": "C_kwDOAAsO6NoAKGZjZjE5NDgxYWExN2VhN2JmYWFiYzBiZmFlMDdhZWJjNDAyNDgxNDY", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2023-05-09T10:13:49Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2023-05-19T14:16:37Z"}, "message": "Add UI test for UNIQUE_CFG_CONDITION", "tree": {"sha": "92fb0540dc3ff568537d9d2fcc29aa4c5325e527", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/92fb0540dc3ff568537d9d2fcc29aa4c5325e527"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fcf19481aa17ea7bfaabc0bfae07aebc40248146", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fcf19481aa17ea7bfaabc0bfae07aebc40248146", "html_url": "https://github.com/rust-lang/rust/commit/fcf19481aa17ea7bfaabc0bfae07aebc40248146", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fcf19481aa17ea7bfaabc0bfae07aebc40248146/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ab66a86815a2bb562edef92ef8c308b6958ea734", "url": "https://api.github.com/repos/rust-lang/rust/commits/ab66a86815a2bb562edef92ef8c308b6958ea734", "html_url": "https://github.com/rust-lang/rust/commit/ab66a86815a2bb562edef92ef8c308b6958ea734"}], "stats": {"total": 56, "additions": 56, "deletions": 0}, "files": [{"sha": "ca9a48a3e377e168a98e16942340ddf0975ce710", "filename": "tests/ui/non_minimal_cfg.fixed", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/fcf19481aa17ea7bfaabc0bfae07aebc40248146/tests%2Fui%2Fnon_minimal_cfg.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/fcf19481aa17ea7bfaabc0bfae07aebc40248146/tests%2Fui%2Fnon_minimal_cfg.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fnon_minimal_cfg.fixed?ref=fcf19481aa17ea7bfaabc0bfae07aebc40248146", "patch": "@@ -0,0 +1,14 @@\n+//@run-rustfix\n+\n+#![allow(unused)]\n+\n+#[cfg(windows)]\n+fn hermit() {}\n+\n+#[cfg(windows)]\n+fn wasi() {}\n+\n+#[cfg(all(unix, not(windows)))]\n+fn the_end() {}\n+\n+fn main() {}"}, {"sha": "bf322236fef759a724f607cc8c5003c8155ac2da", "filename": "tests/ui/non_minimal_cfg.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/fcf19481aa17ea7bfaabc0bfae07aebc40248146/tests%2Fui%2Fnon_minimal_cfg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fcf19481aa17ea7bfaabc0bfae07aebc40248146/tests%2Fui%2Fnon_minimal_cfg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fnon_minimal_cfg.rs?ref=fcf19481aa17ea7bfaabc0bfae07aebc40248146", "patch": "@@ -0,0 +1,14 @@\n+//@run-rustfix\n+\n+#![allow(unused)]\n+\n+#[cfg(all(windows))]\n+fn hermit() {}\n+\n+#[cfg(any(windows))]\n+fn wasi() {}\n+\n+#[cfg(all(any(unix), all(not(windows))))]\n+fn the_end() {}\n+\n+fn main() {}"}, {"sha": "cdfd728aa6115122aca56e4c625d04844ce1b66a", "filename": "tests/ui/non_minimal_cfg.stderr", "status": "added", "additions": 28, "deletions": 0, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/fcf19481aa17ea7bfaabc0bfae07aebc40248146/tests%2Fui%2Fnon_minimal_cfg.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/fcf19481aa17ea7bfaabc0bfae07aebc40248146/tests%2Fui%2Fnon_minimal_cfg.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fnon_minimal_cfg.stderr?ref=fcf19481aa17ea7bfaabc0bfae07aebc40248146", "patch": "@@ -0,0 +1,28 @@\n+error: unneeded sub `cfg` when there is only one condition\n+  --> $DIR/non_minimal_cfg.rs:5:7\n+   |\n+LL | #[cfg(all(windows))]\n+   |       ^^^^^^^^^^^^ help: try: `windows`\n+   |\n+   = note: `-D clippy::non-minimal-cfg` implied by `-D warnings`\n+\n+error: unneeded sub `cfg` when there is only one condition\n+  --> $DIR/non_minimal_cfg.rs:8:7\n+   |\n+LL | #[cfg(any(windows))]\n+   |       ^^^^^^^^^^^^ help: try: `windows`\n+\n+error: unneeded sub `cfg` when there is only one condition\n+  --> $DIR/non_minimal_cfg.rs:11:11\n+   |\n+LL | #[cfg(all(any(unix), all(not(windows))))]\n+   |           ^^^^^^^^^ help: try: `unix`\n+\n+error: unneeded sub `cfg` when there is only one condition\n+  --> $DIR/non_minimal_cfg.rs:11:22\n+   |\n+LL | #[cfg(all(any(unix), all(not(windows))))]\n+   |                      ^^^^^^^^^^^^^^^^^ help: try: `not(windows)`\n+\n+error: aborting due to 4 previous errors\n+"}]}