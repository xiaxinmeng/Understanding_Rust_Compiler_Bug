{"sha": "27edc2af066979ff7b3182b33c62a84d57b907c4", "node_id": "C_kwDOAAsO6NoAKDI3ZWRjMmFmMDY2OTc5ZmY3YjMxODJiMzNjNjJhODRkNTdiOTA3YzQ", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-03-25T03:30:44Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-03-25T03:30:44Z"}, "message": "Auto merge of #10531 - Nilstrieb:linklink, r=giraffate\n\nAdd explanation on how to run `cargo-clippy` and `clippy-driver`\n\nI don't know how this would be done on Windows or MacOS, feedback appreciated.\n\nI did find this snippet for MacOS but it seems a little sketchy.\n\nhttps://github.com/rust-lang/rust-clippy/blob/1d1e72308e5bcdf5abe95c1d29dfe82524940061/.github/workflows/clippy_bors.yml#L98-L102\n\nchangelog: none", "tree": {"sha": "961b8634548fd4ffd76420771b121c2cd98136ce", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/961b8634548fd4ffd76420771b121c2cd98136ce"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/27edc2af066979ff7b3182b33c62a84d57b907c4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/27edc2af066979ff7b3182b33c62a84d57b907c4", "html_url": "https://github.com/rust-lang/rust/commit/27edc2af066979ff7b3182b33c62a84d57b907c4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/27edc2af066979ff7b3182b33c62a84d57b907c4/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f1b9105f875e879979f692ff48675e81c8327c0e", "url": "https://api.github.com/repos/rust-lang/rust/commits/f1b9105f875e879979f692ff48675e81c8327c0e", "html_url": "https://github.com/rust-lang/rust/commit/f1b9105f875e879979f692ff48675e81c8327c0e"}, {"sha": "b782a071ad06bbf52168c34f4c51912fd039d912", "url": "https://api.github.com/repos/rust-lang/rust/commits/b782a071ad06bbf52168c34f4c51912fd039d912", "html_url": "https://github.com/rust-lang/rust/commit/b782a071ad06bbf52168c34f4c51912fd039d912"}], "stats": {"total": 10, "additions": 10, "deletions": 0}, "files": [{"sha": "0f5ee7103de1ae7fc11f04d24b5b516bfaf8961e", "filename": "book/src/development/adding_lints.md", "status": "modified", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/27edc2af066979ff7b3182b33c62a84d57b907c4/book%2Fsrc%2Fdevelopment%2Fadding_lints.md", "raw_url": "https://github.com/rust-lang/rust/raw/27edc2af066979ff7b3182b33c62a84d57b907c4/book%2Fsrc%2Fdevelopment%2Fadding_lints.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/book%2Fsrc%2Fdevelopment%2Fadding_lints.md?ref=27edc2af066979ff7b3182b33c62a84d57b907c4", "patch": "@@ -18,6 +18,7 @@ because that's clearly a non-descriptive name.\n     - [Cargo lints](#cargo-lints)\n   - [Rustfix tests](#rustfix-tests)\n   - [Testing manually](#testing-manually)\n+  - [Running directly](#running-directly)\n   - [Lint declaration](#lint-declaration)\n   - [Lint registration](#lint-registration)\n   - [Lint passes](#lint-passes)\n@@ -186,6 +187,15 @@ cargo dev lint input.rs\n from the working copy root. With tests in place, let's have a look at\n implementing our lint now.\n \n+## Running directly\n+\n+While it's easier to just use `cargo dev lint`, it might be desirable to get\n+`target/release/cargo-clippy` and `target/release/clippy-driver` to work as well in some cases.\n+By default, they don't work because clippy dynamically links rustc. To help them find rustc,\n+add the path printed by`rustc --print target-libdir` (ran inside this workspace so that the rustc version matches)\n+to your library search path.\n+On linux, this can be done by setting the `LD_LIBRARY_PATH` environment variable to that path.\n+\n ## Lint declaration\n \n Let's start by opening the new file created in the `clippy_lints` crate at"}]}