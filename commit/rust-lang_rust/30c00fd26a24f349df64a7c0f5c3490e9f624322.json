{"sha": "30c00fd26a24f349df64a7c0f5c3490e9f624322", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMwYzAwZmQyNmEyNGYzNDlkZjY0YTdjMGY1YzM0OTBlOWY2MjQzMjI=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-05-20T17:16:29Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-05-22T19:07:41Z"}, "message": "Add test for macro_rules! invoking a proc-macro with capture groups", "tree": {"sha": "f9f686d973ac6623a54419ffa0687bc6b7a8a71a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f9f686d973ac6623a54419ffa0687bc6b7a8a71a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/30c00fd26a24f349df64a7c0f5c3490e9f624322", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAl7IIv0ACgkQtAh+UQ6Y\nsWSFixAAh/4uNwg7uPALhZoDwaUOVC8p0I7B8NJ8BUYYbIkanOQRoVFk0filsslv\nmH0Cs9Aw0VYZ1wAW7952V3gnP8BDwaCXMWg32MCo73Tgl5anEJhaz9VlPPeygD1W\nOgNNvkilt/6Po3mVT0yIuG7UkQB6E1MTAuIP9EtWNaXO7cPTIRLEWoJk0yFBbhq+\nLM7z8ejDieFaPe+Uqn2c3T6FTKJrAg99ZQXugC7Zu3Bf2wyGOV4j3zzMUrgF40oZ\nmLSOmP0ohqysJJn+ujhbXMJFSbDVNusN597D2Y69IpTBdH3Kjsfylae6sHOwRYyW\nIUjI/bntqQdJTT/Yr24GbaRfLDucHvjDJoCMiMUHwuZhA5EdzWKjmTlVG3wawT3U\nO5Y3VDuv6+c293Jo36V1xt5YzuFaB/1dRy+5RgjiYX+/oytBz5FV5GKjGtI95VH2\nCyeu4t1NfibqQoRTlWiKrkiEaY+4s3DWdQHaypox/KJmRqCQaazxPZIseEiEn+fl\nf9XFvoVMxksJ4FT8VhhOD0eVM281aOBg3kNH83IAY/boG5sa0diSiNMWnPDqMtE1\nMlUezEDHFeyFsvot2fXlHj6O5tN8cbuyplXhdQiaKHfAgAkcGZJswwPy/1IgFBYn\n9X9r02s/IBJNoIbV7cGPAhjMhXS3VkUzEGwOLkNq/ApZhgx9cw0=\n=F9V8\n-----END PGP SIGNATURE-----", "payload": "tree f9f686d973ac6623a54419ffa0687bc6b7a8a71a\nparent 2af0218bf1ffca0750a352554f20a07b760a30a8\nauthor Aaron Hill <aa1ronham@gmail.com> 1589994989 -0400\ncommitter Aaron Hill <aa1ronham@gmail.com> 1590174461 -0400\n\nAdd test for macro_rules! invoking a proc-macro with capture groups\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/30c00fd26a24f349df64a7c0f5c3490e9f624322", "html_url": "https://github.com/rust-lang/rust/commit/30c00fd26a24f349df64a7c0f5c3490e9f624322", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/30c00fd26a24f349df64a7c0f5c3490e9f624322/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2af0218bf1ffca0750a352554f20a07b760a30a8", "url": "https://api.github.com/repos/rust-lang/rust/commits/2af0218bf1ffca0750a352554f20a07b760a30a8", "html_url": "https://github.com/rust-lang/rust/commit/2af0218bf1ffca0750a352554f20a07b760a30a8"}], "stats": {"total": 30, "additions": 30, "deletions": 0}, "files": [{"sha": "37436567d70f00996fd5201e0c277e823b37bda4", "filename": "src/test/ui/proc-macro/macro-rules-capture.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/30c00fd26a24f349df64a7c0f5c3490e9f624322/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-rules-capture.rs", "raw_url": "https://github.com/rust-lang/rust/raw/30c00fd26a24f349df64a7c0f5c3490e9f624322/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-rules-capture.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-rules-capture.rs?ref=30c00fd26a24f349df64a7c0f5c3490e9f624322", "patch": "@@ -0,0 +1,18 @@\n+// aux-build: test-macros.rs\n+\n+extern crate test_macros;\n+use test_macros::recollect_attr;\n+\n+macro_rules! reemit {\n+    ($name:ident => $($token:expr)*) => {\n+\n+        #[recollect_attr]\n+        pub fn $name() {\n+            $($token)*;\n+        }\n+    }\n+}\n+\n+reemit! { foo => 45u32.into() } //~ ERROR type annotations\n+\n+fn main() {}"}, {"sha": "6d512846ff7852d136090c55a5d96bed2429d9b2", "filename": "src/test/ui/proc-macro/macro-rules-capture.stderr", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/30c00fd26a24f349df64a7c0f5c3490e9f624322/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-rules-capture.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/30c00fd26a24f349df64a7c0f5c3490e9f624322/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-rules-capture.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fmacro-rules-capture.stderr?ref=30c00fd26a24f349df64a7c0f5c3490e9f624322", "patch": "@@ -0,0 +1,12 @@\n+error[E0282]: type annotations needed\n+  --> $DIR/macro-rules-capture.rs:16:24\n+   |\n+LL | reemit! { foo => 45u32.into() }\n+   |                  ------^^^^--\n+   |                  |     |\n+   |                  |     cannot infer type for type parameter `T` declared on the trait `Into`\n+   |                  this method call resolves to `T`\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0282`."}]}