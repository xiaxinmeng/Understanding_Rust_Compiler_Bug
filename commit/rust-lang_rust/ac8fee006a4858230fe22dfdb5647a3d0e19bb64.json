{"sha": "ac8fee006a4858230fe22dfdb5647a3d0e19bb64", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFjOGZlZTAwNmE0ODU4MjMwZmUyMmRmZGI1NjQ3YTNkMGUxOWJiNjQ=", "commit": {"author": {"name": "Florian Diebold", "email": "flodiebold@gmail.com", "date": "2021-04-03T20:45:31Z"}, "committer": {"name": "Florian Diebold", "email": "flodiebold@gmail.com", "date": "2021-04-04T11:16:38Z"}, "message": "Use TyBuilder in another place", "tree": {"sha": "51f41257e2756c2fbcf442bd946c1ae5044ce4aa", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/51f41257e2756c2fbcf442bd946c1ae5044ce4aa"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ac8fee006a4858230fe22dfdb5647a3d0e19bb64", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ac8fee006a4858230fe22dfdb5647a3d0e19bb64", "html_url": "https://github.com/rust-lang/rust/commit/ac8fee006a4858230fe22dfdb5647a3d0e19bb64", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ac8fee006a4858230fe22dfdb5647a3d0e19bb64/comments", "author": {"login": "flodiebold", "id": 906069, "node_id": "MDQ6VXNlcjkwNjA2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/906069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flodiebold", "html_url": "https://github.com/flodiebold", "followers_url": "https://api.github.com/users/flodiebold/followers", "following_url": "https://api.github.com/users/flodiebold/following{/other_user}", "gists_url": "https://api.github.com/users/flodiebold/gists{/gist_id}", "starred_url": "https://api.github.com/users/flodiebold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flodiebold/subscriptions", "organizations_url": "https://api.github.com/users/flodiebold/orgs", "repos_url": "https://api.github.com/users/flodiebold/repos", "events_url": "https://api.github.com/users/flodiebold/events{/privacy}", "received_events_url": "https://api.github.com/users/flodiebold/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flodiebold", "id": 906069, "node_id": "MDQ6VXNlcjkwNjA2OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/906069?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flodiebold", "html_url": "https://github.com/flodiebold", "followers_url": "https://api.github.com/users/flodiebold/followers", "following_url": "https://api.github.com/users/flodiebold/following{/other_user}", "gists_url": "https://api.github.com/users/flodiebold/gists{/gist_id}", "starred_url": "https://api.github.com/users/flodiebold/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flodiebold/subscriptions", "organizations_url": "https://api.github.com/users/flodiebold/orgs", "repos_url": "https://api.github.com/users/flodiebold/repos", "events_url": "https://api.github.com/users/flodiebold/events{/privacy}", "received_events_url": "https://api.github.com/users/flodiebold/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "eaa03ef4465765a16951faa54dd8ebc53095e2c8", "url": "https://api.github.com/repos/rust-lang/rust/commits/eaa03ef4465765a16951faa54dd8ebc53095e2c8", "html_url": "https://github.com/rust-lang/rust/commit/eaa03ef4465765a16951faa54dd8ebc53095e2c8"}], "stats": {"total": 7, "additions": 3, "deletions": 4}, "files": [{"sha": "644a2eed54c9a770b82147d5e2fd7494624b2ed4", "filename": "crates/hir_ty/src/lower.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ac8fee006a4858230fe22dfdb5647a3d0e19bb64/crates%2Fhir_ty%2Fsrc%2Flower.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ac8fee006a4858230fe22dfdb5647a3d0e19bb64/crates%2Fhir_ty%2Fsrc%2Flower.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fhir_ty%2Fsrc%2Flower.rs?ref=ac8fee006a4858230fe22dfdb5647a3d0e19bb64", "patch": "@@ -860,10 +860,9 @@ pub fn associated_type_shorthand_candidates<R>(\n                 if generics.params.types[param_id.local_id].provenance\n                     == TypeParamProvenance::TraitSelf\n                 {\n-                    let trait_ref = TraitRef {\n-                        trait_id: to_chalk_trait_id(trait_id),\n-                        substitution: Substitution::bound_vars(&generics, DebruijnIndex::INNERMOST),\n-                    };\n+                    let trait_ref = TyBuilder::trait_ref(db, trait_id)\n+                        .fill_with_bound_vars(DebruijnIndex::INNERMOST, 0)\n+                        .build();\n                     return search(trait_ref);\n                 }\n             }"}]}