{"sha": "f2d9acfc019c132635d419f14f6b09ee222a1103", "node_id": "C_kwDOAAsO6NoAKGYyZDlhY2ZjMDE5YzEzMjYzNWQ0MTlmMTRmNmIwOWVlMjIyYTExMDM", "commit": {"author": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-06-13T06:48:40Z"}, "committer": {"name": "Takayuki Maeda", "email": "takoyaki0316@gmail.com", "date": "2022-06-13T06:48:40Z"}, "message": "remove unnecessary `to_string` and `String::new`", "tree": {"sha": "52f63f63c1ee92116d9f2f8cbcb26bd2673fe604", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/52f63f63c1ee92116d9f2f8cbcb26bd2673fe604"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f2d9acfc019c132635d419f14f6b09ee222a1103", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f2d9acfc019c132635d419f14f6b09ee222a1103", "html_url": "https://github.com/rust-lang/rust/commit/f2d9acfc019c132635d419f14f6b09ee222a1103", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f2d9acfc019c132635d419f14f6b09ee222a1103/comments", "author": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TaKO8Ki", "id": 41065217, "node_id": "MDQ6VXNlcjQxMDY1MjE3", "avatar_url": "https://avatars.githubusercontent.com/u/41065217?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TaKO8Ki", "html_url": "https://github.com/TaKO8Ki", "followers_url": "https://api.github.com/users/TaKO8Ki/followers", "following_url": "https://api.github.com/users/TaKO8Ki/following{/other_user}", "gists_url": "https://api.github.com/users/TaKO8Ki/gists{/gist_id}", "starred_url": "https://api.github.com/users/TaKO8Ki/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TaKO8Ki/subscriptions", "organizations_url": "https://api.github.com/users/TaKO8Ki/orgs", "repos_url": "https://api.github.com/users/TaKO8Ki/repos", "events_url": "https://api.github.com/users/TaKO8Ki/events{/privacy}", "received_events_url": "https://api.github.com/users/TaKO8Ki/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e34621c24ee3e5dd9b060d04633ec4ee5f47fe40", "url": "https://api.github.com/repos/rust-lang/rust/commits/e34621c24ee3e5dd9b060d04633ec4ee5f47fe40", "html_url": "https://github.com/rust-lang/rust/commit/e34621c24ee3e5dd9b060d04633ec4ee5f47fe40"}], "stats": {"total": 38, "additions": 19, "deletions": 19}, "files": [{"sha": "59a7c535400699a9450753d9675cf8c49ed30c5f", "filename": "clippy_lints/src/almost_complete_letter_range.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Falmost_complete_letter_range.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Falmost_complete_letter_range.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Falmost_complete_letter_range.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -90,7 +90,7 @@ fn check_range(cx: &EarlyContext<'_>, span: Span, start: &Expr, end: &Expr, sugg\n                     diag.span_suggestion(\n                         span,\n                         \"use an inclusive range\",\n-                        sugg.to_owned(),\n+                        sugg,\n                         Applicability::MaybeIncorrect,\n                     );\n                 }"}, {"sha": "0bdef9d0a7e8e5bc8ab4c5308afa65a011dcc946", "filename": "clippy_lints/src/as_underscore.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fas_underscore.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fas_underscore.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fas_underscore.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -63,7 +63,7 @@ impl<'tcx> LateLintPass<'tcx> for AsUnderscore {\n                     diag.span_suggestion(\n                         ty.span,\n                         \"consider giving the type explicitly\",\n-                        format!(\"{}\", ty_resolved),\n+                        ty_resolved,\n                         Applicability::MachineApplicable,\n                     );\n             }"}, {"sha": "08bf80a422900f533d61225670031aacc77cc37e", "filename": "clippy_lints/src/empty_structs_with_brackets.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fempty_structs_with_brackets.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fempty_structs_with_brackets.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fempty_structs_with_brackets.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -44,7 +44,7 @@ impl EarlyLintPass for EmptyStructsWithBrackets {\n                     diagnostic.span_suggestion_hidden(\n                         span_after_ident,\n                         \"remove the brackets\",\n-                        \";\".to_string(),\n+                        \";\",\n                         Applicability::MachineApplicable);\n                     },\n             );"}, {"sha": "14f84a832aa3e79324212628f1f16667020133d1", "filename": "clippy_lints/src/large_const_arrays.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Flarge_const_arrays.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Flarge_const_arrays.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flarge_const_arrays.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -75,7 +75,7 @@ impl<'tcx> LateLintPass<'tcx> for LargeConstArrays {\n                         diag.span_suggestion(\n                             sugg_span,\n                             \"make this a static item\",\n-                            \"static\".to_string(),\n+                            \"static\",\n                             Applicability::MachineApplicable,\n                         );\n                     }"}, {"sha": "c70b1c261b618fdc8cf7109989d14f7e2e0432e8", "filename": "clippy_lints/src/manual_async_fn.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fmanual_async_fn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fmanual_async_fn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmanual_async_fn.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -86,7 +86,7 @@ impl<'tcx> LateLintPass<'tcx> for ManualAsyncFn {\n                                 diag.span_suggestion(\n                                     block.span,\n                                     \"move the body of the async block to the enclosing function\",\n-                                    body_snip.to_string(),\n+                                    body_snip,\n                                     Applicability::MachineApplicable\n                                 );\n                             }"}, {"sha": "4f8baf7efb0bb7962912c39839dee55e2e5a6afb", "filename": "clippy_lints/src/matches/match_same_arms.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fmatches%2Fmatch_same_arms.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fmatches%2Fmatch_same_arms.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmatches%2Fmatch_same_arms.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -113,7 +113,7 @@ pub(super) fn check<'tcx>(cx: &LateContext<'tcx>, arms: &'tcx [Arm<'_>]) {\n                     diag.span_suggestion(\n                         arm1.span,\n                         \"try removing the arm\",\n-                        String::new(),\n+                        \"\",\n                         Applicability::MaybeIncorrect,\n                     )\n                     .help(\"or try changing either arm body\")"}, {"sha": "4ac738272d08523c53f925100eafe8143173701e", "filename": "clippy_lints/src/methods/str_splitn.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fmethods%2Fstr_splitn.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fmethods%2Fstr_splitn.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fstr_splitn.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -176,13 +176,13 @@ fn check_manual_split_once_indirect(\n             diag.span_suggestion(\n                 first.span,\n                 &remove_msg,\n-                String::new(),\n+                \"\",\n                 app,\n             );\n             diag.span_suggestion(\n                 second.span,\n                 &remove_msg,\n-                String::new(),\n+                \"\",\n                 app,\n             );\n         });"}, {"sha": "19037093e20a1be9da01d7fea78aabe139f13c6a", "filename": "clippy_lints/src/methods/unnecessary_iter_cloned.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_iter_cloned.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_iter_cloned.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Funnecessary_iter_cloned.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -85,7 +85,7 @@ pub fn check_for_loop_iter(\n                         match addr_of_expr.kind {\n                             ExprKind::AddrOf(_, _, referent) => {\n                                 let span = addr_of_expr.span.with_hi(referent.span.lo());\n-                                diag.span_suggestion(span, \"remove this `&`\", String::new(), applicability);\n+                                diag.span_suggestion(span, \"remove this `&`\", \"\", applicability);\n                             }\n                             _ => unreachable!(),\n                         }"}, {"sha": "d8982ffcf66699365c2b122b724f0c69dc24c430", "filename": "clippy_lints/src/needless_late_init.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fneedless_late_init.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fneedless_late_init.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_late_init.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -318,7 +318,7 @@ fn check<'tcx>(\n                         diag.span_suggestion(\n                             usage.stmt.span.shrink_to_hi(),\n                             \"add a semicolon after the `if` expression\",\n-                            \";\".to_string(),\n+                            \";\",\n                             applicability,\n                         );\n                     }\n@@ -353,7 +353,7 @@ fn check<'tcx>(\n                         diag.span_suggestion(\n                             usage.stmt.span.shrink_to_hi(),\n                             \"add a semicolon after the `match` expression\",\n-                            \";\".to_string(),\n+                            \";\",\n                             applicability,\n                         );\n                     }"}, {"sha": "8b273aca7d020f68a6ba889c288ab6b8d668db82", "filename": "clippy_lints/src/needless_pass_by_value.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fneedless_pass_by_value.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -258,7 +258,7 @@ impl<'tcx> LateLintPass<'tcx> for NeedlessPassByValue {\n                                 diag.span_suggestion(\n                                     input.span,\n                                     \"consider changing the type to\",\n-                                    \"&str\".to_string(),\n+                                    \"&str\",\n                                     Applicability::Unspecified,\n                                 );\n "}, {"sha": "3b11cbc3760622f9415e8fe6fa8726bad1361548", "filename": "clippy_lints/src/redundant_clone.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fredundant_clone.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Fredundant_clone.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fredundant_clone.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -255,7 +255,7 @@ impl<'tcx> LateLintPass<'tcx> for RedundantClone {\n                         diag.span_suggestion(\n                             sugg_span,\n                             \"remove this\",\n-                            String::new(),\n+                            \"\",\n                             app,\n                         );\n                         if clone_usage.cloned_used {"}, {"sha": "1bde977cfa273ba963df6b84077158bb25e41fda", "filename": "clippy_lints/src/transmute/transmute_float_to_int.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_float_to_int.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_float_to_int.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_float_to_int.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -55,7 +55,7 @@ pub(super) fn check<'tcx>(\n                         sugg\n                     };\n \n-                    diag.span_suggestion(e.span, \"consider using\", sugg.to_string(), Applicability::Unspecified);\n+                    diag.span_suggestion(e.span, \"consider using\", sugg, Applicability::Unspecified);\n                 },\n             );\n             true"}, {"sha": "31a9b69ca15838ad4e4b7719ee52615c2e4a1e81", "filename": "clippy_lints/src/transmute/transmute_ptr_to_ptr.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ptr_to_ptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ptr_to_ptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ptr_to_ptr.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -25,7 +25,7 @@ pub(super) fn check<'tcx>(\n                 |diag| {\n                     if let Some(arg) = sugg::Sugg::hir_opt(cx, arg) {\n                         let sugg = arg.as_ty(cx.tcx.mk_ptr(*to_ty));\n-                        diag.span_suggestion(e.span, \"try\", sugg.to_string(), Applicability::Unspecified);\n+                        diag.span_suggestion(e.span, \"try\", sugg, Applicability::Unspecified);\n                     }\n                 },\n             );"}, {"sha": "707a11d361c06d6259a4ae4db9942f8ad47896d5", "filename": "clippy_lints/src/transmute/transmute_ref_to_ref.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ref_to_ref.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ref_to_ref.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Ftransmute_ref_to_ref.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -73,7 +73,7 @@ pub(super) fn check<'tcx>(\n                             diag.span_suggestion(\n                                 e.span,\n                                 \"try\",\n-                                sugg.to_string(),\n+                                sugg,\n                                 Applicability::Unspecified,\n                             );\n                         },"}, {"sha": "fc9227b76f025a309f7af9333e0ada1cef9685f8", "filename": "clippy_lints/src/transmute/useless_transmute.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Ftransmute%2Fuseless_transmute.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_lints%2Fsrc%2Ftransmute%2Fuseless_transmute.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Ftransmute%2Fuseless_transmute.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -46,7 +46,7 @@ pub(super) fn check<'tcx>(\n                                 arg.as_ty(cx.tcx.mk_ptr(rty_and_mut)).as_ty(to_ty)\n                             };\n \n-                            diag.span_suggestion(e.span, \"try\", sugg.to_string(), Applicability::Unspecified);\n+                            diag.span_suggestion(e.span, \"try\", sugg, Applicability::Unspecified);\n                         }\n                     },\n                 );\n@@ -64,7 +64,7 @@ pub(super) fn check<'tcx>(\n                         diag.span_suggestion(\n                             e.span,\n                             \"try\",\n-                            arg.as_ty(&to_ty.to_string()).to_string(),\n+                            arg.as_ty(&to_ty.to_string()),\n                             Applicability::Unspecified,\n                         );\n                     }"}, {"sha": "186bba09d201238fac3cfc3beb9ab6900bd4c6c1", "filename": "clippy_utils/src/attrs.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_utils%2Fsrc%2Fattrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f2d9acfc019c132635d419f14f6b09ee222a1103/clippy_utils%2Fsrc%2Fattrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Fattrs.rs?ref=f2d9acfc019c132635d419f14f6b09ee222a1103", "patch": "@@ -92,7 +92,7 @@ pub fn get_attr<'a>(\n                                 diag.span_suggestion(\n                                     attr_segments[1].ident.span,\n                                     \"consider using\",\n-                                    new_name.to_string(),\n+                                    new_name,\n                                     Applicability::MachineApplicable,\n                                 );\n                                 diag.emit();"}]}