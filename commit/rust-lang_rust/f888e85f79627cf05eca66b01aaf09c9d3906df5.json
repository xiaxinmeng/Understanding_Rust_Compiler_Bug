{"sha": "f888e85f79627cf05eca66b01aaf09c9d3906df5", "node_id": "C_kwDOAAsO6NoAKGY4ODhlODVmNzk2MjdjZjA1ZWNhNjZiMDFhYWYwOWM5ZDM5MDZkZjU", "commit": {"author": {"name": "Dezhi Wu", "email": "wu543065657@163.com", "date": "2021-09-22T10:48:47Z"}, "committer": {"name": "Dezhi Wu", "email": "wu543065657@163.com", "date": "2021-10-13T01:06:47Z"}, "message": "use `ControlFlow::Break(_)` pattern", "tree": {"sha": "b205090e70c74db902869898d93620bdc7e62e55", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b205090e70c74db902869898d93620bdc7e62e55"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f888e85f79627cf05eca66b01aaf09c9d3906df5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f888e85f79627cf05eca66b01aaf09c9d3906df5", "html_url": "https://github.com/rust-lang/rust/commit/f888e85f79627cf05eca66b01aaf09c9d3906df5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f888e85f79627cf05eca66b01aaf09c9d3906df5/comments", "author": {"login": "dzvon", "id": 3402811, "node_id": "MDQ6VXNlcjM0MDI4MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3402811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dzvon", "html_url": "https://github.com/dzvon", "followers_url": "https://api.github.com/users/dzvon/followers", "following_url": "https://api.github.com/users/dzvon/following{/other_user}", "gists_url": "https://api.github.com/users/dzvon/gists{/gist_id}", "starred_url": "https://api.github.com/users/dzvon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dzvon/subscriptions", "organizations_url": "https://api.github.com/users/dzvon/orgs", "repos_url": "https://api.github.com/users/dzvon/repos", "events_url": "https://api.github.com/users/dzvon/events{/privacy}", "received_events_url": "https://api.github.com/users/dzvon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dzvon", "id": 3402811, "node_id": "MDQ6VXNlcjM0MDI4MTE=", "avatar_url": "https://avatars.githubusercontent.com/u/3402811?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dzvon", "html_url": "https://github.com/dzvon", "followers_url": "https://api.github.com/users/dzvon/followers", "following_url": "https://api.github.com/users/dzvon/following{/other_user}", "gists_url": "https://api.github.com/users/dzvon/gists{/gist_id}", "starred_url": "https://api.github.com/users/dzvon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dzvon/subscriptions", "organizations_url": "https://api.github.com/users/dzvon/orgs", "repos_url": "https://api.github.com/users/dzvon/repos", "events_url": "https://api.github.com/users/dzvon/events{/privacy}", "received_events_url": "https://api.github.com/users/dzvon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "971a2718402dcf73c969490f51473b438f328dd9", "url": "https://api.github.com/repos/rust-lang/rust/commits/971a2718402dcf73c969490f51473b438f328dd9", "html_url": "https://github.com/rust-lang/rust/commit/971a2718402dcf73c969490f51473b438f328dd9"}], "stats": {"total": 7, "additions": 3, "deletions": 4}, "files": [{"sha": "dfedc4a4870ad3867d029f0cd2485b5171096ef1", "filename": "crates/ide_assists/src/handlers/extract_function.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/f888e85f79627cf05eca66b01aaf09c9d3906df5/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fextract_function.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f888e85f79627cf05eca66b01aaf09c9d3906df5/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fextract_function.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_assists%2Fsrc%2Fhandlers%2Fextract_function.rs?ref=f888e85f79627cf05eca66b01aaf09c9d3906df5", "patch": "@@ -1185,13 +1185,12 @@ impl FlowHandler {\n                 let stmt = make::expr_stmt(action);\n                 let block = make::block_expr(iter::once(stmt.into()), None);\n                 let controlflow_break_path = make::path_from_text(\"ControlFlow::Break\");\n-                let tuple_pat = make::tuple_pat(iter::empty());\n                 let condition = make::condition(\n                     call_expr,\n                     Some(\n                         make::tuple_struct_pat(\n                             controlflow_break_path,\n-                            iter::once(tuple_pat.into()),\n+                            iter::once(make::wildcard_pat().into()),\n                         )\n                         .into(),\n                     ),\n@@ -3301,7 +3300,7 @@ fn foo() {\n fn foo() {\n     loop {\n         let mut n = 1;\n-        if let ControlFlow::Break(()) = fun_name(&mut n) {\n+        if let ControlFlow::Break(_) = fun_name(&mut n) {\n             break;\n         }\n         let h = 1 + n;\n@@ -3338,7 +3337,7 @@ fn foo() {\n fn foo() {\n     loop {\n         let mut n = 1;\n-        if let ControlFlow::Break(()) = fun_name(n) {\n+        if let ControlFlow::Break(_) = fun_name(n) {\n             break;\n         }\n         let h = 1;"}]}