{"sha": "acd6d4d09433c558ffbb9524a5aeb3b4f6465352", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFjZDZkNGQwOTQzM2M1NThmZmJiOTUyNGE1YWViM2I0ZjY0NjUzNTI=", "commit": {"author": {"name": "Michael Wright", "email": "mikerite@lavabit.com", "date": "2019-03-08T05:45:31Z"}, "committer": {"name": "Michael Wright", "email": "mikerite@lavabit.com", "date": "2019-03-08T05:45:31Z"}, "message": "Improve Clippy dev help\n\n+ Print help if no subcommand is supplied\n+ Make a short version of `update_lints` help for the subcommand listing", "tree": {"sha": "087199929708ac7de0a4d4b3acfdacb00f19f844", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/087199929708ac7de0a4d4b3acfdacb00f19f844"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/acd6d4d09433c558ffbb9524a5aeb3b4f6465352", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/acd6d4d09433c558ffbb9524a5aeb3b4f6465352", "html_url": "https://github.com/rust-lang/rust/commit/acd6d4d09433c558ffbb9524a5aeb3b4f6465352", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/acd6d4d09433c558ffbb9524a5aeb3b4f6465352/comments", "author": null, "committer": null, "parents": [{"sha": "77ba5045d71908f7915940c8959234363414119e", "url": "https://api.github.com/repos/rust-lang/rust/commits/77ba5045d71908f7915940c8959234363414119e", "html_url": "https://github.com/rust-lang/rust/commit/77ba5045d71908f7915940c8959234363414119e"}], "stats": {"total": 6, "additions": 4, "deletions": 2}, "files": [{"sha": "3f21b9dee11face627b7099be13162f17b85882f", "filename": "clippy_dev/src/main.rs", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/acd6d4d09433c558ffbb9524a5aeb3b4f6465352/clippy_dev%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/acd6d4d09433c558ffbb9524a5aeb3b4f6465352/clippy_dev%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fmain.rs?ref=acd6d4d09433c558ffbb9524a5aeb3b4f6465352", "patch": "@@ -2,7 +2,7 @@ extern crate clap;\n extern crate clippy_dev;\n extern crate regex;\n \n-use clap::{App, Arg, SubCommand};\n+use clap::{App, AppSettings, Arg, SubCommand};\n use clippy_dev::*;\n \n #[derive(PartialEq)]\n@@ -13,9 +13,11 @@ enum UpdateMode {\n \n fn main() {\n     let matches = App::new(\"Clippy developer tooling\")\n+        .setting(AppSettings::SubcommandRequiredElseHelp)\n         .subcommand(\n             SubCommand::with_name(\"update_lints\")\n-                .about(\n+                .about(\"Updates lint registration and information from the source code\")\n+                .long_about(\n                     \"Makes sure that:\\n \\\n                      * the lint count in README.md is correct\\n \\\n                      * the changelog contains markdown link references at the bottom\\n \\"}]}