{"sha": "caf6c5790a858893c1d32ed2054c9577d12e7493", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNhZjZjNTc5MGE4NTg4OTNjMWQzMmVkMjA1NGM5NTc3ZDEyZTc0OTM=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2020-11-23T12:20:16Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2020-11-24T17:07:03Z"}, "message": "Rename \"stability\" CSS class to \"item-info\"", "tree": {"sha": "5fe0ab6e43c7be07abb0341a980ea7c2ff469b1f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5fe0ab6e43c7be07abb0341a980ea7c2ff469b1f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/caf6c5790a858893c1d32ed2054c9577d12e7493", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/caf6c5790a858893c1d32ed2054c9577d12e7493", "html_url": "https://github.com/rust-lang/rust/commit/caf6c5790a858893c1d32ed2054c9577d12e7493", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/caf6c5790a858893c1d32ed2054c9577d12e7493/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "53d19b37c514246acab020eaba9527cb97c421cf", "url": "https://api.github.com/repos/rust-lang/rust/commits/53d19b37c514246acab020eaba9527cb97c421cf", "html_url": "https://github.com/rust-lang/rust/commit/53d19b37c514246acab020eaba9527cb97c421cf"}], "stats": {"total": 112, "additions": 59, "deletions": 53}, "files": [{"sha": "bd555f937aa2493a911529edb48f2b905e1a1f52", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 28, "deletions": 23, "changes": 51, "blob_url": "https://github.com/rust-lang/rust/blob/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=caf6c5790a858893c1d32ed2054c9577d12e7493", "patch": "@@ -1844,7 +1844,7 @@ fn document(w: &mut Buffer, cx: &Context, item: &clean::Item, parent: Option<&cl\n     if let Some(ref name) = item.name {\n         info!(\"Documenting {}\", name);\n     }\n-    document_stability(w, cx, item, false, parent);\n+    document_item_info(w, cx, item, false, parent);\n     document_full(w, item, cx, \"\", false);\n }\n \n@@ -1928,18 +1928,23 @@ fn document_full(w: &mut Buffer, item: &clean::Item, cx: &Context, prefix: &str,\n     }\n }\n \n-fn document_stability(\n+/// Add extra information about an item such as:\n+///\n+/// * Stability\n+/// * Deprecated\n+/// * Required features (through the `doc_cfg` feature)\n+fn document_item_info(\n     w: &mut Buffer,\n     cx: &Context,\n     item: &clean::Item,\n     is_hidden: bool,\n     parent: Option<&clean::Item>,\n ) {\n-    let stabilities = short_stability(item, cx, parent);\n-    if !stabilities.is_empty() {\n-        write!(w, \"<div class=\\\"stability{}\\\">\", if is_hidden { \" hidden\" } else { \"\" });\n-        for stability in stabilities {\n-            write!(w, \"{}\", stability);\n+    let item_infos = short_item_info(item, cx, parent);\n+    if !item_infos.is_empty() {\n+        write!(w, \"<div class=\\\"item-info{}\\\">\", if is_hidden { \" hidden\" } else { \"\" });\n+        for info in item_infos {\n+            write!(w, \"{}\", info);\n         }\n         write!(w, \"</div>\");\n     }\n@@ -2194,7 +2199,7 @@ fn item_module(w: &mut Buffer, cx: &Context, item: &clean::Item, items: &[clean:\n                          <td class=\\\"docblock-short\\\">{stab_tags}{docs}</td>\\\n                      </tr>\",\n                     name = *myitem.name.as_ref().unwrap(),\n-                    stab_tags = stability_tags(myitem, item),\n+                    stab_tags = extra_info_tags(myitem, item),\n                     docs = MarkdownSummaryLine(doc_value, &myitem.links()).into_string(),\n                     class = myitem.type_(),\n                     add = add,\n@@ -2216,9 +2221,9 @@ fn item_module(w: &mut Buffer, cx: &Context, item: &clean::Item, items: &[clean:\n     }\n }\n \n-/// Render the stability and deprecation tags that are displayed in the item's summary at the\n-/// module level.\n-fn stability_tags(item: &clean::Item, parent: &clean::Item) -> String {\n+/// Render the stability, deprecation and portability tags that are displayed in the item's summary\n+/// at the module level.\n+fn extra_info_tags(item: &clean::Item, parent: &clean::Item) -> String {\n     let mut tags = String::new();\n \n     fn tag_html(class: &str, title: &str, contents: &str) -> String {\n@@ -2271,10 +2276,10 @@ fn portability(item: &clean::Item, parent: Option<&clean::Item>) -> Option<Strin\n     Some(format!(\"<div class=\\\"stab portability\\\">{}</div>\", cfg?.render_long_html()))\n }\n \n-/// Render the stability and/or deprecation warning that is displayed at the top of the item's\n-/// documentation.\n-fn short_stability(item: &clean::Item, cx: &Context, parent: Option<&clean::Item>) -> Vec<String> {\n-    let mut stability = vec![];\n+/// Render the stability, deprecation and portability information that is displayed at the top of\n+/// the item's documentation.\n+fn short_item_info(item: &clean::Item, cx: &Context, parent: Option<&clean::Item>) -> Vec<String> {\n+    let mut extra_info = vec![];\n     let error_codes = cx.shared.codes;\n \n     if let Some(Deprecation { ref note, ref since, is_since_rustc_version }) = item.deprecation {\n@@ -2301,7 +2306,7 @@ fn short_stability(item: &clean::Item, cx: &Context, parent: Option<&clean::Item\n             );\n             message.push_str(&format!(\": {}\", html.into_string()));\n         }\n-        stability.push(format!(\n+        extra_info.push(format!(\n             \"<div class=\\\"stab deprecated\\\"><span class=\\\"emoji\\\">\ud83d\udc4e</span> {}</div>\",\n             message,\n         ));\n@@ -2345,14 +2350,14 @@ fn short_stability(item: &clean::Item, cx: &Context, parent: Option<&clean::Item\n             );\n         }\n \n-        stability.push(format!(\"<div class=\\\"stab unstable\\\">{}</div>\", message));\n+        extra_info.push(format!(\"<div class=\\\"stab unstable\\\">{}</div>\", message));\n     }\n \n     if let Some(portability) = portability(item, parent) {\n-        stability.push(portability);\n+        extra_info.push(portability);\n     }\n \n-    stability\n+    extra_info\n }\n \n fn item_constant(w: &mut Buffer, cx: &Context, it: &clean::Item, c: &clean::Constant) {\n@@ -3703,7 +3708,7 @@ fn render_impl(\n \n         if trait_.is_some() {\n             if let Some(portability) = portability(&i.impl_item, Some(parent)) {\n-                write!(w, \"<div class=\\\"stability\\\">{}</div>\", portability);\n+                write!(w, \"<div class=\\\"item-info\\\">{}</div>\", portability);\n             }\n         }\n \n@@ -3801,7 +3806,7 @@ fn render_impl(\n                     if let Some(it) = t.items.iter().find(|i| i.name == item.name) {\n                         // We need the stability of the item from the trait\n                         // because impls can't have a stability.\n-                        document_stability(w, cx, it, is_hidden, Some(parent));\n+                        document_item_info(w, cx, it, is_hidden, Some(parent));\n                         if item.doc_value().is_some() {\n                             document_full(w, item, cx, \"\", is_hidden);\n                         } else if show_def_docs {\n@@ -3811,13 +3816,13 @@ fn render_impl(\n                         }\n                     }\n                 } else {\n-                    document_stability(w, cx, item, is_hidden, Some(parent));\n+                    document_item_info(w, cx, item, is_hidden, Some(parent));\n                     if show_def_docs {\n                         document_full(w, item, cx, \"\", is_hidden);\n                     }\n                 }\n             } else {\n-                document_stability(w, cx, item, is_hidden, Some(parent));\n+                document_item_info(w, cx, item, is_hidden, Some(parent));\n                 if show_def_docs {\n                     document_short(w, item, link, \"\", is_hidden);\n                 }"}, {"sha": "7ca43684dced20627124ae74fdffdff9a2e485ab", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=caf6c5790a858893c1d32ed2054c9577d12e7493", "patch": "@@ -2266,7 +2266,7 @@ function defocusSearchBar() {\n                         }\n                     }\n                     var ns = n.nextElementSibling;\n-                    while (ns && (hasClass(ns, \"docblock\") || hasClass(ns, \"stability\"))) {\n+                    while (ns && (hasClass(ns, \"docblock\") || hasClass(ns, \"item-info\"))) {\n                         if (addOrRemove) {\n                             addClass(ns, \"hidden-by-impl-hider\");\n                         } else {\n@@ -2282,7 +2282,7 @@ function defocusSearchBar() {\n         var action = mode;\n         if (hasClass(toggle.parentNode, \"impl\") === false) {\n             relatedDoc = toggle.parentNode.nextElementSibling;\n-            if (hasClass(relatedDoc, \"stability\")) {\n+            if (hasClass(relatedDoc, \"item-info\")) {\n                 relatedDoc = relatedDoc.nextElementSibling;\n             }\n             if (hasClass(relatedDoc, \"docblock\") || hasClass(relatedDoc, \"sub-variant\")) {\n@@ -2332,16 +2332,17 @@ function defocusSearchBar() {\n             var dontApplyBlockRule = toggle.parentNode.parentNode.id !== \"main\";\n             if (action === \"show\") {\n                 removeClass(relatedDoc, \"fns-now-collapsed\");\n-                // Stability information is never hidden.\n-                if (hasClass(docblock, \"stability\") === false) {\n+                // Stability/deprecation/portability information is never hidden.\n+                if (hasClass(docblock, \"item-info\") === false) {\n                     removeClass(docblock, \"hidden-by-usual-hider\");\n                 }\n                 onEachLazy(toggle.childNodes, adjustToggle(false, dontApplyBlockRule));\n                 onEachLazy(relatedDoc.childNodes, implHider(false, dontApplyBlockRule));\n             } else if (action === \"hide\") {\n                 addClass(relatedDoc, \"fns-now-collapsed\");\n-                // Stability information should be shown even when detailed info is hidden.\n-                if (hasClass(docblock, \"stability\") === false) {\n+                // Stability/deprecation/portability information should be shown even when detailed\n+                // info is hidden.\n+                if (hasClass(docblock, \"item-info\") === false) {\n                     addClass(docblock, \"hidden-by-usual-hider\");\n                 }\n                 onEachLazy(toggle.childNodes, adjustToggle(true, dontApplyBlockRule));\n@@ -2445,7 +2446,7 @@ function defocusSearchBar() {\n \n         var func = function(e) {\n             var next = e.nextElementSibling;\n-            if (next && hasClass(next, \"stability\")) {\n+            if (next && hasClass(next, \"item-info\")) {\n               next = next.nextElementSibling;\n             }\n             if (!next) {\n@@ -2462,7 +2463,7 @@ function defocusSearchBar() {\n \n         var funcImpl = function(e) {\n             var next = e.nextElementSibling;\n-            if (next && hasClass(next, \"stability\")) {\n+            if (next && hasClass(next, \"item-info\")) {\n                 next = next.nextElementSibling;\n             }\n             if (next && hasClass(next, \"docblock\")) {"}, {"sha": "8eef65a231d0be7c9cc31b935c554b9cb8c92c66", "filename": "src/librustdoc/html/static/rustdoc.css", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css?ref=caf6c5790a858893c1d32ed2054c9577d12e7493", "patch": "@@ -553,21 +553,21 @@ h4 > code, h3 > code, .invisible > code {\n \tborder: none;\n }\n \n-.content .stability code {\n+.content .item-info code {\n \tfont-size: 90%;\n }\n \n-.content .stability {\n+.content .item-info {\n \tposition: relative;\n \tmargin-left: 33px;\n \tmargin-top: -13px;\n }\n \n-.sub-variant > div > .stability {\n+.sub-variant > div > .item-info {\n \tmargin-top: initial;\n }\n \n-.content .stability::before {\n+.content .item-info::before {\n \tcontent: '\u2b11';\n \tfont-size: 25px;\n \tposition: absolute;\n@@ -579,23 +579,23 @@ h4 > code, h3 > code, .invisible > code {\n \tmargin-left: 20px;\n }\n \n-.content .impl-items .docblock, .content .impl-items .stability {\n+.content .impl-items .docblock, .content .impl-items .item-info {\n \tmargin-bottom: .6em;\n }\n \n-.content .impl-items > .stability {\n+.content .impl-items > .item-info {\n \tmargin-left: 40px;\n }\n \n-.methods > .stability, .content .impl-items > .stability {\n+.methods > .item-info, .content .impl-items > .item-info {\n \tmargin-top: -8px;\n }\n \n .impl-items {\n \tflex-basis: 100%;\n }\n \n-#main > .stability {\n+#main > .item-info {\n \tmargin-top: 0;\n }\n \n@@ -655,7 +655,7 @@ a {\n }\n \n .docblock a:not(.srclink):not(.test-arrow):hover,\n-.docblock-short a:not(.srclink):not(.test-arrow):hover, .stability a {\n+.docblock-short a:not(.srclink):not(.test-arrow):hover, .item-info a {\n \ttext-decoration: underline;\n }\n "}, {"sha": "c1f796f09e80474a453e2c3ab573ed978a58c5b7", "filename": "src/librustdoc/html/static/themes/ayu.css", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fayu.css", "raw_url": "https://github.com/rust-lang/rust/raw/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fayu.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fayu.css?ref=caf6c5790a858893c1d32ed2054c9577d12e7493", "patch": "@@ -166,7 +166,7 @@ pre {\n \tcolor: #c5c5c5;\n }\n \n-.content .stability::before { color: #ccc; }\n+.content .item-info::before { color: #ccc; }\n \n .content span.foreigntype, .content a.foreigntype { color: #ef57ff; }\n .content span.union, .content a.union { color: #98a01c; }\n@@ -219,7 +219,7 @@ a {\n }\n \n .docblock:not(.type-decl) a:not(.srclink):not(.test-arrow),\n-.docblock-short a:not(.srclink):not(.test-arrow), .stability a,\n+.docblock-short a:not(.srclink):not(.test-arrow), .item-info a,\n #help a {\n \tcolor: #39AFD7;\n }"}, {"sha": "946ca0a40c9dc9595ed610113ada880970caa86d", "filename": "src/librustdoc/html/static/themes/dark.css", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fdark.css?ref=caf6c5790a858893c1d32ed2054c9577d12e7493", "patch": "@@ -136,7 +136,7 @@ pre {\n .content .highlighted.primitive { background-color: #00708a; }\n .content .highlighted.keyword { background-color: #884719; }\n \n-.content .stability::before { color: #ccc; }\n+.content .item-info::before { color: #ccc; }\n \n .content span.enum, .content a.enum, .block a.current.enum { color: #82b089; }\n .content span.struct, .content a.struct, .block a.current.struct { color: #2dbfb8; }\n@@ -177,7 +177,7 @@ a {\n }\n \n .docblock:not(.type-decl) a:not(.srclink):not(.test-arrow),\n-.docblock-short a:not(.srclink):not(.test-arrow), .stability a,\n+.docblock-short a:not(.srclink):not(.test-arrow), .item-info a,\n #help a {\n \tcolor: #D2991D;\n }"}, {"sha": "e0b9a04921a80561ca7d9e045c81adcc7d5f0181", "filename": "src/librustdoc/html/static/themes/light.css", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Flight.css?ref=caf6c5790a858893c1d32ed2054c9577d12e7493", "patch": "@@ -134,7 +134,7 @@ pre {\n .content .highlighted.primitive { background-color: #9aecff; }\n .content .highlighted.keyword { background-color: #f99650; }\n \n-.content .stability::before { color: #ccc; }\n+.content .item-info::before { color: #ccc; }\n \n .content span.enum, .content a.enum, .block a.current.enum { color: #508157; }\n .content span.struct, .content a.struct, .block a.current.struct { color: #ad448e; }\n@@ -175,7 +175,7 @@ a {\n }\n \n .docblock:not(.type-decl) a:not(.srclink):not(.test-arrow),\n-.docblock-short a:not(.srclink):not(.test-arrow), .stability a,\n+.docblock-short a:not(.srclink):not(.test-arrow), .item-info a,\n #help a {\n \tcolor: #3873AD;\n }"}, {"sha": "f86541cd1181e65f71614053c45487a77413010f", "filename": "src/test/rustdoc/doc-cfg.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Ftest%2Frustdoc%2Fdoc-cfg.rs", "raw_url": "https://github.com/rust-lang/rust/raw/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Ftest%2Frustdoc%2Fdoc-cfg.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fdoc-cfg.rs?ref=caf6c5790a858893c1d32ed2054c9577d12e7493", "patch": "@@ -2,28 +2,28 @@\n #![feature(target_feature, cfg_target_feature)]\n \n // @has doc_cfg/struct.Portable.html\n-// @!has - '//*[@id=\"main\"]/*[@class=\"stability\"]/*[@class=\"stab portability\"]' ''\n+// @!has - '//*[@id=\"main\"]/*[@class=\"item-info\"]/*[@class=\"stab portability\"]' ''\n // @has - '//*[@id=\"method.unix_and_arm_only_function\"]' 'fn unix_and_arm_only_function()'\n // @has - '//*[@class=\"stab portability\"]' 'This is supported on Unix and ARM only.'\n pub struct Portable;\n \n // @has doc_cfg/unix_only/index.html \\\n-//  '//*[@id=\"main\"]/*[@class=\"stability\"]/*[@class=\"stab portability\"]' \\\n+//  '//*[@id=\"main\"]/*[@class=\"item-info\"]/*[@class=\"stab portability\"]' \\\n //  'This is supported on Unix only.'\n // @matches - '//*[@class=\"module-item\"]//*[@class=\"stab portability\"]' '\\AARM\\Z'\n // @count - '//*[@class=\"stab portability\"]' 2\n #[doc(cfg(unix))]\n pub mod unix_only {\n     // @has doc_cfg/unix_only/fn.unix_only_function.html \\\n-    //  '//*[@id=\"main\"]/*[@class=\"stability\"]/*[@class=\"stab portability\"]' \\\n+    //  '//*[@id=\"main\"]/*[@class=\"item-info\"]/*[@class=\"stab portability\"]' \\\n     //  'This is supported on Unix only.'\n     // @count - '//*[@class=\"stab portability\"]' 1\n     pub fn unix_only_function() {\n         content::should::be::irrelevant();\n     }\n \n     // @has doc_cfg/unix_only/trait.ArmOnly.html \\\n-    //  '//*[@id=\"main\"]/*[@class=\"stability\"]/*[@class=\"stab portability\"]' \\\n+    //  '//*[@id=\"main\"]/*[@class=\"item-info\"]/*[@class=\"stab portability\"]' \\\n     //  'This is supported on Unix and ARM only.'\n     // @count - '//*[@class=\"stab portability\"]' 2\n     #[doc(cfg(target_arch = \"arm\"))]\n@@ -44,15 +44,15 @@ pub mod unix_only {\n // @matches - '//*[@class=\"module-item\"]//*[@class=\"stab portability\"]' '\\Aavx\\Z'\n \n // @has doc_cfg/fn.uses_target_feature.html\n-// @has - '//*[@id=\"main\"]/*[@class=\"stability\"]/*[@class=\"stab portability\"]' \\\n+// @has - '//*[@id=\"main\"]/*[@class=\"item-info\"]/*[@class=\"stab portability\"]' \\\n //        'This is supported with target feature avx only.'\n #[target_feature(enable = \"avx\")]\n pub unsafe fn uses_target_feature() {\n     content::should::be::irrelevant();\n }\n \n // @has doc_cfg/fn.uses_cfg_target_feature.html\n-// @has - '//*[@id=\"main\"]/*[@class=\"stability\"]/*[@class=\"stab portability\"]' \\\n+// @has - '//*[@id=\"main\"]/*[@class=\"item-info\"]/*[@class=\"stab portability\"]' \\\n //        'This is supported with target feature avx only.'\n #[doc(cfg(target_feature = \"avx\"))]\n pub fn uses_cfg_target_feature() {"}, {"sha": "4ff06d9c9954e4a7cb6c8b9cf2c33fb242645f42", "filename": "src/test/rustdoc/stability.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Ftest%2Frustdoc%2Fstability.rs", "raw_url": "https://github.com/rust-lang/rust/raw/caf6c5790a858893c1d32ed2054c9577d12e7493/src%2Ftest%2Frustdoc%2Fstability.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc%2Fstability.rs?ref=caf6c5790a858893c1d32ed2054c9577d12e7493", "patch": "@@ -4,7 +4,7 @@\n \n pub struct Unstable {\n     // @has stability/struct.Unstable.html \\\n-    //      '//div[@class=\"stability\"]//div[@class=\"stab unstable\"]' \\\n+    //      '//div[@class=\"item-info\"]//div[@class=\"stab unstable\"]' \\\n     //      'This is a nightly-only experimental API'\n     // @count stability/struct.Unstable.html '//span[@class=\"stab unstable\"]' 0\n     pub foo: u32,"}]}