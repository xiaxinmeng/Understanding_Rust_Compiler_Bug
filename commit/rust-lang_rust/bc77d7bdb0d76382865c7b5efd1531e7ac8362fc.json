{"sha": "bc77d7bdb0d76382865c7b5efd1531e7ac8362fc", "node_id": "MDY6Q29tbWl0NzI0NzEyOmJjNzdkN2JkYjBkNzYzODI4NjVjN2I1ZWZkMTUzMWU3YWM4MzYyZmM=", "commit": {"author": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-15T03:21:23Z"}, "committer": {"name": "Brian Anderson", "email": "banderson@mozilla.com", "date": "2012-01-15T03:24:33Z"}, "message": "libcore: Add sys::set_min_stack\n\nAdding this back to the library as a stopgap measure to recover some benchmark\nperformance. See #1527.", "tree": {"sha": "ccdb57dbc12bdda5614decb50a3a12a6af25a9ed", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ccdb57dbc12bdda5614decb50a3a12a6af25a9ed"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/bc77d7bdb0d76382865c7b5efd1531e7ac8362fc", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/bc77d7bdb0d76382865c7b5efd1531e7ac8362fc", "html_url": "https://github.com/rust-lang/rust/commit/bc77d7bdb0d76382865c7b5efd1531e7ac8362fc", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/bc77d7bdb0d76382865c7b5efd1531e7ac8362fc/comments", "author": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "committer": {"login": "brson", "id": 147214, "node_id": "MDQ6VXNlcjE0NzIxNA==", "avatar_url": "https://avatars.githubusercontent.com/u/147214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/brson", "html_url": "https://github.com/brson", "followers_url": "https://api.github.com/users/brson/followers", "following_url": "https://api.github.com/users/brson/following{/other_user}", "gists_url": "https://api.github.com/users/brson/gists{/gist_id}", "starred_url": "https://api.github.com/users/brson/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/brson/subscriptions", "organizations_url": "https://api.github.com/users/brson/orgs", "repos_url": "https://api.github.com/users/brson/repos", "events_url": "https://api.github.com/users/brson/events{/privacy}", "received_events_url": "https://api.github.com/users/brson/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b93ed365559b488e81a34bff0b560fd6366e9f13", "url": "https://api.github.com/repos/rust-lang/rust/commits/b93ed365559b488e81a34bff0b560fd6366e9f13", "html_url": "https://github.com/rust-lang/rust/commit/b93ed365559b488e81a34bff0b560fd6366e9f13"}], "stats": {"total": 17, "additions": 17, "deletions": 0}, "files": [{"sha": "f022532eefc16b0b11a0519f975215ff6a3a25d7", "filename": "src/libcore/sys.rs", "status": "modified", "additions": 17, "deletions": 0, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/bc77d7bdb0d76382865c7b5efd1531e7ac8362fc/src%2Flibcore%2Fsys.rs", "raw_url": "https://github.com/rust-lang/rust/raw/bc77d7bdb0d76382865c7b5efd1531e7ac8362fc/src%2Flibcore%2Fsys.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fsys.rs?ref=bc77d7bdb0d76382865c7b5efd1531e7ac8362fc", "patch": "@@ -21,6 +21,7 @@ native mod rustrt {\n     fn unsupervise();\n     fn shape_log_str<T>(t: *sys::type_desc, data: T) -> str;\n     fn rust_set_exit_status(code: int);\n+    fn set_min_stack(size: uint);\n }\n \n #[abi = \"rust-intrinsic\"]\n@@ -105,6 +106,22 @@ fn set_exit_status(code: int) {\n     rustrt::rust_set_exit_status(code);\n }\n \n+// FIXME: #1495 - This shouldn't exist\n+#[doc(\n+    brief =\n+    \"Globally set the minimum size, in bytes, of a stack segment\",\n+    desc =\n+    \"Rust tasks have segmented stacks that are connected in a linked list \\\n+     allowing them to start very small and grow very large. In some \\\n+     situations this can result in poor performance. Calling this function \\\n+     will set the minimum size of all stack segments allocated in the \\\n+     future, for all tasks.\"\n+)]\n+#[deprecated]\n+fn set_min_stack(size: uint) {\n+    rustrt::set_min_stack(size);\n+}\n+\n // Local Variables:\n // mode: rust;\n // fill-column: 78;"}]}