{"sha": "392d74569970742cbeb6c6e83faf44d5d35e9625", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM5MmQ3NDU2OTk3MDc0MmNiZWI2YzZlODNmYWY0NGQ1ZDM1ZTk2MjU=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-11-30T09:32:34Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2019-11-30T09:32:34Z"}, "message": "Auto merge of #1089 - RalfJung:should-panic, r=RalfJung\n\ntest should_panic checking the panic string", "tree": {"sha": "c1f7c693993ce9dd848ca1b50580e782ddc458e3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c1f7c693993ce9dd848ca1b50580e782ddc458e3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/392d74569970742cbeb6c6e83faf44d5d35e9625", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/392d74569970742cbeb6c6e83faf44d5d35e9625", "html_url": "https://github.com/rust-lang/rust/commit/392d74569970742cbeb6c6e83faf44d5d35e9625", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/392d74569970742cbeb6c6e83faf44d5d35e9625/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e1b639afcadde8a1a82dac8eb0b5357c3741420c", "url": "https://api.github.com/repos/rust-lang/rust/commits/e1b639afcadde8a1a82dac8eb0b5357c3741420c", "html_url": "https://github.com/rust-lang/rust/commit/e1b639afcadde8a1a82dac8eb0b5357c3741420c"}, {"sha": "6363bc497529dbce3000ec213a8023112eebd512", "url": "https://api.github.com/repos/rust-lang/rust/commits/6363bc497529dbce3000ec213a8023112eebd512", "html_url": "https://github.com/rust-lang/rust/commit/6363bc497529dbce3000ec213a8023112eebd512"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "ce85f929049bc28c40f597685901f0e194f35af4", "filename": "test-cargo-miri/tests/test.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/392d74569970742cbeb6c6e83faf44d5d35e9625/test-cargo-miri%2Ftests%2Ftest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/392d74569970742cbeb6c6e83faf44d5d35e9625/test-cargo-miri%2Ftests%2Ftest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/test-cargo-miri%2Ftests%2Ftest.rs?ref=392d74569970742cbeb6c6e83faf44d5d35e9625", "patch": "@@ -12,7 +12,7 @@ fn simple2() {\n     assert_ne!(42, 24);\n }\n \n-// A test that won't work on miri (tests disabling tests)\n+// A test that won't work on miri (tests disabling tests).\n #[cfg(not(miri))]\n #[test]\n fn does_not_work_on_miri() {\n@@ -45,9 +45,9 @@ fn num_cpus() {\n \n // FIXME: Remove this `cfg` once we fix https://github.com/rust-lang/miri/issues/1059\n // We cfg-gate the `should_panic` attribute and the `panic!` itself, so that the test\n-// stdout does not depend on the platform\n+// stdout does not depend on the platform.\n #[test]\n-#[cfg_attr(not(windows), should_panic)]\n+#[cfg_attr(not(windows), should_panic(expected=\"Explicit panic\"))]\n fn do_panic() { // In large, friendly letters :)\n     #[cfg(not(windows))]\n     panic!(\"Explicit panic from test!\");"}]}