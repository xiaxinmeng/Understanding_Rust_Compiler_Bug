{"sha": "9f03d45c56b37b36912c16bd5b4fb4723fd91cb7", "node_id": "MDY6Q29tbWl0NzI0NzEyOjlmMDNkNDVjNTZiMzdiMzY5MTJjMTZiZDViNGZiNDcyM2ZkOTFjYjc=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-04-28T22:36:35Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-04-28T22:36:35Z"}, "message": "auto merge of #5646 : Aatch/rust/unwind-fix, r=brson\n\nThis fixes issue #5641", "tree": {"sha": "9f7aa02b6da40b39c78d11a7a966bc92fd81f439", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9f7aa02b6da40b39c78d11a7a966bc92fd81f439"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/9f03d45c56b37b36912c16bd5b4fb4723fd91cb7", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/9f03d45c56b37b36912c16bd5b4fb4723fd91cb7", "html_url": "https://github.com/rust-lang/rust/commit/9f03d45c56b37b36912c16bd5b4fb4723fd91cb7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/9f03d45c56b37b36912c16bd5b4fb4723fd91cb7/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "1f9823375b2ed303e85b56db839283db79905ba4", "url": "https://api.github.com/repos/rust-lang/rust/commits/1f9823375b2ed303e85b56db839283db79905ba4", "html_url": "https://github.com/rust-lang/rust/commit/1f9823375b2ed303e85b56db839283db79905ba4"}, {"sha": "507c200da17cde760f359da4be1fa13e723cab19", "url": "https://api.github.com/repos/rust-lang/rust/commits/507c200da17cde760f359da4be1fa13e723cab19", "html_url": "https://github.com/rust-lang/rust/commit/507c200da17cde760f359da4be1fa13e723cab19"}], "stats": {"total": 48, "additions": 7, "deletions": 41}, "files": [{"sha": "0eb990a9c9b295f9e86035d73c4736bae1c4c5a8", "filename": "src/rt/rust_unwind.h", "status": "removed", "additions": 0, "deletions": 40, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/1f9823375b2ed303e85b56db839283db79905ba4/src%2Frt%2Frust_unwind.h", "raw_url": "https://github.com/rust-lang/rust/raw/1f9823375b2ed303e85b56db839283db79905ba4/src%2Frt%2Frust_unwind.h", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_unwind.h?ref=1f9823375b2ed303e85b56db839283db79905ba4", "patch": "@@ -1,40 +0,0 @@\n-// Copyright 2012 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-// Unwinding stuff missing on some architectures (Mac OS X).\n-\n-#ifndef RUST_UNWIND_H\n-#define RUST_UNWIND_H\n-\n-#ifdef __APPLE__\n-#include <libunwind.h>\n-\n-typedef void _Unwind_Context;\n-typedef int _Unwind_Reason_Code;\n-\n-#else\n-\n-#include <unwind.h>\n-\n-#endif\n-\n-#if (defined __APPLE__) || (defined __clang__)\n-\n-#ifndef __FreeBSD__\n-\n-typedef int _Unwind_Action;\n-typedef void _Unwind_Exception;\n-\n-#endif\n-\n-#endif\n-\n-#endif\n-"}, {"sha": "59f06feee4b93623746c8ff728c3f86e899e9a12", "filename": "src/rt/rust_upcall.cpp", "status": "modified", "additions": 7, "deletions": 1, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/9f03d45c56b37b36912c16bd5b4fb4723fd91cb7/src%2Frt%2Frust_upcall.cpp", "raw_url": "https://github.com/rust-lang/rust/raw/9f03d45c56b37b36912c16bd5b4fb4723fd91cb7/src%2Frt%2Frust_upcall.cpp", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frt%2Frust_upcall.cpp?ref=9f03d45c56b37b36912c16bd5b4fb4723fd91cb7", "patch": "@@ -19,10 +19,16 @@\n #include \"rust_globals.h\"\n #include \"rust_task.h\"\n #include \"rust_sched_loop.h\"\n-#include \"rust_unwind.h\"\n #include \"rust_upcall.h\"\n #include \"rust_util.h\"\n \n+//Unwinding ABI declarations.\n+typedef int _Unwind_Reason_Code;\n+typedef int _Unwind_Action;\n+\n+struct _Unwind_Context;\n+struct _Unwind_Exception;\n+\n #ifdef __GNUC__\n #define LOG_UPCALL_ENTRY(task)                            \\\n     LOG(task, upcall,                                     \\"}]}