{"sha": "b1541ff198d3684c4dfadca02d87677bea04f8c0", "node_id": "C_kwDOAAsO6NoAKGIxNTQxZmYxOThkMzY4NGM0ZGZhZGNhMDJkODc2NzdiZWEwNGY4YzA", "commit": {"author": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-07-04T14:57:10Z"}, "committer": {"name": "Chris Denton", "email": "christophersdenton@gmail.com", "date": "2022-07-04T14:57:10Z"}, "message": "bootstrap.py: Always use `.exe` for Windows\n\nThis ensure that it will run the Windows executable if other files in the directory (such as Linux executables) have the same file name minus the extension.", "tree": {"sha": "0d5b103c9390c99ac4d866ea971955dbbe46056f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0d5b103c9390c99ac4d866ea971955dbbe46056f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b1541ff198d3684c4dfadca02d87677bea04f8c0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE+p/jD6jrzmnSIWJLcTRy8vRWJ94FAmLC/8YACgkQcTRy8vRW\nJ97WDA//TcSauSdNlZy5w5yeLaZORM1I+xNUhogXDGmgrAg5qWrGCLk6I9ucGFQO\nUvR6dneRVv9EUXdicyzOlEVNV2FtKPmMgaAK+Vn7UFcL7eTN4gTk9rTwIBa5pri9\nBjJp2cWPwH3nKKOdIIQOOGW5mutByonKUOB5aFqnn19haeBkMEwx9d1YwhU0GqD4\neSIDdLDuuh2WreRMCzCy0Lhc00bnXwi3Yf5wY1TZL/1D3NmInyTavBxZ8Q0HCmb0\nve8LeNYivEvfycj/Dp/3RU1kiMGmDpb/wMscIdNu7RxZZsifn+g4kU8XcCxE/ard\nNU/Rd4FTIELrCs2BiK0dthxuPmgGttPKK3EWLpXu/8WZP4A+3gWkmpIvQF36N/Ud\nZiHwGYTTALxfsxk/W1w5O4M6PqSIkxjNelpZ9sz4rhUfmdg6iJaRQwFF9UXx2fcg\nqenIyGfvp4JPcH9dh9no6y5zzbs9C3heir9VEgLWqq9L+NyZ5REFct27eUioseee\ni1zpYW7DvxM13FGvU01MUwi8YU4NVja7O2oPnK7ytKYq2/Kt9G6MRd3vavluU4XI\nd058/YSRE5MUhssl9GBqSPcbS8BXN84nUaLnYfWaXWuerh0CWlt1h0w7SuacSmYS\n5wyFXK+RpJFj4w4NmLBVTKN2JReRBMjco+yUr1vP86waP96HU/s=\n=H5vl\n-----END PGP SIGNATURE-----", "payload": "tree 0d5b103c9390c99ac4d866ea971955dbbe46056f\nparent a3beeaa84da241f35888338ded6659938206ff13\nauthor Chris Denton <christophersdenton@gmail.com> 1656946630 +0100\ncommitter Chris Denton <christophersdenton@gmail.com> 1656946630 +0100\n\nbootstrap.py: Always use `.exe` for Windows\n\nThis ensure that it will run the Windows executable if other files in the directory (such as Linux executables) have the same file name minus the extension.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b1541ff198d3684c4dfadca02d87677bea04f8c0", "html_url": "https://github.com/rust-lang/rust/commit/b1541ff198d3684c4dfadca02d87677bea04f8c0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b1541ff198d3684c4dfadca02d87677bea04f8c0/comments", "author": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ChrisDenton", "id": 4459874, "node_id": "MDQ6VXNlcjQ0NTk4NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/4459874?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ChrisDenton", "html_url": "https://github.com/ChrisDenton", "followers_url": "https://api.github.com/users/ChrisDenton/followers", "following_url": "https://api.github.com/users/ChrisDenton/following{/other_user}", "gists_url": "https://api.github.com/users/ChrisDenton/gists{/gist_id}", "starred_url": "https://api.github.com/users/ChrisDenton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ChrisDenton/subscriptions", "organizations_url": "https://api.github.com/users/ChrisDenton/orgs", "repos_url": "https://api.github.com/users/ChrisDenton/repos", "events_url": "https://api.github.com/users/ChrisDenton/events{/privacy}", "received_events_url": "https://api.github.com/users/ChrisDenton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a3beeaa84da241f35888338ded6659938206ff13", "url": "https://api.github.com/repos/rust-lang/rust/commits/a3beeaa84da241f35888338ded6659938206ff13", "html_url": "https://github.com/rust-lang/rust/commit/a3beeaa84da241f35888338ded6659938206ff13"}], "stats": {"total": 4, "additions": 4, "deletions": 0}, "files": [{"sha": "d2d294d9040b95844e3d8b324f30ec5ccbd3a4ad", "filename": "src/bootstrap/bootstrap.py", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/b1541ff198d3684c4dfadca02d87677bea04f8c0/src%2Fbootstrap%2Fbootstrap.py", "raw_url": "https://github.com/rust-lang/rust/raw/b1541ff198d3684c4dfadca02d87677bea04f8c0/src%2Fbootstrap%2Fbootstrap.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap.py?ref=b1541ff198d3684c4dfadca02d87677bea04f8c0", "patch": "@@ -152,6 +152,10 @@ def run(args, verbose=False, exception=False, is_bootstrap=False, **kwargs):\n     if verbose:\n         print(\"running: \" + ' '.join(args))\n     sys.stdout.flush()\n+    # Ensure that the .exe is used on Windoows just in case a Linux ELF has been\n+    # compiled in the same directory.\n+    if os.name == 'nt' and not args[0].endswith('.exe'):\n+        args[0] += '.exe'\n     # Use Popen here instead of call() as it apparently allows powershell on\n     # Windows to not lock up waiting for input presumably.\n     ret = subprocess.Popen(args, **kwargs)"}]}