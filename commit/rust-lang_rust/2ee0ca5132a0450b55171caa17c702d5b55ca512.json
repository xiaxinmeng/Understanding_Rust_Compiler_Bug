{"sha": "2ee0ca5132a0450b55171caa17c702d5b55ca512", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJlZTBjYTUxMzJhMDQ1MGI1NTE3MWNhYTE3YzcwMmQ1YjU1Y2E1MTI=", "commit": {"author": {"name": "Jeong YunWon", "email": "jeong@youknowone.org", "date": "2014-05-18T06:30:41Z"}, "committer": {"name": "Jeong YunWon", "email": "jeong@youknowone.org", "date": "2014-05-18T06:30:41Z"}, "message": "Advice to use Box<T> not ~T", "tree": {"sha": "02397b9879054abe518bf40fb3ea05b70a0da49e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/02397b9879054abe518bf40fb3ea05b70a0da49e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2ee0ca5132a0450b55171caa17c702d5b55ca512", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2ee0ca5132a0450b55171caa17c702d5b55ca512", "html_url": "https://github.com/rust-lang/rust/commit/2ee0ca5132a0450b55171caa17c702d5b55ca512", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2ee0ca5132a0450b55171caa17c702d5b55ca512/comments", "author": {"login": "youknowone", "id": 69878, "node_id": "MDQ6VXNlcjY5ODc4", "avatar_url": "https://avatars.githubusercontent.com/u/69878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/youknowone", "html_url": "https://github.com/youknowone", "followers_url": "https://api.github.com/users/youknowone/followers", "following_url": "https://api.github.com/users/youknowone/following{/other_user}", "gists_url": "https://api.github.com/users/youknowone/gists{/gist_id}", "starred_url": "https://api.github.com/users/youknowone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/youknowone/subscriptions", "organizations_url": "https://api.github.com/users/youknowone/orgs", "repos_url": "https://api.github.com/users/youknowone/repos", "events_url": "https://api.github.com/users/youknowone/events{/privacy}", "received_events_url": "https://api.github.com/users/youknowone/received_events", "type": "User", "site_admin": false}, "committer": {"login": "youknowone", "id": 69878, "node_id": "MDQ6VXNlcjY5ODc4", "avatar_url": "https://avatars.githubusercontent.com/u/69878?v=4", "gravatar_id": "", "url": "https://api.github.com/users/youknowone", "html_url": "https://github.com/youknowone", "followers_url": "https://api.github.com/users/youknowone/followers", "following_url": "https://api.github.com/users/youknowone/following{/other_user}", "gists_url": "https://api.github.com/users/youknowone/gists{/gist_id}", "starred_url": "https://api.github.com/users/youknowone/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/youknowone/subscriptions", "organizations_url": "https://api.github.com/users/youknowone/orgs", "repos_url": "https://api.github.com/users/youknowone/repos", "events_url": "https://api.github.com/users/youknowone/events{/privacy}", "received_events_url": "https://api.github.com/users/youknowone/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "3da5a5cd18dc2a2177160772725946c3b4512f7c", "url": "https://api.github.com/repos/rust-lang/rust/commits/3da5a5cd18dc2a2177160772725946c3b4512f7c", "html_url": "https://github.com/rust-lang/rust/commit/3da5a5cd18dc2a2177160772725946c3b4512f7c"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "e9a95a4a9eb408b81c2ab186d07105b2bb072be6", "filename": "src/librustc/middle/typeck/astconv.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2ee0ca5132a0450b55171caa17c702d5b55ca512/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fastconv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2ee0ca5132a0450b55171caa17c702d5b55ca512/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fastconv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftypeck%2Fastconv.rs?ref=2ee0ca5132a0450b55171caa17c702d5b55ca512", "patch": "@@ -653,7 +653,7 @@ pub fn ast_ty_to_ty<AC:AstConv, RS:RegionScope>(\n                         tcx.sess.span_err(\n                             ast_ty.span,\n                             format!(\"reference to trait `{name}` where a type is expected; \\\n-                                    try `~{name}` or `&{name}`\", name=path_str));\n+                                    try `Box<{name}>` or `&{name}`\", name=path_str));\n                         ty::mk_err()\n                     }\n                     ast::DefTy(did) | ast::DefStruct(did) => {"}, {"sha": "831e165ad0ef57b111ca8a0fa8e6d3fa47e0bf2d", "filename": "src/test/compile-fail/issue-5883.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/2ee0ca5132a0450b55171caa17c702d5b55ca512/src%2Ftest%2Fcompile-fail%2Fissue-5883.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2ee0ca5132a0450b55171caa17c702d5b55ca512/src%2Ftest%2Fcompile-fail%2Fissue-5883.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fissue-5883.rs?ref=2ee0ca5132a0450b55171caa17c702d5b55ca512", "patch": "@@ -11,15 +11,15 @@\n trait A {}\n \n struct Struct {\n-    r: A //~ ERROR reference to trait `A` where a type is expected; try `~A` or `&A`\n+    r: A //~ ERROR reference to trait `A` where a type is expected; try `Box<A>` or `&A`\n }\n \n fn new_struct(r: A) -> Struct {\n-    //~^ ERROR reference to trait `A` where a type is expected; try `~A` or `&A`\n+    //~^ ERROR reference to trait `A` where a type is expected; try `Box<A>` or `&A`\n     Struct { r: r }\n }\n \n trait Curve {}\n enum E {X(Curve)}\n-//~^ ERROR reference to trait `Curve` where a type is expected; try `~Curve` or `&Curve`\n+//~^ ERROR reference to trait `Curve` where a type is expected; try `Box<Curve>` or `&Curve`\n fn main() {}"}, {"sha": "435c90c78305ba28c823f49c4566029732883af1", "filename": "src/test/compile-fail/trait-bounds-not-on-bare-trait.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2ee0ca5132a0450b55171caa17c702d5b55ca512/src%2Ftest%2Fcompile-fail%2Ftrait-bounds-not-on-bare-trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2ee0ca5132a0450b55171caa17c702d5b55ca512/src%2Ftest%2Fcompile-fail%2Ftrait-bounds-not-on-bare-trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Ftrait-bounds-not-on-bare-trait.rs?ref=2ee0ca5132a0450b55171caa17c702d5b55ca512", "patch": "@@ -14,7 +14,7 @@ trait Foo {\n // This should emit the less confusing error, not the more confusing one.\n \n fn foo(_x: Foo:Send) {\n-    //~^ERROR reference to trait `Foo` where a type is expected; try `~Foo` or `&Foo`\n+    //~^ERROR reference to trait `Foo` where a type is expected; try `Box<Foo>` or `&Foo`\n }\n \n fn main() { }"}]}