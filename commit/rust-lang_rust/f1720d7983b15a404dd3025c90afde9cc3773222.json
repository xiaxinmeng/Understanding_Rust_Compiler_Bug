{"sha": "f1720d7983b15a404dd3025c90afde9cc3773222", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYxNzIwZDc5ODNiMTVhNDA0ZGQzMDI1YzkwYWZkZTljYzM3NzMyMjI=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-01-29T15:10:46Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-01-29T15:10:46Z"}, "message": "Re-sync queries for memory usage measurnment", "tree": {"sha": "b5dbc25ebef05ee32a3beb47259c4a56a6eaba72", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b5dbc25ebef05ee32a3beb47259c4a56a6eaba72"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f1720d7983b15a404dd3025c90afde9cc3773222", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f1720d7983b15a404dd3025c90afde9cc3773222", "html_url": "https://github.com/rust-lang/rust/commit/f1720d7983b15a404dd3025c90afde9cc3773222", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f1720d7983b15a404dd3025c90afde9cc3773222/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e3c81b67ffb97f5ac34af54d7c42033f7830bf2f", "url": "https://api.github.com/repos/rust-lang/rust/commits/e3c81b67ffb97f5ac34af54d7c42033f7830bf2f", "html_url": "https://github.com/rust-lang/rust/commit/e3c81b67ffb97f5ac34af54d7c42033f7830bf2f"}], "stats": {"total": 73, "additions": 53, "deletions": 20}, "files": [{"sha": "a77bf6de6c5c16d2687a727ad21e28f242b23adb", "filename": "crates/ra_hir/src/db.rs", "status": "modified", "additions": 13, "deletions": 9, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/f1720d7983b15a404dd3025c90afde9cc3773222/crates%2Fra_hir%2Fsrc%2Fdb.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1720d7983b15a404dd3025c90afde9cc3773222/crates%2Fra_hir%2Fsrc%2Fdb.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fdb.rs?ref=f1720d7983b15a404dd3025c90afde9cc3773222", "patch": "@@ -1,20 +1,24 @@\n //! FIXME: write short doc here\n \n pub use hir_def::db::{\n-    BodyQuery, BodyWithSourceMapQuery, ComputeCrateDefMapQuery, ConstDataQuery,\n+    AttrsQuery, BodyQuery, BodyWithSourceMapQuery, ComputeCrateDefMapQuery, ConstDataQuery,\n     CrateLangItemsQuery, DefDatabase, DefDatabaseStorage, DocumentationQuery, EnumDataQuery,\n-    ExprScopesQuery, FunctionDataQuery, GenericParamsQuery, ImplDataQuery, InternDatabase,\n-    InternDatabaseStorage, LangItemQuery, ModuleLangItemsQuery, RawItemsQuery, StaticDataQuery,\n-    StructDataQuery, TraitDataQuery, TypeAliasDataQuery,\n+    ExprScopesQuery, FunctionDataQuery, GenericParamsQuery, ImplDataQuery, InternConstQuery,\n+    InternDatabase, InternDatabaseStorage, InternEnumQuery, InternFunctionQuery, InternImplQuery,\n+    InternStaticQuery, InternStructQuery, InternTraitQuery, InternTypeAliasQuery, InternUnionQuery,\n+    LangItemQuery, ModuleLangItemsQuery, RawItemsQuery, StaticDataQuery, StructDataQuery,\n+    TraitDataQuery, TypeAliasDataQuery, UnionDataQuery,\n };\n pub use hir_expand::db::{\n-    AstDatabase, AstDatabaseStorage, AstIdMapQuery, MacroArgQuery, MacroDefQuery, MacroExpandQuery,\n-    ParseMacroQuery,\n+    AstDatabase, AstDatabaseStorage, AstIdMapQuery, InternMacroQuery, MacroArgQuery, MacroDefQuery,\n+    MacroExpandQuery, ParseMacroQuery,\n };\n pub use hir_ty::db::{\n-    AssociatedTyDataQuery, CallableItemSignatureQuery, DoInferQuery, FieldTypesQuery,\n-    GenericDefaultsQuery, GenericPredicatesQuery, HirDatabase, HirDatabaseStorage, ImplDatumQuery,\n-    ImplsForTraitQuery, ImplsInCrateQuery, StructDatumQuery, TraitDatumQuery, TraitSolveQuery,\n+    AssociatedTyDataQuery, AssociatedTyValueQuery, CallableItemSignatureQuery, DoInferQuery,\n+    FieldTypesQuery, GenericDefaultsQuery, GenericPredicatesForParamQuery, GenericPredicatesQuery,\n+    HirDatabase, HirDatabaseStorage, ImplDatumQuery, ImplSelfTyQuery, ImplTraitQuery,\n+    ImplsForTraitQuery, ImplsInCrateQuery, InternAssocTyValueQuery, InternChalkImplQuery,\n+    InternTypeCtorQuery, StructDatumQuery, TraitDatumQuery, TraitSolveQuery, TraitSolverQuery,\n     TyQuery, ValueTyQuery,\n };\n "}, {"sha": "45a58690b453ab2d9c9403d1005e829482b4be6e", "filename": "crates/ra_ide/src/change.rs", "status": "modified", "additions": 40, "deletions": 11, "changes": 51, "blob_url": "https://github.com/rust-lang/rust/blob/f1720d7983b15a404dd3025c90afde9cc3773222/crates%2Fra_ide%2Fsrc%2Fchange.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1720d7983b15a404dd3025c90afde9cc3773222/crates%2Fra_ide%2Fsrc%2Fchange.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide%2Fsrc%2Fchange.rs?ref=f1720d7983b15a404dd3025c90afde9cc3773222", "patch": "@@ -301,45 +301,74 @@ impl RootDatabase {\n             )*}\n         }\n         sweep_each_query![\n+            // SourceDatabase\n             ra_db::ParseQuery\n             ra_db::SourceRootCratesQuery\n+\n+            // AstDatabase\n             hir::db::AstIdMapQuery\n-            hir::db::ParseMacroQuery\n-            hir::db::MacroDefQuery\n+            hir::db::InternMacroQuery\n             hir::db::MacroArgQuery\n+            hir::db::MacroDefQuery\n+            hir::db::ParseMacroQuery\n             hir::db::MacroExpandQuery\n+\n+            // DefDatabase\n+            hir::db::RawItemsQuery\n+            hir::db::ComputeCrateDefMapQuery\n             hir::db::StructDataQuery\n+            hir::db::UnionDataQuery\n             hir::db::EnumDataQuery\n+            hir::db::ImplDataQuery\n             hir::db::TraitDataQuery\n-            hir::db::RawItemsQuery\n-            hir::db::ComputeCrateDefMapQuery\n-            hir::db::GenericParamsQuery\n-            hir::db::FunctionDataQuery\n             hir::db::TypeAliasDataQuery\n+            hir::db::FunctionDataQuery\n             hir::db::ConstDataQuery\n             hir::db::StaticDataQuery\n+            hir::db::BodyWithSourceMapQuery\n+            hir::db::BodyQuery\n+            hir::db::ExprScopesQuery\n+            hir::db::GenericParamsQuery\n+            hir::db::AttrsQuery\n             hir::db::ModuleLangItemsQuery\n             hir::db::CrateLangItemsQuery\n             hir::db::LangItemQuery\n             hir::db::DocumentationQuery\n-            hir::db::ExprScopesQuery\n+\n+            // InternDatabase\n+            hir::db::InternFunctionQuery\n+            hir::db::InternStructQuery\n+            hir::db::InternUnionQuery\n+            hir::db::InternEnumQuery\n+            hir::db::InternConstQuery\n+            hir::db::InternStaticQuery\n+            hir::db::InternTraitQuery\n+            hir::db::InternTypeAliasQuery\n+            hir::db::InternImplQuery\n+\n+            // HirDatabase\n             hir::db::DoInferQuery\n             hir::db::TyQuery\n             hir::db::ValueTyQuery\n+            hir::db::ImplSelfTyQuery\n+            hir::db::ImplTraitQuery\n             hir::db::FieldTypesQuery\n             hir::db::CallableItemSignatureQuery\n+            hir::db::GenericPredicatesForParamQuery\n             hir::db::GenericPredicatesQuery\n             hir::db::GenericDefaultsQuery\n-            hir::db::BodyWithSourceMapQuery\n-            hir::db::BodyQuery\n             hir::db::ImplsInCrateQuery\n             hir::db::ImplsForTraitQuery\n+            hir::db::TraitSolverQuery\n+            hir::db::InternTypeCtorQuery\n+            hir::db::InternChalkImplQuery\n+            hir::db::InternAssocTyValueQuery\n             hir::db::AssociatedTyDataQuery\n+            hir::db::AssociatedTyValueQuery\n+            hir::db::TraitSolveQuery\n             hir::db::TraitDatumQuery\n             hir::db::StructDatumQuery\n             hir::db::ImplDatumQuery\n-            hir::db::ImplDataQuery\n-            hir::db::TraitSolveQuery\n         ];\n         acc.sort_by_key(|it| std::cmp::Reverse(it.1));\n         acc"}]}