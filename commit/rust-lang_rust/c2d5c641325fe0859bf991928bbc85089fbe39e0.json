{"sha": "c2d5c641325fe0859bf991928bbc85089fbe39e0", "node_id": "C_kwDOAAsO6NoAKGMyZDVjNjQxMzI1ZmUwODU5YmY5OTE5MjhiYmM4NTA4OWZiZTM5ZTA", "commit": {"author": {"name": "Marcus Calhoun-Lopez", "email": "marcuscalhounlopez@gmail.com", "date": "2022-03-27T18:18:01Z"}, "committer": {"name": "Marcus Calhoun-Lopez", "email": "marcuscalhounlopez@gmail.com", "date": "2022-03-28T19:52:14Z"}, "message": "Fix build on i686-apple-darwin systems\n\nReplace `target_arch = \"x86_64\"` with `not(target_arch = \"aarch64\")` so that i686-apple-darwin systems dynamically choose implementation.", "tree": {"sha": "33d2046a3839b939ea9927207d79554440a93495", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/33d2046a3839b939ea9927207d79554440a93495"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c2d5c641325fe0859bf991928bbc85089fbe39e0", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c2d5c641325fe0859bf991928bbc85089fbe39e0", "html_url": "https://github.com/rust-lang/rust/commit/c2d5c641325fe0859bf991928bbc85089fbe39e0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c2d5c641325fe0859bf991928bbc85089fbe39e0/comments", "author": {"login": "MarcusCalhoun-Lopez", "id": 23001441, "node_id": "MDQ6VXNlcjIzMDAxNDQx", "avatar_url": "https://avatars.githubusercontent.com/u/23001441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarcusCalhoun-Lopez", "html_url": "https://github.com/MarcusCalhoun-Lopez", "followers_url": "https://api.github.com/users/MarcusCalhoun-Lopez/followers", "following_url": "https://api.github.com/users/MarcusCalhoun-Lopez/following{/other_user}", "gists_url": "https://api.github.com/users/MarcusCalhoun-Lopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarcusCalhoun-Lopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarcusCalhoun-Lopez/subscriptions", "organizations_url": "https://api.github.com/users/MarcusCalhoun-Lopez/orgs", "repos_url": "https://api.github.com/users/MarcusCalhoun-Lopez/repos", "events_url": "https://api.github.com/users/MarcusCalhoun-Lopez/events{/privacy}", "received_events_url": "https://api.github.com/users/MarcusCalhoun-Lopez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "MarcusCalhoun-Lopez", "id": 23001441, "node_id": "MDQ6VXNlcjIzMDAxNDQx", "avatar_url": "https://avatars.githubusercontent.com/u/23001441?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MarcusCalhoun-Lopez", "html_url": "https://github.com/MarcusCalhoun-Lopez", "followers_url": "https://api.github.com/users/MarcusCalhoun-Lopez/followers", "following_url": "https://api.github.com/users/MarcusCalhoun-Lopez/following{/other_user}", "gists_url": "https://api.github.com/users/MarcusCalhoun-Lopez/gists{/gist_id}", "starred_url": "https://api.github.com/users/MarcusCalhoun-Lopez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MarcusCalhoun-Lopez/subscriptions", "organizations_url": "https://api.github.com/users/MarcusCalhoun-Lopez/orgs", "repos_url": "https://api.github.com/users/MarcusCalhoun-Lopez/repos", "events_url": "https://api.github.com/users/MarcusCalhoun-Lopez/events{/privacy}", "received_events_url": "https://api.github.com/users/MarcusCalhoun-Lopez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "600ec284838c52d1f6657c2cf0097b58970b133b", "url": "https://api.github.com/repos/rust-lang/rust/commits/600ec284838c52d1f6657c2cf0097b58970b133b", "html_url": "https://github.com/rust-lang/rust/commit/600ec284838c52d1f6657c2cf0097b58970b133b"}], "stats": {"total": 10, "additions": 5, "deletions": 5}, "files": [{"sha": "6a0088a8940dc454a33446d0a29b972ba40346a1", "filename": "library/std/src/sys/unix/fs.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/c2d5c641325fe0859bf991928bbc85089fbe39e0/library%2Fstd%2Fsrc%2Fsys%2Funix%2Ffs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c2d5c641325fe0859bf991928bbc85089fbe39e0/library%2Fstd%2Fsrc%2Fsys%2Funix%2Ffs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Ffs.rs?ref=c2d5c641325fe0859bf991928bbc85089fbe39e0", "patch": "@@ -1535,12 +1535,12 @@ mod remove_dir_impl {\n     use crate::sync::Arc;\n     use crate::sys::{cvt, cvt_r};\n \n-    #[cfg(not(all(target_os = \"macos\", target_arch = \"x86_64\"),))]\n+    #[cfg(not(all(target_os = \"macos\", not(target_arch = \"aarch64\")),))]\n     use libc::{fdopendir, openat, unlinkat};\n-    #[cfg(all(target_os = \"macos\", target_arch = \"x86_64\"))]\n+    #[cfg(all(target_os = \"macos\", not(target_arch = \"aarch64\")))]\n     use macos_weak::{fdopendir, openat, unlinkat};\n \n-    #[cfg(all(target_os = \"macos\", target_arch = \"x86_64\"))]\n+    #[cfg(all(target_os = \"macos\", not(target_arch = \"aarch64\")))]\n     mod macos_weak {\n         use crate::sys::weak::weak;\n         use libc::{c_char, c_int, DIR};\n@@ -1699,12 +1699,12 @@ mod remove_dir_impl {\n         }\n     }\n \n-    #[cfg(not(all(target_os = \"macos\", target_arch = \"x86_64\")))]\n+    #[cfg(not(all(target_os = \"macos\", not(target_arch = \"aarch64\"))))]\n     pub fn remove_dir_all(p: &Path) -> io::Result<()> {\n         remove_dir_all_modern(p)\n     }\n \n-    #[cfg(all(target_os = \"macos\", target_arch = \"x86_64\"))]\n+    #[cfg(all(target_os = \"macos\", not(target_arch = \"aarch64\")))]\n     pub fn remove_dir_all(p: &Path) -> io::Result<()> {\n         if macos_weak::has_openat() {\n             // openat() is available with macOS 10.10+, just like unlinkat() and fdopendir()"}]}