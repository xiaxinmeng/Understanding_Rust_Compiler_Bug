{"sha": "0f0a9775bae31169153d36dfa586e899c90921d5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBmMGE5Nzc1YmFlMzExNjkxNTNkMzZkZmE1ODZlODk5YzkwOTIxZDU=", "commit": {"author": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2012-08-22T21:13:24Z"}, "committer": {"name": "Michael Sullivan", "email": "sully@msully.net", "date": "2012-08-23T17:21:35Z"}, "message": "Some error message cleanup in check.rs.", "tree": {"sha": "fac250a32f1b96144bd7693c19bcaa4e507a1097", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fac250a32f1b96144bd7693c19bcaa4e507a1097"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0f0a9775bae31169153d36dfa586e899c90921d5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0f0a9775bae31169153d36dfa586e899c90921d5", "html_url": "https://github.com/rust-lang/rust/commit/0f0a9775bae31169153d36dfa586e899c90921d5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0f0a9775bae31169153d36dfa586e899c90921d5/comments", "author": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "committer": {"login": "msullivan", "id": 340349, "node_id": "MDQ6VXNlcjM0MDM0OQ==", "avatar_url": "https://avatars.githubusercontent.com/u/340349?v=4", "gravatar_id": "", "url": "https://api.github.com/users/msullivan", "html_url": "https://github.com/msullivan", "followers_url": "https://api.github.com/users/msullivan/followers", "following_url": "https://api.github.com/users/msullivan/following{/other_user}", "gists_url": "https://api.github.com/users/msullivan/gists{/gist_id}", "starred_url": "https://api.github.com/users/msullivan/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/msullivan/subscriptions", "organizations_url": "https://api.github.com/users/msullivan/orgs", "repos_url": "https://api.github.com/users/msullivan/repos", "events_url": "https://api.github.com/users/msullivan/events{/privacy}", "received_events_url": "https://api.github.com/users/msullivan/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5d5cfcc005f0658b257225b7809db3f18b03be77", "url": "https://api.github.com/repos/rust-lang/rust/commits/5d5cfcc005f0658b257225b7809db3f18b03be77", "html_url": "https://github.com/rust-lang/rust/commit/5d5cfcc005f0658b257225b7809db3f18b03be77"}], "stats": {"total": 17, "additions": 7, "deletions": 10}, "files": [{"sha": "fe01ec5bb4ed8306cbc0631ccd91c86122267af1", "filename": "src/rustc/middle/typeck/check.rs", "status": "modified", "additions": 7, "deletions": 10, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/0f0a9775bae31169153d36dfa586e899c90921d5/src%2Frustc%2Fmiddle%2Ftypeck%2Fcheck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0f0a9775bae31169153d36dfa586e899c90921d5/src%2Frustc%2Fmiddle%2Ftypeck%2Fcheck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Frustc%2Fmiddle%2Ftypeck%2Fcheck.rs?ref=0f0a9775bae31169153d36dfa586e899c90921d5", "patch": "@@ -2323,27 +2323,24 @@ fn ty_param_bounds_and_ty_for_def(fcx: @fn_ctxt, sp: span, defn: ast::def) ->\n       ast::def_upvar(_, inner, _, _) => {\n         return ty_param_bounds_and_ty_for_def(fcx, sp, *inner);\n       }\n-      ast::def_ty_param(did, n) => {\n-        return no_params(ty::mk_param(fcx.ccx.tcx, n, did));\n-      }\n-      ast::def_ty(_) | ast::def_prim_ty(_) => {\n-        fcx.ccx.tcx.sess.span_fatal(sp, ~\"expected value but found type\");\n+      ast::def_ty(_) | ast::def_prim_ty(_) | ast::def_ty_param(*)=> {\n+        fcx.ccx.tcx.sess.span_bug(sp, ~\"expected value but found type\");\n       }\n       ast::def_mod(*) | ast::def_foreign_mod(*) => {\n-        fcx.ccx.tcx.sess.span_fatal(sp, ~\"expected value but found module\");\n+        fcx.ccx.tcx.sess.span_bug(sp, ~\"expected value but found module\");\n       }\n       ast::def_use(*) => {\n-        fcx.ccx.tcx.sess.span_fatal(sp, ~\"expected value but found use\");\n+        fcx.ccx.tcx.sess.span_bug(sp, ~\"expected value but found use\");\n       }\n       ast::def_region(*) => {\n-        fcx.ccx.tcx.sess.span_fatal(sp, ~\"expected value but found region\");\n+        fcx.ccx.tcx.sess.span_bug(sp, ~\"expected value but found region\");\n       }\n       ast::def_typaram_binder(*) => {\n-        fcx.ccx.tcx.sess.span_fatal(sp, ~\"expected value but found type \\\n+        fcx.ccx.tcx.sess.span_bug(sp, ~\"expected value but found type \\\n                                           parameter\");\n       }\n       ast::def_label(*) => {\n-        fcx.ccx.tcx.sess.span_fatal(sp, ~\"expected value but found label\");\n+        fcx.ccx.tcx.sess.span_bug(sp, ~\"expected value but found label\");\n       }\n     }\n }"}]}