{"sha": "4c4b4c4ab407f0ccdfc71caf443735e5ba62539c", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRjNGI0YzRhYjQwN2YwY2NkZmM3MWNhZjQ0MzczNWU1YmE2MjUzOWM=", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2020-05-15T16:01:26Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2020-05-15T16:04:00Z"}, "message": "Add test of proc_macro::TokenStream's Debug", "tree": {"sha": "5215bbb79aba07ea3b1f1c84d8812640cfffff85", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5215bbb79aba07ea3b1f1c84d8812640cfffff85"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4c4b4c4ab407f0ccdfc71caf443735e5ba62539c", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAl6+vXAACgkQ+boUO5X/\nbYICGQ//fnLt+3Yj+h7Nbr+SEMJEtvPm/e6WXZqr7LoDkEG2StOwXH/UW93p666o\nJfG738paCAnLvUyf89yFc/4+xmXodKYnSrPlGTu5ujl7ZkpE6TBq1VuqdZsyMbxN\nblOvgsMh9L/ppFnqwB8JqdRjh5HxhX0E0fqfbC0q4lRpPZYktFl52oy9dBuDkeKo\nSgvlML7gmdPRRs08Dk47VQaFB8gQpW1E0tr83qdMymgJSr5BUk7/0nLuXmaHSZu6\ndMCP8zWp1p8AKkSD3gfwWmrS6FdN6K8j3qtOHkWxm3oDUGWXK4MwwsHZpW+0sxyY\nzq9ftlTnvdNNZkXmul1AHKgFu1PbMYbWCV9KJyaWL9CMiziuLdwswenPYkOY4uIr\nh46OSatl4zWQ5QpdTPBIVRozYX2bi97gMGFqeSr0z3qkc2GeutbYDr9xMJu4+Iao\n9awX9xdAx7yUJUvLqZAm22FhPSiKWdxPoGrYTqpTaKf/df3vtMhxSLSnv40ejwRd\nQTDtixQXpLd6bXv+JctV7x3hxRGboBjJgQeGCpWyX+uL0wNrWBLIQAGY/900WJau\nWTNMb321ie+JpdUSAtIeTPPoIkhvfJFIYVPUdfSs6VnUWOHBAVHiuw2NHNSREpRl\nAXUEo22EXlk/uOPVbBudoaowQkbMXxZI2nH23brjD/vp5dFZhNs=\n=ouWs\n-----END PGP SIGNATURE-----", "payload": "tree 5215bbb79aba07ea3b1f1c84d8812640cfffff85\nparent 45ee3360072a4bed1a2625dc03bdae1bd5aee5c4\nauthor David Tolnay <dtolnay@gmail.com> 1589558486 -0700\ncommitter David Tolnay <dtolnay@gmail.com> 1589558640 -0700\n\nAdd test of proc_macro::TokenStream's Debug\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4c4b4c4ab407f0ccdfc71caf443735e5ba62539c", "html_url": "https://github.com/rust-lang/rust/commit/4c4b4c4ab407f0ccdfc71caf443735e5ba62539c", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4c4b4c4ab407f0ccdfc71caf443735e5ba62539c/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "45ee3360072a4bed1a2625dc03bdae1bd5aee5c4", "url": "https://api.github.com/repos/rust-lang/rust/commits/45ee3360072a4bed1a2625dc03bdae1bd5aee5c4", "html_url": "https://github.com/rust-lang/rust/commit/45ee3360072a4bed1a2625dc03bdae1bd5aee5c4"}], "stats": {"total": 221, "additions": 221, "deletions": 0}, "files": [{"sha": "56ad0612f74bd8c83b4d54b29fff6d12291e8295", "filename": "src/test/ui/proc-macro/debug/auxiliary/macro-dump-debug.rs", "status": "added", "additions": 15, "deletions": 0, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/4c4b4c4ab407f0ccdfc71caf443735e5ba62539c/src%2Ftest%2Fui%2Fproc-macro%2Fdebug%2Fauxiliary%2Fmacro-dump-debug.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4c4b4c4ab407f0ccdfc71caf443735e5ba62539c/src%2Ftest%2Fui%2Fproc-macro%2Fdebug%2Fauxiliary%2Fmacro-dump-debug.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fdebug%2Fauxiliary%2Fmacro-dump-debug.rs?ref=4c4b4c4ab407f0ccdfc71caf443735e5ba62539c", "patch": "@@ -0,0 +1,15 @@\n+// force-host\n+// no-prefer-dynamic\n+\n+#![crate_type = \"proc-macro\"]\n+#![crate_name = \"macro_dump_debug\"]\n+\n+extern crate proc_macro;\n+use proc_macro::TokenStream;\n+\n+#[proc_macro]\n+pub fn dump_debug(tokens: TokenStream) -> TokenStream {\n+    eprintln!(\"{:?}\", tokens);\n+    eprintln!(\"{:#?}\", tokens);\n+    TokenStream::new()\n+}"}, {"sha": "0ed36b690f49b8620ca1adc4fb98373bfdb41d5e", "filename": "src/test/ui/proc-macro/debug/dump-debug.rs", "status": "added", "additions": 40, "deletions": 0, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/4c4b4c4ab407f0ccdfc71caf443735e5ba62539c/src%2Ftest%2Fui%2Fproc-macro%2Fdebug%2Fdump-debug.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4c4b4c4ab407f0ccdfc71caf443735e5ba62539c/src%2Ftest%2Fui%2Fproc-macro%2Fdebug%2Fdump-debug.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fdebug%2Fdump-debug.rs?ref=4c4b4c4ab407f0ccdfc71caf443735e5ba62539c", "patch": "@@ -0,0 +1,40 @@\n+// run-pass\n+// aux-build:macro-dump-debug.rs\n+\n+extern crate macro_dump_debug;\n+use macro_dump_debug::dump_debug;\n+\n+dump_debug! {\n+    ident   // ident\n+    r#ident // raw ident\n+    ,       // alone punct\n+    ==>     // joint punct\n+    ()      // empty group\n+    [_]     // nonempty group\n+\n+    // unsuffixed literals\n+    0\n+    1.0\n+    \"S\"\n+    b\"B\"\n+    r\"R\"\n+    r##\"R\"##\n+    br\"BR\"\n+    br##\"BR\"##\n+    'C'\n+    b'B'\n+\n+    // suffixed literals\n+    0q\n+    1.0q\n+    \"S\"q\n+    b\"B\"q\n+    r\"R\"q\n+    r##\"R\"##q\n+    br\"BR\"q\n+    br##\"BR\"##q\n+    'C'q\n+    b'B'q\n+}\n+\n+fn main() {}"}, {"sha": "0aedefd4e6091f4b5d03d872e88919141049e076", "filename": "src/test/ui/proc-macro/debug/dump-debug.stderr", "status": "added", "additions": 166, "deletions": 0, "changes": 166, "blob_url": "https://github.com/rust-lang/rust/blob/4c4b4c4ab407f0ccdfc71caf443735e5ba62539c/src%2Ftest%2Fui%2Fproc-macro%2Fdebug%2Fdump-debug.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/4c4b4c4ab407f0ccdfc71caf443735e5ba62539c/src%2Ftest%2Fui%2Fproc-macro%2Fdebug%2Fdump-debug.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fproc-macro%2Fdebug%2Fdump-debug.stderr?ref=4c4b4c4ab407f0ccdfc71caf443735e5ba62539c", "patch": "@@ -0,0 +1,166 @@\n+TokenStream [Ident { ident: \"ident\", span: #0 bytes(130..135) }, Ident { ident: \"r#ident\", span: #0 bytes(151..158) }, Punct { ch: ',', spacing: Alone, span: #0 bytes(176..177) }, Punct { ch: '=', spacing: Joint, span: #0 bytes(203..205) }, Punct { ch: '=', spacing: Joint, span: #0 bytes(203..205) }, Punct { ch: '>', spacing: Alone, span: #0 bytes(205..206) }, Group { delimiter: Parenthesis, stream: TokenStream [], span: #0 bytes(230..232) }, Group { delimiter: Bracket, stream: TokenStream [Ident { ident: \"_\", span: #0 bytes(258..259) }], span: #0 bytes(257..260) }, Literal { kind: Integer, symbol: \"0\", suffix: None, span: #0 bytes(315..316) }, Literal { kind: Float, symbol: \"1.0\", suffix: None, span: #0 bytes(321..324) }, Literal { kind: Str, symbol: \"S\", suffix: None, span: #0 bytes(329..332) }, Literal { kind: ByteStr, symbol: \"B\", suffix: None, span: #0 bytes(337..341) }, Literal { kind: StrRaw(0), symbol: \"R\", suffix: None, span: #0 bytes(346..350) }, Literal { kind: StrRaw(2), symbol: \"R\", suffix: None, span: #0 bytes(355..363) }, Literal { kind: ByteStrRaw(0), symbol: \"BR\", suffix: None, span: #0 bytes(368..374) }, Literal { kind: ByteStrRaw(2), symbol: \"BR\", suffix: None, span: #0 bytes(379..389) }, Literal { kind: Char, symbol: \"C\", suffix: None, span: #0 bytes(394..397) }, Literal { kind: Byte, symbol: \"B\", suffix: None, span: #0 bytes(402..406) }, Literal { kind: Integer, symbol: \"0\", suffix: Some(\"q\"), span: #0 bytes(437..439) }, Literal { kind: Float, symbol: \"1.0\", suffix: Some(\"q\"), span: #0 bytes(444..448) }, Literal { kind: Str, symbol: \"S\", suffix: Some(\"q\"), span: #0 bytes(453..457) }, Literal { kind: ByteStr, symbol: \"B\", suffix: Some(\"q\"), span: #0 bytes(462..467) }, Literal { kind: StrRaw(0), symbol: \"R\", suffix: Some(\"q\"), span: #0 bytes(472..477) }, Literal { kind: StrRaw(2), symbol: \"R\", suffix: Some(\"q\"), span: #0 bytes(482..491) }, Literal { kind: ByteStrRaw(0), symbol: \"BR\", suffix: Some(\"q\"), span: #0 bytes(496..503) }, Literal { kind: ByteStrRaw(2), symbol: \"BR\", suffix: Some(\"q\"), span: #0 bytes(508..519) }, Literal { kind: Char, symbol: \"C\", suffix: Some(\"q\"), span: #0 bytes(524..528) }, Literal { kind: Byte, symbol: \"B\", suffix: Some(\"q\"), span: #0 bytes(533..538) }]\n+TokenStream [\n+    Ident {\n+        ident: \"ident\",\n+        span: #0 bytes(130..135),\n+    },\n+    Ident {\n+        ident: \"r#ident\",\n+        span: #0 bytes(151..158),\n+    },\n+    Punct {\n+        ch: ',',\n+        spacing: Alone,\n+        span: #0 bytes(176..177),\n+    },\n+    Punct {\n+        ch: '=',\n+        spacing: Joint,\n+        span: #0 bytes(203..205),\n+    },\n+    Punct {\n+        ch: '=',\n+        spacing: Joint,\n+        span: #0 bytes(203..205),\n+    },\n+    Punct {\n+        ch: '>',\n+        spacing: Alone,\n+        span: #0 bytes(205..206),\n+    },\n+    Group {\n+        delimiter: Parenthesis,\n+        stream: TokenStream [],\n+        span: #0 bytes(230..232),\n+    },\n+    Group {\n+        delimiter: Bracket,\n+        stream: TokenStream [\n+            Ident {\n+                ident: \"_\",\n+                span: #0 bytes(258..259),\n+            },\n+        ],\n+        span: #0 bytes(257..260),\n+    },\n+    Literal {\n+        kind: Integer,\n+        symbol: \"0\",\n+        suffix: None,\n+        span: #0 bytes(315..316),\n+    },\n+    Literal {\n+        kind: Float,\n+        symbol: \"1.0\",\n+        suffix: None,\n+        span: #0 bytes(321..324),\n+    },\n+    Literal {\n+        kind: Str,\n+        symbol: \"S\",\n+        suffix: None,\n+        span: #0 bytes(329..332),\n+    },\n+    Literal {\n+        kind: ByteStr,\n+        symbol: \"B\",\n+        suffix: None,\n+        span: #0 bytes(337..341),\n+    },\n+    Literal {\n+        kind: StrRaw(0),\n+        symbol: \"R\",\n+        suffix: None,\n+        span: #0 bytes(346..350),\n+    },\n+    Literal {\n+        kind: StrRaw(2),\n+        symbol: \"R\",\n+        suffix: None,\n+        span: #0 bytes(355..363),\n+    },\n+    Literal {\n+        kind: ByteStrRaw(0),\n+        symbol: \"BR\",\n+        suffix: None,\n+        span: #0 bytes(368..374),\n+    },\n+    Literal {\n+        kind: ByteStrRaw(2),\n+        symbol: \"BR\",\n+        suffix: None,\n+        span: #0 bytes(379..389),\n+    },\n+    Literal {\n+        kind: Char,\n+        symbol: \"C\",\n+        suffix: None,\n+        span: #0 bytes(394..397),\n+    },\n+    Literal {\n+        kind: Byte,\n+        symbol: \"B\",\n+        suffix: None,\n+        span: #0 bytes(402..406),\n+    },\n+    Literal {\n+        kind: Integer,\n+        symbol: \"0\",\n+        suffix: Some(\"q\"),\n+        span: #0 bytes(437..439),\n+    },\n+    Literal {\n+        kind: Float,\n+        symbol: \"1.0\",\n+        suffix: Some(\"q\"),\n+        span: #0 bytes(444..448),\n+    },\n+    Literal {\n+        kind: Str,\n+        symbol: \"S\",\n+        suffix: Some(\"q\"),\n+        span: #0 bytes(453..457),\n+    },\n+    Literal {\n+        kind: ByteStr,\n+        symbol: \"B\",\n+        suffix: Some(\"q\"),\n+        span: #0 bytes(462..467),\n+    },\n+    Literal {\n+        kind: StrRaw(0),\n+        symbol: \"R\",\n+        suffix: Some(\"q\"),\n+        span: #0 bytes(472..477),\n+    },\n+    Literal {\n+        kind: StrRaw(2),\n+        symbol: \"R\",\n+        suffix: Some(\"q\"),\n+        span: #0 bytes(482..491),\n+    },\n+    Literal {\n+        kind: ByteStrRaw(0),\n+        symbol: \"BR\",\n+        suffix: Some(\"q\"),\n+        span: #0 bytes(496..503),\n+    },\n+    Literal {\n+        kind: ByteStrRaw(2),\n+        symbol: \"BR\",\n+        suffix: Some(\"q\"),\n+        span: #0 bytes(508..519),\n+    },\n+    Literal {\n+        kind: Char,\n+        symbol: \"C\",\n+        suffix: Some(\"q\"),\n+        span: #0 bytes(524..528),\n+    },\n+    Literal {\n+        kind: Byte,\n+        symbol: \"B\",\n+        suffix: Some(\"q\"),\n+        span: #0 bytes(533..538),\n+    },\n+]"}]}