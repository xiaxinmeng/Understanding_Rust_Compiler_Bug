{"sha": "3e8337eb3d0b78e989813dd8de9623a7e0919f86", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNlODMzN2ViM2QwYjc4ZTk4OTgxM2RkOGRlOTYyM2E3ZTA5MTlmODY=", "commit": {"author": {"name": "Oliver Schneider", "email": "github35764891676564198441@oli-obk.de", "date": "2018-07-26T15:46:09Z"}, "committer": {"name": "Ralf Jung", "email": "post@ralfj.de", "date": "2018-07-29T18:24:26Z"}, "message": "Move a test that depends on the arch bitwidth to compile-fail", "tree": {"sha": "3026a6f7ec513c7de62fae2f0e622661ad44df6f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3026a6f7ec513c7de62fae2f0e622661ad44df6f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3e8337eb3d0b78e989813dd8de9623a7e0919f86", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3e8337eb3d0b78e989813dd8de9623a7e0919f86", "html_url": "https://github.com/rust-lang/rust/commit/3e8337eb3d0b78e989813dd8de9623a7e0919f86", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3e8337eb3d0b78e989813dd8de9623a7e0919f86/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "RalfJung", "id": 330628, "node_id": "MDQ6VXNlcjMzMDYyOA==", "avatar_url": "https://avatars.githubusercontent.com/u/330628?v=4", "gravatar_id": "", "url": "https://api.github.com/users/RalfJung", "html_url": "https://github.com/RalfJung", "followers_url": "https://api.github.com/users/RalfJung/followers", "following_url": "https://api.github.com/users/RalfJung/following{/other_user}", "gists_url": "https://api.github.com/users/RalfJung/gists{/gist_id}", "starred_url": "https://api.github.com/users/RalfJung/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/RalfJung/subscriptions", "organizations_url": "https://api.github.com/users/RalfJung/orgs", "repos_url": "https://api.github.com/users/RalfJung/repos", "events_url": "https://api.github.com/users/RalfJung/events{/privacy}", "received_events_url": "https://api.github.com/users/RalfJung/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b92f0478c17bcf3e9cb464304d7db20ac3712699", "url": "https://api.github.com/repos/rust-lang/rust/commits/b92f0478c17bcf3e9cb464304d7db20ac3712699", "html_url": "https://github.com/rust-lang/rust/commit/b92f0478c17bcf3e9cb464304d7db20ac3712699"}], "stats": {"total": 43, "additions": 0, "deletions": 43}, "files": [{"sha": "935e69d2e2230756b14880008919b91429ab449e", "filename": "src/test/compile-fail/union-ub-fat-ptr.rs", "status": "renamed", "additions": 0, "deletions": 0, "changes": 0, "blob_url": "https://github.com/rust-lang/rust/blob/3e8337eb3d0b78e989813dd8de9623a7e0919f86/src%2Ftest%2Fcompile-fail%2Funion-ub-fat-ptr.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3e8337eb3d0b78e989813dd8de9623a7e0919f86/src%2Ftest%2Fcompile-fail%2Funion-ub-fat-ptr.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Funion-ub-fat-ptr.rs?ref=3e8337eb3d0b78e989813dd8de9623a7e0919f86", "previous_filename": "src/test/ui/const-eval/union-ub-fat-ptr.rs"}, {"sha": "3a52db3c1a31d21e17fed99d0eae65fab7e0a9f5", "filename": "src/test/ui/const-eval/union-ub-fat-ptr.stderr", "status": "removed", "additions": 0, "deletions": 43, "changes": 43, "blob_url": "https://github.com/rust-lang/rust/blob/b92f0478c17bcf3e9cb464304d7db20ac3712699/src%2Ftest%2Fui%2Fconst-eval%2Funion-ub-fat-ptr.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/b92f0478c17bcf3e9cb464304d7db20ac3712699/src%2Ftest%2Fui%2Fconst-eval%2Funion-ub-fat-ptr.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fconst-eval%2Funion-ub-fat-ptr.stderr?ref=b92f0478c17bcf3e9cb464304d7db20ac3712699", "patch": "@@ -1,43 +0,0 @@\n-error[E0080]: this constant likely exhibits undefined behavior\n-  --> $DIR/union-ub-fat-ptr.rs:67:1\n-   |\n-LL | const C: &str = unsafe { SliceTransmute { bad: BadSliceRepr { ptr: &42, len: &3 } }.str};\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ type validation failed: encountered length is not a valid integer\n-   |\n-   = note: The rules on what exactly is undefined behavior aren't clear, so this check might be overzealous. Please open an issue on the rust compiler repository if you believe it should not be considered undefined behavior\n-\n-error[E0080]: this constant likely exhibits undefined behavior\n-  --> $DIR/union-ub-fat-ptr.rs:75:1\n-   |\n-LL | const C2: &[u8] = unsafe { SliceTransmute { bad: BadSliceRepr { ptr: &42, len: &3 } }.slice};\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ type validation failed: encountered length is not a valid integer\n-   |\n-   = note: The rules on what exactly is undefined behavior aren't clear, so this check might be overzealous. Please open an issue on the rust compiler repository if you believe it should not be considered undefined behavior\n-\n-error[E0080]: this constant likely exhibits undefined behavior\n-  --> $DIR/union-ub-fat-ptr.rs:79:1\n-   |\n-LL | const D: &Trait = unsafe { DynTransmute { repr: DynRepr { ptr: &92, vtable: &3 } }.rust};\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ tried to access memory with alignment 1, but alignment 8 is required\n-   |\n-   = note: The rules on what exactly is undefined behavior aren't clear, so this check might be overzealous. Please open an issue on the rust compiler repository if you believe it should not be considered undefined behavior\n-\n-error[E0080]: this constant likely exhibits undefined behavior\n-  --> $DIR/union-ub-fat-ptr.rs:82:1\n-   |\n-LL | const E: &Trait = unsafe { DynTransmute { repr2: DynRepr2 { ptr: &92, vtable: &3 } }.rust};\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ memory access at offset 16, outside bounds of allocation 40 which has size 8\n-   |\n-   = note: The rules on what exactly is undefined behavior aren't clear, so this check might be overzealous. Please open an issue on the rust compiler repository if you believe it should not be considered undefined behavior\n-\n-error[E0080]: this constant likely exhibits undefined behavior\n-  --> $DIR/union-ub-fat-ptr.rs:85:1\n-   |\n-LL | const F: &Trait = unsafe { DynTransmute { bad: BadDynRepr { ptr: &92, vtable: 3 } }.rust};\n-   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ type validation failed: encountered vtable address is not a pointer\n-   |\n-   = note: The rules on what exactly is undefined behavior aren't clear, so this check might be overzealous. Please open an issue on the rust compiler repository if you believe it should not be considered undefined behavior\n-\n-error: aborting due to 5 previous errors\n-\n-For more information about this error, try `rustc --explain E0080`."}]}