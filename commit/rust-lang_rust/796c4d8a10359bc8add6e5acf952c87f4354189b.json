{"sha": "796c4d8a10359bc8add6e5acf952c87f4354189b", "node_id": "C_kwDOAAsO6NoAKDc5NmM0ZDhhMTAzNTliYzhhZGQ2ZTVhY2Y5NTJjODdmNDM1NDE4OWI", "commit": {"author": {"name": "Amos Wenger", "email": "amoswenger@gmail.com", "date": "2022-05-22T16:31:12Z"}, "committer": {"name": "Amos Wenger", "email": "amoswenger@gmail.com", "date": "2022-05-22T16:31:12Z"}, "message": "Better lowercase/uppercase checks", "tree": {"sha": "7d7e9add3971cc3f83880f883a5547d04ef354d9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7d7e9add3971cc3f83880f883a5547d04ef354d9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/796c4d8a10359bc8add6e5acf952c87f4354189b", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/796c4d8a10359bc8add6e5acf952c87f4354189b", "html_url": "https://github.com/rust-lang/rust/commit/796c4d8a10359bc8add6e5acf952c87f4354189b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/796c4d8a10359bc8add6e5acf952c87f4354189b/comments", "author": {"login": "fasterthanlime", "id": 7998310, "node_id": "MDQ6VXNlcjc5OTgzMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/7998310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fasterthanlime", "html_url": "https://github.com/fasterthanlime", "followers_url": "https://api.github.com/users/fasterthanlime/followers", "following_url": "https://api.github.com/users/fasterthanlime/following{/other_user}", "gists_url": "https://api.github.com/users/fasterthanlime/gists{/gist_id}", "starred_url": "https://api.github.com/users/fasterthanlime/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fasterthanlime/subscriptions", "organizations_url": "https://api.github.com/users/fasterthanlime/orgs", "repos_url": "https://api.github.com/users/fasterthanlime/repos", "events_url": "https://api.github.com/users/fasterthanlime/events{/privacy}", "received_events_url": "https://api.github.com/users/fasterthanlime/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fasterthanlime", "id": 7998310, "node_id": "MDQ6VXNlcjc5OTgzMTA=", "avatar_url": "https://avatars.githubusercontent.com/u/7998310?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fasterthanlime", "html_url": "https://github.com/fasterthanlime", "followers_url": "https://api.github.com/users/fasterthanlime/followers", "following_url": "https://api.github.com/users/fasterthanlime/following{/other_user}", "gists_url": "https://api.github.com/users/fasterthanlime/gists{/gist_id}", "starred_url": "https://api.github.com/users/fasterthanlime/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fasterthanlime/subscriptions", "organizations_url": "https://api.github.com/users/fasterthanlime/orgs", "repos_url": "https://api.github.com/users/fasterthanlime/repos", "events_url": "https://api.github.com/users/fasterthanlime/events{/privacy}", "received_events_url": "https://api.github.com/users/fasterthanlime/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "707a5683b1016f70f153ee43f75a6d1c6b9d012d", "url": "https://api.github.com/repos/rust-lang/rust/commits/707a5683b1016f70f153ee43f75a6d1c6b9d012d", "html_url": "https://github.com/rust-lang/rust/commit/707a5683b1016f70f153ee43f75a6d1c6b9d012d"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "eaf6f047c73fa0cef7c5c45454df414946e2d6c5", "filename": "crates/ide-assists/src/handlers/generate_enum_variant.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/796c4d8a10359bc8add6e5acf952c87f4354189b/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fgenerate_enum_variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/796c4d8a10359bc8add6e5acf952c87f4354189b/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fgenerate_enum_variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fgenerate_enum_variant.rs?ref=796c4d8a10359bc8add6e5acf952c87f4354189b", "patch": "@@ -41,7 +41,7 @@ pub(crate) fn generate_enum_variant(acc: &mut Assists, ctx: &AssistContext) -> O\n     }\n \n     let name_ref = path.segment()?.name_ref()?;\n-    if name_ref.text().as_str().chars().next()?.is_ascii_lowercase() {\n+    if name_ref.text().starts_with(char::is_lowercase) {\n         // Don't suggest generating variant if the name starts with a lowercase letter\n         return None;\n     }"}, {"sha": "c8650979e95b012882acca927b042ec2cac8d048", "filename": "crates/ide-assists/src/handlers/generate_function.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/796c4d8a10359bc8add6e5acf952c87f4354189b/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fgenerate_function.rs", "raw_url": "https://github.com/rust-lang/rust/raw/796c4d8a10359bc8add6e5acf952c87f4354189b/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fgenerate_function.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide-assists%2Fsrc%2Fhandlers%2Fgenerate_function.rs?ref=796c4d8a10359bc8add6e5acf952c87f4354189b", "patch": "@@ -73,7 +73,7 @@ fn gen_fn(acc: &mut Assists, ctx: &AssistContext) -> Option<()> {\n             Some(hir::PathResolution::Def(hir::ModuleDef::Adt(adt))) => {\n                 if let hir::Adt::Enum(_) = adt {\n                     // Don't suggest generating function if the name starts with an uppercase letter\n-                    if name_ref.text().chars().next()?.is_uppercase() {\n+                    if name_ref.text().starts_with(char::is_uppercase) {\n                         return None;\n                     }\n                 }"}]}