{"sha": "cb2d987ed4d4074e67ec307cbf5bfe289e876a3b", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNiMmQ5ODdlZDRkNDA3NGU2N2VjMzA3Y2JmNWJmZTI4OWU4NzZhM2I=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-02-05T18:06:08Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-02-05T18:37:54Z"}, "message": "Add tests for assertion_on_constants macro check", "tree": {"sha": "a41d4d57651b4cf3d555a807f2c7120d5af1a3a6", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a41d4d57651b4cf3d555a807f2c7120d5af1a3a6"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cb2d987ed4d4074e67ec307cbf5bfe289e876a3b", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAlxZ2AQACgkQaTCGhp1Q\nZjcllBAAgDVE/Btyo00K7CMg5lCgSw5llCszS5a9D5ZvrcmbdggOIzY2uZin0S6B\n5W1rIUE4UzrGkctpne50sJm2JTuGCPg0rr/FZ6K/DEejXqq5NXH85RhlNCgRDDLO\nBO8Ss4dlJfbUJGaGzZ7PBSHZRPH43e5oJiV0dz4pXNij7k8F4MUmgkrC0Xk+llJY\nZOmfUHYVLbxuoheVq46LzJR9KpKAwhSz/ktjoOUfEf032ZHhIManfsrqRL9o3s78\nQotAMQfKmJyV6QLr4s+Uq26jNjT6HcfONGbJGTK+oQEemA5KBO706KueyKqO6116\nzJBk+wUpdc5NccDa7vqoLrKI3BTbAKZtaTua0cCSjqpsFagOe0SWeRJjIg3eNL3O\nD2uVBHFXxI2mdIKvOjz3kFm+2UEKIWhRMzpH66Zh/f20lhF2+DJ6jhXXVnqXg0EB\nvDi/YXzG4i97Qtewg1BNhJb4In7OvYW5L/gMy1zLKNFfjTS25mF56LmADaAtUWI+\nwWovYnSadWNHo6vA5naWQMvDQE7k6JlZc/o16QwVplbkXG1zDwBBYSzicZ1o0eYG\nKFBJq+9VDxYj09j/eizNQSG73X53g5nLFXBpxjOrono5LIMCFTEts+fi3nGKrFP1\nLYQVN+oF15UhhNnDGyxPUo2DnngyHuqaQ1KnOZDidpYs8AnMMwg=\n=UJkG\n-----END PGP SIGNATURE-----", "payload": "tree a41d4d57651b4cf3d555a807f2c7120d5af1a3a6\nparent 446e2ecfb72cf91c8389a42357a168de77dd414b\nauthor flip1995 <hello@philkrones.com> 1549389968 +0100\ncommitter flip1995 <hello@philkrones.com> 1549391874 +0100\n\nAdd tests for assertion_on_constants macro check\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cb2d987ed4d4074e67ec307cbf5bfe289e876a3b", "html_url": "https://github.com/rust-lang/rust/commit/cb2d987ed4d4074e67ec307cbf5bfe289e876a3b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cb2d987ed4d4074e67ec307cbf5bfe289e876a3b/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "446e2ecfb72cf91c8389a42357a168de77dd414b", "url": "https://api.github.com/repos/rust-lang/rust/commits/446e2ecfb72cf91c8389a42357a168de77dd414b", "html_url": "https://github.com/rust-lang/rust/commit/446e2ecfb72cf91c8389a42357a168de77dd414b"}], "stats": {"total": 34, "additions": 27, "deletions": 7}, "files": [{"sha": "0d2953c7ed8143ccdf1afef0a2057153923d3561", "filename": "tests/ui/assertions_on_constants.rs", "status": "modified", "additions": 11, "deletions": 0, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/cb2d987ed4d4074e67ec307cbf5bfe289e876a3b/tests%2Fui%2Fassertions_on_constants.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cb2d987ed4d4074e67ec307cbf5bfe289e876a3b/tests%2Fui%2Fassertions_on_constants.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fassertions_on_constants.rs?ref=cb2d987ed4d4074e67ec307cbf5bfe289e876a3b", "patch": "@@ -1,3 +1,10 @@\n+macro_rules! assert_const {\n+    ($len:expr) => {\n+        assert!($len > 0);\n+        debug_assert!($len < 0);\n+    };\n+}\n+\n fn main() {\n     assert!(true);\n     assert!(false);\n@@ -9,4 +16,8 @@ fn main() {\n \n     const C: bool = false;\n     assert!(C);\n+\n+    debug_assert!(true);\n+    assert_const!(3);\n+    assert_const!(-1);\n }"}, {"sha": "adfa326abacbc30a45b5c1568ff00dc4e6e4046e", "filename": "tests/ui/assertions_on_constants.stderr", "status": "modified", "additions": 16, "deletions": 7, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/cb2d987ed4d4074e67ec307cbf5bfe289e876a3b/tests%2Fui%2Fassertions_on_constants.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/cb2d987ed4d4074e67ec307cbf5bfe289e876a3b/tests%2Fui%2Fassertions_on_constants.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fassertions_on_constants.stderr?ref=cb2d987ed4d4074e67ec307cbf5bfe289e876a3b", "patch": "@@ -1,5 +1,5 @@\n error: assert!(true) will be optimized out by the compiler\n-  --> $DIR/assertions_on_constants.rs:2:5\n+  --> $DIR/assertions_on_constants.rs:9:5\n    |\n LL |     assert!(true);\n    |     ^^^^^^^^^^^^^^\n@@ -8,44 +8,53 @@ LL |     assert!(true);\n    = help: remove it\n \n error: assert!(false) should probably be replaced\n-  --> $DIR/assertions_on_constants.rs:3:5\n+  --> $DIR/assertions_on_constants.rs:10:5\n    |\n LL |     assert!(false);\n    |     ^^^^^^^^^^^^^^^\n    |\n    = help: use panic!() or unreachable!()\n \n error: assert!(true) will be optimized out by the compiler\n-  --> $DIR/assertions_on_constants.rs:4:5\n+  --> $DIR/assertions_on_constants.rs:11:5\n    |\n LL |     assert!(true, \"true message\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: remove it\n \n error: assert!(false) should probably be replaced\n-  --> $DIR/assertions_on_constants.rs:5:5\n+  --> $DIR/assertions_on_constants.rs:12:5\n    |\n LL |     assert!(false, \"false message\");\n    |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: use panic!() or unreachable!()\n \n error: assert!(const: true) will be optimized out by the compiler\n-  --> $DIR/assertions_on_constants.rs:8:5\n+  --> $DIR/assertions_on_constants.rs:15:5\n    |\n LL |     assert!(B);\n    |     ^^^^^^^^^^^\n    |\n    = help: remove it\n \n error: assert!(const: false) should probably be replaced\n-  --> $DIR/assertions_on_constants.rs:11:5\n+  --> $DIR/assertions_on_constants.rs:18:5\n    |\n LL |     assert!(C);\n    |     ^^^^^^^^^^^\n    |\n    = help: use panic!() or unreachable!()\n \n-error: aborting due to 6 previous errors\n+error: assert!(true) will be optimized out by the compiler\n+  --> $DIR/assertions_on_constants.rs:20:5\n+   |\n+LL |     debug_assert!(true);\n+   |     ^^^^^^^^^^^^^^^^^^^^\n+   |\n+   = help: remove it\n+   = note: this error originates in a macro outside of the current crate (in Nightly builds, run with -Z external-macro-backtrace for more info)\n+\n+error: aborting due to 7 previous errors\n "}]}