{"sha": "300d7f661a325a51e58b835b435bc8bb904f4b3d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMwMGQ3ZjY2MWEzMjVhNTFlNThiODM1YjQzNWJjOGJiOTA0ZjRiM2Q=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2020-08-31T10:51:46Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-08-31T10:51:46Z"}, "message": "Rollup merge of #76052 - aszenz:GH-66816_removes_disable_attribute_before_return, r=GuillaumeGomez\n\nGH-66816:  Remove disable attr before return\n\nPassing --disable-per-crate-search removes the create search inputs so moved code around so that the search input is enabled\nfirst before the function returns.\n\nFixes #66816", "tree": {"sha": "6e647952de99a0c5c181d4dca79c5df13ea9017e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6e647952de99a0c5c181d4dca79c5df13ea9017e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/300d7f661a325a51e58b835b435bc8bb904f4b3d", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfTNZDCRBK7hj4Ov3rIwAAdHIIAE4JIgqGgM1r2ymRrlEe2w4x\nBeryjJJbvHsFacxJFibxI2voPASs1ACY1DzMulWkSYKXi5gh4AtnhpuUU89eD45Y\nnBDBXNOtKHI2Ufm/FM+j9v1LdFbSGR2NO4QmQAP9qDjqBf9IrLZ5+hd7CAvwqP0h\nuFUmu0HF19tgcXk1B+a320F6zM00nmbGiIUBcHGJLAzy+SPZ4pKWFB64fy5R4cyG\nKmA94QpSnPTEg6uo35OekPX+17/U87wE1ZEzOKxyh8bTwpsMPVEWIK6JmbGujSsW\nL2ZmZp8X5RMCQxCxWLWlwpsMsd9xO75lao0DyyToFI3uMER911S3eBWqKkYLh+0=\n=v233\n-----END PGP SIGNATURE-----\n", "payload": "tree 6e647952de99a0c5c181d4dca79c5df13ea9017e\nparent 6ce32439952401b4c6dd613df9b35fa058591e32\nparent eb2bb9902141e228549c30f39d99f11e0cff4ee4\nauthor Aleksey Kladov <aleksey.kladov@gmail.com> 1598871106 +0200\ncommitter GitHub <noreply@github.com> 1598871106 +0200\n\nRollup merge of #76052 - aszenz:GH-66816_removes_disable_attribute_before_return, r=GuillaumeGomez\n\nGH-66816:  Remove disable attr before return\n\nPassing --disable-per-crate-search removes the create search inputs so moved code around so that the search input is enabled\nfirst before the function returns.\n\nFixes #66816\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/300d7f661a325a51e58b835b435bc8bb904f4b3d", "html_url": "https://github.com/rust-lang/rust/commit/300d7f661a325a51e58b835b435bc8bb904f4b3d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/300d7f661a325a51e58b835b435bc8bb904f4b3d/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6ce32439952401b4c6dd613df9b35fa058591e32", "url": "https://api.github.com/repos/rust-lang/rust/commits/6ce32439952401b4c6dd613df9b35fa058591e32", "html_url": "https://github.com/rust-lang/rust/commit/6ce32439952401b4c6dd613df9b35fa058591e32"}, {"sha": "eb2bb9902141e228549c30f39d99f11e0cff4ee4", "url": "https://api.github.com/repos/rust-lang/rust/commits/eb2bb9902141e228549c30f39d99f11e0cff4ee4", "html_url": "https://github.com/rust-lang/rust/commit/eb2bb9902141e228549c30f39d99f11e0cff4ee4"}], "stats": {"total": 12, "additions": 8, "deletions": 4}, "files": [{"sha": "1b3eb2011afdce333dd87b376f616d88e6b82abb", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 8, "deletions": 4, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/300d7f661a325a51e58b835b435bc8bb904f4b3d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/300d7f661a325a51e58b835b435bc8bb904f4b3d/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=300d7f661a325a51e58b835b435bc8bb904f4b3d", "patch": "@@ -2740,10 +2740,17 @@ function defocusSearchBar() {\n         });\n     }\n \n+    function enableSearchInput() {\n+        if (search_input) {\n+            search_input.removeAttribute('disabled');\n+        }\n+    }\n+\n     window.addSearchOptions = function(crates) {\n         var elem = document.getElementById(\"crate-search\");\n \n         if (!elem) {\n+            enableSearchInput();\n             return;\n         }\n         var crates_text = [];\n@@ -2781,10 +2788,7 @@ function defocusSearchBar() {\n                 elem.value = savedCrate;\n             }\n         }\n-\n-        if (search_input) {\n-            search_input.removeAttribute('disabled');\n-        }\n+        enableSearchInput();\n     };\n \n     function buildHelperPopup() {"}]}