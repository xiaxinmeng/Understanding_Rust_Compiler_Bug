{"sha": "33600e4d2d7a61f7dcb1b278bb1ccb8f04690db3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMzNjAwZTRkMmQ3YTYxZjdkY2IxYjI3OGJiMWNjYjhmMDQ2OTBkYjM=", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2020-02-13T08:16:28Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2020-03-09T19:01:32Z"}, "message": "Add test of Debug representation of Backtrace", "tree": {"sha": "297172a5606e7a46b4dbc7cb6b1d8573bbfe02d9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/297172a5606e7a46b4dbc7cb6b1d8573bbfe02d9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/33600e4d2d7a61f7dcb1b278bb1ccb8f04690db3", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAl5mkowACgkQ+boUO5X/\nbYJaiQ/+OMU9EFMj1vTVV7nGaX3q/FQJThm6SzblQe0LNXBc2/HJZzVhj0fVpWs8\nqcZ2Qo8ddYUb/JfHeVYw9YodMONPMqOizlL4u6+rRECX+f3ev5gYAzF1z3DVAGd4\nB2aCx+UCL2z7XiHYGr6paSnvZd3kGuwvjVKcOo4sOGykALN80zB2W8bNhrievsd7\npiEpABJFEeu48B3Aecds/bpygB9BRKZBj1UcusQ+EEoBN9UUyq+Es3VGXJtaqLFF\nwkGTpMIYcZtNf/Rqjc5pumMdtDuL3YH7LmHsrLEmKYxN+GnxedsM0g8Ql7xwP/Qp\nYOo0YcRvcz6GhuMG0bxBXGEnhATs9L1uJZ3MnfejtnlC6pJTVvalTI66JyqnL8aM\npQRcpyjp/Rr1Fr8XKkOj5DM94mcgD0WSJP6012+ltBFcGgt31Kk9R7wpXVgbjU4L\njzQl1VO7ylzkO43RsHgqOYLveiGYacmZXKCJg0Vx+uThsIXgd5DSCe/Seqlz/k9I\nKUeXgE5+v/EVGFAAK5dnI0jyZiH3STsPaG4fTZ50BrZN+2us7p0bCxHFawKEwkEt\nOb9/p7AsB8ZDcIeTr3DeF4IbmIHo7cuAt2PwC95igi1aYo6PGWZzePrZZFv6T6bx\nOVgJgdYb3yF67l+F3spwGcxQS6x5ruDqLGkzScaF7w4mDhT05X0=\n=+CUX\n-----END PGP SIGNATURE-----", "payload": "tree 297172a5606e7a46b4dbc7cb6b1d8573bbfe02d9\nparent a9cc010c4883bafba1304f6fd581343f5b1b3ba2\nauthor David Tolnay <dtolnay@gmail.com> 1581581788 -0800\ncommitter David Tolnay <dtolnay@gmail.com> 1583780492 -0700\n\nAdd test of Debug representation of Backtrace\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/33600e4d2d7a61f7dcb1b278bb1ccb8f04690db3", "html_url": "https://github.com/rust-lang/rust/commit/33600e4d2d7a61f7dcb1b278bb1ccb8f04690db3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/33600e4d2d7a61f7dcb1b278bb1ccb8f04690db3/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a9cc010c4883bafba1304f6fd581343f5b1b3ba2", "url": "https://api.github.com/repos/rust-lang/rust/commits/a9cc010c4883bafba1304f6fd581343f5b1b3ba2", "html_url": "https://github.com/rust-lang/rust/commit/a9cc010c4883bafba1304f6fd581343f5b1b3ba2"}], "stats": {"total": 52, "additions": 52, "deletions": 0}, "files": [{"sha": "f3dd7a62fcbb8cfc5c210fee9d461466cae21596", "filename": "src/libstd/backtrace.rs", "status": "modified", "additions": 52, "deletions": 0, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/33600e4d2d7a61f7dcb1b278bb1ccb8f04690db3/src%2Flibstd%2Fbacktrace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/33600e4d2d7a61f7dcb1b278bb1ccb8f04690db3/src%2Flibstd%2Fbacktrace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fbacktrace.rs?ref=33600e4d2d7a61f7dcb1b278bb1ccb8f04690db3", "patch": "@@ -433,3 +433,55 @@ impl RawFrame {\n         }\n     }\n }\n+\n+#[test]\n+fn test_debug() {\n+    let backtrace = Backtrace {\n+        inner: Inner::Captured(Mutex::new(Capture {\n+            actual_start: 1,\n+            resolved: true,\n+            frames: vec![\n+                BacktraceFrame {\n+                    frame: RawFrame::Fake,\n+                    symbols: vec![BacktraceSymbol {\n+                        name: Some(b\"std::backtrace::Backtrace::create\".to_vec()),\n+                        filename: Some(BytesOrWide::Bytes(b\"/rust/backtrace.rs\".to_vec())),\n+                        lineno: Some(100),\n+                    }],\n+                },\n+                BacktraceFrame {\n+                    frame: RawFrame::Fake,\n+                    symbols: vec![BacktraceSymbol {\n+                        name: Some(b\"__rust_maybe_catch_panic\".to_vec()),\n+                        filename: None,\n+                        lineno: None,\n+                    }],\n+                },\n+                BacktraceFrame {\n+                    frame: RawFrame::Fake,\n+                    symbols: vec![\n+                        BacktraceSymbol {\n+                            name: Some(b\"std::rt::lang_start_internal\".to_vec()),\n+                            filename: Some(BytesOrWide::Bytes(b\"/rust/rt.rs\".to_vec())),\n+                            lineno: Some(300),\n+                        },\n+                        BacktraceSymbol {\n+                            name: Some(b\"std::rt::lang_start\".to_vec()),\n+                            filename: Some(BytesOrWide::Bytes(b\"/rust/rt.rs\".to_vec())),\n+                            lineno: Some(400),\n+                        },\n+                    ],\n+                },\n+            ],\n+        })),\n+    };\n+\n+    #[rustfmt::skip]\n+    let expected = \"Backtrace [\\\n+    \\n    { fn: \\\"__rust_maybe_catch_panic\\\" },\\\n+    \\n    { fn: \\\"std::rt::lang_start_internal\\\", file: \\\"/rust/rt.rs\\\", line: 300 },\\\n+    \\n    { fn: \\\"std::rt::lang_start\\\", file: \\\"/rust/rt.rs\\\", line: 400 },\\\n+    \\n]\";\n+\n+    assert_eq!(format!(\"{:#?}\", backtrace), expected);\n+}"}]}