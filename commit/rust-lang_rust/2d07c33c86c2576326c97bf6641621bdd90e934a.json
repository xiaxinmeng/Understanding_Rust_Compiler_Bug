{"sha": "2d07c33c86c2576326c97bf6641621bdd90e934a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJkMDdjMzNjODZjMjU3NjMyNmM5N2JmNjY0MTYyMWJkZDkwZTkzNGE=", "commit": {"author": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-03-08T10:28:43Z"}, "committer": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-03-08T10:28:43Z"}, "message": "Rename `ClippyArgsCallbacks` to `RustcCallbacks`", "tree": {"sha": "9b7b8063bcdde7c677974b3cca3e9e653330d5a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9b7b8063bcdde7c677974b3cca3e9e653330d5a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2d07c33c86c2576326c97bf6641621bdd90e934a", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niIsEABYIADMWIQRJ2jPMDdiQ+U4U42Z0+n/VuNoUuAUCYEX8WxUceWQtaHVhbmdA\nb3V0bG9vay5jb20ACgkQdPp/1bjaFLjh7QD+IfH2kksjYpHD7+ghXTzGfFfBnR+B\nhnyrCG6J3uXYr2IA/0+xEGpL5hKSqgNSzhxV+OomMW4SlxY//LXJIBULgF4G\n=Ufp7\n-----END PGP SIGNATURE-----", "payload": "tree 9b7b8063bcdde7c677974b3cca3e9e653330d5a2\nparent 03e72d5446bd104ac4480032ea44bd7419ce5694\nauthor hyd-dev <yd-huang@outlook.com> 1615199323 +0800\ncommitter hyd-dev <yd-huang@outlook.com> 1615199323 +0800\n\nRename `ClippyArgsCallbacks` to `RustcCallbacks`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2d07c33c86c2576326c97bf6641621bdd90e934a", "html_url": "https://github.com/rust-lang/rust/commit/2d07c33c86c2576326c97bf6641621bdd90e934a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2d07c33c86c2576326c97bf6641621bdd90e934a/comments", "author": null, "committer": null, "parents": [{"sha": "03e72d5446bd104ac4480032ea44bd7419ce5694", "url": "https://api.github.com/repos/rust-lang/rust/commits/03e72d5446bd104ac4480032ea44bd7419ce5694", "html_url": "https://github.com/rust-lang/rust/commit/03e72d5446bd104ac4480032ea44bd7419ce5694"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "0fba41775aaf380fb5b3bc8185a4c244609efdc8", "filename": "src/driver.rs", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/2d07c33c86c2576326c97bf6641621bdd90e934a/src%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2d07c33c86c2576326c97bf6641621bdd90e934a/src%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdriver.rs?ref=2d07c33c86c2576326c97bf6641621bdd90e934a", "patch": "@@ -73,11 +73,13 @@ fn track_clippy_args(sess: &Session, args_env_var: &Option<String>) {\n struct DefaultCallbacks;\n impl rustc_driver::Callbacks for DefaultCallbacks {}\n \n-struct ClippyArgsCallbacks {\n+/// This is different from `DefaultCallbacks` that it will inform Cargo to track the value of\n+/// `CLIPPY_ARGS` environment variable.\n+struct RustcCallbacks {\n     clippy_args_var: Option<String>,\n }\n \n-impl rustc_driver::Callbacks for ClippyArgsCallbacks {\n+impl rustc_driver::Callbacks for RustcCallbacks {\n     fn config(&mut self, config: &mut interface::Config) {\n         let previous = config.register_lints.take();\n         let clippy_args_var = self.clippy_args_var.take();\n@@ -351,7 +353,7 @@ pub fn main() {\n         if clippy_enabled {\n             rustc_driver::RunCompiler::new(&args, &mut ClippyCallbacks { clippy_args_var }).run()\n         } else {\n-            rustc_driver::RunCompiler::new(&args, &mut ClippyArgsCallbacks { clippy_args_var }).run()\n+            rustc_driver::RunCompiler::new(&args, &mut RustcCallbacks { clippy_args_var }).run()\n         }\n     }))\n }"}]}