{"sha": "f781e599cc6376a3706498dcc9ce5e7ad59e16e1", "node_id": "C_kwDOAAsO6NoAKGY3ODFlNTk5Y2M2Mzc2YTM3MDY0OThkY2M5Y2U1ZTdhZDU5ZTE2ZTE", "commit": {"author": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2021-12-07T14:42:54Z"}, "committer": {"name": "Lukas Wirth", "email": "lukastw97@gmail.com", "date": "2021-12-07T14:42:54Z"}, "message": "Adjust incorrect runnable tests", "tree": {"sha": "ea9fc55450bfc777ec8319dd93240a3b8df10f60", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ea9fc55450bfc777ec8319dd93240a3b8df10f60"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f781e599cc6376a3706498dcc9ce5e7ad59e16e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f781e599cc6376a3706498dcc9ce5e7ad59e16e1", "html_url": "https://github.com/rust-lang/rust/commit/f781e599cc6376a3706498dcc9ce5e7ad59e16e1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f781e599cc6376a3706498dcc9ce5e7ad59e16e1/comments", "author": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Veykril", "id": 3757771, "node_id": "MDQ6VXNlcjM3NTc3NzE=", "avatar_url": "https://avatars.githubusercontent.com/u/3757771?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Veykril", "html_url": "https://github.com/Veykril", "followers_url": "https://api.github.com/users/Veykril/followers", "following_url": "https://api.github.com/users/Veykril/following{/other_user}", "gists_url": "https://api.github.com/users/Veykril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Veykril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Veykril/subscriptions", "organizations_url": "https://api.github.com/users/Veykril/orgs", "repos_url": "https://api.github.com/users/Veykril/repos", "events_url": "https://api.github.com/users/Veykril/events{/privacy}", "received_events_url": "https://api.github.com/users/Veykril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e09d410dcd927ab93e8c169160f196a34d317946", "url": "https://api.github.com/repos/rust-lang/rust/commits/e09d410dcd927ab93e8c169160f196a34d317946", "html_url": "https://github.com/rust-lang/rust/commit/e09d410dcd927ab93e8c169160f196a34d317946"}], "stats": {"total": 8, "additions": 3, "deletions": 5}, "files": [{"sha": "52e099513a5240bae5f42e8ec510fedec605610c", "filename": "crates/ide/src/navigation_target.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/f781e599cc6376a3706498dcc9ce5e7ad59e16e1/crates%2Fide%2Fsrc%2Fnavigation_target.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f781e599cc6376a3706498dcc9ce5e7ad59e16e1/crates%2Fide%2Fsrc%2Fnavigation_target.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fnavigation_target.rs?ref=f781e599cc6376a3706498dcc9ce5e7ad59e16e1", "patch": "@@ -298,7 +298,6 @@ impl TryToNav for hir::Impl {\n         let InFile { file_id, value } = self.source(db)?;\n         let derive_attr = self.is_builtin_derive(db);\n \n-        let range = |syntax: &_| InFile::new(file_id, syntax).original_file_range(db);\n         let focus_range = if derive_attr.is_some() {\n             None\n         } else {\n@@ -307,9 +306,10 @@ impl TryToNav for hir::Impl {\n                 .and_then(|ty| InFile::new(file_id, ty.syntax()).original_file_range_opt(db))\n                 .map(|it| it.range)\n         };\n+\n         let FileRange { file_id, range: full_range } = match &derive_attr {\n-            Some(InFile { value, .. }) => range(value.syntax()),\n-            None => range(value.syntax()),\n+            Some(attr) => attr.syntax().original_file_range(db),\n+            None => InFile::new(file_id, value.syntax()).original_file_range(db),\n         };\n \n         Some(NavigationTarget::from_syntax("}, {"sha": "67062654d6e03d421c3b6ad6f5d5b723569e23d4", "filename": "crates/ide/src/runnables.rs", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/f781e599cc6376a3706498dcc9ce5e7ad59e16e1/crates%2Fide%2Fsrc%2Frunnables.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f781e599cc6376a3706498dcc9ce5e7ad59e16e1/crates%2Fide%2Fsrc%2Frunnables.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Frunnables.rs?ref=f781e599cc6376a3706498dcc9ce5e7ad59e16e1", "patch": "@@ -1437,7 +1437,6 @@ gen2!();\n                                 0,\n                             ),\n                             full_range: 228..236,\n-                            focus_range: 228..236,\n                             name: \"tests2\",\n                             kind: Module,\n                             description: \"mod tests2\",\n@@ -1522,7 +1521,6 @@ foo!();\n                                 0,\n                             ),\n                             full_range: 210..217,\n-                            focus_range: 210..217,\n                             name: \"foo_tests\",\n                             kind: Module,\n                             description: \"mod foo_tests\","}]}