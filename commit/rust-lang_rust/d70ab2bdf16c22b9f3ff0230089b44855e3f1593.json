{"sha": "d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ3MGFiMmJkZjE2YzIyYjlmM2ZmMDIzMDA4OWI0NDg1NWUzZjE1OTM=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2016-01-08T22:42:10Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2016-01-08T22:42:10Z"}, "message": "Auto merge of #30782 - steveklabnik:rollup, r=steveklabnik\n\n- Successful merges: #30584, #30747, #30755, #30758, #30760, #30769\n- Failed merges: #30766", "tree": {"sha": "f505a6101295c1c394d978d1ef572600c3e0dd93", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f505a6101295c1c394d978d1ef572600c3e0dd93"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "html_url": "https://github.com/rust-lang/rust/commit/d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "64a8ffeffaae2fe72994fb0832ae525346b8a3c0", "url": "https://api.github.com/repos/rust-lang/rust/commits/64a8ffeffaae2fe72994fb0832ae525346b8a3c0", "html_url": "https://github.com/rust-lang/rust/commit/64a8ffeffaae2fe72994fb0832ae525346b8a3c0"}, {"sha": "926eb83e783e26087f53a6d98db4f0560840e705", "url": "https://api.github.com/repos/rust-lang/rust/commits/926eb83e783e26087f53a6d98db4f0560840e705", "html_url": "https://github.com/rust-lang/rust/commit/926eb83e783e26087f53a6d98db4f0560840e705"}], "stats": {"total": 161, "additions": 92, "deletions": 69}, "files": [{"sha": "9f9b6a9b043dde75197310bf764f1338f75acc29", "filename": "src/doc/book/README.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2FREADME.md", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2FREADME.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2FREADME.md?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -14,7 +14,7 @@ Even then, Rust still allows precise control like a low-level language would.\n \n [rust]: https://www.rust-lang.org\n \n-\u201cThe Rust Programming Language\u201d is split into sections. This introduction\n+\u201cThe Rust Programming Language\u201d is split into chapters. This introduction\n is the first. After this:\n \n * [Getting started][gs] - Set up your computer for Rust development."}, {"sha": "24993477ede257c11b08186d18533117996beb41", "filename": "src/doc/book/closures.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fclosures.md", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fclosures.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2Fclosures.md?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -208,7 +208,7 @@ different.\n \n Rust\u2019s implementation of closures is a bit different than other languages. They\n are effectively syntax sugar for traits. You\u2019ll want to make sure to have read\n-the [traits chapter][traits] before this one, as well as the chapter on [trait\n+the [traits][traits] section before this one, as well as the section on [trait\n objects][trait-objects].\n \n [traits]: traits.html"}, {"sha": "65873c80e55e4364e13ac2107463088b2760d673", "filename": "src/doc/book/effective-rust.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Feffective-rust.md", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Feffective-rust.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2Feffective-rust.md?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -3,6 +3,6 @@\n So you\u2019ve learned how to write some Rust code. But there\u2019s a difference between\n writing *any* Rust code and writing *good* Rust code.\n \n-This section consists of relatively independent tutorials which show you how to\n+This chapter consists of relatively independent tutorials which show you how to\n take your Rust to the next level. Common patterns and standard library features\n will be introduced. Read these sections in any order of your choosing."}, {"sha": "fb720ce9b2983ffe87cb9d20c72b9a5f6058356d", "filename": "src/doc/book/error-handling.md", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Ferror-handling.md", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Ferror-handling.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2Ferror-handling.md?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -5,18 +5,18 @@ errors in a particular way. Generally speaking, error handling is divided into\n two broad categories: exceptions and return values. Rust opts for return\n values.\n \n-In this chapter, we intend to provide a comprehensive treatment of how to deal\n+In this section, we intend to provide a comprehensive treatment of how to deal\n with errors in Rust. More than that, we will attempt to introduce error handling\n one piece at a time so that you'll come away with a solid working knowledge of\n how everything fits together.\n \n When done na\u00efvely, error handling in Rust can be verbose and annoying. This\n-chapter will explore those stumbling blocks and demonstrate how to use the\n+section will explore those stumbling blocks and demonstrate how to use the\n standard library to make error handling concise and ergonomic.\n \n # Table of Contents\n \n-This chapter is very long, mostly because we start at the very beginning with\n+This section is very long, mostly because we start at the very beginning with\n sum types and combinators, and try to motivate the way Rust does error handling\n incrementally. As such, programmers with experience in other expressive type\n systems may want to jump around.\n@@ -636,7 +636,7 @@ Thus far, we've looked at error handling where everything was either an\n `Option` and a `Result`? Or what if you have a `Result<T, Error1>` and a\n `Result<T, Error2>`? Handling *composition of distinct error types* is the next\n challenge in front of us, and it will be the major theme throughout the rest of\n-this chapter.\n+this section.\n \n ## Composing `Option` and `Result`\n \n@@ -648,7 +648,7 @@ Of course, in real code, things aren't always as clean. Sometimes you have a\n mix of `Option` and `Result` types. Must we resort to explicit case analysis,\n or can we continue using combinators?\n \n-For now, let's revisit one of the first examples in this chapter:\n+For now, let's revisit one of the first examples in this section:\n \n ```rust,should_panic\n use std::env;\n@@ -1319,7 +1319,7 @@ and [`cause`](../std/error/trait.Error.html#method.cause), but the\n limitation remains: `Box<Error>` is opaque. (N.B. This isn't entirely\n true because Rust does have runtime reflection, which is useful in\n some scenarios that are [beyond the scope of this\n-chapter](https://crates.io/crates/error).)\n+section](https://crates.io/crates/error).)\n \n It's time to revisit our custom `CliError` type and tie everything together.\n \n@@ -1486,7 +1486,7 @@ and [`fmt::Result`](../std/fmt/type.Result.html).\n \n # Case study: A program to read population data\n \n-This chapter was long, and depending on your background, it might be\n+This section was long, and depending on your background, it might be\n rather dense. While there is plenty of example code to go along with\n the prose, most of it was specifically designed to be pedagogical. So,\n we're going to do something new: a case study.\n@@ -1512,7 +1512,7 @@ and [`rustc-serialize`](https://crates.io/crates/rustc-serialize) crates.\n \n We're not going to spend a lot of time on setting up a project with\n Cargo because it is already covered well in [the Cargo\n-chapter](../book/hello-cargo.html) and [Cargo's documentation][14].\n+section](../book/hello-cargo.html) and [Cargo's documentation][14].\n \n To get started from scratch, run `cargo new --bin city-pop` and make sure your\n `Cargo.toml` looks something like this:\n@@ -2108,7 +2108,7 @@ handling.\n \n # The Short Story\n \n-Since this chapter is long, it is useful to have a quick summary for error\n+Since this section is long, it is useful to have a quick summary for error\n handling in Rust. These are some good \u201crules of thumb.\" They are emphatically\n *not* commandments. There are probably good reasons to break every one of these\n heuristics!"}, {"sha": "a4c028e85b0d79fd3b6c3b1e3faf6acd0a7a7aaa", "filename": "src/doc/book/getting-started.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fgetting-started.md", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fgetting-started.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2Fgetting-started.md?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -1,13 +1,13 @@\n % Getting Started\n \n-This first section of the book will get us going with Rust and its tooling.\n+This first chapter of the book will get us going with Rust and its tooling.\n First, we\u2019ll install Rust. Then, the classic \u2018Hello World\u2019 program. Finally,\n we\u2019ll talk about Cargo, Rust\u2019s build system and package manager.\n \n # Installing Rust\n \n The first step to using Rust is to install it. Generally speaking, you\u2019ll need\n-an Internet connection to run the commands in this chapter, as we\u2019ll be\n+an Internet connection to run the commands in this section, as we\u2019ll be\n downloading Rust from the internet.\n \n We\u2019ll be showing off a number of commands using a terminal, and those lines all"}, {"sha": "6665d1f87d81836868848295bb7804c7da5f428e", "filename": "src/doc/book/guessing-game.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fguessing-game.md", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fguessing-game.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2Fguessing-game.md?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -7,7 +7,7 @@ prompt us to enter a guess. Upon entering our guess, it will tell us if we\u2019re\n too low or too high. Once we guess correctly, it will congratulate us. Sounds\n good?\n \n-Along the way, we\u2019ll learn a little bit about Rust. The next section, \u2018Syntax\n+Along the way, we\u2019ll learn a little bit about Rust. The next chapter, \u2018Syntax\n and Semantics\u2019, will dive deeper into each part.\n \n # Set up"}, {"sha": "7be7fa4f039a710dece1e34f1507f17757bbc286", "filename": "src/doc/book/learn-rust.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Flearn-rust.md", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Flearn-rust.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2Flearn-rust.md?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -1,6 +1,6 @@\n % Learn Rust\n \n-Welcome! This section has a few tutorials that teach you Rust through building\n+Welcome! This chapter has a few tutorials that teach you Rust through building\n projects. You\u2019ll get a high-level overview, but we\u2019ll skim over the details.\n \n If you\u2019d prefer a more \u2018from the ground up\u2019-style experience, check"}, {"sha": "a62d31d362b14f217c367efbfe76779167dd1ded", "filename": "src/doc/book/ownership.md", "status": "modified", "additions": 15, "deletions": 6, "changes": 21, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fownership.md", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fownership.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2Fownership.md?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -51,15 +51,24 @@ fn foo() {\n }\n ```\n \n-When `v` comes into scope, a new [`Vec<T>`][vect] is created. In this case, the\n-vector also allocates space on [the heap][heap], for the three elements. When\n-`v` goes out of scope at the end of `foo()`, Rust will clean up everything\n-related to the vector, even the heap-allocated memory. This happens\n-deterministically, at the end of the scope.\n+When `v` comes into scope, a new [vector] is created, and it allocates space on\n+[the heap][heap] for each of its elements. When `v` goes out of scope at the\n+end of `foo()`, Rust will clean up everything related to the vector, even the\n+heap-allocated memory. This happens deterministically, at the end of the scope.\n \n-[vect]: ../std/vec/struct.Vec.html\n+We'll cover [vectors] in detail later in this chapter; we only use them\n+here as an example of a type that allocates space on the heap at runtime. They\n+behave like [arrays], except their size may change by `push()`ing more\n+elements onto them.\n+\n+Vectors have a [generic type][generics] `Vec<T>`, so in this example `v` will have type\n+`Vec<i32>`. We'll cover generics in detail later in this chapter.\n+\n+[arrays]: primitive-types.html#arrays\n+[vectors]: vectors.html\n [heap]: the-stack-and-the-heap.html\n [bindings]: variable-bindings.html\n+[generics]: generics.html\n \n # Move semantics\n "}, {"sha": "d6188fa7cdcf8b0b464d2bd9df7c4a6e509d0ca3", "filename": "src/doc/book/primitive-types.md", "status": "modified", "additions": 9, "deletions": 4, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fprimitive-types.md", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fprimitive-types.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2Fprimitive-types.md?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -167,8 +167,11 @@ variable binding. Slices have a defined length, can be mutable or immutable.\n ## Slicing syntax\n \n You can use a combo of `&` and `[]` to create a slice from various things. The\n-`&` indicates that slices are similar to references, and the `[]`s, with a\n-range, let you define the length of the slice:\n+`&` indicates that slices are similar to [references], which we will cover in\n+detail later in this section. The `[]`s, with a range, let you define the\n+length of the slice:\n+\n+[references]: references-and-borrowing.html\n \n ```rust\n let a = [0, 1, 2, 3, 4];\n@@ -189,11 +192,13 @@ documentation][slice].\n # `str`\n \n Rust\u2019s `str` type is the most primitive string type. As an [unsized type][dst],\n-it\u2019s not very useful by itself, but becomes useful when placed behind a reference,\n-like [`&str`][strings]. As such, we\u2019ll just leave it at that.\n+it\u2019s not very useful by itself, but becomes useful when placed behind a\n+reference, like `&str`. We'll elaborate further when we cover\n+[Strings][strings] and [references].\n \n [dst]: unsized-types.html\n [strings]: strings.html\n+[references]: references-and-borrowing.html\n \n You can find more documentation for `str` [in the standard library\n documentation][str]."}, {"sha": "e9ec26dccdcdcb4c934bcf112f4ddc73445920ba", "filename": "src/doc/book/syntax-and-semantics.md", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fsyntax-and-semantics.md", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fbook%2Fsyntax-and-semantics.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fbook%2Fsyntax-and-semantics.md?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -1,6 +1,6 @@\n % Syntax and Semantics\n \n-This section breaks Rust down into small chunks, one for each concept.\n+This chapter breaks Rust down into small chunks, one for each concept.\n \n If you\u2019d like to learn Rust from the bottom up, reading this in order is a\n great way to do that."}, {"sha": "bcecd78a1b75a1227b5dbc2c6aeb53dc13612ae9", "filename": "src/doc/nomicon/vec-insert-remove.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fnomicon%2Fvec-insert-remove.md", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Fdoc%2Fnomicon%2Fvec-insert-remove.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Fnomicon%2Fvec-insert-remove.md?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -24,7 +24,7 @@ pub fn insert(&mut self, index: usize, elem: T) {\n             // ptr::copy(src, dest, len): \"copy from source to dest len elems\"\n             ptr::copy(self.ptr.offset(index as isize),\n                       self.ptr.offset(index as isize + 1),\n-                      len - index);\n+                      self.len - index);\n         }\n         ptr::write(self.ptr.offset(index as isize), elem);\n         self.len += 1;\n@@ -44,7 +44,7 @@ pub fn remove(&mut self, index: usize) -> T {\n         let result = ptr::read(self.ptr.offset(index as isize));\n         ptr::copy(self.ptr.offset(index as isize + 1),\n                   self.ptr.offset(index as isize),\n-                  len - index);\n+                  self.len - index);\n         result\n     }\n }"}, {"sha": "621dce3efc86bf8ca7e7c8f13f477e86c5253168", "filename": "src/libcore/marker.rs", "status": "modified", "additions": 4, "deletions": 0, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Flibcore%2Fmarker.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Flibcore%2Fmarker.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Fmarker.rs?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -295,6 +295,10 @@ macro_rules! impls{\n /// even though it does not. This allows you to inform the compiler about certain safety properties\n /// of your code.\n ///\n+/// For a more in-depth explanation of how to use `PhantomData<T>`, please see [the Nomicon].\n+///\n+/// [the Nomicon]: ../../nomicon/phantom-data.html\n+///\n /// # A ghastly note \ud83d\udc7b\ud83d\udc7b\ud83d\udc7b\n ///\n /// Though they both have scary names, `PhantomData<T>` and 'phantom types' are related, but not"}, {"sha": "a5a22fd7f3904b39699745aa8916b4047cd6bfe0", "filename": "src/librustc_resolve/lib.rs", "status": "modified", "additions": 10, "deletions": 5, "changes": 15, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Flibrustc_resolve%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Flibrustc_resolve%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_resolve%2Flib.rs?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -72,7 +72,7 @@ use rustc_front::intravisit::{self, FnKind, Visitor};\n use rustc_front::hir;\n use rustc_front::hir::{Arm, BindByRef, BindByValue, BindingMode, Block};\n use rustc_front::hir::Crate;\n-use rustc_front::hir::{Expr, ExprAgain, ExprBreak, ExprField};\n+use rustc_front::hir::{Expr, ExprAgain, ExprBreak, ExprCall, ExprField};\n use rustc_front::hir::{ExprLoop, ExprWhile, ExprMethodCall};\n use rustc_front::hir::{ExprPath, ExprStruct, FnDecl};\n use rustc_front::hir::{ForeignItemFn, ForeignItemStatic, Generics};\n@@ -433,7 +433,7 @@ fn resolve_struct_error<'b, 'a: 'b, 'tcx: 'a>(resolver: &'b Resolver<'a, 'tcx>,\n                                            msg);\n \n             match context {\n-                UnresolvedNameContext::Other => {} // no help available\n+                UnresolvedNameContext::Other => { } // no help available\n                 UnresolvedNameContext::PathIsMod(id) => {\n                     let mut help_msg = String::new();\n                     let parent_id = resolver.ast_map.get_parent_node(id);\n@@ -446,17 +446,22 @@ fn resolve_struct_error<'b, 'a: 'b, 'tcx: 'a>(resolver: &'b Resolver<'a, 'tcx>,\n                                                    module = &*path,\n                                                    ident = ident.node);\n                             }\n-\n                             ExprMethodCall(ident, _, _) => {\n                                 help_msg = format!(\"To call a function from the \\\n                                                     `{module}` module, use \\\n                                                     `{module}::{ident}(..)`\",\n                                                    module = &*path,\n                                                    ident = ident.node);\n                             }\n-\n-                            _ => {} // no help available\n+                            ExprCall(_, _) => {\n+                                help_msg = format!(\"No function corresponds to `{module}(..)`\",\n+                                                   module = &*path);\n+                            }\n+                            _ => { } // no help available\n                         }\n+                    } else {\n+                        help_msg = format!(\"Module `{module}` cannot be the value of an expression\",\n+                                           module = &*path);\n                     }\n \n                     if !help_msg.is_empty() {"}, {"sha": "eb5ddecbd054d090700585fc3c9ef971efeaf893", "filename": "src/libstd/ffi/os_str.rs", "status": "modified", "additions": 17, "deletions": 23, "changes": 40, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Flibstd%2Fffi%2Fos_str.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Flibstd%2Fffi%2Fos_str.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fffi%2Fos_str.rs?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -8,27 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-//! A type that can represent all platform-native strings, but is cheaply\n-//! interconvertable with Rust strings.\n-//!\n-//! The need for this type arises from the fact that:\n-//!\n-//! * On Unix systems, strings are often arbitrary sequences of non-zero\n-//!   bytes, in many cases interpreted as UTF-8.\n-//!\n-//! * On Windows, strings are often arbitrary sequences of non-zero 16-bit\n-//!   values, interpreted as UTF-16 when it is valid to do so.\n-//!\n-//! * In Rust, strings are always valid UTF-8, but may contain zeros.\n-//!\n-//! The types in this module bridge this gap by simultaneously representing Rust\n-//! and platform-native string values, and in particular allowing a Rust string\n-//! to be converted into an \"OS\" string with no cost.\n-//!\n-//! **Note**: At the moment, these types are extremely bare-bones, usable only\n-//! for conversion to/from various other string types. Eventually these types\n-//! will offer a full-fledged string API.\n-\n use borrow::{Borrow, Cow, ToOwned};\n use ffi::CString;\n use fmt::{self, Debug};\n@@ -42,14 +21,29 @@ use vec::Vec;\n use sys::os_str::{Buf, Slice};\n use sys_common::{AsInner, IntoInner, FromInner};\n \n-/// Owned, mutable OS strings.\n+/// A type that can represent owned, mutable platform-native strings, but is\n+/// cheaply interconvertable with Rust strings.\n+///\n+/// The need for this type arises from the fact that:\n+///\n+/// * On Unix systems, strings are often arbitrary sequences of non-zero\n+///   bytes, in many cases interpreted as UTF-8.\n+///\n+/// * On Windows, strings are often arbitrary sequences of non-zero 16-bit\n+///   values, interpreted as UTF-16 when it is valid to do so.\n+///\n+/// * In Rust, strings are always valid UTF-8, but may contain zeros.\n+///\n+/// `OsString` and `OsStr` bridge this gap by simultaneously representing Rust\n+/// and platform-native string values, and in particular allowing a Rust string\n+/// to be converted into an \"OS\" string with no cost.\n #[derive(Clone)]\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n pub struct OsString {\n     inner: Buf\n }\n \n-/// Slices into OS strings.\n+/// Slices into OS strings (see `OsString`).\n #[stable(feature = \"rust1\", since = \"1.0.0\")]\n pub struct OsStr {\n     inner: Slice"}, {"sha": "1d04679fd11e799dd9ebb620163e378d939b02e6", "filename": "src/test/compile-fail/suggest-path-instead-of-mod-dot-item.rs", "status": "modified", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Ftest%2Fcompile-fail%2Fsuggest-path-instead-of-mod-dot-item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Ftest%2Fcompile-fail%2Fsuggest-path-instead-of-mod-dot-item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fsuggest-path-instead-of-mod-dot-item.rs?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -58,3 +58,15 @@ fn h6() -> i32 {\n         //~^ ERROR E0425\n         //~| HELP To call a function from the `a::b` module, use `a::b::f(..)`\n }\n+\n+fn h7() {\n+    a::b\n+        //~^ ERROR E0425\n+        //~| HELP Module `a::b` cannot be the value of an expression\n+}\n+\n+fn h8() -> i32 {\n+    a::b()\n+        //~^ ERROR E0425\n+        //~| HELP No function corresponds to `a::b(..)`\n+}"}, {"sha": "bca72330c85ad99aa8419e21b58fa3acd452be68", "filename": "src/test/run-pass/mir_trans_calls.rs", "status": "modified", "additions": 6, "deletions": 12, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Ftest%2Frun-pass%2Fmir_trans_calls.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d70ab2bdf16c22b9f3ff0230089b44855e3f1593/src%2Ftest%2Frun-pass%2Fmir_trans_calls.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frun-pass%2Fmir_trans_calls.rs?ref=d70ab2bdf16c22b9f3ff0230089b44855e3f1593", "patch": "@@ -58,16 +58,11 @@ fn test5(x: &Bar, a: isize) -> isize {\n     x.extension_method(a)\n }\n \n-// FIXME #30661: Although this function has the #[rustc_mir] attribute it never\n-//               was translated via the MIR implementation because attributes\n-//               where not passed along to trans::base::trans_fn() for generic\n-//               functions.\n-//               Uncomment this test once the thing it tests is fixed.\n-// #[rustc_mir]\n-// fn test6<T: Bar>(x: &T, a: isize) -> isize {\n-//     // Test calling extension method on generic callee\n-//     x.extension_method(a)\n-// }\n+#[rustc_mir]\n+fn test6<T: Bar>(x: &T, a: isize) -> isize {\n+    // Test calling extension method on generic callee\n+    x.extension_method(a)\n+}\n \n trait One<T = Self> {\n     fn one() -> T;\n@@ -119,8 +114,7 @@ fn main() {\n     assert_eq!(test3(&Foo, 42), 42);\n     assert_eq!(test4(&Foo, 970), 970);\n     assert_eq!(test5(&Foo, 8576), 8576);\n-    // see definition of test6() above\n-    // assert_eq!(test6(&Foo, 12367), 12367);\n+    assert_eq!(test6(&Foo, 12367), 12367);\n     assert_eq!(test7(), 1);\n     assert_eq!(test8(), 2);\n "}]}