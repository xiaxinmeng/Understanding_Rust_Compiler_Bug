{"sha": "d517668a088715e932c373fb18dfffdc58831829", "node_id": "MDY6Q29tbWl0NzI0NzEyOmQ1MTc2NjhhMDg4NzE1ZTkzMmMzNzNmYjE4ZGZmZmRjNTg4MzE4Mjk=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-11-04T17:47:02Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2017-11-05T19:53:40Z"}, "message": "If the linker segfaulted, don't emit it as a warning.\n\nPrevent spuriously breaking UI tests.\nSee https://github.com/rust-lang/rust/pull/45489#issuecomment-340134944.", "tree": {"sha": "a0814cd47540dc31e8551c2e2c87432bbc4a148f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a0814cd47540dc31e8551c2e2c87432bbc4a148f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d517668a088715e932c373fb18dfffdc58831829", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAln/bEQACgkQ/vbIBR0O\nATxIZQ/8CDtEDETP7GH3sf0FrPVYE2vu5Ilx7JKV0zcLUYzrxztPmxiaM0+xuhe6\nWOZbyzQh776f5EcNa3QMmJxfEaft8GkHVynSPEwElh5w6ZNaRJYpiFMkoS4fb9FC\noM0ZVV6K2X3YNw3JKztswhnRpq6Pi/7sZoR2C+yLJk498Ny/0pCUdUgUcL+lNL8r\nUfBfzmTM1K4R9apYkjfbwKz0e3HaSgOjDMQz3eGJNAdqVP0lgRZMbH3uc4FytLaD\nPKzIhA9O7HDBrrhfZt7Rs+4AJZz82+s8xdk1Dcs34Bl1NYC+K2L8z0AekPloygWf\nKbotUfusq3P3M6Z8DYPr1GMeSO+HkB8Jw7J7FLRKWQP1buiq87RLN9D4cgBQMMYD\nQPHrwGgDab+ISWFrmDfdX6k4BOg+2qm4Tsh4Rk7nSA80rAdgYBVIV3xOxF8Bew1d\nUHEsCZ3t8dC88b1ks8LwS6RZg2FRRTzKJPqnBGsNhlWf6Bb4+EKfEIZ92g7Eq8Wg\nWLgD78g+BBN9PLXZvCATyKQ53e8dHvkP+agOJciDxb7xXaO6Wn/KFQ5SUV8VFOFD\nle7lSSqnm/XlIo/KICjp/LhBqPlbeNREbMmMZFPOSfE1xvwsKIeMBEgkL26hwg1G\n0iaV6Ju9LgiNyVmkiakomwauWMzqrPT8U5hX6EndhmCCys1JdDY=\n=p0Zn\n-----END PGP SIGNATURE-----", "payload": "tree a0814cd47540dc31e8551c2e2c87432bbc4a148f\nparent 33400fbbcd26caf98fe316b4f2ab81efdc9c40f2\nauthor kennytm <kennytm@gmail.com> 1509817622 +0800\ncommitter kennytm <kennytm@gmail.com> 1509911620 +0800\n\nIf the linker segfaulted, don't emit it as a warning.\n\nPrevent spuriously breaking UI tests.\nSee https://github.com/rust-lang/rust/pull/45489#issuecomment-340134944.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d517668a088715e932c373fb18dfffdc58831829", "html_url": "https://github.com/rust-lang/rust/commit/d517668a088715e932c373fb18dfffdc58831829", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d517668a088715e932c373fb18dfffdc58831829/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "33400fbbcd26caf98fe316b4f2ab81efdc9c40f2", "url": "https://api.github.com/repos/rust-lang/rust/commits/33400fbbcd26caf98fe316b4f2ab81efdc9c40f2", "html_url": "https://github.com/rust-lang/rust/commit/33400fbbcd26caf98fe316b4f2ab81efdc9c40f2"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "1961acf53a695232c920fe0144fa8f198fdbc645", "filename": "src/librustc_trans/back/link.rs", "status": "modified", "additions": 6, "deletions": 5, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/d517668a088715e932c373fb18dfffdc58831829/src%2Flibrustc_trans%2Fback%2Flink.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d517668a088715e932c373fb18dfffdc58831829/src%2Flibrustc_trans%2Fback%2Flink.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fback%2Flink.rs?ref=d517668a088715e932c373fb18dfffdc58831829", "patch": "@@ -671,11 +671,12 @@ fn link_natively(sess: &Session,\n             break\n         }\n \n-        sess.struct_warn(\"looks like the linker segfaulted when we tried to \\\n-                          call it, automatically retrying again\")\n-            .note(&format!(\"{:?}\", cmd))\n-            .note(&out)\n-            .emit();\n+        warn!(\n+            \"looks like the linker segfaulted when we tried to call it, \\\n+             automatically retrying again. cmd = {:?}, out = {}.\",\n+            cmd,\n+            out,\n+        );\n     }\n \n     match prog {"}]}