{"sha": "f24110aa5b59ecbaf457f73b3a3b1560b416322d", "node_id": "MDY6Q29tbWl0NzI0NzEyOmYyNDExMGFhNWI1OWVjYmFmNDU3ZjczYjNhM2IxNTYwYjQxNjMyMmQ=", "commit": {"author": {"name": "miguel raz", "email": "miguelraz@gmail.com", "date": "2021-06-01T17:26:29Z"}, "committer": {"name": "miguel raz", "email": "miguelraz@gmail.com", "date": "2021-06-01T17:26:29Z"}, "message": "collapse run_k into run", "tree": {"sha": "172614893e367b0de8aec40117fa1357743fd874", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/172614893e367b0de8aec40117fa1357743fd874"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f24110aa5b59ecbaf457f73b3a3b1560b416322d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f24110aa5b59ecbaf457f73b3a3b1560b416322d", "html_url": "https://github.com/rust-lang/rust/commit/f24110aa5b59ecbaf457f73b3a3b1560b416322d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f24110aa5b59ecbaf457f73b3a3b1560b416322d/comments", "author": {"login": "miguelraz", "id": 13056181, "node_id": "MDQ6VXNlcjEzMDU2MTgx", "avatar_url": "https://avatars.githubusercontent.com/u/13056181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miguelraz", "html_url": "https://github.com/miguelraz", "followers_url": "https://api.github.com/users/miguelraz/followers", "following_url": "https://api.github.com/users/miguelraz/following{/other_user}", "gists_url": "https://api.github.com/users/miguelraz/gists{/gist_id}", "starred_url": "https://api.github.com/users/miguelraz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miguelraz/subscriptions", "organizations_url": "https://api.github.com/users/miguelraz/orgs", "repos_url": "https://api.github.com/users/miguelraz/repos", "events_url": "https://api.github.com/users/miguelraz/events{/privacy}", "received_events_url": "https://api.github.com/users/miguelraz/received_events", "type": "User", "site_admin": false}, "committer": {"login": "miguelraz", "id": 13056181, "node_id": "MDQ6VXNlcjEzMDU2MTgx", "avatar_url": "https://avatars.githubusercontent.com/u/13056181?v=4", "gravatar_id": "", "url": "https://api.github.com/users/miguelraz", "html_url": "https://github.com/miguelraz", "followers_url": "https://api.github.com/users/miguelraz/followers", "following_url": "https://api.github.com/users/miguelraz/following{/other_user}", "gists_url": "https://api.github.com/users/miguelraz/gists{/gist_id}", "starred_url": "https://api.github.com/users/miguelraz/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/miguelraz/subscriptions", "organizations_url": "https://api.github.com/users/miguelraz/orgs", "repos_url": "https://api.github.com/users/miguelraz/repos", "events_url": "https://api.github.com/users/miguelraz/events{/privacy}", "received_events_url": "https://api.github.com/users/miguelraz/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "56050562f1be867c65f38a94498e3ddfda5759a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/56050562f1be867c65f38a94498e3ddfda5759a7", "html_url": "https://github.com/rust-lang/rust/commit/56050562f1be867c65f38a94498e3ddfda5759a7"}], "stats": {"total": 11, "additions": 2, "deletions": 9}, "files": [{"sha": "bf045737f82eb388a639188202514ca5c219b662", "filename": "crates/core_simd/examples/nbody.rs", "status": "modified", "additions": 2, "deletions": 9, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/f24110aa5b59ecbaf457f73b3a3b1560b416322d/crates%2Fcore_simd%2Fexamples%2Fnbody.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f24110aa5b59ecbaf457f73b3a3b1560b416322d/crates%2Fcore_simd%2Fexamples%2Fnbody.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcore_simd%2Fexamples%2Fnbody.rs?ref=f24110aa5b59ecbaf457f73b3a3b1560b416322d", "patch": "@@ -146,25 +146,18 @@ pub fn advance(bodies: &mut [Body; N_BODIES], dt: f64) {\n     }\n }\n \n-pub fn run_k<K>(n: usize, k: K) -> (f64, f64)\n-where\n-    K: Fn(&mut [Body; N_BODIES], f64),\n-{\n+pub fn run(n: usize) -> (f64, f64) {\n     let mut bodies = BODIES;\n     offset_momentum(&mut bodies);\n     let energy_before = energy(&bodies);\n     for _ in 0..n {\n-        k(&mut bodies, 0.01);\n+        advance(&mut bodies, 0.01);\n     }\n     let energy_after = energy(&bodies);\n \n     (energy_before, energy_after)\n }\n \n-pub fn run(n: usize) -> (f64, f64) {\n-    run_k(n, advance)\n-}\n-\n const OUTPUT: Vec<f64> = vec![-0.169075164, -0.169087605];\n #[cfg(test)]\n mod tests {"}]}