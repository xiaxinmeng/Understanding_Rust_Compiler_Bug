{"sha": "41712996329320521de8ad40efc9dda824acdaf6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQxNzEyOTk2MzI5MzIwNTIxZGU4YWQ0MGVmYzlkZGE4MjRhY2RhZjY=", "commit": {"author": {"name": "Matthew Kraai", "email": "kraai@ftbfs.org", "date": "2019-04-21T13:22:06Z"}, "committer": {"name": "Matthew Kraai", "email": "kraai@ftbfs.org", "date": "2019-04-21T17:24:51Z"}, "message": "Move path_buf_push_overwrite to nursery\n\nSee #4012.", "tree": {"sha": "ec25c6799464e3ca41c957b4a964fe0ab6d30f18", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ec25c6799464e3ca41c957b4a964fe0ab6d30f18"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/41712996329320521de8ad40efc9dda824acdaf6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/41712996329320521de8ad40efc9dda824acdaf6", "html_url": "https://github.com/rust-lang/rust/commit/41712996329320521de8ad40efc9dda824acdaf6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/41712996329320521de8ad40efc9dda824acdaf6/comments", "author": {"login": "kraai", "id": 552646, "node_id": "MDQ6VXNlcjU1MjY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/552646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kraai", "html_url": "https://github.com/kraai", "followers_url": "https://api.github.com/users/kraai/followers", "following_url": "https://api.github.com/users/kraai/following{/other_user}", "gists_url": "https://api.github.com/users/kraai/gists{/gist_id}", "starred_url": "https://api.github.com/users/kraai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kraai/subscriptions", "organizations_url": "https://api.github.com/users/kraai/orgs", "repos_url": "https://api.github.com/users/kraai/repos", "events_url": "https://api.github.com/users/kraai/events{/privacy}", "received_events_url": "https://api.github.com/users/kraai/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kraai", "id": 552646, "node_id": "MDQ6VXNlcjU1MjY0Ng==", "avatar_url": "https://avatars.githubusercontent.com/u/552646?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kraai", "html_url": "https://github.com/kraai", "followers_url": "https://api.github.com/users/kraai/followers", "following_url": "https://api.github.com/users/kraai/following{/other_user}", "gists_url": "https://api.github.com/users/kraai/gists{/gist_id}", "starred_url": "https://api.github.com/users/kraai/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kraai/subscriptions", "organizations_url": "https://api.github.com/users/kraai/orgs", "repos_url": "https://api.github.com/users/kraai/repos", "events_url": "https://api.github.com/users/kraai/events{/privacy}", "received_events_url": "https://api.github.com/users/kraai/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "65d88c7ba705ca681eee66bcab5cd3fb32a40500", "url": "https://api.github.com/repos/rust-lang/rust/commits/65d88c7ba705ca681eee66bcab5cd3fb32a40500", "html_url": "https://github.com/rust-lang/rust/commit/65d88c7ba705ca681eee66bcab5cd3fb32a40500"}], "stats": {"total": 11, "additions": 6, "deletions": 5}, "files": [{"sha": "4220e6a738bbe1e36125a34e4e97a7a680c55fcb", "filename": "clippy_lints/src/lib.rs", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/41712996329320521de8ad40efc9dda824acdaf6/clippy_lints%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/41712996329320521de8ad40efc9dda824acdaf6/clippy_lints%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Flib.rs?ref=41712996329320521de8ad40efc9dda824acdaf6", "patch": "@@ -807,7 +807,6 @@ pub fn register_plugins(reg: &mut rustc_plugin::Registry<'_>, conf: &Conf) {\n         overflow_check_conditional::OVERFLOW_CHECK_CONDITIONAL,\n         panic_unimplemented::PANIC_PARAMS,\n         partialeq_ne_impl::PARTIALEQ_NE_IMPL,\n-        path_buf_push_overwrite::PATH_BUF_PUSH_OVERWRITE,\n         precedence::PRECEDENCE,\n         ptr::CMP_NULL,\n         ptr::MUT_FROM_REF,\n@@ -1075,7 +1074,6 @@ pub fn register_plugins(reg: &mut rustc_plugin::Registry<'_>, conf: &Conf) {\n         non_copy_const::BORROW_INTERIOR_MUTABLE_CONST,\n         non_copy_const::DECLARE_INTERIOR_MUTABLE_CONST,\n         open_options::NONSENSICAL_OPEN_OPTIONS,\n-        path_buf_push_overwrite::PATH_BUF_PUSH_OVERWRITE,\n         ptr::MUT_FROM_REF,\n         ranges::ITERATOR_STEP_BY_ZERO,\n         regex::INVALID_REGEX,\n@@ -1125,6 +1123,7 @@ pub fn register_plugins(reg: &mut rustc_plugin::Registry<'_>, conf: &Conf) {\n         missing_const_for_fn::MISSING_CONST_FOR_FN,\n         mutex_atomic::MUTEX_INTEGER,\n         needless_borrow::NEEDLESS_BORROW,\n+        path_buf_push_overwrite::PATH_BUF_PUSH_OVERWRITE,\n         redundant_clone::REDUNDANT_CLONE,\n         unwrap::PANICKING_UNWRAP,\n         unwrap::UNNECESSARY_UNWRAP,"}, {"sha": "ce9947298fa507ef9a36c72d7b1a1bd444182c54", "filename": "clippy_lints/src/path_buf_push_overwrite.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/41712996329320521de8ad40efc9dda824acdaf6/clippy_lints%2Fsrc%2Fpath_buf_push_overwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/41712996329320521de8ad40efc9dda824acdaf6/clippy_lints%2Fsrc%2Fpath_buf_push_overwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fpath_buf_push_overwrite.rs?ref=41712996329320521de8ad40efc9dda824acdaf6", "patch": "@@ -34,7 +34,7 @@ declare_clippy_lint! {\n     /// assert_eq!(x, PathBuf::from(\"/foo/bar\"));\n     /// ```\n     pub PATH_BUF_PUSH_OVERWRITE,\n-    correctness,\n+    nursery,\n     \"calling `push` with file system root on `PathBuf` can overwrite it\"\n }\n "}, {"sha": "ef8856830fc9949f94c638642a68efb31fb2d80d", "filename": "tests/ui/path_buf_push_overwrite.fixed", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/41712996329320521de8ad40efc9dda824acdaf6/tests%2Fui%2Fpath_buf_push_overwrite.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/41712996329320521de8ad40efc9dda824acdaf6/tests%2Fui%2Fpath_buf_push_overwrite.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fpath_buf_push_overwrite.fixed?ref=41712996329320521de8ad40efc9dda824acdaf6", "patch": "@@ -1,6 +1,7 @@\n // run-rustfix\n use std::path::PathBuf;\n \n+#[warn(clippy::all, clippy::path_buf_push_overwrite)]\n fn main() {\n     let mut x = PathBuf::from(\"/foo\");\n     x.push(\"bar\");"}, {"sha": "6e2d483f45410973371a46cf241cd123c715ec54", "filename": "tests/ui/path_buf_push_overwrite.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/41712996329320521de8ad40efc9dda824acdaf6/tests%2Fui%2Fpath_buf_push_overwrite.rs", "raw_url": "https://github.com/rust-lang/rust/raw/41712996329320521de8ad40efc9dda824acdaf6/tests%2Fui%2Fpath_buf_push_overwrite.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fpath_buf_push_overwrite.rs?ref=41712996329320521de8ad40efc9dda824acdaf6", "patch": "@@ -1,6 +1,7 @@\n // run-rustfix\n use std::path::PathBuf;\n \n+#[warn(clippy::all, clippy::path_buf_push_overwrite)]\n fn main() {\n     let mut x = PathBuf::from(\"/foo\");\n     x.push(\"/bar\");"}, {"sha": "09b18d71baf93bcc77f8edc51b73fadc54520a8d", "filename": "tests/ui/path_buf_push_overwrite.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/41712996329320521de8ad40efc9dda824acdaf6/tests%2Fui%2Fpath_buf_push_overwrite.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/41712996329320521de8ad40efc9dda824acdaf6/tests%2Fui%2Fpath_buf_push_overwrite.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fpath_buf_push_overwrite.stderr?ref=41712996329320521de8ad40efc9dda824acdaf6", "patch": "@@ -1,10 +1,10 @@\n error: Calling `push` with '/' or '/' (file system root) will overwrite the previous path definition\n-  --> $DIR/path_buf_push_overwrite.rs:6:12\n+  --> $DIR/path_buf_push_overwrite.rs:7:12\n    |\n LL |     x.push(\"/bar\");\n    |            ^^^^^^ help: try: `\"bar\"`\n    |\n-   = note: #[deny(clippy::path_buf_push_overwrite)] on by default\n+   = note: `-D clippy::path-buf-push-overwrite` implied by `-D warnings`\n \n error: aborting due to previous error\n "}]}