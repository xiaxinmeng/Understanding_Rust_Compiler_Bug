{"sha": "e9ec47bb70810f972e6565d496120b0b00f261f0", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU5ZWM0N2JiNzA4MTBmOTcyZTY1NjVkNDk2MTIwYjBiMDBmMjYxZjA=", "commit": {"author": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-02-19T15:45:21Z"}, "committer": {"name": "Aaron Hill", "email": "aa1ronham@gmail.com", "date": "2020-03-04T21:43:13Z"}, "message": "Test that stmt_expr_attrs properly gates if-attrs", "tree": {"sha": "efa410989b04461d57f5175f6c9fd077bdd9b104", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/efa410989b04461d57f5175f6c9fd077bdd9b104"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e9ec47bb70810f972e6565d496120b0b00f261f0", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE7J9Gc3TfBwj2K399tAh+UQ6YsWQFAl5gIPEACgkQtAh+UQ6Y\nsWS2Ug//YnCmA1hUeF2oshMgRA8OTOG4jn+yZMWQNeohpdEUHKGeQcvNUOmVvhhw\nKQ6WA07rBcUoEUmMQnebeFeA63NvnNq47To0bkVyjLtqIeTqXtLml/TN+wsSBg7i\nLL2FxY5uirwJpm06cgAmDUzDd3zDhjbswWmnUlXj+w3ExjDgg7hAxkcjbcZJ8CCq\nXXhUDa5xoI0+wGN6ShWVwnIOeP+vCvBeeiAw0ARFJ92aJWe0aPQTkuxFEMc8yVSU\nyocGsEnOQCdgET0MN7FQ6hagqxIjljHDqOR5D5Mt8iEnfwR7lbYvvLvwniWrO9cw\nwc2Pn+3GkqibnvHt3NxGqFgphmXs8+mOTQ1CAPPRnNjL6EhQ4tVTvT5uYNnTfB49\nuH9hhlKSjqxN0qe2bbKvOWc4QYoNO6nQIXBQxi34rjnSNl5UmGp189H8xC1R/QQW\nWXHS9xzPLV389ZLoTl/2l84rGVY1BYZ9H+h5xWvrdBQZ6rG6RM/SeO/9R2POwWJC\nag9lZb+qimCHiEwWLlJbN/LUByLIkH41Cam2uzOGcuplU54zKcykzcLJdRvBB87K\nGSGGG6sNkY/V3riZvPdXPJyg2/LDSqQWp02vEyh8PUZ+iDGdIRoMUBaVM9TN2eGQ\nqov5apz+kv3Ix5Oxm1JrqqqU+qTfjQY4o0+tTO7Llxkwmr3hXTY=\n=lLZi\n-----END PGP SIGNATURE-----", "payload": "tree efa410989b04461d57f5175f6c9fd077bdd9b104\nparent e912d9d7ecd9d326affd18f7b133dafb72ee8896\nauthor Aaron Hill <aa1ronham@gmail.com> 1582127121 -0500\ncommitter Aaron Hill <aa1ronham@gmail.com> 1583358193 -0500\n\nTest that stmt_expr_attrs properly gates if-attrs\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e9ec47bb70810f972e6565d496120b0b00f261f0", "html_url": "https://github.com/rust-lang/rust/commit/e9ec47bb70810f972e6565d496120b0b00f261f0", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e9ec47bb70810f972e6565d496120b0b00f261f0/comments", "author": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Aaron1011", "id": 1408859, "node_id": "MDQ6VXNlcjE0MDg4NTk=", "avatar_url": "https://avatars.githubusercontent.com/u/1408859?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Aaron1011", "html_url": "https://github.com/Aaron1011", "followers_url": "https://api.github.com/users/Aaron1011/followers", "following_url": "https://api.github.com/users/Aaron1011/following{/other_user}", "gists_url": "https://api.github.com/users/Aaron1011/gists{/gist_id}", "starred_url": "https://api.github.com/users/Aaron1011/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Aaron1011/subscriptions", "organizations_url": "https://api.github.com/users/Aaron1011/orgs", "repos_url": "https://api.github.com/users/Aaron1011/repos", "events_url": "https://api.github.com/users/Aaron1011/events{/privacy}", "received_events_url": "https://api.github.com/users/Aaron1011/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e912d9d7ecd9d326affd18f7b133dafb72ee8896", "url": "https://api.github.com/repos/rust-lang/rust/commits/e912d9d7ecd9d326affd18f7b133dafb72ee8896", "html_url": "https://github.com/rust-lang/rust/commit/e912d9d7ecd9d326affd18f7b133dafb72ee8896"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "38599c8e67c4e94dbd4ccbd66b40987957065df0", "filename": "src/test/ui/parser/if-attrs/stmt-expr-gated.rs", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/e9ec47bb70810f972e6565d496120b0b00f261f0/src%2Ftest%2Fui%2Fparser%2Fif-attrs%2Fstmt-expr-gated.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e9ec47bb70810f972e6565d496120b0b00f261f0/src%2Ftest%2Fui%2Fparser%2Fif-attrs%2Fstmt-expr-gated.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fif-attrs%2Fstmt-expr-gated.rs?ref=e9ec47bb70810f972e6565d496120b0b00f261f0", "patch": "@@ -0,0 +1,6 @@\n+fn main() {\n+    let _ = #[deny(warnings)] if true { //~ ERROR attributes on expressions\n+    } else if false {\n+    } else {\n+    };\n+}"}, {"sha": "47dac39a9ae88563bcbfd92ed05bc5f0ad4c6302", "filename": "src/test/ui/parser/if-attrs/stmt-expr-gated.stderr", "status": "added", "additions": 12, "deletions": 0, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/e9ec47bb70810f972e6565d496120b0b00f261f0/src%2Ftest%2Fui%2Fparser%2Fif-attrs%2Fstmt-expr-gated.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/e9ec47bb70810f972e6565d496120b0b00f261f0/src%2Ftest%2Fui%2Fparser%2Fif-attrs%2Fstmt-expr-gated.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Fif-attrs%2Fstmt-expr-gated.stderr?ref=e9ec47bb70810f972e6565d496120b0b00f261f0", "patch": "@@ -0,0 +1,12 @@\n+error[E0658]: attributes on expressions are experimental\n+  --> $DIR/stmt-expr-gated.rs:2:13\n+   |\n+LL |     let _ = #[deny(warnings)] if true {\n+   |             ^^^^^^^^^^^^^^^^^\n+   |\n+   = note: see issue #15701 <https://github.com/rust-lang/rust/issues/15701> for more information\n+   = help: add `#![feature(stmt_expr_attributes)]` to the crate attributes to enable\n+\n+error: aborting due to previous error\n+\n+For more information about this error, try `rustc --explain E0658`."}]}