{"sha": "2025f17ac394fc75528bb61422f15c5861a0fa8b", "node_id": "C_kwDOAAsO6NoAKDIwMjVmMTdhYzM5NGZjNzU1MjhiYjYxNDIyZjE1YzU4NjFhMGZhOGI", "commit": {"author": {"name": "Ddystopia", "email": "alexanderbabak@proton.me", "date": "2023-05-01T08:16:36Z"}, "committer": {"name": "Ddystopia", "email": "alexanderbabak@proton.me", "date": "2023-05-02T15:24:00Z"}, "message": "Workspace without sysroot could be possible", "tree": {"sha": "8b0b077cf411b959ad879561a44048a168d0361a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8b0b077cf411b959ad879561a44048a168d0361a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2025f17ac394fc75528bb61422f15c5861a0fa8b", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEE83x4qCmEA5TzaAMiEJh17BFTUhIFAmRRKxAACgkQEJh17BFT\nUhLtoQ/9EMiRXCHJzk1OwncA0wIHeIvy5AkBomqWrOWrGCkbiscYB6CefIF+57Um\ncG28pB97SUZrmW1iIHNfWbmDzpI+GJMEGm1IKSDkKxNmUgYlxdxJiBycGIC6/JkQ\n8Kb7OnRTVU5JW/EAjkuLNWKfMk2sSUJyQN2Ur4maAZx2tvXkXHplJu1KxpqCErmY\nQMc+fcYvj6q6mcSuX3bw7sUJaOAydMa3fXqDqfecI/jJ2FKx7n1gFljUL4wLzX82\nshK4X4DrllF2UdqlK0Llrk/vLBgwUCyyMAVz8Rs1sWSgLwxC/H3DTIJ4ieC7c911\n/8Sp/+YJHp1Wf8inN0gAneZQTdPkQiKf9kYyMp2S7NwpXjqoHqjgtMPJE/oaiZoP\njP0YPkWJo+mOT7l/vGjLWQKDVX6PXa3WYk2VjV9GguF/9irWesO6EFv/DEtj13a9\nQxdiBW60oA+XfdxrVRRgquZHmBMB3p5HZF8p5WlhiD7FdqCpUptTzsmkd30ekpuI\nH9x1aTkBsb39fy74ht6SDe2mpFHxD7BH22ZCUx4vvxxttHic/w3TEybfNPX2qgzI\nOjwbxo+otRu4npAuhdNpiaA+AnlS5Z7SJuZb2Ctnxd7cGNL2MDyITTgSPu7uQd84\nee6t4yWuAWkGy2Ji9HmrTdvdz/to7I9emkcWBbLF0k7RvV56jIk=\n=ACOs\n-----END PGP SIGNATURE-----", "payload": "tree 8b0b077cf411b959ad879561a44048a168d0361a\nparent 7e19d99d4f0631b141d4d49a49cd5c504726cf9c\nauthor Ddystopia <alexanderbabak@proton.me> 1682928996 +0200\ncommitter Ddystopia <alexanderbabak@proton.me> 1683041040 +0200\n\nWorkspace without sysroot could be possible\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2025f17ac394fc75528bb61422f15c5861a0fa8b", "html_url": "https://github.com/rust-lang/rust/commit/2025f17ac394fc75528bb61422f15c5861a0fa8b", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2025f17ac394fc75528bb61422f15c5861a0fa8b/comments", "author": {"login": "Ddystopia", "id": 63151578, "node_id": "MDQ6VXNlcjYzMTUxNTc4", "avatar_url": "https://avatars.githubusercontent.com/u/63151578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ddystopia", "html_url": "https://github.com/Ddystopia", "followers_url": "https://api.github.com/users/Ddystopia/followers", "following_url": "https://api.github.com/users/Ddystopia/following{/other_user}", "gists_url": "https://api.github.com/users/Ddystopia/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ddystopia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ddystopia/subscriptions", "organizations_url": "https://api.github.com/users/Ddystopia/orgs", "repos_url": "https://api.github.com/users/Ddystopia/repos", "events_url": "https://api.github.com/users/Ddystopia/events{/privacy}", "received_events_url": "https://api.github.com/users/Ddystopia/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Ddystopia", "id": 63151578, "node_id": "MDQ6VXNlcjYzMTUxNTc4", "avatar_url": "https://avatars.githubusercontent.com/u/63151578?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Ddystopia", "html_url": "https://github.com/Ddystopia", "followers_url": "https://api.github.com/users/Ddystopia/followers", "following_url": "https://api.github.com/users/Ddystopia/following{/other_user}", "gists_url": "https://api.github.com/users/Ddystopia/gists{/gist_id}", "starred_url": "https://api.github.com/users/Ddystopia/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Ddystopia/subscriptions", "organizations_url": "https://api.github.com/users/Ddystopia/orgs", "repos_url": "https://api.github.com/users/Ddystopia/repos", "events_url": "https://api.github.com/users/Ddystopia/events{/privacy}", "received_events_url": "https://api.github.com/users/Ddystopia/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7e19d99d4f0631b141d4d49a49cd5c504726cf9c", "url": "https://api.github.com/repos/rust-lang/rust/commits/7e19d99d4f0631b141d4d49a49cd5c504726cf9c", "html_url": "https://github.com/rust-lang/rust/commit/7e19d99d4f0631b141d4d49a49cd5c504726cf9c"}], "stats": {"total": 20, "additions": 9, "deletions": 11}, "files": [{"sha": "597b28d36d7f7eb5eb8b3f0e6be261f2c200fc2e", "filename": "crates/ide/src/doc_links.rs", "status": "modified", "additions": 8, "deletions": 10, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/2025f17ac394fc75528bb61422f15c5861a0fa8b/crates%2Fide%2Fsrc%2Fdoc_links.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2025f17ac394fc75528bb61422f15c5861a0fa8b/crates%2Fide%2Fsrc%2Fdoc_links.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fdoc_links.rs?ref=2025f17ac394fc75528bb61422f15c5861a0fa8b", "patch": "@@ -148,17 +148,15 @@ pub(crate) fn external_docs(\n     let node = token.parent()?;\n     let definition = match_ast! {\n         match node {\n-            ast::NameRef(name_ref) => match NameRefClass::classify(sema, &name_ref) {\n-                Some(NameRefClass::Definition(def)) => def,\n-                Some(NameRefClass::FieldShorthand { local_ref: _, field_ref }) => {\n+            ast::NameRef(name_ref) => match NameRefClass::classify(sema, &name_ref)? {\n+                NameRefClass::Definition(def) => def,\n+                NameRefClass::FieldShorthand { local_ref: _, field_ref } => {\n                     Definition::Field(field_ref)\n                 }\n-                None => return None,\n             },\n-            ast::Name(name) => match NameClass::classify(sema, &name) {\n-                Some(NameClass::Definition(it) | NameClass::ConstReference(it)) => it,\n-                Some(NameClass::PatFieldShorthand { local_def: _, field_ref }) => Definition::Field(field_ref),\n-                None => return None,\n+            ast::Name(name) => match NameClass::classify(sema, &name)? {\n+                NameClass::Definition(it) | NameClass::ConstReference(it) => it,\n+                NameClass::PatFieldShorthand { local_def: _, field_ref } => Definition::Field(field_ref),\n             },\n             _ => return None\n         }\n@@ -347,10 +345,10 @@ fn get_doc_links(\n     web_url.as_mut().map(|url| url.set_fragment(frag.as_deref()));\n     local_url.as_mut().map(|url| url.set_fragment(frag.as_deref()));\n \n-    return DocumentationLinks {\n+    DocumentationLinks {\n         web_url: web_url.map(|it| it.into()),\n         local_url: local_url.map(|it| it.into()),\n-    };\n+    }\n }\n \n fn rewrite_intra_doc_link("}, {"sha": "3a208865a7868e47ffe6dfc55853cd61eb9c81b0", "filename": "crates/rust-analyzer/src/handlers/request.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2025f17ac394fc75528bb61422f15c5861a0fa8b/crates%2Frust-analyzer%2Fsrc%2Fhandlers%2Frequest.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2025f17ac394fc75528bb61422f15c5861a0fa8b/crates%2Frust-analyzer%2Fsrc%2Fhandlers%2Frequest.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fhandlers%2Frequest.rs?ref=2025f17ac394fc75528bb61422f15c5861a0fa8b", "patch": "@@ -1546,7 +1546,7 @@ pub(crate) fn handle_open_docs(\n     });\n \n     let (cargo, sysroot) = match ws_and_sysroot {\n-        Some((ws, Some(sysroot))) => (Some(ws), Some(sysroot)),\n+        Some((ws, sysroot)) => (Some(ws), sysroot),\n         _ => (None, None),\n     };\n "}]}