{"sha": "ab369274d69e87eaa18654f7f209c21fee377fef", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFiMzY5Mjc0ZDY5ZTg3ZWFhMTg2NTRmN2YyMDljMjFmZWUzNzdmZWY=", "commit": {"author": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2021-08-30T13:41:26Z"}, "committer": {"name": "Mara Bos", "email": "m-ou.se@m-ou.se", "date": "2021-08-30T18:41:01Z"}, "message": "Update test output for stable Rust 2021.", "tree": {"sha": "0c6abb0744f1ce72b493745ebe467928d5c89412", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0c6abb0744f1ce72b493745ebe467928d5c89412"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ab369274d69e87eaa18654f7f209c21fee377fef", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ab369274d69e87eaa18654f7f209c21fee377fef", "html_url": "https://github.com/rust-lang/rust/commit/ab369274d69e87eaa18654f7f209c21fee377fef", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ab369274d69e87eaa18654f7f209c21fee377fef/comments", "author": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "committer": {"login": "m-ou-se", "id": 783247, "node_id": "MDQ6VXNlcjc4MzI0Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/783247?v=4", "gravatar_id": "", "url": "https://api.github.com/users/m-ou-se", "html_url": "https://github.com/m-ou-se", "followers_url": "https://api.github.com/users/m-ou-se/followers", "following_url": "https://api.github.com/users/m-ou-se/following{/other_user}", "gists_url": "https://api.github.com/users/m-ou-se/gists{/gist_id}", "starred_url": "https://api.github.com/users/m-ou-se/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/m-ou-se/subscriptions", "organizations_url": "https://api.github.com/users/m-ou-se/orgs", "repos_url": "https://api.github.com/users/m-ou-se/repos", "events_url": "https://api.github.com/users/m-ou-se/events{/privacy}", "received_events_url": "https://api.github.com/users/m-ou-se/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6adbbb6be744a4af51b981826a11ada75b9666a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/6adbbb6be744a4af51b981826a11ada75b9666a7", "html_url": "https://github.com/rust-lang/rust/commit/6adbbb6be744a4af51b981826a11ada75b9666a7"}], "stats": {"total": 48, "additions": 24, "deletions": 24}, "files": [{"sha": "8fb570d67562ab65bac889ef0cd538b902d90674", "filename": "src/test/ui/async-await/edition-deny-async-fns-2015.stderr", "status": "modified", "additions": 9, "deletions": 9, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Fasync-await%2Fedition-deny-async-fns-2015.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Fasync-await%2Fedition-deny-async-fns-2015.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fedition-deny-async-fns-2015.stderr?ref=ab369274d69e87eaa18654f7f209c21fee377fef", "patch": "@@ -4,7 +4,7 @@ error[E0670]: `async fn` is not permitted in Rust 2015\n LL | async fn foo() {}\n    | ^^^^^ to use `async fn`, switch to Rust 2018 or later\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0670]: `async fn` is not permitted in Rust 2015\n@@ -13,7 +13,7 @@ error[E0670]: `async fn` is not permitted in Rust 2015\n LL | fn baz() { async fn foo() {} }\n    |            ^^^^^ to use `async fn`, switch to Rust 2018 or later\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0670]: `async fn` is not permitted in Rust 2015\n@@ -22,7 +22,7 @@ error[E0670]: `async fn` is not permitted in Rust 2015\n LL | async fn async_baz() {\n    | ^^^^^ to use `async fn`, switch to Rust 2018 or later\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0670]: `async fn` is not permitted in Rust 2015\n@@ -31,7 +31,7 @@ error[E0670]: `async fn` is not permitted in Rust 2015\n LL |     async fn bar() {}\n    |     ^^^^^ to use `async fn`, switch to Rust 2018 or later\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0670]: `async fn` is not permitted in Rust 2015\n@@ -40,7 +40,7 @@ error[E0670]: `async fn` is not permitted in Rust 2015\n LL |     async fn foo() {}\n    |     ^^^^^ to use `async fn`, switch to Rust 2018 or later\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0670]: `async fn` is not permitted in Rust 2015\n@@ -49,7 +49,7 @@ error[E0670]: `async fn` is not permitted in Rust 2015\n LL |     async fn foo() {}\n    |     ^^^^^ to use `async fn`, switch to Rust 2018 or later\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0670]: `async fn` is not permitted in Rust 2015\n@@ -58,7 +58,7 @@ error[E0670]: `async fn` is not permitted in Rust 2015\n LL |         async fn bar() {}\n    |         ^^^^^ to use `async fn`, switch to Rust 2018 or later\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0670]: `async fn` is not permitted in Rust 2015\n@@ -67,7 +67,7 @@ error[E0670]: `async fn` is not permitted in Rust 2015\n LL |         async fn foo() {}\n    |         ^^^^^ to use `async fn`, switch to Rust 2018 or later\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0670]: `async fn` is not permitted in Rust 2015\n@@ -76,7 +76,7 @@ error[E0670]: `async fn` is not permitted in Rust 2015\n LL |             async fn bar() {}\n    |             ^^^^^ to use `async fn`, switch to Rust 2018 or later\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0706]: functions in traits cannot be declared `async`"}, {"sha": "f2e0fb19c631d366d6cfeee44abccb81ecc701a8", "filename": "src/test/ui/async-await/suggest-switching-edition-on-await.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Fasync-await%2Fsuggest-switching-edition-on-await.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Fasync-await%2Fsuggest-switching-edition-on-await.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fsuggest-switching-edition-on-await.rs?ref=ab369274d69e87eaa18654f7f209c21fee377fef", "patch": "@@ -10,7 +10,7 @@ fn await_on_struct_missing() {\n     //~^ ERROR no field `await` on type\n     //~| NOTE unknown field\n     //~| NOTE to `.await` a `Future`, switch to Rust 2018\n-    //~| HELP set `edition = \"2018\"` in `Cargo.toml`\n+    //~| HELP set `edition = \"2021\"` in `Cargo.toml`\n     //~| NOTE for more on editions, read https://doc.rust-lang.org/edition-guide\n }\n \n@@ -23,7 +23,7 @@ fn await_on_struct_similar() {\n     //~^ ERROR no field `await` on type\n     //~| HELP a field with a similar name exists\n     //~| NOTE to `.await` a `Future`, switch to Rust 2018\n-    //~| HELP set `edition = \"2018\"` in `Cargo.toml`\n+    //~| HELP set `edition = \"2021\"` in `Cargo.toml`\n     //~| NOTE for more on editions, read https://doc.rust-lang.org/edition-guide\n }\n \n@@ -32,14 +32,14 @@ fn await_on_63533(x: Pin<&mut dyn Future<Output = ()>>) {\n     //~^ ERROR no field `await` on type\n     //~| NOTE unknown field\n     //~| NOTE to `.await` a `Future`, switch to Rust 2018\n-    //~| HELP set `edition = \"2018\"` in `Cargo.toml`\n+    //~| HELP set `edition = \"2021\"` in `Cargo.toml`\n     //~| NOTE for more on editions, read https://doc.rust-lang.org/edition-guide\n }\n \n fn await_on_apit(x: impl Future<Output = ()>) {\n     x.await;\n     //~^ ERROR no field `await` on type\n     //~| NOTE to `.await` a `Future`, switch to Rust 2018\n-    //~| HELP set `edition = \"2018\"` in `Cargo.toml`\n+    //~| HELP set `edition = \"2021\"` in `Cargo.toml`\n     //~| NOTE for more on editions, read https://doc.rust-lang.org/edition-guide\n }"}, {"sha": "b38c897fc7447aa8ff1866596907ec87d7e48b54", "filename": "src/test/ui/async-await/suggest-switching-edition-on-await.stderr", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Fasync-await%2Fsuggest-switching-edition-on-await.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Fasync-await%2Fsuggest-switching-edition-on-await.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fasync-await%2Fsuggest-switching-edition-on-await.stderr?ref=ab369274d69e87eaa18654f7f209c21fee377fef", "patch": "@@ -5,7 +5,7 @@ LL |     x.await;\n    |       ^^^^^ unknown field\n    |\n    = note: to `.await` a `Future`, switch to Rust 2018 or later\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0609]: no field `await` on type `await_on_struct_similar::S`\n@@ -15,7 +15,7 @@ LL |     x.await;\n    |       ^^^^^ help: a field with a similar name exists: `awai`\n    |\n    = note: to `.await` a `Future`, switch to Rust 2018 or later\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0609]: no field `await` on type `Pin<&mut dyn Future<Output = ()>>`\n@@ -25,7 +25,7 @@ LL |     x.await;\n    |       ^^^^^ unknown field\n    |\n    = note: to `.await` a `Future`, switch to Rust 2018 or later\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0609]: no field `await` on type `impl Future<Output = ()>`\n@@ -35,7 +35,7 @@ LL |     x.await;\n    |       ^^^^^\n    |\n    = note: to `.await` a `Future`, switch to Rust 2018 or later\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error: aborting due to 4 previous errors"}, {"sha": "24112c9855acd1d967f95ce213a708839086f553", "filename": "src/test/ui/editions/async-block-2015.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.rs?ref=ab369274d69e87eaa18654f7f209c21fee377fef", "patch": "@@ -1,7 +1,7 @@\n async fn foo() {\n //~^ ERROR `async fn` is not permitted in Rust 2015\n //~| NOTE to use `async fn`, switch to Rust 2018 or later\n-//~| HELP set `edition = \"2018\"` in `Cargo.toml`\n+//~| HELP set `edition = \"2021\"` in `Cargo.toml`\n //~| NOTE for more on editions, read https://doc.rust-lang.org/edition-guide\n \n     let x = async {};\n@@ -11,15 +11,15 @@ async fn foo() {\n         let x = 42;\n         //~^ ERROR expected identifier, found keyword `let`\n         //~| NOTE expected identifier, found keyword\n-        //~| HELP set `edition = \"2018\"` in `Cargo.toml`\n+        //~| HELP set `edition = \"2021\"` in `Cargo.toml`\n         //~| NOTE for more on editions, read https://doc.rust-lang.org/edition-guide\n         42\n     };\n     let z = async { //~ NOTE `async` blocks are only allowed in Rust 2018 or later\n         42\n         //~^ ERROR expected identifier, found `42`\n         //~| NOTE expected identifier\n-        //~| HELP set `edition = \"2018\"` in `Cargo.toml`\n+        //~| HELP set `edition = \"2021\"` in `Cargo.toml`\n         //~| NOTE for more on editions, read https://doc.rust-lang.org/edition-guide\n     };\n     y.await;"}, {"sha": "da8412ddcb3333eafba7940ad8b8bca6526d80a2", "filename": "src/test/ui/editions/async-block-2015.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Feditions%2Fasync-block-2015.stderr?ref=ab369274d69e87eaa18654f7f209c21fee377fef", "patch": "@@ -4,7 +4,7 @@ error[E0670]: `async fn` is not permitted in Rust 2015\n LL | async fn foo() {\n    | ^^^^^ to use `async fn`, switch to Rust 2018 or later\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error: expected identifier, found keyword `let`\n@@ -15,7 +15,7 @@ LL |     let y = async {\n LL |         let x = 42;\n    |         ^^^ expected identifier, found keyword\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error: expected identifier, found `42`\n@@ -26,7 +26,7 @@ LL |     let z = async {\n LL |         42\n    |         ^^ expected identifier\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0422]: cannot find struct, variant or union type `async` in this scope"}, {"sha": "394b697a2504b13cf6e2a3efe0dc6c8765b26907", "filename": "src/test/ui/impl-trait/issues/issue-79099.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Fimpl-trait%2Fissues%2Fissue-79099.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/ab369274d69e87eaa18654f7f209c21fee377fef/src%2Ftest%2Fui%2Fimpl-trait%2Fissues%2Fissue-79099.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fimpl-trait%2Fissues%2Fissue-79099.stderr?ref=ab369274d69e87eaa18654f7f209c21fee377fef", "patch": "@@ -6,7 +6,7 @@ LL |         let f: impl core::future::Future<Output = u8> = async { 1 };\n    |                                                         |\n    |                                                         `async` blocks are only allowed in Rust 2018 or later\n    |\n-   = help: set `edition = \"2018\"` in `Cargo.toml`\n+   = help: set `edition = \"2021\"` in `Cargo.toml`\n    = note: for more on editions, read https://doc.rust-lang.org/edition-guide\n \n error[E0562]: `impl Trait` not allowed outside of function and method return types"}]}