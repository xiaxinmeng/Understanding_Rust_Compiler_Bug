{"sha": "3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNmNjEyZDM3YzY4YTZlNGMwOWU0MDdiN2NkMmFkOGExZDE3YWI0ZTY=", "commit": {"author": {"name": "Kirill Bulatov", "email": "mail4score@gmail.com", "date": "2020-11-28T14:30:39Z"}, "committer": {"name": "Kirill Bulatov", "email": "mail4score@gmail.com", "date": "2020-11-28T14:30:39Z"}, "message": "Move the helpers into ide_db", "tree": {"sha": "e51b5ce814d08c79bd667719992c8b7254e4eb68", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e51b5ce814d08c79bd667719992c8b7254e4eb68"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "html_url": "https://github.com/rust-lang/rust/commit/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/comments", "author": {"login": "SomeoneToIgnore", "id": 2690773, "node_id": "MDQ6VXNlcjI2OTA3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2690773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomeoneToIgnore", "html_url": "https://github.com/SomeoneToIgnore", "followers_url": "https://api.github.com/users/SomeoneToIgnore/followers", "following_url": "https://api.github.com/users/SomeoneToIgnore/following{/other_user}", "gists_url": "https://api.github.com/users/SomeoneToIgnore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomeoneToIgnore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomeoneToIgnore/subscriptions", "organizations_url": "https://api.github.com/users/SomeoneToIgnore/orgs", "repos_url": "https://api.github.com/users/SomeoneToIgnore/repos", "events_url": "https://api.github.com/users/SomeoneToIgnore/events{/privacy}", "received_events_url": "https://api.github.com/users/SomeoneToIgnore/received_events", "type": "User", "site_admin": false}, "committer": {"login": "SomeoneToIgnore", "id": 2690773, "node_id": "MDQ6VXNlcjI2OTA3NzM=", "avatar_url": "https://avatars.githubusercontent.com/u/2690773?v=4", "gravatar_id": "", "url": "https://api.github.com/users/SomeoneToIgnore", "html_url": "https://github.com/SomeoneToIgnore", "followers_url": "https://api.github.com/users/SomeoneToIgnore/followers", "following_url": "https://api.github.com/users/SomeoneToIgnore/following{/other_user}", "gists_url": "https://api.github.com/users/SomeoneToIgnore/gists{/gist_id}", "starred_url": "https://api.github.com/users/SomeoneToIgnore/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/SomeoneToIgnore/subscriptions", "organizations_url": "https://api.github.com/users/SomeoneToIgnore/orgs", "repos_url": "https://api.github.com/users/SomeoneToIgnore/repos", "events_url": "https://api.github.com/users/SomeoneToIgnore/events{/privacy}", "received_events_url": "https://api.github.com/users/SomeoneToIgnore/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7b145bd99c855b2f4a15835a2298dde504b04d8f", "url": "https://api.github.com/repos/rust-lang/rust/commits/7b145bd99c855b2f4a15835a2298dde504b04d8f", "html_url": "https://github.com/rust-lang/rust/commit/7b145bd99c855b2f4a15835a2298dde504b04d8f"}], "stats": {"total": 99, "additions": 29, "deletions": 70}, "files": [{"sha": "f50e9edd66ac7bdebdf381f36526980feff3e4c3", "filename": "Cargo.lock", "status": "modified", "additions": 1, "deletions": 17, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -53,7 +53,6 @@ dependencies = [\n  \"either\",\n  \"hir\",\n  \"ide_db\",\n- \"ide_helpers\",\n  \"itertools\",\n  \"profile\",\n  \"rustc-hash\",\n@@ -259,7 +258,6 @@ dependencies = [\n  \"expect-test\",\n  \"hir\",\n  \"ide_db\",\n- \"ide_helpers\",\n  \"itertools\",\n  \"log\",\n  \"profile\",\n@@ -658,7 +656,6 @@ dependencies = [\n  \"expect-test\",\n  \"hir\",\n  \"ide_db\",\n- \"ide_helpers\",\n  \"indexmap\",\n  \"itertools\",\n  \"log\",\n@@ -684,6 +681,7 @@ dependencies = [\n  \"expect-test\",\n  \"fst\",\n  \"hir\",\n+ \"itertools\",\n  \"log\",\n  \"once_cell\",\n  \"profile\",\n@@ -695,19 +693,6 @@ dependencies = [\n  \"text_edit\",\n ]\n \n-[[package]]\n-name = \"ide_helpers\"\n-version = \"0.0.0\"\n-dependencies = [\n- \"either\",\n- \"hir\",\n- \"ide_db\",\n- \"itertools\",\n- \"profile\",\n- \"syntax\",\n- \"test_utils\",\n-]\n-\n [[package]]\n name = \"idna\"\n version = \"0.2.0\"\n@@ -1376,7 +1361,6 @@ dependencies = [\n  \"hir_ty\",\n  \"ide\",\n  \"ide_db\",\n- \"ide_helpers\",\n  \"itertools\",\n  \"jod-thread\",\n  \"log\","}, {"sha": "3fd8327d6a327cc2ae9ab391e947658de1b69bd0", "filename": "crates/assists/Cargo.toml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fassists%2FCargo.toml?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -21,4 +21,3 @@ profile = { path = \"../profile\", version = \"0.0.0\" }\n ide_db = { path = \"../ide_db\", version = \"0.0.0\" }\n hir = { path = \"../hir\", version = \"0.0.0\" }\n test_utils = { path = \"../test_utils\", version = \"0.0.0\" }\n-ide_helpers = { path = \"../ide_helpers\", version = \"0.0.0\" }"}, {"sha": "786224cfa1ca557d27ec30d7f76cd344a1d23ff3", "filename": "crates/assists/src/assist_config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fassist_config.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fassist_config.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fassists%2Fsrc%2Fassist_config.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -5,7 +5,7 @@\n //! assists if we are allowed to.\n \n use hir::PrefixKind;\n-use ide_helpers::insert_use::MergeBehaviour;\n+use ide_db::helpers::insert_use::MergeBehaviour;\n \n use crate::AssistKind;\n "}, {"sha": "66e4634b1d303a392d200f30ef5873e4ffc62b87", "filename": "crates/assists/src/ast_transform.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fast_transform.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fast_transform.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fassists%2Fsrc%2Fast_transform.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,6 +1,6 @@\n //! `AstTransformer`s are functions that replace nodes in an AST and can be easily combined.\n use hir::{HirDisplay, PathResolution, SemanticsScope};\n-use ide_helpers::mod_path_to_ast;\n+use ide_db::helpers::mod_path_to_ast;\n use rustc_hash::FxHashMap;\n use syntax::{\n     algo::SyntaxRewriter,"}, {"sha": "bd5bba64601ec3549edd34da41362f402cbbb040", "filename": "crates/assists/src/handlers/auto_import.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Fauto_import.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Fauto_import.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fassists%2Fsrc%2Fhandlers%2Fauto_import.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,4 +1,4 @@\n-use ide_helpers::{\n+use ide_db::helpers::{\n     insert_use::{insert_use, ImportScope},\n     mod_path_to_ast,\n };"}, {"sha": "d85767b4ecdc4d1ea5e278a926ca2eb168d1cee8", "filename": "crates/assists/src/handlers/extract_struct_from_enum_variant.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Fextract_struct_from_enum_variant.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Fextract_struct_from_enum_variant.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fassists%2Fsrc%2Fhandlers%2Fextract_struct_from_enum_variant.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -2,11 +2,11 @@ use std::iter;\n \n use either::Either;\n use hir::{AsName, EnumVariant, Module, ModuleDef, Name};\n-use ide_db::{defs::Definition, search::Reference, RootDatabase};\n-use ide_helpers::{\n+use ide_db::helpers::{\n     insert_use::{insert_use, ImportScope},\n     mod_path_to_ast,\n };\n+use ide_db::{defs::Definition, search::Reference, RootDatabase};\n use rustc_hash::{FxHashMap, FxHashSet};\n use syntax::{\n     algo::{find_node_at_offset, SyntaxRewriter},\n@@ -237,7 +237,7 @@ fn update_reference(\n \n #[cfg(test)]\n mod tests {\n-    use ide_helpers::FamousDefs;\n+    use ide_db::helpers::FamousDefs;\n \n     use crate::tests::{check_assist, check_assist_not_applicable};\n "}, {"sha": "ef12ef0cf1adc44d1322219457fc89146e5aa010", "filename": "crates/assists/src/handlers/fill_match_arms.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Ffill_match_arms.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Ffill_match_arms.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fassists%2Fsrc%2Fhandlers%2Ffill_match_arms.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,8 +1,8 @@\n use std::iter;\n \n use hir::{Adt, HasSource, ModuleDef, Semantics};\n+use ide_db::helpers::{mod_path_to_ast, FamousDefs};\n use ide_db::RootDatabase;\n-use ide_helpers::{mod_path_to_ast, FamousDefs};\n use itertools::Itertools;\n use syntax::ast::{self, make, AstNode, MatchArm, NameOwner, Pat};\n use test_utils::mark;\n@@ -213,7 +213,7 @@ fn build_pat(db: &RootDatabase, module: hir::Module, var: hir::EnumVariant) -> O\n \n #[cfg(test)]\n mod tests {\n-    use ide_helpers::FamousDefs;\n+    use ide_db::helpers::FamousDefs;\n     use test_utils::mark;\n \n     use crate::tests::{check_assist, check_assist_not_applicable, check_assist_target};"}, {"sha": "3c374e5d95bc539b21e97bf3179cf6f7d74cdea7", "filename": "crates/assists/src/handlers/generate_from_impl_for_enum.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Fgenerate_from_impl_for_enum.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Fgenerate_from_impl_for_enum.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fassists%2Fsrc%2Fhandlers%2Fgenerate_from_impl_for_enum.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,5 +1,5 @@\n+use ide_db::helpers::FamousDefs;\n use ide_db::RootDatabase;\n-use ide_helpers::FamousDefs;\n use syntax::ast::{self, AstNode, NameOwner};\n use test_utils::mark;\n "}, {"sha": "b7e853994b3f4d4a718cb65a4a5fad6e33ae39eb", "filename": "crates/assists/src/handlers/merge_imports.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Fmerge_imports.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Fmerge_imports.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fassists%2Fsrc%2Fhandlers%2Fmerge_imports.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,4 +1,4 @@\n-use ide_helpers::insert_use::{try_merge_imports, try_merge_trees, MergeBehaviour};\n+use ide_db::helpers::insert_use::{try_merge_imports, try_merge_trees, MergeBehaviour};\n use syntax::{\n     algo::{neighbor, SyntaxRewriter},\n     ast, AstNode,"}, {"sha": "6f9810fe88dc55881211377e3a46e0f08e054694", "filename": "crates/assists/src/handlers/qualify_path.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Fqualify_path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Fqualify_path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fassists%2Fsrc%2Fhandlers%2Fqualify_path.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,8 +1,8 @@\n use std::iter;\n \n use hir::AsName;\n+use ide_db::helpers::mod_path_to_ast;\n use ide_db::RootDatabase;\n-use ide_helpers::mod_path_to_ast;\n use syntax::{\n     ast,\n     ast::{make, ArgListOwner},"}, {"sha": "4d6a1956bb192a5891d7d0a16f7fcc52242ba863", "filename": "crates/assists/src/handlers/replace_derive_with_manual_impl.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Freplace_derive_with_manual_impl.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Freplace_derive_with_manual_impl.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fassists%2Fsrc%2Fhandlers%2Freplace_derive_with_manual_impl.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,5 +1,5 @@\n+use ide_db::helpers::mod_path_to_ast;\n use ide_db::imports_locator;\n-use ide_helpers::mod_path_to_ast;\n use itertools::Itertools;\n use syntax::{\n     ast::{self, make, AstNode},"}, {"sha": "8bdf9eea5e47fe1796c881642091fdec775c5b2d", "filename": "crates/assists/src/handlers/replace_qualified_name_with_use.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Freplace_qualified_name_with_use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fassists%2Fsrc%2Fhandlers%2Freplace_qualified_name_with_use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fassists%2Fsrc%2Fhandlers%2Freplace_qualified_name_with_use.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,4 +1,4 @@\n-use ide_helpers::insert_use::{insert_use, ImportScope};\n+use ide_db::helpers::insert_use::{insert_use, ImportScope};\n use syntax::{algo::SyntaxRewriter, ast, match_ast, AstNode, SyntaxNode};\n use test_utils::mark;\n "}, {"sha": "35e169a28c11707875c269f5a3cc42253e709b67", "filename": "crates/completion/Cargo.toml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2FCargo.toml?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -22,7 +22,6 @@ base_db = { path = \"../base_db\", version = \"0.0.0\" }\n ide_db = { path = \"../ide_db\", version = \"0.0.0\" }\n profile = { path = \"../profile\", version = \"0.0.0\" }\n test_utils = { path = \"../test_utils\", version = \"0.0.0\" }\n-ide_helpers = { path = \"../ide_helpers\", version = \"0.0.0\" }\n \n # completions crate should depend only on the top-level `hir` package. if you need\n # something from some `hir_xxx` subpackage, reexport the API via `hir`."}, {"sha": "eaa44c97d1f1e1eafea158fd716d2500f5ef8935", "filename": "crates/completion/src/completions/record.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2Fsrc%2Fcompletions%2Frecord.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2Fsrc%2Fcompletions%2Frecord.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Fcompletions%2Frecord.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,5 +1,5 @@\n //! Complete fields in record literals and patterns.\n-use ide_helpers::FamousDefs;\n+use ide_db::helpers::FamousDefs;\n use syntax::ast::Expr;\n \n use crate::{\n@@ -46,7 +46,7 @@ pub(crate) fn complete_record(acc: &mut Completions, ctx: &CompletionContext) ->\n #[cfg(test)]\n mod tests {\n     use expect_test::{expect, Expect};\n-    use ide_helpers::FamousDefs;\n+    use ide_db::helpers::FamousDefs;\n \n     use crate::{test_utils::completion_list, CompletionKind};\n "}, {"sha": "81691cd7f23bc2d6b2911e26d85478b5302add17", "filename": "crates/completion/src/completions/unqualified_path.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2Fsrc%2Fcompletions%2Funqualified_path.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2Fsrc%2Fcompletions%2Funqualified_path.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Fcompletions%2Funqualified_path.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -2,8 +2,8 @@\n \n use either::Either;\n use hir::{Adt, ModuleDef, ScopeDef, Type};\n+use ide_db::helpers::insert_use::ImportScope;\n use ide_db::imports_locator;\n-use ide_helpers::insert_use::ImportScope;\n use syntax::AstNode;\n use test_utils::mark;\n "}, {"sha": "654a76f7b33e2077247a90e431e250674d1e6225", "filename": "crates/completion/src/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Fconfig.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -4,7 +4,7 @@\n //! module, and we use to statically check that we only produce snippet\n //! completions if we are allowed to.\n \n-use ide_helpers::insert_use::MergeBehaviour;\n+use ide_db::helpers::insert_use::MergeBehaviour;\n \n #[derive(Clone, Debug, PartialEq, Eq)]\n pub struct CompletionConfig {"}, {"sha": "e85549fef4d45370defc2ea58546fb69e55e5a5e", "filename": "crates/completion/src/item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2Fsrc%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2Fsrc%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Fitem.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -3,7 +3,7 @@\n use std::fmt;\n \n use hir::{Documentation, ModPath, Mutability};\n-use ide_helpers::{\n+use ide_db::helpers::{\n     insert_use::{self, ImportScope, MergeBehaviour},\n     mod_path_to_ast,\n };"}, {"sha": "504757a6ae2ff271ee9cb31279a806ac7e8c1de8", "filename": "crates/completion/src/render.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2Fsrc%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fcompletion%2Fsrc%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fcompletion%2Fsrc%2Frender.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -10,8 +10,8 @@ pub(crate) mod type_alias;\n mod builder_ext;\n \n use hir::{Documentation, HasAttrs, HirDisplay, ModPath, Mutability, ScopeDef, Type};\n+use ide_db::helpers::insert_use::{ImportScope, MergeBehaviour};\n use ide_db::RootDatabase;\n-use ide_helpers::insert_use::{ImportScope, MergeBehaviour};\n use syntax::TextRange;\n use test_utils::mark;\n "}, {"sha": "4d483580df378829f11059dc686956d334cd1da7", "filename": "crates/ide/Cargo.toml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2FCargo.toml?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -24,7 +24,6 @@ stdx = { path = \"../stdx\", version = \"0.0.0\" }\n syntax = { path = \"../syntax\", version = \"0.0.0\" }\n text_edit = { path = \"../text_edit\", version = \"0.0.0\" }\n ide_db = { path = \"../ide_db\", version = \"0.0.0\" }\n-ide_helpers = { path = \"../ide_helpers\", version = \"0.0.0\" }\n cfg = { path = \"../cfg\", version = \"0.0.0\" }\n profile = { path = \"../profile\", version = \"0.0.0\" }\n test_utils = { path = \"../test_utils\", version = \"0.0.0\" }"}, {"sha": "65df7979cfa25e03d395708239ba03e1b0ec4561", "filename": "crates/ide/src/inlay_hints.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide%2Fsrc%2Finlay_hints.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide%2Fsrc%2Finlay_hints.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Finlay_hints.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,7 +1,7 @@\n use either::Either;\n use hir::{known, Callable, HirDisplay, Semantics};\n+use ide_db::helpers::FamousDefs;\n use ide_db::RootDatabase;\n-use ide_helpers::FamousDefs;\n use stdx::to_lower_snake_case;\n use syntax::{\n     ast::{self, ArgListOwner, AstNode, NameOwner},\n@@ -428,7 +428,7 @@ fn get_callable(sema: &Semantics<RootDatabase>, expr: &ast::Expr) -> Option<hir:\n #[cfg(test)]\n mod tests {\n     use expect_test::{expect, Expect};\n-    use ide_helpers::FamousDefs;\n+    use ide_db::helpers::FamousDefs;\n     use test_utils::extract_annotations;\n \n     use crate::{fixture, inlay_hints::InlayHintsConfig};"}, {"sha": "0ad6e100097882f4a5b511f9eeeaf3d183786fc2", "filename": "crates/ide_db/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide_db%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide_db%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_db%2FCargo.toml?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -18,7 +18,8 @@ rayon = \"1.5.0\"\n fst = { version = \"0.4\", default-features = false }\n rustc-hash = \"1.1.0\"\n once_cell = \"1.3.1\"\n-either = \"1.5.3\"\n+either = \"1.6.1\"\n+itertools = \"0.9.0\"\n \n stdx = { path = \"../stdx\", version = \"0.0.0\" }\n syntax = { path = \"../syntax\", version = \"0.0.0\" }"}, {"sha": "d988588ff3eb9d979631e5a5682371d61266dafe", "filename": "crates/ide_db/src/helpers.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide_db%2Fsrc%2Fhelpers.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide_db%2Fsrc%2Fhelpers.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_db%2Fsrc%2Fhelpers.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,6 +1,6 @@\n //! A module with ide helpers for high-level ide features.\n+use crate::RootDatabase;\n use hir::{Crate, Enum, Module, ScopeDef, Semantics, Trait};\n-use ide_db::RootDatabase;\n use syntax::ast::{self, make};\n \n pub mod insert_use;", "previous_filename": "crates/ide_helpers/src/lib.rs"}, {"sha": "67e800fad88f645855757307fc182e0809142968", "filename": "crates/ide_db/src/helpers/insert_use.rs", "status": "renamed", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide_db%2Fsrc%2Fhelpers%2Finsert_use.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide_db%2Fsrc%2Fhelpers%2Finsert_use.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_db%2Fsrc%2Fhelpers%2Finsert_use.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -1,8 +1,8 @@\n //! Handle syntactic aspects of inserting a new `use`.\n use std::{cmp::Ordering, iter::successors};\n \n+use crate::RootDatabase;\n use hir::Semantics;\n-use ide_db::RootDatabase;\n use itertools::{EitherOrBoth, Itertools};\n use syntax::{\n     algo::SyntaxRewriter,", "previous_filename": "crates/ide_helpers/src/insert_use.rs"}, {"sha": "fceaa089ade52f0f18818cc8e5436bcf00dffcd4", "filename": "crates/ide_db/src/lib.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide_db%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Fide_db%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_db%2Fsrc%2Flib.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -13,6 +13,7 @@ pub mod source_change;\n pub mod ty_filter;\n pub mod traits;\n pub mod call_info;\n+pub mod helpers;\n \n use std::{fmt, sync::Arc};\n "}, {"sha": "c5065b22b7809b9b36ba99456fd8363783b98b34", "filename": "crates/ide_helpers/Cargo.toml", "status": "removed", "additions": 0, "deletions": 23, "changes": 23, "blob_url": "https://github.com/rust-lang/rust/blob/7b145bd99c855b2f4a15835a2298dde504b04d8f/crates%2Fide_helpers%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/7b145bd99c855b2f4a15835a2298dde504b04d8f/crates%2Fide_helpers%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide_helpers%2FCargo.toml?ref=7b145bd99c855b2f4a15835a2298dde504b04d8f", "patch": "@@ -1,23 +0,0 @@\n-[package]\n-name = \"ide_helpers\"\n-version = \"0.0.0\"\n-description = \"A set of helper methods shared between various ide-level modules\"\n-license = \"MIT OR Apache-2.0\"\n-authors = [\"rust-analyzer developers\"]\n-edition = \"2018\"\n-\n-[lib]\n-doctest = false\n-\n-[features]\n-wasm = []\n-\n-[dependencies]\n-either = \"1.6.1\"\n-itertools = \"0.9.0\"\n-\n-syntax = { path = \"../syntax\", version = \"0.0.0\" }\n-ide_db = { path = \"../ide_db\", version = \"0.0.0\" }\n-hir = { path = \"../hir\", version = \"0.0.0\" }\n-profile = { path = \"../profile\", version = \"0.0.0\" }\n-test_utils = { path = \"../test_utils\", version = \"0.0.0\" }"}, {"sha": "08559b53adbd0bdf3e368a0726caac13f96ddb0d", "filename": "crates/rust-analyzer/Cargo.toml", "status": "modified", "additions": 1, "deletions": 2, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Frust-analyzer%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Frust-analyzer%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2FCargo.toml?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -39,7 +39,7 @@ tracing-tree = { version = \"0.1.4\" }\n stdx = { path = \"../stdx\", version = \"0.0.0\" }\n flycheck = { path = \"../flycheck\", version = \"0.0.0\" }\n ide = { path = \"../ide\", version = \"0.0.0\" }\n-ide_helpers = { path = \"../ide_helpers\", version = \"0.0.0\" }\n+ide_db = { path = \"../ide_db\", version = \"0.0.0\" }\n profile = { path = \"../profile\", version = \"0.0.0\" }\n project_model = { path = \"../project_model\", version = \"0.0.0\" }\n syntax = { path = \"../syntax\", version = \"0.0.0\" }\n@@ -50,7 +50,6 @@ cfg = { path = \"../cfg\", version = \"0.0.0\" }\n toolchain = { path = \"../toolchain\", version = \"0.0.0\" }\n \n # This should only be used in CLI\n-ide_db = { path = \"../ide_db\", version = \"0.0.0\" }\n ssr = { path = \"../ssr\", version = \"0.0.0\" }\n hir = { path = \"../hir\", version = \"0.0.0\" }\n hir_def = { path = \"../hir_def\", version = \"0.0.0\" }"}, {"sha": "30299a4659e89e45cee1cfc3439f2883ad356928", "filename": "crates/rust-analyzer/src/config.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fconfig.rs?ref=3f612d37c68a6e4c09e407b7cd2ad8a1d17ab4e6", "patch": "@@ -12,7 +12,7 @@ use std::{convert::TryFrom, ffi::OsString, path::PathBuf};\n use flycheck::FlycheckConfig;\n use hir::PrefixKind;\n use ide::{AssistConfig, CompletionConfig, DiagnosticsConfig, HoverConfig, InlayHintsConfig};\n-use ide_helpers::insert_use::MergeBehaviour;\n+use ide_db::helpers::insert_use::MergeBehaviour;\n use lsp_types::{ClientCapabilities, MarkupKind};\n use project_model::{CargoConfig, ProjectJson, ProjectJsonData, ProjectManifest};\n use rustc_hash::FxHashSet;"}]}