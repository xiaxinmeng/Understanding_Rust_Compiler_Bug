{"sha": "fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZhYjY4MTRmZjMwMzMxMDhhMmY0YTFiMTZiZjUxYWQ4ZmZkMGUzNmY=", "commit": {"author": {"name": "Jacob Hoffman-Andrews", "email": "github@hoffman-andrews.com", "date": "2021-06-02T04:43:09Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-06-02T18:30:17Z"}, "message": "Remove data-level selectors from CSS.", "tree": {"sha": "75fcc969ea497306f26fc011eaa169f22eeaa16a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/75fcc969ea497306f26fc011eaa169f22eeaa16a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f", "html_url": "https://github.com/rust-lang/rust/commit/fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f/comments", "author": {"login": "jsha", "id": 220205, "node_id": "MDQ6VXNlcjIyMDIwNQ==", "avatar_url": "https://avatars.githubusercontent.com/u/220205?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jsha", "html_url": "https://github.com/jsha", "followers_url": "https://api.github.com/users/jsha/followers", "following_url": "https://api.github.com/users/jsha/following{/other_user}", "gists_url": "https://api.github.com/users/jsha/gists{/gist_id}", "starred_url": "https://api.github.com/users/jsha/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jsha/subscriptions", "organizations_url": "https://api.github.com/users/jsha/orgs", "repos_url": "https://api.github.com/users/jsha/repos", "events_url": "https://api.github.com/users/jsha/events{/privacy}", "received_events_url": "https://api.github.com/users/jsha/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "98a9b02e928854dfdddb94627fc463ad93b61279", "url": "https://api.github.com/repos/rust-lang/rust/commits/98a9b02e928854dfdddb94627fc463ad93b61279", "html_url": "https://github.com/rust-lang/rust/commit/98a9b02e928854dfdddb94627fc463ad93b61279"}], "stats": {"total": 102, "additions": 20, "deletions": 82}, "files": [{"sha": "21d588e42f8747a95f8df698f91cf6f909009703", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 6, "deletions": 10, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f", "patch": "@@ -1371,7 +1371,7 @@ fn render_impl(\n                         .map(|item| format!(\"{}.{}\", item.type_(), name));\n                     write!(\n                         w,\n-                        \"<div id=\\\"{}\\\" class=\\\"{}{}\\\" data-level=\\\"2\\\">\",\n+                        \"<div id=\\\"{}\\\" class=\\\"{}{} has-srclink\\\">\",\n                         id, item_type, in_trait_class,\n                     );\n                     w.write_str(\"<code>\");\n@@ -1400,7 +1400,7 @@ fn render_impl(\n                 let id = cx.derive_id(source_id.clone());\n                 write!(\n                     w,\n-                    \"<div id=\\\"{}\\\" class=\\\"{}{}\\\" data-level=\\\"2\\\"><code>\",\n+                    \"<div id=\\\"{}\\\" class=\\\"{}{} has-srclink\\\"><code>\",\n                     id, item_type, in_trait_class\n                 );\n                 assoc_type(\n@@ -1421,7 +1421,7 @@ fn render_impl(\n                 let id = cx.derive_id(source_id.clone());\n                 write!(\n                     w,\n-                    \"<div id=\\\"{}\\\" class=\\\"{}{}\\\" data-level=\\\"2\\\"><code>\",\n+                    \"<div id=\\\"{}\\\" class=\\\"{}{} has-srclink\\\"><code>\",\n                     id, item_type, in_trait_class\n                 );\n                 assoc_const(\n@@ -1448,11 +1448,7 @@ fn render_impl(\n             clean::AssocTypeItem(ref bounds, ref default) => {\n                 let source_id = format!(\"{}.{}\", item_type, name);\n                 let id = cx.derive_id(source_id.clone());\n-                write!(\n-                    w,\n-                    \"<div id=\\\"{}\\\" class=\\\"{}{}\\\" data-level=\\\"2\\\"><code>\",\n-                    id, item_type, in_trait_class,\n-                );\n+                write!(w, \"<div id=\\\"{}\\\" class=\\\"{}{}\\\"><code>\", id, item_type, in_trait_class,);\n                 assoc_type(\n                     w,\n                     item,\n@@ -1593,7 +1589,7 @@ fn render_impl(\n         if let Some(use_absolute) = use_absolute {\n             write!(\n                 w,\n-                \"{}<div id=\\\"{}\\\" class=\\\"impl\\\"{} data-level=\\\"1\\\">\\\n+                \"{}<div id=\\\"{}\\\" class=\\\"impl has-srclink\\\"{}>\\\n                      <code class=\\\"in-band\\\">\",\n                 open_details(&mut close_tags, is_implementing_trait),\n                 id,\n@@ -1621,7 +1617,7 @@ fn render_impl(\n         } else {\n             write!(\n                 w,\n-                \"{}<div id=\\\"{}\\\" class=\\\"impl\\\"{} data-level=\\\"1\\\">\\\n+                \"{}<div id=\\\"{}\\\" class=\\\"impl has-srclink\\\"{}>\\\n                      <code class=\\\"in-band\\\">{}</code>\",\n                 open_details(&mut close_tags, is_implementing_trait),\n                 id,"}, {"sha": "61b6833c2b2197e9944398e2ebfdbaff3fa45de2", "filename": "src/librustdoc/html/render/print_item.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fprint_item.rs?ref=fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f", "patch": "@@ -585,7 +585,7 @@ fn item_trait(w: &mut Buffer, cx: &Context<'_>, it: &clean::Item, t: &clean::Tra\n         if toggled {\n             write!(w, \"<details class=\\\"rustdoc-toggle\\\" open><summary>\");\n         }\n-        write!(w, \"<div id=\\\"{}\\\" class=\\\"method\\\" data-level=\\\"1\\\"><code>\", id);\n+        write!(w, \"<div id=\\\"{}\\\" class=\\\"method has-srclink\\\"><code>\", id);\n         render_assoc_item(w, m, AssocItemLink::Anchor(Some(&id)), ItemType::Impl, cx);\n         w.write_str(\"</code>\");\n         render_stability_since(w, m, t, cx.tcx());"}, {"sha": "8dad9f853864c827afdf4f67bd1924c023f27822", "filename": "src/librustdoc/html/static/rustdoc.css", "status": "modified", "additions": 13, "deletions": 71, "changes": 84, "blob_url": "https://github.com/rust-lang/rust/blob/fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css?ref=fab6814ff3033108a2f4a1b16bf51ad8ffd0e36f", "patch": "@@ -137,19 +137,19 @@ h1.fqn > .in-band > a:hover {\n h2, h3, h4 {\n \tborder-bottom: 1px solid;\n }\n-div[data-level=\"1\"].impl, div[data-level=\"1\"].method, div[data-level=\"2\"].method,\n-div[data-level=\"1\"].type, div[data-level=\"2\"].type, div[data-level=\"2\"].associatedconstant,\n-div[data-level=\"2\"].associatedtype {\n+.impl, .method,\n+.type, .associatedconstant,\n+.associatedtype {\n \tflex-basis: 100%;\n \tfont-weight: 600;\n \tmargin-top: 16px;\n \tmargin-bottom: 10px;\n \tposition: relative;\n }\n-div[data-level=\"1\"].impl, div[data-level=\"1\"].method, div[data-level=\"2\"].method.trait-impl,\n-div[data-level=\"1\"].type, div[data-level=\"2\"].type.trait-impl,\n-div[data-level=\"2\"].associatedconstant.trait-impl,\n-div[data-level=\"2\"].associatedtype.trait-impl {\n+.impl, .method.trait-impl,\n+.type.trait-impl,\n+.associatedconstant.trait-impl,\n+.associatedtype.trait-impl {\n \tpadding-left: 15px;\n }\n \n@@ -160,7 +160,7 @@ div.impl-items > div {\n h1, h2, h3, h4,\n .sidebar, a.source, .search-input, .search-results .result-name,\n .content table td:first-child > a,\n-.collapse-toggle, div.item-list .out-of-band, span.since,\n+div.item-list .out-of-band, span.since,\n #source-sidebar, #sidebar-toggle,\n details.rustdoc-toggle > summary::before,\n details.undocumented > summary::before,\n@@ -467,15 +467,7 @@ nav.sub {\n \tfont-weight: normal;\n }\n \n-div[data-level=\"1\"].impl > .out-of-band {\n-\tfont-size: 21px;\n-}\n-\n-div[data-level=\"2\"].method > .out-of-band {\n-\tfont-size: 19px;\n-}\n-\n-div[data-level=\"1\"] > code, div[data-level=\"2\"] > code, .invisible > code {\n+.method > code, .trait-impl > code, .invisible > code {\n \tmax-width: calc(100% - 41px);\n \tdisplay: block;\n }\n@@ -548,7 +540,7 @@ div[data-level=\"1\"] > code, div[data-level=\"2\"] > code, .invisible > code {\n }\n .content .multi-column li { width: 100%; display: inline-block; }\n \n-.content > div.methods > div.method {\n+.content > .methods > .method {\n \tfont-size: 1em;\n \tposition: relative;\n }\n@@ -569,9 +561,6 @@ div[data-level=\"1\"] > code, div[data-level=\"2\"] > code, .invisible > code {\n \tmargin-left: 20px;\n \tmargin-top: -34px;\n }\n-.content .docblock > .impl-items > div[data-level=\"2\"] {\n-\tborder-bottom: 0;\n-}\n .content .docblock >.impl-items .table-display {\n \tmargin: 0;\n }\n@@ -694,7 +683,7 @@ a {\n }\n \n .invisible > .srclink,\n-div[data-level=\"1\"] > code + .srclink, div[data-level=\"2\"] > code + .srclink {\n+.method > code + .srclink {\n \tposition: absolute;\n \ttop: 0;\n \tright: 0;\n@@ -929,8 +918,7 @@ body.blur > :not(#help) {\n \tflex-grow: 1;\n }\n \n-.impl-items div[data-level=\"2\"], div[data-level=\"2\"].impl, div[data-level=\"1\"].impl,\n-.methods div[data-level=\"1\"] {\n+.has-srclink {\n \tdisplay: flex;\n \tflex-basis: 100%;\n \tfont-size: 16px;\n@@ -992,45 +980,6 @@ a.test-arrow:hover{\n \tfont-weight: 300;\n }\n \n-.collapse-toggle {\n-\tfont-weight: 300;\n-\tposition: absolute;\n-\tleft: -23px;\n-\ttop: 0;\n-}\n-\n-div[data-level=\"1\"] > .collapse-toggle, div[data-level=\"2\"] > .collapse-toggle {\n-\tfont-size: 0.8em;\n-\ttop: 5px;\n-}\n-\n-.toggle-wrapper > .collapse-toggle {\n-\tleft: -24px;\n-\tmargin-top: 0px;\n-}\n-\n-.toggle-wrapper {\n-\tposition: relative;\n-\tmargin-top: 0;\n-}\n-\n-.toggle-wrapper.collapsed {\n-\theight: 25px;\n-\ttransition: height .2s;\n-\tmargin-bottom: .6em;\n-}\n-\n-.collapse-toggle > .inner {\n-\tdisplay: inline-block;\n-\twidth: 1.2ch;\n-\ttext-align: center;\n-}\n-\n-.collapse-toggle.hidden-default {\n-\tposition: relative;\n-\tmargin-left: 20px;\n-}\n-\n .since + .srclink {\n \tdisplay: table-cell;\n \tpadding-left: 10px;\n@@ -1241,9 +1190,6 @@ pre.rust {\n \tcursor: pointer;\n \tz-index: 2;\n \tmargin-left: 5px;\n-}\n-\n-div[data-level=\"2\"] > .notable-traits {\n \tposition: absolute;\n \tleft: -44px;\n \ttop: 2px;\n@@ -1661,10 +1607,6 @@ details.undocumented[open] > summary::before {\n \t\tpadding: 0;\n \t}\n \n-\t.content div[data-level=\"2\"] > .out-of-band {\n-\t\tposition: inherit;\n-\t}\n-\n \t#search {\n \t\tmargin-left: 0;\n \t}\n@@ -1684,7 +1626,7 @@ details.undocumented[open] > summary::before {\n \t\tz-index: 1;\n \t}\n \n-\tdiv[data-level=\"2\"] > .notable-traits {\n+\t.notable-traits {\n \t\tposition: absolute;\n \t\tleft: -22px;\n \t\ttop: 24px;"}]}