{"sha": "696d5034b22eea20daaa549f3346672d26708df2", "node_id": "C_kwDOAAsO6NoAKDY5NmQ1MDM0YjIyZWVhMjBkYWFhNTQ5ZjMzNDY2NzJkMjY3MDhkZjI", "commit": {"author": {"name": "Nicholas Nethercote", "email": "n.nethercote@gmail.com", "date": "2022-01-27T00:10:37Z"}, "committer": {"name": "Nicholas Nethercote", "email": "n.nethercote@gmail.com", "date": "2022-01-27T06:42:35Z"}, "message": "Clarify the `usage-of-qualified-ty` error message.\n\nI found this message confusing when I encountered it. This commit makes\nit clearer that you have to import the unqualified type yourself.", "tree": {"sha": "ad92afbf04ec2c6b32602489c7f2d2dd66aa6895", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ad92afbf04ec2c6b32602489c7f2d2dd66aa6895"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/696d5034b22eea20daaa549f3346672d26708df2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/696d5034b22eea20daaa549f3346672d26708df2", "html_url": "https://github.com/rust-lang/rust/commit/696d5034b22eea20daaa549f3346672d26708df2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/696d5034b22eea20daaa549f3346672d26708df2/comments", "author": {"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nnethercote", "id": 1940286, "node_id": "MDQ6VXNlcjE5NDAyODY=", "avatar_url": "https://avatars.githubusercontent.com/u/1940286?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nnethercote", "html_url": "https://github.com/nnethercote", "followers_url": "https://api.github.com/users/nnethercote/followers", "following_url": "https://api.github.com/users/nnethercote/following{/other_user}", "gists_url": "https://api.github.com/users/nnethercote/gists{/gist_id}", "starred_url": "https://api.github.com/users/nnethercote/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nnethercote/subscriptions", "organizations_url": "https://api.github.com/users/nnethercote/orgs", "repos_url": "https://api.github.com/users/nnethercote/repos", "events_url": "https://api.github.com/users/nnethercote/events{/privacy}", "received_events_url": "https://api.github.com/users/nnethercote/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "84322efad553c7a79c80189f2d1b9197c1aa005f", "url": "https://api.github.com/repos/rust-lang/rust/commits/84322efad553c7a79c80189f2d1b9197c1aa005f", "html_url": "https://github.com/rust-lang/rust/commit/84322efad553c7a79c80189f2d1b9197c1aa005f"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "d8e1162890c609418efa900a76a78384f8e43467", "filename": "compiler/rustc_lint/src/internal.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/696d5034b22eea20daaa549f3346672d26708df2/compiler%2Frustc_lint%2Fsrc%2Finternal.rs", "raw_url": "https://github.com/rust-lang/rust/raw/696d5034b22eea20daaa549f3346672d26708df2/compiler%2Frustc_lint%2Fsrc%2Finternal.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_lint%2Fsrc%2Finternal.rs?ref=696d5034b22eea20daaa549f3346672d26708df2", "patch": "@@ -108,7 +108,7 @@ impl<'tcx> LateLintPass<'tcx> for TyTyKind {\n                                     lint.build(&format!(\"usage of qualified `ty::{}`\", t))\n                                         .span_suggestion(\n                                             path.span,\n-                                            \"try using it unqualified\",\n+                                            \"try importing it and using it unqualified\",\n                                             t,\n                                             // The import probably needs to be changed\n                                             Applicability::MaybeIncorrect,"}, {"sha": "a1056cf85d307d7efa558cda3ab8d5153391cb59", "filename": "src/test/ui-fulldeps/internal-lints/qualified_ty_ty_ctxt.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/696d5034b22eea20daaa549f3346672d26708df2/src%2Ftest%2Fui-fulldeps%2Finternal-lints%2Fqualified_ty_ty_ctxt.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/696d5034b22eea20daaa549f3346672d26708df2/src%2Ftest%2Fui-fulldeps%2Finternal-lints%2Fqualified_ty_ty_ctxt.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui-fulldeps%2Finternal-lints%2Fqualified_ty_ty_ctxt.stderr?ref=696d5034b22eea20daaa549f3346672d26708df2", "patch": "@@ -2,7 +2,7 @@ error: usage of qualified `ty::Ty<'_>`\n   --> $DIR/qualified_ty_ty_ctxt.rs:25:11\n    |\n LL |     ty_q: ty::Ty<'_>,\n-   |           ^^^^^^^^^^ help: try using it unqualified: `Ty<'_>`\n+   |           ^^^^^^^^^^ help: try importing it and using it unqualified: `Ty<'_>`\n    |\n note: the lint level is defined here\n   --> $DIR/qualified_ty_ty_ctxt.rs:4:9\n@@ -14,7 +14,7 @@ error: usage of qualified `ty::TyCtxt<'_>`\n   --> $DIR/qualified_ty_ty_ctxt.rs:27:16\n    |\n LL |     ty_ctxt_q: ty::TyCtxt<'_>,\n-   |                ^^^^^^^^^^^^^^ help: try using it unqualified: `TyCtxt<'_>`\n+   |                ^^^^^^^^^^^^^^ help: try importing it and using it unqualified: `TyCtxt<'_>`\n \n error: aborting due to 2 previous errors\n "}]}