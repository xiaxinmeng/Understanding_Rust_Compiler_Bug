{"sha": "2fda7d4a514cb5381a70ac279faff53bed22e395", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmZGE3ZDRhNTE0Y2I1MzgxYTcwYWMyNzlmYWZmNTNiZWQyMmUzOTU=", "commit": {"author": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-06-29T00:33:10Z"}, "committer": {"name": "Jeffrey Seyfried", "email": "jeffrey.seyfried@gmail.com", "date": "2016-06-29T00:33:30Z"}, "message": "Rollup merge of #34105 - ollie27:rustdoc_derived, r=alexcrichton\n\nrustdoc: Remove Derived Implementations title\n\nAs far as I know whether a trait was derived or not does not change the\npublic API so there is no need to include this information in the docs.\n\nThis title currently just adds an extra divide in the list of trait\nimplementations which I don't think needs to be there.", "tree": {"sha": "90232ef8f8d44170f3398abd01f53fcbfab6b3a2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/90232ef8f8d44170f3398abd01f53fcbfab6b3a2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2fda7d4a514cb5381a70ac279faff53bed22e395", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2fda7d4a514cb5381a70ac279faff53bed22e395", "html_url": "https://github.com/rust-lang/rust/commit/2fda7d4a514cb5381a70ac279faff53bed22e395", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2fda7d4a514cb5381a70ac279faff53bed22e395/comments", "author": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jseyfried", "id": 8652869, "node_id": "MDQ6VXNlcjg2NTI4Njk=", "avatar_url": "https://avatars.githubusercontent.com/u/8652869?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jseyfried", "html_url": "https://github.com/jseyfried", "followers_url": "https://api.github.com/users/jseyfried/followers", "following_url": "https://api.github.com/users/jseyfried/following{/other_user}", "gists_url": "https://api.github.com/users/jseyfried/gists{/gist_id}", "starred_url": "https://api.github.com/users/jseyfried/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jseyfried/subscriptions", "organizations_url": "https://api.github.com/users/jseyfried/orgs", "repos_url": "https://api.github.com/users/jseyfried/repos", "events_url": "https://api.github.com/users/jseyfried/events{/privacy}", "received_events_url": "https://api.github.com/users/jseyfried/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ea0dc9297283daff6486807f43e190b4eb561412", "url": "https://api.github.com/repos/rust-lang/rust/commits/ea0dc9297283daff6486807f43e190b4eb561412", "html_url": "https://github.com/rust-lang/rust/commit/ea0dc9297283daff6486807f43e190b4eb561412"}, {"sha": "cc181040348966789413387d4f99fc81673f60c7", "url": "https://api.github.com/repos/rust-lang/rust/commits/cc181040348966789413387d4f99fc81673f60c7", "html_url": "https://github.com/rust-lang/rust/commit/cc181040348966789413387d4f99fc81673f60c7"}], "stats": {"total": 24, "additions": 1, "deletions": 23}, "files": [{"sha": "8894b9732fe89250f32f7ead6c3ab0de0cf60b4d", "filename": "src/librustdoc/clean/inline.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/2fda7d4a514cb5381a70ac279faff53bed22e395/src%2Flibrustdoc%2Fclean%2Finline.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2fda7d4a514cb5381a70ac279faff53bed22e395/src%2Flibrustdoc%2Fclean%2Finline.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Finline.rs?ref=2fda7d4a514cb5381a70ac279faff53bed22e395", "patch": "@@ -432,7 +432,6 @@ pub fn build_impl<'a, 'tcx>(cx: &DocContext,\n     ret.push(clean::Item {\n         inner: clean::ImplItem(clean::Impl {\n             unsafety: hir::Unsafety::Normal, // FIXME: this should be decoded\n-            derived: clean::detect_derived(&attrs),\n             provided_trait_methods: provided,\n             trait_: trait_,\n             for_: for_,"}, {"sha": "139dedeb70fdf061cee3dc7dc1ee9277836134a3", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/2fda7d4a514cb5381a70ac279faff53bed22e395/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2fda7d4a514cb5381a70ac279faff53bed22e395/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=2fda7d4a514cb5381a70ac279faff53bed22e395", "patch": "@@ -2239,14 +2239,9 @@ pub struct Impl {\n     pub trait_: Option<Type>,\n     pub for_: Type,\n     pub items: Vec<Item>,\n-    pub derived: bool,\n     pub polarity: Option<ImplPolarity>,\n }\n \n-fn detect_derived<M: AttrMetaMethods>(attrs: &[M]) -> bool {\n-    attr::contains_name(attrs, \"automatically_derived\")\n-}\n-\n impl Clean<Vec<Item>> for doctree::Impl {\n     fn clean(&self, cx: &DocContext) -> Vec<Item> {\n         let mut ret = Vec::new();\n@@ -2283,7 +2278,6 @@ impl Clean<Vec<Item>> for doctree::Impl {\n                 trait_: trait_,\n                 for_: self.for_.clean(cx),\n                 items: items,\n-                derived: detect_derived(&self.attrs),\n                 polarity: Some(self.polarity.clean(cx)),\n             }),\n         });"}, {"sha": "21463527ab9ecdf96ea1d8259068679a7f03a9a4", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 1, "deletions": 16, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/2fda7d4a514cb5381a70ac279faff53bed22e395/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2fda7d4a514cb5381a70ac279faff53bed22e395/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=2fda7d4a514cb5381a70ac279faff53bed22e395", "patch": "@@ -399,7 +399,6 @@ fn init_ids() -> HashMap<String, usize> {\n      \"methods\",\n      \"deref-methods\",\n      \"implementations\",\n-     \"derived_implementations\"\n      ].into_iter().map(|id| (String::from(*id), 1)).collect()\n }\n \n@@ -2524,25 +2523,11 @@ fn render_assoc_items(w: &mut fmt::Formatter,\n         }\n         write!(w, \"<h2 id='implementations'>Trait \\\n                    Implementations</h2>\")?;\n-        let (derived, manual): (Vec<_>, Vec<&Impl>) = traits.iter().partition(|i| {\n-            i.inner_impl().derived\n-        });\n-        for i in &manual {\n+        for i in &traits {\n             let did = i.trait_did().unwrap();\n             let assoc_link = AssocItemLink::GotoSource(did, &i.inner_impl().provided_trait_methods);\n             render_impl(w, cx, i, assoc_link, true, containing_item.stable_since())?;\n         }\n-        if !derived.is_empty() {\n-            write!(w, \"<h3 id='derived_implementations'>\\\n-                           Derived Implementations \\\n-                       </h3>\")?;\n-            for i in &derived {\n-                let did = i.trait_did().unwrap();\n-                let assoc_link = AssocItemLink::GotoSource(did,\n-                                                           &i.inner_impl().provided_trait_methods);\n-                render_impl(w, cx, i, assoc_link, true, containing_item.stable_since())?;\n-            }\n-        }\n     }\n     Ok(())\n }"}]}