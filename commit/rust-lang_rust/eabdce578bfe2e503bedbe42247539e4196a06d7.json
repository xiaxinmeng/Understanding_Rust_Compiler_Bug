{"sha": "eabdce578bfe2e503bedbe42247539e4196a06d7", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVhYmRjZTU3OGJmZTJlNTAzYmVkYmU0MjI0NzUzOWU0MTk2YTA2ZDc=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-05-01T23:09:23Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-05-01T23:09:23Z"}, "message": "Rollup merge of #59634 - DevQps:explain-E0704, r=estebank\n\nAdded an explanation for the E0704 error.\n\n# Description\nAdds an explanation on the E0704 error. I tried to stick as closely to the message that the compiler generates. It's the first time I am fixing error messages here, so if there is something I did wrong or should improve, please let me know.\n\ncloses #55398", "tree": {"sha": "69db2589e668aaa6006458cfded37f6391e23088", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/69db2589e668aaa6006458cfded37f6391e23088"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/eabdce578bfe2e503bedbe42247539e4196a06d7", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcyickCRBK7hj4Ov3rIwAAdHIIALLym119mjt6VoesS5hmFOFG\nsrxhYQdcpDBJEjurLPgXkBcX83SRnwHq6lGoGAofo/jzDH8u52FVC6d9ENlVp67u\nf8UN7cbV2vMPNjlb19OGNd1W4e/olP8P8+9cYfe1ZrwHniXdRnCmvH3Lf4k460xb\nws4BvfbvVAyZfKJt3E+CaWUzeCE1rj1Sk7RngmlXmgUMlBWub9mMmCzUz7t0uBN6\npCYi6oDNo0dmbTwYFYu48OxURaJbDiRobq9/t25kCS2NoDrBhl0O0PoEHsMV5QKl\nhUY6mIz+KhQ+9XIxmKHpUsjVaDrdeJnWKnHxma86o/OtVnNVdIhLx1kJ32xn6J8=\n=zU4b\n-----END PGP SIGNATURE-----\n", "payload": "tree 69db2589e668aaa6006458cfded37f6391e23088\nparent 9b67bd42b7cbf97f72d039afcba02f5177d0d68c\nparent 2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1556752163 +0200\ncommitter GitHub <noreply@github.com> 1556752163 +0200\n\nRollup merge of #59634 - DevQps:explain-E0704, r=estebank\n\nAdded an explanation for the E0704 error.\n\n# Description\nAdds an explanation on the E0704 error. I tried to stick as closely to the message that the compiler generates. It's the first time I am fixing error messages here, so if there is something I did wrong or should improve, please let me know.\n\ncloses #55398\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/eabdce578bfe2e503bedbe42247539e4196a06d7", "html_url": "https://github.com/rust-lang/rust/commit/eabdce578bfe2e503bedbe42247539e4196a06d7", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/eabdce578bfe2e503bedbe42247539e4196a06d7/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9b67bd42b7cbf97f72d039afcba02f5177d0d68c", "url": "https://api.github.com/repos/rust-lang/rust/commits/9b67bd42b7cbf97f72d039afcba02f5177d0d68c", "html_url": "https://github.com/rust-lang/rust/commit/9b67bd42b7cbf97f72d039afcba02f5177d0d68c"}, {"sha": "2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec", "url": "https://api.github.com/repos/rust-lang/rust/commits/2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec", "html_url": "https://github.com/rust-lang/rust/commit/2be37ad42197f202dfb87c073cb0c6b5e9e5b2ec"}], "stats": {"total": 31, "additions": 30, "deletions": 1}, "files": [{"sha": "e2d212eb721ff9cadcbb26ef5eb0e58a8b091d87", "filename": "src/libsyntax/error_codes.rs", "status": "modified", "additions": 29, "deletions": 1, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/eabdce578bfe2e503bedbe42247539e4196a06d7/src%2Flibsyntax%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/eabdce578bfe2e503bedbe42247539e4196a06d7/src%2Flibsyntax%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ferror_codes.rs?ref=eabdce578bfe2e503bedbe42247539e4196a06d7", "patch": "@@ -363,6 +363,35 @@ and likely to change in the future.\n \n \"##,\n \n+E0704: r##\"\n+This error indicates that a incorrect visibility restriction was specified.\n+\n+Example of erroneous code:\n+\n+```compile_fail,E0704\n+mod foo {\n+    pub(foo) struct Bar {\n+        x: i32\n+    }\n+}\n+```\n+\n+To make struct `Bar` only visible in module `foo` the `in` keyword should be\n+used:\n+```\n+mod foo {\n+    pub(in crate::foo) struct Bar {\n+        x: i32\n+    }\n+}\n+# fn main() {}\n+```\n+\n+For more information see the Rust Reference on [Visibility].\n+\n+[Visibility]: https://doc.rust-lang.org/reference/visibility-and-privacy.html\n+\"##,\n+\n E0705: r##\"\n A `#![feature]` attribute was declared for a feature that is stable in\n the current edition, but not in all editions.\n@@ -417,6 +446,5 @@ register_diagnostics! {\n     E0693, // incorrect `repr(align)` attribute format\n     E0694, // an unknown tool name found in scoped attributes\n     E0703, // invalid ABI\n-    E0704, // incorrect visibility restriction\n     E0717, // rustc_promotable without stability attribute\n }"}, {"sha": "7eeefa9550543860a179d9e200bb5e8e7cac9582", "filename": "src/test/ui/pub/pub-restricted.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/eabdce578bfe2e503bedbe42247539e4196a06d7/src%2Ftest%2Fui%2Fpub%2Fpub-restricted.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/eabdce578bfe2e503bedbe42247539e4196a06d7/src%2Ftest%2Fui%2Fpub%2Fpub-restricted.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fpub%2Fpub-restricted.stderr?ref=eabdce578bfe2e503bedbe42247539e4196a06d7", "patch": "@@ -50,3 +50,4 @@ LL |         pub (in x) non_parent_invalid: usize,\n \n error: aborting due to 5 previous errors\n \n+For more information about this error, try `rustc --explain E0704`."}]}