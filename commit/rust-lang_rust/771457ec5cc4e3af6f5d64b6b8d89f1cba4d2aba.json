{"sha": "771457ec5cc4e3af6f5d64b6b8d89f1cba4d2aba", "node_id": "MDY6Q29tbWl0NzI0NzEyOjc3MTQ1N2VjNWNjNGUzYWY2ZjVkNjRiNmI4ZDg5ZjFjYmE0ZDJhYmE=", "commit": {"author": {"name": "Alin Sinpalean", "email": "alin.sinpalean@dfinity.org", "date": "2020-05-31T11:41:52Z"}, "committer": {"name": "Alin Sinpalean", "email": "alin.sinpalean@dfinity.org", "date": "2020-05-31T11:41:55Z"}, "message": "Always derive from `process.env` when spawning a child process/shell execution\n\nThis is useful when an extension (e.g. Nix Environment Selector) or launch\nconfiguration sets one or more environment variables.\n\nWhen `env` is not explicitly specified in the options passed to\n`child_process.spawn()` or `vscode.ShellExecution()`, then `process.env` gets\napplied automatically. But when an explicit `env` is set, it should inherit from\n`process.env` rather than replace it completely.", "tree": {"sha": "9fe13bf51a080be51b516f98bc14b6d89bf2e50d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9fe13bf51a080be51b516f98bc14b6d89bf2e50d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/771457ec5cc4e3af6f5d64b6b8d89f1cba4d2aba", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/771457ec5cc4e3af6f5d64b6b8d89f1cba4d2aba", "html_url": "https://github.com/rust-lang/rust/commit/771457ec5cc4e3af6f5d64b6b8d89f1cba4d2aba", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/771457ec5cc4e3af6f5d64b6b8d89f1cba4d2aba/comments", "author": {"login": "alin-at-dfinity", "id": 58422065, "node_id": "MDQ6VXNlcjU4NDIyMDY1", "avatar_url": "https://avatars.githubusercontent.com/u/58422065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alin-at-dfinity", "html_url": "https://github.com/alin-at-dfinity", "followers_url": "https://api.github.com/users/alin-at-dfinity/followers", "following_url": "https://api.github.com/users/alin-at-dfinity/following{/other_user}", "gists_url": "https://api.github.com/users/alin-at-dfinity/gists{/gist_id}", "starred_url": "https://api.github.com/users/alin-at-dfinity/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alin-at-dfinity/subscriptions", "organizations_url": "https://api.github.com/users/alin-at-dfinity/orgs", "repos_url": "https://api.github.com/users/alin-at-dfinity/repos", "events_url": "https://api.github.com/users/alin-at-dfinity/events{/privacy}", "received_events_url": "https://api.github.com/users/alin-at-dfinity/received_events", "type": "User", "site_admin": false}, "committer": {"login": "alin-at-dfinity", "id": 58422065, "node_id": "MDQ6VXNlcjU4NDIyMDY1", "avatar_url": "https://avatars.githubusercontent.com/u/58422065?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alin-at-dfinity", "html_url": "https://github.com/alin-at-dfinity", "followers_url": "https://api.github.com/users/alin-at-dfinity/followers", "following_url": "https://api.github.com/users/alin-at-dfinity/following{/other_user}", "gists_url": "https://api.github.com/users/alin-at-dfinity/gists{/gist_id}", "starred_url": "https://api.github.com/users/alin-at-dfinity/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alin-at-dfinity/subscriptions", "organizations_url": "https://api.github.com/users/alin-at-dfinity/orgs", "repos_url": "https://api.github.com/users/alin-at-dfinity/repos", "events_url": "https://api.github.com/users/alin-at-dfinity/events{/privacy}", "received_events_url": "https://api.github.com/users/alin-at-dfinity/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "09df51dab89340bcf4b8ede95c02c32b0c8eb2bc", "url": "https://api.github.com/repos/rust-lang/rust/commits/09df51dab89340bcf4b8ede95c02c32b0c8eb2bc", "html_url": "https://github.com/rust-lang/rust/commit/09df51dab89340bcf4b8ede95c02c32b0c8eb2bc"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "8e1ba83ed676d237951eee06287b38f2534783e4", "filename": "editors/code/src/run.ts", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/771457ec5cc4e3af6f5d64b6b8d89f1cba4d2aba/editors%2Fcode%2Fsrc%2Frun.ts", "raw_url": "https://github.com/rust-lang/rust/raw/771457ec5cc4e3af6f5d64b6b8d89f1cba4d2aba/editors%2Fcode%2Fsrc%2Frun.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Frun.ts?ref=771457ec5cc4e3af6f5d64b6b8d89f1cba4d2aba", "patch": "@@ -177,7 +177,7 @@ export function createTask(spec: ra.Runnable): vscode.Task {\n         label: spec.label,\n         command: spec.bin,\n         args: spec.extraArgs ? [...spec.args, '--', ...spec.extraArgs] : spec.args,\n-        env: spec.env,\n+        env: Object.assign({}, process.env, spec.env),\n     };\n \n     const execOption: vscode.ShellExecutionOptions = {"}]}