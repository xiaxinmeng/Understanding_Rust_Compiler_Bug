{"sha": "335bf7ca6b2e63ffc5b7ee732819b7bf228a179e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjMzNWJmN2NhNmIyZTYzZmZjNWI3ZWU3MzI4MTliN2JmMjI4YTE3OWU=", "commit": {"author": {"name": "Frank Steffahn", "email": "fdsteffahn@gmail.com", "date": "2021-08-24T19:15:26Z"}, "committer": {"name": "Frank Steffahn", "email": "frank.steffahn@stu.uni-kiel.de", "date": "2021-08-24T19:17:20Z"}, "message": "Clarifiy weak pointers being diassociated\u2026\n\n\u2026noting the fact that `clone` is not called.\n\nCo-authored-by: Mark Rousskov <mark.simulacrum@gmail.com>", "tree": {"sha": "e5eb50a23a12282a9113f4b26fc9ea1042040772", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e5eb50a23a12282a9113f4b26fc9ea1042040772"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/335bf7ca6b2e63ffc5b7ee732819b7bf228a179e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/335bf7ca6b2e63ffc5b7ee732819b7bf228a179e", "html_url": "https://github.com/rust-lang/rust/commit/335bf7ca6b2e63ffc5b7ee732819b7bf228a179e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/335bf7ca6b2e63ffc5b7ee732819b7bf228a179e/comments", "author": {"login": "steffahn", "id": 3986214, "node_id": "MDQ6VXNlcjM5ODYyMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3986214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steffahn", "html_url": "https://github.com/steffahn", "followers_url": "https://api.github.com/users/steffahn/followers", "following_url": "https://api.github.com/users/steffahn/following{/other_user}", "gists_url": "https://api.github.com/users/steffahn/gists{/gist_id}", "starred_url": "https://api.github.com/users/steffahn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steffahn/subscriptions", "organizations_url": "https://api.github.com/users/steffahn/orgs", "repos_url": "https://api.github.com/users/steffahn/repos", "events_url": "https://api.github.com/users/steffahn/events{/privacy}", "received_events_url": "https://api.github.com/users/steffahn/received_events", "type": "User", "site_admin": false}, "committer": {"login": "steffahn", "id": 3986214, "node_id": "MDQ6VXNlcjM5ODYyMTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/3986214?v=4", "gravatar_id": "", "url": "https://api.github.com/users/steffahn", "html_url": "https://github.com/steffahn", "followers_url": "https://api.github.com/users/steffahn/followers", "following_url": "https://api.github.com/users/steffahn/following{/other_user}", "gists_url": "https://api.github.com/users/steffahn/gists{/gist_id}", "starred_url": "https://api.github.com/users/steffahn/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/steffahn/subscriptions", "organizations_url": "https://api.github.com/users/steffahn/orgs", "repos_url": "https://api.github.com/users/steffahn/repos", "events_url": "https://api.github.com/users/steffahn/events{/privacy}", "received_events_url": "https://api.github.com/users/steffahn/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "51d598ec285fc8aa29e2a1c64dc90394ccbd4130", "url": "https://api.github.com/repos/rust-lang/rust/commits/51d598ec285fc8aa29e2a1c64dc90394ccbd4130", "html_url": "https://github.com/rust-lang/rust/commit/51d598ec285fc8aa29e2a1c64dc90394ccbd4130"}], "stats": {"total": 10, "additions": 6, "deletions": 4}, "files": [{"sha": "272fc119f4edd2762e367e29098aee5e68e923b2", "filename": "library/alloc/src/rc.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/335bf7ca6b2e63ffc5b7ee732819b7bf228a179e/library%2Falloc%2Fsrc%2Frc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335bf7ca6b2e63ffc5b7ee732819b7bf228a179e/library%2Falloc%2Fsrc%2Frc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Frc.rs?ref=335bf7ca6b2e63ffc5b7ee732819b7bf228a179e", "patch": "@@ -1100,8 +1100,9 @@ impl<T: Clone> Rc<T> {\n     /// [`clone`] the inner value to a new allocation to ensure unique ownership.  This is also\n     /// referred to as clone-on-write.\n     ///\n-    /// If there are no other `Rc` pointers to this allocation, then [`Weak`]\n-    /// pointers to this allocation will be disassociated.\n+    /// However, if there are no other `Rc` pointers to this allocation, but some [`Weak`]\n+    /// pointers, then the [`Weak`] pointers will be disassociated and the inner value will not\n+    /// be cloned.\n     ///\n     /// See also [`get_mut`], which will fail rather than cloning.\n     ///"}, {"sha": "2367eaec4b938ca7aa35cbdd9afa84f07862e800", "filename": "library/alloc/src/sync.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/335bf7ca6b2e63ffc5b7ee732819b7bf228a179e/library%2Falloc%2Fsrc%2Fsync.rs", "raw_url": "https://github.com/rust-lang/rust/raw/335bf7ca6b2e63ffc5b7ee732819b7bf228a179e/library%2Falloc%2Fsrc%2Fsync.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fsync.rs?ref=335bf7ca6b2e63ffc5b7ee732819b7bf228a179e", "patch": "@@ -1350,8 +1350,9 @@ impl<T: Clone> Arc<T> {\n     /// [`clone`] the inner value to a new allocation to ensure unique ownership.  This is also\n     /// referred to as clone-on-write.\n     ///\n-    /// If there are no other `Arc` pointers to this allocation, then [`Weak`]\n-    /// pointers to this allocation will be disassociated.\n+    /// However, if there are no other `Arc` pointers to this allocation, but some [`Weak`]\n+    /// pointers, then the [`Weak`] pointers will be disassociated and the inner value will not\n+    /// be cloned.\n     ///\n     /// See also [`get_mut`], which will fail rather than cloning.\n     ///"}]}