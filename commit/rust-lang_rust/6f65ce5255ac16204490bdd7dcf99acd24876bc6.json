{"sha": "6f65ce5255ac16204490bdd7dcf99acd24876bc6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjZmNjVjZTUyNTVhYzE2MjA0NDkwYmRkN2RjZjk5YWNkMjQ4NzZiYzY=", "commit": {"author": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-18T19:30:44Z"}, "committer": {"name": "Patrick Walton", "email": "pcwalton@mimiga.net", "date": "2011-03-18T19:30:44Z"}, "message": "rustc: Add a span_unimpl() for debugging", "tree": {"sha": "54e875236348ef2ee9e38ab8bd6635b53803321d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/54e875236348ef2ee9e38ab8bd6635b53803321d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/6f65ce5255ac16204490bdd7dcf99acd24876bc6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/6f65ce5255ac16204490bdd7dcf99acd24876bc6", "html_url": "https://github.com/rust-lang/rust/commit/6f65ce5255ac16204490bdd7dcf99acd24876bc6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/6f65ce5255ac16204490bdd7dcf99acd24876bc6/comments", "author": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pcwalton", "id": 157897, "node_id": "MDQ6VXNlcjE1Nzg5Nw==", "avatar_url": "https://avatars.githubusercontent.com/u/157897?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pcwalton", "html_url": "https://github.com/pcwalton", "followers_url": "https://api.github.com/users/pcwalton/followers", "following_url": "https://api.github.com/users/pcwalton/following{/other_user}", "gists_url": "https://api.github.com/users/pcwalton/gists{/gist_id}", "starred_url": "https://api.github.com/users/pcwalton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pcwalton/subscriptions", "organizations_url": "https://api.github.com/users/pcwalton/orgs", "repos_url": "https://api.github.com/users/pcwalton/repos", "events_url": "https://api.github.com/users/pcwalton/events{/privacy}", "received_events_url": "https://api.github.com/users/pcwalton/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "949ba9ca460779ee75386b6dcec6b4f7d1774363", "url": "https://api.github.com/repos/rust-lang/rust/commits/949ba9ca460779ee75386b6dcec6b4f7d1774363", "html_url": "https://github.com/rust-lang/rust/commit/949ba9ca460779ee75386b6dcec6b4f7d1774363"}], "stats": {"total": 12, "additions": 11, "deletions": 1}, "files": [{"sha": "605774fe92f2d49d137fa12964ffa69562385a21", "filename": "src/comp/driver/session.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/6f65ce5255ac16204490bdd7dcf99acd24876bc6/src%2Fcomp%2Fdriver%2Fsession.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6f65ce5255ac16204490bdd7dcf99acd24876bc6/src%2Fcomp%2Fdriver%2Fsession.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fdriver%2Fsession.rs?ref=6f65ce5255ac16204490bdd7dcf99acd24876bc6", "patch": "@@ -45,6 +45,15 @@ obj session(cfg targ) {\n         fail;\n     }\n \n+    fn span_unimpl(span sp, str msg) {\n+        log #fmt(\"%s:%u:%u:%u:%u: error: unimplemented %s\",\n+                 sp.filename,\n+                 sp.lo.line, sp.lo.col,\n+                 sp.hi.line, sp.hi.col,\n+                 msg);\n+        fail;\n+    }\n+\n     fn unimpl(str msg) {\n         log #fmt(\"error: unimplemented %s\", msg);\n         fail;"}, {"sha": "14d4f714b0be3d2328edd158554f92d262337b40", "filename": "src/comp/middle/typeck.rs", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/6f65ce5255ac16204490bdd7dcf99acd24876bc6/src%2Fcomp%2Fmiddle%2Ftypeck.rs", "raw_url": "https://github.com/rust-lang/rust/raw/6f65ce5255ac16204490bdd7dcf99acd24876bc6/src%2Fcomp%2Fmiddle%2Ftypeck.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fmiddle%2Ftypeck.rs?ref=6f65ce5255ac16204490bdd7dcf99acd24876bc6", "patch": "@@ -1402,7 +1402,8 @@ fn demand_expr_full(&@fn_ctxt fcx, @ty.t expected, @ast.expr e,\n         }\n \n         case (_) {\n-            fcx.ccx.sess.unimpl(\"type unification for expression variant\");\n+            fcx.ccx.sess.span_unimpl(e.span,\n+                \"type unification for expression variant\");\n             fail;\n         }\n     }"}]}