{"sha": "03a0402dbf3143ab6a8b7166f4d1f74aa68f71df", "node_id": "MDY6Q29tbWl0NzI0NzEyOjAzYTA0MDJkYmYzMTQzYWI2YThiNzE2NmY0ZDFmNzRhYTY4ZjcxZGY=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-05-03T20:28:00Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2018-05-03T20:28:00Z"}, "message": "Rollup merge of #50320 - GuillaumeGomez:fix-search-path-generation, r=QuietMisdreavus\n\nFix invalid path generation in rustdoc search\n\nFixes #50311.", "tree": {"sha": "f11cd646a1ef2699127c207e79cb19a316fb8eed", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/f11cd646a1ef2699127c207e79cb19a316fb8eed"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/03a0402dbf3143ab6a8b7166f4d1f74aa68f71df", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAlrrcNIACgkQ/vbIBR0O\nATzgEw/+Jiufa4U5gkP7BVE7OlFFovLsakZfZTgJGuogKyaC+Sz8aJyxvl8qhaE5\nb9ST0H9st0s5rJLVdfmDpbYDgJycSGWyoeSPJpn/bfJBVMNvx256OGgUzYbuYr+L\nq5szQEoeGAU1Z6bcquI/xlRPL0vxi9dK7YYEirelh/vfpCba/LopN/nRd7ziBYgO\nfHxmYh7iq+Nr7SdzOej20SMJsfI/eqCa0F+KEgPTK7mb82RPvoMXkXytwhRsVEwS\nJp4Xn6IJBFNnk1Wg4HREHjD7vPqaRpMGxJOP5SXWS6XhLr5KkyjxvKNDIUYHQMUX\netgDLXhEB4h7ZmXXumgmp7ooGOZGDiQ2onTRNOBmSsiPewXpgVYMuWrmZPW/i4gV\nARWNX+xk7nC9VCT0qCHoufXsYsHeuMNi4JDjpNBuCeWSYmrO/egOgczNWjldR4UQ\nTSYEQIko83c/1sYFD2RYC95mzdzV8KHjzbWd3sHp9rLu6404IeKCV7NRZvoHFJFf\nL3aQ6Sbx297x/880RxzAx42NGgUQennkbh0PI0DGzB3Ewja3yIUDTLA9ox/ixpTB\npq5RBP3erSKQPgY/UnLknC2G/+YMiHQM1byg8f+okKbXKNjzoctNjpt4Nnx4WQYR\n9oN7Q/TORIMjSS0GMuvwac8TTPJYafRFv1/W0628sm3/hVZaqCE=\n=aH7K\n-----END PGP SIGNATURE-----", "payload": "tree f11cd646a1ef2699127c207e79cb19a316fb8eed\nparent bab812d7ca23a13ae59e80da4eaebaa3c6d63351\nparent a876d28b4ae546b6acc0da85862aef8afb6ea389\nauthor kennytm <kennytm@gmail.com> 1525379280 +0800\ncommitter kennytm <kennytm@gmail.com> 1525379280 +0800\n\nRollup merge of #50320 - GuillaumeGomez:fix-search-path-generation, r=QuietMisdreavus\n\nFix invalid path generation in rustdoc search\n\nFixes #50311.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/03a0402dbf3143ab6a8b7166f4d1f74aa68f71df", "html_url": "https://github.com/rust-lang/rust/commit/03a0402dbf3143ab6a8b7166f4d1f74aa68f71df", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/03a0402dbf3143ab6a8b7166f4d1f74aa68f71df/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "bab812d7ca23a13ae59e80da4eaebaa3c6d63351", "url": "https://api.github.com/repos/rust-lang/rust/commits/bab812d7ca23a13ae59e80da4eaebaa3c6d63351", "html_url": "https://github.com/rust-lang/rust/commit/bab812d7ca23a13ae59e80da4eaebaa3c6d63351"}, {"sha": "a876d28b4ae546b6acc0da85862aef8afb6ea389", "url": "https://api.github.com/repos/rust-lang/rust/commits/a876d28b4ae546b6acc0da85862aef8afb6ea389", "html_url": "https://github.com/rust-lang/rust/commit/a876d28b4ae546b6acc0da85862aef8afb6ea389"}], "stats": {"total": 12, "additions": 7, "deletions": 5}, "files": [{"sha": "29e7bd37fc28628eef815f84b8d89a41a9d0f4b0", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/03a0402dbf3143ab6a8b7166f4d1f74aa68f71df/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/03a0402dbf3143ab6a8b7166f4d1f74aa68f71df/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=03a0402dbf3143ab6a8b7166f4d1f74aa68f71df", "patch": "@@ -1427,7 +1427,7 @@ impl<'a> Cache {\n         }\n         if let Some(ref item_name) = item.name {\n             let path = self.paths.get(&item.def_id)\n-                                 .map(|p| p.0.join(\"::\").to_string())\n+                                 .map(|p| p.0[..p.0.len() - 1].join(\"::\"))\n                                  .unwrap_or(\"std\".to_owned());\n             for alias in item.attrs.lists(\"doc\")\n                                    .filter(|a| a.check_name(\"alias\"))"}, {"sha": "0c5ec4fccbcd731abcfd78a3c2233ebb97399082", "filename": "src/test/rustdoc-js/alias-2.js", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/03a0402dbf3143ab6a8b7166f4d1f74aa68f71df/src%2Ftest%2Frustdoc-js%2Falias-2.js", "raw_url": "https://github.com/rust-lang/rust/raw/03a0402dbf3143ab6a8b7166f4d1f74aa68f71df/src%2Ftest%2Frustdoc-js%2Falias-2.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-js%2Falias-2.js?ref=03a0402dbf3143ab6a8b7166f4d1f74aa68f71df", "patch": "@@ -8,11 +8,13 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n+// ignore-order\n+\n const QUERY = '+';\n \n const EXPECTED = {\n     'others': [\n-        { 'path': 'std::ops::AddAssign', 'name': 'AddAssign' },\n-        { 'path': 'std::ops::Add', 'name': 'Add' },\n+        { 'path': 'std::ops', 'name': 'AddAssign' },\n+        { 'path': 'std::ops', 'name': 'Add' },\n     ],\n };"}, {"sha": "e7aafe3b9e2d158953fe787e58b2dca18f4f8b62", "filename": "src/test/rustdoc-js/alias.js", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/03a0402dbf3143ab6a8b7166f4d1f74aa68f71df/src%2Ftest%2Frustdoc-js%2Falias.js", "raw_url": "https://github.com/rust-lang/rust/raw/03a0402dbf3143ab6a8b7166f4d1f74aa68f71df/src%2Ftest%2Frustdoc-js%2Falias.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Frustdoc-js%2Falias.js?ref=03a0402dbf3143ab6a8b7166f4d1f74aa68f71df", "patch": "@@ -15,7 +15,7 @@ const QUERY = '[';\n const EXPECTED = {\n     'others': [\n         { 'path': 'std', 'name': 'slice' },\n-        { 'path': 'std::ops::IndexMut', 'name': 'IndexMut' },\n-        { 'path': 'std::ops::Index', 'name': 'Index' },\n+        { 'path': 'std::ops', 'name': 'IndexMut' },\n+        { 'path': 'std::ops', 'name': 'Index' },\n     ],\n };"}]}