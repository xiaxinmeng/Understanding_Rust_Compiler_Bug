{"sha": "4e7de69cda8eba7ff807ea002d440b1e37c7b9f4", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRlN2RlNjljZGE4ZWJhN2ZmODA3ZWEwMDJkNDQwYjFlMzdjN2I5ZjQ=", "commit": {"author": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-01-19T18:53:20Z"}, "committer": {"name": "Graydon Hoare", "email": "graydon@mozilla.com", "date": "2012-01-19T19:11:47Z"}, "message": "Partial fix for #1561, doesn't actually \"fix\" the problem but you get output now.\n\nThere's still something wrong with #error here, possibly cross-crate issue.", "tree": {"sha": "4c710521d7d1b4d4bf97049e185a4faf992bb79e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/4c710521d7d1b4d4bf97049e185a4faf992bb79e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4e7de69cda8eba7ff807ea002d440b1e37c7b9f4", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4e7de69cda8eba7ff807ea002d440b1e37c7b9f4", "html_url": "https://github.com/rust-lang/rust/commit/4e7de69cda8eba7ff807ea002d440b1e37c7b9f4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4e7de69cda8eba7ff807ea002d440b1e37c7b9f4/comments", "author": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "committer": {"login": "graydon", "id": 14097, "node_id": "MDQ6VXNlcjE0MDk3", "avatar_url": "https://avatars.githubusercontent.com/u/14097?v=4", "gravatar_id": "", "url": "https://api.github.com/users/graydon", "html_url": "https://github.com/graydon", "followers_url": "https://api.github.com/users/graydon/followers", "following_url": "https://api.github.com/users/graydon/following{/other_user}", "gists_url": "https://api.github.com/users/graydon/gists{/gist_id}", "starred_url": "https://api.github.com/users/graydon/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/graydon/subscriptions", "organizations_url": "https://api.github.com/users/graydon/orgs", "repos_url": "https://api.github.com/users/graydon/repos", "events_url": "https://api.github.com/users/graydon/events{/privacy}", "received_events_url": "https://api.github.com/users/graydon/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "5378d5185eccfaba4f7111ed1034ae93d5e2c4d2", "url": "https://api.github.com/repos/rust-lang/rust/commits/5378d5185eccfaba4f7111ed1034ae93d5e2c4d2", "html_url": "https://github.com/rust-lang/rust/commit/5378d5185eccfaba4f7111ed1034ae93d5e2c4d2"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "f14d351c4fc320d97e7620e0803d588db1b9f44c", "filename": "src/comp/driver/driver.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/4e7de69cda8eba7ff807ea002d440b1e37c7b9f4/src%2Fcomp%2Fdriver%2Fdriver.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4e7de69cda8eba7ff807ea002d440b1e37c7b9f4/src%2Fcomp%2Fdriver%2Fdriver.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fcomp%2Fdriver%2Fdriver.rs?ref=4e7de69cda8eba7ff807ea002d440b1e37c7b9f4", "patch": "@@ -13,7 +13,7 @@ import back::link;\n import core::{option, str, int, result};\n import result::{ok, err};\n import std::{fs, io, getopts};\n-import io::reader_util;\n+import io::{reader_util, writer_util};\n import option::{some, none};\n import getopts::{optopt, optmulti, optflag, optflagopt, opt_present};\n import back::{x86, x86_64};\n@@ -104,8 +104,8 @@ fn time<T>(do_it: bool, what: str, thunk: fn@() -> T) -> T {\n     let start = std::time::precise_time_s();\n     let rv = thunk();\n     let end = std::time::precise_time_s();\n-    std::io::println(#fmt[\"time: %s took %s s\", what,\n-                          float::to_str(end - start, 3u)]);\n+    io::stdout().write_str(#fmt(\"time: %3.3f s\\t%s\\n\",\n+                                end - start, what));\n     ret rv;\n }\n "}]}