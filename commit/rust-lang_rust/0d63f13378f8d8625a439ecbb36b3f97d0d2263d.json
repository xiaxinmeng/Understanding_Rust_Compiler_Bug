{"sha": "0d63f13378f8d8625a439ecbb36b3f97d0d2263d", "node_id": "MDY6Q29tbWl0NzI0NzEyOjBkNjNmMTMzNzhmOGQ4NjI1YTQzOWVjYmIzNmIzZjk3ZDBkMjI2M2Q=", "commit": {"author": {"name": "Jessica Hamilton", "email": "jessica.l.hamilton@gmail.com", "date": "2017-04-24T14:21:36Z"}, "committer": {"name": "Jessica Hamilton", "email": "jessica.l.hamilton@gmail.com", "date": "2017-04-24T14:29:39Z"}, "message": "Haiku: add missing cases of using LIBRARY_PATH", "tree": {"sha": "c9f762e570733352c668166dae00aece6e0c5737", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c9f762e570733352c668166dae00aece6e0c5737"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/0d63f13378f8d8625a439ecbb36b3f97d0d2263d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/0d63f13378f8d8625a439ecbb36b3f97d0d2263d", "html_url": "https://github.com/rust-lang/rust/commit/0d63f13378f8d8625a439ecbb36b3f97d0d2263d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/0d63f13378f8d8625a439ecbb36b3f97d0d2263d/comments", "author": {"login": "jessicah", "id": 274082, "node_id": "MDQ6VXNlcjI3NDA4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/274082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jessicah", "html_url": "https://github.com/jessicah", "followers_url": "https://api.github.com/users/jessicah/followers", "following_url": "https://api.github.com/users/jessicah/following{/other_user}", "gists_url": "https://api.github.com/users/jessicah/gists{/gist_id}", "starred_url": "https://api.github.com/users/jessicah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jessicah/subscriptions", "organizations_url": "https://api.github.com/users/jessicah/orgs", "repos_url": "https://api.github.com/users/jessicah/repos", "events_url": "https://api.github.com/users/jessicah/events{/privacy}", "received_events_url": "https://api.github.com/users/jessicah/received_events", "type": "User", "site_admin": false}, "committer": {"login": "jessicah", "id": 274082, "node_id": "MDQ6VXNlcjI3NDA4Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/274082?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jessicah", "html_url": "https://github.com/jessicah", "followers_url": "https://api.github.com/users/jessicah/followers", "following_url": "https://api.github.com/users/jessicah/following{/other_user}", "gists_url": "https://api.github.com/users/jessicah/gists{/gist_id}", "starred_url": "https://api.github.com/users/jessicah/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jessicah/subscriptions", "organizations_url": "https://api.github.com/users/jessicah/orgs", "repos_url": "https://api.github.com/users/jessicah/repos", "events_url": "https://api.github.com/users/jessicah/events{/privacy}", "received_events_url": "https://api.github.com/users/jessicah/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e1afddc29c7a056f855c0523e598c3bda42f4aea", "url": "https://api.github.com/repos/rust-lang/rust/commits/e1afddc29c7a056f855c0523e598c3bda42f4aea", "html_url": "https://github.com/rust-lang/rust/commit/e1afddc29c7a056f855c0523e598c3bda42f4aea"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "55622c6b81b27c92c045b3426471307dde27c62b", "filename": "src/bootstrap/bootstrap.py", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/0d63f13378f8d8625a439ecbb36b3f97d0d2263d/src%2Fbootstrap%2Fbootstrap.py", "raw_url": "https://github.com/rust-lang/rust/raw/0d63f13378f8d8625a439ecbb36b3f97d0d2263d/src%2Fbootstrap%2Fbootstrap.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fbootstrap.py?ref=0d63f13378f8d8625a439ecbb36b3f97d0d2263d", "patch": "@@ -367,6 +367,9 @@ def build_bootstrap(self):\n         env[\"DYLD_LIBRARY_PATH\"] = os.path.join(self.bin_root(), \"lib\") + \\\n                                    (os.pathsep + env[\"DYLD_LIBRARY_PATH\"]) \\\n                                    if \"DYLD_LIBRARY_PATH\" in env else \"\"\n+        env[\"LIBRARY_PATH\"] = os.path.join(self.bin_root(), \"lib\") + \\\n+                                   (os.pathsep + env[\"LIBRARY_PATH\"]) \\\n+                                   if \"LIBRARY_PATH\" in env else \"\"\n         env[\"PATH\"] = os.path.join(self.bin_root(), \"bin\") + \\\n                       os.pathsep + env[\"PATH\"]\n         if not os.path.isfile(self.cargo()):"}, {"sha": "e01c06b10fcd63097de8a14f8b5e2b0f525bccb3", "filename": "src/bootstrap/util.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0d63f13378f8d8625a439ecbb36b3f97d0d2263d/src%2Fbootstrap%2Futil.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0d63f13378f8d8625a439ecbb36b3f97d0d2263d/src%2Fbootstrap%2Futil.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Futil.rs?ref=0d63f13378f8d8625a439ecbb36b3f97d0d2263d", "patch": "@@ -139,6 +139,8 @@ pub fn dylib_path_var() -> &'static str {\n         \"PATH\"\n     } else if cfg!(target_os = \"macos\") {\n         \"DYLD_LIBRARY_PATH\"\n+    } else if cfg!(target_os = \"haiku\") {\n+        \"LIBRARY_PATH\"\n     } else {\n         \"LD_LIBRARY_PATH\"\n     }"}, {"sha": "e6f305c22b2d4f621a1b7ecc0c4ac2ddd8fb261a", "filename": "src/librustc_back/dynamic_lib.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0d63f13378f8d8625a439ecbb36b3f97d0d2263d/src%2Flibrustc_back%2Fdynamic_lib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0d63f13378f8d8625a439ecbb36b3f97d0d2263d/src%2Flibrustc_back%2Fdynamic_lib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_back%2Fdynamic_lib.rs?ref=0d63f13378f8d8625a439ecbb36b3f97d0d2263d", "patch": "@@ -68,6 +68,8 @@ impl DynamicLibrary {\n             \"PATH\"\n         } else if cfg!(target_os = \"macos\") {\n             \"DYLD_LIBRARY_PATH\"\n+        } else if cfg!(target_os = \"haiku\") {\n+            \"LIBRARY_PATH\"\n         } else {\n             \"LD_LIBRARY_PATH\"\n         }"}, {"sha": "dbda8f4d802c02a0f6689a7709a59fd8aea7602a", "filename": "src/tools/compiletest/src/procsrv.rs", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/0d63f13378f8d8625a439ecbb36b3f97d0d2263d/src%2Ftools%2Fcompiletest%2Fsrc%2Fprocsrv.rs", "raw_url": "https://github.com/rust-lang/rust/raw/0d63f13378f8d8625a439ecbb36b3f97d0d2263d/src%2Ftools%2Fcompiletest%2Fsrc%2Fprocsrv.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Fcompiletest%2Fsrc%2Fprocsrv.rs?ref=0d63f13378f8d8625a439ecbb36b3f97d0d2263d", "patch": "@@ -20,6 +20,8 @@ pub fn dylib_env_var() -> &'static str {\n         \"PATH\"\n     } else if cfg!(target_os = \"macos\") {\n         \"DYLD_LIBRARY_PATH\"\n+    } else if cfg!(target_os = \"haiku\") {\n+        \"LIBRARY_PATH\"\n     } else {\n         \"LD_LIBRARY_PATH\"\n     }"}]}