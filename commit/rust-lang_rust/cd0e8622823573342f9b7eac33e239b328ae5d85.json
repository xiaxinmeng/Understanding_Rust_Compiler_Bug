{"sha": "cd0e8622823573342f9b7eac33e239b328ae5d85", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNkMGU4NjIyODIzNTczMzQyZjliN2VhYzMzZTIzOWIzMjhhZTVkODU=", "commit": {"author": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2019-09-01T09:17:01Z"}, "committer": {"name": "bjorn3", "email": "bjorn3@users.noreply.github.com", "date": "2019-09-01T09:17:01Z"}, "message": "Update ar\n\nFixes #672", "tree": {"sha": "705cf5af32494a28187dbc141d960ffe8cc24c24", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/705cf5af32494a28187dbc141d960ffe8cc24c24"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cd0e8622823573342f9b7eac33e239b328ae5d85", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cd0e8622823573342f9b7eac33e239b328ae5d85", "html_url": "https://github.com/rust-lang/rust/commit/cd0e8622823573342f9b7eac33e239b328ae5d85", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cd0e8622823573342f9b7eac33e239b328ae5d85/comments", "author": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bjorn3", "id": 17426603, "node_id": "MDQ6VXNlcjE3NDI2NjAz", "avatar_url": "https://avatars.githubusercontent.com/u/17426603?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bjorn3", "html_url": "https://github.com/bjorn3", "followers_url": "https://api.github.com/users/bjorn3/followers", "following_url": "https://api.github.com/users/bjorn3/following{/other_user}", "gists_url": "https://api.github.com/users/bjorn3/gists{/gist_id}", "starred_url": "https://api.github.com/users/bjorn3/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bjorn3/subscriptions", "organizations_url": "https://api.github.com/users/bjorn3/orgs", "repos_url": "https://api.github.com/users/bjorn3/repos", "events_url": "https://api.github.com/users/bjorn3/events{/privacy}", "received_events_url": "https://api.github.com/users/bjorn3/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "19f02554285a07bd7fdf1353cdde6249709f5b6c", "url": "https://api.github.com/repos/rust-lang/rust/commits/19f02554285a07bd7fdf1353cdde6249709f5b6c", "html_url": "https://github.com/rust-lang/rust/commit/19f02554285a07bd7fdf1353cdde6249709f5b6c"}], "stats": {"total": 13, "additions": 5, "deletions": 8}, "files": [{"sha": "9c3f0680bab610270d0c5f3b908710990e86f113", "filename": "Cargo.lock", "status": "modified", "additions": 3, "deletions": 6, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/cd0e8622823573342f9b7eac33e239b328ae5d85/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/cd0e8622823573342f9b7eac33e239b328ae5d85/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=cd0e8622823573342f9b7eac33e239b328ae5d85", "patch": "@@ -7,11 +7,8 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"ar\"\n-version = \"0.7.0\"\n+version = \"0.8.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"byteorder 1.3.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n \n [[package]]\n name = \"arrayvec\"\n@@ -498,7 +495,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n name = \"rustc_codegen_cranelift\"\n version = \"0.1.0\"\n dependencies = [\n- \"ar 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"ar 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"bitflags 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"byteorder 1.3.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cranelift 0.36.0 (git+https://github.com/bjorn3/cretonne.git?branch=do_not_remove_cg_clif_i128)\",\n@@ -668,7 +665,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [metadata]\n \"checksum adler32 1.0.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7e522997b529f05601e05166c07ed17789691f562762c7f3b987263d2dedee5c\"\n-\"checksum ar 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6c1afd66a96a235fa8eeec0ee757ec0d2c0db7cb89b4e04ae159f37952b97bd5\"\n+\"checksum ar 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"450575f58f7bee32816abbff470cbc47797397c2a81e0eaced4b98436daf52e1\"\n \"checksum arrayvec 0.4.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b8d73f9beda665eaa98ab9e4f7442bd4e7de6652587de55b2525e52e29c1b0ba\"\n \"checksum backtrace 0.3.35 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1371048253fa3bac6704bfd6bbfc922ee9bdcee8881330d40f308b81cc5adc55\"\n \"checksum backtrace-sys 0.1.31 (registry+https://github.com/rust-lang/crates.io-index)\" = \"82a830b4ef2d1124a711c71d263c5abdc710ef8e907bd508c88be475cebc422b\""}, {"sha": "b47a2449693c5844ae78be8f032a85b896ec8e00", "filename": "Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cd0e8622823573342f9b7eac33e239b328ae5d85/Cargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/cd0e8622823573342f9b7eac33e239b328ae5d85/Cargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.toml?ref=cd0e8622823573342f9b7eac33e239b328ae5d85", "patch": "@@ -18,7 +18,7 @@ target-lexicon = \"0.4.0\"\n faerie = \"0.10.2\"\n \n #goblin = \"0.0.17\"\n-ar = \"0.7.0\"\n+ar = \"0.8.0\"\n bitflags = \"1.1.0\"\n byteorder = \"1.2.7\"\n libc = \"0.2.53\""}, {"sha": "252976930e4a5485ed74a46ad9cd987e0197768e", "filename": "src/archive.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/cd0e8622823573342f9b7eac33e239b328ae5d85/src%2Farchive.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cd0e8622823573342f9b7eac33e239b328ae5d85/src%2Farchive.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Farchive.rs?ref=cd0e8622823573342f9b7eac33e239b328ae5d85", "patch": "@@ -39,7 +39,7 @@ impl<'a> ArchiveBuilder<'a> for ArArchiveBuilder<'a> {\n             sess,\n             dst: output.to_path_buf(),\n             lib_search_paths: archive_search_paths(sess),\n-            use_native_ar: true, // FIXME fix rust-ar to not emit corrupted archive files.\n+            use_native_ar: false,\n             // FIXME test for linux and System V derivatives instead\n             use_gnu_style_archive: !sess.target.target.options.is_like_osx,\n         };"}]}