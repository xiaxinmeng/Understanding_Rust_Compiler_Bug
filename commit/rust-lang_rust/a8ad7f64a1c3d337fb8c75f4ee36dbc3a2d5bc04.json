{"sha": "a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04", "node_id": "C_kwDOAAsO6NoAKGE4YWQ3ZjY0YTFjM2QzMzdmYjhjNzVmNGVlMzZkYmMzYTJkNWJjMDQ", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2022-12-17T22:44:28Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-12-17T22:44:28Z"}, "message": "Rollup merge of #105792 - Ezrashaw:add-e0320-long-docs, r=GuillaumeGomez\n\ndocs: add long error explanation for error E0320\n\nContinuation of #105791\n\nr? ``@GuillaumeGomez``", "tree": {"sha": "b9fa13e8cb9bbe798fdb5dbf2ad055d89bb3ae6e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b9fa13e8cb9bbe798fdb5dbf2ad055d89bb3ae6e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJjnkZMCRBK7hj4Ov3rIwAAIGYIAAUckN2j9O5tTszOlkivvf5k\nWcRDUMRNmlFWDST0G3DlYP2I3EFR+As4FQzyW9SALIfJRkh/tqdOxNEha+T2lqdA\n6q/j9m35D8dS6+PZiY7B53wJMfV1bFISFVwB5rPh8vYBtCkynjlQKrq56y7D8qCn\nEiu57XGgtBQEQPs7U8HV9pvx4b01Ot2bnPxb8cxW7n7uQB2FzkvELgCjgfhAvQWJ\n/oxg5lVMygo7bsiexKwXo2SroQxyIraYmipoldWtys970X0CRtRUUT0AYHOipPIj\n/3ZmyJGFGocIZd/o3k1B6+Tam5nKSuUeH+cv/w3BpLFO7sbfYzX4AnmCDphJnb0=\n=6bDB\n-----END PGP SIGNATURE-----\n", "payload": "tree b9fa13e8cb9bbe798fdb5dbf2ad055d89bb3ae6e\nparent 2835b668d90216e41a7f59fbf95ef17b61c3325b\nparent fe528829866f08bac8cf6615085ec4609db352e9\nauthor Matthias Kr\u00fcger <matthias.krueger@famsik.de> 1671317068 +0100\ncommitter GitHub <noreply@github.com> 1671317068 +0100\n\nRollup merge of #105792 - Ezrashaw:add-e0320-long-docs, r=GuillaumeGomez\n\ndocs: add long error explanation for error E0320\n\nContinuation of #105791\n\nr? ``@GuillaumeGomez``\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04", "html_url": "https://github.com/rust-lang/rust/commit/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2835b668d90216e41a7f59fbf95ef17b61c3325b", "url": "https://api.github.com/repos/rust-lang/rust/commits/2835b668d90216e41a7f59fbf95ef17b61c3325b", "html_url": "https://github.com/rust-lang/rust/commit/2835b668d90216e41a7f59fbf95ef17b61c3325b"}, {"sha": "fe528829866f08bac8cf6615085ec4609db352e9", "url": "https://api.github.com/repos/rust-lang/rust/commits/fe528829866f08bac8cf6615085ec4609db352e9", "html_url": "https://github.com/rust-lang/rust/commit/fe528829866f08bac8cf6615085ec4609db352e9"}], "stats": {"total": 33, "additions": 32, "deletions": 1}, "files": [{"sha": "67c512e98d68d6902e654b8a113f124b1ad657b2", "filename": "compiler/rustc_error_codes/src/error_codes.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes.rs?ref=a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04", "patch": "@@ -163,6 +163,7 @@ E0311: include_str!(\"./error_codes/E0311.md\"),\n E0312: include_str!(\"./error_codes/E0312.md\"),\n E0316: include_str!(\"./error_codes/E0316.md\"),\n E0317: include_str!(\"./error_codes/E0317.md\"),\n+E0320: include_str!(\"./error_codes/E0320.md\"),\n E0321: include_str!(\"./error_codes/E0321.md\"),\n E0322: include_str!(\"./error_codes/E0322.md\"),\n E0323: include_str!(\"./error_codes/E0323.md\"),\n@@ -575,7 +576,6 @@ E0791: include_str!(\"./error_codes/E0791.md\"),\n //  E0314, // closure outlives stack frame\n //  E0315, // cannot invoke closure outside of its lifetime\n //  E0319, // trait impls for defaulted traits allowed just for structs/enums\n-    E0320, // recursive overflow during dropck\n //  E0372, // coherence not object safe\n     E0377, // the trait `CoerceUnsized` may only be implemented for a coercion\n            // between structures with the same definition"}, {"sha": "e6e1b7c19a566fe8a512ff2e4bdaf88db9fb7671", "filename": "compiler/rustc_error_codes/src/error_codes/E0320.md", "status": "added", "additions": 27, "deletions": 0, "changes": 27, "blob_url": "https://github.com/rust-lang/rust/blob/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0320.md", "raw_url": "https://github.com/rust-lang/rust/raw/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0320.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_error_codes%2Fsrc%2Ferror_codes%2FE0320.md?ref=a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04", "patch": "@@ -0,0 +1,27 @@\n+Recursion limit reached while creating drop-check rules.\n+\n+Example of erroneous code:\n+\n+```compile_fail,E0320\n+enum A<T> {\n+    B,\n+    C(T, Box<A<(T, T)>>)\n+}\n+\n+fn foo<T>() {\n+    A::<T>::B; // error: overflow while adding drop-check rules for A<T>\n+}\n+```\n+\n+The Rust compiler must be able to reason about how a type is [`Drop`]ped, and\n+by extension the types of its fields, to be able to generate the glue to\n+properly drop a value. The code example above shows a type where this inference\n+is impossible because it is recursive. Note that this is *not* the same as\n+[E0072](E0072.html), where a type has an infinite size; the type here has a\n+finite size but any attempt to `Drop` it would recurse infinitely. For more\n+information, read [the `Drop` docs](../std/ops/trait.Drop.html).\n+\n+It is not possible to define a type with recursive drop-check rules. All such\n+recursion must be removed.\n+\n+[`Drop`]: ../std/ops/trait.Drop.html"}, {"sha": "3e39d15f9b0cd3e665c7ab133de94995f189314c", "filename": "src/test/ui/dropck/dropck_no_diverge_on_nonregular_1.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/src%2Ftest%2Fui%2Fdropck%2Fdropck_no_diverge_on_nonregular_1.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/src%2Ftest%2Fui%2Fdropck%2Fdropck_no_diverge_on_nonregular_1.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdropck%2Fdropck_no_diverge_on_nonregular_1.stderr?ref=a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04", "patch": "@@ -8,3 +8,4 @@ LL |     let ft =\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0320`."}, {"sha": "dbb74354471385a053ebb957dc187ca2064afea0", "filename": "src/test/ui/dropck/dropck_no_diverge_on_nonregular_2.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/src%2Ftest%2Fui%2Fdropck%2Fdropck_no_diverge_on_nonregular_2.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/src%2Ftest%2Fui%2Fdropck%2Fdropck_no_diverge_on_nonregular_2.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdropck%2Fdropck_no_diverge_on_nonregular_2.stderr?ref=a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04", "patch": "@@ -8,3 +8,4 @@ LL |     let ft =\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0320`."}, {"sha": "deaf116b647afe421a327ecc5c7472225f21a87c", "filename": "src/test/ui/dropck/dropck_no_diverge_on_nonregular_3.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/src%2Ftest%2Fui%2Fdropck%2Fdropck_no_diverge_on_nonregular_3.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/src%2Ftest%2Fui%2Fdropck%2Fdropck_no_diverge_on_nonregular_3.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdropck%2Fdropck_no_diverge_on_nonregular_3.stderr?ref=a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04", "patch": "@@ -16,3 +16,4 @@ LL |         Some(Wrapper::Simple::<u32>);\n \n error: aborting due to 2 previous errors\n \n+For more information about this error, try `rustc --explain E0320`."}, {"sha": "002dfe115b03f2f343f624377170c706334ea1db", "filename": "src/test/ui/recursion/issue-38591-non-regular-dropck-recursion.stderr", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/src%2Ftest%2Fui%2Frecursion%2Fissue-38591-non-regular-dropck-recursion.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04/src%2Ftest%2Fui%2Frecursion%2Fissue-38591-non-regular-dropck-recursion.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frecursion%2Fissue-38591-non-regular-dropck-recursion.stderr?ref=a8ad7f64a1c3d337fb8c75f4ee36dbc3a2d5bc04", "patch": "@@ -8,3 +8,4 @@ LL | fn f(x: S<u32>) {}\n \n error: aborting due to previous error\n \n+For more information about this error, try `rustc --explain E0320`."}]}