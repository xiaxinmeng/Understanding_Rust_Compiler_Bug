{"sha": "3816f9a6f9428525e44e8cdcfb1db206b3f543dd", "node_id": "C_kwDOAAsO6NoAKDM4MTZmOWE2Zjk0Mjg1MjVlNDRlOGNkY2ZiMWRiMjA2YjNmNTQzZGQ", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-01-06T05:25:34Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2023-01-06T05:25:34Z"}, "message": "Auto merge of #10137 - euclio:dbg-macro, r=giraffate\n\nreword dbg_macro labels\n\n---\n\nThis change rewords the `dbg_macro` lint labels to be clearer.\n\nchangelog: none\n<!-- changelog_checked -->", "tree": {"sha": "96bacca0a167e85f77ef11865407c39e1ac70e1a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/96bacca0a167e85f77ef11865407c39e1ac70e1a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3816f9a6f9428525e44e8cdcfb1db206b3f543dd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3816f9a6f9428525e44e8cdcfb1db206b3f543dd", "html_url": "https://github.com/rust-lang/rust/commit/3816f9a6f9428525e44e8cdcfb1db206b3f543dd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3816f9a6f9428525e44e8cdcfb1db206b3f543dd/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4f4c96155ae7578dcbdf09dabd7f382a371cc9d5", "url": "https://api.github.com/repos/rust-lang/rust/commits/4f4c96155ae7578dcbdf09dabd7f382a371cc9d5", "html_url": "https://github.com/rust-lang/rust/commit/4f4c96155ae7578dcbdf09dabd7f382a371cc9d5"}, {"sha": "9aef1a264a52d59e959e4b0a2f9a71d06c3def13", "url": "https://api.github.com/repos/rust-lang/rust/commits/9aef1a264a52d59e959e4b0a2f9a71d06c3def13", "html_url": "https://github.com/rust-lang/rust/commit/9aef1a264a52d59e959e4b0a2f9a71d06c3def13"}], "stats": {"total": 98, "additions": 49, "deletions": 49}, "files": [{"sha": "799e71e847a9fcf60fc176d86e413f5aa7de57a1", "filename": "clippy_lints/src/dbg_macro.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3816f9a6f9428525e44e8cdcfb1db206b3f543dd/clippy_lints%2Fsrc%2Fdbg_macro.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3816f9a6f9428525e44e8cdcfb1db206b3f543dd/clippy_lints%2Fsrc%2Fdbg_macro.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fdbg_macro.rs?ref=3816f9a6f9428525e44e8cdcfb1db206b3f543dd", "patch": "@@ -10,11 +10,11 @@ use rustc_span::sym;\n \n declare_clippy_lint! {\n     /// ### What it does\n-    /// Checks for usage of dbg!() macro.\n+    /// Checks for usage of the [`dbg!`](https://doc.rust-lang.org/std/macro.dbg.html) macro.\n     ///\n     /// ### Why is this bad?\n-    /// `dbg!` macro is intended as a debugging tool. It\n-    /// should not be in version control.\n+    /// The `dbg!` macro is intended as a debugging tool. It should not be present in released\n+    /// software or committed to a version control system.\n     ///\n     /// ### Example\n     /// ```rust,ignore\n@@ -91,8 +91,8 @@ impl LateLintPass<'_> for DbgMacro {\n                 cx,\n                 DBG_MACRO,\n                 macro_call.span,\n-                \"`dbg!` macro is intended as a debugging tool\",\n-                \"ensure to avoid having uses of it in version control\",\n+                \"the `dbg!` macro is intended as a debugging tool\",\n+                \"remove the invocation before committing it to a version control system\",\n                 suggestion,\n                 applicability,\n             );"}, {"sha": "859383a71194fd2d64d62241f7a574d9c1204096", "filename": "tests/ui-toml/dbg_macro/dbg_macro.stderr", "status": "modified", "additions": 18, "deletions": 18, "changes": 36, "blob_url": "https://github.com/rust-lang/rust/blob/3816f9a6f9428525e44e8cdcfb1db206b3f543dd/tests%2Fui-toml%2Fdbg_macro%2Fdbg_macro.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3816f9a6f9428525e44e8cdcfb1db206b3f543dd/tests%2Fui-toml%2Fdbg_macro%2Fdbg_macro.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui-toml%2Fdbg_macro%2Fdbg_macro.stderr?ref=3816f9a6f9428525e44e8cdcfb1db206b3f543dd", "patch": "@@ -1,99 +1,99 @@\n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:5:22\n    |\n LL |     if let Some(n) = dbg!(n.checked_sub(4)) { n } else { n }\n    |                      ^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::dbg-macro` implied by `-D warnings`\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     if let Some(n) = n.checked_sub(4) { n } else { n }\n    |                      ~~~~~~~~~~~~~~~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:9:8\n    |\n LL |     if dbg!(n <= 1) {\n    |        ^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     if n <= 1 {\n    |        ~~~~~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:10:9\n    |\n LL |         dbg!(1)\n    |         ^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |         1\n    |\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:12:9\n    |\n LL |         dbg!(n * factorial(n - 1))\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |         n * factorial(n - 1)\n    |\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:17:5\n    |\n LL |     dbg!(42);\n    |     ^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     42;\n    |     ~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:18:5\n    |\n LL |     dbg!(dbg!(dbg!(42)));\n    |     ^^^^^^^^^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     dbg!(dbg!(42));\n    |     ~~~~~~~~~~~~~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:19:14\n    |\n LL |     foo(3) + dbg!(factorial(4));\n    |              ^^^^^^^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     foo(3) + factorial(4);\n    |              ~~~~~~~~~~~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:20:5\n    |\n LL |     dbg!(1, 2, dbg!(3, 4));\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     (1, 2, dbg!(3, 4));\n    |     ~~~~~~~~~~~~~~~~~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:21:5\n    |\n LL |     dbg!(1, 2, 3, 4, 5);\n    |     ^^^^^^^^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     (1, 2, 3, 4, 5);\n    |     ~~~~~~~~~~~~~~~"}, {"sha": "ddb5f1342e9942a72f2183b9bee79b3a5ef0506b", "filename": "tests/ui/dbg_macro.stderr", "status": "modified", "additions": 26, "deletions": 26, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/3816f9a6f9428525e44e8cdcfb1db206b3f543dd/tests%2Fui%2Fdbg_macro.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3816f9a6f9428525e44e8cdcfb1db206b3f543dd/tests%2Fui%2Fdbg_macro.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fdbg_macro.stderr?ref=3816f9a6f9428525e44e8cdcfb1db206b3f543dd", "patch": "@@ -1,143 +1,143 @@\n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:5:22\n    |\n LL |     if let Some(n) = dbg!(n.checked_sub(4)) { n } else { n }\n    |                      ^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = note: `-D clippy::dbg-macro` implied by `-D warnings`\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     if let Some(n) = n.checked_sub(4) { n } else { n }\n    |                      ~~~~~~~~~~~~~~~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:9:8\n    |\n LL |     if dbg!(n <= 1) {\n    |        ^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     if n <= 1 {\n    |        ~~~~~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:10:9\n    |\n LL |         dbg!(1)\n    |         ^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |         1\n    |\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:12:9\n    |\n LL |         dbg!(n * factorial(n - 1))\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |         n * factorial(n - 1)\n    |\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:17:5\n    |\n LL |     dbg!(42);\n    |     ^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     42;\n    |     ~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:18:5\n    |\n LL |     dbg!(dbg!(dbg!(42)));\n    |     ^^^^^^^^^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     dbg!(dbg!(42));\n    |     ~~~~~~~~~~~~~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:19:14\n    |\n LL |     foo(3) + dbg!(factorial(4));\n    |              ^^^^^^^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     foo(3) + factorial(4);\n    |              ~~~~~~~~~~~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:20:5\n    |\n LL |     dbg!(1, 2, dbg!(3, 4));\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     (1, 2, dbg!(3, 4));\n    |     ~~~~~~~~~~~~~~~~~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:21:5\n    |\n LL |     dbg!(1, 2, 3, 4, 5);\n    |     ^^^^^^^^^^^^^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     (1, 2, 3, 4, 5);\n    |     ~~~~~~~~~~~~~~~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:41:9\n    |\n LL |         dbg!(2);\n    |         ^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |         2;\n    |         ~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:47:5\n    |\n LL |     dbg!(1);\n    |     ^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     1;\n    |     ~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:52:5\n    |\n LL |     dbg!(1);\n    |     ^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |     1;\n    |     ~\n \n-error: `dbg!` macro is intended as a debugging tool\n+error: the `dbg!` macro is intended as a debugging tool\n   --> $DIR/dbg_macro.rs:58:9\n    |\n LL |         dbg!(1);\n    |         ^^^^^^^\n    |\n-help: ensure to avoid having uses of it in version control\n+help: remove the invocation before committing it to a version control system\n    |\n LL |         1;\n    |         ~"}]}