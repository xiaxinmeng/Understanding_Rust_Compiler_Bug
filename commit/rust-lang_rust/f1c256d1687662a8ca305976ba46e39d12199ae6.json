{"sha": "f1c256d1687662a8ca305976ba46e39d12199ae6", "node_id": "C_kwDOAAsO6NoAKGYxYzI1NmQxNjg3NjYyYThjYTMwNTk3NmJhNDZlMzlkMTIxOTlhZTY", "commit": {"author": {"name": "Miguel Guarniz", "email": "mi9uel9@gmail.com", "date": "2022-05-09T23:07:13Z"}, "committer": {"name": "Miguel Guarniz", "email": "mi9uel9@gmail.com", "date": "2022-05-13T15:46:06Z"}, "message": "remove redundant branch\n\nSigned-off-by: Miguel Guarniz <mi9uel9@gmail.com>", "tree": {"sha": "8ac1d1f6b6aaf951461e93b14d37d749f5cb8cb0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8ac1d1f6b6aaf951461e93b14d37d749f5cb8cb0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/f1c256d1687662a8ca305976ba46e39d12199ae6", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/f1c256d1687662a8ca305976ba46e39d12199ae6", "html_url": "https://github.com/rust-lang/rust/commit/f1c256d1687662a8ca305976ba46e39d12199ae6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/f1c256d1687662a8ca305976ba46e39d12199ae6/comments", "author": {"login": "kckeiks", "id": 24687641, "node_id": "MDQ6VXNlcjI0Njg3NjQx", "avatar_url": "https://avatars.githubusercontent.com/u/24687641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kckeiks", "html_url": "https://github.com/kckeiks", "followers_url": "https://api.github.com/users/kckeiks/followers", "following_url": "https://api.github.com/users/kckeiks/following{/other_user}", "gists_url": "https://api.github.com/users/kckeiks/gists{/gist_id}", "starred_url": "https://api.github.com/users/kckeiks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kckeiks/subscriptions", "organizations_url": "https://api.github.com/users/kckeiks/orgs", "repos_url": "https://api.github.com/users/kckeiks/repos", "events_url": "https://api.github.com/users/kckeiks/events{/privacy}", "received_events_url": "https://api.github.com/users/kckeiks/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kckeiks", "id": 24687641, "node_id": "MDQ6VXNlcjI0Njg3NjQx", "avatar_url": "https://avatars.githubusercontent.com/u/24687641?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kckeiks", "html_url": "https://github.com/kckeiks", "followers_url": "https://api.github.com/users/kckeiks/followers", "following_url": "https://api.github.com/users/kckeiks/following{/other_user}", "gists_url": "https://api.github.com/users/kckeiks/gists{/gist_id}", "starred_url": "https://api.github.com/users/kckeiks/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kckeiks/subscriptions", "organizations_url": "https://api.github.com/users/kckeiks/orgs", "repos_url": "https://api.github.com/users/kckeiks/repos", "events_url": "https://api.github.com/users/kckeiks/events{/privacy}", "received_events_url": "https://api.github.com/users/kckeiks/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "17e86d9ff9d4e3d84077febbeaf67344bcb7f6d9", "url": "https://api.github.com/repos/rust-lang/rust/commits/17e86d9ff9d4e3d84077febbeaf67344bcb7f6d9", "html_url": "https://github.com/rust-lang/rust/commit/17e86d9ff9d4e3d84077febbeaf67344bcb7f6d9"}], "stats": {"total": 19, "additions": 4, "deletions": 15}, "files": [{"sha": "8305830bc988ff87d044d385f495140b76f714fb", "filename": "compiler/rustc_passes/src/debugger_visualizer.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/f1c256d1687662a8ca305976ba46e39d12199ae6/compiler%2Frustc_passes%2Fsrc%2Fdebugger_visualizer.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1c256d1687662a8ca305976ba46e39d12199ae6/compiler%2Frustc_passes%2Fsrc%2Fdebugger_visualizer.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_passes%2Fsrc%2Fdebugger_visualizer.rs?ref=f1c256d1687662a8ca305976ba46e39d12199ae6", "patch": "@@ -86,13 +86,13 @@ fn debugger_visualizers<'tcx>(tcx: TyCtxt<'tcx>, cnum: CrateNum) -> Vec<Debugger\n     let mut debugger_visualizers = FxHashSet::default();\n \n     // Collect debugger visualizers in this crate.\n-    tcx.hir().for_each_module(\n-        |id| check_for_debugger_visualizer(\n+    tcx.hir().for_each_module(|id| {\n+        check_for_debugger_visualizer(\n             tcx,\n             tcx.hir().local_def_id_to_hir_id(id),\n-            &mut debugger_visualizers\n+            &mut debugger_visualizers,\n         )\n-    );\n+    });\n \n     // Collect debugger visualizers on the crate attributes.\n     check_for_debugger_visualizer(tcx, CRATE_HIR_ID, &mut debugger_visualizers);"}, {"sha": "4d3c730dc90896d340e79899e1ef6f84138d9960", "filename": "compiler/rustc_privacy/src/lib.rs", "status": "modified", "additions": 0, "deletions": 11, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/f1c256d1687662a8ca305976ba46e39d12199ae6/compiler%2Frustc_privacy%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/f1c256d1687662a8ca305976ba46e39d12199ae6/compiler%2Frustc_privacy%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_privacy%2Fsrc%2Flib.rs?ref=f1c256d1687662a8ca305976ba46e39d12199ae6", "patch": "@@ -1847,17 +1847,6 @@ impl<'tcx> PrivateItemsInPublicInterfacesChecker<'tcx> {\n         let item_visibility = tcx.visibility(id.def_id);\n         let def_kind = tcx.def_kind(id.def_id);\n \n-        if matches!(\n-            def_kind,\n-            DefKind::ExternCrate\n-                | DefKind::Mod\n-                | DefKind::Use\n-                | DefKind::Macro(_)\n-                | DefKind::GlobalAsm\n-        ) {\n-            return;\n-        }\n-\n         match def_kind {\n             DefKind::Const | DefKind::Static(_) | DefKind::Fn | DefKind::TyAlias => {\n                 self.check(id.def_id, item_visibility).generics().predicates().ty();"}]}