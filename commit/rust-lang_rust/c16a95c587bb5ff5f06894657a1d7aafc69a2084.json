{"sha": "c16a95c587bb5ff5f06894657a1d7aafc69a2084", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMxNmE5NWM1ODdiYjVmZjVmMDY4OTQ2NTdhMWQ3YWFmYzY5YTIwODQ=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-10-25T01:56:05Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2013-10-25T01:56:05Z"}, "message": "auto merge of #10059 : thestinger/rust/glue, r=pcwalton\n\nCloses #10045", "tree": {"sha": "012275706fa722858f24ef2f258d1cfe4ff55b0b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/012275706fa722858f24ef2f258d1cfe4ff55b0b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c16a95c587bb5ff5f06894657a1d7aafc69a2084", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c16a95c587bb5ff5f06894657a1d7aafc69a2084", "html_url": "https://github.com/rust-lang/rust/commit/c16a95c587bb5ff5f06894657a1d7aafc69a2084", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c16a95c587bb5ff5f06894657a1d7aafc69a2084/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b0c475229a286542b0a94bf33598cc53a525d8da", "url": "https://api.github.com/repos/rust-lang/rust/commits/b0c475229a286542b0a94bf33598cc53a525d8da", "html_url": "https://github.com/rust-lang/rust/commit/b0c475229a286542b0a94bf33598cc53a525d8da"}, {"sha": "d497e6e954c13dae04d7de4e6c3f6a8171a626df", "url": "https://api.github.com/repos/rust-lang/rust/commits/d497e6e954c13dae04d7de4e6c3f6a8171a626df", "html_url": "https://github.com/rust-lang/rust/commit/d497e6e954c13dae04d7de4e6c3f6a8171a626df"}], "stats": {"total": 7, "additions": 0, "deletions": 7}, "files": [{"sha": "f00fa3e70e1bf808cac444406550475b92865548", "filename": "src/librustc/middle/trans/base.rs", "status": "modified", "additions": 0, "deletions": 6, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/c16a95c587bb5ff5f06894657a1d7aafc69a2084/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c16a95c587bb5ff5f06894657a1d7aafc69a2084/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fbase.rs?ref=c16a95c587bb5ff5f06894657a1d7aafc69a2084", "patch": "@@ -534,12 +534,6 @@ pub fn set_no_split_stack(f: ValueRef) {\n     }\n }\n \n-pub fn set_glue_inlining(f: ValueRef, t: ty::t) {\n-    if ty::type_is_structural(t) {\n-        set_optimize_for_size(f);\n-    } else { set_always_inline(f); }\n-}\n-\n // Double-check that we never ask LLVM to declare the same symbol twice. It\n // silently mangles such symbols, breaking our linkage model.\n pub fn note_unique_llvm_symbol(ccx: &mut CrateContext, sym: @str) {"}, {"sha": "2b0f13d2a7cd839c95849eb8d5ce7c299cf74499", "filename": "src/librustc/middle/trans/glue.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c16a95c587bb5ff5f06894657a1d7aafc69a2084/src%2Flibrustc%2Fmiddle%2Ftrans%2Fglue.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c16a95c587bb5ff5f06894657a1d7aafc69a2084/src%2Flibrustc%2Fmiddle%2Ftrans%2Fglue.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fglue.rs?ref=c16a95c587bb5ff5f06894657a1d7aafc69a2084", "patch": "@@ -674,7 +674,6 @@ pub fn declare_generic_glue(ccx: &mut CrateContext, t: ty::t, llfnty: Type,\n     debug!(\"{} is for type {}\", fn_nm, ppaux::ty_to_str(ccx.tcx, t));\n     note_unique_llvm_symbol(ccx, fn_nm);\n     let llfn = decl_cdecl_fn(ccx.llmod, fn_nm, llfnty);\n-    set_glue_inlining(llfn, t);\n     return llfn;\n }\n "}]}