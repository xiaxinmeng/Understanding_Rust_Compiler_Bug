{"sha": "4f4d0fd9ac2e1d4929bc749cbba0b67406302b6a", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRmNGQwZmQ5YWMyZTFkNDkyOWJjNzQ5Y2JiYTBiNjc0MDYzMDJiNmE=", "commit": {"author": {"name": "KENTARO OKUDA", "email": "lonesometraveler@mac.com", "date": "2020-05-02T22:55:04Z"}, "committer": {"name": "KENTARO OKUDA", "email": "lonesometraveler@mac.com", "date": "2020-05-02T22:55:04Z"}, "message": "Update syntax.md", "tree": {"sha": "67337fd57a73d705224ee22734a9e73d24b9a525", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/67337fd57a73d705224ee22734a9e73d24b9a525"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4f4d0fd9ac2e1d4929bc749cbba0b67406302b6a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4f4d0fd9ac2e1d4929bc749cbba0b67406302b6a", "html_url": "https://github.com/rust-lang/rust/commit/4f4d0fd9ac2e1d4929bc749cbba0b67406302b6a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4f4d0fd9ac2e1d4929bc749cbba0b67406302b6a/comments", "author": {"login": "lonesometraveler", "id": 11710312, "node_id": "MDQ6VXNlcjExNzEwMzEy", "avatar_url": "https://avatars.githubusercontent.com/u/11710312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lonesometraveler", "html_url": "https://github.com/lonesometraveler", "followers_url": "https://api.github.com/users/lonesometraveler/followers", "following_url": "https://api.github.com/users/lonesometraveler/following{/other_user}", "gists_url": "https://api.github.com/users/lonesometraveler/gists{/gist_id}", "starred_url": "https://api.github.com/users/lonesometraveler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lonesometraveler/subscriptions", "organizations_url": "https://api.github.com/users/lonesometraveler/orgs", "repos_url": "https://api.github.com/users/lonesometraveler/repos", "events_url": "https://api.github.com/users/lonesometraveler/events{/privacy}", "received_events_url": "https://api.github.com/users/lonesometraveler/received_events", "type": "User", "site_admin": false}, "committer": {"login": "lonesometraveler", "id": 11710312, "node_id": "MDQ6VXNlcjExNzEwMzEy", "avatar_url": "https://avatars.githubusercontent.com/u/11710312?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lonesometraveler", "html_url": "https://github.com/lonesometraveler", "followers_url": "https://api.github.com/users/lonesometraveler/followers", "following_url": "https://api.github.com/users/lonesometraveler/following{/other_user}", "gists_url": "https://api.github.com/users/lonesometraveler/gists{/gist_id}", "starred_url": "https://api.github.com/users/lonesometraveler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lonesometraveler/subscriptions", "organizations_url": "https://api.github.com/users/lonesometraveler/orgs", "repos_url": "https://api.github.com/users/lonesometraveler/repos", "events_url": "https://api.github.com/users/lonesometraveler/events{/privacy}", "received_events_url": "https://api.github.com/users/lonesometraveler/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9914f7fbb2f901c9293a1463707ceffcfdd51ceb", "url": "https://api.github.com/repos/rust-lang/rust/commits/9914f7fbb2f901c9293a1463707ceffcfdd51ceb", "html_url": "https://github.com/rust-lang/rust/commit/9914f7fbb2f901c9293a1463707ceffcfdd51ceb"}], "stats": {"total": 4, "additions": 2, "deletions": 2}, "files": [{"sha": "c2864bbbc6373622f43e27bc2519c1e3f4812295", "filename": "docs/dev/syntax.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/4f4d0fd9ac2e1d4929bc749cbba0b67406302b6a/docs%2Fdev%2Fsyntax.md", "raw_url": "https://github.com/rust-lang/rust/raw/4f4d0fd9ac2e1d4929bc749cbba0b67406302b6a/docs%2Fdev%2Fsyntax.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fdev%2Fsyntax.md?ref=4f4d0fd9ac2e1d4929bc749cbba0b67406302b6a", "patch": "@@ -287,7 +287,7 @@ In other words, one needs *one* arc bump when initiating a traversal.\n To get rid of allocations, `rowan` takes advantage of `SyntaxNode: !Sync` and uses a thread-local free list of `SyntaxNode`s.\n In a typical traversal, you only directly hold a few `SyntaxNode`s at a time (and their ancestors indirectly), so a free list proportional to the depth of the tree removes all allocations in a typical case.\n \n-So, while traversal is not exactly incrementing a pointer, it's still pretty cheep: tls + rc bump!\n+So, while traversal is not exactly incrementing a pointer, it's still pretty cheap: TLS + rc bump!\n \n Traversal also yields (cheap) owned nodes, which improves ergonomics quite a bit.\n \n@@ -309,7 +309,7 @@ struct SyntaxData {\n ```\n \n This allows using true pointer equality for comparison of identities of `SyntaxNodes`.\n-rust-analyzer used to have this design as well, but since we've switch to cursors.\n+rust-analyzer used to have this design as well, but we've since switched to cursors.\n The main problem with memoizing the red nodes is that it more than doubles the memory requirements for fully realized syntax trees.\n In contrast, cursors generally retain only a path to the root.\n C# combats increased memory usage by using weak references."}]}