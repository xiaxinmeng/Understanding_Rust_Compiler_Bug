{"sha": "e6e72809e3b55da3a57af95e6445a12729331ad6", "node_id": "C_kwDOAAsO6NoAKGU2ZTcyODA5ZTNiNTVkYTNhNTdhZjk1ZTY0NDVhMTI3MjkzMzFhZDY", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2022-01-16T15:13:52Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-01-16T15:13:52Z"}, "message": "Merge #11287\n\n11287: fix: rust-analyzer spamming overly error message when workspace not being loaded r=lnicola a=Milo123459\n\nFixes #10120\n\nCo-authored-by: Milo <50248166+Milo123459@users.noreply.github.com>", "tree": {"sha": "c13de786fec18e3e1443953cf3bbb9e432d5d94b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c13de786fec18e3e1443953cf3bbb9e432d5d94b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e6e72809e3b55da3a57af95e6445a12729331ad6", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJh5DYwCRBK7hj4Ov3rIwAAauIIAA0lsc2p3KyyFF6zPpBCpVrl\nFZY6emVUnfGltLBIWXsZXRegcm4G6lybQ6GaWclpDAj9NmbhLc+A9683ZcJaZ5jq\nR1dgOYxH5GQCa21UdC066V2/M7YwcNMUNSiJ3O0AWSTsEz0mlOXek/xYCy3CtNu0\nzKc2mohAasjCR/LjEDr3CMa+qOzytN89Cs6fNkvZNW5vezwulSQFQSbBs0L3Gyma\n6PGG1kTJK8pwO6LTeQ2iH2PYMmFD2cqUFbwVYONbAWSZjunrEO9OIqBTwMX7w8sM\nCDkJ5MfuMtUkO8K4DnvrC+hEjzvUP8hJAsOPFqhStFCIppuq4SKrCSeVOo2nTvg=\n=8kLL\n-----END PGP SIGNATURE-----\n", "payload": "tree c13de786fec18e3e1443953cf3bbb9e432d5d94b\nparent 7a52f8370024c7f3e8e2fd8c5df785cdbe804847\nparent 3de6b4839f2473febea356d3a94b470b86fac8dd\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1642346032 +0000\ncommitter GitHub <noreply@github.com> 1642346032 +0000\n\nMerge #11287\n\n11287: fix: rust-analyzer spamming overly error message when workspace not being loaded r=lnicola a=Milo123459\n\nFixes #10120\n\nCo-authored-by: Milo <50248166+Milo123459@users.noreply.github.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e6e72809e3b55da3a57af95e6445a12729331ad6", "html_url": "https://github.com/rust-lang/rust/commit/e6e72809e3b55da3a57af95e6445a12729331ad6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e6e72809e3b55da3a57af95e6445a12729331ad6/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7a52f8370024c7f3e8e2fd8c5df785cdbe804847", "url": "https://api.github.com/repos/rust-lang/rust/commits/7a52f8370024c7f3e8e2fd8c5df785cdbe804847", "html_url": "https://github.com/rust-lang/rust/commit/7a52f8370024c7f3e8e2fd8c5df785cdbe804847"}, {"sha": "3de6b4839f2473febea356d3a94b470b86fac8dd", "url": "https://api.github.com/repos/rust-lang/rust/commits/3de6b4839f2473febea356d3a94b470b86fac8dd", "html_url": "https://github.com/rust-lang/rust/commit/3de6b4839f2473febea356d3a94b470b86fac8dd"}], "stats": {"total": 2, "additions": 1, "deletions": 1}, "files": [{"sha": "830b77f3918135e91854cd0431613c6350294295", "filename": "crates/rust-analyzer/src/main_loop.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e6e72809e3b55da3a57af95e6445a12729331ad6/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e6e72809e3b55da3a57af95e6445a12729331ad6/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Frust-analyzer%2Fsrc%2Fmain_loop.rs?ref=e6e72809e3b55da3a57af95e6445a12729331ad6", "patch": "@@ -524,7 +524,7 @@ impl GlobalState {\n         }\n \n         let loop_duration = loop_start.elapsed();\n-        if loop_duration > Duration::from_millis(100) {\n+        if loop_duration > Duration::from_millis(100) && was_quiescent {\n             tracing::warn!(\"overly long loop turn: {:?}\", loop_duration);\n             self.poke_rust_analyzer_developer(format!(\n                 \"overly long loop turn: {:?}\","}]}