{"sha": "2f7f7ac14ef6537e266983449fbd63b163b8560e", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmN2Y3YWMxNGVmNjUzN2UyNjY5ODM0NDlmYmQ2M2IxNjNiODU2MGU=", "commit": {"author": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2018-05-22T14:48:43Z"}, "committer": {"name": "Felix S. Klock II", "email": "pnkfelix@pnkfx.org", "date": "2018-05-29T21:02:40Z"}, "message": "Review feedback, remove fixme comment.", "tree": {"sha": "d446583772214de5ad57fdc4e8d02fac3fd64e97", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d446583772214de5ad57fdc4e8d02fac3fd64e97"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2f7f7ac14ef6537e266983449fbd63b163b8560e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2f7f7ac14ef6537e266983449fbd63b163b8560e", "html_url": "https://github.com/rust-lang/rust/commit/2f7f7ac14ef6537e266983449fbd63b163b8560e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2f7f7ac14ef6537e266983449fbd63b163b8560e/comments", "author": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "committer": {"login": "pnkfelix", "id": 173127, "node_id": "MDQ6VXNlcjE3MzEyNw==", "avatar_url": "https://avatars.githubusercontent.com/u/173127?v=4", "gravatar_id": "", "url": "https://api.github.com/users/pnkfelix", "html_url": "https://github.com/pnkfelix", "followers_url": "https://api.github.com/users/pnkfelix/followers", "following_url": "https://api.github.com/users/pnkfelix/following{/other_user}", "gists_url": "https://api.github.com/users/pnkfelix/gists{/gist_id}", "starred_url": "https://api.github.com/users/pnkfelix/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/pnkfelix/subscriptions", "organizations_url": "https://api.github.com/users/pnkfelix/orgs", "repos_url": "https://api.github.com/users/pnkfelix/repos", "events_url": "https://api.github.com/users/pnkfelix/events{/privacy}", "received_events_url": "https://api.github.com/users/pnkfelix/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7f0c8f6638cba650d5a18aaa91d3fdd4ce3c01fa", "url": "https://api.github.com/repos/rust-lang/rust/commits/7f0c8f6638cba650d5a18aaa91d3fdd4ce3c01fa", "html_url": "https://github.com/rust-lang/rust/commit/7f0c8f6638cba650d5a18aaa91d3fdd4ce3c01fa"}], "stats": {"total": 17, "additions": 0, "deletions": 17}, "files": [{"sha": "a3c7bcfbd0bef6eb77bba30d9c2ac07aced400f7", "filename": "src/librustc_mir/build/matches/mod.rs", "status": "modified", "additions": 0, "deletions": 17, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/2f7f7ac14ef6537e266983449fbd63b163b8560e/src%2Flibrustc_mir%2Fbuild%2Fmatches%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f7f7ac14ef6537e266983449fbd63b163b8560e/src%2Flibrustc_mir%2Fbuild%2Fmatches%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fbuild%2Fmatches%2Fmod.rs?ref=2f7f7ac14ef6537e266983449fbd63b163b8560e", "patch": "@@ -131,23 +131,6 @@ impl<'a, 'gcx, 'tcx> Builder<'a, 'gcx, 'tcx> {\n                         // This should ensure that you cannot change\n                         // the variant for an enum while you are in\n                         // the midst of matching on it.\n-                        //\n-                        // FIXME: I originally had put this at the\n-                        // start of each elem of arm_blocks (see\n-                        // ArmBlocks construction above). But this was\n-                        // broken; for example, when you had a trivial\n-                        // match like `match \"foo\".to_string() { _s =>\n-                        // {} }`, it would inject a ReadForMatch\n-                        // *after* the move of the input into `_s`,\n-                        // and that then does not pass the borrow\n-                        // check.\n-                        //\n-                        // * So: I need to fine tune exactly *where*\n-                        //   the ReadForMatch belongs. Should it come\n-                        //   at the beginning of each pattern match,\n-                        //   or the end? And, should there be one\n-                        //   ReadForMatch per arm, or one per\n-                        //   candidate (aka pattern)?\n \n                         self.cfg.push(*pre_binding_block, Statement {\n                             source_info,"}]}