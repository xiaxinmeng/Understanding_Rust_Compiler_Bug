{"sha": "e154132c911be41b75e84d01de5c7efa4da9168e", "node_id": "MDY6Q29tbWl0NzI0NzEyOmUxNTQxMzJjOTExYmU0MWI3NWU4NGQwMWRlNWM3ZWZhNGRhOTE2OGU=", "commit": {"author": {"name": "Emil Lauridsen", "email": "mine809@gmail.com", "date": "2020-03-17T13:55:44Z"}, "committer": {"name": "Emil Lauridsen", "email": "mine809@gmail.com", "date": "2020-03-17T13:55:44Z"}, "message": "Remove outDirOverrides", "tree": {"sha": "343f031803bbf5b35c74bac3fee22c157be50a61", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/343f031803bbf5b35c74bac3fee22c157be50a61"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e154132c911be41b75e84d01de5c7efa4da9168e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e154132c911be41b75e84d01de5c7efa4da9168e", "html_url": "https://github.com/rust-lang/rust/commit/e154132c911be41b75e84d01de5c7efa4da9168e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e154132c911be41b75e84d01de5c7efa4da9168e/comments", "author": {"login": "kiljacken", "id": 209321, "node_id": "MDQ6VXNlcjIwOTMyMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/209321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiljacken", "html_url": "https://github.com/kiljacken", "followers_url": "https://api.github.com/users/kiljacken/followers", "following_url": "https://api.github.com/users/kiljacken/following{/other_user}", "gists_url": "https://api.github.com/users/kiljacken/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiljacken/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiljacken/subscriptions", "organizations_url": "https://api.github.com/users/kiljacken/orgs", "repos_url": "https://api.github.com/users/kiljacken/repos", "events_url": "https://api.github.com/users/kiljacken/events{/privacy}", "received_events_url": "https://api.github.com/users/kiljacken/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kiljacken", "id": 209321, "node_id": "MDQ6VXNlcjIwOTMyMQ==", "avatar_url": "https://avatars.githubusercontent.com/u/209321?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kiljacken", "html_url": "https://github.com/kiljacken", "followers_url": "https://api.github.com/users/kiljacken/followers", "following_url": "https://api.github.com/users/kiljacken/following{/other_user}", "gists_url": "https://api.github.com/users/kiljacken/gists{/gist_id}", "starred_url": "https://api.github.com/users/kiljacken/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kiljacken/subscriptions", "organizations_url": "https://api.github.com/users/kiljacken/orgs", "repos_url": "https://api.github.com/users/kiljacken/repos", "events_url": "https://api.github.com/users/kiljacken/events{/privacy}", "received_events_url": "https://api.github.com/users/kiljacken/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "f84deffd72d28143bf95c91563121de9b41c76ae", "url": "https://api.github.com/repos/rust-lang/rust/commits/f84deffd72d28143bf95c91563121de9b41c76ae", "html_url": "https://github.com/rust-lang/rust/commit/f84deffd72d28143bf95c91563121de9b41c76ae"}], "stats": {"total": 15, "additions": 0, "deletions": 15}, "files": [{"sha": "eeeb102339d7f7b1894328442bcf370c496738ad", "filename": "crates/ra_project_model/src/cargo_workspace.rs", "status": "modified", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/e154132c911be41b75e84d01de5c7efa4da9168e/crates%2Fra_project_model%2Fsrc%2Fcargo_workspace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e154132c911be41b75e84d01de5c7efa4da9168e/crates%2Fra_project_model%2Fsrc%2Fcargo_workspace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_project_model%2Fsrc%2Fcargo_workspace.rs?ref=e154132c911be41b75e84d01de5c7efa4da9168e", "patch": "@@ -39,9 +39,6 @@ pub struct CargoFeatures {\n \n     /// Runs cargo check on launch to figure out the correct values of OUT_DIR\n     pub load_out_dirs_from_check: bool,\n-\n-    /// Fine grained controls for additional `OUT_DIR` env variables\n-    pub out_dir_overrides: FxHashMap<PackageId, PathBuf>,\n }\n \n impl Default for CargoFeatures {\n@@ -51,7 +48,6 @@ impl Default for CargoFeatures {\n             all_features: true,\n             features: Vec::new(),\n             load_out_dirs_from_check: false,\n-            out_dir_overrides: FxHashMap::default(),\n         }\n     }\n }\n@@ -195,10 +191,6 @@ impl CargoWorkspace {\n         if cargo_features.load_out_dirs_from_check {\n             out_dir_by_id = load_out_dirs(cargo_toml, cargo_features);\n         }\n-        // We explicitly extend afterwards to allow overriding the value returned by cargo\n-        out_dir_by_id.extend(\n-            cargo_features.out_dir_overrides.iter().map(|(id, path)| (id.clone(), path.clone())),\n-        );\n \n         let mut pkg_by_id = FxHashMap::default();\n         let mut packages = Arena::default();"}, {"sha": "b9e0ffd2be45beecf901dfb5bab0b2fba17ffce4", "filename": "editors/code/package.json", "status": "modified", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/e154132c911be41b75e84d01de5c7efa4da9168e/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/e154132c911be41b75e84d01de5c7efa4da9168e/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=e154132c911be41b75e84d01de5c7efa4da9168e", "patch": "@@ -362,11 +362,6 @@\n                     \"type\": \"boolean\",\n                     \"default\": false,\n                     \"markdownDescription\": \"Run `cargo check` on startup to get the correct value for package OUT_DIRs\"\n-                },\n-                \"rust-analyzer.cargoFeatures.outDirOverrides\": {\n-                    \"type\": \"object\",\n-                    \"default\": {},\n-                    \"markdownDescription\": \"Fine grained controls for OUT_DIR `env!(\\\"OUT_DIR\\\")` variable. e.g. `{\\\"foo 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\\\":\\\"/path/to/foo\\\"}`, \"\n                 }\n             }\n         },"}, {"sha": "b45b14bef38d5f69f45a6f12e69b4d9e29fb4d9f", "filename": "editors/code/src/config.ts", "status": "modified", "additions": 0, "deletions": 2, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e154132c911be41b75e84d01de5c7efa4da9168e/editors%2Fcode%2Fsrc%2Fconfig.ts", "raw_url": "https://github.com/rust-lang/rust/raw/e154132c911be41b75e84d01de5c7efa4da9168e/editors%2Fcode%2Fsrc%2Fconfig.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fconfig.ts?ref=e154132c911be41b75e84d01de5c7efa4da9168e", "patch": "@@ -23,7 +23,6 @@ export interface CargoFeatures {\n     allFeatures: boolean;\n     features: string[];\n     loadOutDirsFromCheck: boolean;\n-    outDirOverrides: Record<string, string>;\n }\n \n export const enum UpdatesChannel {\n@@ -222,7 +221,6 @@ export class Config {\n             allFeatures: this.cfg.get(\"cargoFeatures.allFeatures\") as boolean,\n             features: this.cfg.get(\"cargoFeatures.features\") as string[],\n             loadOutDirsFromCheck: this.cfg.get(\"cargoFeatures.loadOutDirsFromCheck\") as boolean,\n-            outDirOverrides: this.cfg.get(\"cargoFeatures.outDirOverrides\") as Record<string, string>,\n         };\n     }\n "}]}