{"sha": "17a8c1017f189b9921794b90e3fa3a46ed35e5c5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE3YThjMTAxN2YxODliOTkyMTc5NGI5MGUzZmEzYTQ2ZWQzNWU1YzU=", "commit": {"author": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2020-12-29T18:33:48Z"}, "committer": {"name": "Matthias Kr\u00fcger", "email": "matthias.krueger@famsik.de", "date": "2020-12-29T18:40:03Z"}, "message": "don't clone copy types", "tree": {"sha": "a5e9c8e8601634afb3a5648aee59157e1275af46", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a5e9c8e8601634afb3a5648aee59157e1275af46"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/17a8c1017f189b9921794b90e3fa3a46ed35e5c5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/17a8c1017f189b9921794b90e3fa3a46ed35e5c5", "html_url": "https://github.com/rust-lang/rust/commit/17a8c1017f189b9921794b90e3fa3a46ed35e5c5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/comments", "author": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matthiaskrgr", "id": 476013, "node_id": "MDQ6VXNlcjQ3NjAxMw==", "avatar_url": "https://avatars.githubusercontent.com/u/476013?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matthiaskrgr", "html_url": "https://github.com/matthiaskrgr", "followers_url": "https://api.github.com/users/matthiaskrgr/followers", "following_url": "https://api.github.com/users/matthiaskrgr/following{/other_user}", "gists_url": "https://api.github.com/users/matthiaskrgr/gists{/gist_id}", "starred_url": "https://api.github.com/users/matthiaskrgr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matthiaskrgr/subscriptions", "organizations_url": "https://api.github.com/users/matthiaskrgr/orgs", "repos_url": "https://api.github.com/users/matthiaskrgr/repos", "events_url": "https://api.github.com/users/matthiaskrgr/events{/privacy}", "received_events_url": "https://api.github.com/users/matthiaskrgr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "158f8d034b15e65ba8dc0d066358dd0632bfcd6e", "url": "https://api.github.com/repos/rust-lang/rust/commits/158f8d034b15e65ba8dc0d066358dd0632bfcd6e", "html_url": "https://github.com/rust-lang/rust/commit/158f8d034b15e65ba8dc0d066358dd0632bfcd6e"}], "stats": {"total": 20, "additions": 10, "deletions": 10}, "files": [{"sha": "e27eac3f69b00e5fe25620529303c436cf53012c", "filename": "compiler/rustc_codegen_ssa/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/compiler%2Frustc_codegen_ssa%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/compiler%2Frustc_codegen_ssa%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_codegen_ssa%2Fsrc%2Flib.rs?ref=17a8c1017f189b9921794b90e3fa3a46ed35e5c5", "patch": "@@ -116,7 +116,7 @@ pub struct NativeLib {\n \n impl From<&cstore::NativeLib> for NativeLib {\n     fn from(lib: &cstore::NativeLib) -> Self {\n-        NativeLib { kind: lib.kind.clone(), name: lib.name.clone(), cfg: lib.cfg.clone() }\n+        NativeLib { kind: lib.kind, name: lib.name, cfg: lib.cfg.clone() }\n     }\n }\n "}, {"sha": "2a8b6a321f1c6c7841af3bea2684fecf6307892e", "filename": "src/librustdoc/clean/auto_trait.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fauto_trait.rs?ref=17a8c1017f189b9921794b90e3fa3a46ed35e5c5", "patch": "@@ -597,7 +597,7 @@ impl<'a, 'tcx> AutoTraitFinder<'a, 'tcx> {\n                                             ref mut bindings, ..\n                                         } => {\n                                             bindings.push(TypeBinding {\n-                                                name: left_name.clone(),\n+                                                name: left_name,\n                                                 kind: TypeBindingKind::Equality { ty: rhs },\n                                             });\n                                         }\n@@ -665,7 +665,7 @@ impl<'a, 'tcx> AutoTraitFinder<'a, 'tcx> {\n                 GenericParamDefKind::Type { ref mut default, ref mut bounds, .. } => {\n                     // We never want something like `impl<T=Foo>`.\n                     default.take();\n-                    let generic_ty = Type::Generic(param.name.clone());\n+                    let generic_ty = Type::Generic(param.name);\n                     if !has_sized.contains(&generic_ty) {\n                         bounds.insert(0, GenericBound::maybe_sized(self.cx));\n                     }"}, {"sha": "e56556b5af70c4395662d51b5f2dba5600157eb7", "filename": "src/librustdoc/clean/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/src%2Flibrustdoc%2Fclean%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/src%2Flibrustdoc%2Fclean%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Fmod.rs?ref=17a8c1017f189b9921794b90e3fa3a46ed35e5c5", "patch": "@@ -831,7 +831,7 @@ impl<'a, 'tcx> Clean<Generics> for (&'a ty::Generics, ty::GenericPredicates<'tcx\n         where_predicates.retain(|pred| match *pred {\n             WP::BoundPredicate { ty: Generic(ref g), ref bounds } => {\n                 if bounds.iter().any(|b| b.is_sized_bound(cx)) {\n-                    sized_params.insert(g.clone());\n+                    sized_params.insert(*g);\n                     false\n                 } else {\n                     true\n@@ -847,7 +847,7 @@ impl<'a, 'tcx> Clean<Generics> for (&'a ty::Generics, ty::GenericPredicates<'tcx\n                 && !sized_params.contains(&tp.name)\n             {\n                 where_predicates.push(WP::BoundPredicate {\n-                    ty: Type::Generic(tp.name.clone()),\n+                    ty: Type::Generic(tp.name),\n                     bounds: vec![GenericBound::maybe_sized(cx)],\n                 })\n             }"}, {"sha": "2cde0c209ee9ba2905a52729fb7077111341d6c6", "filename": "src/librustdoc/clean/utils.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/src%2Flibrustdoc%2Fclean%2Futils.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/src%2Flibrustdoc%2Fclean%2Futils.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fclean%2Futils.rs?ref=17a8c1017f189b9921794b90e3fa3a46ed35e5c5", "patch": "@@ -74,7 +74,7 @@ crate fn krate(mut cx: &mut DocContext<'_>) -> Crate {\n             )\n         }));\n         m.items.extend(keywords.into_iter().map(|(def_id, kw)| {\n-            Item::from_def_id_and_parts(def_id, Some(kw.clone()), ItemKind::KeywordItem(kw), cx)\n+            Item::from_def_id_and_parts(def_id, Some(kw), ItemKind::KeywordItem(kw), cx)\n         }));\n     }\n \n@@ -307,7 +307,7 @@ crate fn strip_path(path: &Path) -> Path {\n         .segments\n         .iter()\n         .map(|s| PathSegment {\n-            name: s.name.clone(),\n+            name: s.name,\n             args: GenericArgs::AngleBracketed { args: vec![], bindings: vec![] },\n         })\n         .collect();"}, {"sha": "407076ed6fff61953742943b777e06ab5d7b3c6e", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=17a8c1017f189b9921794b90e3fa3a46ed35e5c5", "patch": "@@ -538,7 +538,7 @@ impl<'tcx> FormatRenderer<'tcx> for Context<'tcx> {\n     fn after_krate(&mut self, krate: &clean::Crate, cache: &Cache) -> Result<(), Error> {\n         let final_file = self.dst.join(&*krate.name.as_str()).join(\"all.html\");\n         let settings_file = self.dst.join(\"settings.html\");\n-        let crate_name = krate.name.clone();\n+        let crate_name = krate.name;\n \n         let mut root_path = self.dst.to_str().expect(\"invalid path\").to_owned();\n         if !root_path.ends_with('/') {\n@@ -3967,7 +3967,7 @@ fn render_impl(\n         cache: &Cache,\n     ) {\n         for trait_item in &t.items {\n-            let n = trait_item.name.clone();\n+            let n = trait_item.name;\n             if i.items.iter().any(|m| m.name == n) {\n                 continue;\n             }"}, {"sha": "aa100363a38baee2b0ac67c6d858fe5cce13065e", "filename": "src/librustdoc/passes/collect_intra_doc_links.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "raw_url": "https://github.com/rust-lang/rust/raw/17a8c1017f189b9921794b90e3fa3a46ed35e5c5/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fpasses%2Fcollect_intra_doc_links.rs?ref=17a8c1017f189b9921794b90e3fa3a46ed35e5c5", "patch": "@@ -1234,7 +1234,7 @@ impl LinkCollector<'_, '_> {\n     ) -> Option<(Res, Option<String>)> {\n         // Try to look up both the result and the corresponding side channel value\n         if let Some(ref cached) = self.visited_links.get(&key) {\n-            self.kind_side_channel.set(cached.side_channel.clone());\n+            self.kind_side_channel.set(cached.side_channel);\n             return Some(cached.res.clone());\n         }\n "}]}