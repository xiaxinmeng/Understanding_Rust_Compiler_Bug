{"sha": "58df0a0473d7a02959a2a7043a2d46688909b5fe", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU4ZGYwYTA0NzNkN2EwMjk1OWEyYTcwNDNhMmQ0NjY4ODkwOWI1ZmU=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2020-08-01T16:30:16Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-08-01T16:30:16Z"}, "message": "Rollup merge of #74995 - sunfishcode:update-llvm, r=alexcrichton\n\nUpdate the WASI libc build to LLVM 10.\n\nAmong other things, this brings in [the `__main_argc_argv`] patch,\nwhich simplifies the interaction between the compiler and WASI libc's\nstartup code, which will help work on reactor support.\n\n[the `__main_argc_argv` patch]: https://github.com/llvm/llvm-project/commit/00072c08c75050ae2c835b7bb0e505475dbcd7b9\n\nr? @alexcrichton", "tree": {"sha": "fc9f1f1130f98e8b32e994e0433eef9f2b0433a9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fc9f1f1130f98e8b32e994e0433eef9f2b0433a9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/58df0a0473d7a02959a2a7043a2d46688909b5fe", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfJZiYCRBK7hj4Ov3rIwAAdHIIADoeCd9KE6y+wmqGdgukPWos\nqxW1sj9kVxj0Xf3ZI2Mao9kCqX6vifxyKCAi3FGeP+pj003M7rj/7tb9juTA+8vl\n/oJhdCfnZg4+bxz34x0SbVGfcdQPTL9drNWsFHz7yr/sdAnG8B4UQHIYpHRiq5w8\nEMXnpZ1w2CeCb3TlpFTDG9NzRUyPredG5qXTzbmi3VRlQ4/6gf2uqj68aK/QcXlW\ncY/6QPfOsp7M0ui794ZGV1NXbCVXN+Sv4tXaNPLe6I651W/z3Zite1zBByup2e2x\nu4yWsSL24iDKWWront2Y1rhxBTyzsNJzQ97KNUCIciJSmCtYMFFRLFItujvh85Q=\n=ybBj\n-----END PGP SIGNATURE-----\n", "payload": "tree fc9f1f1130f98e8b32e994e0433eef9f2b0433a9\nparent 69515819b625292f0c175a92d93339b2f231b947\nparent 9ade8366c076f1b40d846b5ed76c141d48beb70d\nauthor Manish Goregaokar <manishsmail@gmail.com> 1596299416 -0700\ncommitter GitHub <noreply@github.com> 1596299416 -0700\n\nRollup merge of #74995 - sunfishcode:update-llvm, r=alexcrichton\n\nUpdate the WASI libc build to LLVM 10.\n\nAmong other things, this brings in [the `__main_argc_argv`] patch,\nwhich simplifies the interaction between the compiler and WASI libc's\nstartup code, which will help work on reactor support.\n\n[the `__main_argc_argv` patch]: https://github.com/llvm/llvm-project/commit/00072c08c75050ae2c835b7bb0e505475dbcd7b9\n\nr? @alexcrichton\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/58df0a0473d7a02959a2a7043a2d46688909b5fe", "html_url": "https://github.com/rust-lang/rust/commit/58df0a0473d7a02959a2a7043a2d46688909b5fe", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/58df0a0473d7a02959a2a7043a2d46688909b5fe/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "69515819b625292f0c175a92d93339b2f231b947", "url": "https://api.github.com/repos/rust-lang/rust/commits/69515819b625292f0c175a92d93339b2f231b947", "html_url": "https://github.com/rust-lang/rust/commit/69515819b625292f0c175a92d93339b2f231b947"}, {"sha": "9ade8366c076f1b40d846b5ed76c141d48beb70d", "url": "https://api.github.com/repos/rust-lang/rust/commits/9ade8366c076f1b40d846b5ed76c141d48beb70d", "html_url": "https://github.com/rust-lang/rust/commit/9ade8366c076f1b40d846b5ed76c141d48beb70d"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "c6db200f8660f36f5e3e36faf4e3692ab83ab551", "filename": "src/ci/docker/host-x86_64/dist-various-2/build-wasi-toolchain.sh", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/58df0a0473d7a02959a2a7043a2d46688909b5fe/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-wasi-toolchain.sh", "raw_url": "https://github.com/rust-lang/rust/raw/58df0a0473d7a02959a2a7043a2d46688909b5fe/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-wasi-toolchain.sh", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fci%2Fdocker%2Fhost-x86_64%2Fdist-various-2%2Fbuild-wasi-toolchain.sh?ref=58df0a0473d7a02959a2a7043a2d46688909b5fe", "patch": "@@ -4,10 +4,10 @@\n \n set -ex\n \n-# Originally from https://releases.llvm.org/9.0.0/clang+llvm-9.0.0-x86_64-linux-gnu-ubuntu-14.04.tar.xz\n-curl https://ci-mirrors.rust-lang.org/rustc/clang%2Bllvm-9.0.0-x86_64-linux-gnu-ubuntu-14.04.tar.xz | \\\n+# Originally from https://github.com/llvm/llvm-project/releases/download/llvmorg-10.0.0/clang+llvm-10.0.0-x86_64-linux-gnu-ubuntu-18.04.tar.xz\n+curl https://ci-mirrors.rust-lang.org/rustc/clang%2Bllvm-10.0.0-x86_64-linux-gnu-ubuntu-18.04.tar.xz | \\\n   tar xJf -\n-export PATH=`pwd`/clang+llvm-9.0.0-x86_64-linux-gnu-ubuntu-14.04/bin:$PATH\n+export PATH=`pwd`/clang+llvm-10.0.0-x86_64-linux-gnu-ubuntu-18.04/bin:$PATH\n \n git clone https://github.com/WebAssembly/wasi-libc\n "}]}