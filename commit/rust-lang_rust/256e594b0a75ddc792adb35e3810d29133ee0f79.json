{"sha": "256e594b0a75ddc792adb35e3810d29133ee0f79", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI1NmU1OTRiMGE3NWRkYzc5MmFkYjM1ZTM4MTBkMjkxMzNlZTBmNzk=", "commit": {"author": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2021-03-21T02:44:55Z"}, "committer": {"name": "Manish Goregaokar", "email": "manishsmail@gmail.com", "date": "2021-04-12T15:45:45Z"}, "message": "rustdoc: Add setting for hiding large items", "tree": {"sha": "0e56532ef15f304c8f3403124007cc7099c96298", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0e56532ef15f304c8f3403124007cc7099c96298"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/256e594b0a75ddc792adb35e3810d29133ee0f79", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/256e594b0a75ddc792adb35e3810d29133ee0f79", "html_url": "https://github.com/rust-lang/rust/commit/256e594b0a75ddc792adb35e3810d29133ee0f79", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/256e594b0a75ddc792adb35e3810d29133ee0f79/comments", "author": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Manishearth", "id": 1617736, "node_id": "MDQ6VXNlcjE2MTc3MzY=", "avatar_url": "https://avatars.githubusercontent.com/u/1617736?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Manishearth", "html_url": "https://github.com/Manishearth", "followers_url": "https://api.github.com/users/Manishearth/followers", "following_url": "https://api.github.com/users/Manishearth/following{/other_user}", "gists_url": "https://api.github.com/users/Manishearth/gists{/gist_id}", "starred_url": "https://api.github.com/users/Manishearth/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Manishearth/subscriptions", "organizations_url": "https://api.github.com/users/Manishearth/orgs", "repos_url": "https://api.github.com/users/Manishearth/repos", "events_url": "https://api.github.com/users/Manishearth/events{/privacy}", "received_events_url": "https://api.github.com/users/Manishearth/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "173cbecc66ee1bbb54c039a00c3b75b4cdf7e277", "url": "https://api.github.com/repos/rust-lang/rust/commits/173cbecc66ee1bbb54c039a00c3b75b4cdf7e277", "html_url": "https://github.com/rust-lang/rust/commit/173cbecc66ee1bbb54c039a00c3b75b4cdf7e277"}], "stats": {"total": 7, "additions": 6, "deletions": 1}, "files": [{"sha": "00a19006bb9bede9dd45d31d8298b57916d3e1a2", "filename": "src/librustdoc/html/render/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/256e594b0a75ddc792adb35e3810d29133ee0f79/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/256e594b0a75ddc792adb35e3810d29133ee0f79/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender%2Fmod.rs?ref=256e594b0a75ddc792adb35e3810d29133ee0f79", "patch": "@@ -486,6 +486,7 @@ fn settings(root_path: &str, suffix: &str, themes: &[StylePath]) -> Result<Strin\n             ],\n         )\n             .into(),\n+        (\"auto-hide-large-items\", \"Auto-hide item contents for large items.\", true).into(),\n         (\"auto-hide-attributes\", \"Auto-hide item attributes.\", true).into(),\n         (\"auto-hide-method-docs\", \"Auto-hide item methods' documentation\", false).into(),\n         (\"auto-hide-trait-implementations\", \"Auto-hide trait implementation documentation\", true)"}, {"sha": "af66a7a135a1fb12625febde3474328b40b2d45e", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 5, "deletions": 1, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/256e594b0a75ddc792adb35e3810d29133ee0f79/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/256e594b0a75ddc792adb35e3810d29133ee0f79/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=256e594b0a75ddc792adb35e3810d29133ee0f79", "patch": "@@ -2705,8 +2705,12 @@ function hideThemeButtonState() {\n                 }\n             } else if (hasClass(e, \"type-contents-toggle\")) {\n                 let text = e.getAttribute(\"data-toggle-text\");\n-                let tog = createToggle(toggle, `Show ${text}`, null, \"\", true);\n+                let hideItemContents = getSettingValue(\"auto-hide-large-items\") !== \"false\";\n+                let tog = createToggle(toggle, `Show ${text}`, null, \"\", !hideItemContents);\n                 e.parentNode.insertBefore(tog,  e);\n+                if (hideItemContents) {\n+                    collapseDocs(e.previousSibling.childNodes[0], \"toggle\");\n+                }\n             }\n             if (e.parentNode.id === \"main\") {\n                 var otherMessage = \"\";"}]}