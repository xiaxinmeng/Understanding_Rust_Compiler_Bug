{"sha": "10384ab18a386e6f7b58c714def62e405182d968", "node_id": "MDY6Q29tbWl0NzI0NzEyOjEwMzg0YWIxOGEzODZlNmY3YjU4YzcxNGRlZjYyZTQwNTE4MmQ5Njg=", "commit": {"author": {"name": "Jacob Kiesel", "email": "kieseljake@gmail.com", "date": "2017-09-18T16:15:17Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2017-09-18T16:15:17Z"}, "message": "Add requested comment", "tree": {"sha": "7095a7708015b1437b4451fe2485256666b8aff9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7095a7708015b1437b4451fe2485256666b8aff9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/10384ab18a386e6f7b58c714def62e405182d968", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/10384ab18a386e6f7b58c714def62e405182d968", "html_url": "https://github.com/rust-lang/rust/commit/10384ab18a386e6f7b58c714def62e405182d968", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/10384ab18a386e6f7b58c714def62e405182d968/comments", "author": {"login": "Xaeroxe", "id": 6182002, "node_id": "MDQ6VXNlcjYxODIwMDI=", "avatar_url": "https://avatars.githubusercontent.com/u/6182002?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Xaeroxe", "html_url": "https://github.com/Xaeroxe", "followers_url": "https://api.github.com/users/Xaeroxe/followers", "following_url": "https://api.github.com/users/Xaeroxe/following{/other_user}", "gists_url": "https://api.github.com/users/Xaeroxe/gists{/gist_id}", "starred_url": "https://api.github.com/users/Xaeroxe/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Xaeroxe/subscriptions", "organizations_url": "https://api.github.com/users/Xaeroxe/orgs", "repos_url": "https://api.github.com/users/Xaeroxe/repos", "events_url": "https://api.github.com/users/Xaeroxe/events{/privacy}", "received_events_url": "https://api.github.com/users/Xaeroxe/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "4de0cf122d342fa6b1eb6eb30ae8a04d1d55353d", "url": "https://api.github.com/repos/rust-lang/rust/commits/4de0cf122d342fa6b1eb6eb30ae8a04d1d55353d", "html_url": "https://github.com/rust-lang/rust/commit/4de0cf122d342fa6b1eb6eb30ae8a04d1d55353d"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "c5aaaac8f76be8c4fadac5000c0d7b69f1eabf28", "filename": "src/liballoc/vec.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/10384ab18a386e6f7b58c714def62e405182d968/src%2Fliballoc%2Fvec.rs", "raw_url": "https://github.com/rust-lang/rust/raw/10384ab18a386e6f7b58c714def62e405182d968/src%2Fliballoc%2Fvec.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fliballoc%2Fvec.rs?ref=10384ab18a386e6f7b58c714def62e405182d968", "patch": "@@ -2694,6 +2694,9 @@ impl<'a, T, F> Iterator for DrainFilter<'a, T, F>\n                     let del = self.del;\n                     let src: *const T = &v[i];\n                     let dst: *mut T = &mut v[i - del];\n+                    // This is safe because self.vec has length 0\n+                    // thus its elements will not have Drop::drop\n+                    // called on them in the event of a panic.\n                     ptr::copy_nonoverlapping(src, dst, 1);\n                 }\n             }"}]}