{"sha": "c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "node_id": "MDY6Q29tbWl0NzI0NzEyOmMwNmUzYWE0NDZhYTdmNjY4MWJkM2ZmYzJhNzA3OGY0M2JhYjVkZWQ=", "commit": {"author": {"name": "Maik Klein", "email": "maikklein@googlemail.com", "date": "2017-10-27T08:50:39Z"}, "committer": {"name": "Ariel Ben-Yehuda", "email": "ariel.byd@gmail.com", "date": "2017-12-18T15:08:49Z"}, "message": "Refactor paths to middle::trans to mir::mono", "tree": {"sha": "a4927c39fe8acdd700b6a76f8a65102d59390885", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a4927c39fe8acdd700b6a76f8a65102d59390885"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "html_url": "https://github.com/rust-lang/rust/commit/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/comments", "author": {"login": "MaikKlein", "id": 1994306, "node_id": "MDQ6VXNlcjE5OTQzMDY=", "avatar_url": "https://avatars.githubusercontent.com/u/1994306?v=4", "gravatar_id": "", "url": "https://api.github.com/users/MaikKlein", "html_url": "https://github.com/MaikKlein", "followers_url": "https://api.github.com/users/MaikKlein/followers", "following_url": "https://api.github.com/users/MaikKlein/following{/other_user}", "gists_url": "https://api.github.com/users/MaikKlein/gists{/gist_id}", "starred_url": "https://api.github.com/users/MaikKlein/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/MaikKlein/subscriptions", "organizations_url": "https://api.github.com/users/MaikKlein/orgs", "repos_url": "https://api.github.com/users/MaikKlein/repos", "events_url": "https://api.github.com/users/MaikKlein/events{/privacy}", "received_events_url": "https://api.github.com/users/MaikKlein/received_events", "type": "User", "site_admin": false}, "committer": {"login": "arielb1", "id": 1830974, "node_id": "MDQ6VXNlcjE4MzA5NzQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1830974?v=4", "gravatar_id": "", "url": "https://api.github.com/users/arielb1", "html_url": "https://github.com/arielb1", "followers_url": "https://api.github.com/users/arielb1/followers", "following_url": "https://api.github.com/users/arielb1/following{/other_user}", "gists_url": "https://api.github.com/users/arielb1/gists{/gist_id}", "starred_url": "https://api.github.com/users/arielb1/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/arielb1/subscriptions", "organizations_url": "https://api.github.com/users/arielb1/orgs", "repos_url": "https://api.github.com/users/arielb1/repos", "events_url": "https://api.github.com/users/arielb1/events{/privacy}", "received_events_url": "https://api.github.com/users/arielb1/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "ae468ab38bd6604d36651dac3542faa637191c44", "url": "https://api.github.com/repos/rust-lang/rust/commits/ae468ab38bd6604d36651dac3542faa637191c44", "html_url": "https://github.com/rust-lang/rust/commit/ae468ab38bd6604d36651dac3542faa637191c44"}], "stats": {"total": 29, "additions": 14, "deletions": 15}, "files": [{"sha": "f00830f9ec99299fa8aaffc546cc0c46ec7b2fe4", "filename": "src/librustc/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Flib.rs?ref=c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "patch": "@@ -136,7 +136,6 @@ pub mod middle {\n     pub mod recursion_limit;\n     pub mod resolve_lifetime;\n     pub mod stability;\n-    pub mod trans;\n     pub mod weak_lang_items;\n }\n "}, {"sha": "0ac2c2d4de8c0eca2b6e2c70fec7f53a4660ee54", "filename": "src/librustc/mir/mod.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc%2Fmir%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc%2Fmir%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmir%2Fmod.rs?ref=c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "patch": "@@ -44,6 +44,7 @@ pub mod tcx;\n pub mod visit;\n pub mod traversal;\n pub mod interpret;\n+pub mod mono;\n \n /// Types for locals\n type LocalDecls<'tcx> = IndexVec<Local, LocalDecl<'tcx>>;"}, {"sha": "f6dd8b6e021b62d3a39edefd9bf35f4b264a2e2b", "filename": "src/librustc/ty/maps/mod.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc%2Fty%2Fmaps%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc%2Fty%2Fmaps%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fty%2Fmaps%2Fmod.rs?ref=c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "patch": "@@ -27,7 +27,7 @@ use middle::resolve_lifetime::{ResolveLifetimes, Region, ObjectLifetimeDefault};\n use middle::stability::{self, DeprecationEntry};\n use middle::lang_items::{LanguageItems, LangItem};\n use middle::exported_symbols::SymbolExportLevel;\n-use middle::trans::{CodegenUnit, Stats};\n+use mir::mono::{CodegenUnit, Stats};\n use mir;\n use session::{CompileResult, CrateDisambiguator};\n use session::config::OutputFilenames;"}, {"sha": "18dd19b4d9ee683f54364f08b03a6c354ccbb3a7", "filename": "src/librustc_mir/monomorphize/collector.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_mir%2Fmonomorphize%2Fcollector.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_mir%2Fmonomorphize%2Fcollector.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fmonomorphize%2Fcollector.rs?ref=c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "patch": "@@ -195,13 +195,13 @@ use rustc::hir::map as hir_map;\n use rustc::hir::def_id::DefId;\n use rustc::middle::const_val::ConstVal;\n use rustc::middle::lang_items::{ExchangeMallocFnLangItem};\n-use rustc::middle::trans::MonoItem;\n use rustc::traits;\n use rustc::ty::subst::Substs;\n use rustc::ty::{self, TypeFoldable, Ty, TyCtxt};\n use rustc::ty::adjustment::CustomCoerceUnsized;\n use rustc::mir::{self, Location};\n use rustc::mir::visit::Visitor as MirVisitor;\n+use rustc::mir::mono::MonoItem;\n \n use monomorphize::{self, Instance};\n use rustc::util::nodemap::{FxHashSet, FxHashMap, DefIdMap};"}, {"sha": "ddc1becfd7cc4c6564d00e34bcfeeb5eba00da42", "filename": "src/librustc_mir/monomorphize/item.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_mir%2Fmonomorphize%2Fitem.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_mir%2Fmonomorphize%2Fitem.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fmonomorphize%2Fitem.rs?ref=c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "patch": "@@ -17,7 +17,6 @@\n use monomorphize::Instance;\n use rustc::hir;\n use rustc::hir::def_id::DefId;\n-use rustc::middle::trans::Linkage;\n use rustc::session::config::OptLevel;\n use rustc::traits;\n use rustc::ty::{self, Ty, TyCtxt};\n@@ -26,11 +25,11 @@ use syntax::ast;\n use syntax::attr::{self, InlineAttr};\n use std::fmt::{self, Write};\n use std::iter;\n-\n-pub use rustc::middle::trans::MonoItem;\n+use rustc::mir::mono::Linkage;\n+pub use rustc::mir::mono::MonoItem;\n \n pub fn linkage_by_name(name: &str) -> Option<Linkage> {\n-    use rustc::middle::trans::Linkage::*;\n+    use rustc::mir::mono::Linkage::*;\n \n     // Use the names from src/llvm/docs/LangRef.rst here. Most types are only\n     // applicable to variable declarations and may not really make sense for"}, {"sha": "825f306499a7c41c274c5ce6d79c5139efdd916f", "filename": "src/librustc_trans/back/symbol_names.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_trans%2Fback%2Fsymbol_names.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_trans%2Fback%2Fsymbol_names.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fback%2Fsymbol_names.rs?ref=c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "patch": "@@ -101,7 +101,7 @@ use monomorphize::Instance;\n use trans_item::{BaseMonoItemExt, InstantiationMode};\n \n use rustc::middle::weak_lang_items;\n-use rustc::middle::trans::MonoItem;\n+use rustc::mir::mono::MonoItem;\n use rustc::hir::def_id::DefId;\n use rustc::hir::map as hir_map;\n use rustc::ty::{self, Ty, TyCtxt, TypeFoldable};"}, {"sha": "430b8cce28593e4582bfb1120b7fd0c2a50ec40b", "filename": "src/librustc_trans/base.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_trans%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_trans%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fbase.rs?ref=c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "patch": "@@ -38,8 +38,8 @@ use llvm;\n use metadata;\n use rustc::hir::def_id::{CrateNum, DefId, LOCAL_CRATE};\n use rustc::middle::lang_items::StartFnLangItem;\n-use rustc::middle::trans::{Linkage, Visibility, Stats};\n-use rustc::middle::cstore::EncodedMetadata;\n+use rustc::mir::mono::{Linkage, Visibility, Stats};\n+use rustc::middle::cstore::{EncodedMetadata};\n use rustc::ty::{self, Ty, TyCtxt};\n use rustc::ty::layout::{self, Align, TyLayout, LayoutOf};\n use rustc::ty::maps::Providers;"}, {"sha": "77fdf0ee691e3663262f9b9043b4b8a86a5c825e", "filename": "src/librustc_trans/context.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_trans%2Fcontext.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_trans%2Fcontext.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fcontext.rs?ref=c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "patch": "@@ -27,7 +27,7 @@ use type_::Type;\n use type_of::PointeeInfo;\n \n use rustc_data_structures::base_n;\n-use rustc::middle::trans::Stats;\n+use rustc::mir::mono::Stats;\n use rustc_data_structures::stable_hasher::StableHashingContextProvider;\n use rustc::session::config::{self, NoDebugInfo};\n use rustc::session::Session;"}, {"sha": "7637e444e5bea5173702d262eb75f35fd7f13374", "filename": "src/librustc_trans/partitioning.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_trans%2Fpartitioning.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_trans%2Fpartitioning.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Fpartitioning.rs?ref=c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "patch": "@@ -107,7 +107,7 @@ use common;\n use rustc::dep_graph::WorkProductId;\n use rustc::hir::def_id::DefId;\n use rustc::hir::map::DefPathData;\n-use rustc::middle::trans::{Linkage, Visibility};\n+use rustc::mir::mono::{Linkage, Visibility};\n use rustc::ty::{self, TyCtxt, InstanceDef};\n use rustc::ty::item_path::characteristic_def_id_of_type;\n use rustc::util::nodemap::{FxHashMap, FxHashSet};\n@@ -116,7 +116,7 @@ use syntax::ast::NodeId;\n use syntax::symbol::{Symbol, InternedString};\n use trans_item::{MonoItem, BaseMonoItemExt, MonoItemExt, InstantiationMode};\n \n-pub use rustc::middle::trans::CodegenUnit;\n+pub use rustc::mir::mono::CodegenUnit;\n \n pub enum PartitioningStrategy {\n     /// Generate one codegen unit per source-level module."}, {"sha": "535c9a9bcc917b6a6bbbb04b110e17aab9bf46a8", "filename": "src/librustc_trans/trans_item.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_trans%2Ftrans_item.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded/src%2Flibrustc_trans%2Ftrans_item.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_trans%2Ftrans_item.rs?ref=c06e3aa446aa7f6681bd3ffc2a7078f43bab5ded", "patch": "@@ -25,7 +25,7 @@ use llvm;\n use monomorphize::Instance;\n use type_of::LayoutLlvmExt;\n use rustc::hir;\n-use rustc::middle::trans::{Linkage, Visibility};\n+use rustc::mir::mono::{Linkage, Visibility};\n use rustc::ty::{self, TyCtxt, TypeFoldable};\n use rustc::ty::layout::LayoutOf;\n use syntax::ast;\n@@ -34,7 +34,7 @@ use syntax_pos::Span;\n use syntax_pos::symbol::Symbol;\n use std::fmt;\n \n-pub use rustc::middle::trans::MonoItem;\n+pub use rustc::mir::mono::MonoItem;\n \n pub use rustc_mir::monomorphize::item::*;\n pub use rustc_mir::monomorphize::item::MonoItemExt as BaseMonoItemExt;"}]}