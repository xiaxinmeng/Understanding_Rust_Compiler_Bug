{"sha": "b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221", "node_id": "MDY6Q29tbWl0NzI0NzEyOmIwZDNkYWVkNDA1MDg3NGJiYzRjZmVhYWYxZmI2YjFlYzRlMjkyMjE=", "commit": {"author": {"name": "Oliver Schneider", "email": "git-no-reply-9879165716479413131@oli-obk.de", "date": "2018-05-07T08:18:45Z"}, "committer": {"name": "Oliver Schneider", "email": "git-no-reply-9879165716479413131@oli-obk.de", "date": "2018-05-07T08:18:45Z"}, "message": "Rustup", "tree": {"sha": "27e92c5ac799f7711ffca4f0cd78a7903744ad1a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/27e92c5ac799f7711ffca4f0cd78a7903744ad1a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJgBAABCgBKFiEEvpMjxK4/cnPNfesJHVy0/Fl8MAQFAlrwC+UsHGdpdC1uby1y\nZXBseS05ODc5MTY1NzE2NDc5NDEzMTMxQG9saS1vYmsuZGUACgkQHVy0/Fl8MAS9\ncQ//TiGb0R7pCF61VkrdfBcb1UMM/H1DK61OEkcgXdtr1Ybxn5ntiFomeO+2ot8r\nFDhHjUb4lGD8GkiCOH4wCUMwZLtBnP/6JuKJHOzE5igpjyJkGciQnvcPZxzyKAsy\n5Xx2x5vrsiYC/tn1AOc9/Cd1fULQ0WhkoNzfoIwupR7l9f5iLn7Ee8AnEli3ywow\n8/EYT/H5dxJroQ7ptI6cEGF35smQZMmGxfJWQgvuqHrhv1dltVs1jwyrm5tsnA0N\nkZapYwbBTdOJp+ALbBoi5xRXA6YvXFcc+6+lVQNG6/MQCaVUsLp1Y7JdBFWUBaDM\nubGjSBOnaDrrZTO7WiGrW5KCQDwGFA29Yf8O2M+X2Xaa/TIkvYz0fIxVTVg+6apc\nctfbvou12G/r0wfcixhgP2GiOJdUu8U8yLpqqF2D6a8JLTDrjstY+81xGITunNM0\nJk5cfpc3VlDRWpAbfAODVSqrCjvE7cxfD0KrT7few2AfUr6r/ZSghoBoIubvRBTE\n+5M/CykYhyU6OFGu3G+I3zlk/mKV8eCAI3OeQbCRAUqplu/ADNY9DJ6r2MztZ3eZ\nTtw0SdS80aIq6cUtAPKEIM5QgKZRhx9ONuphsk9Sq7kfnoxBVallRK8HhzXsyLR2\nHPnIztRntTkjwdgeT9uupdImUdRqSS2CN9qhY6odSsl/EFc=\n=UFSE\n-----END PGP SIGNATURE-----", "payload": "tree 27e92c5ac799f7711ffca4f0cd78a7903744ad1a\nparent 76573bac16d2dd79dfdf9ce9fd4b83a39739d9e2\nauthor Oliver Schneider <git-no-reply-9879165716479413131@oli-obk.de> 1525681125 +0200\ncommitter Oliver Schneider <git-no-reply-9879165716479413131@oli-obk.de> 1525681125 +0200\n\nRustup\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221", "html_url": "https://github.com/rust-lang/rust/commit/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221/comments", "author": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "committer": {"login": "oli-obk", "id": 332036, "node_id": "MDQ6VXNlcjMzMjAzNg==", "avatar_url": "https://avatars.githubusercontent.com/u/332036?v=4", "gravatar_id": "", "url": "https://api.github.com/users/oli-obk", "html_url": "https://github.com/oli-obk", "followers_url": "https://api.github.com/users/oli-obk/followers", "following_url": "https://api.github.com/users/oli-obk/following{/other_user}", "gists_url": "https://api.github.com/users/oli-obk/gists{/gist_id}", "starred_url": "https://api.github.com/users/oli-obk/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/oli-obk/subscriptions", "organizations_url": "https://api.github.com/users/oli-obk/orgs", "repos_url": "https://api.github.com/users/oli-obk/repos", "events_url": "https://api.github.com/users/oli-obk/events{/privacy}", "received_events_url": "https://api.github.com/users/oli-obk/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "76573bac16d2dd79dfdf9ce9fd4b83a39739d9e2", "url": "https://api.github.com/repos/rust-lang/rust/commits/76573bac16d2dd79dfdf9ce9fd4b83a39739d9e2", "html_url": "https://github.com/rust-lang/rust/commit/76573bac16d2dd79dfdf9ce9fd4b83a39739d9e2"}], "stats": {"total": 9, "additions": 5, "deletions": 4}, "files": [{"sha": "5491762c3395262fad9d7c705a21bc599e8d88a5", "filename": "miri/bin/miri.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221/miri%2Fbin%2Fmiri.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221/miri%2Fbin%2Fmiri.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/miri%2Fbin%2Fmiri.rs?ref=b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221", "patch": "@@ -111,7 +111,7 @@ fn after_analysis<'a, 'tcx>(state: &mut CompileState<'a, 'tcx>) {\n             fn visit_item(&mut self, i: &'hir hir::Item) {\n                 if let hir::Item_::ItemFn(_, _, _, _, _, body_id) = i.node {\n                     if i.attrs.iter().any(|attr| {\n-                        attr.name().map_or(false, |n| n == \"test\")\n+                        attr.name() == \"test\"\n                     })\n                     {\n                         let did = self.0.hir.body_owner_def_id(body_id);"}, {"sha": "336c9e67a1343251453041bac4bb7d93e95555eb", "filename": "miri/fn_call.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221/miri%2Ffn_call.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221/miri%2Ffn_call.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/miri%2Ffn_call.rs?ref=b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221", "patch": "@@ -4,7 +4,6 @@ use rustc::hir::def_id::{DefId, CRATE_DEF_INDEX};\n use rustc::mir;\n use rustc_target::spec::abi::Abi;\n use rustc_data_structures::indexed_vec::Idx;\n-use rustc_target::spec::abi::Abi;\n use syntax::attr;\n use syntax::codemap::Span;\n "}, {"sha": "b44b70faa891a58db8d55f362bdded11958c4556", "filename": "miri/lib.rs", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221/miri%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221/miri%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/miri%2Flib.rs?ref=b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221", "patch": "@@ -14,7 +14,6 @@ extern crate rustc;\n extern crate rustc_mir;\n extern crate rustc_target;\n extern crate rustc_data_structures;\n-extern crate rustc_target;\n extern crate syntax;\n extern crate regex;\n #[macro_use]"}, {"sha": "5b919a09bd91fa2acc03123f28a04375ea53febc", "filename": "miri/validation.rs", "status": "modified", "additions": 4, "deletions": 1, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221/miri%2Fvalidation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221/miri%2Fvalidation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/miri%2Fvalidation.rs?ref=b0d3daed4050874bbc4cfeaaf1fb6b1ec4e29221", "patch": "@@ -455,7 +455,10 @@ impl<'a, 'mir, 'tcx: 'mir + 'a> EvalContextExt<'tcx> for EvalContext<'a, 'mir, '\n                     }\n \n                     // Discriminant field for enums (where applicable).\n-                    Variants::Tagged { ref discr, .. } |\n+                    Variants::Tagged { ref tag, .. } => {\n+                        assert_eq!(i, 0);\n+                        return Ok(tag.value.to_ty(tcx))\n+                    },\n                     Variants::NicheFilling { niche: ref discr, .. } => {\n                         assert_eq!(i, 0);\n                         return Ok(discr.value.to_ty(tcx))"}]}