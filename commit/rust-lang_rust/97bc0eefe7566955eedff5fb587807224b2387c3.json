{"sha": "97bc0eefe7566955eedff5fb587807224b2387c3", "node_id": "MDY6Q29tbWl0NzI0NzEyOjk3YmMwZWVmZTc1NjY5NTVlZWRmZjVmYjU4NzgwNzIyNGIyMzg3YzM=", "commit": {"author": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-05-17T12:54:31Z"}, "committer": {"name": "hyd-dev", "email": "yd-huang@outlook.com", "date": "2021-05-17T12:54:31Z"}, "message": "Add a comment for `check_abi()`", "tree": {"sha": "2b9f41376636d248631ccd6857367308e84d3dc3", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2b9f41376636d248631ccd6857367308e84d3dc3"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/97bc0eefe7566955eedff5fb587807224b2387c3", "comment_count": 0, "verification": {"verified": false, "reason": "no_user", "signature": "-----BEGIN PGP SIGNATURE-----\n\niIsEABYIADMWIQRJ2jPMDdiQ+U4U42Z0+n/VuNoUuAUCYKJniBUceWQtaHVhbmdA\nb3V0bG9vay5jb20ACgkQdPp/1bjaFLh71QEAq8yxxlzAPKF0NcU1j/RZp3dEarIq\nYdF0auD2PmKZpNwBAPAxYnMps8IZ5gQmLl2Sp63IdNNYBa98EA/KoZVFjVEN\n=veVG\n-----END PGP SIGNATURE-----", "payload": "tree 2b9f41376636d248631ccd6857367308e84d3dc3\nparent c6ae57cb8343d19d05e364ac9391b0a04327faa7\nauthor hyd-dev <yd-huang@outlook.com> 1621256071 +0800\ncommitter hyd-dev <yd-huang@outlook.com> 1621256071 +0800\n\nAdd a comment for `check_abi()`\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/97bc0eefe7566955eedff5fb587807224b2387c3", "html_url": "https://github.com/rust-lang/rust/commit/97bc0eefe7566955eedff5fb587807224b2387c3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/97bc0eefe7566955eedff5fb587807224b2387c3/comments", "author": null, "committer": null, "parents": [{"sha": "c6ae57cb8343d19d05e364ac9391b0a04327faa7", "url": "https://api.github.com/repos/rust-lang/rust/commits/c6ae57cb8343d19d05e364ac9391b0a04327faa7", "html_url": "https://github.com/rust-lang/rust/commit/c6ae57cb8343d19d05e364ac9391b0a04327faa7"}], "stats": {"total": 3, "additions": 3, "deletions": 0}, "files": [{"sha": "a7fcb41f74a991b1ac08f984039dd3b936e2f560", "filename": "compiler/rustc_mir/src/interpret/terminator.rs", "status": "modified", "additions": 3, "deletions": 0, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/97bc0eefe7566955eedff5fb587807224b2387c3/compiler%2Frustc_mir%2Fsrc%2Finterpret%2Fterminator.rs", "raw_url": "https://github.com/rust-lang/rust/raw/97bc0eefe7566955eedff5fb587807224b2387c3/compiler%2Frustc_mir%2Fsrc%2Finterpret%2Fterminator.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/compiler%2Frustc_mir%2Fsrc%2Finterpret%2Fterminator.rs?ref=97bc0eefe7566955eedff5fb587807224b2387c3", "patch": "@@ -276,6 +276,9 @@ impl<'mir, 'tcx: 'mir, M: Machine<'mir, 'tcx>> InterpCx<'mir, 'tcx, M> {\n                         None => return Ok(()),\n                     };\n \n+                // Check against the ABI of the MIR body we are calling (not the ABI of `instance`;\n+                // these can differ when `find_mir_or_eval_fn` does something clever like resolve\n+                // exported symbol names).\n                 check_abi(self, self.tcx.type_of(body.source.def_id()))?;\n \n                 self.push_stack_frame("}]}