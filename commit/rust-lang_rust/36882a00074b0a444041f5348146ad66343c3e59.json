{"sha": "36882a00074b0a444041f5348146ad66343c3e59", "node_id": "MDY6Q29tbWl0NzI0NzEyOjM2ODgyYTAwMDc0YjBhNDQ0MDQxZjUzNDgxNDZhZDY2MzQzYzNlNTk=", "commit": {"author": {"name": "Nick Howell", "email": "howellnick@gmail.com", "date": "2015-07-02T03:28:54Z"}, "committer": {"name": "Nick Howell", "email": "howellnick@gmail.com", "date": "2015-07-02T03:28:54Z"}, "message": "rustdoc: Reset the title when pressing the back button\n\nFixes #26673", "tree": {"sha": "34cf679d0c220389935e690e660b42f4c4a4a01d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/34cf679d0c220389935e690e660b42f4c4a4a01d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/36882a00074b0a444041f5348146ad66343c3e59", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/36882a00074b0a444041f5348146ad66343c3e59", "html_url": "https://github.com/rust-lang/rust/commit/36882a00074b0a444041f5348146ad66343c3e59", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/36882a00074b0a444041f5348146ad66343c3e59/comments", "author": {"login": "nhowell", "id": 200475, "node_id": "MDQ6VXNlcjIwMDQ3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/200475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nhowell", "html_url": "https://github.com/nhowell", "followers_url": "https://api.github.com/users/nhowell/followers", "following_url": "https://api.github.com/users/nhowell/following{/other_user}", "gists_url": "https://api.github.com/users/nhowell/gists{/gist_id}", "starred_url": "https://api.github.com/users/nhowell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nhowell/subscriptions", "organizations_url": "https://api.github.com/users/nhowell/orgs", "repos_url": "https://api.github.com/users/nhowell/repos", "events_url": "https://api.github.com/users/nhowell/events{/privacy}", "received_events_url": "https://api.github.com/users/nhowell/received_events", "type": "User", "site_admin": false}, "committer": {"login": "nhowell", "id": 200475, "node_id": "MDQ6VXNlcjIwMDQ3NQ==", "avatar_url": "https://avatars.githubusercontent.com/u/200475?v=4", "gravatar_id": "", "url": "https://api.github.com/users/nhowell", "html_url": "https://github.com/nhowell", "followers_url": "https://api.github.com/users/nhowell/followers", "following_url": "https://api.github.com/users/nhowell/following{/other_user}", "gists_url": "https://api.github.com/users/nhowell/gists{/gist_id}", "starred_url": "https://api.github.com/users/nhowell/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/nhowell/subscriptions", "organizations_url": "https://api.github.com/users/nhowell/orgs", "repos_url": "https://api.github.com/users/nhowell/repos", "events_url": "https://api.github.com/users/nhowell/events{/privacy}", "received_events_url": "https://api.github.com/users/nhowell/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d2cf9f9632746701f72ded3a50de2c5d8e05b1b5", "url": "https://api.github.com/repos/rust-lang/rust/commits/d2cf9f9632746701f72ded3a50de2c5d8e05b1b5", "html_url": "https://github.com/rust-lang/rust/commit/d2cf9f9632746701f72ded3a50de2c5d8e05b1b5"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "31fe043b7909873a4a757ff1d88086b0605e8319", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/36882a00074b0a444041f5348146ad66343c3e59/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/36882a00074b0a444041f5348146ad66343c3e59/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=36882a00074b0a444041f5348146ad66343c3e59", "patch": "@@ -697,6 +697,9 @@\n             // Push and pop states are used to add search results to the browser\n             // history.\n             if (browserSupportsHistoryApi()) {\n+                // Store the previous <title> so we can revert back to it later.\n+                var previousTitle = $(document).prop(\"title\");\n+\n                 $(window).on('popstate', function(e) {\n                     var params = getQueryStringParams();\n                     // When browsing back from search results the main page\n@@ -705,6 +708,9 @@\n                         $('#main.content').removeClass('hidden');\n                         $('#search.content').addClass('hidden');\n                     }\n+                    // Revert to the previous title manually since the History\n+                    // API ignores the title parameter.\n+                    $(document).prop(\"title\", previousTitle);\n                     // When browsing forward to search results the previous\n                     // search will be repeated, so the currentResults are\n                     // cleared to ensure the search is successful."}]}