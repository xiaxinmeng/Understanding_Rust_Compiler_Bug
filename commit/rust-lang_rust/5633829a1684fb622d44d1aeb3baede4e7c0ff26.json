{"sha": "5633829a1684fb622d44d1aeb3baede4e7c0ff26", "node_id": "MDY6Q29tbWl0NzI0NzEyOjU2MzM4MjlhMTY4NGZiNjIyZDQ0ZDFhZWIzYmFlZGU0ZTdjMGZmMjY=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-08-19T08:05:49Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-08-19T08:42:39Z"}, "message": "drop tera dependency", "tree": {"sha": "fc3d0ce648fd16842de918df2c6d61d60275e865", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/fc3d0ce648fd16842de918df2c6d61d60275e865"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/5633829a1684fb622d44d1aeb3baede4e7c0ff26", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/5633829a1684fb622d44d1aeb3baede4e7c0ff26", "html_url": "https://github.com/rust-lang/rust/commit/5633829a1684fb622d44d1aeb3baede4e7c0ff26", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/5633829a1684fb622d44d1aeb3baede4e7c0ff26/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "832b40a075285063b857bf05a69a8cf979d9078a", "url": "https://api.github.com/repos/rust-lang/rust/commits/832b40a075285063b857bf05a69a8cf979d9078a", "html_url": "https://github.com/rust-lang/rust/commit/832b40a075285063b857bf05a69a8cf979d9078a"}], "stats": {"total": 177, "additions": 25, "deletions": 152}, "files": [{"sha": "4ef0134d7de523acae53abda14f8a519b0a8edb5", "filename": "Cargo.lock", "status": "modified", "additions": 0, "deletions": 148, "changes": 148, "blob_url": "https://github.com/rust-lang/rust/blob/5633829a1684fb622d44d1aeb3baede4e7c0ff26/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/5633829a1684fb622d44d1aeb3baede4e7c0ff26/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=5633829a1684fb622d44d1aeb3baede4e7c0ff26", "patch": "@@ -352,11 +352,6 @@ dependencies = [\n  \"syn 0.15.44 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"deunicode\"\n-version = \"0.4.3\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"difference\"\n version = \"2.0.0\"\n@@ -406,15 +401,6 @@ name = \"encode_unicode\"\n version = \"0.3.5\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"error-chain\"\n-version = \"0.12.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"backtrace 0.3.34 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"version_check 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"failure\"\n version = \"0.1.5\"\n@@ -556,11 +542,6 @@ dependencies = [\n  \"wasi 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"glob\"\n-version = \"0.2.11\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"glob\"\n version = \"0.3.0\"\n@@ -586,21 +567,6 @@ dependencies = [\n  \"unicode-segmentation 1.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"humansize\"\n-version = \"1.1.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n-[[package]]\n-name = \"idna\"\n-version = \"0.1.5\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"matches 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"unicode-bidi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"unicode-normalization 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"idna\"\n version = \"0.2.0\"\n@@ -1007,11 +973,6 @@ dependencies = [\n  \"syn 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"percent-encoding\"\n-version = \"1.0.1\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n [[package]]\n name = \"percent-encoding\"\n version = \"2.1.0\"\n@@ -1368,7 +1329,6 @@ dependencies = [\n  \"quote 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"ron 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.99 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"teraron 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"walkdir 2.2.9 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -1783,14 +1743,6 @@ name = \"slab\"\n version = \"0.4.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"slug\"\n-version = \"0.1.4\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"deunicode 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"smallvec\"\n version = \"0.6.10\"\n@@ -1869,36 +1821,6 @@ dependencies = [\n  \"winapi 0.3.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n-[[package]]\n-name = \"tera\"\n-version = \"0.11.20\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"chrono 0.4.7 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"error-chain 0.12.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"glob 0.2.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"humansize 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"lazy_static 1.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"pest 2.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"pest_derive 2.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"regex 1.2.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde 1.0.99 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.40 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"slug 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"unic-segment 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"url 1.7.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"teraron\"\n-version = \"0.1.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"heck 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"ron 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"tera 0.11.20 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"termios\"\n version = \"0.3.1\"\n@@ -1973,50 +1895,6 @@ name = \"ucd-trie\"\n version = \"0.1.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"unic-char-property\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"unic-char-range 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"unic-char-range\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n-[[package]]\n-name = \"unic-common\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-\n-[[package]]\n-name = \"unic-segment\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"unic-ucd-segment 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"unic-ucd-segment\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"unic-char-property 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"unic-char-range 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"unic-ucd-version 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n-[[package]]\n-name = \"unic-ucd-version\"\n-version = \"0.7.0\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"unic-common 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"unicase\"\n version = \"2.4.0\"\n@@ -2061,16 +1939,6 @@ name = \"unicode-xid\"\n version = \"0.2.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n-[[package]]\n-name = \"url\"\n-version = \"1.7.2\"\n-source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-dependencies = [\n- \"idna 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"matches 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"percent-encoding 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n-]\n-\n [[package]]\n name = \"url\"\n version = \"2.1.0\"\n@@ -2215,7 +2083,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum crossbeam-queue 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7c979cd6cfe72335896575c6b5688da489e420d36a27a0b9eb0c73db574b4a4b\"\n \"checksum crossbeam-utils 0.6.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"04973fa96e96579258a5091af6003abde64af786b860f18622b82e026cca60e6\"\n \"checksum derive-new 0.5.7 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c3fd04571b29c91cfbe1e7c9a228e069ac8635f180ffb4ccd6a6907617ee8bb0\"\n-\"checksum deunicode 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"850878694b7933ca4c9569d30a34b55031b9b139ee1fc7b94a527c4ef960d690\"\n \"checksum difference 2.0.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"524cbf6897b527295dff137cec09ecf3a05f4fddffd7dfcd1585403449e74198\"\n \"checksum digest 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f3d0c8c8752312f9713efd397ff63acb9f85585afbf179282e720e7704954dd5\"\n \"checksum drop_bomb 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"69b26e475fd29098530e709294e94e661974c851aed42512793f120fed4e199f\"\n@@ -2224,7 +2091,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum ena 0.10.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"25b4e5febb25f08c49f1b07dc33a182729a6b21edfb562b5aef95f78e0dbe5bb\"\n \"checksum ena 0.13.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3dc01d68e08ca384955a3aeba9217102ca1aa85b6e168639bf27739f1d749d87\"\n \"checksum encode_unicode 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"90b2c9496c001e8cb61827acdefad780795c42264c137744cae6f7d9e3450abd\"\n-\"checksum error-chain 0.12.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3ab49e9dcb602294bc42f9a7dfc9bc6e936fca4418ea300dbfb84fe16de0b7d9\"\n \"checksum failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"795bd83d3abeb9220f257e597aa0080a508b27533824adf336529648f6abf7e2\"\n \"checksum failure_derive 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ea1063915fd7ef4309e222a5a07cf9c319fb9c7836b1f89b85458672dbb127e1\"\n \"checksum fake-simd 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e88a8acf291dafb59c2d96e8f59828f3838bb1a70398823ade51a84de6a6deed\"\n@@ -2242,12 +2108,9 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum fuchsia-zircon-sys 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3dcaa9ae7725d12cdb85b3ad99a434db70b468c09ded17e012d86b5c1010f7a7\"\n \"checksum generic-array 0.12.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c68f0274ae0e023facc3c97b2e00f076be70e254bc851d972503b328db79b2ec\"\n \"checksum getrandom 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2512b3191f22e2763a5db387f1c9409379772e2050841722eb4a8c4f497bf096\"\n-\"checksum glob 0.2.11 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8be18de09a56b60ed0edf84bc9df007e30040691af7acd1c41874faac5895bfb\"\n \"checksum glob 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9b919933a397b79c37e33b77bb2aa3dc8eb6e165ad809e58ff75bc7db2e34574\"\n \"checksum globset 0.4.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"925aa2cac82d8834e2b2a4415b6f6879757fb5c0928fc445ae76461a12eed8f2\"\n \"checksum heck 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"20564e78d53d2bb135c343b3f47714a56af2061f1c928fdb541dc7b9fdd94205\"\n-\"checksum humansize 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b6cab2627acfc432780848602f3f558f7e9dd427352224b0d9324025796d2a5e\"\n-\"checksum idna 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"38f09e0f0b1fb55fdee1f17470ad800da77af5186a1a76c026b679358b7e844e\"\n \"checksum idna 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"02e2673c30ee86b5b96a9cb52ad15718aa1f966f5ab9ad54a8b95d5ca33120a9\"\n \"checksum indexmap 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7e81a7c05f79578dbc15793d8b619db9ba32b4577003ef3af1a91c416798c58d\"\n \"checksum indicatif 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2c60da1c9abea75996b70a931bba6c750730399005b61ccd853cee50ef3d0d0c\"\n@@ -2294,7 +2157,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum parking_lot_core 0.6.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b876b1b9e7ac6e1a74a6da34d25c42e17e8862aa409cbbbdcfc8d86c6f3bc62b\"\n \"checksum paste 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"423a519e1c6e828f1e73b720f9d9ed2fa643dce8a7737fb43235ce0b41eeaa49\"\n \"checksum paste-impl 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4214c9e912ef61bf42b81ba9a47e8aad1b2ffaf739ab162bf96d1e011f54e6c5\"\n-\"checksum percent-encoding 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"31010dd2e1ac33d5b46a5b413495239882813e0369f8ed8a5e266f173602f831\"\n \"checksum percent-encoding 2.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d4fd5641d01c8f18a23da7b6fe29298ff4b55afcccdf78973b24cf3175fee32e\"\n \"checksum pest 2.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"933085deae3f32071f135d799d75667b63c8dc1f4537159756e3d4ceab41868c\"\n \"checksum pest_derive 2.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"833d1ae558dc601e9a60366421196a8d94bc0ac980476d0b67e1d0988d72b2d0\"\n@@ -2354,7 +2216,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum serde_yaml 0.8.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"38b08a9a90e5260fe01c6480ec7c811606df6d3a660415808c3c3fa8ed95b582\"\n \"checksum sha-1 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"23962131a91661d643c98940b20fcaffe62d776a823247be80a48fcb8b6fce68\"\n \"checksum slab 0.4.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c111b5bd5695e56cffe5129854aa230b39c93a305372fdbb2668ca2394eea9f8\"\n-\"checksum slug 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b3bc762e6a4b6c6fcaade73e77f9ebc6991b676f88bb2358bddb56560f073373\"\n \"checksum smallvec 0.6.10 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ab606a9c5e214920bb66c458cd7be8ef094f813f20fe77a54cc7dbfff220d4b7\"\n \"checksum smol_str 0.1.12 (registry+https://github.com/rust-lang/crates.io-index)\" = \"590700be3630457c56f8c73c0ea39881476ad7076cd84057d44f4f38f79914fb\"\n \"checksum stacker 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fb79482f57cf598af52094ec4cc3b3c42499d3ce5bd426f2ac41515b7e57404b\"\n@@ -2364,8 +2225,6 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum syn 1.0.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2ae5cd13590144ea968ba5d5520da7a4c08415861014399b5b349f74591c375f\"\n \"checksum synstructure 0.10.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"02353edf96d6e4dc81aea2d8490a7e9db177bf8acb0e951c24940bf866cb313f\"\n \"checksum tempfile 3.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7a6e24d9338a0a5be79593e2fa15a648add6138caa803e2d5bc782c371732ca9\"\n-\"checksum tera 0.11.20 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4b505279e19d8f7d24b1a9dc58327c9c36174b1a2c7ebdeac70792d017cb64f3\"\n-\"checksum teraron 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9a447d012fef5c222f4b11a98fcef2a7e347a57f28be9957c5c390ac9a0e41e0\"\n \"checksum termios 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"72b620c5ea021d75a735c943269bb07d30c9b77d6ac6b236bc8b5c496ef05625\"\n \"checksum text_unit 0.1.9 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e08bbcb7a3adbda0eb23431206b653bdad3d8dea311e72d36bf2215e27a42579\"\n \"checksum textwrap 0.11.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d326610f408c7a4eb6f51c37c330e496b08506c9457c9d34287ecc38809fb060\"\n@@ -2374,20 +2233,13 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \"checksum time 0.1.42 (registry+https://github.com/rust-lang/crates.io-index)\" = \"db8dcfca086c1143c9270ac42a2bbd8a7ee477b78ac8e45b19abfb0cbede4b6f\"\n \"checksum typenum 1.10.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"612d636f949607bdf9b123b4a6f6d966dedf3ff669f7f045890d3a4a73948169\"\n \"checksum ucd-trie 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8f00ed7be0c1ff1e24f46c3d2af4859f7e863672ba3a6e92e7cff702bf9f06c2\"\n-\"checksum unic-char-property 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ce36d3f7ce754afdbccccf8ff0dd0134e50fb44aaae579f96218856e9e5dbd1e\"\n-\"checksum unic-char-range 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d9ab85fab42ad1b26cafc03bf891f69cb4d6e15f491030e89a0122197baa8ae8\"\n-\"checksum unic-common 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ff8d4a7ade929ef7d971e16ced21a8cd56a63869aa6032dfb8cb083cf7d077bf\"\n-\"checksum unic-segment 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c9ca47cbb09fb5fcd066b5867d11dc528302fa465277882797d6a836e1ee6f9e\"\n-\"checksum unic-ucd-segment 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"48f1a08ce0409a9e391b88d1930118eec48af12742fc538bcec55f775865776e\"\n-\"checksum unic-ucd-version 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"cf1f5e6c6c53c2d0ece4a5964bc55fcff8602153063cb4fab20958ff32998ff6\"\n \"checksum unicase 2.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a84e5511b2a947f3ae965dcb29b13b7b1691b6e7332cf5dbc1744138d5acb7f6\"\n \"checksum unicode-bidi 0.3.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"49f2bd0c6468a8230e1db229cff8029217cf623c767ea5d60bfbd42729ea54d5\"\n \"checksum unicode-normalization 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"141339a08b982d942be2ca06ff8b076563cbe223d1befd5450716790d44e2426\"\n \"checksum unicode-segmentation 1.3.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1967f4cdfc355b37fd76d2a954fb2ed3871034eb4f26d60537d88795cfc332a9\"\n \"checksum unicode-width 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"882386231c45df4700b275c7ff55b6f3698780a650026380e72dabe76fa46526\"\n \"checksum unicode-xid 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"fc72304796d0818e357ead4e000d19c9c174ab23dc11093ac919054d20a6a7fc\"\n \"checksum unicode-xid 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"826e7639553986605ec5979c7dd957c7895e93eabed50ab2ffa7f6128a75097c\"\n-\"checksum url 1.7.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"dd4e7c0d531266369519a4aa4f399d748bd37043b00bde1e4ff1f60a120b355a\"\n \"checksum url 2.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"75b414f6c464c879d7f9babf951f23bc3743fb7313c081b2e6ca719067ea9d61\"\n \"checksum uuid 0.7.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"90dbc611eb48397705a6b0f6e917da23ae517e4d127123d2cf7674206627d32a\"\n \"checksum vec_map 0.8.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"05c78687fb1a80548ae3250346c3db86a80a7cdd77bda190189f2d0a0987c81a\""}, {"sha": "4c9aa1cc3f7a6daa427e1a1df5379600297cd01c", "filename": "crates/ra_tools/Cargo.toml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/5633829a1684fb622d44d1aeb3baede4e7c0ff26/crates%2Fra_tools%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/5633829a1684fb622d44d1aeb3baede4e7c0ff26/crates%2Fra_tools%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_tools%2FCargo.toml?ref=5633829a1684fb622d44d1aeb3baede4e7c0ff26", "patch": "@@ -6,7 +6,6 @@ authors = [\"rust-analyzer developers\"]\n publish = false\n \n [dependencies]\n-teraron = \"0.1.0\"\n walkdir = \"2.1.3\"\n itertools = \"0.8.0\"\n clap = \"2.32.0\""}, {"sha": "c02dee9534ea36c25bcffa1db793421e2d74337f", "filename": "crates/ra_tools/src/lib.rs", "status": "modified", "additions": 25, "deletions": 3, "changes": 28, "blob_url": "https://github.com/rust-lang/rust/blob/5633829a1684fb622d44d1aeb3baede4e7c0ff26/crates%2Fra_tools%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/5633829a1684fb622d44d1aeb3baede4e7c0ff26/crates%2Fra_tools%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_tools%2Fsrc%2Flib.rs?ref=5633829a1684fb622d44d1aeb3baede4e7c0ff26", "patch": "@@ -11,8 +11,6 @@ use std::{\n \n use itertools::Itertools;\n \n-pub use teraron::{Mode, Overwrite, Verify};\n-\n pub use self::codegen::generate;\n \n pub type Result<T> = std::result::Result<T, Box<dyn Error>>;\n@@ -26,6 +24,13 @@ pub const SYNTAX_KINDS: &str = \"crates/ra_parser/src/syntax_kind/generated.rs.te\n pub const AST: &str = \"crates/ra_syntax/src/ast/generated.rs\";\n const TOOLCHAIN: &str = \"stable\";\n \n+#[derive(Debug, PartialEq, Eq, Clone, Copy)]\n+pub enum Mode {\n+    Overwrite,\n+    Verify,\n+}\n+pub use Mode::*;\n+\n #[derive(Debug)]\n pub struct Test {\n     pub name: String,\n@@ -222,7 +227,7 @@ pub fn gen_tests(mode: Mode) -> Result<()> {\n                     tests_dir.join(file_name)\n                 }\n             };\n-            teraron::update(&path, &test.text, mode)?;\n+            update(&path, &test.text, mode)?;\n         }\n         Ok(())\n     }\n@@ -306,3 +311,20 @@ fn existing_tests(dir: &Path, ok: bool) -> Result<HashMap<String, (PathBuf, Test\n     }\n     Ok(res)\n }\n+\n+/// A helper to update file on disk if it has changed.\n+/// With verify = false,\n+pub fn update(path: &Path, contents: &str, mode: Mode) -> Result<()> {\n+    match fs::read_to_string(path) {\n+        Ok(ref old_contents) if old_contents == contents => {\n+            return Ok(());\n+        }\n+        _ => (),\n+    }\n+    if mode == Verify {\n+        Err(format!(\"`{}` is not up-to-date\", path.display()))?;\n+    }\n+    eprintln!(\"updating {}\", path.display());\n+    fs::write(path, contents)?;\n+    Ok(())\n+}"}]}