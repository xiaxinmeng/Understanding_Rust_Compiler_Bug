{"sha": "7c9e192e055f8b8a8a5f8b177c415440bc2333ce", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdjOWUxOTJlMDU1ZjhiOGE4YTVmOGIxNzdjNDE1NDQwYmMyMzMzY2U=", "commit": {"author": {"name": "xFrednet", "email": "xFrednet@gmail.com", "date": "2021-03-05T18:23:12Z"}, "committer": {"name": "xFrednet", "email": "xFrednet@gmail.com", "date": "2021-04-05T11:35:51Z"}, "message": "Test for empty blocks and update from master", "tree": {"sha": "2a7014011dd894095f407bdc481c316477360e8a", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2a7014011dd894095f407bdc481c316477360e8a"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7c9e192e055f8b8a8a5f8b177c415440bc2333ce", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7c9e192e055f8b8a8a5f8b177c415440bc2333ce", "html_url": "https://github.com/rust-lang/rust/commit/7c9e192e055f8b8a8a5f8b177c415440bc2333ce", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7c9e192e055f8b8a8a5f8b177c415440bc2333ce/comments", "author": {"login": "xFrednet", "id": 17087237, "node_id": "MDQ6VXNlcjE3MDg3MjM3", "avatar_url": "https://avatars.githubusercontent.com/u/17087237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xFrednet", "html_url": "https://github.com/xFrednet", "followers_url": "https://api.github.com/users/xFrednet/followers", "following_url": "https://api.github.com/users/xFrednet/following{/other_user}", "gists_url": "https://api.github.com/users/xFrednet/gists{/gist_id}", "starred_url": "https://api.github.com/users/xFrednet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xFrednet/subscriptions", "organizations_url": "https://api.github.com/users/xFrednet/orgs", "repos_url": "https://api.github.com/users/xFrednet/repos", "events_url": "https://api.github.com/users/xFrednet/events{/privacy}", "received_events_url": "https://api.github.com/users/xFrednet/received_events", "type": "User", "site_admin": false}, "committer": {"login": "xFrednet", "id": 17087237, "node_id": "MDQ6VXNlcjE3MDg3MjM3", "avatar_url": "https://avatars.githubusercontent.com/u/17087237?v=4", "gravatar_id": "", "url": "https://api.github.com/users/xFrednet", "html_url": "https://github.com/xFrednet", "followers_url": "https://api.github.com/users/xFrednet/followers", "following_url": "https://api.github.com/users/xFrednet/following{/other_user}", "gists_url": "https://api.github.com/users/xFrednet/gists{/gist_id}", "starred_url": "https://api.github.com/users/xFrednet/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/xFrednet/subscriptions", "organizations_url": "https://api.github.com/users/xFrednet/orgs", "repos_url": "https://api.github.com/users/xFrednet/repos", "events_url": "https://api.github.com/users/xFrednet/events{/privacy}", "received_events_url": "https://api.github.com/users/xFrednet/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "8c0b4d7f65802031f0131bc56de8fb8b275d70d7", "url": "https://api.github.com/repos/rust-lang/rust/commits/8c0b4d7f65802031f0131bc56de8fb8b275d70d7", "html_url": "https://github.com/rust-lang/rust/commit/8c0b4d7f65802031f0131bc56de8fb8b275d70d7"}], "stats": {"total": 67, "additions": 39, "deletions": 28}, "files": [{"sha": "e63490d5b07917dd16d634b77887cd7b5b76145a", "filename": "tests/ui/shared_code_in_if_blocks/valid_if_blocks.rs", "status": "modified", "additions": 7, "deletions": 10, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/7c9e192e055f8b8a8a5f8b177c415440bc2333ce/tests%2Fui%2Fshared_code_in_if_blocks%2Fvalid_if_blocks.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7c9e192e055f8b8a8a5f8b177c415440bc2333ce/tests%2Fui%2Fshared_code_in_if_blocks%2Fvalid_if_blocks.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fshared_code_in_if_blocks%2Fvalid_if_blocks.rs?ref=7c9e192e055f8b8a8a5f8b177c415440bc2333ce", "patch": "@@ -99,6 +99,11 @@ fn valid_examples() {\n         let x = 2;\n         println!(\"{}\", x);\n     }\n+\n+    // Let's test empty blocks\n+    if false {\n+    } else {\n+    }\n }\n \n /// This makes sure that the `if_same_then_else` masks the `shared_code_in_if_blocks` lint\n@@ -128,20 +133,12 @@ fn trigger_other_lint() {\n         println!(\"I'm a doppelg\u00e4nger\");\n         // Don't listen to my clone below\n \n-        if y == 90 {\n-            \"=^.^=\"\n-        } else {\n-            \":D\"\n-        }\n+        if y == 90 { \"=^.^=\" } else { \":D\" }\n     } else {\n         // Don't listen to my clone above\n         println!(\"I'm a doppelg\u00e4nger\");\n \n-        if y == 90 {\n-            \"=^.^=\"\n-        } else {\n-            \":D\"\n-        }\n+        if y == 90 { \"=^.^=\" } else { \":D\" }\n     };\n \n     if x == 0 {"}, {"sha": "846581456dca4d77d080ddb4c23a8d83b036a5aa", "filename": "tests/ui/shared_code_in_if_blocks/valid_if_blocks.stderr", "status": "modified", "additions": 32, "deletions": 18, "changes": 50, "blob_url": "https://github.com/rust-lang/rust/blob/7c9e192e055f8b8a8a5f8b177c415440bc2333ce/tests%2Fui%2Fshared_code_in_if_blocks%2Fvalid_if_blocks.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/7c9e192e055f8b8a8a5f8b177c415440bc2333ce/tests%2Fui%2Fshared_code_in_if_blocks%2Fvalid_if_blocks.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Fui%2Fshared_code_in_if_blocks%2Fvalid_if_blocks.stderr?ref=7c9e192e055f8b8a8a5f8b177c415440bc2333ce", "patch": "@@ -1,11 +1,8 @@\n error: this `if` has identical blocks\n-  --> $DIR/valid_if_blocks.rs:110:15\n+  --> $DIR/valid_if_blocks.rs:104:14\n    |\n-LL |       if x == 0 {\n-   |  _______________^\n-LL | |         let u = 19;\n-LL | |         println!(\"How are u today?\");\n-LL | |         let _ = \"This is a string\";\n+LL |       if false {\n+   |  ______________^\n LL | |     } else {\n    | |_____^\n    |\n@@ -15,7 +12,26 @@ note: the lint level is defined here\n LL | #![deny(clippy::if_same_then_else, clippy::shared_code_in_if_blocks)]\n    |         ^^^^^^^^^^^^^^^^^^^^^^^^^\n note: same as this\n-  --> $DIR/valid_if_blocks.rs:114:12\n+  --> $DIR/valid_if_blocks.rs:105:12\n+   |\n+LL |       } else {\n+   |  ____________^\n+LL | |     }\n+   | |_____^\n+\n+error: this `if` has identical blocks\n+  --> $DIR/valid_if_blocks.rs:115:15\n+   |\n+LL |       if x == 0 {\n+   |  _______________^\n+LL | |         let u = 19;\n+LL | |         println!(\"How are u today?\");\n+LL | |         let _ = \"This is a string\";\n+LL | |     } else {\n+   | |_____^\n+   |\n+note: same as this\n+  --> $DIR/valid_if_blocks.rs:119:12\n    |\n LL |       } else {\n    |  ____________^\n@@ -26,45 +42,43 @@ LL | |     }\n    | |_____^\n \n error: this `if` has identical blocks\n-  --> $DIR/valid_if_blocks.rs:121:23\n+  --> $DIR/valid_if_blocks.rs:126:23\n    |\n LL |     let _ = if x == 6 { 7 } else { 7 };\n    |                       ^^^^^\n    |\n note: same as this\n-  --> $DIR/valid_if_blocks.rs:121:34\n+  --> $DIR/valid_if_blocks.rs:126:34\n    |\n LL |     let _ = if x == 6 { 7 } else { 7 };\n    |                                  ^^^^^\n \n error: this `if` has identical blocks\n-  --> $DIR/valid_if_blocks.rs:127:23\n+  --> $DIR/valid_if_blocks.rs:132:23\n    |\n LL |       } else if x == 68 {\n    |  _______________________^\n LL | |         println!(\"I'm a doppelg\u00e4nger\");\n LL | |         // Don't listen to my clone below\n LL | |\n-...  |\n-LL | |         }\n+LL | |         if y == 90 { \"=^.^=\" } else { \":D\" }\n LL | |     } else {\n    | |_____^\n    |\n note: same as this\n-  --> $DIR/valid_if_blocks.rs:136:12\n+  --> $DIR/valid_if_blocks.rs:137:12\n    |\n LL |       } else {\n    |  ____________^\n LL | |         // Don't listen to my clone above\n LL | |         println!(\"I'm a doppelg\u00e4nger\");\n LL | |\n-...  |\n-LL | |         }\n+LL | |         if y == 90 { \"=^.^=\" } else { \":D\" }\n LL | |     };\n    | |_____^\n \n error: this `if` has identical blocks\n-  --> $DIR/valid_if_blocks.rs:149:23\n+  --> $DIR/valid_if_blocks.rs:146:23\n    |\n LL |       } else if x == 68 {\n    |  _______________________^\n@@ -74,7 +88,7 @@ LL | |     } else {\n    | |_____^\n    |\n note: same as this\n-  --> $DIR/valid_if_blocks.rs:152:12\n+  --> $DIR/valid_if_blocks.rs:149:12\n    |\n LL |       } else {\n    |  ____________^\n@@ -83,5 +97,5 @@ LL | |         println!(\"I'm a doppelg\u00e4nger\");\n LL | |     }\n    | |_____^\n \n-error: aborting due to 4 previous errors\n+error: aborting due to 5 previous errors\n "}]}