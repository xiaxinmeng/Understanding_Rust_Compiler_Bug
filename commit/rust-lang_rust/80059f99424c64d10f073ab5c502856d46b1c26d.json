{"sha": "80059f99424c64d10f073ab5c502856d46b1c26d", "node_id": "C_kwDOAAsO6NoAKDgwMDU5Zjk5NDI0YzY0ZDEwZjA3M2FiNWM1MDI4NTZkNDZiMWMyNmQ", "commit": {"author": {"name": "Rob Pilling", "email": "robpilling@gmail.com", "date": "2021-11-09T23:20:26Z"}, "committer": {"name": "Rob Pilling", "email": "robpilling@gmail.com", "date": "2022-01-25T22:51:18Z"}, "message": "Test tuple suggestions, including tuple-as-function-argument", "tree": {"sha": "9f7518acbae0ea1fae947c15f82f7095a25969b0", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9f7518acbae0ea1fae947c15f82f7095a25969b0"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/80059f99424c64d10f073ab5c502856d46b1c26d", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/80059f99424c64d10f073ab5c502856d46b1c26d", "html_url": "https://github.com/rust-lang/rust/commit/80059f99424c64d10f073ab5c502856d46b1c26d", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/80059f99424c64d10f073ab5c502856d46b1c26d/comments", "author": {"login": "bobrippling", "id": 205673, "node_id": "MDQ6VXNlcjIwNTY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/205673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobrippling", "html_url": "https://github.com/bobrippling", "followers_url": "https://api.github.com/users/bobrippling/followers", "following_url": "https://api.github.com/users/bobrippling/following{/other_user}", "gists_url": "https://api.github.com/users/bobrippling/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobrippling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobrippling/subscriptions", "organizations_url": "https://api.github.com/users/bobrippling/orgs", "repos_url": "https://api.github.com/users/bobrippling/repos", "events_url": "https://api.github.com/users/bobrippling/events{/privacy}", "received_events_url": "https://api.github.com/users/bobrippling/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bobrippling", "id": 205673, "node_id": "MDQ6VXNlcjIwNTY3Mw==", "avatar_url": "https://avatars.githubusercontent.com/u/205673?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bobrippling", "html_url": "https://github.com/bobrippling", "followers_url": "https://api.github.com/users/bobrippling/followers", "following_url": "https://api.github.com/users/bobrippling/following{/other_user}", "gists_url": "https://api.github.com/users/bobrippling/gists{/gist_id}", "starred_url": "https://api.github.com/users/bobrippling/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bobrippling/subscriptions", "organizations_url": "https://api.github.com/users/bobrippling/orgs", "repos_url": "https://api.github.com/users/bobrippling/repos", "events_url": "https://api.github.com/users/bobrippling/events{/privacy}", "received_events_url": "https://api.github.com/users/bobrippling/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "94c300a4522f3386546ba77a21865bb78fe9bba8", "url": "https://api.github.com/repos/rust-lang/rust/commits/94c300a4522f3386546ba77a21865bb78fe9bba8", "html_url": "https://github.com/rust-lang/rust/commit/94c300a4522f3386546ba77a21865bb78fe9bba8"}], "stats": {"total": 88, "additions": 88, "deletions": 0}, "files": [{"sha": "adb832b8a7b745f0d504637685493cb788298add", "filename": "src/test/ui/suggestions/args-instead-of-tuple.fixed", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/80059f99424c64d10f073ab5c502856d46b1c26d/src%2Ftest%2Fui%2Fsuggestions%2Fargs-instead-of-tuple.fixed", "raw_url": "https://github.com/rust-lang/rust/raw/80059f99424c64d10f073ab5c502856d46b1c26d/src%2Ftest%2Fui%2Fsuggestions%2Fargs-instead-of-tuple.fixed", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fargs-instead-of-tuple.fixed?ref=80059f99424c64d10f073ab5c502856d46b1c26d", "patch": "@@ -0,0 +1,18 @@\n+// Test suggesting tuples where bare arguments may have been passed\n+// See issue #86481 for details.\n+\n+// run-rustfix\n+\n+fn main() {\n+    let _: Result<(i32, i8), ()> = Ok((1, 2));\n+    //~^ ERROR this enum variant takes 1 argument but 2 arguments were supplied\n+    let _: Option<(i32, i8, &'static str)> = Some((1, 2, \"hi\"));\n+    //~^ ERROR this enum variant takes 1 argument but 3 arguments were supplied\n+    let _: Option<()> = Some(());\n+    //~^ ERROR this enum variant takes 1 argument but 0 arguments were supplied\n+\n+    f((1, 2)); //~ ERROR this function takes 1 argument\n+}\n+\n+fn f(_: (i32, i32)) {\n+}"}, {"sha": "8dbc58daeb1f5a07cd3d02cd3bcc0a1c01a812f4", "filename": "src/test/ui/suggestions/args-instead-of-tuple.rs", "status": "added", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/80059f99424c64d10f073ab5c502856d46b1c26d/src%2Ftest%2Fui%2Fsuggestions%2Fargs-instead-of-tuple.rs", "raw_url": "https://github.com/rust-lang/rust/raw/80059f99424c64d10f073ab5c502856d46b1c26d/src%2Ftest%2Fui%2Fsuggestions%2Fargs-instead-of-tuple.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fargs-instead-of-tuple.rs?ref=80059f99424c64d10f073ab5c502856d46b1c26d", "patch": "@@ -0,0 +1,18 @@\n+// Test suggesting tuples where bare arguments may have been passed\n+// See issue #86481 for details.\n+\n+// run-rustfix\n+\n+fn main() {\n+    let _: Result<(i32, i8), ()> = Ok(1, 2);\n+    //~^ ERROR this enum variant takes 1 argument but 2 arguments were supplied\n+    let _: Option<(i32, i8, &'static str)> = Some(1, 2, \"hi\");\n+    //~^ ERROR this enum variant takes 1 argument but 3 arguments were supplied\n+    let _: Option<()> = Some();\n+    //~^ ERROR this enum variant takes 1 argument but 0 arguments were supplied\n+\n+    f(1, 2); //~ ERROR this function takes 1 argument\n+}\n+\n+fn f(_: (i32, i32)) {\n+}"}, {"sha": "95bbbdb2749640a23d4b76d9791637f620742337", "filename": "src/test/ui/suggestions/args-instead-of-tuple.stderr", "status": "added", "additions": 52, "deletions": 0, "changes": 52, "blob_url": "https://github.com/rust-lang/rust/blob/80059f99424c64d10f073ab5c502856d46b1c26d/src%2Ftest%2Fui%2Fsuggestions%2Fargs-instead-of-tuple.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/80059f99424c64d10f073ab5c502856d46b1c26d/src%2Ftest%2Fui%2Fsuggestions%2Fargs-instead-of-tuple.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fsuggestions%2Fargs-instead-of-tuple.stderr?ref=80059f99424c64d10f073ab5c502856d46b1c26d", "patch": "@@ -0,0 +1,52 @@\n+error[E0061]: this enum variant takes 1 argument but 2 arguments were supplied\n+  --> $DIR/args-instead-of-tuple.rs:7:36\n+   |\n+LL |     let _: Result<(i32, i8), ()> = Ok(1, 2);\n+   |                                    ^^ -  - supplied 2 arguments\n+   |\n+help: use parentheses to construct a tuple\n+   |\n+LL |     let _: Result<(i32, i8), ()> = Ok((1, 2));\n+   |                                       +    +\n+\n+error[E0061]: this enum variant takes 1 argument but 3 arguments were supplied\n+  --> $DIR/args-instead-of-tuple.rs:9:46\n+   |\n+LL |     let _: Option<(i32, i8, &'static str)> = Some(1, 2, \"hi\");\n+   |                                              ^^^^ -  -  ---- supplied 3 arguments\n+   |\n+help: use parentheses to construct a tuple\n+   |\n+LL |     let _: Option<(i32, i8, &'static str)> = Some((1, 2, \"hi\"));\n+   |                                                   +          +\n+\n+error[E0061]: this enum variant takes 1 argument but 0 arguments were supplied\n+  --> $DIR/args-instead-of-tuple.rs:11:25\n+   |\n+LL |     let _: Option<()> = Some();\n+   |                         ^^^^-- supplied 0 arguments\n+   |\n+help: expected the unit value `()`; create it with empty parentheses\n+   |\n+LL |     let _: Option<()> = Some(());\n+   |                              ++\n+\n+error[E0061]: this function takes 1 argument but 2 arguments were supplied\n+  --> $DIR/args-instead-of-tuple.rs:14:5\n+   |\n+LL |     f(1, 2);\n+   |     ^ -  - supplied 2 arguments\n+   |\n+note: function defined here\n+  --> $DIR/args-instead-of-tuple.rs:17:4\n+   |\n+LL | fn f(_: (i32, i32)) {\n+   |    ^ -------------\n+help: use parentheses to construct a tuple\n+   |\n+LL |     f((1, 2));\n+   |       +    +\n+\n+error: aborting due to 4 previous errors\n+\n+For more information about this error, try `rustc --explain E0061`."}]}