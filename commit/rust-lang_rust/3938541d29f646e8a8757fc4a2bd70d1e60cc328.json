{"sha": "3938541d29f646e8a8757fc4a2bd70d1e60cc328", "node_id": "C_kwDOAAsO6NoAKDM5Mzg1NDFkMjlmNjQ2ZThhODc1N2ZjNGEyYmQ3MGQxZTYwY2MzMjg", "commit": {"author": {"name": "Miguel Ojeda", "email": "ojeda@kernel.org", "date": "2023-04-21T17:39:44Z"}, "committer": {"name": "Miguel Ojeda", "email": "ojeda@kernel.org", "date": "2023-04-23T23:56:37Z"}, "message": "tests: add test for warning-free builds of `core` under `no_global_oom_handling`\n\n`tests/run-make/alloc-no-oom-handling` tests that `alloc` under\n`no_global_oom_handling` builds and is warning-free.\n\nDo the same for `core` to prevent issues such as [1].\n\nLink: https://github.com/rust-lang/rust/pull/110649 [1]\nSigned-off-by: Miguel Ojeda <ojeda@kernel.org>", "tree": {"sha": "0f1f03f6755db34c560efdf6ddf81aa8ca4520d9", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0f1f03f6755db34c560efdf6ddf81aa8ca4520d9"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3938541d29f646e8a8757fc4a2bd70d1e60cc328", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3938541d29f646e8a8757fc4a2bd70d1e60cc328", "html_url": "https://github.com/rust-lang/rust/commit/3938541d29f646e8a8757fc4a2bd70d1e60cc328", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3938541d29f646e8a8757fc4a2bd70d1e60cc328/comments", "author": {"login": "ojeda", "id": 1054456, "node_id": "MDQ6VXNlcjEwNTQ0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1054456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ojeda", "html_url": "https://github.com/ojeda", "followers_url": "https://api.github.com/users/ojeda/followers", "following_url": "https://api.github.com/users/ojeda/following{/other_user}", "gists_url": "https://api.github.com/users/ojeda/gists{/gist_id}", "starred_url": "https://api.github.com/users/ojeda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ojeda/subscriptions", "organizations_url": "https://api.github.com/users/ojeda/orgs", "repos_url": "https://api.github.com/users/ojeda/repos", "events_url": "https://api.github.com/users/ojeda/events{/privacy}", "received_events_url": "https://api.github.com/users/ojeda/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ojeda", "id": 1054456, "node_id": "MDQ6VXNlcjEwNTQ0NTY=", "avatar_url": "https://avatars.githubusercontent.com/u/1054456?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ojeda", "html_url": "https://github.com/ojeda", "followers_url": "https://api.github.com/users/ojeda/followers", "following_url": "https://api.github.com/users/ojeda/following{/other_user}", "gists_url": "https://api.github.com/users/ojeda/gists{/gist_id}", "starred_url": "https://api.github.com/users/ojeda/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ojeda/subscriptions", "organizations_url": "https://api.github.com/users/ojeda/orgs", "repos_url": "https://api.github.com/users/ojeda/repos", "events_url": "https://api.github.com/users/ojeda/events{/privacy}", "received_events_url": "https://api.github.com/users/ojeda/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "409661936f929b254ffc8adb644cf35d1f9765c4", "url": "https://api.github.com/repos/rust-lang/rust/commits/409661936f929b254ffc8adb644cf35d1f9765c4", "html_url": "https://github.com/rust-lang/rust/commit/409661936f929b254ffc8adb644cf35d1f9765c4"}], "stats": {"total": 6, "additions": 6, "deletions": 0}, "files": [{"sha": "28c5261ff854d85e517b2a9b8ff0780433199ac4", "filename": "tests/run-make/core-no-oom-handling/Makefile", "status": "added", "additions": 6, "deletions": 0, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/3938541d29f646e8a8757fc4a2bd70d1e60cc328/tests%2Frun-make%2Fcore-no-oom-handling%2FMakefile", "raw_url": "https://github.com/rust-lang/rust/raw/3938541d29f646e8a8757fc4a2bd70d1e60cc328/tests%2Frun-make%2Fcore-no-oom-handling%2FMakefile", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-make%2Fcore-no-oom-handling%2FMakefile?ref=3938541d29f646e8a8757fc4a2bd70d1e60cc328", "patch": "@@ -0,0 +1,6 @@\n+include ../tools.mk\n+\n+FAKEROOT=$(TMPDIR)/fakeroot\n+\n+all:\n+\t$(RUSTC) --edition=2021 -Dwarnings --crate-type=rlib ../../../library/core/src/lib.rs --sysroot=$(FAKEROOT) --cfg no_global_oom_handling"}]}