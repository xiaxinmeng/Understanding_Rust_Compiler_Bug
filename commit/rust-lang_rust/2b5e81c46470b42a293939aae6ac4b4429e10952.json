{"sha": "2b5e81c46470b42a293939aae6ac4b4429e10952", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJiNWU4MWM0NjQ3MGI0MmEyOTM5MzlhYWU2YWM0YjQ0MjllMTA5NTI=", "commit": {"author": {"name": "Paul Stansifer", "email": "paul.stansifer@gmail.com", "date": "2012-12-14T02:46:57Z"}, "committer": {"name": "Paul Stansifer", "email": "paul.stansifer@gmail.com", "date": "2012-12-16T23:45:54Z"}, "message": "Reword some things in the macro tutorial.", "tree": {"sha": "04c7d448d7b288996c1fd3469f67b63f8397b8b1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/04c7d448d7b288996c1fd3469f67b63f8397b8b1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2b5e81c46470b42a293939aae6ac4b4429e10952", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2b5e81c46470b42a293939aae6ac4b4429e10952", "html_url": "https://github.com/rust-lang/rust/commit/2b5e81c46470b42a293939aae6ac4b4429e10952", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2b5e81c46470b42a293939aae6ac4b4429e10952/comments", "author": {"login": "paulstansifer", "id": 1431, "node_id": "MDQ6VXNlcjE0MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulstansifer", "html_url": "https://github.com/paulstansifer", "followers_url": "https://api.github.com/users/paulstansifer/followers", "following_url": "https://api.github.com/users/paulstansifer/following{/other_user}", "gists_url": "https://api.github.com/users/paulstansifer/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulstansifer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulstansifer/subscriptions", "organizations_url": "https://api.github.com/users/paulstansifer/orgs", "repos_url": "https://api.github.com/users/paulstansifer/repos", "events_url": "https://api.github.com/users/paulstansifer/events{/privacy}", "received_events_url": "https://api.github.com/users/paulstansifer/received_events", "type": "User", "site_admin": false}, "committer": {"login": "paulstansifer", "id": 1431, "node_id": "MDQ6VXNlcjE0MzE=", "avatar_url": "https://avatars.githubusercontent.com/u/1431?v=4", "gravatar_id": "", "url": "https://api.github.com/users/paulstansifer", "html_url": "https://github.com/paulstansifer", "followers_url": "https://api.github.com/users/paulstansifer/followers", "following_url": "https://api.github.com/users/paulstansifer/following{/other_user}", "gists_url": "https://api.github.com/users/paulstansifer/gists{/gist_id}", "starred_url": "https://api.github.com/users/paulstansifer/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/paulstansifer/subscriptions", "organizations_url": "https://api.github.com/users/paulstansifer/orgs", "repos_url": "https://api.github.com/users/paulstansifer/repos", "events_url": "https://api.github.com/users/paulstansifer/events{/privacy}", "received_events_url": "https://api.github.com/users/paulstansifer/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7f8e302a6a46f175b2f8709b83900288f34164ed", "url": "https://api.github.com/repos/rust-lang/rust/commits/7f8e302a6a46f175b2f8709b83900288f34164ed", "html_url": "https://github.com/rust-lang/rust/commit/7f8e302a6a46f175b2f8709b83900288f34164ed"}], "stats": {"total": 17, "additions": 9, "deletions": 8}, "files": [{"sha": "e82eaeb0756100c9e54f9b8dae15b0a670e50ad4", "filename": "doc/tutorial-macros.md", "status": "modified", "additions": 9, "deletions": 8, "changes": 17, "blob_url": "https://github.com/rust-lang/rust/blob/2b5e81c46470b42a293939aae6ac4b4429e10952/doc%2Ftutorial-macros.md", "raw_url": "https://github.com/rust-lang/rust/raw/2b5e81c46470b42a293939aae6ac4b4429e10952/doc%2Ftutorial-macros.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/doc%2Ftutorial-macros.md?ref=2b5e81c46470b42a293939aae6ac4b4429e10952", "patch": "@@ -25,9 +25,9 @@ match input_2 {\n # }\n ~~~~\n \n-This code could become tiresome if repeated many times. However, there is no\n-straightforward way to rewrite it without the repeated code, using functions\n-alone. There is a solution, though: defining a macro to solve the problem. Macros are\n+This code could become tiresome if repeated many times. However, no function\n+can capture its functionality to make it possible to rewrite the repetition\n+away. Rust's macro system, however, can eliminate the repetition. Macros are\n lightweight custom syntax extensions, themselves defined using the\n `macro_rules!` syntax extension. The following `early_return` macro captures\n the pattern in the above code:\n@@ -65,7 +65,7 @@ macro. It appears on the left-hand side of the `=>` in a macro definition. It\n conforms to the following rules:\n \n 1. It must be surrounded by parentheses.\n-2. `$` has special meaning.\n+2. `$` has special meaning (described below).\n 3. The `()`s, `[]`s, and `{}`s it contains must balance. For example, `([)` is\n forbidden.\n \n@@ -118,10 +118,11 @@ expression, `() => (let $x=$val)` is a macro that expands to a statement, and\n `() => (1,2,3)` is a macro that expands to a syntax errror).\n \n Except for permissibility of `$name` (and `$(...)*`, discussed below), the\n-right-hand side of a macro definition follows the same rules as ordinary\n-Rust syntax. In particular, macro invocations (including invocations of the\n-macro currently being defined) are permitted in expression, statement, and\n-item locations.\n+right-hand side of a macro definition is ordinary Rust syntax. In particular,\n+macro invocations (including invocations of the macro currently being defined)\n+are permitted in expression, statement, and item locations. However, nothing\n+else about the code is examined or executed by the macro system; execution\n+still has to wait until runtime.\n \n ## Interpolation location\n "}]}