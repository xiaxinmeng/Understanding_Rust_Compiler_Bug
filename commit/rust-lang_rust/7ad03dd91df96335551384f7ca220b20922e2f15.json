{"sha": "7ad03dd91df96335551384f7ca220b20922e2f15", "node_id": "MDY6Q29tbWl0NzI0NzEyOjdhZDAzZGQ5MWRmOTYzMzU1NTEzODRmN2NhMjIwYjIwOTIyZTJmMTU=", "commit": {"author": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2020-09-30T18:56:07Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-09-30T18:56:07Z"}, "message": "Rollup merge of #77233 - ssomers:btree_size_matters, r=Mark-Simulacrum\n\nBTreeMap: keep an eye out on the size of the main components\n\nr? @Mark-Simulacrum", "tree": {"sha": "7779e505a47ae57bb46b67dc0c299ec7f3e49a71", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/7779e505a47ae57bb46b67dc0c299ec7f3e49a71"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/7ad03dd91df96335551384f7ca220b20922e2f15", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJfdNTHCRBK7hj4Ov3rIwAAdHIIAJkIzpHr8Sx7FgVSsUmvWosL\nTc6DWv55ss12wuXruqUuhirXMytNFUQx6pq1hz2pQNfJ9kdKzHZbRcUouSrPbyxP\n3EPm/W9i3KaSGhnKB9zkAZE3A/TXPD0lpK4Ly9+f0AjEH6lKJUNo+gYjxilk4Dd2\nS68/9plpGQiIN7nEJw32Gx/Q5KSRuCqv2612Igi4vE46tELTgmt8oKbGGynuKlpK\neLJl8QP7wIfUeqavmm9kDiCF75PSDBU2v9dCKrflTjNRuNygQCFNywzqA5ZapRJF\nKdhvkuCA8eDAh+LZIfn6tgJCM7QK0bbsw9ceRbR7k5k4SfNFAJZuoVKzCfnw39w=\n=hmm9\n-----END PGP SIGNATURE-----\n", "payload": "tree 7779e505a47ae57bb46b67dc0c299ec7f3e49a71\nparent 248d6bf1e2103aaac8642aecdfcffd4259927fea\nparent 3e485d7cf59dafbc37467c3ef1acc51f26b381d9\nauthor Jonas Schievink <jonasschievink@gmail.com> 1601492167 +0200\ncommitter GitHub <noreply@github.com> 1601492167 +0200\n\nRollup merge of #77233 - ssomers:btree_size_matters, r=Mark-Simulacrum\n\nBTreeMap: keep an eye out on the size of the main components\n\nr? @Mark-Simulacrum\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/7ad03dd91df96335551384f7ca220b20922e2f15", "html_url": "https://github.com/rust-lang/rust/commit/7ad03dd91df96335551384f7ca220b20922e2f15", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/7ad03dd91df96335551384f7ca220b20922e2f15/comments", "author": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "248d6bf1e2103aaac8642aecdfcffd4259927fea", "url": "https://api.github.com/repos/rust-lang/rust/commits/248d6bf1e2103aaac8642aecdfcffd4259927fea", "html_url": "https://github.com/rust-lang/rust/commit/248d6bf1e2103aaac8642aecdfcffd4259927fea"}, {"sha": "3e485d7cf59dafbc37467c3ef1acc51f26b381d9", "url": "https://api.github.com/repos/rust-lang/rust/commits/3e485d7cf59dafbc37467c3ef1acc51f26b381d9", "html_url": "https://github.com/rust-lang/rust/commit/3e485d7cf59dafbc37467c3ef1acc51f26b381d9"}], "stats": {"total": 9, "additions": 9, "deletions": 0}, "files": [{"sha": "54c3709821acd414b635424274667cccaeb1252c", "filename": "library/alloc/src/collections/btree/node/tests.rs", "status": "modified", "additions": 9, "deletions": 0, "changes": 9, "blob_url": "https://github.com/rust-lang/rust/blob/7ad03dd91df96335551384f7ca220b20922e2f15/library%2Falloc%2Fsrc%2Fcollections%2Fbtree%2Fnode%2Ftests.rs", "raw_url": "https://github.com/rust-lang/rust/raw/7ad03dd91df96335551384f7ca220b20922e2f15/library%2Falloc%2Fsrc%2Fcollections%2Fbtree%2Fnode%2Ftests.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Falloc%2Fsrc%2Fcollections%2Fbtree%2Fnode%2Ftests.rs?ref=7ad03dd91df96335551384f7ca220b20922e2f15", "patch": "@@ -23,3 +23,12 @@ fn test_splitpoint() {\n         assert!(left_len + right_len == CAPACITY);\n     }\n }\n+\n+#[test]\n+#[cfg(target_arch = \"x86_64\")]\n+fn test_sizes() {\n+    assert_eq!(core::mem::size_of::<LeafNode<(), ()>>(), 16);\n+    assert_eq!(core::mem::size_of::<LeafNode<i64, i64>>(), 16 + CAPACITY * 8 * 2);\n+    assert_eq!(core::mem::size_of::<InternalNode<(), ()>>(), 112);\n+    assert_eq!(core::mem::size_of::<InternalNode<i64, i64>>(), 112 + CAPACITY * 8 * 2);\n+}"}]}