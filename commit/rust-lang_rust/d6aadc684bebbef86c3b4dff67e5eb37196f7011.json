{"sha": "d6aadc684bebbef86c3b4dff67e5eb37196f7011", "node_id": "C_kwDOAAsO6NoAKGQ2YWFkYzY4NGJlYmJlZjg2YzNiNGRmZjY3ZTVlYjM3MTk2ZjcwMTE", "commit": {"author": {"name": "antoyo", "email": "antoyo@users.noreply.github.com", "date": "2022-06-24T16:57:54Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2022-06-24T16:57:54Z"}, "message": "Merge pull request #187 from GuillaumeGomez/invalid-conversion\n\nPrevent invalid intrinsics conversion generation", "tree": {"sha": "8260de08cbf94d248a8096008a564cf748350c4d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/8260de08cbf94d248a8096008a564cf748350c4d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/d6aadc684bebbef86c3b4dff67e5eb37196f7011", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJite0SCRBK7hj4Ov3rIwAAZNMIABc8GM0vCZR0nhKVCZBsnuPF\nynuH/gFkGkqibdWDEROiNJnD+0TaMwORIcJQDKAozXEhAs4vryyw2uxdkzBidACU\nrFe4+f2f5MCf9y5ZPZ7aFZZRt1L2QtLO+YjcczEM3BJ0rcLq0x8gpiGbxV3K4DAe\nE3gVgLGDUr7LrYoTjzV6o5QqHD1D8g6NwBXlYgQbGDHMG7cmV4NxAKUEvkhHvKS9\nvx2mDXW5jKLzIbOsr4cTuTrK7DWDvgYLqrV7C05Rtncpimlh2XICu5cnYG31b6QD\np3kDH3+rwts9qT0VzLNJgLxHQ4UY1eGF/darHruA1HK20lyC0K1+G5UG1GN5krU=\n=nTME\n-----END PGP SIGNATURE-----\n", "payload": "tree 8260de08cbf94d248a8096008a564cf748350c4d\nparent 39d7a2317091f2d88dc4723e46fd84424d21d7db\nparent f7a3dffc0b755c7e4791656238bb862c118747cb\nauthor antoyo <antoyo@users.noreply.github.com> 1656089874 -0400\ncommitter GitHub <noreply@github.com> 1656089874 -0400\n\nMerge pull request #187 from GuillaumeGomez/invalid-conversion\n\nPrevent invalid intrinsics conversion generation"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/d6aadc684bebbef86c3b4dff67e5eb37196f7011", "html_url": "https://github.com/rust-lang/rust/commit/d6aadc684bebbef86c3b4dff67e5eb37196f7011", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/d6aadc684bebbef86c3b4dff67e5eb37196f7011/comments", "author": {"login": "antoyo", "id": 584972, "node_id": "MDQ6VXNlcjU4NDk3Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/584972?v=4", "gravatar_id": "", "url": "https://api.github.com/users/antoyo", "html_url": "https://github.com/antoyo", "followers_url": "https://api.github.com/users/antoyo/followers", "following_url": "https://api.github.com/users/antoyo/following{/other_user}", "gists_url": "https://api.github.com/users/antoyo/gists{/gist_id}", "starred_url": "https://api.github.com/users/antoyo/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/antoyo/subscriptions", "organizations_url": "https://api.github.com/users/antoyo/orgs", "repos_url": "https://api.github.com/users/antoyo/repos", "events_url": "https://api.github.com/users/antoyo/events{/privacy}", "received_events_url": "https://api.github.com/users/antoyo/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "39d7a2317091f2d88dc4723e46fd84424d21d7db", "url": "https://api.github.com/repos/rust-lang/rust/commits/39d7a2317091f2d88dc4723e46fd84424d21d7db", "html_url": "https://github.com/rust-lang/rust/commit/39d7a2317091f2d88dc4723e46fd84424d21d7db"}, {"sha": "f7a3dffc0b755c7e4791656238bb862c118747cb", "url": "https://api.github.com/repos/rust-lang/rust/commits/f7a3dffc0b755c7e4791656238bb862c118747cb", "html_url": "https://github.com/rust-lang/rust/commit/f7a3dffc0b755c7e4791656238bb862c118747cb"}], "stats": {"total": 109, "additions": 65, "deletions": 44}, "files": [{"sha": "9d674eb87eb3a60ddff3ec2f31245786a5254ece", "filename": "src/intrinsic/archs.rs", "status": "modified", "additions": 44, "deletions": 44, "changes": 88, "blob_url": "https://github.com/rust-lang/rust/blob/d6aadc684bebbef86c3b4dff67e5eb37196f7011/src%2Fintrinsic%2Farchs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6aadc684bebbef86c3b4dff67e5eb37196f7011/src%2Fintrinsic%2Farchs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fintrinsic%2Farchs.rs?ref=d6aadc684bebbef86c3b4dff67e5eb37196f7011", "patch": "@@ -5995,8 +5995,8 @@ match name {\n     \"llvm.x86.avx512.mask.add.ps.128\" => \"__builtin_ia32_addps128_mask\",\n     \"llvm.x86.avx512.mask.add.ps.256\" => \"__builtin_ia32_addps256_mask\",\n     \"llvm.x86.avx512.mask.add.ps.512\" => \"__builtin_ia32_addps512_mask\",\n-    \"llvm.x86.avx512.mask.add.sd.round\" => \"__builtin_ia32_addsd_round_mask\",\n-    \"llvm.x86.avx512.mask.add.ss.round\" => \"__builtin_ia32_addss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.add.sd.round\" => \"__builtin_ia32_addsd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.add.ss.round\" => \"__builtin_ia32_addss_round_mask\",\n     \"llvm.x86.avx512.mask.and.pd.128\" => \"__builtin_ia32_andpd128_mask\",\n     \"llvm.x86.avx512.mask.and.pd.256\" => \"__builtin_ia32_andpd256_mask\",\n     \"llvm.x86.avx512.mask.and.pd.512\" => \"__builtin_ia32_andpd512_mask\",\n@@ -6110,8 +6110,8 @@ match name {\n     \"llvm.x86.avx512.mask.cvtqq2ps.128\" => \"__builtin_ia32_cvtqq2ps128_mask\",\n     \"llvm.x86.avx512.mask.cvtqq2ps.256\" => \"__builtin_ia32_cvtqq2ps256_mask\",\n     \"llvm.x86.avx512.mask.cvtqq2ps.512\" => \"__builtin_ia32_cvtqq2ps512_mask\",\n-    \"llvm.x86.avx512.mask.cvtsd2ss.round\" => \"__builtin_ia32_cvtsd2ss_round_mask\",\n-    \"llvm.x86.avx512.mask.cvtss2sd.round\" => \"__builtin_ia32_cvtss2sd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.cvtsd2ss.round\" => \"__builtin_ia32_cvtsd2ss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.cvtss2sd.round\" => \"__builtin_ia32_cvtss2sd_round_mask\",\n     \"llvm.x86.avx512.mask.cvttpd2dq.128\" => \"__builtin_ia32_cvttpd2dq128_mask\",\n     \"llvm.x86.avx512.mask.cvttpd2dq.256\" => \"__builtin_ia32_cvttpd2dq256_mask\",\n     \"llvm.x86.avx512.mask.cvttpd2dq.512\" => \"__builtin_ia32_cvttpd2dq512_mask\",\n@@ -6157,8 +6157,8 @@ match name {\n     \"llvm.x86.avx512.mask.div.ps.128\" => \"__builtin_ia32_divps_mask\",\n     \"llvm.x86.avx512.mask.div.ps.256\" => \"__builtin_ia32_divps256_mask\",\n     \"llvm.x86.avx512.mask.div.ps.512\" => \"__builtin_ia32_divps512_mask\",\n-    \"llvm.x86.avx512.mask.div.sd.round\" => \"__builtin_ia32_divsd_round_mask\",\n-    \"llvm.x86.avx512.mask.div.ss.round\" => \"__builtin_ia32_divss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.div.sd.round\" => \"__builtin_ia32_divsd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.div.ss.round\" => \"__builtin_ia32_divss_round_mask\",\n     \"llvm.x86.avx512.mask.expand.d.128\" => \"__builtin_ia32_expandsi128_mask\",\n     \"llvm.x86.avx512.mask.expand.d.256\" => \"__builtin_ia32_expandsi256_mask\",\n     \"llvm.x86.avx512.mask.expand.d.512\" => \"__builtin_ia32_expandsi512_mask\",\n@@ -6205,16 +6205,16 @@ match name {\n     \"llvm.x86.avx512.mask.getexp.ps.128\" => \"__builtin_ia32_getexpps128_mask\",\n     \"llvm.x86.avx512.mask.getexp.ps.256\" => \"__builtin_ia32_getexpps256_mask\",\n     \"llvm.x86.avx512.mask.getexp.ps.512\" => \"__builtin_ia32_getexpps512_mask\",\n-    \"llvm.x86.avx512.mask.getexp.sd\" => \"__builtin_ia32_getexpsd128_round_mask\",\n-    \"llvm.x86.avx512.mask.getexp.ss\" => \"__builtin_ia32_getexpss128_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.getexp.sd\" => \"__builtin_ia32_getexpsd128_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.getexp.ss\" => \"__builtin_ia32_getexpss128_round_mask\",\n     \"llvm.x86.avx512.mask.getmant.pd.128\" => \"__builtin_ia32_getmantpd128_mask\",\n     \"llvm.x86.avx512.mask.getmant.pd.256\" => \"__builtin_ia32_getmantpd256_mask\",\n     \"llvm.x86.avx512.mask.getmant.pd.512\" => \"__builtin_ia32_getmantpd512_mask\",\n     \"llvm.x86.avx512.mask.getmant.ps.128\" => \"__builtin_ia32_getmantps128_mask\",\n     \"llvm.x86.avx512.mask.getmant.ps.256\" => \"__builtin_ia32_getmantps256_mask\",\n     \"llvm.x86.avx512.mask.getmant.ps.512\" => \"__builtin_ia32_getmantps512_mask\",\n-    \"llvm.x86.avx512.mask.getmant.sd\" => \"__builtin_ia32_getmantsd_round_mask\",\n-    \"llvm.x86.avx512.mask.getmant.ss\" => \"__builtin_ia32_getmantss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.getmant.sd\" => \"__builtin_ia32_getmantsd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.getmant.ss\" => \"__builtin_ia32_getmantss_round_mask\",\n     \"llvm.x86.avx512.mask.insertf32x4.256\" => \"__builtin_ia32_insertf32x4_256_mask\",\n     \"llvm.x86.avx512.mask.insertf32x4.512\" => \"__builtin_ia32_insertf32x4_mask\",\n     \"llvm.x86.avx512.mask.insertf32x8.512\" => \"__builtin_ia32_insertf32x8_mask\",\n@@ -6239,16 +6239,16 @@ match name {\n     \"llvm.x86.avx512.mask.max.ps.128\" => \"__builtin_ia32_maxps_mask\",\n     \"llvm.x86.avx512.mask.max.ps.256\" => \"__builtin_ia32_maxps256_mask\",\n     \"llvm.x86.avx512.mask.max.ps.512\" => \"__builtin_ia32_maxps512_mask\",\n-    \"llvm.x86.avx512.mask.max.sd.round\" => \"__builtin_ia32_maxsd_round_mask\",\n-    \"llvm.x86.avx512.mask.max.ss.round\" => \"__builtin_ia32_maxss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.max.sd.round\" => \"__builtin_ia32_maxsd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.max.ss.round\" => \"__builtin_ia32_maxss_round_mask\",\n     \"llvm.x86.avx512.mask.min.pd.128\" => \"__builtin_ia32_minpd_mask\",\n     \"llvm.x86.avx512.mask.min.pd.256\" => \"__builtin_ia32_minpd256_mask\",\n     \"llvm.x86.avx512.mask.min.pd.512\" => \"__builtin_ia32_minpd512_mask\",\n     \"llvm.x86.avx512.mask.min.ps.128\" => \"__builtin_ia32_minps_mask\",\n     \"llvm.x86.avx512.mask.min.ps.256\" => \"__builtin_ia32_minps256_mask\",\n     \"llvm.x86.avx512.mask.min.ps.512\" => \"__builtin_ia32_minps512_mask\",\n-    \"llvm.x86.avx512.mask.min.sd.round\" => \"__builtin_ia32_minsd_round_mask\",\n-    \"llvm.x86.avx512.mask.min.ss.round\" => \"__builtin_ia32_minss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.min.sd.round\" => \"__builtin_ia32_minsd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.min.ss.round\" => \"__builtin_ia32_minss_round_mask\",\n     \"llvm.x86.avx512.mask.move.sd\" => \"__builtin_ia32_movsd_mask\",\n     \"llvm.x86.avx512.mask.move.ss\" => \"__builtin_ia32_movss_mask\",\n     \"llvm.x86.avx512.mask.mul.pd.128\" => \"__builtin_ia32_mulpd_mask\",\n@@ -6257,8 +6257,8 @@ match name {\n     \"llvm.x86.avx512.mask.mul.ps.128\" => \"__builtin_ia32_mulps_mask\",\n     \"llvm.x86.avx512.mask.mul.ps.256\" => \"__builtin_ia32_mulps256_mask\",\n     \"llvm.x86.avx512.mask.mul.ps.512\" => \"__builtin_ia32_mulps512_mask\",\n-    \"llvm.x86.avx512.mask.mul.sd.round\" => \"__builtin_ia32_mulsd_round_mask\",\n-    \"llvm.x86.avx512.mask.mul.ss.round\" => \"__builtin_ia32_mulss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.mul.sd.round\" => \"__builtin_ia32_mulsd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.mul.ss.round\" => \"__builtin_ia32_mulss_round_mask\",\n     \"llvm.x86.avx512.mask.or.pd.128\" => \"__builtin_ia32_orpd128_mask\",\n     \"llvm.x86.avx512.mask.or.pd.256\" => \"__builtin_ia32_orpd256_mask\",\n     \"llvm.x86.avx512.mask.or.pd.512\" => \"__builtin_ia32_orpd512_mask\",\n@@ -6743,8 +6743,8 @@ match name {\n     \"llvm.x86.avx512.mask.range.ps.128\" => \"__builtin_ia32_rangeps128_mask\",\n     \"llvm.x86.avx512.mask.range.ps.256\" => \"__builtin_ia32_rangeps256_mask\",\n     \"llvm.x86.avx512.mask.range.ps.512\" => \"__builtin_ia32_rangeps512_mask\",\n-    \"llvm.x86.avx512.mask.range.sd\" => \"__builtin_ia32_rangesd128_round_mask\",\n-    \"llvm.x86.avx512.mask.range.ss\" => \"__builtin_ia32_rangess128_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.range.sd\" => \"__builtin_ia32_rangesd128_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.range.ss\" => \"__builtin_ia32_rangess128_round_mask\",\n     \"llvm.x86.avx512.mask.reduce.pd.128\" => \"__builtin_ia32_reducepd128_mask\",\n     \"llvm.x86.avx512.mask.reduce.pd.256\" => \"__builtin_ia32_reducepd256_mask\",\n     \"llvm.x86.avx512.mask.reduce.pd.512\" => \"__builtin_ia32_reducepd512_mask\",\n@@ -6759,16 +6759,16 @@ match name {\n     \"llvm.x86.avx512.mask.rndscale.ps.128\" => \"__builtin_ia32_rndscaleps_128_mask\",\n     \"llvm.x86.avx512.mask.rndscale.ps.256\" => \"__builtin_ia32_rndscaleps_256_mask\",\n     \"llvm.x86.avx512.mask.rndscale.ps.512\" => \"__builtin_ia32_rndscaleps_mask\",\n-    \"llvm.x86.avx512.mask.rndscale.sd\" => \"__builtin_ia32_rndscalesd_round_mask\",\n-    \"llvm.x86.avx512.mask.rndscale.ss\" => \"__builtin_ia32_rndscaless_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.rndscale.sd\" => \"__builtin_ia32_rndscalesd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.rndscale.ss\" => \"__builtin_ia32_rndscaless_round_mask\",\n     \"llvm.x86.avx512.mask.scalef.pd.128\" => \"__builtin_ia32_scalefpd128_mask\",\n     \"llvm.x86.avx512.mask.scalef.pd.256\" => \"__builtin_ia32_scalefpd256_mask\",\n     \"llvm.x86.avx512.mask.scalef.pd.512\" => \"__builtin_ia32_scalefpd512_mask\",\n     \"llvm.x86.avx512.mask.scalef.ps.128\" => \"__builtin_ia32_scalefps128_mask\",\n     \"llvm.x86.avx512.mask.scalef.ps.256\" => \"__builtin_ia32_scalefps256_mask\",\n     \"llvm.x86.avx512.mask.scalef.ps.512\" => \"__builtin_ia32_scalefps512_mask\",\n-    \"llvm.x86.avx512.mask.scalef.sd\" => \"__builtin_ia32_scalefsd_round_mask\",\n-    \"llvm.x86.avx512.mask.scalef.ss\" => \"__builtin_ia32_scalefss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.scalef.sd\" => \"__builtin_ia32_scalefsd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.scalef.ss\" => \"__builtin_ia32_scalefss_round_mask\",\n     \"llvm.x86.avx512.mask.shuf.f32x4\" => \"__builtin_ia32_shuf_f32x4_mask\",\n     \"llvm.x86.avx512.mask.shuf.f32x4.256\" => \"__builtin_ia32_shuf_f32x4_256_mask\",\n     \"llvm.x86.avx512.mask.shuf.f64x2\" => \"__builtin_ia32_shuf_f64x2_mask\",\n@@ -6789,8 +6789,8 @@ match name {\n     \"llvm.x86.avx512.mask.sqrt.ps.128\" => \"__builtin_ia32_sqrtps128_mask\",\n     \"llvm.x86.avx512.mask.sqrt.ps.256\" => \"__builtin_ia32_sqrtps256_mask\",\n     \"llvm.x86.avx512.mask.sqrt.ps.512\" => \"__builtin_ia32_sqrtps512_mask\",\n-    \"llvm.x86.avx512.mask.sqrt.sd\" => \"__builtin_ia32_sqrtsd_round_mask\",\n-    \"llvm.x86.avx512.mask.sqrt.ss\" => \"__builtin_ia32_sqrtss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.sqrt.sd\" => \"__builtin_ia32_sqrtsd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.sqrt.ss\" => \"__builtin_ia32_sqrtss_round_mask\",\n     \"llvm.x86.avx512.mask.store.ss\" => \"__builtin_ia32_storess_mask\",\n     \"llvm.x86.avx512.mask.storeu.d.512\" => \"__builtin_ia32_storedqusi512_mask\",\n     \"llvm.x86.avx512.mask.storeu.pd.512\" => \"__builtin_ia32_storeupd512_mask\",\n@@ -6802,8 +6802,8 @@ match name {\n     \"llvm.x86.avx512.mask.sub.ps.128\" => \"__builtin_ia32_subps128_mask\",\n     \"llvm.x86.avx512.mask.sub.ps.256\" => \"__builtin_ia32_subps256_mask\",\n     \"llvm.x86.avx512.mask.sub.ps.512\" => \"__builtin_ia32_subps512_mask\",\n-    \"llvm.x86.avx512.mask.sub.sd.round\" => \"__builtin_ia32_subsd_round_mask\",\n-    \"llvm.x86.avx512.mask.sub.ss.round\" => \"__builtin_ia32_subss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.sub.sd.round\" => \"__builtin_ia32_subsd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.mask.sub.ss.round\" => \"__builtin_ia32_subss_round_mask\",\n     \"llvm.x86.avx512.mask.valign.d.128\" => \"__builtin_ia32_alignd128_mask\",\n     \"llvm.x86.avx512.mask.valign.d.256\" => \"__builtin_ia32_alignd256_mask\",\n     \"llvm.x86.avx512.mask.valign.d.512\" => \"__builtin_ia32_alignd512_mask\",\n@@ -7121,9 +7121,9 @@ match name {\n     \"llvm.x86.avx512.rcp14.ss\" => \"__builtin_ia32_rcp14ss_mask\",\n     \"llvm.x86.avx512.rcp28.pd\" => \"__builtin_ia32_rcp28pd_mask\",\n     \"llvm.x86.avx512.rcp28.ps\" => \"__builtin_ia32_rcp28ps_mask\",\n-    \"llvm.x86.avx512.rcp28.sd\" => \"__builtin_ia32_rcp28sd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.rcp28.sd\" => \"__builtin_ia32_rcp28sd_round_mask\",\n     // [DUPLICATE]: \"llvm.x86.avx512.rcp28.sd\" => \"__builtin_ia32_rcp28sd_mask\",\n-    \"llvm.x86.avx512.rcp28.ss\" => \"__builtin_ia32_rcp28ss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.rcp28.ss\" => \"__builtin_ia32_rcp28ss_round_mask\",\n     // [DUPLICATE]: \"llvm.x86.avx512.rcp28.ss\" => \"__builtin_ia32_rcp28ss_mask\",\n     \"llvm.x86.avx512.rndscale.sd\" => \"__builtin_ia32_rndscalesd\",\n     \"llvm.x86.avx512.rndscale.ss\" => \"__builtin_ia32_rndscaless\",\n@@ -7137,9 +7137,9 @@ match name {\n     \"llvm.x86.avx512.rsqrt14.ss\" => \"__builtin_ia32_rsqrt14ss_mask\",\n     \"llvm.x86.avx512.rsqrt28.pd\" => \"__builtin_ia32_rsqrt28pd_mask\",\n     \"llvm.x86.avx512.rsqrt28.ps\" => \"__builtin_ia32_rsqrt28ps_mask\",\n-    \"llvm.x86.avx512.rsqrt28.sd\" => \"__builtin_ia32_rsqrt28sd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.rsqrt28.sd\" => \"__builtin_ia32_rsqrt28sd_round_mask\",\n     // [DUPLICATE]: \"llvm.x86.avx512.rsqrt28.sd\" => \"__builtin_ia32_rsqrt28sd_mask\",\n-    \"llvm.x86.avx512.rsqrt28.ss\" => \"__builtin_ia32_rsqrt28ss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512.rsqrt28.ss\" => \"__builtin_ia32_rsqrt28ss_round_mask\",\n     // [DUPLICATE]: \"llvm.x86.avx512.rsqrt28.ss\" => \"__builtin_ia32_rsqrt28ss_mask\",\n     \"llvm.x86.avx512.scatter.dpd.512\" => \"__builtin_ia32_scattersiv8df\",\n     \"llvm.x86.avx512.scatter.dpi.512\" => \"__builtin_ia32_scattersiv16si\",\n@@ -7237,21 +7237,21 @@ match name {\n     \"llvm.x86.avx512bf16.dpbf16ps.512\" => \"__builtin_ia32_dpbf16ps_512\",\n     \"llvm.x86.avx512fp16.add.ph.512\" => \"__builtin_ia32_addph512\",\n     \"llvm.x86.avx512fp16.div.ph.512\" => \"__builtin_ia32_divph512\",\n-    \"llvm.x86.avx512fp16.mask.add.sh.round\" => \"__builtin_ia32_addsh_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.add.sh.round\" => \"__builtin_ia32_addsh_round_mask\",\n     \"llvm.x86.avx512fp16.mask.cmp.sh\" => \"__builtin_ia32_cmpsh_mask\",\n-    \"llvm.x86.avx512fp16.mask.div.sh.round\" => \"__builtin_ia32_divsh_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.div.sh.round\" => \"__builtin_ia32_divsh_round_mask\",\n     \"llvm.x86.avx512fp16.mask.fpclass.sh\" => \"__builtin_ia32_fpclasssh_mask\",\n     \"llvm.x86.avx512fp16.mask.getexp.ph.128\" => \"__builtin_ia32_getexpph128_mask\",\n     \"llvm.x86.avx512fp16.mask.getexp.ph.256\" => \"__builtin_ia32_getexpph256_mask\",\n     \"llvm.x86.avx512fp16.mask.getexp.ph.512\" => \"__builtin_ia32_getexpph512_mask\",\n-    \"llvm.x86.avx512fp16.mask.getexp.sh\" => \"__builtin_ia32_getexpsh128_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.getexp.sh\" => \"__builtin_ia32_getexpsh128_round_mask\",\n     \"llvm.x86.avx512fp16.mask.getmant.ph.128\" => \"__builtin_ia32_getmantph128_mask\",\n     \"llvm.x86.avx512fp16.mask.getmant.ph.256\" => \"__builtin_ia32_getmantph256_mask\",\n     \"llvm.x86.avx512fp16.mask.getmant.ph.512\" => \"__builtin_ia32_getmantph512_mask\",\n-    \"llvm.x86.avx512fp16.mask.getmant.sh\" => \"__builtin_ia32_getmantsh_round_mask\",\n-    \"llvm.x86.avx512fp16.mask.max.sh.round\" => \"__builtin_ia32_maxsh_round_mask\",\n-    \"llvm.x86.avx512fp16.mask.min.sh.round\" => \"__builtin_ia32_minsh_round_mask\",\n-    \"llvm.x86.avx512fp16.mask.mul.sh.round\" => \"__builtin_ia32_mulsh_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.getmant.sh\" => \"__builtin_ia32_getmantsh_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.max.sh.round\" => \"__builtin_ia32_maxsh_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.min.sh.round\" => \"__builtin_ia32_minsh_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.mul.sh.round\" => \"__builtin_ia32_mulsh_round_mask\",\n     \"llvm.x86.avx512fp16.mask.rcp.ph.128\" => \"__builtin_ia32_rcpph128_mask\",\n     \"llvm.x86.avx512fp16.mask.rcp.ph.256\" => \"__builtin_ia32_rcpph256_mask\",\n     \"llvm.x86.avx512fp16.mask.rcp.ph.512\" => \"__builtin_ia32_rcpph512_mask\",\n@@ -7263,16 +7263,16 @@ match name {\n     \"llvm.x86.avx512fp16.mask.rndscale.ph.128\" => \"__builtin_ia32_rndscaleph_128_mask\",\n     \"llvm.x86.avx512fp16.mask.rndscale.ph.256\" => \"__builtin_ia32_rndscaleph_256_mask\",\n     \"llvm.x86.avx512fp16.mask.rndscale.ph.512\" => \"__builtin_ia32_rndscaleph_mask\",\n-    \"llvm.x86.avx512fp16.mask.rndscale.sh\" => \"__builtin_ia32_rndscalesh_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.rndscale.sh\" => \"__builtin_ia32_rndscalesh_round_mask\",\n     \"llvm.x86.avx512fp16.mask.rsqrt.ph.128\" => \"__builtin_ia32_rsqrtph128_mask\",\n     \"llvm.x86.avx512fp16.mask.rsqrt.ph.256\" => \"__builtin_ia32_rsqrtph256_mask\",\n     \"llvm.x86.avx512fp16.mask.rsqrt.ph.512\" => \"__builtin_ia32_rsqrtph512_mask\",\n     \"llvm.x86.avx512fp16.mask.rsqrt.sh\" => \"__builtin_ia32_rsqrtsh_mask\",\n     \"llvm.x86.avx512fp16.mask.scalef.ph.128\" => \"__builtin_ia32_scalefph128_mask\",\n     \"llvm.x86.avx512fp16.mask.scalef.ph.256\" => \"__builtin_ia32_scalefph256_mask\",\n     \"llvm.x86.avx512fp16.mask.scalef.ph.512\" => \"__builtin_ia32_scalefph512_mask\",\n-    \"llvm.x86.avx512fp16.mask.scalef.sh\" => \"__builtin_ia32_scalefsh_round_mask\",\n-    \"llvm.x86.avx512fp16.mask.sub.sh.round\" => \"__builtin_ia32_subsh_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.scalef.sh\" => \"__builtin_ia32_scalefsh_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.sub.sh.round\" => \"__builtin_ia32_subsh_round_mask\",\n     \"llvm.x86.avx512fp16.mask.vcvtdq2ph.128\" => \"__builtin_ia32_vcvtdq2ph128_mask\",\n     \"llvm.x86.avx512fp16.mask.vcvtpd2ph.128\" => \"__builtin_ia32_vcvtpd2ph128_mask\",\n     \"llvm.x86.avx512fp16.mask.vcvtpd2ph.256\" => \"__builtin_ia32_vcvtpd2ph256_mask\",\n@@ -7306,10 +7306,10 @@ match name {\n     \"llvm.x86.avx512fp16.mask.vcvtps2phx.512\" => \"__builtin_ia32_vcvtps2phx512_mask\",\n     \"llvm.x86.avx512fp16.mask.vcvtqq2ph.128\" => \"__builtin_ia32_vcvtqq2ph128_mask\",\n     \"llvm.x86.avx512fp16.mask.vcvtqq2ph.256\" => \"__builtin_ia32_vcvtqq2ph256_mask\",\n-    \"llvm.x86.avx512fp16.mask.vcvtsd2sh.round\" => \"__builtin_ia32_vcvtsd2sh_round_mask\",\n-    \"llvm.x86.avx512fp16.mask.vcvtsh2sd.round\" => \"__builtin_ia32_vcvtsh2sd_round_mask\",\n-    \"llvm.x86.avx512fp16.mask.vcvtsh2ss.round\" => \"__builtin_ia32_vcvtsh2ss_round_mask\",\n-    \"llvm.x86.avx512fp16.mask.vcvtss2sh.round\" => \"__builtin_ia32_vcvtss2sh_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.vcvtsd2sh.round\" => \"__builtin_ia32_vcvtsd2sh_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.vcvtsh2sd.round\" => \"__builtin_ia32_vcvtsh2sd_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.vcvtsh2ss.round\" => \"__builtin_ia32_vcvtsh2ss_round_mask\",\n+    // [INVALID CONVERSION]: \"llvm.x86.avx512fp16.mask.vcvtss2sh.round\" => \"__builtin_ia32_vcvtss2sh_round_mask\",\n     \"llvm.x86.avx512fp16.mask.vcvttph2dq.128\" => \"__builtin_ia32_vcvttph2dq128_mask\",\n     \"llvm.x86.avx512fp16.mask.vcvttph2dq.256\" => \"__builtin_ia32_vcvttph2dq256_mask\",\n     \"llvm.x86.avx512fp16.mask.vcvttph2dq.512\" => \"__builtin_ia32_vcvttph2dq512_mask\","}, {"sha": "f623bc5fb10c9cf2fcc54ea632b78449bb048dd1", "filename": "src/intrinsic/llvm.rs", "status": "modified", "additions": 19, "deletions": 0, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/d6aadc684bebbef86c3b4dff67e5eb37196f7011/src%2Fintrinsic%2Fllvm.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d6aadc684bebbef86c3b4dff67e5eb37196f7011/src%2Fintrinsic%2Fllvm.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fintrinsic%2Fllvm.rs?ref=d6aadc684bebbef86c3b4dff67e5eb37196f7011", "patch": "@@ -618,6 +618,25 @@ pub fn intrinsic<'gcc, 'tcx>(name: &str, cx: &CodegenCx<'gcc, 'tcx>) -> Function\n         \"llvm.x86.avx512.mask.div.sd.round\" => \"__builtin_ia32_divsd_mask_round\",\n         \"llvm.x86.avx512.mask.cvtss2sd.round\" => \"__builtin_ia32_cvtss2sd_mask_round\",\n         \"llvm.x86.avx512.mask.cvtsd2ss.round\" => \"__builtin_ia32_cvtsd2ss_mask_round\",\n+        \"llvm.x86.avx512.mask.range.ss\" => \"__builtin_ia32_rangess128_mask_round\",\n+        \"llvm.x86.avx512.mask.range.sd\" => \"__builtin_ia32_rangesd128_mask_round\",\n+        \"llvm.x86.avx512.rcp28.ss\" => \"__builtin_ia32_rcp28ss_mask_round\",\n+        \"llvm.x86.avx512.rcp28.sd\" => \"__builtin_ia32_rcp28sd_mask_round\",\n+        \"llvm.x86.avx512.rsqrt28.ss\" => \"__builtin_ia32_rsqrt28ss_mask_round\",\n+        \"llvm.x86.avx512.rsqrt28.sd\" => \"__builtin_ia32_rsqrt28sd_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.add.sh.round\" => \"__builtin_ia32_addsh_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.div.sh.round\" => \"__builtin_ia32_divsh_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.getmant.sh\" => \"__builtin_ia32_getmantsh_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.max.sh.round\" => \"__builtin_ia32_maxsh_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.min.sh.round\" => \"__builtin_ia32_minsh_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.mul.sh.round\" => \"__builtin_ia32_mulsh_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.rndscale.sh\" => \"__builtin_ia32_rndscalesh_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.scalef.sh\" => \"__builtin_ia32_scalefsh_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.sub.sh.round\" => \"__builtin_ia32_subsh_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.vcvtsd2sh.round\" => \"__builtin_ia32_vcvtsd2sh_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.vcvtsh2sd.round\" => \"__builtin_ia32_vcvtsh2sd_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.vcvtsh2ss.round\" => \"__builtin_ia32_vcvtsh2ss_mask_round\",\n+        \"llvm.x86.avx512fp16.mask.vcvtss2sh.round\" => \"__builtin_ia32_vcvtss2sh_mask_round\",\n         \"llvm.x86.aesni.aesenc.256\" => \"__builtin_ia32_vaesenc_v32qi\",\n         \"llvm.x86.aesni.aesenclast.256\" => \"__builtin_ia32_vaesenclast_v32qi\",\n         \"llvm.x86.aesni.aesdec.256\" => \"__builtin_ia32_vaesdec_v32qi\","}, {"sha": "6188924b0d50a52ef4ac4ca30ee28ebd02eac216", "filename": "tools/generate_intrinsics.py", "status": "modified", "additions": 2, "deletions": 0, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/d6aadc684bebbef86c3b4dff67e5eb37196f7011/tools%2Fgenerate_intrinsics.py", "raw_url": "https://github.com/rust-lang/rust/raw/d6aadc684bebbef86c3b4dff67e5eb37196f7011/tools%2Fgenerate_intrinsics.py", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tools%2Fgenerate_intrinsics.py?ref=d6aadc684bebbef86c3b4dff67e5eb37196f7011", "patch": "@@ -182,6 +182,8 @@ def update_intrinsics(llvm_path, llvmint, llvmint2):\n             for entry in intrinsics[arch]:\n                 if entry[2] == True: # if it is a duplicate\n                     out.write('    // [DUPLICATE]: \"{}\" => \"{}\",\\n'.format(entry[0], entry[1]))\n+                elif \"_round_mask\" in entry[1]:\n+                    out.write('    // [INVALID CONVERSION]: \"{}\" => \"{}\",\\n'.format(entry[0], entry[1]))\n                 else:\n                     out.write('    \"{}\" => \"{}\",\\n'.format(entry[0], entry[1]))\n         out.write('    _ => unimplemented!(\"***** unsupported LLVM intrinsic {}\", name),\\n')"}]}