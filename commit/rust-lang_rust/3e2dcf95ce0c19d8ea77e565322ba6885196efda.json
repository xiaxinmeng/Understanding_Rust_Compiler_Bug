{"sha": "3e2dcf95ce0c19d8ea77e565322ba6885196efda", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNlMmRjZjk1Y2UwYzE5ZDhlYTc3ZTU2NTMyMmJhNjg4NTE5NmVmZGE=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-01-13T04:27:01Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2019-01-13T04:27:01Z"}, "message": "Rollup merge of #57564 - varkor:update-const_fn-tracking-issue, r=Centril\n\nUpdate the const fn tracking issue to the new metabug\n\nThe new `const fn` tracking issue is #57563. We don't want to point to a closed issue in the diagnostics (or FIXMEs), so these have been updated (from the old issue, #24111).\n\nr? @Centril", "tree": {"sha": "5049b476b6160866955ae4a859a6f92e9f0bb52f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5049b476b6160866955ae4a859a6f92e9f0bb52f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3e2dcf95ce0c19d8ea77e565322ba6885196efda", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJcOr4WCRBK7hj4Ov3rIwAAdHIIAEaq6EAbbTeaqgJhtd1KUp+i\nSfgqr0uGDuU3RA4RsJ/1hkVeLCKWXjo08vpEV1ip2G+5EukDsK4Aab+VupAWldRf\nvBqatl/mAtkMJiOhqeEcEND8KNcK/ceYMOvH7v6IRLMhEEjRl6HhD1hOcQFmxNSs\nfE+qRXOwwzHkMn5Ew39TDBPP8w5CRxMzUhTyhqIL20/xXl5qD9JJtyq/PO1izhM2\nsTBUIn7rlzQ3rgzTRiIPqZKKQmJaAQlPJD9kfedoQg+gB11aVP+Qr0WlOBPprsR9\nakpd/7NDSMlrSdbsnqdhIwRnPHtsvZl1jL1QknfQdzcW6mk7jT7bu91QXpJ3G0Y=\n=+mEM\n-----END PGP SIGNATURE-----\n", "payload": "tree 5049b476b6160866955ae4a859a6f92e9f0bb52f\nparent 33c5874966d4f0776f7af6e9dcb253edb985974e\nparent 1e4a8a01c4e89e1485e56ba482e592a9d337d2ef\nauthor Mazdak Farrokhzad <twingoow@gmail.com> 1547353621 +0100\ncommitter GitHub <noreply@github.com> 1547353621 +0100\n\nRollup merge of #57564 - varkor:update-const_fn-tracking-issue, r=Centril\n\nUpdate the const fn tracking issue to the new metabug\n\nThe new `const fn` tracking issue is #57563. We don't want to point to a closed issue in the diagnostics (or FIXMEs), so these have been updated (from the old issue, #24111).\n\nr? @Centril\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3e2dcf95ce0c19d8ea77e565322ba6885196efda", "html_url": "https://github.com/rust-lang/rust/commit/3e2dcf95ce0c19d8ea77e565322ba6885196efda", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3e2dcf95ce0c19d8ea77e565322ba6885196efda/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "33c5874966d4f0776f7af6e9dcb253edb985974e", "url": "https://api.github.com/repos/rust-lang/rust/commits/33c5874966d4f0776f7af6e9dcb253edb985974e", "html_url": "https://github.com/rust-lang/rust/commit/33c5874966d4f0776f7af6e9dcb253edb985974e"}, {"sha": "1e4a8a01c4e89e1485e56ba482e592a9d337d2ef", "url": "https://api.github.com/repos/rust-lang/rust/commits/1e4a8a01c4e89e1485e56ba482e592a9d337d2ef", "html_url": "https://github.com/rust-lang/rust/commit/1e4a8a01c4e89e1485e56ba482e592a9d337d2ef"}], "stats": {"total": 29, "additions": 14, "deletions": 15}, "files": [{"sha": "50dbbaf56743c6142a0869506faf904203603a96", "filename": "src/doc/unstable-book/src/language-features/const-fn.md", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fconst-fn.md", "raw_url": "https://github.com/rust-lang/rust/raw/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fconst-fn.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fdoc%2Funstable-book%2Fsrc%2Flanguage-features%2Fconst-fn.md?ref=3e2dcf95ce0c19d8ea77e565322ba6885196efda", "patch": "@@ -1,8 +1,8 @@\n # `const_fn`\n \n-The tracking issue for this feature is: [#24111]\n+The tracking issue for this feature is: [#57563]\n \n-[#24111]: https://github.com/rust-lang/rust/issues/24111\n+[#57563]: https://github.com/rust-lang/rust/issues/57563\n \n ------------------------\n "}, {"sha": "ea9e19c75c215473058f94a889116a58cd4c4253", "filename": "src/librustc_mir/diagnostics.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Flibrustc_mir%2Fdiagnostics.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Flibrustc_mir%2Fdiagnostics.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Fdiagnostics.rs?ref=3e2dcf95ce0c19d8ea77e565322ba6885196efda", "patch": "@@ -573,7 +573,7 @@ const Y: i32 = A;\n ```\n \"##,\n \n-// FIXME(#24111) Change the language here when const fn stabilizes\n+// FIXME(#57563) Change the language here when const fn stabilizes\n E0015: r##\"\n The only functions that can be called in static or constant expressions are\n `const` functions, and struct/enum constructors. `const` functions are only"}, {"sha": "78cf7153500c9d19251e74e34fd964bcd1413f5e", "filename": "src/librustc_mir/transform/qualify_consts.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Flibrustc_mir%2Ftransform%2Fqualify_consts.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Flibrustc_mir%2Ftransform%2Fqualify_consts.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc_mir%2Ftransform%2Fqualify_consts.rs?ref=3e2dcf95ce0c19d8ea77e565322ba6885196efda", "patch": "@@ -901,7 +901,7 @@ impl<'a, 'tcx> Visitor<'tcx> for Qualifier<'a, 'tcx, 'tcx> {\n                                         err.emit();\n                                     }\n                                 } else {\n-                                    // FIXME(#24111): remove this check when const fn stabilizes.\n+                                    // FIXME(#57563): remove this check when const fn stabilizes.\n                                     let (msg, note) = if let UnstableFeatures::Disallow =\n                                             self.tcx.sess.opts.unstable_features {\n                                         (format!(\"calls in {}s are limited to \\"}, {"sha": "9b4231d8803a33a6e5d3fd3e39c5c2e224e22adb", "filename": "src/libsyntax/feature_gate.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Flibsyntax%2Ffeature_gate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Flibsyntax%2Ffeature_gate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibsyntax%2Ffeature_gate.rs?ref=3e2dcf95ce0c19d8ea77e565322ba6885196efda", "patch": "@@ -191,7 +191,7 @@ declare_features! (\n     (active, slice_patterns, \"1.0.0\", Some(23121), None),\n \n     // Allows the definition of `const` functions with some advanced features.\n-    (active, const_fn, \"1.2.0\", Some(24111), None),\n+    (active, const_fn, \"1.2.0\", Some(57563), None),\n \n     // Allows accessing fields of unions inside `const` functions.\n     (active, const_fn_union, \"1.27.0\", Some(51909), None),"}, {"sha": "be5237fbfcf3b1d798501902783e117ffd1746ef", "filename": "src/test/ui/feature-gates/feature-gate-const_fn.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-const_fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-const_fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-const_fn.stderr?ref=3e2dcf95ce0c19d8ea77e565322ba6885196efda", "patch": "@@ -16,15 +16,15 @@ error[E0379]: trait fns cannot be declared const\n LL |     const fn foo() -> u32 { 0 } //~ ERROR trait fns cannot be declared const\n    |     ^^^^^ trait fns cannot be const\n \n-error[E0658]: const fn is unstable (see issue #24111)\n+error[E0658]: const fn is unstable (see issue #57563)\n   --> $DIR/feature-gate-const_fn.rs:6:5\n    |\n LL |     const fn foo() -> u32; //~ ERROR const fn is unstable\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0658]: const fn is unstable (see issue #24111)\n+error[E0658]: const fn is unstable (see issue #57563)\n   --> $DIR/feature-gate-const_fn.rs:8:5\n    |\n LL |     const fn bar() -> u32 { 0 } //~ ERROR const fn is unstable"}, {"sha": "056e33111f0dfcfcb5bfe56d559a3968684c6572", "filename": "src/test/ui/feature-gates/feature-gate-min_const_fn.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-min_const_fn.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-min_const_fn.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gates%2Ffeature-gate-min_const_fn.stderr?ref=3e2dcf95ce0c19d8ea77e565322ba6885196efda", "patch": "@@ -16,15 +16,15 @@ error[E0379]: trait fns cannot be declared const\n LL |     const fn foo() -> u32 { 0 } //~ ERROR trait fns cannot be declared const\n    |     ^^^^^ trait fns cannot be const\n \n-error[E0658]: const fn is unstable (see issue #24111)\n+error[E0658]: const fn is unstable (see issue #57563)\n   --> $DIR/feature-gate-min_const_fn.rs:6:5\n    |\n LL |     const fn foo() -> u32; //~ ERROR const fn is unstable\n    |     ^^^^^^^^^^^^^^^^^^^^^^\n    |\n    = help: add #![feature(const_fn)] to the crate attributes to enable\n \n-error[E0658]: const fn is unstable (see issue #24111)\n+error[E0658]: const fn is unstable (see issue #57563)\n   --> $DIR/feature-gate-min_const_fn.rs:8:5\n    |\n LL |     const fn bar() -> u32 { 0 } //~ ERROR const fn is unstable"}, {"sha": "2435a0cfd4e3892b968290c2ac647db4f9a7f908", "filename": "src/tools/tidy/src/features.rs", "status": "modified", "additions": 5, "deletions": 6, "changes": 11, "blob_url": "https://github.com/rust-lang/rust/blob/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3e2dcf95ce0c19d8ea77e565322ba6885196efda/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftools%2Ftidy%2Fsrc%2Ffeatures.rs?ref=3e2dcf95ce0c19d8ea77e565322ba6885196efda", "patch": "@@ -336,12 +336,11 @@ fn map_lib_features(base_src_path: &Path,\n                     level: Status::Unstable,\n                     since: \"None\".to_owned(),\n                     has_gate_test: false,\n-                    // Whether there is a common tracking issue\n-                    // for these feature gates remains an open question\n-                    // https://github.com/rust-lang/rust/issues/24111#issuecomment-340283184\n-                    // But we take 24111 otherwise they will be shown as\n-                    // \"internal to the compiler\" which they are not.\n-                    tracking_issue: Some(24111),\n+                    // FIXME(#57563): #57563 is now used as a common tracking issue,\n+                    // although we would like to have specific tracking\n+                    // issues for each `rustc_const_unstable` in the\n+                    // future.\n+                    tracking_issue: Some(57563),\n                 };\n                 mf(Ok((feature_name, feature)), file, i + 1);\n                 continue;"}]}