{"sha": "a61e6ab0da332831ff744cdb6062aa3e592dcdc8", "node_id": "MDY6Q29tbWl0NzI0NzEyOmE2MWU2YWIwZGEzMzI4MzFmZjc0NGNkYjYwNjJhYTNlNTkyZGNkYzg=", "commit": {"author": {"name": "Jonas Schievink", "email": "jonasschievink@gmail.com", "date": "2021-02-02T11:14:56Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2021-02-02T11:14:56Z"}, "message": "Rollup merge of #81485 - jackh726:atb-issues, r=Mark-Simulacrum\n\nAdd some tests for associated-type-bounds issues\n\nCloses #38917\nCloses #40093\nCloses #43475\nCloses #63591\n\n#47897 is likely closable too, but it needs an MCVE\n~~#38917, #40093, #43475, #47897 all are mislabeled and shouldn't have the `F-associated-type-bounds` label~~\n\n~~#71685 is also mislabeled as commented on in that thread~~", "tree": {"sha": "2647deaee308a59072f95132d29358e8495c03ad", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2647deaee308a59072f95132d29358e8495c03ad"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a61e6ab0da332831ff744cdb6062aa3e592dcdc8", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJgGTQwCRBK7hj4Ov3rIwAAdHIIAIIl0p9ts7mrbDK6OIw03QZ1\nHNpjB6QWhGzvhkN0MQbZy/M8LLaWnWZP3CzH4I056//AHr5Ki1mTXgrnEgVzgGAL\nS35o78GRZ8jtyYvXZJQdzdziRKOH8TW/5DnyCmq/BjVfQbMOrz2jUYb2nk5KlkpT\nx2k02v6U1V0z4DqYI2KmqNbMH/f4v+B1iJ6qY/ZYNE2LE4MnEFElzJZLE0SakJyd\n2wIFoeBNUQ2T05NX7ZkLnMUbVbtqOfaznoxSwV7KrNmVbJnUmLofhGFQ+jfQwUDJ\n4FIOzDR1ds1PR9LBh3yVLQm9s0jAvBVRmSrcWSlfnxugCAMVb7j3bVkXiseP5DI=\n=F/FG\n-----END PGP SIGNATURE-----\n", "payload": "tree 2647deaee308a59072f95132d29358e8495c03ad\nparent e6e76c7669fd8c2f53a5c51818c1291d7f68b768\nparent fe1fc36f8ed2ab7527536c85f385b717b695a53d\nauthor Jonas Schievink <jonasschievink@gmail.com> 1612264496 +0100\ncommitter GitHub <noreply@github.com> 1612264496 +0100\n\nRollup merge of #81485 - jackh726:atb-issues, r=Mark-Simulacrum\n\nAdd some tests for associated-type-bounds issues\n\nCloses #38917\nCloses #40093\nCloses #43475\nCloses #63591\n\n#47897 is likely closable too, but it needs an MCVE\n~~#38917, #40093, #43475, #47897 all are mislabeled and shouldn't have the `F-associated-type-bounds` label~~\n\n~~#71685 is also mislabeled as commented on in that thread~~\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a61e6ab0da332831ff744cdb6062aa3e592dcdc8", "html_url": "https://github.com/rust-lang/rust/commit/a61e6ab0da332831ff744cdb6062aa3e592dcdc8", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a61e6ab0da332831ff744cdb6062aa3e592dcdc8/comments", "author": {"login": "jonas-schievink", "id": 1786438, "node_id": "MDQ6VXNlcjE3ODY0Mzg=", "avatar_url": "https://avatars.githubusercontent.com/u/1786438?v=4", "gravatar_id": "", "url": "https://api.github.com/users/jonas-schievink", "html_url": "https://github.com/jonas-schievink", "followers_url": "https://api.github.com/users/jonas-schievink/followers", "following_url": "https://api.github.com/users/jonas-schievink/following{/other_user}", "gists_url": "https://api.github.com/users/jonas-schievink/gists{/gist_id}", "starred_url": "https://api.github.com/users/jonas-schievink/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/jonas-schievink/subscriptions", "organizations_url": "https://api.github.com/users/jonas-schievink/orgs", "repos_url": "https://api.github.com/users/jonas-schievink/repos", "events_url": "https://api.github.com/users/jonas-schievink/events{/privacy}", "received_events_url": "https://api.github.com/users/jonas-schievink/received_events", "type": "User", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "e6e76c7669fd8c2f53a5c51818c1291d7f68b768", "url": "https://api.github.com/repos/rust-lang/rust/commits/e6e76c7669fd8c2f53a5c51818c1291d7f68b768", "html_url": "https://github.com/rust-lang/rust/commit/e6e76c7669fd8c2f53a5c51818c1291d7f68b768"}, {"sha": "fe1fc36f8ed2ab7527536c85f385b717b695a53d", "url": "https://api.github.com/repos/rust-lang/rust/commits/fe1fc36f8ed2ab7527536c85f385b717b695a53d", "html_url": "https://github.com/rust-lang/rust/commit/fe1fc36f8ed2ab7527536c85f385b717b695a53d"}], "stats": {"total": 73, "additions": 73, "deletions": 0}, "files": [{"sha": "7e898851aa83ab30bbfcb2d4ed55bd2d84d5011f", "filename": "src/test/ui/associated-types/issue-38917.rs", "status": "added", "additions": 25, "deletions": 0, "changes": 25, "blob_url": "https://github.com/rust-lang/rust/blob/a61e6ab0da332831ff744cdb6062aa3e592dcdc8/src%2Ftest%2Fui%2Fassociated-types%2Fissue-38917.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a61e6ab0da332831ff744cdb6062aa3e592dcdc8/src%2Ftest%2Fui%2Fassociated-types%2Fissue-38917.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fissue-38917.rs?ref=a61e6ab0da332831ff744cdb6062aa3e592dcdc8", "patch": "@@ -0,0 +1,25 @@\n+// check-pass\n+\n+use std::borrow::Borrow;\n+\n+trait TNode: Sized {\n+    type ConcreteElement: TElement<ConcreteNode = Self>;\n+}\n+\n+trait TElement: Sized {\n+    type ConcreteNode: TNode<ConcreteElement = Self>;\n+}\n+\n+trait DomTraversal<N: TNode> {\n+    type BorrowElement: Borrow<N::ConcreteElement>;\n+}\n+\n+#[allow(dead_code)]\n+fn recalc_style_at<E, D>()\n+where\n+    E: TElement,\n+    D: DomTraversal<E::ConcreteNode>,\n+{\n+}\n+\n+fn main() {}"}, {"sha": "fd325ae1008610367c2a803857fab14cefab2b71", "filename": "src/test/ui/associated-types/issue-40093.rs", "status": "added", "additions": 14, "deletions": 0, "changes": 14, "blob_url": "https://github.com/rust-lang/rust/blob/a61e6ab0da332831ff744cdb6062aa3e592dcdc8/src%2Ftest%2Fui%2Fassociated-types%2Fissue-40093.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a61e6ab0da332831ff744cdb6062aa3e592dcdc8/src%2Ftest%2Fui%2Fassociated-types%2Fissue-40093.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fissue-40093.rs?ref=a61e6ab0da332831ff744cdb6062aa3e592dcdc8", "patch": "@@ -0,0 +1,14 @@\n+// check-pass\n+\n+pub trait Test {\n+    type Item;\n+    type Bundle: From<Self::Item>;\n+}\n+\n+fn fails<T>()\n+where\n+    T: Test<Item = String>,\n+{\n+}\n+\n+fn main() {}"}, {"sha": "5f177333c93d5addc3868d925b90f305d743cb8a", "filename": "src/test/ui/associated-types/issue-43475.rs", "status": "added", "additions": 10, "deletions": 0, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/a61e6ab0da332831ff744cdb6062aa3e592dcdc8/src%2Ftest%2Fui%2Fassociated-types%2Fissue-43475.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a61e6ab0da332831ff744cdb6062aa3e592dcdc8/src%2Ftest%2Fui%2Fassociated-types%2Fissue-43475.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fissue-43475.rs?ref=a61e6ab0da332831ff744cdb6062aa3e592dcdc8", "patch": "@@ -0,0 +1,10 @@\n+// check-pass\n+\n+trait Foo { type FooT: Foo; }\n+impl Foo for () { type FooT = (); }\n+trait Bar<T: Foo> { type BarT: Bar<T::FooT>; }\n+impl Bar<()> for () { type BarT = (); }\n+\n+#[allow(dead_code)]\n+fn test<C: Bar<()>>() { }\n+fn main() { }"}, {"sha": "4d2e39f4da60c788e9e625a3a62584b5daf508ac", "filename": "src/test/ui/associated-types/issue-63591.rs", "status": "added", "additions": 24, "deletions": 0, "changes": 24, "blob_url": "https://github.com/rust-lang/rust/blob/a61e6ab0da332831ff744cdb6062aa3e592dcdc8/src%2Ftest%2Fui%2Fassociated-types%2Fissue-63591.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a61e6ab0da332831ff744cdb6062aa3e592dcdc8/src%2Ftest%2Fui%2Fassociated-types%2Fissue-63591.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fassociated-types%2Fissue-63591.rs?ref=a61e6ab0da332831ff744cdb6062aa3e592dcdc8", "patch": "@@ -0,0 +1,24 @@\n+// check-pass\n+\n+#![feature(associated_type_bounds)]\n+#![feature(type_alias_impl_trait)]\n+\n+fn main() {}\n+\n+trait Bar { type Assoc; }\n+\n+trait Thing {\n+    type Out;\n+    fn func() -> Self::Out;\n+}\n+\n+struct AssocIsCopy;\n+impl Bar for AssocIsCopy { type Assoc = u8; }\n+\n+impl Thing for AssocIsCopy {\n+    type Out = impl Bar<Assoc: Copy>;\n+\n+    fn func() -> Self::Out {\n+        AssocIsCopy\n+    }\n+}"}]}