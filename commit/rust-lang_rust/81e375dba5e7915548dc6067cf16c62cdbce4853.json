{"sha": "81e375dba5e7915548dc6067cf16c62cdbce4853", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgxZTM3NWRiYTVlNzkxNTU0OGRjNjA2N2NmMTZjNjJjZGJjZTQ4NTM=", "commit": {"author": {"name": "Bastian K\u00f6cher", "email": "git@kchr.de", "date": "2017-12-23T23:35:38Z"}, "committer": {"name": "Bastian K\u00f6cher", "email": "git@kchr.de", "date": "2017-12-26T11:26:39Z"}, "message": "Change name of `lang_start_real` to `lang_start_internal`\n\nAlso remove `'static` from `__rust_begin_short_backtrace`", "tree": {"sha": "e055cbe2dac17f5d906891c6267229ddbc45437b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/e055cbe2dac17f5d906891c6267229ddbc45437b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/81e375dba5e7915548dc6067cf16c62cdbce4853", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/81e375dba5e7915548dc6067cf16c62cdbce4853", "html_url": "https://github.com/rust-lang/rust/commit/81e375dba5e7915548dc6067cf16c62cdbce4853", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/81e375dba5e7915548dc6067cf16c62cdbce4853/comments", "author": {"login": "bkchr", "id": 5718007, "node_id": "MDQ6VXNlcjU3MTgwMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5718007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkchr", "html_url": "https://github.com/bkchr", "followers_url": "https://api.github.com/users/bkchr/followers", "following_url": "https://api.github.com/users/bkchr/following{/other_user}", "gists_url": "https://api.github.com/users/bkchr/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkchr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkchr/subscriptions", "organizations_url": "https://api.github.com/users/bkchr/orgs", "repos_url": "https://api.github.com/users/bkchr/repos", "events_url": "https://api.github.com/users/bkchr/events{/privacy}", "received_events_url": "https://api.github.com/users/bkchr/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bkchr", "id": 5718007, "node_id": "MDQ6VXNlcjU3MTgwMDc=", "avatar_url": "https://avatars.githubusercontent.com/u/5718007?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bkchr", "html_url": "https://github.com/bkchr", "followers_url": "https://api.github.com/users/bkchr/followers", "following_url": "https://api.github.com/users/bkchr/following{/other_user}", "gists_url": "https://api.github.com/users/bkchr/gists{/gist_id}", "starred_url": "https://api.github.com/users/bkchr/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bkchr/subscriptions", "organizations_url": "https://api.github.com/users/bkchr/orgs", "repos_url": "https://api.github.com/users/bkchr/repos", "events_url": "https://api.github.com/users/bkchr/events{/privacy}", "received_events_url": "https://api.github.com/users/bkchr/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7dfec34a20af59e50f59f73799f471795a50eeb8", "url": "https://api.github.com/repos/rust-lang/rust/commits/7dfec34a20af59e50f59f73799f471795a50eeb8", "html_url": "https://github.com/rust-lang/rust/commit/7dfec34a20af59e50f59f73799f471795a50eeb8"}], "stats": {"total": 9, "additions": 4, "deletions": 5}, "files": [{"sha": "d17dfb25f311bd28214fe1d40560609c5bf1674c", "filename": "src/libstd/rt.rs", "status": "modified", "additions": 3, "deletions": 4, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/81e375dba5e7915548dc6067cf16c62cdbce4853/src%2Flibstd%2Frt.rs", "raw_url": "https://github.com/rust-lang/rust/raw/81e375dba5e7915548dc6067cf16c62cdbce4853/src%2Flibstd%2Frt.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Frt.rs?ref=81e375dba5e7915548dc6067cf16c62cdbce4853", "patch": "@@ -29,9 +29,8 @@ pub use panicking::{begin_panic, begin_panic_fmt, update_panic_count};\n // To reduce the generated code of the new `lang_start`, this function is doing\n // the real work.\n #[cfg(not(any(test, stage0)))]\n-fn lang_start_real<F>(main: F, argc: isize, argv: *const *const u8) -> !\n-    where F: FnOnce() -> i32 + Send + ::panic::UnwindSafe + 'static\n-{\n+fn lang_start_internal(main: &(Fn() -> i32 + Sync + ::panic::RefUnwindSafe),\n+                       argc: isize, argv: *const *const u8) -> ! {\n     use panic;\n     use sys;\n     use sys_common;\n@@ -75,7 +74,7 @@ fn lang_start_real<F>(main: F, argc: isize, argv: *const *const u8) -> !\n fn lang_start<T: ::termination::Termination + 'static>\n     (main: fn() -> T, argc: isize, argv: *const *const u8) -> !\n {\n-    lang_start_real(move || main().report(), argc, argv)\n+    lang_start_internal(&move || main().report(), argc, argv)\n }\n \n #[cfg(all(not(test), stage0))]"}, {"sha": "36cbce2df75b522b2cbf0b27afce88968d0bc6c9", "filename": "src/libstd/sys_common/backtrace.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/81e375dba5e7915548dc6067cf16c62cdbce4853/src%2Flibstd%2Fsys_common%2Fbacktrace.rs", "raw_url": "https://github.com/rust-lang/rust/raw/81e375dba5e7915548dc6067cf16c62cdbce4853/src%2Flibstd%2Fsys_common%2Fbacktrace.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fsys_common%2Fbacktrace.rs?ref=81e375dba5e7915548dc6067cf16c62cdbce4853", "patch": "@@ -128,7 +128,7 @@ fn filter_frames(frames: &[Frame],\n /// Fixed frame used to clean the backtrace with `RUST_BACKTRACE=1`.\n #[inline(never)]\n pub fn __rust_begin_short_backtrace<F, T>(f: F) -> T\n-    where F: FnOnce() -> T, F: Send + 'static, T: Send + 'static\n+    where F: FnOnce() -> T, F: Send, T: Send\n {\n     f()\n }"}]}