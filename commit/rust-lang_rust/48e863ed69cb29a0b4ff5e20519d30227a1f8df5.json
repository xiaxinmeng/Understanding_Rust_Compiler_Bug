{"sha": "48e863ed69cb29a0b4ff5e20519d30227a1f8df5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjQ4ZTg2M2VkNjljYjI5YTBiNGZmNWUyMDUxOWQzMDIyN2ExZjhkZjU=", "commit": {"author": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-05-30T13:37:10Z"}, "committer": {"name": "Mazdak Farrokhzad", "email": "twingoow@gmail.com", "date": "2019-06-10T04:17:39Z"}, "message": "Harden non-const items to not accept underscore names.", "tree": {"sha": "58c4f6e258e854eaa2f9b7dc599da529d1cbfb45", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/58c4f6e258e854eaa2f9b7dc599da529d1cbfb45"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/48e863ed69cb29a0b4ff5e20519d30227a1f8df5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/48e863ed69cb29a0b4ff5e20519d30227a1f8df5", "html_url": "https://github.com/rust-lang/rust/commit/48e863ed69cb29a0b4ff5e20519d30227a1f8df5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/48e863ed69cb29a0b4ff5e20519d30227a1f8df5/comments", "author": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Centril", "id": 855702, "node_id": "MDQ6VXNlcjg1NTcwMg==", "avatar_url": "https://avatars.githubusercontent.com/u/855702?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Centril", "html_url": "https://github.com/Centril", "followers_url": "https://api.github.com/users/Centril/followers", "following_url": "https://api.github.com/users/Centril/following{/other_user}", "gists_url": "https://api.github.com/users/Centril/gists{/gist_id}", "starred_url": "https://api.github.com/users/Centril/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Centril/subscriptions", "organizations_url": "https://api.github.com/users/Centril/orgs", "repos_url": "https://api.github.com/users/Centril/repos", "events_url": "https://api.github.com/users/Centril/events{/privacy}", "received_events_url": "https://api.github.com/users/Centril/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "56d71c2910a4e07512ca6bf80fe257bbfcc3265e", "url": "https://api.github.com/repos/rust-lang/rust/commits/56d71c2910a4e07512ca6bf80fe257bbfcc3265e", "html_url": "https://github.com/rust-lang/rust/commit/56d71c2910a4e07512ca6bf80fe257bbfcc3265e"}], "stats": {"total": 133, "additions": 122, "deletions": 11}, "files": [{"sha": "375bdc3a463696cf4484ee7e61e19d8a5847c4b5", "filename": "src/test/ui/parser/underscore_item_not_const.rs", "status": "added", "additions": 30, "deletions": 0, "changes": 30, "blob_url": "https://github.com/rust-lang/rust/blob/48e863ed69cb29a0b4ff5e20519d30227a1f8df5/src%2Ftest%2Fui%2Fparser%2Funderscore_item_not_const.rs", "raw_url": "https://github.com/rust-lang/rust/raw/48e863ed69cb29a0b4ff5e20519d30227a1f8df5/src%2Ftest%2Fui%2Fparser%2Funderscore_item_not_const.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Funderscore_item_not_const.rs?ref=48e863ed69cb29a0b4ff5e20519d30227a1f8df5", "patch": "@@ -0,0 +1,30 @@\n+// Test that various non-const items and associated consts do not permit `_` as a name.\n+\n+// Associated `const`s:\n+\n+pub trait A {\n+    const _: () = (); //~ ERROR expected identifier, found reserved identifier `_`\n+}\n+impl A for () {\n+    const _: () = (); //~ ERROR expected identifier, found reserved identifier `_`\n+}\n+impl dyn A {\n+    const _: () = (); //~ ERROR expected identifier, found reserved identifier `_`\n+}\n+\n+// Other kinds of items:\n+\n+static _: () = (); //~ ERROR expected identifier, found reserved identifier `_`\n+struct _(); //~ ERROR expected identifier, found reserved identifier `_`\n+enum _ {} //~ ERROR expected identifier, found reserved identifier `_`\n+fn _() {} //~ ERROR expected identifier, found reserved identifier `_`\n+mod _ {} //~ ERROR expected identifier, found reserved identifier `_`\n+type _ = (); //~ ERROR expected identifier, found reserved identifier `_`\n+use _; //~ ERROR expected identifier, found reserved identifier `_`\n+use _ as g; //~ ERROR expected identifier, found reserved identifier `_`\n+trait _ {} //~ ERROR expected identifier, found reserved identifier `_`\n+trait _ = Copy; //~ ERROR expected identifier, found reserved identifier `_`\n+macro_rules! _ { () => {} } //~ ERROR expected identifier, found reserved identifier `_`\n+union _ { f: u8 } //~ ERROR expected one of `!` or `::`, found `_`\n+\n+fn main() {}"}, {"sha": "deb4a012e32ab63dcd54eec4b1831d5f8c2ffe89", "filename": "src/test/ui/parser/underscore_item_not_const.stderr", "status": "added", "additions": 92, "deletions": 0, "changes": 92, "blob_url": "https://github.com/rust-lang/rust/blob/48e863ed69cb29a0b4ff5e20519d30227a1f8df5/src%2Ftest%2Fui%2Fparser%2Funderscore_item_not_const.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/48e863ed69cb29a0b4ff5e20519d30227a1f8df5/src%2Ftest%2Fui%2Fparser%2Funderscore_item_not_const.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Funderscore_item_not_const.stderr?ref=48e863ed69cb29a0b4ff5e20519d30227a1f8df5", "patch": "@@ -0,0 +1,92 @@\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:6:11\n+   |\n+LL |     const _: () = ();\n+   |           ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:9:11\n+   |\n+LL |     const _: () = ();\n+   |           ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:12:11\n+   |\n+LL |     const _: () = ();\n+   |           ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:17:8\n+   |\n+LL | static _: () = ();\n+   |        ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:18:8\n+   |\n+LL | struct _();\n+   |        ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:19:6\n+   |\n+LL | enum _ {}\n+   |      ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:20:4\n+   |\n+LL | fn _() {}\n+   |    ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:21:5\n+   |\n+LL | mod _ {}\n+   |     ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:22:6\n+   |\n+LL | type _ = ();\n+   |      ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:23:5\n+   |\n+LL | use _;\n+   |     ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:24:5\n+   |\n+LL | use _ as g;\n+   |     ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:25:7\n+   |\n+LL | trait _ {}\n+   |       ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:26:7\n+   |\n+LL | trait _ = Copy;\n+   |       ^ expected identifier, found reserved identifier\n+\n+error: expected identifier, found reserved identifier `_`\n+  --> $DIR/underscore_item_not_const.rs:27:14\n+   |\n+LL | macro_rules! _ { () => {} }\n+   |              ^ expected identifier, found reserved identifier\n+\n+error: expected one of `!` or `::`, found `_`\n+  --> $DIR/underscore_item_not_const.rs:28:7\n+   |\n+LL | union _ { f: u8 }\n+   |       ^ expected one of `!` or `::` here\n+\n+error: aborting due to 15 previous errors\n+"}, {"sha": "21d6a1bc1b3607462ea68231ce18f74e7a7a1fec", "filename": "src/test/ui/parser/underscore_static.rs", "status": "removed", "additions": 0, "deletions": 3, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/56d71c2910a4e07512ca6bf80fe257bbfcc3265e/src%2Ftest%2Fui%2Fparser%2Funderscore_static.rs", "raw_url": "https://github.com/rust-lang/rust/raw/56d71c2910a4e07512ca6bf80fe257bbfcc3265e/src%2Ftest%2Fui%2Fparser%2Funderscore_static.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Funderscore_static.rs?ref=56d71c2910a4e07512ca6bf80fe257bbfcc3265e", "patch": "@@ -1,3 +0,0 @@\n-static _: () = (); //~ ERROR expected identifier, found reserved identifier `_`\n-\n-fn main() {}"}, {"sha": "4c41afdc3f09ef5bac10c40da0365b93746e309a", "filename": "src/test/ui/parser/underscore_static.stderr", "status": "removed", "additions": 0, "deletions": 8, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/56d71c2910a4e07512ca6bf80fe257bbfcc3265e/src%2Ftest%2Fui%2Fparser%2Funderscore_static.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/56d71c2910a4e07512ca6bf80fe257bbfcc3265e/src%2Ftest%2Fui%2Fparser%2Funderscore_static.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fparser%2Funderscore_static.stderr?ref=56d71c2910a4e07512ca6bf80fe257bbfcc3265e", "patch": "@@ -1,8 +0,0 @@\n-error: expected identifier, found reserved identifier `_`\n-  --> $DIR/underscore_static.rs:1:8\n-   |\n-LL | static _: () = ();\n-   |        ^ expected identifier, found reserved identifier\n-\n-error: aborting due to previous error\n-"}]}