{"sha": "a1c95ecca14a047233ead0ca2f087e989a50e0f5", "node_id": "MDY6Q29tbWl0NzI0NzEyOmExYzk1ZWNjYTE0YTA0NzIzM2VhZDBjYTJmMDg3ZTk4OWE1MGUwZjU=", "commit": {"author": {"name": "Bj\u00f6rn Steinbrink", "email": "bsteinbr@gmail.com", "date": "2014-07-28T06:41:44Z"}, "committer": {"name": "Bj\u00f6rn Steinbrink", "email": "bsteinbr@gmail.com", "date": "2014-07-28T14:39:53Z"}, "message": "Emit lifetime end markers for allocas for ignored return values", "tree": {"sha": "3d362ba2b9d0578465b97d8c4371cb4d26da5694", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3d362ba2b9d0578465b97d8c4371cb4d26da5694"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a1c95ecca14a047233ead0ca2f087e989a50e0f5", "comment_count": 5, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a1c95ecca14a047233ead0ca2f087e989a50e0f5", "html_url": "https://github.com/rust-lang/rust/commit/a1c95ecca14a047233ead0ca2f087e989a50e0f5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a1c95ecca14a047233ead0ca2f087e989a50e0f5/comments", "author": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dotdash", "id": 230962, "node_id": "MDQ6VXNlcjIzMDk2Mg==", "avatar_url": "https://avatars.githubusercontent.com/u/230962?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dotdash", "html_url": "https://github.com/dotdash", "followers_url": "https://api.github.com/users/dotdash/followers", "following_url": "https://api.github.com/users/dotdash/following{/other_user}", "gists_url": "https://api.github.com/users/dotdash/gists{/gist_id}", "starred_url": "https://api.github.com/users/dotdash/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dotdash/subscriptions", "organizations_url": "https://api.github.com/users/dotdash/orgs", "repos_url": "https://api.github.com/users/dotdash/repos", "events_url": "https://api.github.com/users/dotdash/events{/privacy}", "received_events_url": "https://api.github.com/users/dotdash/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "39135ecb18a6c7ef4dbb6e9838e1eda7407ccd2f", "url": "https://api.github.com/repos/rust-lang/rust/commits/39135ecb18a6c7ef4dbb6e9838e1eda7407ccd2f", "html_url": "https://github.com/rust-lang/rust/commit/39135ecb18a6c7ef4dbb6e9838e1eda7407ccd2f"}], "stats": {"total": 1, "additions": 1, "deletions": 0}, "files": [{"sha": "b95bd08dd164209fd47e3f7366c1831439f72fb5", "filename": "src/librustc/middle/trans/callee.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/a1c95ecca14a047233ead0ca2f087e989a50e0f5/src%2Flibrustc%2Fmiddle%2Ftrans%2Fcallee.rs", "raw_url": "https://github.com/rust-lang/rust/raw/a1c95ecca14a047233ead0ca2f087e989a50e0f5/src%2Flibrustc%2Fmiddle%2Ftrans%2Fcallee.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Ftrans%2Fcallee.rs?ref=a1c95ecca14a047233ead0ca2f087e989a50e0f5", "patch": "@@ -887,6 +887,7 @@ pub fn trans_call_inner<'a>(\n         (Some(expr::Ignore), Some(llretslot)) => {\n             // drop the value if it is not being saved.\n             bcx = glue::drop_ty(bcx, llretslot, ret_ty);\n+            call_lifetime_end(bcx, llretslot);\n         }\n         _ => {}\n     }"}]}