{"sha": "28193e873c5fcf901008c909b02ae3cb2c1e3946", "node_id": "MDY6Q29tbWl0NzI0NzEyOjI4MTkzZTg3M2M1ZmNmOTAxMDA4YzkwOWIwMmFlM2NiMmMxZTM5NDY=", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-04-22T11:04:41Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2018-04-22T11:04:41Z"}, "message": "Auto merge of #49954 - GuillaumeGomez:doc-settings, r=ollie27,QuietMisdreavus\n\nAdd rustdoc settings menu\n\nFixes #18167.\n\nr? @QuietMisdreavus", "tree": {"sha": "ab8cf81afcffa142893eeef36c19017aea5376f1", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ab8cf81afcffa142893eeef36c19017aea5376f1"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/28193e873c5fcf901008c909b02ae3cb2c1e3946", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/28193e873c5fcf901008c909b02ae3cb2c1e3946", "html_url": "https://github.com/rust-lang/rust/commit/28193e873c5fcf901008c909b02ae3cb2c1e3946", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/28193e873c5fcf901008c909b02ae3cb2c1e3946/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "0cbd310fa7b94355f5870459049256d2c4c9588b", "url": "https://api.github.com/repos/rust-lang/rust/commits/0cbd310fa7b94355f5870459049256d2c4c9588b", "html_url": "https://github.com/rust-lang/rust/commit/0cbd310fa7b94355f5870459049256d2c4c9588b"}, {"sha": "1f7892f16a83af3d96dc815c7a688f4cb541c600", "url": "https://api.github.com/repos/rust-lang/rust/commits/1f7892f16a83af3d96dc815c7a688f4cb541c600", "html_url": "https://github.com/rust-lang/rust/commit/1f7892f16a83af3d96dc815c7a688f4cb541c600"}], "stats": {"total": 257, "additions": 231, "deletions": 26}, "files": [{"sha": "fd54e9bd1e06c3ab340cd2ed118537cef3085e74", "filename": "src/librustdoc/html/layout.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Flayout.rs", "raw_url": "https://github.com/rust-lang/rust/raw/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Flayout.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Flayout.rs?ref=28193e873c5fcf901008c909b02ae3cb2c1e3946", "patch": "@@ -85,6 +85,9 @@ pub fn render<T: fmt::Display, S: fmt::Display>(\n                        autocomplete=\\\"off\\\" \\\n                        placeholder=\\\"Click or press \u2018S\u2019 to search, \u2018?\u2019 for more options\u2026\\\" \\\n                        type=\\\"search\\\">\\\n+                <a id=\\\"settings-menu\\\" href=\\\"{root_path}settings.html\\\">\\\n+                    <img src=\\\"{root_path}wheel{suffix}.svg\\\" width=\\\"18\\\" alt=\\\"Change settings\\\">\\\n+                </a>\\\n             </div>\\\n         </form>\\\n     </nav>\\\n@@ -182,9 +185,10 @@ pub fn render<T: fmt::Display, S: fmt::Display>(\n     themes = themes.iter()\n                    .filter_map(|t| t.file_stem())\n                    .filter_map(|t| t.to_str())\n-                   .map(|t| format!(r#\"<link rel=\"stylesheet\" type=\"text/css\" href=\"{}{}\">\"#,\n+                   .map(|t| format!(r#\"<link rel=\"stylesheet\" type=\"text/css\" href=\"{}{}{}.css\">\"#,\n                                     page.root_path,\n-                                    t.replace(\".css\", &format!(\"{}.css\", page.resource_suffix))))\n+                                    t,\n+                                    page.resource_suffix))\n                    .collect::<String>(),\n     suffix=page.resource_suffix,\n     )"}, {"sha": "0ae946c4182864e39111e9a2202e2b769899f987", "filename": "src/librustdoc/html/render.rs", "status": "modified", "additions": 76, "deletions": 3, "changes": 79, "blob_url": "https://github.com/rust-lang/rust/blob/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Frender.rs", "raw_url": "https://github.com/rust-lang/rust/raw/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Frender.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Frender.rs?ref=28193e873c5fcf901008c909b02ae3cb2c1e3946", "patch": "@@ -750,6 +750,8 @@ fn write_shared(cx: &Context,\n \n     write(cx.dst.join(&format!(\"rustdoc{}.css\", cx.shared.resource_suffix)),\n           include_bytes!(\"static/rustdoc.css\"))?;\n+    write(cx.dst.join(&format!(\"settings{}.css\", cx.shared.resource_suffix)),\n+          include_bytes!(\"static/settings.css\"))?;\n \n     // To avoid \"light.css\" to be overwritten, we'll first run over the received themes and only\n     // then we'll run over the \"official\" styles.\n@@ -769,6 +771,8 @@ fn write_shared(cx: &Context,\n \n     write(cx.dst.join(&format!(\"brush{}.svg\", cx.shared.resource_suffix)),\n           include_bytes!(\"static/brush.svg\"))?;\n+    write(cx.dst.join(&format!(\"wheel{}.svg\", cx.shared.resource_suffix)),\n+          include_bytes!(\"static/wheel.svg\"))?;\n     write(cx.dst.join(&format!(\"light{}.css\", cx.shared.resource_suffix)),\n           include_bytes!(\"static/themes/light.css\"))?;\n     themes.insert(\"light\".to_owned());\n@@ -802,8 +806,7 @@ themePicker.onclick = function() {{\n         switchTheme(currentTheme, mainTheme, item);\n     }};\n     themes.appendChild(but);\n-}});\n-\"#,\n+}});\"#,\n                  themes.iter()\n                        .map(|s| format!(\"\\\"{}\\\"\", s))\n                        .collect::<Vec<String>>()\n@@ -812,6 +815,8 @@ themePicker.onclick = function() {{\n \n     write(cx.dst.join(&format!(\"main{}.js\", cx.shared.resource_suffix)),\n                       include_bytes!(\"static/main.js\"))?;\n+    write(cx.dst.join(&format!(\"settings{}.js\", cx.shared.resource_suffix)),\n+                      include_bytes!(\"static/settings.js\"))?;\n \n     {\n         let mut data = format!(\"var resourcesSuffix = \\\"{}\\\";\\n\",\n@@ -1575,6 +1580,51 @@ impl fmt::Display for AllTypes {\n     }\n }\n \n+#[derive(Debug)]\n+struct Settings<'a> {\n+    // (id, explanation, default value)\n+    settings: Vec<(&'static str, &'static str, bool)>,\n+    root_path: &'a str,\n+    suffix: &'a str,\n+}\n+\n+impl<'a> Settings<'a> {\n+    pub fn new(root_path: &'a str, suffix: &'a str) -> Settings<'a> {\n+        Settings {\n+            settings: vec![\n+                (\"item-declarations\", \"Auto-hide item declarations.\", true),\n+                (\"item-attributes\", \"Auto-hide item attributes.\", true),\n+            ],\n+            root_path,\n+            suffix,\n+        }\n+    }\n+}\n+\n+impl<'a> fmt::Display for Settings<'a> {\n+    fn fmt(&self, f: &mut fmt::Formatter) -> fmt::Result {\n+        write!(f,\n+\"<h1 class='fqn'>\\\n+     <span class='in-band'>Rustdoc settings</span>\\\n+</h1>\\\n+<div class='settings'>{}</div>\\\n+<script src='{}settings{}.js'></script>\",\n+               self.settings.iter()\n+                            .map(|(id, text, enabled)| {\n+                                format!(\"<div class='setting-line'>\\\n+                                             <label class='toggle'>\\\n+                                                <input type='checkbox' id='{}' {}>\\\n+                                                <span class='slider'></span>\\\n+                                             </label>\\\n+                                             <div>{}</div>\\\n+                                         </div>\", id, if *enabled { \" checked\" } else { \"\" }, text)\n+                            })\n+                            .collect::<String>(),\n+               self.root_path,\n+               self.suffix)\n+    }\n+}\n+\n impl Context {\n     /// String representation of how to get back to the root path of the 'doc/'\n     /// folder in terms of a relative URL.\n@@ -1618,6 +1668,8 @@ impl Context {\n         };\n         let final_file = self.dst.join(&krate.name)\n                                  .join(\"all.html\");\n+        let settings_file = self.dst.join(\"settings.html\");\n+\n         let crate_name = krate.name.clone();\n         item.name = Some(krate.name);\n \n@@ -1639,7 +1691,7 @@ impl Context {\n         if !root_path.ends_with('/') {\n             root_path.push('/');\n         }\n-        let page = layout::Page {\n+        let mut page = layout::Page {\n             title: \"List of all items in this crate\",\n             css_class: \"mod\",\n             root_path: \"../\",\n@@ -1662,6 +1714,27 @@ impl Context {\n                                 self.shared.css_file_extension.is_some(),\n                                 &self.shared.themes),\n                  &final_file);\n+\n+        // Generating settings page.\n+        let settings = Settings::new(\"./\", &self.shared.resource_suffix);\n+        page.title = \"Rustdoc settings\";\n+        page.description = \"Settings of Rustdoc\";\n+        page.root_path = \"./\";\n+\n+        let mut w = BufWriter::new(try_err!(File::create(&settings_file), &settings_file));\n+        let mut themes = self.shared.themes.clone();\n+        let sidebar = \"<p class='location'>Settings</p><div class='sidebar-elems'></div>\";\n+        themes.push(PathBuf::from(\"settings.css\"));\n+        let mut layout = self.shared.layout.clone();\n+        layout.krate = String::new();\n+        layout.logo = String::new();\n+        layout.favicon = String::new();\n+        try_err!(layout::render(&mut w, &layout,\n+                                &page, &sidebar, &settings,\n+                                self.shared.css_file_extension.is_some(),\n+                                &themes),\n+                 &settings_file);\n+\n         Ok(())\n     }\n "}, {"sha": "2cae88855e3ea431daaa3576fb333200a9a8e02b", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 11, "deletions": 15, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=28193e873c5fcf901008c909b02ae3cb2c1e3946", "patch": "@@ -77,19 +77,13 @@\n                     return false;\n                 }\n                 var end = start + className.length;\n-                if (end < elemClass.length && elemClass[end] !== ' ') {\n-                    return false;\n-                }\n-                return true;\n+                return !(end < elemClass.length && elemClass[end] !== ' ');\n             }\n             if (start > 0 && elemClass[start - 1] !== ' ') {\n                 return false;\n             }\n             var end = start + className.length;\n-            if (end < elemClass.length && elemClass[end] !== ' ') {\n-                return false;\n-            }\n-            return true;\n+            return !(end < elemClass.length && elemClass[end] !== ' ');\n         }\n         return false;\n     }\n@@ -320,7 +314,7 @@\n         } else if (ev.target.tagName === 'SPAN' && hasClass(ev.target.parentNode, 'line-numbers')) {\n             var prev_id = 0;\n \n-            var set_fragment = function (name) {\n+            var set_fragment = function(name) {\n                 if (browserSupportsHistoryApi()) {\n                     history.replaceState(null, null, '#' + name);\n                     window.hashchange();\n@@ -835,7 +829,7 @@\n                 query.search = val;\n             // searching by type\n             } else if (val.search(\"->\") > -1) {\n-                var trimmer = function (s) { return s.trim(); };\n+                var trimmer = function(s) { return s.trim(); };\n                 var parts = val.split(\"->\").map(trimmer);\n                 var input = parts[0];\n                 // sort inputs so that order does not matter\n@@ -1559,7 +1553,7 @@\n         startSearch();\n \n         // Draw a convenient sidebar of known crates if we have a listing\n-        if (rootPath === '../') {\n+        if (rootPath === '../' || rootPath === \"./\") {\n             var sidebar = document.getElementsByClassName('sidebar-elems')[0];\n             if (sidebar) {\n                 var div = document.createElement('div');\n@@ -1578,11 +1572,11 @@\n                 crates.sort();\n                 for (var i = 0; i < crates.length; ++i) {\n                     var klass = 'crate';\n-                    if (crates[i] === window.currentCrate) {\n+                    if (rootPath !== \"./\" && crates[i] === window.currentCrate) {\n                         klass += ' current';\n                     }\n                     var link = document.createElement('a');\n-                    link.href = '../' + crates[i] + '/index.html';\n+                    link.href = rootPath + crates[i] + '/index.html';\n                     link.title = rawSearchIndex[crates[i]].doc;\n                     link.className = klass;\n                     link.textContent = crates[i];\n@@ -1959,7 +1953,7 @@\n                 otherMessage = '&nbsp;Show&nbsp;type&nbsp;declaration';\n             }\n             e.parentNode.insertBefore(createToggle(otherMessage), e);\n-            if (otherMessage) {\n+            if (otherMessage && getCurrentValue('rustdoc-item-declarations') !== \"false\") {\n                 collapseDocs(e.previousSibling.childNodes[0], \"toggle\");\n             }\n         }\n@@ -2029,7 +2023,9 @@\n     onEach(document.getElementById('main').getElementsByTagName('pre'), function(e) {\n         onEach(e.getElementsByClassName('attributes'), function(i_e) {\n             i_e.parentNode.insertBefore(createToggleWrapper(), i_e);\n-            collapseDocs(i_e.previousSibling.childNodes[0], \"toggle\");\n+            if (getCurrentValue(\"rustdoc-item-attributes\") !== \"false\") {\n+                collapseDocs(i_e.previousSibling.childNodes[0], \"toggle\");\n+            }\n         });\n     });\n "}, {"sha": "d6b3ab26af8aebf5b7075eb81063744ce95ce744", "filename": "src/librustdoc/html/static/rustdoc.css", "status": "modified", "additions": 17, "deletions": 2, "changes": 19, "blob_url": "https://github.com/rust-lang/rust/blob/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "raw_url": "https://github.com/rust-lang/rust/raw/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Frustdoc.css?ref=28193e873c5fcf901008c909b02ae3cb2c1e3946", "patch": "@@ -548,8 +548,16 @@ a {\n \n .block a.current.crate { font-weight: 500; }\n \n+.search-container {\n+\tposition: relative;\n+}\n+.search-container > .top-button {\n+\tposition: absolute;\n+\tright: 0;\n+\ttop: 10px;\n+}\n .search-input {\n-\twidth: 100%;\n+\twidth: calc(100% - 34px);\n \t/* Override Normalize.css: we have margins and do\n \t not want to overflow - the `moz` attribute is necessary\n \t until Firefox 29, too early to drop at this point */\n@@ -1224,7 +1232,14 @@ kbd {\n \toutline: none;\n }\n \n-#theme-picker {\n+#settings-menu {\n+\tposition: absolute;\n+\tright: 0;\n+\ttop: 10px;\n+\toutline: none;\n+}\n+\n+#theme-picker, #settings-menu {\n \tpadding: 4px;\n \twidth: 27px;\n \theight: 29px;"}, {"sha": "34835f3f22d574f5ee61b8c60a4911b68007d9fb", "filename": "src/librustdoc/html/static/settings.css", "status": "added", "additions": 73, "deletions": 0, "changes": 73, "blob_url": "https://github.com/rust-lang/rust/blob/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsettings.css", "raw_url": "https://github.com/rust-lang/rust/raw/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsettings.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsettings.css?ref=28193e873c5fcf901008c909b02ae3cb2c1e3946", "patch": "@@ -0,0 +1,73 @@\n+/**\n+ * Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+ * file at the top-level directory of this distribution and at\n+ * http://rust-lang.org/COPYRIGHT.\n+ *\n+ * Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+ * http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+ * <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+ * option. This file may not be copied, modified, or distributed\n+ * except according to those terms.\n+ */\n+\n+.setting-line {\n+\tpadding: 5px;\n+}\n+\n+.setting-line > div {\n+\tmax-width: calc(100% - 74px);\n+\tdisplay: inline-block;\n+\tvertical-align: top;\n+\tfont-size: 17px;\n+\tpadding-top: 2px;\n+}\n+\n+.toggle {\n+\tposition: relative;\n+\tdisplay: inline-block;\n+\twidth: 45px;\n+\theight: 27px;\n+\tmargin-right: 20px;\n+}\n+\n+.toggle input {\n+\tdisplay: none;\n+}\n+\n+.slider {\n+\tposition: absolute;\n+\tcursor: pointer;\n+\ttop: 0;\n+\tleft: 0;\n+\tright: 0;\n+\tbottom: 0;\n+\tbackground-color: #ccc;\n+\t-webkit-transition: .3s;\n+\ttransition: .3s;\n+}\n+\n+.slider:before {\n+\tposition: absolute;\n+\tcontent: \"\";\n+\theight: 19px;\n+\twidth: 19px;\n+\tleft: 4px;\n+\tbottom: 4px;\n+\tbackground-color: white;\n+\t-webkit-transition: .3s;\n+\ttransition: .3s;\n+}\n+\n+input:checked + .slider {\n+\tbackground-color: #2196F3;\n+}\n+\n+input:focus + .slider {\n+\tbox-shadow: 0 0 1px #2196F3;\n+}\n+\n+input:checked + .slider:before {\n+\t-webkit-transform: translateX(19px);\n+\t-ms-transform: translateX(19px);\n+\ttransform: translateX(19px);\n+}\n\\ No newline at end of file"}, {"sha": "cc7c60082fb41d423e99197e90f63cab4ef93379", "filename": "src/librustdoc/html/static/settings.js", "status": "added", "additions": 41, "deletions": 0, "changes": 41, "blob_url": "https://github.com/rust-lang/rust/blob/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsettings.js", "raw_url": "https://github.com/rust-lang/rust/raw/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsettings.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fsettings.js?ref=28193e873c5fcf901008c909b02ae3cb2c1e3946", "patch": "@@ -0,0 +1,41 @@\n+/*!\n+ * Copyright 2018 The Rust Project Developers. See the COPYRIGHT\n+ * file at the top-level directory of this distribution and at\n+ * http://rust-lang.org/COPYRIGHT.\n+ *\n+ * Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+ * http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+ * <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+ * option. This file may not be copied, modified, or distributed\n+ * except according to those terms.\n+ */\n+\n+(function () {\n+    function changeSetting(settingName, isEnabled) {\n+        updateLocalStorage('rustdoc-' + settingName, isEnabled);\n+    }\n+\n+    function getSettingValue(settingName) {\n+        return getCurrentValue('rustdoc-' + settingName);\n+    }\n+\n+    function setEvents() {\n+        var elems = document.getElementsByClassName(\"slider\");\n+        if (!elems || elems.length === 0) {\n+            return;\n+        }\n+        for (var i = 0; i < elems.length; ++i) {\n+            var toggle = elems[i].previousElementSibling;\n+            var settingId = toggle.id;\n+            var settingValue = getSettingValue(settingId);\n+            if (settingValue !== null) {\n+                toggle.checked = settingValue === \"true\";\n+            }\n+            toggle.onchange = function() {\n+                changeSetting(this.id, this.checked);\n+            };\n+        }\n+    }\n+\n+    setEvents();\n+})();"}, {"sha": "da4be7db5aa92b43088abbc4db36cba6ffc39431", "filename": "src/librustdoc/html/static/themes/dark.css", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fdark.css", "raw_url": "https://github.com/rust-lang/rust/raw/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fdark.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Fdark.css?ref=28193e873c5fcf901008c909b02ae3cb2c1e3946", "patch": "@@ -362,12 +362,13 @@ kbd {\n \tbox-shadow-color: #c6cbd1;\n }\n \n-#theme-picker {\n+#theme-picker, #settings-menu {\n \tborder-color: #e0e0e0;\n \tbackground: #f0f0f0;\n }\n \n-#theme-picker:hover, #theme-picker:focus {\n+#theme-picker:hover, #theme-picker:focus,\n+#settings-menu:hover, #settings-menu:focus {\n \tborder-color: #ffb900;\n }\n "}, {"sha": "12af01d2e249809e7cde52f89116c3db8839b1fc", "filename": "src/librustdoc/html/static/themes/light.css", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Flight.css", "raw_url": "https://github.com/rust-lang/rust/raw/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Flight.css", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fthemes%2Flight.css?ref=28193e873c5fcf901008c909b02ae3cb2c1e3946", "patch": "@@ -356,12 +356,13 @@ kbd {\n \tbox-shadow-color: #c6cbd1;\n }\n \n-#theme-picker {\n+#theme-picker, #settings-menu {\n \tborder-color: #e0e0e0;\n \tbackground-color: #fff;\n }\n \n-#theme-picker:hover, #theme-picker:focus {\n+#theme-picker:hover, #theme-picker:focus,\n+#settings-menu:hover, #settings-menu:focus {\n \tborder-color: #717171;\n }\n "}, {"sha": "44381a401a82f8752049cd5fcb9ee6d4d1e01488", "filename": "src/librustdoc/html/static/wheel.svg", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fwheel.svg", "raw_url": "https://github.com/rust-lang/rust/raw/28193e873c5fcf901008c909b02ae3cb2c1e3946/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fwheel.svg", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fwheel.svg?ref=28193e873c5fcf901008c909b02ae3cb2c1e3946", "patch": "@@ -0,0 +1 @@\n+<?xml version=\"1.0\" ?><!DOCTYPE svg  PUBLIC '-//W3C//DTD SVG 1.1//EN'  'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'><svg enable-background=\"new 0 0 27.434 29.5\" height=\"29.5px\" id=\"Capa_1\" version=\"1.1\" viewBox=\"0 0 27.434 29.5\" width=\"27.434px\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><g><path d=\"M27.315,18.389c-0.165-0.604-0.509-1.113-0.981-1.459c-0.042-0.144-0.083-0.429-0.015-0.761l0.037-0.177v-0.182V14.8   c0-1.247-0.006-1.277-0.048-1.472c-0.076-0.354-0.035-0.653,0.007-0.803c0.477-0.346,0.828-0.861,0.996-1.476   c0.261-0.956,0.076-2.091-0.508-3.114l-0.591-1.032c-0.746-1.307-1.965-2.119-3.182-2.119c-0.378,0-0.75,0.081-1.085,0.235   c-0.198-0.025-0.554-0.15-0.855-0.389l-0.103-0.082l-0.114-0.065l-1.857-1.067L18.92,3.36l-0.105-0.044   c-0.376-0.154-0.658-0.41-0.768-0.556C17.918,1.172,16.349,0,14.296,0H13.14c-2.043,0-3.608,1.154-3.749,2.721   C9.277,2.862,8.999,3.104,8.633,3.25l-0.1,0.039L8.439,3.341L6.495,4.406L6.363,4.479L6.245,4.573   C5.936,4.82,5.596,4.944,5.416,4.977c-0.314-0.139-0.66-0.21-1.011-0.21c-1.198,0-2.411,0.819-3.165,2.139L0.65,7.938   c-0.412,0.72-0.642,1.521-0.644,2.258c-0.003,0.952,0.362,1.756,1.013,2.256c0.034,0.155,0.061,0.448-0.016,0.786   c-0.038,0.168-0.062,0.28-0.062,1.563c0,1.148,0,1.148,0.015,1.262l0.009,0.073l0.017,0.073c0.073,0.346,0.045,0.643,0.011,0.802   C0.348,17.512-0.01,18.314,0,19.268c0.008,0.729,0.238,1.523,0.648,2.242l0.589,1.031c0.761,1.331,1.967,2.159,3.15,2.159   c0.324,0,0.645-0.064,0.938-0.187c0.167,0.038,0.492,0.156,0.813,0.416l0.11,0.088l0.124,0.07l2.045,1.156l0.102,0.057l0.107,0.043   c0.364,0.147,0.646,0.381,0.766,0.521c0.164,1.52,1.719,2.634,3.745,2.634h1.155c2.037,0,3.598-1.134,3.747-2.675   c0.117-0.145,0.401-0.393,0.774-0.549l0.111-0.047l0.105-0.062l1.96-1.159l0.105-0.062l0.097-0.075   c0.309-0.246,0.651-0.371,0.832-0.402c0.313,0.138,0.662,0.212,1.016,0.212c1.199,0,2.412-0.82,3.166-2.139l0.59-1.032   C27.387,20.48,27.575,19.342,27.315,18.389z M25.274,20.635l-0.59,1.032c-0.438,0.765-1.104,1.251-1.639,1.251   c-0.133,0-0.258-0.029-0.369-0.094c-0.15-0.086-0.346-0.127-0.566-0.127c-0.596,0-1.383,0.295-2.01,0.796l-1.96,1.157   c-1.016,0.425-1.846,1.291-1.846,1.929s-0.898,1.159-1.998,1.159H13.14c-1.1,0-1.998-0.514-1.998-1.141s-0.834-1.477-1.854-1.888   l-2.046-1.157c-0.636-0.511-1.425-0.814-2.006-0.814c-0.202,0-0.379,0.037-0.516,0.115c-0.101,0.057-0.214,0.084-0.333,0.084   c-0.518,0-1.179-0.498-1.62-1.271l-0.591-1.032c-0.545-0.954-0.556-1.983-0.024-2.286c0.532-0.305,0.78-1.432,0.551-2.506   c0,0,0-0.003,0-1.042c0-1.088,0.021-1.18,0.021-1.18c0.238-1.072-0.01-2.203-0.552-2.513C1.631,10.8,1.634,9.765,2.18,8.812   L2.769,7.78c0.438-0.766,1.103-1.251,1.636-1.251c0.131,0,0.255,0.029,0.365,0.092C4.92,6.707,5.114,6.747,5.334,6.747   c0.596,0,1.38-0.296,2.007-0.795l1.944-1.065c1.021-0.407,1.856-1.277,1.856-1.933c0-0.656,0.898-1.192,1.998-1.192h1.156V1.761   c1.1,0,1.998,0.545,1.998,1.211c0,0.667,0.832,1.554,1.849,1.973L20,6.013c0.618,0.489,1.401,0.775,2.012,0.775   c0.24,0,0.454-0.045,0.62-0.139c0.122-0.069,0.259-0.102,0.403-0.102c0.551,0,1.221,0.476,1.653,1.231l0.59,1.032   c0.544,0.953,0.518,2.004-0.062,2.334c-0.577,0.331-0.859,1.48-0.627,2.554c0,0,0.01,0.042,0.01,1.103c0,1.012,0,1.012,0,1.012   c-0.218,1.049,0.068,2.174,0.636,2.498C25.802,18.635,25.819,19.68,25.274,20.635z\"/><path d=\"M13.61,7.611c-3.913,0-7.084,3.173-7.084,7.085c0,3.914,3.171,7.085,7.084,7.085s7.085-3.172,7.085-7.085   C20.695,10.784,17.523,7.611,13.61,7.611z M13.61,20.02c-2.936,0-5.323-2.388-5.323-5.323c0-2.935,2.388-5.323,5.323-5.323   s5.324,2.388,5.324,5.323C18.934,17.632,16.546,20.02,13.61,20.02z\"/><path d=\"M13.682,9.908c-2.602,0-4.718,2.116-4.718,4.718c0,2.601,2.116,4.716,4.718,4.716c2.601,0,4.717-2.115,4.717-4.716   C18.399,12.024,16.283,9.908,13.682,9.908z M13.682,17.581c-1.633,0-2.956-1.323-2.956-2.955s1.323-2.956,2.956-2.956   c1.632,0,2.956,1.324,2.956,2.956S15.314,17.581,13.682,17.581z\"/></g></svg>\n\\ No newline at end of file"}]}