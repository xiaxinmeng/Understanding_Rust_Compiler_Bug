{"sha": "fdefac8599a385a87de02f06d5a77f726a524904", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZkZWZhYzg1OTlhMzg1YTg3ZGUwMmYwNmQ1YTc3ZjcyNmE1MjQ5MDQ=", "commit": {"author": {"name": "Tim Diekmann", "email": "tim.diekmann@3dvision.de", "date": "2019-04-07T23:26:52Z"}, "committer": {"name": "Tim Diekmann", "email": "tim.diekmann@3dvision.de", "date": "2019-04-07T23:26:52Z"}, "message": "Fix calloc test\n\nForgot to free the memory. Miri found the bug :)", "tree": {"sha": "a1cfda4ea0c4f20753e2ce8561d56761ab63e927", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/a1cfda4ea0c4f20753e2ce8561d56761ab63e927"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fdefac8599a385a87de02f06d5a77f726a524904", "comment_count": 0, "verification": {"verified": false, "reason": "unknown_key", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCgAdFiEELQoiL21itfwzY62qWM12+I31Y+AFAlyqhzwACgkQWM12+I31\nY+CD2AgA3zRMhrfxhvQjou1wQi+2JixcHG/dc7HlUk/j1pn7+cua8mRqKl80jbNw\nacWkyhOY3jNVgFDn4uBKet69EMu3m0mXPVJ0z9V3P/U2A82XZ6o3TA97cjV52cfo\nuhAxF1x1CGQneaBz/EXfaIZKFDqwbR+18sQdcqb+Sp9SkaVt1CT3KtGMPDDtzNxN\ncH5tRWCxplQEnShuHGynbLpj7yzR5qUc3TX5BBYUFnriiUknMQ0RsqaAdIIquv3l\neQutnSwiGzkGTpJUcv7u7HNJkFzAWyFRh8pTZzDkg4HTVuathXZSuA9OP2T0OE5J\n6CvbhLEzaz62ZMxSq680bNplA0fkAw==\n=ofp9\n-----END PGP SIGNATURE-----", "payload": "tree a1cfda4ea0c4f20753e2ce8561d56761ab63e927\nparent fa0755c9fd9f7c43fbd313db32935ff37e588ee2\nauthor Tim Diekmann <tim.diekmann@3dvision.de> 1554679612 +0200\ncommitter Tim Diekmann <tim.diekmann@3dvision.de> 1554679612 +0200\n\nFix calloc test\n\nForgot to free the memory. Miri found the bug :)\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fdefac8599a385a87de02f06d5a77f726a524904", "html_url": "https://github.com/rust-lang/rust/commit/fdefac8599a385a87de02f06d5a77f726a524904", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fdefac8599a385a87de02f06d5a77f726a524904/comments", "author": {"login": "TimDiekmann", "id": 21277928, "node_id": "MDQ6VXNlcjIxMjc3OTI4", "avatar_url": "https://avatars.githubusercontent.com/u/21277928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimDiekmann", "html_url": "https://github.com/TimDiekmann", "followers_url": "https://api.github.com/users/TimDiekmann/followers", "following_url": "https://api.github.com/users/TimDiekmann/following{/other_user}", "gists_url": "https://api.github.com/users/TimDiekmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimDiekmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimDiekmann/subscriptions", "organizations_url": "https://api.github.com/users/TimDiekmann/orgs", "repos_url": "https://api.github.com/users/TimDiekmann/repos", "events_url": "https://api.github.com/users/TimDiekmann/events{/privacy}", "received_events_url": "https://api.github.com/users/TimDiekmann/received_events", "type": "User", "site_admin": false}, "committer": {"login": "TimDiekmann", "id": 21277928, "node_id": "MDQ6VXNlcjIxMjc3OTI4", "avatar_url": "https://avatars.githubusercontent.com/u/21277928?v=4", "gravatar_id": "", "url": "https://api.github.com/users/TimDiekmann", "html_url": "https://github.com/TimDiekmann", "followers_url": "https://api.github.com/users/TimDiekmann/followers", "following_url": "https://api.github.com/users/TimDiekmann/following{/other_user}", "gists_url": "https://api.github.com/users/TimDiekmann/gists{/gist_id}", "starred_url": "https://api.github.com/users/TimDiekmann/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/TimDiekmann/subscriptions", "organizations_url": "https://api.github.com/users/TimDiekmann/orgs", "repos_url": "https://api.github.com/users/TimDiekmann/repos", "events_url": "https://api.github.com/users/TimDiekmann/events{/privacy}", "received_events_url": "https://api.github.com/users/TimDiekmann/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "fa0755c9fd9f7c43fbd313db32935ff37e588ee2", "url": "https://api.github.com/repos/rust-lang/rust/commits/fa0755c9fd9f7c43fbd313db32935ff37e588ee2", "html_url": "https://github.com/rust-lang/rust/commit/fa0755c9fd9f7c43fbd313db32935ff37e588ee2"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "4c520da85e876d190c7324902921d3898f09d3a3", "filename": "tests/run-pass/calloc.rs", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/fdefac8599a385a87de02f06d5a77f726a524904/tests%2Frun-pass%2Fcalloc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fdefac8599a385a87de02f06d5a77f726a524904/tests%2Frun-pass%2Fcalloc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/tests%2Frun-pass%2Fcalloc.rs?ref=fdefac8599a385a87de02f06d5a77f726a524904", "patch": "@@ -17,10 +17,10 @@ fn main() {\n         let p3 = libc::calloc(0, 20);\n         assert!(p3.is_null());\n \n-        let p4 = libc::calloc(4, 8) as *const u8;\n+        let p4 = libc::calloc(4, 8);\n         assert!(!p4.is_null());\n-\n-        let slice = slice::from_raw_parts(p4, 4 * 8);\n+        let slice = slice::from_raw_parts(p4 as *const u8, 4 * 8);\n         assert_eq!(&slice, &[0_u8; 4 * 8]);\n+        libc::free(p4);\n     }\n }"}]}