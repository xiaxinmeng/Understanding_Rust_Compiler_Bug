{"sha": "da7ec4b3398ffaf672a755bf57066e17ac42303a", "node_id": "MDY6Q29tbWl0NzI0NzEyOmRhN2VjNGIzMzk4ZmZhZjY3MmE3NTViZjU3MDY2ZTE3YWM0MjMwM2E=", "commit": {"author": {"name": "vsrs", "email": "vit@conrlab.com", "date": "2020-06-03T11:34:11Z"}, "committer": {"name": "vsrs", "email": "vit@conrlab.com", "date": "2020-06-05T12:00:28Z"}, "message": "Add hover actions LSP extension documentation.", "tree": {"sha": "2f8e1d37b13d16262587b6712a4612c6c4261355", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/2f8e1d37b13d16262587b6712a4612c6c4261355"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/da7ec4b3398ffaf672a755bf57066e17ac42303a", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/da7ec4b3398ffaf672a755bf57066e17ac42303a", "html_url": "https://github.com/rust-lang/rust/commit/da7ec4b3398ffaf672a755bf57066e17ac42303a", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/da7ec4b3398ffaf672a755bf57066e17ac42303a/comments", "author": {"login": "vsrs", "id": 62505555, "node_id": "MDQ6VXNlcjYyNTA1NTU1", "avatar_url": "https://avatars.githubusercontent.com/u/62505555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vsrs", "html_url": "https://github.com/vsrs", "followers_url": "https://api.github.com/users/vsrs/followers", "following_url": "https://api.github.com/users/vsrs/following{/other_user}", "gists_url": "https://api.github.com/users/vsrs/gists{/gist_id}", "starred_url": "https://api.github.com/users/vsrs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vsrs/subscriptions", "organizations_url": "https://api.github.com/users/vsrs/orgs", "repos_url": "https://api.github.com/users/vsrs/repos", "events_url": "https://api.github.com/users/vsrs/events{/privacy}", "received_events_url": "https://api.github.com/users/vsrs/received_events", "type": "User", "site_admin": false}, "committer": {"login": "vsrs", "id": 62505555, "node_id": "MDQ6VXNlcjYyNTA1NTU1", "avatar_url": "https://avatars.githubusercontent.com/u/62505555?v=4", "gravatar_id": "", "url": "https://api.github.com/users/vsrs", "html_url": "https://github.com/vsrs", "followers_url": "https://api.github.com/users/vsrs/followers", "following_url": "https://api.github.com/users/vsrs/following{/other_user}", "gists_url": "https://api.github.com/users/vsrs/gists{/gist_id}", "starred_url": "https://api.github.com/users/vsrs/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/vsrs/subscriptions", "organizations_url": "https://api.github.com/users/vsrs/orgs", "repos_url": "https://api.github.com/users/vsrs/repos", "events_url": "https://api.github.com/users/vsrs/events{/privacy}", "received_events_url": "https://api.github.com/users/vsrs/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "7d0dd17b09240385333805637ea17992a8089cf2", "url": "https://api.github.com/repos/rust-lang/rust/commits/7d0dd17b09240385333805637ea17992a8089cf2", "html_url": "https://github.com/rust-lang/rust/commit/7d0dd17b09240385333805637ea17992a8089cf2"}], "stats": {"total": 40, "additions": 39, "deletions": 1}, "files": [{"sha": "a0847dad3a8f158a4d17b281286df12c00fb9de0", "filename": "docs/dev/lsp-extensions.md", "status": "modified", "additions": 38, "deletions": 0, "changes": 38, "blob_url": "https://github.com/rust-lang/rust/blob/da7ec4b3398ffaf672a755bf57066e17ac42303a/docs%2Fdev%2Flsp-extensions.md", "raw_url": "https://github.com/rust-lang/rust/raw/da7ec4b3398ffaf672a755bf57066e17ac42303a/docs%2Fdev%2Flsp-extensions.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/docs%2Fdev%2Flsp-extensions.md?ref=da7ec4b3398ffaf672a755bf57066e17ac42303a", "patch": "@@ -467,3 +467,41 @@ interface InlayHint {\n     label: string,\n }\n ```\n+\n+## Hover Actions\n+\n+**Client Capability:** `{ \"hoverActions\": boolean }`\n+\n+If this capability is set, `Hover` request returned from the server might contain an additional field, `actions`:\n+\n+```typescript\n+interface Hover {\n+    ...\n+    actions?: CommandLinkGroup[];\n+}\n+\n+interface CommandLink extends Command {\n+    /**\n+     * A tooltip for the command, when represented in the UI.\n+     */\n+    tooltip?: string;\n+}\n+\n+interface CommandLinkGroup {\n+    title?: string;\n+    commands: CommandLink[];\n+}\n+```\n+\n+Such actions on the client side are appended to a hover bottom as command links:\n+```\n+  +-----------------------------+\n+  | Hover content               |\n+  |                             |\n+  +-----------------------------+\n+  | _Action1_ | _Action2_       |  <- first group, no TITLE\n+  +-----------------------------+\n+  | TITLE _Action1_ | _Action2_ |  <- second group\n+  +-----------------------------+\n+  ...\n+```\n\\ No newline at end of file"}, {"sha": "f2094b5cefe4e26a0f5a029d89e10d7ffea479df", "filename": "editors/code/src/client.ts", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/da7ec4b3398ffaf672a755bf57066e17ac42303a/editors%2Fcode%2Fsrc%2Fclient.ts", "raw_url": "https://github.com/rust-lang/rust/raw/da7ec4b3398ffaf672a755bf57066e17ac42303a/editors%2Fcode%2Fsrc%2Fclient.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fclient.ts?ref=da7ec4b3398ffaf672a755bf57066e17ac42303a", "patch": "@@ -66,7 +66,7 @@ export function createClient(serverPath: string, cwd: string): lc.LanguageClient\n                             // Workaround to support command links (trusted vscode.MarkdownString) in hovers\n                             // https://github.com/microsoft/vscode/issues/33577\n                             hover.contents = hover.contents.map(toTrusted);\n-                            \n+\n                             const actions = (<any>result).actions;\n                             if (actions) {\n                                 hover.contents.push(renderHoverActions(actions));"}]}