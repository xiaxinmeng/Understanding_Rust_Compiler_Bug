{"sha": "91171dedd45b93bf6a4f1b9662ebb8106f80c3b6", "node_id": "MDY6Q29tbWl0NzI0NzEyOjkxMTcxZGVkZDQ1YjkzYmY2YTRmMWI5NjYyZWJiODEwNmY4MGMzYjY=", "commit": {"author": {"name": "bors[bot]", "email": "26634292+bors[bot]@users.noreply.github.com", "date": "2020-01-16T17:40:25Z"}, "committer": {"name": "GitHub", "email": "noreply@github.com", "date": "2020-01-16T17:40:25Z"}, "message": "Merge #2863\n\n2863: Minimize test r=matklad a=matklad\n\n\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "dc1c18aa49beaef7e8cf305e7b020d25cb10a58c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/dc1c18aa49beaef7e8cf305e7b020d25cb10a58c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJeIKAJCRBK7hj4Ov3rIwAAdHIIAFsBNOFbuUmmRgdNRaYLhIy7\n1JhP5nowiVZG7dwohLnsy+eyj5wag+kS3Cld2yrj+e910wvbvlBeJx2W4oNauiZG\nLpDhmjMY0IKaD3KmddvYV7kU4WloUuJWq9wOhTaf3qn1cHBci9yRvJkCJS5TU/yv\ny4nY0F7PZVuBSOkpW0U4zlFl9eolthL7jHamsTirdjUPok0sGH+ZwDQMocugHzto\nNOuguUQHH/wJBtVrK1hfQrvnACuTJmS9WtFutU95u0KmnJwEvIv4UNXYnY6myQ9s\nJr8kpq79aZXnpjV7bN3kNU8FOK9wTWCiF+aT7GqYRiFJfURSDiMsTaLDp1l++wc=\n=A4my\n-----END PGP SIGNATURE-----\n", "payload": "tree dc1c18aa49beaef7e8cf305e7b020d25cb10a58c\nparent d3c4fbbbc45afc7d480185493b5ce77b5daa1747\nparent 5398b9eeba14a3e73eb9a8b7e0d2e703e052585d\nauthor bors[bot] <26634292+bors[bot]@users.noreply.github.com> 1579196425 +0000\ncommitter GitHub <noreply@github.com> 1579196425 +0000\n\nMerge #2863\n\n2863: Minimize test r=matklad a=matklad\n\n\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6", "html_url": "https://github.com/rust-lang/rust/commit/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "web-flow", "id": 19864447, "node_id": "MDQ6VXNlcjE5ODY0NDQ3", "avatar_url": "https://avatars.githubusercontent.com/u/19864447?v=4", "gravatar_id": "", "url": "https://api.github.com/users/web-flow", "html_url": "https://github.com/web-flow", "followers_url": "https://api.github.com/users/web-flow/followers", "following_url": "https://api.github.com/users/web-flow/following{/other_user}", "gists_url": "https://api.github.com/users/web-flow/gists{/gist_id}", "starred_url": "https://api.github.com/users/web-flow/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/web-flow/subscriptions", "organizations_url": "https://api.github.com/users/web-flow/orgs", "repos_url": "https://api.github.com/users/web-flow/repos", "events_url": "https://api.github.com/users/web-flow/events{/privacy}", "received_events_url": "https://api.github.com/users/web-flow/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "d3c4fbbbc45afc7d480185493b5ce77b5daa1747", "url": "https://api.github.com/repos/rust-lang/rust/commits/d3c4fbbbc45afc7d480185493b5ce77b5daa1747", "html_url": "https://github.com/rust-lang/rust/commit/d3c4fbbbc45afc7d480185493b5ce77b5daa1747"}, {"sha": "5398b9eeba14a3e73eb9a8b7e0d2e703e052585d", "url": "https://api.github.com/repos/rust-lang/rust/commits/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d", "html_url": "https://github.com/rust-lang/rust/commit/5398b9eeba14a3e73eb9a8b7e0d2e703e052585d"}], "stats": {"total": 278, "additions": 88, "deletions": 190}, "files": [{"sha": "f3158ade300bc208fabfde1627d7e64552858809", "filename": "crates/ra_parser/src/grammar/attributes.rs", "status": "modified", "additions": 0, "deletions": 22, "changes": 22, "blob_url": "https://github.com/rust-lang/rust/blob/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fattributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fattributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fattributes.rs?ref=91171dedd45b93bf6a4f1b9662ebb8106f80c3b6", "patch": "@@ -8,28 +8,6 @@ pub(super) fn inner_attributes(p: &mut Parser) {\n     }\n }\n \n-pub(super) fn with_outer_attributes(\n-    p: &mut Parser,\n-    f: impl Fn(&mut Parser) -> Option<CompletedMarker>,\n-) -> bool {\n-    let am = p.start();\n-    let has_attrs = p.at(T![#]);\n-    attributes::outer_attributes(p);\n-    let cm = f(p);\n-    let success = cm.is_some();\n-\n-    match (has_attrs, cm) {\n-        (true, Some(cm)) => {\n-            let kind = cm.kind();\n-            cm.undo_completion(p).abandon(p);\n-            am.complete(p, kind);\n-        }\n-        _ => am.abandon(p),\n-    }\n-\n-    success\n-}\n-\n pub(super) fn outer_attributes(p: &mut Parser) {\n     while p.at(T![#]) {\n         attribute(p, false)"}, {"sha": "a98a2a3ef568b1cd54eabc2b01af988d01804675", "filename": "crates/ra_parser/src/grammar/expressions/atom.rs", "status": "modified", "additions": 27, "deletions": 32, "changes": 59, "blob_url": "https://github.com/rust-lang/rust/blob/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions%2Fatom.rs", "raw_url": "https://github.com/rust-lang/rust/raw/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions%2Fatom.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_parser%2Fsrc%2Fgrammar%2Fexpressions%2Fatom.rs?ref=91171dedd45b93bf6a4f1b9662ebb8106f80c3b6", "patch": "@@ -181,47 +181,42 @@ fn tuple_expr(p: &mut Parser) -> CompletedMarker {\n fn array_expr(p: &mut Parser) -> CompletedMarker {\n     assert!(p.at(T!['[']));\n     let m = p.start();\n-    p.bump(T!['[']);\n-    if p.eat(T![']']) {\n-        return m.complete(p, ARRAY_EXPR);\n-    }\n \n-    // test first_array_member_attributes\n-    // pub const A: &[i64] = &[\n-    //    #[cfg(test)]\n-    //    1,\n-    //    2,\n-    // ];\n-    attributes::with_outer_attributes(p, |p| expr(p).0);\n+    let mut n_exprs = 0u32;\n+    let mut has_semi = false;\n \n-    if p.eat(T![;]) {\n-        expr(p);\n-        p.expect(T![']']);\n-        return m.complete(p, ARRAY_EXPR);\n-    }\n+    p.bump(T!['[']);\n     while !p.at(EOF) && !p.at(T![']']) {\n-        p.expect(T![,]);\n-        if p.at(T![']']) {\n-            break;\n-        }\n+        n_exprs += 1;\n+\n+        // test array_attrs\n+        // const A: &[i64] = &[1, #[cfg(test)] 2];\n+        let m = p.start();\n+        let has_attrs = p.at(T![#]);\n+        attributes::outer_attributes(p);\n \n-        // test subsequent_array_member_attributes\n-        // pub const A: &[i64] = &[\n-        //    1,\n-        //    #[cfg(test)]\n-        //    2,\n-        // ];\n-        if !attributes::with_outer_attributes(p, |p| {\n-            if !p.at_ts(EXPR_FIRST) {\n-                p.error(\"expected expression\");\n-                return None;\n+        let cm = expr(p).0;\n+\n+        match (has_attrs, cm) {\n+            (true, Some(cm)) => {\n+                let kind = cm.kind();\n+                cm.undo_completion(p).abandon(p);\n+                m.complete(p, kind);\n             }\n-            expr(p).0\n-        }) {\n+            _ => m.abandon(p),\n+        }\n+\n+        if n_exprs == 1 && p.eat(T![;]) {\n+            has_semi = true;\n+            continue;\n+        }\n+\n+        if has_semi || !p.at(T![']']) && !p.expect(T![,]) {\n             break;\n         }\n     }\n     p.expect(T![']']);\n+\n     m.complete(p, ARRAY_EXPR)\n }\n "}, {"sha": "310a8246448ef219625316fda3e379b321b750df", "filename": "crates/ra_syntax/test_data/parser/err/0022_bad_exprs.txt", "status": "modified", "additions": 13, "deletions": 20, "changes": 33, "blob_url": "https://github.com/rust-lang/rust/blob/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0022_bad_exprs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0022_bad_exprs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Ferr%2F0022_bad_exprs.txt?ref=91171dedd45b93bf6a4f1b9662ebb8106f80c3b6", "patch": "@@ -12,8 +12,8 @@ SOURCE_FILE@[0; 112)\n       BLOCK@[7; 33)\n         L_CURLY@[7; 8) \"{\"\n         WHITESPACE@[8; 9) \" \"\n-        EXPR_STMT@[9; 15)\n-          ARRAY_EXPR@[9; 15)\n+        EXPR_STMT@[9; 26)\n+          ARRAY_EXPR@[9; 26)\n             L_BRACK@[9; 10) \"[\"\n             LITERAL@[10; 11)\n               INT_NUMBER@[10; 11) \"1\"\n@@ -22,17 +22,13 @@ SOURCE_FILE@[0; 112)\n             LITERAL@[13; 14)\n               INT_NUMBER@[13; 14) \"2\"\n             COMMA@[14; 15) \",\"\n-        WHITESPACE@[15; 16) \" \"\n-        EXPR_STMT@[16; 17)\n-          ERROR@[16; 17)\n-            AT@[16; 17) \"@\"\n-        EXPR_STMT@[17; 18)\n-          ERROR@[17; 18)\n+            WHITESPACE@[15; 16) \" \"\n+            ERROR@[16; 17)\n+              AT@[16; 17) \"@\"\n             COMMA@[17; 18) \",\"\n-        WHITESPACE@[18; 19) \" \"\n-        STRUCT_DEF@[19; 26)\n-          STRUCT_KW@[19; 25) \"struct\"\n-          ERROR@[25; 26)\n+            WHITESPACE@[18; 19) \" \"\n+            ERROR@[19; 25)\n+              STRUCT_KW@[19; 25) \"struct\"\n             COMMA@[25; 26) \",\"\n         WHITESPACE@[26; 27) \" \"\n         LET_STMT@[27; 31)\n@@ -151,15 +147,12 @@ SOURCE_FILE@[0; 112)\n         WHITESPACE@[109; 110) \" \"\n         R_CURLY@[110; 111) \"}\"\n   WHITESPACE@[111; 112) \"\\n\"\n-error 15: expected expression\n-error 15: expected R_BRACK\n-error 15: expected SEMI\n error 16: expected expression\n-error 17: expected SEMI\n-error 17: expected expression\n-error 18: expected SEMI\n-error 25: expected a name\n-error 26: expected `;`, `{`, or `(`\n+error 19: expected expression\n+error 26: expected expression\n+error 26: expected COMMA\n+error 26: expected R_BRACK\n+error 26: expected SEMI\n error 30: expected pattern\n error 31: expected SEMI\n error 52: expected expression"}, {"sha": "f59e1377118f41973fcccc9e9a1ff88e1746fc87", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0135_first_array_member_attributes.rs", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/d3c4fbbbc45afc7d480185493b5ce77b5daa1747/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d3c4fbbbc45afc7d480185493b5ce77b5daa1747/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.rs?ref=d3c4fbbbc45afc7d480185493b5ce77b5daa1747", "patch": "@@ -1,5 +0,0 @@\n-pub const A: &[i64] = &[\n-   #[cfg(test)]\n-   1,\n-   2,\n-];"}, {"sha": "2e3a13005bda79d52916682e547fc91967e86d6e", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0135_first_array_member_attributes.txt", "status": "removed", "additions": 0, "deletions": 53, "changes": 53, "blob_url": "https://github.com/rust-lang/rust/blob/d3c4fbbbc45afc7d480185493b5ce77b5daa1747/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.txt", "raw_url": "https://github.com/rust-lang/rust/raw/d3c4fbbbc45afc7d480185493b5ce77b5daa1747/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0135_first_array_member_attributes.txt?ref=d3c4fbbbc45afc7d480185493b5ce77b5daa1747", "patch": "@@ -1,53 +0,0 @@\n-SOURCE_FILE@[0; 56)\n-  CONST_DEF@[0; 55)\n-    VISIBILITY@[0; 3)\n-      PUB_KW@[0; 3) \"pub\"\n-    WHITESPACE@[3; 4) \" \"\n-    CONST_KW@[4; 9) \"const\"\n-    WHITESPACE@[9; 10) \" \"\n-    NAME@[10; 11)\n-      IDENT@[10; 11) \"A\"\n-    COLON@[11; 12) \":\"\n-    WHITESPACE@[12; 13) \" \"\n-    REFERENCE_TYPE@[13; 19)\n-      AMP@[13; 14) \"&\"\n-      SLICE_TYPE@[14; 19)\n-        L_BRACK@[14; 15) \"[\"\n-        PATH_TYPE@[15; 18)\n-          PATH@[15; 18)\n-            PATH_SEGMENT@[15; 18)\n-              NAME_REF@[15; 18)\n-                IDENT@[15; 18) \"i64\"\n-        R_BRACK@[18; 19) \"]\"\n-    WHITESPACE@[19; 20) \" \"\n-    EQ@[20; 21) \"=\"\n-    WHITESPACE@[21; 22) \" \"\n-    REF_EXPR@[22; 54)\n-      AMP@[22; 23) \"&\"\n-      ARRAY_EXPR@[23; 54)\n-        L_BRACK@[23; 24) \"[\"\n-        WHITESPACE@[24; 28) \"\\n   \"\n-        LITERAL@[28; 45)\n-          ATTR@[28; 40)\n-            POUND@[28; 29) \"#\"\n-            L_BRACK@[29; 30) \"[\"\n-            PATH@[30; 33)\n-              PATH_SEGMENT@[30; 33)\n-                NAME_REF@[30; 33)\n-                  IDENT@[30; 33) \"cfg\"\n-            TOKEN_TREE@[33; 39)\n-              L_PAREN@[33; 34) \"(\"\n-              IDENT@[34; 38) \"test\"\n-              R_PAREN@[38; 39) \")\"\n-            R_BRACK@[39; 40) \"]\"\n-          WHITESPACE@[40; 44) \"\\n   \"\n-          INT_NUMBER@[44; 45) \"1\"\n-        COMMA@[45; 46) \",\"\n-        WHITESPACE@[46; 50) \"\\n   \"\n-        LITERAL@[50; 51)\n-          INT_NUMBER@[50; 51) \"2\"\n-        COMMA@[51; 52) \",\"\n-        WHITESPACE@[52; 53) \"\\n\"\n-        R_BRACK@[53; 54) \"]\"\n-    SEMI@[54; 55) \";\"\n-  WHITESPACE@[55; 56) \"\\n\""}, {"sha": "1324acb3f69cf8097d33d148b87678ee85bf7eef", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0136_subsequent_array_member_attributes.rs", "status": "removed", "additions": 0, "deletions": 5, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/d3c4fbbbc45afc7d480185493b5ce77b5daa1747/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.rs", "raw_url": "https://github.com/rust-lang/rust/raw/d3c4fbbbc45afc7d480185493b5ce77b5daa1747/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.rs?ref=d3c4fbbbc45afc7d480185493b5ce77b5daa1747", "patch": "@@ -1,5 +0,0 @@\n-pub const A: &[i64] = &[\n-   1,\n-   #[cfg(test)]\n-   2,\n-];"}, {"sha": "1bb8a0afc75e7d8c32c287e051a7e7922edc1edf", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0136_subsequent_array_member_attributes.txt", "status": "removed", "additions": 0, "deletions": 53, "changes": 53, "blob_url": "https://github.com/rust-lang/rust/blob/d3c4fbbbc45afc7d480185493b5ce77b5daa1747/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.txt", "raw_url": "https://github.com/rust-lang/rust/raw/d3c4fbbbc45afc7d480185493b5ce77b5daa1747/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0136_subsequent_array_member_attributes.txt?ref=d3c4fbbbc45afc7d480185493b5ce77b5daa1747", "patch": "@@ -1,53 +0,0 @@\n-SOURCE_FILE@[0; 56)\n-  CONST_DEF@[0; 55)\n-    VISIBILITY@[0; 3)\n-      PUB_KW@[0; 3) \"pub\"\n-    WHITESPACE@[3; 4) \" \"\n-    CONST_KW@[4; 9) \"const\"\n-    WHITESPACE@[9; 10) \" \"\n-    NAME@[10; 11)\n-      IDENT@[10; 11) \"A\"\n-    COLON@[11; 12) \":\"\n-    WHITESPACE@[12; 13) \" \"\n-    REFERENCE_TYPE@[13; 19)\n-      AMP@[13; 14) \"&\"\n-      SLICE_TYPE@[14; 19)\n-        L_BRACK@[14; 15) \"[\"\n-        PATH_TYPE@[15; 18)\n-          PATH@[15; 18)\n-            PATH_SEGMENT@[15; 18)\n-              NAME_REF@[15; 18)\n-                IDENT@[15; 18) \"i64\"\n-        R_BRACK@[18; 19) \"]\"\n-    WHITESPACE@[19; 20) \" \"\n-    EQ@[20; 21) \"=\"\n-    WHITESPACE@[21; 22) \" \"\n-    REF_EXPR@[22; 54)\n-      AMP@[22; 23) \"&\"\n-      ARRAY_EXPR@[23; 54)\n-        L_BRACK@[23; 24) \"[\"\n-        WHITESPACE@[24; 28) \"\\n   \"\n-        LITERAL@[28; 29)\n-          INT_NUMBER@[28; 29) \"1\"\n-        COMMA@[29; 30) \",\"\n-        WHITESPACE@[30; 34) \"\\n   \"\n-        LITERAL@[34; 51)\n-          ATTR@[34; 46)\n-            POUND@[34; 35) \"#\"\n-            L_BRACK@[35; 36) \"[\"\n-            PATH@[36; 39)\n-              PATH_SEGMENT@[36; 39)\n-                NAME_REF@[36; 39)\n-                  IDENT@[36; 39) \"cfg\"\n-            TOKEN_TREE@[39; 45)\n-              L_PAREN@[39; 40) \"(\"\n-              IDENT@[40; 44) \"test\"\n-              R_PAREN@[44; 45) \")\"\n-            R_BRACK@[45; 46) \"]\"\n-          WHITESPACE@[46; 50) \"\\n   \"\n-          INT_NUMBER@[50; 51) \"2\"\n-        COMMA@[51; 52) \",\"\n-        WHITESPACE@[52; 53) \"\\n\"\n-        R_BRACK@[53; 54) \"]\"\n-    SEMI@[54; 55) \";\"\n-  WHITESPACE@[55; 56) \"\\n\""}, {"sha": "2ac310924fdeb390a9e2c121cc80643c0f30f497", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0150_array_attrs.rs", "status": "added", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.rs?ref=91171dedd45b93bf6a4f1b9662ebb8106f80c3b6", "patch": "@@ -0,0 +1 @@\n+const A: &[i64] = &[1, #[cfg(test)] 2];"}, {"sha": "78e296f8804daf85c6da59afc27daaec9fea67e8", "filename": "crates/ra_syntax/test_data/parser/inline/ok/0150_array_attrs.txt", "status": "added", "additions": 47, "deletions": 0, "changes": 47, "blob_url": "https://github.com/rust-lang/rust/blob/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.txt", "raw_url": "https://github.com/rust-lang/rust/raw/91171dedd45b93bf6a4f1b9662ebb8106f80c3b6/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.txt", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_syntax%2Ftest_data%2Fparser%2Finline%2Fok%2F0150_array_attrs.txt?ref=91171dedd45b93bf6a4f1b9662ebb8106f80c3b6", "patch": "@@ -0,0 +1,47 @@\n+SOURCE_FILE@[0; 40)\n+  CONST_DEF@[0; 39)\n+    CONST_KW@[0; 5) \"const\"\n+    WHITESPACE@[5; 6) \" \"\n+    NAME@[6; 7)\n+      IDENT@[6; 7) \"A\"\n+    COLON@[7; 8) \":\"\n+    WHITESPACE@[8; 9) \" \"\n+    REFERENCE_TYPE@[9; 15)\n+      AMP@[9; 10) \"&\"\n+      SLICE_TYPE@[10; 15)\n+        L_BRACK@[10; 11) \"[\"\n+        PATH_TYPE@[11; 14)\n+          PATH@[11; 14)\n+            PATH_SEGMENT@[11; 14)\n+              NAME_REF@[11; 14)\n+                IDENT@[11; 14) \"i64\"\n+        R_BRACK@[14; 15) \"]\"\n+    WHITESPACE@[15; 16) \" \"\n+    EQ@[16; 17) \"=\"\n+    WHITESPACE@[17; 18) \" \"\n+    REF_EXPR@[18; 38)\n+      AMP@[18; 19) \"&\"\n+      ARRAY_EXPR@[19; 38)\n+        L_BRACK@[19; 20) \"[\"\n+        LITERAL@[20; 21)\n+          INT_NUMBER@[20; 21) \"1\"\n+        COMMA@[21; 22) \",\"\n+        WHITESPACE@[22; 23) \" \"\n+        LITERAL@[23; 37)\n+          ATTR@[23; 35)\n+            POUND@[23; 24) \"#\"\n+            L_BRACK@[24; 25) \"[\"\n+            PATH@[25; 28)\n+              PATH_SEGMENT@[25; 28)\n+                NAME_REF@[25; 28)\n+                  IDENT@[25; 28) \"cfg\"\n+            TOKEN_TREE@[28; 34)\n+              L_PAREN@[28; 29) \"(\"\n+              IDENT@[29; 33) \"test\"\n+              R_PAREN@[33; 34) \")\"\n+            R_BRACK@[34; 35) \"]\"\n+          WHITESPACE@[35; 36) \" \"\n+          INT_NUMBER@[36; 37) \"2\"\n+        R_BRACK@[37; 38) \"]\"\n+    SEMI@[38; 39) \";\"\n+  WHITESPACE@[39; 40) \"\\n\""}]}