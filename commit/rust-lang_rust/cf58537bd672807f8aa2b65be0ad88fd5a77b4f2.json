{"sha": "cf58537bd672807f8aa2b65be0ad88fd5a77b4f2", "node_id": "MDY6Q29tbWl0NzI0NzEyOmNmNTg1MzdiZDY3MjgwN2Y4YWEyYjY1YmUwYWQ4OGZkNWE3N2I0ZjI=", "commit": {"author": {"name": "Lzu Tao", "email": "taolzu@gmail.com", "date": "2020-02-07T01:33:01Z"}, "committer": {"name": "Lzu Tao", "email": "taolzu@gmail.com", "date": "2020-02-07T01:33:05Z"}, "message": "dev: Move DOCS_LINK out of lazy_static and reuse it", "tree": {"sha": "0fe6c08b6d3dd6b3321edafb80e67c2ad248fef5", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0fe6c08b6d3dd6b3321edafb80e67c2ad248fef5"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/cf58537bd672807f8aa2b65be0ad88fd5a77b4f2", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/cf58537bd672807f8aa2b65be0ad88fd5a77b4f2", "html_url": "https://github.com/rust-lang/rust/commit/cf58537bd672807f8aa2b65be0ad88fd5a77b4f2", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/cf58537bd672807f8aa2b65be0ad88fd5a77b4f2/comments", "author": {"login": "tesuji", "id": 15225902, "node_id": "MDQ6VXNlcjE1MjI1OTAy", "avatar_url": "https://avatars.githubusercontent.com/u/15225902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tesuji", "html_url": "https://github.com/tesuji", "followers_url": "https://api.github.com/users/tesuji/followers", "following_url": "https://api.github.com/users/tesuji/following{/other_user}", "gists_url": "https://api.github.com/users/tesuji/gists{/gist_id}", "starred_url": "https://api.github.com/users/tesuji/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tesuji/subscriptions", "organizations_url": "https://api.github.com/users/tesuji/orgs", "repos_url": "https://api.github.com/users/tesuji/repos", "events_url": "https://api.github.com/users/tesuji/events{/privacy}", "received_events_url": "https://api.github.com/users/tesuji/received_events", "type": "User", "site_admin": false}, "committer": {"login": "tesuji", "id": 15225902, "node_id": "MDQ6VXNlcjE1MjI1OTAy", "avatar_url": "https://avatars.githubusercontent.com/u/15225902?v=4", "gravatar_id": "", "url": "https://api.github.com/users/tesuji", "html_url": "https://github.com/tesuji", "followers_url": "https://api.github.com/users/tesuji/followers", "following_url": "https://api.github.com/users/tesuji/following{/other_user}", "gists_url": "https://api.github.com/users/tesuji/gists{/gist_id}", "starred_url": "https://api.github.com/users/tesuji/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/tesuji/subscriptions", "organizations_url": "https://api.github.com/users/tesuji/orgs", "repos_url": "https://api.github.com/users/tesuji/repos", "events_url": "https://api.github.com/users/tesuji/events{/privacy}", "received_events_url": "https://api.github.com/users/tesuji/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "344603afcef264bc1790bca6865dbfb4815d2d5d", "url": "https://api.github.com/repos/rust-lang/rust/commits/344603afcef264bc1790bca6865dbfb4815d2d5d", "html_url": "https://github.com/rust-lang/rust/commit/344603afcef264bc1790bca6865dbfb4815d2d5d"}], "stats": {"total": 21, "additions": 12, "deletions": 9}, "files": [{"sha": "3acecf9679100285846b218e00aa443f1c0f8602", "filename": "clippy_dev/src/lib.rs", "status": "modified", "additions": 3, "deletions": 2, "changes": 5, "blob_url": "https://github.com/rust-lang/rust/blob/cf58537bd672807f8aa2b65be0ad88fd5a77b4f2/clippy_dev%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf58537bd672807f8aa2b65be0ad88fd5a77b4f2/clippy_dev%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Flib.rs?ref=cf58537bd672807f8aa2b65be0ad88fd5a77b4f2", "patch": "@@ -30,9 +30,10 @@ lazy_static! {\n     )\n     .unwrap();\n     static ref NL_ESCAPE_RE: Regex = Regex::new(r#\"\\\\\\n\\s*\"#).unwrap();\n-    pub static ref DOCS_LINK: String = \"https://rust-lang.github.io/rust-clippy/master/index.html\".to_string();\n }\n \n+pub static DOCS_LINK: &str = \"https://rust-lang.github.io/rust-clippy/master/index.html\";\n+\n /// Lint data parsed from the Clippy source code.\n #[derive(Clone, PartialEq, Debug)]\n pub struct Lint {\n@@ -120,7 +121,7 @@ pub fn gen_changelog_lint_list(lints: Vec<Lint>) -> Vec<String> {\n             if l.is_internal() {\n                 None\n             } else {\n-                Some(format!(\"[`{}`]: {}#{}\", l.name, DOCS_LINK.clone(), l.name))\n+                Some(format!(\"[`{}`]: {}#{}\", l.name, DOCS_LINK, l.name))\n             }\n         })\n         .collect()"}, {"sha": "154876817429984f8b3f82c88ab6ce1965d111f3", "filename": "clippy_dev/src/main.rs", "status": "modified", "additions": 9, "deletions": 7, "changes": 16, "blob_url": "https://github.com/rust-lang/rust/blob/cf58537bd672807f8aa2b65be0ad88fd5a77b4f2/clippy_dev%2Fsrc%2Fmain.rs", "raw_url": "https://github.com/rust-lang/rust/raw/cf58537bd672807f8aa2b65be0ad88fd5a77b4f2/clippy_dev%2Fsrc%2Fmain.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_dev%2Fsrc%2Fmain.rs?ref=cf58537bd672807f8aa2b65be0ad88fd5a77b4f2", "patch": "@@ -150,7 +150,7 @@ fn print_lints() {\n             println!(\n                 \"* [{}]({}#{}) ({})\",\n                 lint.name,\n-                clippy_dev::DOCS_LINK.clone(),\n+                clippy_dev::DOCS_LINK,\n                 lint.name,\n                 lint.desc\n             );\n@@ -191,16 +191,18 @@ fn update_lints(update_mode: UpdateMode) {\n \n     file_change |= replace_region_in_file(\n         Path::new(\"README.md\"),\n-        r#\"\\[There are \\d+ lints included in this crate!\\]\\(https://rust-lang.github.io/rust-clippy/master/index.html\\)\"#,\n+        &format!(r#\"\\[There are \\d+ lints included in this crate!\\]\\({}\\)\"#, DOCS_LINK),\n         \"\",\n         true,\n         update_mode == UpdateMode::Change,\n         || {\n-            vec![\n-                format!(\"[There are {} lints included in this crate!](https://rust-lang.github.io/rust-clippy/master/index.html)\", lint_count)\n-            ]\n-        }\n-    ).changed;\n+            vec![format!(\n+                \"[There are {} lints included in this crate!]({})\",\n+                lint_count, DOCS_LINK\n+            )]\n+        },\n+    )\n+    .changed;\n \n     file_change |= replace_region_in_file(\n         Path::new(\"CHANGELOG.md\"),"}]}