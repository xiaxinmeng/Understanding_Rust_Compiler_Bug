{"sha": "97038e55cfa88eb43a3256d309df4053b7dd2a4e", "node_id": "C_kwDOAAsO6NoAKDk3MDM4ZTU1Y2ZhODhlYjQzYTMyNTZkMzA5ZGY0MDUzYjdkZDJhNGU", "commit": {"author": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-08-05T13:06:10Z"}, "committer": {"name": "bors", "email": "bors@rust-lang.org", "date": "2022-08-05T13:06:10Z"}, "message": "Auto merge of #12949 - Veykril:token-pick, r=Veykril\n\nfix: Fix incorrect token pick rankings", "tree": {"sha": "b0c16027a4ae80949a3e5af18ebcbf2c75d53ce7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b0c16027a4ae80949a3e5af18ebcbf2c75d53ce7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/97038e55cfa88eb43a3256d309df4053b7dd2a4e", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/97038e55cfa88eb43a3256d309df4053b7dd2a4e", "html_url": "https://github.com/rust-lang/rust/commit/97038e55cfa88eb43a3256d309df4053b7dd2a4e", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/97038e55cfa88eb43a3256d309df4053b7dd2a4e/comments", "author": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "committer": {"login": "bors", "id": 3372342, "node_id": "MDQ6VXNlcjMzNzIzNDI=", "avatar_url": "https://avatars.githubusercontent.com/u/3372342?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors", "html_url": "https://github.com/bors", "followers_url": "https://api.github.com/users/bors/followers", "following_url": "https://api.github.com/users/bors/following{/other_user}", "gists_url": "https://api.github.com/users/bors/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors/subscriptions", "organizations_url": "https://api.github.com/users/bors/orgs", "repos_url": "https://api.github.com/users/bors/repos", "events_url": "https://api.github.com/users/bors/events{/privacy}", "received_events_url": "https://api.github.com/users/bors/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "2364788c3b5a79e6a2103f16af58f56e7350b092", "url": "https://api.github.com/repos/rust-lang/rust/commits/2364788c3b5a79e6a2103f16af58f56e7350b092", "html_url": "https://github.com/rust-lang/rust/commit/2364788c3b5a79e6a2103f16af58f56e7350b092"}, {"sha": "6bf674c8e4ddcccb4fc7eaa8754bdc431c6cad33", "url": "https://api.github.com/repos/rust-lang/rust/commits/6bf674c8e4ddcccb4fc7eaa8754bdc431c6cad33", "html_url": "https://github.com/rust-lang/rust/commit/6bf674c8e4ddcccb4fc7eaa8754bdc431c6cad33"}], "stats": {"total": 6, "additions": 3, "deletions": 3}, "files": [{"sha": "5a8cda8fb3dda19e0c4ea6c5c0f4b0fbc72073f9", "filename": "crates/ide/src/call_hierarchy.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/97038e55cfa88eb43a3256d309df4053b7dd2a4e/crates%2Fide%2Fsrc%2Fcall_hierarchy.rs", "raw_url": "https://github.com/rust-lang/rust/raw/97038e55cfa88eb43a3256d309df4053b7dd2a4e/crates%2Fide%2Fsrc%2Fcall_hierarchy.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fcall_hierarchy.rs?ref=97038e55cfa88eb43a3256d309df4053b7dd2a4e", "patch": "@@ -7,7 +7,7 @@ use ide_db::{\n     search::FileReference,\n     FxIndexMap, RootDatabase,\n };\n-use syntax::{ast, AstNode, SyntaxKind::NAME, TextRange};\n+use syntax::{ast, AstNode, SyntaxKind::IDENT, TextRange};\n \n use crate::{goto_definition, FilePosition, NavigationTarget, RangeInfo, TryToNav};\n \n@@ -79,7 +79,7 @@ pub(crate) fn outgoing_calls(db: &RootDatabase, position: FilePosition) -> Optio\n     let file = sema.parse(file_id);\n     let file = file.syntax();\n     let token = pick_best_token(file.token_at_offset(position.offset), |kind| match kind {\n-        NAME => 1,\n+        IDENT => 1,\n         _ => 0,\n     })?;\n     let mut calls = CallLocations::default();"}, {"sha": "b3f711b6b88c4edd0b97403d85fc99b0857317a9", "filename": "crates/ide/src/goto_implementation.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/97038e55cfa88eb43a3256d309df4053b7dd2a4e/crates%2Fide%2Fsrc%2Fgoto_implementation.rs", "raw_url": "https://github.com/rust-lang/rust/raw/97038e55cfa88eb43a3256d309df4053b7dd2a4e/crates%2Fide%2Fsrc%2Fgoto_implementation.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fide%2Fsrc%2Fgoto_implementation.rs?ref=97038e55cfa88eb43a3256d309df4053b7dd2a4e", "patch": "@@ -30,7 +30,7 @@ pub(crate) fn goto_implementation(\n \n     let original_token =\n         pick_best_token(syntax.token_at_offset(position.offset), |kind| match kind {\n-            IDENT | T![self] => 1,\n+            IDENT | T![self] | INT_NUMBER => 1,\n             _ => 0,\n         })?;\n     let range = original_token.text_range();"}]}