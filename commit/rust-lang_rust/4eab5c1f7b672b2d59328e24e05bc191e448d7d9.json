{"sha": "4eab5c1f7b672b2d59328e24e05bc191e448d7d9", "node_id": "MDY6Q29tbWl0NzI0NzEyOjRlYWI1YzFmN2I2NzJiMmQ1OTMyOGUyNGUwNWJjMTkxZTQ0OGQ3ZDk=", "commit": {"author": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2021-09-01T16:40:42Z"}, "committer": {"name": "Deadbeef", "email": "ent3rm4n@gmail.com", "date": "2021-09-09T05:21:31Z"}, "message": "Failing test", "tree": {"sha": "1be2204226e10c5c3b599448040058d2718af255", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1be2204226e10c5c3b599448040058d2718af255"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/4eab5c1f7b672b2d59328e24e05bc191e448d7d9", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEQ7Fl7qPq2YcWF1dqAn35M4hird0FAmE5mdsACgkQAn35M4hi\nrd1Tbw//TfB0DbIjuQn1XAk9M+Edfh91AboiDrFMtVz20/YQ5NzeOOEikQIPF0jR\nyUWUW77TCsSssV1uAmTkJ6CuqAZAyVD7eP6ZnQY2CwO3DGf4oHFaXVDDvAONq1U1\nyIT/fWf+KcsNK+k028If0u/aNHsKNunyxJLPH9xuj4kEWaOEX1zgE9rilz2OtBR2\nWsZFYVgZa0jaa6wki9dIfMXt0FB2WzX9PbZs7L3d0DeD3tQVkc9Qw/rKh8bY3Ien\nvngOR4h0rT1UQiW4Dn2DXN3JkcvVMj6S8GQU98i0RXyNdAoxUeLNu5xXv4CndOHK\ninNiOaqhk66YL6pbjMfPx9puMsDeF4ocvEjHFO4b14IXrnVdoieeCGQijNCsBHjx\nxJUsJq8j4bQFED2LpKBUC8sE7FnSo9DJTDldSoBcDUc89ei8QBLzAi2x04xEArfr\nSmVRgFZArVmODDvxT+2f9lKsOMev66MtYCZHVIL0SsPuzSUHhJV3GF/yqOmhiFky\n2INshYeN5WNgMOHHXMwitTfyezXnPYtXBDCWA2PV0MijWxhAGyC6xpbt2+59sknr\nkIqnYyIIQ5EqihO8s8sE4NuWFUvYJXogOCMQ5luH2ovcdUloDlGOfsKKvpYNjxyv\n3AqIRJY9m0XDqP3jbyB5M+wrFx5h1HdT4NFYSM8udKcCnNlwq6g=\n=957r\n-----END PGP SIGNATURE-----", "payload": "tree 1be2204226e10c5c3b599448040058d2718af255\nparent a13b13ff46b2d669f0d7a8e024938366fb4a3281\nauthor Deadbeef <ent3rm4n@gmail.com> 1630514442 +0000\ncommitter Deadbeef <ent3rm4n@gmail.com> 1631164891 +0000\n\nFailing test\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/4eab5c1f7b672b2d59328e24e05bc191e448d7d9", "html_url": "https://github.com/rust-lang/rust/commit/4eab5c1f7b672b2d59328e24e05bc191e448d7d9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/4eab5c1f7b672b2d59328e24e05bc191e448d7d9/comments", "author": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "committer": {"login": "fee1-dead", "id": 43851243, "node_id": "MDQ6VXNlcjQzODUxMjQz", "avatar_url": "https://avatars.githubusercontent.com/u/43851243?v=4", "gravatar_id": "", "url": "https://api.github.com/users/fee1-dead", "html_url": "https://github.com/fee1-dead", "followers_url": "https://api.github.com/users/fee1-dead/followers", "following_url": "https://api.github.com/users/fee1-dead/following{/other_user}", "gists_url": "https://api.github.com/users/fee1-dead/gists{/gist_id}", "starred_url": "https://api.github.com/users/fee1-dead/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/fee1-dead/subscriptions", "organizations_url": "https://api.github.com/users/fee1-dead/orgs", "repos_url": "https://api.github.com/users/fee1-dead/repos", "events_url": "https://api.github.com/users/fee1-dead/events{/privacy}", "received_events_url": "https://api.github.com/users/fee1-dead/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a13b13ff46b2d669f0d7a8e024938366fb4a3281", "url": "https://api.github.com/repos/rust-lang/rust/commits/a13b13ff46b2d669f0d7a8e024938366fb4a3281", "html_url": "https://github.com/rust-lang/rust/commit/a13b13ff46b2d669f0d7a8e024938366fb4a3281"}], "stats": {"total": 31, "additions": 31, "deletions": 0}, "files": [{"sha": "fd7c491c7da8142b7447e3a2825440f670e02d53", "filename": "src/test/ui/rfc-2632-const-trait-impl/const-drop-fail.rs", "status": "added", "additions": 31, "deletions": 0, "changes": 31, "blob_url": "https://github.com/rust-lang/rust/blob/4eab5c1f7b672b2d59328e24e05bc191e448d7d9/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fconst-drop-fail.rs", "raw_url": "https://github.com/rust-lang/rust/raw/4eab5c1f7b672b2d59328e24e05bc191e448d7d9/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fconst-drop-fail.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Frfc-2632-const-trait-impl%2Fconst-drop-fail.rs?ref=4eab5c1f7b672b2d59328e24e05bc191e448d7d9", "patch": "@@ -0,0 +1,31 @@\n+#![feature(const_trait_impl)]\n+#![feature(const_mut_refs)]\n+#![feature(const_fn_trait_bound)]\n+\n+struct NonTrivialDrop;\n+\n+impl Drop for NonTrivialDrop {\n+    fn drop(&mut self) {\n+        println!(\"Non trivial drop\");\n+    }\n+}\n+\n+struct ConstImplWithDropGlue(NonTrivialDrop);\n+\n+impl const Drop for ConstImplWithDropGlue {\n+    fn drop(&mut self) {}\n+}\n+\n+const fn check<T: ~const Drop>() {}\n+\n+macro_rules! check_all {\n+    ($($T:ty),*$(,)?) => {$(\n+        const _: () = check::<$T>();  \n+    )*};\n+}\n+\n+check_all! {\n+    ConstImplWithDropGlue,\n+}\n+\n+fn main() {}"}]}