{"sha": "83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033", "node_id": "MDY6Q29tbWl0NzI0NzEyOjgzZDNhOTRiMDQ3NGNlYWMzZWExYTBkMWU3ZTk2OGUwZGU3ZjEwMzM=", "commit": {"author": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2021-07-03T18:52:19Z"}, "committer": {"name": "Michael Howell", "email": "michael@notriddle.com", "date": "2021-07-18T14:55:57Z"}, "message": "Add `#![allow(dyn_drop)]` to test cases with `dyn Drop` in them\n\nThese are all testing corner-cases in the compiler.\nAdding a new warning broke these test cases, but --cap-lints stops\nit from actually breaking things in production.", "tree": {"sha": "b6ca5c94ce7931941fa700eeff659f94de03baab", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/b6ca5c94ce7931941fa700eeff659f94de03baab"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033", "html_url": "https://github.com/rust-lang/rust/commit/83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033/comments", "author": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "committer": {"login": "notriddle", "id": 1593513, "node_id": "MDQ6VXNlcjE1OTM1MTM=", "avatar_url": "https://avatars.githubusercontent.com/u/1593513?v=4", "gravatar_id": "", "url": "https://api.github.com/users/notriddle", "html_url": "https://github.com/notriddle", "followers_url": "https://api.github.com/users/notriddle/followers", "following_url": "https://api.github.com/users/notriddle/following{/other_user}", "gists_url": "https://api.github.com/users/notriddle/gists{/gist_id}", "starred_url": "https://api.github.com/users/notriddle/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/notriddle/subscriptions", "organizations_url": "https://api.github.com/users/notriddle/orgs", "repos_url": "https://api.github.com/users/notriddle/repos", "events_url": "https://api.github.com/users/notriddle/events{/privacy}", "received_events_url": "https://api.github.com/users/notriddle/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "dbd4fd5716fb53086e35aa5d1548f5f709e439a0", "url": "https://api.github.com/repos/rust-lang/rust/commits/dbd4fd5716fb53086e35aa5d1548f5f709e439a0", "html_url": "https://github.com/rust-lang/rust/commit/dbd4fd5716fb53086e35aa5d1548f5f709e439a0"}], "stats": {"total": 8, "additions": 5, "deletions": 3}, "files": [{"sha": "59e7f9a6083ced1b4d395b247939aa63960fb0c9", "filename": "src/test/ui/dyn-keyword/issue-56327-dyn-trait-in-macro-is-okay.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033/src%2Ftest%2Fui%2Fdyn-keyword%2Fissue-56327-dyn-trait-in-macro-is-okay.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033/src%2Ftest%2Fui%2Fdyn-keyword%2Fissue-56327-dyn-trait-in-macro-is-okay.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fdyn-keyword%2Fissue-56327-dyn-trait-in-macro-is-okay.rs?ref=83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033", "patch": "@@ -10,6 +10,7 @@\n // anything.\n \n #![deny(rust_2018_compatibility)]\n+#![allow(dyn_drop)]\n \n macro_rules! foo {\n     () => {"}, {"sha": "8abd92da362d36c0c68351a58f97503af5812ef0", "filename": "src/test/ui/traits/object/issue-33140-traitobject-crate.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033/src%2Ftest%2Fui%2Ftraits%2Fobject%2Fissue-33140-traitobject-crate.rs", "raw_url": "https://github.com/rust-lang/rust/raw/83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033/src%2Ftest%2Fui%2Ftraits%2Fobject%2Fissue-33140-traitobject-crate.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Fobject%2Fissue-33140-traitobject-crate.rs?ref=83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033", "patch": "@@ -1,6 +1,7 @@\n // check-pass\n \n #![warn(order_dependent_trait_objects)]\n+#![allow(dyn_drop)]\n \n // Check that traitobject 0.1.0 compiles\n "}, {"sha": "77d71360b806b1249c0bde060add8df6a183e927", "filename": "src/test/ui/traits/object/issue-33140-traitobject-crate.stderr", "status": "modified", "additions": 3, "deletions": 3, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033/src%2Ftest%2Fui%2Ftraits%2Fobject%2Fissue-33140-traitobject-crate.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033/src%2Ftest%2Fui%2Ftraits%2Fobject%2Fissue-33140-traitobject-crate.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ftraits%2Fobject%2Fissue-33140-traitobject-crate.stderr?ref=83d3a94b0474ceac3ea1a0d1e7e968e0de7f1033", "patch": "@@ -1,5 +1,5 @@\n warning: conflicting implementations of trait `Trait` for type `(dyn std::marker::Send + std::marker::Sync + 'static)`: (E0119)\n-  --> $DIR/issue-33140-traitobject-crate.rs:85:1\n+  --> $DIR/issue-33140-traitobject-crate.rs:86:1\n    |\n LL | unsafe impl Trait for dyn (::std::marker::Send) + Sync { }\n    | ------------------------------------------------------ first implementation here\n@@ -15,7 +15,7 @@ LL | #![warn(order_dependent_trait_objects)]\n    = note: for more information, see issue #56484 <https://github.com/rust-lang/rust/issues/56484>\n \n warning: conflicting implementations of trait `Trait` for type `(dyn std::marker::Send + std::marker::Sync + 'static)`: (E0119)\n-  --> $DIR/issue-33140-traitobject-crate.rs:88:1\n+  --> $DIR/issue-33140-traitobject-crate.rs:89:1\n    |\n LL | unsafe impl Trait for dyn (::std::marker::Send) + Send + Sync { }\n    | ------------------------------------------------------------- first implementation here\n@@ -27,7 +27,7 @@ LL | unsafe impl Trait for dyn (::std::marker::Sync) + Send { }\n    = note: for more information, see issue #56484 <https://github.com/rust-lang/rust/issues/56484>\n \n warning: conflicting implementations of trait `Trait` for type `(dyn std::marker::Send + std::marker::Sync + 'static)`: (E0119)\n-  --> $DIR/issue-33140-traitobject-crate.rs:92:1\n+  --> $DIR/issue-33140-traitobject-crate.rs:93:1\n    |\n LL | unsafe impl Trait for dyn (::std::marker::Sync) + Send { }\n    | ------------------------------------------------------ first implementation here"}]}