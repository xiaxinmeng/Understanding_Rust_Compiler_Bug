{"sha": "ef0aaddf691030874e147ca5ee79332fec0c9566", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVmMGFhZGRmNjkxMDMwODc0ZTE0N2NhNWVlNzkzMzJmZWMwYzk1NjY=", "commit": {"author": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2019-02-19T17:13:36Z"}, "committer": {"name": "kennytm", "email": "kennytm@gmail.com", "date": "2019-02-20T03:59:07Z"}, "message": "Rollup merge of #58551 - ssomers:master, r=oli-obk\n\nExplain a panic in test case net::tcp::tests::double_bind\n\nThose who try to build libstd on the Windows Subsystem for Linux experience a single failing test, where the point of failure is an explicit but anonymous panic, as reported in https://github.com/rust-lang/rust/issues/49367\nThis commit somewhat explains why and allows diagnosing a little.", "tree": {"sha": "aab049292b7711e377f7fa190c15726dbc8a9e8d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/aab049292b7711e377f7fa190c15726dbc8a9e8d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ef0aaddf691030874e147ca5ee79332fec0c9566", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEZ1R8CLMp8f2GxWoQ/vbIBR0OATwFAlxs0IsACgkQ/vbIBR0O\nATwCmRAAlOPqb65eHbJ+goDAFWL+b68msgYx97Vzn2QHTqD1bl5+IeByJhMUHHAI\nQLZTEHNWC5Q1WCJ+Im0lbtqNkhd83ee2iP6dnQz859xNl4YGRpHL6Ky/Zx+bXeeX\nNw7z504pQHjvOu9dcP8ozpdLivH2exkiM16bfUHpoYdlCjNRSIzVVPGPveQL6PC9\nQFF9MW3Z/Keqosr6qEUNUbYVSddaIO3u5D7GUR0rzc8/r+2iH7rNl9rQ+4/CHoL9\nftnfhuQFe7QjZAVEUMz+PYuNWtF+Ar/5U/NrBjVU9hbPcYQPIvGpzSboMEGVLqcG\nO8ixdw8N84EDRLGM4V6R3IUsLxurmnQ/bqshzJLqE5nQVeIZX8xeWTBG5a0e1bgh\nHef9TiSvez7PTioFeN2LbCCQghlHFrmIprABtLeV5M7mt8FiAJgkAPnCgtnXjs2b\nIg5NKULHQhzsopJDvgj09HHmggFxj4sQ/4dSnaRLX3w1iHjv/LPxW1NdqxmPK8jS\nE9As/E1WirQjIGf+fWNd2AStRyd5qyjcy88SdAv2Ho2CGGTRq2MjgDmieURnKD+0\n6tzDbx+F5GO2O96Zw8DwwIYzv+zZDGdMjlQwRf7ED0yUaKLykVa3dO416ux5k/Yo\nO5ZkTzOPv4oeoUUc/zvqB64StYBMfcEVVpDBhIy1Ec5X3X9rVKg=\n=N6NP\n-----END PGP SIGNATURE-----", "payload": "tree aab049292b7711e377f7fa190c15726dbc8a9e8d\nparent 836863851574dc8de4d0488a16b949afc4e397a7\nparent 01bebdf19321a1597f35c2fc2130f1627e944bcf\nauthor kennytm <kennytm@gmail.com> 1550596416 +0800\ncommitter kennytm <kennytm@gmail.com> 1550635147 +0800\n\nRollup merge of #58551 - ssomers:master, r=oli-obk\n\nExplain a panic in test case net::tcp::tests::double_bind\n\nThose who try to build libstd on the Windows Subsystem for Linux experience a single failing test, where the point of failure is an explicit but anonymous panic, as reported in https://github.com/rust-lang/rust/issues/49367\nThis commit somewhat explains why and allows diagnosing a little.\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ef0aaddf691030874e147ca5ee79332fec0c9566", "html_url": "https://github.com/rust-lang/rust/commit/ef0aaddf691030874e147ca5ee79332fec0c9566", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ef0aaddf691030874e147ca5ee79332fec0c9566/comments", "author": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "kennytm", "id": 103023, "node_id": "MDQ6VXNlcjEwMzAyMw==", "avatar_url": "https://avatars.githubusercontent.com/u/103023?v=4", "gravatar_id": "", "url": "https://api.github.com/users/kennytm", "html_url": "https://github.com/kennytm", "followers_url": "https://api.github.com/users/kennytm/followers", "following_url": "https://api.github.com/users/kennytm/following{/other_user}", "gists_url": "https://api.github.com/users/kennytm/gists{/gist_id}", "starred_url": "https://api.github.com/users/kennytm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/kennytm/subscriptions", "organizations_url": "https://api.github.com/users/kennytm/orgs", "repos_url": "https://api.github.com/users/kennytm/repos", "events_url": "https://api.github.com/users/kennytm/events{/privacy}", "received_events_url": "https://api.github.com/users/kennytm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "836863851574dc8de4d0488a16b949afc4e397a7", "url": "https://api.github.com/repos/rust-lang/rust/commits/836863851574dc8de4d0488a16b949afc4e397a7", "html_url": "https://github.com/rust-lang/rust/commit/836863851574dc8de4d0488a16b949afc4e397a7"}, {"sha": "01bebdf19321a1597f35c2fc2130f1627e944bcf", "url": "https://api.github.com/repos/rust-lang/rust/commits/01bebdf19321a1597f35c2fc2130f1627e944bcf", "html_url": "https://github.com/rust-lang/rust/commit/01bebdf19321a1597f35c2fc2130f1627e944bcf"}], "stats": {"total": 8, "additions": 6, "deletions": 2}, "files": [{"sha": "3eb2a332d267b848aad1bad6a5f1d38981def6e9", "filename": "src/libstd/net/tcp.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ef0aaddf691030874e147ca5ee79332fec0c9566/src%2Flibstd%2Fnet%2Ftcp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ef0aaddf691030874e147ca5ee79332fec0c9566/src%2Flibstd%2Fnet%2Ftcp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibstd%2Fnet%2Ftcp.rs?ref=ef0aaddf691030874e147ca5ee79332fec0c9566", "patch": "@@ -1187,9 +1187,13 @@ mod tests {\n     #[test]\n     fn double_bind() {\n         each_ip(&mut |addr| {\n-            let _listener = t!(TcpListener::bind(&addr));\n+            let listener1 = t!(TcpListener::bind(&addr));\n             match TcpListener::bind(&addr) {\n-                Ok(..) => panic!(),\n+                Ok(listener2) => panic!(\n+                    \"This system (perhaps due to options set by TcpListener::bind) \\\n+                     permits double binding: {:?} and {:?}\",\n+                    listener1, listener2\n+                ),\n                 Err(e) => {\n                     assert!(e.kind() == ErrorKind::ConnectionRefused ||\n                             e.kind() == ErrorKind::Other ||"}]}