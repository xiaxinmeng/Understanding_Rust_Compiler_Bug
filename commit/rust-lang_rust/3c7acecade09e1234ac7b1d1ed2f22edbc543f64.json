{"sha": "3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "node_id": "MDY6Q29tbWl0NzI0NzEyOjNjN2FjZWNhZGUwOWUxMjM0YWM3YjFkMWVkMmYyMmVkYmM1NDNmNjQ=", "commit": {"author": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2019-01-25T20:43:09Z"}, "committer": {"name": "bors[bot]", "email": "bors[bot]@users.noreply.github.com", "date": "2019-01-25T20:43:09Z"}, "message": "Merge #656\n\n656: :arrow_up deps r=matklad a=matklad\n\n\n\nCo-authored-by: Aleksey Kladov <aleksey.kladov@gmail.com>", "tree": {"sha": "462edbf67d8647a21c16720d621a164293651c79", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/462edbf67d8647a21c16720d621a164293651c79"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "html_url": "https://github.com/rust-lang/rust/commit/3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/comments", "author": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "committer": {"login": "bors[bot]", "id": 26634292, "node_id": "MDM6Qm90MjY2MzQyOTI=", "avatar_url": "https://avatars.githubusercontent.com/in/1847?v=4", "gravatar_id": "", "url": "https://api.github.com/users/bors%5Bbot%5D", "html_url": "https://github.com/apps/bors", "followers_url": "https://api.github.com/users/bors%5Bbot%5D/followers", "following_url": "https://api.github.com/users/bors%5Bbot%5D/following{/other_user}", "gists_url": "https://api.github.com/users/bors%5Bbot%5D/gists{/gist_id}", "starred_url": "https://api.github.com/users/bors%5Bbot%5D/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/bors%5Bbot%5D/subscriptions", "organizations_url": "https://api.github.com/users/bors%5Bbot%5D/orgs", "repos_url": "https://api.github.com/users/bors%5Bbot%5D/repos", "events_url": "https://api.github.com/users/bors%5Bbot%5D/events{/privacy}", "received_events_url": "https://api.github.com/users/bors%5Bbot%5D/received_events", "type": "Bot", "site_admin": false}, "parents": [{"sha": "d0ddc5a7c1e3f3df09f4e3637cc80459d8273310", "url": "https://api.github.com/repos/rust-lang/rust/commits/d0ddc5a7c1e3f3df09f4e3637cc80459d8273310", "html_url": "https://github.com/rust-lang/rust/commit/d0ddc5a7c1e3f3df09f4e3637cc80459d8273310"}, {"sha": "c2474fcd386a267cf49f6d9d47ca6ff4585ca330", "url": "https://api.github.com/repos/rust-lang/rust/commits/c2474fcd386a267cf49f6d9d47ca6ff4585ca330", "html_url": "https://github.com/rust-lang/rust/commit/c2474fcd386a267cf49f6d9d47ca6ff4585ca330"}], "stats": {"total": 166, "additions": 88, "deletions": 78}, "files": [{"sha": "3b8df0c8a0f380d5b30db12ce3acea5301db5be9", "filename": "Cargo.lock", "status": "modified", "additions": 65, "deletions": 58, "changes": 123, "blob_url": "https://github.com/rust-lang/rust/blob/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "patch": "@@ -32,7 +32,7 @@ name = \"atty\"\n version = \"0.2.11\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"termion 1.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -50,7 +50,7 @@ dependencies = [\n  \"autocfg 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"backtrace-sys 0.1.28 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"cfg-if 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-demangle 0.1.13 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -61,12 +61,12 @@ version = \"0.1.28\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cc 1.0.28 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"base64\"\n-version = \"0.10.0\"\n+version = \"0.10.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"byteorder 1.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -111,14 +111,14 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"cargo_metadata\"\n-version = \"0.7.0\"\n+version = \"0.7.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"error-chain 0.12.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.85 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_derive 1.0.85 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.36 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -167,7 +167,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"atty 0.2.11 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -188,7 +188,7 @@ dependencies = [\n  \"clicolors-control 1.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"encode_unicode 0.3.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"parking_lot 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"regex 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"termios 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -381,9 +381,9 @@ dependencies = [\n  \"crossbeam-channel 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"lsp-types 0.55.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"lsp-types 0.55.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.85 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.36 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -451,7 +451,7 @@ dependencies = [\n  \"pest_derive 2.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"ron 0.4.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.85 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.36 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_yaml 0.8.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -480,7 +480,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"libc\"\n-version = \"0.2.47\"\n+version = \"0.2.48\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n@@ -507,15 +507,15 @@ dependencies = [\n \n [[package]]\n name = \"lsp-types\"\n-version = \"0.55.0\"\n+version = \"0.55.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"bitflags 1.0.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num-derive 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num-traits 0.2.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.85 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde_derive 1.0.85 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.36 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.7.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url_serde 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -536,15 +536,15 @@ version = \"2.1.3\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cfg-if 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"memmap\"\n version = \"0.6.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -587,7 +587,7 @@ name = \"num_cpus\"\n version = \"1.9.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -612,7 +612,7 @@ name = \"parking_lot_core\"\n version = \"0.4.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand 0.6.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc_version 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"smallvec 0.6.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -726,7 +726,7 @@ dependencies = [\n  \"ra_syntax 0.1.0\",\n  \"relative-path 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-hash 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"salsa 0.10.0-alpha3 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"salsa 0.10.0-alpha4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"test_utils 0.1.0\",\n ]\n \n@@ -746,7 +746,6 @@ dependencies = [\n  \"ra_syntax 0.1.0\",\n  \"relative-path 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-hash 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"salsa 0.10.0-alpha3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"test_utils 0.1.0\",\n ]\n \n@@ -768,7 +767,6 @@ dependencies = [\n  \"rayon 1.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"relative-path 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-hash 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"salsa 0.10.0-alpha3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"test_utils 0.1.0\",\n  \"unicase 2.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -792,7 +790,7 @@ dependencies = [\n name = \"ra_lsp_server\"\n version = \"0.1.0\"\n dependencies = [\n- \"cargo_metadata 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"cargo_metadata 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"crossbeam-channel 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"drop_bomb 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"failure 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -801,7 +799,7 @@ dependencies = [\n  \"gen_lsp_server 0.1.0\",\n  \"im 12.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"log 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"lsp-types 0.55.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"lsp-types 0.55.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"parking_lot 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"ra_arena 0.1.0\",\n  \"ra_ide_api 0.1.0\",\n@@ -811,7 +809,7 @@ dependencies = [\n  \"relative-path 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-hash 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.85 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.36 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"tempfile 3.0.5 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"test_utils 0.1.0\",\n  \"thread_worker 0.1.0\",\n@@ -867,7 +865,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cloudabi 0.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"fuchsia-zircon 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand_core 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -878,9 +876,9 @@ version = \"0.6.4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"autocfg 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand_chacha 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rand_core 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand_hc 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand_isaac 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand_os 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -895,36 +893,44 @@ version = \"0.1.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"autocfg 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rand_core 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rand_core\"\n version = \"0.2.2\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"rand_core 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n+]\n+\n+[[package]]\n+name = \"rand_core\"\n+version = \"0.3.1\"\n+source = \"registry+https://github.com/rust-lang/crates.io-index\"\n+dependencies = [\n+ \"rand_core 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rand_core\"\n-version = \"0.3.0\"\n+version = \"0.4.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"rand_hc\"\n version = \"0.1.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"rand_core 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"rand_isaac\"\n version = \"0.1.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"rand_core 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -934,8 +940,8 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cloudabi 0.0.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"fuchsia-zircon 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"rand_core 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rdrand 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -945,7 +951,7 @@ name = \"rand_pcg\"\n version = \"0.1.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"rand_core 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc_version 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -954,7 +960,7 @@ name = \"rand_xorshift\"\n version = \"0.1.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"rand_core 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -974,7 +980,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"crossbeam-deque 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"lazy_static 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"num_cpus 1.9.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -983,7 +989,7 @@ name = \"rdrand\"\n version = \"0.4.0\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"rand_core 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1037,7 +1043,7 @@ name = \"ron\"\n version = \"0.4.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"base64 0.10.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"base64 0.10.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"bitflags 1.0.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.85 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -1091,7 +1097,7 @@ source = \"registry+https://github.com/rust-lang/crates.io-index\"\n \n [[package]]\n name = \"salsa\"\n-version = \"0.10.0-alpha3\"\n+version = \"0.10.0-alpha4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"derive-new 0.5.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1100,13 +1106,13 @@ dependencies = [\n  \"log 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"parking_lot 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rustc-hash 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"salsa-macros 0.10.0-alpha3 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"salsa-macros 0.10.0-alpha4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"smallvec 0.6.8 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n name = \"salsa-macros\"\n-version = \"0.10.0-alpha3\"\n+version = \"0.10.0-alpha4\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"heck 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1162,7 +1168,7 @@ dependencies = [\n \n [[package]]\n name = \"serde_json\"\n-version = \"1.0.36\"\n+version = \"1.0.37\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"itoa 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1258,7 +1264,7 @@ version = \"3.0.5\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n  \"cfg-if 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"rand 0.6.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"redox_syscall 0.1.51 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"remove_dir_all 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1279,7 +1285,7 @@ dependencies = [\n  \"pest_derive 2.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"regex 1.1.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"serde 1.0.85 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.36 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"slug 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"unic-segment 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"url 1.7.2 (registry+https://github.com/rust-lang/crates.io-index)\",\n@@ -1301,7 +1307,7 @@ name = \"termion\"\n version = \"1.5.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"redox_syscall 0.1.51 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"redox_termios 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -1311,7 +1317,7 @@ name = \"termios\"\n version = \"0.3.1\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1320,7 +1326,7 @@ version = \"0.1.0\"\n dependencies = [\n  \"difference 2.0.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"itertools 0.8.0 (registry+https://github.com/rust-lang/crates.io-index)\",\n- \"serde_json 1.0.36 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"serde_json 1.0.37 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"text_unit 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n@@ -1370,7 +1376,7 @@ name = \"time\"\n version = \"0.1.42\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"redox_syscall 0.1.51 (registry+https://github.com/rust-lang/crates.io-index)\",\n  \"winapi 0.3.6 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n@@ -1536,7 +1542,7 @@ name = \"wait-timeout\"\n version = \"0.1.5\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n dependencies = [\n- \"libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\",\n+ \"libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\",\n ]\n \n [[package]]\n@@ -1593,14 +1599,14 @@ dependencies = [\n \"checksum autocfg 0.1.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a6d640bee2da49f60a4068a7fae53acde8982514ab7bae8b8cea9e88cbcfd799\"\n \"checksum backtrace 0.3.13 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b5b493b66e03090ebc4343eb02f94ff944e0cbc9ac6571491d170ba026741eb5\"\n \"checksum backtrace-sys 0.1.28 (registry+https://github.com/rust-lang/crates.io-index)\" = \"797c830ac25ccc92a7f8a7b9862bde440715531514594a6154e3d4a54dd769b6\"\n-\"checksum base64 0.10.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"621fc7ecb8008f86d7fb9b95356cd692ce9514b80a86d85b397f32a22da7b9e2\"\n+\"checksum base64 0.10.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0b25d992356d2eb0ed82172f5248873db5560c4721f564b13cb5193bda5e668e\"\n \"checksum bit-set 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"6f1efcc46c18245a69c38fcc5cc650f16d3a59d034f3106e9ed63748f695730a\"\n \"checksum bit-vec 0.5.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4440d5cb623bb7390ae27fec0bb6c61111969860f8e3ae198bfa0663645e67cf\"\n \"checksum bitflags 1.0.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"228047a76f468627ca71776ecdebd732a3423081fcf5125585bcd7c49886ce12\"\n \"checksum block-buffer 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a076c298b9ecdb530ed9d967e74a6027d6a7478924520acddcddc24c1c8ab3ab\"\n \"checksum byte-tools 0.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"560c32574a12a89ecd91f5e742165893f86e3ab98d21f8ea548658eb9eef5f40\"\n \"checksum byteorder 1.3.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a019b10a2a7cdeb292db131fc8113e57ea2a908f6e7894b0c3c671893b65dbeb\"\n-\"checksum cargo_metadata 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"95932a7ed5f2308fc00a46d2aa8eb1b06b402c896c2df424916ee730ba610c2e\"\n+\"checksum cargo_metadata 0.7.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"585784cac9b05c93a53b17a0b24a5cdd1dfdda5256f030e089b549d2390cc720\"\n \"checksum cc 1.0.28 (registry+https://github.com/rust-lang/crates.io-index)\" = \"bb4a8b715cb4597106ea87c7c84b2f1d452c7492033765df7f32651e66fcf749\"\n \"checksum cfg-if 0.1.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"082bb9b28e00d3c9d39cc03e64ce4cea0f1bb9b3fde493f0cbc008472d22bdf4\"\n \"checksum chrono 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"45912881121cb26fad7c38c17ba7daa18764771836b34fab7d3fbd93ed633878\"\n@@ -1644,11 +1650,11 @@ dependencies = [\n \"checksum itoa 0.4.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1306f3464951f30e30d12373d31c79fbd52d236e5e896fd92f96ec7babbbe60b\"\n \"checksum join_to_string 0.1.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4dc7a5290e8c2606ce2be49f456d50f69173cb96d1541e4f66e34ac8b331a98f\"\n \"checksum lazy_static 1.2.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a374c89b9db55895453a74c1e38861d9deec0b01b405a82516e9d5de4820dea1\"\n-\"checksum libc 0.2.47 (registry+https://github.com/rust-lang/crates.io-index)\" = \"48450664a984b25d5b479554c29cc04e3150c97aa4c01da5604a2d4ed9151476\"\n+\"checksum libc 0.2.48 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e962c7641008ac010fa60a7dfdc1712449f29c44ef2d4702394aea943ee75047\"\n \"checksum linked-hash-map 0.5.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"70fb39025bc7cdd76305867c4eccf2f2dcf6e9a57f5b21a93e1c2d86cd03ec9e\"\n \"checksum lock_api 0.1.5 (registry+https://github.com/rust-lang/crates.io-index)\" = \"62ebf1391f6acad60e5c8b43706dde4582df75c06698ab44511d15016bc2442c\"\n \"checksum log 0.4.6 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c84ec4b527950aa83a329754b01dbe3f58361d1c5efacd1f6d68c494d08a17c6\"\n-\"checksum lsp-types 0.55.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"78455d7df2e41e103ccf893abdeb93981f0bbeb228884230e9fc5ff71546fd55\"\n+\"checksum lsp-types 0.55.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3ca49aeb430780992121d582520170411658b1e41bf968b917d85fd0fb6da3c5\"\n \"checksum maplit 1.0.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"08cbb6b4fef96b6d77bfc40ec491b1690c779e77b05cd9f07f787ed376fd4c43\"\n \"checksum matches 0.1.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7ffc5c5338469d4d3ea17d269fa8ea3512ad247247c30bd2df69e68309ed0a08\"\n \"checksum memchr 2.1.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"e1dd4eaac298c32ce07eb6ed9242eda7d82955b9170b7d6db59b2e02cc63fcb8\"\n@@ -1675,7 +1681,8 @@ dependencies = [\n \"checksum rand 0.6.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3906503e80ac6cbcacb2c2973fa8e473f24d7e2747c8c92bb230c2441cad96b5\"\n \"checksum rand_chacha 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"556d3a1ca6600bfcbab7c7c91ccb085ac7fbbcd70e008a98742e7847f4f7bcef\"\n \"checksum rand_core 0.2.2 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1961a422c4d189dfb50ffa9320bf1f2a9bd54ecb92792fb9477f99a1045f3372\"\n-\"checksum rand_core 0.3.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0905b6b7079ec73b314d4c748701f6931eb79fd97c668caa3f1899b22b32c6db\"\n+\"checksum rand_core 0.3.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7a6fdeb83b075e8266dcc8762c22776f6877a63111121f5f8c7411e5be7eed4b\"\n+\"checksum rand_core 0.4.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"d0e7a549d590831370895ab7ba4ea0c1b6b011d106b5ff2da6eee112615e6dc0\"\n \"checksum rand_hc 0.1.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"7b40677c7be09ae76218dc623efbf7b18e34bced3f38883af07bb75630a21bc4\"\n \"checksum rand_isaac 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"ded997c9d5f13925be2a6fd7e66bf1872597f759fd9dd93513dd7e92e5a5ee08\"\n \"checksum rand_os 0.1.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"f46fbd5550acf75b0c2730f5dd1873751daf9beb8f11b44027778fae50d7feca\"\n@@ -1697,15 +1704,15 @@ dependencies = [\n \"checksum rustc_version 0.2.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"138e3e0acb6c9fb258b19b67cb8abd63c00679d2851805ea151465464fe9030a\"\n \"checksum rusty-fork 0.2.1 (registry+https://github.com/rust-lang/crates.io-index)\" = \"9591f190d2852720b679c21f66ad929f9f1d7bb09d1193c26167586029d8489c\"\n \"checksum ryu 0.2.7 (registry+https://github.com/rust-lang/crates.io-index)\" = \"eb9e9b8cde282a9fe6a42dd4681319bfb63f121b8a8ee9439c6f4107e58a46f7\"\n-\"checksum salsa 0.10.0-alpha3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"135c0977b23f8a9dc16744dd5495989110e3763ba5ea41e386741c7f8901e285\"\n-\"checksum salsa-macros 0.10.0-alpha3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"c9c93b5efed7281334c4bed8470b278076d1ccd6a60da59a15cd0d57792afff8\"\n+\"checksum salsa 0.10.0-alpha4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"3f442595eae948da8fbb2aa1e13940d9d2d70031753a27a5d1434f91b706ff12\"\n+\"checksum salsa-macros 0.10.0-alpha4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"2e6c1a1bee4eb44881438e80c1a26db1c3b957b6cc51765615d429019babdec2\"\n \"checksum same-file 1.0.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"8f20c4be53a8a1ff4c1f1b2bd14570d2f634628709752f0702ecdd2b3f9a5267\"\n \"checksum scopeguard 0.3.3 (registry+https://github.com/rust-lang/crates.io-index)\" = \"94258f53601af11e6a49f722422f6e3425c52b06245a5cf9bc09908b174f5e27\"\n \"checksum semver 0.9.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"1d7eb9ef2c18661902cc47e535f9bc51b78acd254da71d375c2f6720d9a40403\"\n \"checksum semver-parser 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"388a1df253eca08550bef6c72392cfe7c30914bf41df5269b68cbd6ff8f570a3\"\n \"checksum serde 1.0.85 (registry+https://github.com/rust-lang/crates.io-index)\" = \"534b8b91a95e0f71bca3ed5824752d558da048d4248c91af873b63bd60519752\"\n \"checksum serde_derive 1.0.85 (registry+https://github.com/rust-lang/crates.io-index)\" = \"a915306b0f1ac5607797697148c223bedeaa36bcc2e28a01441cd638cc6567b4\"\n-\"checksum serde_json 1.0.36 (registry+https://github.com/rust-lang/crates.io-index)\" = \"574378d957d6dcdf1bbb5d562a15cbd5e644159432f84634b94e485267abbcc7\"\n+\"checksum serde_json 1.0.37 (registry+https://github.com/rust-lang/crates.io-index)\" = \"4b90a9fbe1211e57d3e1c15670f1cb00802988fb23a1a4aad7a2b63544f1920e\"\n \"checksum serde_yaml 0.8.8 (registry+https://github.com/rust-lang/crates.io-index)\" = \"0887a8e097a69559b56aa2526bf7aff7c3048cf627dff781f0b56a6001534593\"\n \"checksum sha-1 0.7.0 (registry+https://github.com/rust-lang/crates.io-index)\" = \"51b9d1f3b5de8a167ab06834a7c883bd197f2191e1dda1a22d9ccfeedbf9aded\"\n \"checksum slug 0.1.4 (registry+https://github.com/rust-lang/crates.io-index)\" = \"b3bc762e6a4b6c6fcaade73e77f9ebc6991b676f88bb2358bddb56560f073373\""}, {"sha": "9aa77f72e08a41fdcc644db5b1ee34af50e85760", "filename": "crates/ra_db/Cargo.toml", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_db%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_db%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_db%2FCargo.toml?ref=3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "patch": "@@ -6,9 +6,10 @@ authors = [\"Aleksey Kladov <aleksey.kladov@gmail.com>\"]\n \n [dependencies]\n relative-path = \"0.4.0\"\n-salsa = \"0.10.0-alpha3\"\n+salsa = \"0.10.0-alpha4\"\n rustc-hash = \"1.0\"\n parking_lot = \"0.7.0\"\n+\n ra_arena = { path = \"../ra_arena\" }\n ra_syntax = { path = \"../ra_syntax\" }\n test_utils = { path = \"../test_utils\" }"}, {"sha": "3a0aa7d24683f504959aff03ca27d9a4b69e2268", "filename": "crates/ra_db/src/lib.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_db%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_db%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_db%2Fsrc%2Flib.rs?ref=3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "patch": "@@ -63,7 +63,7 @@ pub struct FileRange {\n     pub range: TextRange,\n }\n \n-#[salsa::query_group]\n+#[salsa::query_group(FilesDatabaseStorage)]\n pub trait FilesDatabase: salsa::Database {\n     /// Text of the file.\n     #[salsa::input]\n@@ -102,7 +102,7 @@ fn source_root_crates(db: &impl FilesDatabase, id: SourceRootId) -> Arc<Vec<Crat\n     Arc::new(res)\n }\n \n-#[salsa::query_group]\n+#[salsa::query_group(SyntaxDatabaseStorage)]\n pub trait SyntaxDatabase: FilesDatabase + BaseDatabase {\n     fn source_file(&self, file_id: FileId) -> TreeArc<SourceFile>;\n }"}, {"sha": "57a4b155bb7643d3da5bedc46f24db5cb8005add", "filename": "crates/ra_hir/Cargo.toml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_hir%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_hir%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2FCargo.toml?ref=3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "patch": "@@ -12,7 +12,6 @@ rustc-hash = \"1.0\"\n parking_lot = \"0.7.0\"\n ena = \"0.11\"\n join_to_string = \"0.1.3\"\n-salsa = \"0.10.0-alpha3\"\n \n ra_syntax = { path = \"../ra_syntax\" }\n ra_arena = { path = \"../ra_arena\" }"}, {"sha": "dfbf41bd661cc4cea51b762557d0aa85b3491abd", "filename": "crates/ra_hir/src/db.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_hir%2Fsrc%2Fdb.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_hir%2Fsrc%2Fdb.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fdb.rs?ref=3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "patch": "@@ -18,7 +18,7 @@ use crate::{\n     generics::{GenericParams, GenericDef},\n };\n \n-#[salsa::query_group]\n+#[salsa::query_group(HirDatabaseStorage)]\n pub trait HirDatabase: SyntaxDatabase + AsRef<HirInterner> {\n     #[salsa::invoke(HirFileId::hir_source_file)]\n     fn hir_source_file(&self, file_id: HirFileId) -> TreeArc<SourceFile>;"}, {"sha": "2dc252b1ee8a49ec92a24110d1b487799aaefce6", "filename": "crates/ra_hir/src/mock.rs", "status": "modified", "additions": 6, "deletions": 2, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_hir%2Fsrc%2Fmock.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_hir%2Fsrc%2Fmock.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_hir%2Fsrc%2Fmock.rs?ref=3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "patch": "@@ -2,7 +2,7 @@ use std::{sync::Arc, panic};\n \n use parking_lot::Mutex;\n use ra_db::{\n-    BaseDatabase, FilePosition, FileId, CrateGraph, SourceRoot, SourceRootId, FilesDatabase,\n+    BaseDatabase, FilePosition, FileId, CrateGraph, SourceRoot, SourceRootId, FilesDatabase, salsa,\n };\n use relative_path::RelativePathBuf;\n use test_utils::{parse_fixture, CURSOR_MARKER, extract_offset};\n@@ -11,7 +11,11 @@ use crate::{db, HirInterner};\n \n pub const WORKSPACE: SourceRootId = SourceRootId(0);\n \n-#[salsa::database(ra_db::FilesDatabase, ra_db::SyntaxDatabase, db::HirDatabase)]\n+#[salsa::database(\n+    ra_db::FilesDatabaseStorage,\n+    ra_db::SyntaxDatabaseStorage,\n+    db::HirDatabaseStorage\n+)]\n #[derive(Debug)]\n pub(crate) struct MockDatabase {\n     events: Mutex<Option<Vec<salsa::Event<MockDatabase>>>>,"}, {"sha": "79e473463fba22a2285b332f9d8d1b601bf8689c", "filename": "crates/ra_ide_api/Cargo.toml", "status": "modified", "additions": 0, "deletions": 1, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_ide_api%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_ide_api%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2FCargo.toml?ref=3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "patch": "@@ -14,7 +14,6 @@ fst = \"0.3.1\"\n rustc-hash = \"1.0\"\n parking_lot = \"0.7.0\"\n unicase = \"2.2.0\"\n-salsa = \"0.10.0-alpha3\"\n \n ra_syntax = { path = \"../ra_syntax\" }\n ra_ide_api_light = { path = \"../ra_ide_api_light\" }"}, {"sha": "30891aed49e5ba2cc9d5be8980f8bca72dd48c21", "filename": "crates/ra_ide_api/src/db.rs", "status": "modified", "additions": 6, "deletions": 6, "changes": 12, "blob_url": "https://github.com/rust-lang/rust/blob/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_ide_api%2Fsrc%2Fdb.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_ide_api%2Fsrc%2Fdb.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fdb.rs?ref=3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "patch": "@@ -8,11 +8,11 @@ use ra_db::{\n use crate::{symbol_index, LineIndex};\n \n #[salsa::database(\n-    ra_db::FilesDatabase,\n-    ra_db::SyntaxDatabase,\n-    LineIndexDatabase,\n-    symbol_index::SymbolsDatabase,\n-    hir::db::HirDatabase\n+    ra_db::FilesDatabaseStorage,\n+    ra_db::SyntaxDatabaseStorage,\n+    LineIndexDatabaseStorage,\n+    symbol_index::SymbolsDatabaseStorage,\n+    hir::db::HirDatabaseStorage\n )]\n #[derive(Debug)]\n pub(crate) struct RootDatabase {\n@@ -62,7 +62,7 @@ impl AsRef<hir::HirInterner> for RootDatabase {\n     }\n }\n \n-#[salsa::query_group]\n+#[salsa::query_group(LineIndexDatabaseStorage)]\n pub(crate) trait LineIndexDatabase: ra_db::FilesDatabase + BaseDatabase {\n     fn line_index(&self, file_id: FileId) -> Arc<LineIndex>;\n }"}, {"sha": "bd9e3f1e3c789fc1e45bbc325acd63352d30ada7", "filename": "crates/ra_ide_api/src/imp.rs", "status": "modified", "additions": 5, "deletions": 5, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_ide_api%2Fsrc%2Fimp.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_ide_api%2Fsrc%2Fimp.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fimp.rs?ref=3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "patch": "@@ -5,7 +5,7 @@ use hir::{\n };\n use ra_db::{\n     FilesDatabase, SourceRoot, SourceRootId, SyntaxDatabase,\n-    salsa::Database,\n+    salsa::{Database, SweepStrategy},\n };\n use ra_ide_api_light::{self, assists, LocalEdit, Severity};\n use ra_syntax::{\n@@ -77,13 +77,13 @@ impl db::RootDatabase {\n     /// for some reason. Needs investigation.\n     pub(crate) fn collect_garbage(&mut self) {\n         self.query(ra_db::SourceFileQuery)\n-            .sweep(salsa::SweepStrategy::default().discard_values());\n+            .sweep(SweepStrategy::default().discard_values());\n         self.query(hir::db::HirSourceFileQuery)\n-            .sweep(salsa::SweepStrategy::default().discard_values());\n+            .sweep(SweepStrategy::default().discard_values());\n         self.query(hir::db::FileItemsQuery)\n-            .sweep(salsa::SweepStrategy::default().discard_values());\n+            .sweep(SweepStrategy::default().discard_values());\n         self.query(hir::db::FileItemQuery)\n-            .sweep(salsa::SweepStrategy::default().discard_values());\n+            .sweep(SweepStrategy::default().discard_values());\n     }\n }\n "}, {"sha": "e073a349ef3479a983f7d80f4e3ec3e3f4b1fabb", "filename": "crates/ra_ide_api/src/symbol_index.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_ide_api%2Fsrc%2Fsymbol_index.rs", "raw_url": "https://github.com/rust-lang/rust/raw/3c7acecade09e1234ac7b1d1ed2f22edbc543f64/crates%2Fra_ide_api%2Fsrc%2Fsymbol_index.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_ide_api%2Fsrc%2Fsymbol_index.rs?ref=3c7acecade09e1234ac7b1d1ed2f22edbc543f64", "patch": "@@ -44,7 +44,7 @@ use crate::{\n     db::RootDatabase,\n };\n \n-#[salsa::query_group]\n+#[salsa::query_group(SymbolsDatabaseStorage)]\n pub(crate) trait SymbolsDatabase: hir::db::HirDatabase {\n     fn file_symbols(&self, file_id: FileId) -> Arc<SymbolIndex>;\n     #[salsa::input]"}]}