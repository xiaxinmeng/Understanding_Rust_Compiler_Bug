{"sha": "2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "node_id": "MDY6Q29tbWl0NzI0NzEyOjJmMWIzNGNjMTVkOWNlOGRhZWNmYjc4NTU5NTdhMzZlNmUxMGYyZTU=", "commit": {"author": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2018-03-13T18:22:43Z"}, "committer": {"name": "Eric Huss", "email": "eric@huss.org", "date": "2018-03-14T19:23:29Z"}, "message": "Add backticks to `main` not found errors.", "tree": {"sha": "c8a1b683eb3572c811c667030263583eee74ab60", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/c8a1b683eb3572c811c667030263583eee74ab60"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "html_url": "https://github.com/rust-lang/rust/commit/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/comments", "author": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "committer": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "b08e6d305f8366c8fa7e08d829bb0c6939124759", "url": "https://api.github.com/repos/rust-lang/rust/commits/b08e6d305f8366c8fa7e08d829bb0c6939124759", "html_url": "https://github.com/rust-lang/rust/commit/b08e6d305f8366c8fa7e08d829bb0c6939124759"}], "stats": {"total": 30, "additions": 15, "deletions": 15}, "files": [{"sha": "37d79f408f3f00a7ab1487869e690ce6a07672e1", "filename": "src/librustc/middle/entry.rs", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Flibrustc%2Fmiddle%2Fentry.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Flibrustc%2Fmiddle%2Fentry.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustc%2Fmiddle%2Fentry.rs?ref=2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "patch": "@@ -165,7 +165,7 @@ fn configure_main(this: &mut EntryContext, crate_name: &str) {\n     } else {\n         // No main function\n         let mut err = struct_err!(this.session, E0601,\n-            \"main function not found in crate {}\", crate_name);\n+            \"`main` function not found in crate `{}`\", crate_name);\n         if !this.non_main_fns.is_empty() {\n             // There were some functions named 'main' though. Try to give the user a hint.\n             err.note(\"the main function must be defined at the crate level \\\n@@ -179,7 +179,7 @@ fn configure_main(this: &mut EntryContext, crate_name: &str) {\n             this.session.abort_if_errors();\n         } else {\n             if let Some(ref filename) = this.session.local_crate_source_file {\n-                err.note(&format!(\"consider adding a main function to {}\", filename.display()));\n+                err.note(&format!(\"consider adding a `main` function to `{}`\", filename.display()));\n             }\n             if this.session.teach(&err.get_code().unwrap()) {\n                 err.note(\"If you don't know the basics of Rust, you can go look to the Rust Book \\"}, {"sha": "58a62d45ea5d7486a0137630e50e2daea0e77807", "filename": "src/test/compile-fail/cfg-attr-cfg-2.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fcompile-fail%2Fcfg-attr-cfg-2.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fcompile-fail%2Fcfg-attr-cfg-2.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcfg-attr-cfg-2.rs?ref=2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n //\n-// error-pattern: main function not found\n+// error-pattern: `main` function not found\n // compile-flags: --cfg foo\n \n // main is conditionally compiled, but the conditional compilation"}, {"sha": "bbccf2bcd0f81cbece38edec4204da7c6df335fe", "filename": "src/test/compile-fail/cfg-in-crate-1.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fcompile-fail%2Fcfg-in-crate-1.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fcompile-fail%2Fcfg-in-crate-1.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fcfg-in-crate-1.rs?ref=2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "patch": "@@ -8,6 +8,6 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern:main function not found\n+// error-pattern: `main` function not found\n \n #![cfg(bar)]"}, {"sha": "0cdd0010a745da0b1054ded1bb4563e7a05451a1", "filename": "src/test/compile-fail/elided-test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fcompile-fail%2Felided-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fcompile-fail%2Felided-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Felided-test.rs?ref=2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: main function not found\n+// error-pattern: `main` function not found\n \n // Since we're not compiling a test runner this function should be elided\n // and the build will fail because main doesn't exist"}, {"sha": "2788a5c2d58544aae9df7f564eae54944b90804b", "filename": "src/test/compile-fail/missing-main.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fcompile-fail%2Fmissing-main.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fcompile-fail%2Fmissing-main.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fcompile-fail%2Fmissing-main.rs?ref=2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "patch": "@@ -8,5 +8,5 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern:main function not found\n+// error-pattern: `main` function not found\n fn mian() { }"}, {"sha": "6fe05d2dc8e0310deae21057bdb63d96ca237ec3", "filename": "src/test/ui/error-codes/E0601.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Ferror-codes%2FE0601.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Ferror-codes%2FE0601.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ferror-codes%2FE0601.stderr?ref=2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "patch": "@@ -1,6 +1,6 @@\n-error[E0601]: main function not found in crate E0601\n+error[E0601]: `main` function not found in crate `E0601`\n    |\n-   = note: consider adding a main function to $DIR/E0601.rs\n+   = note: consider adding a `main` function to `$DIR/E0601.rs`\n \n error: aborting due to previous error\n "}, {"sha": "6c22679933874e0b57ae6ca2527c84016fa273fa", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-bench.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.rs?ref=2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: main function not found\n+// error-pattern: `main` function not found\n \n // At time of authorship, a crate-level #![bench] with no `--test`\n // will cause compilation to error unconditionally with \"main function"}, {"sha": "503ef020d960419b15c930b05125d292a028c1e3", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-bench.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-bench.stderr?ref=2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "patch": "@@ -1,6 +1,6 @@\n-error[E0601]: main function not found in crate issue_43106_gating_of_bench\n+error[E0601]: `main` function not found in crate `issue_43106_gating_of_bench`\n    |\n-   = note: consider adding a main function to $DIR/issue-43106-gating-of-bench.rs\n+   = note: consider adding a `main` function to `$DIR/issue-43106-gating-of-bench.rs`\n \n error: aborting due to previous error\n "}, {"sha": "06632396249a55a5a3ed9dec9ff42f0b517cf9ef", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-test.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.rs", "raw_url": "https://github.com/rust-lang/rust/raw/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.rs?ref=2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "patch": "@@ -8,7 +8,7 @@\n // option. This file may not be copied, modified, or distributed\n // except according to those terms.\n \n-// error-pattern: main function not found\n+// error-pattern: `main` function not found\n \n // At time of authorship, crate-level #[test] attribute with no\n // `--test` signals unconditional error complaining of missing main"}, {"sha": "2ab35be43c576dfcfc576fa1f7b9bc6a2d7b8551", "filename": "src/test/ui/feature-gate/issue-43106-gating-of-test.stderr", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Ffeature-gate%2Fissue-43106-gating-of-test.stderr?ref=2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "patch": "@@ -1,6 +1,6 @@\n-error[E0601]: main function not found in crate issue_43106_gating_of_test\n+error[E0601]: `main` function not found in crate `issue_43106_gating_of_test`\n    |\n-   = note: consider adding a main function to $DIR/issue-43106-gating-of-test.rs\n+   = note: consider adding a `main` function to `$DIR/issue-43106-gating-of-test.rs`\n \n error: aborting due to previous error\n "}, {"sha": "a5ef92f14bbc58628de60b58dad9ba10129e7cb4", "filename": "src/test/ui/main-wrong-location.stderr", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Fmain-wrong-location.stderr", "raw_url": "https://github.com/rust-lang/rust/raw/2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5/src%2Ftest%2Fui%2Fmain-wrong-location.stderr", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fui%2Fmain-wrong-location.stderr?ref=2f1b34cc15d9ce8daecfb7855957a36e6e10f2e5", "patch": "@@ -1,4 +1,4 @@\n-error[E0601]: main function not found in crate main_wrong_location\n+error[E0601]: `main` function not found in crate `main_wrong_location`\n    |\n    = note: the main function must be defined at the crate level but you have one or more functions named 'main' that are not defined at the crate level. Either move the definition or attach the `#[main]` attribute to override this behavior.\n note: here is a function named 'main'"}]}