{"sha": "74ab27c26930e8697b25a0938305b722fc080567", "node_id": "C_kwDOAAsO6NoAKDc0YWIyN2MyNjkzMGU4Njk3YjI1YTA5MzgzMDViNzIyZmMwODA1Njc", "commit": {"author": {"name": "Nilstrieb", "email": "48135649+Nilstrieb@users.noreply.github.com", "date": "2023-05-16T17:23:38Z"}, "committer": {"name": "Nilstrieb", "email": "48135649+Nilstrieb@users.noreply.github.com", "date": "2023-05-16T17:53:38Z"}, "message": "Remove `LangItems::require`\n\nIt's just a short wrapper used by `tcx.require_lang_item`. Deleting it\ngives us a negative diff.", "tree": {"sha": "5ef2977375c6e74957165a5e8509890460a3fe7b", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5ef2977375c6e74957165a5e8509890460a3fe7b"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/74ab27c26930e8697b25a0938305b722fc080567", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/74ab27c26930e8697b25a0938305b722fc080567", "html_url": "https://github.com/rust-lang/rust/commit/74ab27c26930e8697b25a0938305b722fc080567", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/74ab27c26930e8697b25a0938305b722fc080567/comments", "author": {"login": "Nilstrieb", "id": 48135649, "node_id": "MDQ6VXNlcjQ4MTM1NjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/48135649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nilstrieb", "html_url": "https://github.com/Nilstrieb", "followers_url": "https://api.github.com/users/Nilstrieb/followers", "following_url": "https://api.github.com/users/Nilstrieb/following{/other_user}", "gists_url": "https://api.github.com/users/Nilstrieb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nilstrieb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nilstrieb/subscriptions", "organizations_url": "https://api.github.com/users/Nilstrieb/orgs", "repos_url": "https://api.github.com/users/Nilstrieb/repos", "events_url": "https://api.github.com/users/Nilstrieb/events{/privacy}", "received_events_url": "https://api.github.com/users/Nilstrieb/received_events", "type": "User", "site_admin": false}, "committer": {"login": "Nilstrieb", "id": 48135649, "node_id": "MDQ6VXNlcjQ4MTM1NjQ5", "avatar_url": "https://avatars.githubusercontent.com/u/48135649?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nilstrieb", "html_url": "https://github.com/Nilstrieb", "followers_url": "https://api.github.com/users/Nilstrieb/followers", "following_url": "https://api.github.com/users/Nilstrieb/following{/other_user}", "gists_url": "https://api.github.com/users/Nilstrieb/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nilstrieb/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nilstrieb/subscriptions", "organizations_url": "https://api.github.com/users/Nilstrieb/orgs", "repos_url": "https://api.github.com/users/Nilstrieb/repos", "events_url": "https://api.github.com/users/Nilstrieb/events{/privacy}", "received_events_url": "https://api.github.com/users/Nilstrieb/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "db3faa78d0cdba3d90f559ce4d7a4e56a341950b", "url": "https://api.github.com/repos/rust-lang/rust/commits/db3faa78d0cdba3d90f559ce4d7a4e56a341950b", "html_url": "https://github.com/rust-lang/rust/commit/db3faa78d0cdba3d90f559ce4d7a4e56a341950b"}], "stats": {"total": 6, "additions": 1, "deletions": 5}, "files": [{"sha": "25fd5ca3ae8bc3757b2397df0f51eaa89abdce5a", "filename": "src/base.rs", "status": "modified", "additions": 1, "deletions": 5, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/74ab27c26930e8697b25a0938305b722fc080567/src%2Fbase.rs", "raw_url": "https://github.com/rust-lang/rust/raw/74ab27c26930e8697b25a0938305b722fc080567/src%2Fbase.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbase.rs?ref=74ab27c26930e8697b25a0938305b722fc080567", "patch": "@@ -966,11 +966,7 @@ fn codegen_panic_inner<'tcx>(\n     args: &[Value],\n     span: Span,\n ) {\n-    let def_id = fx\n-        .tcx\n-        .lang_items()\n-        .require(lang_item)\n-        .unwrap_or_else(|e| fx.tcx.sess.span_fatal(span, e.to_string()));\n+    let def_id = fx.tcx.require_lang_item(lang_item, Some(span));\n \n     let instance = Instance::mono(fx.tcx, def_id).polymorphize(fx.tcx);\n     let symbol_name = fx.tcx.symbol_name(instance).name;"}]}