{"sha": "e7b370226c9b3d045a805dae5b93231a0869bbca", "node_id": "MDY6Q29tbWl0NzI0NzEyOmU3YjM3MDIyNmM5YjNkMDQ1YTgwNWRhZTViOTMyMzFhMDg2OWJiY2E=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-02-11T16:19:23Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-02-11T16:19:23Z"}, "message": "make macro-rules eq", "tree": {"sha": "1bf610035c5d6c05d7e348df772a548f6ec596fd", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/1bf610035c5d6c05d7e348df772a548f6ec596fd"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/e7b370226c9b3d045a805dae5b93231a0869bbca", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/e7b370226c9b3d045a805dae5b93231a0869bbca", "html_url": "https://github.com/rust-lang/rust/commit/e7b370226c9b3d045a805dae5b93231a0869bbca", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/e7b370226c9b3d045a805dae5b93231a0869bbca/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "af62fde57fe58f4aa06608568dc26535731800a0", "url": "https://api.github.com/repos/rust-lang/rust/commits/af62fde57fe58f4aa06608568dc26535731800a0", "html_url": "https://github.com/rust-lang/rust/commit/af62fde57fe58f4aa06608568dc26535731800a0"}], "stats": {"total": 22, "additions": 11, "deletions": 11}, "files": [{"sha": "29731b0502a0840292c7538f83736c0a29e9f0b0", "filename": "crates/ra_mbe/src/lib.rs", "status": "modified", "additions": 10, "deletions": 10, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/e7b370226c9b3d045a805dae5b93231a0869bbca/crates%2Fra_mbe%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7b370226c9b3d045a805dae5b93231a0869bbca/crates%2Fra_mbe%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_mbe%2Fsrc%2Flib.rs?ref=e7b370226c9b3d045a805dae5b93231a0869bbca", "patch": "@@ -30,7 +30,7 @@ pub use crate::syntax_bridge::ast_to_token_tree;\n /// be very confusing is that AST has almost exactly the same shape as\n /// `tt::TokenTree`, but there's a crucial difference: in macro rules, `$ident`\n /// and `$()*` have special meaning (see `Var` and `Repeat` data structures)\n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n pub struct MacroRules {\n     pub(crate) rules: Vec<Rule>,\n }\n@@ -44,21 +44,21 @@ impl MacroRules {\n     }\n }\n \n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n pub(crate) struct Rule {\n     pub(crate) lhs: Subtree,\n     pub(crate) rhs: Subtree,\n }\n \n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n pub(crate) enum TokenTree {\n     Leaf(Leaf),\n     Subtree(Subtree),\n     Repeat(Repeat),\n }\n impl_froms!(TokenTree: Leaf, Subtree, Repeat);\n \n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n pub(crate) enum Leaf {\n     Literal(Literal),\n     Punct(Punct),\n@@ -67,37 +67,37 @@ pub(crate) enum Leaf {\n }\n impl_froms!(Leaf: Literal, Punct, Ident, Var);\n \n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n pub(crate) struct Subtree {\n     pub(crate) delimiter: Delimiter,\n     pub(crate) token_trees: Vec<TokenTree>,\n }\n \n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n pub(crate) struct Repeat {\n     pub(crate) subtree: Subtree,\n     pub(crate) kind: RepeatKind,\n     pub(crate) separator: Option<char>,\n }\n \n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n pub(crate) enum RepeatKind {\n     ZeroOrMore,\n     OneOrMore,\n     ZeroOrOne,\n }\n \n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n pub(crate) struct Literal {\n     pub(crate) text: SmolStr,\n }\n \n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n pub(crate) struct Ident {\n     pub(crate) text: SmolStr,\n }\n \n-#[derive(Debug)]\n+#[derive(Debug, PartialEq, Eq)]\n pub(crate) struct Var {\n     pub(crate) text: SmolStr,\n     pub(crate) kind: Option<SmolStr>,"}, {"sha": "df31f72f39d2bd4c3cef51d2a315378a0f0291c0", "filename": "crates/ra_tt/src/lib.rs", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/e7b370226c9b3d045a805dae5b93231a0869bbca/crates%2Fra_tt%2Fsrc%2Flib.rs", "raw_url": "https://github.com/rust-lang/rust/raw/e7b370226c9b3d045a805dae5b93231a0869bbca/crates%2Fra_tt%2Fsrc%2Flib.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/crates%2Fra_tt%2Fsrc%2Flib.rs?ref=e7b370226c9b3d045a805dae5b93231a0869bbca", "patch": "@@ -39,7 +39,7 @@ pub struct Subtree {\n     pub token_trees: Vec<TokenTree>,\n }\n \n-#[derive(Clone, Copy, Debug)]\n+#[derive(Clone, Copy, Debug, PartialEq, Eq)]\n pub enum Delimiter {\n     Parenthesis,\n     Brace,"}]}