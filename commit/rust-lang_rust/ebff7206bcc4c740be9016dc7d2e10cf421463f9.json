{"sha": "ebff7206bcc4c740be9016dc7d2e10cf421463f9", "node_id": "C_kwDOAAsO6NoAKGViZmY3MjA2YmNjNGM3NDBiZTkwMTZkYzdkMmUxMGNmNDIxNDYzZjk", "commit": {"author": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2022-07-06T07:51:40Z"}, "committer": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2022-07-06T08:00:19Z"}, "message": "Add MSRV check for `bool::then_some`", "tree": {"sha": "ef6cb262c73cb759e2cdf2516765c7789c689e70", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/ef6cb262c73cb759e2cdf2516765c7789c689e70"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ebff7206bcc4c740be9016dc7d2e10cf421463f9", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ebff7206bcc4c740be9016dc7d2e10cf421463f9", "html_url": "https://github.com/rust-lang/rust/commit/ebff7206bcc4c740be9016dc7d2e10cf421463f9", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ebff7206bcc4c740be9016dc7d2e10cf421463f9/comments", "author": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "committer": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "528308b5aa544454e6c90f6d051c3adeb1a46e1b", "url": "https://api.github.com/repos/rust-lang/rust/commits/528308b5aa544454e6c90f6d051c3adeb1a46e1b", "html_url": "https://github.com/rust-lang/rust/commit/528308b5aa544454e6c90f6d051c3adeb1a46e1b"}], "stats": {"total": 8, "additions": 7, "deletions": 1}, "files": [{"sha": "15d98098f332d27bc2ae23503c3544cf1774fbd7", "filename": "clippy_lints/src/methods/mod.rs", "status": "modified", "additions": 6, "deletions": 1, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ebff7206bcc4c740be9016dc7d2e10cf421463f9/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ebff7206bcc4c740be9016dc7d2e10cf421463f9/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_lints%2Fsrc%2Fmethods%2Fmod.rs?ref=ebff7206bcc4c740be9016dc7d2e10cf421463f9", "patch": "@@ -2737,7 +2737,12 @@ impl Methods {\n                     }\n                 },\n                 (\"take\", []) => needless_option_take::check(cx, expr, recv),\n-                (\"then\", [arg]) => unnecessary_lazy_eval::check(cx, expr, recv, arg, \"then_some\"),\n+                (\"then\", [arg]) => {\n+                    if !meets_msrv(self.msrv, msrvs::BOOL_THEN_SOME) {\n+                        return;\n+                    }\n+                    unnecessary_lazy_eval::check(cx, expr, recv, arg, \"then_some\");\n+                },\n                 (\"to_os_string\" | \"to_owned\" | \"to_path_buf\" | \"to_vec\", []) => {\n                     implicit_clone::check(cx, name, expr, recv);\n                 },"}, {"sha": "9e238c6f1ac0ef84a8883d8d6c84d695ccd28cfd", "filename": "clippy_utils/src/msrvs.rs", "status": "modified", "additions": 1, "deletions": 0, "changes": 1, "blob_url": "https://github.com/rust-lang/rust/blob/ebff7206bcc4c740be9016dc7d2e10cf421463f9/clippy_utils%2Fsrc%2Fmsrvs.rs", "raw_url": "https://github.com/rust-lang/rust/raw/ebff7206bcc4c740be9016dc7d2e10cf421463f9/clippy_utils%2Fsrc%2Fmsrvs.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/clippy_utils%2Fsrc%2Fmsrvs.rs?ref=ebff7206bcc4c740be9016dc7d2e10cf421463f9", "patch": "@@ -12,6 +12,7 @@ macro_rules! msrv_aliases {\n \n // names may refer to stabilized feature flags or library items\n msrv_aliases! {\n+    1,62,0 { BOOL_THEN_SOME }\n     1,53,0 { OR_PATTERNS, MANUAL_BITS, BTREE_MAP_RETAIN, BTREE_SET_RETAIN }\n     1,52,0 { STR_SPLIT_ONCE, REM_EUCLID_CONST }\n     1,51,0 { BORROW_AS_PTR, UNSIGNED_ABS }"}]}