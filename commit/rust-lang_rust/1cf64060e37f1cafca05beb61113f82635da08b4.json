{"sha": "1cf64060e37f1cafca05beb61113f82635da08b4", "node_id": "C_kwDOAAsO6NoAKDFjZjY0MDYwZTM3ZjFjYWZjYTA1YmViNjExMTNmODI2MzVkYTA4YjQ", "commit": {"author": {"name": "blyxyas", "email": "blyxyas@gmail.com", "date": "2023-04-08T15:08:06Z"}, "committer": {"name": "blyxyas", "email": "blyxyas@gmail.com", "date": "2023-04-08T15:14:55Z"}, "message": "Add \"`hir::Ty` and `ty::Ty`\" section", "tree": {"sha": "6fa66dbdb0e3f7736a3492c10683475c60549b1f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/6fa66dbdb0e3f7736a3492c10683475c60549b1f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/1cf64060e37f1cafca05beb61113f82635da08b4", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEEM3aofraJSaf7CtgpTTgXC1ovwzQFAmQxhPMACgkQTTgXC1ov\nwzQgiBAAjMrU9FBlNyLfNT7QIQKXdP20EmPY1H3yuyhollV6zxBcj7jccpsQt/1F\no+UFeIAhD7WH+OUCh0eu6rQT7604L0ChbW9eAK0m9K6ziFmEraxlBfkMZkeYvJGU\nuOk9KU+u9Bt9rcWC2LweeMtebacCfDoXaVF+NzBdS00jtEdQUdZiGBpRz9hzLKjw\n39RkLOqAP9YRklJcGJXMeTL9Mz3F9lDUKkMwzzu05UsrkNdAy9fo4rLBmDu8Vy4/\nIZ+1S26rrZOsjBthKRfATaHfOS4mHyD0XUkqy1by9he7oGi5RNV5E+ZOuxSjCb26\nPXHq3FokTAfptmmAiiraMP+UgxslePvGOhB3kCpccvcd4TbyCgK6YFN5AAkwGIMc\nFus1ISoh++IEI8Kv1kOxucYReAd65yyLEo3u96HrQu29AahL5X0ZR36qIn0WpW+1\nbXXgGkU05eDstjwcmkJPsSEgtM6riPVw4l7E8YpKVPuDDs7AFTTaZevjxuKD681a\noUb3Rgk5pvrCcoITAU107wLM6jTKsF2p9evOHWrI7KCezup0HZpcamNATQfuKM2H\nflPlXh4/SO0maR/YOyDO6ih9/OwxCAx+qqhhxz+LF5EpCjXL8WDm1HKFsNKjx83g\njOgZBleJhznAx2V2x9qhGVy4C7zVhKMRb4IFVmEV6noriiFBnek=\n=zpV6\n-----END PGP SIGNATURE-----", "payload": "tree 6fa66dbdb0e3f7736a3492c10683475c60549b1f\nparent 90e6ddc8e77eadf5cc83bc94a1d81dfb51c64371\nauthor blyxyas <blyxyas@gmail.com> 1680966486 +0200\ncommitter blyxyas <blyxyas@gmail.com> 1680966895 +0200\n\nAdd \"`hir::Ty` and `ty::Ty`\" section\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/1cf64060e37f1cafca05beb61113f82635da08b4", "html_url": "https://github.com/rust-lang/rust/commit/1cf64060e37f1cafca05beb61113f82635da08b4", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/1cf64060e37f1cafca05beb61113f82635da08b4/comments", "author": {"login": "blyxyas", "id": 73757586, "node_id": "MDQ6VXNlcjczNzU3NTg2", "avatar_url": "https://avatars.githubusercontent.com/u/73757586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blyxyas", "html_url": "https://github.com/blyxyas", "followers_url": "https://api.github.com/users/blyxyas/followers", "following_url": "https://api.github.com/users/blyxyas/following{/other_user}", "gists_url": "https://api.github.com/users/blyxyas/gists{/gist_id}", "starred_url": "https://api.github.com/users/blyxyas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blyxyas/subscriptions", "organizations_url": "https://api.github.com/users/blyxyas/orgs", "repos_url": "https://api.github.com/users/blyxyas/repos", "events_url": "https://api.github.com/users/blyxyas/events{/privacy}", "received_events_url": "https://api.github.com/users/blyxyas/received_events", "type": "User", "site_admin": false}, "committer": {"login": "blyxyas", "id": 73757586, "node_id": "MDQ6VXNlcjczNzU3NTg2", "avatar_url": "https://avatars.githubusercontent.com/u/73757586?v=4", "gravatar_id": "", "url": "https://api.github.com/users/blyxyas", "html_url": "https://github.com/blyxyas", "followers_url": "https://api.github.com/users/blyxyas/followers", "following_url": "https://api.github.com/users/blyxyas/following{/other_user}", "gists_url": "https://api.github.com/users/blyxyas/gists{/gist_id}", "starred_url": "https://api.github.com/users/blyxyas/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/blyxyas/subscriptions", "organizations_url": "https://api.github.com/users/blyxyas/orgs", "repos_url": "https://api.github.com/users/blyxyas/repos", "events_url": "https://api.github.com/users/blyxyas/events{/privacy}", "received_events_url": "https://api.github.com/users/blyxyas/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "90e6ddc8e77eadf5cc83bc94a1d81dfb51c64371", "url": "https://api.github.com/repos/rust-lang/rust/commits/90e6ddc8e77eadf5cc83bc94a1d81dfb51c64371", "html_url": "https://github.com/rust-lang/rust/commit/90e6ddc8e77eadf5cc83bc94a1d81dfb51c64371"}], "stats": {"total": 18, "additions": 18, "deletions": 0}, "files": [{"sha": "5ce434b99a1a6ab368b45edcc3397081f2a319ab", "filename": "book/src/development/type_checking.md", "status": "modified", "additions": 18, "deletions": 0, "changes": 18, "blob_url": "https://github.com/rust-lang/rust/blob/1cf64060e37f1cafca05beb61113f82635da08b4/book%2Fsrc%2Fdevelopment%2Ftype_checking.md", "raw_url": "https://github.com/rust-lang/rust/raw/1cf64060e37f1cafca05beb61113f82635da08b4/book%2Fsrc%2Fdevelopment%2Ftype_checking.md", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/book%2Fsrc%2Fdevelopment%2Ftype_checking.md?ref=1cf64060e37f1cafca05beb61113f82635da08b4", "patch": "@@ -102,6 +102,21 @@ impl LateLintPass<'_> for MyStructLint {\n }\n ```\n \n+## `hir::Ty` and `ty::Ty`\n+\n+We've been talking about [`ty::Ty`][middle_ty] this whole time without addressing [`hir::Ty`][hir_ty], but the latter\n+is also important to understand.\n+\n+`hir::Ty` would represent *what* an user wrote, while `ty::Ty` would understand the meaning of it (because it has more\n+information).\n+\n+**Example: `fn foo(x: u32) -> u32 { x }`**\n+\n+Here the HIR sees the types without \"thinking\" about them, it knows that the function takes an `u32` and returns\n+an `u32`. But at the `ty::Ty` level the compiler understands that they're the same type, in-depth lifetimes, etc...\n+\n+you can use the [`hir_ty_to_ty`][hir_ty_to_ty] function to convert from a `hir::Ty` to a `ty::Ty`\n+\n ## Useful Links\n \n Below are some useful links to further explore the concepts covered\n@@ -124,3 +139,6 @@ in this chapter:\n [Ty]: https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.Ty.html\n [TyKind]: https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/enum.TyKind.html\n [TypeckResults]: https://doc.rust-lang.org/nightly/nightly-rustc/rustc_middle/ty/struct.TypeckResults.html\n+[middle_ty]: https://doc.rust-lang.org/beta/nightly-rustc/rustc_middle/ty/struct.Ty.html\n+[hir_ty]: https://doc.rust-lang.org/beta/nightly-rustc/rustc_hir/struct.Ty.html\n+[hir_ty_to_ty]: https://doc.rust-lang.org/beta/nightly-rustc/rustc_hir_analysis/fn.hir_ty_to_ty.html"}]}