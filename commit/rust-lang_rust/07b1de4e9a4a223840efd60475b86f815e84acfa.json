{"sha": "07b1de4e9a4a223840efd60475b86f815e84acfa", "node_id": "MDY6Q29tbWl0NzI0NzEyOjA3YjFkZTRlOWE0YTIyMzg0MGVmZDYwNDc1Yjg2ZjgxNWU4NGFjZmE=", "commit": {"author": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2020-05-22T16:50:41Z"}, "committer": {"name": "David Tolnay", "email": "dtolnay@gmail.com", "date": "2020-05-22T16:51:46Z"}, "message": "Report error from opener in bootstrap\n\nOn my machine, an error looks like:\n\n    Finished release [optimized] target(s) in 0.29s\n    Opening doc /git/rust/build/x86_64-unknown-linux-gnu/doc/std/index.html\n    command 'xdg-open (internal)' did not execute successfully; exit code: 4\n    command stderr:\n    gio: file:///git/rust/build/x86_64-unknown-linux-gnu/doc/std/index.html: Error when getting information for file \u201c/git/rust/build/x86_64-unknown-linux-gnu/doc/std/index.html\u201d: No such file or directory\n\n    Build completed successfully in 0:00:08", "tree": {"sha": "cae2563c6d3ca381add0082f7b7b3ae5a975597d", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/cae2563c6d3ca381add0082f7b7b3ae5a975597d"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/07b1de4e9a4a223840efd60475b86f815e84acfa", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCgAdFiEERijF2Cz/ZdaBZKeK+boUO5X/bYIFAl7IAyIACgkQ+boUO5X/\nbYJ9Xw/8DSD2284fBbcqBsIGdjedMqnXVBA4B6Zxg4kRuhx6HQUDWSPCzoysiIV7\nYUabz2wa6CqzBZBvUezQx5tPv6SEmqPpY+IpCandbE6CaSPNn48AGovWeoOHJl8v\njm5flMr/0XWzkOoW3LKo8iq/IqN2Vpq05p+Aww5OiV0sLFDuLqhi0KFtdk0sy0OC\ny/5t7mJswbAbae1wSMTRmXxey/u0CJMOEcxZHMjsS/tUqmFqgizpLhuTTU9hriWg\n3if8szuS7i0puR1tO4izSpWtlFQ5i6N3cKiIfeN6DhLSrgMIQH7NOExvmjFntxiX\nt+HKyI39lcjFuigjRu8GijUYZwcE7wjgcbhCLmTGRcKdxBqxZx8mFjiE1XhBI2NE\nAMdd//riR9zghBl1vVlFYXtO0oOnv4+r1OVO4PEUqF/TpHJS2Y9145wUJ8RoEQ1d\nu0tk7XbnBHUPJKmGMlBGbzuchC/7rKsdGo/HxMEf6PCQIZAK6oIE9CRXEeBx1Yu1\nIoYS561QoJVAifzNEm/paVO4ZGlHb2wG5N2vDtQx5wDoMZuIur1LbxvijXKTOxfH\ntsA4UYZzsL5khsBhcH0JjwlU0ola3zw0aogusAAHJ2Na4/L8fitNxv1LMuz+N/JL\nttoPhhoqpPJRypZ8wm+37yMgjn9rR2MJgvd+Ufz3r+Fat1vndsw=\n=qu6e\n-----END PGP SIGNATURE-----", "payload": "tree cae2563c6d3ca381add0082f7b7b3ae5a975597d\nparent 6a3aae8aea2448432d4fd0f7c3a22778beaab831\nauthor David Tolnay <dtolnay@gmail.com> 1590166241 -0700\ncommitter David Tolnay <dtolnay@gmail.com> 1590166306 -0700\n\nReport error from opener in bootstrap\n\nOn my machine, an error looks like:\n\n    Finished release [optimized] target(s) in 0.29s\n    Opening doc /git/rust/build/x86_64-unknown-linux-gnu/doc/std/index.html\n    command 'xdg-open (internal)' did not execute successfully; exit code: 4\n    command stderr:\n    gio: file:///git/rust/build/x86_64-unknown-linux-gnu/doc/std/index.html: Error when getting information for file \u201c/git/rust/build/x86_64-unknown-linux-gnu/doc/std/index.html\u201d: No such file or directory\n\n    Build completed successfully in 0:00:08\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/07b1de4e9a4a223840efd60475b86f815e84acfa", "html_url": "https://github.com/rust-lang/rust/commit/07b1de4e9a4a223840efd60475b86f815e84acfa", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/07b1de4e9a4a223840efd60475b86f815e84acfa/comments", "author": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "committer": {"login": "dtolnay", "id": 1940490, "node_id": "MDQ6VXNlcjE5NDA0OTA=", "avatar_url": "https://avatars.githubusercontent.com/u/1940490?v=4", "gravatar_id": "", "url": "https://api.github.com/users/dtolnay", "html_url": "https://github.com/dtolnay", "followers_url": "https://api.github.com/users/dtolnay/followers", "following_url": "https://api.github.com/users/dtolnay/following{/other_user}", "gists_url": "https://api.github.com/users/dtolnay/gists{/gist_id}", "starred_url": "https://api.github.com/users/dtolnay/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/dtolnay/subscriptions", "organizations_url": "https://api.github.com/users/dtolnay/orgs", "repos_url": "https://api.github.com/users/dtolnay/repos", "events_url": "https://api.github.com/users/dtolnay/events{/privacy}", "received_events_url": "https://api.github.com/users/dtolnay/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "6a3aae8aea2448432d4fd0f7c3a22778beaab831", "url": "https://api.github.com/repos/rust-lang/rust/commits/6a3aae8aea2448432d4fd0f7c3a22778beaab831", "html_url": "https://github.com/rust-lang/rust/commit/6a3aae8aea2448432d4fd0f7c3a22778beaab831"}], "stats": {"total": 8, "additions": 4, "deletions": 4}, "files": [{"sha": "5c01c5e852c48caf781a96be2d71a6f0c10e767a", "filename": "src/bootstrap/doc.rs", "status": "modified", "additions": 4, "deletions": 4, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/07b1de4e9a4a223840efd60475b86f815e84acfa/src%2Fbootstrap%2Fdoc.rs", "raw_url": "https://github.com/rust-lang/rust/raw/07b1de4e9a4a223840efd60475b86f815e84acfa/src%2Fbootstrap%2Fdoc.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Fbootstrap%2Fdoc.rs?ref=07b1de4e9a4a223840efd60475b86f815e84acfa", "patch": "@@ -76,10 +76,10 @@ fn open(builder: &Builder<'_>, path: impl AsRef<Path>) {\n     }\n \n     let path = path.as_ref();\n-    builder.info(&format!(\"Opening doc {}\", path.to_string_lossy()));\n-\n-    // ignore error\n-    let _ = opener::open(path);\n+    builder.info(&format!(\"Opening doc {}\", path.display()));\n+    if let Err(err) = opener::open(path) {\n+        builder.info(&format!(\"{}\\n\", err));\n+    }\n }\n \n // \"src/libstd\" -> [\"src\", \"libstd\"]"}]}