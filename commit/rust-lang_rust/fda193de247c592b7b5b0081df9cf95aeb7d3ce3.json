{"sha": "fda193de247c592b7b5b0081df9cf95aeb7d3ce3", "node_id": "MDY6Q29tbWl0NzI0NzEyOmZkYTE5M2RlMjQ3YzU5MmI3YjViMDA4MWRmOWNmOTVhZWI3ZDNjZTM=", "commit": {"author": {"name": "Michael Woerister", "email": "michaelwoerister@gmail", "date": "2013-06-19T14:26:35Z"}, "committer": {"name": "Michael Woerister", "email": "michaelwoerister@gmail", "date": "2013-06-27T17:28:17Z"}, "message": "Extended test cases for struct debug information.\nAdded test cases for different kinds of padding (simple-struct.rs)\nAdded test cases for nested structs (struct-in-struct.rs)", "tree": {"sha": "eb2cd0429e254dcf9be0d8c960379cdb35628f3c", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/eb2cd0429e254dcf9be0d8c960379cdb35628f3c"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/fda193de247c592b7b5b0081df9cf95aeb7d3ce3", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/fda193de247c592b7b5b0081df9cf95aeb7d3ce3", "html_url": "https://github.com/rust-lang/rust/commit/fda193de247c592b7b5b0081df9cf95aeb7d3ce3", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/fda193de247c592b7b5b0081df9cf95aeb7d3ce3/comments", "author": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "committer": {"login": "michaelwoerister", "id": 1825894, "node_id": "MDQ6VXNlcjE4MjU4OTQ=", "avatar_url": "https://avatars.githubusercontent.com/u/1825894?v=4", "gravatar_id": "", "url": "https://api.github.com/users/michaelwoerister", "html_url": "https://github.com/michaelwoerister", "followers_url": "https://api.github.com/users/michaelwoerister/followers", "following_url": "https://api.github.com/users/michaelwoerister/following{/other_user}", "gists_url": "https://api.github.com/users/michaelwoerister/gists{/gist_id}", "starred_url": "https://api.github.com/users/michaelwoerister/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/michaelwoerister/subscriptions", "organizations_url": "https://api.github.com/users/michaelwoerister/orgs", "repos_url": "https://api.github.com/users/michaelwoerister/repos", "events_url": "https://api.github.com/users/michaelwoerister/events{/privacy}", "received_events_url": "https://api.github.com/users/michaelwoerister/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "c440743dcc17635eb65cc509a473d66dc6654e87", "url": "https://api.github.com/repos/rust-lang/rust/commits/c440743dcc17635eb65cc509a473d66dc6654e87", "html_url": "https://github.com/rust-lang/rust/commit/c440743dcc17635eb65cc509a473d66dc6654e87"}], "stats": {"total": 272, "additions": 237, "deletions": 35}, "files": [{"sha": "64cfe4a4e23aac1937096f1954a2212425186f3a", "filename": "src/test/debug-info/simple-struct.rs", "status": "added", "additions": 84, "deletions": 0, "changes": 84, "blob_url": "https://github.com/rust-lang/rust/blob/fda193de247c592b7b5b0081df9cf95aeb7d3ce3/src%2Ftest%2Fdebug-info%2Fsimple-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fda193de247c592b7b5b0081df9cf95aeb7d3ce3/src%2Ftest%2Fdebug-info%2Fsimple-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebug-info%2Fsimple-struct.rs?ref=fda193de247c592b7b5b0081df9cf95aeb7d3ce3", "patch": "@@ -0,0 +1,84 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// xfail-win32 Broken because of LLVM bug: http://llvm.org/bugs/show_bug.cgi?id=16249\n+\n+// compile-flags:-Z extra-debug-info\n+// debugger:set print pretty off\n+// debugger:break zzz\n+// debugger:run\n+// debugger:finish\n+\n+// debugger:print noPadding16\n+// check:$1 = {x = 10000, y = -10001}\n+\n+// debugger:print noPadding32\n+// check:$2 = {x = -10002, y = -10003.5, z = 10004}\n+\n+// debugger:print noPadding64\n+// check:$3 = {x = -10005.5, y = 10006, z = 10007}\n+\n+// debugger:print noPadding163264\n+// check:$4 = {a = -10008, b = 10009, c = 10010, d = 10011}\n+\n+// debugger:print internalPadding\n+// check:$5 = {x = 10012, y = -10013}\n+\n+// debugger:print paddingAtEnd\n+// check:$6 = {x = -10014, y = 10015}\n+\n+\n+struct NoPadding16 {\n+    x: u16,\n+    y: i16\n+}\n+ \n+struct NoPadding32 {\n+    x: i32,\n+    y: f32,\n+    z: u32\n+}\n+\n+struct NoPadding64 {\n+    x: f64,\n+    y: i64,\n+    z: u64\n+}\n+\n+struct NoPadding163264 {\n+    a: i16,\n+    b: u16,\n+    c: i32,\n+    d: u64\n+}\n+\n+struct InternalPadding {\n+    x: u16,\n+    y: i64\n+}\n+\n+struct PaddingAtEnd {\n+    x: i64,\n+    y: u16\n+}\n+\n+fn main() {\n+    let noPadding16 = NoPadding16 { x: 10000, y: -10001 };\n+    let noPadding32 = NoPadding32 { x: -10002, y: -10003.5, z: 10004 };\n+    let noPadding64 = NoPadding64 { x: -10005.5, y: 10006, z: 10007 };\n+    let noPadding163264 = NoPadding163264 { a: -10008, b: 10009, c: 10010, d: 10011 };\n+ \n+    let internalPadding = InternalPadding { x: 10012, y: -10013 };\n+    let paddingAtEnd = PaddingAtEnd { x: -10014, y: 10015 };\n+\n+    zzz();\n+}\n+\n+fn zzz() {()}\n\\ No newline at end of file"}, {"sha": "a74eb727dc0f18bdec48941d199f86d06d676137", "filename": "src/test/debug-info/struct-in-struct.rs", "status": "added", "additions": 153, "deletions": 0, "changes": 153, "blob_url": "https://github.com/rust-lang/rust/blob/fda193de247c592b7b5b0081df9cf95aeb7d3ce3/src%2Ftest%2Fdebug-info%2Fstruct-in-struct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/fda193de247c592b7b5b0081df9cf95aeb7d3ce3/src%2Ftest%2Fdebug-info%2Fstruct-in-struct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebug-info%2Fstruct-in-struct.rs?ref=fda193de247c592b7b5b0081df9cf95aeb7d3ce3", "patch": "@@ -0,0 +1,153 @@\n+// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n+// file at the top-level directory of this distribution and at\n+// http://rust-lang.org/COPYRIGHT.\n+//\n+// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n+// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n+// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n+// option. This file may not be copied, modified, or distributed\n+// except according to those terms.\n+\n+// xfail-win32 Broken because of LLVM bug: http://llvm.org/bugs/show_bug.cgi?id=16249\n+\n+// compile-flags:-Z extra-debug-info\n+// debugger:set print pretty off\n+// debugger:break zzz\n+// debugger:run\n+// debugger:finish\n+\n+// debugger:print three_simple_structs\n+// check:$1 = {x = {x = 1}, y = {x = 2}, z = {x = 3}}\n+\n+// debugger:print internal_padding_parent\n+// check:$2 = {x = {x = 4, y = 5}, y = {x = 6, y = 7}, z = {x = 8, y = 9}}\n+\n+// debugger:print padding_at_end_parent\n+// check:$3 = {x = {x = 10, y = 11}, y = {x = 12, y = 13}, z = {x = 14, y = 15}}\n+\n+\n+struct Simple {\n+    x: i32\n+}\n+\n+struct InternalPadding {\n+    x: i32,\n+    y: i64\n+}\n+\n+struct PaddingAtEnd {\n+    x: i64,\n+    y: i32\n+}\n+\n+struct ThreeSimpleStructs {\n+    x: Simple,\n+    y: Simple,\n+    z: Simple\n+}\n+\n+struct InternalPaddingParent {\n+    x: InternalPadding,\n+    y: InternalPadding,\n+    z: InternalPadding\n+}\n+\n+struct PaddingAtEndParent {\n+    x: PaddingAtEnd,\n+    y: PaddingAtEnd,\n+    z: PaddingAtEnd   \n+}\n+\n+struct Mixed {\n+    x: PaddingAtEnd,\n+    y: InternalPadding,\n+    z: Simple,\n+    w: i16\n+}\n+\n+struct Bag {\n+    x: Simple\n+}\n+\n+struct BagInBag {\n+    x: Bag\n+}\n+\n+struct ThatsJustOverkill {\n+    x: BagInBag\n+}\n+\n+struct Tree {\n+    x: Simple,\n+    y: InternalPaddingParent,\n+    z: BagInBag\n+}\n+\n+fn main() {\n+   \n+    let three_simple_structs = ThreeSimpleStructs {\n+        x: Simple { x: 1 },\n+        y: Simple { x: 2 },\n+        z: Simple { x: 3 }\n+    };\n+\n+    let internal_padding_parent = InternalPaddingParent {\n+        x: InternalPadding { x: 4, y: 5 },\n+        y: InternalPadding { x: 6, y: 7 },\n+        z: InternalPadding { x: 8, y: 9 }\n+    };\n+\n+    let padding_at_end_parent = PaddingAtEndParent {\n+        x: PaddingAtEnd { x: 10, y: 11 },\n+        y: PaddingAtEnd { x: 12, y: 13 },\n+        z: PaddingAtEnd { x: 14, y: 15 }   \n+    };\n+\n+    let mixed = Mixed {\n+        x: PaddingAtEnd { x: 16, y: 17 },\n+        y: InternalPadding { x: 18, y: 19 },\n+        z: Simple { x: 20 },\n+        w: 21\n+    };\n+\n+    let bag = Bag { x: Simple { x: 22 } };\n+    let bag_in_bag = BagInBag \n+    {\n+        x: Bag \n+        {\n+            x: Simple { x: 23 } \n+        } \n+    };\n+\n+    let tjo = ThatsJustOverkill \n+    {\n+        x: BagInBag \n+        {\n+            x: Bag \n+            {\n+                x: Simple { x: 24 } \n+            } \n+        }\n+    };\n+\n+    let tree = Tree {\n+        x: Simple { x: 25 },\n+        y: InternalPaddingParent\n+        {\n+            x: InternalPadding { x: 26, y: 27 },\n+            y: InternalPadding { x: 28, y: 29 },\n+            z: InternalPadding { x: 30, y: 31 }\n+        },\n+        z: BagInBag \n+        {\n+            x: Bag \n+            {\n+                x: Simple { x: 32 } \n+            } \n+        }\n+    };\n+\n+    zzz();\n+}\n+\n+fn zzz() {()}\n\\ No newline at end of file"}, {"sha": "ddfac9cbeea8f6312632990e585df7b034a73f27", "filename": "src/test/debug-info/struct.rs", "status": "removed", "additions": 0, "deletions": 35, "changes": 35, "blob_url": "https://github.com/rust-lang/rust/blob/c440743dcc17635eb65cc509a473d66dc6654e87/src%2Ftest%2Fdebug-info%2Fstruct.rs", "raw_url": "https://github.com/rust-lang/rust/raw/c440743dcc17635eb65cc509a473d66dc6654e87/src%2Ftest%2Fdebug-info%2Fstruct.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Ftest%2Fdebug-info%2Fstruct.rs?ref=c440743dcc17635eb65cc509a473d66dc6654e87", "patch": "@@ -1,35 +0,0 @@\n-// Copyright 2013 The Rust Project Developers. See the COPYRIGHT\n-// file at the top-level directory of this distribution and at\n-// http://rust-lang.org/COPYRIGHT.\n-//\n-// Licensed under the Apache License, Version 2.0 <LICENSE-APACHE or\n-// http://www.apache.org/licenses/LICENSE-2.0> or the MIT license\n-// <LICENSE-MIT or http://opensource.org/licenses/MIT>, at your\n-// option. This file may not be copied, modified, or distributed\n-// except according to those terms.\n-\n-// xfail-win32 Broken because of LLVM bug: http://llvm.org/bugs/show_bug.cgi?id=16249\n-\n-// compile-flags:-Z extra-debug-info\n-// debugger:set print pretty off\n-// debugger:break _zzz\n-// debugger:run\n-// debugger:finish\n-// debugger:print pair\n-// check:$1 = {x = 1, y = 2}\n-// debugger:print pair.x\n-// check:$2 = 1\n-// debugger:print pair.y\n-// check:$3 = 2\n-\n-struct Pair {\n-    x: int,\n-    y: int\n-}\n-\n-fn main() {\n-    let pair = Pair { x: 1, y: 2 };\n-    _zzz();\n-}\n-\n-fn _zzz() {()}\n\\ No newline at end of file"}]}