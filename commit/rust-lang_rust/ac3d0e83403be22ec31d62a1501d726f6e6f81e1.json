{"sha": "ac3d0e83403be22ec31d62a1501d726f6e6f81e1", "node_id": "MDY6Q29tbWl0NzI0NzEyOmFjM2QwZTgzNDAzYmUyMmVjMzFkNjJhMTUwMWQ3MjZmNmU2ZjgxZTE=", "commit": {"author": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-12-30T17:31:08Z"}, "committer": {"name": "Aleksey Kladov", "email": "aleksey.kladov@gmail.com", "date": "2019-12-30T18:07:59Z"}, "message": "Run prettier on all files", "tree": {"sha": "9619c5c0a173acea0ef7e4855ed7eac27087d0d2", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/9619c5c0a173acea0ef7e4855ed7eac27087d0d2"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ac3d0e83403be22ec31d62a1501d726f6e6f81e1", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ac3d0e83403be22ec31d62a1501d726f6e6f81e1", "html_url": "https://github.com/rust-lang/rust/commit/ac3d0e83403be22ec31d62a1501d726f6e6f81e1", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/comments", "author": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "committer": {"login": "matklad", "id": 1711539, "node_id": "MDQ6VXNlcjE3MTE1Mzk=", "avatar_url": "https://avatars.githubusercontent.com/u/1711539?v=4", "gravatar_id": "", "url": "https://api.github.com/users/matklad", "html_url": "https://github.com/matklad", "followers_url": "https://api.github.com/users/matklad/followers", "following_url": "https://api.github.com/users/matklad/following{/other_user}", "gists_url": "https://api.github.com/users/matklad/gists{/gist_id}", "starred_url": "https://api.github.com/users/matklad/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/matklad/subscriptions", "organizations_url": "https://api.github.com/users/matklad/orgs", "repos_url": "https://api.github.com/users/matklad/repos", "events_url": "https://api.github.com/users/matklad/events{/privacy}", "received_events_url": "https://api.github.com/users/matklad/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "9bfeac708d33056b37d780b948cb1f117cac19af", "url": "https://api.github.com/repos/rust-lang/rust/commits/9bfeac708d33056b37d780b948cb1f117cac19af", "html_url": "https://github.com/rust-lang/rust/commit/9bfeac708d33056b37d780b948cb1f117cac19af"}], "stats": {"total": 41, "additions": 18, "deletions": 23}, "files": [{"sha": "46d55e32d0f14ff9a4f172f1d12bc5c1a368fd5f", "filename": "editors/code/package.json", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fpackage.json", "raw_url": "https://github.com/rust-lang/rust/raw/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fpackage.json", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fpackage.json?ref=ac3d0e83403be22ec31d62a1501d726f6e6f81e1", "patch": "@@ -19,7 +19,7 @@\n         \"vscode:prepublish\": \"rollup -c\",\n         \"package\": \"vsce package\",\n         \"watch\": \"tsc -watch -p ./\",\n-        \"prettier\": \"prettier --write **/*.ts\"\n+        \"prettier\": \"prettier --write '**/*.ts'\"\n     },\n     \"dependencies\": {\n         \"jsonc-parser\": \"^2.1.0\","}, {"sha": "830e40e8f9cae0aac9c29b4e1616263fe4c84b0d", "filename": "editors/code/src/commands/analyzer_status.ts", "status": "modified", "additions": 3, "deletions": 7, "changes": 10, "blob_url": "https://github.com/rust-lang/rust/blob/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Fanalyzer_status.ts", "raw_url": "https://github.com/rust-lang/rust/raw/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Fanalyzer_status.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Fanalyzer_status.ts?ref=ac3d0e83403be22ec31d62a1501d726f6e6f81e1", "patch": "@@ -23,10 +23,7 @@ export function analyzerStatus(ctx: Ctx): Cmd {\n \n     return async function handle() {\n         if (poller == null) {\n-            poller = setInterval(\n-                () => tdcp.eventEmitter.fire(tdcp.uri),\n-                1000,\n-            );\n+            poller = setInterval(() => tdcp.eventEmitter.fire(tdcp.uri), 1000);\n         }\n         const document = await vscode.workspace.openTextDocument(tdcp.uri);\n         return vscode.window.showTextDocument(\n@@ -39,13 +36,12 @@ export function analyzerStatus(ctx: Ctx): Cmd {\n \n class TextDocumentContentProvider\n     implements vscode.TextDocumentContentProvider {\n-\n-    ctx: Ctx\n+    ctx: Ctx;\n     uri = vscode.Uri.parse('rust-analyzer-status://status');\n     eventEmitter = new vscode.EventEmitter<vscode.Uri>();\n \n     constructor(ctx: Ctx) {\n-        this.ctx = ctx\n+        this.ctx = ctx;\n     }\n \n     provideTextDocumentContent("}, {"sha": "a7f3bc4c10f850ff27ad2da2fa215cb00c1c0735", "filename": "editors/code/src/commands/index.ts", "status": "modified", "additions": 5, "deletions": 3, "changes": 8, "blob_url": "https://github.com/rust-lang/rust/blob/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Findex.ts", "raw_url": "https://github.com/rust-lang/rust/raw/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Findex.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Findex.ts?ref=ac3d0e83403be22ec31d62a1501d726f6e6f81e1", "patch": "@@ -1,4 +1,4 @@\n-import { Ctx, Cmd } from '../ctx'\n+import { Ctx, Cmd } from '../ctx';\n \n import { analyzerStatus } from './analyzer_status';\n import { matchingBrace } from './matching_brace';\n@@ -11,7 +11,9 @@ import * as runnables from './runnables';\n import * as syntaxTree from './syntaxTree';\n \n function collectGarbage(ctx: Ctx): Cmd {\n-    return async () => { ctx.client.sendRequest<null>('rust-analyzer/collectGarbage', null) }\n+    return async () => {\n+        ctx.client.sendRequest<null>('rust-analyzer/collectGarbage', null);\n+    };\n }\n \n export {\n@@ -24,5 +26,5 @@ export {\n     syntaxTree,\n     onEnter,\n     inlayHints,\n-    collectGarbage\n+    collectGarbage,\n };"}, {"sha": "e906759c1cdd4e276648c8f503f599dfaf20a4a5", "filename": "editors/code/src/commands/join_lines.ts", "status": "modified", "additions": 2, "deletions": 4, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Fjoin_lines.ts", "raw_url": "https://github.com/rust-lang/rust/raw/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Fjoin_lines.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Fjoin_lines.ts?ref=ac3d0e83403be22ec31d62a1501d726f6e6f81e1", "patch": "@@ -1,8 +1,6 @@\n import { Range, TextDocumentIdentifier } from 'vscode-languageclient';\n import { Ctx, Cmd } from '../ctx';\n-import {\n-    applySourceChange, SourceChange\n-} from '../source_change';\n+import { applySourceChange, SourceChange } from '../source_change';\n \n export function joinLines(ctx: Ctx): Cmd {\n     return async () => {\n@@ -18,7 +16,7 @@ export function joinLines(ctx: Ctx): Cmd {\n             request,\n         );\n         await applySourceChange(ctx, change);\n-    }\n+    };\n }\n \n interface JoinLinesParams {"}, {"sha": "a3febc5f425a10a272864c5b45a57344820f9e61", "filename": "editors/code/src/commands/matching_brace.ts", "status": "modified", "additions": 4, "deletions": 2, "changes": 6, "blob_url": "https://github.com/rust-lang/rust/blob/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Fmatching_brace.ts", "raw_url": "https://github.com/rust-lang/rust/raw/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Fmatching_brace.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Fmatching_brace.ts?ref=ac3d0e83403be22ec31d62a1501d726f6e6f81e1", "patch": "@@ -10,7 +10,9 @@ export function matchingBrace(ctx: Ctx): Cmd {\n         }\n         const request: FindMatchingBraceParams = {\n             textDocument: { uri: editor.document.uri.toString() },\n-            offsets: editor.selections.map(s => ctx.client.code2ProtocolConverter.asPosition(s.active)),\n+            offsets: editor.selections.map(s =>\n+                ctx.client.code2ProtocolConverter.asPosition(s.active),\n+            ),\n         };\n         const response = await ctx.client.sendRequest<Position[]>(\n             'rust-analyzer/findMatchingBrace',\n@@ -24,7 +26,7 @@ export function matchingBrace(ctx: Ctx): Cmd {\n             return new vscode.Selection(anchor, active);\n         });\n         editor.revealRange(editor.selection);\n-    }\n+    };\n }\n \n interface FindMatchingBraceParams {"}, {"sha": "efc0dfe1d1a02fe11ba5f85f185e37be6e1bc357", "filename": "editors/code/src/commands/on_enter.ts", "status": "modified", "additions": 2, "deletions": 5, "changes": 7, "blob_url": "https://github.com/rust-lang/rust/blob/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Fon_enter.ts", "raw_url": "https://github.com/rust-lang/rust/raw/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Fon_enter.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Fon_enter.ts?ref=ac3d0e83403be22ec31d62a1501d726f6e6f81e1", "patch": "@@ -1,8 +1,5 @@\n import * as lc from 'vscode-languageclient';\n-import {\n-    applySourceChange,\n-    SourceChange,\n-} from '../source_change';\n+import { applySourceChange, SourceChange } from '../source_change';\n import { Cmd, Ctx } from '../ctx';\n \n export function onEnter(ctx: Ctx): Cmd {\n@@ -24,5 +21,5 @@ export function onEnter(ctx: Ctx): Cmd {\n \n         await applySourceChange(ctx, change);\n         return true;\n-    }\n+    };\n }"}, {"sha": "d641181fa88f96db288894febd25821810e9b39c", "filename": "editors/code/src/commands/parent_module.ts", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Fparent_module.ts", "raw_url": "https://github.com/rust-lang/rust/raw/ac3d0e83403be22ec31d62a1501d726f6e6f81e1/editors%2Fcode%2Fsrc%2Fcommands%2Fparent_module.ts", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/editors%2Fcode%2Fsrc%2Fcommands%2Fparent_module.ts?ref=ac3d0e83403be22ec31d62a1501d726f6e6f81e1", "patch": "@@ -28,5 +28,5 @@ export function parentModule(ctx: Ctx): Cmd {\n         const e = await vscode.window.showTextDocument(doc);\n         e.selection = new vscode.Selection(range.start, range.start);\n         e.revealRange(range, vscode.TextEditorRevealType.InCenter);\n-    }\n+    };\n }"}]}