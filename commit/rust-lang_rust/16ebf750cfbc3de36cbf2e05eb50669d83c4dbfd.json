{"sha": "16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd", "node_id": "MDY6Q29tbWl0NzI0NzEyOjE2ZWJmNzUwY2ZiYzNkZTM2Y2JmMmUwNWViNTA2NjlkODNjNGRiZmQ=", "commit": {"author": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2020-10-01T04:30:07Z"}, "committer": {"name": "Josh Triplett", "email": "josh@joshtriplett.org", "date": "2020-10-05T05:12:07Z"}, "message": "Update libc to 0.2.79\n\nThis also fixes issues with inconsistent `unsafe` on functions.", "tree": {"sha": "0ba09fa586c6607d774fa669c853ef366dc6abc7", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/0ba09fa586c6607d774fa669c853ef366dc6abc7"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd", "html_url": "https://github.com/rust-lang/rust/commit/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd/comments", "author": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "committer": {"login": "joshtriplett", "id": 162737, "node_id": "MDQ6VXNlcjE2MjczNw==", "avatar_url": "https://avatars.githubusercontent.com/u/162737?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joshtriplett", "html_url": "https://github.com/joshtriplett", "followers_url": "https://api.github.com/users/joshtriplett/followers", "following_url": "https://api.github.com/users/joshtriplett/following{/other_user}", "gists_url": "https://api.github.com/users/joshtriplett/gists{/gist_id}", "starred_url": "https://api.github.com/users/joshtriplett/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joshtriplett/subscriptions", "organizations_url": "https://api.github.com/users/joshtriplett/orgs", "repos_url": "https://api.github.com/users/joshtriplett/repos", "events_url": "https://api.github.com/users/joshtriplett/events{/privacy}", "received_events_url": "https://api.github.com/users/joshtriplett/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "efbaa413061c2a6e52f06f00a60ee7830fcf3ea5", "url": "https://api.github.com/repos/rust-lang/rust/commits/efbaa413061c2a6e52f06f00a60ee7830fcf3ea5", "html_url": "https://github.com/rust-lang/rust/commit/efbaa413061c2a6e52f06f00a60ee7830fcf3ea5"}], "stats": {"total": 34, "additions": 7, "deletions": 27}, "files": [{"sha": "5821dc9711d7a91aebcaa78c8789e3f55ef0a6d0", "filename": "Cargo.lock", "status": "modified", "additions": 2, "deletions": 2, "changes": 4, "blob_url": "https://github.com/rust-lang/rust/blob/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd/Cargo.lock", "raw_url": "https://github.com/rust-lang/rust/raw/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd/Cargo.lock", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/Cargo.lock?ref=16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd", "patch": "@@ -1660,9 +1660,9 @@ checksum = \"830d08ce1d1d941e6b30645f1a0eb5643013d835ce3779a5fc208261dbe10f55\"\n \n [[package]]\n name = \"libc\"\n-version = \"0.2.77\"\n+version = \"0.2.79\"\n source = \"registry+https://github.com/rust-lang/crates.io-index\"\n-checksum = \"f2f96b10ec2560088a8e76961b00d47107b3a625fecb76dedb29ee7ccbf98235\"\n+checksum = \"2448f6066e80e3bfc792e9c98bf705b4b0fc6e8ef5b43e5889aff0eaa9c58743\"\n dependencies = [\n  \"rustc-std-workspace-core\",\n ]"}, {"sha": "c08828bc0cde9024a8a0a41f1d8cba3f2fd98000", "filename": "library/std/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd/library%2Fstd%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd/library%2Fstd%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2FCargo.toml?ref=16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd", "patch": "@@ -16,7 +16,7 @@ cfg-if = { version = \"0.1.8\", features = ['rustc-dep-of-std'] }\n panic_unwind = { path = \"../panic_unwind\", optional = true }\n panic_abort = { path = \"../panic_abort\" }\n core = { path = \"../core\" }\n-libc = { version = \"0.2.77\", default-features = false, features = ['rustc-dep-of-std'] }\n+libc = { version = \"0.2.79\", default-features = false, features = ['rustc-dep-of-std'] }\n compiler_builtins = { version = \"0.1.35\" }\n profiler_builtins = { path = \"../profiler_builtins\", optional = true }\n unwind = { path = \"../unwind\" }"}, {"sha": "eb600d2465ca02c225aa5f86aa1a76c110411dfe", "filename": "library/std/src/sys/unix/process/process_unix.rs", "status": "modified", "additions": 3, "deletions": 23, "changes": 26, "blob_url": "https://github.com/rust-lang/rust/blob/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix.rs", "raw_url": "https://github.com/rust-lang/rust/raw/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Fstd%2Fsrc%2Fsys%2Funix%2Fprocess%2Fprocess_unix.rs?ref=16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd", "patch": "@@ -461,39 +461,19 @@ impl ExitStatus {\n     }\n \n     fn exited(&self) -> bool {\n-        // On Linux-like OSes this function is safe, on others it is not. See\n-        // libc issue: https://github.com/rust-lang/libc/issues/1888.\n-        #[cfg_attr(\n-            any(target_os = \"linux\", target_os = \"android\", target_os = \"emscripten\"),\n-            allow(unused_unsafe)\n-        )]\n-        unsafe {\n-            libc::WIFEXITED(self.0)\n-        }\n+        libc::WIFEXITED(self.0)\n     }\n \n     pub fn success(&self) -> bool {\n         self.code() == Some(0)\n     }\n \n     pub fn code(&self) -> Option<i32> {\n-        // On Linux-like OSes this function is safe, on others it is not. See\n-        // libc issue: https://github.com/rust-lang/libc/issues/1888.\n-        #[cfg_attr(\n-            any(target_os = \"linux\", target_os = \"android\", target_os = \"emscripten\"),\n-            allow(unused_unsafe)\n-        )]\n-        if self.exited() { Some(unsafe { libc::WEXITSTATUS(self.0) }) } else { None }\n+        if self.exited() { Some(libc::WEXITSTATUS(self.0)) } else { None }\n     }\n \n     pub fn signal(&self) -> Option<i32> {\n-        // On Linux-like OSes this function is safe, on others it is not. See\n-        // libc issue: https://github.com/rust-lang/libc/issues/1888.\n-        #[cfg_attr(\n-            any(target_os = \"linux\", target_os = \"android\", target_os = \"emscripten\"),\n-            allow(unused_unsafe)\n-        )]\n-        if !self.exited() { Some(unsafe { libc::WTERMSIG(self.0) }) } else { None }\n+        if !self.exited() { Some(libc::WTERMSIG(self.0)) } else { None }\n     }\n }\n "}, {"sha": "7138d0c8fea6d4713aacf5c6c042cf5ebb34210c", "filename": "library/unwind/Cargo.toml", "status": "modified", "additions": 1, "deletions": 1, "changes": 2, "blob_url": "https://github.com/rust-lang/rust/blob/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd/library%2Funwind%2FCargo.toml", "raw_url": "https://github.com/rust-lang/rust/raw/16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd/library%2Funwind%2FCargo.toml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/library%2Funwind%2FCargo.toml?ref=16ebf750cfbc3de36cbf2e05eb50669d83c4dbfd", "patch": "@@ -14,7 +14,7 @@ doc = false\n \n [dependencies]\n core = { path = \"../core\" }\n-libc = { version = \"0.2.51\", features = ['rustc-dep-of-std'], default-features = false }\n+libc = { version = \"0.2.79\", features = ['rustc-dep-of-std'], default-features = false }\n compiler_builtins = \"0.1.0\"\n cfg-if = \"0.1.8\"\n "}]}