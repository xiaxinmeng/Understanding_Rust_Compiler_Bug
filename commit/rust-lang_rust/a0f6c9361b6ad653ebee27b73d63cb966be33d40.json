{"sha": "a0f6c9361b6ad653ebee27b73d63cb966be33d40", "node_id": "MDY6Q29tbWl0NzI0NzEyOmEwZjZjOTM2MWI2YWQ2NTNlYmVlMjdiNzNkNjNjYjk2NmJlMzNkNDA=", "commit": {"author": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-04-25T13:45:52Z"}, "committer": {"name": "flip1995", "email": "hello@philkrones.com", "date": "2019-07-15T17:39:58Z"}, "message": "Check PRs for changelog entry in the body", "tree": {"sha": "5ef9a7e20616163fa0ad3329f40148f8390a77df", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/5ef9a7e20616163fa0ad3329f40148f8390a77df"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/a0f6c9361b6ad653ebee27b73d63cb966be33d40", "comment_count": 0, "verification": {"verified": true, "reason": "valid", "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIyBAABCAAdFiEEZxoS6lESXlRGMHWcaTCGhp1QZjcFAl0sum4ACgkQaTCGhp1Q\nZjfF5A/3f3RB7d98rZOC9u6gsU6ijO6FwpsG/3at7V0x86TB/mZtHX5uzJjyoGcg\nvjkyXtv38Rcq+YQphJEjhJtumLi1IDYtOxFhQJiN4zcZPztbIJZb5tCScfma0jMi\nvEmUODy+ZKPq+vEjuPONcEgiiN3IW8xs3/fFzr20SvJBGKvbFiKFb/SHAUlruREd\n9PRRUK+je/Ed3b957jj3dccR0gTzSTTphyBEYcH/TDc/f08352GzvSRexO6KOjlI\n2ftYkfe9ULAg4uCffmGqR2Xsx4tNHlOeckfS4c0x9J5DoSbR9wxtkuOZbiIYA8Z3\nnF9ZXj0nOKuI+6hrGf1fwIo6QC+pAh8AgkGs9V6qmzSw0K25x+Fj7yOXJjWZ4qUw\n8wH1x/sHQ+x8EOPuiHrgNYx/OAhqe5w63iMITB5M0A53ALupNJgseY2UsuOVlT+l\nvwurlTp1mIXu5v9KpRP0Xs8+u5x5BMYKT+gN3Lsxe14isFWnvN6Cmnh87HELV6tw\njMRw2fTr/g68oU/fMeW7WptbJrJVibdXKfnlCHimOxn+76QDGE/TPub6PZ6UsWxk\n4339KEXfCHy5YISMftzEwuE9OIuyl/Ewhc1OJzgiF8ODG7NjrVwX6ZRTo9EDJ6T+\n8r/lb5vxbOkWSMOdWuD6VHnWx047ImsALBey8rfD6RQHO1NGmw==\n=3zfQ\n-----END PGP SIGNATURE-----", "payload": "tree 5ef9a7e20616163fa0ad3329f40148f8390a77df\nparent a73bb33399fcf5684450a2088fc961cf9aa0285b\nauthor flip1995 <hello@philkrones.com> 1556199952 +0200\ncommitter flip1995 <hello@philkrones.com> 1563212398 +0200\n\nCheck PRs for changelog entry in the body\n"}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/a0f6c9361b6ad653ebee27b73d63cb966be33d40", "html_url": "https://github.com/rust-lang/rust/commit/a0f6c9361b6ad653ebee27b73d63cb966be33d40", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/a0f6c9361b6ad653ebee27b73d63cb966be33d40/comments", "author": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "committer": {"login": "flip1995", "id": 9744647, "node_id": "MDQ6VXNlcjk3NDQ2NDc=", "avatar_url": "https://avatars.githubusercontent.com/u/9744647?v=4", "gravatar_id": "", "url": "https://api.github.com/users/flip1995", "html_url": "https://github.com/flip1995", "followers_url": "https://api.github.com/users/flip1995/followers", "following_url": "https://api.github.com/users/flip1995/following{/other_user}", "gists_url": "https://api.github.com/users/flip1995/gists{/gist_id}", "starred_url": "https://api.github.com/users/flip1995/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/flip1995/subscriptions", "organizations_url": "https://api.github.com/users/flip1995/orgs", "repos_url": "https://api.github.com/users/flip1995/repos", "events_url": "https://api.github.com/users/flip1995/events{/privacy}", "received_events_url": "https://api.github.com/users/flip1995/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "a73bb33399fcf5684450a2088fc961cf9aa0285b", "url": "https://api.github.com/repos/rust-lang/rust/commits/a73bb33399fcf5684450a2088fc961cf9aa0285b", "html_url": "https://github.com/rust-lang/rust/commit/a73bb33399fcf5684450a2088fc961cf9aa0285b"}], "stats": {"total": 13, "additions": 13, "deletions": 0}, "files": [{"sha": "ba8fad5f317710a2c60d8b0f7f2513e6acc38deb", "filename": ".travis.yml", "status": "modified", "additions": 13, "deletions": 0, "changes": 13, "blob_url": "https://github.com/rust-lang/rust/blob/a0f6c9361b6ad653ebee27b73d63cb966be33d40/.travis.yml", "raw_url": "https://github.com/rust-lang/rust/raw/a0f6c9361b6ad653ebee27b73d63cb966be33d40/.travis.yml", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/.travis.yml?ref=a0f6c9361b6ad653ebee27b73d63cb966be33d40", "patch": "@@ -88,6 +88,19 @@ matrix:\n     - os: windows\n \n script:\n+  - |\n+    if [ \"$TRAVIS_BRANCH\" == \"auto\" ] || [ \"$TRAVIS_BRANCH\" == \"try\" ]; then\n+      output=$(curl -s \"https://api.github.com/repos/rust-lang/rust-clippy/pulls/$TRAVIS_PULL_REQUEST\" | \\\n+        python -c \"import sys, json; print(json.load(sys.stdin)['body'])\" | \\\n+        grep \"changelog: \" | \\\n+        sed \"s/changelog: //g\")\n+      if [ -z \"$output\" ]; then\n+        echo \"ERROR: PR body must contain 'changelog: ...'\"\n+        exit 1\n+      elif [ \"$output\" = \"none\" ]; then\n+        echo \"WARNING: changelog is 'none'\"\n+      fi\n+    fi\n   - |\n       rm rust-toolchain\n       ./setup-toolchain.sh"}]}