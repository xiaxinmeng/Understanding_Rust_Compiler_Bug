{"sha": "11fefeb61c959c6a964120036992aed34f9d4282", "node_id": "MDY6Q29tbWl0NzI0NzEyOjExZmVmZWI2MWM5NTljNmE5NjQxMjAwMzY5OTJhZWQzNGY5ZDQyODI=", "commit": {"author": {"name": "Scott McMurray", "email": "scottmcm@users.noreply.github.com", "date": "2018-03-01T10:17:50Z"}, "committer": {"name": "Scott McMurray", "email": "scottmcm@users.noreply.github.com", "date": "2018-03-01T10:17:50Z"}, "message": "Add a Zip::nth test for side effects", "tree": {"sha": "3b9375c109dbe9532f66a6100d263ad4f116d54f", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/3b9375c109dbe9532f66a6100d263ad4f116d54f"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/11fefeb61c959c6a964120036992aed34f9d4282", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/11fefeb61c959c6a964120036992aed34f9d4282", "html_url": "https://github.com/rust-lang/rust/commit/11fefeb61c959c6a964120036992aed34f9d4282", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/11fefeb61c959c6a964120036992aed34f9d4282/comments", "author": {"login": "scottmcm", "id": 18526288, "node_id": "MDQ6VXNlcjE4NTI2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottmcm", "html_url": "https://github.com/scottmcm", "followers_url": "https://api.github.com/users/scottmcm/followers", "following_url": "https://api.github.com/users/scottmcm/following{/other_user}", "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions", "organizations_url": "https://api.github.com/users/scottmcm/orgs", "repos_url": "https://api.github.com/users/scottmcm/repos", "events_url": "https://api.github.com/users/scottmcm/events{/privacy}", "received_events_url": "https://api.github.com/users/scottmcm/received_events", "type": "User", "site_admin": false}, "committer": {"login": "scottmcm", "id": 18526288, "node_id": "MDQ6VXNlcjE4NTI2Mjg4", "avatar_url": "https://avatars.githubusercontent.com/u/18526288?v=4", "gravatar_id": "", "url": "https://api.github.com/users/scottmcm", "html_url": "https://github.com/scottmcm", "followers_url": "https://api.github.com/users/scottmcm/followers", "following_url": "https://api.github.com/users/scottmcm/following{/other_user}", "gists_url": "https://api.github.com/users/scottmcm/gists{/gist_id}", "starred_url": "https://api.github.com/users/scottmcm/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/scottmcm/subscriptions", "organizations_url": "https://api.github.com/users/scottmcm/orgs", "repos_url": "https://api.github.com/users/scottmcm/repos", "events_url": "https://api.github.com/users/scottmcm/events{/privacy}", "received_events_url": "https://api.github.com/users/scottmcm/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "70d5a4600b21451aa98b447cd59384d86e2eadce", "url": "https://api.github.com/repos/rust-lang/rust/commits/70d5a4600b21451aa98b447cd59384d86e2eadce", "html_url": "https://github.com/rust-lang/rust/commit/70d5a4600b21451aa98b447cd59384d86e2eadce"}], "stats": {"total": 20, "additions": 20, "deletions": 0}, "files": [{"sha": "a962efadd64e9aed3cca29088bd9cee74ec2823c", "filename": "src/libcore/tests/iter.rs", "status": "modified", "additions": 20, "deletions": 0, "changes": 20, "blob_url": "https://github.com/rust-lang/rust/blob/11fefeb61c959c6a964120036992aed34f9d4282/src%2Flibcore%2Ftests%2Fiter.rs", "raw_url": "https://github.com/rust-lang/rust/raw/11fefeb61c959c6a964120036992aed34f9d4282/src%2Flibcore%2Ftests%2Fiter.rs", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibcore%2Ftests%2Fiter.rs?ref=11fefeb61c959c6a964120036992aed34f9d4282", "patch": "@@ -161,6 +161,26 @@ fn test_zip_nth() {\n     assert_eq!(it.nth(3), None);\n }\n \n+#[test]\n+fn test_zip_nth_side_effects() {\n+    let mut a = Vec::new();\n+    let mut b = Vec::new();\n+    let value = [1, 2, 3, 4, 5, 6].iter().cloned()\n+        .map(|n| {\n+            a.push(n);\n+            n * 10\n+        })\n+        .zip([2, 3, 4, 5, 6, 7, 8].iter().cloned().map(|n| {\n+            b.push(n * 100);\n+            n * 1000\n+        }))\n+        .skip(1)\n+        .nth(3);\n+    assert_eq!(value, Some((50, 6000)));\n+    assert_eq!(a, vec![1, 2, 3, 4, 5]);\n+    assert_eq!(b, vec![200, 300, 400, 500, 600]);\n+}\n+\n #[test]\n fn test_iterator_step_by() {\n     // Identity"}]}