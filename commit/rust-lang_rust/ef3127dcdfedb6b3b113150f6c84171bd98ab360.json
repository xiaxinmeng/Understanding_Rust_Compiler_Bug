{"sha": "ef3127dcdfedb6b3b113150f6c84171bd98ab360", "node_id": "MDY6Q29tbWl0NzI0NzEyOmVmMzEyN2RjZGZlZGI2YjNiMTEzMTUwZjZjODQxNzFiZDk4YWIzNjA=", "commit": {"author": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-01-25T11:54:25Z"}, "committer": {"name": "Guillaume Gomez", "email": "guillaume1.gomez@gmail.com", "date": "2021-01-25T11:54:25Z"}, "message": "Completely remove search query parameter when clearing search input", "tree": {"sha": "d4c8c8e7732ee8a7ba5a93c63d4a0c06f87eb30e", "url": "https://api.github.com/repos/rust-lang/rust/git/trees/d4c8c8e7732ee8a7ba5a93c63d4a0c06f87eb30e"}, "url": "https://api.github.com/repos/rust-lang/rust/git/commits/ef3127dcdfedb6b3b113150f6c84171bd98ab360", "comment_count": 0, "verification": {"verified": false, "reason": "unsigned", "signature": null, "payload": null}}, "url": "https://api.github.com/repos/rust-lang/rust/commits/ef3127dcdfedb6b3b113150f6c84171bd98ab360", "html_url": "https://github.com/rust-lang/rust/commit/ef3127dcdfedb6b3b113150f6c84171bd98ab360", "comments_url": "https://api.github.com/repos/rust-lang/rust/commits/ef3127dcdfedb6b3b113150f6c84171bd98ab360/comments", "author": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "committer": {"login": "GuillaumeGomez", "id": 3050060, "node_id": "MDQ6VXNlcjMwNTAwNjA=", "avatar_url": "https://avatars.githubusercontent.com/u/3050060?v=4", "gravatar_id": "", "url": "https://api.github.com/users/GuillaumeGomez", "html_url": "https://github.com/GuillaumeGomez", "followers_url": "https://api.github.com/users/GuillaumeGomez/followers", "following_url": "https://api.github.com/users/GuillaumeGomez/following{/other_user}", "gists_url": "https://api.github.com/users/GuillaumeGomez/gists{/gist_id}", "starred_url": "https://api.github.com/users/GuillaumeGomez/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/GuillaumeGomez/subscriptions", "organizations_url": "https://api.github.com/users/GuillaumeGomez/orgs", "repos_url": "https://api.github.com/users/GuillaumeGomez/repos", "events_url": "https://api.github.com/users/GuillaumeGomez/events{/privacy}", "received_events_url": "https://api.github.com/users/GuillaumeGomez/received_events", "type": "User", "site_admin": false}, "parents": [{"sha": "72c7b7026742766998655eba95fca984046c0288", "url": "https://api.github.com/repos/rust-lang/rust/commits/72c7b7026742766998655eba95fca984046c0288", "html_url": "https://github.com/rust-lang/rust/commit/72c7b7026742766998655eba95fca984046c0288"}], "stats": {"total": 3, "additions": 2, "deletions": 1}, "files": [{"sha": "5606a1d5170e9ce65d1955137eaa91332a48d418", "filename": "src/librustdoc/html/static/main.js", "status": "modified", "additions": 2, "deletions": 1, "changes": 3, "blob_url": "https://github.com/rust-lang/rust/blob/ef3127dcdfedb6b3b113150f6c84171bd98ab360/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "raw_url": "https://github.com/rust-lang/rust/raw/ef3127dcdfedb6b3b113150f6c84171bd98ab360/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js", "contents_url": "https://api.github.com/repos/rust-lang/rust/contents/src%2Flibrustdoc%2Fhtml%2Fstatic%2Fmain.js?ref=ef3127dcdfedb6b3b113150f6c84171bd98ab360", "patch": "@@ -1925,7 +1925,8 @@ function defocusSearchBar() {\n                 clearInputTimeout();\n                 if (search_input.value.length === 0) {\n                     if (browserSupportsHistoryApi()) {\n-                        history.replaceState(\"\", window.currentCrate + \" - Rust\", \"?search=\");\n+                        history.replaceState(\"\", window.currentCrate + \" - Rust\",\n+                            window.location.href.split(\"?\")[0]);\n                     }\n                     hideSearchResults();\n                 } else {"}]}